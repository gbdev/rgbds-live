function ki(te,Q){for(var f=0;f<Q.length;f++){const B=Q[f];if(typeof B!="string"&&!Array.isArray(B)){for(const z in B)if(z!=="default"&&!(z in te)){const M=Object.getOwnPropertyDescriptor(B,z);M&&Object.defineProperty(te,z,M.get?M:{enumerable:!0,get:()=>B[z]})}}}return Object.freeze(Object.defineProperty(te,Symbol.toStringTag,{value:"Module"}))}(function(){const Q=document.createElement("link").relList;if(Q&&Q.supports&&Q.supports("modulepreload"))return;for(const z of document.querySelectorAll('link[rel="modulepreload"]'))B(z);new MutationObserver(z=>{for(const M of z)if(M.type==="childList")for(const b of M.addedNodes)b.tagName==="LINK"&&b.rel==="modulepreload"&&B(b)}).observe(document,{childList:!0,subtree:!0});function f(z){const M={};return z.integrity&&(M.integrity=z.integrity),z.referrerPolicy&&(M.referrerPolicy=z.referrerPolicy),z.crossOrigin==="use-credentials"?M.credentials="include":z.crossOrigin==="anonymous"?M.credentials="omit":M.credentials="same-origin",M}function B(z){if(z.ep)return;z.ep=!0;const M=f(z);fetch(z.href,M)}})();var Fn=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function vr(te){return te&&te.__esModule&&Object.prototype.hasOwnProperty.call(te,"default")?te.default:te}function Nn(te){throw new Error('Could not dynamically require "'+te+'". Please configure the dynamicRequireTargets or/and ignoreDynamicRequires option of @rollup/plugin-commonjs appropriately for this require call to work.')}var Qn={exports:{}};/*!

JSZip v3.10.1 - A JavaScript class for generating and reading zip files
<http://stuartk.com/jszip>

(c) 2009-2016 Stuart Knightley <stuart [at] stuartk.com>
Dual licenced under the MIT license or GPLv3. See https://raw.github.com/Stuk/jszip/main/LICENSE.markdown.

JSZip uses the library pako released under the MIT license :
https://github.com/nodeca/pako/blob/main/LICENSE
*/var Lr;function Bi(){return Lr||(Lr=1,function(te,Q){(function(f){te.exports=f()})(function(){return function f(B,z,M){function b(d,o){if(!z[d]){if(!B[d]){var n=typeof Nn=="function"&&Nn;if(!o&&n)return n(d,!0);if(_)return _(d,!0);var i=new Error("Cannot find module '"+d+"'");throw i.code="MODULE_NOT_FOUND",i}var t=z[d]={exports:{}};B[d][0].call(t.exports,function(e){var r=B[d][1][e];return b(r||e)},t,t.exports,f,B,z,M)}return z[d].exports}for(var _=typeof Nn=="function"&&Nn,s=0;s<M.length;s++)b(M[s]);return b}({1:[function(f,B,z){var M=f("./utils"),b=f("./support"),_="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=";z.encode=function(s){for(var d,o,n,i,t,e,r,a=[],c=0,h=s.length,$=h,v=M.getTypeOf(s)!=="string";c<s.length;)$=h-c,n=v?(d=s[c++],o=c<h?s[c++]:0,c<h?s[c++]:0):(d=s.charCodeAt(c++),o=c<h?s.charCodeAt(c++):0,c<h?s.charCodeAt(c++):0),i=d>>2,t=(3&d)<<4|o>>4,e=1<$?(15&o)<<2|n>>6:64,r=2<$?63&n:64,a.push(_.charAt(i)+_.charAt(t)+_.charAt(e)+_.charAt(r));return a.join("")},z.decode=function(s){var d,o,n,i,t,e,r=0,a=0,c="data:";if(s.substr(0,c.length)===c)throw new Error("Invalid base64 input, it looks like a data url.");var h,$=3*(s=s.replace(/[^A-Za-z0-9+/=]/g,"")).length/4;if(s.charAt(s.length-1)===_.charAt(64)&&$--,s.charAt(s.length-2)===_.charAt(64)&&$--,$%1!=0)throw new Error("Invalid base64 input, bad content length.");for(h=b.uint8array?new Uint8Array(0|$):new Array(0|$);r<s.length;)d=_.indexOf(s.charAt(r++))<<2|(i=_.indexOf(s.charAt(r++)))>>4,o=(15&i)<<4|(t=_.indexOf(s.charAt(r++)))>>2,n=(3&t)<<6|(e=_.indexOf(s.charAt(r++))),h[a++]=d,t!==64&&(h[a++]=o),e!==64&&(h[a++]=n);return h}},{"./support":30,"./utils":32}],2:[function(f,B,z){var M=f("./external"),b=f("./stream/DataWorker"),_=f("./stream/Crc32Probe"),s=f("./stream/DataLengthProbe");function d(o,n,i,t,e){this.compressedSize=o,this.uncompressedSize=n,this.crc32=i,this.compression=t,this.compressedContent=e}d.prototype={getContentWorker:function(){var o=new b(M.Promise.resolve(this.compressedContent)).pipe(this.compression.uncompressWorker()).pipe(new s("data_length")),n=this;return o.on("end",function(){if(this.streamInfo.data_length!==n.uncompressedSize)throw new Error("Bug : uncompressed data size mismatch")}),o},getCompressedWorker:function(){return new b(M.Promise.resolve(this.compressedContent)).withStreamInfo("compressedSize",this.compressedSize).withStreamInfo("uncompressedSize",this.uncompressedSize).withStreamInfo("crc32",this.crc32).withStreamInfo("compression",this.compression)}},d.createWorkerFrom=function(o,n,i){return o.pipe(new _).pipe(new s("uncompressedSize")).pipe(n.compressWorker(i)).pipe(new s("compressedSize")).withStreamInfo("compression",n)},B.exports=d},{"./external":6,"./stream/Crc32Probe":25,"./stream/DataLengthProbe":26,"./stream/DataWorker":27}],3:[function(f,B,z){var M=f("./stream/GenericWorker");z.STORE={magic:"\0\0",compressWorker:function(){return new M("STORE compression")},uncompressWorker:function(){return new M("STORE decompression")}},z.DEFLATE=f("./flate")},{"./flate":7,"./stream/GenericWorker":28}],4:[function(f,B,z){var M=f("./utils"),b=function(){for(var _,s=[],d=0;d<256;d++){_=d;for(var o=0;o<8;o++)_=1&_?3988292384^_>>>1:_>>>1;s[d]=_}return s}();B.exports=function(_,s){return _!==void 0&&_.length?M.getTypeOf(_)!=="string"?function(d,o,n,i){var t=b,e=i+n;d^=-1;for(var r=i;r<e;r++)d=d>>>8^t[255&(d^o[r])];return-1^d}(0|s,_,_.length,0):function(d,o,n,i){var t=b,e=i+n;d^=-1;for(var r=i;r<e;r++)d=d>>>8^t[255&(d^o.charCodeAt(r))];return-1^d}(0|s,_,_.length,0):0}},{"./utils":32}],5:[function(f,B,z){z.base64=!1,z.binary=!1,z.dir=!1,z.createFolders=!0,z.date=null,z.compression=null,z.compressionOptions=null,z.comment=null,z.unixPermissions=null,z.dosPermissions=null},{}],6:[function(f,B,z){var M=null;M=typeof Promise<"u"?Promise:f("lie"),B.exports={Promise:M}},{lie:37}],7:[function(f,B,z){var M=typeof Uint8Array<"u"&&typeof Uint16Array<"u"&&typeof Uint32Array<"u",b=f("pako"),_=f("./utils"),s=f("./stream/GenericWorker"),d=M?"uint8array":"array";function o(n,i){s.call(this,"FlateWorker/"+n),this._pako=null,this._pakoAction=n,this._pakoOptions=i,this.meta={}}z.magic="\b\0",_.inherits(o,s),o.prototype.processChunk=function(n){this.meta=n.meta,this._pako===null&&this._createPako(),this._pako.push(_.transformTo(d,n.data),!1)},o.prototype.flush=function(){s.prototype.flush.call(this),this._pako===null&&this._createPako(),this._pako.push([],!0)},o.prototype.cleanUp=function(){s.prototype.cleanUp.call(this),this._pako=null},o.prototype._createPako=function(){this._pako=new b[this._pakoAction]({raw:!0,level:this._pakoOptions.level||-1});var n=this;this._pako.onData=function(i){n.push({data:i,meta:n.meta})}},z.compressWorker=function(n){return new o("Deflate",n)},z.uncompressWorker=function(){return new o("Inflate",{})}},{"./stream/GenericWorker":28,"./utils":32,pako:38}],8:[function(f,B,z){function M(t,e){var r,a="";for(r=0;r<e;r++)a+=String.fromCharCode(255&t),t>>>=8;return a}function b(t,e,r,a,c,h){var $,v,p=t.file,u=t.compression,m=h!==d.utf8encode,E=_.transformTo("string",h(p.name)),C=_.transformTo("string",d.utf8encode(p.name)),R=p.comment,L=_.transformTo("string",h(R)),g=_.transformTo("string",d.utf8encode(R)),y=C.length!==p.name.length,l=g.length!==R.length,w="",k="",I="",G=p.dir,H=p.date,J={crc32:0,compressedSize:0,uncompressedSize:0};e&&!r||(J.crc32=t.crc32,J.compressedSize=t.compressedSize,J.uncompressedSize=t.uncompressedSize);var j=0;e&&(j|=8),m||!y&&!l||(j|=2048);var K=0,ie=0;G&&(K|=16),c==="UNIX"?(ie=798,K|=function(oe,fe){var Ee=oe;return oe||(Ee=fe?16893:33204),(65535&Ee)<<16}(p.unixPermissions,G)):(ie=20,K|=function(oe){return 63&(oe||0)}(p.dosPermissions)),$=H.getUTCHours(),$<<=6,$|=H.getUTCMinutes(),$<<=5,$|=H.getUTCSeconds()/2,v=H.getUTCFullYear()-1980,v<<=4,v|=H.getUTCMonth()+1,v<<=5,v|=H.getUTCDate(),y&&(k=M(1,1)+M(o(E),4)+C,w+="up"+M(k.length,2)+k),l&&(I=M(1,1)+M(o(L),4)+g,w+="uc"+M(I.length,2)+I);var ee="";return ee+=`
\0`,ee+=M(j,2),ee+=u.magic,ee+=M($,2),ee+=M(v,2),ee+=M(J.crc32,4),ee+=M(J.compressedSize,4),ee+=M(J.uncompressedSize,4),ee+=M(E.length,2),ee+=M(w.length,2),{fileRecord:n.LOCAL_FILE_HEADER+ee+E+w,dirRecord:n.CENTRAL_FILE_HEADER+M(ie,2)+ee+M(L.length,2)+"\0\0\0\0"+M(K,4)+M(a,4)+E+w+L}}var _=f("../utils"),s=f("../stream/GenericWorker"),d=f("../utf8"),o=f("../crc32"),n=f("../signature");function i(t,e,r,a){s.call(this,"ZipFileWorker"),this.bytesWritten=0,this.zipComment=e,this.zipPlatform=r,this.encodeFileName=a,this.streamFiles=t,this.accumulate=!1,this.contentBuffer=[],this.dirRecords=[],this.currentSourceOffset=0,this.entriesCount=0,this.currentFile=null,this._sources=[]}_.inherits(i,s),i.prototype.push=function(t){var e=t.meta.percent||0,r=this.entriesCount,a=this._sources.length;this.accumulate?this.contentBuffer.push(t):(this.bytesWritten+=t.data.length,s.prototype.push.call(this,{data:t.data,meta:{currentFile:this.currentFile,percent:r?(e+100*(r-a-1))/r:100}}))},i.prototype.openedSource=function(t){this.currentSourceOffset=this.bytesWritten,this.currentFile=t.file.name;var e=this.streamFiles&&!t.file.dir;if(e){var r=b(t,e,!1,this.currentSourceOffset,this.zipPlatform,this.encodeFileName);this.push({data:r.fileRecord,meta:{percent:0}})}else this.accumulate=!0},i.prototype.closedSource=function(t){this.accumulate=!1;var e=this.streamFiles&&!t.file.dir,r=b(t,e,!0,this.currentSourceOffset,this.zipPlatform,this.encodeFileName);if(this.dirRecords.push(r.dirRecord),e)this.push({data:function(a){return n.DATA_DESCRIPTOR+M(a.crc32,4)+M(a.compressedSize,4)+M(a.uncompressedSize,4)}(t),meta:{percent:100}});else for(this.push({data:r.fileRecord,meta:{percent:0}});this.contentBuffer.length;)this.push(this.contentBuffer.shift());this.currentFile=null},i.prototype.flush=function(){for(var t=this.bytesWritten,e=0;e<this.dirRecords.length;e++)this.push({data:this.dirRecords[e],meta:{percent:100}});var r=this.bytesWritten-t,a=function(c,h,$,v,p){var u=_.transformTo("string",p(v));return n.CENTRAL_DIRECTORY_END+"\0\0\0\0"+M(c,2)+M(c,2)+M(h,4)+M($,4)+M(u.length,2)+u}(this.dirRecords.length,r,t,this.zipComment,this.encodeFileName);this.push({data:a,meta:{percent:100}})},i.prototype.prepareNextSource=function(){this.previous=this._sources.shift(),this.openedSource(this.previous.streamInfo),this.isPaused?this.previous.pause():this.previous.resume()},i.prototype.registerPrevious=function(t){this._sources.push(t);var e=this;return t.on("data",function(r){e.processChunk(r)}),t.on("end",function(){e.closedSource(e.previous.streamInfo),e._sources.length?e.prepareNextSource():e.end()}),t.on("error",function(r){e.error(r)}),this},i.prototype.resume=function(){return!!s.prototype.resume.call(this)&&(!this.previous&&this._sources.length?(this.prepareNextSource(),!0):this.previous||this._sources.length||this.generatedError?void 0:(this.end(),!0))},i.prototype.error=function(t){var e=this._sources;if(!s.prototype.error.call(this,t))return!1;for(var r=0;r<e.length;r++)try{e[r].error(t)}catch{}return!0},i.prototype.lock=function(){s.prototype.lock.call(this);for(var t=this._sources,e=0;e<t.length;e++)t[e].lock()},B.exports=i},{"../crc32":4,"../signature":23,"../stream/GenericWorker":28,"../utf8":31,"../utils":32}],9:[function(f,B,z){var M=f("../compressions"),b=f("./ZipFileWorker");z.generateWorker=function(_,s,d){var o=new b(s.streamFiles,d,s.platform,s.encodeFileName),n=0;try{_.forEach(function(i,t){n++;var e=function(h,$){var v=h||$,p=M[v];if(!p)throw new Error(v+" is not a valid compression method !");return p}(t.options.compression,s.compression),r=t.options.compressionOptions||s.compressionOptions||{},a=t.dir,c=t.date;t._compressWorker(e,r).withStreamInfo("file",{name:i,dir:a,date:c,comment:t.comment||"",unixPermissions:t.unixPermissions,dosPermissions:t.dosPermissions}).pipe(o)}),o.entriesCount=n}catch(i){o.error(i)}return o}},{"../compressions":3,"./ZipFileWorker":8}],10:[function(f,B,z){function M(){if(!(this instanceof M))return new M;if(arguments.length)throw new Error("The constructor with parameters has been removed in JSZip 3.0, please check the upgrade guide.");this.files=Object.create(null),this.comment=null,this.root="",this.clone=function(){var b=new M;for(var _ in this)typeof this[_]!="function"&&(b[_]=this[_]);return b}}(M.prototype=f("./object")).loadAsync=f("./load"),M.support=f("./support"),M.defaults=f("./defaults"),M.version="3.10.1",M.loadAsync=function(b,_){return new M().loadAsync(b,_)},M.external=f("./external"),B.exports=M},{"./defaults":5,"./external":6,"./load":11,"./object":15,"./support":30}],11:[function(f,B,z){var M=f("./utils"),b=f("./external"),_=f("./utf8"),s=f("./zipEntries"),d=f("./stream/Crc32Probe"),o=f("./nodejsUtils");function n(i){return new b.Promise(function(t,e){var r=i.decompressed.getContentWorker().pipe(new d);r.on("error",function(a){e(a)}).on("end",function(){r.streamInfo.crc32!==i.decompressed.crc32?e(new Error("Corrupted zip : CRC32 mismatch")):t()}).resume()})}B.exports=function(i,t){var e=this;return t=M.extend(t||{},{base64:!1,checkCRC32:!1,optimizedBinaryString:!1,createFolders:!1,decodeFileName:_.utf8decode}),o.isNode&&o.isStream(i)?b.Promise.reject(new Error("JSZip can't accept a stream when loading a zip file.")):M.prepareContent("the loaded zip file",i,!0,t.optimizedBinaryString,t.base64).then(function(r){var a=new s(t);return a.load(r),a}).then(function(r){var a=[b.Promise.resolve(r)],c=r.files;if(t.checkCRC32)for(var h=0;h<c.length;h++)a.push(n(c[h]));return b.Promise.all(a)}).then(function(r){for(var a=r.shift(),c=a.files,h=0;h<c.length;h++){var $=c[h],v=$.fileNameStr,p=M.resolve($.fileNameStr);e.file(p,$.decompressed,{binary:!0,optimizedBinaryString:!0,date:$.date,dir:$.dir,comment:$.fileCommentStr.length?$.fileCommentStr:null,unixPermissions:$.unixPermissions,dosPermissions:$.dosPermissions,createFolders:t.createFolders}),$.dir||(e.file(p).unsafeOriginalName=v)}return a.zipComment.length&&(e.comment=a.zipComment),e})}},{"./external":6,"./nodejsUtils":14,"./stream/Crc32Probe":25,"./utf8":31,"./utils":32,"./zipEntries":33}],12:[function(f,B,z){var M=f("../utils"),b=f("../stream/GenericWorker");function _(s,d){b.call(this,"Nodejs stream input adapter for "+s),this._upstreamEnded=!1,this._bindStream(d)}M.inherits(_,b),_.prototype._bindStream=function(s){var d=this;(this._stream=s).pause(),s.on("data",function(o){d.push({data:o,meta:{percent:0}})}).on("error",function(o){d.isPaused?this.generatedError=o:d.error(o)}).on("end",function(){d.isPaused?d._upstreamEnded=!0:d.end()})},_.prototype.pause=function(){return!!b.prototype.pause.call(this)&&(this._stream.pause(),!0)},_.prototype.resume=function(){return!!b.prototype.resume.call(this)&&(this._upstreamEnded?this.end():this._stream.resume(),!0)},B.exports=_},{"../stream/GenericWorker":28,"../utils":32}],13:[function(f,B,z){var M=f("readable-stream").Readable;function b(_,s,d){M.call(this,s),this._helper=_;var o=this;_.on("data",function(n,i){o.push(n)||o._helper.pause(),d&&d(i)}).on("error",function(n){o.emit("error",n)}).on("end",function(){o.push(null)})}f("../utils").inherits(b,M),b.prototype._read=function(){this._helper.resume()},B.exports=b},{"../utils":32,"readable-stream":16}],14:[function(f,B,z){B.exports={isNode:typeof Buffer<"u",newBufferFrom:function(M,b){if(Buffer.from&&Buffer.from!==Uint8Array.from)return Buffer.from(M,b);if(typeof M=="number")throw new Error('The "data" argument must not be a number');return new Buffer(M,b)},allocBuffer:function(M){if(Buffer.alloc)return Buffer.alloc(M);var b=new Buffer(M);return b.fill(0),b},isBuffer:function(M){return Buffer.isBuffer(M)},isStream:function(M){return M&&typeof M.on=="function"&&typeof M.pause=="function"&&typeof M.resume=="function"}}},{}],15:[function(f,B,z){function M(p,u,m){var E,C=_.getTypeOf(u),R=_.extend(m||{},o);R.date=R.date||new Date,R.compression!==null&&(R.compression=R.compression.toUpperCase()),typeof R.unixPermissions=="string"&&(R.unixPermissions=parseInt(R.unixPermissions,8)),R.unixPermissions&&16384&R.unixPermissions&&(R.dir=!0),R.dosPermissions&&16&R.dosPermissions&&(R.dir=!0),R.dir&&(p=c(p)),R.createFolders&&(E=a(p))&&h.call(this,E,!0);var L=C==="string"&&R.binary===!1&&R.base64===!1;m&&m.binary!==void 0||(R.binary=!L),(u instanceof n&&u.uncompressedSize===0||R.dir||!u||u.length===0)&&(R.base64=!1,R.binary=!0,u="",R.compression="STORE",C="string");var g=null;g=u instanceof n||u instanceof s?u:e.isNode&&e.isStream(u)?new r(p,u):_.prepareContent(p,u,R.binary,R.optimizedBinaryString,R.base64);var y=new i(p,g,R);this.files[p]=y}var b=f("./utf8"),_=f("./utils"),s=f("./stream/GenericWorker"),d=f("./stream/StreamHelper"),o=f("./defaults"),n=f("./compressedObject"),i=f("./zipObject"),t=f("./generate"),e=f("./nodejsUtils"),r=f("./nodejs/NodejsStreamInputAdapter"),a=function(p){p.slice(-1)==="/"&&(p=p.substring(0,p.length-1));var u=p.lastIndexOf("/");return 0<u?p.substring(0,u):""},c=function(p){return p.slice(-1)!=="/"&&(p+="/"),p},h=function(p,u){return u=u!==void 0?u:o.createFolders,p=c(p),this.files[p]||M.call(this,p,null,{dir:!0,createFolders:u}),this.files[p]};function $(p){return Object.prototype.toString.call(p)==="[object RegExp]"}var v={load:function(){throw new Error("This method has been removed in JSZip 3.0, please check the upgrade guide.")},forEach:function(p){var u,m,E;for(u in this.files)E=this.files[u],(m=u.slice(this.root.length,u.length))&&u.slice(0,this.root.length)===this.root&&p(m,E)},filter:function(p){var u=[];return this.forEach(function(m,E){p(m,E)&&u.push(E)}),u},file:function(p,u,m){if(arguments.length!==1)return p=this.root+p,M.call(this,p,u,m),this;if($(p)){var E=p;return this.filter(function(R,L){return!L.dir&&E.test(R)})}var C=this.files[this.root+p];return C&&!C.dir?C:null},folder:function(p){if(!p)return this;if($(p))return this.filter(function(C,R){return R.dir&&p.test(C)});var u=this.root+p,m=h.call(this,u),E=this.clone();return E.root=m.name,E},remove:function(p){p=this.root+p;var u=this.files[p];if(u||(p.slice(-1)!=="/"&&(p+="/"),u=this.files[p]),u&&!u.dir)delete this.files[p];else for(var m=this.filter(function(C,R){return R.name.slice(0,p.length)===p}),E=0;E<m.length;E++)delete this.files[m[E].name];return this},generate:function(){throw new Error("This method has been removed in JSZip 3.0, please check the upgrade guide.")},generateInternalStream:function(p){var u,m={};try{if((m=_.extend(p||{},{streamFiles:!1,compression:"STORE",compressionOptions:null,type:"",platform:"DOS",comment:null,mimeType:"application/zip",encodeFileName:b.utf8encode})).type=m.type.toLowerCase(),m.compression=m.compression.toUpperCase(),m.type==="binarystring"&&(m.type="string"),!m.type)throw new Error("No output type specified.");_.checkSupport(m.type),m.platform!=="darwin"&&m.platform!=="freebsd"&&m.platform!=="linux"&&m.platform!=="sunos"||(m.platform="UNIX"),m.platform==="win32"&&(m.platform="DOS");var E=m.comment||this.comment||"";u=t.generateWorker(this,m,E)}catch(C){(u=new s("error")).error(C)}return new d(u,m.type||"string",m.mimeType)},generateAsync:function(p,u){return this.generateInternalStream(p).accumulate(u)},generateNodeStream:function(p,u){return(p=p||{}).type||(p.type="nodebuffer"),this.generateInternalStream(p).toNodejsStream(u)}};B.exports=v},{"./compressedObject":2,"./defaults":5,"./generate":9,"./nodejs/NodejsStreamInputAdapter":12,"./nodejsUtils":14,"./stream/GenericWorker":28,"./stream/StreamHelper":29,"./utf8":31,"./utils":32,"./zipObject":35}],16:[function(f,B,z){B.exports=f("stream")},{stream:void 0}],17:[function(f,B,z){var M=f("./DataReader");function b(_){M.call(this,_);for(var s=0;s<this.data.length;s++)_[s]=255&_[s]}f("../utils").inherits(b,M),b.prototype.byteAt=function(_){return this.data[this.zero+_]},b.prototype.lastIndexOfSignature=function(_){for(var s=_.charCodeAt(0),d=_.charCodeAt(1),o=_.charCodeAt(2),n=_.charCodeAt(3),i=this.length-4;0<=i;--i)if(this.data[i]===s&&this.data[i+1]===d&&this.data[i+2]===o&&this.data[i+3]===n)return i-this.zero;return-1},b.prototype.readAndCheckSignature=function(_){var s=_.charCodeAt(0),d=_.charCodeAt(1),o=_.charCodeAt(2),n=_.charCodeAt(3),i=this.readData(4);return s===i[0]&&d===i[1]&&o===i[2]&&n===i[3]},b.prototype.readData=function(_){if(this.checkOffset(_),_===0)return[];var s=this.data.slice(this.zero+this.index,this.zero+this.index+_);return this.index+=_,s},B.exports=b},{"../utils":32,"./DataReader":18}],18:[function(f,B,z){var M=f("../utils");function b(_){this.data=_,this.length=_.length,this.index=0,this.zero=0}b.prototype={checkOffset:function(_){this.checkIndex(this.index+_)},checkIndex:function(_){if(this.length<this.zero+_||_<0)throw new Error("End of data reached (data length = "+this.length+", asked index = "+_+"). Corrupted zip ?")},setIndex:function(_){this.checkIndex(_),this.index=_},skip:function(_){this.setIndex(this.index+_)},byteAt:function(){},readInt:function(_){var s,d=0;for(this.checkOffset(_),s=this.index+_-1;s>=this.index;s--)d=(d<<8)+this.byteAt(s);return this.index+=_,d},readString:function(_){return M.transformTo("string",this.readData(_))},readData:function(){},lastIndexOfSignature:function(){},readAndCheckSignature:function(){},readDate:function(){var _=this.readInt(4);return new Date(Date.UTC(1980+(_>>25&127),(_>>21&15)-1,_>>16&31,_>>11&31,_>>5&63,(31&_)<<1))}},B.exports=b},{"../utils":32}],19:[function(f,B,z){var M=f("./Uint8ArrayReader");function b(_){M.call(this,_)}f("../utils").inherits(b,M),b.prototype.readData=function(_){this.checkOffset(_);var s=this.data.slice(this.zero+this.index,this.zero+this.index+_);return this.index+=_,s},B.exports=b},{"../utils":32,"./Uint8ArrayReader":21}],20:[function(f,B,z){var M=f("./DataReader");function b(_){M.call(this,_)}f("../utils").inherits(b,M),b.prototype.byteAt=function(_){return this.data.charCodeAt(this.zero+_)},b.prototype.lastIndexOfSignature=function(_){return this.data.lastIndexOf(_)-this.zero},b.prototype.readAndCheckSignature=function(_){return _===this.readData(4)},b.prototype.readData=function(_){this.checkOffset(_);var s=this.data.slice(this.zero+this.index,this.zero+this.index+_);return this.index+=_,s},B.exports=b},{"../utils":32,"./DataReader":18}],21:[function(f,B,z){var M=f("./ArrayReader");function b(_){M.call(this,_)}f("../utils").inherits(b,M),b.prototype.readData=function(_){if(this.checkOffset(_),_===0)return new Uint8Array(0);var s=this.data.subarray(this.zero+this.index,this.zero+this.index+_);return this.index+=_,s},B.exports=b},{"../utils":32,"./ArrayReader":17}],22:[function(f,B,z){var M=f("../utils"),b=f("../support"),_=f("./ArrayReader"),s=f("./StringReader"),d=f("./NodeBufferReader"),o=f("./Uint8ArrayReader");B.exports=function(n){var i=M.getTypeOf(n);return M.checkSupport(i),i!=="string"||b.uint8array?i==="nodebuffer"?new d(n):b.uint8array?new o(M.transformTo("uint8array",n)):new _(M.transformTo("array",n)):new s(n)}},{"../support":30,"../utils":32,"./ArrayReader":17,"./NodeBufferReader":19,"./StringReader":20,"./Uint8ArrayReader":21}],23:[function(f,B,z){z.LOCAL_FILE_HEADER="PK",z.CENTRAL_FILE_HEADER="PK",z.CENTRAL_DIRECTORY_END="PK",z.ZIP64_CENTRAL_DIRECTORY_LOCATOR="PK\x07",z.ZIP64_CENTRAL_DIRECTORY_END="PK",z.DATA_DESCRIPTOR="PK\x07\b"},{}],24:[function(f,B,z){var M=f("./GenericWorker"),b=f("../utils");function _(s){M.call(this,"ConvertWorker to "+s),this.destType=s}b.inherits(_,M),_.prototype.processChunk=function(s){this.push({data:b.transformTo(this.destType,s.data),meta:s.meta})},B.exports=_},{"../utils":32,"./GenericWorker":28}],25:[function(f,B,z){var M=f("./GenericWorker"),b=f("../crc32");function _(){M.call(this,"Crc32Probe"),this.withStreamInfo("crc32",0)}f("../utils").inherits(_,M),_.prototype.processChunk=function(s){this.streamInfo.crc32=b(s.data,this.streamInfo.crc32||0),this.push(s)},B.exports=_},{"../crc32":4,"../utils":32,"./GenericWorker":28}],26:[function(f,B,z){var M=f("../utils"),b=f("./GenericWorker");function _(s){b.call(this,"DataLengthProbe for "+s),this.propName=s,this.withStreamInfo(s,0)}M.inherits(_,b),_.prototype.processChunk=function(s){if(s){var d=this.streamInfo[this.propName]||0;this.streamInfo[this.propName]=d+s.data.length}b.prototype.processChunk.call(this,s)},B.exports=_},{"../utils":32,"./GenericWorker":28}],27:[function(f,B,z){var M=f("../utils"),b=f("./GenericWorker");function _(s){b.call(this,"DataWorker");var d=this;this.dataIsReady=!1,this.index=0,this.max=0,this.data=null,this.type="",this._tickScheduled=!1,s.then(function(o){d.dataIsReady=!0,d.data=o,d.max=o&&o.length||0,d.type=M.getTypeOf(o),d.isPaused||d._tickAndRepeat()},function(o){d.error(o)})}M.inherits(_,b),_.prototype.cleanUp=function(){b.prototype.cleanUp.call(this),this.data=null},_.prototype.resume=function(){return!!b.prototype.resume.call(this)&&(!this._tickScheduled&&this.dataIsReady&&(this._tickScheduled=!0,M.delay(this._tickAndRepeat,[],this)),!0)},_.prototype._tickAndRepeat=function(){this._tickScheduled=!1,this.isPaused||this.isFinished||(this._tick(),this.isFinished||(M.delay(this._tickAndRepeat,[],this),this._tickScheduled=!0))},_.prototype._tick=function(){if(this.isPaused||this.isFinished)return!1;var s=null,d=Math.min(this.max,this.index+16384);if(this.index>=this.max)return this.end();switch(this.type){case"string":s=this.data.substring(this.index,d);break;case"uint8array":s=this.data.subarray(this.index,d);break;case"array":case"nodebuffer":s=this.data.slice(this.index,d)}return this.index=d,this.push({data:s,meta:{percent:this.max?this.index/this.max*100:0}})},B.exports=_},{"../utils":32,"./GenericWorker":28}],28:[function(f,B,z){function M(b){this.name=b||"default",this.streamInfo={},this.generatedError=null,this.extraStreamInfo={},this.isPaused=!0,this.isFinished=!1,this.isLocked=!1,this._listeners={data:[],end:[],error:[]},this.previous=null}M.prototype={push:function(b){this.emit("data",b)},end:function(){if(this.isFinished)return!1;this.flush();try{this.emit("end"),this.cleanUp(),this.isFinished=!0}catch(b){this.emit("error",b)}return!0},error:function(b){return!this.isFinished&&(this.isPaused?this.generatedError=b:(this.isFinished=!0,this.emit("error",b),this.previous&&this.previous.error(b),this.cleanUp()),!0)},on:function(b,_){return this._listeners[b].push(_),this},cleanUp:function(){this.streamInfo=this.generatedError=this.extraStreamInfo=null,this._listeners=[]},emit:function(b,_){if(this._listeners[b])for(var s=0;s<this._listeners[b].length;s++)this._listeners[b][s].call(this,_)},pipe:function(b){return b.registerPrevious(this)},registerPrevious:function(b){if(this.isLocked)throw new Error("The stream '"+this+"' has already been used.");this.streamInfo=b.streamInfo,this.mergeStreamInfo(),this.previous=b;var _=this;return b.on("data",function(s){_.processChunk(s)}),b.on("end",function(){_.end()}),b.on("error",function(s){_.error(s)}),this},pause:function(){return!this.isPaused&&!this.isFinished&&(this.isPaused=!0,this.previous&&this.previous.pause(),!0)},resume:function(){if(!this.isPaused||this.isFinished)return!1;var b=this.isPaused=!1;return this.generatedError&&(this.error(this.generatedError),b=!0),this.previous&&this.previous.resume(),!b},flush:function(){},processChunk:function(b){this.push(b)},withStreamInfo:function(b,_){return this.extraStreamInfo[b]=_,this.mergeStreamInfo(),this},mergeStreamInfo:function(){for(var b in this.extraStreamInfo)Object.prototype.hasOwnProperty.call(this.extraStreamInfo,b)&&(this.streamInfo[b]=this.extraStreamInfo[b])},lock:function(){if(this.isLocked)throw new Error("The stream '"+this+"' has already been used.");this.isLocked=!0,this.previous&&this.previous.lock()},toString:function(){var b="Worker "+this.name;return this.previous?this.previous+" -> "+b:b}},B.exports=M},{}],29:[function(f,B,z){var M=f("../utils"),b=f("./ConvertWorker"),_=f("./GenericWorker"),s=f("../base64"),d=f("../support"),o=f("../external"),n=null;if(d.nodestream)try{n=f("../nodejs/NodejsStreamOutputAdapter")}catch{}function i(e,r){return new o.Promise(function(a,c){var h=[],$=e._internalType,v=e._outputType,p=e._mimeType;e.on("data",function(u,m){h.push(u),r&&r(m)}).on("error",function(u){h=[],c(u)}).on("end",function(){try{var u=function(m,E,C){switch(m){case"blob":return M.newBlob(M.transformTo("arraybuffer",E),C);case"base64":return s.encode(E);default:return M.transformTo(m,E)}}(v,function(m,E){var C,R=0,L=null,g=0;for(C=0;C<E.length;C++)g+=E[C].length;switch(m){case"string":return E.join("");case"array":return Array.prototype.concat.apply([],E);case"uint8array":for(L=new Uint8Array(g),C=0;C<E.length;C++)L.set(E[C],R),R+=E[C].length;return L;case"nodebuffer":return Buffer.concat(E);default:throw new Error("concat : unsupported type '"+m+"'")}}($,h),p);a(u)}catch(m){c(m)}h=[]}).resume()})}function t(e,r,a){var c=r;switch(r){case"blob":case"arraybuffer":c="uint8array";break;case"base64":c="string"}try{this._internalType=c,this._outputType=r,this._mimeType=a,M.checkSupport(c),this._worker=e.pipe(new b(c)),e.lock()}catch(h){this._worker=new _("error"),this._worker.error(h)}}t.prototype={accumulate:function(e){return i(this,e)},on:function(e,r){var a=this;return e==="data"?this._worker.on(e,function(c){r.call(a,c.data,c.meta)}):this._worker.on(e,function(){M.delay(r,arguments,a)}),this},resume:function(){return M.delay(this._worker.resume,[],this._worker),this},pause:function(){return this._worker.pause(),this},toNodejsStream:function(e){if(M.checkSupport("nodestream"),this._outputType!=="nodebuffer")throw new Error(this._outputType+" is not supported by this method");return new n(this,{objectMode:this._outputType!=="nodebuffer"},e)}},B.exports=t},{"../base64":1,"../external":6,"../nodejs/NodejsStreamOutputAdapter":13,"../support":30,"../utils":32,"./ConvertWorker":24,"./GenericWorker":28}],30:[function(f,B,z){if(z.base64=!0,z.array=!0,z.string=!0,z.arraybuffer=typeof ArrayBuffer<"u"&&typeof Uint8Array<"u",z.nodebuffer=typeof Buffer<"u",z.uint8array=typeof Uint8Array<"u",typeof ArrayBuffer>"u")z.blob=!1;else{var M=new ArrayBuffer(0);try{z.blob=new Blob([M],{type:"application/zip"}).size===0}catch{try{var b=new(self.BlobBuilder||self.WebKitBlobBuilder||self.MozBlobBuilder||self.MSBlobBuilder);b.append(M),z.blob=b.getBlob("application/zip").size===0}catch{z.blob=!1}}}try{z.nodestream=!!f("readable-stream").Readable}catch{z.nodestream=!1}},{"readable-stream":16}],31:[function(f,B,z){for(var M=f("./utils"),b=f("./support"),_=f("./nodejsUtils"),s=f("./stream/GenericWorker"),d=new Array(256),o=0;o<256;o++)d[o]=252<=o?6:248<=o?5:240<=o?4:224<=o?3:192<=o?2:1;d[254]=d[254]=1;function n(){s.call(this,"utf-8 decode"),this.leftOver=null}function i(){s.call(this,"utf-8 encode")}z.utf8encode=function(t){return b.nodebuffer?_.newBufferFrom(t,"utf-8"):function(e){var r,a,c,h,$,v=e.length,p=0;for(h=0;h<v;h++)(64512&(a=e.charCodeAt(h)))==55296&&h+1<v&&(64512&(c=e.charCodeAt(h+1)))==56320&&(a=65536+(a-55296<<10)+(c-56320),h++),p+=a<128?1:a<2048?2:a<65536?3:4;for(r=b.uint8array?new Uint8Array(p):new Array(p),h=$=0;$<p;h++)(64512&(a=e.charCodeAt(h)))==55296&&h+1<v&&(64512&(c=e.charCodeAt(h+1)))==56320&&(a=65536+(a-55296<<10)+(c-56320),h++),a<128?r[$++]=a:(a<2048?r[$++]=192|a>>>6:(a<65536?r[$++]=224|a>>>12:(r[$++]=240|a>>>18,r[$++]=128|a>>>12&63),r[$++]=128|a>>>6&63),r[$++]=128|63&a);return r}(t)},z.utf8decode=function(t){return b.nodebuffer?M.transformTo("nodebuffer",t).toString("utf-8"):function(e){var r,a,c,h,$=e.length,v=new Array(2*$);for(r=a=0;r<$;)if((c=e[r++])<128)v[a++]=c;else if(4<(h=d[c]))v[a++]=65533,r+=h-1;else{for(c&=h===2?31:h===3?15:7;1<h&&r<$;)c=c<<6|63&e[r++],h--;1<h?v[a++]=65533:c<65536?v[a++]=c:(c-=65536,v[a++]=55296|c>>10&1023,v[a++]=56320|1023&c)}return v.length!==a&&(v.subarray?v=v.subarray(0,a):v.length=a),M.applyFromCharCode(v)}(t=M.transformTo(b.uint8array?"uint8array":"array",t))},M.inherits(n,s),n.prototype.processChunk=function(t){var e=M.transformTo(b.uint8array?"uint8array":"array",t.data);if(this.leftOver&&this.leftOver.length){if(b.uint8array){var r=e;(e=new Uint8Array(r.length+this.leftOver.length)).set(this.leftOver,0),e.set(r,this.leftOver.length)}else e=this.leftOver.concat(e);this.leftOver=null}var a=function(h,$){var v;for(($=$||h.length)>h.length&&($=h.length),v=$-1;0<=v&&(192&h[v])==128;)v--;return v<0||v===0?$:v+d[h[v]]>$?v:$}(e),c=e;a!==e.length&&(b.uint8array?(c=e.subarray(0,a),this.leftOver=e.subarray(a,e.length)):(c=e.slice(0,a),this.leftOver=e.slice(a,e.length))),this.push({data:z.utf8decode(c),meta:t.meta})},n.prototype.flush=function(){this.leftOver&&this.leftOver.length&&(this.push({data:z.utf8decode(this.leftOver),meta:{}}),this.leftOver=null)},z.Utf8DecodeWorker=n,M.inherits(i,s),i.prototype.processChunk=function(t){this.push({data:z.utf8encode(t.data),meta:t.meta})},z.Utf8EncodeWorker=i},{"./nodejsUtils":14,"./stream/GenericWorker":28,"./support":30,"./utils":32}],32:[function(f,B,z){var M=f("./support"),b=f("./base64"),_=f("./nodejsUtils"),s=f("./external");function d(r){return r}function o(r,a){for(var c=0;c<r.length;++c)a[c]=255&r.charCodeAt(c);return a}f("setimmediate"),z.newBlob=function(r,a){z.checkSupport("blob");try{return new Blob([r],{type:a})}catch{try{var c=new(self.BlobBuilder||self.WebKitBlobBuilder||self.MozBlobBuilder||self.MSBlobBuilder);return c.append(r),c.getBlob(a)}catch{throw new Error("Bug : can't construct the Blob.")}}};var n={stringifyByChunk:function(r,a,c){var h=[],$=0,v=r.length;if(v<=c)return String.fromCharCode.apply(null,r);for(;$<v;)a==="array"||a==="nodebuffer"?h.push(String.fromCharCode.apply(null,r.slice($,Math.min($+c,v)))):h.push(String.fromCharCode.apply(null,r.subarray($,Math.min($+c,v)))),$+=c;return h.join("")},stringifyByChar:function(r){for(var a="",c=0;c<r.length;c++)a+=String.fromCharCode(r[c]);return a},applyCanBeUsed:{uint8array:function(){try{return M.uint8array&&String.fromCharCode.apply(null,new Uint8Array(1)).length===1}catch{return!1}}(),nodebuffer:function(){try{return M.nodebuffer&&String.fromCharCode.apply(null,_.allocBuffer(1)).length===1}catch{return!1}}()}};function i(r){var a=65536,c=z.getTypeOf(r),h=!0;if(c==="uint8array"?h=n.applyCanBeUsed.uint8array:c==="nodebuffer"&&(h=n.applyCanBeUsed.nodebuffer),h)for(;1<a;)try{return n.stringifyByChunk(r,c,a)}catch{a=Math.floor(a/2)}return n.stringifyByChar(r)}function t(r,a){for(var c=0;c<r.length;c++)a[c]=r[c];return a}z.applyFromCharCode=i;var e={};e.string={string:d,array:function(r){return o(r,new Array(r.length))},arraybuffer:function(r){return e.string.uint8array(r).buffer},uint8array:function(r){return o(r,new Uint8Array(r.length))},nodebuffer:function(r){return o(r,_.allocBuffer(r.length))}},e.array={string:i,array:d,arraybuffer:function(r){return new Uint8Array(r).buffer},uint8array:function(r){return new Uint8Array(r)},nodebuffer:function(r){return _.newBufferFrom(r)}},e.arraybuffer={string:function(r){return i(new Uint8Array(r))},array:function(r){return t(new Uint8Array(r),new Array(r.byteLength))},arraybuffer:d,uint8array:function(r){return new Uint8Array(r)},nodebuffer:function(r){return _.newBufferFrom(new Uint8Array(r))}},e.uint8array={string:i,array:function(r){return t(r,new Array(r.length))},arraybuffer:function(r){return r.buffer},uint8array:d,nodebuffer:function(r){return _.newBufferFrom(r)}},e.nodebuffer={string:i,array:function(r){return t(r,new Array(r.length))},arraybuffer:function(r){return e.nodebuffer.uint8array(r).buffer},uint8array:function(r){return t(r,new Uint8Array(r.length))},nodebuffer:d},z.transformTo=function(r,a){if(a=a||"",!r)return a;z.checkSupport(r);var c=z.getTypeOf(a);return e[c][r](a)},z.resolve=function(r){for(var a=r.split("/"),c=[],h=0;h<a.length;h++){var $=a[h];$==="."||$===""&&h!==0&&h!==a.length-1||($===".."?c.pop():c.push($))}return c.join("/")},z.getTypeOf=function(r){return typeof r=="string"?"string":Object.prototype.toString.call(r)==="[object Array]"?"array":M.nodebuffer&&_.isBuffer(r)?"nodebuffer":M.uint8array&&r instanceof Uint8Array?"uint8array":M.arraybuffer&&r instanceof ArrayBuffer?"arraybuffer":void 0},z.checkSupport=function(r){if(!M[r.toLowerCase()])throw new Error(r+" is not supported by this platform")},z.MAX_VALUE_16BITS=65535,z.MAX_VALUE_32BITS=-1,z.pretty=function(r){var a,c,h="";for(c=0;c<(r||"").length;c++)h+="\\x"+((a=r.charCodeAt(c))<16?"0":"")+a.toString(16).toUpperCase();return h},z.delay=function(r,a,c){setImmediate(function(){r.apply(c||null,a||[])})},z.inherits=function(r,a){function c(){}c.prototype=a.prototype,r.prototype=new c},z.extend=function(){var r,a,c={};for(r=0;r<arguments.length;r++)for(a in arguments[r])Object.prototype.hasOwnProperty.call(arguments[r],a)&&c[a]===void 0&&(c[a]=arguments[r][a]);return c},z.prepareContent=function(r,a,c,h,$){return s.Promise.resolve(a).then(function(v){return M.blob&&(v instanceof Blob||["[object File]","[object Blob]"].indexOf(Object.prototype.toString.call(v))!==-1)&&typeof FileReader<"u"?new s.Promise(function(p,u){var m=new FileReader;m.onload=function(E){p(E.target.result)},m.onerror=function(E){u(E.target.error)},m.readAsArrayBuffer(v)}):v}).then(function(v){var p=z.getTypeOf(v);return p?(p==="arraybuffer"?v=z.transformTo("uint8array",v):p==="string"&&($?v=b.decode(v):c&&h!==!0&&(v=function(u){return o(u,M.uint8array?new Uint8Array(u.length):new Array(u.length))}(v))),v):s.Promise.reject(new Error("Can't read the data of '"+r+"'. Is it in a supported JavaScript type (String, Blob, ArrayBuffer, etc) ?"))})}},{"./base64":1,"./external":6,"./nodejsUtils":14,"./support":30,setimmediate:54}],33:[function(f,B,z){var M=f("./reader/readerFor"),b=f("./utils"),_=f("./signature"),s=f("./zipEntry"),d=f("./support");function o(n){this.files=[],this.loadOptions=n}o.prototype={checkSignature:function(n){if(!this.reader.readAndCheckSignature(n)){this.reader.index-=4;var i=this.reader.readString(4);throw new Error("Corrupted zip or bug: unexpected signature ("+b.pretty(i)+", expected "+b.pretty(n)+")")}},isSignature:function(n,i){var t=this.reader.index;this.reader.setIndex(n);var e=this.reader.readString(4)===i;return this.reader.setIndex(t),e},readBlockEndOfCentral:function(){this.diskNumber=this.reader.readInt(2),this.diskWithCentralDirStart=this.reader.readInt(2),this.centralDirRecordsOnThisDisk=this.reader.readInt(2),this.centralDirRecords=this.reader.readInt(2),this.centralDirSize=this.reader.readInt(4),this.centralDirOffset=this.reader.readInt(4),this.zipCommentLength=this.reader.readInt(2);var n=this.reader.readData(this.zipCommentLength),i=d.uint8array?"uint8array":"array",t=b.transformTo(i,n);this.zipComment=this.loadOptions.decodeFileName(t)},readBlockZip64EndOfCentral:function(){this.zip64EndOfCentralSize=this.reader.readInt(8),this.reader.skip(4),this.diskNumber=this.reader.readInt(4),this.diskWithCentralDirStart=this.reader.readInt(4),this.centralDirRecordsOnThisDisk=this.reader.readInt(8),this.centralDirRecords=this.reader.readInt(8),this.centralDirSize=this.reader.readInt(8),this.centralDirOffset=this.reader.readInt(8),this.zip64ExtensibleData={};for(var n,i,t,e=this.zip64EndOfCentralSize-44;0<e;)n=this.reader.readInt(2),i=this.reader.readInt(4),t=this.reader.readData(i),this.zip64ExtensibleData[n]={id:n,length:i,value:t}},readBlockZip64EndOfCentralLocator:function(){if(this.diskWithZip64CentralDirStart=this.reader.readInt(4),this.relativeOffsetEndOfZip64CentralDir=this.reader.readInt(8),this.disksCount=this.reader.readInt(4),1<this.disksCount)throw new Error("Multi-volumes zip are not supported")},readLocalFiles:function(){var n,i;for(n=0;n<this.files.length;n++)i=this.files[n],this.reader.setIndex(i.localHeaderOffset),this.checkSignature(_.LOCAL_FILE_HEADER),i.readLocalPart(this.reader),i.handleUTF8(),i.processAttributes()},readCentralDir:function(){var n;for(this.reader.setIndex(this.centralDirOffset);this.reader.readAndCheckSignature(_.CENTRAL_FILE_HEADER);)(n=new s({zip64:this.zip64},this.loadOptions)).readCentralPart(this.reader),this.files.push(n);if(this.centralDirRecords!==this.files.length&&this.centralDirRecords!==0&&this.files.length===0)throw new Error("Corrupted zip or bug: expected "+this.centralDirRecords+" records in central dir, got "+this.files.length)},readEndOfCentral:function(){var n=this.reader.lastIndexOfSignature(_.CENTRAL_DIRECTORY_END);if(n<0)throw this.isSignature(0,_.LOCAL_FILE_HEADER)?new Error("Corrupted zip: can't find end of central directory"):new Error("Can't find end of central directory : is this a zip file ? If it is, see https://stuk.github.io/jszip/documentation/howto/read_zip.html");this.reader.setIndex(n);var i=n;if(this.checkSignature(_.CENTRAL_DIRECTORY_END),this.readBlockEndOfCentral(),this.diskNumber===b.MAX_VALUE_16BITS||this.diskWithCentralDirStart===b.MAX_VALUE_16BITS||this.centralDirRecordsOnThisDisk===b.MAX_VALUE_16BITS||this.centralDirRecords===b.MAX_VALUE_16BITS||this.centralDirSize===b.MAX_VALUE_32BITS||this.centralDirOffset===b.MAX_VALUE_32BITS){if(this.zip64=!0,(n=this.reader.lastIndexOfSignature(_.ZIP64_CENTRAL_DIRECTORY_LOCATOR))<0)throw new Error("Corrupted zip: can't find the ZIP64 end of central directory locator");if(this.reader.setIndex(n),this.checkSignature(_.ZIP64_CENTRAL_DIRECTORY_LOCATOR),this.readBlockZip64EndOfCentralLocator(),!this.isSignature(this.relativeOffsetEndOfZip64CentralDir,_.ZIP64_CENTRAL_DIRECTORY_END)&&(this.relativeOffsetEndOfZip64CentralDir=this.reader.lastIndexOfSignature(_.ZIP64_CENTRAL_DIRECTORY_END),this.relativeOffsetEndOfZip64CentralDir<0))throw new Error("Corrupted zip: can't find the ZIP64 end of central directory");this.reader.setIndex(this.relativeOffsetEndOfZip64CentralDir),this.checkSignature(_.ZIP64_CENTRAL_DIRECTORY_END),this.readBlockZip64EndOfCentral()}var t=this.centralDirOffset+this.centralDirSize;this.zip64&&(t+=20,t+=12+this.zip64EndOfCentralSize);var e=i-t;if(0<e)this.isSignature(i,_.CENTRAL_FILE_HEADER)||(this.reader.zero=e);else if(e<0)throw new Error("Corrupted zip: missing "+Math.abs(e)+" bytes.")},prepareReader:function(n){this.reader=M(n)},load:function(n){this.prepareReader(n),this.readEndOfCentral(),this.readCentralDir(),this.readLocalFiles()}},B.exports=o},{"./reader/readerFor":22,"./signature":23,"./support":30,"./utils":32,"./zipEntry":34}],34:[function(f,B,z){var M=f("./reader/readerFor"),b=f("./utils"),_=f("./compressedObject"),s=f("./crc32"),d=f("./utf8"),o=f("./compressions"),n=f("./support");function i(t,e){this.options=t,this.loadOptions=e}i.prototype={isEncrypted:function(){return(1&this.bitFlag)==1},useUTF8:function(){return(2048&this.bitFlag)==2048},readLocalPart:function(t){var e,r;if(t.skip(22),this.fileNameLength=t.readInt(2),r=t.readInt(2),this.fileName=t.readData(this.fileNameLength),t.skip(r),this.compressedSize===-1||this.uncompressedSize===-1)throw new Error("Bug or corrupted zip : didn't get enough information from the central directory (compressedSize === -1 || uncompressedSize === -1)");if((e=function(a){for(var c in o)if(Object.prototype.hasOwnProperty.call(o,c)&&o[c].magic===a)return o[c];return null}(this.compressionMethod))===null)throw new Error("Corrupted zip : compression "+b.pretty(this.compressionMethod)+" unknown (inner file : "+b.transformTo("string",this.fileName)+")");this.decompressed=new _(this.compressedSize,this.uncompressedSize,this.crc32,e,t.readData(this.compressedSize))},readCentralPart:function(t){this.versionMadeBy=t.readInt(2),t.skip(2),this.bitFlag=t.readInt(2),this.compressionMethod=t.readString(2),this.date=t.readDate(),this.crc32=t.readInt(4),this.compressedSize=t.readInt(4),this.uncompressedSize=t.readInt(4);var e=t.readInt(2);if(this.extraFieldsLength=t.readInt(2),this.fileCommentLength=t.readInt(2),this.diskNumberStart=t.readInt(2),this.internalFileAttributes=t.readInt(2),this.externalFileAttributes=t.readInt(4),this.localHeaderOffset=t.readInt(4),this.isEncrypted())throw new Error("Encrypted zip are not supported");t.skip(e),this.readExtraFields(t),this.parseZIP64ExtraField(t),this.fileComment=t.readData(this.fileCommentLength)},processAttributes:function(){this.unixPermissions=null,this.dosPermissions=null;var t=this.versionMadeBy>>8;this.dir=!!(16&this.externalFileAttributes),t==0&&(this.dosPermissions=63&this.externalFileAttributes),t==3&&(this.unixPermissions=this.externalFileAttributes>>16&65535),this.dir||this.fileNameStr.slice(-1)!=="/"||(this.dir=!0)},parseZIP64ExtraField:function(){if(this.extraFields[1]){var t=M(this.extraFields[1].value);this.uncompressedSize===b.MAX_VALUE_32BITS&&(this.uncompressedSize=t.readInt(8)),this.compressedSize===b.MAX_VALUE_32BITS&&(this.compressedSize=t.readInt(8)),this.localHeaderOffset===b.MAX_VALUE_32BITS&&(this.localHeaderOffset=t.readInt(8)),this.diskNumberStart===b.MAX_VALUE_32BITS&&(this.diskNumberStart=t.readInt(4))}},readExtraFields:function(t){var e,r,a,c=t.index+this.extraFieldsLength;for(this.extraFields||(this.extraFields={});t.index+4<c;)e=t.readInt(2),r=t.readInt(2),a=t.readData(r),this.extraFields[e]={id:e,length:r,value:a};t.setIndex(c)},handleUTF8:function(){var t=n.uint8array?"uint8array":"array";if(this.useUTF8())this.fileNameStr=d.utf8decode(this.fileName),this.fileCommentStr=d.utf8decode(this.fileComment);else{var e=this.findExtraFieldUnicodePath();if(e!==null)this.fileNameStr=e;else{var r=b.transformTo(t,this.fileName);this.fileNameStr=this.loadOptions.decodeFileName(r)}var a=this.findExtraFieldUnicodeComment();if(a!==null)this.fileCommentStr=a;else{var c=b.transformTo(t,this.fileComment);this.fileCommentStr=this.loadOptions.decodeFileName(c)}}},findExtraFieldUnicodePath:function(){var t=this.extraFields[28789];if(t){var e=M(t.value);return e.readInt(1)!==1||s(this.fileName)!==e.readInt(4)?null:d.utf8decode(e.readData(t.length-5))}return null},findExtraFieldUnicodeComment:function(){var t=this.extraFields[25461];if(t){var e=M(t.value);return e.readInt(1)!==1||s(this.fileComment)!==e.readInt(4)?null:d.utf8decode(e.readData(t.length-5))}return null}},B.exports=i},{"./compressedObject":2,"./compressions":3,"./crc32":4,"./reader/readerFor":22,"./support":30,"./utf8":31,"./utils":32}],35:[function(f,B,z){function M(e,r,a){this.name=e,this.dir=a.dir,this.date=a.date,this.comment=a.comment,this.unixPermissions=a.unixPermissions,this.dosPermissions=a.dosPermissions,this._data=r,this._dataBinary=a.binary,this.options={compression:a.compression,compressionOptions:a.compressionOptions}}var b=f("./stream/StreamHelper"),_=f("./stream/DataWorker"),s=f("./utf8"),d=f("./compressedObject"),o=f("./stream/GenericWorker");M.prototype={internalStream:function(e){var r=null,a="string";try{if(!e)throw new Error("No output type specified.");var c=(a=e.toLowerCase())==="string"||a==="text";a!=="binarystring"&&a!=="text"||(a="string"),r=this._decompressWorker();var h=!this._dataBinary;h&&!c&&(r=r.pipe(new s.Utf8EncodeWorker)),!h&&c&&(r=r.pipe(new s.Utf8DecodeWorker))}catch($){(r=new o("error")).error($)}return new b(r,a,"")},async:function(e,r){return this.internalStream(e).accumulate(r)},nodeStream:function(e,r){return this.internalStream(e||"nodebuffer").toNodejsStream(r)},_compressWorker:function(e,r){if(this._data instanceof d&&this._data.compression.magic===e.magic)return this._data.getCompressedWorker();var a=this._decompressWorker();return this._dataBinary||(a=a.pipe(new s.Utf8EncodeWorker)),d.createWorkerFrom(a,e,r)},_decompressWorker:function(){return this._data instanceof d?this._data.getContentWorker():this._data instanceof o?this._data:new _(this._data)}};for(var n=["asText","asBinary","asNodeBuffer","asUint8Array","asArrayBuffer"],i=function(){throw new Error("This method has been removed in JSZip 3.0, please check the upgrade guide.")},t=0;t<n.length;t++)M.prototype[n[t]]=i;B.exports=M},{"./compressedObject":2,"./stream/DataWorker":27,"./stream/GenericWorker":28,"./stream/StreamHelper":29,"./utf8":31}],36:[function(f,B,z){(function(M){var b,_,s=M.MutationObserver||M.WebKitMutationObserver;if(s){var d=0,o=new s(e),n=M.document.createTextNode("");o.observe(n,{characterData:!0}),b=function(){n.data=d=++d%2}}else if(M.setImmediate||M.MessageChannel===void 0)b="document"in M&&"onreadystatechange"in M.document.createElement("script")?function(){var r=M.document.createElement("script");r.onreadystatechange=function(){e(),r.onreadystatechange=null,r.parentNode.removeChild(r),r=null},M.document.documentElement.appendChild(r)}:function(){setTimeout(e,0)};else{var i=new M.MessageChannel;i.port1.onmessage=e,b=function(){i.port2.postMessage(0)}}var t=[];function e(){var r,a;_=!0;for(var c=t.length;c;){for(a=t,t=[],r=-1;++r<c;)a[r]();c=t.length}_=!1}B.exports=function(r){t.push(r)!==1||_||b()}}).call(this,typeof Fn<"u"?Fn:typeof self<"u"?self:typeof window<"u"?window:{})},{}],37:[function(f,B,z){var M=f("immediate");function b(){}var _={},s=["REJECTED"],d=["FULFILLED"],o=["PENDING"];function n(c){if(typeof c!="function")throw new TypeError("resolver must be a function");this.state=o,this.queue=[],this.outcome=void 0,c!==b&&r(this,c)}function i(c,h,$){this.promise=c,typeof h=="function"&&(this.onFulfilled=h,this.callFulfilled=this.otherCallFulfilled),typeof $=="function"&&(this.onRejected=$,this.callRejected=this.otherCallRejected)}function t(c,h,$){M(function(){var v;try{v=h($)}catch(p){return _.reject(c,p)}v===c?_.reject(c,new TypeError("Cannot resolve promise with itself")):_.resolve(c,v)})}function e(c){var h=c&&c.then;if(c&&(typeof c=="object"||typeof c=="function")&&typeof h=="function")return function(){h.apply(c,arguments)}}function r(c,h){var $=!1;function v(m){$||($=!0,_.reject(c,m))}function p(m){$||($=!0,_.resolve(c,m))}var u=a(function(){h(p,v)});u.status==="error"&&v(u.value)}function a(c,h){var $={};try{$.value=c(h),$.status="success"}catch(v){$.status="error",$.value=v}return $}(B.exports=n).prototype.finally=function(c){if(typeof c!="function")return this;var h=this.constructor;return this.then(function($){return h.resolve(c()).then(function(){return $})},function($){return h.resolve(c()).then(function(){throw $})})},n.prototype.catch=function(c){return this.then(null,c)},n.prototype.then=function(c,h){if(typeof c!="function"&&this.state===d||typeof h!="function"&&this.state===s)return this;var $=new this.constructor(b);return this.state!==o?t($,this.state===d?c:h,this.outcome):this.queue.push(new i($,c,h)),$},i.prototype.callFulfilled=function(c){_.resolve(this.promise,c)},i.prototype.otherCallFulfilled=function(c){t(this.promise,this.onFulfilled,c)},i.prototype.callRejected=function(c){_.reject(this.promise,c)},i.prototype.otherCallRejected=function(c){t(this.promise,this.onRejected,c)},_.resolve=function(c,h){var $=a(e,h);if($.status==="error")return _.reject(c,$.value);var v=$.value;if(v)r(c,v);else{c.state=d,c.outcome=h;for(var p=-1,u=c.queue.length;++p<u;)c.queue[p].callFulfilled(h)}return c},_.reject=function(c,h){c.state=s,c.outcome=h;for(var $=-1,v=c.queue.length;++$<v;)c.queue[$].callRejected(h);return c},n.resolve=function(c){return c instanceof this?c:_.resolve(new this(b),c)},n.reject=function(c){var h=new this(b);return _.reject(h,c)},n.all=function(c){var h=this;if(Object.prototype.toString.call(c)!=="[object Array]")return this.reject(new TypeError("must be an array"));var $=c.length,v=!1;if(!$)return this.resolve([]);for(var p=new Array($),u=0,m=-1,E=new this(b);++m<$;)C(c[m],m);return E;function C(R,L){h.resolve(R).then(function(g){p[L]=g,++u!==$||v||(v=!0,_.resolve(E,p))},function(g){v||(v=!0,_.reject(E,g))})}},n.race=function(c){var h=this;if(Object.prototype.toString.call(c)!=="[object Array]")return this.reject(new TypeError("must be an array"));var $=c.length,v=!1;if(!$)return this.resolve([]);for(var p=-1,u=new this(b);++p<$;)m=c[p],h.resolve(m).then(function(E){v||(v=!0,_.resolve(u,E))},function(E){v||(v=!0,_.reject(u,E))});var m;return u}},{immediate:36}],38:[function(f,B,z){var M={};(0,f("./lib/utils/common").assign)(M,f("./lib/deflate"),f("./lib/inflate"),f("./lib/zlib/constants")),B.exports=M},{"./lib/deflate":39,"./lib/inflate":40,"./lib/utils/common":41,"./lib/zlib/constants":44}],39:[function(f,B,z){var M=f("./zlib/deflate"),b=f("./utils/common"),_=f("./utils/strings"),s=f("./zlib/messages"),d=f("./zlib/zstream"),o=Object.prototype.toString,n=0,i=-1,t=0,e=8;function r(c){if(!(this instanceof r))return new r(c);this.options=b.assign({level:i,method:e,chunkSize:16384,windowBits:15,memLevel:8,strategy:t,to:""},c||{});var h=this.options;h.raw&&0<h.windowBits?h.windowBits=-h.windowBits:h.gzip&&0<h.windowBits&&h.windowBits<16&&(h.windowBits+=16),this.err=0,this.msg="",this.ended=!1,this.chunks=[],this.strm=new d,this.strm.avail_out=0;var $=M.deflateInit2(this.strm,h.level,h.method,h.windowBits,h.memLevel,h.strategy);if($!==n)throw new Error(s[$]);if(h.header&&M.deflateSetHeader(this.strm,h.header),h.dictionary){var v;if(v=typeof h.dictionary=="string"?_.string2buf(h.dictionary):o.call(h.dictionary)==="[object ArrayBuffer]"?new Uint8Array(h.dictionary):h.dictionary,($=M.deflateSetDictionary(this.strm,v))!==n)throw new Error(s[$]);this._dict_set=!0}}function a(c,h){var $=new r(h);if($.push(c,!0),$.err)throw $.msg||s[$.err];return $.result}r.prototype.push=function(c,h){var $,v,p=this.strm,u=this.options.chunkSize;if(this.ended)return!1;v=h===~~h?h:h===!0?4:0,typeof c=="string"?p.input=_.string2buf(c):o.call(c)==="[object ArrayBuffer]"?p.input=new Uint8Array(c):p.input=c,p.next_in=0,p.avail_in=p.input.length;do{if(p.avail_out===0&&(p.output=new b.Buf8(u),p.next_out=0,p.avail_out=u),($=M.deflate(p,v))!==1&&$!==n)return this.onEnd($),!(this.ended=!0);p.avail_out!==0&&(p.avail_in!==0||v!==4&&v!==2)||(this.options.to==="string"?this.onData(_.buf2binstring(b.shrinkBuf(p.output,p.next_out))):this.onData(b.shrinkBuf(p.output,p.next_out)))}while((0<p.avail_in||p.avail_out===0)&&$!==1);return v===4?($=M.deflateEnd(this.strm),this.onEnd($),this.ended=!0,$===n):v!==2||(this.onEnd(n),!(p.avail_out=0))},r.prototype.onData=function(c){this.chunks.push(c)},r.prototype.onEnd=function(c){c===n&&(this.options.to==="string"?this.result=this.chunks.join(""):this.result=b.flattenChunks(this.chunks)),this.chunks=[],this.err=c,this.msg=this.strm.msg},z.Deflate=r,z.deflate=a,z.deflateRaw=function(c,h){return(h=h||{}).raw=!0,a(c,h)},z.gzip=function(c,h){return(h=h||{}).gzip=!0,a(c,h)}},{"./utils/common":41,"./utils/strings":42,"./zlib/deflate":46,"./zlib/messages":51,"./zlib/zstream":53}],40:[function(f,B,z){var M=f("./zlib/inflate"),b=f("./utils/common"),_=f("./utils/strings"),s=f("./zlib/constants"),d=f("./zlib/messages"),o=f("./zlib/zstream"),n=f("./zlib/gzheader"),i=Object.prototype.toString;function t(r){if(!(this instanceof t))return new t(r);this.options=b.assign({chunkSize:16384,windowBits:0,to:""},r||{});var a=this.options;a.raw&&0<=a.windowBits&&a.windowBits<16&&(a.windowBits=-a.windowBits,a.windowBits===0&&(a.windowBits=-15)),!(0<=a.windowBits&&a.windowBits<16)||r&&r.windowBits||(a.windowBits+=32),15<a.windowBits&&a.windowBits<48&&(15&a.windowBits)==0&&(a.windowBits|=15),this.err=0,this.msg="",this.ended=!1,this.chunks=[],this.strm=new o,this.strm.avail_out=0;var c=M.inflateInit2(this.strm,a.windowBits);if(c!==s.Z_OK)throw new Error(d[c]);this.header=new n,M.inflateGetHeader(this.strm,this.header)}function e(r,a){var c=new t(a);if(c.push(r,!0),c.err)throw c.msg||d[c.err];return c.result}t.prototype.push=function(r,a){var c,h,$,v,p,u,m=this.strm,E=this.options.chunkSize,C=this.options.dictionary,R=!1;if(this.ended)return!1;h=a===~~a?a:a===!0?s.Z_FINISH:s.Z_NO_FLUSH,typeof r=="string"?m.input=_.binstring2buf(r):i.call(r)==="[object ArrayBuffer]"?m.input=new Uint8Array(r):m.input=r,m.next_in=0,m.avail_in=m.input.length;do{if(m.avail_out===0&&(m.output=new b.Buf8(E),m.next_out=0,m.avail_out=E),(c=M.inflate(m,s.Z_NO_FLUSH))===s.Z_NEED_DICT&&C&&(u=typeof C=="string"?_.string2buf(C):i.call(C)==="[object ArrayBuffer]"?new Uint8Array(C):C,c=M.inflateSetDictionary(this.strm,u)),c===s.Z_BUF_ERROR&&R===!0&&(c=s.Z_OK,R=!1),c!==s.Z_STREAM_END&&c!==s.Z_OK)return this.onEnd(c),!(this.ended=!0);m.next_out&&(m.avail_out!==0&&c!==s.Z_STREAM_END&&(m.avail_in!==0||h!==s.Z_FINISH&&h!==s.Z_SYNC_FLUSH)||(this.options.to==="string"?($=_.utf8border(m.output,m.next_out),v=m.next_out-$,p=_.buf2string(m.output,$),m.next_out=v,m.avail_out=E-v,v&&b.arraySet(m.output,m.output,$,v,0),this.onData(p)):this.onData(b.shrinkBuf(m.output,m.next_out)))),m.avail_in===0&&m.avail_out===0&&(R=!0)}while((0<m.avail_in||m.avail_out===0)&&c!==s.Z_STREAM_END);return c===s.Z_STREAM_END&&(h=s.Z_FINISH),h===s.Z_FINISH?(c=M.inflateEnd(this.strm),this.onEnd(c),this.ended=!0,c===s.Z_OK):h!==s.Z_SYNC_FLUSH||(this.onEnd(s.Z_OK),!(m.avail_out=0))},t.prototype.onData=function(r){this.chunks.push(r)},t.prototype.onEnd=function(r){r===s.Z_OK&&(this.options.to==="string"?this.result=this.chunks.join(""):this.result=b.flattenChunks(this.chunks)),this.chunks=[],this.err=r,this.msg=this.strm.msg},z.Inflate=t,z.inflate=e,z.inflateRaw=function(r,a){return(a=a||{}).raw=!0,e(r,a)},z.ungzip=e},{"./utils/common":41,"./utils/strings":42,"./zlib/constants":44,"./zlib/gzheader":47,"./zlib/inflate":49,"./zlib/messages":51,"./zlib/zstream":53}],41:[function(f,B,z){var M=typeof Uint8Array<"u"&&typeof Uint16Array<"u"&&typeof Int32Array<"u";z.assign=function(s){for(var d=Array.prototype.slice.call(arguments,1);d.length;){var o=d.shift();if(o){if(typeof o!="object")throw new TypeError(o+"must be non-object");for(var n in o)o.hasOwnProperty(n)&&(s[n]=o[n])}}return s},z.shrinkBuf=function(s,d){return s.length===d?s:s.subarray?s.subarray(0,d):(s.length=d,s)};var b={arraySet:function(s,d,o,n,i){if(d.subarray&&s.subarray)s.set(d.subarray(o,o+n),i);else for(var t=0;t<n;t++)s[i+t]=d[o+t]},flattenChunks:function(s){var d,o,n,i,t,e;for(d=n=0,o=s.length;d<o;d++)n+=s[d].length;for(e=new Uint8Array(n),d=i=0,o=s.length;d<o;d++)t=s[d],e.set(t,i),i+=t.length;return e}},_={arraySet:function(s,d,o,n,i){for(var t=0;t<n;t++)s[i+t]=d[o+t]},flattenChunks:function(s){return[].concat.apply([],s)}};z.setTyped=function(s){s?(z.Buf8=Uint8Array,z.Buf16=Uint16Array,z.Buf32=Int32Array,z.assign(z,b)):(z.Buf8=Array,z.Buf16=Array,z.Buf32=Array,z.assign(z,_))},z.setTyped(M)},{}],42:[function(f,B,z){var M=f("./common"),b=!0,_=!0;try{String.fromCharCode.apply(null,[0])}catch{b=!1}try{String.fromCharCode.apply(null,new Uint8Array(1))}catch{_=!1}for(var s=new M.Buf8(256),d=0;d<256;d++)s[d]=252<=d?6:248<=d?5:240<=d?4:224<=d?3:192<=d?2:1;function o(n,i){if(i<65537&&(n.subarray&&_||!n.subarray&&b))return String.fromCharCode.apply(null,M.shrinkBuf(n,i));for(var t="",e=0;e<i;e++)t+=String.fromCharCode(n[e]);return t}s[254]=s[254]=1,z.string2buf=function(n){var i,t,e,r,a,c=n.length,h=0;for(r=0;r<c;r++)(64512&(t=n.charCodeAt(r)))==55296&&r+1<c&&(64512&(e=n.charCodeAt(r+1)))==56320&&(t=65536+(t-55296<<10)+(e-56320),r++),h+=t<128?1:t<2048?2:t<65536?3:4;for(i=new M.Buf8(h),r=a=0;a<h;r++)(64512&(t=n.charCodeAt(r)))==55296&&r+1<c&&(64512&(e=n.charCodeAt(r+1)))==56320&&(t=65536+(t-55296<<10)+(e-56320),r++),t<128?i[a++]=t:(t<2048?i[a++]=192|t>>>6:(t<65536?i[a++]=224|t>>>12:(i[a++]=240|t>>>18,i[a++]=128|t>>>12&63),i[a++]=128|t>>>6&63),i[a++]=128|63&t);return i},z.buf2binstring=function(n){return o(n,n.length)},z.binstring2buf=function(n){for(var i=new M.Buf8(n.length),t=0,e=i.length;t<e;t++)i[t]=n.charCodeAt(t);return i},z.buf2string=function(n,i){var t,e,r,a,c=i||n.length,h=new Array(2*c);for(t=e=0;t<c;)if((r=n[t++])<128)h[e++]=r;else if(4<(a=s[r]))h[e++]=65533,t+=a-1;else{for(r&=a===2?31:a===3?15:7;1<a&&t<c;)r=r<<6|63&n[t++],a--;1<a?h[e++]=65533:r<65536?h[e++]=r:(r-=65536,h[e++]=55296|r>>10&1023,h[e++]=56320|1023&r)}return o(h,e)},z.utf8border=function(n,i){var t;for((i=i||n.length)>n.length&&(i=n.length),t=i-1;0<=t&&(192&n[t])==128;)t--;return t<0||t===0?i:t+s[n[t]]>i?t:i}},{"./common":41}],43:[function(f,B,z){B.exports=function(M,b,_,s){for(var d=65535&M|0,o=M>>>16&65535|0,n=0;_!==0;){for(_-=n=2e3<_?2e3:_;o=o+(d=d+b[s++]|0)|0,--n;);d%=65521,o%=65521}return d|o<<16|0}},{}],44:[function(f,B,z){B.exports={Z_NO_FLUSH:0,Z_PARTIAL_FLUSH:1,Z_SYNC_FLUSH:2,Z_FULL_FLUSH:3,Z_FINISH:4,Z_BLOCK:5,Z_TREES:6,Z_OK:0,Z_STREAM_END:1,Z_NEED_DICT:2,Z_ERRNO:-1,Z_STREAM_ERROR:-2,Z_DATA_ERROR:-3,Z_BUF_ERROR:-5,Z_NO_COMPRESSION:0,Z_BEST_SPEED:1,Z_BEST_COMPRESSION:9,Z_DEFAULT_COMPRESSION:-1,Z_FILTERED:1,Z_HUFFMAN_ONLY:2,Z_RLE:3,Z_FIXED:4,Z_DEFAULT_STRATEGY:0,Z_BINARY:0,Z_TEXT:1,Z_UNKNOWN:2,Z_DEFLATED:8}},{}],45:[function(f,B,z){var M=function(){for(var b,_=[],s=0;s<256;s++){b=s;for(var d=0;d<8;d++)b=1&b?3988292384^b>>>1:b>>>1;_[s]=b}return _}();B.exports=function(b,_,s,d){var o=M,n=d+s;b^=-1;for(var i=d;i<n;i++)b=b>>>8^o[255&(b^_[i])];return-1^b}},{}],46:[function(f,B,z){var M,b=f("../utils/common"),_=f("./trees"),s=f("./adler32"),d=f("./crc32"),o=f("./messages"),n=0,i=4,t=0,e=-2,r=-1,a=4,c=2,h=8,$=9,v=286,p=30,u=19,m=2*v+1,E=15,C=3,R=258,L=R+C+1,g=42,y=113,l=1,w=2,k=3,I=4;function G(N,Ae){return N.msg=o[Ae],Ae}function H(N){return(N<<1)-(4<N?9:0)}function J(N){for(var Ae=N.length;0<=--Ae;)N[Ae]=0}function j(N){var Ae=N.state,ue=Ae.pending;ue>N.avail_out&&(ue=N.avail_out),ue!==0&&(b.arraySet(N.output,Ae.pending_buf,Ae.pending_out,ue,N.next_out),N.next_out+=ue,Ae.pending_out+=ue,N.total_out+=ue,N.avail_out-=ue,Ae.pending-=ue,Ae.pending===0&&(Ae.pending_out=0))}function K(N,Ae){_._tr_flush_block(N,0<=N.block_start?N.block_start:-1,N.strstart-N.block_start,Ae),N.block_start=N.strstart,j(N.strm)}function ie(N,Ae){N.pending_buf[N.pending++]=Ae}function ee(N,Ae){N.pending_buf[N.pending++]=Ae>>>8&255,N.pending_buf[N.pending++]=255&Ae}function oe(N,Ae){var ue,se,ne=N.max_chain_length,he=N.strstart,Re=N.prev_length,Te=N.nice_match,ye=N.strstart>N.w_size-L?N.strstart-(N.w_size-L):0,Le=N.window,Ie=N.w_mask,Oe=N.prev,_e=N.strstart+R,be=Le[he+Re-1],xe=Le[he+Re];N.prev_length>=N.good_match&&(ne>>=2),Te>N.lookahead&&(Te=N.lookahead);do if(Le[(ue=Ae)+Re]===xe&&Le[ue+Re-1]===be&&Le[ue]===Le[he]&&Le[++ue]===Le[he+1]){he+=2,ue++;do;while(Le[++he]===Le[++ue]&&Le[++he]===Le[++ue]&&Le[++he]===Le[++ue]&&Le[++he]===Le[++ue]&&Le[++he]===Le[++ue]&&Le[++he]===Le[++ue]&&Le[++he]===Le[++ue]&&Le[++he]===Le[++ue]&&he<_e);if(se=R-(_e-he),he=_e-R,Re<se){if(N.match_start=Ae,Te<=(Re=se))break;be=Le[he+Re-1],xe=Le[he+Re]}}while((Ae=Oe[Ae&Ie])>ye&&--ne!=0);return Re<=N.lookahead?Re:N.lookahead}function fe(N){var Ae,ue,se,ne,he,Re,Te,ye,Le,Ie,Oe=N.w_size;do{if(ne=N.window_size-N.lookahead-N.strstart,N.strstart>=Oe+(Oe-L)){for(b.arraySet(N.window,N.window,Oe,Oe,0),N.match_start-=Oe,N.strstart-=Oe,N.block_start-=Oe,Ae=ue=N.hash_size;se=N.head[--Ae],N.head[Ae]=Oe<=se?se-Oe:0,--ue;);for(Ae=ue=Oe;se=N.prev[--Ae],N.prev[Ae]=Oe<=se?se-Oe:0,--ue;);ne+=Oe}if(N.strm.avail_in===0)break;if(Re=N.strm,Te=N.window,ye=N.strstart+N.lookahead,Le=ne,Ie=void 0,Ie=Re.avail_in,Le<Ie&&(Ie=Le),ue=Ie===0?0:(Re.avail_in-=Ie,b.arraySet(Te,Re.input,Re.next_in,Ie,ye),Re.state.wrap===1?Re.adler=s(Re.adler,Te,Ie,ye):Re.state.wrap===2&&(Re.adler=d(Re.adler,Te,Ie,ye)),Re.next_in+=Ie,Re.total_in+=Ie,Ie),N.lookahead+=ue,N.lookahead+N.insert>=C)for(he=N.strstart-N.insert,N.ins_h=N.window[he],N.ins_h=(N.ins_h<<N.hash_shift^N.window[he+1])&N.hash_mask;N.insert&&(N.ins_h=(N.ins_h<<N.hash_shift^N.window[he+C-1])&N.hash_mask,N.prev[he&N.w_mask]=N.head[N.ins_h],N.head[N.ins_h]=he,he++,N.insert--,!(N.lookahead+N.insert<C)););}while(N.lookahead<L&&N.strm.avail_in!==0)}function Ee(N,Ae){for(var ue,se;;){if(N.lookahead<L){if(fe(N),N.lookahead<L&&Ae===n)return l;if(N.lookahead===0)break}if(ue=0,N.lookahead>=C&&(N.ins_h=(N.ins_h<<N.hash_shift^N.window[N.strstart+C-1])&N.hash_mask,ue=N.prev[N.strstart&N.w_mask]=N.head[N.ins_h],N.head[N.ins_h]=N.strstart),ue!==0&&N.strstart-ue<=N.w_size-L&&(N.match_length=oe(N,ue)),N.match_length>=C)if(se=_._tr_tally(N,N.strstart-N.match_start,N.match_length-C),N.lookahead-=N.match_length,N.match_length<=N.max_lazy_match&&N.lookahead>=C){for(N.match_length--;N.strstart++,N.ins_h=(N.ins_h<<N.hash_shift^N.window[N.strstart+C-1])&N.hash_mask,ue=N.prev[N.strstart&N.w_mask]=N.head[N.ins_h],N.head[N.ins_h]=N.strstart,--N.match_length!=0;);N.strstart++}else N.strstart+=N.match_length,N.match_length=0,N.ins_h=N.window[N.strstart],N.ins_h=(N.ins_h<<N.hash_shift^N.window[N.strstart+1])&N.hash_mask;else se=_._tr_tally(N,0,N.window[N.strstart]),N.lookahead--,N.strstart++;if(se&&(K(N,!1),N.strm.avail_out===0))return l}return N.insert=N.strstart<C-1?N.strstart:C-1,Ae===i?(K(N,!0),N.strm.avail_out===0?k:I):N.last_lit&&(K(N,!1),N.strm.avail_out===0)?l:w}function Ce(N,Ae){for(var ue,se,ne;;){if(N.lookahead<L){if(fe(N),N.lookahead<L&&Ae===n)return l;if(N.lookahead===0)break}if(ue=0,N.lookahead>=C&&(N.ins_h=(N.ins_h<<N.hash_shift^N.window[N.strstart+C-1])&N.hash_mask,ue=N.prev[N.strstart&N.w_mask]=N.head[N.ins_h],N.head[N.ins_h]=N.strstart),N.prev_length=N.match_length,N.prev_match=N.match_start,N.match_length=C-1,ue!==0&&N.prev_length<N.max_lazy_match&&N.strstart-ue<=N.w_size-L&&(N.match_length=oe(N,ue),N.match_length<=5&&(N.strategy===1||N.match_length===C&&4096<N.strstart-N.match_start)&&(N.match_length=C-1)),N.prev_length>=C&&N.match_length<=N.prev_length){for(ne=N.strstart+N.lookahead-C,se=_._tr_tally(N,N.strstart-1-N.prev_match,N.prev_length-C),N.lookahead-=N.prev_length-1,N.prev_length-=2;++N.strstart<=ne&&(N.ins_h=(N.ins_h<<N.hash_shift^N.window[N.strstart+C-1])&N.hash_mask,ue=N.prev[N.strstart&N.w_mask]=N.head[N.ins_h],N.head[N.ins_h]=N.strstart),--N.prev_length!=0;);if(N.match_available=0,N.match_length=C-1,N.strstart++,se&&(K(N,!1),N.strm.avail_out===0))return l}else if(N.match_available){if((se=_._tr_tally(N,0,N.window[N.strstart-1]))&&K(N,!1),N.strstart++,N.lookahead--,N.strm.avail_out===0)return l}else N.match_available=1,N.strstart++,N.lookahead--}return N.match_available&&(se=_._tr_tally(N,0,N.window[N.strstart-1]),N.match_available=0),N.insert=N.strstart<C-1?N.strstart:C-1,Ae===i?(K(N,!0),N.strm.avail_out===0?k:I):N.last_lit&&(K(N,!1),N.strm.avail_out===0)?l:w}function Se(N,Ae,ue,se,ne){this.good_length=N,this.max_lazy=Ae,this.nice_length=ue,this.max_chain=se,this.func=ne}function Be(){this.strm=null,this.status=0,this.pending_buf=null,this.pending_buf_size=0,this.pending_out=0,this.pending=0,this.wrap=0,this.gzhead=null,this.gzindex=0,this.method=h,this.last_flush=-1,this.w_size=0,this.w_bits=0,this.w_mask=0,this.window=null,this.window_size=0,this.prev=null,this.head=null,this.ins_h=0,this.hash_size=0,this.hash_bits=0,this.hash_mask=0,this.hash_shift=0,this.block_start=0,this.match_length=0,this.prev_match=0,this.match_available=0,this.strstart=0,this.match_start=0,this.lookahead=0,this.prev_length=0,this.max_chain_length=0,this.max_lazy_match=0,this.level=0,this.strategy=0,this.good_match=0,this.nice_match=0,this.dyn_ltree=new b.Buf16(2*m),this.dyn_dtree=new b.Buf16(2*(2*p+1)),this.bl_tree=new b.Buf16(2*(2*u+1)),J(this.dyn_ltree),J(this.dyn_dtree),J(this.bl_tree),this.l_desc=null,this.d_desc=null,this.bl_desc=null,this.bl_count=new b.Buf16(E+1),this.heap=new b.Buf16(2*v+1),J(this.heap),this.heap_len=0,this.heap_max=0,this.depth=new b.Buf16(2*v+1),J(this.depth),this.l_buf=0,this.lit_bufsize=0,this.last_lit=0,this.d_buf=0,this.opt_len=0,this.static_len=0,this.matches=0,this.insert=0,this.bi_buf=0,this.bi_valid=0}function Fe(N){var Ae;return N&&N.state?(N.total_in=N.total_out=0,N.data_type=c,(Ae=N.state).pending=0,Ae.pending_out=0,Ae.wrap<0&&(Ae.wrap=-Ae.wrap),Ae.status=Ae.wrap?g:y,N.adler=Ae.wrap===2?0:1,Ae.last_flush=n,_._tr_init(Ae),t):G(N,e)}function Ue(N){var Ae=Fe(N);return Ae===t&&function(ue){ue.window_size=2*ue.w_size,J(ue.head),ue.max_lazy_match=M[ue.level].max_lazy,ue.good_match=M[ue.level].good_length,ue.nice_match=M[ue.level].nice_length,ue.max_chain_length=M[ue.level].max_chain,ue.strstart=0,ue.block_start=0,ue.lookahead=0,ue.insert=0,ue.match_length=ue.prev_length=C-1,ue.match_available=0,ue.ins_h=0}(N.state),Ae}function Ye(N,Ae,ue,se,ne,he){if(!N)return e;var Re=1;if(Ae===r&&(Ae=6),se<0?(Re=0,se=-se):15<se&&(Re=2,se-=16),ne<1||$<ne||ue!==h||se<8||15<se||Ae<0||9<Ae||he<0||a<he)return G(N,e);se===8&&(se=9);var Te=new Be;return(N.state=Te).strm=N,Te.wrap=Re,Te.gzhead=null,Te.w_bits=se,Te.w_size=1<<Te.w_bits,Te.w_mask=Te.w_size-1,Te.hash_bits=ne+7,Te.hash_size=1<<Te.hash_bits,Te.hash_mask=Te.hash_size-1,Te.hash_shift=~~((Te.hash_bits+C-1)/C),Te.window=new b.Buf8(2*Te.w_size),Te.head=new b.Buf16(Te.hash_size),Te.prev=new b.Buf16(Te.w_size),Te.lit_bufsize=1<<ne+6,Te.pending_buf_size=4*Te.lit_bufsize,Te.pending_buf=new b.Buf8(Te.pending_buf_size),Te.d_buf=1*Te.lit_bufsize,Te.l_buf=3*Te.lit_bufsize,Te.level=Ae,Te.strategy=he,Te.method=ue,Ue(N)}M=[new Se(0,0,0,0,function(N,Ae){var ue=65535;for(ue>N.pending_buf_size-5&&(ue=N.pending_buf_size-5);;){if(N.lookahead<=1){if(fe(N),N.lookahead===0&&Ae===n)return l;if(N.lookahead===0)break}N.strstart+=N.lookahead,N.lookahead=0;var se=N.block_start+ue;if((N.strstart===0||N.strstart>=se)&&(N.lookahead=N.strstart-se,N.strstart=se,K(N,!1),N.strm.avail_out===0)||N.strstart-N.block_start>=N.w_size-L&&(K(N,!1),N.strm.avail_out===0))return l}return N.insert=0,Ae===i?(K(N,!0),N.strm.avail_out===0?k:I):(N.strstart>N.block_start&&(K(N,!1),N.strm.avail_out),l)}),new Se(4,4,8,4,Ee),new Se(4,5,16,8,Ee),new Se(4,6,32,32,Ee),new Se(4,4,16,16,Ce),new Se(8,16,32,32,Ce),new Se(8,16,128,128,Ce),new Se(8,32,128,256,Ce),new Se(32,128,258,1024,Ce),new Se(32,258,258,4096,Ce)],z.deflateInit=function(N,Ae){return Ye(N,Ae,h,15,8,0)},z.deflateInit2=Ye,z.deflateReset=Ue,z.deflateResetKeep=Fe,z.deflateSetHeader=function(N,Ae){return N&&N.state?N.state.wrap!==2?e:(N.state.gzhead=Ae,t):e},z.deflate=function(N,Ae){var ue,se,ne,he;if(!N||!N.state||5<Ae||Ae<0)return N?G(N,e):e;if(se=N.state,!N.output||!N.input&&N.avail_in!==0||se.status===666&&Ae!==i)return G(N,N.avail_out===0?-5:e);if(se.strm=N,ue=se.last_flush,se.last_flush=Ae,se.status===g)if(se.wrap===2)N.adler=0,ie(se,31),ie(se,139),ie(se,8),se.gzhead?(ie(se,(se.gzhead.text?1:0)+(se.gzhead.hcrc?2:0)+(se.gzhead.extra?4:0)+(se.gzhead.name?8:0)+(se.gzhead.comment?16:0)),ie(se,255&se.gzhead.time),ie(se,se.gzhead.time>>8&255),ie(se,se.gzhead.time>>16&255),ie(se,se.gzhead.time>>24&255),ie(se,se.level===9?2:2<=se.strategy||se.level<2?4:0),ie(se,255&se.gzhead.os),se.gzhead.extra&&se.gzhead.extra.length&&(ie(se,255&se.gzhead.extra.length),ie(se,se.gzhead.extra.length>>8&255)),se.gzhead.hcrc&&(N.adler=d(N.adler,se.pending_buf,se.pending,0)),se.gzindex=0,se.status=69):(ie(se,0),ie(se,0),ie(se,0),ie(se,0),ie(se,0),ie(se,se.level===9?2:2<=se.strategy||se.level<2?4:0),ie(se,3),se.status=y);else{var Re=h+(se.w_bits-8<<4)<<8;Re|=(2<=se.strategy||se.level<2?0:se.level<6?1:se.level===6?2:3)<<6,se.strstart!==0&&(Re|=32),Re+=31-Re%31,se.status=y,ee(se,Re),se.strstart!==0&&(ee(se,N.adler>>>16),ee(se,65535&N.adler)),N.adler=1}if(se.status===69)if(se.gzhead.extra){for(ne=se.pending;se.gzindex<(65535&se.gzhead.extra.length)&&(se.pending!==se.pending_buf_size||(se.gzhead.hcrc&&se.pending>ne&&(N.adler=d(N.adler,se.pending_buf,se.pending-ne,ne)),j(N),ne=se.pending,se.pending!==se.pending_buf_size));)ie(se,255&se.gzhead.extra[se.gzindex]),se.gzindex++;se.gzhead.hcrc&&se.pending>ne&&(N.adler=d(N.adler,se.pending_buf,se.pending-ne,ne)),se.gzindex===se.gzhead.extra.length&&(se.gzindex=0,se.status=73)}else se.status=73;if(se.status===73)if(se.gzhead.name){ne=se.pending;do{if(se.pending===se.pending_buf_size&&(se.gzhead.hcrc&&se.pending>ne&&(N.adler=d(N.adler,se.pending_buf,se.pending-ne,ne)),j(N),ne=se.pending,se.pending===se.pending_buf_size)){he=1;break}he=se.gzindex<se.gzhead.name.length?255&se.gzhead.name.charCodeAt(se.gzindex++):0,ie(se,he)}while(he!==0);se.gzhead.hcrc&&se.pending>ne&&(N.adler=d(N.adler,se.pending_buf,se.pending-ne,ne)),he===0&&(se.gzindex=0,se.status=91)}else se.status=91;if(se.status===91)if(se.gzhead.comment){ne=se.pending;do{if(se.pending===se.pending_buf_size&&(se.gzhead.hcrc&&se.pending>ne&&(N.adler=d(N.adler,se.pending_buf,se.pending-ne,ne)),j(N),ne=se.pending,se.pending===se.pending_buf_size)){he=1;break}he=se.gzindex<se.gzhead.comment.length?255&se.gzhead.comment.charCodeAt(se.gzindex++):0,ie(se,he)}while(he!==0);se.gzhead.hcrc&&se.pending>ne&&(N.adler=d(N.adler,se.pending_buf,se.pending-ne,ne)),he===0&&(se.status=103)}else se.status=103;if(se.status===103&&(se.gzhead.hcrc?(se.pending+2>se.pending_buf_size&&j(N),se.pending+2<=se.pending_buf_size&&(ie(se,255&N.adler),ie(se,N.adler>>8&255),N.adler=0,se.status=y)):se.status=y),se.pending!==0){if(j(N),N.avail_out===0)return se.last_flush=-1,t}else if(N.avail_in===0&&H(Ae)<=H(ue)&&Ae!==i)return G(N,-5);if(se.status===666&&N.avail_in!==0)return G(N,-5);if(N.avail_in!==0||se.lookahead!==0||Ae!==n&&se.status!==666){var Te=se.strategy===2?function(ye,Le){for(var Ie;;){if(ye.lookahead===0&&(fe(ye),ye.lookahead===0)){if(Le===n)return l;break}if(ye.match_length=0,Ie=_._tr_tally(ye,0,ye.window[ye.strstart]),ye.lookahead--,ye.strstart++,Ie&&(K(ye,!1),ye.strm.avail_out===0))return l}return ye.insert=0,Le===i?(K(ye,!0),ye.strm.avail_out===0?k:I):ye.last_lit&&(K(ye,!1),ye.strm.avail_out===0)?l:w}(se,Ae):se.strategy===3?function(ye,Le){for(var Ie,Oe,_e,be,xe=ye.window;;){if(ye.lookahead<=R){if(fe(ye),ye.lookahead<=R&&Le===n)return l;if(ye.lookahead===0)break}if(ye.match_length=0,ye.lookahead>=C&&0<ye.strstart&&(Oe=xe[_e=ye.strstart-1])===xe[++_e]&&Oe===xe[++_e]&&Oe===xe[++_e]){be=ye.strstart+R;do;while(Oe===xe[++_e]&&Oe===xe[++_e]&&Oe===xe[++_e]&&Oe===xe[++_e]&&Oe===xe[++_e]&&Oe===xe[++_e]&&Oe===xe[++_e]&&Oe===xe[++_e]&&_e<be);ye.match_length=R-(be-_e),ye.match_length>ye.lookahead&&(ye.match_length=ye.lookahead)}if(ye.match_length>=C?(Ie=_._tr_tally(ye,1,ye.match_length-C),ye.lookahead-=ye.match_length,ye.strstart+=ye.match_length,ye.match_length=0):(Ie=_._tr_tally(ye,0,ye.window[ye.strstart]),ye.lookahead--,ye.strstart++),Ie&&(K(ye,!1),ye.strm.avail_out===0))return l}return ye.insert=0,Le===i?(K(ye,!0),ye.strm.avail_out===0?k:I):ye.last_lit&&(K(ye,!1),ye.strm.avail_out===0)?l:w}(se,Ae):M[se.level].func(se,Ae);if(Te!==k&&Te!==I||(se.status=666),Te===l||Te===k)return N.avail_out===0&&(se.last_flush=-1),t;if(Te===w&&(Ae===1?_._tr_align(se):Ae!==5&&(_._tr_stored_block(se,0,0,!1),Ae===3&&(J(se.head),se.lookahead===0&&(se.strstart=0,se.block_start=0,se.insert=0))),j(N),N.avail_out===0))return se.last_flush=-1,t}return Ae!==i?t:se.wrap<=0?1:(se.wrap===2?(ie(se,255&N.adler),ie(se,N.adler>>8&255),ie(se,N.adler>>16&255),ie(se,N.adler>>24&255),ie(se,255&N.total_in),ie(se,N.total_in>>8&255),ie(se,N.total_in>>16&255),ie(se,N.total_in>>24&255)):(ee(se,N.adler>>>16),ee(se,65535&N.adler)),j(N),0<se.wrap&&(se.wrap=-se.wrap),se.pending!==0?t:1)},z.deflateEnd=function(N){var Ae;return N&&N.state?(Ae=N.state.status)!==g&&Ae!==69&&Ae!==73&&Ae!==91&&Ae!==103&&Ae!==y&&Ae!==666?G(N,e):(N.state=null,Ae===y?G(N,-3):t):e},z.deflateSetDictionary=function(N,Ae){var ue,se,ne,he,Re,Te,ye,Le,Ie=Ae.length;if(!N||!N.state||(he=(ue=N.state).wrap)===2||he===1&&ue.status!==g||ue.lookahead)return e;for(he===1&&(N.adler=s(N.adler,Ae,Ie,0)),ue.wrap=0,Ie>=ue.w_size&&(he===0&&(J(ue.head),ue.strstart=0,ue.block_start=0,ue.insert=0),Le=new b.Buf8(ue.w_size),b.arraySet(Le,Ae,Ie-ue.w_size,ue.w_size,0),Ae=Le,Ie=ue.w_size),Re=N.avail_in,Te=N.next_in,ye=N.input,N.avail_in=Ie,N.next_in=0,N.input=Ae,fe(ue);ue.lookahead>=C;){for(se=ue.strstart,ne=ue.lookahead-(C-1);ue.ins_h=(ue.ins_h<<ue.hash_shift^ue.window[se+C-1])&ue.hash_mask,ue.prev[se&ue.w_mask]=ue.head[ue.ins_h],ue.head[ue.ins_h]=se,se++,--ne;);ue.strstart=se,ue.lookahead=C-1,fe(ue)}return ue.strstart+=ue.lookahead,ue.block_start=ue.strstart,ue.insert=ue.lookahead,ue.lookahead=0,ue.match_length=ue.prev_length=C-1,ue.match_available=0,N.next_in=Te,N.input=ye,N.avail_in=Re,ue.wrap=he,t},z.deflateInfo="pako deflate (from Nodeca project)"},{"../utils/common":41,"./adler32":43,"./crc32":45,"./messages":51,"./trees":52}],47:[function(f,B,z){B.exports=function(){this.text=0,this.time=0,this.xflags=0,this.os=0,this.extra=null,this.extra_len=0,this.name="",this.comment="",this.hcrc=0,this.done=!1}},{}],48:[function(f,B,z){B.exports=function(M,b){var _,s,d,o,n,i,t,e,r,a,c,h,$,v,p,u,m,E,C,R,L,g,y,l,w;_=M.state,s=M.next_in,l=M.input,d=s+(M.avail_in-5),o=M.next_out,w=M.output,n=o-(b-M.avail_out),i=o+(M.avail_out-257),t=_.dmax,e=_.wsize,r=_.whave,a=_.wnext,c=_.window,h=_.hold,$=_.bits,v=_.lencode,p=_.distcode,u=(1<<_.lenbits)-1,m=(1<<_.distbits)-1;e:do{$<15&&(h+=l[s++]<<$,$+=8,h+=l[s++]<<$,$+=8),E=v[h&u];t:for(;;){if(h>>>=C=E>>>24,$-=C,(C=E>>>16&255)===0)w[o++]=65535&E;else{if(!(16&C)){if((64&C)==0){E=v[(65535&E)+(h&(1<<C)-1)];continue t}if(32&C){_.mode=12;break e}M.msg="invalid literal/length code",_.mode=30;break e}R=65535&E,(C&=15)&&($<C&&(h+=l[s++]<<$,$+=8),R+=h&(1<<C)-1,h>>>=C,$-=C),$<15&&(h+=l[s++]<<$,$+=8,h+=l[s++]<<$,$+=8),E=p[h&m];n:for(;;){if(h>>>=C=E>>>24,$-=C,!(16&(C=E>>>16&255))){if((64&C)==0){E=p[(65535&E)+(h&(1<<C)-1)];continue n}M.msg="invalid distance code",_.mode=30;break e}if(L=65535&E,$<(C&=15)&&(h+=l[s++]<<$,($+=8)<C&&(h+=l[s++]<<$,$+=8)),t<(L+=h&(1<<C)-1)){M.msg="invalid distance too far back",_.mode=30;break e}if(h>>>=C,$-=C,(C=o-n)<L){if(r<(C=L-C)&&_.sane){M.msg="invalid distance too far back",_.mode=30;break e}if(y=c,(g=0)===a){if(g+=e-C,C<R){for(R-=C;w[o++]=c[g++],--C;);g=o-L,y=w}}else if(a<C){if(g+=e+a-C,(C-=a)<R){for(R-=C;w[o++]=c[g++],--C;);if(g=0,a<R){for(R-=C=a;w[o++]=c[g++],--C;);g=o-L,y=w}}}else if(g+=a-C,C<R){for(R-=C;w[o++]=c[g++],--C;);g=o-L,y=w}for(;2<R;)w[o++]=y[g++],w[o++]=y[g++],w[o++]=y[g++],R-=3;R&&(w[o++]=y[g++],1<R&&(w[o++]=y[g++]))}else{for(g=o-L;w[o++]=w[g++],w[o++]=w[g++],w[o++]=w[g++],2<(R-=3););R&&(w[o++]=w[g++],1<R&&(w[o++]=w[g++]))}break}}break}}while(s<d&&o<i);s-=R=$>>3,h&=(1<<($-=R<<3))-1,M.next_in=s,M.next_out=o,M.avail_in=s<d?d-s+5:5-(s-d),M.avail_out=o<i?i-o+257:257-(o-i),_.hold=h,_.bits=$}},{}],49:[function(f,B,z){var M=f("../utils/common"),b=f("./adler32"),_=f("./crc32"),s=f("./inffast"),d=f("./inftrees"),o=1,n=2,i=0,t=-2,e=1,r=852,a=592;function c(g){return(g>>>24&255)+(g>>>8&65280)+((65280&g)<<8)+((255&g)<<24)}function h(){this.mode=0,this.last=!1,this.wrap=0,this.havedict=!1,this.flags=0,this.dmax=0,this.check=0,this.total=0,this.head=null,this.wbits=0,this.wsize=0,this.whave=0,this.wnext=0,this.window=null,this.hold=0,this.bits=0,this.length=0,this.offset=0,this.extra=0,this.lencode=null,this.distcode=null,this.lenbits=0,this.distbits=0,this.ncode=0,this.nlen=0,this.ndist=0,this.have=0,this.next=null,this.lens=new M.Buf16(320),this.work=new M.Buf16(288),this.lendyn=null,this.distdyn=null,this.sane=0,this.back=0,this.was=0}function $(g){var y;return g&&g.state?(y=g.state,g.total_in=g.total_out=y.total=0,g.msg="",y.wrap&&(g.adler=1&y.wrap),y.mode=e,y.last=0,y.havedict=0,y.dmax=32768,y.head=null,y.hold=0,y.bits=0,y.lencode=y.lendyn=new M.Buf32(r),y.distcode=y.distdyn=new M.Buf32(a),y.sane=1,y.back=-1,i):t}function v(g){var y;return g&&g.state?((y=g.state).wsize=0,y.whave=0,y.wnext=0,$(g)):t}function p(g,y){var l,w;return g&&g.state?(w=g.state,y<0?(l=0,y=-y):(l=1+(y>>4),y<48&&(y&=15)),y&&(y<8||15<y)?t:(w.window!==null&&w.wbits!==y&&(w.window=null),w.wrap=l,w.wbits=y,v(g))):t}function u(g,y){var l,w;return g?(w=new h,(g.state=w).window=null,(l=p(g,y))!==i&&(g.state=null),l):t}var m,E,C=!0;function R(g){if(C){var y;for(m=new M.Buf32(512),E=new M.Buf32(32),y=0;y<144;)g.lens[y++]=8;for(;y<256;)g.lens[y++]=9;for(;y<280;)g.lens[y++]=7;for(;y<288;)g.lens[y++]=8;for(d(o,g.lens,0,288,m,0,g.work,{bits:9}),y=0;y<32;)g.lens[y++]=5;d(n,g.lens,0,32,E,0,g.work,{bits:5}),C=!1}g.lencode=m,g.lenbits=9,g.distcode=E,g.distbits=5}function L(g,y,l,w){var k,I=g.state;return I.window===null&&(I.wsize=1<<I.wbits,I.wnext=0,I.whave=0,I.window=new M.Buf8(I.wsize)),w>=I.wsize?(M.arraySet(I.window,y,l-I.wsize,I.wsize,0),I.wnext=0,I.whave=I.wsize):(w<(k=I.wsize-I.wnext)&&(k=w),M.arraySet(I.window,y,l-w,k,I.wnext),(w-=k)?(M.arraySet(I.window,y,l-w,w,0),I.wnext=w,I.whave=I.wsize):(I.wnext+=k,I.wnext===I.wsize&&(I.wnext=0),I.whave<I.wsize&&(I.whave+=k))),0}z.inflateReset=v,z.inflateReset2=p,z.inflateResetKeep=$,z.inflateInit=function(g){return u(g,15)},z.inflateInit2=u,z.inflate=function(g,y){var l,w,k,I,G,H,J,j,K,ie,ee,oe,fe,Ee,Ce,Se,Be,Fe,Ue,Ye,N,Ae,ue,se,ne=0,he=new M.Buf8(4),Re=[16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15];if(!g||!g.state||!g.output||!g.input&&g.avail_in!==0)return t;(l=g.state).mode===12&&(l.mode=13),G=g.next_out,k=g.output,J=g.avail_out,I=g.next_in,w=g.input,H=g.avail_in,j=l.hold,K=l.bits,ie=H,ee=J,Ae=i;e:for(;;)switch(l.mode){case e:if(l.wrap===0){l.mode=13;break}for(;K<16;){if(H===0)break e;H--,j+=w[I++]<<K,K+=8}if(2&l.wrap&&j===35615){he[l.check=0]=255&j,he[1]=j>>>8&255,l.check=_(l.check,he,2,0),K=j=0,l.mode=2;break}if(l.flags=0,l.head&&(l.head.done=!1),!(1&l.wrap)||(((255&j)<<8)+(j>>8))%31){g.msg="incorrect header check",l.mode=30;break}if((15&j)!=8){g.msg="unknown compression method",l.mode=30;break}if(K-=4,N=8+(15&(j>>>=4)),l.wbits===0)l.wbits=N;else if(N>l.wbits){g.msg="invalid window size",l.mode=30;break}l.dmax=1<<N,g.adler=l.check=1,l.mode=512&j?10:12,K=j=0;break;case 2:for(;K<16;){if(H===0)break e;H--,j+=w[I++]<<K,K+=8}if(l.flags=j,(255&l.flags)!=8){g.msg="unknown compression method",l.mode=30;break}if(57344&l.flags){g.msg="unknown header flags set",l.mode=30;break}l.head&&(l.head.text=j>>8&1),512&l.flags&&(he[0]=255&j,he[1]=j>>>8&255,l.check=_(l.check,he,2,0)),K=j=0,l.mode=3;case 3:for(;K<32;){if(H===0)break e;H--,j+=w[I++]<<K,K+=8}l.head&&(l.head.time=j),512&l.flags&&(he[0]=255&j,he[1]=j>>>8&255,he[2]=j>>>16&255,he[3]=j>>>24&255,l.check=_(l.check,he,4,0)),K=j=0,l.mode=4;case 4:for(;K<16;){if(H===0)break e;H--,j+=w[I++]<<K,K+=8}l.head&&(l.head.xflags=255&j,l.head.os=j>>8),512&l.flags&&(he[0]=255&j,he[1]=j>>>8&255,l.check=_(l.check,he,2,0)),K=j=0,l.mode=5;case 5:if(1024&l.flags){for(;K<16;){if(H===0)break e;H--,j+=w[I++]<<K,K+=8}l.length=j,l.head&&(l.head.extra_len=j),512&l.flags&&(he[0]=255&j,he[1]=j>>>8&255,l.check=_(l.check,he,2,0)),K=j=0}else l.head&&(l.head.extra=null);l.mode=6;case 6:if(1024&l.flags&&(H<(oe=l.length)&&(oe=H),oe&&(l.head&&(N=l.head.extra_len-l.length,l.head.extra||(l.head.extra=new Array(l.head.extra_len)),M.arraySet(l.head.extra,w,I,oe,N)),512&l.flags&&(l.check=_(l.check,w,oe,I)),H-=oe,I+=oe,l.length-=oe),l.length))break e;l.length=0,l.mode=7;case 7:if(2048&l.flags){if(H===0)break e;for(oe=0;N=w[I+oe++],l.head&&N&&l.length<65536&&(l.head.name+=String.fromCharCode(N)),N&&oe<H;);if(512&l.flags&&(l.check=_(l.check,w,oe,I)),H-=oe,I+=oe,N)break e}else l.head&&(l.head.name=null);l.length=0,l.mode=8;case 8:if(4096&l.flags){if(H===0)break e;for(oe=0;N=w[I+oe++],l.head&&N&&l.length<65536&&(l.head.comment+=String.fromCharCode(N)),N&&oe<H;);if(512&l.flags&&(l.check=_(l.check,w,oe,I)),H-=oe,I+=oe,N)break e}else l.head&&(l.head.comment=null);l.mode=9;case 9:if(512&l.flags){for(;K<16;){if(H===0)break e;H--,j+=w[I++]<<K,K+=8}if(j!==(65535&l.check)){g.msg="header crc mismatch",l.mode=30;break}K=j=0}l.head&&(l.head.hcrc=l.flags>>9&1,l.head.done=!0),g.adler=l.check=0,l.mode=12;break;case 10:for(;K<32;){if(H===0)break e;H--,j+=w[I++]<<K,K+=8}g.adler=l.check=c(j),K=j=0,l.mode=11;case 11:if(l.havedict===0)return g.next_out=G,g.avail_out=J,g.next_in=I,g.avail_in=H,l.hold=j,l.bits=K,2;g.adler=l.check=1,l.mode=12;case 12:if(y===5||y===6)break e;case 13:if(l.last){j>>>=7&K,K-=7&K,l.mode=27;break}for(;K<3;){if(H===0)break e;H--,j+=w[I++]<<K,K+=8}switch(l.last=1&j,K-=1,3&(j>>>=1)){case 0:l.mode=14;break;case 1:if(R(l),l.mode=20,y!==6)break;j>>>=2,K-=2;break e;case 2:l.mode=17;break;case 3:g.msg="invalid block type",l.mode=30}j>>>=2,K-=2;break;case 14:for(j>>>=7&K,K-=7&K;K<32;){if(H===0)break e;H--,j+=w[I++]<<K,K+=8}if((65535&j)!=(j>>>16^65535)){g.msg="invalid stored block lengths",l.mode=30;break}if(l.length=65535&j,K=j=0,l.mode=15,y===6)break e;case 15:l.mode=16;case 16:if(oe=l.length){if(H<oe&&(oe=H),J<oe&&(oe=J),oe===0)break e;M.arraySet(k,w,I,oe,G),H-=oe,I+=oe,J-=oe,G+=oe,l.length-=oe;break}l.mode=12;break;case 17:for(;K<14;){if(H===0)break e;H--,j+=w[I++]<<K,K+=8}if(l.nlen=257+(31&j),j>>>=5,K-=5,l.ndist=1+(31&j),j>>>=5,K-=5,l.ncode=4+(15&j),j>>>=4,K-=4,286<l.nlen||30<l.ndist){g.msg="too many length or distance symbols",l.mode=30;break}l.have=0,l.mode=18;case 18:for(;l.have<l.ncode;){for(;K<3;){if(H===0)break e;H--,j+=w[I++]<<K,K+=8}l.lens[Re[l.have++]]=7&j,j>>>=3,K-=3}for(;l.have<19;)l.lens[Re[l.have++]]=0;if(l.lencode=l.lendyn,l.lenbits=7,ue={bits:l.lenbits},Ae=d(0,l.lens,0,19,l.lencode,0,l.work,ue),l.lenbits=ue.bits,Ae){g.msg="invalid code lengths set",l.mode=30;break}l.have=0,l.mode=19;case 19:for(;l.have<l.nlen+l.ndist;){for(;Se=(ne=l.lencode[j&(1<<l.lenbits)-1])>>>16&255,Be=65535&ne,!((Ce=ne>>>24)<=K);){if(H===0)break e;H--,j+=w[I++]<<K,K+=8}if(Be<16)j>>>=Ce,K-=Ce,l.lens[l.have++]=Be;else{if(Be===16){for(se=Ce+2;K<se;){if(H===0)break e;H--,j+=w[I++]<<K,K+=8}if(j>>>=Ce,K-=Ce,l.have===0){g.msg="invalid bit length repeat",l.mode=30;break}N=l.lens[l.have-1],oe=3+(3&j),j>>>=2,K-=2}else if(Be===17){for(se=Ce+3;K<se;){if(H===0)break e;H--,j+=w[I++]<<K,K+=8}K-=Ce,N=0,oe=3+(7&(j>>>=Ce)),j>>>=3,K-=3}else{for(se=Ce+7;K<se;){if(H===0)break e;H--,j+=w[I++]<<K,K+=8}K-=Ce,N=0,oe=11+(127&(j>>>=Ce)),j>>>=7,K-=7}if(l.have+oe>l.nlen+l.ndist){g.msg="invalid bit length repeat",l.mode=30;break}for(;oe--;)l.lens[l.have++]=N}}if(l.mode===30)break;if(l.lens[256]===0){g.msg="invalid code -- missing end-of-block",l.mode=30;break}if(l.lenbits=9,ue={bits:l.lenbits},Ae=d(o,l.lens,0,l.nlen,l.lencode,0,l.work,ue),l.lenbits=ue.bits,Ae){g.msg="invalid literal/lengths set",l.mode=30;break}if(l.distbits=6,l.distcode=l.distdyn,ue={bits:l.distbits},Ae=d(n,l.lens,l.nlen,l.ndist,l.distcode,0,l.work,ue),l.distbits=ue.bits,Ae){g.msg="invalid distances set",l.mode=30;break}if(l.mode=20,y===6)break e;case 20:l.mode=21;case 21:if(6<=H&&258<=J){g.next_out=G,g.avail_out=J,g.next_in=I,g.avail_in=H,l.hold=j,l.bits=K,s(g,ee),G=g.next_out,k=g.output,J=g.avail_out,I=g.next_in,w=g.input,H=g.avail_in,j=l.hold,K=l.bits,l.mode===12&&(l.back=-1);break}for(l.back=0;Se=(ne=l.lencode[j&(1<<l.lenbits)-1])>>>16&255,Be=65535&ne,!((Ce=ne>>>24)<=K);){if(H===0)break e;H--,j+=w[I++]<<K,K+=8}if(Se&&(240&Se)==0){for(Fe=Ce,Ue=Se,Ye=Be;Se=(ne=l.lencode[Ye+((j&(1<<Fe+Ue)-1)>>Fe)])>>>16&255,Be=65535&ne,!(Fe+(Ce=ne>>>24)<=K);){if(H===0)break e;H--,j+=w[I++]<<K,K+=8}j>>>=Fe,K-=Fe,l.back+=Fe}if(j>>>=Ce,K-=Ce,l.back+=Ce,l.length=Be,Se===0){l.mode=26;break}if(32&Se){l.back=-1,l.mode=12;break}if(64&Se){g.msg="invalid literal/length code",l.mode=30;break}l.extra=15&Se,l.mode=22;case 22:if(l.extra){for(se=l.extra;K<se;){if(H===0)break e;H--,j+=w[I++]<<K,K+=8}l.length+=j&(1<<l.extra)-1,j>>>=l.extra,K-=l.extra,l.back+=l.extra}l.was=l.length,l.mode=23;case 23:for(;Se=(ne=l.distcode[j&(1<<l.distbits)-1])>>>16&255,Be=65535&ne,!((Ce=ne>>>24)<=K);){if(H===0)break e;H--,j+=w[I++]<<K,K+=8}if((240&Se)==0){for(Fe=Ce,Ue=Se,Ye=Be;Se=(ne=l.distcode[Ye+((j&(1<<Fe+Ue)-1)>>Fe)])>>>16&255,Be=65535&ne,!(Fe+(Ce=ne>>>24)<=K);){if(H===0)break e;H--,j+=w[I++]<<K,K+=8}j>>>=Fe,K-=Fe,l.back+=Fe}if(j>>>=Ce,K-=Ce,l.back+=Ce,64&Se){g.msg="invalid distance code",l.mode=30;break}l.offset=Be,l.extra=15&Se,l.mode=24;case 24:if(l.extra){for(se=l.extra;K<se;){if(H===0)break e;H--,j+=w[I++]<<K,K+=8}l.offset+=j&(1<<l.extra)-1,j>>>=l.extra,K-=l.extra,l.back+=l.extra}if(l.offset>l.dmax){g.msg="invalid distance too far back",l.mode=30;break}l.mode=25;case 25:if(J===0)break e;if(oe=ee-J,l.offset>oe){if((oe=l.offset-oe)>l.whave&&l.sane){g.msg="invalid distance too far back",l.mode=30;break}fe=oe>l.wnext?(oe-=l.wnext,l.wsize-oe):l.wnext-oe,oe>l.length&&(oe=l.length),Ee=l.window}else Ee=k,fe=G-l.offset,oe=l.length;for(J<oe&&(oe=J),J-=oe,l.length-=oe;k[G++]=Ee[fe++],--oe;);l.length===0&&(l.mode=21);break;case 26:if(J===0)break e;k[G++]=l.length,J--,l.mode=21;break;case 27:if(l.wrap){for(;K<32;){if(H===0)break e;H--,j|=w[I++]<<K,K+=8}if(ee-=J,g.total_out+=ee,l.total+=ee,ee&&(g.adler=l.check=l.flags?_(l.check,k,ee,G-ee):b(l.check,k,ee,G-ee)),ee=J,(l.flags?j:c(j))!==l.check){g.msg="incorrect data check",l.mode=30;break}K=j=0}l.mode=28;case 28:if(l.wrap&&l.flags){for(;K<32;){if(H===0)break e;H--,j+=w[I++]<<K,K+=8}if(j!==(4294967295&l.total)){g.msg="incorrect length check",l.mode=30;break}K=j=0}l.mode=29;case 29:Ae=1;break e;case 30:Ae=-3;break e;case 31:return-4;case 32:default:return t}return g.next_out=G,g.avail_out=J,g.next_in=I,g.avail_in=H,l.hold=j,l.bits=K,(l.wsize||ee!==g.avail_out&&l.mode<30&&(l.mode<27||y!==4))&&L(g,g.output,g.next_out,ee-g.avail_out)?(l.mode=31,-4):(ie-=g.avail_in,ee-=g.avail_out,g.total_in+=ie,g.total_out+=ee,l.total+=ee,l.wrap&&ee&&(g.adler=l.check=l.flags?_(l.check,k,ee,g.next_out-ee):b(l.check,k,ee,g.next_out-ee)),g.data_type=l.bits+(l.last?64:0)+(l.mode===12?128:0)+(l.mode===20||l.mode===15?256:0),(ie==0&&ee===0||y===4)&&Ae===i&&(Ae=-5),Ae)},z.inflateEnd=function(g){if(!g||!g.state)return t;var y=g.state;return y.window&&(y.window=null),g.state=null,i},z.inflateGetHeader=function(g,y){var l;return g&&g.state?(2&(l=g.state).wrap)==0?t:((l.head=y).done=!1,i):t},z.inflateSetDictionary=function(g,y){var l,w=y.length;return g&&g.state?(l=g.state).wrap!==0&&l.mode!==11?t:l.mode===11&&b(1,y,w,0)!==l.check?-3:L(g,y,w,w)?(l.mode=31,-4):(l.havedict=1,i):t},z.inflateInfo="pako inflate (from Nodeca project)"},{"../utils/common":41,"./adler32":43,"./crc32":45,"./inffast":48,"./inftrees":50}],50:[function(f,B,z){var M=f("../utils/common"),b=[3,4,5,6,7,8,9,10,11,13,15,17,19,23,27,31,35,43,51,59,67,83,99,115,131,163,195,227,258,0,0],_=[16,16,16,16,16,16,16,16,17,17,17,17,18,18,18,18,19,19,19,19,20,20,20,20,21,21,21,21,16,72,78],s=[1,2,3,4,5,7,9,13,17,25,33,49,65,97,129,193,257,385,513,769,1025,1537,2049,3073,4097,6145,8193,12289,16385,24577,0,0],d=[16,16,16,16,17,17,18,18,19,19,20,20,21,21,22,22,23,23,24,24,25,25,26,26,27,27,28,28,29,29,64,64];B.exports=function(o,n,i,t,e,r,a,c){var h,$,v,p,u,m,E,C,R,L=c.bits,g=0,y=0,l=0,w=0,k=0,I=0,G=0,H=0,J=0,j=0,K=null,ie=0,ee=new M.Buf16(16),oe=new M.Buf16(16),fe=null,Ee=0;for(g=0;g<=15;g++)ee[g]=0;for(y=0;y<t;y++)ee[n[i+y]]++;for(k=L,w=15;1<=w&&ee[w]===0;w--);if(w<k&&(k=w),w===0)return e[r++]=20971520,e[r++]=20971520,c.bits=1,0;for(l=1;l<w&&ee[l]===0;l++);for(k<l&&(k=l),g=H=1;g<=15;g++)if(H<<=1,(H-=ee[g])<0)return-1;if(0<H&&(o===0||w!==1))return-1;for(oe[1]=0,g=1;g<15;g++)oe[g+1]=oe[g]+ee[g];for(y=0;y<t;y++)n[i+y]!==0&&(a[oe[n[i+y]]++]=y);if(m=o===0?(K=fe=a,19):o===1?(K=b,ie-=257,fe=_,Ee-=257,256):(K=s,fe=d,-1),g=l,u=r,G=y=j=0,v=-1,p=(J=1<<(I=k))-1,o===1&&852<J||o===2&&592<J)return 1;for(;;){for(E=g-G,R=a[y]<m?(C=0,a[y]):a[y]>m?(C=fe[Ee+a[y]],K[ie+a[y]]):(C=96,0),h=1<<g-G,l=$=1<<I;e[u+(j>>G)+($-=h)]=E<<24|C<<16|R|0,$!==0;);for(h=1<<g-1;j&h;)h>>=1;if(h!==0?(j&=h-1,j+=h):j=0,y++,--ee[g]==0){if(g===w)break;g=n[i+a[y]]}if(k<g&&(j&p)!==v){for(G===0&&(G=k),u+=l,H=1<<(I=g-G);I+G<w&&!((H-=ee[I+G])<=0);)I++,H<<=1;if(J+=1<<I,o===1&&852<J||o===2&&592<J)return 1;e[v=j&p]=k<<24|I<<16|u-r|0}}return j!==0&&(e[u+j]=g-G<<24|64<<16|0),c.bits=k,0}},{"../utils/common":41}],51:[function(f,B,z){B.exports={2:"need dictionary",1:"stream end",0:"","-1":"file error","-2":"stream error","-3":"data error","-4":"insufficient memory","-5":"buffer error","-6":"incompatible version"}},{}],52:[function(f,B,z){var M=f("../utils/common"),b=0,_=1;function s(ne){for(var he=ne.length;0<=--he;)ne[he]=0}var d=0,o=29,n=256,i=n+1+o,t=30,e=19,r=2*i+1,a=15,c=16,h=7,$=256,v=16,p=17,u=18,m=[0,0,0,0,0,0,0,0,1,1,1,1,2,2,2,2,3,3,3,3,4,4,4,4,5,5,5,5,0],E=[0,0,0,0,1,1,2,2,3,3,4,4,5,5,6,6,7,7,8,8,9,9,10,10,11,11,12,12,13,13],C=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,2,3,7],R=[16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15],L=new Array(2*(i+2));s(L);var g=new Array(2*t);s(g);var y=new Array(512);s(y);var l=new Array(256);s(l);var w=new Array(o);s(w);var k,I,G,H=new Array(t);function J(ne,he,Re,Te,ye){this.static_tree=ne,this.extra_bits=he,this.extra_base=Re,this.elems=Te,this.max_length=ye,this.has_stree=ne&&ne.length}function j(ne,he){this.dyn_tree=ne,this.max_code=0,this.stat_desc=he}function K(ne){return ne<256?y[ne]:y[256+(ne>>>7)]}function ie(ne,he){ne.pending_buf[ne.pending++]=255&he,ne.pending_buf[ne.pending++]=he>>>8&255}function ee(ne,he,Re){ne.bi_valid>c-Re?(ne.bi_buf|=he<<ne.bi_valid&65535,ie(ne,ne.bi_buf),ne.bi_buf=he>>c-ne.bi_valid,ne.bi_valid+=Re-c):(ne.bi_buf|=he<<ne.bi_valid&65535,ne.bi_valid+=Re)}function oe(ne,he,Re){ee(ne,Re[2*he],Re[2*he+1])}function fe(ne,he){for(var Re=0;Re|=1&ne,ne>>>=1,Re<<=1,0<--he;);return Re>>>1}function Ee(ne,he,Re){var Te,ye,Le=new Array(a+1),Ie=0;for(Te=1;Te<=a;Te++)Le[Te]=Ie=Ie+Re[Te-1]<<1;for(ye=0;ye<=he;ye++){var Oe=ne[2*ye+1];Oe!==0&&(ne[2*ye]=fe(Le[Oe]++,Oe))}}function Ce(ne){var he;for(he=0;he<i;he++)ne.dyn_ltree[2*he]=0;for(he=0;he<t;he++)ne.dyn_dtree[2*he]=0;for(he=0;he<e;he++)ne.bl_tree[2*he]=0;ne.dyn_ltree[2*$]=1,ne.opt_len=ne.static_len=0,ne.last_lit=ne.matches=0}function Se(ne){8<ne.bi_valid?ie(ne,ne.bi_buf):0<ne.bi_valid&&(ne.pending_buf[ne.pending++]=ne.bi_buf),ne.bi_buf=0,ne.bi_valid=0}function Be(ne,he,Re,Te){var ye=2*he,Le=2*Re;return ne[ye]<ne[Le]||ne[ye]===ne[Le]&&Te[he]<=Te[Re]}function Fe(ne,he,Re){for(var Te=ne.heap[Re],ye=Re<<1;ye<=ne.heap_len&&(ye<ne.heap_len&&Be(he,ne.heap[ye+1],ne.heap[ye],ne.depth)&&ye++,!Be(he,Te,ne.heap[ye],ne.depth));)ne.heap[Re]=ne.heap[ye],Re=ye,ye<<=1;ne.heap[Re]=Te}function Ue(ne,he,Re){var Te,ye,Le,Ie,Oe=0;if(ne.last_lit!==0)for(;Te=ne.pending_buf[ne.d_buf+2*Oe]<<8|ne.pending_buf[ne.d_buf+2*Oe+1],ye=ne.pending_buf[ne.l_buf+Oe],Oe++,Te===0?oe(ne,ye,he):(oe(ne,(Le=l[ye])+n+1,he),(Ie=m[Le])!==0&&ee(ne,ye-=w[Le],Ie),oe(ne,Le=K(--Te),Re),(Ie=E[Le])!==0&&ee(ne,Te-=H[Le],Ie)),Oe<ne.last_lit;);oe(ne,$,he)}function Ye(ne,he){var Re,Te,ye,Le=he.dyn_tree,Ie=he.stat_desc.static_tree,Oe=he.stat_desc.has_stree,_e=he.stat_desc.elems,be=-1;for(ne.heap_len=0,ne.heap_max=r,Re=0;Re<_e;Re++)Le[2*Re]!==0?(ne.heap[++ne.heap_len]=be=Re,ne.depth[Re]=0):Le[2*Re+1]=0;for(;ne.heap_len<2;)Le[2*(ye=ne.heap[++ne.heap_len]=be<2?++be:0)]=1,ne.depth[ye]=0,ne.opt_len--,Oe&&(ne.static_len-=Ie[2*ye+1]);for(he.max_code=be,Re=ne.heap_len>>1;1<=Re;Re--)Fe(ne,Le,Re);for(ye=_e;Re=ne.heap[1],ne.heap[1]=ne.heap[ne.heap_len--],Fe(ne,Le,1),Te=ne.heap[1],ne.heap[--ne.heap_max]=Re,ne.heap[--ne.heap_max]=Te,Le[2*ye]=Le[2*Re]+Le[2*Te],ne.depth[ye]=(ne.depth[Re]>=ne.depth[Te]?ne.depth[Re]:ne.depth[Te])+1,Le[2*Re+1]=Le[2*Te+1]=ye,ne.heap[1]=ye++,Fe(ne,Le,1),2<=ne.heap_len;);ne.heap[--ne.heap_max]=ne.heap[1],function(xe,de){var qe,Ke,$e,De,Ne,W,We=de.dyn_tree,S=de.max_code,Qe=de.stat_desc.static_tree,Ve=de.stat_desc.has_stree,rt=de.stat_desc.extra_bits,vt=de.stat_desc.extra_base,_t=de.stat_desc.max_length,Et=0;for(De=0;De<=a;De++)xe.bl_count[De]=0;for(We[2*xe.heap[xe.heap_max]+1]=0,qe=xe.heap_max+1;qe<r;qe++)_t<(De=We[2*We[2*(Ke=xe.heap[qe])+1]+1]+1)&&(De=_t,Et++),We[2*Ke+1]=De,S<Ke||(xe.bl_count[De]++,Ne=0,vt<=Ke&&(Ne=rt[Ke-vt]),W=We[2*Ke],xe.opt_len+=W*(De+Ne),Ve&&(xe.static_len+=W*(Qe[2*Ke+1]+Ne)));if(Et!==0){do{for(De=_t-1;xe.bl_count[De]===0;)De--;xe.bl_count[De]--,xe.bl_count[De+1]+=2,xe.bl_count[_t]--,Et-=2}while(0<Et);for(De=_t;De!==0;De--)for(Ke=xe.bl_count[De];Ke!==0;)S<($e=xe.heap[--qe])||(We[2*$e+1]!==De&&(xe.opt_len+=(De-We[2*$e+1])*We[2*$e],We[2*$e+1]=De),Ke--)}}(ne,he),Ee(Le,be,ne.bl_count)}function N(ne,he,Re){var Te,ye,Le=-1,Ie=he[1],Oe=0,_e=7,be=4;for(Ie===0&&(_e=138,be=3),he[2*(Re+1)+1]=65535,Te=0;Te<=Re;Te++)ye=Ie,Ie=he[2*(Te+1)+1],++Oe<_e&&ye===Ie||(Oe<be?ne.bl_tree[2*ye]+=Oe:ye!==0?(ye!==Le&&ne.bl_tree[2*ye]++,ne.bl_tree[2*v]++):Oe<=10?ne.bl_tree[2*p]++:ne.bl_tree[2*u]++,Le=ye,be=(Oe=0)===Ie?(_e=138,3):ye===Ie?(_e=6,3):(_e=7,4))}function Ae(ne,he,Re){var Te,ye,Le=-1,Ie=he[1],Oe=0,_e=7,be=4;for(Ie===0&&(_e=138,be=3),Te=0;Te<=Re;Te++)if(ye=Ie,Ie=he[2*(Te+1)+1],!(++Oe<_e&&ye===Ie)){if(Oe<be)for(;oe(ne,ye,ne.bl_tree),--Oe!=0;);else ye!==0?(ye!==Le&&(oe(ne,ye,ne.bl_tree),Oe--),oe(ne,v,ne.bl_tree),ee(ne,Oe-3,2)):Oe<=10?(oe(ne,p,ne.bl_tree),ee(ne,Oe-3,3)):(oe(ne,u,ne.bl_tree),ee(ne,Oe-11,7));Le=ye,be=(Oe=0)===Ie?(_e=138,3):ye===Ie?(_e=6,3):(_e=7,4)}}s(H);var ue=!1;function se(ne,he,Re,Te){ee(ne,(d<<1)+(Te?1:0),3),function(ye,Le,Ie,Oe){Se(ye),ie(ye,Ie),ie(ye,~Ie),M.arraySet(ye.pending_buf,ye.window,Le,Ie,ye.pending),ye.pending+=Ie}(ne,he,Re)}z._tr_init=function(ne){ue||(function(){var he,Re,Te,ye,Le,Ie=new Array(a+1);for(ye=Te=0;ye<o-1;ye++)for(w[ye]=Te,he=0;he<1<<m[ye];he++)l[Te++]=ye;for(l[Te-1]=ye,ye=Le=0;ye<16;ye++)for(H[ye]=Le,he=0;he<1<<E[ye];he++)y[Le++]=ye;for(Le>>=7;ye<t;ye++)for(H[ye]=Le<<7,he=0;he<1<<E[ye]-7;he++)y[256+Le++]=ye;for(Re=0;Re<=a;Re++)Ie[Re]=0;for(he=0;he<=143;)L[2*he+1]=8,he++,Ie[8]++;for(;he<=255;)L[2*he+1]=9,he++,Ie[9]++;for(;he<=279;)L[2*he+1]=7,he++,Ie[7]++;for(;he<=287;)L[2*he+1]=8,he++,Ie[8]++;for(Ee(L,i+1,Ie),he=0;he<t;he++)g[2*he+1]=5,g[2*he]=fe(he,5);k=new J(L,m,n+1,i,a),I=new J(g,E,0,t,a),G=new J(new Array(0),C,0,e,h)}(),ue=!0),ne.l_desc=new j(ne.dyn_ltree,k),ne.d_desc=new j(ne.dyn_dtree,I),ne.bl_desc=new j(ne.bl_tree,G),ne.bi_buf=0,ne.bi_valid=0,Ce(ne)},z._tr_stored_block=se,z._tr_flush_block=function(ne,he,Re,Te){var ye,Le,Ie=0;0<ne.level?(ne.strm.data_type===2&&(ne.strm.data_type=function(Oe){var _e,be=4093624447;for(_e=0;_e<=31;_e++,be>>>=1)if(1&be&&Oe.dyn_ltree[2*_e]!==0)return b;if(Oe.dyn_ltree[18]!==0||Oe.dyn_ltree[20]!==0||Oe.dyn_ltree[26]!==0)return _;for(_e=32;_e<n;_e++)if(Oe.dyn_ltree[2*_e]!==0)return _;return b}(ne)),Ye(ne,ne.l_desc),Ye(ne,ne.d_desc),Ie=function(Oe){var _e;for(N(Oe,Oe.dyn_ltree,Oe.l_desc.max_code),N(Oe,Oe.dyn_dtree,Oe.d_desc.max_code),Ye(Oe,Oe.bl_desc),_e=e-1;3<=_e&&Oe.bl_tree[2*R[_e]+1]===0;_e--);return Oe.opt_len+=3*(_e+1)+5+5+4,_e}(ne),ye=ne.opt_len+3+7>>>3,(Le=ne.static_len+3+7>>>3)<=ye&&(ye=Le)):ye=Le=Re+5,Re+4<=ye&&he!==-1?se(ne,he,Re,Te):ne.strategy===4||Le===ye?(ee(ne,2+(Te?1:0),3),Ue(ne,L,g)):(ee(ne,4+(Te?1:0),3),function(Oe,_e,be,xe){var de;for(ee(Oe,_e-257,5),ee(Oe,be-1,5),ee(Oe,xe-4,4),de=0;de<xe;de++)ee(Oe,Oe.bl_tree[2*R[de]+1],3);Ae(Oe,Oe.dyn_ltree,_e-1),Ae(Oe,Oe.dyn_dtree,be-1)}(ne,ne.l_desc.max_code+1,ne.d_desc.max_code+1,Ie+1),Ue(ne,ne.dyn_ltree,ne.dyn_dtree)),Ce(ne),Te&&Se(ne)},z._tr_tally=function(ne,he,Re){return ne.pending_buf[ne.d_buf+2*ne.last_lit]=he>>>8&255,ne.pending_buf[ne.d_buf+2*ne.last_lit+1]=255&he,ne.pending_buf[ne.l_buf+ne.last_lit]=255&Re,ne.last_lit++,he===0?ne.dyn_ltree[2*Re]++:(ne.matches++,he--,ne.dyn_ltree[2*(l[Re]+n+1)]++,ne.dyn_dtree[2*K(he)]++),ne.last_lit===ne.lit_bufsize-1},z._tr_align=function(ne){ee(ne,2,3),oe(ne,$,L),function(he){he.bi_valid===16?(ie(he,he.bi_buf),he.bi_buf=0,he.bi_valid=0):8<=he.bi_valid&&(he.pending_buf[he.pending++]=255&he.bi_buf,he.bi_buf>>=8,he.bi_valid-=8)}(ne)}},{"../utils/common":41}],53:[function(f,B,z){B.exports=function(){this.input=null,this.next_in=0,this.avail_in=0,this.total_in=0,this.output=null,this.next_out=0,this.avail_out=0,this.total_out=0,this.msg="",this.state=null,this.data_type=2,this.adler=0}},{}],54:[function(f,B,z){(function(M){(function(b,_){if(!b.setImmediate){var s,d,o,n,i=1,t={},e=!1,r=b.document,a=Object.getPrototypeOf&&Object.getPrototypeOf(b);a=a&&a.setTimeout?a:b,s={}.toString.call(b.process)==="[object process]"?function(v){process.nextTick(function(){h(v)})}:function(){if(b.postMessage&&!b.importScripts){var v=!0,p=b.onmessage;return b.onmessage=function(){v=!1},b.postMessage("","*"),b.onmessage=p,v}}()?(n="setImmediate$"+Math.random()+"$",b.addEventListener?b.addEventListener("message",$,!1):b.attachEvent("onmessage",$),function(v){b.postMessage(n+v,"*")}):b.MessageChannel?((o=new MessageChannel).port1.onmessage=function(v){h(v.data)},function(v){o.port2.postMessage(v)}):r&&"onreadystatechange"in r.createElement("script")?(d=r.documentElement,function(v){var p=r.createElement("script");p.onreadystatechange=function(){h(v),p.onreadystatechange=null,d.removeChild(p),p=null},d.appendChild(p)}):function(v){setTimeout(h,0,v)},a.setImmediate=function(v){typeof v!="function"&&(v=new Function(""+v));for(var p=new Array(arguments.length-1),u=0;u<p.length;u++)p[u]=arguments[u+1];var m={callback:v,args:p};return t[i]=m,s(i),i++},a.clearImmediate=c}function c(v){delete t[v]}function h(v){if(e)setTimeout(h,0,v);else{var p=t[v];if(p){e=!0;try{(function(u){var m=u.callback,E=u.args;switch(E.length){case 0:m();break;case 1:m(E[0]);break;case 2:m(E[0],E[1]);break;case 3:m(E[0],E[1],E[2]);break;default:m.apply(_,E)}})(p)}finally{c(v),e=!1}}}}function $(v){v.source===b&&typeof v.data=="string"&&v.data.indexOf(n)===0&&h(+v.data.slice(n.length))}})(typeof self>"u"?M===void 0?this:M:self)}).call(this,typeof Fn<"u"?Fn:typeof self<"u"?self:typeof window<"u"?window:{})},{}]},{},[10])(10)})}(Qn)),Qn.exports}var Oi=Bi();const qr=vr(Oi);var er={exports:{}},kr;function xi(){return kr||(kr=1,function(te){var Q=function(){var f=String.fromCharCode,B="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=",z="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+-$",M={};function b(s,d){if(!M[s]){M[s]={};for(var o=0;o<s.length;o++)M[s][s.charAt(o)]=o}return M[s][d]}var _={compressToBase64:function(s){if(s==null)return"";var d=_._compress(s,6,function(o){return B.charAt(o)});switch(d.length%4){default:case 0:return d;case 1:return d+"===";case 2:return d+"==";case 3:return d+"="}},decompressFromBase64:function(s){return s==null?"":s==""?null:_._decompress(s.length,32,function(d){return b(B,s.charAt(d))})},compressToUTF16:function(s){return s==null?"":_._compress(s,15,function(d){return f(d+32)})+" "},decompressFromUTF16:function(s){return s==null?"":s==""?null:_._decompress(s.length,16384,function(d){return s.charCodeAt(d)-32})},compressToUint8Array:function(s){for(var d=_.compress(s),o=new Uint8Array(d.length*2),n=0,i=d.length;n<i;n++){var t=d.charCodeAt(n);o[n*2]=t>>>8,o[n*2+1]=t%256}return o},decompressFromUint8Array:function(s){if(s==null)return _.decompress(s);for(var d=new Array(s.length/2),o=0,n=d.length;o<n;o++)d[o]=s[o*2]*256+s[o*2+1];var i=[];return d.forEach(function(t){i.push(f(t))}),_.decompress(i.join(""))},compressToEncodedURIComponent:function(s){return s==null?"":_._compress(s,6,function(d){return z.charAt(d)})},decompressFromEncodedURIComponent:function(s){return s==null?"":s==""?null:(s=s.replace(/ /g,"+"),_._decompress(s.length,32,function(d){return b(z,s.charAt(d))}))},compress:function(s){return _._compress(s,16,function(d){return f(d)})},_compress:function(s,d,o){if(s==null)return"";var n,i,t={},e={},r="",a="",c="",h=2,$=3,v=2,p=[],u=0,m=0,E;for(E=0;E<s.length;E+=1)if(r=s.charAt(E),Object.prototype.hasOwnProperty.call(t,r)||(t[r]=$++,e[r]=!0),a=c+r,Object.prototype.hasOwnProperty.call(t,a))c=a;else{if(Object.prototype.hasOwnProperty.call(e,c)){if(c.charCodeAt(0)<256){for(n=0;n<v;n++)u=u<<1,m==d-1?(m=0,p.push(o(u)),u=0):m++;for(i=c.charCodeAt(0),n=0;n<8;n++)u=u<<1|i&1,m==d-1?(m=0,p.push(o(u)),u=0):m++,i=i>>1}else{for(i=1,n=0;n<v;n++)u=u<<1|i,m==d-1?(m=0,p.push(o(u)),u=0):m++,i=0;for(i=c.charCodeAt(0),n=0;n<16;n++)u=u<<1|i&1,m==d-1?(m=0,p.push(o(u)),u=0):m++,i=i>>1}h--,h==0&&(h=Math.pow(2,v),v++),delete e[c]}else for(i=t[c],n=0;n<v;n++)u=u<<1|i&1,m==d-1?(m=0,p.push(o(u)),u=0):m++,i=i>>1;h--,h==0&&(h=Math.pow(2,v),v++),t[a]=$++,c=String(r)}if(c!==""){if(Object.prototype.hasOwnProperty.call(e,c)){if(c.charCodeAt(0)<256){for(n=0;n<v;n++)u=u<<1,m==d-1?(m=0,p.push(o(u)),u=0):m++;for(i=c.charCodeAt(0),n=0;n<8;n++)u=u<<1|i&1,m==d-1?(m=0,p.push(o(u)),u=0):m++,i=i>>1}else{for(i=1,n=0;n<v;n++)u=u<<1|i,m==d-1?(m=0,p.push(o(u)),u=0):m++,i=0;for(i=c.charCodeAt(0),n=0;n<16;n++)u=u<<1|i&1,m==d-1?(m=0,p.push(o(u)),u=0):m++,i=i>>1}h--,h==0&&(h=Math.pow(2,v),v++),delete e[c]}else for(i=t[c],n=0;n<v;n++)u=u<<1|i&1,m==d-1?(m=0,p.push(o(u)),u=0):m++,i=i>>1;h--,h==0&&(h=Math.pow(2,v),v++)}for(i=2,n=0;n<v;n++)u=u<<1|i&1,m==d-1?(m=0,p.push(o(u)),u=0):m++,i=i>>1;for(;;)if(u=u<<1,m==d-1){p.push(o(u));break}else m++;return p.join("")},decompress:function(s){return s==null?"":s==""?null:_._decompress(s.length,32768,function(d){return s.charCodeAt(d)})},_decompress:function(s,d,o){var n=[],i=4,t=4,e=3,r="",a=[],c,h,$,v,p,u,m,E={val:o(0),position:d,index:1};for(c=0;c<3;c+=1)n[c]=c;for($=0,p=Math.pow(2,2),u=1;u!=p;)v=E.val&E.position,E.position>>=1,E.position==0&&(E.position=d,E.val=o(E.index++)),$|=(v>0?1:0)*u,u<<=1;switch($){case 0:for($=0,p=Math.pow(2,8),u=1;u!=p;)v=E.val&E.position,E.position>>=1,E.position==0&&(E.position=d,E.val=o(E.index++)),$|=(v>0?1:0)*u,u<<=1;m=f($);break;case 1:for($=0,p=Math.pow(2,16),u=1;u!=p;)v=E.val&E.position,E.position>>=1,E.position==0&&(E.position=d,E.val=o(E.index++)),$|=(v>0?1:0)*u,u<<=1;m=f($);break;case 2:return""}for(n[3]=m,h=m,a.push(m);;){if(E.index>s)return"";for($=0,p=Math.pow(2,e),u=1;u!=p;)v=E.val&E.position,E.position>>=1,E.position==0&&(E.position=d,E.val=o(E.index++)),$|=(v>0?1:0)*u,u<<=1;switch(m=$){case 0:for($=0,p=Math.pow(2,8),u=1;u!=p;)v=E.val&E.position,E.position>>=1,E.position==0&&(E.position=d,E.val=o(E.index++)),$|=(v>0?1:0)*u,u<<=1;n[t++]=f($),m=t-1,i--;break;case 1:for($=0,p=Math.pow(2,16),u=1;u!=p;)v=E.val&E.position,E.position>>=1,E.position==0&&(E.position=d,E.val=o(E.index++)),$|=(v>0?1:0)*u,u<<=1;n[t++]=f($),m=t-1,i--;break;case 2:return a.join("")}if(i==0&&(i=Math.pow(2,e),e++),n[m])r=n[m];else if(m===t)r=h+h.charAt(0);else return null;a.push(r),n[t++]=h+r.charAt(0),i--,h=r,i==0&&(i=Math.pow(2,e),e++)}}};return _}();te!=null?te.exports=Q:typeof angular<"u"&&angular!=null&&angular.module("LZString",[]).factory("LZString",function(){return Q})}(er)),er.exports}var Ii=xi();const Vr=vr(Ii);var tr={exports:{}},Br;function Fi(){return Br||(Br=1,function(te,Q){(function(){var f="ace",B=function(){return this}();!B&&typeof window<"u"&&(B=window);var z=function(o,n,i){if(typeof o!="string"){z.original?z.original.apply(this,arguments):(console.error("dropping module because define wasn't a string."),console.trace());return}arguments.length==2&&(i=n),z.modules[o]||(z.payloads[o]=i,z.modules[o]=null)};z.modules={},z.payloads={};var M=function(o,n,i){if(typeof n=="string"){var t=s(o,n);if(t!=null)return i&&i(),t}else if(Object.prototype.toString.call(n)==="[object Array]"){for(var e=[],r=0,a=n.length;r<a;++r){var c=s(o,n[r]);if(c==null&&b.original)return;e.push(c)}return i&&i.apply(null,e)||!0}},b=function(o,n){var i=M("",o,n);return i==null&&b.original?b.original.apply(this,arguments):i},_=function(o,n){if(n.indexOf("!")!==-1){var i=n.split("!");return _(o,i[0])+"!"+_(o,i[1])}if(n.charAt(0)=="."){var t=o.split("/").slice(0,-1).join("/");for(n=t+"/"+n;n.indexOf(".")!==-1&&e!=n;){var e=n;n=n.replace(/\/\.\//,"/").replace(/[^\/]+\/\.\.\//,"")}}return n},s=function(o,n){n=_(o,n);var i=z.modules[n];if(!i){if(i=z.payloads[n],typeof i=="function"){var t={},e={id:n,uri:"",exports:t,packaged:!0},r=function(c,h){return M(n,c,h)},a=i(r,t,e);t=a||e.exports,z.modules[n]=t,delete z.payloads[n]}i=z.modules[n]=t||i}return i};function d(o){var n=B;B[o]||(B[o]={}),n=B[o],(!n.define||!n.define.packaged)&&(z.original=n.define,n.define=z,n.define.packaged=!0),(!n.require||!n.require.packaged)&&(b.original=n.require,n.require=b,n.require.packaged=!0)}d(f)})(),ace.define("ace/lib/es6-shim",["require","exports","module"],function(f,B,z){function M(b,_,s){Object.defineProperty(b,_,{value:s,enumerable:!1,writable:!0,configurable:!0})}String.prototype.startsWith||M(String.prototype,"startsWith",function(b,_){return _=_||0,this.lastIndexOf(b,_)===_}),String.prototype.endsWith||M(String.prototype,"endsWith",function(b,_){var s=this;(_===void 0||_>s.length)&&(_=s.length),_-=b.length;var d=s.indexOf(b,_);return d!==-1&&d===_}),String.prototype.repeat||M(String.prototype,"repeat",function(b){for(var _="",s=this;b>0;)b&1&&(_+=s),(b>>=1)&&(s+=s);return _}),String.prototype.includes||M(String.prototype,"includes",function(b,_){return this.indexOf(b,_)!=-1}),Object.assign||(Object.assign=function(b){if(b==null)throw new TypeError("Cannot convert undefined or null to object");for(var _=Object(b),s=1;s<arguments.length;s++){var d=arguments[s];d!=null&&Object.keys(d).forEach(function(o){_[o]=d[o]})}return _}),Object.values||(Object.values=function(b){return Object.keys(b).map(function(_){return b[_]})}),Array.prototype.find||M(Array.prototype,"find",function(b){for(var _=this.length,s=arguments[1],d=0;d<_;d++){var o=this[d];if(b.call(s,o,d,this))return o}}),Array.prototype.findIndex||M(Array.prototype,"findIndex",function(b){for(var _=this.length,s=arguments[1],d=0;d<_;d++){var o=this[d];if(b.call(s,o,d,this))return d}}),Array.prototype.includes||M(Array.prototype,"includes",function(b,_){return this.indexOf(b,_)!=-1}),Array.prototype.fill||M(Array.prototype,"fill",function(b){for(var _=this,s=_.length>>>0,d=arguments[1],o=d>>0,n=o<0?Math.max(s+o,0):Math.min(o,s),i=arguments[2],t=i===void 0?s:i>>0,e=t<0?Math.max(s+t,0):Math.min(t,s);n<e;)_[n]=b,n++;return _}),Array.of||M(Array,"of",function(){return Array.prototype.slice.call(arguments)})}),ace.define("ace/lib/fixoldbrowsers",["require","exports","module","ace/lib/es6-shim"],function(f,B,z){f("./es6-shim")}),ace.define("ace/lib/deep_copy",["require","exports","module"],function(f,B,z){B.deepCopy=function M(b){if(typeof b!="object"||!b)return b;var _;if(Array.isArray(b)){_=[];for(var s=0;s<b.length;s++)_[s]=M(b[s]);return _}if(Object.prototype.toString.call(b)!=="[object Object]")return b;_={};for(var s in b)_[s]=M(b[s]);return _}}),ace.define("ace/lib/lang",["require","exports","module","ace/lib/deep_copy"],function(f,B,z){B.last=function(_){return _[_.length-1]},B.stringReverse=function(_){return _.split("").reverse().join("")},B.stringRepeat=function(_,s){for(var d="";s>0;)s&1&&(d+=_),(s>>=1)&&(_+=_);return d};var M=/^\s\s*/,b=/\s\s*$/;B.stringTrimLeft=function(_){return _.replace(M,"")},B.stringTrimRight=function(_){return _.replace(b,"")},B.copyObject=function(_){var s={};for(var d in _)s[d]=_[d];return s},B.copyArray=function(_){for(var s=[],d=0,o=_.length;d<o;d++)_[d]&&typeof _[d]=="object"?s[d]=this.copyObject(_[d]):s[d]=_[d];return s},B.deepCopy=f("./deep_copy").deepCopy,B.arrayToMap=function(_){for(var s={},d=0;d<_.length;d++)s[_[d]]=1;return s},B.createMap=function(_){var s=Object.create(null);for(var d in _)s[d]=_[d];return s},B.arrayRemove=function(_,s){for(var d=0;d<=_.length;d++)s===_[d]&&_.splice(d,1)},B.escapeRegExp=function(_){return _.replace(/([.*+?^${}()|[\]\/\\])/g,"\\$1")},B.escapeHTML=function(_){return(""+_).replace(/&/g,"&#38;").replace(/"/g,"&#34;").replace(/'/g,"&#39;").replace(/</g,"&#60;")},B.getMatchOffsets=function(_,s){var d=[];return _.replace(s,function(o){d.push({offset:arguments[arguments.length-2],length:o.length})}),d},B.deferredCall=function(_){var s=null,d=function(){s=null,_()},o=function(n){return o.cancel(),s=setTimeout(d,n||0),o};return o.schedule=o,o.call=function(){return this.cancel(),_(),o},o.cancel=function(){return clearTimeout(s),s=null,o},o.isPending=function(){return s},o},B.delayedCall=function(_,s){var d=null,o=function(){d=null,_()},n=function(i){d==null&&(d=setTimeout(o,i||s))};return n.delay=function(i){d&&clearTimeout(d),d=setTimeout(o,i||s)},n.schedule=n,n.call=function(){this.cancel(),_()},n.cancel=function(){d&&clearTimeout(d),d=null},n.isPending=function(){return d},n},B.supportsLookbehind=function(){try{new RegExp("(?<=.)")}catch{return!1}return!0},B.skipEmptyMatch=function(_,s,d){return d&&_.codePointAt(s)>65535?2:1}}),ace.define("ace/lib/useragent",["require","exports","module"],function(f,B,z){B.OS={LINUX:"LINUX",MAC:"MAC",WINDOWS:"WINDOWS"},B.getOS=function(){return B.isMac?B.OS.MAC:B.isLinux?B.OS.LINUX:B.OS.WINDOWS};var M=typeof navigator=="object"?navigator:{},b=(/mac|win|linux/i.exec(M.platform)||["other"])[0].toLowerCase(),_=M.userAgent||"",s=M.appName||"";B.isWin=b=="win",B.isMac=b=="mac",B.isLinux=b=="linux",B.isIE=s=="Microsoft Internet Explorer"||s.indexOf("MSAppHost")>=0?parseFloat((_.match(/(?:MSIE |Trident\/[0-9]+[\.0-9]+;.*rv:)([0-9]+[\.0-9]+)/)||[])[1]):parseFloat((_.match(/(?:Trident\/[0-9]+[\.0-9]+;.*rv:)([0-9]+[\.0-9]+)/)||[])[1]),B.isOldIE=B.isIE&&B.isIE<9,B.isGecko=B.isMozilla=_.match(/ Gecko\/\d+/),B.isOpera=typeof opera=="object"&&Object.prototype.toString.call(window.opera)=="[object Opera]",B.isWebKit=parseFloat(_.split("WebKit/")[1])||void 0,B.isChrome=parseFloat(_.split(" Chrome/")[1])||void 0,B.isSafari=parseFloat(_.split(" Safari/")[1])&&!B.isChrome||void 0,B.isEdge=parseFloat(_.split(" Edge/")[1])||void 0,B.isAIR=_.indexOf("AdobeAIR")>=0,B.isAndroid=_.indexOf("Android")>=0,B.isChromeOS=_.indexOf(" CrOS ")>=0,B.isIOS=/iPad|iPhone|iPod/.test(_)&&!window.MSStream,B.isIOS&&(B.isMac=!0),B.isMobile=B.isIOS||B.isAndroid}),ace.define("ace/lib/dom",["require","exports","module","ace/lib/useragent"],function(f,B,z){var M=f("./useragent"),b="http://www.w3.org/1999/xhtml";B.buildDom=function i(t,e,r){if(typeof t=="string"&&t){var a=document.createTextNode(t);return e&&e.appendChild(a),a}if(!Array.isArray(t))return t&&t.appendChild&&e&&e.appendChild(t),t;if(typeof t[0]!="string"||!t[0]){for(var c=[],h=0;h<t.length;h++){var $=i(t[h],e,r);$&&c.push($)}return c}var v=document.createElement(t[0]),p=t[1],u=1;p&&typeof p=="object"&&!Array.isArray(p)&&(u=2);for(var h=u;h<t.length;h++)i(t[h],v,r);return u==2&&Object.keys(p).forEach(function(m){var E=p[m];m==="class"?v.className=Array.isArray(E)?E.join(" "):E:typeof E=="function"||m=="value"||m[0]=="$"?v[m]=E:m==="ref"?r&&(r[E]=v):m==="style"?typeof E=="string"&&(v.style.cssText=E):E!=null&&v.setAttribute(m,E)}),e&&e.appendChild(v),v},B.getDocumentHead=function(i){return i||(i=document),i.head||i.getElementsByTagName("head")[0]||i.documentElement},B.createElement=function(i,t){return document.createElementNS?document.createElementNS(t||b,i):document.createElement(i)},B.removeChildren=function(i){i.innerHTML=""},B.createTextNode=function(i,t){var e=t?t.ownerDocument:document;return e.createTextNode(i)},B.createFragment=function(i){var t=i?i.ownerDocument:document;return t.createDocumentFragment()},B.hasCssClass=function(i,t){var e=(i.className+"").split(/\s+/g);return e.indexOf(t)!==-1},B.addCssClass=function(i,t){B.hasCssClass(i,t)||(i.className+=" "+t)},B.removeCssClass=function(i,t){for(var e=i.className.split(/\s+/g);;){var r=e.indexOf(t);if(r==-1)break;e.splice(r,1)}i.className=e.join(" ")},B.toggleCssClass=function(i,t){for(var e=i.className.split(/\s+/g),r=!0;;){var a=e.indexOf(t);if(a==-1)break;r=!1,e.splice(a,1)}return r&&e.push(t),i.className=e.join(" "),r},B.setCssClass=function(i,t,e){e?B.addCssClass(i,t):B.removeCssClass(i,t)},B.hasCssString=function(i,t){var e=0,r;if(t=t||document,r=t.querySelectorAll("style")){for(;e<r.length;)if(r[e++].id===i)return!0}},B.removeElementById=function(i,t){t=t||document,t.getElementById(i)&&t.getElementById(i).remove()};var _,s=[];B.useStrictCSP=function(i){_=i,i==!1?d():s||(s=[])};function d(){var i=s;s=null,i&&i.forEach(function(t){o(t[0],t[1])})}function o(i,t,e){if(!(typeof document>"u")){if(s){if(e)d();else if(e===!1)return s.push([i,t])}if(!_){var r=e;!e||!e.getRootNode?r=document:(r=e.getRootNode(),(!r||r==e)&&(r=document));var a=r.ownerDocument||r;if(t&&B.hasCssString(t,r))return null;t&&(i+=`
/*# sourceURL=ace/css/`+t+" */");var c=B.createElement("style");c.appendChild(a.createTextNode(i)),t&&(c.id=t),r==a&&(r=B.getDocumentHead(a)),r.insertBefore(c,r.firstChild)}}}if(B.importCssString=o,B.importCssStylsheet=function(i,t){B.buildDom(["link",{rel:"stylesheet",href:i}],B.getDocumentHead(t))},B.scrollbarWidth=function(i){var t=B.createElement("ace_inner");t.style.width="100%",t.style.minWidth="0px",t.style.height="200px",t.style.display="block";var e=B.createElement("ace_outer"),r=e.style;r.position="absolute",r.left="-10000px",r.overflow="hidden",r.width="200px",r.minWidth="0px",r.height="150px",r.display="block",e.appendChild(t);var a=i&&i.documentElement||document&&document.documentElement;if(!a)return 0;a.appendChild(e);var c=t.offsetWidth;r.overflow="scroll";var h=t.offsetWidth;return c===h&&(h=e.clientWidth),a.removeChild(e),c-h},B.computedStyle=function(i,t){return window.getComputedStyle(i,"")||{}},B.setStyle=function(i,t,e){i[t]!==e&&(i[t]=e)},B.HAS_CSS_ANIMATION=!1,B.HAS_CSS_TRANSFORMS=!1,B.HI_DPI=M.isWin?typeof window<"u"&&window.devicePixelRatio>=1.5:!0,M.isChromeOS&&(B.HI_DPI=!1),typeof document<"u"){var n=document.createElement("div");B.HI_DPI&&n.style.transform!==void 0&&(B.HAS_CSS_TRANSFORMS=!0),!M.isEdge&&typeof n.style.animationName<"u"&&(B.HAS_CSS_ANIMATION=!0),n=null}B.HAS_CSS_TRANSFORMS?B.translate=function(i,t,e){i.style.transform="translate("+Math.round(t)+"px, "+Math.round(e)+"px)"}:B.translate=function(i,t,e){i.style.top=Math.round(e)+"px",i.style.left=Math.round(t)+"px"}}),ace.define("ace/lib/net",["require","exports","module","ace/lib/dom"],function(f,B,z){/*
* based on code from:
*
* @license RequireJS text 0.25.0 Copyright (c) 2010-2011, The Dojo Foundation All Rights Reserved.
* Available via the MIT or new BSD license.
* see: http://github.com/jrburke/requirejs for details
*/var M=f("./dom");B.get=function(b,_){var s=new XMLHttpRequest;s.open("GET",b,!0),s.onreadystatechange=function(){s.readyState===4&&_(s.responseText)},s.send(null)},B.loadScript=function(b,_){var s=M.getDocumentHead(),d=document.createElement("script");d.src=b,s.appendChild(d),d.onload=d.onreadystatechange=function(o,n){(n||!d.readyState||d.readyState=="loaded"||d.readyState=="complete")&&(d=d.onload=d.onreadystatechange=null,n||_())}},B.qualifyURL=function(b){var _=document.createElement("a");return _.href=b,_.href}}),ace.define("ace/lib/oop",["require","exports","module"],function(f,B,z){B.inherits=function(M,b){M.super_=b,M.prototype=Object.create(b.prototype,{constructor:{value:M,enumerable:!1,writable:!0,configurable:!0}})},B.mixin=function(M,b){for(var _ in b)M[_]=b[_];return M},B.implement=function(M,b){B.mixin(M,b)}}),ace.define("ace/lib/event_emitter",["require","exports","module"],function(f,B,z){var M={},b=function(){this.propagationStopped=!0},_=function(){this.defaultPrevented=!0};M._emit=M._dispatchEvent=function(s,d){this._eventRegistry||(this._eventRegistry={}),this._defaultHandlers||(this._defaultHandlers={});var o=this._eventRegistry[s]||[],n=this._defaultHandlers[s];if(!(!o.length&&!n)){(typeof d!="object"||!d)&&(d={}),d.type||(d.type=s),d.stopPropagation||(d.stopPropagation=b),d.preventDefault||(d.preventDefault=_),o=o.slice();for(var i=0;i<o.length&&(o[i](d,this),!d.propagationStopped);i++);if(n&&!d.defaultPrevented)return n(d,this)}},M._signal=function(s,d){var o=(this._eventRegistry||{})[s];if(o){o=o.slice();for(var n=0;n<o.length;n++)o[n](d,this)}},M.once=function(s,d){var o=this;if(this.on(s,function n(){o.off(s,n),d.apply(null,arguments)}),!d)return new Promise(function(n){d=n})},M.setDefaultHandler=function(s,d){var o=this._defaultHandlers;if(o||(o=this._defaultHandlers={_disabled_:{}}),o[s]){var n=o[s],i=o._disabled_[s];i||(o._disabled_[s]=i=[]),i.push(n);var t=i.indexOf(d);t!=-1&&i.splice(t,1)}o[s]=d},M.removeDefaultHandler=function(s,d){var o=this._defaultHandlers;if(o){var n=o._disabled_[s];if(o[s]==d)n&&this.setDefaultHandler(s,n.pop());else if(n){var i=n.indexOf(d);i!=-1&&n.splice(i,1)}}},M.on=M.addEventListener=function(s,d,o){this._eventRegistry=this._eventRegistry||{};var n=this._eventRegistry[s];return n||(n=this._eventRegistry[s]=[]),n.indexOf(d)==-1&&n[o?"unshift":"push"](d),d},M.off=M.removeListener=M.removeEventListener=function(s,d){this._eventRegistry=this._eventRegistry||{};var o=this._eventRegistry[s];if(o){var n=o.indexOf(d);n!==-1&&o.splice(n,1)}},M.removeAllListeners=function(s){s||(this._eventRegistry=this._defaultHandlers=void 0),this._eventRegistry&&(this._eventRegistry[s]=void 0),this._defaultHandlers&&(this._defaultHandlers[s]=void 0)},B.EventEmitter=M}),ace.define("ace/lib/report_error",["require","exports","module"],function(f,B,z){B.reportError=function(b,_){var s=new Error(b);s.data=_,typeof console=="object"&&console.error&&console.error(s),setTimeout(function(){throw s})}}),ace.define("ace/lib/default_english_messages",["require","exports","module"],function(f,B,z){var M={"autocomplete.popup.aria-roledescription":"Autocomplete suggestions","autocomplete.popup.aria-label":"Autocomplete suggestions","autocomplete.popup.item.aria-roledescription":"item","autocomplete.loading":"Loading...","editor.scroller.aria-roledescription":"editor","editor.scroller.aria-label":"Editor content, press Enter to start editing, press Escape to exit","editor.gutter.aria-roledescription":"editor","editor.gutter.aria-label":"Editor gutter, press Enter to interact with controls using arrow keys, press Escape to exit","error-marker.good-state":"Looks good!","prompt.recently-used":"Recently used","prompt.other-commands":"Other commands","prompt.no-matching-commands":"No matching commands","search-box.find.placeholder":"Search for","search-box.find-all.text":"All","search-box.replace.placeholder":"Replace with","search-box.replace-next.text":"Replace","search-box.replace-all.text":"All","search-box.toggle-replace.title":"Toggle Replace mode","search-box.toggle-regexp.title":"RegExp Search","search-box.toggle-case.title":"CaseSensitive Search","search-box.toggle-whole-word.title":"Whole Word Search","search-box.toggle-in-selection.title":"Search In Selection","search-box.search-counter":"$0 of $1","text-input.aria-roledescription":"editor","text-input.aria-label":"Cursor at row $0","gutter.code-folding.range.aria-label":"Toggle code folding, rows $0 through $1","gutter.code-folding.closed.aria-label":"Toggle code folding, rows $0 through $1","gutter.code-folding.open.aria-label":"Toggle code folding, row $0","gutter.code-folding.closed.title":"Unfold code","gutter.code-folding.open.title":"Fold code","gutter.annotation.aria-label.error":"Error, read annotations row $0","gutter.annotation.aria-label.warning":"Warning, read annotations row $0","gutter.annotation.aria-label.info":"Info, read annotations row $0","inline-fold.closed.title":"Unfold code","gutter-tooltip.aria-label.error.singular":"error","gutter-tooltip.aria-label.error.plural":"errors","gutter-tooltip.aria-label.warning.singular":"warning","gutter-tooltip.aria-label.warning.plural":"warnings","gutter-tooltip.aria-label.info.singular":"information message","gutter-tooltip.aria-label.info.plural":"information messages","gutter.annotation.aria-label.security":"Security finding, read annotations row $0","gutter.annotation.aria-label.hint":"Suggestion, read annotations row $0","gutter-tooltip.aria-label.security.singular":"security finding","gutter-tooltip.aria-label.security.plural":"security findings","gutter-tooltip.aria-label.hint.singular":"suggestion","gutter-tooltip.aria-label.hint.plural":"suggestions"};B.defaultEnglishMessages=M}),ace.define("ace/lib/app_config",["require","exports","module","ace/lib/oop","ace/lib/event_emitter","ace/lib/report_error","ace/lib/default_english_messages"],function(f,B,z){"no use strict";var M=f("./oop"),b=f("./event_emitter").EventEmitter,_=f("./report_error").reportError,s=f("./default_english_messages").defaultEnglishMessages,d={setOptions:function(e){Object.keys(e).forEach(function(r){this.setOption(r,e[r])},this)},getOptions:function(e){var r={};if(e)Array.isArray(e)||(r=e,e=Object.keys(r));else{var a=this.$options;e=Object.keys(a).filter(function(c){return!a[c].hidden})}return e.forEach(function(c){r[c]=this.getOption(c)},this),r},setOption:function(e,r){if(this["$"+e]!==r){var a=this.$options[e];if(!a)return o('misspelled option "'+e+'"');if(a.forwardTo)return this[a.forwardTo]&&this[a.forwardTo].setOption(e,r);a.handlesSet||(this["$"+e]=r),a&&a.set&&a.set.call(this,r)}},getOption:function(e){var r=this.$options[e];return r?r.forwardTo?this[r.forwardTo]&&this[r.forwardTo].getOption(e):r&&r.get?r.get.call(this):this["$"+e]:o('misspelled option "'+e+'"')}};function o(e){typeof console<"u"&&console.warn&&console.warn.apply(console,arguments)}var n,i,t=function(){function e(){this.$defaultOptions={},n=s,i="dollarSigns"}return e.prototype.defineOptions=function(r,a,c){return r.$options||(this.$defaultOptions[a]=r.$options={}),Object.keys(c).forEach(function(h){var $=c[h];typeof $=="string"&&($={forwardTo:$}),$.name||($.name=h),r.$options[$.name]=$,"initialValue"in $&&(r["$"+$.name]=$.initialValue)}),M.implement(r,d),this},e.prototype.resetOptions=function(r){Object.keys(r.$options).forEach(function(a){var c=r.$options[a];"value"in c&&r.setOption(a,c.value)})},e.prototype.setDefaultValue=function(r,a,c){if(!r){for(r in this.$defaultOptions)if(this.$defaultOptions[r][a])break;if(!this.$defaultOptions[r][a])return!1}var h=this.$defaultOptions[r]||(this.$defaultOptions[r]={});h[a]&&(h.forwardTo?this.setDefaultValue(h.forwardTo,a,c):h[a].value=c)},e.prototype.setDefaultValues=function(r,a){Object.keys(a).forEach(function(c){this.setDefaultValue(r,c,a[c])},this)},e.prototype.setMessages=function(r,a){n=r,a&&a.placeholders&&(i=a.placeholders)},e.prototype.nls=function(r,a,c){n[r]||(o("No message found for the key '"+r+"' in the provided messages, trying to find a translation for the default string '"+a+"'."),n[a]||o("No message found for the default string '"+a+"' in the provided messages. Falling back to the default English message."));var h=n[r]||n[a]||a;return c&&(i==="dollarSigns"&&(h=h.replace(/\$(\$|[\d]+)/g,function($,v){return v=="$"?"$":c[v]})),i==="curlyBrackets"&&(h=h.replace(/\{([^\}]+)\}/g,function($,v){return c[v]}))),h},e}();t.prototype.warn=o,t.prototype.reportError=_,M.implement(t.prototype,b),B.AppConfig=t}),ace.define("ace/theme/textmate-css",["require","exports","module"],function(f,B,z){z.exports=`.ace-tm .ace_gutter {
  background: #f0f0f0;
  color: #333;
}

.ace-tm .ace_print-margin {
  width: 1px;
  background: #e8e8e8;
}

.ace-tm .ace_fold {
    background-color: #6B72E6;
}

.ace-tm {
  background-color: #FFFFFF;
  color: black;
}

.ace-tm .ace_cursor {
  color: black;
}
        
.ace-tm .ace_invisible {
  color: rgb(191, 191, 191);
}

.ace-tm .ace_storage,
.ace-tm .ace_keyword {
  color: blue;
}

.ace-tm .ace_constant {
  color: rgb(197, 6, 11);
}

.ace-tm .ace_constant.ace_buildin {
  color: rgb(88, 72, 246);
}

.ace-tm .ace_constant.ace_language {
  color: rgb(88, 92, 246);
}

.ace-tm .ace_constant.ace_library {
  color: rgb(6, 150, 14);
}

.ace-tm .ace_invalid {
  background-color: rgba(255, 0, 0, 0.1);
  color: red;
}

.ace-tm .ace_support.ace_function {
  color: rgb(60, 76, 114);
}

.ace-tm .ace_support.ace_constant {
  color: rgb(6, 150, 14);
}

.ace-tm .ace_support.ace_type,
.ace-tm .ace_support.ace_class {
  color: rgb(109, 121, 222);
}

.ace-tm .ace_keyword.ace_operator {
  color: rgb(104, 118, 135);
}

.ace-tm .ace_string {
  color: rgb(3, 106, 7);
}

.ace-tm .ace_comment {
  color: rgb(76, 136, 107);
}

.ace-tm .ace_comment.ace_doc {
  color: rgb(0, 102, 255);
}

.ace-tm .ace_comment.ace_doc.ace_tag {
  color: rgb(128, 159, 191);
}

.ace-tm .ace_constant.ace_numeric {
  color: rgb(0, 0, 205);
}

.ace-tm .ace_variable {
  color: rgb(49, 132, 149);
}

.ace-tm .ace_xml-pe {
  color: rgb(104, 104, 91);
}

.ace-tm .ace_entity.ace_name.ace_function {
  color: #0000A2;
}


.ace-tm .ace_heading {
  color: rgb(12, 7, 255);
}

.ace-tm .ace_list {
  color:rgb(185, 6, 144);
}

.ace-tm .ace_meta.ace_tag {
  color:rgb(0, 22, 142);
}

.ace-tm .ace_string.ace_regex {
  color: rgb(255, 0, 0)
}

.ace-tm .ace_marker-layer .ace_selection {
  background: rgb(181, 213, 255);
}
.ace-tm.ace_multiselect .ace_selection.ace_start {
  box-shadow: 0 0 3px 0px white;
}
.ace-tm .ace_marker-layer .ace_step {
  background: rgb(252, 255, 0);
}

.ace-tm .ace_marker-layer .ace_stack {
  background: rgb(164, 229, 101);
}

.ace-tm .ace_marker-layer .ace_bracket {
  margin: -1px 0 0 -1px;
  border: 1px solid rgb(192, 192, 192);
}

.ace-tm .ace_marker-layer .ace_active-line {
  background: rgba(0, 0, 0, 0.07);
}

.ace-tm .ace_gutter-active-line {
    background-color : #dcdcdc;
}

.ace-tm .ace_marker-layer .ace_selected-word {
  background: rgb(250, 250, 255);
  border: 1px solid rgb(200, 200, 250);
}

.ace-tm .ace_indent-guide {
  background: url("data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAEAAAACCAYAAACZgbYnAAAAE0lEQVQImWP4////f4bLly//BwAmVgd1/w11/gAAAABJRU5ErkJggg==") right repeat-y;
}

.ace-tm .ace_indent-guide-active {
  background: url("data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAEAAAACCAYAAACZgbYnAAAACXBIWXMAAAsTAAALEwEAmpwYAAAAIGNIUk0AAHolAACAgwAA+f8AAIDpAAB1MAAA6mAAADqYAAAXb5JfxUYAAAAZSURBVHjaYvj///9/hivKyv8BAAAA//8DACLqBhbvk+/eAAAAAElFTkSuQmCC") right repeat-y;
}
`}),ace.define("ace/theme/textmate",["require","exports","module","ace/theme/textmate-css","ace/lib/dom"],function(f,B,z){B.isDark=!1,B.cssClass="ace-tm",B.cssText=f("./textmate-css"),B.$id="ace/theme/textmate";var M=f("../lib/dom");M.importCssString(B.cssText,B.cssClass,!1)}),ace.define("ace/config",["require","exports","module","ace/lib/lang","ace/lib/net","ace/lib/dom","ace/lib/app_config","ace/theme/textmate"],function(f,B,z){"no use strict";var M=f("./lib/lang"),b=f("./lib/net"),_=f("./lib/dom"),s=f("./lib/app_config").AppConfig;z.exports=B=new s;var d={packaged:!1,workerPath:null,modePath:null,themePath:null,basePath:"",suffix:".js",$moduleUrls:{},loadWorkerFromBlob:!0,sharedPopups:!1,useStrictCSP:null};B.get=function(t){if(!d.hasOwnProperty(t))throw new Error("Unknown config key: "+t);return d[t]},B.set=function(t,e){if(d.hasOwnProperty(t))d[t]=e;else if(this.setDefaultValue("",t,e)==!1)throw new Error("Unknown config key: "+t);t=="useStrictCSP"&&_.useStrictCSP(e)},B.all=function(){return M.copyObject(d)},B.$modes={},B.moduleUrl=function(t,e){if(d.$moduleUrls[t])return d.$moduleUrls[t];var r=t.split("/");e=e||r[r.length-2]||"";var a=e=="snippets"?"/":"-",c=r[r.length-1];if(e=="worker"&&a=="-"){var h=new RegExp("^"+e+"[\\-_]|[\\-_]"+e+"$","g");c=c.replace(h,"")}(!c||c==e)&&r.length>1&&(c=r[r.length-2]);var $=d[e+"Path"];return $==null?$=d.basePath:a=="/"&&(e=a=""),$&&$.slice(-1)!="/"&&($+="/"),$+e+a+c+this.get("suffix")},B.setModuleUrl=function(t,e){return d.$moduleUrls[t]=e};var o=function(t,e){if(t==="ace/theme/textmate"||t==="./theme/textmate")return e(null,f("./theme/textmate"));if(n)return n(t,e);console.error("loader is not configured")},n;B.setLoader=function(t){n=t},B.dynamicModules=Object.create(null),B.$loading={},B.$loaded={},B.loadModule=function(t,e){var r;if(Array.isArray(t))var a=t[0],c=t[1];else if(typeof t=="string")var c=t;var h=function($){if($&&!B.$loading[c])return e&&e($);if(B.$loading[c]||(B.$loading[c]=[]),B.$loading[c].push(e),!(B.$loading[c].length>1)){var v=function(){o(c,function(p,u){u&&(B.$loaded[c]=u),B._emit("load.module",{name:c,module:u});var m=B.$loading[c];B.$loading[c]=null,m.forEach(function(E){E&&E(u)})})};if(!B.get("packaged"))return v();b.loadScript(B.moduleUrl(c,a),v),i()}};if(B.dynamicModules[c])B.dynamicModules[c]().then(function($){$.default?h($.default):h($)});else{try{r=this.$require(c)}catch{}h(r||B.$loaded[c])}},B.$require=function(t){if(typeof z.require=="function"){var e="require";return z[e](t)}},B.setModuleLoader=function(t,e){B.dynamicModules[t]=e};var i=function(){!d.basePath&&!d.workerPath&&!d.modePath&&!d.themePath&&!Object.keys(d.$moduleUrls).length&&(console.error("Unable to infer path to ace from script src,","use ace.config.set('basePath', 'path') to enable dynamic loading of modes and themes","or with webpack use ace/webpack-resolver"),i=function(){})};B.version="1.36.2"}),ace.define("ace/loader_build",["require","exports","module","ace/lib/fixoldbrowsers","ace/config"],function(f,B,z){f("./lib/fixoldbrowsers");var M=f("./config");M.setLoader(function(d,o){f([d],function(n){o(null,n)})});var b=function(){return this||typeof window<"u"&&window}();z.exports=function(d){M.init=_,M.$require=f,d.require=f},_(!0);function _(d){if(!(!b||!b.document)){M.set("packaged",d||f.packaged||z.packaged||b.define&&(void 0).packaged);var o={},n="",i=document.currentScript||document._currentScript,t=i&&i.ownerDocument||document;i&&i.src&&(n=i.src.split(/[?#]/)[0].split("/").slice(0,-1).join("/")||"");for(var e=t.getElementsByTagName("script"),r=0;r<e.length;r++){var a=e[r],c=a.src||a.getAttribute("src");if(c){for(var h=a.attributes,$=0,v=h.length;$<v;$++){var p=h[$];p.name.indexOf("data-ace-")===0&&(o[s(p.name.replace(/^data-ace-/,""))]=p.value)}var u=c.match(/^(.*)\/ace([\-.]\w+)?\.js(\?|$)/);u&&(n=u[1])}}n&&(o.base=o.base||n,o.packaged=!0),o.basePath=o.base,o.workerPath=o.workerPath||o.base,o.modePath=o.modePath||o.base,o.themePath=o.themePath||o.base,delete o.base;for(var m in o)typeof o[m]<"u"&&M.set(m,o[m])}}function s(d){return d.replace(/-(.)/g,function(o,n){return n.toUpperCase()})}}),ace.define("ace/range",["require","exports","module"],function(f,B,z){var M=function(){function b(_,s,d,o){this.start={row:_,column:s},this.end={row:d,column:o}}return b.prototype.isEqual=function(_){return this.start.row===_.start.row&&this.end.row===_.end.row&&this.start.column===_.start.column&&this.end.column===_.end.column},b.prototype.toString=function(){return"Range: ["+this.start.row+"/"+this.start.column+"] -> ["+this.end.row+"/"+this.end.column+"]"},b.prototype.contains=function(_,s){return this.compare(_,s)==0},b.prototype.compareRange=function(_){var s,d=_.end,o=_.start;return s=this.compare(d.row,d.column),s==1?(s=this.compare(o.row,o.column),s==1?2:s==0?1:0):s==-1?-2:(s=this.compare(o.row,o.column),s==-1?-1:s==1?42:0)},b.prototype.comparePoint=function(_){return this.compare(_.row,_.column)},b.prototype.containsRange=function(_){return this.comparePoint(_.start)==0&&this.comparePoint(_.end)==0},b.prototype.intersects=function(_){var s=this.compareRange(_);return s==-1||s==0||s==1},b.prototype.isEnd=function(_,s){return this.end.row==_&&this.end.column==s},b.prototype.isStart=function(_,s){return this.start.row==_&&this.start.column==s},b.prototype.setStart=function(_,s){typeof _=="object"?(this.start.column=_.column,this.start.row=_.row):(this.start.row=_,this.start.column=s)},b.prototype.setEnd=function(_,s){typeof _=="object"?(this.end.column=_.column,this.end.row=_.row):(this.end.row=_,this.end.column=s)},b.prototype.inside=function(_,s){return this.compare(_,s)==0?!(this.isEnd(_,s)||this.isStart(_,s)):!1},b.prototype.insideStart=function(_,s){return this.compare(_,s)==0?!this.isEnd(_,s):!1},b.prototype.insideEnd=function(_,s){return this.compare(_,s)==0?!this.isStart(_,s):!1},b.prototype.compare=function(_,s){return!this.isMultiLine()&&_===this.start.row?s<this.start.column?-1:s>this.end.column?1:0:_<this.start.row?-1:_>this.end.row?1:this.start.row===_?s>=this.start.column?0:-1:this.end.row===_?s<=this.end.column?0:1:0},b.prototype.compareStart=function(_,s){return this.start.row==_&&this.start.column==s?-1:this.compare(_,s)},b.prototype.compareEnd=function(_,s){return this.end.row==_&&this.end.column==s?1:this.compare(_,s)},b.prototype.compareInside=function(_,s){return this.end.row==_&&this.end.column==s?1:this.start.row==_&&this.start.column==s?-1:this.compare(_,s)},b.prototype.clipRows=function(_,s){if(this.end.row>s)var d={row:s+1,column:0};else if(this.end.row<_)var d={row:_,column:0};if(this.start.row>s)var o={row:s+1,column:0};else if(this.start.row<_)var o={row:_,column:0};return b.fromPoints(o||this.start,d||this.end)},b.prototype.extend=function(_,s){var d=this.compare(_,s);if(d==0)return this;if(d==-1)var o={row:_,column:s};else var n={row:_,column:s};return b.fromPoints(o||this.start,n||this.end)},b.prototype.isEmpty=function(){return this.start.row===this.end.row&&this.start.column===this.end.column},b.prototype.isMultiLine=function(){return this.start.row!==this.end.row},b.prototype.clone=function(){return b.fromPoints(this.start,this.end)},b.prototype.collapseRows=function(){return this.end.column==0?new b(this.start.row,0,Math.max(this.start.row,this.end.row-1),0):new b(this.start.row,0,this.end.row,0)},b.prototype.toScreenRange=function(_){var s=_.documentToScreenPosition(this.start),d=_.documentToScreenPosition(this.end);return new b(s.row,s.column,d.row,d.column)},b.prototype.moveBy=function(_,s){this.start.row+=_,this.start.column+=s,this.end.row+=_,this.end.column+=s},b}();M.fromPoints=function(b,_){return new M(b.row,b.column,_.row,_.column)},M.comparePoints=function(b,_){return b.row-_.row||b.column-_.column},B.Range=M}),ace.define("ace/lib/keys",["require","exports","module","ace/lib/oop"],function(f,B,z){for(var M=f("./oop"),b={MODIFIER_KEYS:{16:"Shift",17:"Ctrl",18:"Alt",224:"Meta",91:"MetaLeft",92:"MetaRight",93:"ContextMenu"},KEY_MODS:{ctrl:1,alt:2,option:2,shift:4,super:8,meta:8,command:8,cmd:8,control:1},FUNCTION_KEYS:{8:"Backspace",9:"Tab",13:"Return",19:"Pause",27:"Esc",32:"Space",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"Left",38:"Up",39:"Right",40:"Down",44:"Print",45:"Insert",46:"Delete","-13":"NumpadEnter",144:"Numlock",145:"Scrolllock"},PRINTABLE_KEYS:{32:" ",59:";",61:"=",107:"+",109:"-",110:".",186:";",187:"=",188:",",189:"-",190:".",191:"/",192:"`",219:"[",220:"\\",221:"]",222:"'",111:"/",106:"*"}},_={Command:224,Backspace:8,Tab:9,Return:13,Enter:13,Pause:19,Escape:27,PageUp:33,PageDown:34,End:35,Home:36,Insert:45,Delete:46,ArrowLeft:37,ArrowUp:38,ArrowRight:39,ArrowDown:40,Backquote:192,Minus:189,Equal:187,BracketLeft:219,Backslash:220,BracketRight:221,Semicolon:186,Quote:222,Comma:188,Period:190,Slash:191,Space:32,NumpadAdd:107,NumpadDecimal:110,NumpadSubtract:109,NumpadDivide:111,NumpadMultiply:106},s=0;s<10;s++)_["Digit"+s]=48+s,_["Numpad"+s]=96+s,b.PRINTABLE_KEYS[48+s]=""+s,b.FUNCTION_KEYS[96+s]="Numpad"+s;for(var s=65;s<91;s++){var d=String.fromCharCode(s+32);_["Key"+d.toUpperCase()]=s,b.PRINTABLE_KEYS[s]=d}for(var s=1;s<13;s++)_["F"+s]=111+s,b.FUNCTION_KEYS[111+s]="F"+s;var o={Shift:16,Control:17,Alt:18,Meta:224};for(var n in o)_[n]=_[n+"Left"]=_[n+"Right"]=o[n];B.$codeToKeyCode=_,b.PRINTABLE_KEYS[173]="-";for(var i in b.FUNCTION_KEYS){var t=b.FUNCTION_KEYS[i].toLowerCase();b[t]=parseInt(i,10)}for(var i in b.PRINTABLE_KEYS){var t=b.PRINTABLE_KEYS[i].toLowerCase();b[t]=parseInt(i,10)}M.mixin(b,b.MODIFIER_KEYS),M.mixin(b,b.PRINTABLE_KEYS),M.mixin(b,b.FUNCTION_KEYS),b.enter=b.return,b.escape=b.esc,b.del=b.delete,function(){for(var e=["cmd","ctrl","alt","shift"],r=Math.pow(2,e.length);r--;)b.KEY_MODS[r]=e.filter(function(a){return r&b.KEY_MODS[a]}).join("-")+"-"}(),b.KEY_MODS[0]="",b.KEY_MODS[-1]="input-",M.mixin(B,b),B.default=B,B.keyCodeToString=function(e){var r=b[e];return typeof r!="string"&&(r=String.fromCharCode(e)),r.toLowerCase()}}),ace.define("ace/lib/event",["require","exports","module","ace/lib/keys","ace/lib/useragent"],function(f,B,z){var M=f("./keys"),b=f("./useragent"),_=null,s=0,d;function o(){d=!1;try{document.createComment("").addEventListener("test",function(){},{get passive(){return d={passive:!1},!0}})}catch{}}function n(){return d==null&&o(),d}function i($,v,p){this.elem=$,this.type=v,this.callback=p}i.prototype.destroy=function(){e(this.elem,this.type,this.callback),this.elem=this.type=this.callback=void 0};var t=B.addListener=function($,v,p,u){$.addEventListener(v,p,n()),u&&u.$toDestroy.push(new i($,v,p))},e=B.removeListener=function($,v,p){$.removeEventListener(v,p,n())};B.stopEvent=function($){return B.stopPropagation($),B.preventDefault($),!1},B.stopPropagation=function($){$.stopPropagation&&$.stopPropagation()},B.preventDefault=function($){$.preventDefault&&$.preventDefault()},B.getButton=function($){return $.type=="dblclick"?0:$.type=="contextmenu"||b.isMac&&$.ctrlKey&&!$.altKey&&!$.shiftKey?2:$.button},B.capture=function($,v,p){var u=$&&$.ownerDocument||document;function m(E){v&&v(E),p&&p(E),e(u,"mousemove",v),e(u,"mouseup",m),e(u,"dragstart",m)}return t(u,"mousemove",v),t(u,"mouseup",m),t(u,"dragstart",m),m},B.addMouseWheelListener=function($,v,p){t($,"wheel",function(u){var m=.15,E=u.deltaX||0,C=u.deltaY||0;switch(u.deltaMode){case u.DOM_DELTA_PIXEL:u.wheelX=E*m,u.wheelY=C*m;break;case u.DOM_DELTA_LINE:var R=15;u.wheelX=E*R,u.wheelY=C*R;break;case u.DOM_DELTA_PAGE:var L=150;u.wheelX=E*L,u.wheelY=C*L;break}v(u)},p)},B.addMultiMouseDownListener=function($,v,p,u,m){var E=0,C,R,L,g={2:"dblclick",3:"tripleclick",4:"quadclick"};function y(l){if(B.getButton(l)!==0?E=0:l.detail>1?(E++,E>4&&(E=1)):E=1,b.isIE){var w=Math.abs(l.clientX-C)>5||Math.abs(l.clientY-R)>5;(!L||w)&&(E=1),L&&clearTimeout(L),L=setTimeout(function(){L=null},v[E-1]||600),E==1&&(C=l.clientX,R=l.clientY)}if(l._clicks=E,p[u]("mousedown",l),E>4)E=0;else if(E>1)return p[u](g[E],l)}Array.isArray($)||($=[$]),$.forEach(function(l){t(l,"mousedown",y,m)})};function r($){return 0|($.ctrlKey?1:0)|($.altKey?2:0)|($.shiftKey?4:0)|($.metaKey?8:0)}B.getModifierString=function($){return M.KEY_MODS[r($)]};function a($,v,p){var u=r(v);if(!p&&v.code&&(p=M.$codeToKeyCode[v.code]||p),!b.isMac&&_){if(v.getModifierState&&(v.getModifierState("OS")||v.getModifierState("Win"))&&(u|=8),_.altGr)if((3&u)!=3)_.altGr=0;else return;if(p===18||p===17){var m=v.location;if(p===17&&m===1)_[p]==1&&(s=v.timeStamp);else if(p===18&&u===3&&m===2){var E=v.timeStamp-s;E<50&&(_.altGr=!0)}}}if(p in M.MODIFIER_KEYS&&(p=-1),!(!u&&p===13&&v.location===3&&($(v,u,-p),v.defaultPrevented))){if(b.isChromeOS&&u&8){if($(v,u,p),v.defaultPrevented)return;u&=-9}return!u&&!(p in M.FUNCTION_KEYS)&&!(p in M.PRINTABLE_KEYS)?!1:$(v,u,p)}}B.addCommandKeyListener=function($,v,p){var u=null;t($,"keydown",function(m){_[m.keyCode]=(_[m.keyCode]||0)+1;var E=a(v,m,m.keyCode);return u=m.defaultPrevented,E},p),t($,"keypress",function(m){u&&(m.ctrlKey||m.altKey||m.shiftKey||m.metaKey)&&(B.stopEvent(m),u=null)},p),t($,"keyup",function(m){_[m.keyCode]=null},p),_||(c(),t(window,"focus",c))};function c(){_=Object.create(null)}if(typeof window=="object"&&window.postMessage&&!b.isOldIE){var h=1;B.nextTick=function($,v){v=v||window;var p="zero-timeout-message-"+h++,u=function(m){m.data==p&&(B.stopPropagation(m),e(v,"message",u),$())};t(v,"message",u),v.postMessage(p,"*")}}B.$idleBlocked=!1,B.onIdle=function($,v){return setTimeout(function p(){B.$idleBlocked?setTimeout(p,100):$()},v)},B.$idleBlockId=null,B.blockIdle=function($){B.$idleBlockId&&clearTimeout(B.$idleBlockId),B.$idleBlocked=!0,B.$idleBlockId=setTimeout(function(){B.$idleBlocked=!1},$||100)},B.nextFrame=typeof window=="object"&&(window.requestAnimationFrame||window.mozRequestAnimationFrame||window.webkitRequestAnimationFrame||window.msRequestAnimationFrame||window.oRequestAnimationFrame),B.nextFrame?B.nextFrame=B.nextFrame.bind(window):B.nextFrame=function($){setTimeout($,17)}}),ace.define("ace/clipboard",["require","exports","module"],function(f,B,z){var M;z.exports={lineMode:!1,pasteCancelled:function(){return M&&M>Date.now()-50?!0:M=!1},cancel:function(){M=Date.now()}}}),ace.define("ace/keyboard/textinput",["require","exports","module","ace/lib/event","ace/config","ace/lib/useragent","ace/lib/dom","ace/lib/lang","ace/clipboard","ace/lib/keys"],function(f,B,z){var M=f("../lib/event"),b=f("../config").nls,_=f("../lib/useragent"),s=f("../lib/dom"),d=f("../lib/lang"),o=f("../clipboard"),n=_.isChrome<18,i=_.isIE,t=_.isChrome>63,e=400,r=f("../lib/keys"),a=r.KEY_MODS,c=_.isIOS,h=c?/\s/:/\n/,$=_.isMobile,v;v=function(p,u){var m=s.createElement("textarea");m.className="ace_text-input",m.setAttribute("wrap","off"),m.setAttribute("autocorrect","off"),m.setAttribute("autocapitalize","off"),m.setAttribute("spellcheck","false"),m.style.opacity="0",p.insertBefore(m,p.firstChild);var E=!1,C=!1,R=!1,L=!1,g="";$||(m.style.fontSize="1px");var y=!1,l=!1,w="",k=0,I=0,G=0,H=Number.MAX_SAFE_INTEGER,J=Number.MIN_SAFE_INTEGER,j=0;try{var K=document.activeElement===m}catch{}this.setNumberOfExtraLines=function(_e){if(H=Number.MAX_SAFE_INTEGER,J=Number.MIN_SAFE_INTEGER,_e<0){j=0;return}j=_e},this.setAriaOptions=function(_e){if(_e.activeDescendant?(m.setAttribute("aria-haspopup","true"),m.setAttribute("aria-autocomplete",_e.inline?"both":"list"),m.setAttribute("aria-activedescendant",_e.activeDescendant)):(m.setAttribute("aria-haspopup","false"),m.setAttribute("aria-autocomplete","both"),m.removeAttribute("aria-activedescendant")),_e.role&&m.setAttribute("role",_e.role),_e.setLabel){m.setAttribute("aria-roledescription",b("text-input.aria-roledescription","editor"));var be="";if(u.$textInputAriaLabel&&(be+="".concat(u.$textInputAriaLabel,", ")),u.session){var xe=u.session.selection.cursor.row;be+=b("text-input.aria-label","Cursor at row $0",[xe+1])}m.setAttribute("aria-label",be)}},this.setAriaOptions({role:"textbox"}),M.addListener(m,"blur",function(_e){l||(u.onBlur(_e),K=!1)},u),M.addListener(m,"focus",function(_e){if(!l){if(K=!0,_.isEdge)try{if(!document.hasFocus())return}catch{}u.onFocus(_e),_.isEdge?setTimeout(ee):ee()}},u),this.$focusScroll=!1,this.focus=function(){if(this.setAriaOptions({setLabel:u.renderer.enableKeyboardAccessibility}),g||t||this.$focusScroll=="browser")return m.focus({preventScroll:!0});var _e=m.style.top;m.style.position="fixed",m.style.top="0px";try{var be=m.getBoundingClientRect().top!=0}catch{return}var xe=[];if(be)for(var de=m.parentElement;de&&de.nodeType==1;)xe.push(de),de.setAttribute("ace_nocontext","true"),!de.parentElement&&de.getRootNode?de=de.getRootNode().host:de=de.parentElement;m.focus({preventScroll:!0}),be&&xe.forEach(function(qe){qe.removeAttribute("ace_nocontext")}),setTimeout(function(){m.style.position="",m.style.top=="0px"&&(m.style.top=_e)},0)},this.blur=function(){m.blur()},this.isFocused=function(){return K},u.on("beforeEndOperation",function(){var _e=u.curOp,be=_e&&_e.command&&_e.command.name;if(be!="insertstring"){var xe=be&&(_e.docChanged||_e.selectionChanged);R&&xe&&(w=m.value="",ne()),ee()}});var ie=function(_e,be){for(var xe=be,de=1;de<=_e-H&&de<2*j+1;de++)xe+=u.session.getLine(_e-de).length+1;return xe},ee=c?function(_e){if(!(!K||E&&!_e||L)){_e||(_e="");var be=`
 ab`+_e+`cde fg
`;be!=m.value&&(m.value=w=be);var xe=4,de=4+(_e.length||(u.selection.isEmpty()?0:1));(k!=xe||I!=de)&&m.setSelectionRange(xe,de),k=xe,I=de}}:function(){if(!(R||L)&&!(!K&&!Ce)){R=!0;var _e=0,be=0,xe="";if(u.session){var de=u.selection,qe=de.getRange(),Ke=de.cursor.row;Ke===J+1?(H=J+1,J=H+2*j):Ke===H-1?(J=H-1,H=J-2*j):(Ke<H-1||Ke>J+1)&&(H=Ke>j?Ke-j:0,J=Ke>j?Ke+j:2*j);for(var $e=[],De=H;De<=J;De++)$e.push(u.session.getLine(De));if(xe=$e.join(`
`),_e=ie(qe.start.row,qe.start.column),be=ie(qe.end.row,qe.end.column),qe.start.row<H){var Ne=u.session.getLine(H-1);_e=qe.start.row<H-1?0:_e,be+=Ne.length+1,xe=Ne+`
`+xe}else if(qe.end.row>J){var W=u.session.getLine(J+1);be=qe.end.row>J+1?W.length:qe.end.column,be+=xe.length+1,xe=xe+`
`+W}else $&&Ke>0&&(xe=`
`+xe,be+=1,_e+=1);xe.length>e&&(_e<e&&be<e?xe=xe.slice(0,e):(xe=`
`,_e==be?_e=be=0:(_e=0,be=1)));var We=xe+`

`;We!=w&&(m.value=w=We,k=I=We.length)}if(Ce&&(k=m.selectionStart,I=m.selectionEnd),I!=be||k!=_e||m.selectionEnd!=I)try{m.setSelectionRange(_e,be),k=_e,I=be}catch{}R=!1}};this.resetSelection=ee,K&&u.onFocus();var oe=function(_e){return _e.selectionStart===0&&_e.selectionEnd>=w.length&&_e.value===w&&w&&_e.selectionEnd!==I},fe=function(_e){R||(E?E=!1:oe(m)?(u.selectAll(),ee()):$&&m.selectionStart!=k&&ee())},Ee=null;this.setInputHandler=function(_e){Ee=_e},this.getInputHandler=function(){return Ee};var Ce=!1,Se=function(_e,be){if(Ce&&(Ce=!1),C)return ee(),_e&&u.onPaste(_e),C=!1,"";for(var xe=m.selectionStart,de=m.selectionEnd,qe=k,Ke=w.length-I,$e=_e,De=_e.length-xe,Ne=_e.length-de,W=0;qe>0&&w[W]==_e[W];)W++,qe--;for($e=$e.slice(W),W=1;Ke>0&&w.length-W>k-1&&w[w.length-W]==_e[_e.length-W];)W++,Ke--;De-=W-1,Ne-=W-1;var We=$e.length-W+1;if(We<0&&(qe=-We,We=0),$e=$e.slice(0,We),!be&&!$e&&!De&&!qe&&!Ke&&!Ne)return"";L=!0;var S=!1;return _.isAndroid&&$e==". "&&($e="  ",S=!0),$e&&!qe&&!Ke&&!De&&!Ne||y?u.onTextInput($e):u.onTextInput($e,{extendLeft:qe,extendRight:Ke,restoreStart:De,restoreEnd:Ne}),L=!1,w=_e,k=xe,I=de,G=Ne,S?`
`:$e},Be=function(_e){if(R)return se();if(_e&&_e.inputType){if(_e.inputType=="historyUndo")return u.execCommand("undo");if(_e.inputType=="historyRedo")return u.execCommand("redo")}var be=m.value,xe=Se(be,!0);(be.length>e+100||h.test(xe)||$&&k<1&&k==I)&&ee()},Fe=function(_e,be,xe){var de=_e.clipboardData||window.clipboardData;if(!(!de||n)){var qe=i||xe?"Text":"text/plain";try{return be?de.setData(qe,be)!==!1:de.getData(qe)}catch(Ke){if(!xe)return Fe(Ke,be,!0)}}},Ue=function(_e,be){var xe=u.getCopyText();if(!xe)return M.preventDefault(_e);Fe(_e,xe)?(c&&(ee(xe),E=xe,setTimeout(function(){E=!1},10)),be?u.onCut():u.onCopy(),M.preventDefault(_e)):(E=!0,m.value=xe,m.select(),setTimeout(function(){E=!1,ee(),be?u.onCut():u.onCopy()}))},Ye=function(_e){Ue(_e,!0)},N=function(_e){Ue(_e,!1)},Ae=function(_e){var be=Fe(_e);o.pasteCancelled()||(typeof be=="string"?(be&&u.onPaste(be,_e),_.isIE&&setTimeout(ee),M.preventDefault(_e)):(m.value="",C=!0))};M.addCommandKeyListener(m,function(_e,be,xe){if(!R)return u.onCommandKey(_e,be,xe)},u),M.addListener(m,"select",fe,u),M.addListener(m,"input",Be,u),M.addListener(m,"cut",Ye,u),M.addListener(m,"copy",N,u),M.addListener(m,"paste",Ae,u),(!("oncut"in m)||!("oncopy"in m)||!("onpaste"in m))&&M.addListener(p,"keydown",function(_e){if(!(_.isMac&&!_e.metaKey||!_e.ctrlKey))switch(_e.keyCode){case 67:N(_e);break;case 86:Ae(_e);break;case 88:Ye(_e);break}},u);var ue=function(_e){if(!(R||!u.onCompositionStart||u.$readOnly)&&(R={},!y)){_e.data&&(R.useTextareaForIME=!1),setTimeout(se,0),u._signal("compositionStart"),u.on("mousedown",he);var be=u.getSelectionRange();be.end.row=be.start.row,be.end.column=be.start.column,R.markerRange=be,R.selectionStart=k,u.onCompositionStart(R),R.useTextareaForIME?(w=m.value="",k=0,I=0):(m.msGetInputContext&&(R.context=m.msGetInputContext()),m.getInputContext&&(R.context=m.getInputContext()))}},se=function(){if(!(!R||!u.onCompositionUpdate||u.$readOnly)){if(y)return he();if(R.useTextareaForIME)u.onCompositionUpdate(m.value);else{var _e=m.value;Se(_e),R.markerRange&&(R.context&&(R.markerRange.start.column=R.selectionStart=R.context.compositionStartOffset),R.markerRange.end.column=R.markerRange.start.column+I-R.selectionStart+G)}}},ne=function(_e){!u.onCompositionEnd||u.$readOnly||(R=!1,u.onCompositionEnd(),u.off("mousedown",he),_e&&Be())};function he(){l=!0,m.blur(),m.focus(),l=!1}var Re=d.delayedCall(se,50).schedule.bind(null,null);function Te(_e){_e.keyCode==27&&m.value.length<m.selectionStart&&(R||(w=m.value),k=I=-1,ee()),Re()}M.addListener(m,"compositionstart",ue,u),M.addListener(m,"compositionupdate",se,u),M.addListener(m,"keyup",Te,u),M.addListener(m,"keydown",Re,u),M.addListener(m,"compositionend",ne,u),this.getElement=function(){return m},this.setCommandMode=function(_e){y=_e,m.readOnly=!1},this.setReadOnly=function(_e){y||(m.readOnly=_e)},this.setCopyWithEmptySelection=function(_e){},this.onContextMenu=function(_e){Ce=!0,ee(),u._emit("nativecontextmenu",{target:u,domEvent:_e}),this.moveToMouse(_e,!0)},this.moveToMouse=function(_e,be){g||(g=m.style.cssText),m.style.cssText=(be?"z-index:100000;":"")+(_.isIE?"opacity:0.1;":"")+"text-indent: -"+(k+I)*u.renderer.characterWidth*.5+"px;";var xe=u.container.getBoundingClientRect(),de=s.computedStyle(u.container),qe=xe.top+(parseInt(de.borderTopWidth)||0),Ke=xe.left+(parseInt(xe.borderLeftWidth)||0),$e=xe.bottom-qe-m.clientHeight-2,De=function(Ne){s.translate(m,Ne.clientX-Ke-2,Math.min(Ne.clientY-qe-2,$e))};De(_e),_e.type=="mousedown"&&(u.renderer.$isMousePressed=!0,clearTimeout(ye),_.isWin&&M.capture(u.container,De,Le))},this.onContextMenuClose=Le;var ye;function Le(){clearTimeout(ye),ye=setTimeout(function(){g&&(m.style.cssText=g,g=""),u.renderer.$isMousePressed=!1,u.renderer.$keepTextAreaAtCursor&&u.renderer.$moveTextAreaToCursor()},0)}var Ie=function(_e){u.textInput.onContextMenu(_e),Le()};M.addListener(m,"mouseup",Ie,u),M.addListener(m,"mousedown",function(_e){_e.preventDefault(),Le()},u),M.addListener(u.renderer.scroller,"contextmenu",Ie,u),M.addListener(m,"contextmenu",Ie,u),c&&Oe(p,u,m);function Oe(_e,be,xe){var de=null,qe=!1;xe.addEventListener("keydown",function($e){de&&clearTimeout(de),qe=!0},!0),xe.addEventListener("keyup",function($e){de=setTimeout(function(){qe=!1},100)},!0);var Ke=function($e){if(document.activeElement===xe&&!(qe||R||be.$mouseHandler.isMousePressed)&&!E){var De=xe.selectionStart,Ne=xe.selectionEnd,W=null,We=0;if(De==0?W=r.up:De==1?W=r.home:Ne>I&&w[Ne]==`
`?W=r.end:De<k&&w[De-1]==" "?(W=r.left,We=a.option):De<k||De==k&&I!=k&&De==Ne?W=r.left:Ne>I&&w.slice(0,Ne).split(`
`).length>2?W=r.down:Ne>I&&w[Ne-1]==" "?(W=r.right,We=a.option):(Ne>I||Ne==I&&I!=k&&De==Ne)&&(W=r.right),De!==Ne&&(We|=a.shift),W){var S=be.onCommandKey({},We,W);if(!S&&be.commands){W=r.keyCodeToString(W);var Qe=be.commands.findKeyCommand(We,W);Qe&&be.execCommand(Qe)}k=De,I=Ne,ee("")}}};document.addEventListener("selectionchange",Ke),be.on("destroy",function(){document.removeEventListener("selectionchange",Ke)})}this.destroy=function(){m.parentElement&&m.parentElement.removeChild(m)}},B.TextInput=v,B.$setUserAgentForTests=function(p,u){$=p,c=u}}),ace.define("ace/mouse/default_handlers",["require","exports","module","ace/lib/useragent"],function(f,B,z){var M=f("../lib/useragent"),b=0,_=550,s=function(){function n(i){i.$clickSelection=null;var t=i.editor;t.setDefaultHandler("mousedown",this.onMouseDown.bind(i)),t.setDefaultHandler("dblclick",this.onDoubleClick.bind(i)),t.setDefaultHandler("tripleclick",this.onTripleClick.bind(i)),t.setDefaultHandler("quadclick",this.onQuadClick.bind(i)),t.setDefaultHandler("mousewheel",this.onMouseWheel.bind(i));var e=["select","startSelect","selectEnd","selectAllEnd","selectByWordsEnd","selectByLinesEnd","dragWait","dragWaitEnd","focusWait"];e.forEach(function(r){i[r]=this[r]},this),i.selectByLines=this.extendSelectionBy.bind(i,"getLineRange"),i.selectByWords=this.extendSelectionBy.bind(i,"getWordRange")}return n.prototype.onMouseDown=function(i){var t=i.inSelection(),e=i.getDocumentPosition();this.mousedownEvent=i;var r=this.editor,a=i.getButton();if(a!==0){var c=r.getSelectionRange(),h=c.isEmpty();(h||a==1)&&r.selection.moveToPosition(e),a==2&&(r.textInput.onContextMenu(i.domEvent),M.isMozilla||i.preventDefault());return}if(this.mousedownEvent.time=Date.now(),t&&!r.isFocused()&&(r.focus(),this.$focusTimeout&&!this.$clickSelection&&!r.inMultiSelectMode)){this.setState("focusWait"),this.captureMouse(i);return}return this.captureMouse(i),this.startSelect(e,i.domEvent._clicks>1),i.preventDefault()},n.prototype.startSelect=function(i,t){i=i||this.editor.renderer.screenToTextCoordinates(this.x,this.y);var e=this.editor;this.mousedownEvent&&(this.mousedownEvent.getShiftKey()?e.selection.selectToPosition(i):t||e.selection.moveToPosition(i),t||this.select(),e.setStyle("ace_selecting"),this.setState("select"))},n.prototype.select=function(){var i,t=this.editor,e=t.renderer.screenToTextCoordinates(this.x,this.y);if(this.$clickSelection){var r=this.$clickSelection.comparePoint(e);if(r==-1)i=this.$clickSelection.end;else if(r==1)i=this.$clickSelection.start;else{var a=o(this.$clickSelection,e);e=a.cursor,i=a.anchor}t.selection.setSelectionAnchor(i.row,i.column)}t.selection.selectToPosition(e),t.renderer.scrollCursorIntoView()},n.prototype.extendSelectionBy=function(i){var t,e=this.editor,r=e.renderer.screenToTextCoordinates(this.x,this.y),a=e.selection[i](r.row,r.column);if(this.$clickSelection){var c=this.$clickSelection.comparePoint(a.start),h=this.$clickSelection.comparePoint(a.end);if(c==-1&&h<=0)t=this.$clickSelection.end,(a.end.row!=r.row||a.end.column!=r.column)&&(r=a.start);else if(h==1&&c>=0)t=this.$clickSelection.start,(a.start.row!=r.row||a.start.column!=r.column)&&(r=a.end);else if(c==-1&&h==1)r=a.end,t=a.start;else{var $=o(this.$clickSelection,r);r=$.cursor,t=$.anchor}e.selection.setSelectionAnchor(t.row,t.column)}e.selection.selectToPosition(r),e.renderer.scrollCursorIntoView()},n.prototype.selectByLinesEnd=function(){this.$clickSelection=null,this.editor.unsetStyle("ace_selecting")},n.prototype.focusWait=function(){var i=d(this.mousedownEvent.x,this.mousedownEvent.y,this.x,this.y),t=Date.now();(i>b||t-this.mousedownEvent.time>this.$focusTimeout)&&this.startSelect(this.mousedownEvent.getDocumentPosition())},n.prototype.onDoubleClick=function(i){var t=i.getDocumentPosition(),e=this.editor,r=e.session,a=r.getBracketRange(t);a?(a.isEmpty()&&(a.start.column--,a.end.column++),this.setState("select")):(a=e.selection.getWordRange(t.row,t.column),this.setState("selectByWords")),this.$clickSelection=a,this.select()},n.prototype.onTripleClick=function(i){var t=i.getDocumentPosition(),e=this.editor;this.setState("selectByLines");var r=e.getSelectionRange();r.isMultiLine()&&r.contains(t.row,t.column)?(this.$clickSelection=e.selection.getLineRange(r.start.row),this.$clickSelection.end=e.selection.getLineRange(r.end.row).end):this.$clickSelection=e.selection.getLineRange(t.row),this.select()},n.prototype.onQuadClick=function(i){var t=this.editor;t.selectAll(),this.$clickSelection=t.getSelectionRange(),this.setState("selectAll")},n.prototype.onMouseWheel=function(i){if(!i.getAccelKey()){i.getShiftKey()&&i.wheelY&&!i.wheelX&&(i.wheelX=i.wheelY,i.wheelY=0);var t=this.editor;this.$lastScroll||(this.$lastScroll={t:0,vx:0,vy:0,allowed:0});var e=this.$lastScroll,r=i.domEvent.timeStamp,a=r-e.t,c=a?i.wheelX/a:e.vx,h=a?i.wheelY/a:e.vy;a<_&&(c=(c+e.vx)/2,h=(h+e.vy)/2);var $=Math.abs(c/h),v=!1;if($>=1&&t.renderer.isScrollableBy(i.wheelX*i.speed,0)&&(v=!0),$<=1&&t.renderer.isScrollableBy(0,i.wheelY*i.speed)&&(v=!0),v)e.allowed=r;else if(r-e.allowed<_){var p=Math.abs(c)<=1.5*Math.abs(e.vx)&&Math.abs(h)<=1.5*Math.abs(e.vy);p?(v=!0,e.allowed=r):e.allowed=0}if(e.t=r,e.vx=c,e.vy=h,v)return t.renderer.scrollBy(i.wheelX*i.speed,i.wheelY*i.speed),i.stop()}},n}();s.prototype.selectEnd=s.prototype.selectByLinesEnd,s.prototype.selectAllEnd=s.prototype.selectByLinesEnd,s.prototype.selectByWordsEnd=s.prototype.selectByLinesEnd,B.DefaultHandlers=s;function d(n,i,t,e){return Math.sqrt(Math.pow(t-n,2)+Math.pow(e-i,2))}function o(n,i){if(n.start.row==n.end.row)var t=2*i.column-n.start.column-n.end.column;else if(n.start.row==n.end.row-1&&!n.start.column&&!n.end.column)var t=i.column-4;else var t=2*i.row-n.start.row-n.end.row;return t<0?{cursor:n.start,anchor:n.end}:{cursor:n.end,anchor:n.start}}}),ace.define("ace/lib/scroll",["require","exports","module"],function(f,B,z){B.preventParentScroll=function(b){b.stopPropagation();var _=b.currentTarget,s=_.scrollHeight>_.clientHeight;s||b.preventDefault()}}),ace.define("ace/tooltip",["require","exports","module","ace/lib/dom","ace/lib/event","ace/range","ace/lib/scroll"],function(f,B,z){var M=this&&this.__extends||function(){var r=function(a,c){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(h,$){h.__proto__=$}||function(h,$){for(var v in $)Object.prototype.hasOwnProperty.call($,v)&&(h[v]=$[v])},r(a,c)};return function(a,c){if(typeof c!="function"&&c!==null)throw new TypeError("Class extends value "+String(c)+" is not a constructor or null");r(a,c);function h(){this.constructor=a}a.prototype=c===null?Object.create(c):(h.prototype=c.prototype,new h)}}(),b=this&&this.__values||function(r){var a=typeof Symbol=="function"&&Symbol.iterator,c=a&&r[a],h=0;if(c)return c.call(r);if(r&&typeof r.length=="number")return{next:function(){return r&&h>=r.length&&(r=void 0),{value:r&&r[h++],done:!r}}};throw new TypeError(a?"Object is not iterable.":"Symbol.iterator is not defined.")},_=f("./lib/dom");f("./lib/event");var s=f("./range").Range,d=f("./lib/scroll").preventParentScroll,o="ace_tooltip",n=function(){function r(a){this.isOpen=!1,this.$element=null,this.$parentNode=a}return r.prototype.$init=function(){return this.$element=_.createElement("div"),this.$element.className=o,this.$element.style.display="none",this.$parentNode.appendChild(this.$element),this.$element},r.prototype.getElement=function(){return this.$element||this.$init()},r.prototype.setText=function(a){this.getElement().textContent=a},r.prototype.setHtml=function(a){this.getElement().innerHTML=a},r.prototype.setPosition=function(a,c){this.getElement().style.left=a+"px",this.getElement().style.top=c+"px"},r.prototype.setClassName=function(a){_.addCssClass(this.getElement(),a)},r.prototype.setTheme=function(a){this.$element.className=o+" "+(a.isDark?"ace_dark ":"")+(a.cssClass||"")},r.prototype.show=function(a,c,h){a!=null&&this.setText(a),c!=null&&h!=null&&this.setPosition(c,h),this.isOpen||(this.getElement().style.display="block",this.isOpen=!0)},r.prototype.hide=function(a){this.isOpen&&(this.getElement().style.display="none",this.getElement().className=o,this.isOpen=!1)},r.prototype.getHeight=function(){return this.getElement().offsetHeight},r.prototype.getWidth=function(){return this.getElement().offsetWidth},r.prototype.destroy=function(){this.isOpen=!1,this.$element&&this.$element.parentNode&&this.$element.parentNode.removeChild(this.$element)},r}(),i=function(){function r(){this.popups=[]}return r.prototype.addPopup=function(a){this.popups.push(a),this.updatePopups()},r.prototype.removePopup=function(a){var c=this.popups.indexOf(a);c!==-1&&(this.popups.splice(c,1),this.updatePopups())},r.prototype.updatePopups=function(){var a,c,h,$;this.popups.sort(function(g,y){return y.priority-g.priority});var v=[];try{for(var p=b(this.popups),u=p.next();!u.done;u=p.next()){var m=u.value,E=!0;try{for(var C=(h=void 0,b(v)),R=C.next();!R.done;R=C.next()){var L=R.value;if(this.doPopupsOverlap(L,m)){E=!1;break}}}catch(g){h={error:g}}finally{try{R&&!R.done&&($=C.return)&&$.call(C)}finally{if(h)throw h.error}}E?v.push(m):m.hide()}}catch(g){a={error:g}}finally{try{u&&!u.done&&(c=p.return)&&c.call(p)}finally{if(a)throw a.error}}},r.prototype.doPopupsOverlap=function(a,c){var h=a.getElement().getBoundingClientRect(),$=c.getElement().getBoundingClientRect();return h.left<$.right&&h.right>$.left&&h.top<$.bottom&&h.bottom>$.top},r}(),t=new i;B.popupManager=t,B.Tooltip=n;var e=function(r){M(a,r);function a(c){c===void 0&&(c=document.body);var h=r.call(this,c)||this;h.timeout=void 0,h.lastT=0,h.idleTime=350,h.lastEvent=void 0,h.onMouseOut=h.onMouseOut.bind(h),h.onMouseMove=h.onMouseMove.bind(h),h.waitForHover=h.waitForHover.bind(h),h.hide=h.hide.bind(h);var $=h.getElement();return $.style.whiteSpace="pre-wrap",$.style.pointerEvents="auto",$.addEventListener("mouseout",h.onMouseOut),$.tabIndex=-1,$.addEventListener("blur",(function(){$.contains(document.activeElement)||this.hide()}).bind(h)),$.addEventListener("wheel",d),h}return a.prototype.addToEditor=function(c){c.on("mousemove",this.onMouseMove),c.on("mousedown",this.hide),c.renderer.getMouseEventTarget().addEventListener("mouseout",this.onMouseOut,!0)},a.prototype.removeFromEditor=function(c){c.off("mousemove",this.onMouseMove),c.off("mousedown",this.hide),c.renderer.getMouseEventTarget().removeEventListener("mouseout",this.onMouseOut,!0),this.timeout&&(clearTimeout(this.timeout),this.timeout=null)},a.prototype.onMouseMove=function(c,h){this.lastEvent=c,this.lastT=Date.now();var $=h.$mouseHandler.isMousePressed;if(this.isOpen){var v=this.lastEvent&&this.lastEvent.getDocumentPosition();(!this.range||!this.range.contains(v.row,v.column)||$||this.isOutsideOfText(this.lastEvent))&&this.hide()}this.timeout||$||(this.lastEvent=c,this.timeout=setTimeout(this.waitForHover,this.idleTime))},a.prototype.waitForHover=function(){this.timeout&&clearTimeout(this.timeout);var c=Date.now()-this.lastT;if(this.idleTime-c>10){this.timeout=setTimeout(this.waitForHover,this.idleTime-c);return}this.timeout=null,this.lastEvent&&!this.isOutsideOfText(this.lastEvent)&&this.$gatherData(this.lastEvent,this.lastEvent.editor)},a.prototype.isOutsideOfText=function(c){var h=c.editor,$=c.getDocumentPosition(),v=h.session.getLine($.row);if($.column==v.length){var p=h.renderer.pixelToScreenCoordinates(c.clientX,c.clientY),u=h.session.documentToScreenPosition($.row,$.column);if(u.column!=p.column||u.row!=p.row)return!0}return!1},a.prototype.setDataProvider=function(c){this.$gatherData=c},a.prototype.showForRange=function(c,h,$,v){var p=10;if(!(v&&v!=this.lastEvent)&&!(this.isOpen&&document.activeElement==this.getElement())){var u=c.renderer;this.isOpen||(t.addPopup(this),this.$registerCloseEvents(),this.setTheme(u.theme)),this.isOpen=!0,this.addMarker(h,c.session),this.range=s.fromPoints(h.start,h.end);var m=u.textToScreenCoordinates(h.start.row,h.start.column),E=u.scroller.getBoundingClientRect();m.pageX<E.left&&(m.pageX=E.left);var C=this.getElement();C.innerHTML="",C.appendChild($),C.style.maxHeight="",C.style.display="block";var R=C.clientHeight,L=C.clientWidth,g=window.innerHeight-m.pageY-u.lineHeight,y=!0;m.pageY-R<0&&m.pageY<g&&(y=!1),C.style.maxHeight=(y?m.pageY:g)-p+"px",C.style.top=y?"":m.pageY+u.lineHeight+"px",C.style.bottom=y?window.innerHeight-m.pageY+"px":"",C.style.left=Math.min(m.pageX,window.innerWidth-L-p)+"px"}},a.prototype.addMarker=function(c,h){this.marker&&this.$markerSession.removeMarker(this.marker),this.$markerSession=h,this.marker=h&&h.addMarker(c,"ace_highlight-marker","text")},a.prototype.hide=function(c){!c&&document.activeElement==this.getElement()||c&&c.target&&(c.type!="keydown"||c.ctrlKey||c.metaKey)&&this.$element.contains(c.target)||(this.lastEvent=null,this.timeout&&clearTimeout(this.timeout),this.timeout=null,this.addMarker(null),this.isOpen&&(this.$removeCloseEvents(),this.getElement().style.display="none",this.isOpen=!1,t.removePopup(this)))},a.prototype.$registerCloseEvents=function(){window.addEventListener("keydown",this.hide,!0),window.addEventListener("wheel",this.hide,!0),window.addEventListener("mousedown",this.hide,!0)},a.prototype.$removeCloseEvents=function(){window.removeEventListener("keydown",this.hide,!0),window.removeEventListener("wheel",this.hide,!0),window.removeEventListener("mousedown",this.hide,!0)},a.prototype.onMouseOut=function(c){this.timeout&&(clearTimeout(this.timeout),this.timeout=null),this.lastEvent=null,this.isOpen&&(!c.relatedTarget||this.getElement().contains(c.relatedTarget)||c&&c.currentTarget.contains(c.relatedTarget)||c.relatedTarget.classList.contains("ace_content")||this.hide())},a}(n);B.HoverTooltip=e}),ace.define("ace/mouse/default_gutter_handler",["require","exports","module","ace/lib/dom","ace/lib/event","ace/tooltip","ace/config","ace/lib/lang"],function(f,B,z){var M=this&&this.__extends||function(){var t=function(e,r){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(a,c){a.__proto__=c}||function(a,c){for(var h in c)Object.prototype.hasOwnProperty.call(c,h)&&(a[h]=c[h])},t(e,r)};return function(e,r){if(typeof r!="function"&&r!==null)throw new TypeError("Class extends value "+String(r)+" is not a constructor or null");t(e,r);function a(){this.constructor=e}e.prototype=r===null?Object.create(r):(a.prototype=r.prototype,new a)}}(),b=this&&this.__values||function(t){var e=typeof Symbol=="function"&&Symbol.iterator,r=e&&t[e],a=0;if(r)return r.call(t);if(t&&typeof t.length=="number")return{next:function(){return t&&a>=t.length&&(t=void 0),{value:t&&t[a++],done:!t}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")},_=f("../lib/dom"),s=f("../lib/event"),d=f("../tooltip").Tooltip,o=f("../config").nls;f("../lib/lang");function n(t){var e=t.editor,r=e.renderer.$gutterLayer,a=new i(e);t.editor.setDefaultHandler("guttermousedown",function(u){if(!(!e.isFocused()||u.getButton()!=0)){var m=r.getRegion(u);if(m!="foldWidgets"){var E=u.getDocumentPosition().row,C=e.session.selection;if(u.getShiftKey())C.selectTo(E,0);else{if(u.domEvent.detail==2)return e.selectAll(),u.preventDefault();t.$clickSelection=e.selection.getLineRange(E)}return t.setState("selectByLines"),t.captureMouse(u),u.preventDefault()}}});var c,h;function $(){var u=h.getDocumentPosition().row,m=e.session.getLength();if(u==m){var E=e.renderer.pixelToScreenCoordinates(0,h.y).row,C=h.$pos;if(E>e.session.documentToScreenRow(C.row,C.column))return v()}if(a.showTooltip(u),!!a.isOpen)if(e.on("mousewheel",v),t.$tooltipFollowsMouse)p(h);else{var R=h.getGutterRow(),L=r.$lines.get(R);if(L){var g=L.element.querySelector(".ace_gutter_annotation"),y=g.getBoundingClientRect(),l=a.getElement().style;l.left=y.right+"px",l.top=y.bottom+"px"}else p(h)}}function v(){c&&(c=clearTimeout(c)),a.isOpen&&(a.hideTooltip(),e.off("mousewheel",v))}function p(u){a.setPosition(u.x,u.y)}t.editor.setDefaultHandler("guttermousemove",function(u){var m=u.domEvent.target||u.domEvent.srcElement;if(_.hasCssClass(m,"ace_fold-widget"))return v();a.isOpen&&t.$tooltipFollowsMouse&&p(u),h=u,!c&&(c=setTimeout(function(){c=null,h&&!t.isMousePressed?$():v()},50))}),s.addListener(e.renderer.$gutter,"mouseout",function(u){h=null,!(!a.isOpen||c)&&(c=setTimeout(function(){c=null,v()},50))},e),e.on("changeSession",v),e.on("input",v)}B.GutterHandler=n;var i=function(t){M(e,t);function e(r){var a=t.call(this,r.container)||this;return a.editor=r,a}return e.prototype.setPosition=function(r,a){var c=window.innerWidth||document.documentElement.clientWidth,h=window.innerHeight||document.documentElement.clientHeight,$=this.getWidth(),v=this.getHeight();r+=15,a+=15,r+$>c&&(r-=r+$-c),a+v>h&&(a-=20+v),d.prototype.setPosition.call(this,r,a)},Object.defineProperty(e,"annotationLabels",{get:function(){return{error:{singular:o("gutter-tooltip.aria-label.error.singular","error"),plural:o("gutter-tooltip.aria-label.error.plural","errors")},security:{singular:o("gutter-tooltip.aria-label.security.singular","security finding"),plural:o("gutter-tooltip.aria-label.security.plural","security findings")},warning:{singular:o("gutter-tooltip.aria-label.warning.singular","warning"),plural:o("gutter-tooltip.aria-label.warning.plural","warnings")},info:{singular:o("gutter-tooltip.aria-label.info.singular","information message"),plural:o("gutter-tooltip.aria-label.info.plural","information messages")},hint:{singular:o("gutter-tooltip.aria-label.hint.singular","suggestion"),plural:o("gutter-tooltip.aria-label.hint.plural","suggestions")}}},enumerable:!1,configurable:!0}),e.prototype.showTooltip=function(r){var a,c=this.editor.renderer.$gutterLayer,h=c.$annotations[r],$;h?$={displayText:Array.from(h.displayText),type:Array.from(h.type)}:$={displayText:[],type:[]};var v=c.session.getFoldLine(r);if(v&&c.$showFoldedAnnotations){for(var p={error:[],security:[],warning:[],info:[],hint:[]},u={error:1,security:2,warning:3,info:4,hint:5},m,E=r+1;E<=v.end.row;E++)if(c.$annotations[E])for(var C=0;C<c.$annotations[E].text.length;C++){var R=c.$annotations[E].type[C];p[R].push(c.$annotations[E].text[C]),(!m||u[R]<u[m])&&(m=R)}if(["error","security","warning"].includes(m)){var L="".concat(e.annotationsToSummaryString(p)," in folded code.");$.displayText.push(L),$.type.push(m+"_fold")}}if($.displayText.length===0)return this.hide();for(var g={error:[],security:[],warning:[],info:[],hint:[]},y=c.$useSvgGutterIcons?"ace_icon_svg":"ace_icon",E=0;E<$.displayText.length;E++){var l=_.createElement("span"),w=_.createElement("span");(a=w.classList).add.apply(a,["ace_".concat($.type[E]),y]),w.setAttribute("aria-label","".concat(e.annotationLabels[$.type[E].replace("_fold","")].singular)),w.setAttribute("role","img"),w.appendChild(_.createTextNode(" ")),l.appendChild(w),l.appendChild(_.createTextNode($.displayText[E])),l.appendChild(_.createElement("br")),g[$.type[E].replace("_fold","")].push(l)}var k=this.getElement();_.removeChildren(k),g.error.forEach(function(I){return k.appendChild(I)}),g.security.forEach(function(I){return k.appendChild(I)}),g.warning.forEach(function(I){return k.appendChild(I)}),g.info.forEach(function(I){return k.appendChild(I)}),g.hint.forEach(function(I){return k.appendChild(I)}),k.setAttribute("aria-live","polite"),this.isOpen||(this.setTheme(this.editor.renderer.theme),this.setClassName("ace_gutter-tooltip")),this.show(),this.editor._signal("showGutterTooltip",this)},e.prototype.hideTooltip=function(){this.$element.removeAttribute("aria-live"),this.hide(),this.editor._signal("hideGutterTooltip",this)},e.annotationsToSummaryString=function(r){var a,c,h=[],$=["error","security","warning","info","hint"];try{for(var v=b($),p=v.next();!p.done;p=v.next()){var u=p.value;if(r[u].length){var m=r[u].length===1?e.annotationLabels[u].singular:e.annotationLabels[u].plural;h.push("".concat(r[u].length," ").concat(m))}}}catch(E){a={error:E}}finally{try{p&&!p.done&&(c=v.return)&&c.call(v)}finally{if(a)throw a.error}}return h.join(", ")},e}(d);B.GutterTooltip=i}),ace.define("ace/mouse/mouse_event",["require","exports","module","ace/lib/event","ace/lib/useragent"],function(f,B,z){var M=f("../lib/event"),b=f("../lib/useragent"),_=function(){function s(d,o){this.speed,this.wheelX,this.wheelY,this.domEvent=d,this.editor=o,this.x=this.clientX=d.clientX,this.y=this.clientY=d.clientY,this.$pos=null,this.$inSelection=null,this.propagationStopped=!1,this.defaultPrevented=!1}return s.prototype.stopPropagation=function(){M.stopPropagation(this.domEvent),this.propagationStopped=!0},s.prototype.preventDefault=function(){M.preventDefault(this.domEvent),this.defaultPrevented=!0},s.prototype.stop=function(){this.stopPropagation(),this.preventDefault()},s.prototype.getDocumentPosition=function(){return this.$pos?this.$pos:(this.$pos=this.editor.renderer.screenToTextCoordinates(this.clientX,this.clientY),this.$pos)},s.prototype.getGutterRow=function(){var d=this.getDocumentPosition().row,o=this.editor.session.documentToScreenRow(d,0),n=this.editor.session.documentToScreenRow(this.editor.renderer.$gutterLayer.$lines.get(0).row,0);return o-n},s.prototype.inSelection=function(){if(this.$inSelection!==null)return this.$inSelection;var d=this.editor,o=d.getSelectionRange();if(o.isEmpty())this.$inSelection=!1;else{var n=this.getDocumentPosition();this.$inSelection=o.contains(n.row,n.column)}return this.$inSelection},s.prototype.getButton=function(){return M.getButton(this.domEvent)},s.prototype.getShiftKey=function(){return this.domEvent.shiftKey},s.prototype.getAccelKey=function(){return b.isMac?this.domEvent.metaKey:this.domEvent.ctrlKey},s}();B.MouseEvent=_}),ace.define("ace/mouse/dragdrop_handler",["require","exports","module","ace/lib/dom","ace/lib/event","ace/lib/useragent"],function(f,B,z){var M=f("../lib/dom"),b=f("../lib/event"),_=f("../lib/useragent"),s=200,d=200,o=5;function n(t){var e=t.editor,r=M.createElement("div");r.style.cssText="top:-100px;position:absolute;z-index:2147483647;opacity:0.5",r.textContent="";var a=["dragWait","dragWaitEnd","startDrag","dragReadyEnd","onMouseDrag"];a.forEach(function(ie){t[ie]=this[ie]},this),e.on("mousedown",this.onMouseDown.bind(t));var c=e.container,h,$,v,p,u,m,E=0,C,R,L,g,y;this.onDragStart=function(ie){if(this.cancelDrag||!c.draggable){var ee=this;return setTimeout(function(){ee.startSelect(),ee.captureMouse(ie)},0),ie.preventDefault()}u=e.getSelectionRange();var oe=ie.dataTransfer;oe.effectAllowed=e.getReadOnly()?"copy":"copyMove",e.container.appendChild(r),oe.setDragImage&&oe.setDragImage(r,0,0),setTimeout(function(){e.container.removeChild(r)}),oe.clearData(),oe.setData("Text",e.session.getTextRange()),R=!0,this.setState("drag")},this.onDragEnd=function(ie){if(c.draggable=!1,R=!1,this.setState(null),!e.getReadOnly()){var ee=ie.dataTransfer.dropEffect;!C&&ee=="move"&&e.session.remove(e.getSelectionRange()),e.$resetCursorStyle()}this.editor.unsetStyle("ace_dragging"),this.editor.renderer.setCursorStyle("")},this.onDragEnter=function(ie){if(!(e.getReadOnly()||!j(ie.dataTransfer)))return $=ie.clientX,v=ie.clientY,h||I(),E++,ie.dataTransfer.dropEffect=C=K(ie),b.preventDefault(ie)},this.onDragOver=function(ie){if(!(e.getReadOnly()||!j(ie.dataTransfer)))return $=ie.clientX,v=ie.clientY,h||(I(),E++),H!==null&&(H=null),ie.dataTransfer.dropEffect=C=K(ie),b.preventDefault(ie)},this.onDragLeave=function(ie){if(E--,E<=0&&h)return G(),C=null,b.preventDefault(ie)},this.onDrop=function(ie){if(m){var ee=ie.dataTransfer;if(R)switch(C){case"move":u.contains(m.row,m.column)?u={start:m,end:m}:u=e.moveText(u,m);break;case"copy":u=e.moveText(u,m,!0);break}else{var oe=ee.getData("Text");u={start:m,end:e.session.insert(m,oe)},e.focus(),C=null}return G(),b.preventDefault(ie)}},b.addListener(c,"dragstart",this.onDragStart.bind(t),e),b.addListener(c,"dragend",this.onDragEnd.bind(t),e),b.addListener(c,"dragenter",this.onDragEnter.bind(t),e),b.addListener(c,"dragover",this.onDragOver.bind(t),e),b.addListener(c,"dragleave",this.onDragLeave.bind(t),e),b.addListener(c,"drop",this.onDrop.bind(t),e);function l(ie,ee){var oe=Date.now(),fe=!ee||ie.row!=ee.row,Ee=!ee||ie.column!=ee.column;if(!g||fe||Ee)e.moveCursorToPosition(ie),g=oe,y={x:$,y:v};else{var Ce=i(y.x,y.y,$,v);Ce>o?g=null:oe-g>=d&&(e.renderer.scrollCursorIntoView(),g=null)}}function w(ie,ee){var oe=Date.now(),fe=e.renderer.layerConfig.lineHeight,Ee=e.renderer.layerConfig.characterWidth,Ce=e.renderer.scroller.getBoundingClientRect(),Se={x:{left:$-Ce.left,right:Ce.right-$},y:{top:v-Ce.top,bottom:Ce.bottom-v}},Be=Math.min(Se.x.left,Se.x.right),Fe=Math.min(Se.y.top,Se.y.bottom),Ue={row:ie.row,column:ie.column};Be/Ee<=2&&(Ue.column+=Se.x.left<Se.x.right?-3:2),Fe/fe<=1&&(Ue.row+=Se.y.top<Se.y.bottom?-1:1);var Ye=ie.row!=Ue.row,N=ie.column!=Ue.column,Ae=!ee||ie.row!=ee.row;Ye||N&&!Ae?L?oe-L>=s&&e.renderer.scrollCursorIntoView(Ue):L=oe:L=null}function k(){var ie=m;m=e.renderer.screenToTextCoordinates($,v),l(m,ie),w(m,ie)}function I(){u=e.selection.toOrientedRange(),h=e.session.addMarker(u,"ace_selection",e.getSelectionStyle()),e.clearSelection(),e.isFocused()&&e.renderer.$cursorLayer.setBlinking(!1),clearInterval(p),k(),p=setInterval(k,20),E=0,b.addListener(document,"mousemove",J)}function G(){clearInterval(p),e.session.removeMarker(h),h=null,e.selection.fromOrientedRange(u),e.isFocused()&&!R&&e.$resetCursorStyle(),u=null,m=null,E=0,L=null,g=null,b.removeListener(document,"mousemove",J)}var H=null;function J(){H==null&&(H=setTimeout(function(){H!=null&&h&&G()},20))}function j(ie){var ee=ie.types;return!ee||Array.prototype.some.call(ee,function(oe){return oe=="text/plain"||oe=="Text"})}function K(ie){var ee=["copy","copymove","all","uninitialized"],oe=["move","copymove","linkmove","all","uninitialized"],fe=_.isMac?ie.altKey:ie.ctrlKey,Ee="uninitialized";try{Ee=ie.dataTransfer.effectAllowed.toLowerCase()}catch{}var Ce="none";return fe&&ee.indexOf(Ee)>=0?Ce="copy":oe.indexOf(Ee)>=0?Ce="move":ee.indexOf(Ee)>=0&&(Ce="copy"),Ce}}(function(){this.dragWait=function(){var t=Date.now()-this.mousedownEvent.time;t>this.editor.getDragDelay()&&this.startDrag()},this.dragWaitEnd=function(){var t=this.editor.container;t.draggable=!1,this.startSelect(this.mousedownEvent.getDocumentPosition()),this.selectEnd()},this.dragReadyEnd=function(t){this.editor.$resetCursorStyle(),this.editor.unsetStyle("ace_dragging"),this.editor.renderer.setCursorStyle(""),this.dragWaitEnd()},this.startDrag=function(){this.cancelDrag=!1;var t=this.editor,e=t.container;e.draggable=!0,t.renderer.$cursorLayer.setBlinking(!1),t.setStyle("ace_dragging");var r=_.isWin?"default":"move";t.renderer.setCursorStyle(r),this.setState("dragReady")},this.onMouseDrag=function(t){var e=this.editor.container;if(_.isIE&&this.state=="dragReady"){var r=i(this.mousedownEvent.x,this.mousedownEvent.y,this.x,this.y);r>3&&e.dragDrop()}if(this.state==="dragWait"){var r=i(this.mousedownEvent.x,this.mousedownEvent.y,this.x,this.y);r>0&&(e.draggable=!1,this.startSelect(this.mousedownEvent.getDocumentPosition()))}},this.onMouseDown=function(t){if(this.$dragEnabled){this.mousedownEvent=t;var e=this.editor,r=t.inSelection(),a=t.getButton(),c=t.domEvent.detail||1;if(c===1&&a===0&&r){if(t.editor.inMultiSelectMode&&(t.getAccelKey()||t.getShiftKey()))return;this.mousedownEvent.time=Date.now();var h=t.domEvent.target||t.domEvent.srcElement;if("unselectable"in h&&(h.unselectable="on"),e.getDragDelay()){if(_.isWebKit){this.cancelDrag=!0;var $=e.container;$.draggable=!0}this.setState("dragWait")}else this.startDrag();this.captureMouse(t,this.onMouseDrag.bind(this)),t.defaultPrevented=!0}}}}).call(n.prototype);function i(t,e,r,a){return Math.sqrt(Math.pow(r-t,2)+Math.pow(a-e,2))}B.DragdropHandler=n}),ace.define("ace/mouse/touch_handler",["require","exports","module","ace/mouse/mouse_event","ace/lib/event","ace/lib/dom"],function(f,B,z){var M=f("./mouse_event").MouseEvent,b=f("../lib/event"),_=f("../lib/dom");B.addTouchListeners=function(s,d){var o="scroll",n,i,t,e,r,a,c=0,h,$=0,v=0,p=0,u,m;function E(){var l=window.navigator&&window.navigator.clipboard,w=!1,k=function(){var H=d.getCopyText(),J=d.session.getUndoManager().hasUndo();m.replaceChild(_.buildDom(w?["span",!H&&I("selectall")&&["span",{class:"ace_mobile-button",action:"selectall"},"Select All"],H&&I("copy")&&["span",{class:"ace_mobile-button",action:"copy"},"Copy"],H&&I("cut")&&["span",{class:"ace_mobile-button",action:"cut"},"Cut"],l&&I("paste")&&["span",{class:"ace_mobile-button",action:"paste"},"Paste"],J&&I("undo")&&["span",{class:"ace_mobile-button",action:"undo"},"Undo"],I("find")&&["span",{class:"ace_mobile-button",action:"find"},"Find"],I("openCommandPalette")&&["span",{class:"ace_mobile-button",action:"openCommandPalette"},"Palette"]]:["span"]),m.firstChild)},I=function(H){return d.commands.canExecute(H,d)},G=function(H){var J=H.target.getAttribute("action");if(J=="more"||!w)return w=!w,k();J=="paste"?l.readText().then(function(j){d.execCommand(J,j)}):J&&((J=="cut"||J=="copy")&&(l?l.writeText(d.getCopyText()):document.execCommand("copy")),d.execCommand(J)),m.firstChild.style.display="none",w=!1,J!="openCommandPalette"&&d.focus()};m=_.buildDom(["div",{class:"ace_mobile-menu",ontouchstart:function(H){o="menu",H.stopPropagation(),H.preventDefault(),d.textInput.focus()},ontouchend:function(H){H.stopPropagation(),H.preventDefault(),G(H)},onclick:G},["span"],["span",{class:"ace_mobile-button",action:"more"},"..."]],d.container)}function C(){if(!d.getOption("enableMobileMenu")){m&&R();return}m||E();var l=d.selection.cursor,w=d.renderer.textToScreenCoordinates(l.row,l.column),k=d.renderer.textToScreenCoordinates(0,0).pageX,I=d.renderer.scrollLeft,G=d.container.getBoundingClientRect();m.style.top=w.pageY-G.top-3+"px",w.pageX-G.left<G.width-70?(m.style.left="",m.style.right="10px"):(m.style.right="",m.style.left=k+I-G.left+"px"),m.style.display="",m.firstChild.style.display="none",d.on("input",R)}function R(l){m&&(m.style.display="none"),d.off("input",R)}function L(){r=null,clearTimeout(r);var l=d.selection.getRange(),w=l.contains(h.row,h.column);(l.isEmpty()||!w)&&(d.selection.moveToPosition(h),d.selection.selectWord()),o="wait",C()}function g(){r=null,clearTimeout(r),d.selection.moveToPosition(h);var l=$>=2?d.selection.getLineRange(h.row):d.session.getBracketRange(h);l&&!l.isEmpty()?d.selection.setRange(l):d.selection.selectWord(),o="wait"}b.addListener(s,"contextmenu",function(l){if(u){var w=d.textInput.getElement();w.focus()}},d),b.addListener(s,"touchstart",function(l){var w=l.touches;if(r||w.length>1){clearTimeout(r),r=null,t=-1,o="zoom";return}u=d.$mouseHandler.isMousePressed=!0;var k=d.renderer.layerConfig.lineHeight,I=d.renderer.layerConfig.lineHeight,G=l.timeStamp;e=G;var H=w[0],J=H.clientX,j=H.clientY;Math.abs(n-J)+Math.abs(i-j)>k&&(t=-1),n=l.clientX=J,i=l.clientY=j,v=p=0;var K=new M(l,d);if(h=K.getDocumentPosition(),G-t<500&&w.length==1&&!c)$++,l.preventDefault(),l.button=0,g();else{$=0;var ie=d.selection.cursor,ee=d.selection.isEmpty()?ie:d.selection.anchor,oe=d.renderer.$cursorLayer.getPixelPosition(ie,!0),fe=d.renderer.$cursorLayer.getPixelPosition(ee,!0),Ee=d.renderer.scroller.getBoundingClientRect(),Ce=d.renderer.layerConfig.offset,Se=d.renderer.scrollLeft,Be=function(Ye,N){return Ye=Ye/I,N=N/k-.75,Ye*Ye+N*N};if(l.clientX<Ee.left){o="zoom";return}var Fe=Be(l.clientX-Ee.left-oe.left+Se,l.clientY-Ee.top-oe.top+Ce),Ue=Be(l.clientX-Ee.left-fe.left+Se,l.clientY-Ee.top-fe.top+Ce);Fe<3.5&&Ue<3.5&&(o=Fe>Ue?"cursor":"anchor"),Ue<3.5?o="anchor":Fe<3.5?o="cursor":o="scroll",r=setTimeout(L,450)}t=G},d),b.addListener(s,"touchend",function(l){u=d.$mouseHandler.isMousePressed=!1,a&&clearInterval(a),o=="zoom"?(o="",c=0):r?(d.selection.moveToPosition(h),c=0,C()):o=="scroll"?(y(),R()):C(),clearTimeout(r),r=null},d),b.addListener(s,"touchmove",function(l){r&&(clearTimeout(r),r=null);var w=l.touches;if(!(w.length>1||o=="zoom")){var k=w[0],I=n-k.clientX,G=i-k.clientY;if(o=="wait")if(I*I+G*G>4)o="cursor";else return l.preventDefault();n=k.clientX,i=k.clientY,l.clientX=k.clientX,l.clientY=k.clientY;var H=l.timeStamp,J=H-e;if(e=H,o=="scroll"){var j=new M(l,d);j.speed=1,j.wheelX=I,j.wheelY=G,10*Math.abs(I)<Math.abs(G)&&(I=0),10*Math.abs(G)<Math.abs(I)&&(G=0),J!=0&&(v=I/J,p=G/J),d._emit("mousewheel",j),j.propagationStopped||(v=p=0)}else{var K=new M(l,d),ie=K.getDocumentPosition();o=="cursor"?d.selection.moveCursorToPosition(ie):o=="anchor"&&d.selection.setSelectionAnchor(ie.row,ie.column),d.renderer.scrollCursorIntoView(ie),l.preventDefault()}}},d);function y(){c+=60,a=setInterval(function(){c--<=0&&(clearInterval(a),a=null),Math.abs(v)<.01&&(v=0),Math.abs(p)<.01&&(p=0),c<20&&(v=.9*v),c<20&&(p=.9*p);var l=d.session.getScrollTop();d.renderer.scrollBy(10*v,10*p),l==d.session.getScrollTop()&&(c=0)},10)}}}),ace.define("ace/mouse/mouse_handler",["require","exports","module","ace/lib/event","ace/lib/useragent","ace/mouse/default_handlers","ace/mouse/default_gutter_handler","ace/mouse/mouse_event","ace/mouse/dragdrop_handler","ace/mouse/touch_handler","ace/config"],function(f,B,z){var M=f("../lib/event"),b=f("../lib/useragent"),_=f("./default_handlers").DefaultHandlers,s=f("./default_gutter_handler").GutterHandler,d=f("./mouse_event").MouseEvent,o=f("./dragdrop_handler").DragdropHandler,n=f("./touch_handler").addTouchListeners,i=f("../config"),t=function(){function e(r){this.$dragDelay,this.$dragEnabled,this.$mouseMoved,this.mouseEvent,this.$focusTimeout;var a=this;this.editor=r,new _(this),new s(this),new o(this);var c=function(v){var p=!document.hasFocus||!document.hasFocus()||!r.isFocused()&&document.activeElement==(r.textInput&&r.textInput.getElement());p&&window.focus(),r.focus(),setTimeout(function(){r.isFocused()||r.focus()})},h=r.renderer.getMouseEventTarget();M.addListener(h,"click",this.onMouseEvent.bind(this,"click"),r),M.addListener(h,"mousemove",this.onMouseMove.bind(this,"mousemove"),r),M.addMultiMouseDownListener([h,r.renderer.scrollBarV&&r.renderer.scrollBarV.inner,r.renderer.scrollBarH&&r.renderer.scrollBarH.inner,r.textInput&&r.textInput.getElement()].filter(Boolean),[400,300,250],this,"onMouseEvent",r),M.addMouseWheelListener(r.container,this.onMouseWheel.bind(this,"mousewheel"),r),n(r.container,r);var $=r.renderer.$gutter;M.addListener($,"mousedown",this.onMouseEvent.bind(this,"guttermousedown"),r),M.addListener($,"click",this.onMouseEvent.bind(this,"gutterclick"),r),M.addListener($,"dblclick",this.onMouseEvent.bind(this,"gutterdblclick"),r),M.addListener($,"mousemove",this.onMouseEvent.bind(this,"guttermousemove"),r),M.addListener(h,"mousedown",c,r),M.addListener($,"mousedown",c,r),b.isIE&&r.renderer.scrollBarV&&(M.addListener(r.renderer.scrollBarV.element,"mousedown",c,r),M.addListener(r.renderer.scrollBarH.element,"mousedown",c,r)),r.on("mousemove",function(v){if(!(a.state||a.$dragDelay||!a.$dragEnabled)){var p=r.renderer.screenToTextCoordinates(v.x,v.y),u=r.session.selection.getRange(),m=r.renderer;!u.isEmpty()&&u.insideStart(p.row,p.column)?m.setCursorStyle("default"):m.setCursorStyle("")}},r)}return e.prototype.onMouseEvent=function(r,a){this.editor.session&&this.editor._emit(r,new d(a,this.editor))},e.prototype.onMouseMove=function(r,a){var c=this.editor._eventRegistry&&this.editor._eventRegistry.mousemove;!c||!c.length||this.editor._emit(r,new d(a,this.editor))},e.prototype.onMouseWheel=function(r,a){var c=new d(a,this.editor);c.speed=this.$scrollSpeed*2,c.wheelX=a.wheelX,c.wheelY=a.wheelY,this.editor._emit(r,c)},e.prototype.setState=function(r){this.state=r},e.prototype.captureMouse=function(r,a){this.x=r.x,this.y=r.y,this.isMousePressed=!0;var c=this.editor,h=this.editor.renderer;h.$isMousePressed=!0;var $=this,v=function(C){if(C){if(b.isWebKit&&!C.which&&$.releaseMouse)return $.releaseMouse();$.x=C.clientX,$.y=C.clientY,a&&a(C),$.mouseEvent=new d(C,$.editor),$.$mouseMoved=!0}},p=function(C){c.off("beforeEndOperation",m),clearInterval(E),c.session&&u(),$[$.state+"End"]&&$[$.state+"End"](C),$.state="",$.isMousePressed=h.$isMousePressed=!1,h.$keepTextAreaAtCursor&&h.$moveTextAreaToCursor(),$.$onCaptureMouseMove=$.releaseMouse=null,C&&$.onMouseEvent("mouseup",C),c.endOperation()},u=function(){$[$.state]&&$[$.state](),$.$mouseMoved=!1};if(b.isOldIE&&r.domEvent.type=="dblclick")return setTimeout(function(){p(r)});var m=function(C){$.releaseMouse&&c.curOp.command.name&&c.curOp.selectionChanged&&($[$.state+"End"]&&$[$.state+"End"](),$.state="",$.releaseMouse())};c.on("beforeEndOperation",m),c.startOperation({command:{name:"mouse"}}),$.$onCaptureMouseMove=v,$.releaseMouse=M.capture(this.editor.container,v,p);var E=setInterval(u,20)},e.prototype.cancelContextMenu=function(){var r=(function(a){a&&a.domEvent&&a.domEvent.type!="contextmenu"||(this.editor.off("nativecontextmenu",r),a&&a.domEvent&&M.stopEvent(a.domEvent))}).bind(this);setTimeout(r,10),this.editor.on("nativecontextmenu",r)},e.prototype.destroy=function(){this.releaseMouse&&this.releaseMouse()},e}();t.prototype.releaseMouse=null,i.defineOptions(t.prototype,"mouseHandler",{scrollSpeed:{initialValue:2},dragDelay:{initialValue:b.isMac?150:0},dragEnabled:{initialValue:!0},focusTimeout:{initialValue:0},tooltipFollowsMouse:{initialValue:!0}}),B.MouseHandler=t}),ace.define("ace/mouse/fold_handler",["require","exports","module","ace/lib/dom"],function(f,B,z){var M=f("../lib/dom"),b=function(){function _(s){s.on("click",function(d){var o=d.getDocumentPosition(),n=s.session,i=n.getFoldAt(o.row,o.column,1);i&&(d.getAccelKey()?n.removeFold(i):n.expandFold(i),d.stop());var t=d.domEvent&&d.domEvent.target;t&&M.hasCssClass(t,"ace_inline_button")&&M.hasCssClass(t,"ace_toggle_wrap")&&(n.setOption("wrap",!n.getUseWrapMode()),s.renderer.scrollCursorIntoView())}),s.on("gutterclick",function(d){var o=s.renderer.$gutterLayer.getRegion(d);if(o=="foldWidgets"){var n=d.getDocumentPosition().row,i=s.session;i.foldWidgets&&i.foldWidgets[n]&&s.session.onFoldWidgetClick(n,d),s.isFocused()||s.focus(),d.stop()}}),s.on("gutterdblclick",function(d){var o=s.renderer.$gutterLayer.getRegion(d);if(o=="foldWidgets"){var n=d.getDocumentPosition().row,i=s.session,t=i.getParentFoldRangeData(n,!0),e=t.range||t.firstRange;if(e){n=e.start.row;var r=i.getFoldAt(n,i.getLine(n).length,1);r?i.removeFold(r):(i.addFold("...",e),s.renderer.scrollCursorIntoView({row:e.start.row,column:0}))}d.stop()}})}return _}();B.FoldHandler=b}),ace.define("ace/keyboard/keybinding",["require","exports","module","ace/lib/keys","ace/lib/event"],function(f,B,z){var M=f("../lib/keys"),b=f("../lib/event"),_=function(){function s(d){this.$editor=d,this.$data={editor:d},this.$handlers=[],this.setDefaultHandler(d.commands)}return s.prototype.setDefaultHandler=function(d){this.removeKeyboardHandler(this.$defaultHandler),this.$defaultHandler=d,this.addKeyboardHandler(d,0)},s.prototype.setKeyboardHandler=function(d){var o=this.$handlers;if(o[o.length-1]!=d){for(;o[o.length-1]&&o[o.length-1]!=this.$defaultHandler;)this.removeKeyboardHandler(o[o.length-1]);this.addKeyboardHandler(d,1)}},s.prototype.addKeyboardHandler=function(d,o){if(d){typeof d=="function"&&!d.handleKeyboard&&(d.handleKeyboard=d);var n=this.$handlers.indexOf(d);n!=-1&&this.$handlers.splice(n,1),o==null?this.$handlers.push(d):this.$handlers.splice(o,0,d),n==-1&&d.attach&&d.attach(this.$editor)}},s.prototype.removeKeyboardHandler=function(d){var o=this.$handlers.indexOf(d);return o==-1?!1:(this.$handlers.splice(o,1),d.detach&&d.detach(this.$editor),!0)},s.prototype.getKeyboardHandler=function(){return this.$handlers[this.$handlers.length-1]},s.prototype.getStatusText=function(){var d=this.$data,o=d.editor;return this.$handlers.map(function(n){return n.getStatusText&&n.getStatusText(o,d)||""}).filter(Boolean).join(" ")},s.prototype.$callKeyboardHandlers=function(d,o,n,i){for(var t,e=!1,r=this.$editor.commands,a=this.$handlers.length;a--&&(t=this.$handlers[a].handleKeyboard(this.$data,d,o,n,i),!(!(!t||!t.command)&&(t.command=="null"?e=!0:e=r.exec(t.command,this.$editor,t.args,i),e&&i&&d!=-1&&t.passEvent!=!0&&t.command.passEvent!=!0&&b.stopEvent(i),e))););return!e&&d==-1&&(t={command:"insertstring"},e=r.exec("insertstring",this.$editor,o)),e&&this.$editor._signal&&this.$editor._signal("keyboardActivity",t),e},s.prototype.onCommandKey=function(d,o,n){var i=M.keyCodeToString(n);return this.$callKeyboardHandlers(o,i,n,d)},s.prototype.onTextInput=function(d){return this.$callKeyboardHandlers(-1,d)},s}();B.KeyBinding=_}),ace.define("ace/lib/bidiutil",["require","exports","module"],function(f,B,z){var M=0,b=0,_=!1,s=!1,d=!1,o=[[0,3,0,1,0,0,0],[0,3,0,1,2,2,0],[0,3,0,17,2,0,1],[0,3,5,5,4,1,0],[0,3,21,21,4,0,1],[0,3,5,5,4,2,0]],n=[[2,0,1,1,0,1,0],[2,0,1,1,0,2,0],[2,0,2,1,3,2,0],[2,0,2,33,3,1,1]],i=0,t=1,e=0,r=1,a=2,c=3,h=4,$=5,v=6,p=7,u=8,m=9,E=10,C=11,R=12,L=13,g=14,y=15,l=16,w=17,k=18,I=[k,k,k,k,k,k,k,k,k,v,$,v,u,$,k,k,k,k,k,k,k,k,k,k,k,k,k,k,$,$,$,v,u,h,h,C,C,C,h,h,h,h,h,E,m,E,m,m,a,a,a,a,a,a,a,a,a,a,m,h,h,h,h,h,h,e,e,e,e,e,e,e,e,e,e,e,e,e,e,e,e,e,e,e,e,e,e,e,e,e,e,h,h,h,h,h,h,e,e,e,e,e,e,e,e,e,e,e,e,e,e,e,e,e,e,e,e,e,e,e,e,e,e,h,h,h,h,k,k,k,k,k,k,$,k,k,k,k,k,k,k,k,k,k,k,k,k,k,k,k,k,k,k,k,k,k,k,k,k,k,m,h,C,C,C,C,h,h,h,h,e,h,h,k,h,h,C,C,a,a,h,e,h,h,h,a,e,h,h,h,h,h],G=[u,u,u,u,u,u,u,u,u,u,u,k,k,k,e,r,h,h,h,h,h,h,h,h,h,h,h,h,h,h,h,h,h,h,h,h,h,h,h,h,u,$,L,g,y,l,w,m,C,C,C,C,C,h,h,h,h,h,h,h,h,h,h,h,h,h,h,h,m,h,h,h,h,h,h,h,h,h,h,h,h,h,h,h,h,h,h,h,h,h,h,h,h,h,h,u];function H(ie,ee,oe,fe){var Ee=M?n:o,Ce=null,Se=null,Be=null,Fe=0,Ue=null,Ye=null,N=-1,Ae=null,ue=null,se=[];if(!fe)for(Ae=0,fe=[];Ae<oe;Ae++)fe[Ae]=K(ie[Ae]);for(b=M,_=!1,s=!1,d=!1,ue=0;ue<oe;ue++){if(Ce=Fe,se[ue]=Se=j(ie,fe,se,ue),Fe=Ee[Ce][Se],Ue=Fe&240,Fe&=15,ee[ue]=Be=Ee[Fe][5],Ue>0)if(Ue==16){for(Ae=N;Ae<ue;Ae++)ee[Ae]=1;N=-1}else N=-1;if(Ye=Ee[Fe][6],Ye)N==-1&&(N=ue);else if(N>-1){for(Ae=N;Ae<ue;Ae++)ee[Ae]=Be;N=-1}fe[ue]==$&&(ee[ue]=0),b|=Be}if(d){for(Ae=0;Ae<oe;Ae++)if(fe[Ae]==v){ee[Ae]=M;for(var ne=Ae-1;ne>=0&&fe[ne]==u;ne--)ee[ne]=M}}}function J(ie,ee,oe){if(!(b<ie)){if(ie==1&&M==t&&!s){oe.reverse();return}for(var fe=oe.length,Ee=0,Ce,Se,Be,Fe;Ee<fe;){if(ee[Ee]>=ie){for(Ce=Ee+1;Ce<fe&&ee[Ce]>=ie;)Ce++;for(Se=Ee,Be=Ce-1;Se<Be;Se++,Be--)Fe=oe[Se],oe[Se]=oe[Be],oe[Be]=Fe;Ee=Ce}Ee++}}}function j(ie,ee,oe,fe){var Ee=ee[fe],Ce,Se,Be,Fe;switch(Ee){case e:case r:_=!1;case h:case c:return Ee;case a:return _?c:a;case p:return _=!0,r;case u:return h;case m:return fe<1||fe+1>=ee.length||(Ce=oe[fe-1])!=a&&Ce!=c||(Se=ee[fe+1])!=a&&Se!=c?h:(_&&(Se=c),Se==Ce?Se:h);case E:return Ce=fe>0?oe[fe-1]:$,Ce==a&&fe+1<ee.length&&ee[fe+1]==a?a:h;case C:if(fe>0&&oe[fe-1]==a)return a;if(_)return h;for(Fe=fe+1,Be=ee.length;Fe<Be&&ee[Fe]==C;)Fe++;return Fe<Be&&ee[Fe]==a?a:h;case R:for(Be=ee.length,Fe=fe+1;Fe<Be&&ee[Fe]==R;)Fe++;if(Fe<Be){var Ue=ie[fe],Ye=Ue>=1425&&Ue<=2303||Ue==64286;if(Ce=ee[Fe],Ye&&(Ce==r||Ce==p))return r}return fe<1||(Ce=ee[fe-1])==$?h:oe[fe-1];case $:return _=!1,s=!0,M;case v:return d=!0,h;case L:case g:case l:case w:case y:_=!1;case k:return h}}function K(ie){var ee=ie.charCodeAt(0),oe=ee>>8;return oe==0?ee>191?e:I[ee]:oe==5?/[\u0591-\u05f4]/.test(ie)?r:e:oe==6?/[\u0610-\u061a\u064b-\u065f\u06d6-\u06e4\u06e7-\u06ed]/.test(ie)?R:/[\u0660-\u0669\u066b-\u066c]/.test(ie)?c:ee==1642?C:/[\u06f0-\u06f9]/.test(ie)?a:p:oe==32&&ee<=8287?G[ee&255]:oe==254&&ee>=65136?p:h}B.L=e,B.R=r,B.EN=a,B.ON_R=3,B.AN=4,B.R_H=5,B.B=6,B.RLE=7,B.DOT="",B.doBidiReorder=function(ie,ee,oe){if(ie.length<2)return{};var fe=ie.split(""),Ee=new Array(fe.length),Ce=new Array(fe.length),Se=[];M=oe?t:i,H(fe,Se,fe.length,ee);for(var Be=0;Be<Ee.length;Ee[Be]=Be,Be++);J(2,Se,Ee),J(1,Se,Ee);for(var Be=0;Be<Ee.length-1;Be++)ee[Be]===c?Se[Be]=B.AN:Se[Be]===r&&(ee[Be]>p&&ee[Be]<L||ee[Be]===h||ee[Be]===k)?Se[Be]=B.ON_R:Be>0&&fe[Be-1]===""&&/\u0622|\u0623|\u0625|\u0627/.test(fe[Be])&&(Se[Be-1]=Se[Be]=B.R_H,Be++);fe[fe.length-1]===B.DOT&&(Se[fe.length-1]=B.B),fe[0]===""&&(Se[0]=B.RLE);for(var Be=0;Be<Ee.length;Be++)Ce[Be]=Se[Ee[Be]];return{logicalFromVisual:Ee,bidiLevels:Ce}},B.hasBidiCharacters=function(ie,ee){for(var oe=!1,fe=0;fe<ie.length;fe++)ee[fe]=K(ie.charAt(fe)),!oe&&(ee[fe]==r||ee[fe]==p||ee[fe]==c)&&(oe=!0);return oe},B.getVisualFromLogicalIdx=function(ie,ee){for(var oe=0;oe<ee.logicalFromVisual.length;oe++)if(ee.logicalFromVisual[oe]==ie)return oe;return 0}}),ace.define("ace/bidihandler",["require","exports","module","ace/lib/bidiutil","ace/lib/lang"],function(f,B,z){var M=f("./lib/bidiutil"),b=f("./lib/lang"),_=/[\u0590-\u05f4\u0600-\u06ff\u0700-\u08ac\u202B]/,s=function(){function d(o){this.session=o,this.bidiMap={},this.currentRow=null,this.bidiUtil=M,this.charWidths=[],this.EOL="",this.showInvisibles=!0,this.isRtlDir=!1,this.$isRtl=!1,this.line="",this.wrapIndent=0,this.EOF="",this.RLE="",this.contentWidth=0,this.fontMetrics=null,this.rtlLineOffset=0,this.wrapOffset=0,this.isMoveLeftOperation=!1,this.seenBidi=_.test(o.getValue())}return d.prototype.isBidiRow=function(o,n,i){return this.seenBidi?(o!==this.currentRow&&(this.currentRow=o,this.updateRowLine(n,i),this.updateBidiMap()),this.bidiMap.bidiLevels):!1},d.prototype.onChange=function(o){this.seenBidi?this.currentRow=null:o.action=="insert"&&_.test(o.lines.join(`
`))&&(this.seenBidi=!0,this.currentRow=null)},d.prototype.getDocumentRow=function(){var o=0,n=this.session.$screenRowCache;if(n.length){var i=this.session.$getRowCacheIndex(n,this.currentRow);i>=0&&(o=this.session.$docRowCache[i])}return o},d.prototype.getSplitIndex=function(){var o=0,n=this.session.$screenRowCache;if(n.length)for(var i,t=this.session.$getRowCacheIndex(n,this.currentRow);this.currentRow-o>0&&(i=this.session.$getRowCacheIndex(n,this.currentRow-o-1),i===t);)t=i,o++;else o=this.currentRow;return o},d.prototype.updateRowLine=function(o,n){o===void 0&&(o=this.getDocumentRow());var i=o===this.session.getLength()-1,t=i?this.EOF:this.EOL;if(this.wrapIndent=0,this.line=this.session.getLine(o),this.isRtlDir=this.$isRtl||this.line.charAt(0)===this.RLE,this.session.$useWrapMode){var e=this.session.$wrapData[o];e&&(n===void 0&&(n=this.getSplitIndex()),n>0&&e.length?(this.wrapIndent=e.indent,this.wrapOffset=this.wrapIndent*this.charWidths[M.L],this.line=n<e.length?this.line.substring(e[n-1],e[n]):this.line.substring(e[e.length-1])):this.line=this.line.substring(0,e[n]),n==e.length&&(this.line+=this.showInvisibles?t:M.DOT))}else this.line+=this.showInvisibles?t:M.DOT;var r=this.session,a=0,c;this.line=this.line.replace(/\t|[\u1100-\u2029, \u202F-\uFFE6]/g,function(h,$){return h==="	"||r.isFullWidth(h.charCodeAt(0))?(c=h==="	"?r.getScreenTabSize($+a):2,a+=c-1,b.stringRepeat(M.DOT,c)):h}),this.isRtlDir&&(this.fontMetrics.$main.textContent=this.line.charAt(this.line.length-1)==M.DOT?this.line.substr(0,this.line.length-1):this.line,this.rtlLineOffset=this.contentWidth-this.fontMetrics.$main.getBoundingClientRect().width)},d.prototype.updateBidiMap=function(){var o=[];M.hasBidiCharacters(this.line,o)||this.isRtlDir?this.bidiMap=M.doBidiReorder(this.line,o,this.isRtlDir):this.bidiMap={}},d.prototype.markAsDirty=function(){this.currentRow=null},d.prototype.updateCharacterWidths=function(o){if(this.characterWidth!==o.$characterSize.width){this.fontMetrics=o;var n=this.characterWidth=o.$characterSize.width,i=o.$measureCharWidth("");this.charWidths[M.L]=this.charWidths[M.EN]=this.charWidths[M.ON_R]=n,this.charWidths[M.R]=this.charWidths[M.AN]=i,this.charWidths[M.R_H]=i*.45,this.charWidths[M.B]=this.charWidths[M.RLE]=0,this.currentRow=null}},d.prototype.setShowInvisibles=function(o){this.showInvisibles=o,this.currentRow=null},d.prototype.setEolChar=function(o){this.EOL=o},d.prototype.setContentWidth=function(o){this.contentWidth=o},d.prototype.isRtlLine=function(o){return this.$isRtl?!0:o!=null?this.session.getLine(o).charAt(0)==this.RLE:this.isRtlDir},d.prototype.setRtlDirection=function(o,n){for(var i=o.getCursorPosition(),t=o.selection.getSelectionAnchor().row;t<=i.row;t++)!n&&o.session.getLine(t).charAt(0)===o.session.$bidiHandler.RLE?o.session.doc.removeInLine(t,0,1):n&&o.session.getLine(t).charAt(0)!==o.session.$bidiHandler.RLE&&o.session.doc.insert({column:0,row:t},o.session.$bidiHandler.RLE)},d.prototype.getPosLeft=function(o){o-=this.wrapIndent;var n=this.line.charAt(0)===this.RLE?1:0,i=o>n?this.session.getOverwrite()?o:o-1:n,t=M.getVisualFromLogicalIdx(i,this.bidiMap),e=this.bidiMap.bidiLevels,r=0;!this.session.getOverwrite()&&o<=n&&e[t]%2!==0&&t++;for(var a=0;a<t;a++)r+=this.charWidths[e[a]];return!this.session.getOverwrite()&&o>n&&e[t]%2===0&&(r+=this.charWidths[e[t]]),this.wrapIndent&&(r+=this.isRtlDir?-1*this.wrapOffset:this.wrapOffset),this.isRtlDir&&(r+=this.rtlLineOffset),r},d.prototype.getSelections=function(o,n){var i=this.bidiMap,t=i.bidiLevels,e,r=[],a=0,c=Math.min(o,n)-this.wrapIndent,h=Math.max(o,n)-this.wrapIndent,$=!1,v=!1,p=0;this.wrapIndent&&(a+=this.isRtlDir?-1*this.wrapOffset:this.wrapOffset);for(var u,m=0;m<t.length;m++)u=i.logicalFromVisual[m],e=t[m],$=u>=c&&u<h,$&&!v?p=a:!$&&v&&r.push({left:p,width:a-p}),a+=this.charWidths[e],v=$;if($&&m===t.length&&r.push({left:p,width:a-p}),this.isRtlDir)for(var E=0;E<r.length;E++)r[E].left+=this.rtlLineOffset;return r},d.prototype.offsetToCol=function(i){this.isRtlDir&&(i-=this.rtlLineOffset);var n=0,i=Math.max(i,0),t=0,e=0,r=this.bidiMap.bidiLevels,a=this.charWidths[r[e]];for(this.wrapIndent&&(i-=this.isRtlDir?-1*this.wrapOffset:this.wrapOffset);i>t+a/2;){if(t+=a,e===r.length-1){a=0;break}a=this.charWidths[r[++e]]}return e>0&&r[e-1]%2!==0&&r[e]%2===0?(i<t&&e--,n=this.bidiMap.logicalFromVisual[e]):e>0&&r[e-1]%2===0&&r[e]%2!==0?n=1+(i>t?this.bidiMap.logicalFromVisual[e]:this.bidiMap.logicalFromVisual[e-1]):this.isRtlDir&&e===r.length-1&&a===0&&r[e-1]%2===0||!this.isRtlDir&&e===0&&r[e]%2!==0?n=1+this.bidiMap.logicalFromVisual[e]:(e>0&&r[e-1]%2!==0&&a!==0&&e--,n=this.bidiMap.logicalFromVisual[e]),n===0&&this.isRtlDir&&n++,n+this.wrapIndent},d}();B.BidiHandler=s}),ace.define("ace/selection",["require","exports","module","ace/lib/oop","ace/lib/lang","ace/lib/event_emitter","ace/range"],function(f,B,z){var M=f("./lib/oop"),b=f("./lib/lang"),_=f("./lib/event_emitter").EventEmitter,s=f("./range").Range,d=function(){function o(n){this.session=n,this.doc=n.getDocument(),this.clearSelection(),this.cursor=this.lead=this.doc.createAnchor(0,0),this.anchor=this.doc.createAnchor(0,0),this.$silent=!1;var i=this;this.cursor.on("change",function(t){i.$cursorChanged=!0,i.$silent||i._emit("changeCursor"),!i.$isEmpty&&!i.$silent&&i._emit("changeSelection"),!i.$keepDesiredColumnOnChange&&t.old.column!=t.value.column&&(i.$desiredColumn=null)}),this.anchor.on("change",function(){i.$anchorChanged=!0,!i.$isEmpty&&!i.$silent&&i._emit("changeSelection")})}return o.prototype.isEmpty=function(){return this.$isEmpty||this.anchor.row==this.lead.row&&this.anchor.column==this.lead.column},o.prototype.isMultiLine=function(){return!this.$isEmpty&&this.anchor.row!=this.cursor.row},o.prototype.getCursor=function(){return this.lead.getPosition()},o.prototype.setAnchor=function(n,i){this.$isEmpty=!1,this.anchor.setPosition(n,i)},o.prototype.getAnchor=function(){return this.$isEmpty?this.getSelectionLead():this.anchor.getPosition()},o.prototype.getSelectionLead=function(){return this.lead.getPosition()},o.prototype.isBackwards=function(){var n=this.anchor,i=this.lead;return n.row>i.row||n.row==i.row&&n.column>i.column},o.prototype.getRange=function(){var n=this.anchor,i=this.lead;return this.$isEmpty?s.fromPoints(i,i):this.isBackwards()?s.fromPoints(i,n):s.fromPoints(n,i)},o.prototype.clearSelection=function(){this.$isEmpty||(this.$isEmpty=!0,this._emit("changeSelection"))},o.prototype.selectAll=function(){this.$setSelection(0,0,Number.MAX_VALUE,Number.MAX_VALUE)},o.prototype.setRange=function(n,i){var t=i?n.end:n.start,e=i?n.start:n.end;this.$setSelection(t.row,t.column,e.row,e.column)},o.prototype.$setSelection=function(n,i,t,e){if(!this.$silent){var r=this.$isEmpty,a=this.inMultiSelectMode;this.$silent=!0,this.$cursorChanged=this.$anchorChanged=!1,this.anchor.setPosition(n,i),this.cursor.setPosition(t,e),this.$isEmpty=!s.comparePoints(this.anchor,this.cursor),this.$silent=!1,this.$cursorChanged&&this._emit("changeCursor"),(this.$cursorChanged||this.$anchorChanged||r!=this.$isEmpty||a)&&this._emit("changeSelection")}},o.prototype.$moveSelection=function(n){var i=this.lead;this.$isEmpty&&this.setSelectionAnchor(i.row,i.column),n.call(this)},o.prototype.selectTo=function(n,i){this.$moveSelection(function(){this.moveCursorTo(n,i)})},o.prototype.selectToPosition=function(n){this.$moveSelection(function(){this.moveCursorToPosition(n)})},o.prototype.moveTo=function(n,i){this.clearSelection(),this.moveCursorTo(n,i)},o.prototype.moveToPosition=function(n){this.clearSelection(),this.moveCursorToPosition(n)},o.prototype.selectUp=function(){this.$moveSelection(this.moveCursorUp)},o.prototype.selectDown=function(){this.$moveSelection(this.moveCursorDown)},o.prototype.selectRight=function(){this.$moveSelection(this.moveCursorRight)},o.prototype.selectLeft=function(){this.$moveSelection(this.moveCursorLeft)},o.prototype.selectLineStart=function(){this.$moveSelection(this.moveCursorLineStart)},o.prototype.selectLineEnd=function(){this.$moveSelection(this.moveCursorLineEnd)},o.prototype.selectFileEnd=function(){this.$moveSelection(this.moveCursorFileEnd)},o.prototype.selectFileStart=function(){this.$moveSelection(this.moveCursorFileStart)},o.prototype.selectWordRight=function(){this.$moveSelection(this.moveCursorWordRight)},o.prototype.selectWordLeft=function(){this.$moveSelection(this.moveCursorWordLeft)},o.prototype.getWordRange=function(n,i){if(typeof i>"u"){var t=n||this.lead;n=t.row,i=t.column}return this.session.getWordRange(n,i)},o.prototype.selectWord=function(){this.setSelectionRange(this.getWordRange())},o.prototype.selectAWord=function(){var n=this.getCursor(),i=this.session.getAWordRange(n.row,n.column);this.setSelectionRange(i)},o.prototype.getLineRange=function(n,i){var t=typeof n=="number"?n:this.lead.row,e,r=this.session.getFoldLine(t);return r?(t=r.start.row,e=r.end.row):e=t,i===!0?new s(t,0,e,this.session.getLine(e).length):new s(t,0,e+1,0)},o.prototype.selectLine=function(){this.setSelectionRange(this.getLineRange())},o.prototype.moveCursorUp=function(){this.moveCursorBy(-1,0)},o.prototype.moveCursorDown=function(){this.moveCursorBy(1,0)},o.prototype.wouldMoveIntoSoftTab=function(n,i,t){var e=n.column,r=n.column+i;return t<0&&(e=n.column-i,r=n.column),this.session.isTabStop(n)&&this.doc.getLine(n.row).slice(e,r).split(" ").length-1==i},o.prototype.moveCursorLeft=function(){var n=this.lead.getPosition(),i;if(i=this.session.getFoldAt(n.row,n.column,-1))this.moveCursorTo(i.start.row,i.start.column);else if(n.column===0)n.row>0&&this.moveCursorTo(n.row-1,this.doc.getLine(n.row-1).length);else{var t=this.session.getTabSize();this.wouldMoveIntoSoftTab(n,t,-1)&&!this.session.getNavigateWithinSoftTabs()?this.moveCursorBy(0,-t):this.moveCursorBy(0,-1)}},o.prototype.moveCursorRight=function(){var n=this.lead.getPosition(),i;if(i=this.session.getFoldAt(n.row,n.column,1))this.moveCursorTo(i.end.row,i.end.column);else if(this.lead.column==this.doc.getLine(this.lead.row).length)this.lead.row<this.doc.getLength()-1&&this.moveCursorTo(this.lead.row+1,0);else{var t=this.session.getTabSize(),n=this.lead;this.wouldMoveIntoSoftTab(n,t,1)&&!this.session.getNavigateWithinSoftTabs()?this.moveCursorBy(0,t):this.moveCursorBy(0,1)}},o.prototype.moveCursorLineStart=function(){var n=this.lead.row,i=this.lead.column,t=this.session.documentToScreenRow(n,i),e=this.session.screenToDocumentPosition(t,0),r=this.session.getDisplayLine(n,null,e.row,e.column),a=r.match(/^\s*/);a[0].length!=i&&!this.session.$useEmacsStyleLineStart&&(e.column+=a[0].length),this.moveCursorToPosition(e)},o.prototype.moveCursorLineEnd=function(){var n=this.lead,i=this.session.getDocumentLastRowColumnPosition(n.row,n.column);if(this.lead.column==i.column){var t=this.session.getLine(i.row);if(i.column==t.length){var e=t.search(/\s+$/);e>0&&(i.column=e)}}this.moveCursorTo(i.row,i.column)},o.prototype.moveCursorFileEnd=function(){var n=this.doc.getLength()-1,i=this.doc.getLine(n).length;this.moveCursorTo(n,i)},o.prototype.moveCursorFileStart=function(){this.moveCursorTo(0,0)},o.prototype.moveCursorLongWordRight=function(){var n=this.lead.row,i=this.lead.column,t=this.doc.getLine(n),e=t.substring(i);this.session.nonTokenRe.lastIndex=0,this.session.tokenRe.lastIndex=0;var r=this.session.getFoldAt(n,i,1);if(r){this.moveCursorTo(r.end.row,r.end.column);return}if(this.session.nonTokenRe.exec(e)&&(i+=this.session.nonTokenRe.lastIndex,this.session.nonTokenRe.lastIndex=0,e=t.substring(i)),i>=t.length){this.moveCursorTo(n,t.length),this.moveCursorRight(),n<this.doc.getLength()-1&&this.moveCursorWordRight();return}this.session.tokenRe.exec(e)&&(i+=this.session.tokenRe.lastIndex,this.session.tokenRe.lastIndex=0),this.moveCursorTo(n,i)},o.prototype.moveCursorLongWordLeft=function(){var n=this.lead.row,i=this.lead.column,t;if(t=this.session.getFoldAt(n,i,-1)){this.moveCursorTo(t.start.row,t.start.column);return}var e=this.session.getFoldStringAt(n,i,-1);e==null&&(e=this.doc.getLine(n).substring(0,i));var r=b.stringReverse(e);if(this.session.nonTokenRe.lastIndex=0,this.session.tokenRe.lastIndex=0,this.session.nonTokenRe.exec(r)&&(i-=this.session.nonTokenRe.lastIndex,r=r.slice(this.session.nonTokenRe.lastIndex),this.session.nonTokenRe.lastIndex=0),i<=0){this.moveCursorTo(n,0),this.moveCursorLeft(),n>0&&this.moveCursorWordLeft();return}this.session.tokenRe.exec(r)&&(i-=this.session.tokenRe.lastIndex,this.session.tokenRe.lastIndex=0),this.moveCursorTo(n,i)},o.prototype.$shortWordEndIndex=function(n){var i=0,t,e=/\s/,r=this.session.tokenRe;if(r.lastIndex=0,this.session.tokenRe.exec(n))i=this.session.tokenRe.lastIndex;else{for(;(t=n[i])&&e.test(t);)i++;if(i<1){for(r.lastIndex=0;(t=n[i])&&!r.test(t);)if(r.lastIndex=0,i++,e.test(t))if(i>2){i--;break}else{for(;(t=n[i])&&e.test(t);)i++;if(i>2)break}}}return r.lastIndex=0,i},o.prototype.moveCursorShortWordRight=function(){var n=this.lead.row,i=this.lead.column,t=this.doc.getLine(n),e=t.substring(i),r=this.session.getFoldAt(n,i,1);if(r)return this.moveCursorTo(r.end.row,r.end.column);if(i==t.length){var a=this.doc.getLength();do n++,e=this.doc.getLine(n);while(n<a&&/^\s*$/.test(e));/^\s+/.test(e)||(e=""),i=0}var c=this.$shortWordEndIndex(e);this.moveCursorTo(n,i+c)},o.prototype.moveCursorShortWordLeft=function(){var n=this.lead.row,i=this.lead.column,t;if(t=this.session.getFoldAt(n,i,-1))return this.moveCursorTo(t.start.row,t.start.column);var e=this.session.getLine(n).substring(0,i);if(i===0){do n--,e=this.doc.getLine(n);while(n>0&&/^\s*$/.test(e));i=e.length,/\s+$/.test(e)||(e="")}var r=b.stringReverse(e),a=this.$shortWordEndIndex(r);return this.moveCursorTo(n,i-a)},o.prototype.moveCursorWordRight=function(){this.session.$selectLongWords?this.moveCursorLongWordRight():this.moveCursorShortWordRight()},o.prototype.moveCursorWordLeft=function(){this.session.$selectLongWords?this.moveCursorLongWordLeft():this.moveCursorShortWordLeft()},o.prototype.moveCursorBy=function(n,i){var t=this.session.documentToScreenPosition(this.lead.row,this.lead.column),e;if(i===0&&(n!==0&&(this.session.$bidiHandler.isBidiRow(t.row,this.lead.row)?(e=this.session.$bidiHandler.getPosLeft(t.column),t.column=Math.round(e/this.session.$bidiHandler.charWidths[0])):e=t.column*this.session.$bidiHandler.charWidths[0]),this.$desiredColumn?t.column=this.$desiredColumn:this.$desiredColumn=t.column),n!=0&&this.session.lineWidgets&&this.session.lineWidgets[this.lead.row]){var r=this.session.lineWidgets[this.lead.row];n<0?n-=r.rowsAbove||0:n>0&&(n+=r.rowCount-(r.rowsAbove||0))}var a=this.session.screenToDocumentPosition(t.row+n,t.column,e);n!==0&&i===0&&a.row===this.lead.row&&(a.column,this.lead.column),this.moveCursorTo(a.row,a.column+i,i===0)},o.prototype.moveCursorToPosition=function(n){this.moveCursorTo(n.row,n.column)},o.prototype.moveCursorTo=function(n,i,t){var e=this.session.getFoldAt(n,i,1);e&&(n=e.start.row,i=e.start.column),this.$keepDesiredColumnOnChange=!0;var r=this.session.getLine(n);/[\uDC00-\uDFFF]/.test(r.charAt(i))&&r.charAt(i-1)&&(this.lead.row==n&&this.lead.column==i+1?i=i-1:i=i+1),this.lead.setPosition(n,i),this.$keepDesiredColumnOnChange=!1,t||(this.$desiredColumn=null)},o.prototype.moveCursorToScreen=function(n,i,t){var e=this.session.screenToDocumentPosition(n,i);this.moveCursorTo(e.row,e.column,t)},o.prototype.detach=function(){this.lead.detach(),this.anchor.detach()},o.prototype.fromOrientedRange=function(n){this.setSelectionRange(n,n.cursor==n.start),this.$desiredColumn=n.desiredColumn||this.$desiredColumn},o.prototype.toOrientedRange=function(n){var i=this.getRange();return n?(n.start.column=i.start.column,n.start.row=i.start.row,n.end.column=i.end.column,n.end.row=i.end.row):n=i,n.cursor=this.isBackwards()?n.start:n.end,n.desiredColumn=this.$desiredColumn,n},o.prototype.getRangeOfMovements=function(n){var i=this.getCursor();try{n(this);var t=this.getCursor();return s.fromPoints(i,t)}catch{return s.fromPoints(i,i)}finally{this.moveCursorToPosition(i)}},o.prototype.toJSON=function(){if(this.rangeCount)var n=this.ranges.map(function(i){var t=i.clone();return t.isBackwards=i.cursor==i.start,t});else{var n=this.getRange();n.isBackwards=this.isBackwards()}return n},o.prototype.fromJSON=function(n){if(n.start==null)if(this.rangeList&&n.length>1){this.toSingleRange(n[0]);for(var i=n.length;i--;){var t=s.fromPoints(n[i].start,n[i].end);n[i].isBackwards&&(t.cursor=t.start),this.addRange(t,!0)}return}else n=n[0];this.rangeList&&this.toSingleRange(n),this.setSelectionRange(n,n.isBackwards)},o.prototype.isEqual=function(n){if((n.length||this.rangeCount)&&n.length!=this.rangeCount)return!1;if(!n.length||!this.ranges)return this.getRange().isEqual(n);for(var i=this.ranges.length;i--;)if(!this.ranges[i].isEqual(n[i]))return!1;return!0},o}();d.prototype.setSelectionAnchor=d.prototype.setAnchor,d.prototype.getSelectionAnchor=d.prototype.getAnchor,d.prototype.setSelectionRange=d.prototype.setRange,M.implement(d.prototype,_),B.Selection=d}),ace.define("ace/tokenizer",["require","exports","module","ace/lib/report_error"],function(f,B,z){var M=f("./lib/report_error").reportError,b=2e3,_=function(){function s(d){this.splitRegex,this.states=d,this.regExps={},this.matchMappings={};for(var o in this.states){for(var n=this.states[o],i=[],t=0,e=this.matchMappings[o]={defaultToken:"text"},r="g",a=[],c=0;c<n.length;c++){var h=n[c];if(h.defaultToken&&(e.defaultToken=h.defaultToken),h.caseInsensitive&&r.indexOf("i")===-1&&(r+="i"),h.unicode&&r.indexOf("u")===-1&&(r+="u"),h.regex!=null){h.regex instanceof RegExp&&(h.regex=h.regex.toString().slice(1,-1));var $=h.regex,v=new RegExp("(?:("+$+")|(.))").exec("a").length-2;Array.isArray(h.token)?h.token.length==1||v==1?h.token=h.token[0]:v-1!=h.token.length?(this.reportError("number of classes and regexp groups doesn't match",{rule:h,groupCount:v-1}),h.token=h.token[0]):(h.tokenArray=h.token,h.token=null,h.onMatch=this.$arrayTokens):typeof h.token=="function"&&!h.onMatch&&(v>1?h.onMatch=this.$applyToken:h.onMatch=h.token),v>1&&(/\\\d/.test(h.regex)?$=h.regex.replace(/\\([0-9]+)/g,function(p,u){return"\\"+(parseInt(u,10)+t+1)}):(v=1,$=this.removeCapturingGroups(h.regex)),!h.splitRegex&&typeof h.token!="string"&&a.push(h)),e[t]=c,t+=v,i.push($),h.onMatch||(h.onMatch=null)}}i.length||(e[0]=0,i.push("$")),a.forEach(function(p){p.splitRegex=this.createSplitterRegexp(p.regex,r)},this),this.regExps[o]=new RegExp("("+i.join(")|(")+")|($)",r)}}return s.prototype.$setMaxTokenCount=function(d){b=d|0},s.prototype.$applyToken=function(d){var o=this.splitRegex.exec(d).slice(1),n=this.token.apply(this,o);if(typeof n=="string")return[{type:n,value:d}];for(var i=[],t=0,e=n.length;t<e;t++)o[t]&&(i[i.length]={type:n[t],value:o[t]});return i},s.prototype.$arrayTokens=function(d){if(!d)return[];var o=this.splitRegex.exec(d);if(!o)return"text";for(var n=[],i=this.tokenArray,t=0,e=i.length;t<e;t++)o[t+1]&&(n[n.length]={type:i[t],value:o[t+1]});return n},s.prototype.removeCapturingGroups=function(d){var o=d.replace(/\\.|\[(?:\\.|[^\\\]])*|\(\?[:=!<]|(\()/g,function(n,i){return i?"(?:":n});return o},s.prototype.createSplitterRegexp=function(d,o){if(d.indexOf("(?=")!=-1){var n=0,i=!1,t={};d.replace(/(\\.)|(\((?:\?[=!])?)|(\))|([\[\]])/g,function(e,r,a,c,h,$){return i?i=h!="]":h?i=!0:c?(n==t.stack&&(t.end=$+1,t.stack=-1),n--):a&&(n++,a.length!=1&&(t.stack=n,t.start=$)),e}),t.end!=null&&/^\)*$/.test(d.substr(t.end))&&(d=d.substring(0,t.start)+d.substr(t.end))}return d.charAt(0)!="^"&&(d="^"+d),d.charAt(d.length-1)!="$"&&(d+="$"),new RegExp(d,(o||"").replace("g",""))},s.prototype.getLineTokens=function(d,o){if(o&&typeof o!="string"){var n=o.slice(0);o=n[0],o==="#tmp"&&(n.shift(),o=n.shift())}else var n=[];var i=o||"start",t=this.states[i];t||(i="start",t=this.states[i]);var e=this.matchMappings[i],r=this.regExps[i];r.lastIndex=0;for(var a,c=[],h=0,$=0,v={type:null,value:""};a=r.exec(d);){var p=e.defaultToken,u=null,m=a[0],E=r.lastIndex;if(E-m.length>h){var C=d.substring(h,E-m.length);v.type==p?v.value+=C:(v.type&&c.push(v),v={type:p,value:C})}for(var R=0;R<a.length-2;R++)if(a[R+1]!==void 0){u=t[e[R]],u.onMatch?p=u.onMatch(m,i,n,d):p=u.token,u.next&&(typeof u.next=="string"?i=u.next:i=u.next(i,n),t=this.states[i],t||(this.reportError("state doesn't exist",i),i="start",t=this.states[i]),e=this.matchMappings[i],h=E,r=this.regExps[i],r.lastIndex=E),u.consumeLineEnd&&(h=E);break}if(m){if(typeof p=="string")(!u||u.merge!==!1)&&v.type===p?v.value+=m:(v.type&&c.push(v),v={type:p,value:m});else if(p){v.type&&c.push(v),v={type:null,value:""};for(var R=0;R<p.length;R++)c.push(p[R])}}if(h==d.length)break;if(h=E,$++>b){for($>2*d.length&&this.reportError("infinite loop with in ace tokenizer",{startState:o,line:d});h<d.length;)v.type&&c.push(v),v={value:d.substring(h,h+=500),type:"overflow"};i="start",n=[];break}}return v.type&&c.push(v),n.length>1&&n[0]!==i&&n.unshift("#tmp",i),{tokens:c,state:n.length?n:i}},s}();_.prototype.reportError=M,B.Tokenizer=_}),ace.define("ace/mode/text_highlight_rules",["require","exports","module","ace/lib/deep_copy"],function(f,B,z){var M=f("../lib/deep_copy").deepCopy,b;b=function(){this.$rules={start:[{token:"empty_line",regex:"^$"},{defaultToken:"text"}]}},(function(){this.addRules=function(d,o){if(!o){for(var n in d)this.$rules[n]=d[n];return}for(var n in d){for(var i=d[n],t=0;t<i.length;t++){var e=i[t];(e.next||e.onMatch)&&(typeof e.next=="string"&&e.next.indexOf(o)!==0&&(e.next=o+e.next),e.nextState&&e.nextState.indexOf(o)!==0&&(e.nextState=o+e.nextState))}this.$rules[o+n]=i}},this.getRules=function(){return this.$rules},this.embedRules=function(d,o,n,i,t){var e=typeof d=="function"?new d().getRules():d;if(i)for(var r=0;r<i.length;r++)i[r]=o+i[r];else{i=[];for(var a in e)i.push(o+a)}if(this.addRules(e,o),n)for(var c=Array.prototype[t?"push":"unshift"],r=0;r<i.length;r++)c.apply(this.$rules[i[r]],M(n));this.$embeds||(this.$embeds=[]),this.$embeds.push(o)},this.getEmbeds=function(){return this.$embeds};var _=function(d,o){return(d!="start"||o.length)&&o.unshift(this.nextState,d),this.nextState},s=function(d,o){return o.shift(),o.shift()||"start"};this.normalizeRules=function(){var d=0,o=this.$rules;function n(i){var t=o[i];t.processed=!0;for(var e=0;e<t.length;e++){var r=t[e],a=null;Array.isArray(r)&&(a=r,r={}),!r.regex&&r.start&&(r.regex=r.start,r.next||(r.next=[]),r.next.push({defaultToken:r.token},{token:r.token+".end",regex:r.end||r.start,next:"pop"}),r.token=r.token+".start",r.push=!0);var c=r.next||r.push;if(c&&Array.isArray(c)){var h=r.stateName;h||(h=r.token,typeof h!="string"&&(h=h[0]||""),o[h]&&(h+=d++)),o[h]=c,r.next=h,n(h)}else c=="pop"&&(r.next=s);if(r.push&&(r.nextState=r.next||r.push,r.next=_,delete r.push),r.rules)for(var $ in r.rules)o[$]?o[$].push&&o[$].push.apply(o[$],r.rules[$]):o[$]=r.rules[$];var v=typeof r=="string"?r:r.include;if(v&&(v==="$self"&&(v="start"),Array.isArray(v)?a=v.map(function(u){return o[u]}):a=o[v]),a){var p=[e,1].concat(a);r.noEscape&&(p=p.filter(function(u){return!u.next})),t.splice.apply(t,p),e--}r.keywordMap&&(r.token=this.createKeywordMapper(r.keywordMap,r.defaultToken||"text",r.caseInsensitive),delete r.defaultToken)}}Object.keys(o).forEach(n,this)},this.createKeywordMapper=function(d,o,n,i){var t=Object.create(null);return this.$keywordList=[],Object.keys(d).forEach(function(e){for(var r=d[e],a=r.split(i||"|"),c=a.length;c--;){var h=a[c];this.$keywordList.push(h),n&&(h=h.toLowerCase()),t[h]=e}},this),d=null,n?function(e){return t[e.toLowerCase()]||o}:function(e){return t[e]||o}},this.getKeywords=function(){return this.$keywords}}).call(b.prototype),B.TextHighlightRules=b}),ace.define("ace/mode/behaviour",["require","exports","module"],function(f,B,z){var M;M=function(){this.$behaviours={}},(function(){this.add=function(b,_,s){switch(void 0){case this.$behaviours:this.$behaviours={};case this.$behaviours[b]:this.$behaviours[b]={}}this.$behaviours[b][_]=s},this.addBehaviours=function(b){for(var _ in b)for(var s in b[_])this.add(_,s,b[_][s])},this.remove=function(b){this.$behaviours&&this.$behaviours[b]&&delete this.$behaviours[b]},this.inherit=function(b,_){if(typeof b=="function")var s=new b().getBehaviours(_);else var s=b.getBehaviours(_);this.addBehaviours(s)},this.getBehaviours=function(b){if(b){for(var _={},s=0;s<b.length;s++)this.$behaviours[b[s]]&&(_[b[s]]=this.$behaviours[b[s]]);return _}else return this.$behaviours}}).call(M.prototype),B.Behaviour=M}),ace.define("ace/token_iterator",["require","exports","module","ace/range"],function(f,B,z){var M=f("./range").Range,b=function(){function _(s,d,o){this.$session=s,this.$row=d,this.$rowTokens=s.getTokens(d);var n=s.getTokenAt(d,o);this.$tokenIndex=n?n.index:-1}return _.prototype.stepBackward=function(){for(this.$tokenIndex-=1;this.$tokenIndex<0;){if(this.$row-=1,this.$row<0)return this.$row=0,null;this.$rowTokens=this.$session.getTokens(this.$row),this.$tokenIndex=this.$rowTokens.length-1}return this.$rowTokens[this.$tokenIndex]},_.prototype.stepForward=function(){this.$tokenIndex+=1;for(var s;this.$tokenIndex>=this.$rowTokens.length;){if(this.$row+=1,s||(s=this.$session.getLength()),this.$row>=s)return this.$row=s-1,null;this.$rowTokens=this.$session.getTokens(this.$row),this.$tokenIndex=0}return this.$rowTokens[this.$tokenIndex]},_.prototype.getCurrentToken=function(){return this.$rowTokens[this.$tokenIndex]},_.prototype.getCurrentTokenRow=function(){return this.$row},_.prototype.getCurrentTokenColumn=function(){var s=this.$rowTokens,d=this.$tokenIndex,o=s[d].start;if(o!==void 0)return o;for(o=0;d>0;)d-=1,o+=s[d].value.length;return o},_.prototype.getCurrentTokenPosition=function(){return{row:this.$row,column:this.getCurrentTokenColumn()}},_.prototype.getCurrentTokenRange=function(){var s=this.$rowTokens[this.$tokenIndex],d=this.getCurrentTokenColumn();return new M(this.$row,d,this.$row,d+s.value.length)},_}();B.TokenIterator=b}),ace.define("ace/mode/behaviour/cstyle",["require","exports","module","ace/lib/oop","ace/mode/behaviour","ace/token_iterator","ace/lib/lang"],function(f,B,z){var M=f("../../lib/oop"),b=f("../behaviour").Behaviour,_=f("../../token_iterator").TokenIterator,s=f("../../lib/lang"),d=["text","paren.rparen","rparen","paren","punctuation.operator"],o=["text","paren.rparen","rparen","paren","punctuation.operator","comment"],n,i={},t={'"':'"',"'":"'"},e=function(c){var h=-1;if(c.multiSelect&&(h=c.selection.index,i.rangeCount!=c.multiSelect.rangeCount&&(i={rangeCount:c.multiSelect.rangeCount})),i[h])return n=i[h];n=i[h]={autoInsertedBrackets:0,autoInsertedRow:-1,autoInsertedLineEnd:"",maybeInsertedBrackets:0,maybeInsertedRow:-1,maybeInsertedLineStart:"",maybeInsertedLineEnd:""}},r=function(c,h,$,v){var p=c.end.row-c.start.row;return{text:$+h+v,selection:[0,c.start.column+1,p,c.end.column+(p?0:1)]}},a;a=function(c){c=c||{},this.add("braces","insertion",function(h,$,v,p,u){var m=v.getCursorPosition(),E=p.doc.getLine(m.row);if(u=="{"){e(v);var C=v.getSelectionRange(),R=p.doc.getTextRange(C),L=p.getTokenAt(m.row,m.column);if(R!==""&&R!=="{"&&v.getWrapBehavioursEnabled())return r(C,R,"{","}");if(L&&/(?:string)\.quasi|\.xml/.test(L.type)){var g=[/tag\-(?:open|name)/,/attribute\-name/];return g.some(function(H){return H.test(L.type)})||/(string)\.quasi/.test(L.type)&&L.value[m.column-L.start-1]!=="$"?void 0:(a.recordAutoInsert(v,p,"}"),{text:"{}",selection:[1,1]})}else if(a.isSaneInsertion(v,p))return/[\]\}\)]/.test(E[m.column])||v.inMultiSelectMode||c.braces?(a.recordAutoInsert(v,p,"}"),{text:"{}",selection:[1,1]}):(a.recordMaybeInsert(v,p,"{"),{text:"{",selection:[1,1]})}else if(u=="}"){e(v);var y=E.substring(m.column,m.column+1);if(y=="}"){var l=p.$findOpeningBracket("}",{column:m.column+1,row:m.row});if(l!==null&&a.isAutoInsertedClosing(m,E,u))return a.popAutoInsertedClosing(),{text:"",selection:[1,1]}}}else if(u==`
`||u==`\r
`){e(v);var w="";a.isMaybeInsertedClosing(m,E)&&(w=s.stringRepeat("}",n.maybeInsertedBrackets),a.clearMaybeInsertedClosing());var y=E.substring(m.column,m.column+1);if(y==="}"){var k=p.findMatchingBracket({row:m.row,column:m.column+1},"}");if(!k)return null;var I=this.$getIndent(p.getLine(k.row))}else if(w)var I=this.$getIndent(E);else{a.clearMaybeInsertedClosing();return}var G=I+p.getTabString();return{text:`
`+G+`
`+I+w,selection:[1,G.length,1,G.length]}}else a.clearMaybeInsertedClosing()}),this.add("braces","deletion",function(h,$,v,p,u){var m=p.doc.getTextRange(u);if(!u.isMultiLine()&&m=="{"){e(v);var E=p.doc.getLine(u.start.row),C=E.substring(u.end.column,u.end.column+1);if(C=="}")return u.end.column++,u;n.maybeInsertedBrackets--}}),this.add("parens","insertion",function(h,$,v,p,u){if(u=="("){e(v);var m=v.getSelectionRange(),E=p.doc.getTextRange(m);if(E!==""&&v.getWrapBehavioursEnabled())return r(m,E,"(",")");if(a.isSaneInsertion(v,p))return a.recordAutoInsert(v,p,")"),{text:"()",selection:[1,1]}}else if(u==")"){e(v);var C=v.getCursorPosition(),R=p.doc.getLine(C.row),L=R.substring(C.column,C.column+1);if(L==")"){var g=p.$findOpeningBracket(")",{column:C.column+1,row:C.row});if(g!==null&&a.isAutoInsertedClosing(C,R,u))return a.popAutoInsertedClosing(),{text:"",selection:[1,1]}}}}),this.add("parens","deletion",function(h,$,v,p,u){var m=p.doc.getTextRange(u);if(!u.isMultiLine()&&m=="("){e(v);var E=p.doc.getLine(u.start.row),C=E.substring(u.start.column+1,u.start.column+2);if(C==")")return u.end.column++,u}}),this.add("brackets","insertion",function(h,$,v,p,u){if(u=="["){e(v);var m=v.getSelectionRange(),E=p.doc.getTextRange(m);if(E!==""&&v.getWrapBehavioursEnabled())return r(m,E,"[","]");if(a.isSaneInsertion(v,p))return a.recordAutoInsert(v,p,"]"),{text:"[]",selection:[1,1]}}else if(u=="]"){e(v);var C=v.getCursorPosition(),R=p.doc.getLine(C.row),L=R.substring(C.column,C.column+1);if(L=="]"){var g=p.$findOpeningBracket("]",{column:C.column+1,row:C.row});if(g!==null&&a.isAutoInsertedClosing(C,R,u))return a.popAutoInsertedClosing(),{text:"",selection:[1,1]}}}}),this.add("brackets","deletion",function(h,$,v,p,u){var m=p.doc.getTextRange(u);if(!u.isMultiLine()&&m=="["){e(v);var E=p.doc.getLine(u.start.row),C=E.substring(u.start.column+1,u.start.column+2);if(C=="]")return u.end.column++,u}}),this.add("string_dquotes","insertion",function(h,$,v,p,u){var m=p.$mode.$quotes||t;if(u.length==1&&m[u]){if(this.lineCommentStart&&this.lineCommentStart.indexOf(u)!=-1)return;e(v);var E=u,C=v.getSelectionRange(),R=p.doc.getTextRange(C);if(R!==""&&(R.length!=1||!m[R])&&v.getWrapBehavioursEnabled())return r(C,R,E,E);if(!R){var L=v.getCursorPosition(),g=p.doc.getLine(L.row),y=g.substring(L.column-1,L.column),l=g.substring(L.column,L.column+1),w=p.getTokenAt(L.row,L.column),k=p.getTokenAt(L.row,L.column+1);if(y=="\\"&&w&&/escape/.test(w.type))return null;var I=w&&/string|escape/.test(w.type),G=!k||/string|escape/.test(k.type),H;if(l==E)H=I!==G,H&&/string\.end/.test(k.type)&&(H=!1);else{if(I&&!G||I&&G)return null;var J=p.$mode.tokenRe;J.lastIndex=0;var j=J.test(y);J.lastIndex=0;var K=J.test(l),ie=p.$mode.$pairQuotesAfter,ee=ie&&ie[E]&&ie[E].test(y);if(!ee&&j||K||l&&!/[\s;,.})\]\\]/.test(l))return null;var oe=g[L.column-2];if(y==E&&(oe==E||J.test(oe)))return null;H=!0}return{text:H?E+E:"",selection:[1,1]}}}}),this.add("string_dquotes","deletion",function(h,$,v,p,u){var m=p.$mode.$quotes||t,E=p.doc.getTextRange(u);if(!u.isMultiLine()&&m.hasOwnProperty(E)){e(v);var C=p.doc.getLine(u.start.row),R=C.substring(u.start.column+1,u.start.column+2);if(R==E)return u.end.column++,u}}),c.closeDocComment!==!1&&this.add("doc comment end","insertion",function(h,$,v,p,u){if(h==="doc-start"&&(u===`
`||u===`\r
`)&&v.selection.isEmpty()){var m=v.getCursorPosition();if(m.column===0)return;for(var E=p.doc.getLine(m.row),C=p.doc.getLine(m.row+1),R=p.getTokens(m.row),L=0,g=0;g<R.length;g++){L+=R[g].value.length;var y=R[g];if(L>=m.column){if(L===m.column){if(!/\.doc/.test(y.type))return;if(/\*\//.test(y.value)){var l=R[g+1];if(!l||!/\.doc/.test(l.type))return}}var w=m.column-(L-y.value.length),k=y.value.indexOf("*/"),I=y.value.indexOf("/**",k>-1?k+2:0);if(I!==-1&&w>I&&w<I+3||k!==-1&&I!==-1&&w>=k&&w<=I||!/\.doc/.test(y.type))return;break}}var G=this.$getIndent(E);if(/\s*\*/.test(C))return/^\s*\*/.test(E)?{text:u+G+"* ",selection:[1,2+G.length,1,2+G.length]}:{text:u+G+" * ",selection:[1,3+G.length,1,3+G.length]};if(/\/\*\*/.test(E.substring(0,m.column)))return{text:u+G+" * "+u+" "+G+"*/",selection:[1,4+G.length,1,4+G.length]}}})},a.isSaneInsertion=function(c,h){var $=c.getCursorPosition(),v=new _(h,$.row,$.column);if(!this.$matchTokenType(v.getCurrentToken()||"text",d)){if(/[)}\]]/.test(c.session.getLine($.row)[$.column]))return!0;var p=new _(h,$.row,$.column+1);if(!this.$matchTokenType(p.getCurrentToken()||"text",d))return!1}return v.stepForward(),v.getCurrentTokenRow()!==$.row||this.$matchTokenType(v.getCurrentToken()||"text",o)},a.$matchTokenType=function(c,h){return h.indexOf(c.type||c)>-1},a.recordAutoInsert=function(c,h,$){var v=c.getCursorPosition(),p=h.doc.getLine(v.row);this.isAutoInsertedClosing(v,p,n.autoInsertedLineEnd[0])||(n.autoInsertedBrackets=0),n.autoInsertedRow=v.row,n.autoInsertedLineEnd=$+p.substr(v.column),n.autoInsertedBrackets++},a.recordMaybeInsert=function(c,h,$){var v=c.getCursorPosition(),p=h.doc.getLine(v.row);this.isMaybeInsertedClosing(v,p)||(n.maybeInsertedBrackets=0),n.maybeInsertedRow=v.row,n.maybeInsertedLineStart=p.substr(0,v.column)+$,n.maybeInsertedLineEnd=p.substr(v.column),n.maybeInsertedBrackets++},a.isAutoInsertedClosing=function(c,h,$){return n.autoInsertedBrackets>0&&c.row===n.autoInsertedRow&&$===n.autoInsertedLineEnd[0]&&h.substr(c.column)===n.autoInsertedLineEnd},a.isMaybeInsertedClosing=function(c,h){return n.maybeInsertedBrackets>0&&c.row===n.maybeInsertedRow&&h.substr(c.column)===n.maybeInsertedLineEnd&&h.substr(0,c.column)==n.maybeInsertedLineStart},a.popAutoInsertedClosing=function(){n.autoInsertedLineEnd=n.autoInsertedLineEnd.substr(1),n.autoInsertedBrackets--},a.clearMaybeInsertedClosing=function(){n&&(n.maybeInsertedBrackets=0,n.maybeInsertedRow=-1)},M.inherits(a,b),B.CstyleBehaviour=a}),ace.define("ace/unicode",["require","exports","module"],function(f,B,z){for(var M=[48,9,8,25,5,0,2,25,48,0,11,0,5,0,6,22,2,30,2,457,5,11,15,4,8,0,2,0,18,116,2,1,3,3,9,0,2,2,2,0,2,19,2,82,2,138,2,4,3,155,12,37,3,0,8,38,10,44,2,0,2,1,2,1,2,0,9,26,6,2,30,10,7,61,2,9,5,101,2,7,3,9,2,18,3,0,17,58,3,100,15,53,5,0,6,45,211,57,3,18,2,5,3,11,3,9,2,1,7,6,2,2,2,7,3,1,3,21,2,6,2,0,4,3,3,8,3,1,3,3,9,0,5,1,2,4,3,11,16,2,2,5,5,1,3,21,2,6,2,1,2,1,2,1,3,0,2,4,5,1,3,2,4,0,8,3,2,0,8,15,12,2,2,8,2,2,2,21,2,6,2,1,2,4,3,9,2,2,2,2,3,0,16,3,3,9,18,2,2,7,3,1,3,21,2,6,2,1,2,4,3,8,3,1,3,2,9,1,5,1,2,4,3,9,2,0,17,1,2,5,4,2,2,3,4,1,2,0,2,1,4,1,4,2,4,11,5,4,4,2,2,3,3,0,7,0,15,9,18,2,2,7,2,2,2,22,2,9,2,4,4,7,2,2,2,3,8,1,2,1,7,3,3,9,19,1,2,7,2,2,2,22,2,9,2,4,3,8,2,2,2,3,8,1,8,0,2,3,3,9,19,1,2,7,2,2,2,22,2,15,4,7,2,2,2,3,10,0,9,3,3,9,11,5,3,1,2,17,4,23,2,8,2,0,3,6,4,0,5,5,2,0,2,7,19,1,14,57,6,14,2,9,40,1,2,0,3,1,2,0,3,0,7,3,2,6,2,2,2,0,2,0,3,1,2,12,2,2,3,4,2,0,2,5,3,9,3,1,35,0,24,1,7,9,12,0,2,0,2,0,5,9,2,35,5,19,2,5,5,7,2,35,10,0,58,73,7,77,3,37,11,42,2,0,4,328,2,3,3,6,2,0,2,3,3,40,2,3,3,32,2,3,3,6,2,0,2,3,3,14,2,56,2,3,3,66,5,0,33,15,17,84,13,619,3,16,2,25,6,74,22,12,2,6,12,20,12,19,13,12,2,2,2,1,13,51,3,29,4,0,5,1,3,9,34,2,3,9,7,87,9,42,6,69,11,28,4,11,5,11,11,39,3,4,12,43,5,25,7,10,38,27,5,62,2,28,3,10,7,9,14,0,89,75,5,9,18,8,13,42,4,11,71,55,9,9,4,48,83,2,2,30,14,230,23,280,3,5,3,37,3,5,3,7,2,0,2,0,2,0,2,30,3,52,2,6,2,0,4,2,2,6,4,3,3,5,5,12,6,2,2,6,67,1,20,0,29,0,14,0,17,4,60,12,5,0,4,11,18,0,5,0,3,9,2,0,4,4,7,0,2,0,2,0,2,3,2,10,3,3,6,4,5,0,53,1,2684,46,2,46,2,132,7,6,15,37,11,53,10,0,17,22,10,6,2,6,2,6,2,6,2,6,2,6,2,6,2,6,2,31,48,0,470,1,36,5,2,4,6,1,5,85,3,1,3,2,2,89,2,3,6,40,4,93,18,23,57,15,513,6581,75,20939,53,1164,68,45,3,268,4,27,21,31,3,13,13,1,2,24,9,69,11,1,38,8,3,102,3,1,111,44,25,51,13,68,12,9,7,23,4,0,5,45,3,35,13,28,4,64,15,10,39,54,10,13,3,9,7,22,4,1,5,66,25,2,227,42,2,1,3,9,7,11171,13,22,5,48,8453,301,3,61,3,105,39,6,13,4,6,11,2,12,2,4,2,0,2,1,2,1,2,107,34,362,19,63,3,53,41,11,5,15,17,6,13,1,25,2,33,4,2,134,20,9,8,25,5,0,2,25,12,88,4,5,3,5,3,5,3,2],b=0,_=[],s=0;s<M.length;s+=2)_.push(b+=M[s]),M[s+1]&&_.push(45,b+=M[s+1]);B.wordChars=String.fromCharCode.apply(null,_)}),ace.define("ace/mode/text",["require","exports","module","ace/config","ace/tokenizer","ace/mode/text_highlight_rules","ace/mode/behaviour/cstyle","ace/unicode","ace/lib/lang","ace/token_iterator","ace/range"],function(f,B,z){var M=f("../config"),b=f("../tokenizer").Tokenizer,_=f("./text_highlight_rules").TextHighlightRules,s=f("./behaviour/cstyle").CstyleBehaviour,d=f("../unicode"),o=f("../lib/lang"),n=f("../token_iterator").TokenIterator,i=f("../range").Range,t;t=function(){this.HighlightRules=_},(function(){this.$defaultBehaviour=new s,this.tokenRe=new RegExp("^["+d.wordChars+"\\$_]+","g"),this.nonTokenRe=new RegExp("^(?:[^"+d.wordChars+"\\$_]|\\s])+","g"),this.getTokenizer=function(){return this.$tokenizer||(this.$highlightRules=this.$highlightRules||new this.HighlightRules(this.$highlightRuleConfig),this.$tokenizer=new b(this.$highlightRules.getRules())),this.$tokenizer},this.lineCommentStart="",this.blockComment="",this.toggleCommentLines=function(e,r,a,c){var h=r.doc,$=!0,v=!0,p=1/0,u=r.getTabSize(),m=!1;if(this.lineCommentStart){if(Array.isArray(this.lineCommentStart))var R=this.lineCommentStart.map(o.escapeRegExp).join("|"),E=this.lineCommentStart[0];else var R=o.escapeRegExp(this.lineCommentStart),E=this.lineCommentStart;R=new RegExp("^(\\s*)(?:"+R+") ?"),m=r.getUseSoftTabs();var y=function(K,ie){var ee=K.match(R);if(ee){var oe=ee[1].length,fe=ee[0].length;!k(K,oe,fe)&&ee[0][fe-1]==" "&&fe--,h.removeInLine(ie,oe,fe)}},w=E+" ",g=function(K,ie){(!$||/\S/.test(K))&&(k(K,p,p)?h.insertInLine({row:ie,column:p},w):h.insertInLine({row:ie,column:p},E))},l=function(K,ie){return R.test(K)},k=function(K,ie,ee){for(var oe=0;ie--&&K.charAt(ie)==" ";)oe++;if(oe%u!=0)return!1;for(var oe=0;K.charAt(ee++)==" ";)oe++;return u>2?oe%u!=u-1:oe%u==0}}else{if(!this.blockComment)return!1;var E=this.blockComment.start,C=this.blockComment.end,R=new RegExp("^(\\s*)(?:"+o.escapeRegExp(E)+")"),L=new RegExp("(?:"+o.escapeRegExp(C)+")\\s*$"),g=function(H,J){l(H,J)||(!$||/\S/.test(H))&&(h.insertInLine({row:J,column:H.length},C),h.insertInLine({row:J,column:p},E))},y=function(H,J){var j;(j=H.match(L))&&h.removeInLine(J,H.length-j[0].length,H.length),(j=H.match(R))&&h.removeInLine(J,j[1].length,j[0].length)},l=function(H,J){if(R.test(H))return!0;for(var j=r.getTokens(J),K=0;K<j.length;K++)if(j[K].type==="comment")return!0}}function I(H){for(var J=a;J<=c;J++)H(h.getLine(J),J)}var G=1/0;I(function(H,J){var j=H.search(/\S/);j!==-1?(j<p&&(p=j),v&&!l(H,J)&&(v=!1)):G>H.length&&(G=H.length)}),p==1/0&&(p=G,$=!1,v=!1),m&&p%u!=0&&(p=Math.floor(p/u)*u),I(v?y:g)},this.toggleBlockComment=function(e,r,a,c){var h=this.blockComment;if(h){!h.start&&h[0]&&(h=h[0]);var $=new n(r,c.row,c.column),v=$.getCurrentToken();r.selection;var p=r.selection.toOrientedRange(),u,m;if(v&&/comment/.test(v.type)){for(var E,C;v&&/comment/.test(v.type);){var R=v.value.indexOf(h.start);if(R!=-1){var L=$.getCurrentTokenRow(),g=$.getCurrentTokenColumn()+R;E=new i(L,g,L,g+h.start.length);break}v=$.stepBackward()}for(var $=new n(r,c.row,c.column),v=$.getCurrentToken();v&&/comment/.test(v.type);){var R=v.value.indexOf(h.end);if(R!=-1){var L=$.getCurrentTokenRow(),g=$.getCurrentTokenColumn()+R;C=new i(L,g,L,g+h.end.length);break}v=$.stepForward()}C&&r.remove(C),E&&(r.remove(E),u=E.start.row,m=-h.start.length)}else m=h.start.length,u=a.start.row,r.insert(a.end,h.end),r.insert(a.start,h.start);p.start.row==u&&(p.start.column+=m),p.end.row==u&&(p.end.column+=m),r.selection.fromOrientedRange(p)}},this.getNextLineIndent=function(e,r,a){return this.$getIndent(r)},this.checkOutdent=function(e,r,a){return!1},this.autoOutdent=function(e,r,a){},this.$getIndent=function(e){return e.match(/^\s*/)[0]},this.createWorker=function(e){return null},this.createModeDelegates=function(e){this.$embeds=[],this.$modes={};for(var r in e)if(e[r]){var a=e[r],c=a.prototype.$id,h=M.$modes[c];h||(M.$modes[c]=h=new a),M.$modes[r]||(M.$modes[r]=h),this.$embeds.push(r),this.$modes[r]=h}for(var $=["toggleBlockComment","toggleCommentLines","getNextLineIndent","checkOutdent","autoOutdent","transformAction","getCompletions"],v=function(u){(function(m){var E=$[u],C=m[E];m[$[u]]=function(){return this.$delegator(E,arguments,C)}})(p)},p=this,r=0;r<$.length;r++)v(r)},this.$delegator=function(e,r,a){var c=r[0]||"start";if(typeof c!="string"){if(Array.isArray(c[2])){var h=c[2][c[2].length-1],$=this.$modes[h];if($)return $[e].apply($,[c[1]].concat([].slice.call(r,1)))}c=c[0]||"start"}for(var v=0;v<this.$embeds.length;v++)if(this.$modes[this.$embeds[v]]){var p=c.split(this.$embeds[v]);if(!p[0]&&p[1]){r[0]=p[1];var $=this.$modes[this.$embeds[v]];return $[e].apply($,r)}}var u=a.apply(this,r);return a?u:void 0},this.transformAction=function(e,r,a,c,h){if(this.$behaviour){var $=this.$behaviour.getBehaviours();for(var v in $)if($[v][r]){var p=$[v][r].apply(this,arguments);if(p)return p}}},this.getKeywords=function(e){if(!this.completionKeywords){var r=this.$tokenizer.rules,a=[];for(var c in r)for(var h=r[c],$=0,v=h.length;$<v;$++)if(typeof h[$].token=="string")/keyword|support|storage/.test(h[$].token)&&a.push(h[$].regex);else if(typeof h[$].token=="object"){for(var p=0,u=h[$].token.length;p<u;p++)if(/keyword|support|storage/.test(h[$].token[p])){var c=h[$].regex.match(/\(.+?\)/g)[p];a.push(c.substr(1,c.length-2))}}this.completionKeywords=a}return e?a.concat(this.$keywordList||[]):this.$keywordList},this.$createKeywordList=function(){return this.$highlightRules||this.getTokenizer(),this.$keywordList=this.$highlightRules.$keywordList||[]},this.getCompletions=function(e,r,a,c){var h=this.$keywordList||this.$createKeywordList();return h.map(function($){return{name:$,value:$,score:0,meta:"keyword"}})},this.$id="ace/mode/text"}).call(t.prototype),B.Mode=t}),ace.define("ace/apply_delta",["require","exports","module"],function(f,B,z){B.applyDelta=function(M,b,_){var s=b.start.row,d=b.start.column,o=M[s]||"";switch(b.action){case"insert":var n=b.lines;if(n.length===1)M[s]=o.substring(0,d)+b.lines[0]+o.substring(d);else{var i=[s,1].concat(b.lines);M.splice.apply(M,i),M[s]=o.substring(0,d)+M[s],M[s+b.lines.length-1]+=o.substring(d)}break;case"remove":var t=b.end.column,e=b.end.row;s===e?M[s]=o.substring(0,d)+o.substring(t):M.splice(s,e-s+1,o.substring(0,d)+M[e].substring(t));break}}}),ace.define("ace/anchor",["require","exports","module","ace/lib/oop","ace/lib/event_emitter"],function(f,B,z){var M=f("./lib/oop"),b=f("./lib/event_emitter").EventEmitter,_=function(){function o(n,i,t){this.$onChange=this.onChange.bind(this),this.attach(n),typeof i!="number"?this.setPosition(i.row,i.column):this.setPosition(i,t)}return o.prototype.getPosition=function(){return this.$clipPositionToDocument(this.row,this.column)},o.prototype.getDocument=function(){return this.document},o.prototype.onChange=function(n){if(!(n.start.row==n.end.row&&n.start.row!=this.row)&&!(n.start.row>this.row)){var i=d(n,{row:this.row,column:this.column},this.$insertRight);this.setPosition(i.row,i.column,!0)}},o.prototype.setPosition=function(n,i,t){var e;if(t?e={row:n,column:i}:e=this.$clipPositionToDocument(n,i),!(this.row==e.row&&this.column==e.column)){var r={row:this.row,column:this.column};this.row=e.row,this.column=e.column,this._signal("change",{old:r,value:e})}},o.prototype.detach=function(){this.document.off("change",this.$onChange)},o.prototype.attach=function(n){this.document=n||this.document,this.document.on("change",this.$onChange)},o.prototype.$clipPositionToDocument=function(n,i){var t={};return n>=this.document.getLength()?(t.row=Math.max(0,this.document.getLength()-1),t.column=this.document.getLine(t.row).length):n<0?(t.row=0,t.column=0):(t.row=n,t.column=Math.min(this.document.getLine(t.row).length,Math.max(0,i))),i<0&&(t.column=0),t},o}();_.prototype.$insertRight=!1,M.implement(_.prototype,b);function s(o,n,i){var t=i?o.column<=n.column:o.column<n.column;return o.row<n.row||o.row==n.row&&t}function d(o,n,i){var t=o.action=="insert",e=(t?1:-1)*(o.end.row-o.start.row),r=(t?1:-1)*(o.end.column-o.start.column),a=o.start,c=t?a:o.end;return s(n,a,i)?{row:n.row,column:n.column}:s(c,n,!i)?{row:n.row+e,column:n.column+(n.row==c.row?r:0)}:{row:a.row,column:a.column}}B.Anchor=_}),ace.define("ace/document",["require","exports","module","ace/lib/oop","ace/apply_delta","ace/lib/event_emitter","ace/range","ace/anchor"],function(f,B,z){var M=f("./lib/oop"),b=f("./apply_delta").applyDelta,_=f("./lib/event_emitter").EventEmitter,s=f("./range").Range,d=f("./anchor").Anchor,o=function(){function n(i){this.$lines=[""],i.length===0?this.$lines=[""]:Array.isArray(i)?this.insertMergedLines({row:0,column:0},i):this.insert({row:0,column:0},i)}return n.prototype.setValue=function(i){var t=this.getLength()-1;this.remove(new s(0,0,t,this.getLine(t).length)),this.insert({row:0,column:0},i||"")},n.prototype.getValue=function(){return this.getAllLines().join(this.getNewLineCharacter())},n.prototype.createAnchor=function(i,t){return new d(this,i,t)},n.prototype.$detectNewLine=function(i){var t=i.match(/^.*?(\r\n|\r|\n)/m);this.$autoNewLine=t?t[1]:`
`,this._signal("changeNewLineMode")},n.prototype.getNewLineCharacter=function(){switch(this.$newLineMode){case"windows":return`\r
`;case"unix":return`
`;default:return this.$autoNewLine||`
`}},n.prototype.setNewLineMode=function(i){this.$newLineMode!==i&&(this.$newLineMode=i,this._signal("changeNewLineMode"))},n.prototype.getNewLineMode=function(){return this.$newLineMode},n.prototype.isNewLine=function(i){return i==`\r
`||i=="\r"||i==`
`},n.prototype.getLine=function(i){return this.$lines[i]||""},n.prototype.getLines=function(i,t){return this.$lines.slice(i,t+1)},n.prototype.getAllLines=function(){return this.getLines(0,this.getLength())},n.prototype.getLength=function(){return this.$lines.length},n.prototype.getTextRange=function(i){return this.getLinesForRange(i).join(this.getNewLineCharacter())},n.prototype.getLinesForRange=function(i){var t;if(i.start.row===i.end.row)t=[this.getLine(i.start.row).substring(i.start.column,i.end.column)];else{t=this.getLines(i.start.row,i.end.row),t[0]=(t[0]||"").substring(i.start.column);var e=t.length-1;i.end.row-i.start.row==e&&(t[e]=t[e].substring(0,i.end.column))}return t},n.prototype.insertLines=function(i,t){return console.warn("Use of document.insertLines is deprecated. Use the insertFullLines method instead."),this.insertFullLines(i,t)},n.prototype.removeLines=function(i,t){return console.warn("Use of document.removeLines is deprecated. Use the removeFullLines method instead."),this.removeFullLines(i,t)},n.prototype.insertNewLine=function(i){return console.warn("Use of document.insertNewLine is deprecated. Use insertMergedLines(position, ['', '']) instead."),this.insertMergedLines(i,["",""])},n.prototype.insert=function(i,t){return this.getLength()<=1&&this.$detectNewLine(t),this.insertMergedLines(i,this.$split(t))},n.prototype.insertInLine=function(i,t){var e=this.clippedPos(i.row,i.column),r=this.pos(i.row,i.column+t.length);return this.applyDelta({start:e,end:r,action:"insert",lines:[t]},!0),this.clonePos(r)},n.prototype.clippedPos=function(i,t){var e=this.getLength();i===void 0?i=e:i<0?i=0:i>=e&&(i=e-1,t=void 0);var r=this.getLine(i);return t==null&&(t=r.length),t=Math.min(Math.max(t,0),r.length),{row:i,column:t}},n.prototype.clonePos=function(i){return{row:i.row,column:i.column}},n.prototype.pos=function(i,t){return{row:i,column:t}},n.prototype.$clipPosition=function(i){var t=this.getLength();return i.row>=t?(i.row=Math.max(0,t-1),i.column=this.getLine(t-1).length):(i.row=Math.max(0,i.row),i.column=Math.min(Math.max(i.column,0),this.getLine(i.row).length)),i},n.prototype.insertFullLines=function(i,t){i=Math.min(Math.max(i,0),this.getLength());var e=0;i<this.getLength()?(t=t.concat([""]),e=0):(t=[""].concat(t),i--,e=this.$lines[i].length),this.insertMergedLines({row:i,column:e},t)},n.prototype.insertMergedLines=function(i,t){var e=this.clippedPos(i.row,i.column),r={row:e.row+t.length-1,column:(t.length==1?e.column:0)+t[t.length-1].length};return this.applyDelta({start:e,end:r,action:"insert",lines:t}),this.clonePos(r)},n.prototype.remove=function(i){var t=this.clippedPos(i.start.row,i.start.column),e=this.clippedPos(i.end.row,i.end.column);return this.applyDelta({start:t,end:e,action:"remove",lines:this.getLinesForRange({start:t,end:e})}),this.clonePos(t)},n.prototype.removeInLine=function(i,t,e){var r=this.clippedPos(i,t),a=this.clippedPos(i,e);return this.applyDelta({start:r,end:a,action:"remove",lines:this.getLinesForRange({start:r,end:a})},!0),this.clonePos(r)},n.prototype.removeFullLines=function(i,t){i=Math.min(Math.max(0,i),this.getLength()-1),t=Math.min(Math.max(0,t),this.getLength()-1);var e=t==this.getLength()-1&&i>0,r=t<this.getLength()-1,a=e?i-1:i,c=e?this.getLine(a).length:0,h=r?t+1:t,$=r?0:this.getLine(h).length,v=new s(a,c,h,$),p=this.$lines.slice(i,t+1);return this.applyDelta({start:v.start,end:v.end,action:"remove",lines:this.getLinesForRange(v)}),p},n.prototype.removeNewLine=function(i){i<this.getLength()-1&&i>=0&&this.applyDelta({start:this.pos(i,this.getLine(i).length),end:this.pos(i+1,0),action:"remove",lines:["",""]})},n.prototype.replace=function(i,t){if(i instanceof s||(i=s.fromPoints(i.start,i.end)),t.length===0&&i.isEmpty())return i.start;if(t==this.getTextRange(i))return i.end;this.remove(i);var e;return t?e=this.insert(i.start,t):e=i.start,e},n.prototype.applyDeltas=function(i){for(var t=0;t<i.length;t++)this.applyDelta(i[t])},n.prototype.revertDeltas=function(i){for(var t=i.length-1;t>=0;t--)this.revertDelta(i[t])},n.prototype.applyDelta=function(i,t){var e=i.action=="insert";(e?i.lines.length<=1&&!i.lines[0]:!s.comparePoints(i.start,i.end))||(e&&i.lines.length>2e4?this.$splitAndapplyLargeDelta(i,2e4):(b(this.$lines,i,t),this._signal("change",i)))},n.prototype.$safeApplyDelta=function(i){var t=this.$lines.length;(i.action=="remove"&&i.start.row<t&&i.end.row<t||i.action=="insert"&&i.start.row<=t)&&this.applyDelta(i)},n.prototype.$splitAndapplyLargeDelta=function(i,t){for(var e=i.lines,r=e.length-t+1,a=i.start.row,c=i.start.column,h=0,$=0;h<r;h=$){$+=t-1;var v=e.slice(h,$);v.push(""),this.applyDelta({start:this.pos(a+h,c),end:this.pos(a+$,c=0),action:i.action,lines:v},!0)}i.lines=e.slice(h),i.start.row=a+h,i.start.column=c,this.applyDelta(i,!0)},n.prototype.revertDelta=function(i){this.$safeApplyDelta({start:this.clonePos(i.start),end:this.clonePos(i.end),action:i.action=="insert"?"remove":"insert",lines:i.lines.slice()})},n.prototype.indexToPosition=function(i,t){for(var e=this.$lines||this.getAllLines(),r=this.getNewLineCharacter().length,a=t||0,c=e.length;a<c;a++)if(i-=e[a].length+r,i<0)return{row:a,column:i+e[a].length+r};return{row:c-1,column:i+e[c-1].length+r}},n.prototype.positionToIndex=function(i,t){for(var e=this.$lines||this.getAllLines(),r=this.getNewLineCharacter().length,a=0,c=Math.min(i.row,e.length),h=t||0;h<c;++h)a+=e[h].length+r;return a+i.column},n.prototype.$split=function(i){return i.split(/\r\n|\r|\n/)},n}();o.prototype.$autoNewLine="",o.prototype.$newLineMode="auto",M.implement(o.prototype,_),B.Document=o}),ace.define("ace/background_tokenizer",["require","exports","module","ace/lib/oop","ace/lib/event_emitter"],function(f,B,z){var M=f("./lib/oop"),b=f("./lib/event_emitter").EventEmitter,_=function(){function s(d,o){this.running=!1,this.lines=[],this.states=[],this.currentLine=0,this.tokenizer=d;var n=this;this.$worker=function(){if(n.running){for(var i=new Date,t=n.currentLine,e=-1,r=n.doc,a=t;n.lines[t];)t++;var c=r.getLength(),h=0;for(n.running=!1;t<c;){n.$tokenizeRow(t),e=t;do t++;while(n.lines[t]);if(h++,h%5===0&&new Date-i>20){n.running=setTimeout(n.$worker,20);break}}n.currentLine=t,e==-1&&(e=t),a<=e&&n.fireUpdateEvent(a,e)}}}return s.prototype.setTokenizer=function(d){this.tokenizer=d,this.lines=[],this.states=[],this.start(0)},s.prototype.setDocument=function(d){this.doc=d,this.lines=[],this.states=[],this.stop()},s.prototype.fireUpdateEvent=function(d,o){var n={first:d,last:o};this._signal("update",{data:n})},s.prototype.start=function(d){this.currentLine=Math.min(d||0,this.currentLine,this.doc.getLength()),this.lines.splice(this.currentLine,this.lines.length),this.states.splice(this.currentLine,this.states.length),this.stop(),this.running=setTimeout(this.$worker,700)},s.prototype.scheduleStart=function(){this.running||(this.running=setTimeout(this.$worker,700))},s.prototype.$updateOnChange=function(d){var o=d.start.row,n=d.end.row-o;if(n===0)this.lines[o]=null;else if(d.action=="remove")this.lines.splice(o,n+1,null),this.states.splice(o,n+1,null);else{var i=Array(n+1);i.unshift(o,1),this.lines.splice.apply(this.lines,i),this.states.splice.apply(this.states,i)}this.currentLine=Math.min(o,this.currentLine,this.doc.getLength()),this.stop()},s.prototype.stop=function(){this.running&&clearTimeout(this.running),this.running=!1},s.prototype.getTokens=function(d){return this.lines[d]||this.$tokenizeRow(d)},s.prototype.getState=function(d){return this.currentLine==d&&this.$tokenizeRow(d),this.states[d]||"start"},s.prototype.$tokenizeRow=function(d){var o=this.doc.getLine(d),n=this.states[d-1],i=this.tokenizer.getLineTokens(o,n,d);return this.states[d]+""!=i.state+""?(this.states[d]=i.state,this.lines[d+1]=null,this.currentLine>d+1&&(this.currentLine=d+1)):this.currentLine==d&&(this.currentLine=d+1),this.lines[d]=i.tokens},s.prototype.cleanup=function(){this.running=!1,this.lines=[],this.states=[],this.currentLine=0,this.removeAllListeners()},s}();M.implement(_.prototype,b),B.BackgroundTokenizer=_}),ace.define("ace/search_highlight",["require","exports","module","ace/lib/lang","ace/range"],function(f,B,z){var M=f("./lib/lang"),b=f("./range").Range,_=function(){function s(d,o,n){n===void 0&&(n="text"),this.setRegexp(d),this.clazz=o,this.type=n}return s.prototype.setRegexp=function(d){this.regExp+""!=d+""&&(this.regExp=d,this.cache=[])},s.prototype.update=function(d,o,n,i){if(this.regExp)for(var t=i.firstRow,e=i.lastRow,r={},a=t;a<=e;a++){var c=this.cache[a];c==null&&(c=M.getMatchOffsets(n.getLine(a),this.regExp),c.length>this.MAX_RANGES&&(c=c.slice(0,this.MAX_RANGES)),c=c.map(function(p){return new b(a,p.offset,a,p.offset+p.length)}),this.cache[a]=c.length?c:"");for(var h=c.length;h--;){var $=c[h].toScreenRange(n),v=$.toString();r[v]||(r[v]=!0,o.drawSingleLineMarker(d,$,this.clazz,i))}}},s}();_.prototype.MAX_RANGES=500,B.SearchHighlight=_}),ace.define("ace/undomanager",["require","exports","module","ace/range"],function(f,B,z){var M=function(){function p(){this.$keepRedoStack,this.$maxRev=0,this.$fromUndo=!1,this.$undoDepth=1/0,this.reset()}return p.prototype.addSession=function(u){this.$session=u},p.prototype.add=function(u,m,E){if(!this.$fromUndo&&u!=this.$lastDelta){if(this.$keepRedoStack||(this.$redoStack.length=0),m===!1||!this.lastDeltas){this.lastDeltas=[];var C=this.$undoStack.length;C>this.$undoDepth-1&&this.$undoStack.splice(0,C-this.$undoDepth+1),this.$undoStack.push(this.lastDeltas),u.id=this.$rev=++this.$maxRev}(u.action=="remove"||u.action=="insert")&&(this.$lastDelta=u),this.lastDeltas.push(u)}},p.prototype.addSelection=function(u,m){this.selections.push({value:u,rev:m||this.$rev})},p.prototype.startNewGroup=function(){return this.lastDeltas=null,this.$rev},p.prototype.markIgnored=function(u,m){m==null&&(m=this.$rev+1);for(var E=this.$undoStack,C=E.length;C--;){var R=E[C][0];if(R.id<=u)break;R.id<m&&(R.ignore=!0)}this.lastDeltas=null},p.prototype.getSelection=function(u,m){for(var E=this.selections,C=E.length;C--;){var R=E[C];if(R.rev<u)return m&&(R=E[C+1]),R}},p.prototype.getRevision=function(){return this.$rev},p.prototype.getDeltas=function(u,m){m==null&&(m=this.$rev+1);for(var E=this.$undoStack,C=null,R=0,L=E.length;L--;){var g=E[L][0];if(g.id<m&&!C&&(C=L+1),g.id<=u){R=L+1;break}}return E.slice(R,C)},p.prototype.getChangedRanges=function(u,m){m==null&&(m=this.$rev+1)},p.prototype.getChangedLines=function(u,m){m==null&&(m=this.$rev+1)},p.prototype.undo=function(u,m){this.lastDeltas=null;var E=this.$undoStack;if(b(E,E.length)){u||(u=this.$session),this.$redoStackBaseRev!==this.$rev&&this.$redoStack.length&&(this.$redoStack=[]),this.$fromUndo=!0;var C=E.pop(),R=null;return C&&(R=u.undoChanges(C,m),this.$redoStack.push(C),this.$syncRev()),this.$fromUndo=!1,R}},p.prototype.redo=function(u,m){if(this.lastDeltas=null,u||(u=this.$session),this.$fromUndo=!0,this.$redoStackBaseRev!=this.$rev){var E=this.getDeltas(this.$redoStackBaseRev,this.$rev+1);v(this.$redoStack,E),this.$redoStackBaseRev=this.$rev,this.$redoStack.forEach(function(L){L[0].id=++this.$maxRev},this)}var C=this.$redoStack.pop(),R=null;return C&&(R=u.redoChanges(C,m),this.$undoStack.push(C),this.$syncRev()),this.$fromUndo=!1,R},p.prototype.$syncRev=function(){var u=this.$undoStack,m=u[u.length-1],E=m&&m[0].id||0;this.$redoStackBaseRev=E,this.$rev=E},p.prototype.reset=function(){this.lastDeltas=null,this.$lastDelta=null,this.$undoStack=[],this.$redoStack=[],this.$rev=0,this.mark=0,this.$redoStackBaseRev=this.$rev,this.selections=[]},p.prototype.canUndo=function(){return this.$undoStack.length>0},p.prototype.canRedo=function(){return this.$redoStack.length>0},p.prototype.bookmark=function(u){u==null&&(u=this.$rev),this.mark=u},p.prototype.isAtBookmark=function(){return this.$rev===this.mark},p.prototype.toJSON=function(){return{$redoStack:this.$redoStack,$undoStack:this.$undoStack}},p.prototype.fromJSON=function(u){this.reset(),this.$undoStack=u.$undoStack,this.$redoStack=u.$redoStack},p.prototype.$prettyPrint=function(u){return u?n(u):n(this.$undoStack)+`
---
`+n(this.$redoStack)},p}();M.prototype.hasUndo=M.prototype.canUndo,M.prototype.hasRedo=M.prototype.canRedo,M.prototype.isClean=M.prototype.isAtBookmark,M.prototype.markClean=M.prototype.bookmark;function b(p,u){for(var m=u;m--;){var E=p[m];if(E&&!E[0].ignore){for(;m<u-1;){var C=e(p[m],p[m+1]);p[m]=C[0],p[m+1]=C[1],m++}return!0}}}var _=f("./range").Range,s=_.comparePoints;_.comparePoints;function d(p){return{row:p.row,column:p.column}}function o(p){return{start:d(p.start),end:d(p.end),action:p.action,lines:p.lines.slice()}}function n(p){if(p=p||this,Array.isArray(p))return p.map(n).join(`
`);var u="";return p.action?(u=p.action=="insert"?"+":"-",u+="["+p.lines+"]"):p.value&&(Array.isArray(p.value)?u=p.value.map(i).join(`
`):u=i(p.value)),p.start&&(u+=i(p)),(p.id||p.rev)&&(u+="	("+(p.id||p.rev)+")"),u}function i(p){return p.start.row+":"+p.start.column+"=>"+p.end.row+":"+p.end.column}function t(p,u){var m=p.action=="insert",E=u.action=="insert";if(m&&E)if(s(u.start,p.end)>=0)a(u,p,-1);else if(s(u.start,p.start)<=0)a(p,u,1);else return null;else if(m&&!E)if(s(u.start,p.end)>=0)a(u,p,-1);else if(s(u.end,p.start)<=0)a(p,u,-1);else return null;else if(!m&&E)if(s(u.start,p.start)>=0)a(u,p,1);else if(s(u.start,p.start)<=0)a(p,u,1);else return null;else if(!m&&!E)if(s(u.start,p.start)>=0)a(u,p,1);else if(s(u.end,p.start)<=0)a(p,u,-1);else return null;return[u,p]}function e(p,u){for(var m=p.length;m--;)for(var E=0;E<u.length;E++)if(!t(p[m],u[E])){for(;m<p.length;){for(;E--;)t(u[E],p[m]);E=u.length,m++}return[p,u]}return p.selectionBefore=u.selectionBefore=p.selectionAfter=u.selectionAfter=null,[u,p]}function r(p,u){var m=p.action=="insert",E=u.action=="insert";if(m&&E)s(p.start,u.start)<0?a(u,p,1):a(p,u,1);else if(m&&!E)s(p.start,u.end)>=0?a(p,u,-1):(s(p.start,u.start)<=0||a(p,_.fromPoints(u.start,p.start),-1),a(u,p,1));else if(!m&&E)s(u.start,p.end)>=0?a(u,p,-1):(s(u.start,p.start)<=0||a(u,_.fromPoints(p.start,u.start),-1),a(p,u,1));else if(!m&&!E)if(s(u.start,p.end)>=0)a(u,p,-1);else if(s(u.end,p.start)<=0)a(p,u,-1);else{var C,R;return s(p.start,u.start)<0&&(C=p,p=h(p,u.start)),s(p.end,u.end)>0&&(R=h(p,u.end)),c(u.end,p.start,p.end,-1),R&&!C&&(p.lines=R.lines,p.start=R.start,p.end=R.end,R=p),[u,C,R].filter(Boolean)}return[u,p]}function a(p,u,m){c(p.start,u.start,u.end,m),c(p.end,u.start,u.end,m)}function c(p,u,m,E){p.row==(E==1?u:m).row&&(p.column+=E*(m.column-u.column)),p.row+=E*(m.row-u.row)}function h(p,u){var m=p.lines,E=p.end;p.end=d(u);var C=p.end.row-p.start.row,R=m.splice(C,m.length),L=C?u.column:u.column-p.start.column;m.push(R[0].substring(0,L)),R[0]=R[0].substr(L);var g={start:d(u),end:E,lines:R,action:p.action};return g}function $(p,u){u=o(u);for(var m=p.length;m--;){for(var E=p[m],C=0;C<E.length;C++){var R=E[C],L=r(R,u);u=L[0],L.length!=2&&(L[2]?(E.splice(C+1,1,L[1],L[2]),C++):L[1]||(E.splice(C,1),C--))}E.length||p.splice(m,1)}return p}function v(p,u){for(var m=0;m<u.length;m++)for(var E=u[m],C=0;C<E.length;C++)$(p,E[C])}B.UndoManager=M}),ace.define("ace/edit_session/fold_line",["require","exports","module","ace/range"],function(f,B,z){var M=f("../range").Range,b=function(){function _(s,d){this.foldData=s,Array.isArray(d)?this.folds=d:d=this.folds=[d];var o=d[d.length-1];this.range=new M(d[0].start.row,d[0].start.column,o.end.row,o.end.column),this.start=this.range.start,this.end=this.range.end,this.folds.forEach(function(n){n.setFoldLine(this)},this)}return _.prototype.shiftRow=function(s){this.start.row+=s,this.end.row+=s,this.folds.forEach(function(d){d.start.row+=s,d.end.row+=s})},_.prototype.addFold=function(s){if(s.sameRow){if(s.start.row<this.startRow||s.endRow>this.endRow)throw new Error("Can't add a fold to this FoldLine as it has no connection");this.folds.push(s),this.folds.sort(function(d,o){return-d.range.compareEnd(o.start.row,o.start.column)}),this.range.compareEnd(s.start.row,s.start.column)>0?(this.end.row=s.end.row,this.end.column=s.end.column):this.range.compareStart(s.end.row,s.end.column)<0&&(this.start.row=s.start.row,this.start.column=s.start.column)}else if(s.start.row==this.end.row)this.folds.push(s),this.end.row=s.end.row,this.end.column=s.end.column;else if(s.end.row==this.start.row)this.folds.unshift(s),this.start.row=s.start.row,this.start.column=s.start.column;else throw new Error("Trying to add fold to FoldRow that doesn't have a matching row");s.foldLine=this},_.prototype.containsRow=function(s){return s>=this.start.row&&s<=this.end.row},_.prototype.walk=function(s,d,o){var n=0,i=this.folds,t,e,r,a=!0;d==null&&(d=this.end.row,o=this.end.column);for(var c=0;c<i.length;c++){if(t=i[c],e=t.range.compareStart(d,o),e==-1){s(null,d,o,n,a);return}if(r=s(null,t.start.row,t.start.column,n,a),r=!r&&s(t.placeholder,t.start.row,t.start.column,n),r||e===0)return;a=!t.sameRow,n=t.end.column}s(null,d,o,n,a)},_.prototype.getNextFoldTo=function(s,d){for(var o,n,i=0;i<this.folds.length;i++){if(o=this.folds[i],n=o.range.compareEnd(s,d),n==-1)return{fold:o,kind:"after"};if(n===0)return{fold:o,kind:"inside"}}return null},_.prototype.addRemoveChars=function(s,d,o){var n=this.getNextFoldTo(s,d),i,t;if(n){if(i=n.fold,n.kind=="inside"&&i.start.column!=d&&i.start.row!=s)window.console&&window.console.log(s,d,i);else if(i.start.row==s){t=this.folds;var e=t.indexOf(i);for(e===0&&(this.start.column+=o),e;e<t.length;e++){if(i=t[e],i.start.column+=o,!i.sameRow)return;i.end.column+=o}this.end.column+=o}}},_.prototype.split=function(s,d){var o=this.getNextFoldTo(s,d);if(!o||o.kind=="inside")return null;var n=o.fold,i=this.folds,t=this.foldData,e=i.indexOf(n),r=i[e-1];this.end.row=r.end.row,this.end.column=r.end.column,i=i.splice(e,i.length-e);var a=new _(t,i);return t.splice(t.indexOf(this)+1,0,a),a},_.prototype.merge=function(s){for(var d=s.folds,o=0;o<d.length;o++)this.addFold(d[o]);var n=this.foldData;n.splice(n.indexOf(s),1)},_.prototype.toString=function(){var s=[this.range.toString()+": ["];return this.folds.forEach(function(d){s.push("  "+d.toString())}),s.push("]"),s.join(`
`)},_.prototype.idxToPosition=function(s){for(var d=0,o=0;o<this.folds.length;o++){var n=this.folds[o];if(s-=n.start.column-d,s<0)return{row:n.start.row,column:n.start.column+s};if(s-=n.placeholder.length,s<0)return n.start;d=n.end.column}return{row:this.end.row,column:this.end.column+s}},_}();B.FoldLine=b}),ace.define("ace/range_list",["require","exports","module","ace/range"],function(f,B,z){var M=f("./range").Range,b=M.comparePoints,_=function(){function s(){this.ranges=[],this.$bias=1}return s.prototype.pointIndex=function(d,o,n){for(var i=this.ranges,t=n||0;t<i.length;t++){var e=i[t],r=b(d,e.end);if(!(r>0)){var a=b(d,e.start);return r===0?o&&a!==0?-t-2:t:a>0||a===0&&!o?t:-t-1}}return-t-1},s.prototype.add=function(d){var o=!d.isEmpty(),n=this.pointIndex(d.start,o);n<0&&(n=-n-1);var i=this.pointIndex(d.end,o,n);return i<0?i=-i-1:i++,this.ranges.splice(n,i-n,d)},s.prototype.addList=function(d){for(var o=[],n=d.length;n--;)o.push.apply(o,this.add(d[n]));return o},s.prototype.substractPoint=function(d){var o=this.pointIndex(d);if(o>=0)return this.ranges.splice(o,1)},s.prototype.merge=function(){var d=[],o=this.ranges;o=o.sort(function(r,a){return b(r.start,a.start)});for(var n=o[0],i,t=1;t<o.length;t++){i=n,n=o[t];var e=b(i.end,n.start);e<0||e==0&&!i.isEmpty()&&!n.isEmpty()||(b(i.end,n.end)<0&&(i.end.row=n.end.row,i.end.column=n.end.column),o.splice(t,1),d.push(n),n=i,t--)}return this.ranges=o,d},s.prototype.contains=function(d,o){return this.pointIndex({row:d,column:o})>=0},s.prototype.containsPoint=function(d){return this.pointIndex(d)>=0},s.prototype.rangeAtPoint=function(d){var o=this.pointIndex(d);if(o>=0)return this.ranges[o]},s.prototype.clipRows=function(d,o){var n=this.ranges;if(n[0].start.row>o||n[n.length-1].start.row<d)return[];var i=this.pointIndex({row:d,column:0});i<0&&(i=-i-1);var t=this.pointIndex({row:o,column:0},i);t<0&&(t=-t-1);for(var e=[],r=i;r<t;r++)e.push(n[r]);return e},s.prototype.removeAll=function(){return this.ranges.splice(0,this.ranges.length)},s.prototype.attach=function(d){this.session&&this.detach(),this.session=d,this.onChange=this.$onChange.bind(this),this.session.on("change",this.onChange)},s.prototype.detach=function(){this.session&&(this.session.removeListener("change",this.onChange),this.session=null)},s.prototype.$onChange=function(d){for(var o=d.start,n=d.end,i=o.row,t=n.row,e=this.ranges,r=0,a=e.length;r<a;r++){var c=e[r];if(c.end.row>=i)break}if(d.action=="insert")for(var h=t-i,$=-o.column+n.column;r<a;r++){var c=e[r];if(c.start.row>i)break;if(c.start.row==i&&c.start.column>=o.column&&(c.start.column==o.column&&this.$bias<=0||(c.start.column+=$,c.start.row+=h)),c.end.row==i&&c.end.column>=o.column){if(c.end.column==o.column&&this.$bias<0)continue;c.end.column==o.column&&$>0&&r<a-1&&c.end.column>c.start.column&&c.end.column==e[r+1].start.column&&(c.end.column-=$),c.end.column+=$,c.end.row+=h}}else for(var h=i-t,$=o.column-n.column;r<a;r++){var c=e[r];if(c.start.row>t)break;c.end.row<t&&(i<c.end.row||i==c.end.row&&o.column<c.end.column)?(c.end.row=i,c.end.column=o.column):c.end.row==t?c.end.column<=n.column?(h||c.end.column>o.column)&&(c.end.column=o.column,c.end.row=o.row):(c.end.column+=$,c.end.row+=h):c.end.row>t&&(c.end.row+=h),c.start.row<t&&(i<c.start.row||i==c.start.row&&o.column<c.start.column)?(c.start.row=i,c.start.column=o.column):c.start.row==t?c.start.column<=n.column?(h||c.start.column>o.column)&&(c.start.column=o.column,c.start.row=o.row):(c.start.column+=$,c.start.row+=h):c.start.row>t&&(c.start.row+=h)}if(h!=0&&r<a)for(;r<a;r++){var c=e[r];c.start.row+=h,c.end.row+=h}},s}();_.prototype.comparePoints=b,B.RangeList=_}),ace.define("ace/edit_session/fold",["require","exports","module","ace/range_list"],function(f,B,z){var M=this&&this.__extends||function(){var i=function(t,e){return i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,a){r.__proto__=a}||function(r,a){for(var c in a)Object.prototype.hasOwnProperty.call(a,c)&&(r[c]=a[c])},i(t,e)};return function(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");i(t,e);function r(){this.constructor=t}t.prototype=e===null?Object.create(e):(r.prototype=e.prototype,new r)}}(),b=f("../range_list").RangeList,_=function(i){M(t,i);function t(e,r){var a=i.call(this)||this;return a.foldLine=null,a.placeholder=r,a.range=e,a.start=e.start,a.end=e.end,a.sameRow=e.start.row==e.end.row,a.subFolds=a.ranges=[],a}return t.prototype.toString=function(){return'"'+this.placeholder+'" '+this.range.toString()},t.prototype.setFoldLine=function(e){this.foldLine=e,this.subFolds.forEach(function(r){r.setFoldLine(e)})},t.prototype.clone=function(){var e=this.range.clone(),r=new t(e,this.placeholder);return this.subFolds.forEach(function(a){r.subFolds.push(a.clone())}),r.collapseChildren=this.collapseChildren,r},t.prototype.addSubFold=function(e){if(!this.range.isEqual(e)){d(e,this.start);for(var $=e.start.row,v=e.start.column,r=0,a=-1;r<this.subFolds.length&&(a=this.subFolds[r].range.compare($,v),a==1);r++);var c=this.subFolds[r],h=0;if(a==0){if(c.range.containsRange(e))return c.addSubFold(e);h=1}for(var $=e.range.end.row,v=e.range.end.column,p=r,a=-1;p<this.subFolds.length&&(a=this.subFolds[p].range.compare($,v),a==1);p++);a==0&&p++;for(var u=this.subFolds.splice(r,p-r,e),m=a==0?u.length-1:u.length,E=h;E<m;E++)e.addSubFold(u[E]);return e.setFoldLine(this.foldLine),e}},t.prototype.restoreRange=function(e){return n(e,this.start)},t}(b);function s(i,t){i.row-=t.row,i.row==0&&(i.column-=t.column)}function d(i,t){s(i.start,t),s(i.end,t)}function o(i,t){i.row==0&&(i.column+=t.column),i.row+=t.row}function n(i,t){o(i.start,t),o(i.end,t)}B.Fold=_}),ace.define("ace/edit_session/folding",["require","exports","module","ace/range","ace/edit_session/fold_line","ace/edit_session/fold","ace/token_iterator","ace/mouse/mouse_event"],function(f,B,z){var M=f("../range").Range,b=f("./fold_line").FoldLine,_=f("./fold").Fold,s=f("../token_iterator").TokenIterator,d=f("../mouse/mouse_event").MouseEvent;function o(){this.getFoldAt=function(n,i,t){var e=this.getFoldLine(n);if(!e)return null;for(var r=e.folds,a=0;a<r.length;a++){var c=r[a].range;if(c.contains(n,i)){if(t==1&&c.isEnd(n,i)&&!c.isEmpty())continue;if(t==-1&&c.isStart(n,i)&&!c.isEmpty())continue;return r[a]}}},this.getFoldsInRange=function(n){var i=n.start,t=n.end,e=this.$foldData,r=[];i.column+=1,t.column-=1;for(var a=0;a<e.length;a++){var c=e[a].range.compareRange(n);if(c!=2){if(c==-2)break;for(var h=e[a].folds,$=0;$<h.length;$++){var v=h[$];if(c=v.range.compareRange(n),c==-2)break;if(c==2)continue;if(c==42)break;r.push(v)}}}return i.column-=1,t.column+=1,r},this.getFoldsInRangeList=function(n){if(Array.isArray(n)){var i=[];n.forEach(function(t){i=i.concat(this.getFoldsInRange(t))},this)}else var i=this.getFoldsInRange(n);return i},this.getAllFolds=function(){for(var n=[],i=this.$foldData,t=0;t<i.length;t++)for(var e=0;e<i[t].folds.length;e++)n.push(i[t].folds[e]);return n},this.getFoldStringAt=function(n,i,t,e){if(e=e||this.getFoldLine(n),!e)return null;for(var r={end:{column:0}},a,c,h=0;h<e.folds.length;h++){c=e.folds[h];var $=c.range.compareEnd(n,i);if($==-1){a=this.getLine(c.start.row).substring(r.end.column,c.start.column);break}else if($===0)return null;r=c}return a||(a=this.getLine(c.start.row).substring(r.end.column)),t==-1?a.substring(0,i-r.end.column):t==1?a.substring(i-r.end.column):a},this.getFoldLine=function(n,i){var t=this.$foldData,e=0;for(i&&(e=t.indexOf(i)),e==-1&&(e=0),e;e<t.length;e++){var r=t[e];if(r.start.row<=n&&r.end.row>=n)return r;if(r.end.row>n)return null}return null},this.getNextFoldLine=function(n,i){var t=this.$foldData,e=0;for(i&&(e=t.indexOf(i)),e==-1&&(e=0),e;e<t.length;e++){var r=t[e];if(r.end.row>=n)return r}return null},this.getFoldedRowCount=function(n,i){for(var t=this.$foldData,e=i-n+1,r=0;r<t.length;r++){var a=t[r],c=a.end.row,h=a.start.row;if(c>=i){h<i&&(h>=n?e-=i-h:e=0);break}else c>=n&&(h>=n?e-=c-h:e-=c-n+1)}return e},this.$addFoldLine=function(n){return this.$foldData.push(n),this.$foldData.sort(function(i,t){return i.start.row-t.start.row}),n},this.addFold=function(n,i){var t=this.$foldData,e=!1,r;n instanceof _?r=n:(r=new _(i,n),r.collapseChildren=i.collapseChildren),this.$clipRangeToDocument(r.range);var a=r.start.row,c=r.start.column,h=r.end.row,$=r.end.column,v=this.getFoldAt(a,c,1),p=this.getFoldAt(h,$,-1);if(v&&p==v)return v.addSubFold(r);v&&!v.range.isStart(a,c)&&this.removeFold(v),p&&!p.range.isEnd(h,$)&&this.removeFold(p);var u=this.getFoldsInRange(r.range);u.length>0&&(this.removeFolds(u),r.collapseChildren||u.forEach(function(R){r.addSubFold(R)}));for(var m=0;m<t.length;m++){var E=t[m];if(h==E.start.row){E.addFold(r),e=!0;break}else if(a==E.end.row){if(E.addFold(r),e=!0,!r.sameRow){var C=t[m+1];if(C&&C.start.row==h){E.merge(C);break}}break}else if(h<=E.start.row)break}return e||(E=this.$addFoldLine(new b(this.$foldData,r))),this.$useWrapMode?this.$updateWrapData(E.start.row,E.start.row):this.$updateRowLengthCache(E.start.row,E.start.row),this.$modified=!0,this._signal("changeFold",{data:r,action:"add"}),r},this.addFolds=function(n){n.forEach(function(i){this.addFold(i)},this)},this.removeFold=function(n){var i=n.foldLine,t=i.start.row,e=i.end.row,r=this.$foldData,a=i.folds;if(a.length==1)r.splice(r.indexOf(i),1);else if(i.range.isEnd(n.end.row,n.end.column))a.pop(),i.end.row=a[a.length-1].end.row,i.end.column=a[a.length-1].end.column;else if(i.range.isStart(n.start.row,n.start.column))a.shift(),i.start.row=a[0].start.row,i.start.column=a[0].start.column;else if(n.sameRow)a.splice(a.indexOf(n),1);else{var c=i.split(n.start.row,n.start.column);a=c.folds,a.shift(),c.start.row=a[0].start.row,c.start.column=a[0].start.column}this.$updating||(this.$useWrapMode?this.$updateWrapData(t,e):this.$updateRowLengthCache(t,e)),this.$modified=!0,this._signal("changeFold",{data:n,action:"remove"})},this.removeFolds=function(n){for(var i=[],t=0;t<n.length;t++)i.push(n[t]);i.forEach(function(e){this.removeFold(e)},this),this.$modified=!0},this.expandFold=function(n){this.removeFold(n),n.subFolds.forEach(function(i){n.restoreRange(i),this.addFold(i)},this),n.collapseChildren>0&&this.foldAll(n.start.row+1,n.end.row,n.collapseChildren-1),n.subFolds=[]},this.expandFolds=function(n){n.forEach(function(i){this.expandFold(i)},this)},this.unfold=function(n,i){var t,e;if(n==null)t=new M(0,0,this.getLength(),0),i==null&&(i=!0);else if(typeof n=="number")t=new M(n,0,n,this.getLine(n).length);else if("row"in n)t=M.fromPoints(n,n);else{if(Array.isArray(n))return e=[],n.forEach(function(a){e=e.concat(this.unfold(a))},this),e;t=n}e=this.getFoldsInRangeList(t);for(var r=e;e.length==1&&M.comparePoints(e[0].start,t.start)<0&&M.comparePoints(e[0].end,t.end)>0;)this.expandFolds(e),e=this.getFoldsInRangeList(t);if(i!=!1?this.removeFolds(e):this.expandFolds(e),r.length)return r},this.isRowFolded=function(n,i){return!!this.getFoldLine(n,i)},this.getRowFoldEnd=function(n,i){var t=this.getFoldLine(n,i);return t?t.end.row:n},this.getRowFoldStart=function(n,i){var t=this.getFoldLine(n,i);return t?t.start.row:n},this.getFoldDisplayLine=function(n,i,t,e,r){e==null&&(e=n.start.row),r==null&&(r=0),i==null&&(i=n.end.row),t==null&&(t=this.getLine(i).length);var a=this.doc,c="";return n.walk(function(h,$,v,p){if(!($<e)){if($==e){if(v<r)return;p=Math.max(r,p)}h!=null?c+=h:c+=a.getLine($).substring(p,v)}},i,t),c},this.getDisplayLine=function(n,i,t,e){var r=this.getFoldLine(n);if(r)return this.getFoldDisplayLine(r,n,i,t,e);var a;return a=this.doc.getLine(n),a.substring(e||0,i||a.length)},this.$cloneFoldData=function(){var n=[];return n=this.$foldData.map(function(i){var t=i.folds.map(function(e){return e.clone()});return new b(n,t)}),n},this.toggleFold=function(n){var i=this.selection,t=i.getRange(),e,r;if(t.isEmpty()){var a=t.start;if(e=this.getFoldAt(a.row,a.column),e){this.expandFold(e);return}else(r=this.findMatchingBracket(a))?t.comparePoint(r)==1?t.end=r:(t.start=r,t.start.column++,t.end.column--):(r=this.findMatchingBracket({row:a.row,column:a.column+1}))?(t.comparePoint(r)==1?t.end=r:t.start=r,t.start.column++):t=this.getCommentFoldRange(a.row,a.column)||t}else{var c=this.getFoldsInRange(t);if(n&&c.length){this.expandFolds(c);return}else c.length==1&&(e=c[0])}if(e||(e=this.getFoldAt(t.start.row,t.start.column)),e&&e.range.toString()==t.toString()){this.expandFold(e);return}var h="...";if(!t.isMultiLine()){if(h=this.getTextRange(t),h.length<4)return;h=h.trim().substring(0,2)+".."}this.addFold(h,t)},this.getCommentFoldRange=function(n,i,t){var e=new s(this,n,i),r=e.getCurrentToken(),a=r&&r.type;if(r&&/^comment|string/.test(a)){a=a.match(/comment|string/)[0],a=="comment"&&(a+="|doc-start|\\.doc");var c=new RegExp(a),h=new M;if(t!=1){do r=e.stepBackward();while(r&&c.test(r.type));r=e.stepForward()}h.start.row=e.getCurrentTokenRow(),h.start.column=e.getCurrentTokenColumn()+r.value.length,e=new s(this,n,i);var $=this.getState(e.$row);if(t!=-1){var v=-1;do if(r=e.stepForward(),v==-1){var p=this.getState(e.$row);$.toString()!==p.toString()&&(v=e.$row)}else if(e.$row>v)break;while(r&&c.test(r.type));r=e.stepBackward()}else r=e.getCurrentToken();return h.end.row=e.getCurrentTokenRow(),h.end.column=e.getCurrentTokenColumn(),h}},this.foldAll=function(n,i,t,e){t==null&&(t=1e5);var r=this.foldWidgets;if(r){i=i||this.getLength(),n=n||0;for(var a=n;a<i;a++)if(r[a]==null&&(r[a]=this.getFoldWidget(a)),r[a]=="start"&&!(e&&!e(a))){var c=this.getFoldWidgetRange(a);c&&c.isMultiLine()&&c.end.row<=i&&c.start.row>=n&&(a=c.end.row,c.collapseChildren=t,this.addFold("...",c))}}},this.foldToLevel=function(n){for(this.foldAll();n-- >0;)this.unfold(null,!1)},this.foldAllComments=function(){var n=this;this.foldAll(null,null,null,function(i){for(var t=n.getTokens(i),e=0;e<t.length;e++){var r=t[e];if(!(r.type=="text"&&/^\s+$/.test(r.value)))return!!/comment/.test(r.type)}})},this.$foldStyles={manual:1,markbegin:1,markbeginend:1},this.$foldStyle="markbegin",this.setFoldStyle=function(n){if(!this.$foldStyles[n])throw new Error("invalid fold style: "+n+"["+Object.keys(this.$foldStyles).join(", ")+"]");if(this.$foldStyle!=n){this.$foldStyle=n,n=="manual"&&this.unfold();var i=this.$foldMode;this.$setFolding(null),this.$setFolding(i)}},this.$setFolding=function(n){if(this.$foldMode!=n){if(this.$foldMode=n,this.off("change",this.$updateFoldWidgets),this.off("tokenizerUpdate",this.$tokenizerUpdateFoldWidgets),this._signal("changeAnnotation"),!n||this.$foldStyle=="manual"){this.foldWidgets=null;return}this.foldWidgets=[],this.getFoldWidget=n.getFoldWidget.bind(n,this,this.$foldStyle),this.getFoldWidgetRange=n.getFoldWidgetRange.bind(n,this,this.$foldStyle),this.$updateFoldWidgets=this.updateFoldWidgets.bind(this),this.$tokenizerUpdateFoldWidgets=this.tokenizerUpdateFoldWidgets.bind(this),this.on("change",this.$updateFoldWidgets),this.on("tokenizerUpdate",this.$tokenizerUpdateFoldWidgets)}},this.getParentFoldRangeData=function(n,i){var t=this.foldWidgets;if(!t||i&&t[n])return{};for(var e=n-1,r;e>=0;){var a=t[e];if(a==null&&(a=t[e]=this.getFoldWidget(e)),a=="start"){var c=this.getFoldWidgetRange(e);if(r||(r=c),c&&c.end.row>=n)break}e--}return{range:e!==-1&&c,firstRange:r}},this.onFoldWidgetClick=function(n,i){i instanceof d&&(i=i.domEvent);var t={children:i.shiftKey,all:i.ctrlKey||i.metaKey,siblings:i.altKey},e=this.$toggleFoldWidget(n,t);if(!e){var r=i.target||i.srcElement;r&&/ace_fold-widget/.test(r.className)&&(r.className+=" ace_invalid")}},this.$toggleFoldWidget=function(n,i){if(this.getFoldWidget){var t=this.getFoldWidget(n),e=this.getLine(n),r=t==="end"?-1:1,a=this.getFoldAt(n,r===-1?0:e.length,r);if(a)return i.children||i.all?this.removeFold(a):this.expandFold(a),a;var c=this.getFoldWidgetRange(n,!0);if(c&&!c.isMultiLine()&&(a=this.getFoldAt(c.start.row,c.start.column,1),a&&c.isEqual(a.range)))return this.removeFold(a),a;if(i.siblings){var h=this.getParentFoldRangeData(n);if(h.range)var $=h.range.start.row+1,v=h.range.end.row;this.foldAll($,v,i.all?1e4:0)}else i.children?(v=c?c.end.row:this.getLength(),this.foldAll(n+1,v,i.all?1e4:0)):c&&(i.all&&(c.collapseChildren=1e4),this.addFold("...",c));return c}},this.toggleFoldWidget=function(n){var i=this.selection.getCursor().row;i=this.getRowFoldStart(i);var t=this.$toggleFoldWidget(i,{});if(!t){var e=this.getParentFoldRangeData(i,!0);if(t=e.range||e.firstRange,t){i=t.start.row;var r=this.getFoldAt(i,this.getLine(i).length,1);r?this.removeFold(r):this.addFold("...",t)}}},this.updateFoldWidgets=function(n){var i=n.start.row,t=n.end.row-i;if(t===0)this.foldWidgets[i]=null;else if(n.action=="remove")this.foldWidgets.splice(i,t+1,null);else{var e=Array(t+1);e.unshift(i,1),this.foldWidgets.splice.apply(this.foldWidgets,e)}},this.tokenizerUpdateFoldWidgets=function(n){var i=n.data;i.first!=i.last&&this.foldWidgets.length>i.first&&this.foldWidgets.splice(i.first,this.foldWidgets.length)}}B.Folding=o}),ace.define("ace/edit_session/bracket_match",["require","exports","module","ace/token_iterator","ace/range"],function(f,B,z){var M=f("../token_iterator").TokenIterator,b=f("../range").Range;function _(){this.findMatchingBracket=function(s,d){if(s.column==0)return null;var o=d||this.getLine(s.row).charAt(s.column-1);if(o=="")return null;var n=o.match(/([\(\[\{])|([\)\]\}])/);return n?n[1]?this.$findClosingBracket(n[1],s):this.$findOpeningBracket(n[2],s):null},this.getBracketRange=function(s){var d=this.getLine(s.row),o=!0,n,i=d.charAt(s.column-1),t=i&&i.match(/([\(\[\{])|([\)\]\}])/);if(t||(i=d.charAt(s.column),s={row:s.row,column:s.column+1},t=i&&i.match(/([\(\[\{])|([\)\]\}])/),o=!1),!t)return null;if(t[1]){var e=this.$findClosingBracket(t[1],s);if(!e)return null;n=b.fromPoints(s,e),o||(n.end.column++,n.start.column--),n.cursor=n.end}else{var e=this.$findOpeningBracket(t[2],s);if(!e)return null;n=b.fromPoints(e,s),o||(n.start.column++,n.end.column--),n.cursor=n.start}return n},this.getMatchingBracketRanges=function(s,d){var o=this.getLine(s.row),n=/([\(\[\{])|([\)\]\}])/,i=!d&&o.charAt(s.column-1),t=i&&i.match(n);if(t||(i=(d===void 0||d)&&o.charAt(s.column),s={row:s.row,column:s.column+1},t=i&&i.match(n)),!t)return null;var e=new b(s.row,s.column-1,s.row,s.column),r=t[1]?this.$findClosingBracket(t[1],s):this.$findOpeningBracket(t[2],s);if(!r)return[e];var a=new b(r.row,r.column,r.row,r.column+1);return[e,a]},this.$brackets={")":"(","(":")","]":"[","[":"]","{":"}","}":"{","<":">",">":"<"},this.$findOpeningBracket=function(s,d,o){var n=this.$brackets[s],i=1,t=new M(this,d.row,d.column),e=t.getCurrentToken();if(e||(e=t.stepForward()),!!e){o||(o=new RegExp("(\\.?"+e.type.replace(".","\\.").replace("rparen",".paren").replace(/\b(?:end)\b/,"(?:start|begin|end)").replace(/-close\b/,"-(close|open)")+")+"));for(var r=d.column-t.getCurrentTokenColumn()-2,a=e.value;;){for(;r>=0;){var c=a.charAt(r);if(c==n){if(i-=1,i==0)return{row:t.getCurrentTokenRow(),column:r+t.getCurrentTokenColumn()}}else c==s&&(i+=1);r-=1}do e=t.stepBackward();while(e&&!o.test(e.type));if(e==null)break;a=e.value,r=a.length-1}return null}},this.$findClosingBracket=function(s,d,o){var n=this.$brackets[s],i=1,t=new M(this,d.row,d.column),e=t.getCurrentToken();if(e||(e=t.stepForward()),!!e){o||(o=new RegExp("(\\.?"+e.type.replace(".","\\.").replace("lparen",".paren").replace(/\b(?:start|begin)\b/,"(?:start|begin|end)").replace(/-open\b/,"-(close|open)")+")+"));for(var r=d.column-t.getCurrentTokenColumn();;){for(var a=e.value,c=a.length;r<c;){var h=a.charAt(r);if(h==n){if(i-=1,i==0)return{row:t.getCurrentTokenRow(),column:r+t.getCurrentTokenColumn()}}else h==s&&(i+=1);r+=1}do e=t.stepForward();while(e&&!o.test(e.type));if(e==null)break;r=0}return null}},this.getMatchingTags=function(s){var d=new M(this,s.row,s.column),o=this.$findTagName(d);if(o){var n=d.stepBackward();return n.value==="<"?this.$findClosingTag(d,o):this.$findOpeningTag(d,o)}},this.$findTagName=function(s){var d=s.getCurrentToken(),o=!1,n=!1;if(d&&d.type.indexOf("tag-name")===-1)do n?d=s.stepBackward():d=s.stepForward(),d&&(d.value==="/>"?n=!0:d.type.indexOf("tag-name")!==-1&&(o=!0));while(d&&!o);return d},this.$findClosingTag=function(s,d){var o,n=d.value,i=d.value,t=0,e=new b(s.getCurrentTokenRow(),s.getCurrentTokenColumn(),s.getCurrentTokenRow(),s.getCurrentTokenColumn()+1);d=s.stepForward();var r=new b(s.getCurrentTokenRow(),s.getCurrentTokenColumn(),s.getCurrentTokenRow(),s.getCurrentTokenColumn()+d.value.length),a=!1;do{if(o=d,o.type.indexOf("tag-close")!==-1&&!a){var c=new b(s.getCurrentTokenRow(),s.getCurrentTokenColumn(),s.getCurrentTokenRow(),s.getCurrentTokenColumn()+1);a=!0}if(d=s.stepForward(),d){if(d.value===">"&&!a){var c=new b(s.getCurrentTokenRow(),s.getCurrentTokenColumn(),s.getCurrentTokenRow(),s.getCurrentTokenColumn()+1);a=!0}if(d.type.indexOf("tag-name")!==-1){if(n=d.value,i===n){if(o.value==="<")t++;else if(o.value==="</"&&(t--,t<0)){s.stepBackward();var h=new b(s.getCurrentTokenRow(),s.getCurrentTokenColumn(),s.getCurrentTokenRow(),s.getCurrentTokenColumn()+2);d=s.stepForward();var $=new b(s.getCurrentTokenRow(),s.getCurrentTokenColumn(),s.getCurrentTokenRow(),s.getCurrentTokenColumn()+d.value.length);if(d.type.indexOf("tag-close")===-1&&(d=s.stepForward()),d&&d.value===">")var v=new b(s.getCurrentTokenRow(),s.getCurrentTokenColumn(),s.getCurrentTokenRow(),s.getCurrentTokenColumn()+1);else return}}}else if(i===n&&d.value==="/>"&&(t--,t<0))var h=new b(s.getCurrentTokenRow(),s.getCurrentTokenColumn(),s.getCurrentTokenRow(),s.getCurrentTokenColumn()+2),$=h,v=$,c=new b(r.end.row,r.end.column,r.end.row,r.end.column+1)}}while(d&&t>=0);if(e&&c&&h&&v&&r&&$)return{openTag:new b(e.start.row,e.start.column,c.end.row,c.end.column),closeTag:new b(h.start.row,h.start.column,v.end.row,v.end.column),openTagName:r,closeTagName:$}},this.$findOpeningTag=function(s,d){var o=s.getCurrentToken(),n=d.value,i=0,t=s.getCurrentTokenRow(),e=s.getCurrentTokenColumn(),r=e+2,a=new b(t,e,t,r);s.stepForward();var c=new b(s.getCurrentTokenRow(),s.getCurrentTokenColumn(),s.getCurrentTokenRow(),s.getCurrentTokenColumn()+d.value.length);if(d.type.indexOf("tag-close")===-1&&(d=s.stepForward()),!(!d||d.value!==">")){var h=new b(s.getCurrentTokenRow(),s.getCurrentTokenColumn(),s.getCurrentTokenRow(),s.getCurrentTokenColumn()+1);s.stepBackward(),s.stepBackward();do if(d=o,t=s.getCurrentTokenRow(),e=s.getCurrentTokenColumn(),r=e+d.value.length,o=s.stepBackward(),d){if(d.type.indexOf("tag-name")!==-1){if(n===d.value)if(o.value==="<"){if(i++,i>0){var $=new b(t,e,t,r),v=new b(s.getCurrentTokenRow(),s.getCurrentTokenColumn(),s.getCurrentTokenRow(),s.getCurrentTokenColumn()+1);do d=s.stepForward();while(d&&d.value!==">");var p=new b(s.getCurrentTokenRow(),s.getCurrentTokenColumn(),s.getCurrentTokenRow(),s.getCurrentTokenColumn()+1)}}else o.value==="</"&&i--}else if(d.value==="/>"){for(var u=0,m=o;m;){if(m.type.indexOf("tag-name")!==-1&&m.value===n){i--;break}else if(m.value==="<")break;m=s.stepBackward(),u++}for(var E=0;E<u;E++)s.stepForward()}}while(o&&i<=0);if(v&&p&&a&&h&&$&&c)return{openTag:new b(v.start.row,v.start.column,p.end.row,p.end.column),closeTag:new b(a.start.row,a.start.column,h.end.row,h.end.column),openTagName:$,closeTagName:c}}}}B.BracketMatch=_}),ace.define("ace/edit_session",["require","exports","module","ace/lib/oop","ace/lib/lang","ace/bidihandler","ace/config","ace/lib/event_emitter","ace/selection","ace/mode/text","ace/range","ace/document","ace/background_tokenizer","ace/search_highlight","ace/undomanager","ace/edit_session/folding","ace/edit_session/bracket_match"],function(f,B,z){var M=f("./lib/oop"),b=f("./lib/lang"),_=f("./bidihandler").BidiHandler,s=f("./config"),d=f("./lib/event_emitter").EventEmitter,o=f("./selection").Selection,n=f("./mode/text").Mode,i=f("./range").Range,t=f("./document").Document,e=f("./background_tokenizer").BackgroundTokenizer,r=f("./search_highlight").SearchHighlight,a=f("./undomanager").UndoManager,c=function(){function L(g,y){this.doc,this.$breakpoints=[],this.$decorations=[],this.$frontMarkers={},this.$backMarkers={},this.$markerId=1,this.$undoSelect=!0,this.$foldData=[],this.id="session"+ ++L.$uid,this.$foldData.toString=function(){return this.join(`
`)},this.bgTokenizer=new e(new n().getTokenizer(),this);var l=this;this.bgTokenizer.on("update",function(w){l._signal("tokenizerUpdate",w)}),this.on("changeFold",this.onChangeFold.bind(this)),this.$onChange=this.onChange.bind(this),(typeof g!="object"||!g.getLine)&&(g=new t(g)),this.setDocument(g),this.selection=new o(this),this.$bidiHandler=new _(this),s.resetOptions(this),this.setMode(y),s._signal("session",this),this.destroyed=!1}return L.prototype.setDocument=function(g){this.doc&&this.doc.off("change",this.$onChange),this.doc=g,g.on("change",this.$onChange,!0),this.bgTokenizer.setDocument(this.getDocument()),this.resetCaches()},L.prototype.getDocument=function(){return this.doc},L.prototype.$resetRowCache=function(g){if(!g){this.$docRowCache=[],this.$screenRowCache=[];return}var y=this.$docRowCache.length,l=this.$getRowCacheIndex(this.$docRowCache,g)+1;y>l&&(this.$docRowCache.splice(l,y),this.$screenRowCache.splice(l,y))},L.prototype.$getRowCacheIndex=function(g,y){for(var l=0,w=g.length-1;l<=w;){var k=l+w>>1,I=g[k];if(y>I)l=k+1;else if(y<I)w=k-1;else return k}return l-1},L.prototype.resetCaches=function(){this.$modified=!0,this.$wrapData=[],this.$rowLengthCache=[],this.$resetRowCache(0),this.destroyed||this.bgTokenizer.start(0)},L.prototype.onChangeFold=function(g){var y=g.data;this.$resetRowCache(y.start.row)},L.prototype.onChange=function(g){this.$modified=!0,this.$bidiHandler.onChange(g),this.$resetRowCache(g.start.row);var y=this.$updateInternalDataOnChange(g);!this.$fromUndo&&this.$undoManager&&(y&&y.length&&(this.$undoManager.add({action:"removeFolds",folds:y},this.mergeUndoDeltas),this.mergeUndoDeltas=!0),this.$undoManager.add(g,this.mergeUndoDeltas),this.mergeUndoDeltas=!0,this.$informUndoManager.schedule()),this.bgTokenizer.$updateOnChange(g),this._signal("change",g)},L.prototype.setValue=function(g){this.doc.setValue(g),this.selection.moveTo(0,0),this.$resetRowCache(0),this.setUndoManager(this.$undoManager),this.getUndoManager().reset()},L.fromJSON=function(g){typeof g=="string"&&(g=JSON.parse(g));var y=new a;y.$undoStack=g.history.undo,y.$redoStack=g.history.redo,y.mark=g.history.mark,y.$rev=g.history.rev;var l=new L(g.value);return g.folds.forEach(function(w){l.addFold("...",i.fromPoints(w.start,w.end))}),l.setAnnotations(g.annotations),l.setBreakpoints(g.breakpoints),l.setMode(g.mode),l.setScrollLeft(g.scrollLeft),l.setScrollTop(g.scrollTop),l.setUndoManager(y),l.selection.fromJSON(g.selection),l},L.prototype.toJSON=function(){return{annotations:this.$annotations,breakpoints:this.$breakpoints,folds:this.getAllFolds().map(function(g){return g.range}),history:this.getUndoManager(),mode:this.$mode.$id,scrollLeft:this.$scrollLeft,scrollTop:this.$scrollTop,selection:this.selection.toJSON(),value:this.doc.getValue()}},L.prototype.toString=function(){return this.doc.getValue()},L.prototype.getSelection=function(){return this.selection},L.prototype.getState=function(g){return this.bgTokenizer.getState(g)},L.prototype.getTokens=function(g){return this.bgTokenizer.getTokens(g)},L.prototype.getTokenAt=function(g,y){var l=this.bgTokenizer.getTokens(g),w,k=0;if(y==null){var I=l.length-1;k=this.getLine(g).length}else for(var I=0;I<l.length&&(k+=l[I].value.length,!(k>=y));I++);return w=l[I],w?(w.index=I,w.start=k-w.value.length,w):null},L.prototype.setUndoManager=function(g){if(this.$undoManager=g,this.$informUndoManager&&this.$informUndoManager.cancel(),g){var y=this;g.addSession(this),this.$syncInformUndoManager=function(){y.$informUndoManager.cancel(),y.mergeUndoDeltas=!1},this.$informUndoManager=b.delayedCall(this.$syncInformUndoManager)}else this.$syncInformUndoManager=function(){}},L.prototype.markUndoGroup=function(){this.$syncInformUndoManager&&this.$syncInformUndoManager()},L.prototype.getUndoManager=function(){return this.$undoManager||this.$defaultUndoManager},L.prototype.getTabString=function(){return this.getUseSoftTabs()?b.stringRepeat(" ",this.getTabSize()):"	"},L.prototype.setUseSoftTabs=function(g){this.setOption("useSoftTabs",g)},L.prototype.getUseSoftTabs=function(){return this.$useSoftTabs&&!this.$mode.$indentWithTabs},L.prototype.setTabSize=function(g){this.setOption("tabSize",g)},L.prototype.getTabSize=function(){return this.$tabSize},L.prototype.isTabStop=function(g){return this.$useSoftTabs&&g.column%this.$tabSize===0},L.prototype.setNavigateWithinSoftTabs=function(g){this.setOption("navigateWithinSoftTabs",g)},L.prototype.getNavigateWithinSoftTabs=function(){return this.$navigateWithinSoftTabs},L.prototype.setOverwrite=function(g){this.setOption("overwrite",g)},L.prototype.getOverwrite=function(){return this.$overwrite},L.prototype.toggleOverwrite=function(){this.setOverwrite(!this.$overwrite)},L.prototype.addGutterDecoration=function(g,y){this.$decorations[g]||(this.$decorations[g]=""),this.$decorations[g]+=" "+y,this._signal("changeBreakpoint",{})},L.prototype.removeGutterDecoration=function(g,y){this.$decorations[g]=(this.$decorations[g]||"").replace(" "+y,""),this._signal("changeBreakpoint",{})},L.prototype.getBreakpoints=function(){return this.$breakpoints},L.prototype.setBreakpoints=function(g){this.$breakpoints=[];for(var y=0;y<g.length;y++)this.$breakpoints[g[y]]="ace_breakpoint";this._signal("changeBreakpoint",{})},L.prototype.clearBreakpoints=function(){this.$breakpoints=[],this._signal("changeBreakpoint",{})},L.prototype.setBreakpoint=function(g,y){y===void 0&&(y="ace_breakpoint"),y?this.$breakpoints[g]=y:delete this.$breakpoints[g],this._signal("changeBreakpoint",{})},L.prototype.clearBreakpoint=function(g){delete this.$breakpoints[g],this._signal("changeBreakpoint",{})},L.prototype.addMarker=function(g,y,l,w){var k=this.$markerId++,I={range:g,type:l||"line",renderer:typeof l=="function"?l:null,clazz:y,inFront:!!w,id:k};return w?(this.$frontMarkers[k]=I,this._signal("changeFrontMarker")):(this.$backMarkers[k]=I,this._signal("changeBackMarker")),k},L.prototype.addDynamicMarker=function(g,y){if(g.update){var l=this.$markerId++;return g.id=l,g.inFront=!!y,y?(this.$frontMarkers[l]=g,this._signal("changeFrontMarker")):(this.$backMarkers[l]=g,this._signal("changeBackMarker")),g}},L.prototype.removeMarker=function(g){var y=this.$frontMarkers[g]||this.$backMarkers[g];if(y){var l=y.inFront?this.$frontMarkers:this.$backMarkers;delete l[g],this._signal(y.inFront?"changeFrontMarker":"changeBackMarker")}},L.prototype.getMarkers=function(g){return g?this.$frontMarkers:this.$backMarkers},L.prototype.highlight=function(g){if(!this.$searchHighlight){var y=new r(null,"ace_selected-word","text");this.$searchHighlight=this.addDynamicMarker(y)}this.$searchHighlight.setRegexp(g)},L.prototype.highlightLines=function(g,y,l,w){typeof y!="number"&&(l=y,y=g),l||(l="ace_step");var k=new i(g,0,y,1/0);return k.id=this.addMarker(k,l,"fullLine",w),k},L.prototype.setAnnotations=function(g){this.$annotations=g,this._signal("changeAnnotation",{})},L.prototype.getAnnotations=function(){return this.$annotations||[]},L.prototype.clearAnnotations=function(){this.setAnnotations([])},L.prototype.$detectNewLine=function(g){var y=g.match(/^.*?(\r?\n)/m);y?this.$autoNewLine=y[1]:this.$autoNewLine=`
`},L.prototype.getWordRange=function(g,y){var l=this.getLine(g),w=!1;if(y>0&&(w=!!l.charAt(y-1).match(this.tokenRe)),w||(w=!!l.charAt(y).match(this.tokenRe)),w)var k=this.tokenRe;else if(/^\s+$/.test(l.slice(y-1,y+1)))var k=/\s/;else var k=this.nonTokenRe;var I=y;if(I>0){do I--;while(I>=0&&l.charAt(I).match(k));I++}for(var G=y;G<l.length&&l.charAt(G).match(k);)G++;return new i(g,I,g,G)},L.prototype.getAWordRange=function(g,y){for(var l=this.getWordRange(g,y),w=this.getLine(l.end.row);w.charAt(l.end.column).match(/[ \t]/);)l.end.column+=1;return l},L.prototype.setNewLineMode=function(g){this.doc.setNewLineMode(g)},L.prototype.getNewLineMode=function(){return this.doc.getNewLineMode()},L.prototype.setUseWorker=function(g){this.setOption("useWorker",g)},L.prototype.getUseWorker=function(){return this.$useWorker},L.prototype.onReloadTokenizer=function(g){var y=g.data;this.bgTokenizer.start(y.first),this._signal("tokenizerUpdate",g)},L.prototype.setMode=function(g,y){if(g&&typeof g=="object"){if(g.getTokenizer)return this.$onChangeMode(g);var l=g,w=l.path}else w=g||"ace/mode/text";if(this.$modes["ace/mode/text"]||(this.$modes["ace/mode/text"]=new n),this.$modes[w]&&!l){this.$onChangeMode(this.$modes[w]),y&&y();return}this.$modeId=w,s.loadModule(["mode",w],(function(k){if(this.$modeId!==w)return y&&y();this.$modes[w]&&!l?this.$onChangeMode(this.$modes[w]):k&&k.Mode&&(k=new k.Mode(l),l||(this.$modes[w]=k,k.$id=w),this.$onChangeMode(k)),y&&y()}).bind(this)),this.$mode||this.$onChangeMode(this.$modes["ace/mode/text"],!0)},L.prototype.$onChangeMode=function(g,y){if(y||(this.$modeId=g.$id),this.$mode!==g){var l=this.$mode;this.$mode=g,this.$stopWorker(),this.$useWorker&&this.$startWorker();var w=g.getTokenizer();if(w.on!==void 0){var k=this.onReloadTokenizer.bind(this);w.on("update",k)}this.bgTokenizer.setTokenizer(w),this.bgTokenizer.setDocument(this.getDocument()),this.tokenRe=g.tokenRe,this.nonTokenRe=g.nonTokenRe,y||(g.attachToSession&&g.attachToSession(this),this.$options.wrapMethod.set.call(this,this.$wrapMethod),this.$setFolding(g.foldingRules),this.bgTokenizer.start(0),this._emit("changeMode",{oldMode:l,mode:g}))}},L.prototype.$stopWorker=function(){this.$worker&&(this.$worker.terminate(),this.$worker=null)},L.prototype.$startWorker=function(){try{this.$worker=this.$mode.createWorker(this)}catch(g){s.warn("Could not load worker",g),this.$worker=null}},L.prototype.getMode=function(){return this.$mode},L.prototype.setScrollTop=function(g){this.$scrollTop===g||isNaN(g)||(this.$scrollTop=g,this._signal("changeScrollTop",g))},L.prototype.getScrollTop=function(){return this.$scrollTop},L.prototype.setScrollLeft=function(g){this.$scrollLeft===g||isNaN(g)||(this.$scrollLeft=g,this._signal("changeScrollLeft",g))},L.prototype.getScrollLeft=function(){return this.$scrollLeft},L.prototype.getScreenWidth=function(){return this.$computeWidth(),this.lineWidgets?Math.max(this.getLineWidgetMaxWidth(),this.screenWidth):this.screenWidth},L.prototype.getLineWidgetMaxWidth=function(){if(this.lineWidgetsWidth!=null)return this.lineWidgetsWidth;var g=0;return this.lineWidgets.forEach(function(y){y&&y.screenWidth>g&&(g=y.screenWidth)}),this.lineWidgetWidth=g},L.prototype.$computeWidth=function(g){if(this.$modified||g){if(this.$modified=!1,this.$useWrapMode)return this.screenWidth=this.$wrapLimit;for(var y=this.doc.getAllLines(),l=this.$rowLengthCache,w=0,k=0,I=this.$foldData[k],G=I?I.start.row:1/0,H=y.length,J=0;J<H;J++){if(J>G){if(J=I.end.row+1,J>=H)break;I=this.$foldData[k++],G=I?I.start.row:1/0}l[J]==null&&(l[J]=this.$getStringScreenWidth(y[J])[0]),l[J]>w&&(w=l[J])}this.screenWidth=w}},L.prototype.getLine=function(g){return this.doc.getLine(g)},L.prototype.getLines=function(g,y){return this.doc.getLines(g,y)},L.prototype.getLength=function(){return this.doc.getLength()},L.prototype.getTextRange=function(g){return this.doc.getTextRange(g||this.selection.getRange())},L.prototype.insert=function(g,y){return this.doc.insert(g,y)},L.prototype.remove=function(g){return this.doc.remove(g)},L.prototype.removeFullLines=function(g,y){return this.doc.removeFullLines(g,y)},L.prototype.undoChanges=function(g,y){if(g.length){this.$fromUndo=!0;for(var l=g.length-1;l!=-1;l--){var w=g[l];w.action=="insert"||w.action=="remove"?this.doc.revertDelta(w):w.folds&&this.addFolds(w.folds)}!y&&this.$undoSelect&&(g.selectionBefore?this.selection.fromJSON(g.selectionBefore):this.selection.setRange(this.$getUndoSelection(g,!0))),this.$fromUndo=!1}},L.prototype.redoChanges=function(g,y){if(g.length){this.$fromUndo=!0;for(var l=0;l<g.length;l++){var w=g[l];(w.action=="insert"||w.action=="remove")&&this.doc.$safeApplyDelta(w)}!y&&this.$undoSelect&&(g.selectionAfter?this.selection.fromJSON(g.selectionAfter):this.selection.setRange(this.$getUndoSelection(g,!1))),this.$fromUndo=!1}},L.prototype.setUndoSelect=function(g){this.$undoSelect=g},L.prototype.$getUndoSelection=function(g,y){function l(H){return y?H.action!=="insert":H.action==="insert"}for(var w,k,I=0;I<g.length;I++){var G=g[I];if(G.start){if(!w){l(G)?w=i.fromPoints(G.start,G.end):w=i.fromPoints(G.start,G.start);continue}l(G)?(k=G.start,w.compare(k.row,k.column)==-1&&w.setStart(k),k=G.end,w.compare(k.row,k.column)==1&&w.setEnd(k)):(k=G.start,w.compare(k.row,k.column)==-1&&(w=i.fromPoints(G.start,G.start)))}}return w},L.prototype.replace=function(g,y){return this.doc.replace(g,y)},L.prototype.moveText=function(g,y,l){var w=this.getTextRange(g),k=this.getFoldsInRange(g),I=i.fromPoints(y,y);if(!l){this.remove(g);var G=g.start.row-g.end.row,H=G?-g.end.column:g.start.column-g.end.column;H&&(I.start.row==g.end.row&&I.start.column>g.end.column&&(I.start.column+=H),I.end.row==g.end.row&&I.end.column>g.end.column&&(I.end.column+=H)),G&&I.start.row>=g.end.row&&(I.start.row+=G,I.end.row+=G)}if(I.end=this.insert(I.start,w),k.length){var J=g.start,j=I.start,G=j.row-J.row,H=j.column-J.column;this.addFolds(k.map(function(ee){return ee=ee.clone(),ee.start.row==J.row&&(ee.start.column+=H),ee.end.row==J.row&&(ee.end.column+=H),ee.start.row+=G,ee.end.row+=G,ee}))}return I},L.prototype.indentRows=function(g,y,l){l=l.replace(/\t/g,this.getTabString());for(var w=g;w<=y;w++)this.doc.insertInLine({row:w,column:0},l)},L.prototype.outdentRows=function(g){for(var y=g.collapseRows(),l=new i(0,0,0,0),w=this.getTabSize(),k=y.start.row;k<=y.end.row;++k){var I=this.getLine(k);l.start.row=k,l.end.row=k;for(var G=0;G<w&&I.charAt(G)==" ";++G);G<w&&I.charAt(G)=="	"?(l.start.column=G,l.end.column=G+1):(l.start.column=0,l.end.column=G),this.remove(l)}},L.prototype.$moveLines=function(g,y,l){if(g=this.getRowFoldStart(g),y=this.getRowFoldEnd(y),l<0){var w=this.getRowFoldStart(g+l);if(w<0)return 0;var k=w-g}else if(l>0){var w=this.getRowFoldEnd(y+l);if(w>this.doc.getLength()-1)return 0;var k=w-y}else{g=this.$clipRowToDocument(g),y=this.$clipRowToDocument(y);var k=y-g+1}var I=new i(g,0,y,Number.MAX_VALUE),G=this.getFoldsInRange(I).map(function(J){return J=J.clone(),J.start.row+=k,J.end.row+=k,J}),H=l==0?this.doc.getLines(g,y):this.doc.removeFullLines(g,y);return this.doc.insertFullLines(g+k,H),G.length&&this.addFolds(G),k},L.prototype.moveLinesUp=function(g,y){return this.$moveLines(g,y,-1)},L.prototype.moveLinesDown=function(g,y){return this.$moveLines(g,y,1)},L.prototype.duplicateLines=function(g,y){return this.$moveLines(g,y,0)},L.prototype.$clipRowToDocument=function(g){return Math.max(0,Math.min(g,this.doc.getLength()-1))},L.prototype.$clipColumnToRow=function(g,y){return y<0?0:Math.min(this.doc.getLine(g).length,y)},L.prototype.$clipPositionToDocument=function(g,y){if(y=Math.max(0,y),g<0)g=0,y=0;else{var l=this.doc.getLength();g>=l?(g=l-1,y=this.doc.getLine(l-1).length):y=Math.min(this.doc.getLine(g).length,y)}return{row:g,column:y}},L.prototype.$clipRangeToDocument=function(g){g.start.row<0?(g.start.row=0,g.start.column=0):g.start.column=this.$clipColumnToRow(g.start.row,g.start.column);var y=this.doc.getLength()-1;return g.end.row>y?(g.end.row=y,g.end.column=this.doc.getLine(y).length):g.end.column=this.$clipColumnToRow(g.end.row,g.end.column),g},L.prototype.setUseWrapMode=function(g){if(g!=this.$useWrapMode){if(this.$useWrapMode=g,this.$modified=!0,this.$resetRowCache(0),g){var y=this.getLength();this.$wrapData=Array(y),this.$updateWrapData(0,y-1)}this._signal("changeWrapMode")}},L.prototype.getUseWrapMode=function(){return this.$useWrapMode},L.prototype.setWrapLimitRange=function(g,y){(this.$wrapLimitRange.min!==g||this.$wrapLimitRange.max!==y)&&(this.$wrapLimitRange={min:g,max:y},this.$modified=!0,this.$bidiHandler.markAsDirty(),this.$useWrapMode&&this._signal("changeWrapMode"))},L.prototype.adjustWrapLimit=function(g,y){var l=this.$wrapLimitRange;l.max<0&&(l={min:y,max:y});var w=this.$constrainWrapLimit(g,l.min,l.max);return w!=this.$wrapLimit&&w>1?(this.$wrapLimit=w,this.$modified=!0,this.$useWrapMode&&(this.$updateWrapData(0,this.getLength()-1),this.$resetRowCache(0),this._signal("changeWrapLimit")),!0):!1},L.prototype.$constrainWrapLimit=function(g,y,l){return y&&(g=Math.max(y,g)),l&&(g=Math.min(l,g)),g},L.prototype.getWrapLimit=function(){return this.$wrapLimit},L.prototype.setWrapLimit=function(g){this.setWrapLimitRange(g,g)},L.prototype.getWrapLimitRange=function(){return{min:this.$wrapLimitRange.min,max:this.$wrapLimitRange.max}},L.prototype.$updateInternalDataOnChange=function(g){var y=this.$useWrapMode,l=g.action,w=g.start,k=g.end,I=w.row,G=k.row,H=G-I,J=null;if(this.$updating=!0,H!=0)if(l==="remove"){this[y?"$wrapData":"$rowLengthCache"].splice(I,H);var j=this.$foldData;J=this.getFoldsInRange(g),this.removeFolds(J);var K=this.getFoldLine(k.row),ie=0;if(K){K.addRemoveChars(k.row,k.column,w.column-k.column),K.shiftRow(-H);var ee=this.getFoldLine(I);ee&&ee!==K&&(ee.merge(K),K=ee),ie=j.indexOf(K)+1}for(ie;ie<j.length;ie++){var K=j[ie];K.start.row>=k.row&&K.shiftRow(-H)}G=I}else{var oe=Array(H);oe.unshift(I,0);var fe=y?this.$wrapData:this.$rowLengthCache;fe.splice.apply(fe,oe);var j=this.$foldData,K=this.getFoldLine(I),ie=0;if(K){var Ee=K.range.compareInside(w.row,w.column);Ee==0?(K=K.split(w.row,w.column),K&&(K.shiftRow(H),K.addRemoveChars(G,0,k.column-w.column))):Ee==-1&&(K.addRemoveChars(I,0,k.column-w.column),K.shiftRow(H)),ie=j.indexOf(K)+1}for(ie;ie<j.length;ie++){var K=j[ie];K.start.row>=I&&K.shiftRow(H)}}else{H=Math.abs(g.start.column-g.end.column),l==="remove"&&(J=this.getFoldsInRange(g),this.removeFolds(J),H=-H);var K=this.getFoldLine(I);K&&K.addRemoveChars(I,w.column,H)}return y&&this.$wrapData.length!=this.doc.getLength()&&console.error("doc.getLength() and $wrapData.length have to be the same!"),this.$updating=!1,y?this.$updateWrapData(I,G):this.$updateRowLengthCache(I,G),J},L.prototype.$updateRowLengthCache=function(g,y){this.$rowLengthCache[g]=null,this.$rowLengthCache[y]=null},L.prototype.$updateWrapData=function(g,y){var l=this.doc.getAllLines(),w=this.getTabSize(),k=this.$wrapData,I=this.$wrapLimit,G,H,J=g;for(y=Math.min(y,l.length-1);J<=y;)H=this.getFoldLine(J,H),H?(G=[],H.walk((function(j,K,ie,ee){var oe;if(j!=null){oe=this.$getDisplayTokens(j,G.length),oe[0]=v;for(var fe=1;fe<oe.length;fe++)oe[fe]=p}else oe=this.$getDisplayTokens(l[K].substring(ee,ie),G.length);G=G.concat(oe)}).bind(this),H.end.row,l[H.end.row].length+1),k[H.start.row]=this.$computeWrapSplits(G,I,w),J=H.end.row+1):(G=this.$getDisplayTokens(l[J]),k[J]=this.$computeWrapSplits(G,I,w),J++)},L.prototype.$computeWrapSplits=function(g,y,l){if(g.length==0)return[];var w=[],k=g.length,I=0,G=0,H=this.$wrapAsCode,J=this.$indentedSoftWrap,j=y<=Math.max(2*l,8)||J===!1?0:Math.floor(y/2);function K(){var Ee=0;if(j===0)return Ee;if(J)for(var Ce=0;Ce<g.length;Ce++){var Se=g[Ce];if(Se==m)Ee+=1;else if(Se==E)Ee+=l;else{if(Se==C)continue;break}}return H&&J!==!1&&(Ee+=l),Math.min(Ee,j)}function ie(Ee){for(var Ce=Ee-I,Se=I;Se<Ee;Se++){var Be=g[Se];(Be===12||Be===2)&&(Ce-=1)}w.length||(ee=K(),w.indent=ee),G+=Ce,w.push(G),I=Ee}for(var ee=0;k-I>y-ee;){var oe=I+y-ee;if(g[oe-1]>=m&&g[oe]>=m){ie(oe);continue}if(g[oe]==v||g[oe]==p){for(oe;oe!=I-1&&g[oe]!=v;oe--);if(oe>I){ie(oe);continue}for(oe=I+y,oe;oe<g.length&&g[oe]==p;oe++);if(oe==g.length)break;ie(oe);continue}for(var fe=Math.max(oe-(y-(y>>2)),I-1);oe>fe&&g[oe]<v;)oe--;if(H){for(;oe>fe&&g[oe]<v;)oe--;for(;oe>fe&&g[oe]==u;)oe--}else for(;oe>fe&&g[oe]<m;)oe--;if(oe>fe){ie(++oe);continue}oe=I+y,g[oe]==$&&oe--,ie(oe-ee)}return w},L.prototype.$getDisplayTokens=function(g,y){var l=[],w;y=y||0;for(var k=0;k<g.length;k++){var I=g.charCodeAt(k);if(I==9){w=this.getScreenTabSize(l.length+y),l.push(E);for(var G=1;G<w;G++)l.push(C)}else I==32?l.push(m):I>39&&I<48||I>57&&I<64?l.push(u):I>=4352&&R(I)?l.push(h,$):l.push(h)}return l},L.prototype.$getStringScreenWidth=function(g,y,l){if(y==0)return[0,0];y==null&&(y=1/0),l=l||0;var w,k;for(k=0;k<g.length&&(w=g.charCodeAt(k),w==9?l+=this.getScreenTabSize(l):w>=4352&&R(w)?l+=2:l+=1,!(l>y));k++);return[l,k]},L.prototype.getRowLength=function(g){var y=1;return this.lineWidgets&&(y+=this.lineWidgets[g]&&this.lineWidgets[g].rowCount||0),!this.$useWrapMode||!this.$wrapData[g]?y:this.$wrapData[g].length+y},L.prototype.getRowLineCount=function(g){return!this.$useWrapMode||!this.$wrapData[g]?1:this.$wrapData[g].length+1},L.prototype.getRowWrapIndent=function(g){if(this.$useWrapMode){var y=this.screenToDocumentPosition(g,Number.MAX_VALUE),l=this.$wrapData[y.row];return l.length&&l[0]<y.column?l.indent:0}else return 0},L.prototype.getScreenLastRowColumn=function(g){var y=this.screenToDocumentPosition(g,Number.MAX_VALUE);return this.documentToScreenColumn(y.row,y.column)},L.prototype.getDocumentLastRowColumn=function(g,y){var l=this.documentToScreenRow(g,y);return this.getScreenLastRowColumn(l)},L.prototype.getDocumentLastRowColumnPosition=function(g,y){var l=this.documentToScreenRow(g,y);return this.screenToDocumentPosition(l,Number.MAX_VALUE/10)},L.prototype.getRowSplitData=function(g){if(this.$useWrapMode)return this.$wrapData[g]},L.prototype.getScreenTabSize=function(g){return this.$tabSize-(g%this.$tabSize|0)},L.prototype.screenToDocumentRow=function(g,y){return this.screenToDocumentPosition(g,y).row},L.prototype.screenToDocumentColumn=function(g,y){return this.screenToDocumentPosition(g,y).column},L.prototype.screenToDocumentPosition=function(g,y,l){if(g<0)return{row:0,column:0};var w,k=0,I=0,G,H=0,J=0,j=this.$screenRowCache,K=this.$getRowCacheIndex(j,g),ie=j.length;if(ie&&K>=0)var H=j[K],k=this.$docRowCache[K],ee=g>j[ie-1];else var ee=!ie;for(var oe=this.getLength()-1,fe=this.getNextFoldLine(k),Ee=fe?fe.start.row:1/0;H<=g&&(J=this.getRowLength(k),!(H+J>g||k>=oe));)H+=J,k++,k>Ee&&(k=fe.end.row+1,fe=this.getNextFoldLine(k,fe),Ee=fe?fe.start.row:1/0),ee&&(this.$docRowCache.push(k),this.$screenRowCache.push(H));if(fe&&fe.start.row<=k)w=this.getFoldDisplayLine(fe),k=fe.start.row;else{if(H+J<=g||k>oe)return{row:oe,column:this.getLine(oe).length};w=this.getLine(k),fe=null}var Ce=0,Se=Math.floor(g-H);if(this.$useWrapMode){var Be=this.$wrapData[k];Be&&(G=Be[Se],Se>0&&Be.length&&(Ce=Be.indent,I=Be[Se-1]||Be[Be.length-1],w=w.substring(I)))}return l!==void 0&&this.$bidiHandler.isBidiRow(H+Se,k,Se)&&(y=this.$bidiHandler.offsetToCol(l)),I+=this.$getStringScreenWidth(w,y-Ce)[1],this.$useWrapMode&&I>=G&&(I=G-1),fe?fe.idxToPosition(I):{row:k,column:I}},L.prototype.documentToScreenPosition=function(g,y){if(typeof y>"u")var l=this.$clipPositionToDocument(g.row,g.column);else l=this.$clipPositionToDocument(g,y);g=l.row,y=l.column;var w=0,k=null,I=null;I=this.getFoldAt(g,y,1),I&&(g=I.start.row,y=I.start.column);var G,H=0,J=this.$docRowCache,j=this.$getRowCacheIndex(J,g),K=J.length;if(K&&j>=0)var H=J[j],w=this.$screenRowCache[j],ie=g>J[K-1];else var ie=!K;for(var ee=this.getNextFoldLine(H),oe=ee?ee.start.row:1/0;H<g;){if(H>=oe){if(G=ee.end.row+1,G>g)break;ee=this.getNextFoldLine(G,ee),oe=ee?ee.start.row:1/0}else G=H+1;w+=this.getRowLength(H),H=G,ie&&(this.$docRowCache.push(H),this.$screenRowCache.push(w))}var fe="";ee&&H>=oe?(fe=this.getFoldDisplayLine(ee,g,y),k=ee.start.row):(fe=this.getLine(g).substring(0,y),k=g);var Ee=0;if(this.$useWrapMode){var Ce=this.$wrapData[k];if(Ce){for(var Se=0;fe.length>=Ce[Se];)w++,Se++;fe=fe.substring(Ce[Se-1]||0,fe.length),Ee=Se>0?Ce.indent:0}}return this.lineWidgets&&this.lineWidgets[H]&&this.lineWidgets[H].rowsAbove&&(w+=this.lineWidgets[H].rowsAbove),{row:w,column:Ee+this.$getStringScreenWidth(fe)[0]}},L.prototype.documentToScreenColumn=function(g,y){return this.documentToScreenPosition(g,y).column},L.prototype.documentToScreenRow=function(g,y){return this.documentToScreenPosition(g,y).row},L.prototype.getScreenLength=function(){var g=0,y=null;if(this.$useWrapMode)for(var k=this.$wrapData.length,I=0,w=0,y=this.$foldData[w++],G=y?y.start.row:1/0;I<k;){var H=this.$wrapData[I];g+=H?H.length+1:1,I++,I>G&&(I=y.end.row+1,y=this.$foldData[w++],G=y?y.start.row:1/0)}else{g=this.getLength();for(var l=this.$foldData,w=0;w<l.length;w++)y=l[w],g-=y.end.row-y.start.row}return this.lineWidgets&&(g+=this.$getWidgetScreenLength()),g},L.prototype.$setFontMetrics=function(g){this.$enableVarChar&&(this.$getStringScreenWidth=function(y,l,w){if(l===0)return[0,0];l||(l=1/0),w=w||0;var k,I;for(I=0;I<y.length&&(k=y.charAt(I),k==="	"?w+=this.getScreenTabSize(w):w+=g.getCharacterWidth(k),!(w>l));I++);return[w,I]})},L.prototype.getPrecedingCharacter=function(){var g=this.selection.getCursor();if(g.column===0)return g.row===0?"":this.doc.getNewLineCharacter();var y=this.getLine(g.row);return y[g.column-1]},L.prototype.destroy=function(){this.destroyed||(this.bgTokenizer.setDocument(null),this.bgTokenizer.cleanup(),this.destroyed=!0),this.$stopWorker(),this.removeAllListeners(),this.doc&&this.doc.off("change",this.$onChange),this.selection.detach()},L}();c.$uid=0,c.prototype.$modes=s.$modes,c.prototype.getValue=c.prototype.toString,c.prototype.$defaultUndoManager={undo:function(){},redo:function(){},hasUndo:function(){},hasRedo:function(){},reset:function(){},add:function(){},addSelection:function(){},startNewGroup:function(){},addSession:function(){}},c.prototype.$overwrite=!1,c.prototype.$mode=null,c.prototype.$modeId=null,c.prototype.$scrollTop=0,c.prototype.$scrollLeft=0,c.prototype.$wrapLimit=80,c.prototype.$useWrapMode=!1,c.prototype.$wrapLimitRange={min:null,max:null},c.prototype.lineWidgets=null,c.prototype.isFullWidth=R,M.implement(c.prototype,d);var h=1,$=2,v=3,p=4,u=9,m=10,E=11,C=12;function R(L){return L<4352?!1:L>=4352&&L<=4447||L>=4515&&L<=4519||L>=4602&&L<=4607||L>=9001&&L<=9002||L>=11904&&L<=11929||L>=11931&&L<=12019||L>=12032&&L<=12245||L>=12272&&L<=12283||L>=12288&&L<=12350||L>=12353&&L<=12438||L>=12441&&L<=12543||L>=12549&&L<=12589||L>=12593&&L<=12686||L>=12688&&L<=12730||L>=12736&&L<=12771||L>=12784&&L<=12830||L>=12832&&L<=12871||L>=12880&&L<=13054||L>=13056&&L<=19903||L>=19968&&L<=42124||L>=42128&&L<=42182||L>=43360&&L<=43388||L>=44032&&L<=55203||L>=55216&&L<=55238||L>=55243&&L<=55291||L>=63744&&L<=64255||L>=65040&&L<=65049||L>=65072&&L<=65106||L>=65108&&L<=65126||L>=65128&&L<=65131||L>=65281&&L<=65376||L>=65504&&L<=65510}f("./edit_session/folding").Folding.call(c.prototype),f("./edit_session/bracket_match").BracketMatch.call(c.prototype),s.defineOptions(c.prototype,"session",{wrap:{set:function(L){if(!L||L=="off"?L=!1:L=="free"?L=!0:L=="printMargin"?L=-1:typeof L=="string"&&(L=parseInt(L,10)||!1),this.$wrap!=L)if(this.$wrap=L,!L)this.setUseWrapMode(!1);else{var g=typeof L=="number"?L:null;this.setWrapLimitRange(g,g),this.setUseWrapMode(!0)}},get:function(){return this.getUseWrapMode()?this.$wrap==-1?"printMargin":this.getWrapLimitRange().min?this.$wrap:"free":"off"},handlesSet:!0},wrapMethod:{set:function(L){L=L=="auto"?this.$mode.type!="text":L!="text",L!=this.$wrapAsCode&&(this.$wrapAsCode=L,this.$useWrapMode&&(this.$useWrapMode=!1,this.setUseWrapMode(!0)))},initialValue:"auto"},indentedSoftWrap:{set:function(){this.$useWrapMode&&(this.$useWrapMode=!1,this.setUseWrapMode(!0))},initialValue:!0},firstLineNumber:{set:function(){this._signal("changeBreakpoint")},initialValue:1},useWorker:{set:function(L){this.$useWorker=L,this.$stopWorker(),L&&this.$startWorker()},initialValue:!0},useSoftTabs:{initialValue:!0},tabSize:{set:function(L){L=parseInt(L),L>0&&this.$tabSize!==L&&(this.$modified=!0,this.$rowLengthCache=[],this.$tabSize=L,this._signal("changeTabSize"))},initialValue:4,handlesSet:!0},navigateWithinSoftTabs:{initialValue:!1},foldStyle:{set:function(L){this.setFoldStyle(L)},handlesSet:!0},overwrite:{set:function(L){this._signal("changeOverwrite")},initialValue:!1},newLineMode:{set:function(L){this.doc.setNewLineMode(L)},get:function(){return this.doc.getNewLineMode()},handlesSet:!0},mode:{set:function(L){this.setMode(L)},get:function(){return this.$modeId},handlesSet:!0}}),B.EditSession=c}),ace.define("ace/search",["require","exports","module","ace/lib/lang","ace/lib/oop","ace/range"],function(f,B,z){var M=f("./lib/lang"),b=f("./lib/oop"),_=f("./range").Range,s=function(){function o(){this.$options={}}return o.prototype.set=function(n){return b.mixin(this.$options,n),this},o.prototype.getOptions=function(){return M.copyObject(this.$options)},o.prototype.setOptions=function(n){this.$options=n},o.prototype.find=function(n){var i=this.$options,t=this.$matchIterator(n,i);if(!t)return!1;var e=null;return t.forEach(function(r,a,c,h){return e=new _(r,a,c,h),a==h&&i.start&&i.start.start&&i.skipCurrent!=!1&&e.isEqual(i.start)?(e=null,!1):!0}),e},o.prototype.findAll=function(n){var i=this.$options;if(!i.needle)return[];this.$assembleRegExp(i);var t=i.range,e=t?n.getLines(t.start.row,t.end.row):n.doc.getAllLines(),r=[],a=i.re;if(i.$isMultiLine){var c=a.length,h=e.length-c,$;e:for(var v=a.offset||0;v<=h;v++){for(var p=0;p<c;p++)if(e[v+p].search(a[p])==-1)continue e;var u=e[v],m=e[v+c-1],E=u.length-u.match(a[0])[0].length,C=m.match(a[c-1])[0].length;$&&$.end.row===v&&$.end.column>E||(r.push($=new _(v,E,v+c-1,C)),c>2&&(v=v+c-2))}}else for(var R=0;R<e.length;R++)for(var L=M.getMatchOffsets(e[R],a),p=0;p<L.length;p++){var g=L[p];r.push(new _(R,g.offset,R,g.offset+g.length))}if(t){for(var y=t.start.column,l=t.end.column,R=0,p=r.length-1;R<p&&r[R].start.column<y&&r[R].start.row==0;)R++;for(var w=t.end.row-t.start.row;R<p&&r[p].end.column>l&&r[p].end.row==w;)p--;for(r=r.slice(R,p+1),R=0,p=r.length;R<p;R++)r[R].start.row+=t.start.row,r[R].end.row+=t.start.row}return r},o.prototype.replace=function(n,i){var t=this.$options,e=this.$assembleRegExp(t);if(t.$isMultiLine)return i;if(e){var r=e.exec(n);if(!r||r[0].length!=n.length)return null;if(t.regExp||(i=i.replace(/\$/g,"$$$$")),i=n.replace(e,i),t.preserveCase){i=i.split("");for(var a=Math.min(n.length,n.length);a--;){var c=n[a];c&&c.toLowerCase()!=c?i[a]=i[a].toUpperCase():i[a]=i[a].toLowerCase()}i=i.join("")}return i}},o.prototype.$assembleRegExp=function(n,i){if(n.needle instanceof RegExp)return n.re=n.needle;var t=n.needle;if(!n.needle)return n.re=!1;n.regExp||(t=M.escapeRegExp(t));var e=n.caseSensitive?"gm":"gmi";try{new RegExp(t,"u"),n.$supportsUnicodeFlag=!0,e+="u"}catch{n.$supportsUnicodeFlag=!1}if(n.wholeWord&&(t=d(t,n)),n.$isMultiLine=!i&&/[\n\r]/.test(t),n.$isMultiLine)return n.re=this.$assembleMultilineRegExp(t,e);try{var r=new RegExp(t,e)}catch{r=!1}return n.re=r},o.prototype.$assembleMultilineRegExp=function(n,i){for(var t=n.replace(/\r\n|\r|\n/g,`$
^`).split(`
`),e=[],r=0;r<t.length;r++)try{e.push(new RegExp(t[r],i))}catch{return!1}return e},o.prototype.$matchIterator=function(n,i){var t=this.$assembleRegExp(i);if(!t)return!1;var e=i.backwards==!0,r=i.skipCurrent!=!1,a=t.unicode,c=i.range,h=i.start;h||(h=c?c[e?"end":"start"]:n.selection.getRange()),h.start&&(h=h[r!=e?"end":"start"]);var $=c?c.start.row:0,v=c?c.end.row:n.getLength()-1;if(e)var p=function(E){var C=h.row;if(!m(C,h.column,E)){for(C--;C>=$;C--)if(m(C,Number.MAX_VALUE,E))return;if(i.wrap!=!1){for(C=v,$=h.row;C>=$;C--)if(m(C,Number.MAX_VALUE,E))return}}};else var p=function(C){var R=h.row;if(!m(R,h.column,C)){for(R=R+1;R<=v;R++)if(m(R,0,C))return;if(i.wrap!=!1){for(R=$,v=h.row;R<=v;R++)if(m(R,0,C))return}}};if(i.$isMultiLine)var u=t.length,m=function(E,C,R){var L=e?E-u+1:E;if(!(L<0||L+u>n.getLength())){var g=n.getLine(L),y=g.search(t[0]);if(!(!e&&y<C||y===-1)){for(var l=1;l<u;l++)if(g=n.getLine(L+l),g.search(t[l])==-1)return;var w=g.match(t[u-1])[0].length;if(!(e&&w>C)&&R(L,y,L+u-1,w))return!0}}};else if(e)var m=function(C,R,L){var g=n.getLine(C),y=[],l,w=0;for(t.lastIndex=0;l=t.exec(g);){var k=l[0].length;if(w=l.index,!k){if(w>=g.length)break;t.lastIndex=w+=M.skipEmptyMatch(g,w,a)}if(l.index+k>R)break;y.push(l.index,k)}for(var I=y.length-1;I>=0;I-=2){var G=y[I-1],k=y[I];if(L(C,G,C,G+k))return!0}};else var m=function(C,R,L){var g=n.getLine(C),y,l;for(t.lastIndex=R;l=t.exec(g);){var w=l[0].length;if(y=l.index,L(C,y,C,y+w))return!0;if(!w&&(t.lastIndex=y+=M.skipEmptyMatch(g,y,a),y>=g.length))return!1}};return{forEach:p}},o}();function d(o,n){var i=M.supportsLookbehind();function t(c,h){h===void 0&&(h=!0);var $=i&&n.$supportsUnicodeFlag?new RegExp("[\\p{L}\\p{N}_]","u"):new RegExp("\\w");return $.test(c)||n.regExp?i&&n.$supportsUnicodeFlag?h?"(?<=^|[^\\p{L}\\p{N}_])":"(?=[^\\p{L}\\p{N}_]|$)":"\\b":""}var e=Array.from(o),r=e[0],a=e[e.length-1];return t(r)+o+t(a,!1)}B.Search=s}),ace.define("ace/keyboard/hash_handler",["require","exports","module","ace/lib/keys","ace/lib/useragent"],function(f,B,z){var M=this&&this.__extends||function(){var i=function(t,e){return i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,a){r.__proto__=a}||function(r,a){for(var c in a)Object.prototype.hasOwnProperty.call(a,c)&&(r[c]=a[c])},i(t,e)};return function(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");i(t,e);function r(){this.constructor=t}t.prototype=e===null?Object.create(e):(r.prototype=e.prototype,new r)}}(),b=f("../lib/keys"),_=f("../lib/useragent"),s=b.KEY_MODS,d=function(){function i(t,e){this.$init(t,e,!1)}return i.prototype.$init=function(t,e,r){this.platform=e||(_.isMac?"mac":"win"),this.commands={},this.commandKeyBinding={},this.addCommands(t),this.$singleCommand=r},i.prototype.addCommand=function(t){this.commands[t.name]&&this.removeCommand(t),this.commands[t.name]=t,t.bindKey&&this._buildKeyHash(t)},i.prototype.removeCommand=function(t,e){var r=t&&(typeof t=="string"?t:t.name);t=this.commands[r],e||delete this.commands[r];var a=this.commandKeyBinding;for(var c in a){var h=a[c];if(h==t)delete a[c];else if(Array.isArray(h)){var $=h.indexOf(t);$!=-1&&(h.splice($,1),h.length==1&&(a[c]=h[0]))}}},i.prototype.bindKey=function(t,e,r){if(typeof t=="object"&&t&&(r==null&&(r=t.position),t=t[this.platform]),!!t){if(typeof e=="function")return this.addCommand({exec:e,bindKey:t,name:e.name||t});t.split("|").forEach(function(a){var c="";if(a.indexOf(" ")!=-1){var h=a.split(/\s+/);a=h.pop(),h.forEach(function(p){var u=this.parseKeys(p),m=s[u.hashId]+u.key;c+=(c?" ":"")+m,this._addCommandToBinding(c,"chainKeys")},this),c+=" "}var $=this.parseKeys(a),v=s[$.hashId]+$.key;this._addCommandToBinding(c+v,e,r)},this)}},i.prototype._addCommandToBinding=function(t,e,r){var a=this.commandKeyBinding,c;if(!e)delete a[t];else if(!a[t]||this.$singleCommand)a[t]=e;else{Array.isArray(a[t])?(c=a[t].indexOf(e))!=-1&&a[t].splice(c,1):a[t]=[a[t]],typeof r!="number"&&(r=o(e));var h=a[t];for(c=0;c<h.length;c++){var $=h[c],v=o($);if(v>r)break}h.splice(c,0,e)}},i.prototype.addCommands=function(t){t&&Object.keys(t).forEach(function(e){var r=t[e];if(r){if(typeof r=="string")return this.bindKey(r,e);typeof r=="function"&&(r={exec:r}),typeof r=="object"&&(r.name||(r.name=e),this.addCommand(r))}},this)},i.prototype.removeCommands=function(t){Object.keys(t).forEach(function(e){this.removeCommand(t[e])},this)},i.prototype.bindKeys=function(t){Object.keys(t).forEach(function(e){this.bindKey(e,t[e])},this)},i.prototype._buildKeyHash=function(t){this.bindKey(t.bindKey,t)},i.prototype.parseKeys=function(t){var e=t.toLowerCase().split(/[\-\+]([\-\+])?/).filter(function(v){return v}),r=e.pop(),a=b[r];if(b.FUNCTION_KEYS[a])r=b.FUNCTION_KEYS[a].toLowerCase();else if(e.length){if(e.length==1&&e[0]=="shift")return{key:r.toUpperCase(),hashId:-1}}else return{key:r,hashId:-1};for(var c=0,h=e.length;h--;){var $=b.KEY_MODS[e[h]];if($==null)return typeof console<"u"&&console.error("invalid modifier "+e[h]+" in "+t),!1;c|=$}return{key:r,hashId:c}},i.prototype.findKeyCommand=function(t,e){var r=s[t]+e;return this.commandKeyBinding[r]},i.prototype.handleKeyboard=function(t,e,r,a){if(!(a<0)){var c=s[e]+r,h=this.commandKeyBinding[c];return t.$keyChain&&(t.$keyChain+=" "+c,h=this.commandKeyBinding[t.$keyChain]||h),h&&(h=="chainKeys"||h[h.length-1]=="chainKeys")?(t.$keyChain=t.$keyChain||c,{command:"null"}):(t.$keyChain&&((!e||e==4)&&r.length==1?t.$keyChain=t.$keyChain.slice(0,-c.length-1):(e==-1||a>0)&&(t.$keyChain="")),{command:h})}},i.prototype.getStatusText=function(t,e){return e.$keyChain||""},i}();function o(i){return typeof i=="object"&&i.bindKey&&i.bindKey.position||(i.isDefault?-100:0)}var n=function(i){M(t,i);function t(e,r){var a=i.call(this,e,r)||this;return a.$singleCommand=!0,a}return t}(d);n.call=function(i,t,e){d.prototype.$init.call(i,t,e,!0)},d.call=function(i,t,e){d.prototype.$init.call(i,t,e,!1)},B.HashHandler=n,B.MultiHashHandler=d}),ace.define("ace/commands/command_manager",["require","exports","module","ace/lib/oop","ace/keyboard/hash_handler","ace/lib/event_emitter"],function(f,B,z){var M=this&&this.__extends||function(){var o=function(n,i){return o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&(t[r]=e[r])},o(n,i)};return function(n,i){if(typeof i!="function"&&i!==null)throw new TypeError("Class extends value "+String(i)+" is not a constructor or null");o(n,i);function t(){this.constructor=n}n.prototype=i===null?Object.create(i):(t.prototype=i.prototype,new t)}}(),b=f("../lib/oop"),_=f("../keyboard/hash_handler").MultiHashHandler,s=f("../lib/event_emitter").EventEmitter,d=function(o){M(n,o);function n(i,t){var e=o.call(this,t,i)||this;return e.byName=e.commands,e.setDefaultHandler("exec",function(r){return r.args?r.command.exec(r.editor,r.args,r.event,!1):r.command.exec(r.editor,{},r.event,!0)}),e}return n.prototype.exec=function(i,t,e){if(Array.isArray(i)){for(var r=i.length;r--;)if(this.exec(i[r],t,e))return!0;return!1}if(typeof i=="string"&&(i=this.commands[i]),!this.canExecute(i,t))return!1;var a={editor:t,command:i,args:e};return a.returnValue=this._emit("exec",a),this._signal("afterExec",a),a.returnValue!==!1},n.prototype.canExecute=function(i,t){return typeof i=="string"&&(i=this.commands[i]),!(!i||t&&t.$readOnly&&!i.readOnly||this.$checkCommandState!=!1&&i.isAvailable&&!i.isAvailable(t))},n.prototype.toggleRecording=function(i){if(!this.$inReplay)return i&&i._emit("changeStatus"),this.recording?(this.macro.pop(),this.off("exec",this.$addCommandToMacro),this.macro.length||(this.macro=this.oldMacro),this.recording=!1):(this.$addCommandToMacro||(this.$addCommandToMacro=(function(t){this.macro.push([t.command,t.args])}).bind(this)),this.oldMacro=this.macro,this.macro=[],this.on("exec",this.$addCommandToMacro),this.recording=!0)},n.prototype.replay=function(i){if(!(this.$inReplay||!this.macro)){if(this.recording)return this.toggleRecording(i);try{this.$inReplay=!0,this.macro.forEach(function(t){typeof t=="string"?this.exec(t,i):this.exec(t[0],i,t[1])},this)}finally{this.$inReplay=!1}}},n.prototype.trimMacro=function(i){return i.map(function(t){return typeof t[0]!="string"&&(t[0]=t[0].name),t[1]||(t=t[0]),t})},n}(_);b.implement(d.prototype,s),B.CommandManager=d}),ace.define("ace/commands/default_commands",["require","exports","module","ace/lib/lang","ace/config","ace/range"],function(f,B,z){var M=f("../lib/lang"),b=f("../config"),_=f("../range").Range;function s(o,n){return{win:o,mac:n}}B.commands=[{name:"showSettingsMenu",description:"Show settings menu",bindKey:s("Ctrl-,","Command-,"),exec:function(o){b.loadModule("ace/ext/settings_menu",function(n){n.init(o),o.showSettingsMenu()})},readOnly:!0},{name:"goToNextError",description:"Go to next error",bindKey:s("Alt-E","F4"),exec:function(o){b.loadModule("ace/ext/error_marker",function(n){n.showErrorMarker(o,1)})},scrollIntoView:"animate",readOnly:!0},{name:"goToPreviousError",description:"Go to previous error",bindKey:s("Alt-Shift-E","Shift-F4"),exec:function(o){b.loadModule("ace/ext/error_marker",function(n){n.showErrorMarker(o,-1)})},scrollIntoView:"animate",readOnly:!0},{name:"selectall",description:"Select all",bindKey:s("Ctrl-A","Command-A"),exec:function(o){o.selectAll()},readOnly:!0},{name:"centerselection",description:"Center selection",bindKey:s(null,"Ctrl-L"),exec:function(o){o.centerSelection()},readOnly:!0},{name:"gotoline",description:"Go to line...",bindKey:s("Ctrl-L","Command-L"),exec:function(o,n){typeof n=="number"&&!isNaN(n)&&o.gotoLine(n),o.prompt({$type:"gotoLine"})},readOnly:!0},{name:"fold",bindKey:s("Alt-L|Ctrl-F1","Command-Alt-L|Command-F1"),exec:function(o){o.session.toggleFold(!1)},multiSelectAction:"forEach",scrollIntoView:"center",readOnly:!0},{name:"unfold",bindKey:s("Alt-Shift-L|Ctrl-Shift-F1","Command-Alt-Shift-L|Command-Shift-F1"),exec:function(o){o.session.toggleFold(!0)},multiSelectAction:"forEach",scrollIntoView:"center",readOnly:!0},{name:"toggleFoldWidget",description:"Toggle fold widget",bindKey:s("F2","F2"),exec:function(o){o.session.toggleFoldWidget()},multiSelectAction:"forEach",scrollIntoView:"center",readOnly:!0},{name:"toggleParentFoldWidget",description:"Toggle parent fold widget",bindKey:s("Alt-F2","Alt-F2"),exec:function(o){o.session.toggleFoldWidget(!0)},multiSelectAction:"forEach",scrollIntoView:"center",readOnly:!0},{name:"foldall",description:"Fold all",bindKey:s(null,"Ctrl-Command-Option-0"),exec:function(o){o.session.foldAll()},scrollIntoView:"center",readOnly:!0},{name:"foldAllComments",description:"Fold all comments",bindKey:s(null,"Ctrl-Command-Option-0"),exec:function(o){o.session.foldAllComments()},scrollIntoView:"center",readOnly:!0},{name:"foldOther",description:"Fold other",bindKey:s("Alt-0","Command-Option-0"),exec:function(o){o.session.foldAll(),o.session.unfold(o.selection.getAllRanges())},scrollIntoView:"center",readOnly:!0},{name:"unfoldall",description:"Unfold all",bindKey:s("Alt-Shift-0","Command-Option-Shift-0"),exec:function(o){o.session.unfold()},scrollIntoView:"center",readOnly:!0},{name:"findnext",description:"Find next",bindKey:s("Ctrl-K","Command-G"),exec:function(o){o.findNext()},multiSelectAction:"forEach",scrollIntoView:"center",readOnly:!0},{name:"findprevious",description:"Find previous",bindKey:s("Ctrl-Shift-K","Command-Shift-G"),exec:function(o){o.findPrevious()},multiSelectAction:"forEach",scrollIntoView:"center",readOnly:!0},{name:"selectOrFindNext",description:"Select or find next",bindKey:s("Alt-K","Ctrl-G"),exec:function(o){o.selection.isEmpty()?o.selection.selectWord():o.findNext()},readOnly:!0},{name:"selectOrFindPrevious",description:"Select or find previous",bindKey:s("Alt-Shift-K","Ctrl-Shift-G"),exec:function(o){o.selection.isEmpty()?o.selection.selectWord():o.findPrevious()},readOnly:!0},{name:"find",description:"Find",bindKey:s("Ctrl-F","Command-F"),exec:function(o){b.loadModule("ace/ext/searchbox",function(n){n.Search(o)})},readOnly:!0},{name:"overwrite",description:"Overwrite",bindKey:"Insert",exec:function(o){o.toggleOverwrite()},readOnly:!0},{name:"selecttostart",description:"Select to start",bindKey:s("Ctrl-Shift-Home","Command-Shift-Home|Command-Shift-Up"),exec:function(o){o.getSelection().selectFileStart()},multiSelectAction:"forEach",readOnly:!0,scrollIntoView:"animate",aceCommandGroup:"fileJump"},{name:"gotostart",description:"Go to start",bindKey:s("Ctrl-Home","Command-Home|Command-Up"),exec:function(o){o.navigateFileStart()},multiSelectAction:"forEach",readOnly:!0,scrollIntoView:"animate",aceCommandGroup:"fileJump"},{name:"selectup",description:"Select up",bindKey:s("Shift-Up","Shift-Up|Ctrl-Shift-P"),exec:function(o){o.getSelection().selectUp()},multiSelectAction:"forEach",scrollIntoView:"cursor",readOnly:!0},{name:"golineup",description:"Go line up",bindKey:s("Up","Up|Ctrl-P"),exec:function(o,n){o.navigateUp(n.times)},multiSelectAction:"forEach",scrollIntoView:"cursor",readOnly:!0},{name:"selecttoend",description:"Select to end",bindKey:s("Ctrl-Shift-End","Command-Shift-End|Command-Shift-Down"),exec:function(o){o.getSelection().selectFileEnd()},multiSelectAction:"forEach",readOnly:!0,scrollIntoView:"animate",aceCommandGroup:"fileJump"},{name:"gotoend",description:"Go to end",bindKey:s("Ctrl-End","Command-End|Command-Down"),exec:function(o){o.navigateFileEnd()},multiSelectAction:"forEach",readOnly:!0,scrollIntoView:"animate",aceCommandGroup:"fileJump"},{name:"selectdown",description:"Select down",bindKey:s("Shift-Down","Shift-Down|Ctrl-Shift-N"),exec:function(o){o.getSelection().selectDown()},multiSelectAction:"forEach",scrollIntoView:"cursor",readOnly:!0},{name:"golinedown",description:"Go line down",bindKey:s("Down","Down|Ctrl-N"),exec:function(o,n){o.navigateDown(n.times)},multiSelectAction:"forEach",scrollIntoView:"cursor",readOnly:!0},{name:"selectwordleft",description:"Select word left",bindKey:s("Ctrl-Shift-Left","Option-Shift-Left"),exec:function(o){o.getSelection().selectWordLeft()},multiSelectAction:"forEach",scrollIntoView:"cursor",readOnly:!0},{name:"gotowordleft",description:"Go to word left",bindKey:s("Ctrl-Left","Option-Left"),exec:function(o){o.navigateWordLeft()},multiSelectAction:"forEach",scrollIntoView:"cursor",readOnly:!0},{name:"selecttolinestart",description:"Select to line start",bindKey:s("Alt-Shift-Left","Command-Shift-Left|Ctrl-Shift-A"),exec:function(o){o.getSelection().selectLineStart()},multiSelectAction:"forEach",scrollIntoView:"cursor",readOnly:!0},{name:"gotolinestart",description:"Go to line start",bindKey:s("Alt-Left|Home","Command-Left|Home|Ctrl-A"),exec:function(o){o.navigateLineStart()},multiSelectAction:"forEach",scrollIntoView:"cursor",readOnly:!0},{name:"selectleft",description:"Select left",bindKey:s("Shift-Left","Shift-Left|Ctrl-Shift-B"),exec:function(o){o.getSelection().selectLeft()},multiSelectAction:"forEach",scrollIntoView:"cursor",readOnly:!0},{name:"gotoleft",description:"Go to left",bindKey:s("Left","Left|Ctrl-B"),exec:function(o,n){o.navigateLeft(n.times)},multiSelectAction:"forEach",scrollIntoView:"cursor",readOnly:!0},{name:"selectwordright",description:"Select word right",bindKey:s("Ctrl-Shift-Right","Option-Shift-Right"),exec:function(o){o.getSelection().selectWordRight()},multiSelectAction:"forEach",scrollIntoView:"cursor",readOnly:!0},{name:"gotowordright",description:"Go to word right",bindKey:s("Ctrl-Right","Option-Right"),exec:function(o){o.navigateWordRight()},multiSelectAction:"forEach",scrollIntoView:"cursor",readOnly:!0},{name:"selecttolineend",description:"Select to line end",bindKey:s("Alt-Shift-Right","Command-Shift-Right|Shift-End|Ctrl-Shift-E"),exec:function(o){o.getSelection().selectLineEnd()},multiSelectAction:"forEach",scrollIntoView:"cursor",readOnly:!0},{name:"gotolineend",description:"Go to line end",bindKey:s("Alt-Right|End","Command-Right|End|Ctrl-E"),exec:function(o){o.navigateLineEnd()},multiSelectAction:"forEach",scrollIntoView:"cursor",readOnly:!0},{name:"selectright",description:"Select right",bindKey:s("Shift-Right","Shift-Right"),exec:function(o){o.getSelection().selectRight()},multiSelectAction:"forEach",scrollIntoView:"cursor",readOnly:!0},{name:"gotoright",description:"Go to right",bindKey:s("Right","Right|Ctrl-F"),exec:function(o,n){o.navigateRight(n.times)},multiSelectAction:"forEach",scrollIntoView:"cursor",readOnly:!0},{name:"selectpagedown",description:"Select page down",bindKey:"Shift-PageDown",exec:function(o){o.selectPageDown()},readOnly:!0},{name:"pagedown",description:"Page down",bindKey:s(null,"Option-PageDown"),exec:function(o){o.scrollPageDown()},readOnly:!0},{name:"gotopagedown",description:"Go to page down",bindKey:s("PageDown","PageDown|Ctrl-V"),exec:function(o){o.gotoPageDown()},readOnly:!0},{name:"selectpageup",description:"Select page up",bindKey:"Shift-PageUp",exec:function(o){o.selectPageUp()},readOnly:!0},{name:"pageup",description:"Page up",bindKey:s(null,"Option-PageUp"),exec:function(o){o.scrollPageUp()},readOnly:!0},{name:"gotopageup",description:"Go to page up",bindKey:"PageUp",exec:function(o){o.gotoPageUp()},readOnly:!0},{name:"scrollup",description:"Scroll up",bindKey:s("Ctrl-Up",null),exec:function(o){o.renderer.scrollBy(0,-2*o.renderer.layerConfig.lineHeight)},readOnly:!0},{name:"scrolldown",description:"Scroll down",bindKey:s("Ctrl-Down",null),exec:function(o){o.renderer.scrollBy(0,2*o.renderer.layerConfig.lineHeight)},readOnly:!0},{name:"selectlinestart",description:"Select line start",bindKey:"Shift-Home",exec:function(o){o.getSelection().selectLineStart()},multiSelectAction:"forEach",scrollIntoView:"cursor",readOnly:!0},{name:"selectlineend",description:"Select line end",bindKey:"Shift-End",exec:function(o){o.getSelection().selectLineEnd()},multiSelectAction:"forEach",scrollIntoView:"cursor",readOnly:!0},{name:"togglerecording",description:"Toggle recording",bindKey:s("Ctrl-Alt-E","Command-Option-E"),exec:function(o){o.commands.toggleRecording(o)},readOnly:!0},{name:"replaymacro",description:"Replay macro",bindKey:s("Ctrl-Shift-E","Command-Shift-E"),exec:function(o){o.commands.replay(o)},readOnly:!0},{name:"jumptomatching",description:"Jump to matching",bindKey:s("Ctrl-\\|Ctrl-P","Command-\\"),exec:function(o){o.jumpToMatching()},multiSelectAction:"forEach",scrollIntoView:"animate",readOnly:!0},{name:"selecttomatching",description:"Select to matching",bindKey:s("Ctrl-Shift-\\|Ctrl-Shift-P","Command-Shift-\\"),exec:function(o){o.jumpToMatching(!0)},multiSelectAction:"forEach",scrollIntoView:"animate",readOnly:!0},{name:"expandToMatching",description:"Expand to matching",bindKey:s("Ctrl-Shift-M","Ctrl-Shift-M"),exec:function(o){o.jumpToMatching(!0,!0)},multiSelectAction:"forEach",scrollIntoView:"animate",readOnly:!0},{name:"passKeysToBrowser",description:"Pass keys to browser",bindKey:s(null,null),exec:function(){},passEvent:!0,readOnly:!0},{name:"copy",description:"Copy",exec:function(o){},readOnly:!0},{name:"cut",description:"Cut",exec:function(o){var n=o.$copyWithEmptySelection&&o.selection.isEmpty(),i=n?o.selection.getLineRange():o.selection.getRange();o._emit("cut",i),i.isEmpty()||o.session.remove(i),o.clearSelection()},scrollIntoView:"cursor",multiSelectAction:"forEach"},{name:"paste",description:"Paste",exec:function(o,n){o.$handlePaste(n)},scrollIntoView:"cursor"},{name:"removeline",description:"Remove line",bindKey:s("Ctrl-D","Command-D"),exec:function(o){o.removeLines()},scrollIntoView:"cursor",multiSelectAction:"forEachLine"},{name:"duplicateSelection",description:"Duplicate selection",bindKey:s("Ctrl-Shift-D","Command-Shift-D"),exec:function(o){o.duplicateSelection()},scrollIntoView:"cursor",multiSelectAction:"forEach"},{name:"sortlines",description:"Sort lines",bindKey:s("Ctrl-Alt-S","Command-Alt-S"),exec:function(o){o.sortLines()},scrollIntoView:"selection",multiSelectAction:"forEachLine"},{name:"togglecomment",description:"Toggle comment",bindKey:s("Ctrl-/","Command-/"),exec:function(o){o.toggleCommentLines()},multiSelectAction:"forEachLine",scrollIntoView:"selectionPart"},{name:"toggleBlockComment",description:"Toggle block comment",bindKey:s("Ctrl-Shift-/","Command-Shift-/"),exec:function(o){o.toggleBlockComment()},multiSelectAction:"forEach",scrollIntoView:"selectionPart"},{name:"modifyNumberUp",description:"Modify number up",bindKey:s("Ctrl-Shift-Up","Alt-Shift-Up"),exec:function(o){o.modifyNumber(1)},scrollIntoView:"cursor",multiSelectAction:"forEach"},{name:"modifyNumberDown",description:"Modify number down",bindKey:s("Ctrl-Shift-Down","Alt-Shift-Down"),exec:function(o){o.modifyNumber(-1)},scrollIntoView:"cursor",multiSelectAction:"forEach"},{name:"replace",description:"Replace",bindKey:s("Ctrl-H","Command-Option-F"),exec:function(o){b.loadModule("ace/ext/searchbox",function(n){n.Search(o,!0)})}},{name:"undo",description:"Undo",bindKey:s("Ctrl-Z","Command-Z"),exec:function(o){o.undo()}},{name:"redo",description:"Redo",bindKey:s("Ctrl-Shift-Z|Ctrl-Y","Command-Shift-Z|Command-Y"),exec:function(o){o.redo()}},{name:"copylinesup",description:"Copy lines up",bindKey:s("Alt-Shift-Up","Command-Option-Up"),exec:function(o){o.copyLinesUp()},scrollIntoView:"cursor"},{name:"movelinesup",description:"Move lines up",bindKey:s("Alt-Up","Option-Up"),exec:function(o){o.moveLinesUp()},scrollIntoView:"cursor"},{name:"copylinesdown",description:"Copy lines down",bindKey:s("Alt-Shift-Down","Command-Option-Down"),exec:function(o){o.copyLinesDown()},scrollIntoView:"cursor"},{name:"movelinesdown",description:"Move lines down",bindKey:s("Alt-Down","Option-Down"),exec:function(o){o.moveLinesDown()},scrollIntoView:"cursor"},{name:"del",description:"Delete",bindKey:s("Delete","Delete|Ctrl-D|Shift-Delete"),exec:function(o){o.remove("right")},multiSelectAction:"forEach",scrollIntoView:"cursor"},{name:"backspace",description:"Backspace",bindKey:s("Shift-Backspace|Backspace","Ctrl-Backspace|Shift-Backspace|Backspace|Ctrl-H"),exec:function(o){o.remove("left")},multiSelectAction:"forEach",scrollIntoView:"cursor"},{name:"cut_or_delete",description:"Cut or delete",bindKey:s("Shift-Delete",null),exec:function(o){if(o.selection.isEmpty())o.remove("left");else return!1},multiSelectAction:"forEach",scrollIntoView:"cursor"},{name:"removetolinestart",description:"Remove to line start",bindKey:s("Alt-Backspace","Command-Backspace"),exec:function(o){o.removeToLineStart()},multiSelectAction:"forEach",scrollIntoView:"cursor"},{name:"removetolineend",description:"Remove to line end",bindKey:s("Alt-Delete","Ctrl-K|Command-Delete"),exec:function(o){o.removeToLineEnd()},multiSelectAction:"forEach",scrollIntoView:"cursor"},{name:"removetolinestarthard",description:"Remove to line start hard",bindKey:s("Ctrl-Shift-Backspace",null),exec:function(o){var n=o.selection.getRange();n.start.column=0,o.session.remove(n)},multiSelectAction:"forEach",scrollIntoView:"cursor"},{name:"removetolineendhard",description:"Remove to line end hard",bindKey:s("Ctrl-Shift-Delete",null),exec:function(o){var n=o.selection.getRange();n.end.column=Number.MAX_VALUE,o.session.remove(n)},multiSelectAction:"forEach",scrollIntoView:"cursor"},{name:"removewordleft",description:"Remove word left",bindKey:s("Ctrl-Backspace","Alt-Backspace|Ctrl-Alt-Backspace"),exec:function(o){o.removeWordLeft()},multiSelectAction:"forEach",scrollIntoView:"cursor"},{name:"removewordright",description:"Remove word right",bindKey:s("Ctrl-Delete","Alt-Delete"),exec:function(o){o.removeWordRight()},multiSelectAction:"forEach",scrollIntoView:"cursor"},{name:"outdent",description:"Outdent",bindKey:s("Shift-Tab","Shift-Tab"),exec:function(o){o.blockOutdent()},multiSelectAction:"forEach",scrollIntoView:"selectionPart"},{name:"indent",description:"Indent",bindKey:s("Tab","Tab"),exec:function(o){o.indent()},multiSelectAction:"forEach",scrollIntoView:"selectionPart"},{name:"blockoutdent",description:"Block outdent",bindKey:s("Ctrl-[","Ctrl-["),exec:function(o){o.blockOutdent()},multiSelectAction:"forEachLine",scrollIntoView:"selectionPart"},{name:"blockindent",description:"Block indent",bindKey:s("Ctrl-]","Ctrl-]"),exec:function(o){o.blockIndent()},multiSelectAction:"forEachLine",scrollIntoView:"selectionPart"},{name:"insertstring",description:"Insert string",exec:function(o,n){o.insert(n)},multiSelectAction:"forEach",scrollIntoView:"cursor"},{name:"inserttext",description:"Insert text",exec:function(o,n){o.insert(M.stringRepeat(n.text||"",n.times||1))},multiSelectAction:"forEach",scrollIntoView:"cursor"},{name:"splitline",description:"Split line",bindKey:s(null,"Ctrl-O"),exec:function(o){o.splitLine()},multiSelectAction:"forEach",scrollIntoView:"cursor"},{name:"transposeletters",description:"Transpose letters",bindKey:s("Alt-Shift-X","Ctrl-T"),exec:function(o){o.transposeLetters()},multiSelectAction:function(o){o.transposeSelections(1)},scrollIntoView:"cursor"},{name:"touppercase",description:"To uppercase",bindKey:s("Ctrl-U","Ctrl-U"),exec:function(o){o.toUpperCase()},multiSelectAction:"forEach",scrollIntoView:"cursor"},{name:"tolowercase",description:"To lowercase",bindKey:s("Ctrl-Shift-U","Ctrl-Shift-U"),exec:function(o){o.toLowerCase()},multiSelectAction:"forEach",scrollIntoView:"cursor"},{name:"autoindent",description:"Auto Indent",bindKey:s(null,null),exec:function(o){o.autoIndent()},scrollIntoView:"animate"},{name:"expandtoline",description:"Expand to line",bindKey:s("Ctrl-Shift-L","Command-Shift-L"),exec:function(o){var n=o.selection.getRange();n.start.column=n.end.column=0,n.end.row++,o.selection.setRange(n,!1)},multiSelectAction:"forEach",scrollIntoView:"cursor",readOnly:!0},{name:"openlink",bindKey:s("Ctrl+F3","F3"),exec:function(o){o.openLink()}},{name:"joinlines",description:"Join lines",bindKey:s(null,null),exec:function(o){for(var n=o.selection.isBackwards(),i=n?o.selection.getSelectionLead():o.selection.getSelectionAnchor(),t=n?o.selection.getSelectionAnchor():o.selection.getSelectionLead(),e=o.session.doc.getLine(i.row).length,r=o.session.doc.getTextRange(o.selection.getRange()),a=r.replace(/\n\s*/," ").length,c=o.session.doc.getLine(i.row),h=i.row+1;h<=t.row+1;h++){var $=M.stringTrimLeft(M.stringTrimRight(o.session.doc.getLine(h)));$.length!==0&&($=" "+$),c+=$}t.row+1<o.session.doc.getLength()-1&&(c+=o.session.doc.getNewLineCharacter()),o.clearSelection(),o.session.doc.replace(new _(i.row,0,t.row+2,0),c),a>0?(o.selection.moveCursorTo(i.row,i.column),o.selection.selectTo(i.row,i.column+a)):(e=o.session.doc.getLine(i.row).length>e?e+1:e,o.selection.moveCursorTo(i.row,e))},multiSelectAction:"forEach",readOnly:!0},{name:"invertSelection",description:"Invert selection",bindKey:s(null,null),exec:function(o){var n=o.session.doc.getLength()-1,i=o.session.doc.getLine(n).length,t=o.selection.rangeList.ranges,e=[];t.length<1&&(t=[o.selection.getRange()]);for(var r=0;r<t.length;r++)r==t.length-1&&(t[r].end.row===n&&t[r].end.column===i||e.push(new _(t[r].end.row,t[r].end.column,n,i))),r===0?t[r].start.row===0&&t[r].start.column===0||e.push(new _(0,0,t[r].start.row,t[r].start.column)):e.push(new _(t[r-1].end.row,t[r-1].end.column,t[r].start.row,t[r].start.column));o.exitMultiSelectMode(),o.clearSelection();for(var r=0;r<e.length;r++)o.selection.addRange(e[r],!1)},readOnly:!0,scrollIntoView:"none"},{name:"addLineAfter",description:"Add new line after the current line",exec:function(o){o.selection.clearSelection(),o.navigateLineEnd(),o.insert(`
`)},multiSelectAction:"forEach",scrollIntoView:"cursor"},{name:"addLineBefore",description:"Add new line before the current line",exec:function(o){o.selection.clearSelection();var n=o.getCursorPosition();o.selection.moveTo(n.row-1,Number.MAX_VALUE),o.insert(`
`),n.row===0&&o.navigateUp()},multiSelectAction:"forEach",scrollIntoView:"cursor"},{name:"openCommandPallete",exec:function(o){console.warn("This is an obsolete command. Please use `openCommandPalette` instead."),o.prompt({$type:"commands"})},readOnly:!0},{name:"openCommandPalette",description:"Open command palette",bindKey:s("F1","F1"),exec:function(o){o.prompt({$type:"commands"})},readOnly:!0},{name:"modeSelect",description:"Change language mode...",bindKey:s(null,null),exec:function(o){o.prompt({$type:"modes"})},readOnly:!0}];for(var d=1;d<9;d++)B.commands.push({name:"foldToLevel"+d,description:"Fold To Level "+d,level:d,exec:function(o){o.session.foldToLevel(this.level)},scrollIntoView:"center",readOnly:!0})}),ace.define("ace/line_widgets",["require","exports","module","ace/lib/dom"],function(f,B,z){var M=f("./lib/dom"),b=function(){function _(s){this.session=s,this.session.widgetManager=this,this.session.getRowLength=this.getRowLength,this.session.$getWidgetScreenLength=this.$getWidgetScreenLength,this.updateOnChange=this.updateOnChange.bind(this),this.renderWidgets=this.renderWidgets.bind(this),this.measureWidgets=this.measureWidgets.bind(this),this.session._changedWidgets=[],this.$onChangeEditor=this.$onChangeEditor.bind(this),this.session.on("change",this.updateOnChange),this.session.on("changeFold",this.updateOnFold),this.session.on("changeEditor",this.$onChangeEditor)}return _.prototype.getRowLength=function(s){var d;return this.lineWidgets?d=this.lineWidgets[s]&&this.lineWidgets[s].rowCount||0:d=0,!this.$useWrapMode||!this.$wrapData[s]?1+d:this.$wrapData[s].length+1+d},_.prototype.$getWidgetScreenLength=function(){var s=0;return this.lineWidgets.forEach(function(d){d&&d.rowCount&&!d.hidden&&(s+=d.rowCount)}),s},_.prototype.$onChangeEditor=function(s){this.attach(s.editor)},_.prototype.attach=function(s){s&&s.widgetManager&&s.widgetManager!=this&&s.widgetManager.detach(),this.editor!=s&&(this.detach(),this.editor=s,s&&(s.widgetManager=this,s.renderer.on("beforeRender",this.measureWidgets),s.renderer.on("afterRender",this.renderWidgets)))},_.prototype.detach=function(s){var d=this.editor;if(d){this.editor=null,d.widgetManager=null,d.renderer.off("beforeRender",this.measureWidgets),d.renderer.off("afterRender",this.renderWidgets);var o=this.session.lineWidgets;o&&o.forEach(function(n){n&&n.el&&n.el.parentNode&&(n._inDocument=!1,n.el.parentNode.removeChild(n.el))})}},_.prototype.updateOnFold=function(s,d){var o=d.lineWidgets;if(!(!o||!s.action)){for(var n=s.data,i=n.start.row,t=n.end.row,e=s.action=="add",r=i+1;r<t;r++)o[r]&&(o[r].hidden=e);o[t]&&(e?o[i]?o[t].hidden=e:o[i]=o[t]:(o[i]==o[t]&&(o[i]=void 0),o[t].hidden=e))}},_.prototype.updateOnChange=function(s){var d=this.session.lineWidgets;if(d){var o=s.start.row,n=s.end.row-o;if(n!==0)if(s.action=="remove"){var i=d.splice(o+1,n);!d[o]&&i[i.length-1]&&(d[o]=i.pop()),i.forEach(function(e){e&&this.removeLineWidget(e)},this),this.$updateRows()}else{var t=new Array(n);d[o]&&d[o].column!=null&&s.start.column>d[o].column&&o++,t.unshift(o,0),d.splice.apply(d,t),this.$updateRows()}}},_.prototype.$updateRows=function(){var s=this.session.lineWidgets;if(s){var d=!0;s.forEach(function(o,n){if(o)for(d=!1,o.row=n;o.$oldWidget;)o.$oldWidget.row=n,o=o.$oldWidget}),d&&(this.session.lineWidgets=null)}},_.prototype.$registerLineWidget=function(s){this.session.lineWidgets||(this.session.lineWidgets=new Array(this.session.getLength()));var d=this.session.lineWidgets[s.row];return d&&(s.$oldWidget=d,d.el&&d.el.parentNode&&(d.el.parentNode.removeChild(d.el),d._inDocument=!1)),this.session.lineWidgets[s.row]=s,s},_.prototype.addLineWidget=function(s){if(this.$registerLineWidget(s),s.session=this.session,!this.editor)return s;var d=this.editor.renderer;s.html&&!s.el&&(s.el=M.createElement("div"),s.el.innerHTML=s.html),s.text&&!s.el&&(s.el=M.createElement("div"),s.el.textContent=s.text),s.el&&(M.addCssClass(s.el,"ace_lineWidgetContainer"),s.className&&M.addCssClass(s.el,s.className),s.el.style.position="absolute",s.el.style.zIndex="5",d.container.appendChild(s.el),s._inDocument=!0,s.coverGutter||(s.el.style.zIndex="3"),s.pixelHeight==null&&(s.pixelHeight=s.el.offsetHeight)),s.rowCount==null&&(s.rowCount=s.pixelHeight/d.layerConfig.lineHeight);var o=this.session.getFoldAt(s.row,0);if(s.$fold=o,o){var n=this.session.lineWidgets;s.row==o.end.row&&!n[o.start.row]?n[o.start.row]=s:s.hidden=!0}return this.session._emit("changeFold",{data:{start:{row:s.row}}}),this.$updateRows(),this.renderWidgets(null,d),this.onWidgetChanged(s),s},_.prototype.removeLineWidget=function(s){if(s._inDocument=!1,s.session=null,s.el&&s.el.parentNode&&s.el.parentNode.removeChild(s.el),s.editor&&s.editor.destroy)try{s.editor.destroy()}catch{}if(this.session.lineWidgets){var d=this.session.lineWidgets[s.row];if(d==s)this.session.lineWidgets[s.row]=s.$oldWidget,s.$oldWidget&&this.onWidgetChanged(s.$oldWidget);else for(;d;){if(d.$oldWidget==s){d.$oldWidget=s.$oldWidget;break}d=d.$oldWidget}}this.session._emit("changeFold",{data:{start:{row:s.row}}}),this.$updateRows()},_.prototype.getWidgetsAtRow=function(s){for(var d=this.session.lineWidgets,o=d&&d[s],n=[];o;)n.push(o),o=o.$oldWidget;return n},_.prototype.onWidgetChanged=function(s){this.session._changedWidgets.push(s),this.editor&&this.editor.renderer.updateFull()},_.prototype.measureWidgets=function(s,d){var o=this.session._changedWidgets,n=d.layerConfig;if(!(!o||!o.length)){for(var i=1/0,t=0;t<o.length;t++){var e=o[t];if(!(!e||!e.el)&&e.session==this.session){if(!e._inDocument){if(this.session.lineWidgets[e.row]!=e)continue;e._inDocument=!0,d.container.appendChild(e.el)}e.h=e.el.offsetHeight,e.fixedWidth||(e.w=e.el.offsetWidth,e.screenWidth=Math.ceil(e.w/n.characterWidth));var r=e.h/n.lineHeight;e.coverLine&&(r-=this.session.getRowLineCount(e.row),r<0&&(r=0)),e.rowCount!=r&&(e.rowCount=r,e.row<i&&(i=e.row))}}i!=1/0&&(this.session._emit("changeFold",{data:{start:{row:i}}}),this.session.lineWidgetWidth=null),this.session._changedWidgets=[]}},_.prototype.renderWidgets=function(s,d){var o=d.layerConfig,n=this.session.lineWidgets;if(n){for(var i=Math.min(this.firstRow,o.firstRow),t=Math.max(this.lastRow,o.lastRow,n.length);i>0&&!n[i];)i--;this.firstRow=o.firstRow,this.lastRow=o.lastRow,d.$cursorLayer.config=o;for(var e=i;e<=t;e++){var r=n[e];if(!(!r||!r.el)){if(r.hidden){r.el.style.top=-100-(r.pixelHeight||0)+"px";continue}r._inDocument||(r._inDocument=!0,d.container.appendChild(r.el));var a=d.$cursorLayer.getPixelPosition({row:e,column:0},!0).top;r.coverLine||(a+=o.lineHeight*this.session.getRowLineCount(r.row)),r.el.style.top=a-o.offset+"px";var c=r.coverGutter?0:d.gutterWidth;r.fixedWidth||(c-=d.scrollLeft),r.el.style.left=c+"px",r.fullWidth&&r.screenWidth&&(r.el.style.minWidth=o.width+2*o.padding+"px"),r.fixedWidth?r.el.style.right=d.scrollBar.getWidth()+"px":r.el.style.right=""}}}},_}();B.LineWidgets=b}),ace.define("ace/keyboard/gutter_handler",["require","exports","module","ace/lib/keys","ace/mouse/default_gutter_handler"],function(f,B,z){var M=f("../lib/keys"),b=f("../mouse/default_gutter_handler").GutterTooltip,_=function(){function d(o){this.editor=o,this.gutterLayer=o.renderer.$gutterLayer,this.element=o.renderer.$gutter,this.lines=o.renderer.$gutterLayer.$lines,this.activeRowIndex=null,this.activeLane=null,this.annotationTooltip=new b(this.editor)}return d.prototype.addListener=function(){this.element.addEventListener("keydown",this.$onGutterKeyDown.bind(this)),this.element.addEventListener("focusout",this.$blurGutter.bind(this)),this.editor.on("mousewheel",this.$blurGutter.bind(this))},d.prototype.removeListener=function(){this.element.removeEventListener("keydown",this.$onGutterKeyDown.bind(this)),this.element.removeEventListener("focusout",this.$blurGutter.bind(this)),this.editor.off("mousewheel",this.$blurGutter.bind(this))},d.prototype.$onGutterKeyDown=function(o){if(this.annotationTooltip.isOpen){o.preventDefault(),o.keyCode===M.escape&&this.annotationTooltip.hideTooltip();return}if(o.target===this.element){if(o.keyCode!=M.enter)return;o.preventDefault();var n=this.editor.getCursorPosition().row;this.editor.isRowVisible(n)||this.editor.scrollToLine(n,!0,!0),setTimeout((function(){var i=this.$rowToRowIndex(this.gutterLayer.$cursorCell.row),t=this.$findNearestFoldWidget(i),e=this.$findNearestAnnotation(i);if(!(t===null&&e===null)){if(t===null&&e!==null){this.activeRowIndex=e,this.activeLane="annotation",this.$focusAnnotation(this.activeRowIndex);return}if(t!==null&&e===null){this.activeRowIndex=t,this.activeLane="fold",this.$focusFoldWidget(this.activeRowIndex);return}if(Math.abs(e-i)<Math.abs(t-i)){this.activeRowIndex=e,this.activeLane="annotation",this.$focusAnnotation(this.activeRowIndex);return}else{this.activeRowIndex=t,this.activeLane="fold",this.$focusFoldWidget(this.activeRowIndex);return}}}).bind(this),10);return}this.$handleGutterKeyboardInteraction(o),setTimeout((function(){this.editor._signal("gutterkeydown",new s(o,this))}).bind(this),10)},d.prototype.$handleGutterKeyboardInteraction=function(o){if(o.keyCode===M.tab){o.preventDefault();return}if(o.keyCode===M.escape){o.preventDefault(),this.$blurGutter(),this.element.focus(),this.lane=null;return}if(o.keyCode===M.up){switch(o.preventDefault(),this.activeLane){case"fold":this.$moveFoldWidgetUp();break;case"annotation":this.$moveAnnotationUp();break}return}if(o.keyCode===M.down){switch(o.preventDefault(),this.activeLane){case"fold":this.$moveFoldWidgetDown();break;case"annotation":this.$moveAnnotationDown();break}return}if(o.keyCode===M.left){o.preventDefault(),this.$switchLane("annotation");return}if(o.keyCode===M.right){o.preventDefault(),this.$switchLane("fold");return}if(o.keyCode===M.enter||o.keyCode===M.space){switch(o.preventDefault(),this.activeLane){case"fold":if(this.gutterLayer.session.foldWidgets[this.$rowIndexToRow(this.activeRowIndex)]==="start"){var n=this.$rowIndexToRow(this.activeRowIndex);this.editor.session.onFoldWidgetClick(this.$rowIndexToRow(this.activeRowIndex),o),setTimeout((function(){this.$rowIndexToRow(this.activeRowIndex)!==n&&(this.$blurFoldWidget(this.activeRowIndex),this.activeRowIndex=this.$rowToRowIndex(n),this.$focusFoldWidget(this.activeRowIndex))}).bind(this),10);break}else if(this.gutterLayer.session.foldWidgets[this.$rowIndexToRow(this.activeRowIndex)]==="end")break;return;case"annotation":var i=this.lines.cells[this.activeRowIndex].element.childNodes[2],t=i.getBoundingClientRect(),e=this.annotationTooltip.getElement().style;e.left=t.right+"px",e.top=t.bottom+"px",this.annotationTooltip.showTooltip(this.$rowIndexToRow(this.activeRowIndex));break}return}},d.prototype.$blurGutter=function(){if(this.activeRowIndex!==null)switch(this.activeLane){case"fold":this.$blurFoldWidget(this.activeRowIndex);break;case"annotation":this.$blurAnnotation(this.activeRowIndex);break}this.annotationTooltip.isOpen&&this.annotationTooltip.hideTooltip()},d.prototype.$isFoldWidgetVisible=function(o){var n=this.editor.isRowFullyVisible(this.$rowIndexToRow(o)),i=this.$getFoldWidget(o).style.display!=="none";return n&&i},d.prototype.$isAnnotationVisible=function(o){var n=this.editor.isRowFullyVisible(this.$rowIndexToRow(o)),i=this.$getAnnotation(o).style.display!=="none";return n&&i},d.prototype.$getFoldWidget=function(o){var n=this.lines.get(o),i=n.element;return i.childNodes[1]},d.prototype.$getAnnotation=function(o){var n=this.lines.get(o),i=n.element;return i.childNodes[2]},d.prototype.$findNearestFoldWidget=function(o){if(this.$isFoldWidgetVisible(o))return o;for(var n=0;o-n>0||o+n<this.lines.getLength()-1;){if(n++,o-n>=0&&this.$isFoldWidgetVisible(o-n))return o-n;if(o+n<=this.lines.getLength()-1&&this.$isFoldWidgetVisible(o+n))return o+n}return null},d.prototype.$findNearestAnnotation=function(o){if(this.$isAnnotationVisible(o))return o;for(var n=0;o-n>0||o+n<this.lines.getLength()-1;){if(n++,o-n>=0&&this.$isAnnotationVisible(o-n))return o-n;if(o+n<=this.lines.getLength()-1&&this.$isAnnotationVisible(o+n))return o+n}return null},d.prototype.$focusFoldWidget=function(o){if(o!=null){var n=this.$getFoldWidget(o);n.classList.add(this.editor.renderer.keyboardFocusClassName),n.focus()}},d.prototype.$focusAnnotation=function(o){if(o!=null){var n=this.$getAnnotation(o);n.classList.add(this.editor.renderer.keyboardFocusClassName),n.focus()}},d.prototype.$blurFoldWidget=function(o){var n=this.$getFoldWidget(o);n.classList.remove(this.editor.renderer.keyboardFocusClassName),n.blur()},d.prototype.$blurAnnotation=function(o){var n=this.$getAnnotation(o);n.classList.remove(this.editor.renderer.keyboardFocusClassName),n.blur()},d.prototype.$moveFoldWidgetUp=function(){for(var o=this.activeRowIndex;o>0;)if(o--,this.$isFoldWidgetVisible(o)){this.$blurFoldWidget(this.activeRowIndex),this.activeRowIndex=o,this.$focusFoldWidget(this.activeRowIndex);return}},d.prototype.$moveFoldWidgetDown=function(){for(var o=this.activeRowIndex;o<this.lines.getLength()-1;)if(o++,this.$isFoldWidgetVisible(o)){this.$blurFoldWidget(this.activeRowIndex),this.activeRowIndex=o,this.$focusFoldWidget(this.activeRowIndex);return}},d.prototype.$moveAnnotationUp=function(){for(var o=this.activeRowIndex;o>0;)if(o--,this.$isAnnotationVisible(o)){this.$blurAnnotation(this.activeRowIndex),this.activeRowIndex=o,this.$focusAnnotation(this.activeRowIndex);return}},d.prototype.$moveAnnotationDown=function(){for(var o=this.activeRowIndex;o<this.lines.getLength()-1;)if(o++,this.$isAnnotationVisible(o)){this.$blurAnnotation(this.activeRowIndex),this.activeRowIndex=o,this.$focusAnnotation(this.activeRowIndex);return}},d.prototype.$switchLane=function(o){switch(o){case"annotation":if(this.activeLane==="annotation")break;var n=this.$findNearestAnnotation(this.activeRowIndex);if(n==null)break;this.activeLane="annotation",this.$blurFoldWidget(this.activeRowIndex),this.activeRowIndex=n,this.$focusAnnotation(this.activeRowIndex);break;case"fold":if(this.activeLane==="fold")break;var i=this.$findNearestFoldWidget(this.activeRowIndex);if(i==null)break;this.activeLane="fold",this.$blurAnnotation(this.activeRowIndex),this.activeRowIndex=i,this.$focusFoldWidget(this.activeRowIndex);break}},d.prototype.$rowIndexToRow=function(o){var n=this.lines.get(o);return n?n.row:null},d.prototype.$rowToRowIndex=function(o){for(var n=0;n<this.lines.getLength();n++){var i=this.lines.get(n);if(i.row==o)return n}return null},d}();B.GutterKeyboardHandler=_;var s=function(){function d(o,n){this.gutterKeyboardHandler=n,this.domEvent=o}return d.prototype.getKey=function(){return M.keyCodeToString(this.domEvent.keyCode)},d.prototype.getRow=function(){return this.gutterKeyboardHandler.$rowIndexToRow(this.gutterKeyboardHandler.activeRowIndex)},d.prototype.isInAnnotationLane=function(){return this.gutterKeyboardHandler.activeLane==="annotation"},d.prototype.isInFoldLane=function(){return this.gutterKeyboardHandler.activeLane==="fold"},d}();B.GutterKeyboardEvent=s}),ace.define("ace/editor",["require","exports","module","ace/lib/oop","ace/lib/dom","ace/lib/lang","ace/lib/useragent","ace/keyboard/textinput","ace/mouse/mouse_handler","ace/mouse/fold_handler","ace/keyboard/keybinding","ace/edit_session","ace/search","ace/range","ace/lib/event_emitter","ace/commands/command_manager","ace/commands/default_commands","ace/config","ace/token_iterator","ace/line_widgets","ace/keyboard/gutter_handler","ace/config","ace/clipboard","ace/lib/keys"],function(f,B,z){var M=this&&this.__values||function(y){var l=typeof Symbol=="function"&&Symbol.iterator,w=l&&y[l],k=0;if(w)return w.call(y);if(y&&typeof y.length=="number")return{next:function(){return y&&k>=y.length&&(y=void 0),{value:y&&y[k++],done:!y}}};throw new TypeError(l?"Object is not iterable.":"Symbol.iterator is not defined.")},b=f("./lib/oop"),_=f("./lib/dom"),s=f("./lib/lang"),d=f("./lib/useragent"),o=f("./keyboard/textinput").TextInput,n=f("./mouse/mouse_handler").MouseHandler,i=f("./mouse/fold_handler").FoldHandler,t=f("./keyboard/keybinding").KeyBinding,e=f("./edit_session").EditSession,r=f("./search").Search,a=f("./range").Range,c=f("./lib/event_emitter").EventEmitter,h=f("./commands/command_manager").CommandManager,$=f("./commands/default_commands").commands,v=f("./config"),p=f("./token_iterator").TokenIterator,u=f("./line_widgets").LineWidgets,m=f("./keyboard/gutter_handler").GutterKeyboardHandler,E=f("./config").nls,C=f("./clipboard"),R=f("./lib/keys"),L=function(){function y(l,w,k){this.session,this.$toDestroy=[];var I=l.getContainerElement();this.container=I,this.renderer=l,this.id="editor"+ ++y.$uid,this.commands=new h(d.isMac?"mac":"win",$),typeof document=="object"&&(this.textInput=new o(l.getTextAreaContainer(),this),this.renderer.textarea=this.textInput.getElement(),this.$mouseHandler=new n(this),new i(this)),this.keyBinding=new t(this),this.$search=new r().set({wrap:!0}),this.$historyTracker=this.$historyTracker.bind(this),this.commands.on("exec",this.$historyTracker),this.$initOperationListeners(),this._$emitInputEvent=s.delayedCall((function(){this._signal("input",{}),this.session&&!this.session.destroyed&&this.session.bgTokenizer.scheduleStart()}).bind(this)),this.on("change",function(G,H){H._$emitInputEvent.schedule(31)}),this.setSession(w||k&&k.session||new e("")),v.resetOptions(this),k&&this.setOptions(k),v._signal("editor",this)}return y.prototype.$initOperationListeners=function(){this.commands.on("exec",this.startOperation.bind(this),!0),this.commands.on("afterExec",this.endOperation.bind(this),!0),this.$opResetTimer=s.delayedCall(this.endOperation.bind(this,!0)),this.on("change",(function(){this.curOp||(this.startOperation(),this.curOp.selectionBefore=this.$lastSel),this.curOp.docChanged=!0}).bind(this),!0),this.on("changeSelection",(function(){this.curOp||(this.startOperation(),this.curOp.selectionBefore=this.$lastSel),this.curOp.selectionChanged=!0}).bind(this),!0)},y.prototype.startOperation=function(l){if(this.curOp){if(!l||this.curOp.command)return;this.prevOp=this.curOp}l||(this.previousCommand=null,l={}),this.$opResetTimer.schedule(),this.curOp=this.session.curOp={command:l.command||{},args:l.args,scrollTop:this.renderer.scrollTop},this.curOp.selectionBefore=this.selection.toJSON()},y.prototype.endOperation=function(l){if(this.curOp&&this.session){if(l&&l.returnValue===!1||!this.session)return this.curOp=null;if(l==!0&&this.curOp.command&&this.curOp.command.name=="mouse"||(this._signal("beforeEndOperation"),!this.curOp))return;var w=this.curOp.command,k=w&&w.scrollIntoView;if(k){switch(k){case"center-animate":k="animate";case"center":this.renderer.scrollCursorIntoView(null,.5);break;case"animate":case"cursor":this.renderer.scrollCursorIntoView();break;case"selectionPart":var I=this.selection.getRange(),G=this.renderer.layerConfig;(I.start.row>=G.lastRow||I.end.row<=G.firstRow)&&this.renderer.scrollSelectionIntoView(this.selection.anchor,this.selection.lead);break}k=="animate"&&this.renderer.animateScrolling(this.curOp.scrollTop)}var H=this.selection.toJSON();this.curOp.selectionAfter=H,this.$lastSel=this.selection.toJSON(),this.session.getUndoManager().addSelection(H),this.prevOp=this.curOp,this.curOp=null}},y.prototype.$historyTracker=function(l){if(this.$mergeUndoDeltas){var w=this.prevOp,k=this.$mergeableCommands,I=w.command&&l.command.name==w.command.name;if(l.command.name=="insertstring"){var G=l.args;this.mergeNextCommand===void 0&&(this.mergeNextCommand=!0),I=I&&this.mergeNextCommand&&(!/\s/.test(G)||/\s/.test(w.args)),this.mergeNextCommand=!0}else I=I&&k.indexOf(l.command.name)!==-1;this.$mergeUndoDeltas!="always"&&Date.now()-this.sequenceStartTime>2e3&&(I=!1),I?this.session.mergeUndoDeltas=!0:k.indexOf(l.command.name)!==-1&&(this.sequenceStartTime=Date.now())}},y.prototype.setKeyboardHandler=function(l,w){if(l&&typeof l=="string"&&l!="ace"){this.$keybindingId=l;var k=this;v.loadModule(["keybinding",l],function(I){k.$keybindingId==l&&k.keyBinding.setKeyboardHandler(I&&I.handler),w&&w()})}else this.$keybindingId=null,this.keyBinding.setKeyboardHandler(l),w&&w()},y.prototype.getKeyboardHandler=function(){return this.keyBinding.getKeyboardHandler()},y.prototype.setSession=function(l){if(this.session!=l){this.curOp&&this.endOperation(),this.curOp={};var w=this.session;if(w){this.session.off("change",this.$onDocumentChange),this.session.off("changeMode",this.$onChangeMode),this.session.off("tokenizerUpdate",this.$onTokenizerUpdate),this.session.off("changeTabSize",this.$onChangeTabSize),this.session.off("changeWrapLimit",this.$onChangeWrapLimit),this.session.off("changeWrapMode",this.$onChangeWrapMode),this.session.off("changeFold",this.$onChangeFold),this.session.off("changeFrontMarker",this.$onChangeFrontMarker),this.session.off("changeBackMarker",this.$onChangeBackMarker),this.session.off("changeBreakpoint",this.$onChangeBreakpoint),this.session.off("changeAnnotation",this.$onChangeAnnotation),this.session.off("changeOverwrite",this.$onCursorChange),this.session.off("changeScrollTop",this.$onScrollTopChange),this.session.off("changeScrollLeft",this.$onScrollLeftChange);var k=this.session.getSelection();k.off("changeCursor",this.$onCursorChange),k.off("changeSelection",this.$onSelectionChange)}this.session=l,l?(this.$onDocumentChange=this.onDocumentChange.bind(this),l.on("change",this.$onDocumentChange),this.renderer.setSession(l),this.$onChangeMode=this.onChangeMode.bind(this),l.on("changeMode",this.$onChangeMode),this.$onTokenizerUpdate=this.onTokenizerUpdate.bind(this),l.on("tokenizerUpdate",this.$onTokenizerUpdate),this.$onChangeTabSize=this.renderer.onChangeTabSize.bind(this.renderer),l.on("changeTabSize",this.$onChangeTabSize),this.$onChangeWrapLimit=this.onChangeWrapLimit.bind(this),l.on("changeWrapLimit",this.$onChangeWrapLimit),this.$onChangeWrapMode=this.onChangeWrapMode.bind(this),l.on("changeWrapMode",this.$onChangeWrapMode),this.$onChangeFold=this.onChangeFold.bind(this),l.on("changeFold",this.$onChangeFold),this.$onChangeFrontMarker=this.onChangeFrontMarker.bind(this),this.session.on("changeFrontMarker",this.$onChangeFrontMarker),this.$onChangeBackMarker=this.onChangeBackMarker.bind(this),this.session.on("changeBackMarker",this.$onChangeBackMarker),this.$onChangeBreakpoint=this.onChangeBreakpoint.bind(this),this.session.on("changeBreakpoint",this.$onChangeBreakpoint),this.$onChangeAnnotation=this.onChangeAnnotation.bind(this),this.session.on("changeAnnotation",this.$onChangeAnnotation),this.$onCursorChange=this.onCursorChange.bind(this),this.session.on("changeOverwrite",this.$onCursorChange),this.$onScrollTopChange=this.onScrollTopChange.bind(this),this.session.on("changeScrollTop",this.$onScrollTopChange),this.$onScrollLeftChange=this.onScrollLeftChange.bind(this),this.session.on("changeScrollLeft",this.$onScrollLeftChange),this.selection=l.getSelection(),this.selection.on("changeCursor",this.$onCursorChange),this.$onSelectionChange=this.onSelectionChange.bind(this),this.selection.on("changeSelection",this.$onSelectionChange),this.onChangeMode(),this.onCursorChange(),this.onScrollTopChange(),this.onScrollLeftChange(),this.onSelectionChange(),this.onChangeFrontMarker(),this.onChangeBackMarker(),this.onChangeBreakpoint(),this.onChangeAnnotation(),this.session.getUseWrapMode()&&this.renderer.adjustWrapLimit(),this.renderer.updateFull()):(this.selection=null,this.renderer.setSession(l)),this._signal("changeSession",{session:l,oldSession:w}),this.curOp=null,w&&w._signal("changeEditor",{oldEditor:this}),l&&l._signal("changeEditor",{editor:this}),l&&!l.destroyed&&l.bgTokenizer.scheduleStart()}},y.prototype.getSession=function(){return this.session},y.prototype.setValue=function(l,w){return this.session.doc.setValue(l),w?w==1?this.navigateFileEnd():w==-1&&this.navigateFileStart():this.selectAll(),l},y.prototype.getValue=function(){return this.session.getValue()},y.prototype.getSelection=function(){return this.selection},y.prototype.resize=function(l){this.renderer.onResize(l)},y.prototype.setTheme=function(l,w){this.renderer.setTheme(l,w)},y.prototype.getTheme=function(){return this.renderer.getTheme()},y.prototype.setStyle=function(l){this.renderer.setStyle(l)},y.prototype.unsetStyle=function(l){this.renderer.unsetStyle(l)},y.prototype.getFontSize=function(){return this.getOption("fontSize")||_.computedStyle(this.container).fontSize},y.prototype.setFontSize=function(l){this.setOption("fontSize",l)},y.prototype.$highlightBrackets=function(){if(!this.$highlightPending){var l=this;this.$highlightPending=!0,setTimeout(function(){l.$highlightPending=!1;var w=l.session;if(!(!w||w.destroyed)){w.$bracketHighlight&&(w.$bracketHighlight.markerIds.forEach(function(ee){w.removeMarker(ee)}),w.$bracketHighlight=null);var k=l.getCursorPosition(),I=l.getKeyboardHandler(),G=I&&I.$getDirectionForHighlight&&I.$getDirectionForHighlight(l),H=w.getMatchingBracketRanges(k,G);if(!H){var J=new p(w,k.row,k.column),j=J.getCurrentToken();if(j&&/\b(?:tag-open|tag-name)/.test(j.type)){var K=w.getMatchingTags(k);K&&(H=[K.openTagName.isEmpty()?K.openTag:K.openTagName,K.closeTagName.isEmpty()?K.closeTag:K.closeTagName])}}if(!H&&w.$mode.getMatching&&(H=w.$mode.getMatching(l.session)),!H){l.getHighlightIndentGuides()&&l.renderer.$textLayer.$highlightIndentGuide();return}var ie="ace_bracket";Array.isArray(H)?H.length==1&&(ie="ace_error_bracket"):H=[H],H.length==2&&(a.comparePoints(H[0].end,H[1].start)==0?H=[a.fromPoints(H[0].start,H[1].end)]:a.comparePoints(H[0].start,H[1].end)==0&&(H=[a.fromPoints(H[1].start,H[0].end)])),w.$bracketHighlight={ranges:H,markerIds:H.map(function(ee){return w.addMarker(ee,ie,"text")})},l.getHighlightIndentGuides()&&l.renderer.$textLayer.$highlightIndentGuide()}},50)}},y.prototype.focus=function(){this.textInput.focus()},y.prototype.isFocused=function(){return this.textInput.isFocused()},y.prototype.blur=function(){this.textInput.blur()},y.prototype.onFocus=function(l){this.$isFocused||(this.$isFocused=!0,this.renderer.showCursor(),this.renderer.visualizeFocus(),this._emit("focus",l))},y.prototype.onBlur=function(l){this.$isFocused&&(this.$isFocused=!1,this.renderer.hideCursor(),this.renderer.visualizeBlur(),this._emit("blur",l))},y.prototype.$cursorChange=function(){this.renderer.updateCursor(),this.$highlightBrackets(),this.$updateHighlightActiveLine()},y.prototype.onDocumentChange=function(l){var w=this.session.$useWrapMode,k=l.start.row==l.end.row?l.end.row:1/0;this.renderer.updateLines(l.start.row,k,w),this._signal("change",l),this.$cursorChange()},y.prototype.onTokenizerUpdate=function(l){var w=l.data;this.renderer.updateLines(w.first,w.last)},y.prototype.onScrollTopChange=function(){this.renderer.scrollToY(this.session.getScrollTop())},y.prototype.onScrollLeftChange=function(){this.renderer.scrollToX(this.session.getScrollLeft())},y.prototype.onCursorChange=function(){this.$cursorChange(),this._signal("changeSelection")},y.prototype.$updateHighlightActiveLine=function(){var l=this.getSession(),w;if(this.$highlightActiveLine&&((this.$selectionStyle!="line"||!this.selection.isMultiLine())&&(w=this.getCursorPosition()),this.renderer.theme&&this.renderer.theme.$selectionColorConflict&&!this.selection.isEmpty()&&(w=!1),this.renderer.$maxLines&&this.session.getLength()===1&&!(this.renderer.$minLines>1)&&(w=!1)),l.$highlightLineMarker&&!w)l.removeMarker(l.$highlightLineMarker.id),l.$highlightLineMarker=null;else if(!l.$highlightLineMarker&&w){var k=new a(w.row,w.column,w.row,1/0);k.id=l.addMarker(k,"ace_active-line","screenLine"),l.$highlightLineMarker=k}else w&&(l.$highlightLineMarker.start.row=w.row,l.$highlightLineMarker.end.row=w.row,l.$highlightLineMarker.start.column=w.column,l._signal("changeBackMarker"))},y.prototype.onSelectionChange=function(l){var w=this.session;if(w.$selectionMarker&&w.removeMarker(w.$selectionMarker),w.$selectionMarker=null,this.selection.isEmpty())this.$updateHighlightActiveLine();else{var k=this.selection.getRange(),I=this.getSelectionStyle();w.$selectionMarker=w.addMarker(k,"ace_selection",I)}var G=this.$highlightSelectedWord&&this.$getSelectionHighLightRegexp();this.session.highlight(G),this._signal("changeSelection")},y.prototype.$getSelectionHighLightRegexp=function(){var l=this.session,w=this.getSelectionRange();if(!(w.isEmpty()||w.isMultiLine())){var k=w.start.column,I=w.end.column,G=l.getLine(w.start.row),H=G.substring(k,I);if(!(H.length>5e3||!/[\w\d]/.test(H))){var J=this.$search.$assembleRegExp({wholeWord:!0,caseSensitive:!0,needle:H}),j=G.substring(k-1,I+1);if(J.test(j))return J}}},y.prototype.onChangeFrontMarker=function(){this.renderer.updateFrontMarkers()},y.prototype.onChangeBackMarker=function(){this.renderer.updateBackMarkers()},y.prototype.onChangeBreakpoint=function(){this.renderer.updateBreakpoints()},y.prototype.onChangeAnnotation=function(){this.renderer.setAnnotations(this.session.getAnnotations())},y.prototype.onChangeMode=function(l){this.renderer.updateText(),this._emit("changeMode",l)},y.prototype.onChangeWrapLimit=function(){this.renderer.updateFull()},y.prototype.onChangeWrapMode=function(){this.renderer.onResize(!0)},y.prototype.onChangeFold=function(){this.$updateHighlightActiveLine(),this.renderer.updateFull()},y.prototype.getSelectedText=function(){return this.session.getTextRange(this.getSelectionRange())},y.prototype.getCopyText=function(){var l=this.getSelectedText(),w=this.session.doc.getNewLineCharacter(),k=!1;if(!l&&this.$copyWithEmptySelection){k=!0;for(var I=this.selection.getAllRanges(),G=0;G<I.length;G++){var H=I[G];G&&I[G-1].start.row==H.start.row||(l+=this.session.getLine(H.start.row)+w)}}var J={text:l};return this._signal("copy",J),C.lineMode=k?J.text:!1,J.text},y.prototype.onCopy=function(){this.commands.exec("copy",this)},y.prototype.onCut=function(){this.commands.exec("cut",this)},y.prototype.onPaste=function(l,w){var k={text:l,event:w};this.commands.exec("paste",this,k)},y.prototype.$handlePaste=function(l){typeof l=="string"&&(l={text:l}),this._signal("paste",l);var w=l.text,k=w===C.lineMode,I=this.session;if(!this.inMultiSelectMode||this.inVirtualSelectionMode)k?I.insert({row:this.selection.lead.row,column:0},w):this.insert(w);else if(k)this.selection.rangeList.ranges.forEach(function(ie){I.insert({row:ie.start.row,column:0},w)});else{var G=w.split(/\r\n|\r|\n/),H=this.selection.rangeList.ranges,J=G.length==2&&(!G[0]||!G[1]);if(G.length!=H.length||J)return this.commands.exec("insertstring",this,w);for(var j=H.length;j--;){var K=H[j];K.isEmpty()||I.remove(K),I.insert(K.start,G[j])}}},y.prototype.execCommand=function(l,w){return this.commands.exec(l,this,w)},y.prototype.insert=function(l,w){var k=this.session,I=k.getMode(),G=this.getCursorPosition();if(this.getBehavioursEnabled()&&!w){var H=I.transformAction(k.getState(G.row),"insertion",this,k,l);H&&(l!==H.text&&(this.inVirtualSelectionMode||(this.session.mergeUndoDeltas=!1,this.mergeNextCommand=!1)),l=H.text)}if(l=="	"&&(l=this.session.getTabString()),this.selection.isEmpty()){if(this.session.getOverwrite()&&l.indexOf(`
`)==-1){var J=a.fromPoints(G,G);J.end.column+=l.length,this.session.remove(J)}}else{var J=this.getSelectionRange();G=this.session.remove(J),this.clearSelection()}if(l==`
`||l==`\r
`){var ee=k.getLine(G.row);if(G.column>ee.search(/\S|$/)){var j=ee.substr(G.column).search(/\S|$/);k.doc.removeInLine(G.row,G.column,G.column+j)}}this.clearSelection();var K=G.column,ie=k.getState(G.row),ee=k.getLine(G.row),oe=I.checkOutdent(ie,ee,l);if(k.insert(G,l),H&&H.selection&&(H.selection.length==2?this.selection.setSelectionRange(new a(G.row,K+H.selection[0],G.row,K+H.selection[1])):this.selection.setSelectionRange(new a(G.row+H.selection[0],H.selection[1],G.row+H.selection[2],H.selection[3]))),this.$enableAutoIndent){if(k.getDocument().isNewLine(l)){var fe=I.getNextLineIndent(ie,ee.slice(0,G.column),k.getTabString());k.insert({row:G.row+1,column:0},fe)}oe&&I.autoOutdent(ie,k,G.row)}},y.prototype.autoIndent=function(){for(var l=this.session,w=l.getMode(),k=this.selection.isEmpty()?[new a(0,0,l.doc.getLength()-1,0)]:this.selection.getAllRanges(),I="",G="",H="",J=l.getTabString(),j=0;j<k.length;j++)for(var K=k[j].start.row,ie=k[j].end.row,ee=K;ee<=ie;ee++){ee>0&&(I=l.getState(ee-1),G=l.getLine(ee-1),H=w.getNextLineIndent(I,G,J));var oe=l.getLine(ee),fe=w.$getIndent(oe);if(H!==fe){if(fe.length>0){var Ee=new a(ee,0,ee,fe.length);l.remove(Ee)}H.length>0&&l.insert({row:ee,column:0},H)}w.autoOutdent(I,l,ee)}},y.prototype.onTextInput=function(l,w){if(!w)return this.keyBinding.onTextInput(l);this.startOperation({command:{name:"insertstring"}});var k=this.applyComposition.bind(this,l,w);this.selection.rangeCount?this.forEachSelection(k):k(),this.endOperation()},y.prototype.applyComposition=function(l,w){if(w.extendLeft||w.extendRight){var k=this.selection.getRange();k.start.column-=w.extendLeft,k.end.column+=w.extendRight,k.start.column<0&&(k.start.row--,k.start.column+=this.session.getLine(k.start.row).length+1),this.selection.setRange(k),!l&&!k.isEmpty()&&this.remove()}if((l||!this.selection.isEmpty())&&this.insert(l,!0),w.restoreStart||w.restoreEnd){var k=this.selection.getRange();k.start.column-=w.restoreStart,k.end.column-=w.restoreEnd,this.selection.setRange(k)}},y.prototype.onCommandKey=function(l,w,k){return this.keyBinding.onCommandKey(l,w,k)},y.prototype.setOverwrite=function(l){this.session.setOverwrite(l)},y.prototype.getOverwrite=function(){return this.session.getOverwrite()},y.prototype.toggleOverwrite=function(){this.session.toggleOverwrite()},y.prototype.setScrollSpeed=function(l){this.setOption("scrollSpeed",l)},y.prototype.getScrollSpeed=function(){return this.getOption("scrollSpeed")},y.prototype.setDragDelay=function(l){this.setOption("dragDelay",l)},y.prototype.getDragDelay=function(){return this.getOption("dragDelay")},y.prototype.setSelectionStyle=function(l){this.setOption("selectionStyle",l)},y.prototype.getSelectionStyle=function(){return this.getOption("selectionStyle")},y.prototype.setHighlightActiveLine=function(l){this.setOption("highlightActiveLine",l)},y.prototype.getHighlightActiveLine=function(){return this.getOption("highlightActiveLine")},y.prototype.setHighlightGutterLine=function(l){this.setOption("highlightGutterLine",l)},y.prototype.getHighlightGutterLine=function(){return this.getOption("highlightGutterLine")},y.prototype.setHighlightSelectedWord=function(l){this.setOption("highlightSelectedWord",l)},y.prototype.getHighlightSelectedWord=function(){return this.$highlightSelectedWord},y.prototype.setAnimatedScroll=function(l){this.renderer.setAnimatedScroll(l)},y.prototype.getAnimatedScroll=function(){return this.renderer.getAnimatedScroll()},y.prototype.setShowInvisibles=function(l){this.renderer.setShowInvisibles(l)},y.prototype.getShowInvisibles=function(){return this.renderer.getShowInvisibles()},y.prototype.setDisplayIndentGuides=function(l){this.renderer.setDisplayIndentGuides(l)},y.prototype.getDisplayIndentGuides=function(){return this.renderer.getDisplayIndentGuides()},y.prototype.setHighlightIndentGuides=function(l){this.renderer.setHighlightIndentGuides(l)},y.prototype.getHighlightIndentGuides=function(){return this.renderer.getHighlightIndentGuides()},y.prototype.setShowPrintMargin=function(l){this.renderer.setShowPrintMargin(l)},y.prototype.getShowPrintMargin=function(){return this.renderer.getShowPrintMargin()},y.prototype.setPrintMarginColumn=function(l){this.renderer.setPrintMarginColumn(l)},y.prototype.getPrintMarginColumn=function(){return this.renderer.getPrintMarginColumn()},y.prototype.setReadOnly=function(l){this.setOption("readOnly",l)},y.prototype.getReadOnly=function(){return this.getOption("readOnly")},y.prototype.setBehavioursEnabled=function(l){this.setOption("behavioursEnabled",l)},y.prototype.getBehavioursEnabled=function(){return this.getOption("behavioursEnabled")},y.prototype.setWrapBehavioursEnabled=function(l){this.setOption("wrapBehavioursEnabled",l)},y.prototype.getWrapBehavioursEnabled=function(){return this.getOption("wrapBehavioursEnabled")},y.prototype.setShowFoldWidgets=function(l){this.setOption("showFoldWidgets",l)},y.prototype.getShowFoldWidgets=function(){return this.getOption("showFoldWidgets")},y.prototype.setFadeFoldWidgets=function(l){this.setOption("fadeFoldWidgets",l)},y.prototype.getFadeFoldWidgets=function(){return this.getOption("fadeFoldWidgets")},y.prototype.remove=function(l){this.selection.isEmpty()&&(l=="left"?this.selection.selectLeft():this.selection.selectRight());var w=this.getSelectionRange();if(this.getBehavioursEnabled()){var k=this.session,I=k.getState(w.start.row),G=k.getMode().transformAction(I,"deletion",this,k,w);if(w.end.column===0){var H=k.getTextRange(w);if(H[H.length-1]==`
`){var J=k.getLine(w.end.row);/^\s+$/.test(J)&&(w.end.column=J.length)}}G&&(w=G)}this.session.remove(w),this.clearSelection()},y.prototype.removeWordRight=function(){this.selection.isEmpty()&&this.selection.selectWordRight(),this.session.remove(this.getSelectionRange()),this.clearSelection()},y.prototype.removeWordLeft=function(){this.selection.isEmpty()&&this.selection.selectWordLeft(),this.session.remove(this.getSelectionRange()),this.clearSelection()},y.prototype.removeToLineStart=function(){this.selection.isEmpty()&&this.selection.selectLineStart(),this.selection.isEmpty()&&this.selection.selectLeft(),this.session.remove(this.getSelectionRange()),this.clearSelection()},y.prototype.removeToLineEnd=function(){this.selection.isEmpty()&&this.selection.selectLineEnd();var l=this.getSelectionRange();l.start.column==l.end.column&&l.start.row==l.end.row&&(l.end.column=0,l.end.row++),this.session.remove(l),this.clearSelection()},y.prototype.splitLine=function(){this.selection.isEmpty()||(this.session.remove(this.getSelectionRange()),this.clearSelection());var l=this.getCursorPosition();this.insert(`
`),this.moveCursorToPosition(l)},y.prototype.setGhostText=function(l,w){this.session.widgetManager||(this.session.widgetManager=new u(this.session),this.session.widgetManager.attach(this)),this.renderer.setGhostText(l,w)},y.prototype.removeGhostText=function(){this.session.widgetManager&&this.renderer.removeGhostText()},y.prototype.transposeLetters=function(){if(this.selection.isEmpty()){var l=this.getCursorPosition(),w=l.column;if(w!==0){var k=this.session.getLine(l.row),I,G;w<k.length?(I=k.charAt(w)+k.charAt(w-1),G=new a(l.row,w-1,l.row,w+1)):(I=k.charAt(w-1)+k.charAt(w-2),G=new a(l.row,w-2,l.row,w)),this.session.replace(G,I),this.session.selection.moveToPosition(G.end)}}},y.prototype.toLowerCase=function(){var l=this.getSelectionRange();this.selection.isEmpty()&&this.selection.selectWord();var w=this.getSelectionRange(),k=this.session.getTextRange(w);this.session.replace(w,k.toLowerCase()),this.selection.setSelectionRange(l)},y.prototype.toUpperCase=function(){var l=this.getSelectionRange();this.selection.isEmpty()&&this.selection.selectWord();var w=this.getSelectionRange(),k=this.session.getTextRange(w);this.session.replace(w,k.toUpperCase()),this.selection.setSelectionRange(l)},y.prototype.indent=function(){var l=this.session,w=this.getSelectionRange();if(w.start.row<w.end.row){var k=this.$getSelectedRows();l.indentRows(k.first,k.last,"	");return}else if(w.start.column<w.end.column){var I=l.getTextRange(w);if(!/^\s+$/.test(I)){var k=this.$getSelectedRows();l.indentRows(k.first,k.last,"	");return}}var G=l.getLine(w.start.row),H=w.start,J=l.getTabSize(),j=l.documentToScreenColumn(H.row,H.column);if(this.session.getUseSoftTabs())var K=J-j%J,ie=s.stringRepeat(" ",K);else{for(var K=j%J;G[w.start.column-1]==" "&&K;)w.start.column--,K--;this.selection.setSelectionRange(w),ie="	"}return this.insert(ie)},y.prototype.blockIndent=function(){var l=this.$getSelectedRows();this.session.indentRows(l.first,l.last,"	")},y.prototype.blockOutdent=function(){var l=this.session.getSelection();this.session.outdentRows(l.getRange())},y.prototype.sortLines=function(){for(var l=this.$getSelectedRows(),w=this.session,k=[],I=l.first;I<=l.last;I++)k.push(w.getLine(I));k.sort(function(J,j){return J.toLowerCase()<j.toLowerCase()?-1:J.toLowerCase()>j.toLowerCase()?1:0});for(var G=new a(0,0,0,0),I=l.first;I<=l.last;I++){var H=w.getLine(I);G.start.row=I,G.end.row=I,G.end.column=H.length,w.replace(G,k[I-l.first])}},y.prototype.toggleCommentLines=function(){var l=this.session.getState(this.getCursorPosition().row),w=this.$getSelectedRows();this.session.getMode().toggleCommentLines(l,this.session,w.first,w.last)},y.prototype.toggleBlockComment=function(){var l=this.getCursorPosition(),w=this.session.getState(l.row),k=this.getSelectionRange();this.session.getMode().toggleBlockComment(w,this.session,k,l)},y.prototype.getNumberAt=function(l,w){var k=/[\-]?[0-9]+(?:\.[0-9]+)?/g;k.lastIndex=0;for(var I=this.session.getLine(l);k.lastIndex<w;){var G=k.exec(I);if(G.index<=w&&G.index+G[0].length>=w){var H={value:G[0],start:G.index,end:G.index+G[0].length};return H}}return null},y.prototype.modifyNumber=function(l){var w=this.selection.getCursor().row,k=this.selection.getCursor().column,I=new a(w,k-1,w,k),G=this.session.getTextRange(I);if(!isNaN(parseFloat(G))&&isFinite(G)){var H=this.getNumberAt(w,k);if(H){var J=H.value.indexOf(".")>=0?H.start+H.value.indexOf(".")+1:H.end,j=H.start+H.value.length-J,K=parseFloat(H.value);K*=Math.pow(10,j),J!==H.end&&k<J?l*=Math.pow(10,H.end-k-1):l*=Math.pow(10,H.end-k),K+=l,K/=Math.pow(10,j);var ie=K.toFixed(j),ee=new a(w,H.start,w,H.end);this.session.replace(ee,ie),this.moveCursorTo(w,Math.max(H.start+1,k+ie.length-H.value.length))}}else this.toggleWord()},y.prototype.toggleWord=function(){var l=this.selection.getCursor().row,w=this.selection.getCursor().column;this.selection.selectWord();var k=this.getSelectedText(),I=this.selection.getWordRange().start.column,G=k.replace(/([a-z]+|[A-Z]+)(?=[A-Z_]|$)/g,"$1 ").split(/\s/),H=w-I-1;H<0&&(H=0);var J=0,j=0,K=this;k.match(/[A-Za-z0-9_]+/)&&G.forEach(function(Fe,Ue){j=J+Fe.length,H>=J&&H<=j&&(k=Fe,K.selection.clearSelection(),K.moveCursorTo(l,J+I),K.selection.selectTo(l,j+I)),J=j});for(var ie=this.$toggleWordPairs,ee,oe=0;oe<ie.length;oe++)for(var fe=ie[oe],Ee=0;Ee<=1;Ee++){var Ce=+!Ee,Se=k.match(new RegExp("^\\s?_?("+s.escapeRegExp(fe[Ee])+")\\s?$","i"));if(Se){var Be=k.match(new RegExp("([_]|^|\\s)("+s.escapeRegExp(Se[1])+")($|\\s)","g"));Be&&(ee=k.replace(new RegExp(s.escapeRegExp(fe[Ee]),"i"),function(Fe){var Ue=fe[Ce];return Fe.toUpperCase()==Fe?Ue=Ue.toUpperCase():Fe.charAt(0).toUpperCase()==Fe.charAt(0)&&(Ue=Ue.substr(0,0)+fe[Ce].charAt(0).toUpperCase()+Ue.substr(1)),Ue}),this.insert(ee),ee="")}}},y.prototype.findLinkAt=function(l,w){var k,I,G=this.session.getLine(l),H=G.split(/((?:https?|ftp):\/\/[\S]+)/),J=w;J<0&&(J=0);var j=0,K=0,ie;try{for(var ee=M(H),oe=ee.next();!oe.done;oe=ee.next()){var fe=oe.value;if(K=j+fe.length,J>=j&&J<=K&&fe.match(/((?:https?|ftp):\/\/[\S]+)/)){ie=fe.replace(/[\s:.,'";}\]]+$/,"");break}j=K}}catch(Ee){k={error:Ee}}finally{try{oe&&!oe.done&&(I=ee.return)&&I.call(ee)}finally{if(k)throw k.error}}return ie},y.prototype.openLink=function(){var l=this.selection.getCursor(),w=this.findLinkAt(l.row,l.column);return w&&window.open(w,"_blank"),w!=null},y.prototype.removeLines=function(){var l=this.$getSelectedRows();this.session.removeFullLines(l.first,l.last),this.clearSelection()},y.prototype.duplicateSelection=function(){var l=this.selection,w=this.session,k=l.getRange(),I=l.isBackwards();if(k.isEmpty()){var G=k.start.row;w.duplicateLines(G,G)}else{var H=I?k.start:k.end,J=w.insert(H,w.getTextRange(k));k.start=H,k.end=J,l.setSelectionRange(k,I)}},y.prototype.moveLinesDown=function(){this.$moveLines(1,!1)},y.prototype.moveLinesUp=function(){this.$moveLines(-1,!1)},y.prototype.moveText=function(l,w,k){return this.session.moveText(l,w,k)},y.prototype.copyLinesUp=function(){this.$moveLines(-1,!0)},y.prototype.copyLinesDown=function(){this.$moveLines(1,!0)},y.prototype.$moveLines=function(l,w){var k,I,G=this.selection;if(!G.inMultiSelectMode||this.inVirtualSelectionMode){var H=G.toOrientedRange();k=this.$getSelectedRows(H),I=this.session.$moveLines(k.first,k.last,w?0:l),w&&l==-1&&(I=0),H.moveBy(I,0),G.fromOrientedRange(H)}else{var J=G.rangeList.ranges;G.rangeList.detach(this.session),this.inVirtualSelectionMode=!0;for(var j=0,K=0,ie=J.length,ee=0;ee<ie;ee++){var oe=ee;J[ee].moveBy(j,0),k=this.$getSelectedRows(J[ee]);for(var fe=k.first,Ee=k.last;++ee<ie;){K&&J[ee].moveBy(K,0);var Ce=this.$getSelectedRows(J[ee]);if(w&&Ce.first!=Ee)break;if(!w&&Ce.first>Ee+1)break;Ee=Ce.last}for(ee--,j=this.session.$moveLines(fe,Ee,w?0:l),w&&l==-1&&(oe=ee+1);oe<=ee;)J[oe].moveBy(j,0),oe++;w||(j=0),K+=j}G.fromOrientedRange(G.ranges[0]),G.rangeList.attach(this.session),this.inVirtualSelectionMode=!1}},y.prototype.$getSelectedRows=function(l){return l=(l||this.getSelectionRange()).collapseRows(),{first:this.session.getRowFoldStart(l.start.row),last:this.session.getRowFoldEnd(l.end.row)}},y.prototype.onCompositionStart=function(l){this.renderer.showComposition(l)},y.prototype.onCompositionUpdate=function(l){this.renderer.setCompositionText(l)},y.prototype.onCompositionEnd=function(){this.renderer.hideComposition()},y.prototype.getFirstVisibleRow=function(){return this.renderer.getFirstVisibleRow()},y.prototype.getLastVisibleRow=function(){return this.renderer.getLastVisibleRow()},y.prototype.isRowVisible=function(l){return l>=this.getFirstVisibleRow()&&l<=this.getLastVisibleRow()},y.prototype.isRowFullyVisible=function(l){return l>=this.renderer.getFirstFullyVisibleRow()&&l<=this.renderer.getLastFullyVisibleRow()},y.prototype.$getVisibleRowCount=function(){return this.renderer.getScrollBottomRow()-this.renderer.getScrollTopRow()+1},y.prototype.$moveByPage=function(l,w){var k=this.renderer,I=this.renderer.layerConfig,G=l*Math.floor(I.height/I.lineHeight);w===!0?this.selection.$moveSelection(function(){this.moveCursorBy(G,0)}):w===!1&&(this.selection.moveCursorBy(G,0),this.selection.clearSelection());var H=k.scrollTop;k.scrollBy(0,G*I.lineHeight),w!=null&&k.scrollCursorIntoView(null,.5),k.animateScrolling(H)},y.prototype.selectPageDown=function(){this.$moveByPage(1,!0)},y.prototype.selectPageUp=function(){this.$moveByPage(-1,!0)},y.prototype.gotoPageDown=function(){this.$moveByPage(1,!1)},y.prototype.gotoPageUp=function(){this.$moveByPage(-1,!1)},y.prototype.scrollPageDown=function(){this.$moveByPage(1)},y.prototype.scrollPageUp=function(){this.$moveByPage(-1)},y.prototype.scrollToRow=function(l){this.renderer.scrollToRow(l)},y.prototype.scrollToLine=function(l,w,k,I){this.renderer.scrollToLine(l,w,k,I)},y.prototype.centerSelection=function(){var l=this.getSelectionRange(),w={row:Math.floor(l.start.row+(l.end.row-l.start.row)/2),column:Math.floor(l.start.column+(l.end.column-l.start.column)/2)};this.renderer.alignCursor(w,.5)},y.prototype.getCursorPosition=function(){return this.selection.getCursor()},y.prototype.getCursorPositionScreen=function(){return this.session.documentToScreenPosition(this.getCursorPosition())},y.prototype.getSelectionRange=function(){return this.selection.getRange()},y.prototype.selectAll=function(){this.selection.selectAll()},y.prototype.clearSelection=function(){this.selection.clearSelection()},y.prototype.moveCursorTo=function(l,w){this.selection.moveCursorTo(l,w)},y.prototype.moveCursorToPosition=function(l){this.selection.moveCursorToPosition(l)},y.prototype.jumpToMatching=function(l,w){var k=this.getCursorPosition(),I=new p(this.session,k.row,k.column),G=I.getCurrentToken(),H=0;G&&G.type.indexOf("tag-name")!==-1&&(G=I.stepBackward());var J=G||I.stepForward();if(J){var j,K=!1,ie={},ee=k.column-J.start,oe,fe={")":"(","(":"(","]":"[","[":"[","{":"{","}":"{"};do{if(J.value.match(/[{}()\[\]]/g)){for(;ee<J.value.length&&!K;ee++)if(fe[J.value[ee]])switch(oe=fe[J.value[ee]]+"."+J.type.replace("rparen","lparen"),isNaN(ie[oe])&&(ie[oe]=0),J.value[ee]){case"(":case"[":case"{":ie[oe]++;break;case")":case"]":case"}":ie[oe]--,ie[oe]===-1&&(j="bracket",K=!0);break}}else J.type.indexOf("tag-name")!==-1&&(isNaN(ie[J.value])&&(ie[J.value]=0),G.value==="<"&&H>1?ie[J.value]++:G.value==="</"&&ie[J.value]--,ie[J.value]===-1&&(j="tag",K=!0));K||(G=J,H++,J=I.stepForward(),ee=0)}while(J&&!K);if(j){var Ee,Ce;if(j==="bracket")Ee=this.session.getBracketRange(k),Ee||(Ee=new a(I.getCurrentTokenRow(),I.getCurrentTokenColumn()+ee-1,I.getCurrentTokenRow(),I.getCurrentTokenColumn()+ee-1),Ce=Ee.start,(w||Ce.row===k.row&&Math.abs(Ce.column-k.column)<2)&&(Ee=this.session.getBracketRange(Ce)));else if(j==="tag"){if(!J||J.type.indexOf("tag-name")===-1)return;if(Ee=new a(I.getCurrentTokenRow(),I.getCurrentTokenColumn()-2,I.getCurrentTokenRow(),I.getCurrentTokenColumn()-2),Ee.compare(k.row,k.column)===0){var Se=this.session.getMatchingTags(k);Se&&(Se.openTag.contains(k.row,k.column)?(Ee=Se.closeTag,Ce=Ee.start):(Ee=Se.openTag,Se.closeTag.start.row===k.row&&Se.closeTag.start.column===k.column?Ce=Ee.end:Ce=Ee.start))}Ce=Ce||Ee.start}Ce=Ee&&Ee.cursor||Ce,Ce&&(l?Ee&&w?this.selection.setRange(Ee):Ee&&Ee.isEqual(this.getSelectionRange())?this.clearSelection():this.selection.selectTo(Ce.row,Ce.column):this.selection.moveTo(Ce.row,Ce.column))}}},y.prototype.gotoLine=function(l,w,k){this.selection.clearSelection(),this.session.unfold({row:l-1,column:w||0}),this.exitMultiSelectMode&&this.exitMultiSelectMode(),this.moveCursorTo(l-1,w||0),this.isRowFullyVisible(l-1)||this.scrollToLine(l-1,!0,k)},y.prototype.navigateTo=function(l,w){this.selection.moveTo(l,w)},y.prototype.navigateUp=function(l){if(this.selection.isMultiLine()&&!this.selection.isBackwards()){var w=this.selection.anchor.getPosition();return this.moveCursorToPosition(w)}this.selection.clearSelection(),this.selection.moveCursorBy(-l||-1,0)},y.prototype.navigateDown=function(l){if(this.selection.isMultiLine()&&this.selection.isBackwards()){var w=this.selection.anchor.getPosition();return this.moveCursorToPosition(w)}this.selection.clearSelection(),this.selection.moveCursorBy(l||1,0)},y.prototype.navigateLeft=function(l){if(this.selection.isEmpty())for(l=l||1;l--;)this.selection.moveCursorLeft();else{var w=this.getSelectionRange().start;this.moveCursorToPosition(w)}this.clearSelection()},y.prototype.navigateRight=function(l){if(this.selection.isEmpty())for(l=l||1;l--;)this.selection.moveCursorRight();else{var w=this.getSelectionRange().end;this.moveCursorToPosition(w)}this.clearSelection()},y.prototype.navigateLineStart=function(){this.selection.moveCursorLineStart(),this.clearSelection()},y.prototype.navigateLineEnd=function(){this.selection.moveCursorLineEnd(),this.clearSelection()},y.prototype.navigateFileEnd=function(){this.selection.moveCursorFileEnd(),this.clearSelection()},y.prototype.navigateFileStart=function(){this.selection.moveCursorFileStart(),this.clearSelection()},y.prototype.navigateWordRight=function(){this.selection.moveCursorWordRight(),this.clearSelection()},y.prototype.navigateWordLeft=function(){this.selection.moveCursorWordLeft(),this.clearSelection()},y.prototype.replace=function(l,w){w&&this.$search.set(w);var k=this.$search.find(this.session),I=0;return k&&(this.$tryReplace(k,l)&&(I=1),this.selection.setSelectionRange(k),this.renderer.scrollSelectionIntoView(k.start,k.end)),I},y.prototype.replaceAll=function(l,w){w&&this.$search.set(w);var k=this.$search.findAll(this.session),I=0;if(!k.length)return I;var G=this.getSelectionRange();this.selection.moveTo(0,0);for(var H=k.length-1;H>=0;--H)this.$tryReplace(k[H],l)&&I++;return this.selection.setSelectionRange(G),I},y.prototype.$tryReplace=function(l,w){var k=this.session.getTextRange(l);return w=this.$search.replace(k,w),w!==null?(l.end=this.session.replace(l,w),l):null},y.prototype.getLastSearchOptions=function(){return this.$search.getOptions()},y.prototype.find=function(l,w,k){w||(w={}),typeof l=="string"||l instanceof RegExp?w.needle=l:typeof l=="object"&&b.mixin(w,l);var I=this.selection.getRange();w.needle==null&&(l=this.session.getTextRange(I)||this.$search.$options.needle,l||(I=this.session.getWordRange(I.start.row,I.start.column),l=this.session.getTextRange(I)),this.$search.set({needle:l})),this.$search.set(w),w.start||this.$search.set({start:I});var G=this.$search.find(this.session);if(w.preventScroll)return G;if(G)return this.revealRange(G,k),G;w.backwards?I.start=I.end:I.end=I.start,this.selection.setRange(I)},y.prototype.findNext=function(l,w){this.find({skipCurrent:!0,backwards:!1},l,w)},y.prototype.findPrevious=function(l,w){this.find(l,{skipCurrent:!0,backwards:!0},w)},y.prototype.revealRange=function(l,w){this.session.unfold(l),this.selection.setSelectionRange(l);var k=this.renderer.scrollTop;this.renderer.scrollSelectionIntoView(l.start,l.end,.5),w!==!1&&this.renderer.animateScrolling(k)},y.prototype.undo=function(){this.session.getUndoManager().undo(this.session),this.renderer.scrollCursorIntoView(null,.5)},y.prototype.redo=function(){this.session.getUndoManager().redo(this.session),this.renderer.scrollCursorIntoView(null,.5)},y.prototype.destroy=function(){this.$toDestroy&&(this.$toDestroy.forEach(function(l){l.destroy()}),this.$toDestroy=null),this.$mouseHandler&&this.$mouseHandler.destroy(),this.renderer.destroy(),this._signal("destroy",this),this.session&&this.session.destroy(),this._$emitInputEvent&&this._$emitInputEvent.cancel(),this.removeAllListeners()},y.prototype.setAutoScrollEditorIntoView=function(l){if(l){var w,k=this,I=!1;this.$scrollAnchor||(this.$scrollAnchor=document.createElement("div"));var G=this.$scrollAnchor;G.style.cssText="position:absolute",this.container.insertBefore(G,this.container.firstChild);var H=this.on("changeSelection",function(){I=!0}),J=this.renderer.on("beforeRender",function(){I&&(w=k.renderer.container.getBoundingClientRect())}),j=this.renderer.on("afterRender",function(){if(I&&w&&(k.isFocused()||k.searchBox&&k.searchBox.isFocused())){var K=k.renderer,ie=K.$cursorLayer.$pixelPos,ee=K.layerConfig,oe=ie.top-ee.offset;ie.top>=0&&oe+w.top<0?I=!0:ie.top<ee.height&&ie.top+w.top+ee.lineHeight>window.innerHeight?I=!1:I=null,I!=null&&(G.style.top=oe+"px",G.style.left=ie.left+"px",G.style.height=ee.lineHeight+"px",G.scrollIntoView(I)),I=w=null}});this.setAutoScrollEditorIntoView=function(K){K||(delete this.setAutoScrollEditorIntoView,this.off("changeSelection",H),this.renderer.off("afterRender",j),this.renderer.off("beforeRender",J))}}},y.prototype.$resetCursorStyle=function(){var l=this.$cursorStyle||"ace",w=this.renderer.$cursorLayer;w&&(w.setSmoothBlinking(/smooth/.test(l)),w.isBlinking=!this.$readOnly&&l!="wide",_.setCssClass(w.element,"ace_slim-cursors",/slim/.test(l)))},y.prototype.prompt=function(l,w,k){var I=this;v.loadModule("ace/ext/prompt",function(G){G.prompt(I,l,w,k)})},y}();L.$uid=0,L.prototype.curOp=null,L.prototype.prevOp={},L.prototype.$mergeableCommands=["backspace","del","insertstring"],L.prototype.$toggleWordPairs=[["first","last"],["true","false"],["yes","no"],["width","height"],["top","bottom"],["right","left"],["on","off"],["x","y"],["get","set"],["max","min"],["horizontal","vertical"],["show","hide"],["add","remove"],["up","down"],["before","after"],["even","odd"],["in","out"],["inside","outside"],["next","previous"],["increase","decrease"],["attach","detach"],["&&","||"],["==","!="]],b.implement(L.prototype,c),v.defineOptions(L.prototype,"editor",{selectionStyle:{set:function(y){this.onSelectionChange(),this._signal("changeSelectionStyle",{data:y})},initialValue:"line"},highlightActiveLine:{set:function(){this.$updateHighlightActiveLine()},initialValue:!0},highlightSelectedWord:{set:function(y){this.$onSelectionChange()},initialValue:!0},readOnly:{set:function(y){this.textInput.setReadOnly(y),this.$resetCursorStyle()},initialValue:!1},copyWithEmptySelection:{set:function(y){this.textInput.setCopyWithEmptySelection(y)},initialValue:!1},cursorStyle:{set:function(y){this.$resetCursorStyle()},values:["ace","slim","smooth","wide"],initialValue:"ace"},mergeUndoDeltas:{values:[!1,!0,"always"],initialValue:!0},behavioursEnabled:{initialValue:!0},wrapBehavioursEnabled:{initialValue:!0},enableAutoIndent:{initialValue:!0},autoScrollEditorIntoView:{set:function(y){this.setAutoScrollEditorIntoView(y)}},keyboardHandler:{set:function(y){this.setKeyboardHandler(y)},get:function(){return this.$keybindingId},handlesSet:!0},value:{set:function(y){this.session.setValue(y)},get:function(){return this.getValue()},handlesSet:!0,hidden:!0},session:{set:function(y){this.setSession(y)},get:function(){return this.session},handlesSet:!0,hidden:!0},showLineNumbers:{set:function(y){this.renderer.$gutterLayer.setShowLineNumbers(y),this.renderer.$loop.schedule(this.renderer.CHANGE_GUTTER),y&&this.$relativeLineNumbers?g.attach(this):g.detach(this)},initialValue:!0},relativeLineNumbers:{set:function(y){this.$showLineNumbers&&y?g.attach(this):g.detach(this)}},placeholder:{set:function(y){this.$updatePlaceholder||(this.$updatePlaceholder=(function(){var l=this.session&&(this.renderer.$composition||this.session.getLength()>1||this.session.getLine(0).length>0);if(l&&this.renderer.placeholderNode)this.renderer.off("afterRender",this.$updatePlaceholder),_.removeCssClass(this.container,"ace_hasPlaceholder"),this.renderer.placeholderNode.remove(),this.renderer.placeholderNode=null;else if(!l&&!this.renderer.placeholderNode){this.renderer.on("afterRender",this.$updatePlaceholder),_.addCssClass(this.container,"ace_hasPlaceholder");var w=_.createElement("div");w.className="ace_placeholder",w.textContent=this.$placeholder||"",this.renderer.placeholderNode=w,this.renderer.content.appendChild(this.renderer.placeholderNode)}else!l&&this.renderer.placeholderNode&&(this.renderer.placeholderNode.textContent=this.$placeholder||"")}).bind(this),this.on("input",this.$updatePlaceholder)),this.$updatePlaceholder()}},enableKeyboardAccessibility:{set:function(y){var l={name:"blurTextInput",description:"Set focus to the editor content div to allow tabbing through the page",bindKey:"Esc",exec:function(I){I.blur(),I.renderer.scroller.focus()},readOnly:!0},w=function(I){if(I.target==this.renderer.scroller&&I.keyCode===R.enter){I.preventDefault();var G=this.getCursorPosition().row;this.isRowVisible(G)||this.scrollToLine(G,!0,!0),this.focus()}},k;y?(this.renderer.enableKeyboardAccessibility=!0,this.renderer.keyboardFocusClassName="ace_keyboard-focus",this.textInput.getElement().setAttribute("tabindex",-1),this.textInput.setNumberOfExtraLines(d.isWin?3:0),this.renderer.scroller.setAttribute("tabindex",0),this.renderer.scroller.setAttribute("role","group"),this.renderer.scroller.setAttribute("aria-roledescription",E("editor.scroller.aria-roledescription","editor")),this.renderer.scroller.classList.add(this.renderer.keyboardFocusClassName),this.renderer.scroller.setAttribute("aria-label",E("editor.scroller.aria-label","Editor content, press Enter to start editing, press Escape to exit")),this.renderer.scroller.addEventListener("keyup",w.bind(this)),this.commands.addCommand(l),this.renderer.$gutter.setAttribute("tabindex",0),this.renderer.$gutter.setAttribute("aria-hidden",!1),this.renderer.$gutter.setAttribute("role","group"),this.renderer.$gutter.setAttribute("aria-roledescription",E("editor.gutter.aria-roledescription","editor")),this.renderer.$gutter.setAttribute("aria-label",E("editor.gutter.aria-label","Editor gutter, press Enter to interact with controls using arrow keys, press Escape to exit")),this.renderer.$gutter.classList.add(this.renderer.keyboardFocusClassName),this.renderer.content.setAttribute("aria-hidden",!0),k||(k=new m(this)),k.addListener(),this.textInput.setAriaOptions({setLabel:!0})):(this.renderer.enableKeyboardAccessibility=!1,this.textInput.getElement().setAttribute("tabindex",0),this.textInput.setNumberOfExtraLines(0),this.renderer.scroller.setAttribute("tabindex",-1),this.renderer.scroller.removeAttribute("role"),this.renderer.scroller.removeAttribute("aria-roledescription"),this.renderer.scroller.classList.remove(this.renderer.keyboardFocusClassName),this.renderer.scroller.removeAttribute("aria-label"),this.renderer.scroller.removeEventListener("keyup",w.bind(this)),this.commands.removeCommand(l),this.renderer.content.removeAttribute("aria-hidden"),this.renderer.$gutter.setAttribute("tabindex",-1),this.renderer.$gutter.setAttribute("aria-hidden",!0),this.renderer.$gutter.removeAttribute("role"),this.renderer.$gutter.removeAttribute("aria-roledescription"),this.renderer.$gutter.removeAttribute("aria-label"),this.renderer.$gutter.classList.remove(this.renderer.keyboardFocusClassName),k&&k.removeListener())},initialValue:!1},textInputAriaLabel:{set:function(y){this.$textInputAriaLabel=y},initialValue:""},enableMobileMenu:{set:function(y){this.$enableMobileMenu=y},initialValue:!0},customScrollbar:"renderer",hScrollBarAlwaysVisible:"renderer",vScrollBarAlwaysVisible:"renderer",highlightGutterLine:"renderer",animatedScroll:"renderer",showInvisibles:"renderer",showPrintMargin:"renderer",printMarginColumn:"renderer",printMargin:"renderer",fadeFoldWidgets:"renderer",showFoldWidgets:"renderer",displayIndentGuides:"renderer",highlightIndentGuides:"renderer",showGutter:"renderer",fontSize:"renderer",fontFamily:"renderer",maxLines:"renderer",minLines:"renderer",scrollPastEnd:"renderer",fixedWidthGutter:"renderer",theme:"renderer",hasCssTransforms:"renderer",maxPixelHeight:"renderer",useTextareaForIME:"renderer",useResizeObserver:"renderer",useSvgGutterIcons:"renderer",showFoldedAnnotations:"renderer",scrollSpeed:"$mouseHandler",dragDelay:"$mouseHandler",dragEnabled:"$mouseHandler",focusTimeout:"$mouseHandler",tooltipFollowsMouse:"$mouseHandler",firstLineNumber:"session",overwrite:"session",newLineMode:"session",useWorker:"session",useSoftTabs:"session",navigateWithinSoftTabs:"session",tabSize:"session",wrap:"session",indentedSoftWrap:"session",foldStyle:"session",mode:"session"});var g={getText:function(y,l){return(Math.abs(y.selection.lead.row-l)||l+1+(l<9?"":""))+""},getWidth:function(y,l,w){return Math.max(l.toString().length,(w.lastRow+1).toString().length,2)*w.characterWidth},update:function(y,l){l.renderer.$loop.schedule(l.renderer.CHANGE_GUTTER)},attach:function(y){y.renderer.$gutterLayer.$renderer=this,y.on("changeSelection",this.update),this.update(null,y)},detach:function(y){y.renderer.$gutterLayer.$renderer==this&&(y.renderer.$gutterLayer.$renderer=null),y.off("changeSelection",this.update),this.update(null,y)}};B.Editor=L}),ace.define("ace/layer/lines",["require","exports","module","ace/lib/dom"],function(f,B,z){var M=f("../lib/dom"),b=function(){function _(s,d){this.element=s,this.canvasHeight=d||5e5,this.element.style.height=this.canvasHeight*2+"px",this.cells=[],this.cellCache=[],this.$offsetCoefficient=0}return _.prototype.moveContainer=function(s){M.translate(this.element,0,-(s.firstRowScreen*s.lineHeight%this.canvasHeight)-s.offset*this.$offsetCoefficient)},_.prototype.pageChanged=function(s,d){return Math.floor(s.firstRowScreen*s.lineHeight/this.canvasHeight)!==Math.floor(d.firstRowScreen*d.lineHeight/this.canvasHeight)},_.prototype.computeLineTop=function(s,d,o){var n=d.firstRowScreen*d.lineHeight,i=Math.floor(n/this.canvasHeight),t=o.documentToScreenRow(s,0)*d.lineHeight;return t-i*this.canvasHeight},_.prototype.computeLineHeight=function(s,d,o){return d.lineHeight*o.getRowLineCount(s)},_.prototype.getLength=function(){return this.cells.length},_.prototype.get=function(s){return this.cells[s]},_.prototype.shift=function(){this.$cacheCell(this.cells.shift())},_.prototype.pop=function(){this.$cacheCell(this.cells.pop())},_.prototype.push=function(s){if(Array.isArray(s)){this.cells.push.apply(this.cells,s);for(var d=M.createFragment(this.element),o=0;o<s.length;o++)d.appendChild(s[o].element);this.element.appendChild(d)}else this.cells.push(s),this.element.appendChild(s.element)},_.prototype.unshift=function(s){if(Array.isArray(s)){this.cells.unshift.apply(this.cells,s);for(var d=M.createFragment(this.element),o=0;o<s.length;o++)d.appendChild(s[o].element);this.element.firstChild?this.element.insertBefore(d,this.element.firstChild):this.element.appendChild(d)}else this.cells.unshift(s),this.element.insertAdjacentElement("afterbegin",s.element)},_.prototype.last=function(){return this.cells.length?this.cells[this.cells.length-1]:null},_.prototype.$cacheCell=function(s){s&&(s.element.remove(),this.cellCache.push(s))},_.prototype.createCell=function(s,d,o,n){var i=this.cellCache.pop();if(!i){var t=M.createElement("div");n&&n(t),this.element.appendChild(t),i={element:t,text:"",row:s}}return i.row=s,i},_}();B.Lines=b}),ace.define("ace/layer/gutter",["require","exports","module","ace/lib/dom","ace/lib/oop","ace/lib/lang","ace/lib/event_emitter","ace/layer/lines","ace/config"],function(f,B,z){var M=f("../lib/dom"),b=f("../lib/oop"),_=f("../lib/lang"),s=f("../lib/event_emitter").EventEmitter,d=f("./lines").Lines,o=f("../config").nls,n=function(){function t(e){this.element=M.createElement("div"),this.element.className="ace_layer ace_gutter-layer",e.appendChild(this.element),this.setShowFoldWidgets(this.$showFoldWidgets),this.gutterWidth=0,this.$annotations=[],this.$updateAnnotations=this.$updateAnnotations.bind(this),this.$lines=new d(this.element),this.$lines.$offsetCoefficient=1}return t.prototype.setSession=function(e){this.session&&this.session.off("change",this.$updateAnnotations),this.session=e,e&&e.on("change",this.$updateAnnotations)},t.prototype.addGutterDecoration=function(e,r){window.console&&console.warn&&console.warn("deprecated use session.addGutterDecoration"),this.session.addGutterDecoration(e,r)},t.prototype.removeGutterDecoration=function(e,r){window.console&&console.warn&&console.warn("deprecated use session.removeGutterDecoration"),this.session.removeGutterDecoration(e,r)},t.prototype.setAnnotations=function(e){this.$annotations=[];for(var r=0;r<e.length;r++){var a=e[r],c=a.row,h=this.$annotations[c];h||(h=this.$annotations[c]={text:[],type:[],displayText:[]});var $=a.text,v=a.text,p=a.type;$=$?_.escapeHTML($):a.html||"",v=v||a.html||"",h.text.indexOf($)===-1&&(h.text.push($),h.type.push(p),h.displayText.push(v));var u=a.className;u?h.className=u:p==="error"?h.className=" ace_error":p==="security"&&!/\bace_error\b/.test(h.className)?h.className=" ace_security":p==="warning"&&!/\bace_(error|security)\b/.test(h.className)?h.className=" ace_warning":p==="info"&&!h.className?h.className=" ace_info":p==="hint"&&!h.className&&(h.className=" ace_hint")}},t.prototype.$updateAnnotations=function(e){if(this.$annotations.length){var r=e.start.row,a=e.end.row-r;if(a!==0)if(e.action=="remove")this.$annotations.splice(r,a+1,null);else{var c=new Array(a+1);c.unshift(r,1),this.$annotations.splice.apply(this.$annotations,c)}}},t.prototype.update=function(e){this.config=e;var r=this.session,a=e.firstRow,c=Math.min(e.lastRow+e.gutterOffset,r.getLength()-1);this.oldLastRow=c,this.config=e,this.$lines.moveContainer(e),this.$updateCursorRow();for(var h=r.getNextFoldLine(a),$=h?h.start.row:1/0,v=null,p=-1,u=a;;){if(u>$&&(u=h.end.row+1,h=r.getNextFoldLine(u,h),$=h?h.start.row:1/0),u>c){for(;this.$lines.getLength()>p+1;)this.$lines.pop();break}v=this.$lines.get(++p),v?v.row=u:(v=this.$lines.createCell(u,e,this.session,i),this.$lines.push(v)),this.$renderCell(v,e,h,u),u++}this._signal("afterRender"),this.$updateGutterWidth(e)},t.prototype.$updateGutterWidth=function(e){var r=this.session,a=r.gutterRenderer||this.$renderer,c=r.$firstLineNumber,h=this.$lines.last()?this.$lines.last().text:"";(this.$fixedWidth||r.$useWrapMode)&&(h=r.getLength()+c-1);var $=a?a.getWidth(r,h,e):h.toString().length*e.characterWidth,v=this.$padding||this.$computePadding();$+=v.left+v.right,$!==this.gutterWidth&&!isNaN($)&&(this.gutterWidth=$,this.element.parentNode.style.width=this.element.style.width=Math.ceil(this.gutterWidth)+"px",this._signal("changeGutterWidth",$))},t.prototype.$updateCursorRow=function(){if(this.$highlightGutterLine){var e=this.session.selection.getCursor();this.$cursorRow!==e.row&&(this.$cursorRow=e.row)}},t.prototype.updateLineHighlight=function(){if(this.$highlightGutterLine){var e=this.session.selection.cursor.row;if(this.$cursorRow=e,!(this.$cursorCell&&this.$cursorCell.row==e)){this.$cursorCell&&(this.$cursorCell.element.className=this.$cursorCell.element.className.replace("ace_gutter-active-line ",""));var r=this.$lines.cells;this.$cursorCell=null;for(var a=0;a<r.length;a++){var c=r[a];if(c.row>=this.$cursorRow){if(c.row>this.$cursorRow){var h=this.session.getFoldLine(this.$cursorRow);if(a>0&&h&&h.start.row==r[a-1].row)c=r[a-1];else break}c.element.className="ace_gutter-active-line "+c.element.className,this.$cursorCell=c;break}}}}},t.prototype.scrollLines=function(e){var r=this.config;if(this.config=e,this.$updateCursorRow(),this.$lines.pageChanged(r,e))return this.update(e);this.$lines.moveContainer(e);var a=Math.min(e.lastRow+e.gutterOffset,this.session.getLength()-1),c=this.oldLastRow;if(this.oldLastRow=a,!r||c<e.firstRow)return this.update(e);if(a<r.firstRow)return this.update(e);if(r.firstRow<e.firstRow)for(var h=this.session.getFoldedRowCount(r.firstRow,e.firstRow-1);h>0;h--)this.$lines.shift();if(c>a)for(var h=this.session.getFoldedRowCount(a+1,c);h>0;h--)this.$lines.pop();e.firstRow<r.firstRow&&this.$lines.unshift(this.$renderLines(e,e.firstRow,r.firstRow-1)),a>c&&this.$lines.push(this.$renderLines(e,c+1,a)),this.updateLineHighlight(),this._signal("afterRender"),this.$updateGutterWidth(e)},t.prototype.$renderLines=function(e,r,a){for(var c=[],h=r,$=this.session.getNextFoldLine(h),v=$?$.start.row:1/0;h>v&&(h=$.end.row+1,$=this.session.getNextFoldLine(h,$),v=$?$.start.row:1/0),!(h>a);){var p=this.$lines.createCell(h,e,this.session,i);this.$renderCell(p,e,$,h),c.push(p),h++}return c},t.prototype.$renderCell=function(e,r,a,c){var h=e.element,$=this.session,v=h.childNodes[0],p=h.childNodes[1],u=h.childNodes[2],m=u.firstChild,E=$.$firstLineNumber,C=$.$breakpoints,R=$.$decorations,L=$.gutterRenderer||this.$renderer,g=this.$showFoldWidgets&&$.foldWidgets,y=a?a.start.row:Number.MAX_VALUE,l=r.lineHeight+"px",w=this.$useSvgGutterIcons?"ace_gutter-cell_svg-icons ":"ace_gutter-cell ",k=this.$useSvgGutterIcons?"ace_icon_svg":"ace_icon",I=(L?L.getText($,c):c+E).toString();if(this.$highlightGutterLine&&(c==this.$cursorRow||a&&c<this.$cursorRow&&c>=y&&this.$cursorRow<=a.end.row)&&(w+="ace_gutter-active-line ",this.$cursorCell!=e&&(this.$cursorCell&&(this.$cursorCell.element.className=this.$cursorCell.element.className.replace("ace_gutter-active-line ","")),this.$cursorCell=e)),C[c]&&(w+=C[c]),R[c]&&(w+=R[c]),this.$annotations[c]&&c!==y&&(w+=this.$annotations[c].className),g){var G=g[c];G==null&&(G=g[c]=$.getFoldWidget(c))}if(G){var H="ace_fold-widget ace_"+G,J=G=="start"&&c==y&&c<a.end.row;if(J){H+=" ace_closed";for(var j="",K=!1,ie=c+1;ie<=a.end.row;ie++)if(this.$annotations[ie]){if(this.$annotations[ie].className===" ace_error"){K=!0,j=" ace_error_fold";break}this.$annotations[ie].className===" ace_security"?(K=!0,j=" ace_security_fold"):this.$annotations[ie].className===" ace_warning"&&j!==" ace_security_fold"&&(K=!0,j=" ace_warning_fold")}w+=j}else H+=" ace_open";p.className!=H&&(p.className=H),M.setStyle(p.style,"height",l),M.setStyle(p.style,"display","inline-block"),p.setAttribute("role","button"),p.setAttribute("tabindex","-1");var ee=$.getFoldWidgetRange(c);ee?p.setAttribute("aria-label",o("gutter.code-folding.range.aria-label","Toggle code folding, rows $0 through $1",[ee.start.row+1,ee.end.row+1])):a?p.setAttribute("aria-label",o("gutter.code-folding.closed.aria-label","Toggle code folding, rows $0 through $1",[a.start.row+1,a.end.row+1])):p.setAttribute("aria-label",o("gutter.code-folding.open.aria-label","Toggle code folding, row $0",[c+1])),J?(p.setAttribute("aria-expanded","false"),p.setAttribute("title",o("gutter.code-folding.closed.title","Unfold code"))):(p.setAttribute("aria-expanded","true"),p.setAttribute("title",o("gutter.code-folding.open.title","Fold code")))}else p&&(M.setStyle(p.style,"display","none"),p.setAttribute("tabindex","0"),p.removeAttribute("role"),p.removeAttribute("aria-label"));if(K&&this.$showFoldedAnnotations){u.className="ace_gutter_annotation",m.className=k,m.className+=j,M.setStyle(m.style,"height",l),M.setStyle(u.style,"display","block"),M.setStyle(u.style,"height",l);var oe;switch(j){case" ace_error_fold":oe=o("gutter.annotation.aria-label.error","Error, read annotations row $0",[I]);break;case" ace_security_fold":oe=o("gutter.annotation.aria-label.security","Security finding, read annotations row $0",[I]);break;case" ace_warning_fold":oe=o("gutter.annotation.aria-label.warning","Warning, read annotations row $0",[I]);break}u.setAttribute("aria-label",oe),u.setAttribute("tabindex","-1"),u.setAttribute("role","button")}else if(this.$annotations[c]){u.className="ace_gutter_annotation",m.className=k,this.$useSvgGutterIcons?m.className+=this.$annotations[c].className:h.classList.add(this.$annotations[c].className.replace(" ","")),M.setStyle(m.style,"height",l),M.setStyle(u.style,"display","block"),M.setStyle(u.style,"height",l);var oe;switch(this.$annotations[c].className){case" ace_error":oe=o("gutter.annotation.aria-label.error","Error, read annotations row $0",[I]);break;case" ace_security":oe=o("gutter.annotation.aria-label.security","Security finding, read annotations row $0",[I]);break;case" ace_warning":oe=o("gutter.annotation.aria-label.warning","Warning, read annotations row $0",[I]);break;case" ace_info":oe=o("gutter.annotation.aria-label.info","Info, read annotations row $0",[I]);break;case" ace_hint":oe=o("gutter.annotation.aria-label.hint","Suggestion, read annotations row $0",[I]);break}u.setAttribute("aria-label",oe),u.setAttribute("tabindex","-1"),u.setAttribute("role","button")}else M.setStyle(u.style,"display","none"),u.removeAttribute("aria-label"),u.removeAttribute("role"),u.setAttribute("tabindex","0");return I!==v.data&&(v.data=I),h.className!=w&&(h.className=w),M.setStyle(e.element.style,"height",this.$lines.computeLineHeight(c,r,$)+"px"),M.setStyle(e.element.style,"top",this.$lines.computeLineTop(c,r,$)+"px"),e.text=I,u.style.display==="none"&&p.style.display==="none"?e.element.setAttribute("aria-hidden",!0):e.element.setAttribute("aria-hidden",!1),e},t.prototype.setHighlightGutterLine=function(e){this.$highlightGutterLine=e},t.prototype.setShowLineNumbers=function(e){this.$renderer=!e&&{getWidth:function(){return 0},getText:function(){return""}}},t.prototype.getShowLineNumbers=function(){return this.$showLineNumbers},t.prototype.setShowFoldWidgets=function(e){e?M.addCssClass(this.element,"ace_folding-enabled"):M.removeCssClass(this.element,"ace_folding-enabled"),this.$showFoldWidgets=e,this.$padding=null},t.prototype.getShowFoldWidgets=function(){return this.$showFoldWidgets},t.prototype.$computePadding=function(){if(!this.element.firstChild)return{left:0,right:0};var e=M.computedStyle(this.element.firstChild);return this.$padding={},this.$padding.left=(parseInt(e.borderLeftWidth)||0)+(parseInt(e.paddingLeft)||0)+1,this.$padding.right=(parseInt(e.borderRightWidth)||0)+(parseInt(e.paddingRight)||0),this.$padding},t.prototype.getRegion=function(e){var r=this.$padding||this.$computePadding(),a=this.element.getBoundingClientRect();if(e.x<r.left+a.left)return"markers";if(this.$showFoldWidgets&&e.x>a.right-r.right)return"foldWidgets"},t}();n.prototype.$fixedWidth=!1,n.prototype.$highlightGutterLine=!0,n.prototype.$renderer="",n.prototype.$showLineNumbers=!0,n.prototype.$showFoldWidgets=!0,b.implement(n.prototype,s);function i(t){var e=document.createTextNode("");t.appendChild(e);var r=M.createElement("span");t.appendChild(r);var a=M.createElement("span");t.appendChild(a);var c=M.createElement("span");return a.appendChild(c),t}B.Gutter=n}),ace.define("ace/layer/marker",["require","exports","module","ace/range","ace/lib/dom"],function(f,B,z){var M=f("../range").Range,b=f("../lib/dom"),_=function(){function d(o){this.element=b.createElement("div"),this.element.className="ace_layer ace_marker-layer",o.appendChild(this.element)}return d.prototype.setPadding=function(o){this.$padding=o},d.prototype.setSession=function(o){this.session=o},d.prototype.setMarkers=function(o){this.markers=o},d.prototype.elt=function(o,n){var i=this.i!=-1&&this.element.childNodes[this.i];i?this.i++:(i=document.createElement("div"),this.element.appendChild(i),this.i=-1),i.style.cssText=n,i.className=o},d.prototype.update=function(o){if(o){this.config=o,this.i=0;var n;for(var i in this.markers){var t=this.markers[i];if(!t.range){t.update(n,this,this.session,o);continue}var e=t.range.clipRows(o.firstRow,o.lastRow);if(!e.isEmpty())if(e=e.toScreenRange(this.session),t.renderer){var r=this.$getTop(e.start.row,o),a=this.$padding+e.start.column*o.characterWidth;t.renderer(n,e,a,r,o)}else t.type=="fullLine"?this.drawFullLineMarker(n,e,t.clazz,o):t.type=="screenLine"?this.drawScreenLineMarker(n,e,t.clazz,o):e.isMultiLine()?t.type=="text"?this.drawTextMarker(n,e,t.clazz,o):this.drawMultiLineMarker(n,e,t.clazz,o):this.drawSingleLineMarker(n,e,t.clazz+" ace_start ace_br15",o)}if(this.i!=-1)for(;this.i<this.element.childElementCount;)this.element.removeChild(this.element.lastChild)}},d.prototype.$getTop=function(o,n){return(o-n.firstRowScreen)*n.lineHeight},d.prototype.drawTextMarker=function(o,n,i,t,e){for(var r=this.session,a=n.start.row,c=n.end.row,h=a,$=0,v=0,p=r.getScreenLastRowColumn(h),u=new M(h,n.start.column,h,v);h<=c;h++)u.start.row=u.end.row=h,u.start.column=h==a?n.start.column:r.getRowWrapIndent(h),u.end.column=p,$=v,v=p,p=h+1<c?r.getScreenLastRowColumn(h+1):h==c?0:n.end.column,this.drawSingleLineMarker(o,u,i+(h==a?" ace_start":"")+" ace_br"+s(h==a||h==a+1&&n.start.column,$<v,v>p,h==c),t,h==c?0:1,e)},d.prototype.drawMultiLineMarker=function(o,n,i,t,e){var r=this.$padding,a=t.lineHeight,c=this.$getTop(n.start.row,t),h=r+n.start.column*t.characterWidth;if(e=e||"",this.session.$bidiHandler.isBidiRow(n.start.row)){var $=n.clone();$.end.row=$.start.row,$.end.column=this.session.getLine($.start.row).length,this.drawBidiSingleLineMarker(o,$,i+" ace_br1 ace_start",t,null,e)}else this.elt(i+" ace_br1 ace_start","height:"+a+"px;right:"+r+"px;top:"+c+"px;left:"+h+"px;"+(e||""));if(this.session.$bidiHandler.isBidiRow(n.end.row)){var $=n.clone();$.start.row=$.end.row,$.start.column=0,this.drawBidiSingleLineMarker(o,$,i+" ace_br12",t,null,e)}else{c=this.$getTop(n.end.row,t);var v=n.end.column*t.characterWidth;this.elt(i+" ace_br12","height:"+a+"px;width:"+v+"px;top:"+c+"px;left:"+r+"px;"+(e||""))}if(a=(n.end.row-n.start.row-1)*t.lineHeight,!(a<=0)){c=this.$getTop(n.start.row+1,t);var p=(n.start.column?1:0)|(n.end.column?0:8);this.elt(i+(p?" ace_br"+p:""),"height:"+a+"px;right:"+r+"px;top:"+c+"px;left:"+r+"px;"+(e||""))}},d.prototype.drawSingleLineMarker=function(o,n,i,t,e,r){if(this.session.$bidiHandler.isBidiRow(n.start.row))return this.drawBidiSingleLineMarker(o,n,i,t,e,r);var a=t.lineHeight,c=(n.end.column+(e||0)-n.start.column)*t.characterWidth,h=this.$getTop(n.start.row,t),$=this.$padding+n.start.column*t.characterWidth;this.elt(i,"height:"+a+"px;width:"+c+"px;top:"+h+"px;left:"+$+"px;"+(r||""))},d.prototype.drawBidiSingleLineMarker=function(o,n,i,t,e,r){var a=t.lineHeight,c=this.$getTop(n.start.row,t),h=this.$padding,$=this.session.$bidiHandler.getSelections(n.start.column,n.end.column);$.forEach(function(v){this.elt(i,"height:"+a+"px;width:"+(v.width+(e||0))+"px;top:"+c+"px;left:"+(h+v.left)+"px;"+(r||""))},this)},d.prototype.drawFullLineMarker=function(o,n,i,t,e){var r=this.$getTop(n.start.row,t),a=t.lineHeight;n.start.row!=n.end.row&&(a+=this.$getTop(n.end.row,t)-r),this.elt(i,"height:"+a+"px;top:"+r+"px;left:0;right:0;"+(e||""))},d.prototype.drawScreenLineMarker=function(o,n,i,t,e){var r=this.$getTop(n.start.row,t),a=t.lineHeight;this.elt(i,"height:"+a+"px;top:"+r+"px;left:0;right:0;"+(e||""))},d}();_.prototype.$padding=0;function s(d,o,n,i){return(d?1:0)|(o?2:0)|(n?4:0)|(i?8:0)}B.Marker=_}),ace.define("ace/layer/text_util",["require","exports","module"],function(f,B,z){var M=new Set(["text","rparen","lparen"]);B.isTextToken=function(b){return M.has(b)}}),ace.define("ace/layer/text",["require","exports","module","ace/lib/oop","ace/lib/dom","ace/lib/lang","ace/layer/lines","ace/lib/event_emitter","ace/config","ace/layer/text_util"],function(f,B,z){var M=f("../lib/oop"),b=f("../lib/dom"),_=f("../lib/lang"),s=f("./lines").Lines,d=f("../lib/event_emitter").EventEmitter,o=f("../config").nls,n=f("./text_util").isTextToken,i=function(){function t(e){this.dom=b,this.element=this.dom.createElement("div"),this.element.className="ace_layer ace_text-layer",e.appendChild(this.element),this.$updateEolChar=this.$updateEolChar.bind(this),this.$lines=new s(this.element)}return t.prototype.$updateEolChar=function(){var e=this.session.doc,r=e.getNewLineCharacter()==`
`&&e.getNewLineMode()!="windows",a=r?this.EOL_CHAR_LF:this.EOL_CHAR_CRLF;if(this.EOL_CHAR!=a)return this.EOL_CHAR=a,!0},t.prototype.setPadding=function(e){this.$padding=e,this.element.style.margin="0 "+e+"px"},t.prototype.getLineHeight=function(){return this.$fontMetrics.$characterSize.height||0},t.prototype.getCharacterWidth=function(){return this.$fontMetrics.$characterSize.width||0},t.prototype.$setFontMetrics=function(e){this.$fontMetrics=e,this.$fontMetrics.on("changeCharacterSize",(function(r){this._signal("changeCharacterSize",r)}).bind(this)),this.$pollSizeChanges()},t.prototype.checkForSizeChanges=function(){this.$fontMetrics.checkForSizeChanges()},t.prototype.$pollSizeChanges=function(){return this.$pollSizeChangesTimer=this.$fontMetrics.$pollSizeChanges()},t.prototype.setSession=function(e){this.session=e,e&&this.$computeTabString()},t.prototype.setShowInvisibles=function(e){return this.showInvisibles==e?!1:(this.showInvisibles=e,typeof e=="string"?(this.showSpaces=/tab/i.test(e),this.showTabs=/space/i.test(e),this.showEOL=/eol/i.test(e)):this.showSpaces=this.showTabs=this.showEOL=e,this.$computeTabString(),!0)},t.prototype.setDisplayIndentGuides=function(e){return this.displayIndentGuides==e?!1:(this.displayIndentGuides=e,this.$computeTabString(),!0)},t.prototype.setHighlightIndentGuides=function(e){return this.$highlightIndentGuides===e?!1:(this.$highlightIndentGuides=e,e)},t.prototype.$computeTabString=function(){var e=this.session.getTabSize();this.tabSize=e;for(var r=this.$tabStrings=[0],a=1;a<e+1;a++)if(this.showTabs){var c=this.dom.createElement("span");c.className="ace_invisible ace_invisible_tab",c.textContent=_.stringRepeat(this.TAB_CHAR,a),r.push(c)}else r.push(this.dom.createTextNode(_.stringRepeat(" ",a),this.element));if(this.displayIndentGuides){this.$indentGuideRe=/\s\S| \t|\t |\s$/;var h="ace_indent-guide",$=this.showSpaces?" ace_invisible ace_invisible_space":"",v=this.showSpaces?_.stringRepeat(this.SPACE_CHAR,this.tabSize):_.stringRepeat(" ",this.tabSize),p=this.showTabs?" ace_invisible ace_invisible_tab":"",u=this.showTabs?_.stringRepeat(this.TAB_CHAR,this.tabSize):v,c=this.dom.createElement("span");c.className=h+$,c.textContent=v,this.$tabStrings[" "]=c;var c=this.dom.createElement("span");c.className=h+p,c.textContent=u,this.$tabStrings["	"]=c}},t.prototype.updateLines=function(e,r,a){if(this.config.lastRow!=e.lastRow||this.config.firstRow!=e.firstRow)return this.update(e);this.config=e;for(var c=Math.max(r,e.firstRow),h=Math.min(a,e.lastRow),$=this.element.childNodes,v=0,u=e.firstRow;u<c;u++){var m=this.session.getFoldLine(u);if(m)if(m.containsRow(c)){c=m.start.row;break}else u=m.end.row;v++}for(var p=!1,u=c,m=this.session.getNextFoldLine(u),E=m?m.start.row:1/0;u>E&&(u=m.end.row+1,m=this.session.getNextFoldLine(u,m),E=m?m.start.row:1/0),!(u>h);){var C=$[v++];if(C){this.dom.removeChildren(C),this.$renderLine(C,u,u==E?m:!1),p&&(C.style.top=this.$lines.computeLineTop(u,e,this.session)+"px");var R=e.lineHeight*this.session.getRowLength(u)+"px";C.style.height!=R&&(p=!0,C.style.height=R)}u++}if(p)for(;v<this.$lines.cells.length;){var L=this.$lines.cells[v++];L.element.style.top=this.$lines.computeLineTop(L.row,e,this.session)+"px"}},t.prototype.scrollLines=function(e){var r=this.config;if(this.config=e,this.$lines.pageChanged(r,e))return this.update(e);this.$lines.moveContainer(e);var a=e.lastRow,c=r?r.lastRow:-1;if(!r||c<e.firstRow)return this.update(e);if(a<r.firstRow)return this.update(e);if(!r||r.lastRow<e.firstRow)return this.update(e);if(e.lastRow<r.firstRow)return this.update(e);if(r.firstRow<e.firstRow)for(var h=this.session.getFoldedRowCount(r.firstRow,e.firstRow-1);h>0;h--)this.$lines.shift();if(r.lastRow>e.lastRow)for(var h=this.session.getFoldedRowCount(e.lastRow+1,r.lastRow);h>0;h--)this.$lines.pop();e.firstRow<r.firstRow&&this.$lines.unshift(this.$renderLinesFragment(e,e.firstRow,r.firstRow-1)),e.lastRow>r.lastRow&&this.$lines.push(this.$renderLinesFragment(e,r.lastRow+1,e.lastRow)),this.$highlightIndentGuide()},t.prototype.$renderLinesFragment=function(e,r,a){for(var c=[],h=r,$=this.session.getNextFoldLine(h),v=$?$.start.row:1/0;h>v&&(h=$.end.row+1,$=this.session.getNextFoldLine(h,$),v=$?$.start.row:1/0),!(h>a);){var p=this.$lines.createCell(h,e,this.session),u=p.element;this.dom.removeChildren(u),b.setStyle(u.style,"height",this.$lines.computeLineHeight(h,e,this.session)+"px"),b.setStyle(u.style,"top",this.$lines.computeLineTop(h,e,this.session)+"px"),this.$renderLine(u,h,h==v?$:!1),this.$useLineGroups()?u.className="ace_line_group":u.className="ace_line",c.push(p),h++}return c},t.prototype.update=function(e){this.$lines.moveContainer(e),this.config=e;for(var r=e.firstRow,a=e.lastRow,c=this.$lines;c.getLength();)c.pop();c.push(this.$renderLinesFragment(e,r,a))},t.prototype.$renderToken=function(e,r,a,c){for(var h=this,$=/(\t)|( +)|([\x00-\x1f\x80-\xa0\xad\u1680\u180E\u2000-\u200f\u2028\u2029\u202F\u205F\uFEFF\uFFF9-\uFFFC\u2066\u2067\u2068\u202A\u202B\u202D\u202E\u202C\u2069]+)|(\u3000)|([\u1100-\u115F\u11A3-\u11A7\u11FA-\u11FF\u2329-\u232A\u2E80-\u2E99\u2E9B-\u2EF3\u2F00-\u2FD5\u2FF0-\u2FFB\u3001-\u303E\u3041-\u3096\u3099-\u30FF\u3105-\u312D\u3131-\u318E\u3190-\u31BA\u31C0-\u31E3\u31F0-\u321E\u3220-\u3247\u3250-\u32FE\u3300-\u4DBF\u4E00-\uA48C\uA490-\uA4C6\uA960-\uA97C\uAC00-\uD7A3\uD7B0-\uD7C6\uD7CB-\uD7FB\uF900-\uFAFF\uFE10-\uFE19\uFE30-\uFE52\uFE54-\uFE66\uFE68-\uFE6B\uFF01-\uFF60\uFFE0-\uFFE6]|[\uD800-\uDBFF][\uDC00-\uDFFF])/g,v=this.dom.createFragment(this.element),p,u=0;p=$.exec(c);){var m=p[1],E=p[2],C=p[3],R=p[4],L=p[5];if(!(!h.showSpaces&&E)){var g=u!=p.index?c.slice(u,p.index):"";if(u=p.index+p[0].length,g&&v.appendChild(this.dom.createTextNode(g,this.element)),m){var y=h.session.getScreenTabSize(r+p.index);v.appendChild(h.$tabStrings[y].cloneNode(!0)),r+=y-1}else if(E)if(h.showSpaces){var l=this.dom.createElement("span");l.className="ace_invisible ace_invisible_space",l.textContent=_.stringRepeat(h.SPACE_CHAR,E.length),v.appendChild(l)}else v.appendChild(this.dom.createTextNode(E,this.element));else if(C){var l=this.dom.createElement("span");l.className="ace_invisible ace_invisible_space ace_invalid",l.textContent=_.stringRepeat(h.SPACE_CHAR,C.length),v.appendChild(l)}else if(R){r+=1;var l=this.dom.createElement("span");l.style.width=h.config.characterWidth*2+"px",l.className=h.showSpaces?"ace_cjk ace_invisible ace_invisible_space":"ace_cjk",l.textContent=h.showSpaces?h.SPACE_CHAR:R,v.appendChild(l)}else if(L){r+=1;var l=this.dom.createElement("span");l.style.width=h.config.characterWidth*2+"px",l.className="ace_cjk",l.textContent=L,v.appendChild(l)}}}if(v.appendChild(this.dom.createTextNode(u?c.slice(u):c,this.element)),n(a.type))e.appendChild(v);else{var w="ace_"+a.type.replace(/\./g," ace_"),l=this.dom.createElement("span");a.type=="fold"&&(l.style.width=a.value.length*this.config.characterWidth+"px",l.setAttribute("title",o("inline-fold.closed.title","Unfold code"))),l.className=w,l.appendChild(v),e.appendChild(l)}return r+c.length},t.prototype.renderIndentGuide=function(e,r,a){var c=r.search(this.$indentGuideRe);if(c<=0||c>=a)return r;if(r[0]==" "){c-=c%this.tabSize;for(var h=c/this.tabSize,$=0;$<h;$++)e.appendChild(this.$tabStrings[" "].cloneNode(!0));return this.$highlightIndentGuide(),r.substr(c)}else if(r[0]=="	"){for(var $=0;$<c;$++)e.appendChild(this.$tabStrings["	"].cloneNode(!0));return this.$highlightIndentGuide(),r.substr(c)}return this.$highlightIndentGuide(),r},t.prototype.$highlightIndentGuide=function(){if(!(!this.$highlightIndentGuides||!this.displayIndentGuides)){this.$highlightIndentGuideMarker={indentLevel:void 0,start:void 0,end:void 0,dir:void 0};var e=this.session.doc.$lines;if(e){var r=this.session.selection.getCursor(),a=/^\s*/.exec(this.session.doc.getLine(r.row))[0].length,c=Math.floor(a/this.tabSize);this.$highlightIndentGuideMarker={indentLevel:c,start:r.row};var h=this.session.$bracketHighlight;if(h){for(var $=this.session.$bracketHighlight.ranges,v=0;v<$.length;v++)if(r.row!==$[v].start.row){this.$highlightIndentGuideMarker.end=$[v].start.row,r.row>$[v].start.row?this.$highlightIndentGuideMarker.dir=-1:this.$highlightIndentGuideMarker.dir=1;break}}if(!this.$highlightIndentGuideMarker.end&&e[r.row]!==""&&r.column===e[r.row].length){this.$highlightIndentGuideMarker.dir=1;for(var v=r.row+1;v<e.length;v++){var p=e[v],u=/^\s*/.exec(p)[0].length;if(p!==""&&(this.$highlightIndentGuideMarker.end=v,u<=a))break}}this.$renderHighlightIndentGuide()}}},t.prototype.$clearActiveIndentGuide=function(){for(var e=this.$lines.cells,r=0;r<e.length;r++){var a=e[r],c=a.element.childNodes;if(c.length>0){for(var h=0;h<c.length;h++)if(c[h].classList&&c[h].classList.contains("ace_indent-guide-active")){c[h].classList.remove("ace_indent-guide-active");break}}}},t.prototype.$setIndentGuideActive=function(e,r){var a=this.session.doc.getLine(e.row);if(a!==""){var c=e.element.childNodes;if(c){var h=c[r-1];h&&h.classList&&h.classList.contains("ace_indent-guide")&&h.classList.add("ace_indent-guide-active")}}},t.prototype.$renderHighlightIndentGuide=function(){if(this.$lines){var e=this.$lines.cells;this.$clearActiveIndentGuide();var r=this.$highlightIndentGuideMarker.indentLevel;if(r!==0)if(this.$highlightIndentGuideMarker.dir===1)for(var a=0;a<e.length;a++){var c=e[a];if(this.$highlightIndentGuideMarker.end&&c.row>=this.$highlightIndentGuideMarker.start+1){if(c.row>=this.$highlightIndentGuideMarker.end)break;this.$setIndentGuideActive(c,r)}}else for(var a=e.length-1;a>=0;a--){var c=e[a];if(this.$highlightIndentGuideMarker.end&&c.row<this.$highlightIndentGuideMarker.start){if(c.row<=this.$highlightIndentGuideMarker.end)break;this.$setIndentGuideActive(c,r)}}}},t.prototype.$createLineElement=function(e){var r=this.dom.createElement("div");return r.className="ace_line",r.style.height=this.config.lineHeight+"px",r},t.prototype.$renderWrappedLine=function(e,r,a){var c=0,h=0,$=a[0],v=0,p=this.$createLineElement();e.appendChild(p);for(var u=0;u<r.length;u++){var m=r[u],E=m.value;if(u==0&&this.displayIndentGuides){if(c=E.length,E=this.renderIndentGuide(p,E,$),!E)continue;c-=E.length}if(c+E.length<$)v=this.$renderToken(p,v,m,E),c+=E.length;else{for(;c+E.length>=$;)v=this.$renderToken(p,v,m,E.substring(0,$-c)),E=E.substring($-c),c=$,p=this.$createLineElement(),e.appendChild(p),p.appendChild(this.dom.createTextNode(_.stringRepeat("",a.indent),this.element)),h++,v=0,$=a[h]||Number.MAX_VALUE;E.length!=0&&(c+=E.length,v=this.$renderToken(p,v,m,E))}}a[a.length-1]>this.MAX_LINE_LENGTH&&this.$renderOverflowMessage(p,v,null,"",!0)},t.prototype.$renderSimpleLine=function(e,r){for(var a=0,c=0;c<r.length;c++){var h=r[c],$=h.value;if(!(c==0&&this.displayIndentGuides&&($=this.renderIndentGuide(e,$),!$))){if(a+$.length>this.MAX_LINE_LENGTH)return this.$renderOverflowMessage(e,a,h,$);a=this.$renderToken(e,a,h,$)}}},t.prototype.$renderOverflowMessage=function(e,r,a,c,h){a&&this.$renderToken(e,r,a,c.slice(0,this.MAX_LINE_LENGTH-r));var $=this.dom.createElement("span");$.className="ace_inline_button ace_keyword ace_toggle_wrap",$.textContent=h?"<hide>":"<click to see more...>",e.appendChild($)},t.prototype.$renderLine=function(e,r,a){if(!a&&a!=!1&&(a=this.session.getFoldLine(r)),a)var c=this.$getFoldLineTokens(r,a);else var c=this.session.getTokens(r);var h=e;if(c.length){var $=this.session.getRowSplitData(r);if($&&$.length){this.$renderWrappedLine(e,c,$);var h=e.lastChild}else{var h=e;this.$useLineGroups()&&(h=this.$createLineElement(),e.appendChild(h)),this.$renderSimpleLine(h,c)}}else this.$useLineGroups()&&(h=this.$createLineElement(),e.appendChild(h));if(this.showEOL&&h){a&&(r=a.end.row);var v=this.dom.createElement("span");v.className="ace_invisible ace_invisible_eol",v.textContent=r==this.session.getLength()-1?this.EOF_CHAR:this.EOL_CHAR,h.appendChild(v)}},t.prototype.$getFoldLineTokens=function(e,r){var a=this.session,c=[];function h(v,p,u){for(var m=0,E=0;E+v[m].value.length<p;)if(E+=v[m].value.length,m++,m==v.length)return;if(E!=p){var C=v[m].value.substring(p-E);C.length>u-p&&(C=C.substring(0,u-p)),c.push({type:v[m].type,value:C}),E=p+C.length,m+=1}for(;E<u&&m<v.length;){var C=v[m].value;C.length+E>u?c.push({type:v[m].type,value:C.substring(0,u-E)}):c.push(v[m]),E+=C.length,m+=1}}var $=a.getTokens(e);return r.walk(function(v,p,u,m,E){v!=null?c.push({type:"fold",value:v}):(E&&($=a.getTokens(p)),$.length&&h($,m,u))},r.end.row,this.session.getLine(r.end.row).length),c},t.prototype.$useLineGroups=function(){return this.session.getUseWrapMode()},t}();i.prototype.EOF_CHAR="",i.prototype.EOL_CHAR_LF="",i.prototype.EOL_CHAR_CRLF="",i.prototype.EOL_CHAR=i.prototype.EOL_CHAR_LF,i.prototype.TAB_CHAR="",i.prototype.SPACE_CHAR="",i.prototype.$padding=0,i.prototype.MAX_LINE_LENGTH=1e4,i.prototype.showInvisibles=!1,i.prototype.showSpaces=!1,i.prototype.showTabs=!1,i.prototype.showEOL=!1,i.prototype.displayIndentGuides=!0,i.prototype.$highlightIndentGuides=!0,i.prototype.$tabStrings=[],i.prototype.destroy={},i.prototype.onChangeTabSize=i.prototype.$computeTabString,M.implement(i.prototype,d),B.Text=i}),ace.define("ace/layer/cursor",["require","exports","module","ace/lib/dom"],function(f,B,z){var M=f("../lib/dom"),b=function(){function _(s){this.element=M.createElement("div"),this.element.className="ace_layer ace_cursor-layer",s.appendChild(this.element),this.isVisible=!1,this.isBlinking=!0,this.blinkInterval=1e3,this.smoothBlinking=!1,this.cursors=[],this.cursor=this.addCursor(),M.addCssClass(this.element,"ace_hidden-cursors"),this.$updateCursors=this.$updateOpacity.bind(this)}return _.prototype.$updateOpacity=function(s){for(var d=this.cursors,o=d.length;o--;)M.setStyle(d[o].style,"opacity",s?"":"0")},_.prototype.$startCssAnimation=function(){for(var s=this.cursors,d=s.length;d--;)s[d].style.animationDuration=this.blinkInterval+"ms";this.$isAnimating=!0,setTimeout((function(){this.$isAnimating&&M.addCssClass(this.element,"ace_animate-blinking")}).bind(this))},_.prototype.$stopCssAnimation=function(){this.$isAnimating=!1,M.removeCssClass(this.element,"ace_animate-blinking")},_.prototype.setPadding=function(s){this.$padding=s},_.prototype.setSession=function(s){this.session=s},_.prototype.setBlinking=function(s){s!=this.isBlinking&&(this.isBlinking=s,this.restartTimer())},_.prototype.setBlinkInterval=function(s){s!=this.blinkInterval&&(this.blinkInterval=s,this.restartTimer())},_.prototype.setSmoothBlinking=function(s){s!=this.smoothBlinking&&(this.smoothBlinking=s,M.setCssClass(this.element,"ace_smooth-blinking",s),this.$updateCursors(!0),this.restartTimer())},_.prototype.addCursor=function(){var s=M.createElement("div");return s.className="ace_cursor",this.element.appendChild(s),this.cursors.push(s),s},_.prototype.removeCursor=function(){if(this.cursors.length>1){var s=this.cursors.pop();return s.parentNode.removeChild(s),s}},_.prototype.hideCursor=function(){this.isVisible=!1,M.addCssClass(this.element,"ace_hidden-cursors"),this.restartTimer()},_.prototype.showCursor=function(){this.isVisible=!0,M.removeCssClass(this.element,"ace_hidden-cursors"),this.restartTimer()},_.prototype.restartTimer=function(){var s=this.$updateCursors;if(clearInterval(this.intervalId),clearTimeout(this.timeoutId),this.$stopCssAnimation(),this.smoothBlinking&&(this.$isSmoothBlinking=!1,M.removeCssClass(this.element,"ace_smooth-blinking")),s(!0),!this.isBlinking||!this.blinkInterval||!this.isVisible){this.$stopCssAnimation();return}if(this.smoothBlinking&&(this.$isSmoothBlinking=!0,setTimeout((function(){this.$isSmoothBlinking&&M.addCssClass(this.element,"ace_smooth-blinking")}).bind(this))),M.HAS_CSS_ANIMATION)this.$startCssAnimation();else{var d=(function(){this.timeoutId=setTimeout(function(){s(!1)},.6*this.blinkInterval)}).bind(this);this.intervalId=setInterval(function(){s(!0),d()},this.blinkInterval),d()}},_.prototype.getPixelPosition=function(s,d){if(!this.config||!this.session)return{left:0,top:0};s||(s=this.session.selection.getCursor());var o=this.session.documentToScreenPosition(s),n=this.$padding+(this.session.$bidiHandler.isBidiRow(o.row,s.row)?this.session.$bidiHandler.getPosLeft(o.column):o.column*this.config.characterWidth),i=(o.row-(d?this.config.firstRowScreen:0))*this.config.lineHeight;return{left:n,top:i}},_.prototype.isCursorInView=function(s,d){return s.top>=0&&s.top<d.maxHeight},_.prototype.update=function(s){this.config=s;var d=this.session.$selectionMarkers,o=0,n=0;(d===void 0||d.length===0)&&(d=[{cursor:null}]);for(var o=0,i=d.length;o<i;o++){var t=this.getPixelPosition(d[o].cursor,!0);if(!((t.top>s.height+s.offset||t.top<0)&&o>1)){var e=this.cursors[n++]||this.addCursor(),r=e.style;this.drawCursor?this.drawCursor(e,t,s,d[o],this.session):this.isCursorInView(t,s)?(M.setStyle(r,"display","block"),M.translate(e,t.left,t.top),M.setStyle(r,"width",Math.round(s.characterWidth)+"px"),M.setStyle(r,"height",s.lineHeight+"px")):M.setStyle(r,"display","none")}}for(;this.cursors.length>n;)this.removeCursor();var a=this.session.getOverwrite();this.$setOverwrite(a),this.$pixelPos=t,this.restartTimer()},_.prototype.$setOverwrite=function(s){s!=this.overwrite&&(this.overwrite=s,s?M.addCssClass(this.element,"ace_overwrite-cursors"):M.removeCssClass(this.element,"ace_overwrite-cursors"))},_.prototype.destroy=function(){clearInterval(this.intervalId),clearTimeout(this.timeoutId)},_}();b.prototype.$padding=0,b.prototype.drawCursor=null,B.Cursor=b}),ace.define("ace/scrollbar",["require","exports","module","ace/lib/oop","ace/lib/dom","ace/lib/event","ace/lib/event_emitter"],function(f,B,z){var M=this&&this.__extends||function(){var e=function(r,a){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(c,h){c.__proto__=h}||function(c,h){for(var $ in h)Object.prototype.hasOwnProperty.call(h,$)&&(c[$]=h[$])},e(r,a)};return function(r,a){if(typeof a!="function"&&a!==null)throw new TypeError("Class extends value "+String(a)+" is not a constructor or null");e(r,a);function c(){this.constructor=r}r.prototype=a===null?Object.create(a):(c.prototype=a.prototype,new c)}}(),b=f("./lib/oop"),_=f("./lib/dom"),s=f("./lib/event"),d=f("./lib/event_emitter").EventEmitter,o=32768,n=function(){function e(r,a){this.element=_.createElement("div"),this.element.className="ace_scrollbar ace_scrollbar"+a,this.inner=_.createElement("div"),this.inner.className="ace_scrollbar-inner",this.inner.textContent="",this.element.appendChild(this.inner),r.appendChild(this.element),this.setVisible(!1),this.skipEvent=!1,s.addListener(this.element,"scroll",this.onScroll.bind(this)),s.addListener(this.element,"mousedown",s.preventDefault)}return e.prototype.setVisible=function(r){this.element.style.display=r?"":"none",this.isVisible=r,this.coeff=1},e}();b.implement(n.prototype,d);var i=function(e){M(r,e);function r(a,c){var h=e.call(this,a,"-v")||this;return h.scrollTop=0,h.scrollHeight=0,c.$scrollbarWidth=h.width=_.scrollbarWidth(a.ownerDocument),h.inner.style.width=h.element.style.width=(h.width||15)+5+"px",h.$minWidth=0,h}return r.prototype.onScroll=function(){if(!this.skipEvent){if(this.scrollTop=this.element.scrollTop,this.coeff!=1){var a=this.element.clientHeight/this.scrollHeight;this.scrollTop=this.scrollTop*(1-a)/(this.coeff-a)}this._emit("scroll",{data:this.scrollTop})}this.skipEvent=!1},r.prototype.getWidth=function(){return Math.max(this.isVisible?this.width:0,this.$minWidth||0)},r.prototype.setHeight=function(a){this.element.style.height=a+"px"},r.prototype.setScrollHeight=function(a){this.scrollHeight=a,a>o?(this.coeff=o/a,a=o):this.coeff!=1&&(this.coeff=1),this.inner.style.height=a+"px"},r.prototype.setScrollTop=function(a){this.scrollTop!=a&&(this.skipEvent=!0,this.scrollTop=a,this.element.scrollTop=a*this.coeff)},r}(n);i.prototype.setInnerHeight=i.prototype.setScrollHeight;var t=function(e){M(r,e);function r(a,c){var h=e.call(this,a,"-h")||this;return h.scrollLeft=0,h.height=c.$scrollbarWidth,h.inner.style.height=h.element.style.height=(h.height||15)+5+"px",h}return r.prototype.onScroll=function(){this.skipEvent||(this.scrollLeft=this.element.scrollLeft,this._emit("scroll",{data:this.scrollLeft})),this.skipEvent=!1},r.prototype.getHeight=function(){return this.isVisible?this.height:0},r.prototype.setWidth=function(a){this.element.style.width=a+"px"},r.prototype.setInnerWidth=function(a){this.inner.style.width=a+"px"},r.prototype.setScrollWidth=function(a){this.inner.style.width=a+"px"},r.prototype.setScrollLeft=function(a){this.scrollLeft!=a&&(this.skipEvent=!0,this.scrollLeft=this.element.scrollLeft=a)},r}(n);B.ScrollBar=i,B.ScrollBarV=i,B.ScrollBarH=t,B.VScrollBar=i,B.HScrollBar=t}),ace.define("ace/scrollbar_custom",["require","exports","module","ace/lib/oop","ace/lib/dom","ace/lib/event","ace/lib/event_emitter"],function(f,B,z){var M=this&&this.__extends||function(){var t=function(e,r){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(a,c){a.__proto__=c}||function(a,c){for(var h in c)Object.prototype.hasOwnProperty.call(c,h)&&(a[h]=c[h])},t(e,r)};return function(e,r){if(typeof r!="function"&&r!==null)throw new TypeError("Class extends value "+String(r)+" is not a constructor or null");t(e,r);function a(){this.constructor=e}e.prototype=r===null?Object.create(r):(a.prototype=r.prototype,new a)}}(),b=f("./lib/oop"),_=f("./lib/dom"),s=f("./lib/event"),d=f("./lib/event_emitter").EventEmitter;_.importCssString(`.ace_editor>.ace_sb-v div, .ace_editor>.ace_sb-h div{
  position: absolute;
  background: rgba(128, 128, 128, 0.6);
  -moz-box-sizing: border-box;
  box-sizing: border-box;
  border: 1px solid #bbb;
  border-radius: 2px;
  z-index: 8;
}
.ace_editor>.ace_sb-v, .ace_editor>.ace_sb-h {
  position: absolute;
  z-index: 6;
  background: none;
  overflow: hidden!important;
}
.ace_editor>.ace_sb-v {
  z-index: 6;
  right: 0;
  top: 0;
  width: 12px;
}
.ace_editor>.ace_sb-v div {
  z-index: 8;
  right: 0;
  width: 100%;
}
.ace_editor>.ace_sb-h {
  bottom: 0;
  left: 0;
  height: 12px;
}
.ace_editor>.ace_sb-h div {
  bottom: 0;
  height: 100%;
}
.ace_editor>.ace_sb_grabbed {
  z-index: 8;
  background: #000;
}`,"ace_scrollbar.css",!1);var o=function(){function t(e,r){this.element=_.createElement("div"),this.element.className="ace_sb"+r,this.inner=_.createElement("div"),this.inner.className="",this.element.appendChild(this.inner),this.VScrollWidth=12,this.HScrollHeight=12,e.appendChild(this.element),this.setVisible(!1),this.skipEvent=!1,s.addMultiMouseDownListener(this.element,[500,300,300],this,"onMouseDown")}return t.prototype.setVisible=function(e){this.element.style.display=e?"":"none",this.isVisible=e,this.coeff=1},t}();b.implement(o.prototype,d);var n=function(t){M(e,t);function e(r,a){var c=t.call(this,r,"-v")||this;return c.scrollTop=0,c.scrollHeight=0,c.parent=r,c.width=c.VScrollWidth,c.renderer=a,c.inner.style.width=c.element.style.width=(c.width||15)+"px",c.$minWidth=0,c}return e.prototype.onMouseDown=function(r,a){if(r==="mousedown"&&!(s.getButton(a)!==0||a.detail===2)){if(a.target===this.inner){var c=this,h=a.clientY,$=function(R){h=R.clientY},v=function(){clearInterval(E)},p=a.clientY,u=this.thumbTop,m=function(){if(h!==void 0){var R=c.scrollTopFromThumbTop(u+h-p);R!==c.scrollTop&&c._emit("scroll",{data:R})}};s.capture(this.inner,$,v);var E=setInterval(m,20);return s.preventDefault(a)}var C=a.clientY-this.element.getBoundingClientRect().top-this.thumbHeight/2;return this._emit("scroll",{data:this.scrollTopFromThumbTop(C)}),s.preventDefault(a)}},e.prototype.getHeight=function(){return this.height},e.prototype.scrollTopFromThumbTop=function(r){var a=r*(this.pageHeight-this.viewHeight)/(this.slideHeight-this.thumbHeight);return a=a>>0,a<0?a=0:a>this.pageHeight-this.viewHeight&&(a=this.pageHeight-this.viewHeight),a},e.prototype.getWidth=function(){return Math.max(this.isVisible?this.width:0,this.$minWidth||0)},e.prototype.setHeight=function(r){this.height=Math.max(0,r),this.slideHeight=this.height,this.viewHeight=this.height,this.setScrollHeight(this.pageHeight,!0)},e.prototype.setScrollHeight=function(r,a){this.pageHeight===r&&!a||(this.pageHeight=r,this.thumbHeight=this.slideHeight*this.viewHeight/this.pageHeight,this.thumbHeight>this.slideHeight&&(this.thumbHeight=this.slideHeight),this.thumbHeight<15&&(this.thumbHeight=15),this.inner.style.height=this.thumbHeight+"px",this.scrollTop>this.pageHeight-this.viewHeight&&(this.scrollTop=this.pageHeight-this.viewHeight,this.scrollTop<0&&(this.scrollTop=0),this._emit("scroll",{data:this.scrollTop})))},e.prototype.setScrollTop=function(r){this.scrollTop=r,r<0&&(r=0),this.thumbTop=r*(this.slideHeight-this.thumbHeight)/(this.pageHeight-this.viewHeight),this.inner.style.top=this.thumbTop+"px"},e}(o);n.prototype.setInnerHeight=n.prototype.setScrollHeight;var i=function(t){M(e,t);function e(r,a){var c=t.call(this,r,"-h")||this;return c.scrollLeft=0,c.scrollWidth=0,c.height=c.HScrollHeight,c.inner.style.height=c.element.style.height=(c.height||12)+"px",c.renderer=a,c}return e.prototype.onMouseDown=function(r,a){if(r==="mousedown"&&!(s.getButton(a)!==0||a.detail===2)){if(a.target===this.inner){var c=this,h=a.clientX,$=function(R){h=R.clientX},v=function(){clearInterval(E)},p=a.clientX,u=this.thumbLeft,m=function(){if(h!==void 0){var R=c.scrollLeftFromThumbLeft(u+h-p);R!==c.scrollLeft&&c._emit("scroll",{data:R})}};s.capture(this.inner,$,v);var E=setInterval(m,20);return s.preventDefault(a)}var C=a.clientX-this.element.getBoundingClientRect().left-this.thumbWidth/2;return this._emit("scroll",{data:this.scrollLeftFromThumbLeft(C)}),s.preventDefault(a)}},e.prototype.getHeight=function(){return this.isVisible?this.height:0},e.prototype.scrollLeftFromThumbLeft=function(r){var a=r*(this.pageWidth-this.viewWidth)/(this.slideWidth-this.thumbWidth);return a=a>>0,a<0?a=0:a>this.pageWidth-this.viewWidth&&(a=this.pageWidth-this.viewWidth),a},e.prototype.setWidth=function(r){this.width=Math.max(0,r),this.element.style.width=this.width+"px",this.slideWidth=this.width,this.viewWidth=this.width,this.setScrollWidth(this.pageWidth,!0)},e.prototype.setScrollWidth=function(r,a){this.pageWidth===r&&!a||(this.pageWidth=r,this.thumbWidth=this.slideWidth*this.viewWidth/this.pageWidth,this.thumbWidth>this.slideWidth&&(this.thumbWidth=this.slideWidth),this.thumbWidth<15&&(this.thumbWidth=15),this.inner.style.width=this.thumbWidth+"px",this.scrollLeft>this.pageWidth-this.viewWidth&&(this.scrollLeft=this.pageWidth-this.viewWidth,this.scrollLeft<0&&(this.scrollLeft=0),this._emit("scroll",{data:this.scrollLeft})))},e.prototype.setScrollLeft=function(r){this.scrollLeft=r,r<0&&(r=0),this.thumbLeft=r*(this.slideWidth-this.thumbWidth)/(this.pageWidth-this.viewWidth),this.inner.style.left=this.thumbLeft+"px"},e}(o);i.prototype.setInnerWidth=i.prototype.setScrollWidth,B.ScrollBar=n,B.ScrollBarV=n,B.ScrollBarH=i,B.VScrollBar=n,B.HScrollBar=i}),ace.define("ace/renderloop",["require","exports","module","ace/lib/event"],function(f,B,z){var M=f("./lib/event"),b=function(){function _(s,d){this.onRender=s,this.pending=!1,this.changes=0,this.$recursionLimit=2,this.window=d||window;var o=this;this._flush=function(n){o.pending=!1;var i=o.changes;if(i&&(M.blockIdle(100),o.changes=0,o.onRender(i)),o.changes){if(o.$recursionLimit--<0)return;o.schedule()}else o.$recursionLimit=2}}return _.prototype.schedule=function(s){this.changes=this.changes|s,this.changes&&!this.pending&&(M.nextFrame(this._flush),this.pending=!0)},_.prototype.clear=function(s){var d=this.changes;return this.changes=0,d},_}();B.RenderLoop=b}),ace.define("ace/layer/font_metrics",["require","exports","module","ace/lib/oop","ace/lib/dom","ace/lib/lang","ace/lib/event","ace/lib/useragent","ace/lib/event_emitter"],function(f,B,z){var M=f("../lib/oop"),b=f("../lib/dom"),_=f("../lib/lang"),s=f("../lib/event"),d=f("../lib/useragent"),o=f("../lib/event_emitter").EventEmitter,n=512,i=typeof ResizeObserver=="function",t=200,e=function(){function r(a){this.el=b.createElement("div"),this.$setMeasureNodeStyles(this.el.style,!0),this.$main=b.createElement("div"),this.$setMeasureNodeStyles(this.$main.style),this.$measureNode=b.createElement("div"),this.$setMeasureNodeStyles(this.$measureNode.style),this.el.appendChild(this.$main),this.el.appendChild(this.$measureNode),a.appendChild(this.el),this.$measureNode.textContent=_.stringRepeat("X",n),this.$characterSize={width:0,height:0},i?this.$addObserver():this.checkForSizeChanges()}return r.prototype.$setMeasureNodeStyles=function(a,c){a.width=a.height="auto",a.left=a.top="0px",a.visibility="hidden",a.position="absolute",a.whiteSpace="pre",d.isIE<8?a["font-family"]="inherit":a.font="inherit",a.overflow=c?"hidden":"visible"},r.prototype.checkForSizeChanges=function(a){if(a===void 0&&(a=this.$measureSizes()),a&&(this.$characterSize.width!==a.width||this.$characterSize.height!==a.height)){this.$measureNode.style.fontWeight="bold";var c=this.$measureSizes();this.$measureNode.style.fontWeight="",this.$characterSize=a,this.charSizes=Object.create(null),this.allowBoldFonts=c&&c.width===a.width&&c.height===a.height,this._emit("changeCharacterSize",{data:a})}},r.prototype.$addObserver=function(){var a=this;this.$observer=new window.ResizeObserver(function(c){a.checkForSizeChanges()}),this.$observer.observe(this.$measureNode)},r.prototype.$pollSizeChanges=function(){if(this.$pollSizeChangesTimer||this.$observer)return this.$pollSizeChangesTimer;var a=this;return this.$pollSizeChangesTimer=s.onIdle(function c(){a.checkForSizeChanges(),s.onIdle(c,500)},500)},r.prototype.setPolling=function(a){a?this.$pollSizeChanges():this.$pollSizeChangesTimer&&(clearInterval(this.$pollSizeChangesTimer),this.$pollSizeChangesTimer=0)},r.prototype.$measureSizes=function(a){var c={height:(a||this.$measureNode).clientHeight,width:(a||this.$measureNode).clientWidth/n};return c.width===0||c.height===0?null:c},r.prototype.$measureCharWidth=function(a){this.$main.textContent=_.stringRepeat(a,n);var c=this.$main.getBoundingClientRect();return c.width/n},r.prototype.getCharacterWidth=function(a){var c=this.charSizes[a];return c===void 0&&(c=this.charSizes[a]=this.$measureCharWidth(a)/this.$characterSize.width),c},r.prototype.destroy=function(){clearInterval(this.$pollSizeChangesTimer),this.$observer&&this.$observer.disconnect(),this.el&&this.el.parentNode&&this.el.parentNode.removeChild(this.el)},r.prototype.$getZoom=function(a){return!a||!a.parentElement?1:(Number(window.getComputedStyle(a).zoom)||1)*this.$getZoom(a.parentElement)},r.prototype.$initTransformMeasureNodes=function(){var a=function(c,h){return["div",{style:"position: absolute;top:"+c+"px;left:"+h+"px;"}]};this.els=b.buildDom([a(0,0),a(t,0),a(0,t),a(t,t)],this.el)},r.prototype.transformCoordinates=function(a,c){if(a){var h=this.$getZoom(this.el);a=u(1/h,a)}function $(J,j,K){var ie=J[1]*j[0]-J[0]*j[1];return[(-j[1]*K[0]+j[0]*K[1])/ie,(+J[1]*K[0]-J[0]*K[1])/ie]}function v(J,j){return[J[0]-j[0],J[1]-j[1]]}function p(J,j){return[J[0]+j[0],J[1]+j[1]]}function u(J,j){return[J*j[0],J*j[1]]}this.els||this.$initTransformMeasureNodes();function m(J){var j=J.getBoundingClientRect();return[j.left,j.top]}var E=m(this.els[0]),C=m(this.els[1]),R=m(this.els[2]),L=m(this.els[3]),g=$(v(L,C),v(L,R),v(p(C,R),p(L,E))),y=u(1+g[0],v(C,E)),l=u(1+g[1],v(R,E));if(c){var w=c,k=g[0]*w[0]/t+g[1]*w[1]/t+1,I=p(u(w[0],y),u(w[1],l));return p(u(1/k/t,I),E)}var G=v(a,E),H=$(v(y,u(g[0],G)),v(l,u(g[1],G)),G);return u(t,H)},r}();e.prototype.$characterSize={width:0,height:0},M.implement(e.prototype,o),B.FontMetrics=e}),ace.define("ace/css/editor-css",["require","exports","module"],function(f,B,z){z.exports=`
.ace_br1 {border-top-left-radius    : 3px;}
.ace_br2 {border-top-right-radius   : 3px;}
.ace_br3 {border-top-left-radius    : 3px; border-top-right-radius:    3px;}
.ace_br4 {border-bottom-right-radius: 3px;}
.ace_br5 {border-top-left-radius    : 3px; border-bottom-right-radius: 3px;}
.ace_br6 {border-top-right-radius   : 3px; border-bottom-right-radius: 3px;}
.ace_br7 {border-top-left-radius    : 3px; border-top-right-radius:    3px; border-bottom-right-radius: 3px;}
.ace_br8 {border-bottom-left-radius : 3px;}
.ace_br9 {border-top-left-radius    : 3px; border-bottom-left-radius:  3px;}
.ace_br10{border-top-right-radius   : 3px; border-bottom-left-radius:  3px;}
.ace_br11{border-top-left-radius    : 3px; border-top-right-radius:    3px; border-bottom-left-radius:  3px;}
.ace_br12{border-bottom-right-radius: 3px; border-bottom-left-radius:  3px;}
.ace_br13{border-top-left-radius    : 3px; border-bottom-right-radius: 3px; border-bottom-left-radius:  3px;}
.ace_br14{border-top-right-radius   : 3px; border-bottom-right-radius: 3px; border-bottom-left-radius:  3px;}
.ace_br15{border-top-left-radius    : 3px; border-top-right-radius:    3px; border-bottom-right-radius: 3px; border-bottom-left-radius: 3px;}


.ace_editor {
    position: relative;
    overflow: hidden;
    padding: 0;
    font: 12px/normal 'Monaco', 'Menlo', 'Ubuntu Mono', 'Consolas', 'Source Code Pro', 'source-code-pro', monospace;
    direction: ltr;
    text-align: left;
    -webkit-tap-highlight-color: rgba(0, 0, 0, 0);
    forced-color-adjust: none;
}

.ace_scroller {
    position: absolute;
    overflow: hidden;
    top: 0;
    bottom: 0;
    background-color: inherit;
    -ms-user-select: none;
    -moz-user-select: none;
    -webkit-user-select: none;
    user-select: none;
    cursor: text;
}

.ace_content {
    position: absolute;
    box-sizing: border-box;
    min-width: 100%;
    contain: style size layout;
    font-variant-ligatures: no-common-ligatures;
}

.ace_keyboard-focus:focus {
    box-shadow: inset 0 0 0 2px #5E9ED6;
    outline: none;
}

.ace_dragging .ace_scroller:before{
    position: absolute;
    top: 0;
    left: 0;
    right: 0;
    bottom: 0;
    content: '';
    background: rgba(250, 250, 250, 0.01);
    z-index: 1000;
}
.ace_dragging.ace_dark .ace_scroller:before{
    background: rgba(0, 0, 0, 0.01);
}

.ace_gutter {
    position: absolute;
    overflow : hidden;
    width: auto;
    top: 0;
    bottom: 0;
    left: 0;
    cursor: default;
    z-index: 4;
    -ms-user-select: none;
    -moz-user-select: none;
    -webkit-user-select: none;
    user-select: none;
    contain: style size layout;
}

.ace_gutter-active-line {
    position: absolute;
    left: 0;
    right: 0;
}

.ace_scroller.ace_scroll-left:after {
    content: "";
    position: absolute;
    top: 0;
    right: 0;
    bottom: 0;
    left: 0;
    box-shadow: 17px 0 16px -16px rgba(0, 0, 0, 0.4) inset;
    pointer-events: none;
}

.ace_gutter-cell, .ace_gutter-cell_svg-icons {
    position: absolute;
    top: 0;
    left: 0;
    right: 0;
    padding-left: 19px;
    padding-right: 6px;
    background-repeat: no-repeat;
}

.ace_gutter-cell_svg-icons .ace_gutter_annotation {
    margin-left: -14px;
    float: left;
}

.ace_gutter-cell .ace_gutter_annotation {
    margin-left: -19px;
    float: left;
}

.ace_gutter-cell.ace_error, .ace_icon.ace_error, .ace_icon.ace_error_fold, .ace_gutter-cell.ace_security, .ace_icon.ace_security, .ace_icon.ace_security_fold {
    background-image: url("data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABAAAAAQCAMAAAAoLQ9TAAABOFBMVEX/////////QRswFAb/Ui4wFAYwFAYwFAaWGAfDRymzOSH/PxswFAb/SiUwFAYwFAbUPRvjQiDllog5HhHdRybsTi3/Tyv9Tir+Syj/UC3////XurebMBIwFAb/RSHbPx/gUzfdwL3kzMivKBAwFAbbvbnhPx66NhowFAYwFAaZJg8wFAaxKBDZurf/RB6mMxb/SCMwFAYwFAbxQB3+RB4wFAb/Qhy4Oh+4QifbNRcwFAYwFAYwFAb/QRzdNhgwFAYwFAbav7v/Uy7oaE68MBK5LxLewr/r2NXewLswFAaxJw4wFAbkPRy2PyYwFAaxKhLm1tMwFAazPiQwFAaUGAb/QBrfOx3bvrv/VC/maE4wFAbRPBq6MRO8Qynew8Dp2tjfwb0wFAbx6eju5+by6uns4uH9/f36+vr/GkHjAAAAYnRSTlMAGt+64rnWu/bo8eAA4InH3+DwoN7j4eLi4xP99Nfg4+b+/u9B/eDs1MD1mO7+4PHg2MXa347g7vDizMLN4eG+Pv7i5evs/v79yu7S3/DV7/498Yv24eH+4ufQ3Ozu/v7+y13sRqwAAADLSURBVHjaZc/XDsFgGIBhtDrshlitmk2IrbHFqL2pvXf/+78DPokj7+Fz9qpU/9UXJIlhmPaTaQ6QPaz0mm+5gwkgovcV6GZzd5JtCQwgsxoHOvJO15kleRLAnMgHFIESUEPmawB9ngmelTtipwwfASilxOLyiV5UVUyVAfbG0cCPHig+GBkzAENHS0AstVF6bacZIOzgLmxsHbt2OecNgJC83JERmePUYq8ARGkJx6XtFsdddBQgZE2nPR6CICZhawjA4Fb/chv+399kfR+MMMDGOQAAAABJRU5ErkJggg==");
    background-repeat: no-repeat;
    background-position: 2px center;
}

.ace_gutter-cell.ace_warning, .ace_icon.ace_warning, .ace_icon.ace_warning_fold {
    background-image: url("data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABAAAAAQCAMAAAAoLQ9TAAAAmVBMVEX///8AAAD///8AAAAAAABPSzb/5sAAAAB/blH/73z/ulkAAAAAAAD85pkAAAAAAAACAgP/vGz/rkDerGbGrV7/pkQICAf////e0IsAAAD/oED/qTvhrnUAAAD/yHD/njcAAADuv2r/nz//oTj/p064oGf/zHAAAAA9Nir/tFIAAAD/tlTiuWf/tkIAAACynXEAAAAAAAAtIRW7zBpBAAAAM3RSTlMAABR1m7RXO8Ln31Z36zT+neXe5OzooRDfn+TZ4p3h2hTf4t3k3ucyrN1K5+Xaks52Sfs9CXgrAAAAjklEQVR42o3PbQ+CIBQFYEwboPhSYgoYunIqqLn6/z8uYdH8Vmdnu9vz4WwXgN/xTPRD2+sgOcZjsge/whXZgUaYYvT8QnuJaUrjrHUQreGczuEafQCO/SJTufTbroWsPgsllVhq3wJEk2jUSzX3CUEDJC84707djRc5MTAQxoLgupWRwW6UB5fS++NV8AbOZgnsC7BpEAAAAABJRU5ErkJggg==");
    background-repeat: no-repeat;
    background-position: 2px center;
}

.ace_gutter-cell.ace_info, .ace_icon.ace_info, .ace_gutter-cell.ace_hint, .ace_icon.ace_hint {
    background-image: url("data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABAAAAAQCAAAAAA6mKC9AAAAGXRFWHRTb2Z0d2FyZQBBZG9iZSBJbWFnZVJlYWR5ccllPAAAAAJ0Uk5TAAB2k804AAAAPklEQVQY02NgIB68QuO3tiLznjAwpKTgNyDbMegwisCHZUETUZV0ZqOquBpXj2rtnpSJT1AEnnRmL2OgGgAAIKkRQap2htgAAAAASUVORK5CYII=");
    background-repeat: no-repeat;
    background-position: 2px center;
}

.ace_dark .ace_gutter-cell.ace_info, .ace_dark .ace_icon.ace_info, .ace_dark .ace_gutter-cell.ace_hint, .ace_dark .ace_icon.ace_hint {
    background-image: url("data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABAAAAAQBAMAAADt3eJSAAAAJFBMVEUAAAChoaGAgIAqKiq+vr6tra1ZWVmUlJSbm5s8PDxubm56enrdgzg3AAAAAXRSTlMAQObYZgAAAClJREFUeNpjYMAPdsMYHegyJZFQBlsUlMFVCWUYKkAZMxZAGdxlDMQBAG+TBP4B6RyJAAAAAElFTkSuQmCC");
}

.ace_icon_svg.ace_error {
    -webkit-mask-image: url("data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHZpZXdCb3g9IjAgMCAyMCAxNiI+CjxnIHN0cm9rZS13aWR0aD0iMiIgc3Ryb2tlPSJyZWQiIHNoYXBlLXJlbmRlcmluZz0iZ2VvbWV0cmljUHJlY2lzaW9uIj4KPGNpcmNsZSBmaWxsPSJub25lIiBjeD0iOCIgY3k9IjgiIHI9IjciIHN0cm9rZS1saW5lam9pbj0icm91bmQiLz4KPGxpbmUgeDE9IjExIiB5MT0iNSIgeDI9IjUiIHkyPSIxMSIvPgo8bGluZSB4MT0iMTEiIHkxPSIxMSIgeDI9IjUiIHkyPSI1Ii8+CjwvZz4KPC9zdmc+");
    background-color: crimson;
}
.ace_icon_svg.ace_security {
    -webkit-mask-image: url("data:image/svg+xml;base64,PHN2ZyB2aWV3Qm94PSIwIDAgMjAgMTYiIHhtbG5zPSJodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2ZyI+CiAgICA8ZyBzdHJva2Utd2lkdGg9IjIiIHN0cm9rZT0iZGFya29yYW5nZSIgZmlsbD0ibm9uZSIgc2hhcGUtcmVuZGVyaW5nPSJnZW9tZXRyaWNQcmVjaXNpb24iPgogICAgICAgIDxwYXRoIGNsYXNzPSJzdHJva2UtbGluZWpvaW4tcm91bmQiIGQ9Ik04IDE0LjgzMDdDOCAxNC44MzA3IDIgMTIuOTA0NyAyIDguMDg5OTJWMy4yNjU0OEM1LjMxIDMuMjY1NDggNy45ODk5OSAxLjM0OTE4IDcuOTg5OTkgMS4zNDkxOEM3Ljk4OTk5IDEuMzQ5MTggMTAuNjkgMy4yNjU0OCAxNCAzLjI2NTQ4VjguMDg5OTJDMTQgMTIuOTA0NyA4IDE0LjgzMDcgOCAxNC44MzA3WiIvPgogICAgICAgIDxwYXRoIGQ9Ik0yIDguMDg5OTJWMy4yNjU0OEM1LjMxIDMuMjY1NDggNy45ODk5OSAxLjM0OTE4IDcuOTg5OTkgMS4zNDkxOCIvPgogICAgICAgIDxwYXRoIGQ9Ik0xMy45OSA4LjA4OTkyVjMuMjY1NDhDMTAuNjggMy4yNjU0OCA4IDEuMzQ5MTggOCAxLjM0OTE4Ii8+CiAgICAgICAgPHBhdGggY2xhc3M9InN0cm9rZS1saW5lam9pbi1yb3VuZCIgZD0iTTggNFY5Ii8+CiAgICAgICAgPHBhdGggY2xhc3M9InN0cm9rZS1saW5lam9pbi1yb3VuZCIgZD0iTTggMTBWMTIiLz4KICAgIDwvZz4KPC9zdmc+");
    background-color: crimson;
}
.ace_icon_svg.ace_warning {
    -webkit-mask-image: url("data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHZpZXdCb3g9IjAgMCAyMCAxNiI+CjxnIHN0cm9rZS13aWR0aD0iMiIgc3Ryb2tlPSJkYXJrb3JhbmdlIiBzaGFwZS1yZW5kZXJpbmc9Imdlb21ldHJpY1ByZWNpc2lvbiI+Cjxwb2x5Z29uIHN0cm9rZS1saW5lam9pbj0icm91bmQiIGZpbGw9Im5vbmUiIHBvaW50cz0iOCAxIDE1IDE1IDEgMTUgOCAxIi8+CjxyZWN0IHg9IjgiIHk9IjEyIiB3aWR0aD0iMC4wMSIgaGVpZ2h0PSIwLjAxIi8+CjxsaW5lIHgxPSI4IiB5MT0iNiIgeDI9IjgiIHkyPSIxMCIvPgo8L2c+Cjwvc3ZnPg==");
    background-color: darkorange;
}
.ace_icon_svg.ace_info {
    -webkit-mask-image: url("data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHZpZXdCb3g9IjAgMCAyMCAxNiI+CjxnIHN0cm9rZS13aWR0aD0iMiIgc3Ryb2tlPSJibHVlIiBzaGFwZS1yZW5kZXJpbmc9Imdlb21ldHJpY1ByZWNpc2lvbiI+CjxjaXJjbGUgZmlsbD0ibm9uZSIgY3g9IjgiIGN5PSI4IiByPSI3IiBzdHJva2UtbGluZWpvaW49InJvdW5kIi8+Cjxwb2x5bGluZSBwb2ludHM9IjggMTEgOCA4Ii8+Cjxwb2x5bGluZSBwb2ludHM9IjkgOCA2IDgiLz4KPGxpbmUgeDE9IjEwIiB5MT0iMTEiIHgyPSI2IiB5Mj0iMTEiLz4KPHJlY3QgeD0iOCIgeT0iNSIgd2lkdGg9IjAuMDEiIGhlaWdodD0iMC4wMSIvPgo8L2c+Cjwvc3ZnPg==");
    background-color: royalblue;
}
.ace_icon_svg.ace_hint {
    -webkit-mask-image: url("data:image/svg+xml;base64,PHN2ZyB2aWV3Qm94PSIwIDAgMjAgMTYiIHhtbG5zPSJodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2ZyI+CiAgICA8ZyBzdHJva2Utd2lkdGg9IjIiIHN0cm9rZT0ic2lsdmVyIiBmaWxsPSJub25lIiBzaGFwZS1yZW5kZXJpbmc9Imdlb21ldHJpY1ByZWNpc2lvbiI+CiAgICAgICAgPHBhdGggY2xhc3M9InN0cm9rZS1saW5lam9pbi1yb3VuZCIgZD0iTTYgMTRIMTAiLz4KICAgICAgICA8cGF0aCBkPSJNOCAxMUg5QzkgOS40NzAwMiAxMiA4LjU0MDAyIDEyIDUuNzYwMDJDMTIuMDIgNC40MDAwMiAxMS4zOSAzLjM2MDAyIDEwLjQzIDIuNjcwMDJDOSAxLjY0MDAyIDcuMDAwMDEgMS42NDAwMiA1LjU3MDAxIDIuNjcwMDJDNC42MTAwMSAzLjM2MDAyIDMuOTggNC40MDAwMiA0IDUuNzYwMDJDNCA4LjU0MDAyIDcuMDAwMDEgOS40NzAwMiA3LjAwMDAxIDExSDhaIi8+CiAgICA8L2c+Cjwvc3ZnPg==");
    background-color: silver;
}

.ace_icon_svg.ace_error_fold {
    -webkit-mask-image: url("data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHZpZXdCb3g9IjAgMCAyMCAxNiIgZmlsbD0ibm9uZSI+CiAgPHBhdGggZD0ibSAxOC45Mjk4NTEsNy44Mjk4MDc2IGMgMC4xNDYzNTMsNi4zMzc0NjA0IC02LjMyMzE0Nyw3Ljc3Nzg0NDQgLTcuNDc3OTEyLDcuNzc3ODQ0NCAtMi4xMDcyNzI2LC0wLjEyODc1IDUuMTE3Njc4LDAuMzU2MjQ5IDUuMDUxNjk4LC03Ljg3MDA2MTggLTAuNjA0NjcyLC04LjAwMzk3MzQ5IC03LjA3NzI3MDYsLTcuNTYzMTE4OSAtNC44NTczLC03LjQzMDM5NTU2IDEuNjA2LC0wLjExNTE0MjI1IDYuODk3NDg1LDEuMjYyNTQ1OTYgNy4yODM1MTQsNy41MjI2MTI5NiB6IiBmaWxsPSJjcmltc29uIiBzdHJva2Utd2lkdGg9IjIiLz4KICA8cGF0aCBmaWxsLXJ1bGU9ImV2ZW5vZGQiIGNsaXAtcnVsZT0iZXZlbm9kZCIgZD0ibSA4LjExNDc1NjIsMi4wNTI5ODI4IGMgMy4zNDkxNjk4LDAgNi4wNjQxMzI4LDIuNjc2ODYyNyA2LjA2NDEzMjgsNS45Nzg5NTMgMCwzLjMwMjExMjIgLTIuNzE0OTYzLDUuOTc4OTIwMiAtNi4wNjQxMzI4LDUuOTc4OTIwMiAtMy4zNDkxNDczLDAgLTYuMDY0MTc3MiwtMi42NzY4MDggLTYuMDY0MTc3MiwtNS45Nzg5MjAyIDAuMDA1MzksLTMuMjk5ODg2MSAyLjcxNzI2NTYsLTUuOTczNjQwOCA2LjA2NDE3NzIsLTUuOTc4OTUzIHogbSAwLC0xLjczNTgyNzE5IGMgLTQuMzIxNDgzNiwwIC03LjgyNDc0MDM4LDMuNDU0MDE4NDkgLTcuODI0NzQwMzgsNy43MTQ3ODAxOSAwLDQuMjYwNzI4MiAzLjUwMzI1Njc4LDcuNzE0NzQ1MiA3LjgyNDc0MDM4LDcuNzE0NzQ1MiA0LjMyMTQ0OTgsMCA3LjgyNDY5OTgsLTMuNDU0MDE3IDcuODI0Njk5OCwtNy43MTQ3NDUyIDAsLTIuMDQ2MDkxNCAtMC44MjQzOTIsLTQuMDA4MzY3MiAtMi4yOTE3NTYsLTUuNDU1MTc0NiBDIDEyLjE4MDIyNSwxLjEyOTk2NDggMTAuMTkwMDEzLDAuMzE3MTU1NjEgOC4xMTQ3NTYyLDAuMzE3MTU1NjEgWiBNIDYuOTM3NDU2Myw4LjI0MDU5ODUgNC42NzE4Njg1LDEwLjQ4NTg1MiA2LjAwODY4MTQsMTEuODc2NzI4IDguMzE3MDAzNSw5LjYwMDc5MTEgMTAuNjI1MzM3LDExLjg3NjcyOCAxMS45NjIxMzgsMTAuNDg1ODUyIDkuNjk2NTUwOCw4LjI0MDU5ODUgMTEuOTYyMTM4LDYuMDA2ODA2NiAxMC41NzMyNDYsNC42Mzc0MzM1IDguMzE3MDAzNSw2Ljg3MzQyOTcgNi4wNjA3NjA3LDQuNjM3NDMzNSA0LjY3MTg2ODUsNi4wMDY4MDY2IFoiIGZpbGw9ImNyaW1zb24iIHN0cm9rZS13aWR0aD0iMiIvPgo8L3N2Zz4=");
    background-color: crimson;
}
.ace_icon_svg.ace_security_fold {
    -webkit-mask-image: url("data:image/svg+xml;base64,CjxzdmcgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIiB2aWV3Qm94PSIwIDAgMTcgMTQiIGZpbGw9Im5vbmUiPgogICAgPHBhdGggZD0iTTEwLjAwMDEgMTMuNjk5MkMxMC4wMDAxIDEzLjY5OTIgMTEuOTI0MSAxMy40NzYzIDEzIDEyLjY5OTJDMTQuNDEzOSAxMS42NzgxIDE2IDEwLjUgMTYuMTI1MSA2LjgxMTI2VjIuNTg5ODdDMTYuMTI1MSAyLjU0NzY4IDE2LjEyMjEgMi41MDYxOSAxNi4xMTY0IDIuNDY1NTlWMS43MTQ4NUgxNS4yNDE0TDE1LjIzMDcgMS43MTQ4NEwxNC42MjUxIDEuNjk5MjJWNi44MTEyM0MxNC42MjUxIDguNTEwNjEgMTQuNjI1MSA5LjQ2NDYxIDEyLjc4MjQgMTEuNzIxQzEyLjE1ODYgMTIuNDg0OCAxMC4wMDAxIDEzLjY5OTIgMTAuMDAwMSAxMy42OTkyWiIgZmlsbD0iY3JpbXNvbiIgc3Ryb2tlLXdpZHRoPSIyIi8+CiAgICA8cGF0aCBmaWxsLXJ1bGU9ImV2ZW5vZGQiIGNsaXAtcnVsZT0iZXZlbm9kZCIgZD0iTTcuMzM2MDkgMC4zNjc0NzVDNy4wMzIxNCAwLjE1MjY1MiA2LjYyNTQ4IDAuMTUzNjE0IDYuMzIyNTMgMC4zNjk5OTdMNi4zMDg2OSAwLjM3OTU1NEM2LjI5NTUzIDAuMzg4NTg4IDYuMjczODggMC40MDMyNjYgNi4yNDQxNyAwLjQyMjc4OUM2LjE4NDcxIDAuNDYxODYgNi4wOTMyMSAwLjUyMDE3MSA1Ljk3MzEzIDAuNTkxMzczQzUuNzMyNTEgMC43MzQwNTkgNS4zNzk5IDAuOTI2ODY0IDQuOTQyNzkgMS4xMjAwOUM0LjA2MTQ0IDEuNTA5NyAyLjg3NTQxIDEuODgzNzcgMS41ODk4NCAxLjg4Mzc3SDAuNzE0ODQ0VjIuNzU4NzdWNi45ODAxNUMwLjcxNDg0NCA5LjQ5Mzc0IDIuMjg4NjYgMTEuMTk3MyAzLjcwMjU0IDEyLjIxODVDNC40MTg0NSAxMi43MzU1IDUuMTI4NzQgMTMuMTA1MyA1LjY1NzMzIDEzLjM0NTdDNS45MjI4NCAxMy40NjY0IDYuMTQ1NjYgMTMuNTU1OSA2LjMwNDY1IDEzLjYxNjFDNi4zODQyMyAxMy42NDYyIDYuNDQ4MDUgMTMuNjY5IDYuNDkzNDkgMTMuNjg0OEM2LjUxNjIyIDEzLjY5MjcgNi41MzQzOCAxMy42OTg5IDYuNTQ3NjQgMTMuNzAzM0w2LjU2MzgyIDEzLjcwODdMNi41NjkwOCAxMy43MTA0TDYuNTcwOTkgMTMuNzExTDYuODM5ODQgMTMuNzUzM0w2LjU3MjQyIDEzLjcxMTVDNi43NDYzMyAxMy43NjczIDYuOTMzMzUgMTMuNzY3MyA3LjEwNzI3IDEzLjcxMTVMNy4xMDg3IDEzLjcxMUw3LjExMDYxIDEzLjcxMDRMNy4xMTU4NyAxMy43MDg3TDcuMTMyMDUgMTMuNzAzM0M3LjE0NTMxIDEzLjY5ODkgNy4xNjM0NiAxMy42OTI3IDcuMTg2MTkgMTMuNjg0OEM3LjIzMTY0IDEzLjY2OSA3LjI5NTQ2IDEzLjY0NjIgNy4zNzUwMyAxMy42MTYxQzcuNTM0MDMgMTMuNTU1OSA3Ljc1Njg1IDEzLjQ2NjQgOC4wMjIzNiAxMy4zNDU3QzguNTUwOTUgMTMuMTA1MyA5LjI2MTIzIDEyLjczNTUgOS45NzcxNSAxMi4yMTg1QzExLjM5MSAxMS4xOTczIDEyLjk2NDggOS40OTM3NyAxMi45NjQ4IDYuOTgwMThWMi43NTg4QzEyLjk2NDggMi43MTY2IDEyLjk2MTkgMi42NzUxMSAxMi45NTYxIDIuNjM0NTFWMS44ODM3N0gxMi4wODExQzEyLjA3NzUgMS44ODM3NyAxMi4wNzQgMS44ODM3NyAxMi4wNzA0IDEuODgzNzdDMTAuNzk3OSAxLjg4MDA0IDkuNjE5NjIgMS41MTEwMiA4LjczODk0IDEuMTI0ODZDOC43MzUzNCAxLjEyMzI3IDguNzMxNzQgMS4xMjE2OCA4LjcyODE0IDEuMTIwMDlDOC4yOTEwMyAwLjkyNjg2NCA3LjkzODQyIDAuNzM0MDU5IDcuNjk3NzkgMC41OTEzNzNDNy41Nzc3MiAwLjUyMDE3MSA3LjQ4NjIyIDAuNDYxODYgNy40MjY3NiAwLjQyMjc4OUM3LjM5NzA1IDAuNDAzMjY2IDcuMzc1MzkgMC4zODg1ODggNy4zNjIyNCAwLjM3OTU1NEw3LjM0ODk2IDAuMzcwMzVDNy4zNDg5NiAwLjM3MDM1IDcuMzQ4NDcgMC4zNzAwMiA3LjM0NTYzIDAuMzc0MDU0TDcuMzM3NzkgMC4zNjg2NTlMNy4zMzYwOSAwLjM2NzQ3NVpNOC4wMzQ3MSAyLjcyNjkxQzguODYwNCAzLjA5MDYzIDkuOTYwNjYgMy40NjMwOSAxMS4yMDYxIDMuNTg5MDdWNi45ODAxNUgxMS4yMTQ4QzExLjIxNDggOC42Nzk1MyAxMC4xNjM3IDkuOTI1MDcgOC45NTI1NCAxMC43OTk4QzguMzU1OTUgMTEuMjMwNiA3Ljc1Mzc0IDExLjU0NTQgNy4yOTc5NiAxMS43NTI3QzcuMTE2NzEgMTEuODM1MSA2Ljk2MDYyIDExLjg5OTYgNi44Mzk4NCAxMS45NDY5QzYuNzE5MDYgMTEuODk5NiA2LjU2Mjk3IDExLjgzNTEgNi4zODE3MyAxMS43NTI3QzUuOTI1OTUgMTEuNTQ1NCA1LjMyMzczIDExLjIzMDYgNC43MjcxNSAxMC43OTk4QzMuNTE2MDMgOS45MjUwNyAyLjQ2NDg0IDguNjc5NTUgMi40NjQ4NCA2Ljk4MDE4VjMuNTg5MDlDMy43MTczOCAzLjQ2MjM5IDQuODIzMDggMy4wODYzOSA1LjY1MDMzIDIuNzIwNzFDNi4xNDIyOCAyLjUwMzI0IDYuNTQ0ODUgMi4yODUzNyA2LjgzMjU0IDIuMTE2MjRDNy4xMjE4MSAyLjI4NTM1IDcuNTI3IDIuNTAzNTIgOC4wMjE5NiAyLjcyMTMxQzguMDI2MiAyLjcyMzE3IDguMDMwNDUgMi43MjUwNCA4LjAzNDcxIDIuNzI2OTFaTTUuOTY0ODQgMy40MDE0N1Y3Ljc3NjQ3SDcuNzE0ODRWMy40MDE0N0g1Ljk2NDg0Wk01Ljk2NDg0IDEwLjQwMTVWOC42NTE0N0g3LjcxNDg0VjEwLjQwMTVINS45NjQ4NFoiIGZpbGw9ImNyaW1zb24iIHN0cm9rZS13aWR0aD0iMiIvPgo8L3N2Zz4=");
    background-color: crimson;
}
.ace_icon_svg.ace_warning_fold {
    -webkit-mask-image: url("data:image/svg+xml;base64,PHN2ZyB3aWR0aD0iMjAiIGhlaWdodD0iMTYiIHZpZXdCb3g9IjAgMCAyMCAxNiIgZmlsbD0ibm9uZSIgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIj4KPHBhdGggZmlsbC1ydWxlPSJldmVub2RkIiBjbGlwLXJ1bGU9ImV2ZW5vZGQiIGQ9Ik0xNC43NzY5IDE0LjczMzdMOC42NTE5MiAyLjQ4MzY5QzguMzI5NDYgMS44Mzg3NyA3LjQwOTEzIDEuODM4NzcgNy4wODY2NyAyLjQ4MzY5TDAuOTYxNjY5IDE0LjczMzdDMC42NzA3NzUgMTUuMzE1NSAxLjA5MzgzIDE2IDEuNzQ0MjkgMTZIMTMuOTk0M0MxNC42NDQ4IDE2IDE1LjA2NzggMTUuMzE1NSAxNC43NzY5IDE0LjczMzdaTTMuMTYwMDcgMTQuMjVMNy44NjkyOSA0LjgzMTU2TDEyLjU3ODUgMTQuMjVIMy4xNjAwN1pNOC43NDQyOSAxMS42MjVWMTMuMzc1SDYuOTk0MjlWMTEuNjI1SDguNzQ0MjlaTTYuOTk0MjkgMTAuNzVWNy4yNUg4Ljc0NDI5VjEwLjc1SDYuOTk0MjlaIiBmaWxsPSIjRUM3MjExIi8+CjxwYXRoIGQ9Ik0xMS4xOTkxIDIuOTUyMzhDMTAuODgwOSAyLjMxNDY3IDEwLjM1MzcgMS44MDUyNiA5LjcwNTUgMS41MDlMMTEuMDQxIDEuMDY5NzhDMTEuNjg4MyAwLjk0OTgxNCAxMi4zMzcgMS4yNzI2MyAxMi42MzE3IDEuODYxNDFMMTcuNjEzNiAxMS44MTYxQzE4LjM1MjcgMTMuMjkyOSAxNy41OTM4IDE1LjA4MDQgMTYuMDE4IDE1LjU3NDVDMTYuNDA0NCAxNC40NTA3IDE2LjMyMzEgMTMuMjE4OCAxNS43OTI0IDEyLjE1NTVMMTEuMTk5MSAyLjk1MjM4WiIgZmlsbD0iI0VDNzIxMSIvPgo8L3N2Zz4=");
    background-color: darkorange;
}

.ace_scrollbar {
    contain: strict;
    position: absolute;
    right: 0;
    bottom: 0;
    z-index: 6;
}

.ace_scrollbar-inner {
    position: absolute;
    cursor: text;
    left: 0;
    top: 0;
}

.ace_scrollbar-v{
    overflow-x: hidden;
    overflow-y: scroll;
    top: 0;
}

.ace_scrollbar-h {
    overflow-x: scroll;
    overflow-y: hidden;
    left: 0;
}

.ace_print-margin {
    position: absolute;
    height: 100%;
}

.ace_text-input {
    position: absolute;
    z-index: 0;
    width: 0.5em;
    height: 1em;
    opacity: 0;
    background: transparent;
    -moz-appearance: none;
    appearance: none;
    border: none;
    resize: none;
    outline: none;
    overflow: hidden;
    font: inherit;
    padding: 0 1px;
    margin: 0 -1px;
    contain: strict;
    -ms-user-select: text;
    -moz-user-select: text;
    -webkit-user-select: text;
    user-select: text;
    /*with \`pre-line\` chrome inserts &nbsp; instead of space*/
    white-space: pre!important;
}
.ace_text-input.ace_composition {
    background: transparent;
    color: inherit;
    z-index: 1000;
    opacity: 1;
}
.ace_composition_placeholder { color: transparent }
.ace_composition_marker { 
    border-bottom: 1px solid;
    position: absolute;
    border-radius: 0;
    margin-top: 1px;
}

[ace_nocontext=true] {
    transform: none!important;
    filter: none!important;
    clip-path: none!important;
    mask : none!important;
    contain: none!important;
    perspective: none!important;
    mix-blend-mode: initial!important;
    z-index: auto;
}

.ace_layer {
    z-index: 1;
    position: absolute;
    overflow: hidden;
    /* workaround for chrome bug https://github.com/ajaxorg/ace/issues/2312*/
    word-wrap: normal;
    white-space: pre;
    height: 100%;
    width: 100%;
    box-sizing: border-box;
    /* setting pointer-events: auto; on node under the mouse, which changes
        during scroll, will break mouse wheel scrolling in Safari */
    pointer-events: none;
}

.ace_gutter-layer {
    position: relative;
    width: auto;
    text-align: right;
    pointer-events: auto;
    height: 1000000px;
    contain: style size layout;
}

.ace_text-layer {
    font: inherit !important;
    position: absolute;
    height: 1000000px;
    width: 1000000px;
    contain: style size layout;
}

.ace_text-layer > .ace_line, .ace_text-layer > .ace_line_group {
    contain: style size layout;
    position: absolute;
    top: 0;
    left: 0;
    right: 0;
}

.ace_hidpi .ace_text-layer,
.ace_hidpi .ace_gutter-layer,
.ace_hidpi .ace_content,
.ace_hidpi .ace_gutter {
    contain: strict;
}
.ace_hidpi .ace_text-layer > .ace_line, 
.ace_hidpi .ace_text-layer > .ace_line_group {
    contain: strict;
}

.ace_cjk {
    display: inline-block;
    text-align: center;
}

.ace_cursor-layer {
    z-index: 4;
}

.ace_cursor {
    z-index: 4;
    position: absolute;
    box-sizing: border-box;
    border-left: 2px solid;
    /* workaround for smooth cursor repaintng whole screen in chrome */
    transform: translatez(0);
}

.ace_multiselect .ace_cursor {
    border-left-width: 1px;
}

.ace_slim-cursors .ace_cursor {
    border-left-width: 1px;
}

.ace_overwrite-cursors .ace_cursor {
    border-left-width: 0;
    border-bottom: 1px solid;
}

.ace_hidden-cursors .ace_cursor {
    opacity: 0.2;
}

.ace_hasPlaceholder .ace_hidden-cursors .ace_cursor {
    opacity: 0;
}

.ace_smooth-blinking .ace_cursor {
    transition: opacity 0.18s;
}

.ace_animate-blinking .ace_cursor {
    animation-duration: 1000ms;
    animation-timing-function: step-end;
    animation-name: blink-ace-animate;
    animation-iteration-count: infinite;
}

.ace_animate-blinking.ace_smooth-blinking .ace_cursor {
    animation-duration: 1000ms;
    animation-timing-function: ease-in-out;
    animation-name: blink-ace-animate-smooth;
}
    
@keyframes blink-ace-animate {
    from, to { opacity: 1; }
    60% { opacity: 0; }
}

@keyframes blink-ace-animate-smooth {
    from, to { opacity: 1; }
    45% { opacity: 1; }
    60% { opacity: 0; }
    85% { opacity: 0; }
}

.ace_marker-layer .ace_step, .ace_marker-layer .ace_stack {
    position: absolute;
    z-index: 3;
}

.ace_marker-layer .ace_selection {
    position: absolute;
    z-index: 5;
}

.ace_marker-layer .ace_bracket {
    position: absolute;
    z-index: 6;
}

.ace_marker-layer .ace_error_bracket {
    position: absolute;
    border-bottom: 1px solid #DE5555;
    border-radius: 0;
}

.ace_marker-layer .ace_active-line {
    position: absolute;
    z-index: 2;
}

.ace_marker-layer .ace_selected-word {
    position: absolute;
    z-index: 4;
    box-sizing: border-box;
}

.ace_line .ace_fold {
    box-sizing: border-box;

    display: inline-block;
    height: 11px;
    margin-top: -2px;
    vertical-align: middle;

    background-image:
        url("data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABEAAAAJCAYAAADU6McMAAAAGXRFWHRTb2Z0d2FyZQBBZG9iZSBJbWFnZVJlYWR5ccllPAAAAJpJREFUeNpi/P//PwOlgAXGYGRklAVSokD8GmjwY1wasKljQpYACtpCFeADcHVQfQyMQAwzwAZI3wJKvCLkfKBaMSClBlR7BOQikCFGQEErIH0VqkabiGCAqwUadAzZJRxQr/0gwiXIal8zQQPnNVTgJ1TdawL0T5gBIP1MUJNhBv2HKoQHHjqNrA4WO4zY0glyNKLT2KIfIMAAQsdgGiXvgnYAAAAASUVORK5CYII="),
        url("data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAEAAAA3CAYAAADNNiA5AAAAGXRFWHRTb2Z0d2FyZQBBZG9iZSBJbWFnZVJlYWR5ccllPAAAACJJREFUeNpi+P//fxgTAwPDBxDxD078RSX+YeEyDFMCIMAAI3INmXiwf2YAAAAASUVORK5CYII=");
    background-repeat: no-repeat, repeat-x;
    background-position: center center, top left;
    color: transparent;

    border: 1px solid black;
    border-radius: 2px;

    cursor: pointer;
    pointer-events: auto;
}

.ace_dark .ace_fold {
}

.ace_fold:hover{
    background-image:
        url("data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABEAAAAJCAYAAADU6McMAAAAGXRFWHRTb2Z0d2FyZQBBZG9iZSBJbWFnZVJlYWR5ccllPAAAAJpJREFUeNpi/P//PwOlgAXGYGRklAVSokD8GmjwY1wasKljQpYACtpCFeADcHVQfQyMQAwzwAZI3wJKvCLkfKBaMSClBlR7BOQikCFGQEErIH0VqkabiGCAqwUadAzZJRxQr/0gwiXIal8zQQPnNVTgJ1TdawL0T5gBIP1MUJNhBv2HKoQHHjqNrA4WO4zY0glyNKLT2KIfIMAAQsdgGiXvgnYAAAAASUVORK5CYII="),
        url("data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAEAAAA3CAYAAADNNiA5AAAAGXRFWHRTb2Z0d2FyZQBBZG9iZSBJbWFnZVJlYWR5ccllPAAAACBJREFUeNpi+P//fz4TAwPDZxDxD5X4i5fLMEwJgAADAEPVDbjNw87ZAAAAAElFTkSuQmCC");
}

.ace_tooltip {
    background-color: #f5f5f5;
    border: 1px solid gray;
    border-radius: 1px;
    box-shadow: 0 1px 2px rgba(0, 0, 0, 0.3);
    color: black;
    max-width: 100%;
    padding: 3px 4px;
    position: fixed;
    z-index: 999999;
    box-sizing: border-box;
    cursor: default;
    white-space: pre-wrap;
    word-wrap: break-word;
    line-height: normal;
    font-style: normal;
    font-weight: normal;
    letter-spacing: normal;
    pointer-events: none;
    overflow: auto;
    max-width: min(60em, 66vw);
    overscroll-behavior: contain;
}
.ace_tooltip pre {
    white-space: pre-wrap;
}

.ace_tooltip.ace_dark {
    background-color: #636363;
    color: #fff;
}

.ace_tooltip:focus {
    outline: 1px solid #5E9ED6;
}

.ace_icon {
    display: inline-block;
    width: 18px;
    vertical-align: top;
}

.ace_icon_svg {
    display: inline-block;
    width: 12px;
    vertical-align: top;
    -webkit-mask-repeat: no-repeat;
    -webkit-mask-size: 12px;
    -webkit-mask-position: center;
}

.ace_folding-enabled > .ace_gutter-cell, .ace_folding-enabled > .ace_gutter-cell_svg-icons {
    padding-right: 13px;
}

.ace_fold-widget {
    box-sizing: border-box;

    margin: 0 -12px 0 1px;
    display: none;
    width: 11px;
    vertical-align: top;

    background-image: url("data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAUAAAAFCAYAAACNbyblAAAANElEQVR42mWKsQ0AMAzC8ixLlrzQjzmBiEjp0A6WwBCSPgKAXoLkqSot7nN3yMwR7pZ32NzpKkVoDBUxKAAAAABJRU5ErkJggg==");
    background-repeat: no-repeat;
    background-position: center;

    border-radius: 3px;
    
    border: 1px solid transparent;
    cursor: pointer;
}

.ace_folding-enabled .ace_fold-widget {
    display: inline-block;   
}

.ace_fold-widget.ace_end {
    background-image: url("data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAUAAAAFCAYAAACNbyblAAAANElEQVR42m3HwQkAMAhD0YzsRchFKI7sAikeWkrxwScEB0nh5e7KTPWimZki4tYfVbX+MNl4pyZXejUO1QAAAABJRU5ErkJggg==");
}

.ace_fold-widget.ace_closed {
    background-image: url("data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAMAAAAGCAYAAAAG5SQMAAAAOUlEQVR42jXKwQkAMAgDwKwqKD4EwQ26sSOkVWjgIIHAzPiCgaqiqnJHZnKICBERHN194O5b9vbLuAVRL+l0YWnZAAAAAElFTkSuQmCCXA==");
}

.ace_fold-widget:hover {
    border: 1px solid rgba(0, 0, 0, 0.3);
    background-color: rgba(255, 255, 255, 0.2);
    box-shadow: 0 1px 1px rgba(255, 255, 255, 0.7);
}

.ace_fold-widget:active {
    border: 1px solid rgba(0, 0, 0, 0.4);
    background-color: rgba(0, 0, 0, 0.05);
    box-shadow: 0 1px 1px rgba(255, 255, 255, 0.8);
}
/**
 * Dark version for fold widgets
 */
.ace_dark .ace_fold-widget {
    background-image: url("data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAUAAAAFCAYAAACNbyblAAAAHklEQVQIW2P4//8/AzoGEQ7oGCaLLAhWiSwB146BAQCSTPYocqT0AAAAAElFTkSuQmCC");
}
.ace_dark .ace_fold-widget.ace_end {
    background-image: url("data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAUAAAAFCAYAAACNbyblAAAAH0lEQVQIW2P4//8/AxQ7wNjIAjDMgC4AxjCVKBirIAAF0kz2rlhxpAAAAABJRU5ErkJggg==");
}
.ace_dark .ace_fold-widget.ace_closed {
    background-image: url("data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAMAAAAFCAYAAACAcVaiAAAAHElEQVQIW2P4//+/AxAzgDADlOOAznHAKgPWAwARji8UIDTfQQAAAABJRU5ErkJggg==");
}
.ace_dark .ace_fold-widget:hover {
    box-shadow: 0 1px 1px rgba(255, 255, 255, 0.2);
    background-color: rgba(255, 255, 255, 0.1);
}
.ace_dark .ace_fold-widget:active {
    box-shadow: 0 1px 1px rgba(255, 255, 255, 0.2);
}

.ace_inline_button {
    border: 1px solid lightgray;
    display: inline-block;
    margin: -1px 8px;
    padding: 0 5px;
    pointer-events: auto;
    cursor: pointer;
}
.ace_inline_button:hover {
    border-color: gray;
    background: rgba(200,200,200,0.2);
    display: inline-block;
    pointer-events: auto;
}

.ace_fold-widget.ace_invalid {
    background-color: #FFB4B4;
    border-color: #DE5555;
}

.ace_fade-fold-widgets .ace_fold-widget {
    transition: opacity 0.4s ease 0.05s;
    opacity: 0;
}

.ace_fade-fold-widgets:hover .ace_fold-widget {
    transition: opacity 0.05s ease 0.05s;
    opacity:1;
}

.ace_underline {
    text-decoration: underline;
}

.ace_bold {
    font-weight: bold;
}

.ace_nobold .ace_bold {
    font-weight: normal;
}

.ace_italic {
    font-style: italic;
}


.ace_error-marker {
    background-color: rgba(255, 0, 0,0.2);
    position: absolute;
    z-index: 9;
}

.ace_highlight-marker {
    background-color: rgba(255, 255, 0,0.2);
    position: absolute;
    z-index: 8;
}

.ace_mobile-menu {
    position: absolute;
    line-height: 1.5;
    border-radius: 4px;
    -ms-user-select: none;
    -moz-user-select: none;
    -webkit-user-select: none;
    user-select: none;
    background: white;
    box-shadow: 1px 3px 2px grey;
    border: 1px solid #dcdcdc;
    color: black;
}
.ace_dark > .ace_mobile-menu {
    background: #333;
    color: #ccc;
    box-shadow: 1px 3px 2px grey;
    border: 1px solid #444;

}
.ace_mobile-button {
    padding: 2px;
    cursor: pointer;
    overflow: hidden;
}
.ace_mobile-button:hover {
    background-color: #eee;
    opacity:1;
}
.ace_mobile-button:active {
    background-color: #ddd;
}

.ace_placeholder {
    position: relative;
    font-family: arial;
    transform: scale(0.9);
    transform-origin: left;
    white-space: pre;
    opacity: 0.7;
    margin: 0 10px;
    z-index: 1;
}

.ace_ghost_text {
    opacity: 0.5;
    font-style: italic;
}

.ace_ghost_text_container > div {
    white-space: pre;
}

.ghost_text_line_wrapped::after {
    content: "";
    position: absolute;
}

.ace_lineWidgetContainer.ace_ghost_text {
    margin: 0px 4px
}

.ace_screenreader-only {
    position:absolute;
    left:-10000px;
    top:auto;
    width:1px;
    height:1px;
    overflow:hidden;
}

.ace_hidden_token {
    display: none;
}`}),ace.define("ace/layer/decorators",["require","exports","module","ace/lib/dom","ace/lib/oop","ace/lib/event_emitter"],function(f,B,z){var M=f("../lib/dom"),b=f("../lib/oop"),_=f("../lib/event_emitter").EventEmitter,s=function(){function d(o,n){this.canvas=M.createElement("canvas"),this.renderer=n,this.pixelRatio=1,this.maxHeight=n.layerConfig.maxHeight,this.lineHeight=n.layerConfig.lineHeight,this.canvasHeight=o.parent.scrollHeight,this.heightRatio=this.canvasHeight/this.maxHeight,this.canvasWidth=o.width,this.minDecorationHeight=2*this.pixelRatio|0,this.halfMinDecorationHeight=this.minDecorationHeight/2|0,this.canvas.width=this.canvasWidth,this.canvas.height=this.canvasHeight,this.canvas.style.top="0px",this.canvas.style.right="0px",this.canvas.style.zIndex="7px",this.canvas.style.position="absolute",this.colors={},this.colors.dark={error:"rgba(255, 18, 18, 1)",warning:"rgba(18, 136, 18, 1)",info:"rgba(18, 18, 136, 1)"},this.colors.light={error:"rgb(255,51,51)",warning:"rgb(32,133,72)",info:"rgb(35,68,138)"},o.element.appendChild(this.canvas)}return d.prototype.$updateDecorators=function(o){var n=this.renderer.theme.isDark===!0?this.colors.dark:this.colors.light;if(o){this.maxHeight=o.maxHeight,this.lineHeight=o.lineHeight,this.canvasHeight=o.height;var i=(o.lastRow+1)*this.lineHeight;i<this.canvasHeight?this.heightRatio=1:this.heightRatio=this.canvasHeight/this.maxHeight}var t=this.canvas.getContext("2d");function e(L,g){return L.priority<g.priority?-1:L.priority>g.priority?1:0}var r=this.renderer.session.$annotations;if(t.clearRect(0,0,this.canvas.width,this.canvas.height),r){var a={info:1,warning:2,error:3};r.forEach(function(L){L.priority=a[L.type]||null}),r=r.sort(e);for(var c=this.renderer.session.$foldData,h=0;h<r.length;h++){var $=r[h].row,v=this.compensateFoldRows($,c),p=Math.round(($-v)*this.lineHeight*this.heightRatio),u=Math.round(($-v)*this.lineHeight*this.heightRatio),m=Math.round((($-v)*this.lineHeight+this.lineHeight)*this.heightRatio),E=m-u;if(E<this.minDecorationHeight){var C=(u+m)/2|0;C<this.halfMinDecorationHeight?C=this.halfMinDecorationHeight:C+this.halfMinDecorationHeight>this.canvasHeight&&(C=this.canvasHeight-this.halfMinDecorationHeight),u=Math.round(C-this.halfMinDecorationHeight),m=Math.round(C+this.halfMinDecorationHeight)}t.fillStyle=n[r[h].type]||null,t.fillRect(0,p,this.canvasWidth,m-u)}}var R=this.renderer.session.selection.getCursor();if(R){var v=this.compensateFoldRows(R.row,c),p=Math.round((R.row-v)*this.lineHeight*this.heightRatio);t.fillStyle="rgba(0, 0, 0, 0.5)",t.fillRect(0,p,this.canvasWidth,2)}},d.prototype.compensateFoldRows=function(o,n){var i=0;if(n&&n.length>0)for(var t=0;t<n.length;t++)o>n[t].start.row&&o<n[t].end.row?i+=o-n[t].start.row:o>=n[t].end.row&&(i+=n[t].end.row-n[t].start.row);return i},d}();b.implement(s.prototype,_),B.Decorator=s}),ace.define("ace/virtual_renderer",["require","exports","module","ace/lib/oop","ace/lib/dom","ace/lib/lang","ace/config","ace/layer/gutter","ace/layer/marker","ace/layer/text","ace/layer/cursor","ace/scrollbar","ace/scrollbar","ace/scrollbar_custom","ace/scrollbar_custom","ace/renderloop","ace/layer/font_metrics","ace/lib/event_emitter","ace/css/editor-css","ace/layer/decorators","ace/lib/useragent","ace/layer/text_util"],function(f,B,z){var M=f("./lib/oop"),b=f("./lib/dom"),_=f("./lib/lang"),s=f("./config"),d=f("./layer/gutter").Gutter,o=f("./layer/marker").Marker,n=f("./layer/text").Text,i=f("./layer/cursor").Cursor,t=f("./scrollbar").HScrollBar,e=f("./scrollbar").VScrollBar,r=f("./scrollbar_custom").HScrollBar,a=f("./scrollbar_custom").VScrollBar,c=f("./renderloop").RenderLoop,h=f("./layer/font_metrics").FontMetrics,$=f("./lib/event_emitter").EventEmitter,v=f("./css/editor-css"),p=f("./layer/decorators").Decorator,u=f("./lib/useragent"),m=f("./layer/text_util").isTextToken;b.importCssString(v,"ace_editor.css",!1);var E=function(){function C(R,L){var g=this;this.container=R||b.createElement("div"),b.addCssClass(this.container,"ace_editor"),b.HI_DPI&&b.addCssClass(this.container,"ace_hidpi"),this.setTheme(L),s.get("useStrictCSP")==null&&s.set("useStrictCSP",!1),this.$gutter=b.createElement("div"),this.$gutter.className="ace_gutter",this.container.appendChild(this.$gutter),this.$gutter.setAttribute("aria-hidden","true"),this.scroller=b.createElement("div"),this.scroller.className="ace_scroller",this.container.appendChild(this.scroller),this.content=b.createElement("div"),this.content.className="ace_content",this.scroller.appendChild(this.content),this.$gutterLayer=new d(this.$gutter),this.$gutterLayer.on("changeGutterWidth",this.onGutterResize.bind(this)),this.$markerBack=new o(this.content);var y=this.$textLayer=new n(this.content);this.canvas=y.element,this.$markerFront=new o(this.content),this.$cursorLayer=new i(this.content),this.$horizScroll=!1,this.$vScroll=!1,this.scrollBar=this.scrollBarV=new e(this.container,this),this.scrollBarH=new t(this.container,this),this.scrollBarV.on("scroll",function(l){g.$scrollAnimation||g.session.setScrollTop(l.data-g.scrollMargin.top)}),this.scrollBarH.on("scroll",function(l){g.$scrollAnimation||g.session.setScrollLeft(l.data-g.scrollMargin.left)}),this.scrollTop=0,this.scrollLeft=0,this.cursorPos={row:0,column:0},this.$fontMetrics=new h(this.container),this.$textLayer.$setFontMetrics(this.$fontMetrics),this.$textLayer.on("changeCharacterSize",function(l){g.updateCharacterSize(),g.onResize(!0,g.gutterWidth,g.$size.width,g.$size.height),g._signal("changeCharacterSize",l)}),this.$size={width:0,height:0,scrollerHeight:0,scrollerWidth:0,$dirty:!0},this.layerConfig={width:1,padding:0,firstRow:0,firstRowScreen:0,lastRow:0,lineHeight:0,characterWidth:0,minHeight:1,maxHeight:1,offset:0,height:1,gutterOffset:1},this.scrollMargin={left:0,right:0,top:0,bottom:0,v:0,h:0},this.margin={left:0,right:0,top:0,bottom:0,v:0,h:0},this.$keepTextAreaAtCursor=!u.isIOS,this.$loop=new c(this.$renderChanges.bind(this),this.container.ownerDocument.defaultView),this.$loop.schedule(this.CHANGE_FULL),this.updateCharacterSize(),this.setPadding(4),this.$addResizeObserver(),s.resetOptions(this),s._signal("renderer",this)}return C.prototype.updateCharacterSize=function(){this.$textLayer.allowBoldFonts!=this.$allowBoldFonts&&(this.$allowBoldFonts=this.$textLayer.allowBoldFonts,this.setStyle("ace_nobold",!this.$allowBoldFonts)),this.layerConfig.characterWidth=this.characterWidth=this.$textLayer.getCharacterWidth(),this.layerConfig.lineHeight=this.lineHeight=this.$textLayer.getLineHeight(),this.$updatePrintMargin(),b.setStyle(this.scroller.style,"line-height",this.lineHeight+"px")},C.prototype.setSession=function(R){this.session&&this.session.doc.off("changeNewLineMode",this.onChangeNewLineMode),this.session=R,R&&this.scrollMargin.top&&R.getScrollTop()<=0&&R.setScrollTop(-this.scrollMargin.top),this.$cursorLayer.setSession(R),this.$markerBack.setSession(R),this.$markerFront.setSession(R),this.$gutterLayer.setSession(R),this.$textLayer.setSession(R),R&&(this.$loop.schedule(this.CHANGE_FULL),this.session.$setFontMetrics(this.$fontMetrics),this.scrollBarH.scrollLeft=this.scrollBarV.scrollTop=null,this.onChangeNewLineMode=this.onChangeNewLineMode.bind(this),this.onChangeNewLineMode(),this.session.doc.on("changeNewLineMode",this.onChangeNewLineMode))},C.prototype.updateLines=function(R,L,g){if(L===void 0&&(L=1/0),this.$changedLines?(this.$changedLines.firstRow>R&&(this.$changedLines.firstRow=R),this.$changedLines.lastRow<L&&(this.$changedLines.lastRow=L)):this.$changedLines={firstRow:R,lastRow:L},this.$changedLines.lastRow<this.layerConfig.firstRow)if(g)this.$changedLines.lastRow=this.layerConfig.lastRow;else return;this.$changedLines.firstRow>this.layerConfig.lastRow||this.$loop.schedule(this.CHANGE_LINES)},C.prototype.onChangeNewLineMode=function(){this.$loop.schedule(this.CHANGE_TEXT),this.$textLayer.$updateEolChar(),this.session.$bidiHandler.setEolChar(this.$textLayer.EOL_CHAR)},C.prototype.onChangeTabSize=function(){this.$loop.schedule(this.CHANGE_TEXT|this.CHANGE_MARKER),this.$textLayer.onChangeTabSize()},C.prototype.updateText=function(){this.$loop.schedule(this.CHANGE_TEXT)},C.prototype.updateFull=function(R){R?this.$renderChanges(this.CHANGE_FULL,!0):this.$loop.schedule(this.CHANGE_FULL)},C.prototype.updateFontSize=function(){this.$textLayer.checkForSizeChanges()},C.prototype.$updateSizeAsync=function(){this.$loop.pending?this.$size.$dirty=!0:this.onResize()},C.prototype.onResize=function(R,L,g,y){if(!(this.resizing>2)){this.resizing>0?this.resizing++:this.resizing=R?1:0;var l=this.container;y||(y=l.clientHeight||l.scrollHeight),!y&&this.$maxLines&&this.lineHeight>1&&(!l.style.height||l.style.height=="0px")&&(l.style.height="1px",y=l.clientHeight||l.scrollHeight),g||(g=l.clientWidth||l.scrollWidth);var w=this.$updateCachedSize(R,L,g,y);if(this.$resizeTimer&&this.$resizeTimer.cancel(),!this.$size.scrollerHeight||!g&&!y)return this.resizing=0;R&&(this.$gutterLayer.$padding=null),R?this.$renderChanges(w|this.$changes,!0):this.$loop.schedule(w|this.$changes),this.resizing&&(this.resizing=0),this.scrollBarH.scrollLeft=this.scrollBarV.scrollTop=null,this.$customScrollbar&&this.$updateCustomScrollbar(!0)}},C.prototype.$updateCachedSize=function(R,L,g,y){y-=this.$extraHeight||0;var l=0,w=this.$size,k={width:w.width,height:w.height,scrollerHeight:w.scrollerHeight,scrollerWidth:w.scrollerWidth};if(y&&(R||w.height!=y)&&(w.height=y,l|=this.CHANGE_SIZE,w.scrollerHeight=w.height,this.$horizScroll&&(w.scrollerHeight-=this.scrollBarH.getHeight()),this.scrollBarV.setHeight(w.scrollerHeight),this.scrollBarV.element.style.bottom=this.scrollBarH.getHeight()+"px",l=l|this.CHANGE_SCROLL),g&&(R||w.width!=g)){l|=this.CHANGE_SIZE,w.width=g,L==null&&(L=this.$showGutter?this.$gutter.offsetWidth:0),this.gutterWidth=L,b.setStyle(this.scrollBarH.element.style,"left",L+"px"),b.setStyle(this.scroller.style,"left",L+this.margin.left+"px"),w.scrollerWidth=Math.max(0,g-L-this.scrollBarV.getWidth()-this.margin.h),b.setStyle(this.$gutter.style,"left",this.margin.left+"px");var I=this.scrollBarV.getWidth()+"px";b.setStyle(this.scrollBarH.element.style,"right",I),b.setStyle(this.scroller.style,"right",I),b.setStyle(this.scroller.style,"bottom",this.scrollBarH.getHeight()),this.scrollBarH.setWidth(w.scrollerWidth),(this.session&&this.session.getUseWrapMode()&&this.adjustWrapLimit()||R)&&(l|=this.CHANGE_FULL)}return w.$dirty=!g||!y,l&&this._signal("resize",k),l},C.prototype.onGutterResize=function(R){var L=this.$showGutter?R:0;L!=this.gutterWidth&&(this.$changes|=this.$updateCachedSize(!0,L,this.$size.width,this.$size.height)),this.session.getUseWrapMode()&&this.adjustWrapLimit()?this.$loop.schedule(this.CHANGE_FULL):this.$size.$dirty?this.$loop.schedule(this.CHANGE_FULL):this.$computeLayerConfig()},C.prototype.adjustWrapLimit=function(){var R=this.$size.scrollerWidth-this.$padding*2,L=Math.floor(R/this.characterWidth);return this.session.adjustWrapLimit(L,this.$showPrintMargin&&this.$printMarginColumn)},C.prototype.setAnimatedScroll=function(R){this.setOption("animatedScroll",R)},C.prototype.getAnimatedScroll=function(){return this.$animatedScroll},C.prototype.setShowInvisibles=function(R){this.setOption("showInvisibles",R),this.session.$bidiHandler.setShowInvisibles(R)},C.prototype.getShowInvisibles=function(){return this.getOption("showInvisibles")},C.prototype.getDisplayIndentGuides=function(){return this.getOption("displayIndentGuides")},C.prototype.setDisplayIndentGuides=function(R){this.setOption("displayIndentGuides",R)},C.prototype.getHighlightIndentGuides=function(){return this.getOption("highlightIndentGuides")},C.prototype.setHighlightIndentGuides=function(R){this.setOption("highlightIndentGuides",R)},C.prototype.setShowPrintMargin=function(R){this.setOption("showPrintMargin",R)},C.prototype.getShowPrintMargin=function(){return this.getOption("showPrintMargin")},C.prototype.setPrintMarginColumn=function(R){this.setOption("printMarginColumn",R)},C.prototype.getPrintMarginColumn=function(){return this.getOption("printMarginColumn")},C.prototype.getShowGutter=function(){return this.getOption("showGutter")},C.prototype.setShowGutter=function(R){return this.setOption("showGutter",R)},C.prototype.getFadeFoldWidgets=function(){return this.getOption("fadeFoldWidgets")},C.prototype.setFadeFoldWidgets=function(R){this.setOption("fadeFoldWidgets",R)},C.prototype.setHighlightGutterLine=function(R){this.setOption("highlightGutterLine",R)},C.prototype.getHighlightGutterLine=function(){return this.getOption("highlightGutterLine")},C.prototype.$updatePrintMargin=function(){if(!(!this.$showPrintMargin&&!this.$printMarginEl)){if(!this.$printMarginEl){var R=b.createElement("div");R.className="ace_layer ace_print-margin-layer",this.$printMarginEl=b.createElement("div"),this.$printMarginEl.className="ace_print-margin",R.appendChild(this.$printMarginEl),this.content.insertBefore(R,this.content.firstChild)}var L=this.$printMarginEl.style;L.left=Math.round(this.characterWidth*this.$printMarginColumn+this.$padding)+"px",L.visibility=this.$showPrintMargin?"visible":"hidden",this.session&&this.session.$wrap==-1&&this.adjustWrapLimit()}},C.prototype.getContainerElement=function(){return this.container},C.prototype.getMouseEventTarget=function(){return this.scroller},C.prototype.getTextAreaContainer=function(){return this.container},C.prototype.$moveTextAreaToCursor=function(){if(!this.$isMousePressed){var R=this.textarea.style,L=this.$composition;if(!this.$keepTextAreaAtCursor&&!L){b.translate(this.textarea,-100,0);return}var g=this.$cursorLayer.$pixelPos;if(g){L&&L.markerRange&&(g=this.$cursorLayer.getPixelPosition(L.markerRange.start,!0));var y=this.layerConfig,l=g.top,w=g.left;l-=y.offset;var k=L&&L.useTextareaForIME||u.isMobile?this.lineHeight:1;if(l<0||l>y.height-k){b.translate(this.textarea,0,0);return}var I=1,G=this.$size.height-k;if(!L)l+=this.lineHeight;else if(L.useTextareaForIME){var H=this.textarea.value;I=this.characterWidth*this.session.$getStringScreenWidth(H)[0]}else l+=this.lineHeight+2;w-=this.scrollLeft,w>this.$size.scrollerWidth-I&&(w=this.$size.scrollerWidth-I),w+=this.gutterWidth+this.margin.left,b.setStyle(R,"height",k+"px"),b.setStyle(R,"width",I+"px"),b.translate(this.textarea,Math.min(w,this.$size.scrollerWidth-I),Math.min(l,G))}}},C.prototype.getFirstVisibleRow=function(){return this.layerConfig.firstRow},C.prototype.getFirstFullyVisibleRow=function(){return this.layerConfig.firstRow+(this.layerConfig.offset===0?0:1)},C.prototype.getLastFullyVisibleRow=function(){var R=this.layerConfig,L=R.lastRow,g=this.session.documentToScreenRow(L,0)*R.lineHeight;return g-this.session.getScrollTop()>R.height-R.lineHeight?L-1:L},C.prototype.getLastVisibleRow=function(){return this.layerConfig.lastRow},C.prototype.setPadding=function(R){this.$padding=R,this.$textLayer.setPadding(R),this.$cursorLayer.setPadding(R),this.$markerFront.setPadding(R),this.$markerBack.setPadding(R),this.$loop.schedule(this.CHANGE_FULL),this.$updatePrintMargin()},C.prototype.setScrollMargin=function(R,L,g,y){var l=this.scrollMargin;l.top=R|0,l.bottom=L|0,l.right=y|0,l.left=g|0,l.v=l.top+l.bottom,l.h=l.left+l.right,l.top&&this.scrollTop<=0&&this.session&&this.session.setScrollTop(-l.top),this.updateFull()},C.prototype.setMargin=function(R,L,g,y){var l=this.margin;l.top=R|0,l.bottom=L|0,l.right=y|0,l.left=g|0,l.v=l.top+l.bottom,l.h=l.left+l.right,this.$updateCachedSize(!0,this.gutterWidth,this.$size.width,this.$size.height),this.updateFull()},C.prototype.getHScrollBarAlwaysVisible=function(){return this.$hScrollBarAlwaysVisible},C.prototype.setHScrollBarAlwaysVisible=function(R){this.setOption("hScrollBarAlwaysVisible",R)},C.prototype.getVScrollBarAlwaysVisible=function(){return this.$vScrollBarAlwaysVisible},C.prototype.setVScrollBarAlwaysVisible=function(R){this.setOption("vScrollBarAlwaysVisible",R)},C.prototype.$updateScrollBarV=function(){var R=this.layerConfig.maxHeight,L=this.$size.scrollerHeight;!this.$maxLines&&this.$scrollPastEnd&&(R-=(L-this.lineHeight)*this.$scrollPastEnd,this.scrollTop>R-L&&(R=this.scrollTop+L,this.scrollBarV.scrollTop=null)),this.scrollBarV.setScrollHeight(R+this.scrollMargin.v),this.scrollBarV.setScrollTop(this.scrollTop+this.scrollMargin.top)},C.prototype.$updateScrollBarH=function(){this.scrollBarH.setScrollWidth(this.layerConfig.width+2*this.$padding+this.scrollMargin.h),this.scrollBarH.setScrollLeft(this.scrollLeft+this.scrollMargin.left)},C.prototype.freeze=function(){this.$frozen=!0},C.prototype.unfreeze=function(){this.$frozen=!1},C.prototype.$renderChanges=function(R,L){if(this.$changes&&(R|=this.$changes,this.$changes=0),!this.session||!this.container.offsetWidth||this.$frozen||!R&&!L){this.$changes|=R;return}if(this.$size.$dirty)return this.$changes|=R,this.onResize(!0);this.lineHeight||this.$textLayer.checkForSizeChanges(),this._signal("beforeRender",R),this.session&&this.session.$bidiHandler&&this.session.$bidiHandler.updateCharacterWidths(this.$fontMetrics);var g=this.layerConfig;if(R&this.CHANGE_FULL||R&this.CHANGE_SIZE||R&this.CHANGE_TEXT||R&this.CHANGE_LINES||R&this.CHANGE_SCROLL||R&this.CHANGE_H_SCROLL){if(R|=this.$computeLayerConfig()|this.$loop.clear(),g.firstRow!=this.layerConfig.firstRow&&g.firstRowScreen==this.layerConfig.firstRowScreen){var y=this.scrollTop+(g.firstRow-Math.max(this.layerConfig.firstRow,0))*this.lineHeight;y>0&&(this.scrollTop=y,R=R|this.CHANGE_SCROLL,R|=this.$computeLayerConfig()|this.$loop.clear())}g=this.layerConfig,this.$updateScrollBarV(),R&this.CHANGE_H_SCROLL&&this.$updateScrollBarH(),b.translate(this.content,-this.scrollLeft,-g.offset);var l=g.width+2*this.$padding+"px",w=g.minHeight+"px";b.setStyle(this.content.style,"width",l),b.setStyle(this.content.style,"height",w)}if(R&this.CHANGE_H_SCROLL&&(b.translate(this.content,-this.scrollLeft,-g.offset),this.scroller.className=this.scrollLeft<=0?"ace_scroller ":"ace_scroller ace_scroll-left ",this.enableKeyboardAccessibility&&(this.scroller.className+=this.keyboardFocusClassName)),R&this.CHANGE_FULL){this.$changedLines=null,this.$textLayer.update(g),this.$showGutter&&this.$gutterLayer.update(g),this.$customScrollbar&&this.$scrollDecorator.$updateDecorators(g),this.$markerBack.update(g),this.$markerFront.update(g),this.$cursorLayer.update(g),this.$moveTextAreaToCursor(),this._signal("afterRender",R);return}if(R&this.CHANGE_SCROLL){this.$changedLines=null,R&this.CHANGE_TEXT||R&this.CHANGE_LINES?this.$textLayer.update(g):this.$textLayer.scrollLines(g),this.$showGutter&&(R&this.CHANGE_GUTTER||R&this.CHANGE_LINES?this.$gutterLayer.update(g):this.$gutterLayer.scrollLines(g)),this.$customScrollbar&&this.$scrollDecorator.$updateDecorators(g),this.$markerBack.update(g),this.$markerFront.update(g),this.$cursorLayer.update(g),this.$moveTextAreaToCursor(),this._signal("afterRender",R);return}R&this.CHANGE_TEXT?(this.$changedLines=null,this.$textLayer.update(g),this.$showGutter&&this.$gutterLayer.update(g),this.$customScrollbar&&this.$scrollDecorator.$updateDecorators(g)):R&this.CHANGE_LINES?((this.$updateLines()||R&this.CHANGE_GUTTER&&this.$showGutter)&&this.$gutterLayer.update(g),this.$customScrollbar&&this.$scrollDecorator.$updateDecorators(g)):R&this.CHANGE_TEXT||R&this.CHANGE_GUTTER?(this.$showGutter&&this.$gutterLayer.update(g),this.$customScrollbar&&this.$scrollDecorator.$updateDecorators(g)):R&this.CHANGE_CURSOR&&(this.$highlightGutterLine&&this.$gutterLayer.updateLineHighlight(g),this.$customScrollbar&&this.$scrollDecorator.$updateDecorators(g)),R&this.CHANGE_CURSOR&&(this.$cursorLayer.update(g),this.$moveTextAreaToCursor()),R&(this.CHANGE_MARKER|this.CHANGE_MARKER_FRONT)&&this.$markerFront.update(g),R&(this.CHANGE_MARKER|this.CHANGE_MARKER_BACK)&&this.$markerBack.update(g),this._signal("afterRender",R)},C.prototype.$autosize=function(){var R=this.session.getScreenLength()*this.lineHeight,L=this.$maxLines*this.lineHeight,g=Math.min(L,Math.max((this.$minLines||1)*this.lineHeight,R))+this.scrollMargin.v+(this.$extraHeight||0);this.$horizScroll&&(g+=this.scrollBarH.getHeight()),this.$maxPixelHeight&&g>this.$maxPixelHeight&&(g=this.$maxPixelHeight);var y=g<=2*this.lineHeight,l=!y&&R>L;if(g!=this.desiredHeight||this.$size.height!=this.desiredHeight||l!=this.$vScroll){l!=this.$vScroll&&(this.$vScroll=l,this.scrollBarV.setVisible(l));var w=this.container.clientWidth;this.container.style.height=g+"px",this.$updateCachedSize(!0,this.$gutterWidth,w,g),this.desiredHeight=g,this._signal("autosize")}},C.prototype.$computeLayerConfig=function(){var R=this.session,L=this.$size,g=L.height<=2*this.lineHeight,y=this.session.getScreenLength(),l=y*this.lineHeight,w=this.$getLongestLine(),k=!g&&(this.$hScrollBarAlwaysVisible||L.scrollerWidth-w-2*this.$padding<0),I=this.$horizScroll!==k;I&&(this.$horizScroll=k,this.scrollBarH.setVisible(k));var G=this.$vScroll;this.$maxLines&&this.lineHeight>1&&this.$autosize();var H=L.scrollerHeight+this.lineHeight,J=!this.$maxLines&&this.$scrollPastEnd?(L.scrollerHeight-this.lineHeight)*this.$scrollPastEnd:0;l+=J;var j=this.scrollMargin;this.session.setScrollTop(Math.max(-j.top,Math.min(this.scrollTop,l-L.scrollerHeight+j.bottom))),this.session.setScrollLeft(Math.max(-j.left,Math.min(this.scrollLeft,w+2*this.$padding-L.scrollerWidth+j.right)));var K=!g&&(this.$vScrollBarAlwaysVisible||L.scrollerHeight-l+J<0||this.scrollTop>j.top),ie=G!==K;ie&&(this.$vScroll=K,this.scrollBarV.setVisible(K));var ee=this.scrollTop%this.lineHeight,oe=Math.ceil(H/this.lineHeight)-1,fe=Math.max(0,Math.round((this.scrollTop-ee)/this.lineHeight)),Ee=fe+oe,Ce,Se,Be=this.lineHeight;fe=R.screenToDocumentRow(fe,0);var Fe=R.getFoldLine(fe);Fe&&(fe=Fe.start.row),Ce=R.documentToScreenRow(fe,0),Se=R.getRowLength(fe)*Be,Ee=Math.min(R.screenToDocumentRow(Ee,0),R.getLength()-1),H=L.scrollerHeight+R.getRowLength(Ee)*Be+Se,ee=this.scrollTop-Ce*Be;var Ue=0;return(this.layerConfig.width!=w||I)&&(Ue=this.CHANGE_H_SCROLL),(I||ie)&&(Ue|=this.$updateCachedSize(!0,this.gutterWidth,L.width,L.height),this._signal("scrollbarVisibilityChanged"),ie&&(w=this.$getLongestLine())),this.layerConfig={width:w,padding:this.$padding,firstRow:fe,firstRowScreen:Ce,lastRow:Ee,lineHeight:Be,characterWidth:this.characterWidth,minHeight:H,maxHeight:l,offset:ee,gutterOffset:Be?Math.max(0,Math.ceil((ee+L.height-L.scrollerHeight)/Be)):0,height:this.$size.scrollerHeight},this.session.$bidiHandler&&this.session.$bidiHandler.setContentWidth(w-this.$padding),Ue},C.prototype.$updateLines=function(){if(this.$changedLines){var R=this.$changedLines.firstRow,L=this.$changedLines.lastRow;this.$changedLines=null;var g=this.layerConfig;if(!(R>g.lastRow+1)&&!(L<g.firstRow)){if(L===1/0){this.$showGutter&&this.$gutterLayer.update(g),this.$textLayer.update(g);return}return this.$textLayer.updateLines(g,R,L),!0}}},C.prototype.$getLongestLine=function(){var R=this.session.getScreenWidth();return this.showInvisibles&&!this.session.$useWrapMode&&(R+=1),this.$textLayer&&R>this.$textLayer.MAX_LINE_LENGTH&&(R=this.$textLayer.MAX_LINE_LENGTH+30),Math.max(this.$size.scrollerWidth-2*this.$padding,Math.round(R*this.characterWidth))},C.prototype.updateFrontMarkers=function(){this.$markerFront.setMarkers(this.session.getMarkers(!0)),this.$loop.schedule(this.CHANGE_MARKER_FRONT)},C.prototype.updateBackMarkers=function(){this.$markerBack.setMarkers(this.session.getMarkers()),this.$loop.schedule(this.CHANGE_MARKER_BACK)},C.prototype.addGutterDecoration=function(R,L){this.$gutterLayer.addGutterDecoration(R,L)},C.prototype.removeGutterDecoration=function(R,L){this.$gutterLayer.removeGutterDecoration(R,L)},C.prototype.updateBreakpoints=function(R){this._rows=R,this.$loop.schedule(this.CHANGE_GUTTER)},C.prototype.setAnnotations=function(R){this.$gutterLayer.setAnnotations(R),this.$loop.schedule(this.CHANGE_GUTTER)},C.prototype.updateCursor=function(){this.$loop.schedule(this.CHANGE_CURSOR)},C.prototype.hideCursor=function(){this.$cursorLayer.hideCursor()},C.prototype.showCursor=function(){this.$cursorLayer.showCursor()},C.prototype.scrollSelectionIntoView=function(R,L,g){this.scrollCursorIntoView(R,g),this.scrollCursorIntoView(L,g)},C.prototype.scrollCursorIntoView=function(R,L,g){if(this.$size.scrollerHeight!==0){var y=this.$cursorLayer.getPixelPosition(R),l=y.left,w=y.top,k=g&&g.top||0,I=g&&g.bottom||0;this.$scrollAnimation&&(this.$stopAnimation=!0);var G=this.$scrollAnimation?this.session.getScrollTop():this.scrollTop;G+k>w?(L&&G+k>w+this.lineHeight&&(w-=L*this.$size.scrollerHeight),w===0&&(w=-this.scrollMargin.top),this.session.setScrollTop(w)):G+this.$size.scrollerHeight-I<w+this.lineHeight&&(L&&G+this.$size.scrollerHeight-I<w-this.lineHeight&&(w+=L*this.$size.scrollerHeight),this.session.setScrollTop(w+this.lineHeight+I-this.$size.scrollerHeight));var H=this.scrollLeft,J=2*this.layerConfig.characterWidth;l-J<H?(l-=J,l<this.$padding+J&&(l=-this.scrollMargin.left),this.session.setScrollLeft(l)):(l+=J,H+this.$size.scrollerWidth<l+this.characterWidth?this.session.setScrollLeft(Math.round(l+this.characterWidth-this.$size.scrollerWidth)):H<=this.$padding&&l-H<this.characterWidth&&this.session.setScrollLeft(0))}},C.prototype.getScrollTop=function(){return this.session.getScrollTop()},C.prototype.getScrollLeft=function(){return this.session.getScrollLeft()},C.prototype.getScrollTopRow=function(){return this.scrollTop/this.lineHeight},C.prototype.getScrollBottomRow=function(){return Math.max(0,Math.floor((this.scrollTop+this.$size.scrollerHeight)/this.lineHeight)-1)},C.prototype.scrollToRow=function(R){this.session.setScrollTop(R*this.lineHeight)},C.prototype.alignCursor=function(R,L){typeof R=="number"&&(R={row:R,column:0});var g=this.$cursorLayer.getPixelPosition(R),y=this.$size.scrollerHeight-this.lineHeight,l=g.top-y*(L||0);return this.session.setScrollTop(l),l},C.prototype.$calcSteps=function(R,L){var g=0,y=this.STEPS,l=[],w=function(k,I,G){return G*(Math.pow(k-1,3)+1)+I};for(g=0;g<y;++g)l.push(w(g/this.STEPS,R,L-R));return l},C.prototype.scrollToLine=function(R,L,g,y){var l=this.$cursorLayer.getPixelPosition({row:R,column:0}),w=l.top;L&&(w-=this.$size.scrollerHeight/2);var k=this.scrollTop;this.session.setScrollTop(w),g!==!1&&this.animateScrolling(k,y)},C.prototype.animateScrolling=function(R,L){var g=this.scrollTop;if(!this.$animatedScroll)return;var y=this;if(R==g)return;if(this.$scrollAnimation){var l=this.$scrollAnimation.steps;if(l.length&&(R=l[0],R==g))return}var w=y.$calcSteps(R,g);this.$scrollAnimation={from:R,to:g,steps:w},clearInterval(this.$timer),y.session.setScrollTop(w.shift()),y.session.$scrollTop=g;function k(){y.$timer=clearInterval(y.$timer),y.$scrollAnimation=null,y.$stopAnimation=!1,L&&L()}this.$timer=setInterval(function(){if(y.$stopAnimation){k();return}if(!y.session)return clearInterval(y.$timer);w.length?(y.session.setScrollTop(w.shift()),y.session.$scrollTop=g):g!=null?(y.session.$scrollTop=-1,y.session.setScrollTop(g),g=null):k()},10)},C.prototype.scrollToY=function(R){this.scrollTop!==R&&(this.$loop.schedule(this.CHANGE_SCROLL),this.scrollTop=R)},C.prototype.scrollToX=function(R){this.scrollLeft!==R&&(this.scrollLeft=R),this.$loop.schedule(this.CHANGE_H_SCROLL)},C.prototype.scrollTo=function(R,L){this.session.setScrollTop(L),this.session.setScrollLeft(R)},C.prototype.scrollBy=function(R,L){L&&this.session.setScrollTop(this.session.getScrollTop()+L),R&&this.session.setScrollLeft(this.session.getScrollLeft()+R)},C.prototype.isScrollableBy=function(R,L){if(L<0&&this.session.getScrollTop()>=1-this.scrollMargin.top||L>0&&this.session.getScrollTop()+this.$size.scrollerHeight-this.layerConfig.maxHeight<-1+this.scrollMargin.bottom||R<0&&this.session.getScrollLeft()>=1-this.scrollMargin.left||R>0&&this.session.getScrollLeft()+this.$size.scrollerWidth-this.layerConfig.width<-1+this.scrollMargin.right)return!0},C.prototype.pixelToScreenCoordinates=function(R,L){var g;if(this.$hasCssTransforms){g={top:0,left:0};var y=this.$fontMetrics.transformCoordinates([R,L]);R=y[1]-this.gutterWidth-this.margin.left,L=y[0]}else g=this.scroller.getBoundingClientRect();var l=R+this.scrollLeft-g.left-this.$padding,w=l/this.characterWidth,k=Math.floor((L+this.scrollTop-g.top)/this.lineHeight),I=this.$blockCursor?Math.floor(w):Math.round(w);return{row:k,column:I,side:w-I>0?1:-1,offsetX:l}},C.prototype.screenToTextCoordinates=function(R,L){var g;if(this.$hasCssTransforms){g={top:0,left:0};var y=this.$fontMetrics.transformCoordinates([R,L]);R=y[1]-this.gutterWidth-this.margin.left,L=y[0]}else g=this.scroller.getBoundingClientRect();var l=R+this.scrollLeft-g.left-this.$padding,w=l/this.characterWidth,k=this.$blockCursor?Math.floor(w):Math.round(w),I=Math.floor((L+this.scrollTop-g.top)/this.lineHeight);return this.session.screenToDocumentPosition(I,Math.max(k,0),l)},C.prototype.textToScreenCoordinates=function(R,L){var g=this.scroller.getBoundingClientRect(),y=this.session.documentToScreenPosition(R,L),l=this.$padding+(this.session.$bidiHandler.isBidiRow(y.row,R)?this.session.$bidiHandler.getPosLeft(y.column):Math.round(y.column*this.characterWidth)),w=y.row*this.lineHeight;return{pageX:g.left+l-this.scrollLeft,pageY:g.top+w-this.scrollTop}},C.prototype.visualizeFocus=function(){b.addCssClass(this.container,"ace_focus")},C.prototype.visualizeBlur=function(){b.removeCssClass(this.container,"ace_focus")},C.prototype.showComposition=function(R){this.$composition=R,R.cssText||(R.cssText=this.textarea.style.cssText),R.useTextareaForIME==null&&(R.useTextareaForIME=this.$useTextareaForIME),this.$useTextareaForIME?(b.addCssClass(this.textarea,"ace_composition"),this.textarea.style.cssText="",this.$moveTextAreaToCursor(),this.$cursorLayer.element.style.display="none"):R.markerId=this.session.addMarker(R.markerRange,"ace_composition_marker","text")},C.prototype.setCompositionText=function(R){var L=this.session.selection.cursor;this.addToken(R,"composition_placeholder",L.row,L.column),this.$moveTextAreaToCursor()},C.prototype.hideComposition=function(){if(this.$composition){this.$composition.markerId&&this.session.removeMarker(this.$composition.markerId),b.removeCssClass(this.textarea,"ace_composition"),this.textarea.style.cssText=this.$composition.cssText;var R=this.session.selection.cursor;this.removeExtraToken(R.row,R.column),this.$composition=null,this.$cursorLayer.element.style.display=""}},C.prototype.setGhostText=function(R,L){var g=this.session.selection.cursor,y=L||{row:g.row,column:g.column};this.removeGhostText();var l=this.$calculateWrappedTextChunks(R,y);this.addToken(l[0].text,"ghost_text",y.row,y.column),this.$ghostText={text:R,position:{row:y.row,column:y.column}};var w=b.createElement("div");if(l.length>1){var k=this.hideTokensAfterPosition(y.row,y.column),I;l.slice(1).forEach(function(ie){var ee=b.createElement("div"),oe=b.createElement("span");oe.className="ace_ghost_text",ie.wrapped&&(ee.className="ghost_text_line_wrapped"),ie.text.length===0&&(ie.text=" "),oe.appendChild(b.createTextNode(ie.text)),ee.appendChild(oe),w.appendChild(ee),I=ee}),k.forEach(function(ie){var ee=b.createElement("span");m(ie.type)||(ee.className="ace_"+ie.type.replace(/\./g," ace_")),ee.appendChild(b.createTextNode(ie.value)),I.appendChild(ee)}),this.$ghostTextWidget={el:w,row:y.row,column:y.column,className:"ace_ghost_text_container"},this.session.widgetManager.addLineWidget(this.$ghostTextWidget);var G=this.$cursorLayer.getPixelPosition(y,!0),H=this.container,J=H.getBoundingClientRect().height,j=l.length*this.lineHeight,K=j<J-G.top;if(K)return;j<J?this.scrollBy(0,(l.length-1)*this.lineHeight):this.scrollToRow(y.row)}},C.prototype.$calculateWrappedTextChunks=function(R,L){var g=this.$size.scrollerWidth-this.$padding*2,y=Math.floor(g/this.characterWidth)-2;y=y<=0?60:y;for(var l=R.split(/\r?\n/),w=[],k=0;k<l.length;k++){var I=this.session.$getDisplayTokens(l[k],L.column),G=this.session.$computeWrapSplits(I,y,this.session.$tabSize);if(G.length>0){var H=0;G.push(l[k].length);for(var J=0;J<G.length;J++){var j=l[k].slice(H,G[J]);w.push({text:j,wrapped:!0}),H=G[J]}}else w.push({text:l[k],wrapped:!1})}return w},C.prototype.removeGhostText=function(){if(this.$ghostText){var R=this.$ghostText.position;this.removeExtraToken(R.row,R.column),this.$ghostTextWidget&&(this.session.widgetManager.removeLineWidget(this.$ghostTextWidget),this.$ghostTextWidget=null),this.$ghostText=null}},C.prototype.addToken=function(R,L,g,y){var l=this.session;l.bgTokenizer.lines[g]=null;var w={type:L,value:R},k=l.getTokens(g);if(y==null||!k.length)k.push(w);else for(var I=0,G=0;G<k.length;G++){var H=k[G];if(I+=H.value.length,y<=I){var J=H.value.length-(I-y),j=H.value.slice(0,J),K=H.value.slice(J);k.splice(G,1,{type:H.type,value:j},w,{type:H.type,value:K});break}}this.updateLines(g,g)},C.prototype.hideTokensAfterPosition=function(R,L){for(var g=this.session.getTokens(R),y=0,l=!1,w=[],k=0;k<g.length;k++){var I=g[k];if(y+=I.value.length,I.type!=="ghost_text"){if(l){w.push({type:I.type,value:I.value}),I.type="hidden_token";continue}y===L&&(l=!0)}}return this.updateLines(R,R),w},C.prototype.removeExtraToken=function(R,L){this.session.bgTokenizer.lines[R]=null,this.updateLines(R,R)},C.prototype.setTheme=function(R,L){var g=this;if(this.$themeId=R,g._dispatchEvent("themeChange",{theme:R}),!R||typeof R=="string"){var y=R||this.$options.theme.initialValue;s.loadModule(["theme",y],l)}else l(R);function l(w){if(g.$themeId!=R)return L&&L();if(!w||!w.cssClass)throw new Error("couldn't load module "+R+" or it didn't call define");w.$id&&(g.$themeId=w.$id),b.importCssString(w.cssText,w.cssClass,g.container),g.theme&&b.removeCssClass(g.container,g.theme.cssClass);var k="padding"in w?w.padding:"padding"in(g.theme||{})?4:g.$padding;g.$padding&&k!=g.$padding&&g.setPadding(k),g.$theme=w.cssClass,g.theme=w,b.addCssClass(g.container,w.cssClass),b.setCssClass(g.container,"ace_dark",w.isDark),g.$size&&(g.$size.width=0,g.$updateSizeAsync()),g._dispatchEvent("themeLoaded",{theme:w}),L&&L(),u.isSafari&&g.scroller&&(g.scroller.style.background="red",g.scroller.style.background="")}},C.prototype.getTheme=function(){return this.$themeId},C.prototype.setStyle=function(R,L){b.setCssClass(this.container,R,L!==!1)},C.prototype.unsetStyle=function(R){b.removeCssClass(this.container,R)},C.prototype.setCursorStyle=function(R){b.setStyle(this.scroller.style,"cursor",R)},C.prototype.setMouseCursor=function(R){b.setStyle(this.scroller.style,"cursor",R)},C.prototype.attachToShadowRoot=function(){b.importCssString(v,"ace_editor.css",this.container)},C.prototype.destroy=function(){this.freeze(),this.$fontMetrics.destroy(),this.$cursorLayer.destroy(),this.removeAllListeners(),this.container.textContent="",this.setOption("useResizeObserver",!1)},C.prototype.$updateCustomScrollbar=function(R){var L=this;this.$horizScroll=this.$vScroll=null,this.scrollBarV.element.remove(),this.scrollBarH.element.remove(),this.$scrollDecorator&&delete this.$scrollDecorator,R===!0?(this.scrollBarV=new a(this.container,this),this.scrollBarH=new r(this.container,this),this.scrollBarV.setHeight(this.$size.scrollerHeight),this.scrollBarH.setWidth(this.$size.scrollerWidth),this.scrollBarV.addEventListener("scroll",function(g){L.$scrollAnimation||L.session.setScrollTop(g.data-L.scrollMargin.top)}),this.scrollBarH.addEventListener("scroll",function(g){L.$scrollAnimation||L.session.setScrollLeft(g.data-L.scrollMargin.left)}),this.$scrollDecorator=new p(this.scrollBarV,this),this.$scrollDecorator.$updateDecorators()):(this.scrollBarV=new e(this.container,this),this.scrollBarH=new t(this.container,this),this.scrollBarV.addEventListener("scroll",function(g){L.$scrollAnimation||L.session.setScrollTop(g.data-L.scrollMargin.top)}),this.scrollBarH.addEventListener("scroll",function(g){L.$scrollAnimation||L.session.setScrollLeft(g.data-L.scrollMargin.left)}))},C.prototype.$addResizeObserver=function(){if(!(!window.ResizeObserver||this.$resizeObserver)){var R=this;this.$resizeTimer=_.delayedCall(function(){R.destroyed||R.onResize()},50),this.$resizeObserver=new window.ResizeObserver(function(L){var g=L[0].contentRect.width,y=L[0].contentRect.height;Math.abs(R.$size.width-g)>1||Math.abs(R.$size.height-y)>1?R.$resizeTimer.delay():R.$resizeTimer.cancel()}),this.$resizeObserver.observe(this.container)}},C}();E.prototype.CHANGE_CURSOR=1,E.prototype.CHANGE_MARKER=2,E.prototype.CHANGE_GUTTER=4,E.prototype.CHANGE_SCROLL=8,E.prototype.CHANGE_LINES=16,E.prototype.CHANGE_TEXT=32,E.prototype.CHANGE_SIZE=64,E.prototype.CHANGE_MARKER_BACK=128,E.prototype.CHANGE_MARKER_FRONT=256,E.prototype.CHANGE_FULL=512,E.prototype.CHANGE_H_SCROLL=1024,E.prototype.$changes=0,E.prototype.$padding=null,E.prototype.$frozen=!1,E.prototype.STEPS=8,M.implement(E.prototype,$),s.defineOptions(E.prototype,"renderer",{useResizeObserver:{set:function(C){!C&&this.$resizeObserver?(this.$resizeObserver.disconnect(),this.$resizeTimer.cancel(),this.$resizeTimer=this.$resizeObserver=null):C&&!this.$resizeObserver&&this.$addResizeObserver()}},animatedScroll:{initialValue:!1},showInvisibles:{set:function(C){this.$textLayer.setShowInvisibles(C)&&this.$loop.schedule(this.CHANGE_TEXT)},initialValue:!1},showPrintMargin:{set:function(){this.$updatePrintMargin()},initialValue:!0},printMarginColumn:{set:function(){this.$updatePrintMargin()},initialValue:80},printMargin:{set:function(C){typeof C=="number"&&(this.$printMarginColumn=C),this.$showPrintMargin=!!C,this.$updatePrintMargin()},get:function(){return this.$showPrintMargin&&this.$printMarginColumn}},showGutter:{set:function(C){this.$gutter.style.display=C?"block":"none",this.$loop.schedule(this.CHANGE_FULL),this.onGutterResize()},initialValue:!0},useSvgGutterIcons:{set:function(C){this.$gutterLayer.$useSvgGutterIcons=C},initialValue:!1},showFoldedAnnotations:{set:function(C){this.$gutterLayer.$showFoldedAnnotations=C},initialValue:!1},fadeFoldWidgets:{set:function(C){b.setCssClass(this.$gutter,"ace_fade-fold-widgets",C)},initialValue:!1},showFoldWidgets:{set:function(C){this.$gutterLayer.setShowFoldWidgets(C),this.$loop.schedule(this.CHANGE_GUTTER)},initialValue:!0},displayIndentGuides:{set:function(C){this.$textLayer.setDisplayIndentGuides(C)&&this.$loop.schedule(this.CHANGE_TEXT)},initialValue:!0},highlightIndentGuides:{set:function(C){this.$textLayer.setHighlightIndentGuides(C)==!0?this.$textLayer.$highlightIndentGuide():this.$textLayer.$clearActiveIndentGuide(this.$textLayer.$lines.cells)},initialValue:!0},highlightGutterLine:{set:function(C){this.$gutterLayer.setHighlightGutterLine(C),this.$loop.schedule(this.CHANGE_GUTTER)},initialValue:!0},hScrollBarAlwaysVisible:{set:function(C){(!this.$hScrollBarAlwaysVisible||!this.$horizScroll)&&this.$loop.schedule(this.CHANGE_SCROLL)},initialValue:!1},vScrollBarAlwaysVisible:{set:function(C){(!this.$vScrollBarAlwaysVisible||!this.$vScroll)&&this.$loop.schedule(this.CHANGE_SCROLL)},initialValue:!1},fontSize:{set:function(C){typeof C=="number"&&(C=C+"px"),this.container.style.fontSize=C,this.updateFontSize()},initialValue:12},fontFamily:{set:function(C){this.container.style.fontFamily=C,this.updateFontSize()}},maxLines:{set:function(C){this.updateFull()}},minLines:{set:function(C){this.$minLines<562949953421311||(this.$minLines=0),this.updateFull()}},maxPixelHeight:{set:function(C){this.updateFull()},initialValue:0},scrollPastEnd:{set:function(C){C=+C||0,this.$scrollPastEnd!=C&&(this.$scrollPastEnd=C,this.$loop.schedule(this.CHANGE_SCROLL))},initialValue:0,handlesSet:!0},fixedWidthGutter:{set:function(C){this.$gutterLayer.$fixedWidth=!!C,this.$loop.schedule(this.CHANGE_GUTTER)}},customScrollbar:{set:function(C){this.$updateCustomScrollbar(C)},initialValue:!1},theme:{set:function(C){this.setTheme(C)},get:function(){return this.$themeId||this.theme},initialValue:"./theme/textmate",handlesSet:!0},hasCssTransforms:{},useTextareaForIME:{initialValue:!u.isMobile&&!u.isIE}}),B.VirtualRenderer=E}),ace.define("ace/worker/worker_client",["require","exports","module","ace/lib/oop","ace/lib/net","ace/lib/event_emitter","ace/config"],function(f,B,z){var M=f("../lib/oop"),b=f("../lib/net"),_=f("../lib/event_emitter").EventEmitter,s=f("../config");function d(t){var e="importScripts('"+b.qualifyURL(t)+"');";try{return new Blob([e],{type:"application/javascript"})}catch{var r=window.BlobBuilder||window.WebKitBlobBuilder||window.MozBlobBuilder,a=new r;return a.append(e),a.getBlob("application/javascript")}}function o(t){if(typeof Worker>"u")return{postMessage:function(){},terminate:function(){}};if(s.get("loadWorkerFromBlob")){var e=d(t),r=window.URL||window.webkitURL,a=r.createObjectURL(e);return new Worker(a)}return new Worker(t)}var n=function(t){t.postMessage||(t=this.$createWorkerFromOldConfig.apply(this,arguments)),this.$worker=t,this.$sendDeltaQueue=this.$sendDeltaQueue.bind(this),this.changeListener=this.changeListener.bind(this),this.onMessage=this.onMessage.bind(this),this.callbackId=1,this.callbacks={},this.$worker.onmessage=this.onMessage};(function(){M.implement(this,_),this.$createWorkerFromOldConfig=function(t,e,r,a,c){if(f.nameToUrl&&!f.toUrl&&(f.toUrl=f.nameToUrl),s.get("packaged")||!f.toUrl)a=a||s.moduleUrl(e,"worker");else{var h=this.$normalizePath;a=a||h(f.toUrl("ace/worker/worker.js",null,"_"));var $={};t.forEach(function(v){$[v]=h(f.toUrl(v,null,"_").replace(/(\.js)?(\?.*)?$/,""))})}return this.$worker=o(a),c&&this.send("importScripts",c),this.$worker.postMessage({init:!0,tlns:$,module:e,classname:r}),this.$worker},this.onMessage=function(t){var e=t.data;switch(e.type){case"event":this._signal(e.name,{data:e.data});break;case"call":var r=this.callbacks[e.id];r&&(r(e.data),delete this.callbacks[e.id]);break;case"error":this.reportError(e.data);break;case"log":window.console&&console.log&&console.log.apply(console,e.data);break}},this.reportError=function(t){window.console&&console.error&&console.error(t)},this.$normalizePath=function(t){return b.qualifyURL(t)},this.terminate=function(){this._signal("terminate",{}),this.deltaQueue=null,this.$worker.terminate(),this.$worker.onerror=function(t){t.preventDefault()},this.$worker=null,this.$doc&&this.$doc.off("change",this.changeListener),this.$doc=null},this.send=function(t,e){this.$worker.postMessage({command:t,args:e})},this.call=function(t,e,r){if(r){var a=this.callbackId++;this.callbacks[a]=r,e.push(a)}this.send(t,e)},this.emit=function(t,e){try{e.data&&e.data.err&&(e.data.err={message:e.data.err.message,stack:e.data.err.stack,code:e.data.err.code}),this.$worker&&this.$worker.postMessage({event:t,data:{data:e.data}})}catch(r){console.error(r.stack)}},this.attachToDocument=function(t){this.$doc&&this.terminate(),this.$doc=t,this.call("setValue",[t.getValue()]),t.on("change",this.changeListener,!0)},this.changeListener=function(t){this.deltaQueue||(this.deltaQueue=[],setTimeout(this.$sendDeltaQueue,0)),t.action=="insert"?this.deltaQueue.push(t.start,t.lines):this.deltaQueue.push(t.start,t.end)},this.$sendDeltaQueue=function(){var t=this.deltaQueue;t&&(this.deltaQueue=null,t.length>50&&t.length>this.$doc.getLength()>>1?this.call("setValue",[this.$doc.getValue()]):this.emit("change",{data:t}))}}).call(n.prototype);var i=function(t,e,r){var a=null,c=!1,h=Object.create(_),$=[],v=new n({messageBuffer:$,terminate:function(){},postMessage:function(u){$.push(u),a&&(c?setTimeout(p):p())}});v.setEmitSync=function(u){c=u};var p=function(){var u=$.shift();u.command?a[u.command].apply(a,u.args):u.event&&h._signal(u.event,u.data)};return h.postMessage=function(u){v.onMessage({data:u})},h.callback=function(u,m){this.postMessage({type:"call",id:m,data:u})},h.emit=function(u,m){this.postMessage({type:"event",name:u,data:m})},s.loadModule(["worker",e],function(u){for(a=new u[r](h);$.length;)p()}),v};B.UIWorkerClient=i,B.WorkerClient=n,B.createWorker=o}),ace.define("ace/placeholder",["require","exports","module","ace/range","ace/lib/event_emitter","ace/lib/oop"],function(f,B,z){var M=f("./range").Range,b=f("./lib/event_emitter").EventEmitter,_=f("./lib/oop"),s=function(){function d(o,n,i,t,e,r){var a=this;this.length=n,this.session=o,this.doc=o.getDocument(),this.mainClass=e,this.othersClass=r,this.$onUpdate=this.onUpdate.bind(this),this.doc.on("change",this.$onUpdate,!0),this.$others=t,this.$onCursorChange=function(){setTimeout(function(){a.onCursorChange()})},this.$pos=i;var c=o.getUndoManager().$undoStack||o.getUndoManager().$undostack||{length:-1};this.$undoStackDepth=c.length,this.setup(),o.selection.on("changeCursor",this.$onCursorChange)}return d.prototype.setup=function(){var o=this,n=this.doc,i=this.session;this.selectionBefore=i.selection.toJSON(),i.selection.inMultiSelectMode&&i.selection.toSingleRange(),this.pos=n.createAnchor(this.$pos.row,this.$pos.column);var t=this.pos;t.$insertRight=!0,t.detach(),t.markerId=i.addMarker(new M(t.row,t.column,t.row,t.column+this.length),this.mainClass,null,!1),this.others=[],this.$others.forEach(function(e){var r=n.createAnchor(e.row,e.column);r.$insertRight=!0,r.detach(),o.others.push(r)}),i.setUndoSelect(!1)},d.prototype.showOtherMarkers=function(){if(!this.othersActive){var o=this.session,n=this;this.othersActive=!0,this.others.forEach(function(i){i.markerId=o.addMarker(new M(i.row,i.column,i.row,i.column+n.length),n.othersClass,null,!1)})}},d.prototype.hideOtherMarkers=function(){if(this.othersActive){this.othersActive=!1;for(var o=0;o<this.others.length;o++)this.session.removeMarker(this.others[o].markerId)}},d.prototype.onUpdate=function(o){if(this.$updating)return this.updateAnchors(o);var n=o;if(n.start.row===n.end.row&&n.start.row===this.pos.row){this.$updating=!0;var i=o.action==="insert"?n.end.column-n.start.column:n.start.column-n.end.column,t=n.start.column>=this.pos.column&&n.start.column<=this.pos.column+this.length+1,e=n.start.column-this.pos.column;if(this.updateAnchors(o),t&&(this.length+=i),t&&!this.session.$fromUndo){if(o.action==="insert")for(var r=this.others.length-1;r>=0;r--){var a=this.others[r],c={row:a.row,column:a.column+e};this.doc.insertMergedLines(c,o.lines)}else if(o.action==="remove")for(var r=this.others.length-1;r>=0;r--){var a=this.others[r],c={row:a.row,column:a.column+e};this.doc.remove(new M(c.row,c.column,c.row,c.column-i))}}this.$updating=!1,this.updateMarkers()}},d.prototype.updateAnchors=function(o){this.pos.onChange(o);for(var n=this.others.length;n--;)this.others[n].onChange(o);this.updateMarkers()},d.prototype.updateMarkers=function(){if(!this.$updating){var o=this,n=this.session,i=function(e,r){n.removeMarker(e.markerId),e.markerId=n.addMarker(new M(e.row,e.column,e.row,e.column+o.length),r,null,!1)};i(this.pos,this.mainClass);for(var t=this.others.length;t--;)i(this.others[t],this.othersClass)}},d.prototype.onCursorChange=function(o){if(!(this.$updating||!this.session)){var n=this.session.selection.getCursor();n.row===this.pos.row&&n.column>=this.pos.column&&n.column<=this.pos.column+this.length?(this.showOtherMarkers(),this._emit("cursorEnter",o)):(this.hideOtherMarkers(),this._emit("cursorLeave",o))}},d.prototype.detach=function(){this.session.removeMarker(this.pos&&this.pos.markerId),this.hideOtherMarkers(),this.doc.off("change",this.$onUpdate),this.session.selection.off("changeCursor",this.$onCursorChange),this.session.setUndoSelect(!0),this.session=null},d.prototype.cancel=function(){if(this.$undoStackDepth!==-1){for(var o=this.session.getUndoManager(),n=(o.$undoStack||o.$undostack).length-this.$undoStackDepth,i=0;i<n;i++)o.undo(this.session,!0);this.selectionBefore&&this.session.selection.fromJSON(this.selectionBefore)}},d}();_.implement(s.prototype,b),B.PlaceHolder=s}),ace.define("ace/mouse/multi_select_handler",["require","exports","module","ace/lib/event","ace/lib/useragent"],function(f,B,z){var M=f("../lib/event"),b=f("../lib/useragent");function _(d,o){return d.row==o.row&&d.column==o.column}function s(d){var o=d.domEvent,n=o.altKey,i=o.shiftKey,t=o.ctrlKey,e=d.getAccelKey(),r=d.getButton();if(t&&b.isMac&&(r=o.button),d.editor.inMultiSelectMode&&r==2){d.editor.textInput.onContextMenu(d.domEvent);return}if(!t&&!n&&!e){r===0&&d.editor.inMultiSelectMode&&d.editor.exitMultiSelectMode();return}if(r===0){var a=d.editor,c=a.selection,h=a.inMultiSelectMode,$=d.getDocumentPosition(),v=c.getCursor(),p=d.inSelection()||c.isEmpty()&&_($,v),u=d.x,m=d.y,E=function(j){u=j.clientX,m=j.clientY},C=a.session,R=a.renderer.pixelToScreenCoordinates(u,m),L=R,g;if(a.$mouseHandler.$enableJumpToDef)t&&n||e&&n?g=i?"block":"add":n&&a.$blockSelectEnabled&&(g="block");else if(e&&!n){if(g="add",!h&&i)return}else n&&a.$blockSelectEnabled&&(g="block");if(g&&b.isMac&&o.ctrlKey&&a.$mouseHandler.cancelContextMenu(),g=="add"){if(!h&&p)return;if(!h){var y=c.toOrientedRange();a.addSelectionMarker(y)}var l=c.rangeList.rangeAtPoint($);a.inVirtualSelectionMode=!0,i&&(l=null,y=c.ranges[0]||y,a.removeSelectionMarker(y)),a.once("mouseup",function(){var j=c.toOrientedRange();l&&j.isEmpty()&&_(l.cursor,j.cursor)?c.substractPoint(j.cursor):(i?c.substractPoint(y.cursor):y&&(a.removeSelectionMarker(y),c.addRange(y)),c.addRange(j)),a.inVirtualSelectionMode=!1})}else if(g=="block"){d.stop(),a.inVirtualSelectionMode=!0;var w,k=[],I=function(){var j=a.renderer.pixelToScreenCoordinates(u,m),K=C.screenToDocumentPosition(j.row,j.column,j.offsetX);_(L,j)&&_(K,c.lead)||(L=j,a.selection.moveToPosition(K),a.renderer.scrollCursorIntoView(),a.removeSelectionMarkers(k),k=c.rectangularRangeBlock(L,R),a.$mouseHandler.$clickSelection&&k.length==1&&k[0].isEmpty()&&(k[0]=a.$mouseHandler.$clickSelection.clone()),k.forEach(a.addSelectionMarker,a),a.updateSelectionMarkers())};h&&!e?c.toSingleRange():!h&&e&&(w=c.toOrientedRange(),a.addSelectionMarker(w)),i?R=C.documentToScreenPosition(c.lead):c.moveToPosition($),L={row:-1,column:-1};var G=function(j){I(),clearInterval(J),a.removeSelectionMarkers(k),k.length||(k=[c.toOrientedRange()]),w&&(a.removeSelectionMarker(w),c.toSingleRange(w));for(var K=0;K<k.length;K++)c.addRange(k[K]);a.inVirtualSelectionMode=!1,a.$mouseHandler.$clickSelection=null},H=I;M.capture(a.container,E,G);var J=setInterval(function(){H()},20);return d.preventDefault()}}}B.onMouseDown=s}),ace.define("ace/commands/multi_select_commands",["require","exports","module","ace/keyboard/hash_handler"],function(f,B,z){B.defaultCommands=[{name:"addCursorAbove",description:"Add cursor above",exec:function(b){b.selectMoreLines(-1)},bindKey:{win:"Ctrl-Alt-Up",mac:"Ctrl-Alt-Up"},scrollIntoView:"cursor",readOnly:!0},{name:"addCursorBelow",description:"Add cursor below",exec:function(b){b.selectMoreLines(1)},bindKey:{win:"Ctrl-Alt-Down",mac:"Ctrl-Alt-Down"},scrollIntoView:"cursor",readOnly:!0},{name:"addCursorAboveSkipCurrent",description:"Add cursor above (skip current)",exec:function(b){b.selectMoreLines(-1,!0)},bindKey:{win:"Ctrl-Alt-Shift-Up",mac:"Ctrl-Alt-Shift-Up"},scrollIntoView:"cursor",readOnly:!0},{name:"addCursorBelowSkipCurrent",description:"Add cursor below (skip current)",exec:function(b){b.selectMoreLines(1,!0)},bindKey:{win:"Ctrl-Alt-Shift-Down",mac:"Ctrl-Alt-Shift-Down"},scrollIntoView:"cursor",readOnly:!0},{name:"selectMoreBefore",description:"Select more before",exec:function(b){b.selectMore(-1)},bindKey:{win:"Ctrl-Alt-Left",mac:"Ctrl-Alt-Left"},scrollIntoView:"cursor",readOnly:!0},{name:"selectMoreAfter",description:"Select more after",exec:function(b){b.selectMore(1)},bindKey:{win:"Ctrl-Alt-Right",mac:"Ctrl-Alt-Right"},scrollIntoView:"cursor",readOnly:!0},{name:"selectNextBefore",description:"Select next before",exec:function(b){b.selectMore(-1,!0)},bindKey:{win:"Ctrl-Alt-Shift-Left",mac:"Ctrl-Alt-Shift-Left"},scrollIntoView:"cursor",readOnly:!0},{name:"selectNextAfter",description:"Select next after",exec:function(b){b.selectMore(1,!0)},bindKey:{win:"Ctrl-Alt-Shift-Right",mac:"Ctrl-Alt-Shift-Right"},scrollIntoView:"cursor",readOnly:!0},{name:"toggleSplitSelectionIntoLines",description:"Split selection into lines",exec:function(b){b.multiSelect.rangeCount>1?b.multiSelect.joinSelections():b.multiSelect.splitIntoLines()},bindKey:{win:"Ctrl-Alt-L",mac:"Ctrl-Alt-L"},readOnly:!0},{name:"splitSelectionIntoLines",description:"Split into lines",exec:function(b){b.multiSelect.splitIntoLines()},readOnly:!0},{name:"alignCursors",description:"Align cursors",exec:function(b){b.alignCursors()},bindKey:{win:"Ctrl-Alt-A",mac:"Ctrl-Alt-A"},scrollIntoView:"cursor"},{name:"findAll",description:"Find all",exec:function(b){b.findAll()},bindKey:{win:"Ctrl-Alt-K",mac:"Ctrl-Alt-G"},scrollIntoView:"cursor",readOnly:!0}],B.multiSelectCommands=[{name:"singleSelection",description:"Single selection",bindKey:"esc",exec:function(b){b.exitMultiSelectMode()},scrollIntoView:"cursor",readOnly:!0,isAvailable:function(b){return b&&b.inMultiSelectMode}}];var M=f("../keyboard/hash_handler").HashHandler;B.keyboardHandler=new M(B.multiSelectCommands)}),ace.define("ace/multi_select",["require","exports","module","ace/range_list","ace/range","ace/selection","ace/mouse/multi_select_handler","ace/lib/event","ace/lib/lang","ace/commands/multi_select_commands","ace/search","ace/edit_session","ace/editor","ace/config"],function(f,B,z){var M=f("./range_list").RangeList,b=f("./range").Range,_=f("./selection").Selection,s=f("./mouse/multi_select_handler").onMouseDown,d=f("./lib/event"),o=f("./lib/lang"),n=f("./commands/multi_select_commands");B.commands=n.defaultCommands.concat(n.multiSelectCommands);var i=f("./search").Search,t=new i;function e(v,p,u){return t.$options.wrap=!0,t.$options.needle=p,t.$options.backwards=u==-1,t.find(v)}var r=f("./edit_session").EditSession;(function(){this.getSelectionMarkers=function(){return this.$selectionMarkers}}).call(r.prototype),(function(){this.ranges=null,this.rangeList=null,this.addRange=function(v,p){if(v){if(!this.inMultiSelectMode&&this.rangeCount===0){var u=this.toOrientedRange();if(this.rangeList.add(u),this.rangeList.add(v),this.rangeList.ranges.length!=2)return this.rangeList.removeAll(),p||this.fromOrientedRange(v);this.rangeList.removeAll(),this.rangeList.add(u),this.$onAddRange(u)}v.cursor||(v.cursor=v.end);var m=this.rangeList.add(v);return this.$onAddRange(v),m.length&&this.$onRemoveRange(m),this.rangeCount>1&&!this.inMultiSelectMode&&(this._signal("multiSelect"),this.inMultiSelectMode=!0,this.session.$undoSelect=!1,this.rangeList.attach(this.session)),p||this.fromOrientedRange(v)}},this.toSingleRange=function(v){v=v||this.ranges[0];var p=this.rangeList.removeAll();p.length&&this.$onRemoveRange(p),v&&this.fromOrientedRange(v)},this.substractPoint=function(v){var p=this.rangeList.substractPoint(v);if(p)return this.$onRemoveRange(p),p[0]},this.mergeOverlappingRanges=function(){var v=this.rangeList.merge();v.length&&this.$onRemoveRange(v)},this.$onAddRange=function(v){this.rangeCount=this.rangeList.ranges.length,this.ranges.unshift(v),this._signal("addRange",{range:v})},this.$onRemoveRange=function(v){if(this.rangeCount=this.rangeList.ranges.length,this.rangeCount==1&&this.inMultiSelectMode){var p=this.rangeList.ranges.pop();v.push(p),this.rangeCount=0}for(var u=v.length;u--;){var m=this.ranges.indexOf(v[u]);this.ranges.splice(m,1)}this._signal("removeRange",{ranges:v}),this.rangeCount===0&&this.inMultiSelectMode&&(this.inMultiSelectMode=!1,this._signal("singleSelect"),this.session.$undoSelect=!0,this.rangeList.detach(this.session)),p=p||this.ranges[0],p&&!p.isEqual(this.getRange())&&this.fromOrientedRange(p)},this.$initRangeList=function(){this.rangeList||(this.rangeList=new M,this.ranges=[],this.rangeCount=0)},this.getAllRanges=function(){return this.rangeCount?this.rangeList.ranges.concat():[this.getRange()]},this.splitIntoLines=function(){for(var v=this.ranges.length?this.ranges:[this.getRange()],p=[],u=0;u<v.length;u++){var m=v[u],E=m.start.row,C=m.end.row;if(E===C)p.push(m.clone());else{for(p.push(new b(E,m.start.column,E,this.session.getLine(E).length));++E<C;)p.push(this.getLineRange(E,!0));p.push(new b(C,0,C,m.end.column))}u==0&&!this.isBackwards()&&(p=p.reverse())}this.toSingleRange();for(var u=p.length;u--;)this.addRange(p[u])},this.joinSelections=function(){var v=this.rangeList.ranges,p=v[v.length-1],u=b.fromPoints(v[0].start,p.end);this.toSingleRange(),this.setSelectionRange(u,p.cursor==p.start)},this.toggleBlockSelection=function(){if(this.rangeCount>1){var v=this.rangeList.ranges,p=v[v.length-1],u=b.fromPoints(v[0].start,p.end);this.toSingleRange(),this.setSelectionRange(u,p.cursor==p.start)}else{var m=this.session.documentToScreenPosition(this.cursor),E=this.session.documentToScreenPosition(this.anchor),C=this.rectangularRangeBlock(m,E);C.forEach(this.addRange,this)}},this.rectangularRangeBlock=function(v,p,u){var m=[],E=v.column<p.column;if(E)var C=v.column,R=p.column,L=v.offsetX,g=p.offsetX;else var C=p.column,R=v.column,L=p.offsetX,g=v.offsetX;var y=v.row<p.row;if(y)var l=v.row,w=p.row;else var l=p.row,w=v.row;C<0&&(C=0),l<0&&(l=0),l==w&&(u=!0);for(var k,I=l;I<=w;I++){var G=b.fromPoints(this.session.screenToDocumentPosition(I,C,L),this.session.screenToDocumentPosition(I,R,g));if(G.isEmpty()){if(k&&c(G.end,k))break;k=G.end}G.cursor=E?G.start:G.end,m.push(G)}if(y&&m.reverse(),!u){for(var H=m.length-1;m[H].isEmpty()&&H>0;)H--;if(H>0)for(var J=0;m[J].isEmpty();)J++;for(var j=H;j>=J;j--)m[j].isEmpty()&&m.splice(j,1)}return m}}).call(_.prototype);var a=f("./editor").Editor;(function(){this.updateSelectionMarkers=function(){this.renderer.updateCursor(),this.renderer.updateBackMarkers()},this.addSelectionMarker=function(v){v.cursor||(v.cursor=v.end);var p=this.getSelectionStyle();return v.marker=this.session.addMarker(v,"ace_selection",p),this.session.$selectionMarkers.push(v),this.session.selectionMarkerCount=this.session.$selectionMarkers.length,v},this.removeSelectionMarker=function(v){if(v.marker){this.session.removeMarker(v.marker);var p=this.session.$selectionMarkers.indexOf(v);p!=-1&&this.session.$selectionMarkers.splice(p,1),this.session.selectionMarkerCount=this.session.$selectionMarkers.length}},this.removeSelectionMarkers=function(v){for(var p=this.session.$selectionMarkers,u=v.length;u--;){var m=v[u];if(m.marker){this.session.removeMarker(m.marker);var E=p.indexOf(m);E!=-1&&p.splice(E,1)}}this.session.selectionMarkerCount=p.length},this.$onAddRange=function(v){this.addSelectionMarker(v.range),this.renderer.updateCursor(),this.renderer.updateBackMarkers()},this.$onRemoveRange=function(v){this.removeSelectionMarkers(v.ranges),this.renderer.updateCursor(),this.renderer.updateBackMarkers()},this.$onMultiSelect=function(v){this.inMultiSelectMode||(this.inMultiSelectMode=!0,this.setStyle("ace_multiselect"),this.keyBinding.addKeyboardHandler(n.keyboardHandler),this.commands.setDefaultHandler("exec",this.$onMultiSelectExec),this.renderer.updateCursor(),this.renderer.updateBackMarkers())},this.$onSingleSelect=function(v){this.session.multiSelect.inVirtualMode||(this.inMultiSelectMode=!1,this.unsetStyle("ace_multiselect"),this.keyBinding.removeKeyboardHandler(n.keyboardHandler),this.commands.removeDefaultHandler("exec",this.$onMultiSelectExec),this.renderer.updateCursor(),this.renderer.updateBackMarkers(),this._emit("changeSelection"))},this.$onMultiSelectExec=function(v){var p=v.command,u=v.editor;if(u.multiSelect){if(p.multiSelectAction)p.multiSelectAction=="forEach"?m=u.forEachSelection(p,v.args):p.multiSelectAction=="forEachLine"?m=u.forEachSelection(p,v.args,!0):p.multiSelectAction=="single"?(u.exitMultiSelectMode(),m=p.exec(u,v.args||{})):m=p.multiSelectAction(u,v.args||{});else{var m=p.exec(u,v.args||{});u.multiSelect.addRange(u.multiSelect.toOrientedRange()),u.multiSelect.mergeOverlappingRanges()}return m}},this.forEachSelection=function(v,p,u){if(!this.inVirtualSelectionMode){var m=u&&u.keepOrder,E=u==!0||u&&u.$byLines,C=this.session,R=this.selection,L=R.rangeList,g=(m?R:L).ranges,y;if(!g.length)return v.exec?v.exec(this,p||{}):v(this,p||{});var l=R._eventRegistry;R._eventRegistry={};var w=new _(C);this.inVirtualSelectionMode=!0;for(var k=g.length;k--;){if(E)for(;k>0&&g[k].start.row==g[k-1].end.row;)k--;w.fromOrientedRange(g[k]),w.index=k,this.selection=C.selection=w;var I=v.exec?v.exec(this,p||{}):v(this,p||{});!y&&I!==void 0&&(y=I),w.toOrientedRange(g[k])}w.detach(),this.selection=C.selection=R,this.inVirtualSelectionMode=!1,R._eventRegistry=l,R.mergeOverlappingRanges(),R.ranges[0]&&R.fromOrientedRange(R.ranges[0]);var G=this.renderer.$scrollAnimation;return this.onCursorChange(),this.onSelectionChange(),G&&G.from==G.to&&this.renderer.animateScrolling(G.from),y}},this.exitMultiSelectMode=function(){!this.inMultiSelectMode||this.inVirtualSelectionMode||this.multiSelect.toSingleRange()},this.getSelectedText=function(){var v="";if(this.inMultiSelectMode&&!this.inVirtualSelectionMode){for(var p=this.multiSelect.rangeList.ranges,u=[],m=0;m<p.length;m++)u.push(this.session.getTextRange(p[m]));var E=this.session.getDocument().getNewLineCharacter();v=u.join(E),v.length==(u.length-1)*E.length&&(v="")}else this.selection.isEmpty()||(v=this.session.getTextRange(this.getSelectionRange()));return v},this.$checkMultiselectChange=function(v,p){if(this.inMultiSelectMode&&!this.inVirtualSelectionMode){var u=this.multiSelect.ranges[0];if(this.multiSelect.isEmpty()&&p==this.multiSelect.anchor)return;var m=p==this.multiSelect.anchor?u.cursor==u.start?u.end:u.start:u.cursor;m.row!=p.row||this.session.$clipPositionToDocument(m.row,m.column).column!=p.column?this.multiSelect.toSingleRange(this.multiSelect.toOrientedRange()):this.multiSelect.mergeOverlappingRanges()}},this.findAll=function(v,p,u){if(p=p||{},p.needle=v||p.needle,p.needle==null){var m=this.selection.isEmpty()?this.selection.getWordRange():this.selection.getRange();p.needle=this.session.getTextRange(m)}this.$search.set(p);var E=this.$search.findAll(this.session);if(!E.length)return 0;var C=this.multiSelect;u||C.toSingleRange(E[0]);for(var R=E.length;R--;)C.addRange(E[R],!0);return m&&C.rangeList.rangeAtPoint(m.start)&&C.addRange(m,!0),E.length},this.selectMoreLines=function(v,p){var u=this.selection.toOrientedRange(),m=u.cursor==u.end,E=this.session.documentToScreenPosition(u.cursor);this.selection.$desiredColumn&&(E.column=this.selection.$desiredColumn);var C=this.session.screenToDocumentPosition(E.row+v,E.column);if(u.isEmpty())var L=C;else var R=this.session.documentToScreenPosition(m?u.end:u.start),L=this.session.screenToDocumentPosition(R.row+v,R.column);if(m){var g=b.fromPoints(C,L);g.cursor=g.start}else{var g=b.fromPoints(L,C);g.cursor=g.end}if(g.desiredColumn=E.column,!this.selection.inMultiSelectMode)this.selection.addRange(u);else if(p)var y=u.cursor;this.selection.addRange(g),y&&this.selection.substractPoint(y)},this.transposeSelections=function(v){for(var p=this.session,u=p.multiSelect,m=u.ranges,E=m.length;E--;){var C=m[E];if(C.isEmpty()){var R=p.getWordRange(C.start.row,C.start.column);C.start.row=R.start.row,C.start.column=R.start.column,C.end.row=R.end.row,C.end.column=R.end.column}}u.mergeOverlappingRanges();for(var L=[],E=m.length;E--;){var C=m[E];L.unshift(p.getTextRange(C))}v<0?L.unshift(L.pop()):L.push(L.shift());for(var E=m.length;E--;){var C=m[E],g=C.clone();p.replace(C,L[E]),C.start.row=g.start.row,C.start.column=g.start.column}u.fromOrientedRange(u.ranges[0])},this.selectMore=function(v,p,u){var m=this.session,E=m.multiSelect,C=E.toOrientedRange();if(!(C.isEmpty()&&(C=m.getWordRange(C.start.row,C.start.column),C.cursor=v==-1?C.start:C.end,this.multiSelect.addRange(C),u))){var R=m.getTextRange(C),L=e(m,R,v);L&&(L.cursor=v==-1?L.start:L.end,this.session.unfold(L),this.multiSelect.addRange(L),this.renderer.scrollCursorIntoView(null,.5)),p&&this.multiSelect.substractPoint(C.cursor)}},this.alignCursors=function(){var v=this.session,p=v.multiSelect,u=p.ranges,m=-1,E=u.filter(function(H){if(H.cursor.row==m)return!0;m=H.cursor.row});if(!u.length||E.length==u.length-1){var C=this.selection.getRange(),R=C.start.row,L=C.end.row,g=R==L;if(g){var y=this.session.getLength(),l;do l=this.session.getLine(L);while(/[=:]/.test(l)&&++L<y);do l=this.session.getLine(R);while(/[=:]/.test(l)&&--R>0);R<0&&(R=0),L>=y&&(L=y-1)}var w=this.session.removeFullLines(R,L);w=this.$reAlignText(w,g),this.session.insert({row:R,column:0},w.join(`
`)+`
`),g||(C.start.column=0,C.end.column=w[w.length-1].length),this.selection.setRange(C)}else{E.forEach(function(H){p.substractPoint(H.cursor)});var k=0,I=1/0,G=u.map(function(H){var J=H.cursor,j=v.getLine(J.row),K=j.substr(J.column).search(/\S/g);return K==-1&&(K=0),J.column>k&&(k=J.column),K<I&&(I=K),K});u.forEach(function(H,J){var j=H.cursor,K=k-j.column,ie=G[J]-I;K>ie?v.insert(j,o.stringRepeat(" ",K-ie)):v.remove(new b(j.row,j.column,j.row,j.column-K+ie)),H.start.column=H.end.column=k,H.start.row=H.end.row=j.row,H.cursor=H.end}),p.fromOrientedRange(u[0]),this.renderer.updateCursor(),this.renderer.updateBackMarkers()}},this.$reAlignText=function(v,p){var u=!0,m=!0,E,C,R;return v.map(function(w){var k=w.match(/(\s*)(.*?)(\s*)([=:].*)/);return k?E==null?(E=k[1].length,C=k[2].length,R=k[3].length,k):(E+C+R!=k[1].length+k[2].length+k[3].length&&(m=!1),E!=k[1].length&&(u=!1),E>k[1].length&&(E=k[1].length),C<k[2].length&&(C=k[2].length),R>k[3].length&&(R=k[3].length),k):[w]}).map(p?g:u?m?y:g:l);function L(w){return o.stringRepeat(" ",w)}function g(w){return w[2]?L(E)+w[2]+L(C-w[2].length+R)+w[4].replace(/^([=:])\s+/,"$1 "):w[0]}function y(w){return w[2]?L(E+C-w[2].length)+w[2]+L(R)+w[4].replace(/^([=:])\s+/,"$1 "):w[0]}function l(w){return w[2]?L(E)+w[2]+L(R)+w[4].replace(/^([=:])\s+/,"$1 "):w[0]}}}).call(a.prototype);function c(v,p){return v.row==p.row&&v.column==p.column}B.onSessionChange=function(v){var p=v.session;p&&!p.multiSelect&&(p.$selectionMarkers=[],p.selection.$initRangeList(),p.multiSelect=p.selection),this.multiSelect=p&&p.multiSelect;var u=v.oldSession;u&&(u.multiSelect.off("addRange",this.$onAddRange),u.multiSelect.off("removeRange",this.$onRemoveRange),u.multiSelect.off("multiSelect",this.$onMultiSelect),u.multiSelect.off("singleSelect",this.$onSingleSelect),u.multiSelect.lead.off("change",this.$checkMultiselectChange),u.multiSelect.anchor.off("change",this.$checkMultiselectChange)),p&&(p.multiSelect.on("addRange",this.$onAddRange),p.multiSelect.on("removeRange",this.$onRemoveRange),p.multiSelect.on("multiSelect",this.$onMultiSelect),p.multiSelect.on("singleSelect",this.$onSingleSelect),p.multiSelect.lead.on("change",this.$checkMultiselectChange),p.multiSelect.anchor.on("change",this.$checkMultiselectChange)),p&&this.inMultiSelectMode!=p.selection.inMultiSelectMode&&(p.selection.inMultiSelectMode?this.$onMultiSelect():this.$onSingleSelect())};function h(v){v.$multiselectOnSessionChange||(v.$onAddRange=v.$onAddRange.bind(v),v.$onRemoveRange=v.$onRemoveRange.bind(v),v.$onMultiSelect=v.$onMultiSelect.bind(v),v.$onSingleSelect=v.$onSingleSelect.bind(v),v.$multiselectOnSessionChange=B.onSessionChange.bind(v),v.$checkMultiselectChange=v.$checkMultiselectChange.bind(v),v.$multiselectOnSessionChange(v),v.on("changeSession",v.$multiselectOnSessionChange),v.on("mousedown",s),v.commands.addCommands(n.defaultCommands),$(v))}function $(v){if(!v.textInput)return;var p=v.textInput.getElement(),u=!1;d.addListener(p,"keydown",function(E){var C=E.keyCode==18&&!(E.ctrlKey||E.shiftKey||E.metaKey);v.$blockSelectEnabled&&C?u||(v.renderer.setMouseCursor("crosshair"),u=!0):u&&m()},v),d.addListener(p,"keyup",m,v),d.addListener(p,"blur",m,v);function m(E){u&&(v.renderer.setMouseCursor(""),u=!1)}}B.MultiSelect=h,f("./config").defineOptions(a.prototype,"editor",{enableMultiselect:{set:function(v){h(this),v?this.on("mousedown",s):this.off("mousedown",s)},value:!0},enableBlockSelect:{set:function(v){this.$blockSelectEnabled=v},value:!0}})}),ace.define("ace/mode/folding/fold_mode",["require","exports","module","ace/range"],function(f,B,z){var M=f("../../range").Range,b=B.FoldMode=function(){};(function(){this.foldingStartMarker=null,this.foldingStopMarker=null,this.getFoldWidget=function(_,s,d){var o=_.getLine(d);return this.foldingStartMarker.test(o)?"start":s=="markbeginend"&&this.foldingStopMarker&&this.foldingStopMarker.test(o)?"end":""},this.getFoldWidgetRange=function(_,s,d){return null},this.indentationBlock=function(_,s,d){var o=/\S/,n=_.getLine(s),i=n.search(o);if(i!=-1){for(var t=d||n.length,e=_.getLength(),r=s,a=s;++s<e;){var c=_.getLine(s).search(o);if(c!=-1){if(c<=i){var h=_.getTokenAt(s,0);if(!h||h.type!=="string")break}a=s}}if(a>r){var $=_.getLine(a).length;return new M(r,t,a,$)}}},this.openingBracketBlock=function(_,s,d,o,n){var i={row:d,column:o+1},t=_.$findClosingBracket(s,i,n);if(t){var e=_.foldWidgets[t.row];return e==null&&(e=_.getFoldWidget(t.row)),e=="start"&&t.row>i.row&&(t.row--,t.column=_.getLine(t.row).length),M.fromPoints(i,t)}},this.closingBracketBlock=function(_,s,d,o,n){var i={row:d,column:o},t=_.$findOpeningBracket(s,i);if(t)return t.column++,i.column--,M.fromPoints(t,i)}}).call(b.prototype)}),ace.define("ace/ext/error_marker",["require","exports","module","ace/line_widgets","ace/lib/dom","ace/range","ace/config"],function(f,B,z){var M=f("../line_widgets").LineWidgets,b=f("../lib/dom"),_=f("../range").Range,s=f("../config").nls;function d(n,i,t){for(var e=0,r=n.length-1;e<=r;){var a=e+r>>1,c=t(i,n[a]);if(c>0)e=a+1;else if(c<0)r=a-1;else return a}return-(e+1)}function o(n,i,t){var e=n.getAnnotations().sort(_.comparePoints);if(e.length){var r=d(e,{row:i,column:-1},_.comparePoints);r<0&&(r=-r-1),r>=e.length?r=t>0?0:e.length-1:r===0&&t<0&&(r=e.length-1);var a=e[r];if(!(!a||!t)){if(a.row===i){do a=e[r+=t];while(a&&a.row===i);if(!a)return e.slice()}var c=[];i=a.row;do c[t<0?"unshift":"push"](a),a=e[r+=t];while(a&&a.row==i);return c.length&&c}}}B.showErrorMarker=function(n,i){var t=n.session;t.widgetManager||(t.widgetManager=new M(t),t.widgetManager.attach(n));var e=n.getCursorPosition(),r=e.row,a=t.widgetManager.getWidgetsAtRow(r).filter(function(C){return C.type=="errorMarker"})[0];a?a.destroy():r-=i;var c=o(t,r,i),h;if(c){var $=c[0];e.column=($.pos&&typeof $.column!="number"?$.pos.sc:$.column)||0,e.row=$.row,h=n.renderer.$gutterLayer.$annotations[e.row]}else{if(a)return;h={displayText:[s("error-marker.good-state","Looks good!")],className:"ace_ok"}}n.session.unfold(e.row),n.selection.moveToPosition(e);var v={row:e.row,fixedWidth:!0,coverGutter:!0,el:b.createElement("div"),type:"errorMarker"},p=v.el.appendChild(b.createElement("div")),u=v.el.appendChild(b.createElement("div"));u.className="error_widget_arrow "+h.className;var m=n.renderer.$cursorLayer.getPixelPosition(e).left;u.style.left=m+n.renderer.gutterWidth-5+"px",v.el.className="error_widget_wrapper",p.className="error_widget "+h.className,h.displayText.forEach(function(C,R){p.appendChild(b.createTextNode(C)),R<h.displayText.length-1&&p.appendChild(b.createElement("br"))}),p.appendChild(b.createElement("div"));var E=function(C,R,L){if(R===0&&(L==="esc"||L==="return"))return v.destroy(),{command:"null"}};v.destroy=function(){n.$mouseHandler.isMousePressed||(n.keyBinding.removeKeyboardHandler(E),t.widgetManager.removeLineWidget(v),n.off("changeSelection",v.destroy),n.off("changeSession",v.destroy),n.off("mouseup",v.destroy),n.off("change",v.destroy))},n.keyBinding.addKeyboardHandler(E),n.on("changeSelection",v.destroy),n.on("changeSession",v.destroy),n.on("mouseup",v.destroy),n.on("change",v.destroy),n.session.widgetManager.addLineWidget(v),v.el.onmousedown=n.focus.bind(n),n.renderer.scrollCursorIntoView(null,.5,{bottom:v.el.offsetHeight})},b.importCssString(`
    .error_widget_wrapper {
        background: inherit;
        color: inherit;
        border:none
    }
    .error_widget {
        border-top: solid 2px;
        border-bottom: solid 2px;
        margin: 5px 0;
        padding: 10px 40px;
        white-space: pre-wrap;
    }
    .error_widget.ace_error, .error_widget_arrow.ace_error{
        border-color: #ff5a5a
    }
    .error_widget.ace_warning, .error_widget_arrow.ace_warning{
        border-color: #F1D817
    }
    .error_widget.ace_info, .error_widget_arrow.ace_info{
        border-color: #5a5a5a
    }
    .error_widget.ace_ok, .error_widget_arrow.ace_ok{
        border-color: #5aaa5a
    }
    .error_widget_arrow {
        position: absolute;
        border: solid 5px;
        border-top-color: transparent!important;
        border-right-color: transparent!important;
        border-left-color: transparent!important;
        top: -5px;
    }
`,"error_marker.css",!1)}),ace.define("ace/ace",["require","exports","module","ace/lib/dom","ace/range","ace/editor","ace/edit_session","ace/undomanager","ace/virtual_renderer","ace/worker/worker_client","ace/keyboard/hash_handler","ace/placeholder","ace/multi_select","ace/mode/folding/fold_mode","ace/theme/textmate","ace/ext/error_marker","ace/config","ace/loader_build"],function(f,B,z){f("./loader_build")(B);var M=f("./lib/dom"),b=f("./range").Range,_=f("./editor").Editor,s=f("./edit_session").EditSession,d=f("./undomanager").UndoManager,o=f("./virtual_renderer").VirtualRenderer;f("./worker/worker_client"),f("./keyboard/hash_handler"),f("./placeholder"),f("./multi_select"),f("./mode/folding/fold_mode"),f("./theme/textmate"),f("./ext/error_marker"),B.config=f("./config"),B.edit=function(n,i){if(typeof n=="string"){var t=n;if(n=document.getElementById(t),!n)throw new Error("ace.edit can't find div #"+t)}if(n&&n.env&&n.env.editor instanceof _)return n.env.editor;var e="";if(n&&/input|textarea/i.test(n.tagName)){var r=n;e=r.value,n=M.createElement("pre"),r.parentNode.replaceChild(n,r)}else n&&(e=n.textContent,n.innerHTML="");var a=B.createEditSession(e),c=new _(new o(n),a,i),h={document:a,editor:c,onResize:c.resize.bind(c,null)};return r&&(h.textarea=r),c.on("destroy",function(){h.editor.container.env=null}),c.container.env=c.env=h,c},B.createEditSession=function(n,i){var t=new s(n,i);return t.setUndoManager(new d),t},B.Range=b,B.Editor=_,B.EditSession=s,B.UndoManager=d,B.VirtualRenderer=o,B.version=B.config.version}),function(){ace.require(["ace/ace"],function(f){f&&(f.config.init(!0),f.define=ace.define);var B=function(){return this}();!B&&typeof window<"u"&&(B=window),!B&&typeof self<"u"&&(B=self),B.ace||(B.ace=f);for(var z in f)f.hasOwnProperty(z)&&(B.ace[z]=f[z]);B.ace.default=B.ace,te&&(te.exports=B.ace)})}()}(tr)),tr.exports}var Zn=Fi();const Ni=vr(Zn),On=ki({__proto__:null,default:Ni},[Zn]);var nr={exports:{}},Or;function Pi(){return Or||(Or=1,function(te,Q){ace.define("ace/mode/coffee_highlight_rules",["require","exports","module","ace/lib/oop","ace/mode/text_highlight_rules"],function(f,B,z){var M=f("../lib/oop"),b=f("./text_highlight_rules").TextHighlightRules;M.inherits(_,b);function _(){var s="[$A-Za-z_\\x7f-\\uffff][$\\w\\x7f-\\uffff]*",d="this|throw|then|try|typeof|super|switch|return|break|by|continue|catch|class|in|instanceof|is|isnt|if|else|extends|for|own|finally|function|while|when|new|no|not|delete|debugger|do|loop|of|off|or|on|unless|until|and|yes|yield|export|import|default",o="true|false|null|undefined|NaN|Infinity",n="case|const|function|var|void|with|enum|implements|interface|let|package|private|protected|public|static",i="Array|Boolean|Date|Function|Number|Object|RegExp|ReferenceError|String|Error|EvalError|InternalError|RangeError|ReferenceError|StopIteration|SyntaxError|TypeError|URIError|ArrayBuffer|Float32Array|Float64Array|Int16Array|Int32Array|Int8Array|Uint16Array|Uint32Array|Uint8Array|Uint8ClampedArray",t="Math|JSON|isNaN|isFinite|parseInt|parseFloat|encodeURI|encodeURIComponent|decodeURI|decodeURIComponent|String|",e="window|arguments|prototype|document",r=this.createKeywordMapper({keyword:d,"constant.language":o,"invalid.illegal":n,"language.support.class":i,"language.support.function":t,"variable.language":e},"identifier"),a={token:["paren.lparen","variable.parameter","paren.rparen","text","storage.type"],regex:/(?:(\()((?:"[^")]*?"|'[^')]*?'|\/[^\/)]*?\/|[^()"'\/])*?)(\))(\s*))?([\-=]>)/.source},c=/\\(?:x[0-9a-fA-F]{2}|u[0-9a-fA-F]{4}|[0-2][0-7]{0,2}|3[0-6][0-7]?|37[0-7]?|[4-7][0-7]?|.)/;this.$rules={start:[{token:"constant.numeric",regex:"(?:0x[\\da-fA-F]+|(?:\\d+(?:\\.\\d+)?|\\.\\d+)(?:[eE][+-]?\\d+)?)"},{stateName:"qdoc",token:"string",regex:"'''",next:[{token:"string",regex:"'''",next:"start"},{token:"constant.language.escape",regex:c},{defaultToken:"string"}]},{stateName:"qqdoc",token:"string",regex:'"""',next:[{token:"string",regex:'"""',next:"start"},{token:"paren.string",regex:"#{",push:"start"},{token:"constant.language.escape",regex:c},{defaultToken:"string"}]},{stateName:"qstring",token:"string",regex:"'",next:[{token:"string",regex:"'",next:"start"},{token:"constant.language.escape",regex:c},{defaultToken:"string"}]},{stateName:"qqstring",token:"string.start",regex:'"',next:[{token:"string.end",regex:'"',next:"start"},{token:"paren.string",regex:"#{",push:"start"},{token:"constant.language.escape",regex:c},{defaultToken:"string"}]},{stateName:"js",token:"string",regex:"`",next:[{token:"string",regex:"`",next:"start"},{token:"constant.language.escape",regex:c},{defaultToken:"string"}]},{regex:"[{}]",onMatch:function(h,$,v){return this.next="",h=="{"&&v.length?(v.unshift("start",$),"paren"):h=="}"&&v.length&&(v.shift(),this.next=v.shift()||"",this.next.indexOf("string")!=-1)?"paren.string":"paren"}},{token:"string.regex",regex:"///",next:"heregex"},{token:"string.regex",regex:/(?:\/(?![\s=])[^[\/\n\\]*(?:(?:\\[\s\S]|\[[^\]\n\\]*(?:\\[\s\S][^\]\n\\]*)*])[^[\/\n\\]*)*\/)(?:[imgy]{0,4})(?!\w)/},{token:"comment",regex:"###(?!#)",next:"comment"},{token:"comment",regex:"#.*"},{token:["punctuation.operator","text","identifier"],regex:"(\\.)(\\s*)("+n+")"},{token:"punctuation.operator",regex:"\\.{1,3}"},{token:["keyword","text","language.support.class","text","keyword","text","language.support.class"],regex:"(class)(\\s+)("+s+")(?:(\\s+)(extends)(\\s+)("+s+"))?"},{token:["entity.name.function","text","keyword.operator","text"].concat(a.token),regex:"("+s+")(\\s*)([=:])(\\s*)"+a.regex},a,{token:"variable",regex:"@(?:"+s+")?"},{token:r,regex:s},{token:"punctuation.operator",regex:"\\,|\\."},{token:"storage.type",regex:"[\\-=]>"},{token:"keyword.operator",regex:"(?:[-+*/%<>&|^!?=]=|>>>=?|\\-\\-|\\+\\+|::|&&=|\\|\\|=|<<=|>>=|\\?\\.|\\.{2,3}|[!*+-=><])"},{token:"paren.lparen",regex:"[({[]"},{token:"paren.rparen",regex:"[\\]})]"},{token:"text",regex:"\\s+"}],heregex:[{token:"string.regex",regex:".*?///[imgy]{0,4}",next:"start"},{token:"comment.regex",regex:"\\s+(?:#.*)?"},{token:"string.regex",regex:"\\S+"}],comment:[{token:"comment",regex:"###",next:"start"},{defaultToken:"comment"}]},this.normalizeRules()}B.CoffeeHighlightRules=_}),ace.define("ace/mode/matching_brace_outdent",["require","exports","module","ace/range"],function(f,B,z){var M=f("../range").Range,b=function(){};(function(){this.checkOutdent=function(_,s){return/^\s+$/.test(_)?/^\s*\}/.test(s):!1},this.autoOutdent=function(_,s){var d=_.getLine(s),o=d.match(/^(\s*\})/);if(!o)return 0;var n=o[1].length,i=_.findMatchingBracket({row:s,column:n});if(!i||i.row==s)return 0;var t=this.$getIndent(_.getLine(i.row));_.replace(new M(s,0,s,n-1),t)},this.$getIndent=function(_){return _.match(/^\s*/)[0]}}).call(b.prototype),B.MatchingBraceOutdent=b}),ace.define("ace/mode/folding/coffee",["require","exports","module","ace/lib/oop","ace/mode/folding/fold_mode","ace/range"],function(f,B,z){var M=f("../../lib/oop"),b=f("./fold_mode").FoldMode,_=f("../../range").Range,s=B.FoldMode=function(){};M.inherits(s,b),(function(){this.commentBlock=function(d,o){var n=/\S/,i=d.getLine(o),t=i.search(n);if(!(t==-1||i[t]!="#")){for(var e=i.length,r=d.getLength(),a=o,c=o;++o<r;){i=d.getLine(o);var h=i.search(n);if(h!=-1){if(i[h]!="#")break;c=o}}if(c>a){var $=d.getLine(c).length;return new _(a,e,c,$)}}},this.getFoldWidgetRange=function(d,o,n){var i=this.indentationBlock(d,n);if(i||(i=this.commentBlock(d,n),i))return i},this.getFoldWidget=function(d,o,n){var i=d.getLine(n),t=i.search(/\S/),e=d.getLine(n+1),r=d.getLine(n-1),a=r.search(/\S/),c=e.search(/\S/);if(t==-1)return d.foldWidgets[n-1]=a!=-1&&a<c?"start":"","";if(a==-1){if(t==c&&i[t]=="#"&&e[t]=="#")return d.foldWidgets[n-1]="",d.foldWidgets[n+1]="","start"}else if(a==t&&i[t]=="#"&&r[t]=="#"&&d.getLine(n-2).search(/\S/)==-1)return d.foldWidgets[n-1]="start",d.foldWidgets[n+1]="","";return a!=-1&&a<t?d.foldWidgets[n-1]="start":d.foldWidgets[n-1]="",t<c?"start":""}}).call(s.prototype)}),ace.define("ace/mode/coffee",["require","exports","module","ace/mode/coffee_highlight_rules","ace/mode/matching_brace_outdent","ace/mode/folding/coffee","ace/range","ace/mode/text","ace/worker/worker_client","ace/lib/oop"],function(f,B,z){var M=f("./coffee_highlight_rules").CoffeeHighlightRules,b=f("./matching_brace_outdent").MatchingBraceOutdent,_=f("./folding/coffee").FoldMode;f("../range").Range;var s=f("./text").Mode,d=f("../worker/worker_client").WorkerClient,o=f("../lib/oop");function n(){this.HighlightRules=M,this.$outdent=new b,this.foldingRules=new _}o.inherits(n,s),(function(){var i=/(?:[({[=:]|[-=]>|\b(?:else|try|(?:swi|ca)tch(?:\s+[$A-Za-z_\x7f-\uffff][$\w\x7f-\uffff]*)?|finally))\s*$|^\s*(else\b\s*)?(?:if|for|while|loop)\b(?!.*\bthen\b)/;this.lineCommentStart="#",this.blockComment={start:"###",end:"###"},this.getNextLineIndent=function(t,e,r){var a=this.$getIndent(e),c=this.getTokenizer().getLineTokens(e,t).tokens;return!(c.length&&c[c.length-1].type==="comment")&&t==="start"&&i.test(e)&&(a+=r),a},this.checkOutdent=function(t,e,r){return this.$outdent.checkOutdent(e,r)},this.autoOutdent=function(t,e,r){this.$outdent.autoOutdent(e,r)},this.createWorker=function(t){var e=new d(["ace"],"ace/mode/coffee_worker","Worker");return e.attachToDocument(t.getDocument()),e.on("annotate",function(r){t.setAnnotations(r.data)}),e.on("terminate",function(){t.clearAnnotations()}),e},this.$id="ace/mode/coffee",this.snippetFileId="ace/snippets/coffee"}).call(n.prototype),B.Mode=n}),function(){ace.require(["ace/mode/coffee"],function(f){te&&(te.exports=f)})}()}(nr)),nr.exports}Pi();var rr={exports:{}},xr;function Ui(){return xr||(xr=1,function(te,Q){ace.define("ace/theme/tomorrow-css",["require","exports","module"],function(f,B,z){z.exports=`.ace-tomorrow .ace_gutter {
  background: #f6f6f6;
  color: #4D4D4C
}

.ace-tomorrow .ace_print-margin {
  width: 1px;
  background: #f6f6f6
}

.ace-tomorrow {
  background-color: #FFFFFF;
  color: #4D4D4C
}

.ace-tomorrow .ace_cursor {
  color: #AEAFAD
}

.ace-tomorrow .ace_marker-layer .ace_selection {
  background: #D6D6D6
}

.ace-tomorrow.ace_multiselect .ace_selection.ace_start {
  box-shadow: 0 0 3px 0px #FFFFFF;
}

.ace-tomorrow .ace_marker-layer .ace_step {
  background: rgb(255, 255, 0)
}

.ace-tomorrow .ace_marker-layer .ace_bracket {
  margin: -1px 0 0 -1px;
  border: 1px solid #D1D1D1
}

.ace-tomorrow .ace_marker-layer .ace_active-line {
  background: #EFEFEF
}

.ace-tomorrow .ace_gutter-active-line {
  background-color : #dcdcdc
}

.ace-tomorrow .ace_marker-layer .ace_selected-word {
  border: 1px solid #D6D6D6
}

.ace-tomorrow .ace_invisible {
  color: #D1D1D1
}

.ace-tomorrow .ace_keyword,
.ace-tomorrow .ace_meta,
.ace-tomorrow .ace_storage,
.ace-tomorrow .ace_storage.ace_type,
.ace-tomorrow .ace_support.ace_type {
  color: #8959A8
}

.ace-tomorrow .ace_keyword.ace_operator {
  color: #3E999F
}

.ace-tomorrow .ace_constant.ace_character,
.ace-tomorrow .ace_constant.ace_language,
.ace-tomorrow .ace_constant.ace_numeric,
.ace-tomorrow .ace_keyword.ace_other.ace_unit,
.ace-tomorrow .ace_support.ace_constant,
.ace-tomorrow .ace_variable.ace_parameter {
  color: #F5871F
}

.ace-tomorrow .ace_constant.ace_other {
  color: #666969
}

.ace-tomorrow .ace_invalid {
  color: #FFFFFF;
  background-color: #C82829
}

.ace-tomorrow .ace_invalid.ace_deprecated {
  color: #FFFFFF;
  background-color: #8959A8
}

.ace-tomorrow .ace_fold {
  background-color: #4271AE;
  border-color: #4D4D4C
}

.ace-tomorrow .ace_entity.ace_name.ace_function,
.ace-tomorrow .ace_support.ace_function,
.ace-tomorrow .ace_variable {
  color: #4271AE
}

.ace-tomorrow .ace_support.ace_class,
.ace-tomorrow .ace_support.ace_type {
  color: #C99E00
}

.ace-tomorrow .ace_heading,
.ace-tomorrow .ace_markup.ace_heading,
.ace-tomorrow .ace_string {
  color: #718C00
}

.ace-tomorrow .ace_entity.ace_name.ace_tag,
.ace-tomorrow .ace_entity.ace_other.ace_attribute-name,
.ace-tomorrow .ace_meta.ace_tag,
.ace-tomorrow .ace_string.ace_regexp,
.ace-tomorrow .ace_variable {
  color: #C82829
}

.ace-tomorrow .ace_comment {
  color: #8E908C
}

.ace-tomorrow .ace_indent-guide {
  background: url(data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAEAAAACCAYAAACZgbYnAAAAE0lEQVQImWP4////f4bdu3f/BwAlfgctduB85QAAAABJRU5ErkJggg==) right repeat-y
}

.ace-tomorrow .ace_indent-guide-active {
  background: url("data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAEAAAACCAYAAACZgbYnAAAACXBIWXMAAAsTAAALEwEAmpwYAAAAIGNIUk0AAHolAACAgwAA+f8AAIDpAAB1MAAA6mAAADqYAAAXb5JfxUYAAAAZSURBVHjaYvj///9/hivKyv8BAAAA//8DACLqBhbvk+/eAAAAAElFTkSuQmCC") right repeat-y;
} 
`}),ace.define("ace/theme/tomorrow",["require","exports","module","ace/theme/tomorrow-css","ace/lib/dom"],function(f,B,z){B.isDark=!1,B.cssClass="ace-tomorrow",B.cssText=f("./tomorrow-css");var M=f("../lib/dom");M.importCssString(B.cssText,B.cssClass,!1)}),function(){ace.require(["ace/theme/tomorrow"],function(f){te&&(te.exports=f)})}()}(rr)),rr.exports}Ui();var ir={exports:{}},Ir;function Hi(){return Ir||(Ir=1,function(te,Q){ace.define("ace/snippets",["require","exports","module","ace/lib/dom","ace/lib/oop","ace/lib/event_emitter","ace/lib/lang","ace/range","ace/range_list","ace/keyboard/hash_handler","ace/tokenizer","ace/clipboard","ace/editor"],function(f,B,z){var M=f("./lib/dom"),b=f("./lib/oop"),_=f("./lib/event_emitter").EventEmitter,s=f("./lib/lang"),d=f("./range").Range,o=f("./range_list").RangeList,n=f("./keyboard/hash_handler").HashHandler,i=f("./tokenizer").Tokenizer,t=f("./clipboard"),e={CURRENT_WORD:function(u){return u.session.getTextRange(u.session.getWordRange())},SELECTION:function(u,m,E){var C=u.session.getTextRange();return E?C.replace(/\n\r?([ \t]*\S)/g,`
`+E+"$1"):C},CURRENT_LINE:function(u){return u.session.getLine(u.getCursorPosition().row)},PREV_LINE:function(u){return u.session.getLine(u.getCursorPosition().row-1)},LINE_INDEX:function(u){return u.getCursorPosition().row},LINE_NUMBER:function(u){return u.getCursorPosition().row+1},SOFT_TABS:function(u){return u.session.getUseSoftTabs()?"YES":"NO"},TAB_SIZE:function(u){return u.session.getTabSize()},CLIPBOARD:function(u){return t.getText&&t.getText()},FILENAME:function(u){return/[^/\\]*$/.exec(this.FILEPATH(u))[0]},FILENAME_BASE:function(u){return/[^/\\]*$/.exec(this.FILEPATH(u))[0].replace(/\.[^.]*$/,"")},DIRECTORY:function(u){return this.FILEPATH(u).replace(/[^/\\]*$/,"")},FILEPATH:function(u){return"/not implemented.txt"},WORKSPACE_NAME:function(){return"Unknown"},FULLNAME:function(){return"Unknown"},BLOCK_COMMENT_START:function(u){var m=u.session.$mode||{};return m.blockComment&&m.blockComment.start||""},BLOCK_COMMENT_END:function(u){var m=u.session.$mode||{};return m.blockComment&&m.blockComment.end||""},LINE_COMMENT:function(u){var m=u.session.$mode||{};return m.lineCommentStart||""},CURRENT_YEAR:r.bind(null,{year:"numeric"}),CURRENT_YEAR_SHORT:r.bind(null,{year:"2-digit"}),CURRENT_MONTH:r.bind(null,{month:"numeric"}),CURRENT_MONTH_NAME:r.bind(null,{month:"long"}),CURRENT_MONTH_NAME_SHORT:r.bind(null,{month:"short"}),CURRENT_DATE:r.bind(null,{day:"2-digit"}),CURRENT_DAY_NAME:r.bind(null,{weekday:"long"}),CURRENT_DAY_NAME_SHORT:r.bind(null,{weekday:"short"}),CURRENT_HOUR:r.bind(null,{hour:"2-digit",hour12:!1}),CURRENT_MINUTE:r.bind(null,{minute:"2-digit"}),CURRENT_SECOND:r.bind(null,{second:"2-digit"})};e.SELECTED_TEXT=e.SELECTION;function r(u){var m=new Date().toLocaleString("en-us",u);return m.length==1?"0"+m:m}var a=function(){function u(){this.snippetMap={},this.snippetNameMap={},this.variables=e}return u.prototype.getTokenizer=function(){return u.$tokenizer||this.createTokenizer()},u.prototype.createTokenizer=function(){function m(R){return R=R.substr(1),/^\d+$/.test(R)?[{tabstopId:parseInt(R,10)}]:[{text:R}]}function E(R){return"(?:[^\\\\"+R+"]|\\\\.)"}var C={regex:"/("+E("/")+"+)/",onMatch:function(R,L,g){var y=g[0];return y.fmtString=!0,y.guard=R.slice(1,-1),y.flag="",""},next:"formatString"};return u.$tokenizer=new i({start:[{regex:/\\./,onMatch:function(R,L,g){var y=R[1];return(y=="}"&&g.length||"`$\\".indexOf(y)!=-1)&&(R=y),[R]}},{regex:/}/,onMatch:function(R,L,g){return[g.length?g.shift():R]}},{regex:/\$(?:\d+|\w+)/,onMatch:m},{regex:/\$\{[\dA-Z_a-z]+/,onMatch:function(R,L,g){var y=m(R.substr(1));return g.unshift(y[0]),y},next:"snippetVar"},{regex:/\n/,token:"newline",merge:!1}],snippetVar:[{regex:"\\|"+E("\\|")+"*\\|",onMatch:function(R,L,g){var y=R.slice(1,-1).replace(/\\[,|\\]|,/g,function(l){return l.length==2?l[1]:"\0"}).split("\0").map(function(l){return{value:l}});return g[0].choices=y,[y[0]]},next:"start"},C,{regex:"([^:}\\\\]|\\\\.)*:?",token:"",next:"start"}],formatString:[{regex:/:/,onMatch:function(R,L,g){return g.length&&g[0].expectElse?(g[0].expectElse=!1,g[0].ifEnd={elseEnd:g[0]},[g[0].ifEnd]):":"}},{regex:/\\./,onMatch:function(R,L,g){var y=R[1];return y=="}"&&g.length||"`$\\".indexOf(y)!=-1?R=y:y=="n"?R=`
`:y=="t"?R="	":"ulULE".indexOf(y)!=-1&&(R={changeCase:y,local:y>"a"}),[R]}},{regex:"/\\w*}",onMatch:function(R,L,g){var y=g.shift();return y&&(y.flag=R.slice(1,-1)),this.next=y&&y.tabstopId?"start":"",[y||R]},next:"start"},{regex:/\$(?:\d+|\w+)/,onMatch:function(R,L,g){return[{text:R.slice(1)}]}},{regex:/\${\w+/,onMatch:function(R,L,g){var y={text:R.slice(2)};return g.unshift(y),[y]},next:"formatStringVar"},{regex:/\n/,token:"newline",merge:!1},{regex:/}/,onMatch:function(R,L,g){var y=g.shift();return this.next=y&&y.tabstopId?"start":"",[y||R]},next:"start"}],formatStringVar:[{regex:/:\/\w+}/,onMatch:function(R,L,g){var y=g[0];return y.formatFunction=R.slice(2,-1),[g.shift()]},next:"formatString"},C,{regex:/:[\?\-+]?/,onMatch:function(R,L,g){R[1]=="+"&&(g[0].ifEnd=g[0]),R[1]=="?"&&(g[0].expectElse=!0)},next:"formatString"},{regex:"([^:}\\\\]|\\\\.)*:?",token:"",next:"formatString"}]}),u.$tokenizer},u.prototype.tokenizeTmSnippet=function(m,E){return this.getTokenizer().getLineTokens(m,E).tokens.map(function(C){return C.value||C})},u.prototype.getVariableValue=function(m,E,C){if(/^\d+$/.test(E))return(this.variables.__||{})[E]||"";if(/^[A-Z]\d+$/.test(E))return(this.variables[E[0]+"__"]||{})[E.substr(1)]||"";if(E=E.replace(/^TM_/,""),!this.variables.hasOwnProperty(E))return"";var R=this.variables[E];return typeof R=="function"&&(R=this.variables[E](m,E,C)),R??""},u.prototype.tmStrFormat=function(m,E,C){if(!E.fmt)return m;var R=E.flag||"",L=E.guard;L=new RegExp(L,R.replace(/[^gim]/g,""));var g=typeof E.fmt=="string"?this.tokenizeTmSnippet(E.fmt,"formatString"):E.fmt,y=this,l=m.replace(L,function(){var w=y.variables.__;y.variables.__=[].slice.call(arguments);for(var k=y.resolveVariables(g,C),I="E",G=0;G<k.length;G++){var H=k[G];if(typeof H=="object")if(k[G]="",H.changeCase&&H.local){var J=k[G+1];J&&typeof J=="string"&&(H.changeCase=="u"?k[G]=J[0].toUpperCase():k[G]=J[0].toLowerCase(),k[G+1]=J.substr(1))}else H.changeCase&&(I=H.changeCase);else I=="U"?k[G]=H.toUpperCase():I=="L"&&(k[G]=H.toLowerCase())}return y.variables.__=w,k.join("")});return l},u.prototype.tmFormatFunction=function(m,E,C){return E.formatFunction=="upcase"?m.toUpperCase():E.formatFunction=="downcase"?m.toLowerCase():m},u.prototype.resolveVariables=function(m,E){for(var C=[],R="",L=!0,g=0;g<m.length;g++){var y=m[g];if(typeof y=="string"){C.push(y),y==`
`?(L=!0,R=""):L&&(R=/^\t*/.exec(y)[0],L=/\S/.test(y));continue}if(y){if(L=!1,y.fmtString){var l=m.indexOf(y,g+1);l==-1&&(l=m.length),y.fmt=m.slice(g+1,l),g=l}if(y.text){var w=this.getVariableValue(E,y.text,R)+"";y.fmtString&&(w=this.tmStrFormat(w,y,E)),y.formatFunction&&(w=this.tmFormatFunction(w,y,E)),w&&!y.ifEnd?(C.push(w),k(y)):!w&&y.ifEnd&&k(y.ifEnd)}else y.elseEnd?k(y.elseEnd):(y.tabstopId!=null||y.changeCase!=null)&&C.push(y)}}function k(I){var G=m.indexOf(I,g+1);G!=-1&&(g=G)}return C},u.prototype.getDisplayTextForSnippet=function(m,E){var C=c.call(this,m,E);return C.text},u.prototype.insertSnippetForSelection=function(m,E,C){C===void 0&&(C={});var R=c.call(this,m,E,C),L=m.getSelectionRange(),g=m.session.replace(L,R.text),y=new h(m),l=m.inVirtualSelectionMode&&m.selection.index;y.addTabstops(R.tabstops,L.start,g,l)},u.prototype.insertSnippet=function(m,E,C){C===void 0&&(C={});var R=this;if(m.inVirtualSelectionMode)return R.insertSnippetForSelection(m,E,C);m.forEachSelection(function(){R.insertSnippetForSelection(m,E,C)},null,{keepOrder:!0}),m.tabstopManager&&m.tabstopManager.tabNext()},u.prototype.$getScope=function(m){var E=m.session.$mode.$id||"";if(E=E.split("/").pop(),E==="html"||E==="php"){E==="php"&&!m.session.$mode.inlinePhp&&(E="html");var C=m.getCursorPosition(),R=m.session.getState(C.row);typeof R=="object"&&(R=R[0]),R.substring&&(R.substring(0,3)=="js-"?E="javascript":R.substring(0,4)=="css-"?E="css":R.substring(0,4)=="php-"&&(E="php"))}return E},u.prototype.getActiveScopes=function(m){var E=this.$getScope(m),C=[E],R=this.snippetMap;return R[E]&&R[E].includeScopes&&C.push.apply(C,R[E].includeScopes),C.push("_"),C},u.prototype.expandWithTab=function(m,E){var C=this,R=m.forEachSelection(function(){return C.expandSnippetForSelection(m,E)},null,{keepOrder:!0});return R&&m.tabstopManager&&m.tabstopManager.tabNext(),R},u.prototype.expandSnippetForSelection=function(m,E){var C=m.getCursorPosition(),R=m.session.getLine(C.row),L=R.substring(0,C.column),g=R.substr(C.column),y=this.snippetMap,l;return this.getActiveScopes(m).some(function(w){var k=y[w];return k&&(l=this.findMatchingSnippet(k,L,g)),!!l},this),l?(E&&E.dryRun||(m.session.doc.removeInLine(C.row,C.column-l.replaceBefore.length,C.column+l.replaceAfter.length),this.variables.M__=l.matchBefore,this.variables.T__=l.matchAfter,this.insertSnippetForSelection(m,l.content),this.variables.M__=this.variables.T__=null),!0):!1},u.prototype.findMatchingSnippet=function(m,E,C){for(var R=m.length;R--;){var L=m[R];if(!(L.startRe&&!L.startRe.test(E))&&!(L.endRe&&!L.endRe.test(C))&&!(!L.startRe&&!L.endRe))return L.matchBefore=L.startRe?L.startRe.exec(E):[""],L.matchAfter=L.endRe?L.endRe.exec(C):[""],L.replaceBefore=L.triggerRe?L.triggerRe.exec(E)[0]:"",L.replaceAfter=L.endTriggerRe?L.endTriggerRe.exec(C)[0]:"",L}},u.prototype.register=function(m,E){var C=this.snippetMap,R=this.snippetNameMap,L=this;m||(m=[]);function g(w){return w&&!/^\^?\(.*\)\$?$|^\\b$/.test(w)&&(w="(?:"+w+")"),w||""}function y(w,k,I){return w=g(w),k=g(k),w=k+w,w&&w[w.length-1]!="$"&&(w=w+"$"),new RegExp(w)}function l(w){w.scope||(w.scope=E||"_"),E=w.scope,C[E]||(C[E]=[],R[E]={});var k=R[E];if(w.name){var I=k[w.name];I&&L.unregister(I),k[w.name]=w}C[E].push(w),w.prefix&&(w.tabTrigger=w.prefix),!w.content&&w.body&&(w.content=Array.isArray(w.body)?w.body.join(`
`):w.body),w.tabTrigger&&!w.trigger&&(!w.guard&&/^\w/.test(w.tabTrigger)&&(w.guard="\\b"),w.trigger=s.escapeRegExp(w.tabTrigger)),!(!w.trigger&&!w.guard&&!w.endTrigger&&!w.endGuard)&&(w.startRe=y(w.trigger,w.guard),w.triggerRe=new RegExp(w.trigger),w.endRe=y(w.endTrigger,w.endGuard),w.endTriggerRe=new RegExp(w.endTrigger))}Array.isArray(m)?m.forEach(l):Object.keys(m).forEach(function(w){l(m[w])}),this._signal("registerSnippets",{scope:E})},u.prototype.unregister=function(m,E){var C=this.snippetMap,R=this.snippetNameMap;function L(g){var y=R[g.scope||E];if(y&&y[g.name]){delete y[g.name];var l=C[g.scope||E],w=l&&l.indexOf(g);w>=0&&l.splice(w,1)}}m.content?L(m):Array.isArray(m)&&m.forEach(L)},u.prototype.parseSnippetFile=function(m){m=m.replace(/\r/g,"");for(var E=[],C={},R=/^#.*|^({[\s\S]*})\s*$|^(\S+) (.*)$|^((?:\n*\t.*)+)/gm,L;L=R.exec(m);){if(L[1])try{C=JSON.parse(L[1]),E.push(C)}catch{}if(L[4])C.content=L[4].replace(/^\t/gm,""),E.push(C),C={};else{var g=L[2],y=L[3];if(g=="regex"){var l=/\/((?:[^\/\\]|\\.)*)|$/g;C.guard=l.exec(y)[1],C.trigger=l.exec(y)[1],C.endTrigger=l.exec(y)[1],C.endGuard=l.exec(y)[1]}else g=="snippet"?(C.tabTrigger=y.match(/^\S*/)[0],C.name||(C.name=y)):g&&(C[g]=y)}}return E},u.prototype.getSnippetByName=function(m,E){var C=this.snippetNameMap,R;return this.getActiveScopes(E).some(function(L){var g=C[L];return g&&(R=g[m]),!!R},this),R},u}();b.implement(a.prototype,_);var c=function(u,m,E){E===void 0&&(E={});var C=u.getCursorPosition(),R=u.session.getLine(C.row),L=u.session.getTabString(),g=R.match(/^\s*/)[0];C.column<g.length&&(g=g.slice(0,C.column)),m=m.replace(/\r/g,"");var y=this.tokenizeTmSnippet(m);y=this.resolveVariables(y,u),y=y.map(function(fe){return fe==`
`&&!E.excludeExtraIndent?fe+g:typeof fe=="string"?fe.replace(/\t/g,L):fe});var l=[];y.forEach(function(fe,Ee){if(typeof fe=="object"){var Ce=fe.tabstopId,Se=l[Ce];if(Se||(Se=l[Ce]=[],Se.index=Ce,Se.value="",Se.parents={}),Se.indexOf(fe)===-1){fe.choices&&!Se.choices&&(Se.choices=fe.choices),Se.push(fe);var Be=y.indexOf(fe,Ee+1);if(Be!==-1){var Fe=y.slice(Ee+1,Be),Ue=Fe.some(function(Ye){return typeof Ye=="object"});Ue&&!Se.value?Se.value=Fe:Fe.length&&(!Se.value||typeof Se.value!="string")&&(Se.value=Fe.join(""))}}}}),l.forEach(function(fe){fe.length=0});var w={};function k(fe){for(var Ee=[],Ce=0;Ce<fe.length;Ce++){var Se=fe[Ce];if(typeof Se=="object"){if(w[Se.tabstopId])continue;var Be=fe.lastIndexOf(Se,Ce-1);Se=Ee[Be]||{tabstopId:Se.tabstopId}}Ee[Ce]=Se}return Ee}for(var I=0;I<y.length;I++){var G=y[I];if(typeof G=="object"){var H=G.tabstopId,J=l[H],j=y.indexOf(G,I+1);if(w[H]){w[H]===G&&(delete w[H],Object.keys(w).forEach(function(fe){J.parents[fe]=!0}));continue}w[H]=G;var K=J.value;typeof K!="string"?K=k(K):G.fmt&&(K=this.tmStrFormat(K,G,u)),y.splice.apply(y,[I+1,Math.max(0,j-I)].concat(K,G)),J.indexOf(G)===-1&&J.push(G)}}var ie=0,ee=0,oe="";return y.forEach(function(fe){if(typeof fe=="string"){var Ee=fe.split(`
`);Ee.length>1?(ee=Ee[Ee.length-1].length,ie+=Ee.length-1):ee+=fe.length,oe+=fe}else fe&&(fe.start?fe.end={row:ie,column:ee}:fe.start={row:ie,column:ee})}),{text:oe,tabstops:l,tokens:y}},h=function(){function u(m){if(this.index=0,this.ranges=[],this.tabstops=[],m.tabstopManager)return m.tabstopManager;m.tabstopManager=this,this.$onChange=this.onChange.bind(this),this.$onChangeSelection=s.delayedCall(this.onChangeSelection.bind(this)).schedule,this.$onChangeSession=this.onChangeSession.bind(this),this.$onAfterExec=this.onAfterExec.bind(this),this.attach(m)}return u.prototype.attach=function(m){this.$openTabstops=null,this.selectedTabstop=null,this.editor=m,this.session=m.session,this.editor.on("change",this.$onChange),this.editor.on("changeSelection",this.$onChangeSelection),this.editor.on("changeSession",this.$onChangeSession),this.editor.commands.on("afterExec",this.$onAfterExec),this.editor.keyBinding.addKeyboardHandler(this.keyboardHandler)},u.prototype.detach=function(){this.tabstops.forEach(this.removeTabstopMarkers,this),this.ranges.length=0,this.tabstops.length=0,this.selectedTabstop=null,this.editor.off("change",this.$onChange),this.editor.off("changeSelection",this.$onChangeSelection),this.editor.off("changeSession",this.$onChangeSession),this.editor.commands.off("afterExec",this.$onAfterExec),this.editor.keyBinding.removeKeyboardHandler(this.keyboardHandler),this.editor.tabstopManager=null,this.session=null,this.editor=null},u.prototype.onChange=function(m){for(var E=m.action[0]=="r",C=this.selectedTabstop||{},R=C.parents||{},L=this.tabstops.slice(),g=0;g<L.length;g++){var y=L[g],l=y==C||R[y.index];if(y.rangeList.$bias=l?0:1,m.action=="remove"&&y!==C){var w=y.parents&&y.parents[C.index],k=y.rangeList.pointIndex(m.start,w);k=k<0?-k-1:k+1;var I=y.rangeList.pointIndex(m.end,w);I=I<0?-I-1:I-1;for(var G=y.rangeList.ranges.slice(k,I),H=0;H<G.length;H++)this.removeRange(G[H])}y.rangeList.$onChange(m)}var J=this.session;!this.$inChange&&E&&J.getLength()==1&&!J.getValue()&&this.detach()},u.prototype.updateLinkedFields=function(){var m=this.selectedTabstop;if(!(!m||!m.hasLinkedRanges||!m.firstNonLinked)){this.$inChange=!0;for(var E=this.session,C=E.getTextRange(m.firstNonLinked),R=0;R<m.length;R++){var L=m[R];if(L.linked){var g=L.original,y=B.snippetManager.tmStrFormat(C,g,this.editor);E.replace(L,y)}}this.$inChange=!1}},u.prototype.onAfterExec=function(m){m.command&&!m.command.readOnly&&this.updateLinkedFields()},u.prototype.onChangeSelection=function(){if(this.editor){for(var m=this.editor.selection.lead,E=this.editor.selection.anchor,C=this.editor.selection.isEmpty(),R=0;R<this.ranges.length;R++)if(!this.ranges[R].linked){var L=this.ranges[R].contains(m.row,m.column),g=C||this.ranges[R].contains(E.row,E.column);if(L&&g)return}this.detach()}},u.prototype.onChangeSession=function(){this.detach()},u.prototype.tabNext=function(m){var E=this.tabstops.length,C=this.index+(m||1);C=Math.min(Math.max(C,1),E),C==E&&(C=0),this.selectTabstop(C),this.updateTabstopMarkers(),C===0&&this.detach()},u.prototype.selectTabstop=function(m){this.$openTabstops=null;var E=this.tabstops[this.index];if(E&&this.addTabstopMarkers(E),this.index=m,E=this.tabstops[this.index],!(!E||!E.length)){this.selectedTabstop=E;var C=E.firstNonLinked||E;if(E.choices&&(C.cursor=C.start),this.editor.inVirtualSelectionMode)this.editor.selection.fromOrientedRange(C);else{var R=this.editor.multiSelect;R.toSingleRange(C);for(var L=0;L<E.length;L++)E.hasLinkedRanges&&E[L].linked||R.addRange(E[L].clone(),!0)}this.editor.keyBinding.addKeyboardHandler(this.keyboardHandler),this.selectedTabstop&&this.selectedTabstop.choices&&this.editor.execCommand("startAutocomplete",{matches:this.selectedTabstop.choices})}},u.prototype.addTabstops=function(m,E,C){var R=this.useLink||!this.editor.getOption("enableMultiselect");if(this.$openTabstops||(this.$openTabstops=[]),!m[0]){var L=d.fromPoints(C,C);v(L.start,E),v(L.end,E),m[0]=[L],m[0].index=0}var g=this.index,y=[g+1,0],l=this.ranges,w=this.snippetId=(this.snippetId||0)+1;m.forEach(function(k,I){var G=this.$openTabstops[I]||k;G.snippetId=w;for(var H=0;H<k.length;H++){var J=k[H],j=d.fromPoints(J.start,J.end||J.start);$(j.start,E),$(j.end,E),j.original=J,j.tabstop=G,l.push(j),G!=k?G.unshift(j):G[H]=j,J.fmtString||G.firstNonLinked&&R?(j.linked=!0,G.hasLinkedRanges=!0):G.firstNonLinked||(G.firstNonLinked=j)}G.firstNonLinked||(G.hasLinkedRanges=!1),G===k&&(y.push(G),this.$openTabstops[I]=G),this.addTabstopMarkers(G),G.rangeList=G.rangeList||new o,G.rangeList.$bias=0,G.rangeList.addList(G)},this),y.length>2&&(this.tabstops.length&&y.push(y.splice(2,1)[0]),this.tabstops.splice.apply(this.tabstops,y))},u.prototype.addTabstopMarkers=function(m){var E=this.session;m.forEach(function(C){C.markerId||(C.markerId=E.addMarker(C,"ace_snippet-marker","text"))})},u.prototype.removeTabstopMarkers=function(m){var E=this.session;m.forEach(function(C){E.removeMarker(C.markerId),C.markerId=null})},u.prototype.updateTabstopMarkers=function(){if(this.selectedTabstop){var m=this.selectedTabstop.snippetId;this.selectedTabstop.index===0&&m--,this.tabstops.forEach(function(E){E.snippetId===m?this.addTabstopMarkers(E):this.removeTabstopMarkers(E)},this)}},u.prototype.removeRange=function(m){var E=m.tabstop.indexOf(m);E!=-1&&m.tabstop.splice(E,1),E=this.ranges.indexOf(m),E!=-1&&this.ranges.splice(E,1),E=m.tabstop.rangeList.ranges.indexOf(m),E!=-1&&m.tabstop.splice(E,1),this.session.removeMarker(m.markerId),m.tabstop.length||(E=this.tabstops.indexOf(m.tabstop),E!=-1&&this.tabstops.splice(E,1),this.tabstops.length||this.detach())},u}();h.prototype.keyboardHandler=new n,h.prototype.keyboardHandler.bindKeys({Tab:function(u){B.snippetManager&&B.snippetManager.expandWithTab(u)||(u.tabstopManager.tabNext(1),u.renderer.scrollCursorIntoView())},"Shift-Tab":function(u){u.tabstopManager.tabNext(-1),u.renderer.scrollCursorIntoView()},Esc:function(u){u.tabstopManager.detach()}});var $=function(u,m){u.row==0&&(u.column+=m.column),u.row+=m.row},v=function(u,m){u.row==m.row&&(u.column-=m.column),u.row-=m.row};M.importCssString(`
.ace_snippet-marker {
    -moz-box-sizing: border-box;
    box-sizing: border-box;
    background: rgba(194, 193, 208, 0.09);
    border: 1px dotted rgba(211, 208, 235, 0.62);
    position: absolute;
}`,"snippets.css",!1),B.snippetManager=new a;var p=f("./editor").Editor;(function(){this.insertSnippet=function(u,m){return B.snippetManager.insertSnippet(this,u,m)},this.expandSnippet=function(u){return B.snippetManager.expandWithTab(this,u)}}).call(p.prototype)}),ace.define("ace/autocomplete/popup",["require","exports","module","ace/virtual_renderer","ace/editor","ace/range","ace/lib/event","ace/lib/lang","ace/lib/dom","ace/config","ace/lib/useragent"],function(f,B,z){var M=f("../virtual_renderer").VirtualRenderer,b=f("../editor").Editor,_=f("../range").Range,s=f("../lib/event"),d=f("../lib/lang"),o=f("../lib/dom"),n=f("../config").nls,i=f("./../lib/useragent"),t=function($){return"suggest-aria-id:".concat($)},e=i.isSafari?"menu":"listbox",r=i.isSafari?"menuitem":"option",a=i.isSafari?"aria-current":"aria-selected",c=function($){var v=new M($);v.$maxLines=4;var p=new b(v);return p.setHighlightActiveLine(!1),p.setShowPrintMargin(!1),p.renderer.setShowGutter(!1),p.renderer.setHighlightGutterLine(!1),p.$mouseHandler.$focusTimeout=0,p.$highlightTagPending=!0,p},h=function(){function $(v){var p=o.createElement("div"),u=c(p);v&&v.appendChild(p),p.style.display="none",u.renderer.content.style.cursor="default",u.renderer.setStyle("ace_autocomplete"),u.renderer.$textLayer.element.setAttribute("role",e),u.renderer.$textLayer.element.setAttribute("aria-roledescription",n("autocomplete.popup.aria-roledescription","Autocomplete suggestions")),u.renderer.$textLayer.element.setAttribute("aria-label",n("autocomplete.popup.aria-label","Autocomplete suggestions")),u.renderer.textarea.setAttribute("aria-hidden","true"),u.setOption("displayIndentGuides",!1),u.setOption("dragDelay",150);var m=function(){};u.focus=m,u.$isFocused=!0,u.renderer.$cursorLayer.restartTimer=m,u.renderer.$cursorLayer.element.style.opacity="0",u.renderer.$maxLines=8,u.renderer.$keepTextAreaAtCursor=!1,u.setHighlightActiveLine(!1),u.session.highlight(""),u.session.$searchHighlight.clazz="ace_highlight-marker",u.on("mousedown",function(l){var w=l.getDocumentPosition();u.selection.moveToPosition(w),R.start.row=R.end.row=w.row,l.stop()});var E,C=new _(-1,0,-1,1/0),R=new _(-1,0,-1,1/0);R.id=u.session.addMarker(R,"ace_active-line","fullLine"),u.setSelectOnHover=function(l){l?C.id&&(u.session.removeMarker(C.id),C.id=null):C.id=u.session.addMarker(C,"ace_line-hover","fullLine")},u.setSelectOnHover(!1),u.on("mousemove",function(l){if(!E){E=l;return}if(!(E.x==l.x&&E.y==l.y)){E=l,E.scrollTop=u.renderer.scrollTop,u.isMouseOver=!0;var w=E.getDocumentPosition().row;C.start.row!=w&&(C.id||u.setRow(w),g(w))}}),u.renderer.on("beforeRender",function(){if(E&&C.start.row!=-1){E.$pos=null;var l=E.getDocumentPosition().row;C.id||u.setRow(l),g(l,!0)}}),u.renderer.on("afterRender",function(){var l=u.getRow(),w=u.renderer.$textLayer,k=w.element.childNodes[l-w.config.firstRow],I=document.activeElement;if(k!==u.selectedNode&&u.selectedNode&&(o.removeCssClass(u.selectedNode,"ace_selected"),I.removeAttribute("aria-activedescendant"),u.selectedNode.removeAttribute(a),u.selectedNode.removeAttribute("id")),u.selectedNode=k,k){o.addCssClass(k,"ace_selected");var G=t(l);k.id=G,w.element.setAttribute("aria-activedescendant",G),I.setAttribute("aria-activedescendant",G),k.setAttribute("role",r),k.setAttribute("aria-roledescription",n("autocomplete.popup.item.aria-roledescription","item")),k.setAttribute("aria-label",u.getData(l).caption||u.getData(l).value),k.setAttribute("aria-setsize",u.data.length),k.setAttribute("aria-posinset",l+1),k.setAttribute("aria-describedby","doc-tooltip"),k.setAttribute(a,"true")}});var L=function(){g(-1)},g=function(l,w){l!==C.start.row&&(C.start.row=C.end.row=l,w||u.session._emit("changeBackMarker"),u._emit("changeHoverMarker"))};u.getHoveredRow=function(){return C.start.row},s.addListener(u.container,"mouseout",function(){u.isMouseOver=!1,L()}),u.on("hide",L),u.on("changeSelection",L),u.session.doc.getLength=function(){return u.data.length},u.session.doc.getLine=function(l){var w=u.data[l];return typeof w=="string"?w:w&&w.value||""};var y=u.session.bgTokenizer;return y.$tokenizeRow=function(l){var w=u.data[l],k=[];if(!w)return k;typeof w=="string"&&(w={value:w});var I=w.caption||w.value||w.name;function G(fe,Ee){fe&&k.push({type:(w.className||"")+(Ee||""),value:fe})}for(var H=I.toLowerCase(),J=(u.filterText||"").toLowerCase(),j=0,K=0,ie=0;ie<=J.length;ie++)if(ie!=K&&(w.matchMask&1<<ie||ie==J.length)){var ee=J.slice(K,ie);K=ie;var oe=H.indexOf(ee,j);if(oe==-1)continue;G(I.slice(j,oe),""),j=oe+ee.length,G(I.slice(oe,j),"completion-highlight")}return G(I.slice(j,I.length),""),k.push({type:"completion-spacer",value:" "}),w.meta&&k.push({type:"completion-meta",value:w.meta}),w.message&&k.push({type:"completion-message",value:w.message}),k},y.$updateOnChange=m,y.start=m,u.session.$computeWidth=function(){return this.screenWidth=0},u.isOpen=!1,u.isTopdown=!1,u.autoSelect=!0,u.filterText="",u.isMouseOver=!1,u.data=[],u.setData=function(l,w){u.filterText=w||"",u.setValue(d.stringRepeat(`
`,l.length),-1),u.data=l||[],u.setRow(0)},u.getData=function(l){return u.data[l]},u.getRow=function(){return R.start.row},u.setRow=function(l){l=Math.max(this.autoSelect?0:-1,Math.min(this.data.length-1,l)),R.start.row!=l&&(u.selection.clearSelection(),R.start.row=R.end.row=l||0,u.session._emit("changeBackMarker"),u.moveCursorTo(l||0,0),u.isOpen&&u._signal("select"))},u.on("changeSelection",function(){u.isOpen&&u.setRow(u.selection.lead.row),u.renderer.scrollCursorIntoView()}),u.hide=function(){this.container.style.display="none",u.anchorPos=null,u.anchor=null,u.isOpen&&(u.isOpen=!1,this._signal("hide"))},u.tryShow=function(l,w,k,I){if(!I&&u.isOpen&&u.anchorPos&&u.anchor&&u.anchorPos.top===l.top&&u.anchorPos.left===l.left&&u.anchor===k)return!0;var G=this.container,H=window.innerHeight,J=window.innerWidth,j=this.renderer,K=j.$maxLines*w*1.4,ie={top:0,bottom:0},ee=H-l.top-3*this.$borderSize-w,oe=l.top-3*this.$borderSize;k||(oe<=ee||ee>=K?k="bottom":k="top"),k==="top"?(ie.bottom=l.top-this.$borderSize,ie.top=ie.bottom-K):k==="bottom"&&(ie.top=l.top+w+this.$borderSize,ie.bottom=ie.top+K);var fe=ie.top>=0&&ie.bottom<=H;if(!I&&!fe)return!1;fe?j.$maxPixelHeight=null:k==="top"?j.$maxPixelHeight=oe:j.$maxPixelHeight=ee,k==="top"?(G.style.top="",G.style.bottom=H-ie.bottom+"px",u.isTopdown=!1):(G.style.top=ie.top+"px",G.style.bottom="",u.isTopdown=!0),G.style.display="";var Ee=l.left;return Ee+G.offsetWidth>J&&(Ee=J-G.offsetWidth),G.style.left=Ee+"px",G.style.right="",u.isOpen||(u.isOpen=!0,this._signal("show"),E=null),u.anchorPos=l,u.anchor=k,!0},u.show=function(l,w,k){this.tryShow(l,w,k?"bottom":void 0,!0)},u.goTo=function(l){var w=this.getRow(),k=this.session.getLength()-1;switch(l){case"up":w=w<=0?k:w-1;break;case"down":w=w>=k?-1:w+1;break;case"start":w=0;break;case"end":w=k;break}this.setRow(w)},u.getTextLeftOffset=function(){return this.$borderSize+this.renderer.$padding+this.$imageSize},u.$imageSize=0,u.$borderSize=1,u}return $}();o.importCssString(`
.ace_editor.ace_autocomplete .ace_marker-layer .ace_active-line {
    background-color: #CAD6FA;
    z-index: 1;
}
.ace_dark.ace_editor.ace_autocomplete .ace_marker-layer .ace_active-line {
    background-color: #3a674e;
}
.ace_editor.ace_autocomplete .ace_line-hover {
    border: 1px solid #abbffe;
    margin-top: -1px;
    background: rgba(233,233,253,0.4);
    position: absolute;
    z-index: 2;
}
.ace_dark.ace_editor.ace_autocomplete .ace_line-hover {
    border: 1px solid rgba(109, 150, 13, 0.8);
    background: rgba(58, 103, 78, 0.62);
}
.ace_completion-meta {
    opacity: 0.5;
    margin-left: 0.9em;
}
.ace_completion-message {
    margin-left: 0.9em;
    color: blue;
}
.ace_editor.ace_autocomplete .ace_completion-highlight{
    color: #2d69c7;
}
.ace_dark.ace_editor.ace_autocomplete .ace_completion-highlight{
    color: #93ca12;
}
.ace_editor.ace_autocomplete {
    width: 300px;
    z-index: 200000;
    border: 1px lightgray solid;
    position: fixed;
    box-shadow: 2px 3px 5px rgba(0,0,0,.2);
    line-height: 1.4;
    background: #fefefe;
    color: #111;
}
.ace_dark.ace_editor.ace_autocomplete {
    border: 1px #484747 solid;
    box-shadow: 2px 3px 5px rgba(0, 0, 0, 0.51);
    line-height: 1.4;
    background: #25282c;
    color: #c1c1c1;
}
.ace_autocomplete .ace_text-layer  {
    width: calc(100% - 8px);
}
.ace_autocomplete .ace_line {
    display: flex;
    align-items: center;
}
.ace_autocomplete .ace_line > * {
    min-width: 0;
    flex: 0 0 auto;
}
.ace_autocomplete .ace_line .ace_ {
    flex: 0 1 auto;
    overflow: hidden;
    text-overflow: ellipsis;
}
.ace_autocomplete .ace_completion-spacer {
    flex: 1;
}
.ace_autocomplete.ace_loading:after  {
    content: "";
    position: absolute;
    top: 0px;
    height: 2px;
    width: 8%;
    background: blue;
    z-index: 100;
    animation: ace_progress 3s infinite linear;
    animation-delay: 300ms;
    transform: translateX(-100%) scaleX(1);
}
@keyframes ace_progress {
    0% { transform: translateX(-100%) scaleX(1) }
    50% { transform: translateX(625%) scaleX(2) } 
    100% { transform: translateX(1500%) scaleX(3) } 
}
@media (prefers-reduced-motion) {
    .ace_autocomplete.ace_loading:after {
        transform: translateX(625%) scaleX(2);
        animation: none;
     }
}
`,"autocompletion.css",!1),B.AcePopup=h,B.$singleLineEditor=c,B.getAriaId=t}),ace.define("ace/autocomplete/inline_screenreader",["require","exports","module"],function(f,B,z){var M=function(){function b(_){this.editor=_,this.screenReaderDiv=document.createElement("div"),this.screenReaderDiv.classList.add("ace_screenreader-only"),this.editor.container.appendChild(this.screenReaderDiv)}return b.prototype.setScreenReaderContent=function(_){for(!this.popup&&this.editor.completer&&this.editor.completer.popup&&(this.popup=this.editor.completer.popup,this.popup.renderer.on("afterRender",(function(){var d=this.popup.getRow(),o=this.popup.renderer.$textLayer,n=o.element.childNodes[d-o.config.firstRow];if(n){for(var i="doc-tooltip ",t=0;t<this._lines.length;t++)i+="ace-inline-screenreader-line-".concat(t," ");n.setAttribute("aria-describedby",i)}}).bind(this)));this.screenReaderDiv.firstChild;)this.screenReaderDiv.removeChild(this.screenReaderDiv.firstChild);this._lines=_.split(/\r\n|\r|\n/);var s=this.createCodeBlock();this.screenReaderDiv.appendChild(s)},b.prototype.destroy=function(){this.screenReaderDiv.remove()},b.prototype.createCodeBlock=function(){var _=document.createElement("pre");_.setAttribute("id","ace-inline-screenreader");for(var s=0;s<this._lines.length;s++){var d=document.createElement("code");d.setAttribute("id","ace-inline-screenreader-line-".concat(s));var o=document.createTextNode(this._lines[s]);d.appendChild(o),_.appendChild(d)}return _},b}();B.AceInlineScreenReader=M}),ace.define("ace/autocomplete/inline",["require","exports","module","ace/snippets","ace/autocomplete/inline_screenreader"],function(f,B,z){var M=f("../snippets").snippetManager,b=f("./inline_screenreader").AceInlineScreenReader,_=function(){function s(){this.editor=null}return s.prototype.show=function(d,o,n){if(n=n||"",d&&this.editor&&this.editor!==d&&(this.hide(),this.editor=null,this.inlineScreenReader=null),!d||!o)return!1;this.inlineScreenReader||(this.inlineScreenReader=new b(d));var i=o.snippet?M.getDisplayTextForSnippet(d,o.snippet):o.value;return o.hideInlinePreview||!i||!i.startsWith(n)?!1:(this.editor=d,this.inlineScreenReader.setScreenReaderContent(i),i=i.slice(n.length),i===""?d.removeGhostText():d.setGhostText(i),!0)},s.prototype.isOpen=function(){return this.editor?!!this.editor.renderer.$ghostText:!1},s.prototype.hide=function(){return this.editor?(this.editor.removeGhostText(),!0):!1},s.prototype.destroy=function(){this.hide(),this.editor=null,this.inlineScreenReader&&(this.inlineScreenReader.destroy(),this.inlineScreenReader=null)},s}();B.AceInline=_}),ace.define("ace/autocomplete/util",["require","exports","module"],function(f,B,z){B.parForEach=function(b,_,s){var d=0,o=b.length;o===0&&s();for(var n=0;n<o;n++)_(b[n],function(i,t){d++,d===o&&s(i,t)})};var M=/[a-zA-Z_0-9\$\-\u00A2-\u2000\u2070-\uFFFF]/;B.retrievePrecedingIdentifier=function(b,_,s){s=s||M;for(var d=[],o=_-1;o>=0&&s.test(b[o]);o--)d.push(b[o]);return d.reverse().join("")},B.retrieveFollowingIdentifier=function(b,_,s){s=s||M;for(var d=[],o=_;o<b.length&&s.test(b[o]);o++)d.push(b[o]);return d},B.getCompletionPrefix=function(b){var _=b.getCursorPosition(),s=b.session.getLine(_.row),d;return b.completers.forEach((function(o){o.identifierRegexps&&o.identifierRegexps.forEach((function(n){!d&&n&&(d=this.retrievePrecedingIdentifier(s,_.column,n))}).bind(this))}).bind(this)),d||this.retrievePrecedingIdentifier(s,_.column)},B.triggerAutocomplete=function(b,s){var s=s??b.session.getPrecedingCharacter();return b.completers.some(function(d){if(d.triggerCharacters&&Array.isArray(d.triggerCharacters))return d.triggerCharacters.includes(s)})}}),ace.define("ace/autocomplete",["require","exports","module","ace/keyboard/hash_handler","ace/autocomplete/popup","ace/autocomplete/inline","ace/autocomplete/popup","ace/autocomplete/util","ace/lib/lang","ace/lib/dom","ace/snippets","ace/config","ace/lib/event","ace/lib/scroll"],function(f,B,z){var M=f("./keyboard/hash_handler").HashHandler,b=f("./autocomplete/popup").AcePopup,_=f("./autocomplete/inline").AceInline,s=f("./autocomplete/popup").getAriaId,d=f("./autocomplete/util"),o=f("./lib/lang"),n=f("./lib/dom"),i=f("./snippets").snippetManager,t=f("./config"),e=f("./lib/event"),r=f("./lib/scroll").preventParentScroll,a=function(v,p){p.completer&&p.completer.destroy()},c=function(){function v(){this.autoInsert=!1,this.autoSelect=!0,this.autoShown=!1,this.exactMatch=!1,this.inlineEnabled=!1,this.keyboardHandler=new M,this.keyboardHandler.bindKeys(this.commands),this.parentNode=null,this.setSelectOnHover=!1,this.hasSeen=new Set,this.showLoadingState=!1,this.stickySelectionDelay=500,this.blurListener=this.blurListener.bind(this),this.changeListener=this.changeListener.bind(this),this.mousedownListener=this.mousedownListener.bind(this),this.mousewheelListener=this.mousewheelListener.bind(this),this.onLayoutChange=this.onLayoutChange.bind(this),this.changeTimer=o.delayedCall((function(){this.updateCompletions(!0)}).bind(this)),this.tooltipTimer=o.delayedCall(this.updateDocTooltip.bind(this),50),this.popupTimer=o.delayedCall(this.$updatePopupPosition.bind(this),50),this.stickySelectionTimer=o.delayedCall((function(){this.stickySelection=!0}).bind(this),this.stickySelectionDelay),this.$firstOpenTimer=o.delayedCall((function(){var p=this.completionProvider&&this.completionProvider.initialPosition;this.autoShown||this.popup&&this.popup.isOpen||!p||this.editor.completers.length===0||(this.completions=new $(v.completionsForLoading),this.openPopup(this.editor,p.prefix,!1),this.popup.renderer.setStyle("ace_loading",!0))}).bind(this),this.stickySelectionDelay)}return Object.defineProperty(v,"completionsForLoading",{get:function(){return[{caption:t.nls("autocomplete.loading","Loading..."),value:""}]},enumerable:!1,configurable:!0}),v.prototype.$init=function(){return this.popup=new b(this.parentNode||document.body||document.documentElement),this.popup.on("click",(function(p){this.insertMatch(),p.stop()}).bind(this)),this.popup.focus=this.editor.focus.bind(this.editor),this.popup.on("show",this.$onPopupShow.bind(this)),this.popup.on("hide",this.$onHidePopup.bind(this)),this.popup.on("select",this.$onPopupChange.bind(this)),e.addListener(this.popup.container,"mouseout",this.mouseOutListener.bind(this)),this.popup.on("changeHoverMarker",this.tooltipTimer.bind(null,null)),this.popup.renderer.on("afterRender",this.$onPopupRender.bind(this)),this.popup},v.prototype.$initInline=function(){if(!(!this.inlineEnabled||this.inlineRenderer))return this.inlineRenderer=new _,this.inlineRenderer},v.prototype.getPopup=function(){return this.popup||this.$init()},v.prototype.$onHidePopup=function(){this.inlineRenderer&&this.inlineRenderer.hide(),this.hideDocTooltip(),this.stickySelectionTimer.cancel(),this.popupTimer.cancel(),this.stickySelection=!1},v.prototype.$seen=function(p){!this.hasSeen.has(p)&&p&&p.completer&&p.completer.onSeen&&typeof p.completer.onSeen=="function"&&(p.completer.onSeen(this.editor,p),this.hasSeen.add(p))},v.prototype.$onPopupChange=function(p){if(this.inlineRenderer&&this.inlineEnabled){var u=p?null:this.popup.getData(this.popup.getRow());if(this.$updateGhostText(u),this.popup.isMouseOver&&this.setSelectOnHover){this.tooltipTimer.call(null,null);return}this.popupTimer.schedule(),this.tooltipTimer.schedule()}else this.popupTimer.call(null,null),this.tooltipTimer.call(null,null)},v.prototype.$updateGhostText=function(p){var u=this.base.row,m=this.base.column,E=this.editor.getCursorPosition().column,C=this.editor.session.getLine(u).slice(m,E);this.inlineRenderer.show(this.editor,p,C)?this.$seen(p):this.inlineRenderer.hide()},v.prototype.$onPopupRender=function(){var p=this.inlineRenderer&&this.inlineEnabled;if(this.completions&&this.completions.filtered&&this.completions.filtered.length>0)for(var u=this.popup.getFirstVisibleRow();u<=this.popup.getLastVisibleRow();u++){var m=this.popup.getData(u);m&&(!p||m.hideInlinePreview)&&this.$seen(m)}},v.prototype.$onPopupShow=function(p){this.$onPopupChange(p),this.stickySelection=!1,this.stickySelectionDelay>=0&&this.stickySelectionTimer.schedule(this.stickySelectionDelay)},v.prototype.observeLayoutChanges=function(){if(!(this.$elements||!this.editor)){window.addEventListener("resize",this.onLayoutChange,{passive:!0}),window.addEventListener("wheel",this.mousewheelListener);for(var p=this.editor.container.parentNode,u=[];p;)u.push(p),p.addEventListener("scroll",this.onLayoutChange,{passive:!0}),p=p.parentNode;this.$elements=u}},v.prototype.unObserveLayoutChanges=function(){var p=this;window.removeEventListener("resize",this.onLayoutChange,{passive:!0}),window.removeEventListener("wheel",this.mousewheelListener),this.$elements&&this.$elements.forEach(function(u){u.removeEventListener("scroll",p.onLayoutChange,{passive:!0})}),this.$elements=null},v.prototype.onLayoutChange=function(){if(!this.popup.isOpen)return this.unObserveLayoutChanges();this.$updatePopupPosition(),this.updateDocTooltip()},v.prototype.$updatePopupPosition=function(){var p=this.editor,u=p.renderer,m=u.layerConfig.lineHeight,E=u.$cursorLayer.getPixelPosition(this.base,!0);E.left-=this.popup.getTextLeftOffset();var C=p.container.getBoundingClientRect();E.top+=C.top-u.layerConfig.offset,E.left+=C.left-p.renderer.scrollLeft,E.left+=u.gutterWidth;var R={top:E.top,left:E.left};u.$ghostText&&u.$ghostTextWidget&&this.base.row===u.$ghostText.position.row&&(R.top+=u.$ghostTextWidget.el.offsetHeight);var L=p.container.getBoundingClientRect().bottom-m,g=L<R.top?{top:L,left:R.left}:R;this.popup.tryShow(g,m,"bottom")||this.popup.tryShow(E,m,"top")||this.popup.show(E,m)},v.prototype.openPopup=function(p,u,m){this.$firstOpenTimer.cancel(),this.popup||this.$init(),this.inlineEnabled&&!this.inlineRenderer&&this.$initInline(),this.popup.autoSelect=this.autoSelect,this.popup.setSelectOnHover(this.setSelectOnHover);var E=this.popup.getRow(),C=this.popup.data[E];this.popup.setData(this.completions.filtered,this.completions.filterText),this.editor.textInput.setAriaOptions&&this.editor.textInput.setAriaOptions({activeDescendant:s(this.popup.getRow()),inline:this.inlineEnabled}),p.keyBinding.addKeyboardHandler(this.keyboardHandler);var R;this.stickySelection&&(R=this.popup.data.indexOf(C)),(!R||R===-1)&&(R=0),this.popup.setRow(this.autoSelect?R:-1),R===E&&C!==this.completions.filtered[R]&&this.$onPopupChange();var L=this.inlineRenderer&&this.inlineEnabled;if(R===E&&L){var g=this.popup.getData(this.popup.getRow());this.$updateGhostText(g)}m||(this.popup.setTheme(p.getTheme()),this.popup.setFontSize(p.getFontSize()),this.$updatePopupPosition(),this.tooltipNode&&this.updateDocTooltip()),this.changeTimer.cancel(),this.observeLayoutChanges()},v.prototype.detach=function(){this.editor&&(this.editor.keyBinding.removeKeyboardHandler(this.keyboardHandler),this.editor.off("changeSelection",this.changeListener),this.editor.off("blur",this.blurListener),this.editor.off("mousedown",this.mousedownListener),this.editor.off("mousewheel",this.mousewheelListener)),this.$firstOpenTimer.cancel(),this.changeTimer.cancel(),this.hideDocTooltip(),this.completionProvider&&this.completionProvider.detach(),this.popup&&this.popup.isOpen&&this.popup.hide(),this.popup&&this.popup.renderer&&this.popup.renderer.off("afterRender",this.$onPopupRender),this.base&&this.base.detach(),this.activated=!1,this.completionProvider=this.completions=this.base=null,this.unObserveLayoutChanges()},v.prototype.changeListener=function(p){var u=this.editor.selection.lead;(u.row!=this.base.row||u.column<this.base.column)&&this.detach(),this.activated?this.changeTimer.schedule():this.detach()},v.prototype.blurListener=function(p){var u=document.activeElement,m=this.editor.textInput.getElement(),E=p.relatedTarget&&this.tooltipNode&&this.tooltipNode.contains(p.relatedTarget),C=this.popup&&this.popup.container;u!=m&&u.parentNode!=C&&!E&&u!=this.tooltipNode&&p.relatedTarget!=m&&this.detach()},v.prototype.mousedownListener=function(p){this.detach()},v.prototype.mousewheelListener=function(p){this.popup&&!this.popup.isMouseOver&&this.detach()},v.prototype.mouseOutListener=function(p){this.popup.isOpen&&this.$updatePopupPosition()},v.prototype.goTo=function(p){this.popup.goTo(p)},v.prototype.insertMatch=function(p,u){if(p||(p=this.popup.getData(this.popup.getRow())),!p)return!1;if(p.value==="")return this.detach();var m=this.completions,E=this.getCompletionProvider().insertMatch(this.editor,p,m.filterText,u);return this.completions==m&&this.detach(),E},v.prototype.showPopup=function(p,u){this.editor&&this.detach(),this.activated=!0,this.editor=p,p.completer!=this&&(p.completer&&p.completer.detach(),p.completer=this),p.on("changeSelection",this.changeListener),p.on("blur",this.blurListener),p.on("mousedown",this.mousedownListener),p.on("mousewheel",this.mousewheelListener),this.updateCompletions(!1,u)},v.prototype.getCompletionProvider=function(p){return this.completionProvider||(this.completionProvider=new h(p)),this.completionProvider},v.prototype.gatherCompletions=function(p,u){return this.getCompletionProvider().gatherCompletions(p,u)},v.prototype.updateCompletions=function(p,u){if(p&&this.base&&this.completions){var E=this.editor.getCursorPosition(),C=this.editor.session.getTextRange({start:this.base,end:E});if(C==this.completions.filterText)return;if(this.completions.setFilter(C),!this.completions.filtered.length)return this.detach();if(this.completions.filtered.length==1&&this.completions.filtered[0].value==C&&!this.completions.filtered[0].snippet)return this.detach();this.openPopup(this.editor,C,p);return}if(u&&u.matches){var E=this.editor.getSelectionRange().start;return this.base=this.editor.session.doc.createAnchor(E.row,E.column),this.base.$insertRight=!0,this.completions=new $(u.matches),this.getCompletionProvider().completions=this.completions,this.openPopup(this.editor,"",p)}var m=this.editor.getSession(),E=this.editor.getCursorPosition(),C=d.getCompletionPrefix(this.editor);this.base=m.doc.createAnchor(E.row,E.column-C.length),this.base.$insertRight=!0;var R={exactMatch:this.exactMatch,ignoreCaption:this.ignoreCaption};this.getCompletionProvider({prefix:C,pos:E}).provideCompletions(this.editor,R,(function(L,g,y){var l=g.filtered,w=d.getCompletionPrefix(this.editor);if(this.$firstOpenTimer.cancel(),y){if(!l.length){var k=!this.autoShown&&this.emptyMessage;if(typeof k=="function"&&(k=this.emptyMessage(w)),k){var I=[{caption:k,value:""}];this.completions=new $(I),this.openPopup(this.editor,w,p),this.popup.renderer.setStyle("ace_loading",!1),this.popup.renderer.setStyle("ace_empty-message",!0);return}return this.detach()}if(l.length==1&&l[0].value==w&&!l[0].snippet)return this.detach();if(this.autoInsert&&!this.autoShown&&l.length==1)return this.insertMatch(l[0])}this.completions=!y&&this.showLoadingState?new $(v.completionsForLoading.concat(l),g.filterText):g,this.openPopup(this.editor,w,p),this.popup.renderer.setStyle("ace_empty-message",!1),this.popup.renderer.setStyle("ace_loading",!y)}).bind(this)),this.showLoadingState&&!this.autoShown&&!(this.popup&&this.popup.isOpen)&&this.$firstOpenTimer.delay(this.stickySelectionDelay/2)},v.prototype.cancelContextMenu=function(){this.editor.$mouseHandler.cancelContextMenu()},v.prototype.updateDocTooltip=function(){var p=this.popup,u=this.completions.filtered,m=u&&(u[p.getHoveredRow()]||u[p.getRow()]),E=null;if(!m||!this.editor||!this.popup.isOpen)return this.hideDocTooltip();for(var C=this.editor.completers.length,R=0;R<C;R++){var L=this.editor.completers[R];if(L.getDocTooltip&&m.completerId===L.id){E=L.getDocTooltip(m);break}}if(!E&&typeof m!="string"&&(E=m),typeof E=="string"&&(E={docText:E}),!E||!(E.docHTML||E.docText))return this.hideDocTooltip();this.showDocTooltip(E)},v.prototype.showDocTooltip=function(p){this.tooltipNode||(this.tooltipNode=n.createElement("div"),this.tooltipNode.style.margin="0",this.tooltipNode.style.pointerEvents="auto",this.tooltipNode.style.overscrollBehavior="contain",this.tooltipNode.tabIndex=-1,this.tooltipNode.onblur=this.blurListener.bind(this),this.tooltipNode.onclick=this.onTooltipClick.bind(this),this.tooltipNode.id="doc-tooltip",this.tooltipNode.setAttribute("role","tooltip"),this.tooltipNode.addEventListener("wheel",r));var u=this.editor.renderer.theme;this.tooltipNode.className="ace_tooltip ace_doc-tooltip "+(u.isDark?"ace_dark ":"")+(u.cssClass||"");var m=this.tooltipNode;p.docHTML?m.innerHTML=p.docHTML:p.docText&&(m.textContent=p.docText),m.parentNode||this.popup.container.appendChild(this.tooltipNode);var E=this.popup,C=E.container.getBoundingClientRect();m.style.top=E.container.style.top,m.style.bottom=E.container.style.bottom,m.style.display="block",window.innerWidth-C.right<320?C.left<320?E.isTopdown?(m.style.top=C.bottom+"px",m.style.left=C.left+"px",m.style.right="",m.style.bottom=""):(m.style.top=E.container.offsetTop-m.offsetHeight+"px",m.style.left=C.left+"px",m.style.right="",m.style.bottom=""):(m.style.right=window.innerWidth-C.left+"px",m.style.left=""):(m.style.left=C.right+1+"px",m.style.right="")},v.prototype.hideDocTooltip=function(){if(this.tooltipTimer.cancel(),!!this.tooltipNode){var p=this.tooltipNode;!this.editor.isFocused()&&document.activeElement==p&&this.editor.focus(),this.tooltipNode=null,p.parentNode&&p.parentNode.removeChild(p)}},v.prototype.onTooltipClick=function(p){for(var u=p.target;u&&u!=this.tooltipNode;){if(u.nodeName=="A"&&u.href){u.rel="noreferrer",u.target="_blank";break}u=u.parentNode}},v.prototype.destroy=function(){if(this.detach(),this.popup){this.popup.destroy();var p=this.popup.container;p&&p.parentNode&&p.parentNode.removeChild(p)}this.editor&&this.editor.completer==this&&(this.editor.off("destroy",a),this.editor.completer=null),this.inlineRenderer=this.popup=this.editor=null},v}();c.prototype.commands={Up:function(v){v.completer.goTo("up")},Down:function(v){v.completer.goTo("down")},"Ctrl-Up|Ctrl-Home":function(v){v.completer.goTo("start")},"Ctrl-Down|Ctrl-End":function(v){v.completer.goTo("end")},Esc:function(v){v.completer.detach()},Return:function(v){return v.completer.insertMatch()},"Shift-Return":function(v){v.completer.insertMatch(null,{deleteSuffix:!0})},Tab:function(v){var p=v.completer.insertMatch();if(!p&&!v.tabstopManager)v.completer.goTo("down");else return p},Backspace:function(v){v.execCommand("backspace");var p=d.getCompletionPrefix(v);!p&&v.completer&&v.completer.detach()},PageUp:function(v){v.completer.popup.gotoPageUp()},PageDown:function(v){v.completer.popup.gotoPageDown()}},c.for=function(v){return v.completer instanceof c||(v.completer&&(v.completer.destroy(),v.completer=null),t.get("sharedPopups")?(c.$sharedInstance||(c.$sharedInstance=new c),v.completer=c.$sharedInstance):(v.completer=new c,v.once("destroy",a))),v.completer},c.startCommand={name:"startAutocomplete",exec:function(v,p){var u=c.for(v);u.autoInsert=!1,u.autoSelect=!0,u.autoShown=!1,u.showPopup(v,p),u.cancelContextMenu()},bindKey:"Ctrl-Space|Ctrl-Shift-Space|Alt-Space"};var h=function(){function v(p){this.initialPosition=p,this.active=!0}return v.prototype.insertByIndex=function(p,u,m){return!this.completions||!this.completions.filtered?!1:this.insertMatch(p,this.completions.filtered[u],m)},v.prototype.insertMatch=function(p,u,m){if(!u)return!1;if(p.startOperation({command:{name:"insertMatch"}}),u.completer&&u.completer.insertMatch)u.completer.insertMatch(p,u);else{if(!this.completions)return!1;var E=this.completions.filterText.length,C=0;if(u.range&&u.range.start.row===u.range.end.row&&(E-=this.initialPosition.prefix.length,E+=this.initialPosition.pos.column-u.range.start.column,C+=u.range.end.column-this.initialPosition.pos.column),E||C){var R;p.selection.getAllRanges?R=p.selection.getAllRanges():R=[p.getSelectionRange()];for(var L=0,g;g=R[L];L++)g.start.column-=E,g.end.column+=C,p.session.remove(g)}u.snippet?i.insertSnippet(p,u.snippet):this.$insertString(p,u),u.completer&&u.completer.onInsert&&typeof u.completer.onInsert=="function"&&u.completer.onInsert(p,u),u.command&&u.command==="startAutocomplete"&&p.execCommand(u.command)}return p.endOperation(),!0},v.prototype.$insertString=function(p,u){var m=u.value||u;p.execCommand("insertstring",m)},v.prototype.gatherCompletions=function(p,u){var m=p.getSession(),E=p.getCursorPosition(),C=d.getCompletionPrefix(p),R=[];this.completers=p.completers;var L=p.completers.length;return p.completers.forEach(function(g,y){g.getCompletions(p,m,E,C,function(l,w){g.hideInlinePreview&&(w=w.map(function(k){return Object.assign(k,{hideInlinePreview:g.hideInlinePreview})})),!l&&w&&(R=R.concat(w)),u(null,{prefix:d.getCompletionPrefix(p),matches:R,finished:--L===0})})}),!0},v.prototype.provideCompletions=function(p,u,m){var E=(function(g){var y=g.prefix,l=g.matches;this.completions=new $(l),u.exactMatch&&(this.completions.exactMatch=!0),u.ignoreCaption&&(this.completions.ignoreCaption=!0),this.completions.setFilter(y),(g.finished||this.completions.filtered.length)&&m(null,this.completions,g.finished)}).bind(this),C=!0,R=null;if(this.gatherCompletions(p,(function(g,y){if(this.active){g&&(m(g,[],!0),this.detach());var l=y.prefix;if(l.indexOf(y.prefix)===0){if(C){R=y;return}E(y)}}}).bind(this)),C=!1,R){var L=R;R=null,E(L)}},v.prototype.detach=function(){this.active=!1,this.completers&&this.completers.forEach(function(p){typeof p.cancel=="function"&&p.cancel()})},v}(),$=function(){function v(p,u){this.all=p,this.filtered=p,this.filterText=u||"",this.exactMatch=!1,this.ignoreCaption=!1}return v.prototype.setFilter=function(p){if(p.length>this.filterText&&p.lastIndexOf(this.filterText,0)===0)var u=this.filtered;else var u=this.all;this.filterText=p,u=this.filterCompletions(u,this.filterText),u=u.sort(function(E,C){return C.exactMatch-E.exactMatch||C.$score-E.$score||(E.caption||E.value).localeCompare(C.caption||C.value)});var m=null;u=u.filter(function(E){var C=E.snippet||E.caption||E.value;return C===m?!1:(m=C,!0)}),this.filtered=u},v.prototype.filterCompletions=function(p,u){var m=[],E=u.toUpperCase(),C=u.toLowerCase();e:for(var R=0,L;L=p[R];R++){var g=!this.ignoreCaption&&L.caption||L.value||L.snippet;if(g){var y=-1,l=0,w=0,k,I;if(this.exactMatch){if(u!==g.substr(0,u.length))continue e}else{var G=g.toLowerCase().indexOf(C);if(G>-1)w=G;else for(var H=0;H<u.length;H++){var J=g.indexOf(C[H],y+1),j=g.indexOf(E[H],y+1);if(k=J>=0&&(j<0||J<j)?J:j,k<0)continue e;I=k-y-1,I>0&&(y===-1&&(w+=10),w+=I,l=l|1<<H),y=k}}L.matchMask=l,L.exactMatch=w?0:1,L.$score=(L.score||0)-w,m.push(L)}}return m},v}();B.Autocomplete=c,B.CompletionProvider=h,B.FilteredList=$}),ace.define("ace/autocomplete/text_completer",["require","exports","module","ace/range"],function(f,B,z){var M=f("../range").Range,b=/[^a-zA-Z_0-9\$\-\u00C0-\u1FFF\u2C00-\uD7FF\w]+/;function _(d,o){var n=d.getTextRange(M.fromPoints({row:0,column:0},o));return n.split(b).length-1}function s(d,o){var n=_(d,o),i=d.getValue().split(b),t=Object.create(null),e=i[n];return i.forEach(function(r,a){if(!(!r||r===e)){var c=Math.abs(n-a),h=i.length-c;t[r]?t[r]=Math.max(h,t[r]):t[r]=h}}),t}B.getCompletions=function(d,o,n,i,t){var e=s(o,n),r=Object.keys(e);t(null,r.map(function(a){return{caption:a,value:a,score:e[a],meta:"local"}}))}}),ace.define("ace/ext/language_tools",["require","exports","module","ace/snippets","ace/autocomplete","ace/config","ace/lib/lang","ace/autocomplete/util","ace/autocomplete/text_completer","ace/editor","ace/config"],function(f,B,z){var M=f("../snippets").snippetManager,b=f("../autocomplete").Autocomplete,_=f("../config"),s=f("../lib/lang"),d=f("../autocomplete/util"),o=f("../autocomplete/text_completer"),n={getCompletions:function(E,C,R,L,g){if(C.$mode.completer)return C.$mode.completer.getCompletions(E,C,R,L,g);var y=E.session.getState(R.row),l=C.$mode.getCompletions(y,C,R,L);l=l.map(function(w){return w.completerId=n.id,w}),g(null,l)},id:"keywordCompleter"},i=function(E){var C={};return E.replace(/\${(\d+)(:(.*?))?}/g,function(R,L,g,y){return C[L]=y||""}).replace(/\$(\d+?)/g,function(R,L){return C[L]})},t={getCompletions:function(E,C,R,L,g){var y=[],l=C.getTokenAt(R.row,R.column);l&&l.type.match(/(tag-name|tag-open|tag-whitespace|attribute-name|attribute-value)\.xml$/)?y.push("html-tag"):y=M.getActiveScopes(E);var w=M.snippetMap,k=[];y.forEach(function(I){for(var G=w[I]||[],H=G.length;H--;){var J=G[H],j=J.name||J.tabTrigger;j&&k.push({caption:j,snippet:J.content,meta:J.tabTrigger&&!J.name?J.tabTrigger+" ":"snippet",completerId:t.id})}},this),g(null,k)},getDocTooltip:function(E){E.snippet&&!E.docHTML&&(E.docHTML=["<b>",s.escapeHTML(E.caption),"</b>","<hr></hr>",s.escapeHTML(i(E.snippet))].join(""))},id:"snippetCompleter"},e=[t,o,n];B.setCompleters=function(E){e.length=0,E&&e.push.apply(e,E)},B.addCompleter=function(E){e.push(E)},B.textCompleter=o,B.keyWordCompleter=n,B.snippetCompleter=t;var r={name:"expandSnippet",exec:function(E){return M.expandWithTab(E)},bindKey:"Tab"},a=function(E,C){c(C.session.$mode)},c=function(E){typeof E=="string"&&(E=_.$modes[E]),E&&(M.files||(M.files={}),h(E.$id,E.snippetFileId),E.modes&&E.modes.forEach(c))},h=function(E,C){!C||!E||M.files[E]||(M.files[E]={},_.loadModule(C,function(R){R&&(M.files[E]=R,!R.snippets&&R.snippetText&&(R.snippets=M.parseSnippetFile(R.snippetText)),M.register(R.snippets||[],R.scope),R.includeScopes&&(M.snippetMap[R.scope].includeScopes=R.includeScopes,R.includeScopes.forEach(function(L){c("ace/mode/"+L)})))}))},$=function(E){var C=E.editor,R=C.completer&&C.completer.activated;if(E.command.name==="backspace")R&&!d.getCompletionPrefix(C)&&C.completer.detach();else if(E.command.name==="insertstring"&&!R){v=E;var L=E.editor.$liveAutocompletionDelay;L?p.delay(L):u(E)}},v,p=s.delayedCall(function(){u(v)},0),u=function(E){var C=E.editor,R=d.getCompletionPrefix(C),L=E.args,g=d.triggerAutocomplete(C,L);if(R&&R.length>=C.$liveAutocompletionThreshold||g){var y=b.for(C);y.autoShown=!0,y.showPopup(C)}},m=f("../editor").Editor;f("../config").defineOptions(m.prototype,"editor",{enableBasicAutocompletion:{set:function(E){E?(this.completers||(this.completers=Array.isArray(E)?E:e),this.commands.addCommand(b.startCommand)):this.commands.removeCommand(b.startCommand)},value:!1},enableLiveAutocompletion:{set:function(E){E?(this.completers||(this.completers=Array.isArray(E)?E:e),this.commands.on("afterExec",$)):this.commands.off("afterExec",$)},value:!1},liveAutocompletionDelay:{initialValue:0},liveAutocompletionThreshold:{initialValue:0},enableSnippets:{set:function(E){E?(this.commands.addCommand(r),this.on("changeMode",a),a(null,this)):(this.commands.removeCommand(r),this.off("changeMode",a))},value:!1}})}),function(){ace.require(["ace/ext/language_tools"],function(f){te&&(te.exports=f)})}()}(ir)),ir.exports}Hi();Zn.config.set("basePath","assets/ace");globalThis.ace=On;function xn(te){return new Promise((Q,f)=>{Zn.require([te],B=>{B||f(Error(`Could not load ${te}`)),Q(B)})})}const et={rJOYP:{value:"$FF00",alias:"rP1",description:"Joypad face buttons",flags:{B_JOYP_GET_BUTTONS:{description:"0 = reading buttons [r/w]",value:"5"},B_JOYP_GET_CTRL_PAD:{description:"0 = reading Control Pad [r/w]",value:"4"},JOYP_GET:{description:"select which inputs to read from the lower nybble",value:"%00_11_0000"},JOYP_GET_BUTTONS:{description:"reading A/B/Select/Start buttons",value:"%00_01_0000"},JOYP_GET_CTRL_PAD:{description:"reading Control Pad directions",value:"%00_10_0000"},JOYP_GET_NONE:{description:"reading nothing",value:"%00_11_0000"},B_JOYP_START:{description:"0 = Start is pressed (if reading buttons) [ro]",value:"3"},B_JOYP_SELECT:{description:"0 = Select is pressed (if reading buttons) [ro]",value:"2"},B_JOYP_B:{description:"0 = B is pressed (if reading buttons) [ro]",value:"1"},B_JOYP_A:{description:"0 = A is pressed (if reading buttons) [ro]",value:"0"},B_JOYP_DOWN:{description:"0 = Down is pressed (if reading Control Pad) [ro]",value:"3"},B_JOYP_UP:{description:"0 = Up is pressed (if reading Control Pad) [ro]",value:"2"},B_JOYP_LEFT:{description:"0 = Left is pressed (if reading Control Pad) [ro]",value:"1"},B_JOYP_RIGHT:{description:"0 = Right is pressed (if reading Control Pad) [ro]",value:"0"},JOYP_INPUTS:{description:"bits equal to 0 indicate pressed (if reading inputs)",value:"%0000_1111"},JOYP_START:{description:"Start is pressed (if reading buttons)",value:"%00001000"},JOYP_SELECT:{description:"Select is pressed (if reading buttons)",value:"%00000100"},JOYP_B:{description:"B is pressed (if reading buttons)",value:"%00000010"},JOYP_A:{description:"A is pressed (if reading buttons)",value:"%00000001"},JOYP_DOWN:{description:"Down is pressed (if reading Control Pad)",value:"%00001000"},JOYP_UP:{description:"Up is pressed (if reading Control Pad)",value:"%00000100"},JOYP_LEFT:{description:"Left is pressed (if reading Control Pad)",value:"%00000010"},JOYP_RIGHT:{description:"Right is pressed (if reading Control Pad)",value:"%00000001"},B_JOYP_SGB_ONE:{description:"0 = sending 1 bit (for SGB command packet transfer)",value:"5"},B_JOYP_SGB_ZERO:{description:"0 = sending 0 bit (for SGB command packet transfer)",value:"4"},JOYP_SGB_START:{description:"start SGB packet transfer (if SGB)",value:"%00_00_0000"},JOYP_SGB_ONE:{description:"send 1 bit (if SGB)",value:"%00_01_0000"},JOYP_SGB_ZERO:{description:"send 0 bit (if SGB)",value:"%00_10_0000"},JOYP_SGB_FINISH:{description:"finish SGB packet transfer (if SGB)",value:"%00_11_0000"}}},rSB:{value:"$FF01",description:"Serial transfer data [r/w]"},rSC:{value:"$FF02",description:"Serial transfer control",flags:{B_SC_START:{description:"reading 1 = transfer in progress, writing 1 = start transfer [r/w]",value:"7"},B_SC_SPEED:{description:"(CGB only) 1 = use faster internal clock [r/w]",value:"1"},B_SC_SOURCE:{description:'0 = use external clock ("slave"), 1 = use internal clock ("master") [r/w]',value:"0"},SC_START:{description:"reading 1 = transfer in progress, writing 1 = start transfer [r/w]",value:"%10000000"},SC_SPEED:{description:"(CGB only) 1 = use faster internal clock [r/w]",value:"%00000010"},SC_SLOW:{description:"use slower internal clock",value:"%00000000"},SC_FAST:{description:"use faster internal clock",value:"%00000010"},SC_SOURCE:{description:'0 = use external clock ("slave"), 1 = use internal clock ("master") [r/w]',value:"%00000001"},SC_EXTERNAL:{description:'use external clock ("slave")',value:"%00000000"},SC_INTERNAL:{description:'use internal clock ("master")',value:"%00000001"}}},rDIV:{value:"$FF04",description:"Divider register [r/w]"},rTIMA:{value:"$FF05",description:"Timer counter [r/w]"},rTMA:{value:"$FF06",description:"Timer modulo [r/w]"},rTAC:{value:"$FF07",description:"Timer control",flags:{B_TAC_START:{description:"enable incrementing TIMA [r/w]",value:"2"},TAC_STOP:{description:"disable incrementing TIMA",value:"%00000000"},TAC_START:{description:"enable incrementing TIMA",value:"%00000100"},TAC_CLOCK:{description:"the frequency at which TIMA increments [r/w]",value:"%000000_11"},TAC_4KHZ:{description:"every 256 M-cycles = ~4 KHz on DMG",value:"%000000_00"},TAC_262KHZ:{description:"every 4 M-cycles = ~262 KHz on DMG",value:"%000000_01"},TAC_65KHZ:{description:"every 16 M-cycles = ~65 KHz on DMG",value:"%000000_10"},TAC_16KHZ:{description:"every 64 M-cycles = ~16 KHz on DMG",value:"%000000_11"}}},rIF:{value:"$FF0F",description:"Pending interrupts",flags:{B_IF_JOYPAD:{description:"1 = joypad interrupt is pending [r/w]",value:"4"},B_IF_SERIAL:{description:"1 = serial interrupt is pending [r/w]",value:"3"},B_IF_TIMER:{description:"1 = timer interrupt is pending [r/w]",value:"2"},B_IF_STAT:{description:"1 = STAT interrupt is pending [r/w]",value:"1"},B_IF_VBLANK:{description:"1 = VBlank interrupt is pending [r/w]",value:"0"},IF_JOYPAD:{description:"1 = joypad interrupt is pending [r/w]",value:"%00010000"},IF_SERIAL:{description:"1 = serial interrupt is pending [r/w]",value:"%00001000"},IF_TIMER:{description:"1 = timer interrupt is pending [r/w]",value:"%00000100"},IF_STAT:{description:"1 = STAT interrupt is pending [r/w]",value:"%00000010"},IF_VBLANK:{description:"1 = VBlank interrupt is pending [r/w]",value:"%00000001"}}},rAUD1SWEEP:{value:"$FF10",alias:"rNR10",description:"Audio channel 1 sweep",flags:{AUD1SWEEP_TIME:{description:"how long between sweep iterations (in 128 Hz ticks, ~7.8 ms apart) [r/w]",value:"%0_111_0000"},B_AUD1SWEEP_DIR:{description:"sweep direction [r/w]",value:"3"},AUD1SWEEP_DIR:{description:"sweep direction [r/w]",value:"%00001000"},AUD1SWEEP_UP:{description:"sweep up",value:"%00000000"},AUD1SWEEP_DOWN:{description:"sweep down",value:"%00001000"},AUD1SWEEP_SHIFT:{description:"how much the period increases/decreases per iteration [r/w]",value:"%00000_111"}}},rAUD1LEN:{value:"$FF11",alias:"rNR11",description:"Audio channel 1 length timer and duty cycle",flags:{AUD1LEN_DUTY:{description:"ratio of time spent high vs. time spent low [r/w]",value:"%11_000000"},AUD1LEN_DUTY_12_5:{description:"12.5%",value:"%00_000000"},AUD1LEN_DUTY_25:{description:"25%",value:"%01_000000"},AUD1LEN_DUTY_50:{description:"50%",value:"%10_000000"},AUD1LEN_DUTY_75:{description:"75%",value:"%11_000000"},AUD1LEN_TIMER:{description:"initial length timer (0-63) [wo]",value:"%00_111111"}}},rAUD1ENV:{value:"$FF12",alias:"rNR12",description:"Audio channel 1 volume and envelope",flags:{AUD1ENV_INIT_VOLUME:{description:"initial volume [r/w]",value:"%1111_0000"},B_AUD1ENV_DIR:{description:"direction of volume envelope [r/w]",value:"3"},AUD1ENV_DIR:{description:"direction of volume envelope [r/w]",value:"%00001000"},AUD1ENV_DOWN:{description:"volume envelope down",value:"%00000000"},AUD1ENV_UP:{description:"volume envelope up",value:"%00001000"},AUD1ENV_PACE:{description:"how long between envelope iterations (in 64 Hz ticks, ~15.6 ms apart) [r/w]",value:"%00000_111"}}},rAUD1LOW:{value:"$FF13",alias:"rNR13",description:"Audio channel 1 period (low 8 bits) [wo]"},rAUD1HIGH:{value:"$FF14",alias:"rNR14",description:"Audio channel 1 period (high 3 bits) and control",flags:{B_AUD1HIGH_RESTART:{description:"1 = restart the channel [wo]",value:"7"},B_AUD1HIGH_LEN_ENABLE:{description:"1 = reset the channel after the length timer expires [r/w]",value:"6"},AUD1HIGH_RESTART:{description:"restart the channel",value:"%10000000"},AUD1HIGH_LENGTH_OFF:{description:"do not reset the channel after the length timer expires",value:"%00000000"},AUD1HIGH_LENGTH_ON:{description:"reset the channel after the length timer expires",value:"%01000000"},AUD1HIGH_PERIOD_HIGH:{description:"upper 3 bits of the channel's period [r/w]",value:"%00000_111"}}},rAUD2LEN:{value:"$FF16",alias:"rNR21",description:"Audio channel 2 length timer and duty cycle",flags:{AUD2LEN_DUTY:{description:"ratio of time spent high vs. time spent low [r/w]",value:"%11_000000"},AUD2LEN_DUTY_12_5:{description:"12.5%",value:"%00_000000"},AUD2LEN_DUTY_25:{description:"25%",value:"%01_000000"},AUD2LEN_DUTY_50:{description:"50%",value:"%10_000000"},AUD2LEN_DUTY_75:{description:"75%",value:"%11_000000"},AUD2LEN_TIMER:{description:"initial length timer (0-63) [wo]",value:"%00_111111"}}},rAUD2ENV:{value:"$FF17",alias:"rNR22",description:"Audio channel 2 volume and envelope",flags:{AUD2ENV_INIT_VOLUME:{description:"initial volume [r/w]",value:"%1111_0000"},B_AUD2ENV_DIR:{description:"direction of volume envelope [r/w]",value:"3"},AUD2ENV_DIR:{description:"direction of volume envelope [r/w]",value:"%00001000"},AUD2ENV_DOWN:{description:"volume envelope down",value:"%00000000"},AUD2ENV_UP:{description:"volume envelope up",value:"%00001000"},AUD2ENV_PACE:{description:"how long between envelope iterations (in 64 Hz ticks, ~15.6 ms apart) [r/w]",value:"%00000_111"}}},rAUD2LOW:{value:"$FF18",alias:"rNR23",description:"Audio channel 2 period (low 8 bits) [wo]"},rAUD2HIGH:{value:"$FF19",alias:"rNR24",description:"Audio channel 2 period (high 3 bits) and control",flags:{B_AUD2HIGH_RESTART:{description:"1 = restart the channel [wo]",value:"7"},B_AUD2HIGH_LEN_ENABLE:{description:"1 = reset the channel after the length timer expires [r/w]",value:"6"},AUD2HIGH_RESTART:{description:"1 = restart the channel [wo]",value:"%10000000"},AUD2HIGH_LENGTH_OFF:{description:"do not reset the channel after the length timer expires",value:"%00000000"},AUD2HIGH_LENGTH_ON:{description:"reset the channel after the length timer expires",value:"%01000000"},AUD2HIGH_PERIOD_HIGH:{description:"upper 3 bits of the channel's period [r/w]",value:"%00000_111"}}},rAUD3ENA:{value:"$FF1A",alias:"rNR30",description:"Audio channel 3 enable",flags:{B_AUD3ENA_ENABLE:{description:"1 = channel is active [r/w]",value:"7"},AUD3ENA_OFF:{description:"channel is inactive",value:"%00000000"},AUD3ENA_ON:{description:"channel is active",value:"%10000000"}}},rAUD3LEN:{value:"$FF1B",alias:"rNR31",description:"Audio channel 3 length timer [wo]"},rAUD3LEVEL:{value:"$FF1C",alias:"rNR32",description:"Audio channel 3 volume",flags:{AUD3LEVEL_VOLUME:{description:"volume level [r/w]",value:"%0_11_00000"},AUD3LEVEL_MUTE:{description:"0% (muted)",value:"%0_00_00000"},AUD3LEVEL_100:{description:"100%",value:"%0_01_00000"},AUD3LEVEL_50:{description:"50%",value:"%0_10_00000"},AUD3LEVEL_25:{description:"25%",value:"%0_11_00000"}}},rAUD3LOW:{value:"$FF1D",alias:"rNR33",description:"Audio channel 3 period (low 8 bits) [wo]"},rAUD3HIGH:{value:"$FF1E",alias:"rNR34",description:"Audio channel 3 period (high 3 bits) and control",flags:{B_AUD3HIGH_RESTART:{description:"1 = restart the channel [wo]",value:"7"},B_AUD3HIGH_LEN_ENABLE:{description:"1 = reset the channel after the length timer expires [r/w]",value:"6"},AUD3HIGH_RESTART:{description:"1 = restart the channel [wo]",value:"%10000000"},AUD3HIGH_LENGTH_OFF:{description:"do not reset the channel after the length timer expires",value:"%00000000"},AUD3HIGH_LENGTH_ON:{description:"reset the channel after the length timer expires",value:"%01000000"},AUD3HIGH_PERIOD_HIGH:{description:"upper 3 bits of the channel's period [r/w]",value:"%00000_111"}}},rAUD4LEN:{value:"$FF20",alias:"rNR41",description:"Audio channel 4 length timer",flags:{AUD4LEN_TIMER:{description:"initial length timer (0-63) [wo]",value:"%00_111111"}}},rAUD4ENV:{value:"$FF21",alias:"rNR42",description:"Audio channel 4 volume and envelope",flags:{AUD4ENV_INIT_VOLUME:{description:"initial volume [r/w]",value:"%1111_0000"},B_AUD4ENV_DIR:{description:"direction of volume envelope [r/w]",value:"3"},AUD4ENV_DIR:{description:"direction of volume envelope [r/w]",value:"%00001000"},AUD4ENV_DOWN:{description:"volume envelope down",value:"%00000000"},AUD4ENV_UP:{description:"volume envelope up",value:"%00001000"},AUD4ENV_PACE:{description:"how long between envelope iterations (in 64 Hz ticks, ~15.6 ms apart) [r/w]",value:"%00000_111"}}},rAUD4POLY:{value:"$FF22",alias:"rNR43",description:"Audio channel 4 period and randomness",flags:{AUD4POLY_SHIFT:{description:"coarse control of the channel's period [r/w]",value:"%1111_0000"},B_AUD4POLY_WIDTH:{description:"controls the noise generator (LFSR)'s step width [r/w]",value:"3"},AUD4POLY_15STEP:{description:"15-bit step width",value:"%00000000"},AUD4POLY_7STEP:{description:"7-bit step width",value:"%00001000"},AUD4POLY_DIV:{description:"fine control of the channel's period [r/w]",value:"%00000_111"}}},rAUD4GO:{value:"$FF23",alias:"rNR44",description:"Audio channel 4 control",flags:{B_AUD4GO_RESTART:{description:"1 = restart the channel [wo]",value:"7"},B_AUD4GO_LEN_ENABLE:{description:"1 = reset the channel after the length timer expires [r/w]",value:"6"},AUD4GO_RESTART:{description:"1 = restart the channel [wo]",value:"%10000000"},AUD4GO_LENGTH_OFF:{description:"do not reset the channel after the length timer expires",value:"%00000000"},AUD4GO_LENGTH_ON:{description:"reset the channel after the length timer expires",value:"%01000000"}}},rAUDVOL:{value:"$FF24",alias:"rNR50",description:"Audio master volume and VIN mixer",flags:{B_AUDVOL_VIN_LEFT:{description:"1 = output VIN to left ear (SO2, speaker 2) [r/w]",value:"7"},AUDVOL_VIN_LEFT:{description:"1 = output VIN to left ear (SO2, speaker 2) [r/w]",value:"%10000000"},AUDVOL_LEFT:{description:"0 = barely audible, 7 = full volume [r/w]",value:"%0_111_0000"},B_AUDVOL_VIN_RIGHT:{description:"1 = output VIN to right ear (SO1, speaker 1) [r/w]",value:"3"},AUDVOL_VIN_RIGHT:{description:"1 = output VIN to right ear (SO1, speaker 1) [r/w]",value:"%00001000"},AUDVOL_RIGHT:{description:"0 = barely audible, 7 = full volume [r/w]",value:"%00000_111"}}},rAUDTERM:{value:"$FF25",alias:"rNR51",description:"Audio channel mixer",flags:{B_AUDTERM_4_LEFT:{description:"1 = output channel 4 to left ear [r/w]",value:"7"},B_AUDTERM_3_LEFT:{description:"1 = output channel 3 to left ear [r/w]",value:"6"},B_AUDTERM_2_LEFT:{description:"1 = output channel 2 to left ear [r/w]",value:"5"},B_AUDTERM_1_LEFT:{description:"1 = output channel 1 to left ear [r/w]",value:"4"},B_AUDTERM_4_RIGHT:{description:"1 = output channel 4 to right ear [r/w]",value:"3"},B_AUDTERM_3_RIGHT:{description:"1 = output channel 3 to right ear [r/w]",value:"2"},B_AUDTERM_2_RIGHT:{description:"1 = output channel 2 to right ear [r/w]",value:"1"},B_AUDTERM_1_RIGHT:{description:"1 = output channel 1 to right ear [r/w]",value:"0"},AUDTERM_4_LEFT:{description:"1 = output channel 4 to left ear [r/w]",value:"%10000000"},AUDTERM_3_LEFT:{description:"1 = output channel 3 to left ear [r/w]",value:"%01000000"},AUDTERM_2_LEFT:{description:"1 = output channel 2 to left ear [r/w]",value:"%00100000"},AUDTERM_1_LEFT:{description:"1 = output channel 1 to left ear [r/w]",value:"%00010000"},AUDTERM_4_RIGHT:{description:"1 = output channel 4 to right ear [r/w]",value:"%00001000"},AUDTERM_3_RIGHT:{description:"1 = output channel 3 to right ear [r/w]",value:"%00000100"},AUDTERM_2_RIGHT:{description:"1 = output channel 2 to right ear [r/w]",value:"%00000010"},AUDTERM_1_RIGHT:{description:"1 = output channel 1 to right ear [r/w]",value:"%00000001"}}},rAUDENA:{value:"$FF26",alias:"rNR52",description:"Audio master enable",flags:{B_AUDENA_ENABLE:{description:"0 = disable the APU (resets all audio registers to 0!) [r/w]",value:"7"},B_AUDENA_ENABLE_CH4:{description:"1 = channel 4 is running [ro]",value:"3"},B_AUDENA_ENABLE_CH3:{description:"1 = channel 3 is running [ro]",value:"2"},B_AUDENA_ENABLE_CH2:{description:"1 = channel 2 is running [ro]",value:"1"},B_AUDENA_ENABLE_CH1:{description:"1 = channel 1 is running [ro]",value:"0"},AUDENA_OFF:{description:"disable the APU (resets all audio registers to 0!)",value:"%00000000"},AUDENA_ON:{description:"enable the APU",value:"%10000000"},AUDENA_CH4_OFF:{description:"channel 4 is not running",value:"%00000000"},AUDENA_CH4_ON:{description:"channel 4 is running",value:"%00001000"},AUDENA_CH3_OFF:{description:"channel 3 is not running",value:"%00000000"},AUDENA_CH3_ON:{description:"channel 3 is running",value:"%00000100"},AUDENA_CH2_OFF:{description:"channel 2 is not running",value:"%00000000"},AUDENA_CH2_ON:{description:"channel 2 is running",value:"%00000010"},AUDENA_CH1_OFF:{description:"channel 1 is not running",value:"%00000000"},AUDENA_CH1_ON:{description:"channel 1 is running",value:"%00000001"}}},AUD1RAM:{description:"Audio channel 1 RAM address",value:"$FF10"},AUD2RAM:{description:"Audio channel 2 RAM address",value:"$FF15"},AUD3RAM:{description:"Audio channel 3 RAM address",value:"$FF1A"},AUD4RAM:{description:"Audio channel 4 RAM address",value:"$FF1F"},AUDRAM_SIZE:{description:"size of each audio channel RAM in bytes",value:"5"},_AUD3WAVERAM:{value:"$FF30",description:"Audio channel 3 wave pattern RAM [r/w]",flags:{rAUD3WAVE_0:{description:"wave pattern RAM byte 0",value:"$FF30"},rAUD3WAVE_1:{description:"wave pattern RAM byte 1",value:"$FF31"},rAUD3WAVE_2:{description:"wave pattern RAM byte 2",value:"$FF32"},rAUD3WAVE_3:{description:"wave pattern RAM byte 3",value:"$FF33"},rAUD3WAVE_4:{description:"wave pattern RAM byte 4",value:"$FF34"},rAUD3WAVE_5:{description:"wave pattern RAM byte 5",value:"$FF35"},rAUD3WAVE_6:{description:"wave pattern RAM byte 6",value:"$FF36"},rAUD3WAVE_7:{description:"wave pattern RAM byte 7",value:"$FF37"},rAUD3WAVE_8:{description:"wave pattern RAM byte 8",value:"$FF38"},rAUD3WAVE_9:{description:"wave pattern RAM byte 9",value:"$FF39"},rAUD3WAVE_A:{description:"wave pattern RAM byte 10",value:"$FF3A"},rAUD3WAVE_B:{description:"wave pattern RAM byte 11",value:"$FF3B"},rAUD3WAVE_C:{description:"wave pattern RAM byte 12",value:"$FF3C"},rAUD3WAVE_D:{description:"wave pattern RAM byte 13",value:"$FF3D"},rAUD3WAVE_E:{description:"wave pattern RAM byte 14",value:"$FF3E"},rAUD3WAVE_F:{description:"wave pattern RAM byte 15",value:"$FF3F"},AUD3WAVE_SIZE:{description:"wave pattern RAM size in bytes",value:"16"}}},rLCDC:{value:"$FF40",description:"PPU graphics control",flags:{B_LCDC_ENABLE:{description:"whether the PPU (and LCD) are turned on [r/w]",value:"7"},B_LCDC_WIN_MAP:{description:"which tilemap the Window reads from [r/w]",value:"6"},B_LCDC_WINDOW:{description:"whether the Window is enabled [r/w]",value:"5"},B_LCDC_BLOCKS:{description:'which "tile blocks" the BG and Window use [r/w]',value:"4"},B_LCDC_BG_MAP:{description:"which tilemap the BG reads from [r/w]",value:"3"},B_LCDC_OBJ_SIZE:{description:"how many pixels tall each OBJ is [r/w]",value:"2"},B_LCDC_OBJS:{description:"whether OBJs are enabled [r/w]",value:"1"},B_LCDC_BG:{description:"(DMG only) whether the BG is enabled [r/w]",value:"0"},B_LCDC_PRIO:{description:"(CGB only) whether OBJ priority bits are enabled [r/w]",value:"0"},LCDC_ENABLE:{description:"whether the PPU (and LCD) are turned on [r/w]",value:"%10000000"},LCDC_OFF:{description:"the PPU (and LCD) are turned off",value:"%00000000"},LCDC_ON:{description:"the PPU (and LCD) are turned on",value:"%10000000"},LCDC_WIN_MAP:{description:"which tilemap the Window reads from [r/w]",value:"%01000000"},LCDC_WIN_9800:{description:"the Window reads from TILEMAP0 ($9800)",value:"%00000000"},LCDC_WIN_9C00:{description:"the Window reads from TILEMAP1 ($9C00)",value:"%01000000"},LCDC_WINDOW:{description:"whether the Window is enabled [r/w]",value:"%00100000"},LCDC_WIN_OFF:{description:"the Window is disabled",value:"%00000000"},LCDC_WIN_ON:{description:"the Window is enabled",value:"%00100000"},LCDC_BLOCKS:{description:'which "tile blocks" the BG and Window use [r/w]',value:"%00010000"},LCDC_BLOCK21:{description:'the BG and Window use "tile blocks" 2 and 1',value:"%00000000"},LCDC_BLOCK01:{description:'the BG and Window use "tile blocks" 0 and 1',value:"%00010000"},LCDC_BG_MAP:{description:"which tilemap the BG reads from [r/w]",value:"%00001000"},LCDC_BG_9800:{description:"the BG reads from TILEMAP0 ($9800)",value:"%00000000"},LCDC_BG_9C00:{description:"the BG reads from TILEMAP1 ($9C00)",value:"%00001000"},LCDC_OBJ_SIZE:{description:"how many pixels tall each OBJ is [r/w]",value:"%00000100"},LCDC_OBJ_8:{description:"each OBJ is 8 pixels tall",value:"%00000000"},LCDC_OBJ_16:{description:"each OBJ is 16 pixels tall",value:"%00000100"},LCDC_OBJS:{description:"whether OBJs are enabled [r/w]",value:"%00000010"},LCDC_OBJ_OFF:{description:"OBJs are disabled",value:"%00000000"},LCDC_OBJ_ON:{description:"OBJs are enabled",value:"%00000010"},LCDC_BG:{description:"(DMG only) whether the BG is enabled [r/w]",value:"%00000001"},LCDC_BG_OFF:{description:"the BG is disabled",value:"%00000000"},LCDC_BG_ON:{description:"the BG is enabled",value:"%00000001"},LCDC_PRIO:{description:"(CGB only) whether OBJ priority bits are enabled [r/w]",value:"%00000001"},LCDC_PRIO_OFF:{description:"OBJ priority bits are disabled",value:"%00000000"},LCDC_PRIO_ON:{description:"OBJ priority bits are enabled",value:"%00000001"}}},rSTAT:{value:"$FF41",description:"Graphics status and interrupt control",flags:{B_STAT_LYC:{description:"1 = LY match triggers the STAT interrupt [r/w]",value:"6"},B_STAT_MODE_2:{description:"1 = OAM Scan triggers the PPU interrupt [r/w]",value:"5"},B_STAT_MODE_1:{description:"1 = VBlank triggers the PPU interrupt [r/w]",value:"4"},B_STAT_MODE_0:{description:"1 = HBlank triggers the PPU interrupt [r/w]",value:"3"},B_STAT_LYCF:{description:"1 = LY is currently equal to LYC [ro]",value:"2"},B_STAT_BUSY:{description:"1 = the PPU is currently accessing VRAM [ro]",value:"1"},STAT_LYC:{description:"1 = LY match triggers the STAT interrupt [r/w]",value:"%01000000"},STAT_MODE_2:{description:"1 = OAM Scan triggers the PPU interrupt [r/w]",value:"%00100000"},STAT_MODE_1:{description:"1 = VBlank triggers the PPU interrupt [r/w]",value:"%00010000"},STAT_MODE_0:{description:"1 = HBlank triggers the PPU interrupt [r/w]",value:"%00001000"},STAT_LYCF:{description:"1 = LY is currently equal to LYC [ro]",value:"%00000100"},STAT_BUSY:{description:"1 = the PPU is currently accessing VRAM [ro]",value:"%00000010"},STAT_MODE:{description:"PPU's current status [ro]",value:"%000000_11"},STAT_HBLANK:{description:"waiting after a line's rendering (HBlank)",value:"%000000_00"},STAT_VBLANK:{description:"waiting between frames (VBlank)",value:"%000000_01"},STAT_OAM:{description:"checking which OBJs will be rendered on this line (OAM scan)",value:"%000000_10"},STAT_LCD:{description:"pushing pixels to the LCD",value:"%000000_11"}}},rSCY:{value:"$FF42",description:"Background Y scroll offset (in pixels) [r/w]"},rSCX:{value:"$FF43",description:"Background X scroll offset (in pixels) [r/w]"},rLY:{value:"$FF44",description:"Y coordinate of the line currently processed by the PPU (0-153) [ro]",flags:{LY_VBLANK:{description:"144-153 is the VBlank period",value:"144"}}},rLYC:{value:"$FF45",description:"Value that LY is constantly compared to [r/w]"},rDMA:{value:"$FF46",description:"OAM DMA start address (high 8 bits) and start [wo]"},rBGP:{value:"$FF47",description:"(DMG only) Background color mapping [r/w]",flags:{BGP_SGB_TRANSFER:{description:"set BGP to this value before SGB VRAM transfer",value:"%11_10_01_00"}}},rOBP0:{value:"$FF48",description:"(DMG only) OBJ color mapping #0 [r/w]"},rOBP1:{value:"$FF49",description:"(DMG only) OBJ color mapping #1 [r/w]"},rWY:{value:"$FF4A",description:"Y coordinate of the Window's top-left pixel (0-143) [r/w]"},rWX:{value:"$FF4B",description:"X coordinate of the Window's top-left pixel, plus 7 (7-166) [r/w]",flags:{WX_OFS:{description:"subtract this to get the actual Window X coordinate",value:"7"}}},rSYS:{value:"$FF4C",alias:"rKEY0",description:"(CGB boot ROM only) CPU mode select",flags:{SYS_MODE:{description:"current system mode [r/w]",value:"%0000_11_00"},SYS_CGB:{description:"CGB mode",value:"%0000_00_00"},SYS_DMG:{description:"DMG compatibility mode",value:"%0000_01_00"},SYS_PGB1:{description:"LCD is driven externally, CPU is stopped",value:"%0000_10_00"},SYS_PGB2:{description:"LCD is driven externally, CPU is running",value:"%0000_11_00"}}},rSPD:{value:"$FF4D",alias:"rKEY1",description:"(CGB only) Double-speed mode control",flags:{B_SPD_DOUBLE:{description:"current clock speed [ro]",value:"7"},B_SPD_PREPARE:{description:"1 = next `stop` instruction will switch clock speeds [r/w]",value:"0"},SPD_SINGLE:{description:"single-speed clock",value:"%00000000"},SPD_DOUBLE:{description:"double-speed clock",value:"%10000000"},SPD_PREPARE:{description:"1 = next `stop` instruction will switch clock speeds [r/w]",value:"%00000001"}}},rVBK:{value:"$FF4F",description:"(CGB only) VRAM bank number (0 or 1)",flags:{VBK_BANK:{description:"mapped VRAM bank [r/w]",value:"%0000000_1"}}},rBANK:{value:"$FF50",description:"(boot ROM only) Boot ROM mapping control",flags:{B_BANK_ON:{description:"whether the boot ROM is mapped [wo]",value:"0"},BANK_ON:{description:"the boot ROM is mapped",value:"%00000000"},BANK_OFF:{description:"the boot ROM is not mapped",value:"%00000001"}}},rVDMA_SRC_HIGH:{value:"$FF51",alias:"rHDMA1",description:"(CGB only) VRAM DMA source address (high 8 bits) [wo]"},rVDMA_SRC_LOW:{value:"$FF52",alias:"rHDMA2",description:"(CGB only) VRAM DMA source address (low 8 bits) [wo]"},rVDMA_DEST_HIGH:{value:"$FF53",alias:"rHDMA3",description:"(CGB only) VRAM DMA destination address (high 8 bits) [wo]"},rVDMA_DEST_LOW:{value:"$FF54",alias:"rHDMA4",description:"(CGB only) VRAM DMA destination address (low 8 bits) [wo]"},rVDMA_LEN:{value:"$FF55",alias:"rHDMA5",description:"(CGB only) VRAM DMA length, mode, and start",flags:{B_VDMA_LEN_MODE:{description:"on write: VRAM DMA mode [wo]",value:"7"},VDMA_LEN_MODE:{description:"on write: VRAM DMA mode [wo]",value:"%10000000"},VDMA_LEN_MODE_GENERAL:{description:"GDMA (general-purpose)",value:"%00000000"},VDMA_LEN_MODE_HBLANK:{description:"HDMA (HBlank)",value:"%10000000"},B_VDMA_LEN_BUSY:{description:"on read: is a VRAM DMA active?",value:"7"},VDMA_LEN_BUSY:{description:"on read: is a VRAM DMA active?",value:"%10000000"},VDMA_LEN_NO:{description:"a VRAM DMA is not active",value:"%00000000"},VDMA_LEN_YES:{description:"a VRAM DMA is active",value:"%10000000"},VDMA_LEN_SIZE:{description:"how many 16-byte blocks (minus 1) to transfer [r/w]",value:"%0_1111111"}}},rRP:{value:"$FF56",description:"(CGB only) Infrared communications port",flags:{RP_READ:{description:"whether the IR read is enabled [r/w]",value:"%11_000000"},RP_DISABLE:{description:"the IR read is disabled",value:"%00_000000"},RP_ENABLE:{description:"the IR read is enabled",value:"%11_000000"},B_RP_DATA_IN:{description:"0 = IR light is being received [ro]",value:"1"},B_RP_LED_ON:{description:"1 = IR light is being sent [r/w]",value:"0"},RP_DATA_IN:{description:"0 = IR light is being received [ro]",value:"%00000010"},RP_LED_ON:{description:"1 = IR light is being sent [r/w]",value:"%00000001"},RP_WRITE_LOW:{description:"IR light is not being sent",value:"%00000000"},RP_WRITE_HIGH:{description:"IR light is being sent",value:"%00000001"}}},rBGPI:{value:"$FF68",alias:"rBCPS",description:"(CGB only) Background palette I/O index",flags:{B_BGPI_AUTOINC:{description:"whether the index field is incremented after each write to BCPD [r/w]",value:"7"},BGPI_AUTOINC:{description:"whether the index field is incremented after each write to BCPD [r/w]",value:"%10000000"},BGPI_INDEX:{description:"the index within Palette RAM accessed via BCPD [r/w]",value:"%00_111111"}}},rBGPD:{value:"$FF69",alias:"rBCPD",description:"(CGB only) Background palette I/O access [r/w]"},rOBPI:{value:"$FF6A",alias:"rOCPS",description:"(CGB only) OBJ palette I/O index",flags:{B_OBPI_AUTOINC:{description:"whether the index field is incremented after each write to OBPD [r/w]",value:"7"},OBPI_AUTOINC:{description:"whether the index field is incremented after each write to OBPD [r/w]",value:"%10000000"},OBPI_INDEX:{description:"the index within Palette RAM accessed via OBPD [r/w]",value:"%00_111111"}}},rOBPD:{value:"$FF6B",alias:"rOCPD",description:"(CGB only) OBJ palette I/O access [r/w]"},rOPRI:{value:"$FF6C",description:"(CGB boot ROM only) OBJ draw priority mode",flags:{B_OPRI_PRIORITY:{description:"which drawing priority is used for OBJs [r/w]",value:"0"},OPRI_PRIORITY:{description:"which drawing priority is used for OBJs [r/w]",value:"%00000001"},OPRI_OAM:{description:"CGB mode default: earliest OBJ in OAM wins",value:"%00000000"},OPRI_COORD:{description:"DMG mode default: leftmost OBJ wins",value:"%00000001"}}},rWBK:{value:"$FF70",alias:"rSVBK",description:"(CGB only) WRAM bank number",flags:{WBK_BANK:{description:"mapped WRAM bank (0-7) [r/w]",value:"%00000_111"}}},rPCM12:{value:"$FF76",description:"Audio channels 1 and 2 output",flags:{PCM12_CH2:{description:"audio channel 2 output [ro]",value:"%1111_0000"},PCM12_CH1:{description:"audio channel 1 output [ro]",value:"%0000_1111"}}},rPCM34:{value:"$FF77",description:"Audio channels 3 and 4 output",flags:{PCM34_CH4:{description:"audio channel 4 output [ro]",value:"%1111_0000"},PCM34_CH3:{description:"audio channel 3 output [ro]",value:"%0000_1111"}}},rIE:{value:"$FFFF",description:"Interrupt enable",flags:{B_IE_JOYPAD:{description:"1 = joypad interrupt is enabled [r/w]",value:"4"},B_IE_SERIAL:{description:"1 = serial interrupt is enabled [r/w]",value:"3"},B_IE_TIMER:{description:"1 = timer interrupt is enabled [r/w]",value:"2"},B_IE_STAT:{description:"1 = STAT interrupt is enabled [r/w]",value:"1"},B_IE_VBLANK:{description:"1 = VBlank interrupt is enabled [r/w]",value:"0"},IE_JOYPAD:{description:"1 = joypad interrupt is enabled [r/w]",value:"%00010000"},IE_SERIAL:{description:"1 = serial interrupt is enabled [r/w]",value:"%00001000"},IE_TIMER:{description:"1 = timer interrupt is enabled [r/w]",value:"%00000100"},IE_STAT:{description:"1 = STAT interrupt is enabled [r/w]",value:"%00000010"},IE_VBLANK:{description:"1 = VBlank interrupt is enabled [r/w]",value:"%00000001"}}},rRAMG:{value:"$0000",description:"Whether SRAM can be accessed [wo]",flags:{RAMG_SRAM_DISABLE:{description:"SRAM cannot be accessed (not for HuC1 or HuC-3)",value:"$00"},RAMG_SRAM_ENABLE:{description:"SRAM can be accessed (not for HuC1 or HuC-3)",value:"$0A"},RAMG_CART_RAM_RO:{description:"(HuC-3 only) select cartridge RAM [ro]",value:"$00"},RAMG_CART_RAM:{description:"(HuC-3 only) select cartridge RAM [r/w]",value:"$0A"},RAMG_RTC_IN:{description:"(HuC-3 only) select RTC command/argument [wo]",value:"$0B"},RAMG_RTC_IN_CMD:{description:"(HuC-3 only) RTC command",value:"%0_111_0000"},RAMG_RTC_IN_ARG:{description:"(HuC-3 only) RTC argument",value:"%0_000_1111"},RAMG_RTC_OUT:{description:"(HuC-3 only) select RTC command/response [ro]",value:"$0C"},RAMG_RTC_OUT_CMD:{description:"(HuC-3 only) RTC command",value:"%0_111_0000"},RAMG_RTC_OUT_RESULT:{description:"(HuC-3 only) RTC result",value:"%0_000_1111"},RAMG_RTC_SEMAPHORE:{description:"(HuC-3 only) select RTC semaphore [r/w]",value:"$0D"},RAMG_IR:{description:"(HuC1 and HuC-3 only) select IR [r/w]",value:"$0E"}}},rROMB:{value:"$2000",description:"ROM bank number (not for MBC5 or MBC6) [wo]"},rRAMB:{value:"$4000",description:"SRAM bank number (not for MBC2, MBC6, or MBC7) [wo]",flags:{RAMB_RTC_S:{description:"(MBC3 only) seconds counter (0-59)",value:"$08"},RAMB_RTC_M:{description:"(MBC3 only) minutes counter (0-59)",value:"$09"},RAMB_RTC_H:{description:"(MBC3 only) hours counter (0-23)",value:"$0A"},RAMB_RTC_DL:{description:"(MBC3 only) days counter, low byte (0-255)",value:"$0B"},RAMB_RTC_DH:{description:"(MBC3 only) days counter, high bit and other flags",value:"$0C"},B_RAMB_RTC_DH_CARRY:{description:"(MBC3 only) 1 = days counter overflowed [wo]",value:"7"},B_RAMB_RTC_DH_HALT:{description:"(MBC3 only) 0 = run timer, 1 = stop timer [wo]",value:"6"},B_RAMB_RTC_DH_HIGH:{description:"(MBC3 only) days counter, high bit (bit 8) [wo]",value:"0"},RAMB_RTC_DH_CARRY:{description:"(MBC3 only) 1 = days counter overflowed [wo]",value:"%10000000"},RAMB_RTC_DH_HALT:{description:"(MBC3 only) 0 = run timer, 1 = stop timer [wo]",value:"%01000000"},RAMB_RTC_DH_HIGH:{description:"(MBC3 only) days counter, high bit (bit 8) [wo]",value:"%00000001"},B_RAMB_RUMBLE:{description:"(MBC5 and MBC7 only) enable the rumble motor (if any)",value:"3"},RAMB_RUMBLE:{description:"(MBC5 and MBC7 only) enable the rumble motor (if any)",value:"%00001000"},RAMB_RUMBLE_OFF:{description:"(MBC5 and MBC7 only) disable the rumble motor (if any)",value:"%00000000"},RAMB_RUMBLE_ON:{description:"(MBC5 and MBC7 only) enable the rumble motor (if any)",value:"%00001000"}}},rBMODE:{value:"$6000",description:"(MBC1 and MMM01 only) Banking mode select [wo]",flags:{BMODE_SIMPLE:{description:"locks ROMB and RAMB to bank 0",value:"$00"},BMODE_ADVANCED:{description:"allows bank-switching with RAMB",value:"$01"}}},rROM2B:{value:"$2100",description:"(MBC2 only) ROM bank number [wo]"},rRTCLATCH:{value:"$6000",description:"(MBC3 only) RTC latch clock data [wo]",flags:{RTCLATCH_START:{description:"Write $00 then $01 to latch the current time into RTCREG",value:"$00"},RTCLATCH_FINISH:{description:"Write $00 then $01 to latch the current time into RTCREG",value:"$01"}}},rRTCREG:{value:"$A000",description:"(MBC3 only) RTC register [r/w]"},rROMB0:{value:"$2000",description:"(MBC5 only) ROM bank number low byte (bits 0-7) [wo]"},rROMB1:{value:"$3000",description:"(MBC5 only) ROM bank number high bit (bit 8) [wo]"},rRAMBA:{value:"$0400",description:"(MBC6 only) RAM bank A number [wo]"},rRAMBB:{value:"$0800",description:"(MBC6 only) RAM bank B number [wo]"},rFLASH:{value:"$0C00",description:"(MBC6 only) Whether the flash chip can be accessed [wo]"},rFMODE:{value:"$1000",description:"(MBC6 only) Write mode select for the flash chip"},rROMBA:{value:"$2000",description:"(MBC6 only) ROM/Flash bank A number [wo]"},rFLASHA:{value:"$2800",description:"(MBC6 only) ROM/Flash bank A select [wo]"},rROMBB:{value:"$3000",description:"(MBC6 only) ROM/Flash bank B number [wo]"},rFLASHB:{value:"$3800",description:"(MBC6 only) ROM/Flash bank B select [wo]"},rRAMREG:{value:"$4000",description:"(MBC7 only) Enable RAM register access [wo]",flags:{RAMREG_ENABLE:{description:"Enable RAM register access",value:"$40"}}},rACCLATCH0:{value:"$A000",description:"(MBC7 only) Latch accelerometer start [wo]",flags:{ACCLATCH0_START:{description:"Write $55 to ACCLATCH0 to erase the latched data",value:"$55"}}},rACCLATCH1:{value:"$A010",description:"(MBC7 only) Latch accelerometer finish [wo]",flags:{ACCLATCH1_FINISH:{description:"Write $AA to ACCLATCH1 to latch the accelerometer and update ACCEL*",value:"$AA"}}},rACCELX0:{value:"$A020",description:"(MBC7 only) Accelerometer X value low byte [ro]"},rACCELX1:{value:"$A030",description:"(MBC7 only) Accelerometer X value high byte [ro]"},rACCELY0:{value:"$A040",description:"(MBC7 only) Accelerometer Y value low byte [ro]"},rACCELY1:{value:"$A050",description:"(MBC7 only) Accelerometer Y value high byte [ro]"},rEEPROM:{value:"$A080",description:"(MBC7 only) EEPROM access [r/w]"},rIRREG:{value:"$A000",description:"(HuC1 only) IR register [r/w]",flags:{IR_LED_OFF:{description:"(HuC1 only) the IR transmitter does not see light",value:"$C0"},IR_LED_ON:{description:"(HuC1 only) the IR transmitter sees light",value:"$C1"}}},SCREEN_WIDTH_PX:{description:"width of screen in pixels",value:"160"},SCREEN_HEIGHT_PX:{description:"height of screen in pixels",value:"144"},SCREEN_WIDTH:{description:"width of screen in bytes",value:"20"},SCREEN_HEIGHT:{description:"height of screen in bytes",value:"18"},SCREEN_AREA:{description:"size of screen in bytes",value:"360"},TILEMAP_WIDTH_PX:{description:"width of tilemap in pixels",value:"256"},TILEMAP_HEIGHT_PX:{description:"height of tilemap in pixels",value:"256"},TILEMAP_WIDTH:{description:"width of tilemap in bytes",value:"32"},TILEMAP_HEIGHT:{description:"height of tilemap in bytes",value:"32"},TILEMAP_AREA:{description:"size of tilemap in bytes",value:"1024"},TILE_WIDTH:{description:"width of tile in pixels",value:"8"},TILE_HEIGHT:{description:"height of tile in pixels",value:"8"},TILE_SIZE:{description:"size of tile in bytes (2 bits/pixel)",value:"16"},COLOR_SIZE:{description:"size of color in bytes (little-endian BGR555)",value:"2"},PAL_COLORS:{description:"colors per palette",value:"4"},PAL_SIZE:{description:"size of palette in bytes",value:"8"},COLOR_CH_WIDTH:{description:"bits per RGB color channel",value:"5"},COLOR_CH_MAX:{description:"maximum value of RGB color channel",value:"31"},B_COLOR_RED:{description:"color bits 4-0",value:"0"},B_COLOR_GREEN:{description:"color bits 9-5",value:"5"},B_COLOR_BLUE:{description:"color bits 14-10",value:"10"},COLOR_RED:{description:"for the low color byte",value:"%000_11111"},COLOR_GREEN_LOW:{description:"for the low color byte",value:"%111_00000"},COLOR_GREEN_HIGH:{description:"for the high color byte",value:"%0_00000_11"},COLOR_BLUE:{description:"for the high color byte",value:"%0_11111_00"},SHADE_WHITE:{description:"(DMG only) grayscale shade index 0 (for BGP, OBP0, and OBP1)",value:"%00"},SHADE_LIGHT:{description:"(DMG only) grayscale shade index 1 (for BGP, OBP0, and OBP1)",value:"%01"},SHADE_DARK:{description:"(DMG only) grayscale shade index 2 (for BGP, OBP0, and OBP1)",value:"%10"},SHADE_BLACK:{description:"(DMG only) grayscale shade index 3 (for BGP, OBP0, and OBP1)",value:"%11"},TILEMAP0:{description:"$9800-$9BFF",value:"$9800"},TILEMAP1:{description:"$9C00-$9FFF",value:"$9C00"},B_BG_PRIO:{description:"(CGB only) whether the BG tile colors 1-3 are drawn above OBJs",value:"7"},B_BG_YFLIP:{description:"(CGB only) whether the whole BG tile is flipped vertically",value:"6"},B_BG_XFLIP:{description:"(CGB only) whether the whole BG tile is flipped horizontally",value:"5"},B_BG_BANK1:{description:"(CGB only) which VRAM bank the BG tile is taken from",value:"3"},BG_PALETTE:{description:"(CGB only) which palette the BG tile uses",value:"%00000_111"},BG_PRIO:{description:"(CGB only) whether the BG tile colors 1-3 are drawn above OBJs",value:"%10000000"},BG_YFLIP:{description:"(CGB only) whether the whole BG tile is flipped vertically",value:"%01000000"},BG_XFLIP:{description:"(CGB only) whether the whole BG tile is flipped horizontally",value:"%00100000"},BG_BANK0:{description:"(CGB only) the BG tile is taken from VRAM bank 0",value:"%00000000"},BG_BANK1:{description:"(CGB only) the BG tile is taken from VRAM bank 1",value:"%00001000"},OAMA_Y:{description:"OAM attribute field offset for OBJ Y coordinate",value:"0",flags:{OAM_Y_OFS:{description:"subtract 16 from what's written to OAM to get the real Y position",value:"16"}}},OAMA_X:{description:"OAM attribute field offset for OBJ X coordinate",value:"1",flags:{OAM_X_OFS:{description:"subtract 8 from what's written to OAM to get the real X position",value:"8"}}},OAMA_TILEID:{description:"OAM attribute field offset for OBJ tile ID",value:"2"},OAMA_FLAGS:{description:"OAM attribute field offset for OBJ attribute flags",value:"3",flags:{B_OAM_PRIO:{description:"whether the OBJ is drawn below BG colors 1-3",value:"7"},B_OAM_YFLIP:{description:"whether the whole OBJ is flipped vertically",value:"6"},B_OAM_XFLIP:{description:"whether the whole OBJ is flipped horizontally",value:"5"},B_OAM_PAL1:{description:"(DMG only) which of the two palettes the OBJ uses",value:"4"},B_OAM_BANK1:{description:"(CGB only) which VRAM bank the OBJ takes its tile(s) from",value:"3"},OAM_PALETTE:{description:"(CGB only) which palette the OBJ uses",value:"%00000_111"},OAM_PRIO:{description:"whether the OBJ is drawn below BG colors 1-3",value:"%10000000"},OAM_YFLIP:{description:"whether the whole OBJ is flipped vertically",value:"%01000000"},OAM_XFLIP:{description:"whether the whole OBJ is flipped horizontally",value:"%00100000"},OAM_PAL0:{description:"(DMG only) which of the two palettes the OBJ uses",value:"%00000000"},OAM_PAL1:{description:"(DMG only) which of the two palettes the OBJ uses",value:"%00010000"},OAM_BANK0:{description:"(CGB only) which VRAM bank the OBJ takes its tile(s) from",value:"%00000000"},OAM_BANK1:{description:"(CGB only) which VRAM bank the OBJ takes its tile(s) from",value:"%00001000"}}},OBJ_SIZE:{description:"size of OBJ in bytes",value:"4"},OAM_COUNT:{description:"how many OBJs there are room for in OAM",value:"40"},OAM_SIZE:{description:"size of OAM RAM in bytes",value:"160"},INT_HANDLER_VBLANK:{description:"VBlank interrupt handler address",value:"$0040"},INT_HANDLER_STAT:{description:"STAT interrupt handler address",value:"$0048"},INT_HANDLER_TIMER:{description:"timer interrupt handler address",value:"$0050"},INT_HANDLER_SERIAL:{description:"serial interrupt handler address",value:"$0058"},INT_HANDLER_JOYPAD:{description:"joypad interrupt handler address",value:"$0060"},BOOTUP_A_DMG:{description:"Register A = CPU type",value:"$01"},BOOTUP_A_CGB:{description:"Register A = CPU type",value:"$11"},BOOTUP_A_MGB:{description:"Register A = CPU type",value:"$FF"},BOOTUP_A_SGB:{description:"Register A = CPU type",value:"$01"},BOOTUP_A_SGB2:{description:"Register A = CPU type",value:"$FF"},B_BOOTUP_B_AGB:{description:"Register B = CPU qualifier (if A is BOOTUP_A_CGB)",value:"0"},BOOTUP_B_CGB:{description:"Register B = CPU qualifier (if A is BOOTUP_A_CGB)",value:"%00000000"},BOOTUP_B_AGB:{description:"Register B = CPU qualifier (if A is BOOTUP_A_CGB)",value:"%00000001"},BOOTUP_C_DMG:{description:"Register C = CPU qualifier",value:"$13"},BOOTUP_C_SGB:{description:"Register C = CPU qualifier",value:"$14"},BOOTUP_C_CGB:{description:"Register C = CPU qualifier (CGB or AGB)",value:"$00"},BOOTUP_D_MONO:{description:"Register D = color qualifier (DMG, MGB, SGB, or CGB or AGB in DMG mode)",value:"$00"},BOOTUP_D_COLOR:{description:"Register D = color qualifier (CGB or AGB)",value:"$FF"},BOOTUP_E_DMG0:{description:"Register E = CPU qualifier",value:"$C1"},BOOTUP_E_DMG:{description:"Register E = CPU qualifier",value:"$C8"},BOOTUP_E_SGB:{description:"Register E = CPU qualifier",value:"$00"},BOOTUP_E_CGB_DMGMODE:{description:"Register E = CPU qualifier (CGB or AGB in DMG mode)",value:"$08"},BOOTUP_E_CGB:{description:"Register E = CPU qualifier (CGB or AGB)",value:"$56"},B_PAD_DOWN:{description:"whether Down is pressed",value:"7"},B_PAD_UP:{description:"whether Up is pressed",value:"6"},B_PAD_LEFT:{description:"whether Left is pressed",value:"5"},B_PAD_RIGHT:{description:"whether Right is pressed",value:"4"},B_PAD_START:{description:"whether Start is pressed",value:"3"},B_PAD_SELECT:{description:"whether Select is pressed",value:"2"},B_PAD_B:{description:"whether B is pressed",value:"1"},B_PAD_A:{description:"whether A is pressed",value:"0"},PAD_CTRL_PAD:{description:"whether any Control Pad directions are pressed",value:"%1111_0000"},PAD_BUTTONS:{description:"whether any buttons are pressed",value:"%0000_1111"},PAD_DOWN:{description:"whether Down is pressed",value:"%10000000"},PAD_UP:{description:"whether Up is pressed",value:"%01000000"},PAD_LEFT:{description:"whether Left is pressed",value:"%00100000"},PAD_RIGHT:{description:"whether Right is pressed",value:"%00010000"},PAD_START:{description:"whether Start is pressed",value:"%00001000"},PAD_SELECT:{description:"whether Select is pressed",value:"%00000100"},PAD_B:{description:"whether B is pressed",value:"%00000010"},PAD_A:{description:"whether A is pressed",value:"%00000001"},B_PAD_SWAP_START:{description:"whether Start is pressed",value:"7"},B_PAD_SWAP_SELECT:{description:"whether Select is pressed",value:"6"},B_PAD_SWAP_B:{description:"whether B is pressed",value:"5"},B_PAD_SWAP_A:{description:"whether A is pressed",value:"4"},B_PAD_SWAP_DOWN:{description:"whether Down is pressed",value:"3"},B_PAD_SWAP_UP:{description:"whether Up is pressed",value:"2"},B_PAD_SWAP_LEFT:{description:"whether Left is pressed",value:"1"},B_PAD_SWAP_RIGHT:{description:"whether Right is pressed",value:"0"},PAD_SWAP_CTRL_PAD:{description:"whether any Control Pad directions are pressed",value:"%0000_1111"},PAD_SWAP_BUTTONS:{description:"whether any buttons are pressed",value:"%1111_0000"},PAD_SWAP_START:{description:"whether Start is pressed",value:"%10000000"},PAD_SWAP_SELECT:{description:"whether Select is pressed",value:"%01000000"},PAD_SWAP_B:{description:"whether B is pressed",value:"%00100000"},PAD_SWAP_A:{description:"whether A is pressed",value:"%00010000"},PAD_SWAP_DOWN:{description:"whether Down is pressed",value:"%00001000"},PAD_SWAP_UP:{description:"whether Up is pressed",value:"%00000100"},PAD_SWAP_LEFT:{description:"whether Left is pressed",value:"%00000010"},PAD_SWAP_RIGHT:{description:"whether Right is pressed",value:"%00000001"}};for(var bt in et){if(typeof et[bt].flags=="string"&&(et[bt].flags=et[et[bt].flags].flags),et[bt].flags)for(var Fr in et[bt].flags)et[Fr]=et[bt].flags[Fr];et[bt].alias&&(et[et[bt].alias]=Object.assign({},et[bt]),et[et[bt].alias].alias=bt)}const{TextHighlightRules:Wi}=await xn("ace/mode/text_highlight_rules"),zi="\\b(?:"+Object.keys(et).join("|")+")\\b";class Gi extends Wi{constructor(){super(),this.$rules={start:[{token:"keyword.control.assembly",regex:"\\b(?:ADC|ADD|AND|BIT|CALL|CCF|CP|CPL|DAA|DEC|DI|EI|HALT|INC|JP|JR|LD|LDD|LDH|LDI|LDIO|NOP|OR|POP|PUSH|RES|RET|RETI|RL|RLA|RLC|RLCA|RR|RRA|RRC|RRCA|RST|SBC|SCF|SET|SLA|SRA|SRL|STOP|SUB|SWAP|XOR)\\b",caseInsensitive:!0},{token:"keyword.control.sections",regex:"\\b(?:HRAM|OAM|ROM0|ROMX|SRAM|VRAM|WRAM0|WRAMX)\\b",caseInsensitive:!0},{token:"keyword.control.reserved",regex:"\\b(?:ACOS|ALIGN|ASIN|ASSERT|ATAN|ATAN2|BANK|BITWIDTH|BREAK|CEIL|CHARCMP|CHARLEN|CHARMAP|CHARSIZE|CHARSUB|CHARVAL|COS|DB|DEF|DIV|DL|DS|DW|ELIF|ELSE|ENDC|ENDL|ENDM|ENDR|ENDSECTION|ENDU|EQU|EQUS|EXPORT|FAIL|FATAL|FLOOR|FMOD|FOR|FRAGMENT|HIGH|IF|INCBIN|INCHARMAP|INCLUDE|ISCONST|LOAD|LOG|LOW|MACRO|MUL|NEWCHARMAP|NEXTU|OPT|POPC|POPO|POPS|POW|PRINT|PRINTLN|PURGE|PUSHC|PUSHO|PUSHS|RB|REDEF|REPT|REVCHAR|ROUND|RSRESET|RSSET|RW|SECTION|SETCHARMAP|SHIFT|SIN|SIZEOF|STARTOF|STATIC_ASSERT|STRCAT|STRCHAR|STRCMP|STRFIND|STRFMT|STRIN|STRLEN|STRLWR|STRRFIND|STRRIN|STRRPL|STRSLICE|STRSUB|STRUPR|TAN|TZCOUNT|UNION|WARN)\\b",caseInsensitive:!0},{token:"variable.constant",regex:zi,caseInsensitive:!0},{token:"variable.parameter.register.assembly",regex:"\\b(?:A|B|C|D|E|H|L|AF|BC|DE|HL|HLD|HLI|SP)\\b",caseInsensitive:!0},{token:"variable.parameter.condition.assembly",regex:"\\b(?:Z|NZ|NC)\\b",caseInsensitive:!0},{token:"constant.numeric.decimal.assembly",regex:"\\b[0-9]+\\b"},{token:"constant.numeric.binary.assembly",regex:"\\%[0-1]+\\b"},{token:"constant.numeric.binary.assembly",regex:"\\b0b[0-1]+\\b",caseInsensitive:!0},{token:"constant.numeric.quaternary.assembly",regex:"\\`[0-3]+\\b"},{token:"constant.numeric.octal.assembly",regex:"\\&[0-7]+\\b"},{token:"constant.numeric.octal.assembly",regex:"\\b0o[0-7]+\\b",caseInsensitive:!0},{token:"constant.numeric.hexadecimal.assembly",regex:"\\$[0-9A-F]+\\b",caseInsensitive:!0},{token:"constant.numeric.hexadecimal.assembly",regex:"\\b0x[0-9A-F]+\\b",caseInsensitive:!0},{token:"string.assembly",regex:/"([^\\"]|\\.)*"/},{token:"entity.name.function.assembly",regex:"^\\s*%%[\\w.]+?:$"},{token:"entity.name.function.assembly",regex:"^\\s*%\\$[\\w.]+?:$"},{token:"entity.name.function.assembly",regex:"^[\\w.]+?:"},{token:"comment.assembly",regex:";.*$"}]},this.normalizeRules()}static metaData={fileTypes:["asm"],name:"Game Boy SM83",scopeName:"source.assembly"}}const{FoldMode:qi}=await xn("ace/mode/folding/coffee");class Vi extends qi{constructor(){super()}getFoldWidgetRange(Q,f,B){var z=this.indentationBlock(Q,B);if(z)return z;var M=/\S/,b=Q.getLine(B),_=b.search(M);if(!(_==-1||b[_]!="#")){for(var s=b.length,d=Q.getLength(),o=B,n=B;++B<d;){b=Q.getLine(B);var i=b.search(M);if(i!=-1){if(b[i]!="#")break;n=B}}if(n>o){var t=Q.getLine(n).length;return new ace.Range(o,s,n,t)}}}getFoldWidget(Q,f,B){var z=Q.getLine(B),M=z.search(/\S/),b=Q.getLine(B+1),_=Q.getLine(B-1),s=_.search(/\S/),d=b.search(/\S/);if(M==-1)return Q.foldWidgets[B-1]=s!=-1&&s<d?"start":"","";if(s==-1){if(M==d&&z[M]=="#"&&b[M]=="#")return Q.foldWidgets[B-1]="",Q.foldWidgets[B+1]="","start"}else if(s==M&&z[M]=="#"&&_[M]=="#"&&Q.getLine(B-2).search(/\S/)==-1)return Q.foldWidgets[B-1]="start",Q.foldWidgets[B+1]="","";return s!=-1&&s<M?Q.foldWidgets[B-1]="start":Q.foldWidgets[B-1]="",M<d?"start":""}}const{Mode:ji}=await xn("ace/mode/text");class Yi extends ji{static lineCommentStart=[";"];static $id="ace/mode/sm83";constructor(){super(),this.HighlightRules=Gi,this.foldingRules=new Vi,this.$behaviour=this.$defaultBehaviour}}ace.define("ace/mode/sm83",["exports"],te=>Object.assign(te,{Mode:Yi}));const{Tooltip:Nr}=await xn("ace/tooltip"),Pr=await xn("ace/lib/event");class Ki extends Nr{token={};range=new On.Range;constructor(Q){super(Q.container),!Q.tokenTooltip&&(Q.tokenTooltip=this,this.editor=Q,this.update=this.update.bind(this),this.onMouseMove=this.onMouseMove.bind(this),this.onMouseOut=this.onMouseOut.bind(this),Pr.addListener(Q.renderer.scroller,"mousemove",this.onMouseMove),Pr.addListener(Q.renderer.content,"mouseout",this.onMouseOut))}update(){this.$timer=null;var Q=this.editor.renderer;this.lastT-(Q.timeStamp||0)>1e3&&(Q.rect=null,Q.timeStamp=this.lastT,this.maxHeight=window.innerHeight,this.maxWidth=window.innerWidth);var f=Q.rect||(Q.rect=Q.scroller.getBoundingClientRect()),B=(this.x+Q.scrollLeft-f.left-Q.$padding)/Q.characterWidth,z=Math.floor((this.y+Q.scrollTop-f.top)/Q.lineHeight),M=Math.round(B),b={row:z,column:M},_=this.editor.session,s=_.screenToDocumentPosition(b.row,b.column),d=_.getTokenAt(s.row,s.column);if(!d&&!_.getLine(s.row)&&(d={type:"",value:"",state:_.bgTokenizer.getState(0)}),!d){this.hide();return}var o="";if(d.type=="variable.constant"&&d.value in et){var n=et[d.value];if(o=n.description,n.value&&(o+=`
Value: `+n.value),n.flags){o+=`
`;for(var i in n.flags)o+=`
`+i+": "+n.flags[i].description}}else{this.hide();return}this.tokenText!=o&&(this.setText(o),this.width=this.getWidth(),this.height=this.getHeight(),this.tokenText=o),this.show(null,this.x,this.y),this.token=d}onMouseMove(Q){this.x=Q.clientX,this.y=Q.clientY,this.isOpen&&(this.lastT=Q.timeStamp,this.setPosition(this.x,this.y)),this.$timer||(this.$timer=setTimeout(this.update,100))}onMouseOut(Q){Q&&Q.currentTarget.contains(Q.relatedTarget)||(this.hide(),this.$timer=clearTimeout(this.$timer))}setPosition(Q,f){Q+10+this.width>this.maxWidth&&(Q=window.innerWidth-this.width-10),(f>window.innerHeight*.75||f+20+this.height>this.maxHeight)&&(f=f-this.height-30),Nr.prototype.setPosition.call(this,Q+10,f+20)}destroy(){this.onMouseOut(),event.removeListener(this.editor.renderer.scroller,"mousemove",this.onMouseMove),event.removeListener(this.editor.renderer.content,"mouseout",this.onMouseOut),delete this.editor.tokenTooltip}}var Ji=[{name:"adc a, r8",description:"a = a + r8 + carry",optionalA:!0,cycles:1,bytes:1,flags:{z:"Set if result is 0",n:"0",h:"Set if overflow from bit 3",c:"Set if overflow from bit 7"}},{name:"adc a, [hl]",description:"a = a + [hl] + carry",optionalA:!0,cycles:2,bytes:1,flags:{z:"Set if result is 0",n:"0",h:"Set if overflow from bit 3",c:"Set if overflow from bit 7"}},{name:"adc a, n8",description:"a = a + n8 + carry",optionalA:!0,cycles:2,bytes:2,flags:{z:"Set if result is 0",n:"0",h:"Set if overflow from bit 3",c:"Set if overflow from bit 7"}},{name:"add a, r8",description:"a = a + r8",optionalA:!0,cycles:1,bytes:1,flags:{z:"Set if result is 0",n:"0",h:"Set if overflow from bit 3",c:"Set if overflow from bit 7"}},{name:"add a, [hl]",description:"a = a + [hl]",optionalA:!0,cycles:2,bytes:1,flags:{z:"Set if result is 0",n:"0",h:"Set if overflow from bit 3",c:"Set if overflow from bit 7"}},{name:"add a, n8",description:"a = a + n8",optionalA:!0,cycles:2,bytes:2,flags:{z:"Set if result is 0",n:"0",h:"Set if overflow from bit 3",c:"Set if overflow from bit 7"}},{name:"add hl, r16",description:"hl = hl + r16",cycles:2,bytes:1,flags:{n:"0",h:"Set if overflow from bit 11",c:"Set if overflow from bit 15"}},{name:"add hl, sp",description:"hl = hl + sp",cycles:2,bytes:1,flags:{n:"0",h:"Set if overflow from bit 11",c:"Set if overflow from bit 15"}},{name:"add sp, e8",description:"sp = sp + e8",cycles:4,bytes:2,flags:{z:"0",n:"0",h:"Set if overflow from bit 3",c:"Set if overflow from bit 7"}},{name:"and a, r8",description:"a = a & r8",optionalA:!0,cycles:1,bytes:1,flags:{z:"Set if result is 0",n:"0",h:"1",c:"0"}},{name:"and a, [hl]",description:"a = a & [hl]",optionalA:!0,cycles:2,bytes:1,flags:{z:"Set if result is 0",n:"0",h:"1",c:"0"}},{name:"and a, n8",description:"a = a & n8",optionalA:!0,cycles:2,bytes:2,flags:{z:"Set if result is 0",n:"0",h:"1",c:"0"}},{name:"bit u3, r8",description:"Sets Z if bit u3 in r8 is 0",cycles:2,bytes:2,flags:{z:"Set if selected bit is 0",n:"0",h:"1"}},{name:"bit u3, [hl]",description:"Sets Z if bit u3 in [hl] is 0",cycles:3,bytes:2,flags:{z:"Set if selected bit is 0",n:"0",h:"1"}},{name:"call n16",description:"Calls address n16",cycles:6,bytes:3,flags:{}},{name:"call cc, n16",description:"Calls address n16 if condition cc is met",cycles:"6/3",bytes:3,flags:{}},{name:"ccf",description:"Complements the carry flag",cycles:1,bytes:1,flags:{n:"0",h:"0",c:"Complemented"}},{name:"cp a, r8",description:"flags = a - r8",optionalA:!0,cycles:1,bytes:1,flags:{z:"Set if result is 0 (a == r8)",n:"1",h:"Set if no borrow from bit 4",c:"Set if no borrow (a < r8)"}},{name:"cp a, [hl]",description:"flags = a - [hl]",optionalA:!0,cycles:2,bytes:1,flags:{z:"Set if result is 0 (a == [hl])",n:"1",h:"Set if no borrow from bit 4",c:"Set if no borrow (a < [hl])"}},{name:"cp a, n8",description:"flags = a - n8",optionalA:!0,cycles:2,bytes:2,flags:{z:"Set if result is 0 (a == n8)",n:"1",h:"Set if no borrow from bit 4",c:"Set if no borrow (a < n8)"}},{name:"cpl",description:"a = ~a",cycles:1,bytes:1,flags:{n:"1",h:"1"}},{name:"daa",description:"Decimal adjusts a to correct BCD value after arithmetic",cycles:1,bytes:1,flags:{z:"Set if result is 0",h:"0",c:"Set or reset based on operation"}},{name:"dec r8",description:"r8 -= 1",cycles:1,bytes:1,flags:{z:"Set if result is 0",n:"1",h:"Set if no borrow from bit 4"}},{name:"dec [hl]",description:"[hl] -= 1",cycles:3,bytes:1,flags:{z:"Set if result is 0",n:"1",h:"Set if no borrow from bit 4"}},{name:"dec r16",description:"r16 -= 1",cycles:2,bytes:1,flags:{}},{name:"dec sp",description:"sp -= 1",cycles:2,bytes:1,flags:{}},{name:"di",description:"Disables interrupts",cycles:1,bytes:1,flags:{}},{name:"ei",description:"Enables interrupts",cycles:1,bytes:1,flags:{}},{name:"halt",description:"Puts the CPU into low power mode",cycles:"-",bytes:1,flags:{}},{name:"inc r8",description:"r8 += 1",cycles:1,bytes:1,flags:{z:"Set if result is 0",n:"0",h:"Set if overflow from bit 3"}},{name:"inc [hl]",description:"[hl] += 1",cycles:3,bytes:1,flags:{z:"Set if result is 0",n:"0",h:"Set if overflow from bit 3"}},{name:"inc r16",description:"r16 += 1",cycles:2,bytes:1,flags:{}},{name:"inc sp",description:"sp += 1",cycles:2,bytes:1,flags:{}},{name:"jp n16",description:"Jumps to address n16",cycles:4,bytes:3,flags:{}},{name:"jp cc, n16",description:"Jumps to address n16 if condition cc is met",cycles:"4/3",bytes:3,flags:{}},{name:"jp hl",description:"Jumps to address in hl",cycles:1,bytes:1,flags:{}},{name:"jr e8",description:"Relative jumps by adding e8 to pc",cycles:3,bytes:2,flags:{}},{name:"jr cc, e8",description:"Relative jumps by adding e8 to pc if condition cc is met",cycles:"3/2",bytes:2,flags:{}},{name:"ld r8, r8",description:"Copies the value from the right register into the left",cycles:1,bytes:1,flags:{}},{name:"ld r8, n8",description:"r8 = n8",cycles:2,bytes:2,flags:{}},{name:"ld r16, n16",description:"r16 = n16",cycles:3,bytes:3,flags:{}},{name:"ld [hl], r8",description:"[hl] = r8",cycles:2,bytes:1,flags:{}},{name:"ld [hl], n8",description:"[hl] = n8",cycles:3,bytes:2,flags:{}},{name:"ld r8, [hl]",description:"r8 = [hl]",cycles:2,bytes:1,flags:{}},{name:"ld [r16], a",description:"[r16] = a",cycles:2,bytes:1,flags:{}},{name:"ld [n16], a",description:"[n16] = a",cycles:4,bytes:3,flags:{}},{name:"ldh [$ff00+n8], a",description:"[$ff00+n8] = a",cycles:3,bytes:2,flags:{}},{name:"ld [$ff00+c], a",description:"[$ff00+c] = a",cycles:2,bytes:1,flags:{}},{name:"ld a, [r16]",description:"a = [r16]",cycles:2,bytes:1,flags:{}},{name:"ld a, [n16]",description:"a = [n16]",cycles:4,bytes:3,flags:{}},{name:"ldh a, [$ff00+n8]",description:"a = [$ff00+n8]",cycles:3,bytes:2,flags:{}},{name:"ld a, [$ff00+c]",description:"a = [$ff00+c]",cycles:2,bytes:1,flags:{}},{name:"ld [hl+], a",description:"[hl] = a, hl += 1",aliasHLI:!0,cycles:2,bytes:1,flags:{}},{name:"ld [hl-], a",description:"[hl] = a, hl -= 1",aliasHLD:!0,cycles:2,bytes:1,flags:{}},{name:"ld a, [hl+]",description:"a = [hl], hl += 1",aliasHLI:!0,cycles:2,bytes:1,flags:{}},{name:"ld a, [hl-]",description:"a = [hl], hl -= 1",aliasHLD:!0,cycles:2,bytes:1,flags:{}},{name:"ld sp, n16",description:"sp = n16",cycles:3,bytes:3,flags:{}},{name:"ld [n16], sp",description:"[n16, n16 + 1] = sp",cycles:5,bytes:3,flags:{}},{name:"ld hl, sp+e8",description:"hl = sp + e8",cycles:3,bytes:2,flags:{z:"0",n:"0",h:"Set if overflow from bit 3",c:"Set if overflow from bit 7"}},{name:"ld sp, hl",description:"sp = hl",cycles:2,bytes:1,flags:{}},{name:"nop",description:"No operation",cycles:1,bytes:1,flags:{}},{name:"or a, r8",description:"a = a | r8",optionalA:!0,cycles:1,bytes:1,flags:{z:"Set if result is 0",n:"0",h:"0",c:"0"}},{name:"or a, [hl]",description:"a = a | [hl]",optionalA:!0,cycles:2,bytes:1,flags:{z:"Set if result is 0",n:"0",h:"0",c:"0"}},{name:"or a, n8",description:"a = a | n8",optionalA:!0,cycles:2,bytes:2,flags:{z:"Set if result is 0",n:"0",h:"0",c:"0"}},{name:"pop af",description:"Pops the stack into af",cycles:3,bytes:1,flags:{}},{name:"pop r16",description:"Pops the stack into r16",cycles:3,bytes:1,flags:{}},{name:"push af",description:"Pushes af onto the stack",cycles:4,bytes:1,flags:{}},{name:"push r16",description:"Pushes r16 onto the stack",cycles:4,bytes:1,flags:{}},{name:"res u3, r8",description:"Sets the bit u3 in r8 to 0",cycles:2,bytes:2,flags:{}},{name:"res u3, [hl]",description:"Sets the bit u3 in [hl] to 0",cycles:4,bytes:2,flags:{}},{name:"ret",description:"Returns from the current subroutine",cycles:4,bytes:1,flags:{}},{name:"ret cc",description:"Returns from the current subroutine if condition cc is met",cycles:"5/2",bytes:1,flags:{}},{name:"reti",description:"Returns from the current subroutine and enables interrupts",cycles:4,bytes:1,flags:{}},{name:"rl r8",description:"Rotates r8 left, sets bit 0 to carry, sets carry to old bit 7",cycles:2,bytes:2,flags:{z:"Set if result is 0",n:"0",h:"0",c:"Set to old bit 7"}},{name:"rl [hl]",description:"Rotates [hl] left, sets bit 0 to carry, sets carry to old bit 7",cycles:4,bytes:2,flags:{z:"Set if result is 0",n:"0",h:"0",c:"Set to old bit 7"}},{name:"rla",description:"Rotates a left, sets bit 0 to carry, sets carry to old bit 7",cycles:1,bytes:1,flags:{z:"0",n:"0",h:"0",c:"Set to old bit 7"}},{name:"rlc r8",description:"Rotates r8 left, sets bit 0 and carry to old bit 7",cycles:2,bytes:2,flags:{z:"Set if result is 0",n:"0",h:"0",c:"Set to old bit 7"}},{name:"rlc [hl]",description:"Rotates [hl] left, sets bit 0 and carry to old bit 7",cycles:4,bytes:2,flags:{z:"Set if result is 0",n:"0",h:"0",c:"Set to old bit 7"}},{name:"rlca",description:"Rotates a left, sets bit 0 and carry to old bit 7",cycles:1,bytes:1,flags:{z:"0",n:"0",h:"0",c:"Set to old bit 7"}},{name:"rr r8",description:"Rotates r8 right, sets bit 7 to carry, sets carry to old bit 0",cycles:2,bytes:2,flags:{z:"Set if result is 0",n:"0",h:"0",c:"Set to old bit 0"}},{name:"rr [hl]",description:"Rotates [hl] right, sets bit 7 to carry, sets carry to old bit 0",cycles:4,bytes:2,flags:{z:"Set if result is 0",n:"0",h:"0",c:"Set to old bit 0"}},{name:"rra",description:"Rotates a right, sets bit 7 to carry, sets carry to old bit 0",cycles:1,bytes:1,flags:{z:"0",n:"0",h:"0",c:"Set to old bit 0"}},{name:"rrc r8",description:"Rotates r8 right, sets bit 7 and carry to old bit 0",cycles:2,bytes:2,flags:{z:"Set if result is 0",n:"0",h:"0",c:"Set to old bit 0"}},{name:"rrc [hl]",description:"Rotates [hl] right, sets bit 7 and carry to old bit 0",cycles:4,bytes:2,flags:{z:"Set if result is 0",n:"0",h:"0",c:"Set to old bit 0"}},{name:"rrca",description:"Rotates a right, sets bit 7 and carry to old bit 0",cycles:1,bytes:1,flags:{z:"0",n:"0",h:"0",c:"Set to old bit 0"}},{name:"rst vec",description:"Calls given reset vector",cycles:4,bytes:1,flags:{}},{name:"sbc a, r8",description:"a = a - r8 - c",optionalA:!0,cycles:1,bytes:1,flags:{z:"Set if result is 0",n:"1",h:"Set if no borrow from bit 4",c:"Set if no borrow"}},{name:"sbc a, [hl]",description:"a = a - [hl] - c",optionalA:!0,cycles:2,bytes:1,flags:{z:"Set if result is 0",n:"1",h:"Set if no borrow from bit 4",c:"Set if no borrow"}},{name:"sbc a, n8",description:"a = a - n8 - c",optionalA:!0,cycles:2,bytes:2,flags:{z:"Set if result is 0",n:"1",h:"Set if no borrow from bit 4",c:"Set if no borrow"}},{name:"scf",description:"Sets the carry flag to 1",cycles:1,bytes:1,flags:{n:"0",h:"0",c:"1"}},{name:"set u3, r8",description:"Sets the bit u3 in r8 to 1",cycles:2,bytes:2,flags:{}},{name:"set u3, [hl]",description:"Sets the bit u3 in [hl] to 1",cycles:4,bytes:2,flags:{}},{name:"sla r8",description:"Shifts r8 left, sets carry to old bit 7",cycles:2,bytes:2,flags:{z:"Set if result is 0",n:"0",h:"0",c:"Set to old bit 7"}},{name:"sla [hl]",description:"Shifts [hl] left, sets carry to old bit 7",cycles:4,bytes:2,flags:{z:"Set if result is 0",n:"0",h:"0",c:"Set to old bit 7"}},{name:"sra r8",description:"Shifts r8 right keeping bit 7 unchanged, sets carry to old bit 0",cycles:2,bytes:2,flags:{z:"Set if result is 0",n:"0",h:"0",c:"Set to old bit 0"}},{name:"sra [hl]",description:"Shifts [hl] right keeping bit 7 unchanged, sets carry to old bit 0",cycles:4,bytes:2,flags:{z:"Set if result is 0",n:"0",h:"0",c:"Set to old bit 0"}},{name:"srl r8",description:"Shifts r8 right, sets carry to old bit 0",cycles:2,bytes:2,flags:{z:"Set if result is 0",n:"0",h:"0",c:"Set to old bit 0"}},{name:"srl [hl]",description:"Shifts [hl] right, sets carry to old bit 0",cycles:4,bytes:2,flags:{z:"Set if result is 0",n:"0",h:"0",c:"Set to old bit 0"}},{name:"stop",description:"Puts the CPU into very low power mode",cycles:"-",bytes:"2",flags:{}},{name:"sub a, r8",description:"a = a - r8",optionalA:!0,cycles:1,bytes:1,flags:{z:"Set if result is 0 (a == r8)",n:"1",h:"Set if no borrow from bit 4",c:"Set if no borrow (a < r8)"}},{name:"sub a, [hl]",description:"a = a - [hl]",optionalA:!0,cycles:2,bytes:1,flags:{z:"Set if result is 0 (a == [hl])",n:"1",h:"Set if no borrow from bit 4",c:"Set if no borrow (a < [hl])"}},{name:"sub a, n8",description:"a = a - n8",optionalA:!0,cycles:2,bytes:2,flags:{z:"Set if result is 0 (a == n8)",n:"1",h:"Set if no borrow from bit 4",c:"Set if no borrow (a < n8)"}},{name:"swap r8",description:"Swaps the upper and lower 4 bits in r8",cycles:2,bytes:2,flags:{z:"Set if result is 0",n:"0",h:"0",c:"0"}},{name:"swap [hl]",description:"Swaps the upper and lower 4 bits in [hl]",cycles:4,bytes:2,flags:{z:"Set if result is 0",n:"0",h:"0",c:"0"}},{name:"xor a, r8",description:"a = a ^ r8",optionalA:!0,cycles:1,bytes:1,flags:{z:"Set if result is 0",n:"0",h:"0",c:"0"}},{name:"xor a, [hl]",description:"a = a ^ [hl]",optionalA:!0,cycles:2,bytes:1,flags:{z:"Set if result is 0",n:"0",h:"0",c:"0"}},{name:"xor a, n8",description:"a = a ^ n8",optionalA:!0,cycles:2,bytes:2,flags:{z:"Set if result is 0",n:"0",h:"0",c:"0"}}],jr=[];Ji.forEach(function(te){var Q="<table><tr><td colspan=2>"+te.description;Q+="<tr><td>cycles:<td>"+te.cycles,Q+="<tr><td>size:<td>"+te.bytes,Q+="<tr><td>Flag Z:<td>"+te.flags.z,Q+="<tr><td>Flag N:<td>"+te.flags.n,Q+="<tr><td>Flag H:<td>"+te.flags.H,Q+="<tr><td>Flag C:<td>"+te.flags.C;var f={caption:te.name,value:te.name,meta:"",docHTML:Q};f.completer={insertMatch:function(B,z){}},jr.push(f)});var Yr=[];for(var or in et){var Dt=et[or],Rn="";if(Dt.description&&(Rn=Dt.description.replace(`
`,"<br>")),Dt.value&&(Rn+="<br><b>Value:</b> "+Dt.value),Dt.flags)for(var Ur in Dt.flags)Rn+="<br><b>"+Ur+":</b> "+Dt.flags[Ur].description;Dt.alias&&(Rn+="<br><b>Alias:</b> "+Dt.alias);var Zi={caption:or,value:or,meta:"",docHTML:Rn};Yr.push(Zi)}var Xi={getCompletions:function(te,Q,f,B,z){var M=Q.getLine(f.row),b=M.substr(0,f.column-1).trim();b.trim()==""||b.trim().endsWith(":")?z(null,jr.filter(function(_){return _.value.startsWith(B.toLowerCase())})):z(null,Yr.filter(function(_){return _.value.toLowerCase().startsWith(B.toLowerCase())}))}};On.config.set("basePath","assets/ace");var tt=[],pt=null,Un=null,Hn=null,Pn=null,dn=[],sr={};const Qi=te=>{if(!window.matchMedia)return;const Q=window.matchMedia("(prefers-color-scheme: dark)");te(Q.matches),Q.addEventListener("change",f=>te(f.matches))};function Kr(te,Q){var f=On.edit(te);new Ki(f),Qi(B=>{f.setTheme(B?"ace/theme/tomorrow_night_eighties":"ace/theme/tomorrow")}),f.session.setMode("ace/mode/sm83"),f.setOptions({tabSize:2,useSoftTabs:!0,navigateWithinSoftTabs:!0,enableLiveAutocompletion:!0,enableSnippets:!0}),f.completers=[Xi],f.session.on("change",function(B){f.curOp&&f.curOp.command.name&&(Ft(pt,f.getValue()),Q())}),f.on("guttermousedown",function(B){var z=B.domEvent.target;if(z.className.indexOf("ace_gutter-cell")!=-1){var M=B.getDocumentPosition().row;no(pt,M+1),B.stop()}}),tt.push(f)}function Jr(te){pt!=null&&(sr[pt]=tt[0].selection.getCursor()),pt=te,tt[0].setValue(mt()[te]),tt[0].selection.clearSelection(),tt[0].session.getUndoManager().reset(),pt in sr?tt[0].selection.moveCursorToPosition(sr[pt]):tt[0].selection.moveCursorTo(0,0),tt[0].scrollToLine(tt[0].selection.getCursor().row,!0),tt[0].focus(),_r(),Xr()}function _r(){var te=[];for(var[Q,f,B,z]of ui())f==pt&&te.push({row:B-1,column:0,type:Q,text:z});tt[0].session.setAnnotations(te)}function Vn(te,Q,f){Un=te,Hn=Q,Xr(f)}function eo(te,Q){dn.push([te,Q]),Mr(),Zr()}function to(te,Q){dn=dn.filter(f=>f[0]!=te||f[1]!=Q),Mr(),Zr()}function no(te,Q){var f=dn.findIndex(B=>B[0]==te&&B[1]==Q);f>-1?to(te,Q):eo(te,Q)}function Zr(){tt[0].session.clearBreakpoints();for(var[te,Q,f]of dn)te==pt&&tt[0].session.setBreakpoint(Q-1,f?"ace_breakpoint":"ace_invalid_breakpoint")}function Xr(te){te&&pt!=null&&pt!=Un&&Jr(Un),Pn!=null&&(tt[0].session.removeMarker(Pn),Pn=null),Un==pt&&(Pn=tt[0].session.addMarker(new On.Range(Hn-1,0,Hn-1,1),"cpuLineMarker","fullLine"),te&&tt[0].scrollToLine(Hn-1,!0,!1,function(){}))}function ro(){return pt}function Qr(){return dn}function io(){tt[0].renderer.getContainerElement().style.display="none"}function oo(){tt[0].renderer.getContainerElement().style.display="",tt[0].resize(),tt[0].renderer.updateFull()}const so=Object.freeze(Object.defineProperty({__proto__:null,getBreakpoints:Qr,getCurrentFilename:ro,hide:io,register:Kr,setCpuLine:Vn,setCurrentFile:Jr,show:oo,updateErrors:_r},Symbol.toStringTag,{value:"Module"}));var Wn=[4290965700,4289247578,4285423646,4278197037],jn,kt,an,ot,It,hr,Yn=0;function ei(te){an=document.getElementById(te),ot=document.getElementById("gfxEditorTilesCanvas"),It=document.getElementById("gfxEditorDrawCanvas"),hr=document.getElementById("gfxEditorPalette"),new ResizeObserver(function(){ot.parentElement.style.maxWidth=an.clientWidth,ot.parentElement.style.maxHeight=an.clientHeight-300,ot.parentElement.style.display=""}).observe(an),It.onmousemove=function(Q){var f=Q.target.getBoundingClientRect(),B=~~((Q.clientX-f.left)/f.width*Q.target.width),z=~~((Q.clientY-f.top)/f.height*Q.target.height);Q.preventDefault(),Q.buttons!=0&&uo(B,z,Yn)},It.onmousedown=It.onmousemove,It.oncontextmenu=function(){return!1},hr.onmousedown=function(Q){var f=Q.target.getBoundingClientRect();~~((Q.clientX-f.left)/f.width*Q.target.width/16);var B=~~((Q.clientY-f.top)/f.height*Q.target.height/16);Q.preventDefault(),Yn=B,Hr()},Hr(),ot.onmousedown=function(Q){var f=Q.target.getBoundingClientRect(),B=~~((Q.clientX-f.left)/f.width*Q.target.width/8),z=~~((Q.clientY-f.top)/f.height*Q.target.height/8);Q.preventDefault(),Xn(B+z*16)}}function ao(te){jn=te,Xn(0);var Q=mt()[te],f=~~(Q.length/16),B=~~((f+15)/16);ot.width=16*8,ot.height=B*8,ot.style.width=ot.width*4;for(var z=ot.getContext("2d"),M=z.getImageData(0,0,ot.width,ot.height),b=new Uint32Array(M.data.buffer),_=ot.width,s=0;s<f;s++){var d=s%16,o=~~(s/16),n=d*8+o*8*_;yr(new Uint8Array(Q.buffer,s*16,16),b,n,_)}z.putImageData(M,0,0)}function lo(){an.style.display="none"}function co(){an.style.display=""}function Xn(te){var Q=mt()[jn];te>=Q.length/16&&(te=Q.length/16-1),kt=te;var f=It.getContext("2d"),B=f.getImageData(0,0,It.width,It.height),z=new Uint32Array(B.data.buffer);yr(new Uint8Array(Q.buffer,te*16,16),z,0,8),f.putImageData(B,0,0)}function yr(te,Q,f,B){for(var z=0;z<8;z++)for(var M=te[z*2],b=te[z*2+1],_=0;_<8;_++){var s=0;M&128>>_&&(s|=1),b&128>>_&&(s|=2),Q[f+_+z*B]=Wn[s]}}function uo(te,Q,f){var B=mt()[jn];f&1?B[kt*16+Q*2+0]|=128>>te:B[kt*16+Q*2+0]&=~(128>>te),f&2?B[kt*16+Q*2+1]|=128>>te:B[kt*16+Q*2+1]&=~(128>>te),Xn(kt),Ft(jn,B);var z=ot.getContext("2d"),M=z.getImageData(0,0,ot.width,ot.height),b=new Uint32Array(M.data.buffer),_=ot.width,s=kt%16,d=~~(kt/16),o=s*8+d*8*_;yr(new Uint8Array(B.buffer,kt*16,16),b,o,_),z.putImageData(M,0,0)}function Hr(){for(var te=hr.getContext("2d"),Q=0;Q<4;Q++)te.fillStyle="rgb("+(Wn[Q]&255)+", "+(Wn[Q]>>8&255)+", "+(Wn[Q]>>16&255)+")",te.fillRect(0,Q*16,16,16);te.strokeStyle="#FFF",te.beginPath(),te.rect(2.5,Yn*16+2.5,11,11),te.stroke(),te.strokeStyle="#000",te.beginPath(),te.rect(1.5,Yn*16+1.5,13,13),te.stroke()}const ho=Object.freeze(Object.defineProperty({__proto__:null,hide:lo,register:ei,setCurrentFile:ao,setTileIndex:Xn,show:co},Symbol.toStringTag,{value:"Module"}));var fo={hide:function(){document.getElementById("nullEditorDiv").style.display="none"},show:function(){document.getElementById("nullEditorDiv").style.display=""},setCurrentFile:function(){}},on=fo,ti="";function Kn(){return ti}function Vt(te){ti=te;var Q=on;return typeof mt()[te]=="string"?on=so:on=ho,Q!=on&&(Q.hide(),on.show()),on.setCurrentFile(te)}function fr(te){var Q=te.lastIndexOf(".");if(Q<0)return"binary";var f=te.substr(Q+1).toLowerCase();return f=="inc"||f=="asm"||f=="z80"||f=="h"||f=="c"||f=="cpp"||f=="hpp"||f=="txt"?"text":"binary"}const wr=`;******************************************************************************
; Game Boy hardware constant definitions
; https://github.com/gbdev/hardware.inc
;******************************************************************************

; To the extent possible under law, the authors of this work have
; waived all copyright and related or neighboring rights to the work.
; See https://creativecommons.org/publicdomain/zero/1.0/ for details.
; SPDX-License-Identifier: CC0-1.0

; If this file was already included, don't do it again
if !def(HARDWARE_INC)

; Check for the minimum supported RGBDS version
if !def(__RGBDS_MAJOR__) || !def(__RGBDS_MINOR__) || !def(__RGBDS_PATCH__)
    fail "This version of 'hardware.inc' requires RGBDS version 0.5.0 or later"
endc
if __RGBDS_MAJOR__ == 0 && __RGBDS_MINOR__ < 5
    fail "This version of 'hardware.inc' requires RGBDS version 0.5.0 or later."
endc

; Define the include guard and the current hardware.inc version
; (do this after the RGBDS version check since the \`def\` syntax depends on it)
def HARDWARE_INC equ 1
def HARDWARE_INC_VERSION equs "5.3.0"

; Usage: rev_Check_hardware_inc <min_ver>
; Examples:
;     rev_Check_hardware_inc 1.2.3
;     rev_Check_hardware_inc 1.2   (equivalent to 1.2.0)
;     rev_Check_hardware_inc 1     (equivalent to 1.0.0)
MACRO rev_Check_hardware_inc
    if _NARG == 1 ; Actual invocation by the user
        def hw_inc_cur_ver\\@ equs strrpl("{HARDWARE_INC_VERSION}", ".", ",")
        def hw_inc_min_ver\\@ equs strrpl("\\1", ".", ",")
        rev_Check_hardware_inc {hw_inc_cur_ver\\@}, {hw_inc_min_ver\\@}, 0, 0
        purge hw_inc_cur_ver\\@, hw_inc_min_ver\\@
    else ; Recursive invocation
        if \\1 != \\4 || (\\2 < \\5 || (\\2 == \\5 && \\3 < \\6))
            fail "Version \\1.\\2.\\3 of 'hardware.inc' is incompatible with requested version \\4.\\5.\\6"
        endc
    endc
ENDM


;******************************************************************************
; Memory-mapped registers ($FFxx range)
;******************************************************************************

; -- JOYP / P1 ($FF00) --------------------------------------------------------
; Joypad face buttons
def rJOYP equ $FF00

def B_JOYP_GET_BUTTONS  equ 5 ; 0 = reading buttons     [r/w]
def B_JOYP_GET_CTRL_PAD equ 4 ; 0 = reading Control Pad [r/w]
    def JOYP_GET equ %00_11_0000 ; select which inputs to read from the lower nybble
        def JOYP_GET_BUTTONS  equ %00_01_0000 ; reading A/B/Select/Start buttons
        def JOYP_GET_CTRL_PAD equ %00_10_0000 ; reading Control Pad directions
        def JOYP_GET_NONE     equ %00_11_0000 ; reading nothing

def B_JOYP_START  equ 3 ; 0 = Start is pressed  (if reading buttons)     [ro]
def B_JOYP_SELECT equ 2 ; 0 = Select is pressed (if reading buttons)     [ro]
def B_JOYP_B      equ 1 ; 0 = B is pressed      (if reading buttons)     [ro]
def B_JOYP_A      equ 0 ; 0 = A is pressed      (if reading buttons)     [ro]
def B_JOYP_DOWN   equ 3 ; 0 = Down is pressed   (if reading Control Pad) [ro]
def B_JOYP_UP     equ 2 ; 0 = Up is pressed     (if reading Control Pad) [ro]
def B_JOYP_LEFT   equ 1 ; 0 = Left is pressed   (if reading Control Pad) [ro]
def B_JOYP_RIGHT  equ 0 ; 0 = Right is pressed  (if reading Control Pad) [ro]
    def JOYP_INPUTS equ %0000_1111 ; bits equal to 0 indicate pressed (when reading inputs)
    def JOYP_START  equ 1 << B_JOYP_START
    def JOYP_SELECT equ 1 << B_JOYP_SELECT
    def JOYP_B      equ 1 << B_JOYP_B
    def JOYP_A      equ 1 << B_JOYP_A
    def JOYP_DOWN   equ 1 << B_JOYP_DOWN
    def JOYP_UP     equ 1 << B_JOYP_UP
    def JOYP_LEFT   equ 1 << B_JOYP_LEFT
    def JOYP_RIGHT  equ 1 << B_JOYP_RIGHT

; SGB command packet transfer uses for JOYP bits
def B_JOYP_SGB_ONE  equ 5 ; 0 = sending 1 bit
def B_JOYP_SGB_ZERO equ 4 ; 0 = sending 0 bit
    def JOYP_SGB_START  equ %00_00_0000 ; start SGB packet transfer
    def JOYP_SGB_ONE    equ %00_01_0000 ; send 1 bit
    def JOYP_SGB_ZERO   equ %00_10_0000 ; send 0 bit
    def JOYP_SGB_FINISH equ %00_11_0000 ; finish SGB packet transfer

; Combined input byte, with Control Pad in high nybble (conventional order)
def B_PAD_DOWN   equ 7
def B_PAD_UP     equ 6
def B_PAD_LEFT   equ 5
def B_PAD_RIGHT  equ 4
def B_PAD_START  equ 3
def B_PAD_SELECT equ 2
def B_PAD_B      equ 1
def B_PAD_A      equ 0
    def PAD_CTRL_PAD equ %1111_0000
    def PAD_BUTTONS  equ %0000_1111
    def PAD_DOWN     equ 1 << B_PAD_DOWN
    def PAD_UP       equ 1 << B_PAD_UP
    def PAD_LEFT     equ 1 << B_PAD_LEFT
    def PAD_RIGHT    equ 1 << B_PAD_RIGHT
    def PAD_START    equ 1 << B_PAD_START
    def PAD_SELECT   equ 1 << B_PAD_SELECT
    def PAD_B        equ 1 << B_PAD_B
    def PAD_A        equ 1 << B_PAD_A

; Combined input byte, with Control Pad in low nybble (swapped order)
def B_PAD_SWAP_START  equ 7
def B_PAD_SWAP_SELECT equ 6
def B_PAD_SWAP_B      equ 5
def B_PAD_SWAP_A      equ 4
def B_PAD_SWAP_DOWN   equ 3
def B_PAD_SWAP_UP     equ 2
def B_PAD_SWAP_LEFT   equ 1
def B_PAD_SWAP_RIGHT  equ 0
    def PAD_SWAP_CTRL_PAD equ %0000_1111
    def PAD_SWAP_BUTTONS  equ %1111_0000
    def PAD_SWAP_START    equ 1 << B_PAD_SWAP_START
    def PAD_SWAP_SELECT   equ 1 << B_PAD_SWAP_SELECT
    def PAD_SWAP_B        equ 1 << B_PAD_SWAP_B
    def PAD_SWAP_A        equ 1 << B_PAD_SWAP_A
    def PAD_SWAP_DOWN     equ 1 << B_PAD_SWAP_DOWN
    def PAD_SWAP_UP       equ 1 << B_PAD_SWAP_UP
    def PAD_SWAP_LEFT     equ 1 << B_PAD_SWAP_LEFT
    def PAD_SWAP_RIGHT    equ 1 << B_PAD_SWAP_RIGHT

; -- SB ($FF01) ---------------------------------------------------------------
; Serial transfer data [r/w]
def rSB equ $FF01

; -- SC ($FF02) ---------------------------------------------------------------
; Serial transfer control
def rSC equ $FF02

def B_SC_START  equ 7 ; reading 1 = transfer in progress, writing 1 = start transfer        [r/w]
def B_SC_SPEED  equ 1 ; (CGB only) 1 = use faster internal clock                            [r/w]
def B_SC_SOURCE equ 0 ; 0 = use external clock ("slave"), 1 = use internal clock ("master") [r/w]
    def SC_START  equ 1 << B_SC_START
    def SC_SPEED  equ 1 << B_SC_SPEED
        def SC_SLOW equ 0 << B_SC_SPEED
        def SC_FAST equ 1 << B_SC_SPEED
    def SC_SOURCE equ 1 << B_SC_SOURCE
        def SC_EXTERNAL equ 0 << B_SC_SOURCE
        def SC_INTERNAL equ 1 << B_SC_SOURCE

; -- $FF03 is unused ----------------------------------------------------------

; -- DIV ($FF04) --------------------------------------------------------------
; Divider register [r/w]
def rDIV equ $FF04

; -- TIMA ($FF05) -------------------------------------------------------------
; Timer counter [r/w]
def rTIMA equ $FF05

; -- TMA ($FF06) --------------------------------------------------------------
; Timer modulo [r/w]
def rTMA equ $FF06

; -- TAC ($FF07) --------------------------------------------------------------
; Timer control
def rTAC equ $FF07

def B_TAC_START equ 2 ; enable incrementing TIMA [r/w]
    def TAC_STOP  equ 0 << B_TAC_START
    def TAC_START equ 1 << B_TAC_START

def TAC_CLOCK equ %000000_11 ; the frequency at which TIMA increments [r/w]
    def TAC_4KHZ   equ %000000_00 ; every 256 M-cycles = ~4 KHz on DMG
    def TAC_262KHZ equ %000000_01 ; every 4 M-cycles = ~262 KHz on DMG
    def TAC_65KHZ  equ %000000_10 ; every 16 M-cycles = ~65 KHz on DMG
    def TAC_16KHZ  equ %000000_11 ; every 64 M-cycles = ~16 KHz on DMG

; -- $FF08-$FF0E are unused ---------------------------------------------------

; -- IF ($FF0F) ---------------------------------------------------------------
; Pending interrupts
def rIF equ $FF0F

def B_IF_JOYPAD equ 4 ; 1 = joypad interrupt is pending [r/w]
def B_IF_SERIAL equ 3 ; 1 = serial interrupt is pending [r/w]
def B_IF_TIMER  equ 2 ; 1 = timer  interrupt is pending [r/w]
def B_IF_STAT   equ 1 ; 1 = STAT   interrupt is pending [r/w]
def B_IF_VBLANK equ 0 ; 1 = VBlank interrupt is pending [r/w]
    def IF_JOYPAD equ 1 << B_IF_JOYPAD
    def IF_SERIAL equ 1 << B_IF_SERIAL
    def IF_TIMER  equ 1 << B_IF_TIMER
    def IF_STAT   equ 1 << B_IF_STAT
    def IF_VBLANK equ 1 << B_IF_VBLANK

; -- AUD1SWEEP / NR10 ($FF10) -------------------------------------------------
; Audio channel 1 sweep
def rAUD1SWEEP equ $FF10

def AUD1SWEEP_TIME equ %0_111_0000 ; how long between sweep iterations
                                   ; (in 128 Hz ticks, ~7.8 ms apart) [r/w]

def B_AUD1SWEEP_DIR equ 3 ; sweep direction [r/w]
    def AUD1SWEEP_DIR equ 1 << B_AUD1SWEEP_DIR
        def AUD1SWEEP_UP   equ 0 << B_AUD1SWEEP_DIR
        def AUD1SWEEP_DOWN equ 1 << B_AUD1SWEEP_DIR

def AUD1SWEEP_SHIFT equ %00000_111 ; how much the period increases/decreases per iteration [r/w]

; -- AUD1LEN / NR11 ($FF11) ---------------------------------------------------
; Audio channel 1 length timer and duty cycle
def rAUD1LEN equ $FF11

def AUD1LEN_DUTY equ %11_000000 ; ratio of time spent high vs. time spent low [r/w]
    def AUD1LEN_DUTY_12_5 equ %00_000000 ; 12.5%
    def AUD1LEN_DUTY_25   equ %01_000000 ; 25%
    def AUD1LEN_DUTY_50   equ %10_000000 ; 50%
    def AUD1LEN_DUTY_75   equ %11_000000 ; 75%

def AUD1LEN_TIMER equ %00_111111 ; initial length timer (0-63) [wo]

; -- AUD1ENV / NR12 ($FF12) ---------------------------------------------------
; Audio channel 1 volume and envelope
def rAUD1ENV equ $FF12

def AUD1ENV_INIT_VOLUME equ %1111_0000 ; initial volume [r/w]

def B_AUD1ENV_DIR equ 3 ; direction of volume envelope [r/w]
    def AUD1ENV_DIR equ 1 << B_AUD1ENV_DIR
        def AUD1ENV_DOWN equ 0 << B_AUD1ENV_DIR
        def AUD1ENV_UP   equ 1 << B_AUD1ENV_DIR

def AUD1ENV_PACE equ %00000_111 ; how long between envelope iterations
                                ; (in 64 Hz ticks, ~15.6 ms apart) [r/w]

; -- AUD1LOW / NR13 ($FF13) ---------------------------------------------------
; Audio channel 1 period (low 8 bits) [wo]
def rAUD1LOW equ $FF13

; -- AUD1HIGH / NR14 ($FF14) --------------------------------------------------
; Audio channel 1 period (high 3 bits) and control
def rAUD1HIGH equ $FF14

def B_AUD1HIGH_RESTART    equ 7 ; 1 = restart the channel [wo]
def B_AUD1HIGH_LEN_ENABLE equ 6 ; 1 = reset the channel after the length timer expires [r/w]
    def AUD1HIGH_RESTART    equ 1 << B_AUD1HIGH_RESTART
    def AUD1HIGH_LENGTH_OFF equ 0 << B_AUD1HIGH_LEN_ENABLE
    def AUD1HIGH_LENGTH_ON  equ 1 << B_AUD1HIGH_LEN_ENABLE

def AUD1HIGH_PERIOD_HIGH equ %00000_111 ; upper 3 bits of the channel's period [r/w]

; -- $FF15 is unused ----------------------------------------------------------

; -- AUD2LEN / NR21 ($FF16) ---------------------------------------------------
; Audio channel 2 length timer and duty cycle
def rAUD2LEN equ $FF16

def AUD2LEN_DUTY equ %11_000000 ; ratio of time spent high vs. time spent low [r/w]
    def AUD2LEN_DUTY_12_5 equ %00_000000 ; 12.5%
    def AUD2LEN_DUTY_25   equ %01_000000 ; 25%
    def AUD2LEN_DUTY_50   equ %10_000000 ; 50%
    def AUD2LEN_DUTY_75   equ %11_000000 ; 75%

def AUD2LEN_TIMER equ %00_111111 ; initial length timer (0-63) [wo]

; -- AUD2ENV / NR22 ($FF17) ---------------------------------------------------
; Audio channel 2 volume and envelope
def rAUD2ENV equ $FF17

def AUD2ENV_INIT_VOLUME equ %1111_0000 ; initial volume [r/w]

def B_AUD2ENV_DIR equ 3 ; direction of volume envelope [r/w]
    def AUD2ENV_DIR equ 1 << B_AUD2ENV_DIR
        def AUD2ENV_DOWN equ 0 << B_AUD2ENV_DIR
        def AUD2ENV_UP   equ 1 << B_AUD2ENV_DIR

def AUD2ENV_PACE equ %00000_111 ; how long between envelope iterations
                                ; (in 64 Hz ticks, ~15.6 ms apart) [r/w]

; -- AUD2LOW / NR23 ($FF18) ---------------------------------------------------
; Audio channel 2 period (low 8 bits) [wo]
def rAUD2LOW equ $FF18

; -- AUD2HIGH / NR24 ($FF19) --------------------------------------------------
; Audio channel 2 period (high 3 bits) and control
def rAUD2HIGH equ $FF19

def B_AUD2HIGH_RESTART    equ 7 ; 1 = restart the channel [wo]
def B_AUD2HIGH_LEN_ENABLE equ 6 ; 1 = reset the channel after the length timer expires [r/w]
    def AUD2HIGH_RESTART    equ 1 << B_AUD2HIGH_RESTART
    def AUD2HIGH_LENGTH_OFF equ 0 << B_AUD2HIGH_LEN_ENABLE
    def AUD2HIGH_LENGTH_ON  equ 1 << B_AUD2HIGH_LEN_ENABLE

def AUD2HIGH_PERIOD_HIGH equ %00000_111 ; upper 3 bits of the channel's period [r/w]

; -- AUD3ENA / NR30 ($FF1A) ---------------------------------------------------
; Audio channel 3 enable
def rAUD3ENA equ $FF1A

def B_AUD3ENA_ENABLE equ 7 ; 1 = channel is active [r/w]
    def AUD3ENA_OFF equ 0 << B_AUD3ENA_ENABLE
    def AUD3ENA_ON  equ 1 << B_AUD3ENA_ENABLE

; -- AUD3LEN / NR31 ($FF1B) ---------------------------------------------------
; Audio channel 3 length timer [wo]
def rAUD3LEN equ $FF1B

; -- AUD3LEVEL / NR32 ($FF1C) -------------------------------------------------
; Audio channel 3 volume
def rAUD3LEVEL equ $FF1C

def AUD3LEVEL_VOLUME equ %0_11_00000 ; volume level [r/w]
    def AUD3LEVEL_MUTE equ %0_00_00000 ; 0% (muted)
    def AUD3LEVEL_100  equ %0_01_00000 ; 100%
    def AUD3LEVEL_50   equ %0_10_00000 ; 50%
    def AUD3LEVEL_25   equ %0_11_00000 ; 25%

; -- AUD3LOW / NR33 ($FF1D) ---------------------------------------------------
; Audio channel 3 period (low 8 bits) [wo]
def rAUD3LOW equ $FF1D

; -- AUD3HIGH / NR34 ($FF1E) --------------------------------------------------
; Audio channel 3 period (high 3 bits) and control
def rAUD3HIGH equ $FF1E

def B_AUD3HIGH_RESTART    equ 7 ; 1 = restart the channel [wo]
def B_AUD3HIGH_LEN_ENABLE equ 6 ; 1 = reset the channel after the length timer expires [r/w]
    def AUD3HIGH_RESTART    equ 1 << B_AUD3HIGH_RESTART
    def AUD3HIGH_LENGTH_OFF equ 0 << B_AUD3HIGH_LEN_ENABLE
    def AUD3HIGH_LENGTH_ON  equ 1 << B_AUD3HIGH_LEN_ENABLE

def AUD3HIGH_PERIOD_HIGH equ %00000_111 ; upper 3 bits of the channel's period [r/w]

; -- $FF1F is unused ----------------------------------------------------------

; -- AUD4LEN / NR41 ($FF20) ---------------------------------------------------
; Audio channel 4 length timer
def rAUD4LEN equ $FF20

def AUD4LEN_TIMER equ %00_111111 ; initial length timer (0-63) [wo]

; -- AUD4ENV / NR42 ($FF21) ---------------------------------------------------
; Audio channel 4 volume and envelope
def rAUD4ENV equ $FF21

def AUD4ENV_INIT_VOLUME equ %1111_0000 ; initial volume [r/w]

def B_AUD4ENV_DIR equ 3 ; direction of volume envelope [r/w]
    def AUD4ENV_DIR equ 1 << B_AUD4ENV_DIR
        def AUD4ENV_DOWN equ 0 << B_AUD4ENV_DIR
        def AUD4ENV_UP   equ 1 << B_AUD4ENV_DIR

def AUD4ENV_PACE equ %00000_111 ; how long between envelope iterations
                                ; (in 64 Hz ticks, ~15.6 ms apart) [r/w]

; -- AUD4POLY / NR43 ($FF22) --------------------------------------------------
; Audio channel 4 period and randomness
def rAUD4POLY equ $FF22

def AUD4POLY_SHIFT equ %1111_0000 ; coarse control of the channel's period [r/w]

def B_AUD4POLY_WIDTH equ 3 ; controls the noise generator (LFSR)'s step width [r/w]
    def AUD4POLY_15STEP equ 0 << B_AUD4POLY_WIDTH
    def AUD4POLY_7STEP  equ 1 << B_AUD4POLY_WIDTH

def AUD4POLY_DIV equ %00000_111 ; fine control of the channel's period [r/w]

; -- AUD4GO / NR44 ($FF23) ----------------------------------------------------
; Audio channel 4 control
def rAUD4GO equ $FF23

def B_AUD4GO_RESTART    equ 7 ; 1 = restart the channel [wo]
def B_AUD4GO_LEN_ENABLE equ 6 ; 1 = reset the channel after the length timer expires [r/w]
    def AUD4GO_RESTART    equ 1 << B_AUD4GO_RESTART
    def AUD4GO_LENGTH_OFF equ 0 << B_AUD4GO_LEN_ENABLE
    def AUD4GO_LENGTH_ON  equ 1 << B_AUD4GO_LEN_ENABLE

; -- AUDVOL / NR50 ($FF24) ----------------------------------------------------
; Audio master volume and VIN mixer
def rAUDVOL equ $FF24

def B_AUDVOL_VIN_LEFT  equ 7 ; 1 = output VIN to left ear (SO2, speaker 2) [r/w]
    def AUDVOL_VIN_LEFT equ 1 << B_AUDVOL_VIN_LEFT

def AUDVOL_LEFT equ %0_111_0000 ; 0 = barely audible, 7 = full volume [r/w]

def B_AUDVOL_VIN_RIGHT equ 3 ; 1 = output VIN to right ear (SO1, speaker 1) [r/w]
    def AUDVOL_VIN_RIGHT equ 1 << B_AUDVOL_VIN_RIGHT

def AUDVOL_RIGHT equ %00000_111 ; 0 = barely audible, 7 = full volume [r/w]

; -- AUDTERM / NR51 ($FF25) ---------------------------------------------------
; Audio channel mixer
def rAUDTERM equ $FF25

def B_AUDTERM_4_LEFT  equ 7 ; 1 = output channel 4 to left  ear [r/w]
def B_AUDTERM_3_LEFT  equ 6 ; 1 = output channel 3 to left  ear [r/w]
def B_AUDTERM_2_LEFT  equ 5 ; 1 = output channel 2 to left  ear [r/w]
def B_AUDTERM_1_LEFT  equ 4 ; 1 = output channel 1 to left  ear [r/w]
def B_AUDTERM_4_RIGHT equ 3 ; 1 = output channel 4 to right ear [r/w]
def B_AUDTERM_3_RIGHT equ 2 ; 1 = output channel 3 to right ear [r/w]
def B_AUDTERM_2_RIGHT equ 1 ; 1 = output channel 2 to right ear [r/w]
def B_AUDTERM_1_RIGHT equ 0 ; 1 = output channel 1 to right ear [r/w]
    def AUDTERM_4_LEFT  equ 1 << B_AUDTERM_4_LEFT
    def AUDTERM_3_LEFT  equ 1 << B_AUDTERM_3_LEFT
    def AUDTERM_2_LEFT  equ 1 << B_AUDTERM_2_LEFT
    def AUDTERM_1_LEFT  equ 1 << B_AUDTERM_1_LEFT
    def AUDTERM_4_RIGHT equ 1 << B_AUDTERM_4_RIGHT
    def AUDTERM_3_RIGHT equ 1 << B_AUDTERM_3_RIGHT
    def AUDTERM_2_RIGHT equ 1 << B_AUDTERM_2_RIGHT
    def AUDTERM_1_RIGHT equ 1 << B_AUDTERM_1_RIGHT

; -- AUDENA / NR52 ($FF26) ----------------------------------------------------
; Audio master enable
def rAUDENA equ $FF26

def B_AUDENA_ENABLE     equ 7 ; 0 = disable the APU (resets all audio registers to 0!) [r/w]
def B_AUDENA_ENABLE_CH4 equ 3 ; 1 = channel 4 is running [ro]
def B_AUDENA_ENABLE_CH3 equ 2 ; 1 = channel 3 is running [ro]
def B_AUDENA_ENABLE_CH2 equ 1 ; 1 = channel 2 is running [ro]
def B_AUDENA_ENABLE_CH1 equ 0 ; 1 = channel 1 is running [ro]
    def AUDENA_OFF     equ 0 << B_AUDENA_ENABLE
    def AUDENA_ON      equ 1 << B_AUDENA_ENABLE
    def AUDENA_CH4_OFF equ 0 << B_AUDENA_ENABLE_CH4
    def AUDENA_CH4_ON  equ 1 << B_AUDENA_ENABLE_CH4
    def AUDENA_CH3_OFF equ 0 << B_AUDENA_ENABLE_CH3
    def AUDENA_CH3_ON  equ 1 << B_AUDENA_ENABLE_CH3
    def AUDENA_CH2_OFF equ 0 << B_AUDENA_ENABLE_CH2
    def AUDENA_CH2_ON  equ 1 << B_AUDENA_ENABLE_CH2
    def AUDENA_CH1_OFF equ 0 << B_AUDENA_ENABLE_CH1
    def AUDENA_CH1_ON  equ 1 << B_AUDENA_ENABLE_CH1

; -- $FF27-$FF2F are unused ---------------------------------------------------

; -- AUD3WAVE ($FF30-$FF3F) ---------------------------------------------------
; Audio channel 3 wave pattern RAM [r/w]
def rAUD3WAVE_0 equ $FF30
def rAUD3WAVE_1 equ $FF31
def rAUD3WAVE_2 equ $FF32
def rAUD3WAVE_3 equ $FF33
def rAUD3WAVE_4 equ $FF34
def rAUD3WAVE_5 equ $FF35
def rAUD3WAVE_6 equ $FF36
def rAUD3WAVE_7 equ $FF37
def rAUD3WAVE_8 equ $FF38
def rAUD3WAVE_9 equ $FF39
def rAUD3WAVE_A equ $FF3A
def rAUD3WAVE_B equ $FF3B
def rAUD3WAVE_C equ $FF3C
def rAUD3WAVE_D equ $FF3D
def rAUD3WAVE_E equ $FF3E
def rAUD3WAVE_F equ $FF3F

; -- LCDC ($FF40) -------------------------------------------------------------
; PPU graphics control
def rLCDC equ $FF40

def B_LCDC_ENABLE   equ 7 ; whether the PPU (and LCD) are turned on          [r/w]
def B_LCDC_WIN_MAP  equ 6 ; which tilemap the Window reads from              [r/w]
def B_LCDC_WINDOW   equ 5 ; whether the Window is enabled                    [r/w]
def B_LCDC_BLOCKS   equ 4 ; which "tile blocks" the BG and Window use        [r/w]
def B_LCDC_BG_MAP   equ 3 ; which tilemap the BG reads from                  [r/w]
def B_LCDC_OBJ_SIZE equ 2 ; how many pixels tall each OBJ is                 [r/w]
def B_LCDC_OBJS     equ 1 ; whether OBJs are enabled                         [r/w]
def B_LCDC_BG       equ 0 ; (DMG only) whether the BG is enabled             [r/w]
def B_LCDC_PRIO     equ 0 ; (CGB only) whether OBJ priority bits are enabled [r/w]
    def LCDC_ENABLE   equ 1 << B_LCDC_ENABLE
        def LCDC_OFF equ 0 << B_LCDC_ENABLE
        def LCDC_ON  equ 1 << B_LCDC_ENABLE
    def LCDC_WIN_MAP  equ 1 << B_LCDC_WIN_MAP
        def LCDC_WIN_9800 equ 0 << B_LCDC_WIN_MAP
        def LCDC_WIN_9C00 equ 1 << B_LCDC_WIN_MAP
    def LCDC_WINDOW   equ 1 << B_LCDC_WINDOW
        def LCDC_WIN_OFF equ 0 << B_LCDC_WINDOW
        def LCDC_WIN_ON  equ 1 << B_LCDC_WINDOW
    def LCDC_BLOCKS   equ 1 << B_LCDC_BLOCKS
        def LCDC_BLOCK21 equ 0 << B_LCDC_BLOCKS
        def LCDC_BLOCK01 equ 1 << B_LCDC_BLOCKS
    def LCDC_BG_MAP   equ 1 << B_LCDC_BG_MAP
        def LCDC_BG_9800 equ 0 << B_LCDC_BG_MAP
        def LCDC_BG_9C00 equ 1 << B_LCDC_BG_MAP
    def LCDC_OBJ_SIZE equ 1 << B_LCDC_OBJ_SIZE
        def LCDC_OBJ_8  equ 0 << B_LCDC_OBJ_SIZE
        def LCDC_OBJ_16 equ 1 << B_LCDC_OBJ_SIZE
    def LCDC_OBJS     equ 1 << B_LCDC_OBJS
        def LCDC_OBJ_OFF equ 0 << B_LCDC_OBJS
        def LCDC_OBJ_ON  equ 1 << B_LCDC_OBJS
    def LCDC_BG       equ 1 << B_LCDC_BG
        def LCDC_BG_OFF equ 0 << B_LCDC_BG
        def LCDC_BG_ON  equ 1 << B_LCDC_BG
    def LCDC_PRIO     equ 1 << B_LCDC_PRIO
        def LCDC_PRIO_OFF equ 0 << B_LCDC_PRIO
        def LCDC_PRIO_ON  equ 1 << B_LCDC_PRIO

; -- STAT ($FF41) -------------------------------------------------------------
; Graphics status and interrupt control
def rSTAT equ $FF41

def B_STAT_LYC    equ 6 ; 1 = LY match triggers the STAT interrupt [r/w]
def B_STAT_MODE_2 equ 5 ; 1 = OAM Scan triggers the PPU interrupt  [r/w]
def B_STAT_MODE_1 equ 4 ; 1 = VBlank triggers the PPU interrupt    [r/w]
def B_STAT_MODE_0 equ 3 ; 1 = HBlank triggers the PPU interrupt    [r/w]
def B_STAT_LYCF   equ 2 ; 1 = LY is currently equal to LYC         [ro]
def B_STAT_BUSY   equ 1 ; 1 = the PPU is currently accessing VRAM  [ro]
    def STAT_LYC    equ 1 << B_STAT_LYC
    def STAT_MODE_2 equ 1 << B_STAT_MODE_2
    def STAT_MODE_1 equ 1 << B_STAT_MODE_1
    def STAT_MODE_0 equ 1 << B_STAT_MODE_0
    def STAT_LYCF   equ 1 << B_STAT_LYCF
    def STAT_BUSY   equ 1 << B_STAT_BUSY

def STAT_MODE equ %000000_11 ; PPU's current status [ro]
    def STAT_HBLANK equ %000000_00 ; waiting after a line's rendering (HBlank)
    def STAT_VBLANK equ %000000_01 ; waiting between frames (VBlank)
    def STAT_OAM    equ %000000_10 ; checking which OBJs will be rendered on this line (OAM scan)
    def STAT_LCD    equ %000000_11 ; pushing pixels to the LCD

; -- SCY ($FF42) --------------------------------------------------------------
; Background Y scroll offset (in pixels) [r/w]
def rSCY equ $FF42

; -- SCX ($FF43) --------------------------------------------------------------
; Background X scroll offset (in pixels) [r/w]
def rSCX equ $FF43

; -- LY ($FF44) ---------------------------------------------------------------
; Y coordinate of the line currently processed by the PPU (0-153) [ro]
def rLY equ $FF44

def LY_VBLANK equ 144 ; 144-153 is the VBlank period

; -- LYC ($FF45) --------------------------------------------------------------
; Value that LY is constantly compared to [r/w]
def rLYC equ $FF45

; -- DMA ($FF46) --------------------------------------------------------------
; OAM DMA start address (high 8 bits) and start [wo]
def rDMA equ $FF46

; -- BGP ($FF47) --------------------------------------------------------------
; (DMG only) Background color mapping [r/w]
def rBGP equ $FF47

def BGP_SGB_TRANSFER equ %11_10_01_00 ; set BGP to this value before SGB VRAM transfer

; -- OBP0 ($FF48) -------------------------------------------------------------
; (DMG only) OBJ color mapping #0 [r/w]
def rOBP0 equ $FF48

; -- OBP1 ($FF49) -------------------------------------------------------------
; (DMG only) OBJ color mapping #1 [r/w]
def rOBP1 equ $FF49

; -- WY ($FF4A) ---------------------------------------------------------------
; Y coordinate of the Window's top-left pixel (0-143) [r/w]
def rWY equ $FF4A

; -- WX ($FF4B) ---------------------------------------------------------------
; X coordinate of the Window's top-left pixel, plus 7 (7-166) [r/w]
def rWX equ $FF4B

def WX_OFS equ 7 ; subtract this to get the actual Window X coordinate

; -- SYS / KEY0 ($FF4C) -------------------------------------------------------
; (CGB boot ROM only) CPU mode select
def rSYS equ $FF4C

; This is known as the "CPU mode register" in Fig. 11 of this patent:
; https://patents.google.com/patent/US6322447B1/en?oq=US6322447bi
; "OBJ priority mode designating register" in the same patent
; Credit to @mattcurrie for this finding!

def SYS_MODE equ %0000_11_00 ; current system mode [r/w]
    def SYS_CGB  equ %0000_00_00 ; CGB mode
    def SYS_DMG  equ %0000_01_00 ; DMG compatibility mode
    def SYS_PGB1 equ %0000_10_00 ; LCD is driven externally, CPU is stopped
    def SYS_PGB2 equ %0000_11_00 ; LCD is driven externally, CPU is running

; -- SPD / KEY1 ($FF4D) -------------------------------------------------------
; (CGB only) Double-speed mode control
def rSPD equ $FF4D

def B_SPD_DOUBLE  equ 7 ; current clock speed                                  [ro]
def B_SPD_PREPARE equ 0 ; 1 = next \`stop\` instruction will switch clock speeds [r/w]
    def SPD_SINGLE  equ 0 << B_SPD_DOUBLE
    def SPD_DOUBLE  equ 1 << B_SPD_DOUBLE
    def SPD_PREPARE equ 1 << B_SPD_PREPARE

; -- $FF4E is unused ----------------------------------------------------------

; -- VBK ($FF4F) --------------------------------------------------------------
; (CGB only) VRAM bank number (0 or 1)
def rVBK equ $FF4F

def VBK_BANK equ %0000000_1 ; mapped VRAM bank [r/w]

; -- BANK ($FF50) -------------------------------------------------------------
; (boot ROM only) Boot ROM mapping control
def rBANK equ $FF50

def B_BANK_ON equ 0 ; whether the boot ROM is mapped [wo]
    def BANK_ON  equ 0 << B_BANK_ON
    def BANK_OFF equ 1 << B_BANK_ON

; -- VDMA_SRC_HIGH / HDMA1 ($FF51) --------------------------------------------
; (CGB only) VRAM DMA source address (high 8 bits) [wo]
def rVDMA_SRC_HIGH equ $FF51

; -- VDMA_SRC_LOW / HDMA2 ($FF52) ---------------------------------------------
; (CGB only) VRAM DMA source address (low 8 bits) [wo]
def rVDMA_SRC_LOW equ $FF52

; -- VDMA_DEST_HIGH / HDMA3 ($FF53) -------------------------------------------
; (CGB only) VRAM DMA destination address (high 8 bits) [wo]
def rVDMA_DEST_HIGH equ $FF53

; -- VDMA_DEST_LOW / HDMA4 ($FF54) --------------------------------------------
; (CGB only) VRAM DMA destination address (low 8 bits) [wo]
def rVDMA_DEST_LOW equ $FF54

; -- VDMA_LEN / HDMA5 ($FF55) -------------------------------------------------
; (CGB only) VRAM DMA length, mode, and start
def rVDMA_LEN equ $FF55

def B_VDMA_LEN_MODE equ 7 ; on write: VRAM DMA mode [wo]
    def VDMA_LEN_MODE equ 1 << B_VDMA_LEN_MODE
        def VDMA_LEN_MODE_GENERAL equ 0 << B_VDMA_LEN_MODE ; GDMA (general-purpose)
        def VDMA_LEN_MODE_HBLANK  equ 1 << B_VDMA_LEN_MODE ; HDMA (HBlank)

def B_VDMA_LEN_BUSY equ 7 ; on read: is a VRAM DMA active?
    def VDMA_LEN_BUSY equ 1 << B_VDMA_LEN_BUSY
        def VDMA_LEN_NO  equ 0 << B_VDMA_LEN_BUSY
        def VDMA_LEN_YES equ 1 << B_VDMA_LEN_BUSY

def VDMA_LEN_SIZE equ %0_1111111 ; how many 16-byte blocks (minus 1) to transfer [r/w]

; -- RP ($FF56) ---------------------------------------------------------------
; (CGB only) Infrared communications port
def rRP equ $FF56

def RP_READ equ %11_000000 ; whether the IR read is enabled [r/w]
    def RP_DISABLE equ %00_000000
    def RP_ENABLE  equ %11_000000

def B_RP_DATA_IN equ 1 ; 0 = IR light is being received [ro]
def B_RP_LED_ON  equ 0 ; 1 = IR light is being sent     [r/w]
    def RP_DATA_IN equ 1 << B_RP_DATA_IN
    def RP_LED_ON  equ 1 << B_RP_LED_ON
        def RP_WRITE_LOW  equ 0 << B_RP_LED_ON
        def RP_WRITE_HIGH equ 1 << B_RP_LED_ON

; -- $FF57-$FF67 are unused ---------------------------------------------------

; -- BGPI / BCPS ($FF68) ------------------------------------------------------
; (CGB only) Background palette I/O index
def rBGPI equ $FF68

def B_BGPI_AUTOINC equ 7 ; whether the index field is incremented after each write to BCPD [r/w]
    def BGPI_AUTOINC equ 1 << B_BGPI_AUTOINC

def BGPI_INDEX equ %00_111111 ; the index within Palette RAM accessed via BCPD [r/w]

; -- BGPD / BCPD ($FF69) ------------------------------------------------------
; (CGB only) Background palette I/O access [r/w]
def rBGPD equ $FF69

; -- OBPI / OCPS ($FF6A) ------------------------------------------------------
; (CGB only) OBJ palette I/O index
def rOBPI equ $FF6A

def B_OBPI_AUTOINC equ 7 ; whether the index field is incremented after each write to OBPD [r/w]
    def OBPI_AUTOINC equ 1 << B_OBPI_AUTOINC

def OBPI_INDEX equ %00_111111 ; the index within Palette RAM accessed via OBPD [r/w]

; -- OBPD / OCPD ($FF6B) ------------------------------------------------------
; (CGB only) OBJ palette I/O access [r/w]
def rOBPD equ $FF6B

; -- OPRI ($FF6C) -------------------------------------------------------------
; (CGB boot ROM only) OBJ draw priority mode
def rOPRI equ $FF6C

def B_OPRI_PRIORITY equ 0 ; which drawing priority is used for OBJs [r/w]
    def OPRI_PRIORITY equ 1 << B_OPRI_PRIORITY
        def OPRI_OAM   equ 0 << B_OPRI_PRIORITY ; CGB mode default: earliest OBJ in OAM wins
        def OPRI_COORD equ 1 << B_OPRI_PRIORITY ; DMG mode default: leftmost OBJ wins

; -- $FF6D-$FF6F are unused ---------------------------------------------------

; -- WBK / SVBK ($FF70) -------------------------------------------------------
; (CGB only) WRAM bank number
def rWBK equ $FF70

def WBK_BANK equ %00000_111 ; mapped WRAM bank (0-7) [r/w]

; -- $FF71-$FF75 are unused ---------------------------------------------------

; -- PCM12 ($FF76) ------------------------------------------------------------
; Audio channels 1 and 2 output
def rPCM12 equ $FF76

def PCM12_CH2 equ %1111_0000 ; audio channel 2 output [ro]
def PCM12_CH1 equ %0000_1111 ; audio channel 1 output [ro]

; -- PCM34 ($FF77) ------------------------------------------------------------
; Audio channels 3 and 4 output
def rPCM34 equ $FF77

def PCM34_CH4 equ %1111_0000 ; audio channel 4 output [ro]
def PCM34_CH3 equ %0000_1111 ; audio channel 3 output [ro]

; -- $FF78-$FF7F are unused ---------------------------------------------------

; -- IE ($FFFF) ---------------------------------------------------------------
; Interrupt enable
def rIE equ $FFFF

def B_IE_JOYPAD equ 4 ; 1 = joypad interrupt is enabled [r/w]
def B_IE_SERIAL equ 3 ; 1 = serial interrupt is enabled [r/w]
def B_IE_TIMER  equ 2 ; 1 = timer  interrupt is enabled [r/w]
def B_IE_STAT   equ 1 ; 1 = STAT   interrupt is enabled [r/w]
def B_IE_VBLANK equ 0 ; 1 = VBlank interrupt is enabled [r/w]
    def IE_JOYPAD equ 1 << B_IE_JOYPAD
    def IE_SERIAL equ 1 << B_IE_SERIAL
    def IE_TIMER  equ 1 << B_IE_TIMER
    def IE_STAT   equ 1 << B_IE_STAT
    def IE_VBLANK equ 1 << B_IE_VBLANK


;******************************************************************************
; Cartridge registers (MBC)
;******************************************************************************

; Note that these "registers" are each actually accessible at an entire address range;
; however, one address for each of these ranges is considered the "canonical" one, and
; these addresses are what's provided here.


; ** Common to most MBCs ******************************************************

; -- RAMG ($0000-$1FFF) -------------------------------------------------------
; Whether SRAM can be accessed [wo]
def rRAMG equ $0000

; Common values (not for HuC1 or HuC-3)
def RAMG_SRAM_DISABLE equ $00
def RAMG_SRAM_ENABLE  equ $0A ; some MBCs accept any value whose low nybble is $A

; (HuC-3 only) switch SRAM to map cartridge RAM, RTC, or IR
def RAMG_CART_RAM_RO   equ $00 ; select cartridge RAM [ro]
def RAMG_CART_RAM      equ $0A ; select cartridge RAM [r/w]
def RAMG_RTC_IN        equ $0B ; select RTC command/argument [wo]
    def RAMG_RTC_IN_CMD equ %0_111_0000 ; command
    def RAMG_RTC_IN_ARG equ %0_000_1111 ; argument
def RAMG_RTC_OUT       equ $0C ; select RTC command/response [ro]
    def RAMG_RTC_OUT_CMD    equ %0_111_0000 ; command
    def RAMG_RTC_OUT_RESULT equ %0_000_1111 ; result
def RAMG_RTC_SEMAPHORE equ $0D ; select RTC semaphore [r/w]
def RAMG_IR            equ $0E ; (HuC1 and HuC-3 only) select IR [r/w]

; -- ROMB ($2000-$3FFF) -------------------------------------------------------
; ROM bank number (not for MBC5 or MBC6) [wo]
def rROMB equ $2000

; -- RAMB ($4000-$5FFF) -------------------------------------------------------
; SRAM bank number (not for MBC2, MBC6, or MBC7) [wo]
def rRAMB equ $4000

; (MBC3 only) Special RAM bank numbers that actually map values into RTCREG
def RAMB_RTC_S  equ $08 ; seconds counter (0-59)
def RAMB_RTC_M  equ $09 ; minutes counter (0-59)
def RAMB_RTC_H  equ $0A ; hours counter (0-23)
def RAMB_RTC_DL equ $0B ; days counter, low byte (0-255)
def RAMB_RTC_DH equ $0C ; days counter, high bit and other flags
    def B_RAMB_RTC_DH_CARRY equ 7 ; 1 = days counter overflowed    [wo]
    def B_RAMB_RTC_DH_HALT  equ 6 ; 0 = run timer, 1 = stop timer  [wo]
    def B_RAMB_RTC_DH_HIGH  equ 0 ; days counter, high bit (bit 8) [wo]
        def RAMB_RTC_DH_CARRY equ 1 << B_RAMB_RTC_DH_CARRY
        def RAMB_RTC_DH_HALT  equ 1 << B_RAMB_RTC_DH_HALT
        def RAMB_RTC_DH_HIGH  equ 1 << B_RAMB_RTC_DH_HIGH

def B_RAMB_RUMBLE equ 3 ; (MBC5 and MBC7 only) enable the rumble motor (if any)
    def RAMB_RUMBLE equ 1 << B_RAMB_RUMBLE
        def RAMB_RUMBLE_OFF equ 0 << B_RAMB_RUMBLE
        def RAMB_RUMBLE_ON  equ 1 << B_RAMB_RUMBLE


; ** MBC1 and MMM01 only ******************************************************

; -- BMODE ($6000-$7FFF) ------------------------------------------------------
; Banking mode select [wo]
def rBMODE equ $6000

def BMODE_SIMPLE   equ $00 ; locks ROMB and RAMB to bank 0
def BMODE_ADVANCED equ $01 ; allows bank-switching with RAMB


; ** MBC2 only ****************************************************************

; -- ROM2B ($0000-$3FFF with bit 8 set) ---------------------------------------
; ROM bank number [wo]
def rROM2B equ $2100


; ** MBC3 only ****************************************************************

; -- RTCLATCH ($6000-$7FFF) ---------------------------------------------------
; RTC latch clock data [wo]
def rRTCLATCH equ $6000

; Write $00 then $01 to latch the current time into RTCREG
def RTCLATCH_START  equ $00
def RTCLATCH_FINISH equ $01

; -- RTCREG ($A000-$BFFF) -----------------------------------------------------
; RTC register [r/w]
def rRTCREG equ $A000


; ** MBC5 only ****************************************************************

; -- ROMB0 ($2000-$2FFF) ------------------------------------------------------
; ROM bank number low byte (bits 0-7) [wo]
def rROMB0 equ $2000

; -- ROMB1 ($3000-$3FFF) ------------------------------------------------------
; ROM bank number high bit (bit 8) [wo]
def rROMB1 equ $3000


; ** MBC6 only ****************************************************************

; -- RAMBA ($0400-$07FF) ------------------------------------------------------
; RAM bank A number [wo]
def rRAMBA equ $0400

; -- RAMBB ($0800-$0BFF) ------------------------------------------------------
; RAM bank B number [wo]
def rRAMBB equ $0800

; -- FLASH ($0C00-$0FFF) ------------------------------------------------------
; Whether the flash chip can be accessed [wo]
def rFLASH equ $0C00

; -- FMODE ($1000) ------------------------------------------------------------
; Write mode select for the flash chip
def rFMODE equ $1000

; -- ROMBA ($2000-$27FF) ------------------------------------------------------
; ROM/Flash bank A number [wo]
def rROMBA equ $2000

; -- FLASHA ($2800-$2FFF) -----------------------------------------------------
; ROM/Flash bank A select [wo]
def rFLASHA equ $2800

; -- ROMBB ($3000-$37FF) ------------------------------------------------------
; ROM/Flash bank B number [wo]
def rROMBB equ $3000

; -- FLASHB ($3800-$3FFF) -----------------------------------------------------
; ROM/Flash bank B select [wo]
def rFLASHB equ $3800


; ** MBC7 only ****************************************************************

; -- RAMREG ($4000-$5FFF) -----------------------------------------------------
; Enable RAM register access [wo]
def rRAMREG equ $4000

def RAMREG_ENABLE equ $40

; -- ACCLATCH0 ($Ax0x) --------------------------------------------------------
; Latch accelerometer start [wo]
def rACCLATCH0 equ $A000

; Write $55 to ACCLATCH0 to erase the latched data
def ACCLATCH0_START equ $55

; -- ACCLATCH1 ($Ax1x) --------------------------------------------------------
; Latch accelerometer finish [wo]
def rACCLATCH1 equ $A010

; Write $AA to ACCLATCH1 to latch the accelerometer and update ACCEL*
def ACCLATCH1_FINISH equ $AA

; -- ACCELX0 ($Ax2x) ----------------------------------------------------------
; Accelerometer X value low byte [ro]
def rACCELX0 equ $A020

; -- ACCELX1 ($Ax3x) ----------------------------------------------------------
; Accelerometer X value high byte [ro]
def rACCELX1 equ $A030

; -- ACCELY0 ($Ax4x) ----------------------------------------------------------
; Accelerometer Y value low byte [ro]
def rACCELY0 equ $A040

; -- ACCELY1 ($Ax5x) ----------------------------------------------------------
; Accelerometer Y value high byte [ro]
def rACCELY1 equ $A050

; -- EEPROM ($Ax8x) -----------------------------------------------------------
; EEPROM access [r/w]
def rEEPROM equ $A080


; ** HuC1 only ****************************************************************

; -- IRREG ($A000-$BFFF) ------------------------------------------------------
; IR register [r/w]
def rIRREG equ $A000

; whether the IR transmitter sees light
def IR_LED_OFF equ $C0
def IR_LED_ON  equ $C1


;******************************************************************************
; Screen-related constants
;******************************************************************************

def SCREEN_WIDTH_PX  equ 160 ; width of screen in pixels
def SCREEN_HEIGHT_PX equ 144 ; height of screen in pixels
def SCREEN_WIDTH     equ  20 ; width of screen in bytes
def SCREEN_HEIGHT    equ  18 ; height of screen in bytes
def SCREEN_AREA      equ SCREEN_WIDTH * SCREEN_HEIGHT ; size of screen in bytes

def TILEMAP_WIDTH_PX  equ 256 ; width of tilemap in pixels
def TILEMAP_HEIGHT_PX equ 256 ; height of tilemap in pixels
def TILEMAP_WIDTH     equ  32 ; width of tilemap in bytes
def TILEMAP_HEIGHT    equ  32 ; height of tilemap in bytes
def TILEMAP_AREA      equ TILEMAP_WIDTH * TILEMAP_HEIGHT ; size of tilemap in bytes

def TILE_WIDTH  equ  8 ; width of tile in pixels
def TILE_HEIGHT equ  8 ; height of tile in pixels
def TILE_SIZE   equ 16 ; size of tile in bytes (2 bits/pixel)

def COLOR_SIZE equ 2 ; size of color in bytes (little-endian BGR555)
def PAL_COLORS equ 4 ; colors per palette
def PAL_SIZE   equ COLOR_SIZE * PAL_COLORS ; size of palette in bytes

def COLOR_CH_WIDTH equ 5 ; bits per RGB color channel
def COLOR_CH_MAX   equ (1 << COLOR_CH_WIDTH) - 1
    def B_COLOR_RED   equ COLOR_CH_WIDTH * 0 ; bits 4-0
    def B_COLOR_GREEN equ COLOR_CH_WIDTH * 1 ; bits 9-5
    def B_COLOR_BLUE  equ COLOR_CH_WIDTH * 2 ; bits 14-10
        def COLOR_RED        equ %000_11111  ; for the low byte
        def COLOR_GREEN_LOW  equ %111_00000  ; for the low byte
        def COLOR_GREEN_HIGH equ %0_00000_11 ; for the high byte
        def COLOR_BLUE       equ %0_11111_00 ; for the high byte

; (DMG only) grayscale shade indexes for BGP, OBP0, and OBP1
def SHADE_WHITE equ %00
def SHADE_LIGHT equ %01
def SHADE_DARK  equ %10
def SHADE_BLACK equ %11

; Tilemaps the BG or Window can read from (controlled by LCDC)
def TILEMAP0 equ $9800 ; $9800-$9BFF
def TILEMAP1 equ $9C00 ; $9C00-$9FFF

; (CGB only) BG tile attribute fields
def B_BG_PRIO  equ 7 ; whether the BG tile colors 1-3 are drawn above OBJs
def B_BG_YFLIP equ 6 ; whether the whole BG tile is flipped vertically
def B_BG_XFLIP equ 5 ; whether the whole BG tile is flipped horizontally
def B_BG_BANK1 equ 3 ; which VRAM bank the BG tile is taken from
def BG_PALETTE equ %00000_111 ; which palette the BG tile uses
    def BG_PRIO  equ 1 << B_BG_PRIO
    def BG_YFLIP equ 1 << B_BG_YFLIP
    def BG_XFLIP equ 1 << B_BG_XFLIP
    def BG_BANK0 equ 0 << B_BG_BANK1
    def BG_BANK1 equ 1 << B_BG_BANK1


;******************************************************************************
; OBJ-related constants
;******************************************************************************

; OAM attribute field offsets
rsreset
def OAMA_Y      rb ; 0
    def OAM_Y_OFS equ 16 ; subtract 16 from what's written to OAM to get the real Y position
def OAMA_X      rb ; 1
    def OAM_X_OFS equ  8 ; subtract 8 from what's written to OAM to get the real X position
def OAMA_TILEID rb ; 2
def OAMA_FLAGS  rb ; 3
    def B_OAM_PRIO  equ 7 ; whether the OBJ is drawn below BG colors 1-3
    def B_OAM_YFLIP equ 6 ; whether the whole OBJ is flipped vertically
    def B_OAM_XFLIP equ 5 ; whether the whole OBJ is flipped horizontally
    def B_OAM_PAL1  equ 4 ; (DMG only) which of the two palettes the OBJ uses
    def B_OAM_BANK1 equ 3 ; (CGB only) which VRAM bank the OBJ takes its tile(s) from
    def OAM_PALETTE equ %00000_111 ; (CGB only) which palette the OBJ uses
        def OAM_PRIO  equ 1 << B_OAM_PRIO
        def OAM_YFLIP equ 1 << B_OAM_YFLIP
        def OAM_XFLIP equ 1 << B_OAM_XFLIP
        def OAM_PAL0  equ 0 << B_OAM_PAL1
        def OAM_PAL1  equ 1 << B_OAM_PAL1
        def OAM_BANK0 equ 0 << B_OAM_BANK1
        def OAM_BANK1 equ 1 << B_OAM_BANK1
def OBJ_SIZE    rb 0 ; size of OBJ in bytes = 4

def OAM_COUNT equ 40 ; how many OBJs there are room for in OAM
def OAM_SIZE  equ OBJ_SIZE * OAM_COUNT


;******************************************************************************
; Audio channel RAM addresses
;******************************************************************************

def AUD1RAM equ $FF10 ; $FF10-$FF14
def AUD2RAM equ $FF15 ; $FF15-$FF19
def AUD3RAM equ $FF1A ; $FF1A-$FF1E
def AUD4RAM equ $FF1F ; $FF1F-$FF23
def AUDRAM_SIZE equ 5 ; size of each audio channel RAM in bytes

def _AUD3WAVERAM equ $FF30 ; $FF30-$FF3F
def AUD3WAVE_SIZE equ 16 ; size of wave pattern RAM in bytes


;******************************************************************************
; Interrupt vector addresses
;******************************************************************************

def INT_HANDLER_VBLANK equ $0040 ; VBlank interrupt handler address
def INT_HANDLER_STAT   equ $0048 ; STAT   interrupt handler address
def INT_HANDLER_TIMER  equ $0050 ; timer  interrupt handler address
def INT_HANDLER_SERIAL equ $0058 ; serial interrupt handler address
def INT_HANDLER_JOYPAD equ $0060 ; joypad interrupt handler address


;******************************************************************************
; Boot-up register values
;******************************************************************************

; Register A = CPU type
def BOOTUP_A_DMG equ $01
def BOOTUP_A_CGB equ $11 ; CGB or AGB
def BOOTUP_A_MGB equ $FF
    def BOOTUP_A_SGB  equ BOOTUP_A_DMG
    def BOOTUP_A_SGB2 equ BOOTUP_A_MGB

; Register B = CPU qualifier (if A is BOOTUP_A_CGB)
def B_BOOTUP_B_AGB equ 0
    def BOOTUP_B_CGB equ 0 << B_BOOTUP_B_AGB
    def BOOTUP_B_AGB equ 1 << B_BOOTUP_B_AGB

; Register C = CPU qualifier
def BOOTUP_C_DMG equ $13
def BOOTUP_C_SGB equ $14
def BOOTUP_C_CGB equ $00 ; CGB or AGB

; Register D = color qualifier
def BOOTUP_D_MONO  equ $00 ; DMG, MGB, SGB, or CGB or AGB in DMG mode
def BOOTUP_D_COLOR equ $FF ; CGB or AGB

; Register E = CPU qualifier (distinguishes DMG variants)
def BOOTUP_E_DMG0        equ $C1
def BOOTUP_E_DMG         equ $C8
def BOOTUP_E_SGB         equ $00
def BOOTUP_E_CGB_DMGMODE equ $08 ; CGB or AGB in DMG mode
def BOOTUP_E_CGB         equ $56 ; CGB or AGB


;******************************************************************************
; Aliases
;******************************************************************************

; Prefer the standard names to these aliases, which may be official but are
; less directly meaningful or human-readable.

def rP1 equ rJOYP

def rNR10 equ rAUD1SWEEP
def rNR11 equ rAUD1LEN
def rNR12 equ rAUD1ENV
def rNR13 equ rAUD1LOW
def rNR14 equ rAUD1HIGH
def rNR21 equ rAUD2LEN
def rNR22 equ rAUD2ENV
def rNR23 equ rAUD2LOW
def rNR24 equ rAUD2HIGH
def rNR30 equ rAUD3ENA
def rNR31 equ rAUD3LEN
def rNR32 equ rAUD3LEVEL
def rNR33 equ rAUD3LOW
def rNR34 equ rAUD3HIGH
def rNR41 equ rAUD4LEN
def rNR42 equ rAUD4ENV
def rNR43 equ rAUD4POLY
def rNR44 equ rAUD4GO
def rNR50 equ rAUDVOL
def rNR51 equ rAUDTERM
def rNR52 equ rAUDENA

def rKEY0 equ rSYS
def rKEY1 equ rSPD

def rHDMA1 equ rVDMA_SRC_HIGH
def rHDMA2 equ rVDMA_SRC_LOW
def rHDMA3 equ rVDMA_DEST_HIGH
def rHDMA4 equ rVDMA_DEST_LOW
def rHDMA5 equ rVDMA_LEN

def rBCPS equ rBGPI
def rBCPD equ rBGPD

def rOCPS equ rOBPI
def rOCPD equ rOBPD

def rSVBK equ rWBK

endc ; HARDWARE_INC
`,ni=`;******************************************************************************
; Deprecated Game Boy hardware constant definitions for backwards compatibility
; https://github.com/gbdev/hardware_compat.inc
;******************************************************************************

; To the extent possible under law, the authors of this work have
; waived all copyright and related or neighboring rights to the work.
; See https://creativecommons.org/publicdomain/zero/1.0/ for details.
; SPDX-License-Identifier: CC0-1.0

; If this file was already included, don't do it again
if !def(HARDWARE_COMPAT_INC)

; Check for hardware.inc to have been previously included
if !def(HARDWARE_INC)
    fail "'hardware_compat.inc' requires 'hardware.inc'"
endc

; Define the include guard
; (do this after the hardware.inc check since the \`def\` syntax depends on it)
def HARDWARE_COMPAT_INC equ 1


;******************************************************************************
; Memory-mapped registers ($FFxx range)
;******************************************************************************

def JOYPB_GET_BTN  equ B_JOYP_GET_BUTTONS
def JOYPB_GET_DPAD equ B_JOYP_GET_CTRL_PAD
    def JOYPF_GET equ JOYP_GET
        def JOYP_GET_BTN  equ JOYP_GET_BUTTONS
        def JOYP_GET_DPAD equ JOYP_GET_CTRL_PAD
def JOYPB_START    equ B_JOYP_START
def JOYPB_SELECT   equ B_JOYP_SELECT
def JOYPB_B        equ B_JOYP_B
def JOYPB_A        equ B_JOYP_A
def JOYPB_DOWN     equ B_JOYP_DOWN
def JOYPB_UP       equ B_JOYP_UP
def JOYPB_LEFT     equ B_JOYP_LEFT
def JOYPB_RIGHT    equ B_JOYP_RIGHT
    def JOYPF_INPUTS equ JOYP_INPUTS
    def JOYPF_START  equ JOYP_START
    def JOYPF_SELECT equ JOYP_SELECT
    def JOYPF_B      equ JOYP_B
    def JOYPF_A      equ JOYP_A
    def JOYPF_DOWN   equ JOYP_DOWN
    def JOYPF_UP     equ JOYP_UP
    def JOYPF_LEFT   equ JOYP_LEFT
    def JOYPF_RIGHT  equ JOYP_RIGHT

def PADB_DOWN   equ B_PAD_DOWN
def PADB_UP     equ B_PAD_UP
def PADB_LEFT   equ B_PAD_LEFT
def PADB_RIGHT  equ B_PAD_RIGHT
def PADB_START  equ B_PAD_START
def PADB_SELECT equ B_PAD_SELECT
def PADB_B      equ B_PAD_B
def PADB_A      equ B_PAD_A
    def PADF_DOWN   equ PAD_DOWN
    def PADF_UP     equ PAD_UP
    def PADF_LEFT   equ PAD_LEFT
    def PADF_RIGHT  equ PAD_RIGHT
    def PADF_START  equ PAD_START
    def PADF_SELECT equ PAD_SELECT
    def PADF_B      equ PAD_B
    def PADF_A      equ PAD_A

def PADB_SWAP_START  equ B_PAD_SWAP_START
def PADB_SWAP_SELECT equ B_PAD_SWAP_SELECT
def PADB_SWAP_B      equ B_PAD_SWAP_B
def PADB_SWAP_A      equ B_PAD_SWAP_A
def PADB_SWAP_DOWN   equ B_PAD_SWAP_DOWN
def PADB_SWAP_UP     equ B_PAD_SWAP_UP
def PADB_SWAP_LEFT   equ B_PAD_SWAP_LEFT
def PADB_SWAP_RIGHT  equ B_PAD_SWAP_RIGHT
    def PADF_SWAP_START  equ PAD_SWAP_START
    def PADF_SWAP_SELECT equ PAD_SWAP_SELECT
    def PADF_SWAP_B      equ PAD_SWAP_B
    def PADF_SWAP_A      equ PAD_SWAP_A
    def PADF_SWAP_DOWN   equ PAD_SWAP_DOWN
    def PADF_SWAP_UP     equ PAD_SWAP_UP
    def PADF_SWAP_LEFT   equ PAD_SWAP_LEFT
    def PADF_SWAP_RIGHT  equ PAD_SWAP_RIGHT

def SCB_START  equ B_SC_START
def SCB_SPEED  equ B_SC_SPEED
def SCB_SOURCE equ B_SC_SOURCE
    def SCF_START  equ SC_START
    def SCF_SPEED  equ SC_SPEED
    def SCF_SOURCE equ SC_SOURCE

def TACB_START equ B_TAC_START
    def TACF_STOP  equ TAC_STOP
    def TACF_START equ TAC_START
def TACF_CLOCK equ TAC_CLOCK
    def TACF_4KHZ   equ TAC_4KHZ
    def TACF_262KHZ equ TAC_262KHZ
    def TACF_65KHZ  equ TAC_65KHZ
    def TACF_16KHZ  equ TAC_16KHZ

def IFB_JOYPAD equ B_IF_JOYPAD
def IFB_SERIAL equ B_IF_SERIAL
def IFB_TIMER  equ B_IF_TIMER
def IFB_STAT   equ B_IF_STAT
def IFB_VBLANK equ B_IF_VBLANK
    def IFF_JOYPAD equ IF_JOYPAD
    def IFF_SERIAL equ IF_SERIAL
    def IFF_TIMER  equ IF_TIMER
    def IFF_STAT   equ IF_STAT
    def IFF_VBLANK equ IF_VBLANK

def AUD1SWEEPF_TIME equ AUD1SWEEP_TIME
def AUD1SWEEPB_DIR  equ B_AUD1SWEEP_DIR
    def AUD1SWEEPF_DIR equ AUD1SWEEP_DIR

def AUD1LENF_DUTY  equ AUD1LEN_DUTY
def AUD1LENF_TIMER equ AUD1LEN_TIMER

def AUD1ENVF_INIT_VOL equ AUD1ENV_INIT_VOLUME
def AUD1ENVB_DIR      equ B_AUD1ENV_DIR
    def AUD1ENVF_DIR equ AUD1ENV_DIR
def AUD1ENVF_PACE     equ AUD1ENV_PACE

def AUD1HIGHB_RESTART     equ B_AUD1HIGH_RESTART
def AUD1HIGHB_LEN_ENABLE  equ B_AUD1HIGH_LEN_ENABLE
def AUD1HIGHF_PERIOD_HIGH equ AUD1HIGH_PERIOD_HIGH

def AUD2LENF_DUTY  equ AUD2LEN_DUTY
def AUD2LENF_TIMER equ AUD2LEN_TIMER

def AUD2ENVF_INIT_VOL equ AUD2ENV_INIT_VOLUME
def AUD2ENVB_DIR      equ B_AUD2ENV_DIR
    def AUD2ENVF_DIR equ AUD2ENV_DIR
def AUD2ENVF_PACE     equ AUD2ENV_PACE

def AUD2HIGHB_RESTART     equ B_AUD2HIGH_RESTART
def AUD2HIGHB_LEN_ENABLE  equ B_AUD2HIGH_LEN_ENABLE
def AUD2HIGHF_PERIOD_HIGH equ AUD2HIGH_PERIOD_HIGH

def AUD3ENAB_ENABLE equ B_AUD3ENA_ENABLE

def AUD3LEVELF_VOLUME equ AUD3LEVEL_VOLUME

def AUD3HIGHB_RESTART     equ B_AUD3HIGH_RESTART
def AUD3HIGHB_LEN_ENABLE  equ B_AUD3HIGH_LEN_ENABLE
def AUD3HIGHF_PERIOD_HIGH equ AUD3HIGH_PERIOD_HIGH

def AUD4LENF_TIMER equ AUD4LEN_TIMER

def AUD4ENVF_INIT_VOL equ AUD4ENV_INIT_VOLUME
def AUD4ENVB_DIR      equ B_AUD4ENV_DIR
    def AUD4ENVF_DIR equ AUD4ENV_DIR
def AUD4ENVF_PACE     equ AUD4ENV_PACE

def AUD4POLYF_SHIFT equ AUD4POLY_SHIFT
def AUD4POLYB_WIDTH equ B_AUD4POLY_WIDTH
def AUD4POLYF_DIV   equ AUD4POLY_DIV

def AUD4GOB_RESTART    equ B_AUD4GO_RESTART
def AUD4GOB_LEN_ENABLE equ B_AUD4GO_LEN_ENABLE

def AUDVOLB_VIN_LEFT  equ B_AUDVOL_VIN_LEFT
    def AUDVOLF_LEFT equ AUDVOL_LEFT
def AUDVOLB_VIN_RIGHT equ B_AUDVOL_VIN_RIGHT
    def AUDVOLF_RIGHT equ AUDVOL_RIGHT

def AUDTERMB_4_LEFT  equ B_AUDTERM_4_LEFT
def AUDTERMB_3_LEFT  equ B_AUDTERM_3_LEFT
def AUDTERMB_2_LEFT  equ B_AUDTERM_2_LEFT
def AUDTERMB_1_LEFT  equ B_AUDTERM_1_LEFT
def AUDTERMB_4_RIGHT equ B_AUDTERM_4_RIGHT
def AUDTERMB_3_RIGHT equ B_AUDTERM_3_RIGHT
def AUDTERMB_2_RIGHT equ B_AUDTERM_2_RIGHT
def AUDTERMB_1_RIGHT equ B_AUDTERM_1_RIGHT

def AUDENAB_ENABLE     equ B_AUDENA_ENABLE
def AUDENAB_ENABLE_CH4 equ B_AUDENA_ENABLE_CH4
def AUDENAB_ENABLE_CH3 equ B_AUDENA_ENABLE_CH3
def AUDENAB_ENABLE_CH2 equ B_AUDENA_ENABLE_CH2
def AUDENAB_ENABLE_CH1 equ B_AUDENA_ENABLE_CH1
    def AUDENAF_CH4_OFF equ AUDENA_CH4_OFF
    def AUDENAF_CH4_ON  equ AUDENA_CH4_ON
    def AUDENAF_CH3_OFF equ AUDENA_CH3_OFF
    def AUDENAF_CH3_ON  equ AUDENA_CH3_ON
    def AUDENAF_CH2_OFF equ AUDENA_CH2_OFF
    def AUDENAF_CH2_ON  equ AUDENA_CH2_ON
    def AUDENAF_CH1_OFF equ AUDENA_CH1_OFF
    def AUDENAF_CH1_ON  equ AUDENA_CH1_ON

def LCDCB_ON      equ B_LCDC_ENABLE
def LCDCB_WIN9C00 equ B_LCDC_WIN_MAP
def LCDCB_WINON   equ B_LCDC_WINDOW
def LCDCB_BLKS    equ B_LCDC_BLOCKS
def LCDCB_BG9C00  equ B_LCDC_BG_MAP
def LCDCB_OBJ16   equ B_LCDC_OBJ_SIZE
def LCDCB_OBJON   equ B_LCDC_OBJS
def LCDCB_BGON    equ B_LCDC_BG
def LCDCB_PRION   equ B_LCDC_PRIO
    def LCDCF_OFF     equ LCDC_OFF
    def LCDCF_ON      equ LCDC_ON
    def LCDCF_WIN9800 equ LCDC_WIN_9800
    def LCDCF_WIN9C00 equ LCDC_WIN_9C00
    def LCDCF_WINOFF  equ LCDC_WIN_OFF
    def LCDCF_WINON   equ LCDC_WIN_ON
    def LCDCF_BLKS    equ LCDC_BLOCKS
        def LCDCF_BLK21 equ LCDC_BLOCK21
        def LCDCF_BLK01 equ LCDC_BLOCK01
    def LCDCF_BG9800  equ LCDC_BG_9800
    def LCDCF_BG9C00  equ LCDC_BG_9C00
    def LCDCF_OBJ8    equ LCDC_OBJ_8
    def LCDCF_OBJ16   equ LCDC_OBJ_16
    def LCDCF_OBJOFF  equ LCDC_OBJ_OFF
    def LCDCF_OBJON   equ LCDC_OBJ_ON
    def LCDCF_BGOFF   equ LCDC_BG_OFF
    def LCDCF_BGON    equ LCDC_BG_ON
    def LCDCF_PRIOFF  equ LCDC_PRIO_OFF
    def LCDCF_PRION   equ LCDC_PRIO_ON

def STATB_LYC    equ B_STAT_LYC
def STATB_MODE10 equ B_STAT_MODE_2
def STATB_MODE01 equ B_STAT_MODE_1
def STATB_MODE00 equ B_STAT_MODE_0
def STATB_LYCF   equ B_STAT_LYCF
def STATB_BUSY   equ B_STAT_BUSY
    def STATF_LYC    equ STAT_LYC
    def STATF_MODE10 equ STAT_MODE_2
    def STATF_MODE01 equ STAT_MODE_1
    def STATF_MODE00 equ STAT_MODE_0
    def STATF_LYCF   equ STAT_LYCF
    def STATF_BUSY   equ STAT_BUSY
def STATF_MODE   equ STAT_MODE
    def STATF_HBL    equ STAT_HBLANK
    def STATF_VBL    equ STAT_VBLANK
    def STATF_OAM    equ STAT_OAM
    def STATF_LCD    equ STAT_LCD

def SYSF_MODE equ SYS_MODE
    def SYSF_CGB  equ SYS_CGB
    def SYSF_DMG  equ SYS_DMG
    def SYSF_PGB1 equ SYS_PGB1
    def SYSF_PGB2 equ SYS_PGB2

def SPDB_DBLSPEED equ B_SPD_DOUBLE
def SPDB_PREPARE  equ B_SPD_PREPARE
    def SPDF_DBLSPEED equ SPD_DOUBLE
    def SPDF_PREPARE  equ SPD_PREPARE

def BANKB_ON equ B_BANK_ON
    def BANKF_ON  equ BANK_ON
    def BANKF_OFF equ BANK_OFF

def VDMA_LENB_MODE equ B_VDMA_LEN_MODE
    def VDMA_LENF_MODE equ VDMA_LEN_MODE
        def VDMA_LENF_MODE_GP  equ VDMA_LEN_MODE_GENERAL
        def VDMA_LENF_MODE_HBL equ VDMA_LEN_MODE_HBLANK
def VDMA_LENB_BUSY equ B_VDMA_LEN_BUSY
    def VDMA_LENF_BUSY equ VDMA_LEN_BUSY
        def VDMA_LENF_NO  equ VDMA_LEN_NO
        def VDMA_LENF_YES equ VDMA_LEN_YES
def VDMA_LENB_SIZE equ VDMA_LEN_SIZE

def RPF_READ   equ RP_READ
    def RPF_DISREAD equ RP_DISABLE
    def RPF_ENREAD  equ RP_ENABLE
def RPB_DATAIN equ B_RP_DATA_IN
def RPB_LED_ON equ B_RP_LED_ON
    def RPF_DATAIN equ RP_DATA_IN
    def RPF_LED_ON equ RP_LED_ON
        def RPF_WRITE_LO equ RP_WRITE_LOW
        def RPF_WRITE_HI equ RP_WRITE_HIGH

def BGPIB_AUTOINC equ B_BGPI_AUTOINC
    def BGPIF_AUTOINC equ BGPI_AUTOINC
def BGPIF_INDEX   equ BGPI_INDEX

def OBPIB_AUTOINC equ B_OBPI_AUTOINC
    def OBPIF_AUTOINC equ OBPI_AUTOINC
def OBPIF_INDEX   equ OBPI_INDEX

def OPRIB_PRI equ B_OPRI_PRIORITY
    def OPRIF_PRI equ OPRI_PRIORITY

def WBKF_BANK equ WBK_BANK

def PCM12F_CH2 equ PCM12_CH2
def PCM12F_CH1 equ PCM12_CH1

def PCM34F_CH4 equ PCM34_CH4
def PCM34F_CH3 equ PCM34_CH3

def IEB_JOYPAD equ B_IE_JOYPAD
def IEB_SERIAL equ B_IE_SERIAL
def IEB_TIMER  equ B_IE_TIMER
def IEB_STAT   equ B_IE_STAT
def IEB_VBLANK equ B_IE_VBLANK
    def IEF_JOYPAD equ IE_JOYPAD
    def IEF_SERIAL equ IE_SERIAL
    def IEF_TIMER  equ IE_TIMER
    def IEF_STAT   equ IE_STAT
    def IEF_VBLANK equ IE_VBLANK


;******************************************************************************
; Cartridge registers (MBC)
;******************************************************************************

def CART_SRAM_DISABLE equ RAMG_SRAM_DISABLE
def CART_SRAM_ENABLE  equ RAMG_SRAM_ENABLE

def RTC_S  equ RAMB_RTC_S
def RTC_M  equ RAMB_RTC_M
def RTC_H  equ RAMB_RTC_H
def RTC_DL equ RAMB_RTC_DL
def RTC_DH equ RAMB_RTC_DH
    def RTC_DHB_CARRY equ B_RAMB_RTC_DH_CARRY
    def RTC_DHB_HALT  equ B_RAMB_RTC_DH_HALT
    def RTC_DHB_HIGH  equ B_RAMB_RTC_DH_HIGH
        def RTC_DHF_CARRY equ RAMB_RTC_DH_CARRY
        def RTC_DHF_HALT  equ RAMB_RTC_DH_HALT
        def RTC_DHF_HIGH  equ RAMB_RTC_DH_HIGH

def CARTB_RUMBLE_ON equ B_RAMB_RUMBLE
def CARTF_RUMBLE_ON equ RAMB_RUMBLE
def CART_RUMBLE_OFF equ RAMB_RUMBLE_OFF
def CART_RUMBLE_ON  equ RAMB_RUMBLE_ON


;******************************************************************************
; Screen-related constants
;******************************************************************************

def SCRN_X   equ SCREEN_WIDTH_PX
def SCRN_Y   equ SCREEN_HEIGHT_PX
def SCRN_X_B equ SCREEN_WIDTH
def SCRN_Y_B equ SCREEN_HEIGHT
def SCRN_B   equ SCREEN_AREA

def SCRN_VX   equ TILEMAP_WIDTH_PX
def SCRN_VY   equ TILEMAP_HEIGHT_PX
def SCRN_VX_B equ TILEMAP_WIDTH
def SCRN_VY_B equ TILEMAP_HEIGHT
def SCRN_V_B  equ TILEMAP_AREA

def TILE_X equ TILE_WIDTH
def TILE_Y equ TILE_HEIGHT
def TILE_B equ TILE_SIZE

def COLOR_B equ COLOR_SIZE
    def COLORF_GREEN_LOW  equ COLOR_GREEN_LOW
    def COLORF_RED        equ COLOR_RED
    def COLORF_BLUE       equ COLOR_BLUE
    def COLORF_GREEN_HIGH equ COLOR_GREEN_HIGH

def PAL_B equ PAL_SIZE

def _SCRN0 equ TILEMAP0
def _SCRN1 equ TILEMAP1


;******************************************************************************
; OBJ-related constants
;******************************************************************************

def OAMB_PRI     equ B_OAM_PRIO
def OAMB_YFLIP   equ B_OAM_YFLIP
def OAMB_XFLIP   equ B_OAM_XFLIP
def OAMB_PAL1    equ B_OAM_PAL1
def OAMB_BANK1   equ B_OAM_BANK1
def OAMF_PALMASK equ OAM_PALETTE
    def OAMF_PRI   equ OAM_PRIO
    def OAMF_YFLIP equ OAM_YFLIP
    def OAMF_XFLIP equ OAM_XFLIP
    def OAMF_PAL0  equ OAM_PAL0
    def OAMF_PAL1  equ OAM_PAL1
    def OAMF_BANK0 equ OAM_BANK0
    def OAMF_BANK1 equ OAM_BANK1
def OBJ_B        equ OBJ_SIZE

def OAM_B equ OAM_SIZE


;******************************************************************************
; Boot-up register values
;******************************************************************************

def BOOTUPB_B_AGB equ B_BOOTUP_B_AGB


;******************************************************************************
; Aliases
;******************************************************************************

def P1F_GET_BTN  equ JOYP_GET_BTN
def P1F_GET_DPAD equ JOYP_GET_DPAD
def P1F_GET_NONE equ JOYP_GET_NONE
def P1F_5        equ JOYP_GET_DPAD
def P1F_4        equ JOYP_GET_BTN
def P1F_3        equ JOYPF_DOWN
def P1F_2        equ JOYPF_UP
def P1F_1        equ JOYPF_LEFT
def P1F_0        equ JOYPF_RIGHT

def KEY0F_MODE equ SYSF_MODE
    def KEY0F_CGB  equ SYSF_CGB
    def KEY0F_DMG  equ SYSF_DMG
    def KEY0F_PGB1 equ SYSF_PGB1
    def KEY0F_PGB2 equ SYSF_PGB2

def KEY1F_DBLSPEED equ SPDF_DBLSPEED
def KEY1F_PREPARE  equ SPDF_PREPARE

def HDMA5B_MODE equ VDMA_LENB_MODE
    def HDMA5F_MODE_GP  equ VDMA_LENF_MODE_GP
    def HDMA5F_MODE_HBL equ VDMA_LENF_MODE_HBL
def HDMA5F_BUSY equ VDMA_LENF_BUSY

def BCPSB_AUTOINC equ BGPIB_AUTOINC
    def BCPSF_AUTOINC equ BGPIF_AUTOINC

def OCPSB_AUTOINC equ OBPIB_AUTOINC
    def OCPSF_AUTOINC equ OBPIF_AUTOINC

def rSMBK equ rWBK


;******************************************************************************
; Memory regions
;******************************************************************************

; Prefer RGBASM and RGBLINK features instead of these values.
; Note that the value of \`STARTOF(<section_type>)\` is determined at link time.

def _ROM     equ $0000 ; $0000-$3FFF / $0000-$7FFF (prefer \`STARTOF(ROM0)\`)
def _ROMBANK equ $4000 ; $4000-$7FFF               (prefer \`STARTOF(ROMX)\`)
def _VRAM    equ $8000 ; $8000-$9FFF               (prefer \`STARTOF(VRAM)\`)
def _SRAM    equ $A000 ; $A000-$BFFF               (prefer \`STARTOF(SRAM)\`)
def _RAM     equ $C000 ; $C000-$CFFF / $C000-$DFFF (prefer \`STARTOF(WRAM0)\`)
def _RAMBANK equ $D000 ; $D000-$DFFF               (prefer \`STARTOF(WRAMX)\`)
def _OAMRAM  equ $FE00 ; $FE00-$FE9F               (prefer \`STARTOF(OAM)\`)
def _IO      equ $FF00 ; $FF00-$FF7F, $FFFF        (prefer \`ldh [c]\` to \`ld [_IO+c]\`)
def _HRAM    equ $FF80 ; $FF80-$FFFE               (prefer \`STARTOF(HRAM)\`)


;******************************************************************************
; Cartridge header
;******************************************************************************

; Prefer RGBFIX instead of these values.
; Zero-filled space can be reserved for fixable header values like this:
;
;     SECTION "Cartridge header", ROM0[$0100]
;         nop :: jp $0150  ; Entry point ($0100-$0104)
;         ds $150 - @, $00 ; Header ($0104-$014FF) filled with $00s for RGBFIX to populate

; -- Nintendo logo ($0104-$0133) ----------------------------------------------
; Prefer \`rgbfix -f/--fix-spec l\` for the official logo, or \`rgbfix -L <logo_file>\` for a custom one
MACRO NINTENDO_LOGO
    db $CE,$ED,$66,$66,$CC,$0D,$00,$0B,$03,$73,$00,$83,$00,$0C,$00,$0D
    db $00,$08,$11,$1F,$88,$89,$00,$0E,$DC,$CC,$6E,$E6,$DD,$DD,$D9,$99
    db $BB,$BB,$67,$63,$6E,$0E,$EC,$CC,$DD,$DC,$99,$9F,$BB,$B9,$33,$3E
ENDM

; -- CGB compatibility code ($0143) -------------------------------------------
def CART_COMPATIBLE_DMG     equ $00 ; default value if header is zero-filled
def CART_COMPATIBLE_DMG_GBC equ $80 ; prefer \`rgbfix -c/--color-compatible\`
def CART_COMPATIBLE_GBC     equ $C0 ; prefer \`rgbfix -C/--color-only\`

; -- SGB flag ($0146) ---------------------------------------------------------
def CART_INDICATOR_GB  equ $00 ; default value if header is zero-filled
def CART_INDICATOR_SGB equ $03 ; prefer \`rgblink -s/--sgb-compatible\`

; -- Cartridge type ($0147) ---------------------------------------------------
; Prefer \`rgblink -m/--mbc_type <mbc_type>\`
def CART_ROM                     equ $00
def CART_ROM_MBC1                equ $01
def CART_ROM_MBC1_RAM            equ $02
def CART_ROM_MBC1_RAM_BAT        equ $03
def CART_ROM_MBC2                equ $05
def CART_ROM_MBC2_BAT            equ $06
def CART_ROM_RAM                 equ $08
def CART_ROM_RAM_BAT             equ $09
def CART_ROM_MMM01               equ $0B
def CART_ROM_MMM01_RAM           equ $0C
def CART_ROM_MMM01_RAM_BAT       equ $0D
def CART_ROM_MBC3_BAT_RTC        equ $0F
def CART_ROM_MBC3_RAM_BAT_RTC    equ $10
def CART_ROM_MBC3                equ $11
def CART_ROM_MBC3_RAM            equ $12
def CART_ROM_MBC3_RAM_BAT        equ $13
def CART_ROM_MBC5                equ $19
def CART_ROM_MBC5_RAM            equ $1A
def CART_ROM_MBC5_RAM_BAT        equ $1B
def CART_ROM_MBC5_RUMBLE         equ $1C
def CART_ROM_MBC5_RAM_RUMBLE     equ $1D
def CART_ROM_MBC5_RAM_BAT_RUMBLE equ $1E
def CART_ROM_MBC7_RAM_BAT_GYRO   equ $22
def CART_ROM_POCKET_CAMERA       equ $FC
def CART_ROM_BANDAI_TAMA5        equ $FD
def CART_ROM_HUDSON_HUC3         equ $FE
def CART_ROM_HUDSON_HUC1         equ $FF

; -- ROM size ($0148) ---------------------------------------------------------
; Prefer \`rgbfix -p/--pad_value <pad_value>\`, which pads to the smallest valid size
def CART_ROM_32KB   equ $00 ;   2 banks
def CART_ROM_64KB   equ $01 ;   4 banks
def CART_ROM_128KB  equ $02 ;   8 banks
def CART_ROM_256KB  equ $03 ;  16 banks
def CART_ROM_512KB  equ $04 ;  32 banks
def CART_ROM_1024KB equ $05 ;  64 banks
def CART_ROM_2048KB equ $06 ; 128 banks
def CART_ROM_4096KB equ $07 ; 256 banks
def CART_ROM_8192KB equ $08 ; 512 banks
def CART_ROM_1152KB equ $52 ;  72 banks
def CART_ROM_1280KB equ $53 ;  80 banks
def CART_ROM_1536KB equ $54 ;  96 banks

; -- SRAM size ($0149) --------------------------------------------------------
; Prefer \`rgbfix -r/--ram_size <ram_size>\`
def CART_SRAM_NONE  equ 0 ; none
def CART_SRAM_2KB   equ 1 ;  1 incomplete bank (homebrew only)
def CART_SRAM_8KB   equ 2 ;  1 bank
def CART_SRAM_32KB  equ 3 ;  4 banks
def CART_SRAM_128KB equ 4 ; 16 banks

; -- Destination code ($014A) -------------------------------------------------
def CART_DEST_JAPANESE     equ $00 ; default value if header is zero-filled
def CART_DEST_NON_JAPANESE equ $01 ; prefer \`rgbfix -j/--non-japanese\`


;******************************************************************************
; Deprecated constants
;******************************************************************************

def AUDLENF_DUTY equ AUD1LENF_DUTY
    def AUDLEN_DUTY_12_5 equ AUD1LEN_DUTY_12_5
    def AUDLEN_DUTY_25   equ AUD1LEN_DUTY_25
    def AUDLEN_DUTY_50   equ AUD1LEN_DUTY_50
    def AUDLEN_DUTY_75   equ AUD1LEN_DUTY_75

def AUDLENF_TIMER equ AUD1LENF_TIMER

def AUDENVF_INIT_VOL equ AUD1ENVF_INIT_VOL

def AUDENVB_DIR equ AUD1ENVB_DIR
    def AUDENVF_DIR equ AUD1ENVF_DIR
        def AUDENV_DOWN equ AUD1ENV_DOWN
        def AUDENV_UP   equ AUD1ENV_UP

def AUDENVF_PACE equ AUD1ENVF_PACE

def AUDHIGHB_RESTART    equ AUD1HIGHB_RESTART
def AUDHIGHB_LEN_ENABLE equ AUD1HIGHB_LEN_ENABLE
    def AUDHIGH_RESTART    equ AUD1HIGH_RESTART
    def AUDHIGH_LENGTH_OFF equ AUD1HIGH_LENGTH_OFF
    def AUDHIGH_LENGTH_ON  equ AUD1HIGH_LENGTH_ON

def AUDHIGHF_PERIOD_HIGH equ AUD1HIGHF_PERIOD_HIGH

def LCDCB_BG8000 equ LCDCB_BLKS
    def LCDCF_BG8800 equ LCDCF_BLK21
    def LCDCF_BG8000 equ LCDCF_BLK01

def IEB_HILO equ IEB_JOYPAD
    def IEF_HILO equ IEF_JOYPAD
def IEF_LCDC equ IEF_STAT

def sizeof_OAM_ATTRS equ OBJ_B

def _VRAM8000 equ _VRAM
def _VRAM8800 equ _VRAM + $800
def _VRAM9000 equ _VRAM + $1000

endc ; HARDWARE_COMPAT_INC
`,po='; Adapted from https://gbdev.io/gb-asm-tutorial/part1/hello_world.html\n\nINCLUDE "hardware.inc"\n\nSECTION "Header", ROM0[$100]\n\n  jp EntryPoint\n\n  ds $150 - @, 0 ; Make room for the header\n\nEntryPoint:\n  ; Shut down audio circuitry\n  xor a\n  ldh [rAUDENA], a\n\n  ; Do not turn the LCD off outside of VBlank\n.wait_vblank\n  ldh a, [rLY]\n  cp LY_VBLANK\n  jr c, .wait_vblank\n\n  ; Turn the LCD off\n  ld a, LCDC_OFF\n  ldh [rLCDC], a\n\n  ; Copy the tile data\n  ld de, Tiles\n  ld hl, STARTOF(VRAM) + $100 * TILE_SIZE\n  ld bc, Tiles.end - Tiles\n  call Copy\n\n  ; Copy the tilemap\n  ld de, Tilemap\n  ld hl, TILEMAP0\n  ld bc, Tilemap.end - Tilemap\n  call Copy\n\n  ; Turn the LCD on\n  ld a, LCDC_ON | LCDC_BG_ON\n  ldh [rLCDC], a\n\n  ; During the first (blank) frame, initialize display registers\n  ld a, %11_10_01_00\n  ldh [rBGP], a\n\n.done\n  jr .done\n\n; Subroutine to copy bc bytes from de to hl\nCopy:\n  ld a, [de]\n  ld [hli], a\n  inc de\n  dec bc\n  ld a, b\n  or a, c\n  jr nz, Copy\n  ret\n\nSECTION "Tile data", ROM0\n\nTiles:\n  dw `22222222, `22222222, `22222222, `22222222, `22222222, `22222222, `22222222, `22222222 ; $00\n  dw `22222222, `20000000, `20000000, `20000000, `20000000, `20000000, `20000000, `20000000 ; $01\n  dw `22222222, `02222220, `02222220, `02222220, `02222220, `02222220, `02222220, `02222220 ; $02\n  dw `22222222, `00000002, `00000002, `00000002, `00000002, `00000002, `00000002, `00000002 ; $03\n  dw `22222222, `00000000, `00000000, `00000000, `00000000, `00000000, `00000000, `00000000 ; $04\n  dw `22222222, `02222222, `02222222, `02222222, `02222222, `02222222, `02222222, `02222222 ; $05\n  dw `22222222, `22222211, `22222000, `22220000, `22200000, `22100000, `22000000, `21000000 ; $06\n  dw `22222222, `11222222, `00022222, `00002222, `00000222, `00000122, `00000022, `00000012 ; $07\n  dw `20000000, `20000000, `21111111, `20000000, `20000000, `21111111, `21111111, `20000000 ; $08\n  dw `02222220, `02323230, `13232321, `02323230, `03232320, `11111111, `11111111, `00000000 ; $09\n  dw `00000002, `00000002, `11111113, `00000002, `00000003, `11111112, `11111113, `00000002 ; $0a\n  dw `20000000, `30000000, `21111111, `30000000, `20000000, `31111111, `21111111, `30000000 ; $0b\n  dw `02222222, `02323232, `13232323, `02323232, `03232323, `11111111, `11111111, `00000000 ; $0c\n  dw `22222222, `32323232, `23232323, `32323232, `23232323, `11111232, `11111323, `00000232 ; $0d\n  dw `02222222, `02323232, `13232323, `02323232, `03232323, `12323232, `13232323, `02323232 ; $0e\n  dw `22222222, `32222222, `22222222, `32222222, `22222222, `32222222, `22222222, `32222222 ; $0f\n  dw `21000000, `20000000, `21111111, `20000000, `20000000, `21111111, `21111111, `20000000 ; $10\n  dw `00222200, `02222230, `12222321, `02223230, `02232320, `12323231, `12232321, `02323230 ; $11\n  dw `00000012, `00000002, `11111113, `00000002, `00000003, `11111112, `11111113, `00000002 ; $12\n  dw `22222222, `32222222, `23232222, `32323222, `23232222, `32323222, `23232322, `32323222 ; $13\n  dw `21111111, `21111111, `21111111, `21111111, `21111111, `21111111, `21111111, `21111111 ; $14\n  dw `11111111, `11111111, `11111111, `12323231, `13232321, `12323231, `13232321, `12323231 ; $15\n  dw `11111113, `11111112, `11111113, `11111112, `11111113, `11111112, `11111113, `11111112 ; $16\n  dw `21111111, `31111111, `21111111, `31111111, `21111111, `31111111, `21111111, `31111111 ; $17\n  dw `11111111, `11111111, `11111111, `12323232, `13232323, `12323232, `13232323, `12323232 ; $18\n  dw `11111222, `11111222, `11111222, `32222222, `22222222, `32323232, `23232323, `32323232 ; $19\n  dw `21111111, `21111111, `21111111, `21111111, `21111111, `31111111, `21111111, `31111111 ; $1a\n  dw `13232323, `12323232, `13232323, `12323232, `13232323, `12323232, `13232323, `12323232 ; $1b\n  dw `13232321, `12323231, `13232321, `12323231, `13232321, `12323231, `13232321, `11323211 ; $1c\n  dw `23232322, `32323232, `23232322, `32323232, `23232322, `32323232, `23232322, `32323232 ; $1d\n  dw `21111111, `21111111, `21111111, `21111111, `21111111, `21111111, `21111111, `22222222 ; $1e\n  dw `13232321, `12323231, `13232321, `12323231, `13232321, `12323231, `13232321, `22323232 ; $1f\n  dw `11111113, `11111112, `11111113, `11111112, `11111113, `11111112, `11111113, `32222222 ; $20\n  dw `21111111, `31111111, `21111111, `31111111, `21111111, `31111111, `21111111, `32323232 ; $21\n  dw `11111111, `11111111, `11111111, `11111111, `11111111, `11111111, `11111111, `22323232 ; $22\n  dw `11111113, `11111112, `11111113, `11111112, `11111112, `11111112, `11111112, `32222222 ; $23\n  dw `21111111, `31111111, `21111111, `21111111, `21111111, `21111111, `21111111, `22222222 ; $24\n  dw `11111112, `11111112, `11111112, `11111112, `11111112, `11111112, `11111112, `32222222 ; $25\n  dw `22111111, `22111111, `22111111, `22211111, `22211111, `22221111, `22222211, `22222222 ; $26\n  dw `11111123, `11111122, `11111123, `11111222, `11111223, `11112222, `11222223, `32222232 ; $27\n  dw `23232323, `02323230, `03232320, `02323230, `03232320, `02323230, `03232320, `02222220 ; $28\n  dw `22222223, `00000002, `00000003, `00000002, `00000003, `00000002, `00000003, `00000002 ; $29\n  dw `23232322, `32323110, `23230000, `32300000, `23100000, `32000000, `21000000, `21000000 ; $2a\n  dw `23232323, `00000000, `00000000, `00000000, `00000000, `00000000, `00000000, `00000000 ; $2b\n  dw `23232323, `01123232, `00002323, `00000232, `00000323, `00000032, `00000013, `00000012 ; $2c\n  dw `23232322, `30000000, `20000000, `30000000, `20000000, `30000000, `20000000, `20000000 ; $2d\n  dw `23232323, `00123232, `00001323, `00000132, `00000023, `00000012, `00000003, `00000002 ; $2e\n  dw `23232323, `02323232, `03232323, `02323232, `03232323, `02323232, `03232323, `02222222 ; $2f\n  dw `23232323, `32323232, `23232323, `32323232, `23232323, `32323232, `23232323, `22222222 ; $30\n  dw `22232323, `00000000, `00000000, `00000000, `00000000, `00000000, `00000000, `00000000 ; $31\n  dw `23232323, `01123232, `00001323, `00000132, `00000023, `00000012, `00000013, `00000002 ; $32\n  dw `23232322, `32323222, `23232322, `32323222, `23232222, `32322222, `23222222, `22222222 ; $33\n  dw `02222220, `02323230, `13232321, `02323230, `03232320, `12321231, `13211321, `02300230 ; $34\n  dw `02222200, `02323230, `13232321, `02323230, `03232300, `11111111, `11111111, `00000000 ; $35\n  dw `00000002, `00000002, `11111113, `00000012, `00000113, `11111132, `11111323, `00003232 ; $36\n  dw `02222200, `02323230, `13232321, `02323230, `03232320, `12323231, `13232321, `02323230 ; $37\n  dw `22222222, `32322222, `23232222, `32323222, `23232322, `32323222, `23232322, `32323232 ; $38\n  dw `13211121, `12111131, `13111121, `12111111, `11111111, `11111111, `11112111, `11123111 ; $39\n  dw `11111111, `11111111, `11111111, `12323211, `13232321, `12323231, `13232321, `12323231 ; $3a\n  dw `11111223, `11111122, `11111123, `11111112, `11111113, `11111112, `11111113, `11111112 ; $3b\n  dw `13232321, `12323231, `13232321, `12323231, `13232321, `12323231, `13232321, `12323211 ; $3c\n  dw `11132111, `11123211, `11232311, `11323211, `11232321, `12323231, `13232321, `22323232 ; $3d\n  dw `11111113, `11111112, `11111113, `11111112, `11111113, `11111112, `11111113, `32322232 ; $3e\n  dw `23111111, `32111111, `23111111, `32311111, `23211111, `32321111, `23232311, `32323232 ; $3f\n  dw `11111113, `11111122, `11111123, `11111122, `11111223, `11112222, `11222223, `32222232 ; $40\n  dw `23232323, `22323232, `23232323, `22323232, `23232323, `22323232, `23232323, `22222222 ; $41\n  dw `23222323, `32322232, `23222223, `32222232, `23222223, `32222222, `22222223, `22222222 ; $42\n  dw `23232322, `32323232, `23232322, `32323232, `23232322, `32323232, `23232322, `22222222 ; $43\n  dw `22232323, `22323232, `22232323, `22223232, `22232323, `22223232, `22222223, `22222222 ; $44\n  dw `22222223, `32222222, `22222223, `32222222, `22222223, `32222222, `22222223, `22222222 ; $45\n.end\n\nSECTION "Tilemap", ROM0\n\nTilemap:\n  db $00, $00, $00, $00, $00, $00, $00, $00, $00, $00, $00, $00, $00, $00, $00, $00, $00, $00, $00, $00,  0,0,0,0,0,0,0,0,0,0,0,0\n  db $00, $00, $00, $00, $00, $00, $00, $00, $00, $00, $00, $00, $00, $00, $00, $00, $00, $00, $00, $00,  0,0,0,0,0,0,0,0,0,0,0,0\n  db $00, $00, $00, $00, $00, $00, $00, $00, $00, $00, $00, $00, $00, $00, $00, $00, $00, $00, $00, $00,  0,0,0,0,0,0,0,0,0,0,0,0\n  db $00, $00, $00, $00, $00, $00, $00, $00, $00, $00, $00, $00, $00, $00, $00, $00, $00, $00, $00, $00,  0,0,0,0,0,0,0,0,0,0,0,0\n  db $00, $00, $01, $02, $03, $01, $04, $03, $01, $05, $00, $01, $05, $00, $06, $04, $07, $00, $00, $00,  0,0,0,0,0,0,0,0,0,0,0,0\n  db $00, $00, $08, $09, $0a, $0b, $0c, $0d, $0b, $0e, $0f, $08, $0e, $0f, $10, $11, $12, $13, $00, $00,  0,0,0,0,0,0,0,0,0,0,0,0\n  db $00, $00, $14, $15, $16, $17, $18, $19, $1a, $1b, $0f, $14, $1b, $0f, $14, $1c, $16, $1d, $00, $00,  0,0,0,0,0,0,0,0,0,0,0,0\n  db $00, $00, $1e, $1f, $20, $21, $22, $23, $24, $22, $25, $1e, $22, $25, $26, $22, $27, $1d, $00, $00,  0,0,0,0,0,0,0,0,0,0,0,0\n  db $00, $00, $01, $28, $29, $2a, $2b, $2c, $2d, $2b, $2e, $2d, $2f, $30, $2d, $31, $32, $33, $00, $00,  0,0,0,0,0,0,0,0,0,0,0,0\n  db $00, $00, $08, $34, $0a, $0b, $11, $0a, $0b, $35, $36, $0b, $0e, $0f, $08, $37, $0a, $38, $00, $00,  0,0,0,0,0,0,0,0,0,0,0,0\n  db $00, $00, $14, $39, $16, $17, $1c, $16, $17, $3a, $3b, $17, $1b, $0f, $14, $3c, $16, $1d, $00, $00,  0,0,0,0,0,0,0,0,0,0,0,0\n  db $00, $00, $1e, $3d, $3e, $3f, $22, $27, $21, $1f, $20, $21, $22, $25, $1e, $22, $40, $1d, $00, $00,  0,0,0,0,0,0,0,0,0,0,0,0\n  db $00, $00, $00, $41, $42, $43, $44, $30, $33, $41, $45, $43, $41, $30, $43, $41, $30, $33, $00, $00,  0,0,0,0,0,0,0,0,0,0,0,0\n  db $00, $00, $00, $00, $00, $00, $00, $00, $00, $00, $00, $00, $00, $00, $00, $00, $00, $00, $00, $00,  0,0,0,0,0,0,0,0,0,0,0,0\n  db $00, $00, $00, $00, $00, $00, $00, $00, $00, $00, $00, $00, $00, $00, $00, $00, $00, $00, $00, $00,  0,0,0,0,0,0,0,0,0,0,0,0\n  db $00, $00, $00, $00, $00, $00, $00, $00, $00, $00, $00, $00, $00, $00, $00, $00, $00, $00, $00, $00,  0,0,0,0,0,0,0,0,0,0,0,0\n  db $00, $00, $00, $00, $00, $00, $00, $00, $00, $00, $00, $00, $00, $00, $00, $00, $00, $00, $00, $00,  0,0,0,0,0,0,0,0,0,0,0,0\n  db $00, $00, $00, $00, $00, $00, $00, $00, $00, $00, $00, $00, $00, $00, $00, $00, $00, $00, $00, $00,  0,0,0,0,0,0,0,0,0,0,0,0\n.end\n',Ot={autoUrl:!1,autoLocalStorage:!1};let nt;ri();function ri(){nt={"hardware.inc":wr,"hardware_compat.inc":ni,"main.asm":po}}function In(){return{"hardware.inc":wr,"hardware_compat.inc":ni}}function go(){if(location.hash.length>1)location.hash.startsWith("#https://gist.github.com/")?(si(location.hash.slice(1)),location.hash=""):location.hash.startsWith("#http://")||location.hash.startsWith("#https://")?(wo(location.hash.slice(1)),location.hash=""):(mo(),Ot.autoUrl=!0);else if("rgbds_storage"in localStorage){nt=In();for(var[te,Q]of Object.entries(JSON.parse(localStorage.rgbds_storage)))Q instanceof Object&&(Q=Uint8Array.from(Object.values(Q))),nt[te]=Q;Ot.autoLocalStorage=!0}}function mt(){return nt}function Ft(te,Q){typeof te<"u"&&(Q instanceof ArrayBuffer&&(Q=new Uint8Array(Q)),Q===null?delete nt[te]:nt[te]=Q),Ot.autoUrl&&(document.location.hash=new URL(ii()).hash),Ot.autoLocalStorage&&(localStorage.rgbds_storage=JSON.stringify(nt))}function mo(){var te=Vr.decompressFromEncodedURIComponent(location.hash.slice(1));if(te==null)return!1;if(te.indexOf("\0")<0)return nt["main.asm"]=te,!0;te=te.split("\0"),nt=In();for(var Q=0;Q<te.length-1;Q+=2)nt[te[Q]]=te[Q+1];return!0}function ii(){var te="";for(var[Q,f]of Object.entries(nt))Q=="hardware.inc"&&f==wr||(te+=Q+"\0"+f+"\0");var B=new URL(document.location);return B.hash=Vr.compressToEncodedURIComponent(te),B.hash.length>1024*2?"Sorry, code too large for direct URL generation":B.toString()}function oi(te){var Q=/https:\/\/gist\.github\.com\/\w+\/(\w+)/.exec(te);return Q?Q[1]:null}function si(te){var Q=oi(te);if(Q!=null){var f=new XMLHttpRequest;f.open("GET","https://api.github.com/gists/"+Q,!1),f.send(),JSON.parse(f.response);var B=JSON.parse(f.responseText);nt=In();for(var[z,M]of Object.entries(B.files))nt[z]=M.content;Ar()}}function vo(te,Q,f){var B={};for(var[z,M]of Object.entries(nt))B[z]={content:M};if(f==""){var _=new XMLHttpRequest;return _.open("POST","https://api.github.com/gists",!1),_.setRequestHeader("Authorization","Basic "+btoa(te+":"+Q)),_.send(JSON.stringify({files:B})),_.status>=400?null:JSON.parse(_.response).html_url}var b=oi(f);if(b==null)return null;var _=new XMLHttpRequest;return _.open("PATCH","https://api.github.com/gists/"+b,!1),_.setRequestHeader("Authorization","Basic "+btoa(te+":"+Q)),_.send(JSON.stringify({files:B})),_.status>=400?null:f}function _o(){var te=new qr;for(var[Q,f]of Object.entries(nt))te.file(Q,f);te.generateAsync({type:"blob"}).then(function(B){var z=document.createElement("a"),M=window.URL.createObjectURL(B,{type:"application/octet-stream"});z.setAttribute("href",M),z.setAttribute("download","source.zip"),z.style.display="none",document.body.appendChild(z),z.click(),document.body.removeChild(z),window.URL.revokeObjectURL(M)})}function yo(te){nt=In(),qr.loadAsync(te).then(function(Q){var f=Object.values(Q.files);function B(){if(!(f.length<1)){var z=f.pop(),M=fr(z.name)=="text"?"string":"uint8array";z.async(M).then(function(b){nt[z.name]=b,B(),Ar()})}}B()})}function wo(te){nt=In();var Q=new XMLHttpRequest;Q.open("GET",te,!1),Q.send(),nt["main.asm"]=Q.response,Ar()}function Ar(){Vt(Object.keys(nt)[0]),Nt(),Gn()}var Ao=async function(te={}){var Q,f=te,B,z,M=new Promise((T,x)=>{B=T,z=x}),b=[],_="./this.program",s=(T,x)=>{throw x},d=import.meta.url,o="";function n(T){return f.locateFile?f.locateFile(T,o):o+T}var i,t;{try{o=new URL(".",d).href}catch{}i=async T=>{var x=await fetch(T,{credentials:"same-origin"});if(x.ok)return x.arrayBuffer();throw new Error(x.status+" : "+x.url)}}var e=console.log.bind(console),r=console.error.bind(console),a,c,h=!1,$,v,p,u,m,E,C;function R(){var T=c.buffer;v=new Int8Array(T),u=new Int16Array(T),p=new Uint8Array(T),m=new Int32Array(T),E=new Uint32Array(T),C=new BigInt64Array(T),new BigUint64Array(T)}function L(){if(f.preRun)for(typeof f.preRun=="function"&&(f.preRun=[f.preRun]);f.preRun.length;)Ue(f.preRun.shift());Ce(Fe)}function g(){!f.noFSInit&&!S.initialized&&S.init(),P.w(),S.ignorePermissions=!1}function y(){if(f.postRun)for(typeof f.postRun=="function"&&(f.postRun=[f.postRun]);f.postRun.length;)Be(f.postRun.shift());Ce(Se)}var l=0,w=null;function k(T){l++,f.monitorRunDependencies?.(l)}function I(T){if(l--,f.monitorRunDependencies?.(l),l==0&&w){var x=w;w=null,x()}}function G(T){f.onAbort?.(T),T="Aborted("+T+")",r(T),h=!0,T+=". Build with -sASSERTIONS for more info.";var x=new WebAssembly.RuntimeError(T);throw z(x),x}var H;function J(){return f.locateFile?n("rgbasm.wasm"):new URL(""+new URL("rgbasm-CBFYvuio.wasm",import.meta.url).href,import.meta.url).href}function j(T){if(T==H&&a)return new Uint8Array(a);throw"both async and sync fetching of the wasm failed"}async function K(T){if(!a)try{var x=await i(T);return new Uint8Array(x)}catch{}return j(T)}async function ie(T,x){try{var U=await K(T),V=await WebAssembly.instantiate(U,x);return V}catch(Z){r(`failed to asynchronously prepare wasm: ${Z}`),G(Z)}}async function ee(T,x,U){if(!T&&typeof WebAssembly.instantiateStreaming=="function")try{var V=fetch(x,{credentials:"same-origin"}),Z=await WebAssembly.instantiateStreaming(V,U);return Z}catch(ae){r(`wasm streaming compile failed: ${ae}`),r("falling back to ArrayBuffer instantiation")}return ie(x,U)}function oe(){return{a:O}}async function fe(){function T(ae,me){return P=ae.exports,c=P.v,R(),I(),P}k();function x(ae){return T(ae.instance)}var U=oe();if(f.instantiateWasm)return new Promise((ae,me)=>{f.instantiateWasm(U,(we,ke)=>{ae(T(we))})});H??=J();try{var V=await ee(a,H,U),Z=x(V);return Z}catch(ae){return z(ae),Promise.reject(ae)}}class Ee{name="ExitStatus";constructor(x){this.message=`Program terminated with exit(${x})`,this.status=x}}var Ce=T=>{for(;T.length>0;)T.shift()(f)},Se=[],Be=T=>Se.push(T),Fe=[],Ue=T=>Fe.push(T),Ye=!0,N=()=>{var T=m[+Ve.varargs>>2];return Ve.varargs+=4,T},Ae=N,ue={isAbs:T=>T.charAt(0)==="/",splitPath:T=>{var x=/^(\/?|)([\s\S]*?)((?:\.{1,2}|[^\/]+?|)(\.[^.\/]*|))(?:[\/]*)$/;return x.exec(T).slice(1)},normalizeArray:(T,x)=>{for(var U=0,V=T.length-1;V>=0;V--){var Z=T[V];Z==="."?T.splice(V,1):Z===".."?(T.splice(V,1),U++):U&&(T.splice(V,1),U--)}if(x)for(;U;U--)T.unshift("..");return T},normalize:T=>{var x=ue.isAbs(T),U=T.slice(-1)==="/";return T=ue.normalizeArray(T.split("/").filter(V=>!!V),!x).join("/"),!T&&!x&&(T="."),T&&U&&(T+="/"),(x?"/":"")+T},dirname:T=>{var x=ue.splitPath(T),U=x[0],V=x[1];return!U&&!V?".":(V&&(V=V.slice(0,-1)),U+V)},basename:T=>T&&T.match(/([^\/]+|\/)\/*$/)[1],join:(...T)=>ue.normalize(T.join("/")),join2:(T,x)=>ue.normalize(T+"/"+x)},se=()=>T=>crypto.getRandomValues(T),ne=T=>{(ne=se())(T)},he={resolve:(...T)=>{for(var x="",U=!1,V=T.length-1;V>=-1&&!U;V--){var Z=V>=0?T[V]:S.cwd();if(typeof Z!="string")throw new TypeError("Arguments to path.resolve must be strings");if(!Z)return"";x=Z+"/"+x,U=ue.isAbs(Z)}return x=ue.normalizeArray(x.split("/").filter(ae=>!!ae),!U).join("/"),(U?"/":"")+x||"."},relative:(T,x)=>{T=he.resolve(T).slice(1),x=he.resolve(x).slice(1);function U(ze){for(var Je=0;Je<ze.length&&ze[Je]==="";Je++);for(var Xe=ze.length-1;Xe>=0&&ze[Xe]==="";Xe--);return Je>Xe?[]:ze.slice(Je,Xe-Je+1)}for(var V=U(T.split("/")),Z=U(x.split("/")),ae=Math.min(V.length,Z.length),me=ae,we=0;we<ae;we++)if(V[we]!==Z[we]){me=we;break}for(var ke=[],we=me;we<V.length;we++)ke.push("..");return ke=ke.concat(Z.slice(me)),ke.join("/")}},Re=typeof TextDecoder<"u"?new TextDecoder:void 0,Te=(T,x=0,U=NaN)=>{for(var V=x+U,Z=x;T[Z]&&!(Z>=V);)++Z;if(Z-x>16&&T.buffer&&Re)return Re.decode(T.subarray(x,Z));for(var ae="";x<Z;){var me=T[x++];if(!(me&128)){ae+=String.fromCharCode(me);continue}var we=T[x++]&63;if((me&224)==192){ae+=String.fromCharCode((me&31)<<6|we);continue}var ke=T[x++]&63;if((me&240)==224?me=(me&15)<<12|we<<6|ke:me=(me&7)<<18|we<<12|ke<<6|T[x++]&63,me<65536)ae+=String.fromCharCode(me);else{var ze=me-65536;ae+=String.fromCharCode(55296|ze>>10,56320|ze&1023)}}return ae},ye=[],Le=T=>{for(var x=0,U=0;U<T.length;++U){var V=T.charCodeAt(U);V<=127?x++:V<=2047?x+=2:V>=55296&&V<=57343?(x+=4,++U):x+=3}return x},Ie=(T,x,U,V)=>{if(!(V>0))return 0;for(var Z=U,ae=U+V-1,me=0;me<T.length;++me){var we=T.charCodeAt(me);if(we>=55296&&we<=57343){var ke=T.charCodeAt(++me);we=65536+((we&1023)<<10)|ke&1023}if(we<=127){if(U>=ae)break;x[U++]=we}else if(we<=2047){if(U+1>=ae)break;x[U++]=192|we>>6,x[U++]=128|we&63}else if(we<=65535){if(U+2>=ae)break;x[U++]=224|we>>12,x[U++]=128|we>>6&63,x[U++]=128|we&63}else{if(U+3>=ae)break;x[U++]=240|we>>18,x[U++]=128|we>>12&63,x[U++]=128|we>>6&63,x[U++]=128|we&63}}return x[U]=0,U-Z},Oe=(T,x,U)=>{var V=Le(T)+1,Z=new Array(V),ae=Ie(T,Z,0,Z.length);return Z.length=ae,Z},_e=()=>{if(!ye.length){var T=null;if(typeof window<"u"&&typeof window.prompt=="function"&&(T=window.prompt("Input: "),T!==null&&(T+=`
`)),!T)return null;ye=Oe(T)}return ye.shift()},be={ttys:[],init(){},shutdown(){},register(T,x){be.ttys[T]={input:[],output:[],ops:x},S.registerDevice(T,be.stream_ops)},stream_ops:{open(T){var x=be.ttys[T.node.rdev];if(!x)throw new S.ErrnoError(43);T.tty=x,T.seekable=!1},close(T){T.tty.ops.fsync(T.tty)},fsync(T){T.tty.ops.fsync(T.tty)},read(T,x,U,V,Z){if(!T.tty||!T.tty.ops.get_char)throw new S.ErrnoError(60);for(var ae=0,me=0;me<V;me++){var we;try{we=T.tty.ops.get_char(T.tty)}catch{throw new S.ErrnoError(29)}if(we===void 0&&ae===0)throw new S.ErrnoError(6);if(we==null)break;ae++,x[U+me]=we}return ae&&(T.node.atime=Date.now()),ae},write(T,x,U,V,Z){if(!T.tty||!T.tty.ops.put_char)throw new S.ErrnoError(60);try{for(var ae=0;ae<V;ae++)T.tty.ops.put_char(T.tty,x[U+ae])}catch{throw new S.ErrnoError(29)}return V&&(T.node.mtime=T.node.ctime=Date.now()),ae}},default_tty_ops:{get_char(T){return _e()},put_char(T,x){x===null||x===10?(e(Te(T.output)),T.output=[]):x!=0&&T.output.push(x)},fsync(T){T.output?.length>0&&(e(Te(T.output)),T.output=[])},ioctl_tcgets(T){return{c_iflag:25856,c_oflag:5,c_cflag:191,c_lflag:35387,c_cc:[3,28,127,21,4,0,1,0,17,19,26,0,18,15,23,22,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0]}},ioctl_tcsets(T,x,U){return 0},ioctl_tiocgwinsz(T){return[24,80]}},default_tty1_ops:{put_char(T,x){x===null||x===10?(r(Te(T.output)),T.output=[]):x!=0&&T.output.push(x)},fsync(T){T.output?.length>0&&(r(Te(T.output)),T.output=[])}}},xe=T=>{G()},de={ops_table:null,mount(T){return de.createNode(null,"/",16895,0)},createNode(T,x,U,V){if(S.isBlkdev(U)||S.isFIFO(U))throw new S.ErrnoError(63);de.ops_table||={dir:{node:{getattr:de.node_ops.getattr,setattr:de.node_ops.setattr,lookup:de.node_ops.lookup,mknod:de.node_ops.mknod,rename:de.node_ops.rename,unlink:de.node_ops.unlink,rmdir:de.node_ops.rmdir,readdir:de.node_ops.readdir,symlink:de.node_ops.symlink},stream:{llseek:de.stream_ops.llseek}},file:{node:{getattr:de.node_ops.getattr,setattr:de.node_ops.setattr},stream:{llseek:de.stream_ops.llseek,read:de.stream_ops.read,write:de.stream_ops.write,mmap:de.stream_ops.mmap,msync:de.stream_ops.msync}},link:{node:{getattr:de.node_ops.getattr,setattr:de.node_ops.setattr,readlink:de.node_ops.readlink},stream:{}},chrdev:{node:{getattr:de.node_ops.getattr,setattr:de.node_ops.setattr},stream:S.chrdev_stream_ops}};var Z=S.createNode(T,x,U,V);return S.isDir(Z.mode)?(Z.node_ops=de.ops_table.dir.node,Z.stream_ops=de.ops_table.dir.stream,Z.contents={}):S.isFile(Z.mode)?(Z.node_ops=de.ops_table.file.node,Z.stream_ops=de.ops_table.file.stream,Z.usedBytes=0,Z.contents=null):S.isLink(Z.mode)?(Z.node_ops=de.ops_table.link.node,Z.stream_ops=de.ops_table.link.stream):S.isChrdev(Z.mode)&&(Z.node_ops=de.ops_table.chrdev.node,Z.stream_ops=de.ops_table.chrdev.stream),Z.atime=Z.mtime=Z.ctime=Date.now(),T&&(T.contents[x]=Z,T.atime=T.mtime=T.ctime=Z.atime),Z},getFileDataAsTypedArray(T){return T.contents?T.contents.subarray?T.contents.subarray(0,T.usedBytes):new Uint8Array(T.contents):new Uint8Array(0)},expandFileStorage(T,x){var U=T.contents?T.contents.length:0;if(!(U>=x)){var V=1024*1024;x=Math.max(x,U*(U<V?2:1.125)>>>0),U!=0&&(x=Math.max(x,256));var Z=T.contents;T.contents=new Uint8Array(x),T.usedBytes>0&&T.contents.set(Z.subarray(0,T.usedBytes),0)}},resizeFileStorage(T,x){if(T.usedBytes!=x)if(x==0)T.contents=null,T.usedBytes=0;else{var U=T.contents;T.contents=new Uint8Array(x),U&&T.contents.set(U.subarray(0,Math.min(x,T.usedBytes))),T.usedBytes=x}},node_ops:{getattr(T){var x={};return x.dev=S.isChrdev(T.mode)?T.id:1,x.ino=T.id,x.mode=T.mode,x.nlink=1,x.uid=0,x.gid=0,x.rdev=T.rdev,S.isDir(T.mode)?x.size=4096:S.isFile(T.mode)?x.size=T.usedBytes:S.isLink(T.mode)?x.size=T.link.length:x.size=0,x.atime=new Date(T.atime),x.mtime=new Date(T.mtime),x.ctime=new Date(T.ctime),x.blksize=4096,x.blocks=Math.ceil(x.size/x.blksize),x},setattr(T,x){for(const U of["mode","atime","mtime","ctime"])x[U]!=null&&(T[U]=x[U]);x.size!==void 0&&de.resizeFileStorage(T,x.size)},lookup(T,x){throw de.doesNotExistError},mknod(T,x,U,V){return de.createNode(T,x,U,V)},rename(T,x,U){var V;try{V=S.lookupNode(x,U)}catch{}if(V){if(S.isDir(T.mode))for(var Z in V.contents)throw new S.ErrnoError(55);S.hashRemoveNode(V)}delete T.parent.contents[T.name],x.contents[U]=T,T.name=U,x.ctime=x.mtime=T.parent.ctime=T.parent.mtime=Date.now()},unlink(T,x){delete T.contents[x],T.ctime=T.mtime=Date.now()},rmdir(T,x){var U=S.lookupNode(T,x);for(var V in U.contents)throw new S.ErrnoError(55);delete T.contents[x],T.ctime=T.mtime=Date.now()},readdir(T){return[".","..",...Object.keys(T.contents)]},symlink(T,x,U){var V=de.createNode(T,x,41471,0);return V.link=U,V},readlink(T){if(!S.isLink(T.mode))throw new S.ErrnoError(28);return T.link}},stream_ops:{read(T,x,U,V,Z){var ae=T.node.contents;if(Z>=T.node.usedBytes)return 0;var me=Math.min(T.node.usedBytes-Z,V);if(me>8&&ae.subarray)x.set(ae.subarray(Z,Z+me),U);else for(var we=0;we<me;we++)x[U+we]=ae[Z+we];return me},write(T,x,U,V,Z,ae){if(x.buffer===v.buffer&&(ae=!1),!V)return 0;var me=T.node;if(me.mtime=me.ctime=Date.now(),x.subarray&&(!me.contents||me.contents.subarray)){if(ae)return me.contents=x.subarray(U,U+V),me.usedBytes=V,V;if(me.usedBytes===0&&Z===0)return me.contents=x.slice(U,U+V),me.usedBytes=V,V;if(Z+V<=me.usedBytes)return me.contents.set(x.subarray(U,U+V),Z),V}if(de.expandFileStorage(me,Z+V),me.contents.subarray&&x.subarray)me.contents.set(x.subarray(U,U+V),Z);else for(var we=0;we<V;we++)me.contents[Z+we]=x[U+we];return me.usedBytes=Math.max(me.usedBytes,Z+V),V},llseek(T,x,U){var V=x;if(U===1?V+=T.position:U===2&&S.isFile(T.node.mode)&&(V+=T.node.usedBytes),V<0)throw new S.ErrnoError(28);return V},mmap(T,x,U,V,Z){if(!S.isFile(T.node.mode))throw new S.ErrnoError(43);var ae,me,we=T.node.contents;if(!(Z&2)&&we&&we.buffer===v.buffer)me=!1,ae=we.byteOffset;else{if(me=!0,ae=xe(),!ae)throw new S.ErrnoError(48);we&&((U>0||U+x<we.length)&&(we.subarray?we=we.subarray(U,U+x):we=Array.prototype.slice.call(we,U,U+x)),v.set(we,ae))}return{ptr:ae,allocated:me}},msync(T,x,U,V,Z){return de.stream_ops.write(T,x,0,V,U,!1),0}}},qe=async T=>{var x=await i(T);return new Uint8Array(x)},Ke=(...T)=>S.createDataFile(...T),$e=[],De=(T,x,U,V)=>{typeof Browser<"u"&&Browser.init();var Z=!1;return $e.forEach(ae=>{Z||ae.canHandle(x)&&(ae.handle(T,x,U,V),Z=!0)}),Z},Ne=(T,x,U,V,Z,ae,me,we,ke,ze)=>{var Je=x?he.resolve(ue.join2(T,x)):T;function Xe(je){function Pe(He){ze?.(),we||Ke(T,x,He,V,Z,ke),ae?.(),I()}De(je,Je,Pe,()=>{me?.(),I()})||Pe(je)}k(),typeof U=="string"?qe(U).then(Xe,me):Xe(U)},W=T=>{var x={r:0,"r+":2,w:577,"w+":578,a:1089,"a+":1090},U=x[T];if(typeof U>"u")throw new Error(`Unknown file open mode: ${T}`);return U},We=(T,x)=>{var U=0;return T&&(U|=365),x&&(U|=146),U},S={root:null,mounts:[],devices:{},streams:[],nextInode:1,nameTable:null,currentPath:"/",initialized:!1,ignorePermissions:!0,filesystems:null,syncFSRequests:0,readFiles:{},ErrnoError:class{name="ErrnoError";constructor(T){this.errno=T}},FSStream:class{shared={};get object(){return this.node}set object(T){this.node=T}get isRead(){return(this.flags&2097155)!==1}get isWrite(){return(this.flags&2097155)!==0}get isAppend(){return this.flags&1024}get flags(){return this.shared.flags}set flags(T){this.shared.flags=T}get position(){return this.shared.position}set position(T){this.shared.position=T}},FSNode:class{node_ops={};stream_ops={};readMode=365;writeMode=146;mounted=null;constructor(T,x,U,V){T||(T=this),this.parent=T,this.mount=T.mount,this.id=S.nextInode++,this.name=x,this.mode=U,this.rdev=V,this.atime=this.mtime=this.ctime=Date.now()}get read(){return(this.mode&this.readMode)===this.readMode}set read(T){T?this.mode|=this.readMode:this.mode&=~this.readMode}get write(){return(this.mode&this.writeMode)===this.writeMode}set write(T){T?this.mode|=this.writeMode:this.mode&=~this.writeMode}get isFolder(){return S.isDir(this.mode)}get isDevice(){return S.isChrdev(this.mode)}},lookupPath(T,x={}){if(!T)throw new S.ErrnoError(44);x.follow_mount??=!0,ue.isAbs(T)||(T=S.cwd()+"/"+T);e:for(var U=0;U<40;U++){for(var V=T.split("/").filter(ze=>!!ze),Z=S.root,ae="/",me=0;me<V.length;me++){var we=me===V.length-1;if(we&&x.parent)break;if(V[me]!=="."){if(V[me]===".."){if(ae=ue.dirname(ae),S.isRoot(Z)){T=ae+"/"+V.slice(me+1).join("/");continue e}else Z=Z.parent;continue}ae=ue.join2(ae,V[me]);try{Z=S.lookupNode(Z,V[me])}catch(ze){if(ze?.errno===44&&we&&x.noent_okay)return{path:ae};throw ze}if(S.isMountpoint(Z)&&(!we||x.follow_mount)&&(Z=Z.mounted.root),S.isLink(Z.mode)&&(!we||x.follow)){if(!Z.node_ops.readlink)throw new S.ErrnoError(52);var ke=Z.node_ops.readlink(Z);ue.isAbs(ke)||(ke=ue.dirname(ae)+"/"+ke),T=ke+"/"+V.slice(me+1).join("/");continue e}}}return{path:ae,node:Z}}throw new S.ErrnoError(32)},getPath(T){for(var x;;){if(S.isRoot(T)){var U=T.mount.mountpoint;return x?U[U.length-1]!=="/"?`${U}/${x}`:U+x:U}x=x?`${T.name}/${x}`:T.name,T=T.parent}},hashName(T,x){for(var U=0,V=0;V<x.length;V++)U=(U<<5)-U+x.charCodeAt(V)|0;return(T+U>>>0)%S.nameTable.length},hashAddNode(T){var x=S.hashName(T.parent.id,T.name);T.name_next=S.nameTable[x],S.nameTable[x]=T},hashRemoveNode(T){var x=S.hashName(T.parent.id,T.name);if(S.nameTable[x]===T)S.nameTable[x]=T.name_next;else for(var U=S.nameTable[x];U;){if(U.name_next===T){U.name_next=T.name_next;break}U=U.name_next}},lookupNode(T,x){var U=S.mayLookup(T);if(U)throw new S.ErrnoError(U);for(var V=S.hashName(T.id,x),Z=S.nameTable[V];Z;Z=Z.name_next){var ae=Z.name;if(Z.parent.id===T.id&&ae===x)return Z}return S.lookup(T,x)},createNode(T,x,U,V){var Z=new S.FSNode(T,x,U,V);return S.hashAddNode(Z),Z},destroyNode(T){S.hashRemoveNode(T)},isRoot(T){return T===T.parent},isMountpoint(T){return!!T.mounted},isFile(T){return(T&61440)===32768},isDir(T){return(T&61440)===16384},isLink(T){return(T&61440)===40960},isChrdev(T){return(T&61440)===8192},isBlkdev(T){return(T&61440)===24576},isFIFO(T){return(T&61440)===4096},isSocket(T){return(T&49152)===49152},flagsToPermissionString(T){var x=["r","w","rw"][T&3];return T&512&&(x+="w"),x},nodePermissions(T,x){return S.ignorePermissions?0:x.includes("r")&&!(T.mode&292)||x.includes("w")&&!(T.mode&146)||x.includes("x")&&!(T.mode&73)?2:0},mayLookup(T){if(!S.isDir(T.mode))return 54;var x=S.nodePermissions(T,"x");return x||(T.node_ops.lookup?0:2)},mayCreate(T,x){if(!S.isDir(T.mode))return 54;try{var U=S.lookupNode(T,x);return 20}catch{}return S.nodePermissions(T,"wx")},mayDelete(T,x,U){var V;try{V=S.lookupNode(T,x)}catch(ae){return ae.errno}var Z=S.nodePermissions(T,"wx");if(Z)return Z;if(U){if(!S.isDir(V.mode))return 54;if(S.isRoot(V)||S.getPath(V)===S.cwd())return 10}else if(S.isDir(V.mode))return 31;return 0},mayOpen(T,x){return T?S.isLink(T.mode)?32:S.isDir(T.mode)&&(S.flagsToPermissionString(x)!=="r"||x&576)?31:S.nodePermissions(T,S.flagsToPermissionString(x)):44},checkOpExists(T,x){if(!T)throw new S.ErrnoError(x);return T},MAX_OPEN_FDS:4096,nextfd(){for(var T=0;T<=S.MAX_OPEN_FDS;T++)if(!S.streams[T])return T;throw new S.ErrnoError(33)},getStreamChecked(T){var x=S.getStream(T);if(!x)throw new S.ErrnoError(8);return x},getStream:T=>S.streams[T],createStream(T,x=-1){return T=Object.assign(new S.FSStream,T),x==-1&&(x=S.nextfd()),T.fd=x,S.streams[x]=T,T},closeStream(T){S.streams[T]=null},dupStream(T,x=-1){var U=S.createStream(T,x);return U.stream_ops?.dup?.(U),U},doSetAttr(T,x,U){var V=T?.stream_ops.setattr,Z=V?T:x;V??=x.node_ops.setattr,S.checkOpExists(V,63),V(Z,U)},chrdev_stream_ops:{open(T){var x=S.getDevice(T.node.rdev);T.stream_ops=x.stream_ops,T.stream_ops.open?.(T)},llseek(){throw new S.ErrnoError(70)}},major:T=>T>>8,minor:T=>T&255,makedev:(T,x)=>T<<8|x,registerDevice(T,x){S.devices[T]={stream_ops:x}},getDevice:T=>S.devices[T],getMounts(T){for(var x=[],U=[T];U.length;){var V=U.pop();x.push(V),U.push(...V.mounts)}return x},syncfs(T,x){typeof T=="function"&&(x=T,T=!1),S.syncFSRequests++,S.syncFSRequests>1&&r(`warning: ${S.syncFSRequests} FS.syncfs operations in flight at once, probably just doing extra work`);var U=S.getMounts(S.root.mount),V=0;function Z(me){return S.syncFSRequests--,x(me)}function ae(me){if(me)return ae.errored?void 0:(ae.errored=!0,Z(me));++V>=U.length&&Z(null)}U.forEach(me=>{if(!me.type.syncfs)return ae(null);me.type.syncfs(me,T,ae)})},mount(T,x,U){var V=U==="/",Z=!U,ae;if(V&&S.root)throw new S.ErrnoError(10);if(!V&&!Z){var me=S.lookupPath(U,{follow_mount:!1});if(U=me.path,ae=me.node,S.isMountpoint(ae))throw new S.ErrnoError(10);if(!S.isDir(ae.mode))throw new S.ErrnoError(54)}var we={type:T,opts:x,mountpoint:U,mounts:[]},ke=T.mount(we);return ke.mount=we,we.root=ke,V?S.root=ke:ae&&(ae.mounted=we,ae.mount&&ae.mount.mounts.push(we)),ke},unmount(T){var x=S.lookupPath(T,{follow_mount:!1});if(!S.isMountpoint(x.node))throw new S.ErrnoError(28);var U=x.node,V=U.mounted,Z=S.getMounts(V);Object.keys(S.nameTable).forEach(me=>{for(var we=S.nameTable[me];we;){var ke=we.name_next;Z.includes(we.mount)&&S.destroyNode(we),we=ke}}),U.mounted=null;var ae=U.mount.mounts.indexOf(V);U.mount.mounts.splice(ae,1)},lookup(T,x){return T.node_ops.lookup(T,x)},mknod(T,x,U){var V=S.lookupPath(T,{parent:!0}),Z=V.node,ae=ue.basename(T);if(!ae)throw new S.ErrnoError(28);if(ae==="."||ae==="..")throw new S.ErrnoError(20);var me=S.mayCreate(Z,ae);if(me)throw new S.ErrnoError(me);if(!Z.node_ops.mknod)throw new S.ErrnoError(63);return Z.node_ops.mknod(Z,ae,x,U)},statfs(T){return S.statfsNode(S.lookupPath(T,{follow:!0}).node)},statfsStream(T){return S.statfsNode(T.node)},statfsNode(T){var x={bsize:4096,frsize:4096,blocks:1e6,bfree:5e5,bavail:5e5,files:S.nextInode,ffree:S.nextInode-1,fsid:42,flags:2,namelen:255};return T.node_ops.statfs&&Object.assign(x,T.node_ops.statfs(T.mount.opts.root)),x},create(T,x=438){return x&=4095,x|=32768,S.mknod(T,x,0)},mkdir(T,x=511){return x&=1023,x|=16384,S.mknod(T,x,0)},mkdirTree(T,x){var U=T.split("/"),V="";for(var Z of U)if(Z){(V||ue.isAbs(T))&&(V+="/"),V+=Z;try{S.mkdir(V,x)}catch(ae){if(ae.errno!=20)throw ae}}},mkdev(T,x,U){return typeof U>"u"&&(U=x,x=438),x|=8192,S.mknod(T,x,U)},symlink(T,x){if(!he.resolve(T))throw new S.ErrnoError(44);var U=S.lookupPath(x,{parent:!0}),V=U.node;if(!V)throw new S.ErrnoError(44);var Z=ue.basename(x),ae=S.mayCreate(V,Z);if(ae)throw new S.ErrnoError(ae);if(!V.node_ops.symlink)throw new S.ErrnoError(63);return V.node_ops.symlink(V,Z,T)},rename(T,x){var U=ue.dirname(T),V=ue.dirname(x),Z=ue.basename(T),ae=ue.basename(x),me,we,ke;if(me=S.lookupPath(T,{parent:!0}),we=me.node,me=S.lookupPath(x,{parent:!0}),ke=me.node,!we||!ke)throw new S.ErrnoError(44);if(we.mount!==ke.mount)throw new S.ErrnoError(75);var ze=S.lookupNode(we,Z),Je=he.relative(T,V);if(Je.charAt(0)!==".")throw new S.ErrnoError(28);if(Je=he.relative(x,U),Je.charAt(0)!==".")throw new S.ErrnoError(55);var Xe;try{Xe=S.lookupNode(ke,ae)}catch{}if(ze!==Xe){var je=S.isDir(ze.mode),Pe=S.mayDelete(we,Z,je);if(Pe)throw new S.ErrnoError(Pe);if(Pe=Xe?S.mayDelete(ke,ae,je):S.mayCreate(ke,ae),Pe)throw new S.ErrnoError(Pe);if(!we.node_ops.rename)throw new S.ErrnoError(63);if(S.isMountpoint(ze)||Xe&&S.isMountpoint(Xe))throw new S.ErrnoError(10);if(ke!==we&&(Pe=S.nodePermissions(we,"w"),Pe))throw new S.ErrnoError(Pe);S.hashRemoveNode(ze);try{we.node_ops.rename(ze,ke,ae),ze.parent=ke}catch(He){throw He}finally{S.hashAddNode(ze)}}},rmdir(T){var x=S.lookupPath(T,{parent:!0}),U=x.node,V=ue.basename(T),Z=S.lookupNode(U,V),ae=S.mayDelete(U,V,!0);if(ae)throw new S.ErrnoError(ae);if(!U.node_ops.rmdir)throw new S.ErrnoError(63);if(S.isMountpoint(Z))throw new S.ErrnoError(10);U.node_ops.rmdir(U,V),S.destroyNode(Z)},readdir(T){var x=S.lookupPath(T,{follow:!0}),U=x.node,V=S.checkOpExists(U.node_ops.readdir,54);return V(U)},unlink(T){var x=S.lookupPath(T,{parent:!0}),U=x.node;if(!U)throw new S.ErrnoError(44);var V=ue.basename(T),Z=S.lookupNode(U,V),ae=S.mayDelete(U,V,!1);if(ae)throw new S.ErrnoError(ae);if(!U.node_ops.unlink)throw new S.ErrnoError(63);if(S.isMountpoint(Z))throw new S.ErrnoError(10);U.node_ops.unlink(U,V),S.destroyNode(Z)},readlink(T){var x=S.lookupPath(T),U=x.node;if(!U)throw new S.ErrnoError(44);if(!U.node_ops.readlink)throw new S.ErrnoError(28);return U.node_ops.readlink(U)},stat(T,x){var U=S.lookupPath(T,{follow:!x}),V=U.node,Z=S.checkOpExists(V.node_ops.getattr,63);return Z(V)},fstat(T){var x=S.getStreamChecked(T),U=x.node,V=x.stream_ops.getattr,Z=V?x:U;return V??=U.node_ops.getattr,S.checkOpExists(V,63),V(Z)},lstat(T){return S.stat(T,!0)},doChmod(T,x,U,V){S.doSetAttr(T,x,{mode:U&4095|x.mode&-4096,ctime:Date.now(),dontFollow:V})},chmod(T,x,U){var V;if(typeof T=="string"){var Z=S.lookupPath(T,{follow:!U});V=Z.node}else V=T;S.doChmod(null,V,x,U)},lchmod(T,x){S.chmod(T,x,!0)},fchmod(T,x){var U=S.getStreamChecked(T);S.doChmod(U,U.node,x,!1)},doChown(T,x,U){S.doSetAttr(T,x,{timestamp:Date.now(),dontFollow:U})},chown(T,x,U,V){var Z;if(typeof T=="string"){var ae=S.lookupPath(T,{follow:!V});Z=ae.node}else Z=T;S.doChown(null,Z,V)},lchown(T,x,U){S.chown(T,x,U,!0)},fchown(T,x,U){var V=S.getStreamChecked(T);S.doChown(V,V.node,!1)},doTruncate(T,x,U){if(S.isDir(x.mode))throw new S.ErrnoError(31);if(!S.isFile(x.mode))throw new S.ErrnoError(28);var V=S.nodePermissions(x,"w");if(V)throw new S.ErrnoError(V);S.doSetAttr(T,x,{size:U,timestamp:Date.now()})},truncate(T,x){if(x<0)throw new S.ErrnoError(28);var U;if(typeof T=="string"){var V=S.lookupPath(T,{follow:!0});U=V.node}else U=T;S.doTruncate(null,U,x)},ftruncate(T,x){var U=S.getStreamChecked(T);if(x<0||(U.flags&2097155)===0)throw new S.ErrnoError(28);S.doTruncate(U,U.node,x)},utime(T,x,U){var V=S.lookupPath(T,{follow:!0}),Z=V.node,ae=S.checkOpExists(Z.node_ops.setattr,63);ae(Z,{atime:x,mtime:U})},open(T,x,U=438){if(T==="")throw new S.ErrnoError(44);x=typeof x=="string"?W(x):x,x&64?U=U&4095|32768:U=0;var V,Z;if(typeof T=="object")V=T;else{Z=T.endsWith("/");var ae=S.lookupPath(T,{follow:!(x&131072),noent_okay:!0});V=ae.node,T=ae.path}var me=!1;if(x&64)if(V){if(x&128)throw new S.ErrnoError(20)}else{if(Z)throw new S.ErrnoError(31);V=S.mknod(T,U|511,0),me=!0}if(!V)throw new S.ErrnoError(44);if(S.isChrdev(V.mode)&&(x&=-513),x&65536&&!S.isDir(V.mode))throw new S.ErrnoError(54);if(!me){var we=S.mayOpen(V,x);if(we)throw new S.ErrnoError(we)}x&512&&!me&&S.truncate(V,0),x&=-131713;var ke=S.createStream({node:V,path:S.getPath(V),flags:x,seekable:!0,position:0,stream_ops:V.stream_ops,ungotten:[],error:!1});return ke.stream_ops.open&&ke.stream_ops.open(ke),me&&S.chmod(V,U&511),f.logReadFiles&&!(x&1)&&(T in S.readFiles||(S.readFiles[T]=1)),ke},close(T){if(S.isClosed(T))throw new S.ErrnoError(8);T.getdents&&(T.getdents=null);try{T.stream_ops.close&&T.stream_ops.close(T)}catch(x){throw x}finally{S.closeStream(T.fd)}T.fd=null},isClosed(T){return T.fd===null},llseek(T,x,U){if(S.isClosed(T))throw new S.ErrnoError(8);if(!T.seekable||!T.stream_ops.llseek)throw new S.ErrnoError(70);if(U!=0&&U!=1&&U!=2)throw new S.ErrnoError(28);return T.position=T.stream_ops.llseek(T,x,U),T.ungotten=[],T.position},read(T,x,U,V,Z){if(V<0||Z<0)throw new S.ErrnoError(28);if(S.isClosed(T))throw new S.ErrnoError(8);if((T.flags&2097155)===1)throw new S.ErrnoError(8);if(S.isDir(T.node.mode))throw new S.ErrnoError(31);if(!T.stream_ops.read)throw new S.ErrnoError(28);var ae=typeof Z<"u";if(!ae)Z=T.position;else if(!T.seekable)throw new S.ErrnoError(70);var me=T.stream_ops.read(T,x,U,V,Z);return ae||(T.position+=me),me},write(T,x,U,V,Z,ae){if(V<0||Z<0)throw new S.ErrnoError(28);if(S.isClosed(T))throw new S.ErrnoError(8);if((T.flags&2097155)===0)throw new S.ErrnoError(8);if(S.isDir(T.node.mode))throw new S.ErrnoError(31);if(!T.stream_ops.write)throw new S.ErrnoError(28);T.seekable&&T.flags&1024&&S.llseek(T,0,2);var me=typeof Z<"u";if(!me)Z=T.position;else if(!T.seekable)throw new S.ErrnoError(70);var we=T.stream_ops.write(T,x,U,V,Z,ae);return me||(T.position+=we),we},mmap(T,x,U,V,Z){if((V&2)!==0&&(Z&2)===0&&(T.flags&2097155)!==2)throw new S.ErrnoError(2);if((T.flags&2097155)===1)throw new S.ErrnoError(2);if(!T.stream_ops.mmap)throw new S.ErrnoError(43);if(!x)throw new S.ErrnoError(28);return T.stream_ops.mmap(T,x,U,V,Z)},msync(T,x,U,V,Z){return T.stream_ops.msync?T.stream_ops.msync(T,x,U,V,Z):0},ioctl(T,x,U){if(!T.stream_ops.ioctl)throw new S.ErrnoError(59);return T.stream_ops.ioctl(T,x,U)},readFile(T,x={}){if(x.flags=x.flags||0,x.encoding=x.encoding||"binary",x.encoding!=="utf8"&&x.encoding!=="binary")throw new Error(`Invalid encoding type "${x.encoding}"`);var U,V=S.open(T,x.flags),Z=S.stat(T),ae=Z.size,me=new Uint8Array(ae);return S.read(V,me,0,ae,0),x.encoding==="utf8"?U=Te(me):x.encoding==="binary"&&(U=me),S.close(V),U},writeFile(T,x,U={}){U.flags=U.flags||577;var V=S.open(T,U.flags,U.mode);if(typeof x=="string"){var Z=new Uint8Array(Le(x)+1),ae=Ie(x,Z,0,Z.length);S.write(V,Z,0,ae,void 0,U.canOwn)}else if(ArrayBuffer.isView(x))S.write(V,x,0,x.byteLength,void 0,U.canOwn);else throw new Error("Unsupported data type");S.close(V)},cwd:()=>S.currentPath,chdir(T){var x=S.lookupPath(T,{follow:!0});if(x.node===null)throw new S.ErrnoError(44);if(!S.isDir(x.node.mode))throw new S.ErrnoError(54);var U=S.nodePermissions(x.node,"x");if(U)throw new S.ErrnoError(U);S.currentPath=x.path},createDefaultDirectories(){S.mkdir("/tmp"),S.mkdir("/home"),S.mkdir("/home/web_user")},createDefaultDevices(){S.mkdir("/dev"),S.registerDevice(S.makedev(1,3),{read:()=>0,write:(V,Z,ae,me,we)=>me,llseek:()=>0}),S.mkdev("/dev/null",S.makedev(1,3)),be.register(S.makedev(5,0),be.default_tty_ops),be.register(S.makedev(6,0),be.default_tty1_ops),S.mkdev("/dev/tty",S.makedev(5,0)),S.mkdev("/dev/tty1",S.makedev(6,0));var T=new Uint8Array(1024),x=0,U=()=>(x===0&&(ne(T),x=T.byteLength),T[--x]);S.createDevice("/dev","random",U),S.createDevice("/dev","urandom",U),S.mkdir("/dev/shm"),S.mkdir("/dev/shm/tmp")},createSpecialDirectories(){S.mkdir("/proc");var T=S.mkdir("/proc/self");S.mkdir("/proc/self/fd"),S.mount({mount(){var x=S.createNode(T,"fd",16895,73);return x.stream_ops={llseek:de.stream_ops.llseek},x.node_ops={lookup(U,V){var Z=+V,ae=S.getStreamChecked(Z),me={parent:null,mount:{mountpoint:"fake"},node_ops:{readlink:()=>ae.path},id:Z+1};return me.parent=me,me},readdir(){return Array.from(S.streams.entries()).filter(([U,V])=>V).map(([U,V])=>U.toString())}},x}},{},"/proc/self/fd")},createStandardStreams(T,x,U){T?S.createDevice("/dev","stdin",T):S.symlink("/dev/tty","/dev/stdin"),x?S.createDevice("/dev","stdout",null,x):S.symlink("/dev/tty","/dev/stdout"),U?S.createDevice("/dev","stderr",null,U):S.symlink("/dev/tty1","/dev/stderr"),S.open("/dev/stdin",0),S.open("/dev/stdout",1),S.open("/dev/stderr",1)},staticInit(){S.nameTable=new Array(4096),S.mount(de,{},"/"),S.createDefaultDirectories(),S.createDefaultDevices(),S.createSpecialDirectories(),S.filesystems={MEMFS:de}},init(T,x,U){S.initialized=!0,T??=f.stdin,x??=f.stdout,U??=f.stderr,S.createStandardStreams(T,x,U)},quit(){S.initialized=!1;for(var T of S.streams)T&&S.close(T)},findObject(T,x){var U=S.analyzePath(T,x);return U.exists?U.object:null},analyzePath(T,x){try{var U=S.lookupPath(T,{follow:!x});T=U.path}catch{}var V={isRoot:!1,exists:!1,error:0,name:null,path:null,object:null,parentExists:!1,parentPath:null,parentObject:null};try{var U=S.lookupPath(T,{parent:!0});V.parentExists=!0,V.parentPath=U.path,V.parentObject=U.node,V.name=ue.basename(T),U=S.lookupPath(T,{follow:!x}),V.exists=!0,V.path=U.path,V.object=U.node,V.name=U.node.name,V.isRoot=U.path==="/"}catch(Z){V.error=Z.errno}return V},createPath(T,x,U,V){T=typeof T=="string"?T:S.getPath(T);for(var Z=x.split("/").reverse();Z.length;){var ae=Z.pop();if(ae){var me=ue.join2(T,ae);try{S.mkdir(me)}catch(we){if(we.errno!=20)throw we}T=me}}return me},createFile(T,x,U,V,Z){var ae=ue.join2(typeof T=="string"?T:S.getPath(T),x),me=We(V,Z);return S.create(ae,me)},createDataFile(T,x,U,V,Z,ae){var me=x;T&&(T=typeof T=="string"?T:S.getPath(T),me=x?ue.join2(T,x):T);var we=We(V,Z),ke=S.create(me,we);if(U){if(typeof U=="string"){for(var ze=new Array(U.length),Je=0,Xe=U.length;Je<Xe;++Je)ze[Je]=U.charCodeAt(Je);U=ze}S.chmod(ke,we|146);var je=S.open(ke,577);S.write(je,U,0,U.length,0,ae),S.close(je),S.chmod(ke,we)}},createDevice(T,x,U,V){var Z=ue.join2(typeof T=="string"?T:S.getPath(T),x),ae=We(!!U,!!V);S.createDevice.major??=64;var me=S.makedev(S.createDevice.major++,0);return S.registerDevice(me,{open(we){we.seekable=!1},close(we){V?.buffer?.length&&V(10)},read(we,ke,ze,Je,Xe){for(var je=0,Pe=0;Pe<Je;Pe++){var He;try{He=U()}catch{throw new S.ErrnoError(29)}if(He===void 0&&je===0)throw new S.ErrnoError(6);if(He==null)break;je++,ke[ze+Pe]=He}return je&&(we.node.atime=Date.now()),je},write(we,ke,ze,Je,Xe){for(var je=0;je<Je;je++)try{V(ke[ze+je])}catch{throw new S.ErrnoError(29)}return Je&&(we.node.mtime=we.node.ctime=Date.now()),je}}),S.mkdev(Z,ae,me)},forceLoadFile(T){if(T.isDevice||T.isFolder||T.link||T.contents)return!0;if(typeof XMLHttpRequest<"u")throw new Error("Lazy loading should have been performed (contents set) in createLazyFile, but it was not. Lazy loading only works in web workers. Use --embed-file or --preload-file in emcc on the main thread.");try{T.contents=t(T.url),T.usedBytes=T.contents.length}catch{throw new S.ErrnoError(29)}},createLazyFile(T,x,U,V,Z){class ae{lengthKnown=!1;chunks=[];get(Pe){if(!(Pe>this.length-1||Pe<0)){var He=Pe%this.chunkSize,at=Pe/this.chunkSize|0;return this.getter(at)[He]}}setDataGetter(Pe){this.getter=Pe}cacheLength(){var Pe=new XMLHttpRequest;if(Pe.open("HEAD",U,!1),Pe.send(null),!(Pe.status>=200&&Pe.status<300||Pe.status===304))throw new Error("Couldn't load "+U+". Status: "+Pe.status);var He=Number(Pe.getResponseHeader("Content-length")),at,yt=(at=Pe.getResponseHeader("Accept-Ranges"))&&at==="bytes",ht=(at=Pe.getResponseHeader("Content-Encoding"))&&at==="gzip",wt=1024*1024;yt||(wt=He);var At=(St,rn)=>{if(St>rn)throw new Error("invalid range ("+St+", "+rn+") or no bytes requested!");if(rn>He-1)throw new Error("only "+He+" bytes available! programmer error!");var it=new XMLHttpRequest;if(it.open("GET",U,!1),He!==wt&&it.setRequestHeader("Range","bytes="+St+"-"+rn),it.responseType="arraybuffer",it.overrideMimeType&&it.overrideMimeType("text/plain; charset=x-user-defined"),it.send(null),!(it.status>=200&&it.status<300||it.status===304))throw new Error("Couldn't load "+U+". Status: "+it.status);return it.response!==void 0?new Uint8Array(it.response||[]):Oe(it.responseText||"")},Tn=this;Tn.setDataGetter(St=>{var rn=St*wt,it=(St+1)*wt-1;if(it=Math.min(it,He-1),typeof Tn.chunks[St]>"u"&&(Tn.chunks[St]=At(rn,it)),typeof Tn.chunks[St]>"u")throw new Error("doXHR failed!");return Tn.chunks[St]}),(ht||!He)&&(wt=He=1,He=this.getter(0).length,wt=He,e("LazyFiles on gzip forces download of the whole file when length is accessed")),this._length=He,this._chunkSize=wt,this.lengthKnown=!0}get length(){return this.lengthKnown||this.cacheLength(),this._length}get chunkSize(){return this.lengthKnown||this.cacheLength(),this._chunkSize}}if(typeof XMLHttpRequest<"u"){throw"Cannot do synchronous binary XHRs outside webworkers in modern browsers. Use --embed-file or --preload-file in emcc";var me,we}else var we={isDevice:!1,url:U};var ke=S.createFile(T,x,we,V,Z);we.contents?ke.contents=we.contents:we.url&&(ke.contents=null,ke.url=we.url),Object.defineProperties(ke,{usedBytes:{get:function(){return this.contents.length}}});var ze={},Je=Object.keys(ke.stream_ops);Je.forEach(je=>{var Pe=ke.stream_ops[je];ze[je]=(...He)=>(S.forceLoadFile(ke),Pe(...He))});function Xe(je,Pe,He,at,yt){var ht=je.node.contents;if(yt>=ht.length)return 0;var wt=Math.min(ht.length-yt,at);if(ht.slice)for(var At=0;At<wt;At++)Pe[He+At]=ht[yt+At];else for(var At=0;At<wt;At++)Pe[He+At]=ht.get(yt+At);return wt}return ze.read=(je,Pe,He,at,yt)=>(S.forceLoadFile(ke),Xe(je,Pe,He,at,yt)),ze.mmap=(je,Pe,He,at,yt)=>{S.forceLoadFile(ke);var ht=xe();if(!ht)throw new S.ErrnoError(48);return Xe(je,v,ht,Pe,He),{ptr:ht,allocated:!0}},ke.stream_ops=ze,ke}},Qe=(T,x)=>T?Te(p,T,x):"",Ve={DEFAULT_POLLMASK:5,calculateAt(T,x,U){if(ue.isAbs(x))return x;var V;if(T===-100)V=S.cwd();else{var Z=Ve.getStreamFromFD(T);V=Z.path}if(x.length==0){if(!U)throw new S.ErrnoError(44);return V}return V+"/"+x},writeStat(T,x){m[T>>2]=x.dev,m[T+4>>2]=x.mode,E[T+8>>2]=x.nlink,m[T+12>>2]=x.uid,m[T+16>>2]=x.gid,m[T+20>>2]=x.rdev,C[T+24>>3]=BigInt(x.size),m[T+32>>2]=4096,m[T+36>>2]=x.blocks;var U=x.atime.getTime(),V=x.mtime.getTime(),Z=x.ctime.getTime();return C[T+40>>3]=BigInt(Math.floor(U/1e3)),E[T+48>>2]=U%1e3*1e3*1e3,C[T+56>>3]=BigInt(Math.floor(V/1e3)),E[T+64>>2]=V%1e3*1e3*1e3,C[T+72>>3]=BigInt(Math.floor(Z/1e3)),E[T+80>>2]=Z%1e3*1e3*1e3,C[T+88>>3]=BigInt(x.ino),0},writeStatFs(T,x){m[T+4>>2]=x.bsize,m[T+40>>2]=x.bsize,m[T+8>>2]=x.blocks,m[T+12>>2]=x.bfree,m[T+16>>2]=x.bavail,m[T+20>>2]=x.files,m[T+24>>2]=x.ffree,m[T+28>>2]=x.fsid,m[T+44>>2]=x.flags,m[T+36>>2]=x.namelen},doMsync(T,x,U,V,Z){if(!S.isFile(x.node.mode))throw new S.ErrnoError(43);if(V&2)return 0;var ae=p.slice(T,T+U);S.msync(x,ae,Z,U,V)},getStreamFromFD(T){var x=S.getStreamChecked(T);return x},varargs:void 0,getStr(T){var x=Qe(T);return x}};function rt(T,x,U){Ve.varargs=U;try{var V=Ve.getStreamFromFD(T);switch(x){case 0:{var Z=N();if(Z<0)return-28;for(;S.streams[Z];)Z++;var ae;return ae=S.dupStream(V,Z),ae.fd}case 1:case 2:return 0;case 3:return V.flags;case 4:{var Z=N();return V.flags|=Z,0}case 12:{var Z=Ae(),me=0;return u[Z+me>>1]=2,0}case 13:case 14:return 0}return-28}catch(we){if(typeof S>"u"||we.name!=="ErrnoError")throw we;return-we.errno}}function vt(T,x,U){Ve.varargs=U;try{var V=Ve.getStreamFromFD(T);switch(x){case 21509:return V.tty?0:-59;case 21505:{if(!V.tty)return-59;if(V.tty.ops.ioctl_tcgets){var Z=V.tty.ops.ioctl_tcgets(V),ae=Ae();m[ae>>2]=Z.c_iflag||0,m[ae+4>>2]=Z.c_oflag||0,m[ae+8>>2]=Z.c_cflag||0,m[ae+12>>2]=Z.c_lflag||0;for(var me=0;me<32;me++)v[ae+me+17]=Z.c_cc[me]||0;return 0}return 0}case 21510:case 21511:case 21512:return V.tty?0:-59;case 21506:case 21507:case 21508:{if(!V.tty)return-59;if(V.tty.ops.ioctl_tcsets){for(var ae=Ae(),we=m[ae>>2],ke=m[ae+4>>2],ze=m[ae+8>>2],Je=m[ae+12>>2],Xe=[],me=0;me<32;me++)Xe.push(v[ae+me+17]);return V.tty.ops.ioctl_tcsets(V.tty,x,{c_iflag:we,c_oflag:ke,c_cflag:ze,c_lflag:Je,c_cc:Xe})}return 0}case 21519:{if(!V.tty)return-59;var ae=Ae();return m[ae>>2]=0,0}case 21520:return V.tty?-28:-59;case 21531:{var ae=Ae();return S.ioctl(V,x,ae)}case 21523:{if(!V.tty)return-59;if(V.tty.ops.ioctl_tiocgwinsz){var je=V.tty.ops.ioctl_tiocgwinsz(V.tty),ae=Ae();u[ae>>1]=je[0],u[ae+2>>1]=je[1]}return 0}case 21524:return V.tty?0:-59;case 21515:return V.tty?0:-59;default:return-28}}catch(Pe){if(typeof S>"u"||Pe.name!=="ErrnoError")throw Pe;return-Pe.errno}}function _t(T,x,U,V){Ve.varargs=V;try{x=Ve.getStr(x),x=Ve.calculateAt(T,x);var Z=V?N():0;return S.open(x,U,Z).fd}catch(ae){if(typeof S>"u"||ae.name!=="ErrnoError")throw ae;return-ae.errno}}function Et(T,x){try{return T=Ve.getStr(T),Ve.writeStat(x,S.stat(T))}catch(U){if(typeof S>"u"||U.name!=="ErrnoError")throw U;return-U.errno}}var Pt=()=>G(""),Jt=0,dt=()=>{Ye=!1,Jt=0},Tt=9007199254740992,Ut=-9007199254740992,Rt=T=>T<Ut||T>Tt?NaN:Number(T);function Ht(T,x){T=Rt(T);var U=new Date(T*1e3);m[x>>2]=U.getUTCSeconds(),m[x+4>>2]=U.getUTCMinutes(),m[x+8>>2]=U.getUTCHours(),m[x+12>>2]=U.getUTCDate(),m[x+16>>2]=U.getUTCMonth(),m[x+20>>2]=U.getUTCFullYear()-1900,m[x+24>>2]=U.getUTCDay();var V=Date.UTC(U.getUTCFullYear(),0,1,0,0,0,0),Z=(U.getTime()-V)/(1e3*60*60*24)|0;m[x+28>>2]=Z}var Wt=T=>T%4===0&&(T%100!==0||T%400===0),fn=[0,31,60,91,121,152,182,213,244,274,305,335],pn=[0,31,59,90,120,151,181,212,243,273,304,334],gn=T=>{var x=Wt(T.getFullYear()),U=x?fn:pn,V=U[T.getMonth()]+T.getDate()-1;return V};function mn(T,x){T=Rt(T);var U=new Date(T*1e3);m[x>>2]=U.getSeconds(),m[x+4>>2]=U.getMinutes(),m[x+8>>2]=U.getHours(),m[x+12>>2]=U.getDate(),m[x+16>>2]=U.getMonth(),m[x+20>>2]=U.getFullYear()-1900,m[x+24>>2]=U.getDay();var V=gn(U)|0;m[x+28>>2]=V,m[x+36>>2]=-(U.getTimezoneOffset()*60);var Z=new Date(U.getFullYear(),0,1),ae=new Date(U.getFullYear(),6,1).getTimezoneOffset(),me=Z.getTimezoneOffset(),we=(ae!=me&&U.getTimezoneOffset()==Math.min(me,ae))|0;m[x+32>>2]=we}var ct={},zt=T=>{if(T instanceof Ee||T=="unwind")return $;s(1,T)},Zt=()=>Ye||Jt>0,Xt=T=>{$=T,Zt()||(f.onExit?.(T),h=!0),s(T,new Ee(T))},Qt=(T,x)=>{$=T,Xt(T)},en=Qt,Gt=()=>{if(!Zt())try{en($)}catch(T){zt(T)}},vn=T=>{if(!h)try{T(),Gt()}catch(x){zt(x)}},$t=()=>performance.now(),_n=(T,x)=>{if(ct[T]&&(clearTimeout(ct[T].id),delete ct[T]),!x)return 0;var U=setTimeout(()=>{delete ct[T],vn(()=>re(T,$t()))},x);return ct[T]={id:U,timeout_ms:x},0},Ct=(T,x,U)=>Ie(T,p,x,U),yn=(T,x,U,V)=>{var Z=new Date().getFullYear(),ae=new Date(Z,0,1),me=new Date(Z,6,1),we=ae.getTimezoneOffset(),ke=me.getTimezoneOffset(),ze=Math.max(we,ke);E[T>>2]=ze*60,m[x>>2]=+(we!=ke);var Je=Pe=>{var He=Pe>=0?"-":"+",at=Math.abs(Pe),yt=String(Math.floor(at/60)).padStart(2,"0"),ht=String(at%60).padStart(2,"0");return`UTC${He}${yt}${ht}`},Xe=Je(we),je=Je(ke);ke<we?(Ct(Xe,U,17),Ct(je,V,17)):(Ct(Xe,V,17),Ct(je,U,17))},wn=()=>Date.now(),An=()=>2147483648,tn=(T,x)=>Math.ceil(T/x)*x,bn=T=>{var x=c.buffer,U=(T-x.byteLength+65535)/65536|0;try{return c.grow(U),R(),1}catch{}},En=T=>{var x=p.length;T>>>=0;var U=An();if(T>U)return!1;for(var V=1;V<=4;V*=2){var Z=x*(1+.2/V);Z=Math.min(Z,T+100663296);var ae=Math.min(U,tn(Math.max(T,Z),65536)),me=bn(ae);if(me)return!0}return!1},ut={},Cn=()=>_||"./this.program",Mt=()=>{if(!Mt.strings){var T=(typeof navigator=="object"&&navigator.languages&&navigator.languages[0]||"C").replace("-","_")+".UTF-8",x={USER:"web_user",LOGNAME:"web_user",PATH:"/",PWD:"/",HOME:"/home/web_user",LANG:T,_:Cn()};for(var U in ut)ut[U]===void 0?delete x[U]:x[U]=ut[U];var V=[];for(var U in x)V.push(`${U}=${x[U]}`);Mt.strings=V}return Mt.strings},nn=(T,x)=>{var U=0,V=0;for(var Z of Mt()){var ae=x+U;E[T+V>>2]=ae,U+=Ct(Z,ae,1/0)+1,V+=4}return 0},Sn=(T,x)=>{var U=Mt();E[T>>2]=U.length;var V=0;for(var Z of U)V+=Le(Z)+1;return E[x>>2]=V,0};function qt(T){try{var x=Ve.getStreamFromFD(T);return S.close(x),0}catch(U){if(typeof S>"u"||U.name!=="ErrnoError")throw U;return U.errno}}function gt(T,x){try{var U=0,V=0,Z=0,ae=Ve.getStreamFromFD(T),me=ae.tty?2:S.isDir(ae.mode)?3:S.isLink(ae.mode)?7:4;return v[x]=me,u[x+2>>1]=Z,C[x+8>>3]=BigInt(U),C[x+16>>3]=BigInt(V),0}catch(we){if(typeof S>"u"||we.name!=="ErrnoError")throw we;return we.errno}}var D=(T,x,U,V)=>{for(var Z=0,ae=0;ae<U;ae++){var me=E[x>>2],we=E[x+4>>2];x+=8;var ke=S.read(T,v,me,we,V);if(ke<0)return-1;if(Z+=ke,ke<we)break}return Z};function F(T,x,U,V){try{var Z=Ve.getStreamFromFD(T),ae=D(Z,x,U);return E[V>>2]=ae,0}catch(me){if(typeof S>"u"||me.name!=="ErrnoError")throw me;return me.errno}}function q(T,x,U,V){x=Rt(x);try{if(isNaN(x))return 61;var Z=Ve.getStreamFromFD(T);return S.llseek(Z,x,U),C[V>>3]=BigInt(Z.position),Z.getdents&&x===0&&U===0&&(Z.getdents=null),0}catch(ae){if(typeof S>"u"||ae.name!=="ErrnoError")throw ae;return ae.errno}}var X=(T,x,U,V)=>{for(var Z=0,ae=0;ae<U;ae++){var me=E[x>>2],we=E[x+4>>2];x+=8;var ke=S.write(T,v,me,we,V);if(ke<0)return-1;if(Z+=ke,ke<we)break}return Z};function le(T,x,U,V){try{var Z=Ve.getStreamFromFD(T),ae=X(Z,x,U);return E[V>>2]=ae,0}catch(me){if(typeof S>"u"||me.name!=="ErrnoError")throw me;return me.errno}}var ge=T=>ce(T),A=T=>{var x=Le(T)+1,U=ge(x);return Ct(T,U,x),U};S.createPreloadedFile=Ne,S.staticInit(),de.doesNotExistError=new S.ErrnoError(44),de.doesNotExistError.stack="<generic error, no stack>",f.noExitRuntime&&(Ye=f.noExitRuntime),f.preloadPlugins&&($e=f.preloadPlugins),f.print&&(e=f.print),f.printErr&&(r=f.printErr),f.wasmBinary&&(a=f.wasmBinary),f.arguments&&(b=f.arguments),f.thisProgram&&(_=f.thisProgram),f.FS=S;var O={d:rt,h:vt,e:_t,n:Et,u:Pt,k:dt,o:Ht,p:mn,l:_n,q:yn,i:wn,m:En,t:nn,f:Sn,a:en,b:qt,s:gt,c:F,r:q,g:le,j:Xt},P=await fe();P.w;var Y=f._main=P.x,re=P.y,ce=P.z;function pe(T=[]){var x=Y;T.unshift(_);var U=T.length,V=ge((U+1)*4),Z=V;T.forEach(me=>{E[Z>>2]=A(me),Z+=4}),E[Z>>2]=0;try{var ae=x(U,V);return Qt(ae,!0),ae}catch(me){return zt(me)}}function ve(T=b){if(l>0){w=ve;return}if(L(),l>0){w=ve;return}function x(){if(f.calledRun=!0,!h){g(),B(f),f.onRuntimeInitialized?.();var U=f.noInitialRun||!1;U||pe(T),y()}}f.setStatus?(f.setStatus("Running..."),setTimeout(()=>{setTimeout(()=>f.setStatus(""),1),x()},1)):x()}function Me(){if(f.preInit)for(typeof f.preInit=="function"&&(f.preInit=[f.preInit]);f.preInit.length>0;)f.preInit.shift()()}return Me(),ve(),Q=M,Q},bo=async function(te={}){var Q,f=te,B,z,M=new Promise((A,O)=>{B=A,z=O}),b=[],_="./this.program",s=(A,O)=>{throw O},d=import.meta.url,o="";function n(A){return f.locateFile?f.locateFile(A,o):o+A}var i,t;{try{o=new URL(".",d).href}catch{}i=async A=>{var O=await fetch(A,{credentials:"same-origin"});if(O.ok)return O.arrayBuffer();throw new Error(O.status+" : "+O.url)}}var e=console.log.bind(console),r=console.error.bind(console),a,c,h=!1,$,v,p,u,m,E,C;function R(){var A=c.buffer;v=new Int8Array(A),u=new Int16Array(A),p=new Uint8Array(A),m=new Int32Array(A),E=new Uint32Array(A),C=new BigInt64Array(A),new BigUint64Array(A)}function L(){if(f.preRun)for(typeof f.preRun=="function"&&(f.preRun=[f.preRun]);f.preRun.length;)Ue(f.preRun.shift());Ce(Fe)}function g(){!f.noFSInit&&!S.initialized&&S.init(),gt.r(),S.ignorePermissions=!1}function y(){if(f.postRun)for(typeof f.postRun=="function"&&(f.postRun=[f.postRun]);f.postRun.length;)Be(f.postRun.shift());Ce(Se)}var l=0,w=null;function k(A){l++,f.monitorRunDependencies?.(l)}function I(A){if(l--,f.monitorRunDependencies?.(l),l==0&&w){var O=w;w=null,O()}}function G(A){f.onAbort?.(A),A="Aborted("+A+")",r(A),h=!0,A+=". Build with -sASSERTIONS for more info.";var O=new WebAssembly.RuntimeError(A);throw z(O),O}var H;function J(){return f.locateFile?n("rgblink.wasm"):new URL(""+new URL("rgblink-Ch3zaSrQ.wasm",import.meta.url).href,import.meta.url).href}function j(A){if(A==H&&a)return new Uint8Array(a);throw"both async and sync fetching of the wasm failed"}async function K(A){if(!a)try{var O=await i(A);return new Uint8Array(O)}catch{}return j(A)}async function ie(A,O){try{var P=await K(A),Y=await WebAssembly.instantiate(P,O);return Y}catch(re){r(`failed to asynchronously prepare wasm: ${re}`),G(re)}}async function ee(A,O,P){if(!A&&typeof WebAssembly.instantiateStreaming=="function")try{var Y=fetch(O,{credentials:"same-origin"}),re=await WebAssembly.instantiateStreaming(Y,P);return re}catch(ce){r(`wasm streaming compile failed: ${ce}`),r("falling back to ArrayBuffer instantiation")}return ie(O,P)}function oe(){return{a:qt}}async function fe(){function A(ce,pe){return gt=ce.exports,c=gt.q,R(),I(),gt}k();function O(ce){return A(ce.instance)}var P=oe();if(f.instantiateWasm)return new Promise((ce,pe)=>{f.instantiateWasm(P,(ve,Me)=>{ce(A(ve))})});H??=J();try{var Y=await ee(a,H,P),re=O(Y);return re}catch(ce){return z(ce),Promise.reject(ce)}}class Ee{name="ExitStatus";constructor(O){this.message=`Program terminated with exit(${O})`,this.status=O}}var Ce=A=>{for(;A.length>0;)A.shift()(f)},Se=[],Be=A=>Se.push(A),Fe=[],Ue=A=>Fe.push(A),Ye=!0,N=()=>{var A=m[+Ve.varargs>>2];return Ve.varargs+=4,A},Ae=N,ue={isAbs:A=>A.charAt(0)==="/",splitPath:A=>{var O=/^(\/?|)([\s\S]*?)((?:\.{1,2}|[^\/]+?|)(\.[^.\/]*|))(?:[\/]*)$/;return O.exec(A).slice(1)},normalizeArray:(A,O)=>{for(var P=0,Y=A.length-1;Y>=0;Y--){var re=A[Y];re==="."?A.splice(Y,1):re===".."?(A.splice(Y,1),P++):P&&(A.splice(Y,1),P--)}if(O)for(;P;P--)A.unshift("..");return A},normalize:A=>{var O=ue.isAbs(A),P=A.slice(-1)==="/";return A=ue.normalizeArray(A.split("/").filter(Y=>!!Y),!O).join("/"),!A&&!O&&(A="."),A&&P&&(A+="/"),(O?"/":"")+A},dirname:A=>{var O=ue.splitPath(A),P=O[0],Y=O[1];return!P&&!Y?".":(Y&&(Y=Y.slice(0,-1)),P+Y)},basename:A=>A&&A.match(/([^\/]+|\/)\/*$/)[1],join:(...A)=>ue.normalize(A.join("/")),join2:(A,O)=>ue.normalize(A+"/"+O)},se=()=>A=>crypto.getRandomValues(A),ne=A=>{(ne=se())(A)},he={resolve:(...A)=>{for(var O="",P=!1,Y=A.length-1;Y>=-1&&!P;Y--){var re=Y>=0?A[Y]:S.cwd();if(typeof re!="string")throw new TypeError("Arguments to path.resolve must be strings");if(!re)return"";O=re+"/"+O,P=ue.isAbs(re)}return O=ue.normalizeArray(O.split("/").filter(ce=>!!ce),!P).join("/"),(P?"/":"")+O||"."},relative:(A,O)=>{A=he.resolve(A).slice(1),O=he.resolve(O).slice(1);function P(T){for(var x=0;x<T.length&&T[x]==="";x++);for(var U=T.length-1;U>=0&&T[U]==="";U--);return x>U?[]:T.slice(x,U-x+1)}for(var Y=P(A.split("/")),re=P(O.split("/")),ce=Math.min(Y.length,re.length),pe=ce,ve=0;ve<ce;ve++)if(Y[ve]!==re[ve]){pe=ve;break}for(var Me=[],ve=pe;ve<Y.length;ve++)Me.push("..");return Me=Me.concat(re.slice(pe)),Me.join("/")}},Re=typeof TextDecoder<"u"?new TextDecoder:void 0,Te=(A,O=0,P=NaN)=>{for(var Y=O+P,re=O;A[re]&&!(re>=Y);)++re;if(re-O>16&&A.buffer&&Re)return Re.decode(A.subarray(O,re));for(var ce="";O<re;){var pe=A[O++];if(!(pe&128)){ce+=String.fromCharCode(pe);continue}var ve=A[O++]&63;if((pe&224)==192){ce+=String.fromCharCode((pe&31)<<6|ve);continue}var Me=A[O++]&63;if((pe&240)==224?pe=(pe&15)<<12|ve<<6|Me:pe=(pe&7)<<18|ve<<12|Me<<6|A[O++]&63,pe<65536)ce+=String.fromCharCode(pe);else{var T=pe-65536;ce+=String.fromCharCode(55296|T>>10,56320|T&1023)}}return ce},ye=[],Le=A=>{for(var O=0,P=0;P<A.length;++P){var Y=A.charCodeAt(P);Y<=127?O++:Y<=2047?O+=2:Y>=55296&&Y<=57343?(O+=4,++P):O+=3}return O},Ie=(A,O,P,Y)=>{if(!(Y>0))return 0;for(var re=P,ce=P+Y-1,pe=0;pe<A.length;++pe){var ve=A.charCodeAt(pe);if(ve>=55296&&ve<=57343){var Me=A.charCodeAt(++pe);ve=65536+((ve&1023)<<10)|Me&1023}if(ve<=127){if(P>=ce)break;O[P++]=ve}else if(ve<=2047){if(P+1>=ce)break;O[P++]=192|ve>>6,O[P++]=128|ve&63}else if(ve<=65535){if(P+2>=ce)break;O[P++]=224|ve>>12,O[P++]=128|ve>>6&63,O[P++]=128|ve&63}else{if(P+3>=ce)break;O[P++]=240|ve>>18,O[P++]=128|ve>>12&63,O[P++]=128|ve>>6&63,O[P++]=128|ve&63}}return O[P]=0,P-re},Oe=(A,O,P)=>{var Y=Le(A)+1,re=new Array(Y),ce=Ie(A,re,0,re.length);return re.length=ce,re},_e=()=>{if(!ye.length){var A=null;if(typeof window<"u"&&typeof window.prompt=="function"&&(A=window.prompt("Input: "),A!==null&&(A+=`
`)),!A)return null;ye=Oe(A)}return ye.shift()},be={ttys:[],init(){},shutdown(){},register(A,O){be.ttys[A]={input:[],output:[],ops:O},S.registerDevice(A,be.stream_ops)},stream_ops:{open(A){var O=be.ttys[A.node.rdev];if(!O)throw new S.ErrnoError(43);A.tty=O,A.seekable=!1},close(A){A.tty.ops.fsync(A.tty)},fsync(A){A.tty.ops.fsync(A.tty)},read(A,O,P,Y,re){if(!A.tty||!A.tty.ops.get_char)throw new S.ErrnoError(60);for(var ce=0,pe=0;pe<Y;pe++){var ve;try{ve=A.tty.ops.get_char(A.tty)}catch{throw new S.ErrnoError(29)}if(ve===void 0&&ce===0)throw new S.ErrnoError(6);if(ve==null)break;ce++,O[P+pe]=ve}return ce&&(A.node.atime=Date.now()),ce},write(A,O,P,Y,re){if(!A.tty||!A.tty.ops.put_char)throw new S.ErrnoError(60);try{for(var ce=0;ce<Y;ce++)A.tty.ops.put_char(A.tty,O[P+ce])}catch{throw new S.ErrnoError(29)}return Y&&(A.node.mtime=A.node.ctime=Date.now()),ce}},default_tty_ops:{get_char(A){return _e()},put_char(A,O){O===null||O===10?(e(Te(A.output)),A.output=[]):O!=0&&A.output.push(O)},fsync(A){A.output?.length>0&&(e(Te(A.output)),A.output=[])},ioctl_tcgets(A){return{c_iflag:25856,c_oflag:5,c_cflag:191,c_lflag:35387,c_cc:[3,28,127,21,4,0,1,0,17,19,26,0,18,15,23,22,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0]}},ioctl_tcsets(A,O,P){return 0},ioctl_tiocgwinsz(A){return[24,80]}},default_tty1_ops:{put_char(A,O){O===null||O===10?(r(Te(A.output)),A.output=[]):O!=0&&A.output.push(O)},fsync(A){A.output?.length>0&&(r(Te(A.output)),A.output=[])}}},xe=A=>{G()},de={ops_table:null,mount(A){return de.createNode(null,"/",16895,0)},createNode(A,O,P,Y){if(S.isBlkdev(P)||S.isFIFO(P))throw new S.ErrnoError(63);de.ops_table||={dir:{node:{getattr:de.node_ops.getattr,setattr:de.node_ops.setattr,lookup:de.node_ops.lookup,mknod:de.node_ops.mknod,rename:de.node_ops.rename,unlink:de.node_ops.unlink,rmdir:de.node_ops.rmdir,readdir:de.node_ops.readdir,symlink:de.node_ops.symlink},stream:{llseek:de.stream_ops.llseek}},file:{node:{getattr:de.node_ops.getattr,setattr:de.node_ops.setattr},stream:{llseek:de.stream_ops.llseek,read:de.stream_ops.read,write:de.stream_ops.write,mmap:de.stream_ops.mmap,msync:de.stream_ops.msync}},link:{node:{getattr:de.node_ops.getattr,setattr:de.node_ops.setattr,readlink:de.node_ops.readlink},stream:{}},chrdev:{node:{getattr:de.node_ops.getattr,setattr:de.node_ops.setattr},stream:S.chrdev_stream_ops}};var re=S.createNode(A,O,P,Y);return S.isDir(re.mode)?(re.node_ops=de.ops_table.dir.node,re.stream_ops=de.ops_table.dir.stream,re.contents={}):S.isFile(re.mode)?(re.node_ops=de.ops_table.file.node,re.stream_ops=de.ops_table.file.stream,re.usedBytes=0,re.contents=null):S.isLink(re.mode)?(re.node_ops=de.ops_table.link.node,re.stream_ops=de.ops_table.link.stream):S.isChrdev(re.mode)&&(re.node_ops=de.ops_table.chrdev.node,re.stream_ops=de.ops_table.chrdev.stream),re.atime=re.mtime=re.ctime=Date.now(),A&&(A.contents[O]=re,A.atime=A.mtime=A.ctime=re.atime),re},getFileDataAsTypedArray(A){return A.contents?A.contents.subarray?A.contents.subarray(0,A.usedBytes):new Uint8Array(A.contents):new Uint8Array(0)},expandFileStorage(A,O){var P=A.contents?A.contents.length:0;if(!(P>=O)){var Y=1024*1024;O=Math.max(O,P*(P<Y?2:1.125)>>>0),P!=0&&(O=Math.max(O,256));var re=A.contents;A.contents=new Uint8Array(O),A.usedBytes>0&&A.contents.set(re.subarray(0,A.usedBytes),0)}},resizeFileStorage(A,O){if(A.usedBytes!=O)if(O==0)A.contents=null,A.usedBytes=0;else{var P=A.contents;A.contents=new Uint8Array(O),P&&A.contents.set(P.subarray(0,Math.min(O,A.usedBytes))),A.usedBytes=O}},node_ops:{getattr(A){var O={};return O.dev=S.isChrdev(A.mode)?A.id:1,O.ino=A.id,O.mode=A.mode,O.nlink=1,O.uid=0,O.gid=0,O.rdev=A.rdev,S.isDir(A.mode)?O.size=4096:S.isFile(A.mode)?O.size=A.usedBytes:S.isLink(A.mode)?O.size=A.link.length:O.size=0,O.atime=new Date(A.atime),O.mtime=new Date(A.mtime),O.ctime=new Date(A.ctime),O.blksize=4096,O.blocks=Math.ceil(O.size/O.blksize),O},setattr(A,O){for(const P of["mode","atime","mtime","ctime"])O[P]!=null&&(A[P]=O[P]);O.size!==void 0&&de.resizeFileStorage(A,O.size)},lookup(A,O){throw de.doesNotExistError},mknod(A,O,P,Y){return de.createNode(A,O,P,Y)},rename(A,O,P){var Y;try{Y=S.lookupNode(O,P)}catch{}if(Y){if(S.isDir(A.mode))for(var re in Y.contents)throw new S.ErrnoError(55);S.hashRemoveNode(Y)}delete A.parent.contents[A.name],O.contents[P]=A,A.name=P,O.ctime=O.mtime=A.parent.ctime=A.parent.mtime=Date.now()},unlink(A,O){delete A.contents[O],A.ctime=A.mtime=Date.now()},rmdir(A,O){var P=S.lookupNode(A,O);for(var Y in P.contents)throw new S.ErrnoError(55);delete A.contents[O],A.ctime=A.mtime=Date.now()},readdir(A){return[".","..",...Object.keys(A.contents)]},symlink(A,O,P){var Y=de.createNode(A,O,41471,0);return Y.link=P,Y},readlink(A){if(!S.isLink(A.mode))throw new S.ErrnoError(28);return A.link}},stream_ops:{read(A,O,P,Y,re){var ce=A.node.contents;if(re>=A.node.usedBytes)return 0;var pe=Math.min(A.node.usedBytes-re,Y);if(pe>8&&ce.subarray)O.set(ce.subarray(re,re+pe),P);else for(var ve=0;ve<pe;ve++)O[P+ve]=ce[re+ve];return pe},write(A,O,P,Y,re,ce){if(O.buffer===v.buffer&&(ce=!1),!Y)return 0;var pe=A.node;if(pe.mtime=pe.ctime=Date.now(),O.subarray&&(!pe.contents||pe.contents.subarray)){if(ce)return pe.contents=O.subarray(P,P+Y),pe.usedBytes=Y,Y;if(pe.usedBytes===0&&re===0)return pe.contents=O.slice(P,P+Y),pe.usedBytes=Y,Y;if(re+Y<=pe.usedBytes)return pe.contents.set(O.subarray(P,P+Y),re),Y}if(de.expandFileStorage(pe,re+Y),pe.contents.subarray&&O.subarray)pe.contents.set(O.subarray(P,P+Y),re);else for(var ve=0;ve<Y;ve++)pe.contents[re+ve]=O[P+ve];return pe.usedBytes=Math.max(pe.usedBytes,re+Y),Y},llseek(A,O,P){var Y=O;if(P===1?Y+=A.position:P===2&&S.isFile(A.node.mode)&&(Y+=A.node.usedBytes),Y<0)throw new S.ErrnoError(28);return Y},mmap(A,O,P,Y,re){if(!S.isFile(A.node.mode))throw new S.ErrnoError(43);var ce,pe,ve=A.node.contents;if(!(re&2)&&ve&&ve.buffer===v.buffer)pe=!1,ce=ve.byteOffset;else{if(pe=!0,ce=xe(),!ce)throw new S.ErrnoError(48);ve&&((P>0||P+O<ve.length)&&(ve.subarray?ve=ve.subarray(P,P+O):ve=Array.prototype.slice.call(ve,P,P+O)),v.set(ve,ce))}return{ptr:ce,allocated:pe}},msync(A,O,P,Y,re){return de.stream_ops.write(A,O,0,Y,P,!1),0}}},qe=async A=>{var O=await i(A);return new Uint8Array(O)},Ke=(...A)=>S.createDataFile(...A),$e=[],De=(A,O,P,Y)=>{typeof Browser<"u"&&Browser.init();var re=!1;return $e.forEach(ce=>{re||ce.canHandle(O)&&(ce.handle(A,O,P,Y),re=!0)}),re},Ne=(A,O,P,Y,re,ce,pe,ve,Me,T)=>{var x=O?he.resolve(ue.join2(A,O)):A;function U(V){function Z(ae){T?.(),ve||Ke(A,O,ae,Y,re,Me),ce?.(),I()}De(V,x,Z,()=>{pe?.(),I()})||Z(V)}k(),typeof P=="string"?qe(P).then(U,pe):U(P)},W=A=>{var O={r:0,"r+":2,w:577,"w+":578,a:1089,"a+":1090},P=O[A];if(typeof P>"u")throw new Error(`Unknown file open mode: ${A}`);return P},We=(A,O)=>{var P=0;return A&&(P|=365),O&&(P|=146),P},S={root:null,mounts:[],devices:{},streams:[],nextInode:1,nameTable:null,currentPath:"/",initialized:!1,ignorePermissions:!0,filesystems:null,syncFSRequests:0,readFiles:{},ErrnoError:class{name="ErrnoError";constructor(A){this.errno=A}},FSStream:class{shared={};get object(){return this.node}set object(A){this.node=A}get isRead(){return(this.flags&2097155)!==1}get isWrite(){return(this.flags&2097155)!==0}get isAppend(){return this.flags&1024}get flags(){return this.shared.flags}set flags(A){this.shared.flags=A}get position(){return this.shared.position}set position(A){this.shared.position=A}},FSNode:class{node_ops={};stream_ops={};readMode=365;writeMode=146;mounted=null;constructor(A,O,P,Y){A||(A=this),this.parent=A,this.mount=A.mount,this.id=S.nextInode++,this.name=O,this.mode=P,this.rdev=Y,this.atime=this.mtime=this.ctime=Date.now()}get read(){return(this.mode&this.readMode)===this.readMode}set read(A){A?this.mode|=this.readMode:this.mode&=~this.readMode}get write(){return(this.mode&this.writeMode)===this.writeMode}set write(A){A?this.mode|=this.writeMode:this.mode&=~this.writeMode}get isFolder(){return S.isDir(this.mode)}get isDevice(){return S.isChrdev(this.mode)}},lookupPath(A,O={}){if(!A)throw new S.ErrnoError(44);O.follow_mount??=!0,ue.isAbs(A)||(A=S.cwd()+"/"+A);e:for(var P=0;P<40;P++){for(var Y=A.split("/").filter(T=>!!T),re=S.root,ce="/",pe=0;pe<Y.length;pe++){var ve=pe===Y.length-1;if(ve&&O.parent)break;if(Y[pe]!=="."){if(Y[pe]===".."){if(ce=ue.dirname(ce),S.isRoot(re)){A=ce+"/"+Y.slice(pe+1).join("/");continue e}else re=re.parent;continue}ce=ue.join2(ce,Y[pe]);try{re=S.lookupNode(re,Y[pe])}catch(T){if(T?.errno===44&&ve&&O.noent_okay)return{path:ce};throw T}if(S.isMountpoint(re)&&(!ve||O.follow_mount)&&(re=re.mounted.root),S.isLink(re.mode)&&(!ve||O.follow)){if(!re.node_ops.readlink)throw new S.ErrnoError(52);var Me=re.node_ops.readlink(re);ue.isAbs(Me)||(Me=ue.dirname(ce)+"/"+Me),A=Me+"/"+Y.slice(pe+1).join("/");continue e}}}return{path:ce,node:re}}throw new S.ErrnoError(32)},getPath(A){for(var O;;){if(S.isRoot(A)){var P=A.mount.mountpoint;return O?P[P.length-1]!=="/"?`${P}/${O}`:P+O:P}O=O?`${A.name}/${O}`:A.name,A=A.parent}},hashName(A,O){for(var P=0,Y=0;Y<O.length;Y++)P=(P<<5)-P+O.charCodeAt(Y)|0;return(A+P>>>0)%S.nameTable.length},hashAddNode(A){var O=S.hashName(A.parent.id,A.name);A.name_next=S.nameTable[O],S.nameTable[O]=A},hashRemoveNode(A){var O=S.hashName(A.parent.id,A.name);if(S.nameTable[O]===A)S.nameTable[O]=A.name_next;else for(var P=S.nameTable[O];P;){if(P.name_next===A){P.name_next=A.name_next;break}P=P.name_next}},lookupNode(A,O){var P=S.mayLookup(A);if(P)throw new S.ErrnoError(P);for(var Y=S.hashName(A.id,O),re=S.nameTable[Y];re;re=re.name_next){var ce=re.name;if(re.parent.id===A.id&&ce===O)return re}return S.lookup(A,O)},createNode(A,O,P,Y){var re=new S.FSNode(A,O,P,Y);return S.hashAddNode(re),re},destroyNode(A){S.hashRemoveNode(A)},isRoot(A){return A===A.parent},isMountpoint(A){return!!A.mounted},isFile(A){return(A&61440)===32768},isDir(A){return(A&61440)===16384},isLink(A){return(A&61440)===40960},isChrdev(A){return(A&61440)===8192},isBlkdev(A){return(A&61440)===24576},isFIFO(A){return(A&61440)===4096},isSocket(A){return(A&49152)===49152},flagsToPermissionString(A){var O=["r","w","rw"][A&3];return A&512&&(O+="w"),O},nodePermissions(A,O){return S.ignorePermissions?0:O.includes("r")&&!(A.mode&292)||O.includes("w")&&!(A.mode&146)||O.includes("x")&&!(A.mode&73)?2:0},mayLookup(A){if(!S.isDir(A.mode))return 54;var O=S.nodePermissions(A,"x");return O||(A.node_ops.lookup?0:2)},mayCreate(A,O){if(!S.isDir(A.mode))return 54;try{var P=S.lookupNode(A,O);return 20}catch{}return S.nodePermissions(A,"wx")},mayDelete(A,O,P){var Y;try{Y=S.lookupNode(A,O)}catch(ce){return ce.errno}var re=S.nodePermissions(A,"wx");if(re)return re;if(P){if(!S.isDir(Y.mode))return 54;if(S.isRoot(Y)||S.getPath(Y)===S.cwd())return 10}else if(S.isDir(Y.mode))return 31;return 0},mayOpen(A,O){return A?S.isLink(A.mode)?32:S.isDir(A.mode)&&(S.flagsToPermissionString(O)!=="r"||O&576)?31:S.nodePermissions(A,S.flagsToPermissionString(O)):44},checkOpExists(A,O){if(!A)throw new S.ErrnoError(O);return A},MAX_OPEN_FDS:4096,nextfd(){for(var A=0;A<=S.MAX_OPEN_FDS;A++)if(!S.streams[A])return A;throw new S.ErrnoError(33)},getStreamChecked(A){var O=S.getStream(A);if(!O)throw new S.ErrnoError(8);return O},getStream:A=>S.streams[A],createStream(A,O=-1){return A=Object.assign(new S.FSStream,A),O==-1&&(O=S.nextfd()),A.fd=O,S.streams[O]=A,A},closeStream(A){S.streams[A]=null},dupStream(A,O=-1){var P=S.createStream(A,O);return P.stream_ops?.dup?.(P),P},doSetAttr(A,O,P){var Y=A?.stream_ops.setattr,re=Y?A:O;Y??=O.node_ops.setattr,S.checkOpExists(Y,63),Y(re,P)},chrdev_stream_ops:{open(A){var O=S.getDevice(A.node.rdev);A.stream_ops=O.stream_ops,A.stream_ops.open?.(A)},llseek(){throw new S.ErrnoError(70)}},major:A=>A>>8,minor:A=>A&255,makedev:(A,O)=>A<<8|O,registerDevice(A,O){S.devices[A]={stream_ops:O}},getDevice:A=>S.devices[A],getMounts(A){for(var O=[],P=[A];P.length;){var Y=P.pop();O.push(Y),P.push(...Y.mounts)}return O},syncfs(A,O){typeof A=="function"&&(O=A,A=!1),S.syncFSRequests++,S.syncFSRequests>1&&r(`warning: ${S.syncFSRequests} FS.syncfs operations in flight at once, probably just doing extra work`);var P=S.getMounts(S.root.mount),Y=0;function re(pe){return S.syncFSRequests--,O(pe)}function ce(pe){if(pe)return ce.errored?void 0:(ce.errored=!0,re(pe));++Y>=P.length&&re(null)}P.forEach(pe=>{if(!pe.type.syncfs)return ce(null);pe.type.syncfs(pe,A,ce)})},mount(A,O,P){var Y=P==="/",re=!P,ce;if(Y&&S.root)throw new S.ErrnoError(10);if(!Y&&!re){var pe=S.lookupPath(P,{follow_mount:!1});if(P=pe.path,ce=pe.node,S.isMountpoint(ce))throw new S.ErrnoError(10);if(!S.isDir(ce.mode))throw new S.ErrnoError(54)}var ve={type:A,opts:O,mountpoint:P,mounts:[]},Me=A.mount(ve);return Me.mount=ve,ve.root=Me,Y?S.root=Me:ce&&(ce.mounted=ve,ce.mount&&ce.mount.mounts.push(ve)),Me},unmount(A){var O=S.lookupPath(A,{follow_mount:!1});if(!S.isMountpoint(O.node))throw new S.ErrnoError(28);var P=O.node,Y=P.mounted,re=S.getMounts(Y);Object.keys(S.nameTable).forEach(pe=>{for(var ve=S.nameTable[pe];ve;){var Me=ve.name_next;re.includes(ve.mount)&&S.destroyNode(ve),ve=Me}}),P.mounted=null;var ce=P.mount.mounts.indexOf(Y);P.mount.mounts.splice(ce,1)},lookup(A,O){return A.node_ops.lookup(A,O)},mknod(A,O,P){var Y=S.lookupPath(A,{parent:!0}),re=Y.node,ce=ue.basename(A);if(!ce)throw new S.ErrnoError(28);if(ce==="."||ce==="..")throw new S.ErrnoError(20);var pe=S.mayCreate(re,ce);if(pe)throw new S.ErrnoError(pe);if(!re.node_ops.mknod)throw new S.ErrnoError(63);return re.node_ops.mknod(re,ce,O,P)},statfs(A){return S.statfsNode(S.lookupPath(A,{follow:!0}).node)},statfsStream(A){return S.statfsNode(A.node)},statfsNode(A){var O={bsize:4096,frsize:4096,blocks:1e6,bfree:5e5,bavail:5e5,files:S.nextInode,ffree:S.nextInode-1,fsid:42,flags:2,namelen:255};return A.node_ops.statfs&&Object.assign(O,A.node_ops.statfs(A.mount.opts.root)),O},create(A,O=438){return O&=4095,O|=32768,S.mknod(A,O,0)},mkdir(A,O=511){return O&=1023,O|=16384,S.mknod(A,O,0)},mkdirTree(A,O){var P=A.split("/"),Y="";for(var re of P)if(re){(Y||ue.isAbs(A))&&(Y+="/"),Y+=re;try{S.mkdir(Y,O)}catch(ce){if(ce.errno!=20)throw ce}}},mkdev(A,O,P){return typeof P>"u"&&(P=O,O=438),O|=8192,S.mknod(A,O,P)},symlink(A,O){if(!he.resolve(A))throw new S.ErrnoError(44);var P=S.lookupPath(O,{parent:!0}),Y=P.node;if(!Y)throw new S.ErrnoError(44);var re=ue.basename(O),ce=S.mayCreate(Y,re);if(ce)throw new S.ErrnoError(ce);if(!Y.node_ops.symlink)throw new S.ErrnoError(63);return Y.node_ops.symlink(Y,re,A)},rename(A,O){var P=ue.dirname(A),Y=ue.dirname(O),re=ue.basename(A),ce=ue.basename(O),pe,ve,Me;if(pe=S.lookupPath(A,{parent:!0}),ve=pe.node,pe=S.lookupPath(O,{parent:!0}),Me=pe.node,!ve||!Me)throw new S.ErrnoError(44);if(ve.mount!==Me.mount)throw new S.ErrnoError(75);var T=S.lookupNode(ve,re),x=he.relative(A,Y);if(x.charAt(0)!==".")throw new S.ErrnoError(28);if(x=he.relative(O,P),x.charAt(0)!==".")throw new S.ErrnoError(55);var U;try{U=S.lookupNode(Me,ce)}catch{}if(T!==U){var V=S.isDir(T.mode),Z=S.mayDelete(ve,re,V);if(Z)throw new S.ErrnoError(Z);if(Z=U?S.mayDelete(Me,ce,V):S.mayCreate(Me,ce),Z)throw new S.ErrnoError(Z);if(!ve.node_ops.rename)throw new S.ErrnoError(63);if(S.isMountpoint(T)||U&&S.isMountpoint(U))throw new S.ErrnoError(10);if(Me!==ve&&(Z=S.nodePermissions(ve,"w"),Z))throw new S.ErrnoError(Z);S.hashRemoveNode(T);try{ve.node_ops.rename(T,Me,ce),T.parent=Me}catch(ae){throw ae}finally{S.hashAddNode(T)}}},rmdir(A){var O=S.lookupPath(A,{parent:!0}),P=O.node,Y=ue.basename(A),re=S.lookupNode(P,Y),ce=S.mayDelete(P,Y,!0);if(ce)throw new S.ErrnoError(ce);if(!P.node_ops.rmdir)throw new S.ErrnoError(63);if(S.isMountpoint(re))throw new S.ErrnoError(10);P.node_ops.rmdir(P,Y),S.destroyNode(re)},readdir(A){var O=S.lookupPath(A,{follow:!0}),P=O.node,Y=S.checkOpExists(P.node_ops.readdir,54);return Y(P)},unlink(A){var O=S.lookupPath(A,{parent:!0}),P=O.node;if(!P)throw new S.ErrnoError(44);var Y=ue.basename(A),re=S.lookupNode(P,Y),ce=S.mayDelete(P,Y,!1);if(ce)throw new S.ErrnoError(ce);if(!P.node_ops.unlink)throw new S.ErrnoError(63);if(S.isMountpoint(re))throw new S.ErrnoError(10);P.node_ops.unlink(P,Y),S.destroyNode(re)},readlink(A){var O=S.lookupPath(A),P=O.node;if(!P)throw new S.ErrnoError(44);if(!P.node_ops.readlink)throw new S.ErrnoError(28);return P.node_ops.readlink(P)},stat(A,O){var P=S.lookupPath(A,{follow:!O}),Y=P.node,re=S.checkOpExists(Y.node_ops.getattr,63);return re(Y)},fstat(A){var O=S.getStreamChecked(A),P=O.node,Y=O.stream_ops.getattr,re=Y?O:P;return Y??=P.node_ops.getattr,S.checkOpExists(Y,63),Y(re)},lstat(A){return S.stat(A,!0)},doChmod(A,O,P,Y){S.doSetAttr(A,O,{mode:P&4095|O.mode&-4096,ctime:Date.now(),dontFollow:Y})},chmod(A,O,P){var Y;if(typeof A=="string"){var re=S.lookupPath(A,{follow:!P});Y=re.node}else Y=A;S.doChmod(null,Y,O,P)},lchmod(A,O){S.chmod(A,O,!0)},fchmod(A,O){var P=S.getStreamChecked(A);S.doChmod(P,P.node,O,!1)},doChown(A,O,P){S.doSetAttr(A,O,{timestamp:Date.now(),dontFollow:P})},chown(A,O,P,Y){var re;if(typeof A=="string"){var ce=S.lookupPath(A,{follow:!Y});re=ce.node}else re=A;S.doChown(null,re,Y)},lchown(A,O,P){S.chown(A,O,P,!0)},fchown(A,O,P){var Y=S.getStreamChecked(A);S.doChown(Y,Y.node,!1)},doTruncate(A,O,P){if(S.isDir(O.mode))throw new S.ErrnoError(31);if(!S.isFile(O.mode))throw new S.ErrnoError(28);var Y=S.nodePermissions(O,"w");if(Y)throw new S.ErrnoError(Y);S.doSetAttr(A,O,{size:P,timestamp:Date.now()})},truncate(A,O){if(O<0)throw new S.ErrnoError(28);var P;if(typeof A=="string"){var Y=S.lookupPath(A,{follow:!0});P=Y.node}else P=A;S.doTruncate(null,P,O)},ftruncate(A,O){var P=S.getStreamChecked(A);if(O<0||(P.flags&2097155)===0)throw new S.ErrnoError(28);S.doTruncate(P,P.node,O)},utime(A,O,P){var Y=S.lookupPath(A,{follow:!0}),re=Y.node,ce=S.checkOpExists(re.node_ops.setattr,63);ce(re,{atime:O,mtime:P})},open(A,O,P=438){if(A==="")throw new S.ErrnoError(44);O=typeof O=="string"?W(O):O,O&64?P=P&4095|32768:P=0;var Y,re;if(typeof A=="object")Y=A;else{re=A.endsWith("/");var ce=S.lookupPath(A,{follow:!(O&131072),noent_okay:!0});Y=ce.node,A=ce.path}var pe=!1;if(O&64)if(Y){if(O&128)throw new S.ErrnoError(20)}else{if(re)throw new S.ErrnoError(31);Y=S.mknod(A,P|511,0),pe=!0}if(!Y)throw new S.ErrnoError(44);if(S.isChrdev(Y.mode)&&(O&=-513),O&65536&&!S.isDir(Y.mode))throw new S.ErrnoError(54);if(!pe){var ve=S.mayOpen(Y,O);if(ve)throw new S.ErrnoError(ve)}O&512&&!pe&&S.truncate(Y,0),O&=-131713;var Me=S.createStream({node:Y,path:S.getPath(Y),flags:O,seekable:!0,position:0,stream_ops:Y.stream_ops,ungotten:[],error:!1});return Me.stream_ops.open&&Me.stream_ops.open(Me),pe&&S.chmod(Y,P&511),f.logReadFiles&&!(O&1)&&(A in S.readFiles||(S.readFiles[A]=1)),Me},close(A){if(S.isClosed(A))throw new S.ErrnoError(8);A.getdents&&(A.getdents=null);try{A.stream_ops.close&&A.stream_ops.close(A)}catch(O){throw O}finally{S.closeStream(A.fd)}A.fd=null},isClosed(A){return A.fd===null},llseek(A,O,P){if(S.isClosed(A))throw new S.ErrnoError(8);if(!A.seekable||!A.stream_ops.llseek)throw new S.ErrnoError(70);if(P!=0&&P!=1&&P!=2)throw new S.ErrnoError(28);return A.position=A.stream_ops.llseek(A,O,P),A.ungotten=[],A.position},read(A,O,P,Y,re){if(Y<0||re<0)throw new S.ErrnoError(28);if(S.isClosed(A))throw new S.ErrnoError(8);if((A.flags&2097155)===1)throw new S.ErrnoError(8);if(S.isDir(A.node.mode))throw new S.ErrnoError(31);if(!A.stream_ops.read)throw new S.ErrnoError(28);var ce=typeof re<"u";if(!ce)re=A.position;else if(!A.seekable)throw new S.ErrnoError(70);var pe=A.stream_ops.read(A,O,P,Y,re);return ce||(A.position+=pe),pe},write(A,O,P,Y,re,ce){if(Y<0||re<0)throw new S.ErrnoError(28);if(S.isClosed(A))throw new S.ErrnoError(8);if((A.flags&2097155)===0)throw new S.ErrnoError(8);if(S.isDir(A.node.mode))throw new S.ErrnoError(31);if(!A.stream_ops.write)throw new S.ErrnoError(28);A.seekable&&A.flags&1024&&S.llseek(A,0,2);var pe=typeof re<"u";if(!pe)re=A.position;else if(!A.seekable)throw new S.ErrnoError(70);var ve=A.stream_ops.write(A,O,P,Y,re,ce);return pe||(A.position+=ve),ve},mmap(A,O,P,Y,re){if((Y&2)!==0&&(re&2)===0&&(A.flags&2097155)!==2)throw new S.ErrnoError(2);if((A.flags&2097155)===1)throw new S.ErrnoError(2);if(!A.stream_ops.mmap)throw new S.ErrnoError(43);if(!O)throw new S.ErrnoError(28);return A.stream_ops.mmap(A,O,P,Y,re)},msync(A,O,P,Y,re){return A.stream_ops.msync?A.stream_ops.msync(A,O,P,Y,re):0},ioctl(A,O,P){if(!A.stream_ops.ioctl)throw new S.ErrnoError(59);return A.stream_ops.ioctl(A,O,P)},readFile(A,O={}){if(O.flags=O.flags||0,O.encoding=O.encoding||"binary",O.encoding!=="utf8"&&O.encoding!=="binary")throw new Error(`Invalid encoding type "${O.encoding}"`);var P,Y=S.open(A,O.flags),re=S.stat(A),ce=re.size,pe=new Uint8Array(ce);return S.read(Y,pe,0,ce,0),O.encoding==="utf8"?P=Te(pe):O.encoding==="binary"&&(P=pe),S.close(Y),P},writeFile(A,O,P={}){P.flags=P.flags||577;var Y=S.open(A,P.flags,P.mode);if(typeof O=="string"){var re=new Uint8Array(Le(O)+1),ce=Ie(O,re,0,re.length);S.write(Y,re,0,ce,void 0,P.canOwn)}else if(ArrayBuffer.isView(O))S.write(Y,O,0,O.byteLength,void 0,P.canOwn);else throw new Error("Unsupported data type");S.close(Y)},cwd:()=>S.currentPath,chdir(A){var O=S.lookupPath(A,{follow:!0});if(O.node===null)throw new S.ErrnoError(44);if(!S.isDir(O.node.mode))throw new S.ErrnoError(54);var P=S.nodePermissions(O.node,"x");if(P)throw new S.ErrnoError(P);S.currentPath=O.path},createDefaultDirectories(){S.mkdir("/tmp"),S.mkdir("/home"),S.mkdir("/home/web_user")},createDefaultDevices(){S.mkdir("/dev"),S.registerDevice(S.makedev(1,3),{read:()=>0,write:(Y,re,ce,pe,ve)=>pe,llseek:()=>0}),S.mkdev("/dev/null",S.makedev(1,3)),be.register(S.makedev(5,0),be.default_tty_ops),be.register(S.makedev(6,0),be.default_tty1_ops),S.mkdev("/dev/tty",S.makedev(5,0)),S.mkdev("/dev/tty1",S.makedev(6,0));var A=new Uint8Array(1024),O=0,P=()=>(O===0&&(ne(A),O=A.byteLength),A[--O]);S.createDevice("/dev","random",P),S.createDevice("/dev","urandom",P),S.mkdir("/dev/shm"),S.mkdir("/dev/shm/tmp")},createSpecialDirectories(){S.mkdir("/proc");var A=S.mkdir("/proc/self");S.mkdir("/proc/self/fd"),S.mount({mount(){var O=S.createNode(A,"fd",16895,73);return O.stream_ops={llseek:de.stream_ops.llseek},O.node_ops={lookup(P,Y){var re=+Y,ce=S.getStreamChecked(re),pe={parent:null,mount:{mountpoint:"fake"},node_ops:{readlink:()=>ce.path},id:re+1};return pe.parent=pe,pe},readdir(){return Array.from(S.streams.entries()).filter(([P,Y])=>Y).map(([P,Y])=>P.toString())}},O}},{},"/proc/self/fd")},createStandardStreams(A,O,P){A?S.createDevice("/dev","stdin",A):S.symlink("/dev/tty","/dev/stdin"),O?S.createDevice("/dev","stdout",null,O):S.symlink("/dev/tty","/dev/stdout"),P?S.createDevice("/dev","stderr",null,P):S.symlink("/dev/tty1","/dev/stderr"),S.open("/dev/stdin",0),S.open("/dev/stdout",1),S.open("/dev/stderr",1)},staticInit(){S.nameTable=new Array(4096),S.mount(de,{},"/"),S.createDefaultDirectories(),S.createDefaultDevices(),S.createSpecialDirectories(),S.filesystems={MEMFS:de}},init(A,O,P){S.initialized=!0,A??=f.stdin,O??=f.stdout,P??=f.stderr,S.createStandardStreams(A,O,P)},quit(){S.initialized=!1;for(var A of S.streams)A&&S.close(A)},findObject(A,O){var P=S.analyzePath(A,O);return P.exists?P.object:null},analyzePath(A,O){try{var P=S.lookupPath(A,{follow:!O});A=P.path}catch{}var Y={isRoot:!1,exists:!1,error:0,name:null,path:null,object:null,parentExists:!1,parentPath:null,parentObject:null};try{var P=S.lookupPath(A,{parent:!0});Y.parentExists=!0,Y.parentPath=P.path,Y.parentObject=P.node,Y.name=ue.basename(A),P=S.lookupPath(A,{follow:!O}),Y.exists=!0,Y.path=P.path,Y.object=P.node,Y.name=P.node.name,Y.isRoot=P.path==="/"}catch(re){Y.error=re.errno}return Y},createPath(A,O,P,Y){A=typeof A=="string"?A:S.getPath(A);for(var re=O.split("/").reverse();re.length;){var ce=re.pop();if(ce){var pe=ue.join2(A,ce);try{S.mkdir(pe)}catch(ve){if(ve.errno!=20)throw ve}A=pe}}return pe},createFile(A,O,P,Y,re){var ce=ue.join2(typeof A=="string"?A:S.getPath(A),O),pe=We(Y,re);return S.create(ce,pe)},createDataFile(A,O,P,Y,re,ce){var pe=O;A&&(A=typeof A=="string"?A:S.getPath(A),pe=O?ue.join2(A,O):A);var ve=We(Y,re),Me=S.create(pe,ve);if(P){if(typeof P=="string"){for(var T=new Array(P.length),x=0,U=P.length;x<U;++x)T[x]=P.charCodeAt(x);P=T}S.chmod(Me,ve|146);var V=S.open(Me,577);S.write(V,P,0,P.length,0,ce),S.close(V),S.chmod(Me,ve)}},createDevice(A,O,P,Y){var re=ue.join2(typeof A=="string"?A:S.getPath(A),O),ce=We(!!P,!!Y);S.createDevice.major??=64;var pe=S.makedev(S.createDevice.major++,0);return S.registerDevice(pe,{open(ve){ve.seekable=!1},close(ve){Y?.buffer?.length&&Y(10)},read(ve,Me,T,x,U){for(var V=0,Z=0;Z<x;Z++){var ae;try{ae=P()}catch{throw new S.ErrnoError(29)}if(ae===void 0&&V===0)throw new S.ErrnoError(6);if(ae==null)break;V++,Me[T+Z]=ae}return V&&(ve.node.atime=Date.now()),V},write(ve,Me,T,x,U){for(var V=0;V<x;V++)try{Y(Me[T+V])}catch{throw new S.ErrnoError(29)}return x&&(ve.node.mtime=ve.node.ctime=Date.now()),V}}),S.mkdev(re,ce,pe)},forceLoadFile(A){if(A.isDevice||A.isFolder||A.link||A.contents)return!0;if(typeof XMLHttpRequest<"u")throw new Error("Lazy loading should have been performed (contents set) in createLazyFile, but it was not. Lazy loading only works in web workers. Use --embed-file or --preload-file in emcc on the main thread.");try{A.contents=t(A.url),A.usedBytes=A.contents.length}catch{throw new S.ErrnoError(29)}},createLazyFile(A,O,P,Y,re){class ce{lengthKnown=!1;chunks=[];get(Z){if(!(Z>this.length-1||Z<0)){var ae=Z%this.chunkSize,me=Z/this.chunkSize|0;return this.getter(me)[ae]}}setDataGetter(Z){this.getter=Z}cacheLength(){var Z=new XMLHttpRequest;if(Z.open("HEAD",P,!1),Z.send(null),!(Z.status>=200&&Z.status<300||Z.status===304))throw new Error("Couldn't load "+P+". Status: "+Z.status);var ae=Number(Z.getResponseHeader("Content-length")),me,we=(me=Z.getResponseHeader("Accept-Ranges"))&&me==="bytes",ke=(me=Z.getResponseHeader("Content-Encoding"))&&me==="gzip",ze=1024*1024;we||(ze=ae);var Je=(je,Pe)=>{if(je>Pe)throw new Error("invalid range ("+je+", "+Pe+") or no bytes requested!");if(Pe>ae-1)throw new Error("only "+ae+" bytes available! programmer error!");var He=new XMLHttpRequest;if(He.open("GET",P,!1),ae!==ze&&He.setRequestHeader("Range","bytes="+je+"-"+Pe),He.responseType="arraybuffer",He.overrideMimeType&&He.overrideMimeType("text/plain; charset=x-user-defined"),He.send(null),!(He.status>=200&&He.status<300||He.status===304))throw new Error("Couldn't load "+P+". Status: "+He.status);return He.response!==void 0?new Uint8Array(He.response||[]):Oe(He.responseText||"")},Xe=this;Xe.setDataGetter(je=>{var Pe=je*ze,He=(je+1)*ze-1;if(He=Math.min(He,ae-1),typeof Xe.chunks[je]>"u"&&(Xe.chunks[je]=Je(Pe,He)),typeof Xe.chunks[je]>"u")throw new Error("doXHR failed!");return Xe.chunks[je]}),(ke||!ae)&&(ze=ae=1,ae=this.getter(0).length,ze=ae,e("LazyFiles on gzip forces download of the whole file when length is accessed")),this._length=ae,this._chunkSize=ze,this.lengthKnown=!0}get length(){return this.lengthKnown||this.cacheLength(),this._length}get chunkSize(){return this.lengthKnown||this.cacheLength(),this._chunkSize}}if(typeof XMLHttpRequest<"u"){throw"Cannot do synchronous binary XHRs outside webworkers in modern browsers. Use --embed-file or --preload-file in emcc";var pe,ve}else var ve={isDevice:!1,url:P};var Me=S.createFile(A,O,ve,Y,re);ve.contents?Me.contents=ve.contents:ve.url&&(Me.contents=null,Me.url=ve.url),Object.defineProperties(Me,{usedBytes:{get:function(){return this.contents.length}}});var T={},x=Object.keys(Me.stream_ops);x.forEach(V=>{var Z=Me.stream_ops[V];T[V]=(...ae)=>(S.forceLoadFile(Me),Z(...ae))});function U(V,Z,ae,me,we){var ke=V.node.contents;if(we>=ke.length)return 0;var ze=Math.min(ke.length-we,me);if(ke.slice)for(var Je=0;Je<ze;Je++)Z[ae+Je]=ke[we+Je];else for(var Je=0;Je<ze;Je++)Z[ae+Je]=ke.get(we+Je);return ze}return T.read=(V,Z,ae,me,we)=>(S.forceLoadFile(Me),U(V,Z,ae,me,we)),T.mmap=(V,Z,ae,me,we)=>{S.forceLoadFile(Me);var ke=xe();if(!ke)throw new S.ErrnoError(48);return U(V,v,ke,Z,ae),{ptr:ke,allocated:!0}},Me.stream_ops=T,Me}},Qe=(A,O)=>A?Te(p,A,O):"",Ve={DEFAULT_POLLMASK:5,calculateAt(A,O,P){if(ue.isAbs(O))return O;var Y;if(A===-100)Y=S.cwd();else{var re=Ve.getStreamFromFD(A);Y=re.path}if(O.length==0){if(!P)throw new S.ErrnoError(44);return Y}return Y+"/"+O},writeStat(A,O){m[A>>2]=O.dev,m[A+4>>2]=O.mode,E[A+8>>2]=O.nlink,m[A+12>>2]=O.uid,m[A+16>>2]=O.gid,m[A+20>>2]=O.rdev,C[A+24>>3]=BigInt(O.size),m[A+32>>2]=4096,m[A+36>>2]=O.blocks;var P=O.atime.getTime(),Y=O.mtime.getTime(),re=O.ctime.getTime();return C[A+40>>3]=BigInt(Math.floor(P/1e3)),E[A+48>>2]=P%1e3*1e3*1e3,C[A+56>>3]=BigInt(Math.floor(Y/1e3)),E[A+64>>2]=Y%1e3*1e3*1e3,C[A+72>>3]=BigInt(Math.floor(re/1e3)),E[A+80>>2]=re%1e3*1e3*1e3,C[A+88>>3]=BigInt(O.ino),0},writeStatFs(A,O){m[A+4>>2]=O.bsize,m[A+40>>2]=O.bsize,m[A+8>>2]=O.blocks,m[A+12>>2]=O.bfree,m[A+16>>2]=O.bavail,m[A+20>>2]=O.files,m[A+24>>2]=O.ffree,m[A+28>>2]=O.fsid,m[A+44>>2]=O.flags,m[A+36>>2]=O.namelen},doMsync(A,O,P,Y,re){if(!S.isFile(O.node.mode))throw new S.ErrnoError(43);if(Y&2)return 0;var ce=p.slice(A,A+P);S.msync(O,ce,re,P,Y)},getStreamFromFD(A){var O=S.getStreamChecked(A);return O},varargs:void 0,getStr(A){var O=Qe(A);return O}};function rt(A,O,P){Ve.varargs=P;try{var Y=Ve.getStreamFromFD(A);switch(O){case 0:{var re=N();if(re<0)return-28;for(;S.streams[re];)re++;var ce;return ce=S.dupStream(Y,re),ce.fd}case 1:case 2:return 0;case 3:return Y.flags;case 4:{var re=N();return Y.flags|=re,0}case 12:{var re=Ae(),pe=0;return u[re+pe>>1]=2,0}case 13:case 14:return 0}return-28}catch(ve){if(typeof S>"u"||ve.name!=="ErrnoError")throw ve;return-ve.errno}}function vt(A,O,P){Ve.varargs=P;try{var Y=Ve.getStreamFromFD(A);switch(O){case 21509:return Y.tty?0:-59;case 21505:{if(!Y.tty)return-59;if(Y.tty.ops.ioctl_tcgets){var re=Y.tty.ops.ioctl_tcgets(Y),ce=Ae();m[ce>>2]=re.c_iflag||0,m[ce+4>>2]=re.c_oflag||0,m[ce+8>>2]=re.c_cflag||0,m[ce+12>>2]=re.c_lflag||0;for(var pe=0;pe<32;pe++)v[ce+pe+17]=re.c_cc[pe]||0;return 0}return 0}case 21510:case 21511:case 21512:return Y.tty?0:-59;case 21506:case 21507:case 21508:{if(!Y.tty)return-59;if(Y.tty.ops.ioctl_tcsets){for(var ce=Ae(),ve=m[ce>>2],Me=m[ce+4>>2],T=m[ce+8>>2],x=m[ce+12>>2],U=[],pe=0;pe<32;pe++)U.push(v[ce+pe+17]);return Y.tty.ops.ioctl_tcsets(Y.tty,O,{c_iflag:ve,c_oflag:Me,c_cflag:T,c_lflag:x,c_cc:U})}return 0}case 21519:{if(!Y.tty)return-59;var ce=Ae();return m[ce>>2]=0,0}case 21520:return Y.tty?-28:-59;case 21531:{var ce=Ae();return S.ioctl(Y,O,ce)}case 21523:{if(!Y.tty)return-59;if(Y.tty.ops.ioctl_tiocgwinsz){var V=Y.tty.ops.ioctl_tiocgwinsz(Y.tty),ce=Ae();u[ce>>1]=V[0],u[ce+2>>1]=V[1]}return 0}case 21524:return Y.tty?0:-59;case 21515:return Y.tty?0:-59;default:return-28}}catch(Z){if(typeof S>"u"||Z.name!=="ErrnoError")throw Z;return-Z.errno}}function _t(A,O,P,Y){Ve.varargs=Y;try{O=Ve.getStr(O),O=Ve.calculateAt(A,O);var re=Y?N():0;return S.open(O,P,re).fd}catch(ce){if(typeof S>"u"||ce.name!=="ErrnoError")throw ce;return-ce.errno}}var Et=()=>G(""),Pt=0,Jt=()=>{Ye=!1,Pt=0},dt={},Tt=A=>{if(A instanceof Ee||A=="unwind")return $;s(1,A)},Ut=()=>Ye||Pt>0,Rt=A=>{$=A,Ut()||(f.onExit?.(A),h=!0),s(A,new Ee(A))},Ht=(A,O)=>{$=A,Rt(A)},Wt=Ht,fn=()=>{if(!Ut())try{Wt($)}catch(A){Tt(A)}},pn=A=>{if(!h)try{A(),fn()}catch(O){Tt(O)}},gn=()=>performance.now(),mn=(A,O)=>{if(dt[A]&&(clearTimeout(dt[A].id),delete dt[A]),!O)return 0;var P=setTimeout(()=>{delete dt[A],pn(()=>F(A,gn()))},O);return dt[A]={id:P,timeout_ms:O},0},ct=(A,O,P)=>Ie(A,p,O,P),zt=(A,O,P,Y)=>{var re=new Date().getFullYear(),ce=new Date(re,0,1),pe=new Date(re,6,1),ve=ce.getTimezoneOffset(),Me=pe.getTimezoneOffset(),T=Math.max(ve,Me);E[A>>2]=T*60,m[O>>2]=+(ve!=Me);var x=Z=>{var ae=Z>=0?"-":"+",me=Math.abs(Z),we=String(Math.floor(me/60)).padStart(2,"0"),ke=String(me%60).padStart(2,"0");return`UTC${ae}${we}${ke}`},U=x(ve),V=x(Me);Me<ve?(ct(U,P,17),ct(V,Y,17)):(ct(U,Y,17),ct(V,P,17))},Zt=()=>2147483648,Xt=(A,O)=>Math.ceil(A/O)*O,Qt=A=>{var O=c.buffer,P=(A-O.byteLength+65535)/65536|0;try{return c.grow(P),R(),1}catch{}},en=A=>{var O=p.length;A>>>=0;var P=Zt();if(A>P)return!1;for(var Y=1;Y<=4;Y*=2){var re=O*(1+.2/Y);re=Math.min(re,A+100663296);var ce=Math.min(P,Xt(Math.max(A,re),65536)),pe=Qt(ce);if(pe)return!0}return!1},Gt={},vn=()=>_||"./this.program",$t=()=>{if(!$t.strings){var A=(typeof navigator=="object"&&navigator.languages&&navigator.languages[0]||"C").replace("-","_")+".UTF-8",O={USER:"web_user",LOGNAME:"web_user",PATH:"/",PWD:"/",HOME:"/home/web_user",LANG:A,_:vn()};for(var P in Gt)Gt[P]===void 0?delete O[P]:O[P]=Gt[P];var Y=[];for(var P in O)Y.push(`${P}=${O[P]}`);$t.strings=Y}return $t.strings},_n=(A,O)=>{var P=0,Y=0;for(var re of $t()){var ce=O+P;E[A+Y>>2]=ce,P+=ct(re,ce,1/0)+1,Y+=4}return 0},Ct=(A,O)=>{var P=$t();E[A>>2]=P.length;var Y=0;for(var re of P)Y+=Le(re)+1;return E[O>>2]=Y,0};function yn(A){try{var O=Ve.getStreamFromFD(A);return S.close(O),0}catch(P){if(typeof S>"u"||P.name!=="ErrnoError")throw P;return P.errno}}var wn=(A,O,P,Y)=>{for(var re=0,ce=0;ce<P;ce++){var pe=E[O>>2],ve=E[O+4>>2];O+=8;var Me=S.read(A,v,pe,ve,Y);if(Me<0)return-1;if(re+=Me,Me<ve)break}return re};function An(A,O,P,Y){try{var re=Ve.getStreamFromFD(A),ce=wn(re,O,P);return E[Y>>2]=ce,0}catch(pe){if(typeof S>"u"||pe.name!=="ErrnoError")throw pe;return pe.errno}}var tn=9007199254740992,bn=-9007199254740992,En=A=>A<bn||A>tn?NaN:Number(A);function ut(A,O,P,Y){O=En(O);try{if(isNaN(O))return 61;var re=Ve.getStreamFromFD(A);return S.llseek(re,O,P),C[Y>>3]=BigInt(re.position),re.getdents&&O===0&&P===0&&(re.getdents=null),0}catch(ce){if(typeof S>"u"||ce.name!=="ErrnoError")throw ce;return ce.errno}}var Cn=(A,O,P,Y)=>{for(var re=0,ce=0;ce<P;ce++){var pe=E[O>>2],ve=E[O+4>>2];O+=8;var Me=S.write(A,v,pe,ve,Y);if(Me<0)return-1;if(re+=Me,Me<ve)break}return re};function Mt(A,O,P,Y){try{var re=Ve.getStreamFromFD(A),ce=Cn(re,O,P);return E[Y>>2]=ce,0}catch(pe){if(typeof S>"u"||pe.name!=="ErrnoError")throw pe;return pe.errno}}var nn=A=>q(A),Sn=A=>{var O=Le(A)+1,P=nn(O);return ct(A,P,O),P};S.createPreloadedFile=Ne,S.staticInit(),de.doesNotExistError=new S.ErrnoError(44),de.doesNotExistError.stack="<generic error, no stack>",f.noExitRuntime&&(Ye=f.noExitRuntime),f.preloadPlugins&&($e=f.preloadPlugins),f.print&&(e=f.print),f.printErr&&(r=f.printErr),f.wasmBinary&&(a=f.wasmBinary),f.arguments&&(b=f.arguments),f.thisProgram&&(_=f.thisProgram),f.FS=S;var qt={c:rt,h:vt,i:_t,p:Et,k:Jt,l:mn,m:zt,d:en,n:_n,o:Ct,a:Wt,b:yn,g:An,e:ut,f:Mt,j:Rt},gt=await fe();gt.r;var D=f._main=gt.s,F=gt.t,q=gt.u;function X(A=[]){var O=D;A.unshift(_);var P=A.length,Y=nn((P+1)*4),re=Y;A.forEach(pe=>{E[re>>2]=Sn(pe),re+=4}),E[re>>2]=0;try{var ce=O(P,Y);return Ht(ce,!0),ce}catch(pe){return Tt(pe)}}function le(A=b){if(l>0){w=le;return}if(L(),l>0){w=le;return}function O(){if(f.calledRun=!0,!h){g(),B(f),f.onRuntimeInitialized?.();var P=f.noInitialRun||!1;P||X(A),y()}}f.setStatus?(f.setStatus("Running..."),setTimeout(()=>{setTimeout(()=>f.setStatus(""),1),O()},1)):O()}function ge(){if(f.preInit)for(typeof f.preInit=="function"&&(f.preInit=[f.preInit]);f.preInit.length>0;)f.preInit.shift()()}return ge(),le(),Q=M,Q},Eo=async function(te={}){var Q,f=te,B,z,M=new Promise((D,F)=>{B=D,z=F}),b=[],_="./this.program",s=(D,F)=>{throw F},d=import.meta.url,o="";function n(D){return f.locateFile?f.locateFile(D,o):o+D}var i,t;{try{o=new URL(".",d).href}catch{}i=async D=>{var F=await fetch(D,{credentials:"same-origin"});if(F.ok)return F.arrayBuffer();throw new Error(F.status+" : "+F.url)}}var e=console.log.bind(console),r=console.error.bind(console),a,c,h=!1,$,v,p,u,m,E,C;function R(){var D=c.buffer;v=new Int8Array(D),u=new Int16Array(D),p=new Uint8Array(D),m=new Int32Array(D),E=new Uint32Array(D),C=new BigInt64Array(D),new BigUint64Array(D)}function L(){if(f.preRun)for(typeof f.preRun=="function"&&(f.preRun=[f.preRun]);f.preRun.length;)Ue(f.preRun.shift());Ce(Fe)}function g(){!f.noFSInit&&!W.initialized&&W.init(),ut.o(),W.ignorePermissions=!1}function y(){if(f.postRun)for(typeof f.postRun=="function"&&(f.postRun=[f.postRun]);f.postRun.length;)Be(f.postRun.shift());Ce(Se)}var l=0,w=null;function k(D){l++,f.monitorRunDependencies?.(l)}function I(D){if(l--,f.monitorRunDependencies?.(l),l==0&&w){var F=w;w=null,F()}}function G(D){f.onAbort?.(D),D="Aborted("+D+")",r(D),h=!0,D+=". Build with -sASSERTIONS for more info.";var F=new WebAssembly.RuntimeError(D);throw z(F),F}var H;function J(){return f.locateFile?n("rgbfix.wasm"):new URL(""+new URL("rgbfix-CuOU-GS3.wasm",import.meta.url).href,import.meta.url).href}function j(D){if(D==H&&a)return new Uint8Array(a);throw"both async and sync fetching of the wasm failed"}async function K(D){if(!a)try{var F=await i(D);return new Uint8Array(F)}catch{}return j(D)}async function ie(D,F){try{var q=await K(D),X=await WebAssembly.instantiate(q,F);return X}catch(le){r(`failed to asynchronously prepare wasm: ${le}`),G(le)}}async function ee(D,F,q){if(!D&&typeof WebAssembly.instantiateStreaming=="function")try{var X=fetch(F,{credentials:"same-origin"}),le=await WebAssembly.instantiateStreaming(X,q);return le}catch(ge){r(`wasm streaming compile failed: ${ge}`),r("falling back to ArrayBuffer instantiation")}return ie(F,q)}function oe(){return{a:En}}async function fe(){function D(ge,A){return ut=ge.exports,c=ut.n,R(),I(),ut}k();function F(ge){return D(ge.instance)}var q=oe();if(f.instantiateWasm)return new Promise((ge,A)=>{f.instantiateWasm(q,(O,P)=>{ge(D(O))})});H??=J();try{var X=await ee(a,H,q),le=F(X);return le}catch(ge){return z(ge),Promise.reject(ge)}}class Ee{name="ExitStatus";constructor(F){this.message=`Program terminated with exit(${F})`,this.status=F}}var Ce=D=>{for(;D.length>0;)D.shift()(f)},Se=[],Be=D=>Se.push(D),Fe=[],Ue=D=>Fe.push(D),Ye=!0,N={isAbs:D=>D.charAt(0)==="/",splitPath:D=>{var F=/^(\/?|)([\s\S]*?)((?:\.{1,2}|[^\/]+?|)(\.[^.\/]*|))(?:[\/]*)$/;return F.exec(D).slice(1)},normalizeArray:(D,F)=>{for(var q=0,X=D.length-1;X>=0;X--){var le=D[X];le==="."?D.splice(X,1):le===".."?(D.splice(X,1),q++):q&&(D.splice(X,1),q--)}if(F)for(;q;q--)D.unshift("..");return D},normalize:D=>{var F=N.isAbs(D),q=D.slice(-1)==="/";return D=N.normalizeArray(D.split("/").filter(X=>!!X),!F).join("/"),!D&&!F&&(D="."),D&&q&&(D+="/"),(F?"/":"")+D},dirname:D=>{var F=N.splitPath(D),q=F[0],X=F[1];return!q&&!X?".":(X&&(X=X.slice(0,-1)),q+X)},basename:D=>D&&D.match(/([^\/]+|\/)\/*$/)[1],join:(...D)=>N.normalize(D.join("/")),join2:(D,F)=>N.normalize(D+"/"+F)},Ae=()=>D=>crypto.getRandomValues(D),ue=D=>{(ue=Ae())(D)},se={resolve:(...D)=>{for(var F="",q=!1,X=D.length-1;X>=-1&&!q;X--){var le=X>=0?D[X]:W.cwd();if(typeof le!="string")throw new TypeError("Arguments to path.resolve must be strings");if(!le)return"";F=le+"/"+F,q=N.isAbs(le)}return F=N.normalizeArray(F.split("/").filter(ge=>!!ge),!q).join("/"),(q?"/":"")+F||"."},relative:(D,F)=>{D=se.resolve(D).slice(1),F=se.resolve(F).slice(1);function q(Y){for(var re=0;re<Y.length&&Y[re]==="";re++);for(var ce=Y.length-1;ce>=0&&Y[ce]==="";ce--);return re>ce?[]:Y.slice(re,ce-re+1)}for(var X=q(D.split("/")),le=q(F.split("/")),ge=Math.min(X.length,le.length),A=ge,O=0;O<ge;O++)if(X[O]!==le[O]){A=O;break}for(var P=[],O=A;O<X.length;O++)P.push("..");return P=P.concat(le.slice(A)),P.join("/")}},ne=typeof TextDecoder<"u"?new TextDecoder:void 0,he=(D,F=0,q=NaN)=>{for(var X=F+q,le=F;D[le]&&!(le>=X);)++le;if(le-F>16&&D.buffer&&ne)return ne.decode(D.subarray(F,le));for(var ge="";F<le;){var A=D[F++];if(!(A&128)){ge+=String.fromCharCode(A);continue}var O=D[F++]&63;if((A&224)==192){ge+=String.fromCharCode((A&31)<<6|O);continue}var P=D[F++]&63;if((A&240)==224?A=(A&15)<<12|O<<6|P:A=(A&7)<<18|O<<12|P<<6|D[F++]&63,A<65536)ge+=String.fromCharCode(A);else{var Y=A-65536;ge+=String.fromCharCode(55296|Y>>10,56320|Y&1023)}}return ge},Re=[],Te=D=>{for(var F=0,q=0;q<D.length;++q){var X=D.charCodeAt(q);X<=127?F++:X<=2047?F+=2:X>=55296&&X<=57343?(F+=4,++q):F+=3}return F},ye=(D,F,q,X)=>{if(!(X>0))return 0;for(var le=q,ge=q+X-1,A=0;A<D.length;++A){var O=D.charCodeAt(A);if(O>=55296&&O<=57343){var P=D.charCodeAt(++A);O=65536+((O&1023)<<10)|P&1023}if(O<=127){if(q>=ge)break;F[q++]=O}else if(O<=2047){if(q+1>=ge)break;F[q++]=192|O>>6,F[q++]=128|O&63}else if(O<=65535){if(q+2>=ge)break;F[q++]=224|O>>12,F[q++]=128|O>>6&63,F[q++]=128|O&63}else{if(q+3>=ge)break;F[q++]=240|O>>18,F[q++]=128|O>>12&63,F[q++]=128|O>>6&63,F[q++]=128|O&63}}return F[q]=0,q-le},Le=(D,F,q)=>{var X=Te(D)+1,le=new Array(X),ge=ye(D,le,0,le.length);return le.length=ge,le},Ie=()=>{if(!Re.length){var D=null;if(typeof window<"u"&&typeof window.prompt=="function"&&(D=window.prompt("Input: "),D!==null&&(D+=`
`)),!D)return null;Re=Le(D)}return Re.shift()},Oe={ttys:[],init(){},shutdown(){},register(D,F){Oe.ttys[D]={input:[],output:[],ops:F},W.registerDevice(D,Oe.stream_ops)},stream_ops:{open(D){var F=Oe.ttys[D.node.rdev];if(!F)throw new W.ErrnoError(43);D.tty=F,D.seekable=!1},close(D){D.tty.ops.fsync(D.tty)},fsync(D){D.tty.ops.fsync(D.tty)},read(D,F,q,X,le){if(!D.tty||!D.tty.ops.get_char)throw new W.ErrnoError(60);for(var ge=0,A=0;A<X;A++){var O;try{O=D.tty.ops.get_char(D.tty)}catch{throw new W.ErrnoError(29)}if(O===void 0&&ge===0)throw new W.ErrnoError(6);if(O==null)break;ge++,F[q+A]=O}return ge&&(D.node.atime=Date.now()),ge},write(D,F,q,X,le){if(!D.tty||!D.tty.ops.put_char)throw new W.ErrnoError(60);try{for(var ge=0;ge<X;ge++)D.tty.ops.put_char(D.tty,F[q+ge])}catch{throw new W.ErrnoError(29)}return X&&(D.node.mtime=D.node.ctime=Date.now()),ge}},default_tty_ops:{get_char(D){return Ie()},put_char(D,F){F===null||F===10?(e(he(D.output)),D.output=[]):F!=0&&D.output.push(F)},fsync(D){D.output?.length>0&&(e(he(D.output)),D.output=[])},ioctl_tcgets(D){return{c_iflag:25856,c_oflag:5,c_cflag:191,c_lflag:35387,c_cc:[3,28,127,21,4,0,1,0,17,19,26,0,18,15,23,22,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0]}},ioctl_tcsets(D,F,q){return 0},ioctl_tiocgwinsz(D){return[24,80]}},default_tty1_ops:{put_char(D,F){F===null||F===10?(r(he(D.output)),D.output=[]):F!=0&&D.output.push(F)},fsync(D){D.output?.length>0&&(r(he(D.output)),D.output=[])}}},_e=D=>{G()},be={ops_table:null,mount(D){return be.createNode(null,"/",16895,0)},createNode(D,F,q,X){if(W.isBlkdev(q)||W.isFIFO(q))throw new W.ErrnoError(63);be.ops_table||={dir:{node:{getattr:be.node_ops.getattr,setattr:be.node_ops.setattr,lookup:be.node_ops.lookup,mknod:be.node_ops.mknod,rename:be.node_ops.rename,unlink:be.node_ops.unlink,rmdir:be.node_ops.rmdir,readdir:be.node_ops.readdir,symlink:be.node_ops.symlink},stream:{llseek:be.stream_ops.llseek}},file:{node:{getattr:be.node_ops.getattr,setattr:be.node_ops.setattr},stream:{llseek:be.stream_ops.llseek,read:be.stream_ops.read,write:be.stream_ops.write,mmap:be.stream_ops.mmap,msync:be.stream_ops.msync}},link:{node:{getattr:be.node_ops.getattr,setattr:be.node_ops.setattr,readlink:be.node_ops.readlink},stream:{}},chrdev:{node:{getattr:be.node_ops.getattr,setattr:be.node_ops.setattr},stream:W.chrdev_stream_ops}};var le=W.createNode(D,F,q,X);return W.isDir(le.mode)?(le.node_ops=be.ops_table.dir.node,le.stream_ops=be.ops_table.dir.stream,le.contents={}):W.isFile(le.mode)?(le.node_ops=be.ops_table.file.node,le.stream_ops=be.ops_table.file.stream,le.usedBytes=0,le.contents=null):W.isLink(le.mode)?(le.node_ops=be.ops_table.link.node,le.stream_ops=be.ops_table.link.stream):W.isChrdev(le.mode)&&(le.node_ops=be.ops_table.chrdev.node,le.stream_ops=be.ops_table.chrdev.stream),le.atime=le.mtime=le.ctime=Date.now(),D&&(D.contents[F]=le,D.atime=D.mtime=D.ctime=le.atime),le},getFileDataAsTypedArray(D){return D.contents?D.contents.subarray?D.contents.subarray(0,D.usedBytes):new Uint8Array(D.contents):new Uint8Array(0)},expandFileStorage(D,F){var q=D.contents?D.contents.length:0;if(!(q>=F)){var X=1024*1024;F=Math.max(F,q*(q<X?2:1.125)>>>0),q!=0&&(F=Math.max(F,256));var le=D.contents;D.contents=new Uint8Array(F),D.usedBytes>0&&D.contents.set(le.subarray(0,D.usedBytes),0)}},resizeFileStorage(D,F){if(D.usedBytes!=F)if(F==0)D.contents=null,D.usedBytes=0;else{var q=D.contents;D.contents=new Uint8Array(F),q&&D.contents.set(q.subarray(0,Math.min(F,D.usedBytes))),D.usedBytes=F}},node_ops:{getattr(D){var F={};return F.dev=W.isChrdev(D.mode)?D.id:1,F.ino=D.id,F.mode=D.mode,F.nlink=1,F.uid=0,F.gid=0,F.rdev=D.rdev,W.isDir(D.mode)?F.size=4096:W.isFile(D.mode)?F.size=D.usedBytes:W.isLink(D.mode)?F.size=D.link.length:F.size=0,F.atime=new Date(D.atime),F.mtime=new Date(D.mtime),F.ctime=new Date(D.ctime),F.blksize=4096,F.blocks=Math.ceil(F.size/F.blksize),F},setattr(D,F){for(const q of["mode","atime","mtime","ctime"])F[q]!=null&&(D[q]=F[q]);F.size!==void 0&&be.resizeFileStorage(D,F.size)},lookup(D,F){throw be.doesNotExistError},mknod(D,F,q,X){return be.createNode(D,F,q,X)},rename(D,F,q){var X;try{X=W.lookupNode(F,q)}catch{}if(X){if(W.isDir(D.mode))for(var le in X.contents)throw new W.ErrnoError(55);W.hashRemoveNode(X)}delete D.parent.contents[D.name],F.contents[q]=D,D.name=q,F.ctime=F.mtime=D.parent.ctime=D.parent.mtime=Date.now()},unlink(D,F){delete D.contents[F],D.ctime=D.mtime=Date.now()},rmdir(D,F){var q=W.lookupNode(D,F);for(var X in q.contents)throw new W.ErrnoError(55);delete D.contents[F],D.ctime=D.mtime=Date.now()},readdir(D){return[".","..",...Object.keys(D.contents)]},symlink(D,F,q){var X=be.createNode(D,F,41471,0);return X.link=q,X},readlink(D){if(!W.isLink(D.mode))throw new W.ErrnoError(28);return D.link}},stream_ops:{read(D,F,q,X,le){var ge=D.node.contents;if(le>=D.node.usedBytes)return 0;var A=Math.min(D.node.usedBytes-le,X);if(A>8&&ge.subarray)F.set(ge.subarray(le,le+A),q);else for(var O=0;O<A;O++)F[q+O]=ge[le+O];return A},write(D,F,q,X,le,ge){if(F.buffer===v.buffer&&(ge=!1),!X)return 0;var A=D.node;if(A.mtime=A.ctime=Date.now(),F.subarray&&(!A.contents||A.contents.subarray)){if(ge)return A.contents=F.subarray(q,q+X),A.usedBytes=X,X;if(A.usedBytes===0&&le===0)return A.contents=F.slice(q,q+X),A.usedBytes=X,X;if(le+X<=A.usedBytes)return A.contents.set(F.subarray(q,q+X),le),X}if(be.expandFileStorage(A,le+X),A.contents.subarray&&F.subarray)A.contents.set(F.subarray(q,q+X),le);else for(var O=0;O<X;O++)A.contents[le+O]=F[q+O];return A.usedBytes=Math.max(A.usedBytes,le+X),X},llseek(D,F,q){var X=F;if(q===1?X+=D.position:q===2&&W.isFile(D.node.mode)&&(X+=D.node.usedBytes),X<0)throw new W.ErrnoError(28);return X},mmap(D,F,q,X,le){if(!W.isFile(D.node.mode))throw new W.ErrnoError(43);var ge,A,O=D.node.contents;if(!(le&2)&&O&&O.buffer===v.buffer)A=!1,ge=O.byteOffset;else{if(A=!0,ge=_e(),!ge)throw new W.ErrnoError(48);O&&((q>0||q+F<O.length)&&(O.subarray?O=O.subarray(q,q+F):O=Array.prototype.slice.call(O,q,q+F)),v.set(O,ge))}return{ptr:ge,allocated:A}},msync(D,F,q,X,le){return be.stream_ops.write(D,F,0,X,q,!1),0}}},xe=async D=>{var F=await i(D);return new Uint8Array(F)},de=(...D)=>W.createDataFile(...D),qe=[],Ke=(D,F,q,X)=>{typeof Browser<"u"&&Browser.init();var le=!1;return qe.forEach(ge=>{le||ge.canHandle(F)&&(ge.handle(D,F,q,X),le=!0)}),le},$e=(D,F,q,X,le,ge,A,O,P,Y)=>{var re=F?se.resolve(N.join2(D,F)):D;function ce(pe){function ve(Me){Y?.(),O||de(D,F,Me,X,le,P),ge?.(),I()}Ke(pe,re,ve,()=>{A?.(),I()})||ve(pe)}k(),typeof q=="string"?xe(q).then(ce,A):ce(q)},De=D=>{var F={r:0,"r+":2,w:577,"w+":578,a:1089,"a+":1090},q=F[D];if(typeof q>"u")throw new Error(`Unknown file open mode: ${D}`);return q},Ne=(D,F)=>{var q=0;return D&&(q|=365),F&&(q|=146),q},W={root:null,mounts:[],devices:{},streams:[],nextInode:1,nameTable:null,currentPath:"/",initialized:!1,ignorePermissions:!0,filesystems:null,syncFSRequests:0,readFiles:{},ErrnoError:class{name="ErrnoError";constructor(D){this.errno=D}},FSStream:class{shared={};get object(){return this.node}set object(D){this.node=D}get isRead(){return(this.flags&2097155)!==1}get isWrite(){return(this.flags&2097155)!==0}get isAppend(){return this.flags&1024}get flags(){return this.shared.flags}set flags(D){this.shared.flags=D}get position(){return this.shared.position}set position(D){this.shared.position=D}},FSNode:class{node_ops={};stream_ops={};readMode=365;writeMode=146;mounted=null;constructor(D,F,q,X){D||(D=this),this.parent=D,this.mount=D.mount,this.id=W.nextInode++,this.name=F,this.mode=q,this.rdev=X,this.atime=this.mtime=this.ctime=Date.now()}get read(){return(this.mode&this.readMode)===this.readMode}set read(D){D?this.mode|=this.readMode:this.mode&=~this.readMode}get write(){return(this.mode&this.writeMode)===this.writeMode}set write(D){D?this.mode|=this.writeMode:this.mode&=~this.writeMode}get isFolder(){return W.isDir(this.mode)}get isDevice(){return W.isChrdev(this.mode)}},lookupPath(D,F={}){if(!D)throw new W.ErrnoError(44);F.follow_mount??=!0,N.isAbs(D)||(D=W.cwd()+"/"+D);e:for(var q=0;q<40;q++){for(var X=D.split("/").filter(Y=>!!Y),le=W.root,ge="/",A=0;A<X.length;A++){var O=A===X.length-1;if(O&&F.parent)break;if(X[A]!=="."){if(X[A]===".."){if(ge=N.dirname(ge),W.isRoot(le)){D=ge+"/"+X.slice(A+1).join("/");continue e}else le=le.parent;continue}ge=N.join2(ge,X[A]);try{le=W.lookupNode(le,X[A])}catch(Y){if(Y?.errno===44&&O&&F.noent_okay)return{path:ge};throw Y}if(W.isMountpoint(le)&&(!O||F.follow_mount)&&(le=le.mounted.root),W.isLink(le.mode)&&(!O||F.follow)){if(!le.node_ops.readlink)throw new W.ErrnoError(52);var P=le.node_ops.readlink(le);N.isAbs(P)||(P=N.dirname(ge)+"/"+P),D=P+"/"+X.slice(A+1).join("/");continue e}}}return{path:ge,node:le}}throw new W.ErrnoError(32)},getPath(D){for(var F;;){if(W.isRoot(D)){var q=D.mount.mountpoint;return F?q[q.length-1]!=="/"?`${q}/${F}`:q+F:q}F=F?`${D.name}/${F}`:D.name,D=D.parent}},hashName(D,F){for(var q=0,X=0;X<F.length;X++)q=(q<<5)-q+F.charCodeAt(X)|0;return(D+q>>>0)%W.nameTable.length},hashAddNode(D){var F=W.hashName(D.parent.id,D.name);D.name_next=W.nameTable[F],W.nameTable[F]=D},hashRemoveNode(D){var F=W.hashName(D.parent.id,D.name);if(W.nameTable[F]===D)W.nameTable[F]=D.name_next;else for(var q=W.nameTable[F];q;){if(q.name_next===D){q.name_next=D.name_next;break}q=q.name_next}},lookupNode(D,F){var q=W.mayLookup(D);if(q)throw new W.ErrnoError(q);for(var X=W.hashName(D.id,F),le=W.nameTable[X];le;le=le.name_next){var ge=le.name;if(le.parent.id===D.id&&ge===F)return le}return W.lookup(D,F)},createNode(D,F,q,X){var le=new W.FSNode(D,F,q,X);return W.hashAddNode(le),le},destroyNode(D){W.hashRemoveNode(D)},isRoot(D){return D===D.parent},isMountpoint(D){return!!D.mounted},isFile(D){return(D&61440)===32768},isDir(D){return(D&61440)===16384},isLink(D){return(D&61440)===40960},isChrdev(D){return(D&61440)===8192},isBlkdev(D){return(D&61440)===24576},isFIFO(D){return(D&61440)===4096},isSocket(D){return(D&49152)===49152},flagsToPermissionString(D){var F=["r","w","rw"][D&3];return D&512&&(F+="w"),F},nodePermissions(D,F){return W.ignorePermissions?0:F.includes("r")&&!(D.mode&292)||F.includes("w")&&!(D.mode&146)||F.includes("x")&&!(D.mode&73)?2:0},mayLookup(D){if(!W.isDir(D.mode))return 54;var F=W.nodePermissions(D,"x");return F||(D.node_ops.lookup?0:2)},mayCreate(D,F){if(!W.isDir(D.mode))return 54;try{var q=W.lookupNode(D,F);return 20}catch{}return W.nodePermissions(D,"wx")},mayDelete(D,F,q){var X;try{X=W.lookupNode(D,F)}catch(ge){return ge.errno}var le=W.nodePermissions(D,"wx");if(le)return le;if(q){if(!W.isDir(X.mode))return 54;if(W.isRoot(X)||W.getPath(X)===W.cwd())return 10}else if(W.isDir(X.mode))return 31;return 0},mayOpen(D,F){return D?W.isLink(D.mode)?32:W.isDir(D.mode)&&(W.flagsToPermissionString(F)!=="r"||F&576)?31:W.nodePermissions(D,W.flagsToPermissionString(F)):44},checkOpExists(D,F){if(!D)throw new W.ErrnoError(F);return D},MAX_OPEN_FDS:4096,nextfd(){for(var D=0;D<=W.MAX_OPEN_FDS;D++)if(!W.streams[D])return D;throw new W.ErrnoError(33)},getStreamChecked(D){var F=W.getStream(D);if(!F)throw new W.ErrnoError(8);return F},getStream:D=>W.streams[D],createStream(D,F=-1){return D=Object.assign(new W.FSStream,D),F==-1&&(F=W.nextfd()),D.fd=F,W.streams[F]=D,D},closeStream(D){W.streams[D]=null},dupStream(D,F=-1){var q=W.createStream(D,F);return q.stream_ops?.dup?.(q),q},doSetAttr(D,F,q){var X=D?.stream_ops.setattr,le=X?D:F;X??=F.node_ops.setattr,W.checkOpExists(X,63),X(le,q)},chrdev_stream_ops:{open(D){var F=W.getDevice(D.node.rdev);D.stream_ops=F.stream_ops,D.stream_ops.open?.(D)},llseek(){throw new W.ErrnoError(70)}},major:D=>D>>8,minor:D=>D&255,makedev:(D,F)=>D<<8|F,registerDevice(D,F){W.devices[D]={stream_ops:F}},getDevice:D=>W.devices[D],getMounts(D){for(var F=[],q=[D];q.length;){var X=q.pop();F.push(X),q.push(...X.mounts)}return F},syncfs(D,F){typeof D=="function"&&(F=D,D=!1),W.syncFSRequests++,W.syncFSRequests>1&&r(`warning: ${W.syncFSRequests} FS.syncfs operations in flight at once, probably just doing extra work`);var q=W.getMounts(W.root.mount),X=0;function le(A){return W.syncFSRequests--,F(A)}function ge(A){if(A)return ge.errored?void 0:(ge.errored=!0,le(A));++X>=q.length&&le(null)}q.forEach(A=>{if(!A.type.syncfs)return ge(null);A.type.syncfs(A,D,ge)})},mount(D,F,q){var X=q==="/",le=!q,ge;if(X&&W.root)throw new W.ErrnoError(10);if(!X&&!le){var A=W.lookupPath(q,{follow_mount:!1});if(q=A.path,ge=A.node,W.isMountpoint(ge))throw new W.ErrnoError(10);if(!W.isDir(ge.mode))throw new W.ErrnoError(54)}var O={type:D,opts:F,mountpoint:q,mounts:[]},P=D.mount(O);return P.mount=O,O.root=P,X?W.root=P:ge&&(ge.mounted=O,ge.mount&&ge.mount.mounts.push(O)),P},unmount(D){var F=W.lookupPath(D,{follow_mount:!1});if(!W.isMountpoint(F.node))throw new W.ErrnoError(28);var q=F.node,X=q.mounted,le=W.getMounts(X);Object.keys(W.nameTable).forEach(A=>{for(var O=W.nameTable[A];O;){var P=O.name_next;le.includes(O.mount)&&W.destroyNode(O),O=P}}),q.mounted=null;var ge=q.mount.mounts.indexOf(X);q.mount.mounts.splice(ge,1)},lookup(D,F){return D.node_ops.lookup(D,F)},mknod(D,F,q){var X=W.lookupPath(D,{parent:!0}),le=X.node,ge=N.basename(D);if(!ge)throw new W.ErrnoError(28);if(ge==="."||ge==="..")throw new W.ErrnoError(20);var A=W.mayCreate(le,ge);if(A)throw new W.ErrnoError(A);if(!le.node_ops.mknod)throw new W.ErrnoError(63);return le.node_ops.mknod(le,ge,F,q)},statfs(D){return W.statfsNode(W.lookupPath(D,{follow:!0}).node)},statfsStream(D){return W.statfsNode(D.node)},statfsNode(D){var F={bsize:4096,frsize:4096,blocks:1e6,bfree:5e5,bavail:5e5,files:W.nextInode,ffree:W.nextInode-1,fsid:42,flags:2,namelen:255};return D.node_ops.statfs&&Object.assign(F,D.node_ops.statfs(D.mount.opts.root)),F},create(D,F=438){return F&=4095,F|=32768,W.mknod(D,F,0)},mkdir(D,F=511){return F&=1023,F|=16384,W.mknod(D,F,0)},mkdirTree(D,F){var q=D.split("/"),X="";for(var le of q)if(le){(X||N.isAbs(D))&&(X+="/"),X+=le;try{W.mkdir(X,F)}catch(ge){if(ge.errno!=20)throw ge}}},mkdev(D,F,q){return typeof q>"u"&&(q=F,F=438),F|=8192,W.mknod(D,F,q)},symlink(D,F){if(!se.resolve(D))throw new W.ErrnoError(44);var q=W.lookupPath(F,{parent:!0}),X=q.node;if(!X)throw new W.ErrnoError(44);var le=N.basename(F),ge=W.mayCreate(X,le);if(ge)throw new W.ErrnoError(ge);if(!X.node_ops.symlink)throw new W.ErrnoError(63);return X.node_ops.symlink(X,le,D)},rename(D,F){var q=N.dirname(D),X=N.dirname(F),le=N.basename(D),ge=N.basename(F),A,O,P;if(A=W.lookupPath(D,{parent:!0}),O=A.node,A=W.lookupPath(F,{parent:!0}),P=A.node,!O||!P)throw new W.ErrnoError(44);if(O.mount!==P.mount)throw new W.ErrnoError(75);var Y=W.lookupNode(O,le),re=se.relative(D,X);if(re.charAt(0)!==".")throw new W.ErrnoError(28);if(re=se.relative(F,q),re.charAt(0)!==".")throw new W.ErrnoError(55);var ce;try{ce=W.lookupNode(P,ge)}catch{}if(Y!==ce){var pe=W.isDir(Y.mode),ve=W.mayDelete(O,le,pe);if(ve)throw new W.ErrnoError(ve);if(ve=ce?W.mayDelete(P,ge,pe):W.mayCreate(P,ge),ve)throw new W.ErrnoError(ve);if(!O.node_ops.rename)throw new W.ErrnoError(63);if(W.isMountpoint(Y)||ce&&W.isMountpoint(ce))throw new W.ErrnoError(10);if(P!==O&&(ve=W.nodePermissions(O,"w"),ve))throw new W.ErrnoError(ve);W.hashRemoveNode(Y);try{O.node_ops.rename(Y,P,ge),Y.parent=P}catch(Me){throw Me}finally{W.hashAddNode(Y)}}},rmdir(D){var F=W.lookupPath(D,{parent:!0}),q=F.node,X=N.basename(D),le=W.lookupNode(q,X),ge=W.mayDelete(q,X,!0);if(ge)throw new W.ErrnoError(ge);if(!q.node_ops.rmdir)throw new W.ErrnoError(63);if(W.isMountpoint(le))throw new W.ErrnoError(10);q.node_ops.rmdir(q,X),W.destroyNode(le)},readdir(D){var F=W.lookupPath(D,{follow:!0}),q=F.node,X=W.checkOpExists(q.node_ops.readdir,54);return X(q)},unlink(D){var F=W.lookupPath(D,{parent:!0}),q=F.node;if(!q)throw new W.ErrnoError(44);var X=N.basename(D),le=W.lookupNode(q,X),ge=W.mayDelete(q,X,!1);if(ge)throw new W.ErrnoError(ge);if(!q.node_ops.unlink)throw new W.ErrnoError(63);if(W.isMountpoint(le))throw new W.ErrnoError(10);q.node_ops.unlink(q,X),W.destroyNode(le)},readlink(D){var F=W.lookupPath(D),q=F.node;if(!q)throw new W.ErrnoError(44);if(!q.node_ops.readlink)throw new W.ErrnoError(28);return q.node_ops.readlink(q)},stat(D,F){var q=W.lookupPath(D,{follow:!F}),X=q.node,le=W.checkOpExists(X.node_ops.getattr,63);return le(X)},fstat(D){var F=W.getStreamChecked(D),q=F.node,X=F.stream_ops.getattr,le=X?F:q;return X??=q.node_ops.getattr,W.checkOpExists(X,63),X(le)},lstat(D){return W.stat(D,!0)},doChmod(D,F,q,X){W.doSetAttr(D,F,{mode:q&4095|F.mode&-4096,ctime:Date.now(),dontFollow:X})},chmod(D,F,q){var X;if(typeof D=="string"){var le=W.lookupPath(D,{follow:!q});X=le.node}else X=D;W.doChmod(null,X,F,q)},lchmod(D,F){W.chmod(D,F,!0)},fchmod(D,F){var q=W.getStreamChecked(D);W.doChmod(q,q.node,F,!1)},doChown(D,F,q){W.doSetAttr(D,F,{timestamp:Date.now(),dontFollow:q})},chown(D,F,q,X){var le;if(typeof D=="string"){var ge=W.lookupPath(D,{follow:!X});le=ge.node}else le=D;W.doChown(null,le,X)},lchown(D,F,q){W.chown(D,F,q,!0)},fchown(D,F,q){var X=W.getStreamChecked(D);W.doChown(X,X.node,!1)},doTruncate(D,F,q){if(W.isDir(F.mode))throw new W.ErrnoError(31);if(!W.isFile(F.mode))throw new W.ErrnoError(28);var X=W.nodePermissions(F,"w");if(X)throw new W.ErrnoError(X);W.doSetAttr(D,F,{size:q,timestamp:Date.now()})},truncate(D,F){if(F<0)throw new W.ErrnoError(28);var q;if(typeof D=="string"){var X=W.lookupPath(D,{follow:!0});q=X.node}else q=D;W.doTruncate(null,q,F)},ftruncate(D,F){var q=W.getStreamChecked(D);if(F<0||(q.flags&2097155)===0)throw new W.ErrnoError(28);W.doTruncate(q,q.node,F)},utime(D,F,q){var X=W.lookupPath(D,{follow:!0}),le=X.node,ge=W.checkOpExists(le.node_ops.setattr,63);ge(le,{atime:F,mtime:q})},open(D,F,q=438){if(D==="")throw new W.ErrnoError(44);F=typeof F=="string"?De(F):F,F&64?q=q&4095|32768:q=0;var X,le;if(typeof D=="object")X=D;else{le=D.endsWith("/");var ge=W.lookupPath(D,{follow:!(F&131072),noent_okay:!0});X=ge.node,D=ge.path}var A=!1;if(F&64)if(X){if(F&128)throw new W.ErrnoError(20)}else{if(le)throw new W.ErrnoError(31);X=W.mknod(D,q|511,0),A=!0}if(!X)throw new W.ErrnoError(44);if(W.isChrdev(X.mode)&&(F&=-513),F&65536&&!W.isDir(X.mode))throw new W.ErrnoError(54);if(!A){var O=W.mayOpen(X,F);if(O)throw new W.ErrnoError(O)}F&512&&!A&&W.truncate(X,0),F&=-131713;var P=W.createStream({node:X,path:W.getPath(X),flags:F,seekable:!0,position:0,stream_ops:X.stream_ops,ungotten:[],error:!1});return P.stream_ops.open&&P.stream_ops.open(P),A&&W.chmod(X,q&511),f.logReadFiles&&!(F&1)&&(D in W.readFiles||(W.readFiles[D]=1)),P},close(D){if(W.isClosed(D))throw new W.ErrnoError(8);D.getdents&&(D.getdents=null);try{D.stream_ops.close&&D.stream_ops.close(D)}catch(F){throw F}finally{W.closeStream(D.fd)}D.fd=null},isClosed(D){return D.fd===null},llseek(D,F,q){if(W.isClosed(D))throw new W.ErrnoError(8);if(!D.seekable||!D.stream_ops.llseek)throw new W.ErrnoError(70);if(q!=0&&q!=1&&q!=2)throw new W.ErrnoError(28);return D.position=D.stream_ops.llseek(D,F,q),D.ungotten=[],D.position},read(D,F,q,X,le){if(X<0||le<0)throw new W.ErrnoError(28);if(W.isClosed(D))throw new W.ErrnoError(8);if((D.flags&2097155)===1)throw new W.ErrnoError(8);if(W.isDir(D.node.mode))throw new W.ErrnoError(31);if(!D.stream_ops.read)throw new W.ErrnoError(28);var ge=typeof le<"u";if(!ge)le=D.position;else if(!D.seekable)throw new W.ErrnoError(70);var A=D.stream_ops.read(D,F,q,X,le);return ge||(D.position+=A),A},write(D,F,q,X,le,ge){if(X<0||le<0)throw new W.ErrnoError(28);if(W.isClosed(D))throw new W.ErrnoError(8);if((D.flags&2097155)===0)throw new W.ErrnoError(8);if(W.isDir(D.node.mode))throw new W.ErrnoError(31);if(!D.stream_ops.write)throw new W.ErrnoError(28);D.seekable&&D.flags&1024&&W.llseek(D,0,2);var A=typeof le<"u";if(!A)le=D.position;else if(!D.seekable)throw new W.ErrnoError(70);var O=D.stream_ops.write(D,F,q,X,le,ge);return A||(D.position+=O),O},mmap(D,F,q,X,le){if((X&2)!==0&&(le&2)===0&&(D.flags&2097155)!==2)throw new W.ErrnoError(2);if((D.flags&2097155)===1)throw new W.ErrnoError(2);if(!D.stream_ops.mmap)throw new W.ErrnoError(43);if(!F)throw new W.ErrnoError(28);return D.stream_ops.mmap(D,F,q,X,le)},msync(D,F,q,X,le){return D.stream_ops.msync?D.stream_ops.msync(D,F,q,X,le):0},ioctl(D,F,q){if(!D.stream_ops.ioctl)throw new W.ErrnoError(59);return D.stream_ops.ioctl(D,F,q)},readFile(D,F={}){if(F.flags=F.flags||0,F.encoding=F.encoding||"binary",F.encoding!=="utf8"&&F.encoding!=="binary")throw new Error(`Invalid encoding type "${F.encoding}"`);var q,X=W.open(D,F.flags),le=W.stat(D),ge=le.size,A=new Uint8Array(ge);return W.read(X,A,0,ge,0),F.encoding==="utf8"?q=he(A):F.encoding==="binary"&&(q=A),W.close(X),q},writeFile(D,F,q={}){q.flags=q.flags||577;var X=W.open(D,q.flags,q.mode);if(typeof F=="string"){var le=new Uint8Array(Te(F)+1),ge=ye(F,le,0,le.length);W.write(X,le,0,ge,void 0,q.canOwn)}else if(ArrayBuffer.isView(F))W.write(X,F,0,F.byteLength,void 0,q.canOwn);else throw new Error("Unsupported data type");W.close(X)},cwd:()=>W.currentPath,chdir(D){var F=W.lookupPath(D,{follow:!0});if(F.node===null)throw new W.ErrnoError(44);if(!W.isDir(F.node.mode))throw new W.ErrnoError(54);var q=W.nodePermissions(F.node,"x");if(q)throw new W.ErrnoError(q);W.currentPath=F.path},createDefaultDirectories(){W.mkdir("/tmp"),W.mkdir("/home"),W.mkdir("/home/web_user")},createDefaultDevices(){W.mkdir("/dev"),W.registerDevice(W.makedev(1,3),{read:()=>0,write:(X,le,ge,A,O)=>A,llseek:()=>0}),W.mkdev("/dev/null",W.makedev(1,3)),Oe.register(W.makedev(5,0),Oe.default_tty_ops),Oe.register(W.makedev(6,0),Oe.default_tty1_ops),W.mkdev("/dev/tty",W.makedev(5,0)),W.mkdev("/dev/tty1",W.makedev(6,0));var D=new Uint8Array(1024),F=0,q=()=>(F===0&&(ue(D),F=D.byteLength),D[--F]);W.createDevice("/dev","random",q),W.createDevice("/dev","urandom",q),W.mkdir("/dev/shm"),W.mkdir("/dev/shm/tmp")},createSpecialDirectories(){W.mkdir("/proc");var D=W.mkdir("/proc/self");W.mkdir("/proc/self/fd"),W.mount({mount(){var F=W.createNode(D,"fd",16895,73);return F.stream_ops={llseek:be.stream_ops.llseek},F.node_ops={lookup(q,X){var le=+X,ge=W.getStreamChecked(le),A={parent:null,mount:{mountpoint:"fake"},node_ops:{readlink:()=>ge.path},id:le+1};return A.parent=A,A},readdir(){return Array.from(W.streams.entries()).filter(([q,X])=>X).map(([q,X])=>q.toString())}},F}},{},"/proc/self/fd")},createStandardStreams(D,F,q){D?W.createDevice("/dev","stdin",D):W.symlink("/dev/tty","/dev/stdin"),F?W.createDevice("/dev","stdout",null,F):W.symlink("/dev/tty","/dev/stdout"),q?W.createDevice("/dev","stderr",null,q):W.symlink("/dev/tty1","/dev/stderr"),W.open("/dev/stdin",0),W.open("/dev/stdout",1),W.open("/dev/stderr",1)},staticInit(){W.nameTable=new Array(4096),W.mount(be,{},"/"),W.createDefaultDirectories(),W.createDefaultDevices(),W.createSpecialDirectories(),W.filesystems={MEMFS:be}},init(D,F,q){W.initialized=!0,D??=f.stdin,F??=f.stdout,q??=f.stderr,W.createStandardStreams(D,F,q)},quit(){W.initialized=!1;for(var D of W.streams)D&&W.close(D)},findObject(D,F){var q=W.analyzePath(D,F);return q.exists?q.object:null},analyzePath(D,F){try{var q=W.lookupPath(D,{follow:!F});D=q.path}catch{}var X={isRoot:!1,exists:!1,error:0,name:null,path:null,object:null,parentExists:!1,parentPath:null,parentObject:null};try{var q=W.lookupPath(D,{parent:!0});X.parentExists=!0,X.parentPath=q.path,X.parentObject=q.node,X.name=N.basename(D),q=W.lookupPath(D,{follow:!F}),X.exists=!0,X.path=q.path,X.object=q.node,X.name=q.node.name,X.isRoot=q.path==="/"}catch(le){X.error=le.errno}return X},createPath(D,F,q,X){D=typeof D=="string"?D:W.getPath(D);for(var le=F.split("/").reverse();le.length;){var ge=le.pop();if(ge){var A=N.join2(D,ge);try{W.mkdir(A)}catch(O){if(O.errno!=20)throw O}D=A}}return A},createFile(D,F,q,X,le){var ge=N.join2(typeof D=="string"?D:W.getPath(D),F),A=Ne(X,le);return W.create(ge,A)},createDataFile(D,F,q,X,le,ge){var A=F;D&&(D=typeof D=="string"?D:W.getPath(D),A=F?N.join2(D,F):D);var O=Ne(X,le),P=W.create(A,O);if(q){if(typeof q=="string"){for(var Y=new Array(q.length),re=0,ce=q.length;re<ce;++re)Y[re]=q.charCodeAt(re);q=Y}W.chmod(P,O|146);var pe=W.open(P,577);W.write(pe,q,0,q.length,0,ge),W.close(pe),W.chmod(P,O)}},createDevice(D,F,q,X){var le=N.join2(typeof D=="string"?D:W.getPath(D),F),ge=Ne(!!q,!!X);W.createDevice.major??=64;var A=W.makedev(W.createDevice.major++,0);return W.registerDevice(A,{open(O){O.seekable=!1},close(O){X?.buffer?.length&&X(10)},read(O,P,Y,re,ce){for(var pe=0,ve=0;ve<re;ve++){var Me;try{Me=q()}catch{throw new W.ErrnoError(29)}if(Me===void 0&&pe===0)throw new W.ErrnoError(6);if(Me==null)break;pe++,P[Y+ve]=Me}return pe&&(O.node.atime=Date.now()),pe},write(O,P,Y,re,ce){for(var pe=0;pe<re;pe++)try{X(P[Y+pe])}catch{throw new W.ErrnoError(29)}return re&&(O.node.mtime=O.node.ctime=Date.now()),pe}}),W.mkdev(le,ge,A)},forceLoadFile(D){if(D.isDevice||D.isFolder||D.link||D.contents)return!0;if(typeof XMLHttpRequest<"u")throw new Error("Lazy loading should have been performed (contents set) in createLazyFile, but it was not. Lazy loading only works in web workers. Use --embed-file or --preload-file in emcc on the main thread.");try{D.contents=t(D.url),D.usedBytes=D.contents.length}catch{throw new W.ErrnoError(29)}},createLazyFile(D,F,q,X,le){class ge{lengthKnown=!1;chunks=[];get(ve){if(!(ve>this.length-1||ve<0)){var Me=ve%this.chunkSize,T=ve/this.chunkSize|0;return this.getter(T)[Me]}}setDataGetter(ve){this.getter=ve}cacheLength(){var ve=new XMLHttpRequest;if(ve.open("HEAD",q,!1),ve.send(null),!(ve.status>=200&&ve.status<300||ve.status===304))throw new Error("Couldn't load "+q+". Status: "+ve.status);var Me=Number(ve.getResponseHeader("Content-length")),T,x=(T=ve.getResponseHeader("Accept-Ranges"))&&T==="bytes",U=(T=ve.getResponseHeader("Content-Encoding"))&&T==="gzip",V=1024*1024;x||(V=Me);var Z=(me,we)=>{if(me>we)throw new Error("invalid range ("+me+", "+we+") or no bytes requested!");if(we>Me-1)throw new Error("only "+Me+" bytes available! programmer error!");var ke=new XMLHttpRequest;if(ke.open("GET",q,!1),Me!==V&&ke.setRequestHeader("Range","bytes="+me+"-"+we),ke.responseType="arraybuffer",ke.overrideMimeType&&ke.overrideMimeType("text/plain; charset=x-user-defined"),ke.send(null),!(ke.status>=200&&ke.status<300||ke.status===304))throw new Error("Couldn't load "+q+". Status: "+ke.status);return ke.response!==void 0?new Uint8Array(ke.response||[]):Le(ke.responseText||"")},ae=this;ae.setDataGetter(me=>{var we=me*V,ke=(me+1)*V-1;if(ke=Math.min(ke,Me-1),typeof ae.chunks[me]>"u"&&(ae.chunks[me]=Z(we,ke)),typeof ae.chunks[me]>"u")throw new Error("doXHR failed!");return ae.chunks[me]}),(U||!Me)&&(V=Me=1,Me=this.getter(0).length,V=Me,e("LazyFiles on gzip forces download of the whole file when length is accessed")),this._length=Me,this._chunkSize=V,this.lengthKnown=!0}get length(){return this.lengthKnown||this.cacheLength(),this._length}get chunkSize(){return this.lengthKnown||this.cacheLength(),this._chunkSize}}if(typeof XMLHttpRequest<"u"){throw"Cannot do synchronous binary XHRs outside webworkers in modern browsers. Use --embed-file or --preload-file in emcc";var A,O}else var O={isDevice:!1,url:q};var P=W.createFile(D,F,O,X,le);O.contents?P.contents=O.contents:O.url&&(P.contents=null,P.url=O.url),Object.defineProperties(P,{usedBytes:{get:function(){return this.contents.length}}});var Y={},re=Object.keys(P.stream_ops);re.forEach(pe=>{var ve=P.stream_ops[pe];Y[pe]=(...Me)=>(W.forceLoadFile(P),ve(...Me))});function ce(pe,ve,Me,T,x){var U=pe.node.contents;if(x>=U.length)return 0;var V=Math.min(U.length-x,T);if(U.slice)for(var Z=0;Z<V;Z++)ve[Me+Z]=U[x+Z];else for(var Z=0;Z<V;Z++)ve[Me+Z]=U.get(x+Z);return V}return Y.read=(pe,ve,Me,T,x)=>(W.forceLoadFile(P),ce(pe,ve,Me,T,x)),Y.mmap=(pe,ve,Me,T,x)=>{W.forceLoadFile(P);var U=_e();if(!U)throw new W.ErrnoError(48);return ce(pe,v,U,ve,Me),{ptr:U,allocated:!0}},P.stream_ops=Y,P}},We=(D,F)=>D?he(p,D,F):"",S={DEFAULT_POLLMASK:5,calculateAt(D,F,q){if(N.isAbs(F))return F;var X;if(D===-100)X=W.cwd();else{var le=S.getStreamFromFD(D);X=le.path}if(F.length==0){if(!q)throw new W.ErrnoError(44);return X}return X+"/"+F},writeStat(D,F){m[D>>2]=F.dev,m[D+4>>2]=F.mode,E[D+8>>2]=F.nlink,m[D+12>>2]=F.uid,m[D+16>>2]=F.gid,m[D+20>>2]=F.rdev,C[D+24>>3]=BigInt(F.size),m[D+32>>2]=4096,m[D+36>>2]=F.blocks;var q=F.atime.getTime(),X=F.mtime.getTime(),le=F.ctime.getTime();return C[D+40>>3]=BigInt(Math.floor(q/1e3)),E[D+48>>2]=q%1e3*1e3*1e3,C[D+56>>3]=BigInt(Math.floor(X/1e3)),E[D+64>>2]=X%1e3*1e3*1e3,C[D+72>>3]=BigInt(Math.floor(le/1e3)),E[D+80>>2]=le%1e3*1e3*1e3,C[D+88>>3]=BigInt(F.ino),0},writeStatFs(D,F){m[D+4>>2]=F.bsize,m[D+40>>2]=F.bsize,m[D+8>>2]=F.blocks,m[D+12>>2]=F.bfree,m[D+16>>2]=F.bavail,m[D+20>>2]=F.files,m[D+24>>2]=F.ffree,m[D+28>>2]=F.fsid,m[D+44>>2]=F.flags,m[D+36>>2]=F.namelen},doMsync(D,F,q,X,le){if(!W.isFile(F.node.mode))throw new W.ErrnoError(43);if(X&2)return 0;var ge=p.slice(D,D+q);W.msync(F,ge,le,q,X)},getStreamFromFD(D){var F=W.getStreamChecked(D);return F},varargs:void 0,getStr(D){var F=We(D);return F}};function Qe(D,F){try{return S.writeStat(F,W.fstat(D))}catch(q){if(typeof W>"u"||q.name!=="ErrnoError")throw q;return-q.errno}}var Ve=()=>{var D=m[+S.varargs>>2];return S.varargs+=4,D},rt=Ve;function vt(D,F,q){S.varargs=q;try{var X=S.getStreamFromFD(D);switch(F){case 21509:return X.tty?0:-59;case 21505:{if(!X.tty)return-59;if(X.tty.ops.ioctl_tcgets){var le=X.tty.ops.ioctl_tcgets(X),ge=rt();m[ge>>2]=le.c_iflag||0,m[ge+4>>2]=le.c_oflag||0,m[ge+8>>2]=le.c_cflag||0,m[ge+12>>2]=le.c_lflag||0;for(var A=0;A<32;A++)v[ge+A+17]=le.c_cc[A]||0;return 0}return 0}case 21510:case 21511:case 21512:return X.tty?0:-59;case 21506:case 21507:case 21508:{if(!X.tty)return-59;if(X.tty.ops.ioctl_tcsets){for(var ge=rt(),O=m[ge>>2],P=m[ge+4>>2],Y=m[ge+8>>2],re=m[ge+12>>2],ce=[],A=0;A<32;A++)ce.push(v[ge+A+17]);return X.tty.ops.ioctl_tcsets(X.tty,F,{c_iflag:O,c_oflag:P,c_cflag:Y,c_lflag:re,c_cc:ce})}return 0}case 21519:{if(!X.tty)return-59;var ge=rt();return m[ge>>2]=0,0}case 21520:return X.tty?-28:-59;case 21531:{var ge=rt();return W.ioctl(X,F,ge)}case 21523:{if(!X.tty)return-59;if(X.tty.ops.ioctl_tiocgwinsz){var pe=X.tty.ops.ioctl_tiocgwinsz(X.tty),ge=rt();u[ge>>1]=pe[0],u[ge+2>>1]=pe[1]}return 0}case 21524:return X.tty?0:-59;case 21515:return X.tty?0:-59;default:return-28}}catch(ve){if(typeof W>"u"||ve.name!=="ErrnoError")throw ve;return-ve.errno}}function _t(D,F,q,X){S.varargs=X;try{F=S.getStr(F),F=S.calculateAt(D,F);var le=X?Ve():0;return W.open(F,q,le).fd}catch(ge){if(typeof W>"u"||ge.name!=="ErrnoError")throw ge;return-ge.errno}}var Et=()=>G(""),Pt=0,Jt=()=>{Ye=!1,Pt=0},dt={},Tt=D=>{if(D instanceof Ee||D=="unwind")return $;s(1,D)},Ut=()=>Ye||Pt>0,Rt=D=>{$=D,Ut()||(f.onExit?.(D),h=!0),s(D,new Ee(D))},Ht=(D,F)=>{$=D,Rt(D)},Wt=Ht,fn=()=>{if(!Ut())try{Wt($)}catch(D){Tt(D)}},pn=D=>{if(!h)try{D(),fn()}catch(F){Tt(F)}},gn=()=>performance.now(),mn=(D,F)=>{if(dt[D]&&(clearTimeout(dt[D].id),delete dt[D]),!F)return 0;var q=setTimeout(()=>{delete dt[D],pn(()=>Mt(D,gn()))},F);return dt[D]={id:q,timeout_ms:F},0},ct=()=>2147483648,zt=(D,F)=>Math.ceil(D/F)*F,Zt=D=>{var F=c.buffer,q=(D-F.byteLength+65535)/65536|0;try{return c.grow(q),R(),1}catch{}},Xt=D=>{var F=p.length;D>>>=0;var q=ct();if(D>q)return!1;for(var X=1;X<=4;X*=2){var le=F*(1+.2/X);le=Math.min(le,D+100663296);var ge=Math.min(q,zt(Math.max(D,le),65536)),A=Zt(ge);if(A)return!0}return!1};function Qt(D){try{var F=S.getStreamFromFD(D);return W.close(F),0}catch(q){if(typeof W>"u"||q.name!=="ErrnoError")throw q;return q.errno}}var en=(D,F,q,X)=>{for(var le=0,ge=0;ge<q;ge++){var A=E[F>>2],O=E[F+4>>2];F+=8;var P=W.read(D,v,A,O,X);if(P<0)return-1;if(le+=P,P<O)break}return le};function Gt(D,F,q,X){try{var le=S.getStreamFromFD(D),ge=en(le,F,q);return E[X>>2]=ge,0}catch(A){if(typeof W>"u"||A.name!=="ErrnoError")throw A;return A.errno}}var vn=9007199254740992,$t=-9007199254740992,_n=D=>D<$t||D>vn?NaN:Number(D);function Ct(D,F,q,X){F=_n(F);try{if(isNaN(F))return 61;var le=S.getStreamFromFD(D);return W.llseek(le,F,q),C[X>>3]=BigInt(le.position),le.getdents&&F===0&&q===0&&(le.getdents=null),0}catch(ge){if(typeof W>"u"||ge.name!=="ErrnoError")throw ge;return ge.errno}}var yn=(D,F,q,X)=>{for(var le=0,ge=0;ge<q;ge++){var A=E[F>>2],O=E[F+4>>2];F+=8;var P=W.write(D,v,A,O,X);if(P<0)return-1;if(le+=P,P<O)break}return le};function wn(D,F,q,X){try{var le=S.getStreamFromFD(D),ge=yn(le,F,q);return E[X>>2]=ge,0}catch(A){if(typeof W>"u"||A.name!=="ErrnoError")throw A;return A.errno}}var An=(D,F,q)=>ye(D,p,F,q),tn=D=>nn(D),bn=D=>{var F=Te(D)+1,q=tn(F);return An(D,q,F),q};W.createPreloadedFile=$e,W.staticInit(),be.doesNotExistError=new W.ErrnoError(44),be.doesNotExistError.stack="<generic error, no stack>",f.noExitRuntime&&(Ye=f.noExitRuntime),f.preloadPlugins&&(qe=f.preloadPlugins),f.print&&(e=f.print),f.printErr&&(r=f.printErr),f.wasmBinary&&(a=f.wasmBinary),f.arguments&&(b=f.arguments),f.thisProgram&&(_=f.thisProgram),f.FS=W;var En={h:Qe,i:vt,e:_t,m:Et,k:Jt,l:mn,f:Xt,a:Wt,b:Qt,d:Gt,g:Ct,c:wn,j:Rt},ut=await fe();ut.o;var Cn=f._main=ut.p,Mt=ut.q,nn=ut.r;function Sn(D=[]){var F=Cn;D.unshift(_);var q=D.length,X=tn((q+1)*4),le=X;D.forEach(A=>{E[le>>2]=bn(A),le+=4}),E[le>>2]=0;try{var ge=F(q,X);return Ht(ge,!0),ge}catch(A){return Tt(A)}}function qt(D=b){if(l>0){w=qt;return}if(L(),l>0){w=qt;return}function F(){if(f.calledRun=!0,!h){g(),B(f),f.onRuntimeInitialized?.();var q=f.noInitialRun||!1;q||Sn(D),y()}}f.setStatus?(f.setStatus("Running..."),setTimeout(()=>{setTimeout(()=>f.setStatus(""),1),F()},1)):F()}function gt(){if(f.preInit)for(typeof f.preInit=="function"&&(f.preInit=[f.preInit]);f.preInit.length>0;)f.preInit.shift()()}return gt(),qt(),Q=M,Q},Jn=!1,Yt=!1,ar,br,kn,Er=[],Mn=[],Dn=[],ai=[],li=[],ci=[],Co=/([\w\.]+)[\w\.\:~]*\(([0-9]+)\)/gi;function Cr(te,Q){if(kn&&kn(te,Q),Q=="stderr"&&(te.startsWith("error: ")||te.startsWith("ERROR: ")||te.startsWith("warning: "))){var f="error";te.startsWith("warning: ")&&(f="warning");var B=te.matchAll(Co);for(var z of B){var M=parseInt(z[2]);Er.push([f,z[1],M,te])}}}function hn(te){Cr(te,"info")}function Sr(te){Cr(te,"stdout")}function Tr(te){Cr(te,"stderr")}function So(te){kn=te}function To(te){br=te,Jn?Yt=!0:(Jn=!0,Rr())}function ui(){return Er}function Ro(){return Mn}function Wr(){return Dn}function lr(te){ai=te}function cr(te){ci=te}function ur(te){li=te}function Rr(){typeof ar<"u"&&clearTimeout(ar),ar=setTimeout($o,500)}function $o(){kn&&kn(null,null),Er=[],Mn=[],Dn=[];var te=[];for(const Q of Object.keys(mt()))Q.endsWith(".asm")&&te.push(Q);di(te,{})}function di(te,Q){var f=te.pop(),B=[f,"-o","output.o","-Wall"].concat(ai);hn("Running: rgbasm "+B.join(" ")),Ao({arguments:B,preRun:function(z){var M=z.FS;for(const[b,_]of Object.entries(mt()))M.writeFile(b,_)},print:Sr,printErr:Tr}).then(function(z){if(Yt){cn();return}var M=z.FS;try{var b=M.readFile("output.o")}catch{cn();return}Q[f]=b,te.length>0?di(te,Q):Mo(Q)})}function Mo(te){var Q=["-o","output.gb","--map","output.map"].concat(ci);for(var f in te)Q.push(f+".o");hn("Running: rgblink "+Q.join(" ")),bo({arguments:Q,preRun:function(B){var z=B.FS;for(var M in te)z.writeFile(M+".o",te[M])},print:Sr,printErr:Tr}).then(function(B){if(Yt){cn();return}var z=B.FS;try{var M=z.readFile("output.gb")}catch{cn();return}try{var b=z.readFile("output.map",{encoding:"utf8"})}catch{cn();return}Do(M,b)})}function Do(te,Q){var f=["-v","output.gb","-p","0xff"].concat(li);hn("Running: rgbfix "+f.join(" ")),Eo({arguments:f,preRun:function(B){var z=B.FS;z.writeFile("output.gb",te)},print:Sr,printErr:Tr}).then(function(B){var z=B.FS;try{var M=z.readFile("output.gb")}catch{cn();return}Lo(M,Q)})}function cn(){hn("Build failed"),Yt?(Yt=!1,Rr()):(Jn=!1,br())}function Lo(te,Q){if(Yt)Yt=!1,Rr();else{Jn=!1;var f=256,B={},z=/^\s*\$([0-9a-f]+) = ([\w\.]+)/,M=/^\s*(\w+) bank #(\d+)/,b=/^\s*SECTION: \$([0-9a-f]+)-\$([0-9a-f]+)/,_=/^\s*SLACK: \$([0-9a-f]+) bytes/,s="",d=0;for(var o of Q.split(`
`)){var n;if(n=z.exec(o)){var i=parseInt(n[1],16),t=n[2];if(t.startsWith("__SEC_")){t=t.substr(6);var e=t.substr(t.indexOf("_")+1);e=e.substr(e.indexOf("_")+1);var r=parseInt(t.split("_")[1],16);i=i&16383|d<<14,B[i]=[e,r]}else t=="emustart"||t=="emuStart"||t=="emu_start"?f=i:i<32768?(i=i&16383|d<<14,Mn[i]=t):Dn[i]=t}else if(n=b.exec(o)){var a=parseInt(n[1],16),c=parseInt(n[2],16)+1;a<32768?(a=a&16383|d<<14,c=c&16383|d<<14,Mn[a]=null,Mn[c]=null):(Dn[a]=null,Dn[c]=null)}else if(n=M.exec(o))s=n[1],d=parseInt(n[2]);else if(n=_.exec(o)){var h=parseInt(n[1],16),$=16384;s.startsWith("WRAM")?$=4096:s.startsWith("HRAM")&&($=127),hn("Space left: "+s+"["+d+"]: "+h+"  ("+(h/$*100).toFixed(1)+"%)")}}hn("Build done"),br(te,f,B)}}var ko=async function(te={}){var Q,f=te,B,z,M=new Promise(($e,De)=>{B=$e,z=De}),b=($e,De)=>{throw De},_=import.meta.url,s="";function d($e){return f.locateFile?f.locateFile($e,s):s+$e}var o;{try{s=new URL(".",_).href}catch{}o=async $e=>{var De=await fetch($e,{credentials:"same-origin"});if(De.ok)return De.arrayBuffer();throw new Error(De.status+" : "+De.url)}}var n=console.log.bind(console),i=console.error.bind(console),t,e,r=!1,a,c,h,$,v;function p(){var $e=e.buffer;f.HEAP8=new Int8Array($e),a=new Uint8Array($e),c=new Int32Array($e),h=new Uint32Array($e),v=new Float64Array($e),$=new BigInt64Array($e),new BigUint64Array($e)}function u(){if(f.preRun)for(typeof f.preRun=="function"&&(f.preRun=[f.preRun]);f.preRun.length;)Ee(f.preRun.shift());ie(fe)}function m(){de.h()}function E(){if(f.postRun)for(typeof f.postRun=="function"&&(f.postRun=[f.postRun]);f.postRun.length;)oe(f.postRun.shift());ie(ee)}var C=0,R=null;function L($e){C++,f.monitorRunDependencies?.(C)}function g($e){if(C--,f.monitorRunDependencies?.(C),C==0&&R){var De=R;R=null,De()}}function y($e){f.onAbort?.($e),$e="Aborted("+$e+")",i($e),r=!0,$e+=". Build with -sASSERTIONS for more info.";var De=new WebAssembly.RuntimeError($e);throw z(De),De}var l;function w(){return f.locateFile?d("binjgb.wasm"):new URL(""+new URL("binjgb-mTIQAJBc.wasm",import.meta.url).href,import.meta.url).href}function k($e){if($e==l&&t)return new Uint8Array(t);throw"both async and sync fetching of the wasm failed"}async function I($e){if(!t)try{var De=await o($e);return new Uint8Array(De)}catch{}return k($e)}async function G($e,De){try{var Ne=await I($e),W=await WebAssembly.instantiate(Ne,De);return W}catch(We){i(`failed to asynchronously prepare wasm: ${We}`),y(We)}}async function H($e,De,Ne){if(!$e&&typeof WebAssembly.instantiateStreaming=="function")try{var W=fetch(De,{credentials:"same-origin"}),We=await WebAssembly.instantiateStreaming(W,Ne);return We}catch(S){i(`wasm streaming compile failed: ${S}`),i("falling back to ArrayBuffer instantiation")}return G(De,Ne)}function J(){return{a:xe}}async function j(){function $e(S,Qe){return de=S.exports,e=de.g,p(),g(),de}L();function De(S){return $e(S.instance)}var Ne=J();if(f.instantiateWasm)return new Promise((S,Qe)=>{f.instantiateWasm(Ne,(Ve,rt)=>{S($e(Ve))})});l??=w();try{var W=await H(t,l,Ne),We=De(W);return We}catch(S){return z(S),Promise.reject(S)}}class K{name="ExitStatus";constructor(De){this.message=`Program terminated with exit(${De})`,this.status=De}}var ie=$e=>{for(;$e.length>0;)$e.shift()(f)},ee=[],oe=$e=>ee.push($e),fe=[],Ee=$e=>fe.push($e),Ce=!0,Se=[],Be=($e,De)=>{Se.length=0;for(var Ne;Ne=a[$e++];){var W=Ne!=105;W&=Ne!=112,De+=W&&De%8?4:0,Se.push(Ne==112?h[De>>2]:Ne==106?$[De>>3]:Ne==105?c[De>>2]:v[De>>3]),De+=W?8:4}return Se},Fe=($e,De,Ne)=>{var W=Be(De,Ne);return be[$e](...W)},Ue=($e,De,Ne)=>Fe($e,De,Ne),Ye=$e=>{y("OOM")},N=$e=>{a.length,Ye()},Ae=0,ue=()=>Ce||Ae>0,se=$e=>{ue()||(f.onExit?.($e),r=!0),b($e,new K($e))},ne=($e,De)=>{se($e)},he=ne,Re=$e=>52;function Te($e,De,Ne,W){return 70}var ye=[null,[],[]],Le=typeof TextDecoder<"u"?new TextDecoder:void 0,Ie=($e,De=0,Ne=NaN)=>{for(var W=De+Ne,We=De;$e[We]&&!(We>=W);)++We;if(We-De>16&&$e.buffer&&Le)return Le.decode($e.subarray(De,We));for(var S="";De<We;){var Qe=$e[De++];if(!(Qe&128)){S+=String.fromCharCode(Qe);continue}var Ve=$e[De++]&63;if((Qe&224)==192){S+=String.fromCharCode((Qe&31)<<6|Ve);continue}var rt=$e[De++]&63;if((Qe&240)==224?Qe=(Qe&15)<<12|Ve<<6|rt:Qe=(Qe&7)<<18|Ve<<12|rt<<6|$e[De++]&63,Qe<65536)S+=String.fromCharCode(Qe);else{var vt=Qe-65536;S+=String.fromCharCode(55296|vt>>10,56320|vt&1023)}}return S},Oe=($e,De)=>{var Ne=ye[$e];De===0||De===10?(($e===1?n:i)(Ie(Ne)),Ne.length=0):Ne.push(De)},_e=($e,De,Ne,W)=>{for(var We=0,S=0;S<Ne;S++){var Qe=h[De>>2],Ve=h[De+4>>2];De+=8;for(var rt=0;rt<Ve;rt++)Oe($e,a[Qe+rt]);We+=Ve}return h[W>>2]=We,0};f.noExitRuntime&&(Ce=f.noExitRuntime),f.print&&(n=f.print),f.printErr&&(i=f.printErr),f.wasmBinary&&(t=f.wasmBinary),f.arguments&&f.arguments,f.thisProgram&&f.thisProgram;var be={13560:$e=>{emulator.serialCallback($e)}},xe={f:Ue,c:N,b:he,e:Re,d:Te,a:_e},de=await j();de.h,f._malloc=de.i,f._file_data_delete=de.j,f._free=de.k,f._emulator_set_builtin_palette=de.l,f._emulator_was_ext_ram_updated=de.m,f._emulator_read_ext_ram=de.n,f._emulator_write_ext_ram=de.o,f._emulator_delete=de.p,f._emulator_get_PC=de.q,f._emulator_get_A=de.r,f._emulator_get_BC=de.s,f._emulator_get_DE=de.t,f._emulator_get_HL=de.u,f._emulator_get_F=de.v,f._emulator_get_SP=de.w,f._emulator_set_PC=de.x,f._emulator_get_wram_ptr=de.y,f._emulator_get_hram_ptr=de.z,f._emulator_read_mem=de.A,f._emulator_write_mem=de.B,f._emulator_set_breakpoint=de.C,f._emulator_clear_breakpoints=de.D,f._emulator_render_vram=de.E,f._emulator_render_background=de.F,f._set_audio_channel_mute=de.G,f._joypad_new=de.H,f._joypad_delete=de.I,f._rewind_append=de.J,f._rewind_delete=de.K,f._emulator_new_simple=de.L,f._emulator_get_ticks_f64=de.M,f._emulator_run_until_f64=de.N,f._rewind_get_newest_ticks_f64=de.O,f._rewind_get_oldest_ticks_f64=de.P,f._emulator_set_default_joypad_callback=de.Q,f._emulator_set_bw_palette_simple=de.R,f._rewind_new_simple=de.S,f._rewind_begin=de.T,f._emulator_set_rewind_joypad_callback=de.U,f._rewind_to_ticks_wrapper=de.V,f._rewind_end=de.W,f._set_joyp_up=de.X,f._set_joyp_down=de.Y,f._set_joyp_left=de.Z,f._set_joyp_right=de._,f._set_joyp_B=de.$,f._set_joyp_A=de.aa,f._set_joyp_start=de.ba,f._set_joyp_select=de.ca,f._get_frame_buffer_ptr=de.da,f._get_frame_buffer_size=de.ea,f._get_sgb_frame_buffer_ptr=de.fa,f._get_sgb_frame_buffer_size=de.ga,f._get_audio_buffer_ptr=de.ha,f._get_audio_buffer_capacity=de.ia,f._ext_ram_file_data_new=de.ja,f._get_file_data_ptr=de.ka,f._get_file_data_size=de.la,f._set_log_apu_writes=de.ma,f._get_apu_log_data_size=de.na,f._get_apu_log_data_ptr=de.oa,f._reset_apu_log=de.pa;function qe(){if(C>0){R=qe;return}if(u(),C>0){R=qe;return}function $e(){f.calledRun=!0,!r&&(m(),B(f),f.onRuntimeInitialized?.(),E())}f.setStatus?(f.setStatus("Running..."),setTimeout(()=>{setTimeout(()=>f.setStatus(""),1),$e()},1)):$e()}function Ke(){if(f.preInit)for(typeof f.preInit=="function"&&(f.preInit=[f.preInit]);f.preInit.length>0;)f.preInit.shift()()}return Ke(),qe(),Q=M,Q};const Ge=await ko();var Ze,dr=0,Bn,pr,ft,ln,gr=null,zn=2048;function hi(te,Q){lt()&&$r(),typeof ft>"u"&&(ft=new AudioContext);var f=(Q.length-1|16383)+1;f<32768&&(f=32768);var B=Ge._malloc(f);dr=f;const z=Ge.HEAP8.subarray(B,B+dr);z.fill(0),z.set(Q),Ze=Ge._emulator_new_simple(B,dr,ft.sampleRate,zn),Ge._emulator_set_bw_palette_simple(Ze,0,4290965700,4289247578,4285423646,4278197037),Ge._emulator_set_bw_palette_simple(Ze,1,4290965700,4289247578,4285423646,4278197037),Ge._emulator_set_bw_palette_simple(Ze,2,4290965700,4289247578,4285423646,4278197037),Ge._emulator_set_default_joypad_callback(Ze,0),te&&(Bn=te.getContext("2d"),pr=Bn.createImageData(te.width,te.height)),ft.resume(),ln=ft.currentTime}function $r(){lt()&&(Ge._emulator_delete(Ze),Ze=void 0)}function lt(){return typeof Ze<"u"}function fi(te){if(lt()){var Q=Ge._emulator_get_ticks_f64(Ze);for(te=="single"?Q+=1:te=="frame"&&(Q+=70224);;){var f=Ge._emulator_run_until_f64(Ze,Q);if(f&2&&xo(),f&8||f&16)return!0;if(f!=2&&te!="run")return!1;if(te=="run"&&f&4)if(ln<ft.currentTime+.1)Q+=70224;else return!1}}}function pi(){if(lt()){var te=new Uint8Array(Ge.HEAP8.buffer,Ge._get_frame_buffer_ptr(Ze),Ge._get_frame_buffer_size(Ze));pr.data.set(te),Bn.putImageData(pr,0,0)}}function gi(te){if(lt()){var Q=te.getContext("2d"),f=Bn.createImageData(256,256),B=Ge._malloc(4*256*256);Ge._emulator_render_vram(Ze,B);var z=new Uint8Array(Ge.HEAP8.buffer,B,4*256*256);f.data.set(z),Q.putImageData(f,0,0),Ge._free(B)}}function mr(te,Q){if(lt()){var f=te.getContext("2d"),B=Bn.createImageData(256,256),z=Ge._malloc(4*256*256);Ge._emulator_render_background(Ze,z,Q);var M=new Uint8Array(Ge.HEAP8.buffer,z,4*256*256);B.data.set(M),f.putImageData(B,0,0),Ge._free(z)}}function mi(){if(lt()){var te=Ge._emulator_get_wram_ptr(Ze);return new Uint8Array(Ge.HEAP8.buffer,te,32768)}}function vi(){if(lt()){var te=Ge._emulator_get_hram_ptr(Ze);return new Uint8Array(Ge.HEAP8.buffer,te,127)}}function _i(){return Ge._emulator_get_PC(Ze)}function yi(te){Ge._emulator_set_PC(Ze,te)}function wi(){return Ge._emulator_get_SP(Ze)}function Ai(){return Ge._emulator_get_A(Ze)}function bi(){return Ge._emulator_get_BC(Ze)}function Ei(){return Ge._emulator_get_DE(Ze)}function Ci(){return Ge._emulator_get_HL(Ze)}function Si(){var te=Ge._emulator_get_F(Ze),Q="";return te&128&&(Q+="Z "),te&16&&(Q+="C "),te&32&&(Q+="H "),te&64&&(Q+="N "),Q}function Ti(te){return lt()?Ge._emulator_read_mem(Ze,te):255}function Bo(te,Q){if(lt())return Ge._emulator_write_mem(Ze,te,Q)}function Ri(te){lt()&&Ge._emulator_set_breakpoint(Ze,te)}function $i(){lt()&&Ge._emulator_clear_breakpoints(Ze)}function Bt(te,Q){lt()&&(te=="right"&&Ge._set_joyp_right(Ze,Q),te=="left"&&Ge._set_joyp_left(Ze,Q),te=="up"&&Ge._set_joyp_up(Ze,Q),te=="down"&&Ge._set_joyp_down(Ze,Q),te=="a"&&Ge._set_joyp_A(Ze,Q),te=="b"&&Ge._set_joyp_B(Ze,Q),te=="select"&&Ge._set_joyp_select(Ze,Q),te=="start"&&Ge._set_joyp_start(Ze,Q))}function Mi(te){gr=te}function Oo(te){gr&&gr(te)}function xo(){ln<ft.currentTime&&(ln=ft.currentTime);var te=new Uint8Array(Ge.HEAP8.buffer,Ge._get_audio_buffer_ptr(Ze),Ge._get_audio_buffer_capacity(Ze));const Q=.5,f=ft.createBuffer(2,zn,ft.sampleRate),B=f.getChannelData(0),z=f.getChannelData(1);for(let _=0;_<zn;_++)B[_]=te[2*_]*Q/255,z[_]=te[2*_+1]*Q/255;const M=ft.createBufferSource();M.buffer=f,M.connect(ft.destination),M.start(ln);const b=zn/ft.sampleRate;ln+=b}const Io=Object.freeze(Object.defineProperty({__proto__:null,clearBreakpoints:$i,destroy:$r,getA:Ai,getBC:bi,getDE:Ei,getFlags:Si,getHL:Ci,getHRam:vi,getPC:_i,getSP:wi,getWRam:mi,init:hi,isAvailable:lt,readMem:Ti,renderBackground:mr,renderScreen:pi,renderVRam:gi,serialCallback:Oo,setBreakpoint:Ri,setKeyPad:Bt,setPC:yi,setSerialCallback:Mi,step:fi,writeMem:Bo},Symbol.toStringTag,{value:"Module"}));globalThis.emulator=Io;var Di,Kt,un={},xt={},st="";function Fo(){return window.matchMedia&&window.matchMedia("(prefers-color-scheme: dark)").matches}function No(te){var Q=document.createElement("div");return Q.innerText=te,Q.innerHTML}So(function(te,Q){var f=document.getElementById("output");if(te==null&&Q==null){f.innerHTML="";return}f.innerHTML+='<span class="'+Q+'">'+No(te)+`</span>
`,f.scrollTop=f.scrollHeight});const Ln=[],zr=256;Mi(function(te){var Q=("00"+te.toString(16)).slice(-2);document.getElementById("serial_log").innerText="$"+Q,Ln.unshift(Q),Ln.length>zr&&(Ln.length=zr)});function Gn(){To(function(te,Q,f){if(_r(),Nt(),Po(),!(typeof te>"u")){Kt=te,Di=Q,un=f;for(var B in un){var[z,M]=un[B];typeof xt[z]>"u"&&(xt[z]={}),typeof xt[z][M]>"u"&&(xt[z][M]=[]),xt[z][M].push(B)}jt()}})}function Po(){$r(),un={},xt={},Kt=void 0,Vn(null,null)}function Li(te){typeof Kt>"u"||(hi(document.getElementById("emulator_screen_canvas"),Kt),yi(Di),Dr(te),Mr())}function $n(te){if(!lt())return Li(te=="single"||te=="frame"),!1;var Q=fi(te);return Dr(te=="single"||te=="frame"),Q}function Mr(){$i();var te=Qr();for(var Q of te){var[f,B,z]=Q;if(Q[2]=!1,!(typeof xt[f]>"u"||typeof xt[f][B]>"u")){Q[2]=!0;for(var M of xt[f][B])Ri(M)}}}function Gr(te,Q){te=="ArrowRight"&&Bt("right",Q),te=="ArrowLeft"&&Bt("left",Q),te=="ArrowUp"&&Bt("up",Q),te=="ArrowDown"&&Bt("down",Q),te=="KeyS"&&Bt("a",Q),te=="KeyA"&&Bt("b",Q),te=="ShiftRight"&&Bt("select",Q),te=="Enter"&&Bt("start",Q),te=="Escape"&&(document.getElementById("cpu_run_check").checked=!1,document.getElementById("cpu_run_check").onclick())}function sn(te,Q){return"$"+("0000"+te.toString(16)).slice(-Q)}function Dr(te){pi();var Q=_i();document.getElementById("cpu_pc").innerHTML=sn(Q,4),document.getElementById("cpu_sp").innerHTML=sn(wi(),4),document.getElementById("cpu_a").innerHTML=sn(Ai(),2),document.getElementById("cpu_bc").innerHTML=sn(bi(),4),document.getElementById("cpu_de").innerHTML=sn(Ei(),4),document.getElementById("cpu_hl").innerHTML=sn(Ci(),4),document.getElementById("cpu_flags").innerHTML=Si();var f=un[Q];typeof f>"u"&&(f=un[Q-1]),typeof f<"u"?Vn(f[0],f[1],te):Vn(null,null),qn(),jt()}function qn(){var te=document.getElementById("emulator_vram_canvas");te.style.display==""&&(st=="vram"&&gi(te),st=="bg0"&&mr(te,0),st=="bg1"&&mr(te,1))}function jt(){var te=document.getElementById("emulator_display_text");if(te.style.display==""){var Q=Kt,f=16384,B=0,z=Ro();if(st=="wram"&&(Q=mi(),f=4096,B=49152,z=Wr()),st=="hram"&&(Q=vi(),f=4096,B=65408,z=Wr()),st=="io"){var s="",M=[{name:"P1",value:65280},{name:"SB",value:65281},{name:"SC",value:65282},{name:"DIV",value:65284},{name:"TIMA",value:65285},{name:"TMA",value:65286},{name:"TAC",value:65287},{name:"IF",value:65295},{name:"LCDC",value:65344},{name:"STAT",value:65345},{name:"SCY",value:65346},{name:"SCX",value:65347},{name:"LY",value:65348},{name:"LYC",value:65349},{name:"DMA",value:65350},{name:"BGP",value:65351},{name:"OBP0",value:65352},{name:"OBP1",value:65353},{name:"WY",value:65354},{name:"WX",value:65355},{name:"KEY1",value:65357},{name:"VBK",value:65359},{name:"RP",value:65366},{name:"BCPS",value:65384},{name:"BCPD",value:65385},{name:"OCPS",value:65386},{name:"OCPD",value:65387},{name:"SVBK",value:65392},{name:"IE",value:65535}];for(var b of M)s+="<span style='float: left; width: 50px'>"+b.name+":</span>"+("00"+Ti(b.value).toString(16)).slice(-2)+"<br/>";te.innerHTML=s;return}if(st=="serial"){for(var s="",_=0;_<Ln.length;_+=16)s+=Ln.slice(_,_+16).join(" ")+`
`;te.textContent=s;return}if(!(typeof Q>"u")){for(var s="<div class='emulator_display_header'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; 0&nbsp; 1&nbsp; 2&nbsp; 3&nbsp; 4&nbsp; 5&nbsp; 6&nbsp; 7&nbsp; 8&nbsp; 9&nbsp; a&nbsp; b&nbsp; c&nbsp; d&nbsp; e&nbsp; f</div>",d=null,o=!1,n=0,_=0;_<Q.length;_+=16){var i=Array.prototype.map.call(Q.slice(_,_+16),h=>("00"+h.toString(16)).slice(-2)),t=~~(_/f),e=_&f-1;t>0&&(e+=f),s+=("00"+t.toString(16)).slice(-2)+":"+("0000"+(e+B).toString(16)).slice(-4);for(var r=0;r<i.length;r++){s+=" ";var a=z[_+r+B];a?(d=a,o&&(s+="</span>"),o=!1,n=(n+71)%360):a===null&&(d=null,o&&(s+="</span>"),o=!1),d&&!o&&(s+="<span title='"+d+"' style='background-color: hsl("+n+(Fo()?", 30%, 30%)'>":", 50%, 50%)'>"),o=!0),s+=i[r]}o&&(s+="</span>"),o=!1,s+="<br/>"}te.innerHTML=s}}}function Nt(){var te=document.getElementById("filelist");te.textContent="";for(const b of Object.keys(mt()).sort()){var Q=document.createElement("li");Q.textContent=b,te.appendChild(Q),b==Kn()&&Q.classList.add("active");for(var[f,B,z,M]of ui())if(B==b&&(Q.classList.add(f),f=="error")){Q.classList.remove("warning");break}}}function Uo(te){Object.keys(mt()).length<2||(Ft(te,null),Kn()==te&&Vt(Object.keys(mt()).sort()[0]),Nt())}function Lt(te){["emulator_screen_canvas","emulator_vram_canvas","emulator_display_text"].forEach(f=>{document.getElementById(f).style.display=te==f?"":"none"})}function Ho(te){Kr("textEditorDiv",Gn),ei("gfxEditorDiv");var Q=new URLSearchParams(window.location.search);const f=(Q.get("asm")??"").trim();f!=""&&(document.getElementById("compiler_settings_asm").value=f,lr(f.split(" ")));const B=(Q.get("link")??"").trim();B!=""&&(document.getElementById("compiler_settings_link").value=B,cr(B.split(" ")));const z=(Q.get("fix")??"").trim();z!=""&&(document.getElementById("compiler_settings_fix").value=z,ur(z.split(" "))),go(),Vt(Object.keys(mt()).pop()),Nt(),document.getElementById("filelist").onclick=function(b){b.target.childNodes[0].wholeText&&(Vt(b.target.childNodes[0].wholeText),Nt(),Dr())},document.getElementById("newfile").onclick=function(){document.getElementById("newfiledialog").style.display="block"},document.getElementById("newfiledialog").onclick=function(b){b.target==document.getElementById("newfiledialog")&&(document.getElementById("newfiledialog").style.display="none")},document.getElementById("newfiledialogclose").onclick=function(){document.getElementById("newfiledialog").style.display="none"},document.getElementById("newfile_empty_create").onclick=function(){var b=document.getElementById("newfile_name").value;b&&(b.indexOf(".")<0&&(b+=".asm"),!(b in mt())&&(fr(b)==="text"?Ft(b,""):Ft(b,new Uint8Array(16)),Vt(b),Nt(),document.getElementById("newfiledialog").style.display="none"))},document.getElementById("newfile_upload").onchange=function(b){if(b.target.files.length>0){var _=b.target.files[0].name,s=fr(_)=="text"?b.target.files[0].text():b.target.files[0].arrayBuffer();s.then(function(d){Ft(_,d),Vt(_),Nt()}),b.target.value="",document.getElementById("newfiledialog").style.display="none"}},document.getElementById("delfile").onclick=function(){confirm("Are you sure you want to delete: "+Kn()+"?")&&Uo(Kn())},document.getElementById("newproject").onclick=function(){confirm("Are you sure to clear the current project?")&&(ri(),Vt("main.asm"),Nt())},Gn(),document.getElementById("cpu_single_step").onclick=function(){$n("single")},document.getElementById("cpu_frame_step").onclick=function(){$n("frame")},document.getElementById("cpu_reset").onclick=function(){Li(!0)},document.getElementById("cpu_run_check").onclick=function(){if(document.getElementById("cpu_run_check").checked){let b=function(){document.hidden||$n("run")&&(document.getElementById("cpu_run_check").checked=!1),document.getElementById("cpu_run_check").checked&&requestAnimationFrame(b)};requestAnimationFrame(b)}};var M=document.getElementById("emulator_screen_canvas");M.tabIndex=-1,M.onkeydown=function(b){Gr(b.code,!0),b.preventDefault()},M.onkeyup=function(b){Gr(b.code,!1),b.preventDefault()},document.onkeydown=function(b){b.code=="F8"&&($n("single"),b.preventDefault()),b.code=="F9"&&($n("frame"),b.preventDefault())},document.getElementById("emulator_display_screen").onclick=function(){Lt("emulator_screen_canvas"),st="display"},document.getElementById("emulator_display_vram").onclick=function(){Lt("emulator_vram_canvas"),st="vram",qn()},document.getElementById("emulator_display_bg0").onclick=function(){Lt("emulator_vram_canvas"),st="bg0",qn()},document.getElementById("emulator_display_bg1").onclick=function(){Lt("emulator_vram_canvas"),st="bg1",qn()},document.getElementById("emulator_display_rom").onclick=function(){Lt("emulator_display_text"),st="rom",jt()},document.getElementById("emulator_display_wram").onclick=function(){Lt("emulator_display_text"),st="wram",jt()},document.getElementById("emulator_display_hram").onclick=function(){Lt("emulator_display_text"),st="hram",jt()},document.getElementById("emulator_display_io").onclick=function(){Lt("emulator_display_text"),st="io",jt()},document.getElementById("emulator_display_serial").onclick=function(){Lt("emulator_display_text"),st="serial",jt()},document.getElementById("download_rom").onclick=function(){if(!(typeof Kt>"u")){var b=document.createElement("a"),_=window.URL.createObjectURL(new Blob([Kt.buffer],{type:"application/octet-stream"}));b.setAttribute("href",_),b.setAttribute("download","rom.gb"),b.style.display="none",document.body.appendChild(b),b.click(),document.body.removeChild(b),window.URL.revokeObjectURL(_)}},document.getElementById("importmenu").onclick=function(){document.getElementById("importdialog").style.display="block"},document.getElementById("importdialog").onclick=function(b){b.target==document.getElementById("importdialog")&&(document.getElementById("importdialog").style.display="none")},document.getElementById("importdialogclose").onclick=function(){document.getElementById("importdialog").style.display="none"},document.getElementById("import_gist").onclick=function(){si(document.getElementById("import_gist_url").value),document.getElementById("importdialog").style.display="none"},document.getElementById("import_zipfile").onchange=function(b){b.target.files.length>0&&(yo(b.target.files[0]),b.target.value="",document.getElementById("importdialog").style.display="none")},document.getElementById("exportmenu").onclick=function(){document.getElementById("exportdialog").style.display="block",document.getElementById("export_hash_url").value=ii()},document.getElementById("exportdialog").onclick=function(b){b.target==document.getElementById("exportdialog")&&(document.getElementById("exportdialog").style.display="none")},document.getElementById("exportdialogclose").onclick=function(){document.getElementById("exportdialog").style.display="none"},document.getElementById("export_gist").onclick=function(){var b=document.getElementById("export_gist_url").value,_=document.getElementById("export_gist_username").value,s=document.getElementById("export_gist_token").value;if(b=vo(_,s,b),b==null)document.getElementById("export_gist_import_url").value="Gist create/update failed. Incorrect token?";else{document.getElementById("export_gist_url").value=b;var d=new URL(document.location);d.hash=b,document.getElementById("export_gist_import_url").value=d.toString()}},document.getElementById("export_zip").onclick=function(){_o()},document.getElementById("infomenu").onclick=function(){document.getElementById("infodialog").style.display="block"},document.getElementById("infodialog").onclick=function(b){b.target==document.getElementById("infodialog")&&(document.getElementById("infodialog").style.display="none")},document.getElementById("infodialogclose").onclick=function(){document.getElementById("infodialog").style.display="none"},document.getElementById("auto_url_update").checked=Ot.autoUrl,document.getElementById("auto_url_update").onclick=function(){Ot.autoUrl=document.getElementById("auto_url_update").checked,Ot.autoUrl?Ft():document.location.hash=""},document.getElementById("auto_local_storage_update").checked=Ot.autoLocalStorage,document.getElementById("auto_local_storage_update").onclick=function(){Ot.autoLocalStorage=document.getElementById("auto_local_storage_update").checked,Ft()},document.getElementById("settingsmenu").onclick=function(){document.getElementById("settingsdialog").style.display="block"},document.getElementById("settingsdialog").onclick=function(b){b.target==document.getElementById("settingsdialog")&&(document.getElementById("settingsdialog").style.display="none")},document.getElementById("settingsdialogclose").onclick=function(){document.getElementById("settingsdialog").style.display="none"},document.getElementById("compiler_settings_set").onclick=function(){Q=new URLSearchParams(window.location.search);var b=document.getElementById("compiler_settings_asm").value.trim();b!=""?(Q.set("asm",b),lr(b.split(" "))):(lr([]),Q.delete("asm"));var _=document.getElementById("compiler_settings_link").value.trim();_!=""?(Q.set("link",_),cr(_.split(" "))):(cr([]),Q.delete("link"));var s=document.getElementById("compiler_settings_fix").value.trim();s!=""?(Q.set("fix",s),ur(s.split(" "))):(Q.delete("fix"),ur([]));var d=new URL(window.location);d.search=Q.toString(),window.history.replaceState({},"",d),document.getElementById("settingsdialog").style.display="none",Gn()},Q.has("autorun")&&(document.getElementById("cpu_run_check").checked=!0,document.getElementById("cpu_run_check").onclick())}Ho();
