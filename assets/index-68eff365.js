function di(X,Y){for(var c=0;c<Y.length;c++){const M=Y[c];if(typeof M!="string"&&!Array.isArray(M)){for(const W in M)if(W!=="default"&&!(W in X)){const R=Object.getOwnPropertyDescriptor(M,W);R&&Object.defineProperty(X,W,R.get?R:{enumerable:!0,get:()=>M[W]})}}}return Object.freeze(Object.defineProperty(X,Symbol.toStringTag,{value:"Module"}))}(function(){const Y=document.createElement("link").relList;if(Y&&Y.supports&&Y.supports("modulepreload"))return;for(const W of document.querySelectorAll('link[rel="modulepreload"]'))M(W);new MutationObserver(W=>{for(const R of W)if(R.type==="childList")for(const E of R.addedNodes)E.tagName==="LINK"&&E.rel==="modulepreload"&&M(E)}).observe(document,{childList:!0,subtree:!0});function c(W){const R={};return W.integrity&&(R.integrity=W.integrity),W.referrerPolicy&&(R.referrerPolicy=W.referrerPolicy),W.crossOrigin==="use-credentials"?R.credentials="include":W.crossOrigin==="anonymous"?R.credentials="omit":R.credentials="same-origin",R}function M(W){if(W.ep)return;W.ep=!0;const R=c(W);fetch(W.href,R)}})();var jr=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function bn(X){return X&&X.__esModule&&Object.prototype.hasOwnProperty.call(X,"default")?X.default:X}function Yr(X){throw new Error('Could not dynamically require "'+X+'". Please configure the dynamicRequireTargets or/and ignoreDynamicRequires option of @rollup/plugin-commonjs appropriately for this require call to work.')}var Hn={exports:{}};/*!

JSZip v3.10.1 - A JavaScript class for generating and reading zip files
<http://stuartk.com/jszip>

(c) 2009-2016 Stuart Knightley <stuart [at] stuartk.com>
Dual licenced under the MIT license or GPLv3. See https://raw.github.com/Stuk/jszip/main/LICENSE.markdown.

JSZip uses the library pako released under the MIT license :
https://github.com/nodeca/pako/blob/main/LICENSE
*/(function(X,Y){(function(c){X.exports=c()})(function(){return function c(M,W,R){function E(l,t){if(!W[l]){if(!M[l]){var e=typeof Yr=="function"&&Yr;if(!t&&e)return e(l,!0);if(h)return h(l,!0);var r=new Error("Cannot find module '"+l+"'");throw r.code="MODULE_NOT_FOUND",r}var n=W[l]={exports:{}};M[l][0].call(n.exports,function(i){var s=M[l][1][i];return E(s||i)},n,n.exports,c,M,W,R)}return W[l].exports}for(var h=typeof Yr=="function"&&Yr,a=0;a<R.length;a++)E(R[a]);return E}({1:[function(c,M,W){var R=c("./utils"),E=c("./support"),h="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=";W.encode=function(a){for(var l,t,e,r,n,i,s,d=[],v=0,y=a.length,k=y,p=R.getTypeOf(a)!=="string";v<a.length;)k=y-v,e=p?(l=a[v++],t=v<y?a[v++]:0,v<y?a[v++]:0):(l=a.charCodeAt(v++),t=v<y?a.charCodeAt(v++):0,v<y?a.charCodeAt(v++):0),r=l>>2,n=(3&l)<<4|t>>4,i=1<k?(15&t)<<2|e>>6:64,s=2<k?63&e:64,d.push(h.charAt(r)+h.charAt(n)+h.charAt(i)+h.charAt(s));return d.join("")},W.decode=function(a){var l,t,e,r,n,i,s=0,d=0,v="data:";if(a.substr(0,v.length)===v)throw new Error("Invalid base64 input, it looks like a data url.");var y,k=3*(a=a.replace(/[^A-Za-z0-9+/=]/g,"")).length/4;if(a.charAt(a.length-1)===h.charAt(64)&&k--,a.charAt(a.length-2)===h.charAt(64)&&k--,k%1!=0)throw new Error("Invalid base64 input, bad content length.");for(y=E.uint8array?new Uint8Array(0|k):new Array(0|k);s<a.length;)l=h.indexOf(a.charAt(s++))<<2|(r=h.indexOf(a.charAt(s++)))>>4,t=(15&r)<<4|(n=h.indexOf(a.charAt(s++)))>>2,e=(3&n)<<6|(i=h.indexOf(a.charAt(s++))),y[d++]=l,n!==64&&(y[d++]=t),i!==64&&(y[d++]=e);return y}},{"./support":30,"./utils":32}],2:[function(c,M,W){var R=c("./external"),E=c("./stream/DataWorker"),h=c("./stream/Crc32Probe"),a=c("./stream/DataLengthProbe");function l(t,e,r,n,i){this.compressedSize=t,this.uncompressedSize=e,this.crc32=r,this.compression=n,this.compressedContent=i}l.prototype={getContentWorker:function(){var t=new E(R.Promise.resolve(this.compressedContent)).pipe(this.compression.uncompressWorker()).pipe(new a("data_length")),e=this;return t.on("end",function(){if(this.streamInfo.data_length!==e.uncompressedSize)throw new Error("Bug : uncompressed data size mismatch")}),t},getCompressedWorker:function(){return new E(R.Promise.resolve(this.compressedContent)).withStreamInfo("compressedSize",this.compressedSize).withStreamInfo("uncompressedSize",this.uncompressedSize).withStreamInfo("crc32",this.crc32).withStreamInfo("compression",this.compression)}},l.createWorkerFrom=function(t,e,r){return t.pipe(new h).pipe(new a("uncompressedSize")).pipe(e.compressWorker(r)).pipe(new a("compressedSize")).withStreamInfo("compression",e)},M.exports=l},{"./external":6,"./stream/Crc32Probe":25,"./stream/DataLengthProbe":26,"./stream/DataWorker":27}],3:[function(c,M,W){var R=c("./stream/GenericWorker");W.STORE={magic:"\0\0",compressWorker:function(){return new R("STORE compression")},uncompressWorker:function(){return new R("STORE decompression")}},W.DEFLATE=c("./flate")},{"./flate":7,"./stream/GenericWorker":28}],4:[function(c,M,W){var R=c("./utils"),E=function(){for(var h,a=[],l=0;l<256;l++){h=l;for(var t=0;t<8;t++)h=1&h?3988292384^h>>>1:h>>>1;a[l]=h}return a}();M.exports=function(h,a){return h!==void 0&&h.length?R.getTypeOf(h)!=="string"?function(l,t,e,r){var n=E,i=r+e;l^=-1;for(var s=r;s<i;s++)l=l>>>8^n[255&(l^t[s])];return-1^l}(0|a,h,h.length,0):function(l,t,e,r){var n=E,i=r+e;l^=-1;for(var s=r;s<i;s++)l=l>>>8^n[255&(l^t.charCodeAt(s))];return-1^l}(0|a,h,h.length,0):0}},{"./utils":32}],5:[function(c,M,W){W.base64=!1,W.binary=!1,W.dir=!1,W.createFolders=!0,W.date=null,W.compression=null,W.compressionOptions=null,W.comment=null,W.unixPermissions=null,W.dosPermissions=null},{}],6:[function(c,M,W){var R=null;R=typeof Promise<"u"?Promise:c("lie"),M.exports={Promise:R}},{lie:37}],7:[function(c,M,W){var R=typeof Uint8Array<"u"&&typeof Uint16Array<"u"&&typeof Uint32Array<"u",E=c("pako"),h=c("./utils"),a=c("./stream/GenericWorker"),l=R?"uint8array":"array";function t(e,r){a.call(this,"FlateWorker/"+e),this._pako=null,this._pakoAction=e,this._pakoOptions=r,this.meta={}}W.magic="\b\0",h.inherits(t,a),t.prototype.processChunk=function(e){this.meta=e.meta,this._pako===null&&this._createPako(),this._pako.push(h.transformTo(l,e.data),!1)},t.prototype.flush=function(){a.prototype.flush.call(this),this._pako===null&&this._createPako(),this._pako.push([],!0)},t.prototype.cleanUp=function(){a.prototype.cleanUp.call(this),this._pako=null},t.prototype._createPako=function(){this._pako=new E[this._pakoAction]({raw:!0,level:this._pakoOptions.level||-1});var e=this;this._pako.onData=function(r){e.push({data:r,meta:e.meta})}},W.compressWorker=function(e){return new t("Deflate",e)},W.uncompressWorker=function(){return new t("Inflate",{})}},{"./stream/GenericWorker":28,"./utils":32,pako:38}],8:[function(c,M,W){function R(n,i){var s,d="";for(s=0;s<i;s++)d+=String.fromCharCode(255&n),n>>>=8;return d}function E(n,i,s,d,v,y){var k,p,o=n.file,f=n.compression,w=y!==l.utf8encode,g=h.transformTo("string",y(o.name)),m=h.transformTo("string",l.utf8encode(o.name)),u=o.comment,F=h.transformTo("string",y(u)),S=h.transformTo("string",l.utf8encode(u)),L=m.length!==o.name.length,A=S.length!==u.length,P="",H="",j="",le=o.dir,q=o.date,ue={crc32:0,compressedSize:0,uncompressedSize:0};i&&!s||(ue.crc32=n.crc32,ue.compressedSize=n.compressedSize,ue.uncompressedSize=n.uncompressedSize);var J=0;i&&(J|=8),w||!L&&!A||(J|=2048);var ee=0,ie=0;le&&(ee|=16),v==="UNIX"?(ie=798,ee|=function(de,Ce){var Fe=de;return de||(Fe=Ce?16893:33204),(65535&Fe)<<16}(o.unixPermissions,le)):(ie=20,ee|=function(de){return 63&(de||0)}(o.dosPermissions)),k=q.getUTCHours(),k<<=6,k|=q.getUTCMinutes(),k<<=5,k|=q.getUTCSeconds()/2,p=q.getUTCFullYear()-1980,p<<=4,p|=q.getUTCMonth()+1,p<<=5,p|=q.getUTCDate(),L&&(H=R(1,1)+R(t(g),4)+m,P+="up"+R(H.length,2)+H),A&&(j=R(1,1)+R(t(F),4)+S,P+="uc"+R(j.length,2)+j);var me="";return me+=`
\0`,me+=R(J,2),me+=f.magic,me+=R(k,2),me+=R(p,2),me+=R(ue.crc32,4),me+=R(ue.compressedSize,4),me+=R(ue.uncompressedSize,4),me+=R(g.length,2),me+=R(P.length,2),{fileRecord:e.LOCAL_FILE_HEADER+me+g+P,dirRecord:e.CENTRAL_FILE_HEADER+R(ie,2)+me+R(F.length,2)+"\0\0\0\0"+R(ee,4)+R(d,4)+g+P+F}}var h=c("../utils"),a=c("../stream/GenericWorker"),l=c("../utf8"),t=c("../crc32"),e=c("../signature");function r(n,i,s,d){a.call(this,"ZipFileWorker"),this.bytesWritten=0,this.zipComment=i,this.zipPlatform=s,this.encodeFileName=d,this.streamFiles=n,this.accumulate=!1,this.contentBuffer=[],this.dirRecords=[],this.currentSourceOffset=0,this.entriesCount=0,this.currentFile=null,this._sources=[]}h.inherits(r,a),r.prototype.push=function(n){var i=n.meta.percent||0,s=this.entriesCount,d=this._sources.length;this.accumulate?this.contentBuffer.push(n):(this.bytesWritten+=n.data.length,a.prototype.push.call(this,{data:n.data,meta:{currentFile:this.currentFile,percent:s?(i+100*(s-d-1))/s:100}}))},r.prototype.openedSource=function(n){this.currentSourceOffset=this.bytesWritten,this.currentFile=n.file.name;var i=this.streamFiles&&!n.file.dir;if(i){var s=E(n,i,!1,this.currentSourceOffset,this.zipPlatform,this.encodeFileName);this.push({data:s.fileRecord,meta:{percent:0}})}else this.accumulate=!0},r.prototype.closedSource=function(n){this.accumulate=!1;var i=this.streamFiles&&!n.file.dir,s=E(n,i,!0,this.currentSourceOffset,this.zipPlatform,this.encodeFileName);if(this.dirRecords.push(s.dirRecord),i)this.push({data:function(d){return e.DATA_DESCRIPTOR+R(d.crc32,4)+R(d.compressedSize,4)+R(d.uncompressedSize,4)}(n),meta:{percent:100}});else for(this.push({data:s.fileRecord,meta:{percent:0}});this.contentBuffer.length;)this.push(this.contentBuffer.shift());this.currentFile=null},r.prototype.flush=function(){for(var n=this.bytesWritten,i=0;i<this.dirRecords.length;i++)this.push({data:this.dirRecords[i],meta:{percent:100}});var s=this.bytesWritten-n,d=function(v,y,k,p,o){var f=h.transformTo("string",o(p));return e.CENTRAL_DIRECTORY_END+"\0\0\0\0"+R(v,2)+R(v,2)+R(y,4)+R(k,4)+R(f.length,2)+f}(this.dirRecords.length,s,n,this.zipComment,this.encodeFileName);this.push({data:d,meta:{percent:100}})},r.prototype.prepareNextSource=function(){this.previous=this._sources.shift(),this.openedSource(this.previous.streamInfo),this.isPaused?this.previous.pause():this.previous.resume()},r.prototype.registerPrevious=function(n){this._sources.push(n);var i=this;return n.on("data",function(s){i.processChunk(s)}),n.on("end",function(){i.closedSource(i.previous.streamInfo),i._sources.length?i.prepareNextSource():i.end()}),n.on("error",function(s){i.error(s)}),this},r.prototype.resume=function(){return!!a.prototype.resume.call(this)&&(!this.previous&&this._sources.length?(this.prepareNextSource(),!0):this.previous||this._sources.length||this.generatedError?void 0:(this.end(),!0))},r.prototype.error=function(n){var i=this._sources;if(!a.prototype.error.call(this,n))return!1;for(var s=0;s<i.length;s++)try{i[s].error(n)}catch{}return!0},r.prototype.lock=function(){a.prototype.lock.call(this);for(var n=this._sources,i=0;i<n.length;i++)n[i].lock()},M.exports=r},{"../crc32":4,"../signature":23,"../stream/GenericWorker":28,"../utf8":31,"../utils":32}],9:[function(c,M,W){var R=c("../compressions"),E=c("./ZipFileWorker");W.generateWorker=function(h,a,l){var t=new E(a.streamFiles,l,a.platform,a.encodeFileName),e=0;try{h.forEach(function(r,n){e++;var i=function(y,k){var p=y||k,o=R[p];if(!o)throw new Error(p+" is not a valid compression method !");return o}(n.options.compression,a.compression),s=n.options.compressionOptions||a.compressionOptions||{},d=n.dir,v=n.date;n._compressWorker(i,s).withStreamInfo("file",{name:r,dir:d,date:v,comment:n.comment||"",unixPermissions:n.unixPermissions,dosPermissions:n.dosPermissions}).pipe(t)}),t.entriesCount=e}catch(r){t.error(r)}return t}},{"../compressions":3,"./ZipFileWorker":8}],10:[function(c,M,W){function R(){if(!(this instanceof R))return new R;if(arguments.length)throw new Error("The constructor with parameters has been removed in JSZip 3.0, please check the upgrade guide.");this.files=Object.create(null),this.comment=null,this.root="",this.clone=function(){var E=new R;for(var h in this)typeof this[h]!="function"&&(E[h]=this[h]);return E}}(R.prototype=c("./object")).loadAsync=c("./load"),R.support=c("./support"),R.defaults=c("./defaults"),R.version="3.10.1",R.loadAsync=function(E,h){return new R().loadAsync(E,h)},R.external=c("./external"),M.exports=R},{"./defaults":5,"./external":6,"./load":11,"./object":15,"./support":30}],11:[function(c,M,W){var R=c("./utils"),E=c("./external"),h=c("./utf8"),a=c("./zipEntries"),l=c("./stream/Crc32Probe"),t=c("./nodejsUtils");function e(r){return new E.Promise(function(n,i){var s=r.decompressed.getContentWorker().pipe(new l);s.on("error",function(d){i(d)}).on("end",function(){s.streamInfo.crc32!==r.decompressed.crc32?i(new Error("Corrupted zip : CRC32 mismatch")):n()}).resume()})}M.exports=function(r,n){var i=this;return n=R.extend(n||{},{base64:!1,checkCRC32:!1,optimizedBinaryString:!1,createFolders:!1,decodeFileName:h.utf8decode}),t.isNode&&t.isStream(r)?E.Promise.reject(new Error("JSZip can't accept a stream when loading a zip file.")):R.prepareContent("the loaded zip file",r,!0,n.optimizedBinaryString,n.base64).then(function(s){var d=new a(n);return d.load(s),d}).then(function(s){var d=[E.Promise.resolve(s)],v=s.files;if(n.checkCRC32)for(var y=0;y<v.length;y++)d.push(e(v[y]));return E.Promise.all(d)}).then(function(s){for(var d=s.shift(),v=d.files,y=0;y<v.length;y++){var k=v[y],p=k.fileNameStr,o=R.resolve(k.fileNameStr);i.file(o,k.decompressed,{binary:!0,optimizedBinaryString:!0,date:k.date,dir:k.dir,comment:k.fileCommentStr.length?k.fileCommentStr:null,unixPermissions:k.unixPermissions,dosPermissions:k.dosPermissions,createFolders:n.createFolders}),k.dir||(i.file(o).unsafeOriginalName=p)}return d.zipComment.length&&(i.comment=d.zipComment),i})}},{"./external":6,"./nodejsUtils":14,"./stream/Crc32Probe":25,"./utf8":31,"./utils":32,"./zipEntries":33}],12:[function(c,M,W){var R=c("../utils"),E=c("../stream/GenericWorker");function h(a,l){E.call(this,"Nodejs stream input adapter for "+a),this._upstreamEnded=!1,this._bindStream(l)}R.inherits(h,E),h.prototype._bindStream=function(a){var l=this;(this._stream=a).pause(),a.on("data",function(t){l.push({data:t,meta:{percent:0}})}).on("error",function(t){l.isPaused?this.generatedError=t:l.error(t)}).on("end",function(){l.isPaused?l._upstreamEnded=!0:l.end()})},h.prototype.pause=function(){return!!E.prototype.pause.call(this)&&(this._stream.pause(),!0)},h.prototype.resume=function(){return!!E.prototype.resume.call(this)&&(this._upstreamEnded?this.end():this._stream.resume(),!0)},M.exports=h},{"../stream/GenericWorker":28,"../utils":32}],13:[function(c,M,W){var R=c("readable-stream").Readable;function E(h,a,l){R.call(this,a),this._helper=h;var t=this;h.on("data",function(e,r){t.push(e)||t._helper.pause(),l&&l(r)}).on("error",function(e){t.emit("error",e)}).on("end",function(){t.push(null)})}c("../utils").inherits(E,R),E.prototype._read=function(){this._helper.resume()},M.exports=E},{"../utils":32,"readable-stream":16}],14:[function(c,M,W){M.exports={isNode:typeof Buffer<"u",newBufferFrom:function(R,E){if(Buffer.from&&Buffer.from!==Uint8Array.from)return Buffer.from(R,E);if(typeof R=="number")throw new Error('The "data" argument must not be a number');return new Buffer(R,E)},allocBuffer:function(R){if(Buffer.alloc)return Buffer.alloc(R);var E=new Buffer(R);return E.fill(0),E},isBuffer:function(R){return Buffer.isBuffer(R)},isStream:function(R){return R&&typeof R.on=="function"&&typeof R.pause=="function"&&typeof R.resume=="function"}}},{}],15:[function(c,M,W){function R(o,f,w){var g,m=h.getTypeOf(f),u=h.extend(w||{},t);u.date=u.date||new Date,u.compression!==null&&(u.compression=u.compression.toUpperCase()),typeof u.unixPermissions=="string"&&(u.unixPermissions=parseInt(u.unixPermissions,8)),u.unixPermissions&&16384&u.unixPermissions&&(u.dir=!0),u.dosPermissions&&16&u.dosPermissions&&(u.dir=!0),u.dir&&(o=v(o)),u.createFolders&&(g=d(o))&&y.call(this,g,!0);var F=m==="string"&&u.binary===!1&&u.base64===!1;w&&w.binary!==void 0||(u.binary=!F),(f instanceof e&&f.uncompressedSize===0||u.dir||!f||f.length===0)&&(u.base64=!1,u.binary=!0,f="",u.compression="STORE",m="string");var S=null;S=f instanceof e||f instanceof a?f:i.isNode&&i.isStream(f)?new s(o,f):h.prepareContent(o,f,u.binary,u.optimizedBinaryString,u.base64);var L=new r(o,S,u);this.files[o]=L}var E=c("./utf8"),h=c("./utils"),a=c("./stream/GenericWorker"),l=c("./stream/StreamHelper"),t=c("./defaults"),e=c("./compressedObject"),r=c("./zipObject"),n=c("./generate"),i=c("./nodejsUtils"),s=c("./nodejs/NodejsStreamInputAdapter"),d=function(o){o.slice(-1)==="/"&&(o=o.substring(0,o.length-1));var f=o.lastIndexOf("/");return 0<f?o.substring(0,f):""},v=function(o){return o.slice(-1)!=="/"&&(o+="/"),o},y=function(o,f){return f=f!==void 0?f:t.createFolders,o=v(o),this.files[o]||R.call(this,o,null,{dir:!0,createFolders:f}),this.files[o]};function k(o){return Object.prototype.toString.call(o)==="[object RegExp]"}var p={load:function(){throw new Error("This method has been removed in JSZip 3.0, please check the upgrade guide.")},forEach:function(o){var f,w,g;for(f in this.files)g=this.files[f],(w=f.slice(this.root.length,f.length))&&f.slice(0,this.root.length)===this.root&&o(w,g)},filter:function(o){var f=[];return this.forEach(function(w,g){o(w,g)&&f.push(g)}),f},file:function(o,f,w){if(arguments.length!==1)return o=this.root+o,R.call(this,o,f,w),this;if(k(o)){var g=o;return this.filter(function(u,F){return!F.dir&&g.test(u)})}var m=this.files[this.root+o];return m&&!m.dir?m:null},folder:function(o){if(!o)return this;if(k(o))return this.filter(function(m,u){return u.dir&&o.test(m)});var f=this.root+o,w=y.call(this,f),g=this.clone();return g.root=w.name,g},remove:function(o){o=this.root+o;var f=this.files[o];if(f||(o.slice(-1)!=="/"&&(o+="/"),f=this.files[o]),f&&!f.dir)delete this.files[o];else for(var w=this.filter(function(m,u){return u.name.slice(0,o.length)===o}),g=0;g<w.length;g++)delete this.files[w[g].name];return this},generate:function(){throw new Error("This method has been removed in JSZip 3.0, please check the upgrade guide.")},generateInternalStream:function(o){var f,w={};try{if((w=h.extend(o||{},{streamFiles:!1,compression:"STORE",compressionOptions:null,type:"",platform:"DOS",comment:null,mimeType:"application/zip",encodeFileName:E.utf8encode})).type=w.type.toLowerCase(),w.compression=w.compression.toUpperCase(),w.type==="binarystring"&&(w.type="string"),!w.type)throw new Error("No output type specified.");h.checkSupport(w.type),w.platform!=="darwin"&&w.platform!=="freebsd"&&w.platform!=="linux"&&w.platform!=="sunos"||(w.platform="UNIX"),w.platform==="win32"&&(w.platform="DOS");var g=w.comment||this.comment||"";f=n.generateWorker(this,w,g)}catch(m){(f=new a("error")).error(m)}return new l(f,w.type||"string",w.mimeType)},generateAsync:function(o,f){return this.generateInternalStream(o).accumulate(f)},generateNodeStream:function(o,f){return(o=o||{}).type||(o.type="nodebuffer"),this.generateInternalStream(o).toNodejsStream(f)}};M.exports=p},{"./compressedObject":2,"./defaults":5,"./generate":9,"./nodejs/NodejsStreamInputAdapter":12,"./nodejsUtils":14,"./stream/GenericWorker":28,"./stream/StreamHelper":29,"./utf8":31,"./utils":32,"./zipObject":35}],16:[function(c,M,W){M.exports=c("stream")},{stream:void 0}],17:[function(c,M,W){var R=c("./DataReader");function E(h){R.call(this,h);for(var a=0;a<this.data.length;a++)h[a]=255&h[a]}c("../utils").inherits(E,R),E.prototype.byteAt=function(h){return this.data[this.zero+h]},E.prototype.lastIndexOfSignature=function(h){for(var a=h.charCodeAt(0),l=h.charCodeAt(1),t=h.charCodeAt(2),e=h.charCodeAt(3),r=this.length-4;0<=r;--r)if(this.data[r]===a&&this.data[r+1]===l&&this.data[r+2]===t&&this.data[r+3]===e)return r-this.zero;return-1},E.prototype.readAndCheckSignature=function(h){var a=h.charCodeAt(0),l=h.charCodeAt(1),t=h.charCodeAt(2),e=h.charCodeAt(3),r=this.readData(4);return a===r[0]&&l===r[1]&&t===r[2]&&e===r[3]},E.prototype.readData=function(h){if(this.checkOffset(h),h===0)return[];var a=this.data.slice(this.zero+this.index,this.zero+this.index+h);return this.index+=h,a},M.exports=E},{"../utils":32,"./DataReader":18}],18:[function(c,M,W){var R=c("../utils");function E(h){this.data=h,this.length=h.length,this.index=0,this.zero=0}E.prototype={checkOffset:function(h){this.checkIndex(this.index+h)},checkIndex:function(h){if(this.length<this.zero+h||h<0)throw new Error("End of data reached (data length = "+this.length+", asked index = "+h+"). Corrupted zip ?")},setIndex:function(h){this.checkIndex(h),this.index=h},skip:function(h){this.setIndex(this.index+h)},byteAt:function(){},readInt:function(h){var a,l=0;for(this.checkOffset(h),a=this.index+h-1;a>=this.index;a--)l=(l<<8)+this.byteAt(a);return this.index+=h,l},readString:function(h){return R.transformTo("string",this.readData(h))},readData:function(){},lastIndexOfSignature:function(){},readAndCheckSignature:function(){},readDate:function(){var h=this.readInt(4);return new Date(Date.UTC(1980+(h>>25&127),(h>>21&15)-1,h>>16&31,h>>11&31,h>>5&63,(31&h)<<1))}},M.exports=E},{"../utils":32}],19:[function(c,M,W){var R=c("./Uint8ArrayReader");function E(h){R.call(this,h)}c("../utils").inherits(E,R),E.prototype.readData=function(h){this.checkOffset(h);var a=this.data.slice(this.zero+this.index,this.zero+this.index+h);return this.index+=h,a},M.exports=E},{"../utils":32,"./Uint8ArrayReader":21}],20:[function(c,M,W){var R=c("./DataReader");function E(h){R.call(this,h)}c("../utils").inherits(E,R),E.prototype.byteAt=function(h){return this.data.charCodeAt(this.zero+h)},E.prototype.lastIndexOfSignature=function(h){return this.data.lastIndexOf(h)-this.zero},E.prototype.readAndCheckSignature=function(h){return h===this.readData(4)},E.prototype.readData=function(h){this.checkOffset(h);var a=this.data.slice(this.zero+this.index,this.zero+this.index+h);return this.index+=h,a},M.exports=E},{"../utils":32,"./DataReader":18}],21:[function(c,M,W){var R=c("./ArrayReader");function E(h){R.call(this,h)}c("../utils").inherits(E,R),E.prototype.readData=function(h){if(this.checkOffset(h),h===0)return new Uint8Array(0);var a=this.data.subarray(this.zero+this.index,this.zero+this.index+h);return this.index+=h,a},M.exports=E},{"../utils":32,"./ArrayReader":17}],22:[function(c,M,W){var R=c("../utils"),E=c("../support"),h=c("./ArrayReader"),a=c("./StringReader"),l=c("./NodeBufferReader"),t=c("./Uint8ArrayReader");M.exports=function(e){var r=R.getTypeOf(e);return R.checkSupport(r),r!=="string"||E.uint8array?r==="nodebuffer"?new l(e):E.uint8array?new t(R.transformTo("uint8array",e)):new h(R.transformTo("array",e)):new a(e)}},{"../support":30,"../utils":32,"./ArrayReader":17,"./NodeBufferReader":19,"./StringReader":20,"./Uint8ArrayReader":21}],23:[function(c,M,W){W.LOCAL_FILE_HEADER="PK",W.CENTRAL_FILE_HEADER="PK",W.CENTRAL_DIRECTORY_END="PK",W.ZIP64_CENTRAL_DIRECTORY_LOCATOR="PK\x07",W.ZIP64_CENTRAL_DIRECTORY_END="PK",W.DATA_DESCRIPTOR="PK\x07\b"},{}],24:[function(c,M,W){var R=c("./GenericWorker"),E=c("../utils");function h(a){R.call(this,"ConvertWorker to "+a),this.destType=a}E.inherits(h,R),h.prototype.processChunk=function(a){this.push({data:E.transformTo(this.destType,a.data),meta:a.meta})},M.exports=h},{"../utils":32,"./GenericWorker":28}],25:[function(c,M,W){var R=c("./GenericWorker"),E=c("../crc32");function h(){R.call(this,"Crc32Probe"),this.withStreamInfo("crc32",0)}c("../utils").inherits(h,R),h.prototype.processChunk=function(a){this.streamInfo.crc32=E(a.data,this.streamInfo.crc32||0),this.push(a)},M.exports=h},{"../crc32":4,"../utils":32,"./GenericWorker":28}],26:[function(c,M,W){var R=c("../utils"),E=c("./GenericWorker");function h(a){E.call(this,"DataLengthProbe for "+a),this.propName=a,this.withStreamInfo(a,0)}R.inherits(h,E),h.prototype.processChunk=function(a){if(a){var l=this.streamInfo[this.propName]||0;this.streamInfo[this.propName]=l+a.data.length}E.prototype.processChunk.call(this,a)},M.exports=h},{"../utils":32,"./GenericWorker":28}],27:[function(c,M,W){var R=c("../utils"),E=c("./GenericWorker");function h(a){E.call(this,"DataWorker");var l=this;this.dataIsReady=!1,this.index=0,this.max=0,this.data=null,this.type="",this._tickScheduled=!1,a.then(function(t){l.dataIsReady=!0,l.data=t,l.max=t&&t.length||0,l.type=R.getTypeOf(t),l.isPaused||l._tickAndRepeat()},function(t){l.error(t)})}R.inherits(h,E),h.prototype.cleanUp=function(){E.prototype.cleanUp.call(this),this.data=null},h.prototype.resume=function(){return!!E.prototype.resume.call(this)&&(!this._tickScheduled&&this.dataIsReady&&(this._tickScheduled=!0,R.delay(this._tickAndRepeat,[],this)),!0)},h.prototype._tickAndRepeat=function(){this._tickScheduled=!1,this.isPaused||this.isFinished||(this._tick(),this.isFinished||(R.delay(this._tickAndRepeat,[],this),this._tickScheduled=!0))},h.prototype._tick=function(){if(this.isPaused||this.isFinished)return!1;var a=null,l=Math.min(this.max,this.index+16384);if(this.index>=this.max)return this.end();switch(this.type){case"string":a=this.data.substring(this.index,l);break;case"uint8array":a=this.data.subarray(this.index,l);break;case"array":case"nodebuffer":a=this.data.slice(this.index,l)}return this.index=l,this.push({data:a,meta:{percent:this.max?this.index/this.max*100:0}})},M.exports=h},{"../utils":32,"./GenericWorker":28}],28:[function(c,M,W){function R(E){this.name=E||"default",this.streamInfo={},this.generatedError=null,this.extraStreamInfo={},this.isPaused=!0,this.isFinished=!1,this.isLocked=!1,this._listeners={data:[],end:[],error:[]},this.previous=null}R.prototype={push:function(E){this.emit("data",E)},end:function(){if(this.isFinished)return!1;this.flush();try{this.emit("end"),this.cleanUp(),this.isFinished=!0}catch(E){this.emit("error",E)}return!0},error:function(E){return!this.isFinished&&(this.isPaused?this.generatedError=E:(this.isFinished=!0,this.emit("error",E),this.previous&&this.previous.error(E),this.cleanUp()),!0)},on:function(E,h){return this._listeners[E].push(h),this},cleanUp:function(){this.streamInfo=this.generatedError=this.extraStreamInfo=null,this._listeners=[]},emit:function(E,h){if(this._listeners[E])for(var a=0;a<this._listeners[E].length;a++)this._listeners[E][a].call(this,h)},pipe:function(E){return E.registerPrevious(this)},registerPrevious:function(E){if(this.isLocked)throw new Error("The stream '"+this+"' has already been used.");this.streamInfo=E.streamInfo,this.mergeStreamInfo(),this.previous=E;var h=this;return E.on("data",function(a){h.processChunk(a)}),E.on("end",function(){h.end()}),E.on("error",function(a){h.error(a)}),this},pause:function(){return!this.isPaused&&!this.isFinished&&(this.isPaused=!0,this.previous&&this.previous.pause(),!0)},resume:function(){if(!this.isPaused||this.isFinished)return!1;var E=this.isPaused=!1;return this.generatedError&&(this.error(this.generatedError),E=!0),this.previous&&this.previous.resume(),!E},flush:function(){},processChunk:function(E){this.push(E)},withStreamInfo:function(E,h){return this.extraStreamInfo[E]=h,this.mergeStreamInfo(),this},mergeStreamInfo:function(){for(var E in this.extraStreamInfo)Object.prototype.hasOwnProperty.call(this.extraStreamInfo,E)&&(this.streamInfo[E]=this.extraStreamInfo[E])},lock:function(){if(this.isLocked)throw new Error("The stream '"+this+"' has already been used.");this.isLocked=!0,this.previous&&this.previous.lock()},toString:function(){var E="Worker "+this.name;return this.previous?this.previous+" -> "+E:E}},M.exports=R},{}],29:[function(c,M,W){var R=c("../utils"),E=c("./ConvertWorker"),h=c("./GenericWorker"),a=c("../base64"),l=c("../support"),t=c("../external"),e=null;if(l.nodestream)try{e=c("../nodejs/NodejsStreamOutputAdapter")}catch{}function r(i,s){return new t.Promise(function(d,v){var y=[],k=i._internalType,p=i._outputType,o=i._mimeType;i.on("data",function(f,w){y.push(f),s&&s(w)}).on("error",function(f){y=[],v(f)}).on("end",function(){try{var f=function(w,g,m){switch(w){case"blob":return R.newBlob(R.transformTo("arraybuffer",g),m);case"base64":return a.encode(g);default:return R.transformTo(w,g)}}(p,function(w,g){var m,u=0,F=null,S=0;for(m=0;m<g.length;m++)S+=g[m].length;switch(w){case"string":return g.join("");case"array":return Array.prototype.concat.apply([],g);case"uint8array":for(F=new Uint8Array(S),m=0;m<g.length;m++)F.set(g[m],u),u+=g[m].length;return F;case"nodebuffer":return Buffer.concat(g);default:throw new Error("concat : unsupported type '"+w+"'")}}(k,y),o);d(f)}catch(w){v(w)}y=[]}).resume()})}function n(i,s,d){var v=s;switch(s){case"blob":case"arraybuffer":v="uint8array";break;case"base64":v="string"}try{this._internalType=v,this._outputType=s,this._mimeType=d,R.checkSupport(v),this._worker=i.pipe(new E(v)),i.lock()}catch(y){this._worker=new h("error"),this._worker.error(y)}}n.prototype={accumulate:function(i){return r(this,i)},on:function(i,s){var d=this;return i==="data"?this._worker.on(i,function(v){s.call(d,v.data,v.meta)}):this._worker.on(i,function(){R.delay(s,arguments,d)}),this},resume:function(){return R.delay(this._worker.resume,[],this._worker),this},pause:function(){return this._worker.pause(),this},toNodejsStream:function(i){if(R.checkSupport("nodestream"),this._outputType!=="nodebuffer")throw new Error(this._outputType+" is not supported by this method");return new e(this,{objectMode:this._outputType!=="nodebuffer"},i)}},M.exports=n},{"../base64":1,"../external":6,"../nodejs/NodejsStreamOutputAdapter":13,"../support":30,"../utils":32,"./ConvertWorker":24,"./GenericWorker":28}],30:[function(c,M,W){if(W.base64=!0,W.array=!0,W.string=!0,W.arraybuffer=typeof ArrayBuffer<"u"&&typeof Uint8Array<"u",W.nodebuffer=typeof Buffer<"u",W.uint8array=typeof Uint8Array<"u",typeof ArrayBuffer>"u")W.blob=!1;else{var R=new ArrayBuffer(0);try{W.blob=new Blob([R],{type:"application/zip"}).size===0}catch{try{var E=new(self.BlobBuilder||self.WebKitBlobBuilder||self.MozBlobBuilder||self.MSBlobBuilder);E.append(R),W.blob=E.getBlob("application/zip").size===0}catch{W.blob=!1}}}try{W.nodestream=!!c("readable-stream").Readable}catch{W.nodestream=!1}},{"readable-stream":16}],31:[function(c,M,W){for(var R=c("./utils"),E=c("./support"),h=c("./nodejsUtils"),a=c("./stream/GenericWorker"),l=new Array(256),t=0;t<256;t++)l[t]=252<=t?6:248<=t?5:240<=t?4:224<=t?3:192<=t?2:1;l[254]=l[254]=1;function e(){a.call(this,"utf-8 decode"),this.leftOver=null}function r(){a.call(this,"utf-8 encode")}W.utf8encode=function(n){return E.nodebuffer?h.newBufferFrom(n,"utf-8"):function(i){var s,d,v,y,k,p=i.length,o=0;for(y=0;y<p;y++)(64512&(d=i.charCodeAt(y)))==55296&&y+1<p&&(64512&(v=i.charCodeAt(y+1)))==56320&&(d=65536+(d-55296<<10)+(v-56320),y++),o+=d<128?1:d<2048?2:d<65536?3:4;for(s=E.uint8array?new Uint8Array(o):new Array(o),y=k=0;k<o;y++)(64512&(d=i.charCodeAt(y)))==55296&&y+1<p&&(64512&(v=i.charCodeAt(y+1)))==56320&&(d=65536+(d-55296<<10)+(v-56320),y++),d<128?s[k++]=d:(d<2048?s[k++]=192|d>>>6:(d<65536?s[k++]=224|d>>>12:(s[k++]=240|d>>>18,s[k++]=128|d>>>12&63),s[k++]=128|d>>>6&63),s[k++]=128|63&d);return s}(n)},W.utf8decode=function(n){return E.nodebuffer?R.transformTo("nodebuffer",n).toString("utf-8"):function(i){var s,d,v,y,k=i.length,p=new Array(2*k);for(s=d=0;s<k;)if((v=i[s++])<128)p[d++]=v;else if(4<(y=l[v]))p[d++]=65533,s+=y-1;else{for(v&=y===2?31:y===3?15:7;1<y&&s<k;)v=v<<6|63&i[s++],y--;1<y?p[d++]=65533:v<65536?p[d++]=v:(v-=65536,p[d++]=55296|v>>10&1023,p[d++]=56320|1023&v)}return p.length!==d&&(p.subarray?p=p.subarray(0,d):p.length=d),R.applyFromCharCode(p)}(n=R.transformTo(E.uint8array?"uint8array":"array",n))},R.inherits(e,a),e.prototype.processChunk=function(n){var i=R.transformTo(E.uint8array?"uint8array":"array",n.data);if(this.leftOver&&this.leftOver.length){if(E.uint8array){var s=i;(i=new Uint8Array(s.length+this.leftOver.length)).set(this.leftOver,0),i.set(s,this.leftOver.length)}else i=this.leftOver.concat(i);this.leftOver=null}var d=function(y,k){var p;for((k=k||y.length)>y.length&&(k=y.length),p=k-1;0<=p&&(192&y[p])==128;)p--;return p<0||p===0?k:p+l[y[p]]>k?p:k}(i),v=i;d!==i.length&&(E.uint8array?(v=i.subarray(0,d),this.leftOver=i.subarray(d,i.length)):(v=i.slice(0,d),this.leftOver=i.slice(d,i.length))),this.push({data:W.utf8decode(v),meta:n.meta})},e.prototype.flush=function(){this.leftOver&&this.leftOver.length&&(this.push({data:W.utf8decode(this.leftOver),meta:{}}),this.leftOver=null)},W.Utf8DecodeWorker=e,R.inherits(r,a),r.prototype.processChunk=function(n){this.push({data:W.utf8encode(n.data),meta:n.meta})},W.Utf8EncodeWorker=r},{"./nodejsUtils":14,"./stream/GenericWorker":28,"./support":30,"./utils":32}],32:[function(c,M,W){var R=c("./support"),E=c("./base64"),h=c("./nodejsUtils"),a=c("./external");function l(s){return s}function t(s,d){for(var v=0;v<s.length;++v)d[v]=255&s.charCodeAt(v);return d}c("setimmediate"),W.newBlob=function(s,d){W.checkSupport("blob");try{return new Blob([s],{type:d})}catch{try{var v=new(self.BlobBuilder||self.WebKitBlobBuilder||self.MozBlobBuilder||self.MSBlobBuilder);return v.append(s),v.getBlob(d)}catch{throw new Error("Bug : can't construct the Blob.")}}};var e={stringifyByChunk:function(s,d,v){var y=[],k=0,p=s.length;if(p<=v)return String.fromCharCode.apply(null,s);for(;k<p;)d==="array"||d==="nodebuffer"?y.push(String.fromCharCode.apply(null,s.slice(k,Math.min(k+v,p)))):y.push(String.fromCharCode.apply(null,s.subarray(k,Math.min(k+v,p)))),k+=v;return y.join("")},stringifyByChar:function(s){for(var d="",v=0;v<s.length;v++)d+=String.fromCharCode(s[v]);return d},applyCanBeUsed:{uint8array:function(){try{return R.uint8array&&String.fromCharCode.apply(null,new Uint8Array(1)).length===1}catch{return!1}}(),nodebuffer:function(){try{return R.nodebuffer&&String.fromCharCode.apply(null,h.allocBuffer(1)).length===1}catch{return!1}}()}};function r(s){var d=65536,v=W.getTypeOf(s),y=!0;if(v==="uint8array"?y=e.applyCanBeUsed.uint8array:v==="nodebuffer"&&(y=e.applyCanBeUsed.nodebuffer),y)for(;1<d;)try{return e.stringifyByChunk(s,v,d)}catch{d=Math.floor(d/2)}return e.stringifyByChar(s)}function n(s,d){for(var v=0;v<s.length;v++)d[v]=s[v];return d}W.applyFromCharCode=r;var i={};i.string={string:l,array:function(s){return t(s,new Array(s.length))},arraybuffer:function(s){return i.string.uint8array(s).buffer},uint8array:function(s){return t(s,new Uint8Array(s.length))},nodebuffer:function(s){return t(s,h.allocBuffer(s.length))}},i.array={string:r,array:l,arraybuffer:function(s){return new Uint8Array(s).buffer},uint8array:function(s){return new Uint8Array(s)},nodebuffer:function(s){return h.newBufferFrom(s)}},i.arraybuffer={string:function(s){return r(new Uint8Array(s))},array:function(s){return n(new Uint8Array(s),new Array(s.byteLength))},arraybuffer:l,uint8array:function(s){return new Uint8Array(s)},nodebuffer:function(s){return h.newBufferFrom(new Uint8Array(s))}},i.uint8array={string:r,array:function(s){return n(s,new Array(s.length))},arraybuffer:function(s){return s.buffer},uint8array:l,nodebuffer:function(s){return h.newBufferFrom(s)}},i.nodebuffer={string:r,array:function(s){return n(s,new Array(s.length))},arraybuffer:function(s){return i.nodebuffer.uint8array(s).buffer},uint8array:function(s){return n(s,new Uint8Array(s.length))},nodebuffer:l},W.transformTo=function(s,d){if(d=d||"",!s)return d;W.checkSupport(s);var v=W.getTypeOf(d);return i[v][s](d)},W.resolve=function(s){for(var d=s.split("/"),v=[],y=0;y<d.length;y++){var k=d[y];k==="."||k===""&&y!==0&&y!==d.length-1||(k===".."?v.pop():v.push(k))}return v.join("/")},W.getTypeOf=function(s){return typeof s=="string"?"string":Object.prototype.toString.call(s)==="[object Array]"?"array":R.nodebuffer&&h.isBuffer(s)?"nodebuffer":R.uint8array&&s instanceof Uint8Array?"uint8array":R.arraybuffer&&s instanceof ArrayBuffer?"arraybuffer":void 0},W.checkSupport=function(s){if(!R[s.toLowerCase()])throw new Error(s+" is not supported by this platform")},W.MAX_VALUE_16BITS=65535,W.MAX_VALUE_32BITS=-1,W.pretty=function(s){var d,v,y="";for(v=0;v<(s||"").length;v++)y+="\\x"+((d=s.charCodeAt(v))<16?"0":"")+d.toString(16).toUpperCase();return y},W.delay=function(s,d,v){setImmediate(function(){s.apply(v||null,d||[])})},W.inherits=function(s,d){function v(){}v.prototype=d.prototype,s.prototype=new v},W.extend=function(){var s,d,v={};for(s=0;s<arguments.length;s++)for(d in arguments[s])Object.prototype.hasOwnProperty.call(arguments[s],d)&&v[d]===void 0&&(v[d]=arguments[s][d]);return v},W.prepareContent=function(s,d,v,y,k){return a.Promise.resolve(d).then(function(p){return R.blob&&(p instanceof Blob||["[object File]","[object Blob]"].indexOf(Object.prototype.toString.call(p))!==-1)&&typeof FileReader<"u"?new a.Promise(function(o,f){var w=new FileReader;w.onload=function(g){o(g.target.result)},w.onerror=function(g){f(g.target.error)},w.readAsArrayBuffer(p)}):p}).then(function(p){var o=W.getTypeOf(p);return o?(o==="arraybuffer"?p=W.transformTo("uint8array",p):o==="string"&&(k?p=E.decode(p):v&&y!==!0&&(p=function(f){return t(f,R.uint8array?new Uint8Array(f.length):new Array(f.length))}(p))),p):a.Promise.reject(new Error("Can't read the data of '"+s+"'. Is it in a supported JavaScript type (String, Blob, ArrayBuffer, etc) ?"))})}},{"./base64":1,"./external":6,"./nodejsUtils":14,"./support":30,setimmediate:54}],33:[function(c,M,W){var R=c("./reader/readerFor"),E=c("./utils"),h=c("./signature"),a=c("./zipEntry"),l=c("./support");function t(e){this.files=[],this.loadOptions=e}t.prototype={checkSignature:function(e){if(!this.reader.readAndCheckSignature(e)){this.reader.index-=4;var r=this.reader.readString(4);throw new Error("Corrupted zip or bug: unexpected signature ("+E.pretty(r)+", expected "+E.pretty(e)+")")}},isSignature:function(e,r){var n=this.reader.index;this.reader.setIndex(e);var i=this.reader.readString(4)===r;return this.reader.setIndex(n),i},readBlockEndOfCentral:function(){this.diskNumber=this.reader.readInt(2),this.diskWithCentralDirStart=this.reader.readInt(2),this.centralDirRecordsOnThisDisk=this.reader.readInt(2),this.centralDirRecords=this.reader.readInt(2),this.centralDirSize=this.reader.readInt(4),this.centralDirOffset=this.reader.readInt(4),this.zipCommentLength=this.reader.readInt(2);var e=this.reader.readData(this.zipCommentLength),r=l.uint8array?"uint8array":"array",n=E.transformTo(r,e);this.zipComment=this.loadOptions.decodeFileName(n)},readBlockZip64EndOfCentral:function(){this.zip64EndOfCentralSize=this.reader.readInt(8),this.reader.skip(4),this.diskNumber=this.reader.readInt(4),this.diskWithCentralDirStart=this.reader.readInt(4),this.centralDirRecordsOnThisDisk=this.reader.readInt(8),this.centralDirRecords=this.reader.readInt(8),this.centralDirSize=this.reader.readInt(8),this.centralDirOffset=this.reader.readInt(8),this.zip64ExtensibleData={};for(var e,r,n,i=this.zip64EndOfCentralSize-44;0<i;)e=this.reader.readInt(2),r=this.reader.readInt(4),n=this.reader.readData(r),this.zip64ExtensibleData[e]={id:e,length:r,value:n}},readBlockZip64EndOfCentralLocator:function(){if(this.diskWithZip64CentralDirStart=this.reader.readInt(4),this.relativeOffsetEndOfZip64CentralDir=this.reader.readInt(8),this.disksCount=this.reader.readInt(4),1<this.disksCount)throw new Error("Multi-volumes zip are not supported")},readLocalFiles:function(){var e,r;for(e=0;e<this.files.length;e++)r=this.files[e],this.reader.setIndex(r.localHeaderOffset),this.checkSignature(h.LOCAL_FILE_HEADER),r.readLocalPart(this.reader),r.handleUTF8(),r.processAttributes()},readCentralDir:function(){var e;for(this.reader.setIndex(this.centralDirOffset);this.reader.readAndCheckSignature(h.CENTRAL_FILE_HEADER);)(e=new a({zip64:this.zip64},this.loadOptions)).readCentralPart(this.reader),this.files.push(e);if(this.centralDirRecords!==this.files.length&&this.centralDirRecords!==0&&this.files.length===0)throw new Error("Corrupted zip or bug: expected "+this.centralDirRecords+" records in central dir, got "+this.files.length)},readEndOfCentral:function(){var e=this.reader.lastIndexOfSignature(h.CENTRAL_DIRECTORY_END);if(e<0)throw this.isSignature(0,h.LOCAL_FILE_HEADER)?new Error("Corrupted zip: can't find end of central directory"):new Error("Can't find end of central directory : is this a zip file ? If it is, see https://stuk.github.io/jszip/documentation/howto/read_zip.html");this.reader.setIndex(e);var r=e;if(this.checkSignature(h.CENTRAL_DIRECTORY_END),this.readBlockEndOfCentral(),this.diskNumber===E.MAX_VALUE_16BITS||this.diskWithCentralDirStart===E.MAX_VALUE_16BITS||this.centralDirRecordsOnThisDisk===E.MAX_VALUE_16BITS||this.centralDirRecords===E.MAX_VALUE_16BITS||this.centralDirSize===E.MAX_VALUE_32BITS||this.centralDirOffset===E.MAX_VALUE_32BITS){if(this.zip64=!0,(e=this.reader.lastIndexOfSignature(h.ZIP64_CENTRAL_DIRECTORY_LOCATOR))<0)throw new Error("Corrupted zip: can't find the ZIP64 end of central directory locator");if(this.reader.setIndex(e),this.checkSignature(h.ZIP64_CENTRAL_DIRECTORY_LOCATOR),this.readBlockZip64EndOfCentralLocator(),!this.isSignature(this.relativeOffsetEndOfZip64CentralDir,h.ZIP64_CENTRAL_DIRECTORY_END)&&(this.relativeOffsetEndOfZip64CentralDir=this.reader.lastIndexOfSignature(h.ZIP64_CENTRAL_DIRECTORY_END),this.relativeOffsetEndOfZip64CentralDir<0))throw new Error("Corrupted zip: can't find the ZIP64 end of central directory");this.reader.setIndex(this.relativeOffsetEndOfZip64CentralDir),this.checkSignature(h.ZIP64_CENTRAL_DIRECTORY_END),this.readBlockZip64EndOfCentral()}var n=this.centralDirOffset+this.centralDirSize;this.zip64&&(n+=20,n+=12+this.zip64EndOfCentralSize);var i=r-n;if(0<i)this.isSignature(r,h.CENTRAL_FILE_HEADER)||(this.reader.zero=i);else if(i<0)throw new Error("Corrupted zip: missing "+Math.abs(i)+" bytes.")},prepareReader:function(e){this.reader=R(e)},load:function(e){this.prepareReader(e),this.readEndOfCentral(),this.readCentralDir(),this.readLocalFiles()}},M.exports=t},{"./reader/readerFor":22,"./signature":23,"./support":30,"./utils":32,"./zipEntry":34}],34:[function(c,M,W){var R=c("./reader/readerFor"),E=c("./utils"),h=c("./compressedObject"),a=c("./crc32"),l=c("./utf8"),t=c("./compressions"),e=c("./support");function r(n,i){this.options=n,this.loadOptions=i}r.prototype={isEncrypted:function(){return(1&this.bitFlag)==1},useUTF8:function(){return(2048&this.bitFlag)==2048},readLocalPart:function(n){var i,s;if(n.skip(22),this.fileNameLength=n.readInt(2),s=n.readInt(2),this.fileName=n.readData(this.fileNameLength),n.skip(s),this.compressedSize===-1||this.uncompressedSize===-1)throw new Error("Bug or corrupted zip : didn't get enough information from the central directory (compressedSize === -1 || uncompressedSize === -1)");if((i=function(d){for(var v in t)if(Object.prototype.hasOwnProperty.call(t,v)&&t[v].magic===d)return t[v];return null}(this.compressionMethod))===null)throw new Error("Corrupted zip : compression "+E.pretty(this.compressionMethod)+" unknown (inner file : "+E.transformTo("string",this.fileName)+")");this.decompressed=new h(this.compressedSize,this.uncompressedSize,this.crc32,i,n.readData(this.compressedSize))},readCentralPart:function(n){this.versionMadeBy=n.readInt(2),n.skip(2),this.bitFlag=n.readInt(2),this.compressionMethod=n.readString(2),this.date=n.readDate(),this.crc32=n.readInt(4),this.compressedSize=n.readInt(4),this.uncompressedSize=n.readInt(4);var i=n.readInt(2);if(this.extraFieldsLength=n.readInt(2),this.fileCommentLength=n.readInt(2),this.diskNumberStart=n.readInt(2),this.internalFileAttributes=n.readInt(2),this.externalFileAttributes=n.readInt(4),this.localHeaderOffset=n.readInt(4),this.isEncrypted())throw new Error("Encrypted zip are not supported");n.skip(i),this.readExtraFields(n),this.parseZIP64ExtraField(n),this.fileComment=n.readData(this.fileCommentLength)},processAttributes:function(){this.unixPermissions=null,this.dosPermissions=null;var n=this.versionMadeBy>>8;this.dir=!!(16&this.externalFileAttributes),n==0&&(this.dosPermissions=63&this.externalFileAttributes),n==3&&(this.unixPermissions=this.externalFileAttributes>>16&65535),this.dir||this.fileNameStr.slice(-1)!=="/"||(this.dir=!0)},parseZIP64ExtraField:function(){if(this.extraFields[1]){var n=R(this.extraFields[1].value);this.uncompressedSize===E.MAX_VALUE_32BITS&&(this.uncompressedSize=n.readInt(8)),this.compressedSize===E.MAX_VALUE_32BITS&&(this.compressedSize=n.readInt(8)),this.localHeaderOffset===E.MAX_VALUE_32BITS&&(this.localHeaderOffset=n.readInt(8)),this.diskNumberStart===E.MAX_VALUE_32BITS&&(this.diskNumberStart=n.readInt(4))}},readExtraFields:function(n){var i,s,d,v=n.index+this.extraFieldsLength;for(this.extraFields||(this.extraFields={});n.index+4<v;)i=n.readInt(2),s=n.readInt(2),d=n.readData(s),this.extraFields[i]={id:i,length:s,value:d};n.setIndex(v)},handleUTF8:function(){var n=e.uint8array?"uint8array":"array";if(this.useUTF8())this.fileNameStr=l.utf8decode(this.fileName),this.fileCommentStr=l.utf8decode(this.fileComment);else{var i=this.findExtraFieldUnicodePath();if(i!==null)this.fileNameStr=i;else{var s=E.transformTo(n,this.fileName);this.fileNameStr=this.loadOptions.decodeFileName(s)}var d=this.findExtraFieldUnicodeComment();if(d!==null)this.fileCommentStr=d;else{var v=E.transformTo(n,this.fileComment);this.fileCommentStr=this.loadOptions.decodeFileName(v)}}},findExtraFieldUnicodePath:function(){var n=this.extraFields[28789];if(n){var i=R(n.value);return i.readInt(1)!==1||a(this.fileName)!==i.readInt(4)?null:l.utf8decode(i.readData(n.length-5))}return null},findExtraFieldUnicodeComment:function(){var n=this.extraFields[25461];if(n){var i=R(n.value);return i.readInt(1)!==1||a(this.fileComment)!==i.readInt(4)?null:l.utf8decode(i.readData(n.length-5))}return null}},M.exports=r},{"./compressedObject":2,"./compressions":3,"./crc32":4,"./reader/readerFor":22,"./support":30,"./utf8":31,"./utils":32}],35:[function(c,M,W){function R(i,s,d){this.name=i,this.dir=d.dir,this.date=d.date,this.comment=d.comment,this.unixPermissions=d.unixPermissions,this.dosPermissions=d.dosPermissions,this._data=s,this._dataBinary=d.binary,this.options={compression:d.compression,compressionOptions:d.compressionOptions}}var E=c("./stream/StreamHelper"),h=c("./stream/DataWorker"),a=c("./utf8"),l=c("./compressedObject"),t=c("./stream/GenericWorker");R.prototype={internalStream:function(i){var s=null,d="string";try{if(!i)throw new Error("No output type specified.");var v=(d=i.toLowerCase())==="string"||d==="text";d!=="binarystring"&&d!=="text"||(d="string"),s=this._decompressWorker();var y=!this._dataBinary;y&&!v&&(s=s.pipe(new a.Utf8EncodeWorker)),!y&&v&&(s=s.pipe(new a.Utf8DecodeWorker))}catch(k){(s=new t("error")).error(k)}return new E(s,d,"")},async:function(i,s){return this.internalStream(i).accumulate(s)},nodeStream:function(i,s){return this.internalStream(i||"nodebuffer").toNodejsStream(s)},_compressWorker:function(i,s){if(this._data instanceof l&&this._data.compression.magic===i.magic)return this._data.getCompressedWorker();var d=this._decompressWorker();return this._dataBinary||(d=d.pipe(new a.Utf8EncodeWorker)),l.createWorkerFrom(d,i,s)},_decompressWorker:function(){return this._data instanceof l?this._data.getContentWorker():this._data instanceof t?this._data:new h(this._data)}};for(var e=["asText","asBinary","asNodeBuffer","asUint8Array","asArrayBuffer"],r=function(){throw new Error("This method has been removed in JSZip 3.0, please check the upgrade guide.")},n=0;n<e.length;n++)R.prototype[e[n]]=r;M.exports=R},{"./compressedObject":2,"./stream/DataWorker":27,"./stream/GenericWorker":28,"./stream/StreamHelper":29,"./utf8":31}],36:[function(c,M,W){(function(R){var E,h,a=R.MutationObserver||R.WebKitMutationObserver;if(a){var l=0,t=new a(i),e=R.document.createTextNode("");t.observe(e,{characterData:!0}),E=function(){e.data=l=++l%2}}else if(R.setImmediate||R.MessageChannel===void 0)E="document"in R&&"onreadystatechange"in R.document.createElement("script")?function(){var s=R.document.createElement("script");s.onreadystatechange=function(){i(),s.onreadystatechange=null,s.parentNode.removeChild(s),s=null},R.document.documentElement.appendChild(s)}:function(){setTimeout(i,0)};else{var r=new R.MessageChannel;r.port1.onmessage=i,E=function(){r.port2.postMessage(0)}}var n=[];function i(){var s,d;h=!0;for(var v=n.length;v;){for(d=n,n=[],s=-1;++s<v;)d[s]();v=n.length}h=!1}M.exports=function(s){n.push(s)!==1||h||E()}}).call(this,typeof jr<"u"?jr:typeof self<"u"?self:typeof window<"u"?window:{})},{}],37:[function(c,M,W){var R=c("immediate");function E(){}var h={},a=["REJECTED"],l=["FULFILLED"],t=["PENDING"];function e(v){if(typeof v!="function")throw new TypeError("resolver must be a function");this.state=t,this.queue=[],this.outcome=void 0,v!==E&&s(this,v)}function r(v,y,k){this.promise=v,typeof y=="function"&&(this.onFulfilled=y,this.callFulfilled=this.otherCallFulfilled),typeof k=="function"&&(this.onRejected=k,this.callRejected=this.otherCallRejected)}function n(v,y,k){R(function(){var p;try{p=y(k)}catch(o){return h.reject(v,o)}p===v?h.reject(v,new TypeError("Cannot resolve promise with itself")):h.resolve(v,p)})}function i(v){var y=v&&v.then;if(v&&(typeof v=="object"||typeof v=="function")&&typeof y=="function")return function(){y.apply(v,arguments)}}function s(v,y){var k=!1;function p(w){k||(k=!0,h.reject(v,w))}function o(w){k||(k=!0,h.resolve(v,w))}var f=d(function(){y(o,p)});f.status==="error"&&p(f.value)}function d(v,y){var k={};try{k.value=v(y),k.status="success"}catch(p){k.status="error",k.value=p}return k}(M.exports=e).prototype.finally=function(v){if(typeof v!="function")return this;var y=this.constructor;return this.then(function(k){return y.resolve(v()).then(function(){return k})},function(k){return y.resolve(v()).then(function(){throw k})})},e.prototype.catch=function(v){return this.then(null,v)},e.prototype.then=function(v,y){if(typeof v!="function"&&this.state===l||typeof y!="function"&&this.state===a)return this;var k=new this.constructor(E);return this.state!==t?n(k,this.state===l?v:y,this.outcome):this.queue.push(new r(k,v,y)),k},r.prototype.callFulfilled=function(v){h.resolve(this.promise,v)},r.prototype.otherCallFulfilled=function(v){n(this.promise,this.onFulfilled,v)},r.prototype.callRejected=function(v){h.reject(this.promise,v)},r.prototype.otherCallRejected=function(v){n(this.promise,this.onRejected,v)},h.resolve=function(v,y){var k=d(i,y);if(k.status==="error")return h.reject(v,k.value);var p=k.value;if(p)s(v,p);else{v.state=l,v.outcome=y;for(var o=-1,f=v.queue.length;++o<f;)v.queue[o].callFulfilled(y)}return v},h.reject=function(v,y){v.state=a,v.outcome=y;for(var k=-1,p=v.queue.length;++k<p;)v.queue[k].callRejected(y);return v},e.resolve=function(v){return v instanceof this?v:h.resolve(new this(E),v)},e.reject=function(v){var y=new this(E);return h.reject(y,v)},e.all=function(v){var y=this;if(Object.prototype.toString.call(v)!=="[object Array]")return this.reject(new TypeError("must be an array"));var k=v.length,p=!1;if(!k)return this.resolve([]);for(var o=new Array(k),f=0,w=-1,g=new this(E);++w<k;)m(v[w],w);return g;function m(u,F){y.resolve(u).then(function(S){o[F]=S,++f!==k||p||(p=!0,h.resolve(g,o))},function(S){p||(p=!0,h.reject(g,S))})}},e.race=function(v){var y=this;if(Object.prototype.toString.call(v)!=="[object Array]")return this.reject(new TypeError("must be an array"));var k=v.length,p=!1;if(!k)return this.resolve([]);for(var o=-1,f=new this(E);++o<k;)w=v[o],y.resolve(w).then(function(g){p||(p=!0,h.resolve(f,g))},function(g){p||(p=!0,h.reject(f,g))});var w;return f}},{immediate:36}],38:[function(c,M,W){var R={};(0,c("./lib/utils/common").assign)(R,c("./lib/deflate"),c("./lib/inflate"),c("./lib/zlib/constants")),M.exports=R},{"./lib/deflate":39,"./lib/inflate":40,"./lib/utils/common":41,"./lib/zlib/constants":44}],39:[function(c,M,W){var R=c("./zlib/deflate"),E=c("./utils/common"),h=c("./utils/strings"),a=c("./zlib/messages"),l=c("./zlib/zstream"),t=Object.prototype.toString,e=0,r=-1,n=0,i=8;function s(v){if(!(this instanceof s))return new s(v);this.options=E.assign({level:r,method:i,chunkSize:16384,windowBits:15,memLevel:8,strategy:n,to:""},v||{});var y=this.options;y.raw&&0<y.windowBits?y.windowBits=-y.windowBits:y.gzip&&0<y.windowBits&&y.windowBits<16&&(y.windowBits+=16),this.err=0,this.msg="",this.ended=!1,this.chunks=[],this.strm=new l,this.strm.avail_out=0;var k=R.deflateInit2(this.strm,y.level,y.method,y.windowBits,y.memLevel,y.strategy);if(k!==e)throw new Error(a[k]);if(y.header&&R.deflateSetHeader(this.strm,y.header),y.dictionary){var p;if(p=typeof y.dictionary=="string"?h.string2buf(y.dictionary):t.call(y.dictionary)==="[object ArrayBuffer]"?new Uint8Array(y.dictionary):y.dictionary,(k=R.deflateSetDictionary(this.strm,p))!==e)throw new Error(a[k]);this._dict_set=!0}}function d(v,y){var k=new s(y);if(k.push(v,!0),k.err)throw k.msg||a[k.err];return k.result}s.prototype.push=function(v,y){var k,p,o=this.strm,f=this.options.chunkSize;if(this.ended)return!1;p=y===~~y?y:y===!0?4:0,typeof v=="string"?o.input=h.string2buf(v):t.call(v)==="[object ArrayBuffer]"?o.input=new Uint8Array(v):o.input=v,o.next_in=0,o.avail_in=o.input.length;do{if(o.avail_out===0&&(o.output=new E.Buf8(f),o.next_out=0,o.avail_out=f),(k=R.deflate(o,p))!==1&&k!==e)return this.onEnd(k),!(this.ended=!0);o.avail_out!==0&&(o.avail_in!==0||p!==4&&p!==2)||(this.options.to==="string"?this.onData(h.buf2binstring(E.shrinkBuf(o.output,o.next_out))):this.onData(E.shrinkBuf(o.output,o.next_out)))}while((0<o.avail_in||o.avail_out===0)&&k!==1);return p===4?(k=R.deflateEnd(this.strm),this.onEnd(k),this.ended=!0,k===e):p!==2||(this.onEnd(e),!(o.avail_out=0))},s.prototype.onData=function(v){this.chunks.push(v)},s.prototype.onEnd=function(v){v===e&&(this.options.to==="string"?this.result=this.chunks.join(""):this.result=E.flattenChunks(this.chunks)),this.chunks=[],this.err=v,this.msg=this.strm.msg},W.Deflate=s,W.deflate=d,W.deflateRaw=function(v,y){return(y=y||{}).raw=!0,d(v,y)},W.gzip=function(v,y){return(y=y||{}).gzip=!0,d(v,y)}},{"./utils/common":41,"./utils/strings":42,"./zlib/deflate":46,"./zlib/messages":51,"./zlib/zstream":53}],40:[function(c,M,W){var R=c("./zlib/inflate"),E=c("./utils/common"),h=c("./utils/strings"),a=c("./zlib/constants"),l=c("./zlib/messages"),t=c("./zlib/zstream"),e=c("./zlib/gzheader"),r=Object.prototype.toString;function n(s){if(!(this instanceof n))return new n(s);this.options=E.assign({chunkSize:16384,windowBits:0,to:""},s||{});var d=this.options;d.raw&&0<=d.windowBits&&d.windowBits<16&&(d.windowBits=-d.windowBits,d.windowBits===0&&(d.windowBits=-15)),!(0<=d.windowBits&&d.windowBits<16)||s&&s.windowBits||(d.windowBits+=32),15<d.windowBits&&d.windowBits<48&&!(15&d.windowBits)&&(d.windowBits|=15),this.err=0,this.msg="",this.ended=!1,this.chunks=[],this.strm=new t,this.strm.avail_out=0;var v=R.inflateInit2(this.strm,d.windowBits);if(v!==a.Z_OK)throw new Error(l[v]);this.header=new e,R.inflateGetHeader(this.strm,this.header)}function i(s,d){var v=new n(d);if(v.push(s,!0),v.err)throw v.msg||l[v.err];return v.result}n.prototype.push=function(s,d){var v,y,k,p,o,f,w=this.strm,g=this.options.chunkSize,m=this.options.dictionary,u=!1;if(this.ended)return!1;y=d===~~d?d:d===!0?a.Z_FINISH:a.Z_NO_FLUSH,typeof s=="string"?w.input=h.binstring2buf(s):r.call(s)==="[object ArrayBuffer]"?w.input=new Uint8Array(s):w.input=s,w.next_in=0,w.avail_in=w.input.length;do{if(w.avail_out===0&&(w.output=new E.Buf8(g),w.next_out=0,w.avail_out=g),(v=R.inflate(w,a.Z_NO_FLUSH))===a.Z_NEED_DICT&&m&&(f=typeof m=="string"?h.string2buf(m):r.call(m)==="[object ArrayBuffer]"?new Uint8Array(m):m,v=R.inflateSetDictionary(this.strm,f)),v===a.Z_BUF_ERROR&&u===!0&&(v=a.Z_OK,u=!1),v!==a.Z_STREAM_END&&v!==a.Z_OK)return this.onEnd(v),!(this.ended=!0);w.next_out&&(w.avail_out!==0&&v!==a.Z_STREAM_END&&(w.avail_in!==0||y!==a.Z_FINISH&&y!==a.Z_SYNC_FLUSH)||(this.options.to==="string"?(k=h.utf8border(w.output,w.next_out),p=w.next_out-k,o=h.buf2string(w.output,k),w.next_out=p,w.avail_out=g-p,p&&E.arraySet(w.output,w.output,k,p,0),this.onData(o)):this.onData(E.shrinkBuf(w.output,w.next_out)))),w.avail_in===0&&w.avail_out===0&&(u=!0)}while((0<w.avail_in||w.avail_out===0)&&v!==a.Z_STREAM_END);return v===a.Z_STREAM_END&&(y=a.Z_FINISH),y===a.Z_FINISH?(v=R.inflateEnd(this.strm),this.onEnd(v),this.ended=!0,v===a.Z_OK):y!==a.Z_SYNC_FLUSH||(this.onEnd(a.Z_OK),!(w.avail_out=0))},n.prototype.onData=function(s){this.chunks.push(s)},n.prototype.onEnd=function(s){s===a.Z_OK&&(this.options.to==="string"?this.result=this.chunks.join(""):this.result=E.flattenChunks(this.chunks)),this.chunks=[],this.err=s,this.msg=this.strm.msg},W.Inflate=n,W.inflate=i,W.inflateRaw=function(s,d){return(d=d||{}).raw=!0,i(s,d)},W.ungzip=i},{"./utils/common":41,"./utils/strings":42,"./zlib/constants":44,"./zlib/gzheader":47,"./zlib/inflate":49,"./zlib/messages":51,"./zlib/zstream":53}],41:[function(c,M,W){var R=typeof Uint8Array<"u"&&typeof Uint16Array<"u"&&typeof Int32Array<"u";W.assign=function(a){for(var l=Array.prototype.slice.call(arguments,1);l.length;){var t=l.shift();if(t){if(typeof t!="object")throw new TypeError(t+"must be non-object");for(var e in t)t.hasOwnProperty(e)&&(a[e]=t[e])}}return a},W.shrinkBuf=function(a,l){return a.length===l?a:a.subarray?a.subarray(0,l):(a.length=l,a)};var E={arraySet:function(a,l,t,e,r){if(l.subarray&&a.subarray)a.set(l.subarray(t,t+e),r);else for(var n=0;n<e;n++)a[r+n]=l[t+n]},flattenChunks:function(a){var l,t,e,r,n,i;for(l=e=0,t=a.length;l<t;l++)e+=a[l].length;for(i=new Uint8Array(e),l=r=0,t=a.length;l<t;l++)n=a[l],i.set(n,r),r+=n.length;return i}},h={arraySet:function(a,l,t,e,r){for(var n=0;n<e;n++)a[r+n]=l[t+n]},flattenChunks:function(a){return[].concat.apply([],a)}};W.setTyped=function(a){a?(W.Buf8=Uint8Array,W.Buf16=Uint16Array,W.Buf32=Int32Array,W.assign(W,E)):(W.Buf8=Array,W.Buf16=Array,W.Buf32=Array,W.assign(W,h))},W.setTyped(R)},{}],42:[function(c,M,W){var R=c("./common"),E=!0,h=!0;try{String.fromCharCode.apply(null,[0])}catch{E=!1}try{String.fromCharCode.apply(null,new Uint8Array(1))}catch{h=!1}for(var a=new R.Buf8(256),l=0;l<256;l++)a[l]=252<=l?6:248<=l?5:240<=l?4:224<=l?3:192<=l?2:1;function t(e,r){if(r<65537&&(e.subarray&&h||!e.subarray&&E))return String.fromCharCode.apply(null,R.shrinkBuf(e,r));for(var n="",i=0;i<r;i++)n+=String.fromCharCode(e[i]);return n}a[254]=a[254]=1,W.string2buf=function(e){var r,n,i,s,d,v=e.length,y=0;for(s=0;s<v;s++)(64512&(n=e.charCodeAt(s)))==55296&&s+1<v&&(64512&(i=e.charCodeAt(s+1)))==56320&&(n=65536+(n-55296<<10)+(i-56320),s++),y+=n<128?1:n<2048?2:n<65536?3:4;for(r=new R.Buf8(y),s=d=0;d<y;s++)(64512&(n=e.charCodeAt(s)))==55296&&s+1<v&&(64512&(i=e.charCodeAt(s+1)))==56320&&(n=65536+(n-55296<<10)+(i-56320),s++),n<128?r[d++]=n:(n<2048?r[d++]=192|n>>>6:(n<65536?r[d++]=224|n>>>12:(r[d++]=240|n>>>18,r[d++]=128|n>>>12&63),r[d++]=128|n>>>6&63),r[d++]=128|63&n);return r},W.buf2binstring=function(e){return t(e,e.length)},W.binstring2buf=function(e){for(var r=new R.Buf8(e.length),n=0,i=r.length;n<i;n++)r[n]=e.charCodeAt(n);return r},W.buf2string=function(e,r){var n,i,s,d,v=r||e.length,y=new Array(2*v);for(n=i=0;n<v;)if((s=e[n++])<128)y[i++]=s;else if(4<(d=a[s]))y[i++]=65533,n+=d-1;else{for(s&=d===2?31:d===3?15:7;1<d&&n<v;)s=s<<6|63&e[n++],d--;1<d?y[i++]=65533:s<65536?y[i++]=s:(s-=65536,y[i++]=55296|s>>10&1023,y[i++]=56320|1023&s)}return t(y,i)},W.utf8border=function(e,r){var n;for((r=r||e.length)>e.length&&(r=e.length),n=r-1;0<=n&&(192&e[n])==128;)n--;return n<0||n===0?r:n+a[e[n]]>r?n:r}},{"./common":41}],43:[function(c,M,W){M.exports=function(R,E,h,a){for(var l=65535&R|0,t=R>>>16&65535|0,e=0;h!==0;){for(h-=e=2e3<h?2e3:h;t=t+(l=l+E[a++]|0)|0,--e;);l%=65521,t%=65521}return l|t<<16|0}},{}],44:[function(c,M,W){M.exports={Z_NO_FLUSH:0,Z_PARTIAL_FLUSH:1,Z_SYNC_FLUSH:2,Z_FULL_FLUSH:3,Z_FINISH:4,Z_BLOCK:5,Z_TREES:6,Z_OK:0,Z_STREAM_END:1,Z_NEED_DICT:2,Z_ERRNO:-1,Z_STREAM_ERROR:-2,Z_DATA_ERROR:-3,Z_BUF_ERROR:-5,Z_NO_COMPRESSION:0,Z_BEST_SPEED:1,Z_BEST_COMPRESSION:9,Z_DEFAULT_COMPRESSION:-1,Z_FILTERED:1,Z_HUFFMAN_ONLY:2,Z_RLE:3,Z_FIXED:4,Z_DEFAULT_STRATEGY:0,Z_BINARY:0,Z_TEXT:1,Z_UNKNOWN:2,Z_DEFLATED:8}},{}],45:[function(c,M,W){var R=function(){for(var E,h=[],a=0;a<256;a++){E=a;for(var l=0;l<8;l++)E=1&E?3988292384^E>>>1:E>>>1;h[a]=E}return h}();M.exports=function(E,h,a,l){var t=R,e=l+a;E^=-1;for(var r=l;r<e;r++)E=E>>>8^t[255&(E^h[r])];return-1^E}},{}],46:[function(c,M,W){var R,E=c("../utils/common"),h=c("./trees"),a=c("./adler32"),l=c("./crc32"),t=c("./messages"),e=0,r=4,n=0,i=-2,s=-1,d=4,v=2,y=8,k=9,p=286,o=30,f=19,w=2*p+1,g=15,m=3,u=258,F=u+m+1,S=42,L=113,A=1,P=2,H=3,j=4;function le(O,Ee){return O.msg=t[Ee],Ee}function q(O){return(O<<1)-(4<O?9:0)}function ue(O){for(var Ee=O.length;0<=--Ee;)O[Ee]=0}function J(O){var Ee=O.state,be=Ee.pending;be>O.avail_out&&(be=O.avail_out),be!==0&&(E.arraySet(O.output,Ee.pending_buf,Ee.pending_out,be,O.next_out),O.next_out+=be,Ee.pending_out+=be,O.total_out+=be,O.avail_out-=be,Ee.pending-=be,Ee.pending===0&&(Ee.pending_out=0))}function ee(O,Ee){h._tr_flush_block(O,0<=O.block_start?O.block_start:-1,O.strstart-O.block_start,Ee),O.block_start=O.strstart,J(O.strm)}function ie(O,Ee){O.pending_buf[O.pending++]=Ee}function me(O,Ee){O.pending_buf[O.pending++]=Ee>>>8&255,O.pending_buf[O.pending++]=255&Ee}function de(O,Ee){var be,te,Z=O.max_chain_length,Q=O.strstart,we=O.prev_length,he=O.nice_match,ae=O.strstart>O.w_size-F?O.strstart-(O.w_size-F):0,Se=O.window,pe=O.w_mask,ke=O.prev,Pe=O.strstart+u,Ue=Se[Q+we-1],ze=Se[Q+we];O.prev_length>=O.good_match&&(Z>>=2),he>O.lookahead&&(he=O.lookahead);do if(Se[(be=Ee)+we]===ze&&Se[be+we-1]===Ue&&Se[be]===Se[Q]&&Se[++be]===Se[Q+1]){Q+=2,be++;do;while(Se[++Q]===Se[++be]&&Se[++Q]===Se[++be]&&Se[++Q]===Se[++be]&&Se[++Q]===Se[++be]&&Se[++Q]===Se[++be]&&Se[++Q]===Se[++be]&&Se[++Q]===Se[++be]&&Se[++Q]===Se[++be]&&Q<Pe);if(te=u-(Pe-Q),Q=Pe-u,we<te){if(O.match_start=Ee,he<=(we=te))break;Ue=Se[Q+we-1],ze=Se[Q+we]}}while((Ee=ke[Ee&pe])>ae&&--Z!=0);return we<=O.lookahead?we:O.lookahead}function Ce(O){var Ee,be,te,Z,Q,we,he,ae,Se,pe,ke=O.w_size;do{if(Z=O.window_size-O.lookahead-O.strstart,O.strstart>=ke+(ke-F)){for(E.arraySet(O.window,O.window,ke,ke,0),O.match_start-=ke,O.strstart-=ke,O.block_start-=ke,Ee=be=O.hash_size;te=O.head[--Ee],O.head[Ee]=ke<=te?te-ke:0,--be;);for(Ee=be=ke;te=O.prev[--Ee],O.prev[Ee]=ke<=te?te-ke:0,--be;);Z+=ke}if(O.strm.avail_in===0)break;if(we=O.strm,he=O.window,ae=O.strstart+O.lookahead,Se=Z,pe=void 0,pe=we.avail_in,Se<pe&&(pe=Se),be=pe===0?0:(we.avail_in-=pe,E.arraySet(he,we.input,we.next_in,pe,ae),we.state.wrap===1?we.adler=a(we.adler,he,pe,ae):we.state.wrap===2&&(we.adler=l(we.adler,he,pe,ae)),we.next_in+=pe,we.total_in+=pe,pe),O.lookahead+=be,O.lookahead+O.insert>=m)for(Q=O.strstart-O.insert,O.ins_h=O.window[Q],O.ins_h=(O.ins_h<<O.hash_shift^O.window[Q+1])&O.hash_mask;O.insert&&(O.ins_h=(O.ins_h<<O.hash_shift^O.window[Q+m-1])&O.hash_mask,O.prev[Q&O.w_mask]=O.head[O.ins_h],O.head[O.ins_h]=Q,Q++,O.insert--,!(O.lookahead+O.insert<m)););}while(O.lookahead<F&&O.strm.avail_in!==0)}function Fe(O,Ee){for(var be,te;;){if(O.lookahead<F){if(Ce(O),O.lookahead<F&&Ee===e)return A;if(O.lookahead===0)break}if(be=0,O.lookahead>=m&&(O.ins_h=(O.ins_h<<O.hash_shift^O.window[O.strstart+m-1])&O.hash_mask,be=O.prev[O.strstart&O.w_mask]=O.head[O.ins_h],O.head[O.ins_h]=O.strstart),be!==0&&O.strstart-be<=O.w_size-F&&(O.match_length=de(O,be)),O.match_length>=m)if(te=h._tr_tally(O,O.strstart-O.match_start,O.match_length-m),O.lookahead-=O.match_length,O.match_length<=O.max_lazy_match&&O.lookahead>=m){for(O.match_length--;O.strstart++,O.ins_h=(O.ins_h<<O.hash_shift^O.window[O.strstart+m-1])&O.hash_mask,be=O.prev[O.strstart&O.w_mask]=O.head[O.ins_h],O.head[O.ins_h]=O.strstart,--O.match_length!=0;);O.strstart++}else O.strstart+=O.match_length,O.match_length=0,O.ins_h=O.window[O.strstart],O.ins_h=(O.ins_h<<O.hash_shift^O.window[O.strstart+1])&O.hash_mask;else te=h._tr_tally(O,0,O.window[O.strstart]),O.lookahead--,O.strstart++;if(te&&(ee(O,!1),O.strm.avail_out===0))return A}return O.insert=O.strstart<m-1?O.strstart:m-1,Ee===r?(ee(O,!0),O.strm.avail_out===0?H:j):O.last_lit&&(ee(O,!1),O.strm.avail_out===0)?A:P}function Te(O,Ee){for(var be,te,Z;;){if(O.lookahead<F){if(Ce(O),O.lookahead<F&&Ee===e)return A;if(O.lookahead===0)break}if(be=0,O.lookahead>=m&&(O.ins_h=(O.ins_h<<O.hash_shift^O.window[O.strstart+m-1])&O.hash_mask,be=O.prev[O.strstart&O.w_mask]=O.head[O.ins_h],O.head[O.ins_h]=O.strstart),O.prev_length=O.match_length,O.prev_match=O.match_start,O.match_length=m-1,be!==0&&O.prev_length<O.max_lazy_match&&O.strstart-be<=O.w_size-F&&(O.match_length=de(O,be),O.match_length<=5&&(O.strategy===1||O.match_length===m&&4096<O.strstart-O.match_start)&&(O.match_length=m-1)),O.prev_length>=m&&O.match_length<=O.prev_length){for(Z=O.strstart+O.lookahead-m,te=h._tr_tally(O,O.strstart-1-O.prev_match,O.prev_length-m),O.lookahead-=O.prev_length-1,O.prev_length-=2;++O.strstart<=Z&&(O.ins_h=(O.ins_h<<O.hash_shift^O.window[O.strstart+m-1])&O.hash_mask,be=O.prev[O.strstart&O.w_mask]=O.head[O.ins_h],O.head[O.ins_h]=O.strstart),--O.prev_length!=0;);if(O.match_available=0,O.match_length=m-1,O.strstart++,te&&(ee(O,!1),O.strm.avail_out===0))return A}else if(O.match_available){if((te=h._tr_tally(O,0,O.window[O.strstart-1]))&&ee(O,!1),O.strstart++,O.lookahead--,O.strm.avail_out===0)return A}else O.match_available=1,O.strstart++,O.lookahead--}return O.match_available&&(te=h._tr_tally(O,0,O.window[O.strstart-1]),O.match_available=0),O.insert=O.strstart<m-1?O.strstart:m-1,Ee===r?(ee(O,!0),O.strm.avail_out===0?H:j):O.last_lit&&(ee(O,!1),O.strm.avail_out===0)?A:P}function Be(O,Ee,be,te,Z){this.good_length=O,this.max_lazy=Ee,this.nice_length=be,this.max_chain=te,this.func=Z}function Me(){this.strm=null,this.status=0,this.pending_buf=null,this.pending_buf_size=0,this.pending_out=0,this.pending=0,this.wrap=0,this.gzhead=null,this.gzindex=0,this.method=y,this.last_flush=-1,this.w_size=0,this.w_bits=0,this.w_mask=0,this.window=null,this.window_size=0,this.prev=null,this.head=null,this.ins_h=0,this.hash_size=0,this.hash_bits=0,this.hash_mask=0,this.hash_shift=0,this.block_start=0,this.match_length=0,this.prev_match=0,this.match_available=0,this.strstart=0,this.match_start=0,this.lookahead=0,this.prev_length=0,this.max_chain_length=0,this.max_lazy_match=0,this.level=0,this.strategy=0,this.good_match=0,this.nice_match=0,this.dyn_ltree=new E.Buf16(2*w),this.dyn_dtree=new E.Buf16(2*(2*o+1)),this.bl_tree=new E.Buf16(2*(2*f+1)),ue(this.dyn_ltree),ue(this.dyn_dtree),ue(this.bl_tree),this.l_desc=null,this.d_desc=null,this.bl_desc=null,this.bl_count=new E.Buf16(g+1),this.heap=new E.Buf16(2*p+1),ue(this.heap),this.heap_len=0,this.heap_max=0,this.depth=new E.Buf16(2*p+1),ue(this.depth),this.l_buf=0,this.lit_bufsize=0,this.last_lit=0,this.d_buf=0,this.opt_len=0,this.static_len=0,this.matches=0,this.insert=0,this.bi_buf=0,this.bi_valid=0}function He(O){var Ee;return O&&O.state?(O.total_in=O.total_out=0,O.data_type=v,(Ee=O.state).pending=0,Ee.pending_out=0,Ee.wrap<0&&(Ee.wrap=-Ee.wrap),Ee.status=Ee.wrap?S:L,O.adler=Ee.wrap===2?0:1,Ee.last_flush=e,h._tr_init(Ee),n):le(O,i)}function qe(O){var Ee=He(O);return Ee===n&&function(be){be.window_size=2*be.w_size,ue(be.head),be.max_lazy_match=R[be.level].max_lazy,be.good_match=R[be.level].good_length,be.nice_match=R[be.level].nice_length,be.max_chain_length=R[be.level].max_chain,be.strstart=0,be.block_start=0,be.lookahead=0,be.insert=0,be.match_length=be.prev_length=m-1,be.match_available=0,be.ins_h=0}(O.state),Ee}function Qe(O,Ee,be,te,Z,Q){if(!O)return i;var we=1;if(Ee===s&&(Ee=6),te<0?(we=0,te=-te):15<te&&(we=2,te-=16),Z<1||k<Z||be!==y||te<8||15<te||Ee<0||9<Ee||Q<0||d<Q)return le(O,i);te===8&&(te=9);var he=new Me;return(O.state=he).strm=O,he.wrap=we,he.gzhead=null,he.w_bits=te,he.w_size=1<<he.w_bits,he.w_mask=he.w_size-1,he.hash_bits=Z+7,he.hash_size=1<<he.hash_bits,he.hash_mask=he.hash_size-1,he.hash_shift=~~((he.hash_bits+m-1)/m),he.window=new E.Buf8(2*he.w_size),he.head=new E.Buf16(he.hash_size),he.prev=new E.Buf16(he.w_size),he.lit_bufsize=1<<Z+6,he.pending_buf_size=4*he.lit_bufsize,he.pending_buf=new E.Buf8(he.pending_buf_size),he.d_buf=1*he.lit_bufsize,he.l_buf=3*he.lit_bufsize,he.level=Ee,he.strategy=Q,he.method=be,qe(O)}R=[new Be(0,0,0,0,function(O,Ee){var be=65535;for(be>O.pending_buf_size-5&&(be=O.pending_buf_size-5);;){if(O.lookahead<=1){if(Ce(O),O.lookahead===0&&Ee===e)return A;if(O.lookahead===0)break}O.strstart+=O.lookahead,O.lookahead=0;var te=O.block_start+be;if((O.strstart===0||O.strstart>=te)&&(O.lookahead=O.strstart-te,O.strstart=te,ee(O,!1),O.strm.avail_out===0)||O.strstart-O.block_start>=O.w_size-F&&(ee(O,!1),O.strm.avail_out===0))return A}return O.insert=0,Ee===r?(ee(O,!0),O.strm.avail_out===0?H:j):(O.strstart>O.block_start&&(ee(O,!1),O.strm.avail_out),A)}),new Be(4,4,8,4,Fe),new Be(4,5,16,8,Fe),new Be(4,6,32,32,Fe),new Be(4,4,16,16,Te),new Be(8,16,32,32,Te),new Be(8,16,128,128,Te),new Be(8,32,128,256,Te),new Be(32,128,258,1024,Te),new Be(32,258,258,4096,Te)],W.deflateInit=function(O,Ee){return Qe(O,Ee,y,15,8,0)},W.deflateInit2=Qe,W.deflateReset=qe,W.deflateResetKeep=He,W.deflateSetHeader=function(O,Ee){return O&&O.state?O.state.wrap!==2?i:(O.state.gzhead=Ee,n):i},W.deflate=function(O,Ee){var be,te,Z,Q;if(!O||!O.state||5<Ee||Ee<0)return O?le(O,i):i;if(te=O.state,!O.output||!O.input&&O.avail_in!==0||te.status===666&&Ee!==r)return le(O,O.avail_out===0?-5:i);if(te.strm=O,be=te.last_flush,te.last_flush=Ee,te.status===S)if(te.wrap===2)O.adler=0,ie(te,31),ie(te,139),ie(te,8),te.gzhead?(ie(te,(te.gzhead.text?1:0)+(te.gzhead.hcrc?2:0)+(te.gzhead.extra?4:0)+(te.gzhead.name?8:0)+(te.gzhead.comment?16:0)),ie(te,255&te.gzhead.time),ie(te,te.gzhead.time>>8&255),ie(te,te.gzhead.time>>16&255),ie(te,te.gzhead.time>>24&255),ie(te,te.level===9?2:2<=te.strategy||te.level<2?4:0),ie(te,255&te.gzhead.os),te.gzhead.extra&&te.gzhead.extra.length&&(ie(te,255&te.gzhead.extra.length),ie(te,te.gzhead.extra.length>>8&255)),te.gzhead.hcrc&&(O.adler=l(O.adler,te.pending_buf,te.pending,0)),te.gzindex=0,te.status=69):(ie(te,0),ie(te,0),ie(te,0),ie(te,0),ie(te,0),ie(te,te.level===9?2:2<=te.strategy||te.level<2?4:0),ie(te,3),te.status=L);else{var we=y+(te.w_bits-8<<4)<<8;we|=(2<=te.strategy||te.level<2?0:te.level<6?1:te.level===6?2:3)<<6,te.strstart!==0&&(we|=32),we+=31-we%31,te.status=L,me(te,we),te.strstart!==0&&(me(te,O.adler>>>16),me(te,65535&O.adler)),O.adler=1}if(te.status===69)if(te.gzhead.extra){for(Z=te.pending;te.gzindex<(65535&te.gzhead.extra.length)&&(te.pending!==te.pending_buf_size||(te.gzhead.hcrc&&te.pending>Z&&(O.adler=l(O.adler,te.pending_buf,te.pending-Z,Z)),J(O),Z=te.pending,te.pending!==te.pending_buf_size));)ie(te,255&te.gzhead.extra[te.gzindex]),te.gzindex++;te.gzhead.hcrc&&te.pending>Z&&(O.adler=l(O.adler,te.pending_buf,te.pending-Z,Z)),te.gzindex===te.gzhead.extra.length&&(te.gzindex=0,te.status=73)}else te.status=73;if(te.status===73)if(te.gzhead.name){Z=te.pending;do{if(te.pending===te.pending_buf_size&&(te.gzhead.hcrc&&te.pending>Z&&(O.adler=l(O.adler,te.pending_buf,te.pending-Z,Z)),J(O),Z=te.pending,te.pending===te.pending_buf_size)){Q=1;break}Q=te.gzindex<te.gzhead.name.length?255&te.gzhead.name.charCodeAt(te.gzindex++):0,ie(te,Q)}while(Q!==0);te.gzhead.hcrc&&te.pending>Z&&(O.adler=l(O.adler,te.pending_buf,te.pending-Z,Z)),Q===0&&(te.gzindex=0,te.status=91)}else te.status=91;if(te.status===91)if(te.gzhead.comment){Z=te.pending;do{if(te.pending===te.pending_buf_size&&(te.gzhead.hcrc&&te.pending>Z&&(O.adler=l(O.adler,te.pending_buf,te.pending-Z,Z)),J(O),Z=te.pending,te.pending===te.pending_buf_size)){Q=1;break}Q=te.gzindex<te.gzhead.comment.length?255&te.gzhead.comment.charCodeAt(te.gzindex++):0,ie(te,Q)}while(Q!==0);te.gzhead.hcrc&&te.pending>Z&&(O.adler=l(O.adler,te.pending_buf,te.pending-Z,Z)),Q===0&&(te.status=103)}else te.status=103;if(te.status===103&&(te.gzhead.hcrc?(te.pending+2>te.pending_buf_size&&J(O),te.pending+2<=te.pending_buf_size&&(ie(te,255&O.adler),ie(te,O.adler>>8&255),O.adler=0,te.status=L)):te.status=L),te.pending!==0){if(J(O),O.avail_out===0)return te.last_flush=-1,n}else if(O.avail_in===0&&q(Ee)<=q(be)&&Ee!==r)return le(O,-5);if(te.status===666&&O.avail_in!==0)return le(O,-5);if(O.avail_in!==0||te.lookahead!==0||Ee!==e&&te.status!==666){var he=te.strategy===2?function(ae,Se){for(var pe;;){if(ae.lookahead===0&&(Ce(ae),ae.lookahead===0)){if(Se===e)return A;break}if(ae.match_length=0,pe=h._tr_tally(ae,0,ae.window[ae.strstart]),ae.lookahead--,ae.strstart++,pe&&(ee(ae,!1),ae.strm.avail_out===0))return A}return ae.insert=0,Se===r?(ee(ae,!0),ae.strm.avail_out===0?H:j):ae.last_lit&&(ee(ae,!1),ae.strm.avail_out===0)?A:P}(te,Ee):te.strategy===3?function(ae,Se){for(var pe,ke,Pe,Ue,ze=ae.window;;){if(ae.lookahead<=u){if(Ce(ae),ae.lookahead<=u&&Se===e)return A;if(ae.lookahead===0)break}if(ae.match_length=0,ae.lookahead>=m&&0<ae.strstart&&(ke=ze[Pe=ae.strstart-1])===ze[++Pe]&&ke===ze[++Pe]&&ke===ze[++Pe]){Ue=ae.strstart+u;do;while(ke===ze[++Pe]&&ke===ze[++Pe]&&ke===ze[++Pe]&&ke===ze[++Pe]&&ke===ze[++Pe]&&ke===ze[++Pe]&&ke===ze[++Pe]&&ke===ze[++Pe]&&Pe<Ue);ae.match_length=u-(Ue-Pe),ae.match_length>ae.lookahead&&(ae.match_length=ae.lookahead)}if(ae.match_length>=m?(pe=h._tr_tally(ae,1,ae.match_length-m),ae.lookahead-=ae.match_length,ae.strstart+=ae.match_length,ae.match_length=0):(pe=h._tr_tally(ae,0,ae.window[ae.strstart]),ae.lookahead--,ae.strstart++),pe&&(ee(ae,!1),ae.strm.avail_out===0))return A}return ae.insert=0,Se===r?(ee(ae,!0),ae.strm.avail_out===0?H:j):ae.last_lit&&(ee(ae,!1),ae.strm.avail_out===0)?A:P}(te,Ee):R[te.level].func(te,Ee);if(he!==H&&he!==j||(te.status=666),he===A||he===H)return O.avail_out===0&&(te.last_flush=-1),n;if(he===P&&(Ee===1?h._tr_align(te):Ee!==5&&(h._tr_stored_block(te,0,0,!1),Ee===3&&(ue(te.head),te.lookahead===0&&(te.strstart=0,te.block_start=0,te.insert=0))),J(O),O.avail_out===0))return te.last_flush=-1,n}return Ee!==r?n:te.wrap<=0?1:(te.wrap===2?(ie(te,255&O.adler),ie(te,O.adler>>8&255),ie(te,O.adler>>16&255),ie(te,O.adler>>24&255),ie(te,255&O.total_in),ie(te,O.total_in>>8&255),ie(te,O.total_in>>16&255),ie(te,O.total_in>>24&255)):(me(te,O.adler>>>16),me(te,65535&O.adler)),J(O),0<te.wrap&&(te.wrap=-te.wrap),te.pending!==0?n:1)},W.deflateEnd=function(O){var Ee;return O&&O.state?(Ee=O.state.status)!==S&&Ee!==69&&Ee!==73&&Ee!==91&&Ee!==103&&Ee!==L&&Ee!==666?le(O,i):(O.state=null,Ee===L?le(O,-3):n):i},W.deflateSetDictionary=function(O,Ee){var be,te,Z,Q,we,he,ae,Se,pe=Ee.length;if(!O||!O.state||(Q=(be=O.state).wrap)===2||Q===1&&be.status!==S||be.lookahead)return i;for(Q===1&&(O.adler=a(O.adler,Ee,pe,0)),be.wrap=0,pe>=be.w_size&&(Q===0&&(ue(be.head),be.strstart=0,be.block_start=0,be.insert=0),Se=new E.Buf8(be.w_size),E.arraySet(Se,Ee,pe-be.w_size,be.w_size,0),Ee=Se,pe=be.w_size),we=O.avail_in,he=O.next_in,ae=O.input,O.avail_in=pe,O.next_in=0,O.input=Ee,Ce(be);be.lookahead>=m;){for(te=be.strstart,Z=be.lookahead-(m-1);be.ins_h=(be.ins_h<<be.hash_shift^be.window[te+m-1])&be.hash_mask,be.prev[te&be.w_mask]=be.head[be.ins_h],be.head[be.ins_h]=te,te++,--Z;);be.strstart=te,be.lookahead=m-1,Ce(be)}return be.strstart+=be.lookahead,be.block_start=be.strstart,be.insert=be.lookahead,be.lookahead=0,be.match_length=be.prev_length=m-1,be.match_available=0,O.next_in=he,O.input=ae,O.avail_in=we,be.wrap=Q,n},W.deflateInfo="pako deflate (from Nodeca project)"},{"../utils/common":41,"./adler32":43,"./crc32":45,"./messages":51,"./trees":52}],47:[function(c,M,W){M.exports=function(){this.text=0,this.time=0,this.xflags=0,this.os=0,this.extra=null,this.extra_len=0,this.name="",this.comment="",this.hcrc=0,this.done=!1}},{}],48:[function(c,M,W){M.exports=function(R,E){var h,a,l,t,e,r,n,i,s,d,v,y,k,p,o,f,w,g,m,u,F,S,L,A,P;h=R.state,a=R.next_in,A=R.input,l=a+(R.avail_in-5),t=R.next_out,P=R.output,e=t-(E-R.avail_out),r=t+(R.avail_out-257),n=h.dmax,i=h.wsize,s=h.whave,d=h.wnext,v=h.window,y=h.hold,k=h.bits,p=h.lencode,o=h.distcode,f=(1<<h.lenbits)-1,w=(1<<h.distbits)-1;e:do{k<15&&(y+=A[a++]<<k,k+=8,y+=A[a++]<<k,k+=8),g=p[y&f];t:for(;;){if(y>>>=m=g>>>24,k-=m,(m=g>>>16&255)===0)P[t++]=65535&g;else{if(!(16&m)){if(!(64&m)){g=p[(65535&g)+(y&(1<<m)-1)];continue t}if(32&m){h.mode=12;break e}R.msg="invalid literal/length code",h.mode=30;break e}u=65535&g,(m&=15)&&(k<m&&(y+=A[a++]<<k,k+=8),u+=y&(1<<m)-1,y>>>=m,k-=m),k<15&&(y+=A[a++]<<k,k+=8,y+=A[a++]<<k,k+=8),g=o[y&w];r:for(;;){if(y>>>=m=g>>>24,k-=m,!(16&(m=g>>>16&255))){if(!(64&m)){g=o[(65535&g)+(y&(1<<m)-1)];continue r}R.msg="invalid distance code",h.mode=30;break e}if(F=65535&g,k<(m&=15)&&(y+=A[a++]<<k,(k+=8)<m&&(y+=A[a++]<<k,k+=8)),n<(F+=y&(1<<m)-1)){R.msg="invalid distance too far back",h.mode=30;break e}if(y>>>=m,k-=m,(m=t-e)<F){if(s<(m=F-m)&&h.sane){R.msg="invalid distance too far back",h.mode=30;break e}if(L=v,(S=0)===d){if(S+=i-m,m<u){for(u-=m;P[t++]=v[S++],--m;);S=t-F,L=P}}else if(d<m){if(S+=i+d-m,(m-=d)<u){for(u-=m;P[t++]=v[S++],--m;);if(S=0,d<u){for(u-=m=d;P[t++]=v[S++],--m;);S=t-F,L=P}}}else if(S+=d-m,m<u){for(u-=m;P[t++]=v[S++],--m;);S=t-F,L=P}for(;2<u;)P[t++]=L[S++],P[t++]=L[S++],P[t++]=L[S++],u-=3;u&&(P[t++]=L[S++],1<u&&(P[t++]=L[S++]))}else{for(S=t-F;P[t++]=P[S++],P[t++]=P[S++],P[t++]=P[S++],2<(u-=3););u&&(P[t++]=P[S++],1<u&&(P[t++]=P[S++]))}break}}break}}while(a<l&&t<r);a-=u=k>>3,y&=(1<<(k-=u<<3))-1,R.next_in=a,R.next_out=t,R.avail_in=a<l?l-a+5:5-(a-l),R.avail_out=t<r?r-t+257:257-(t-r),h.hold=y,h.bits=k}},{}],49:[function(c,M,W){var R=c("../utils/common"),E=c("./adler32"),h=c("./crc32"),a=c("./inffast"),l=c("./inftrees"),t=1,e=2,r=0,n=-2,i=1,s=852,d=592;function v(S){return(S>>>24&255)+(S>>>8&65280)+((65280&S)<<8)+((255&S)<<24)}function y(){this.mode=0,this.last=!1,this.wrap=0,this.havedict=!1,this.flags=0,this.dmax=0,this.check=0,this.total=0,this.head=null,this.wbits=0,this.wsize=0,this.whave=0,this.wnext=0,this.window=null,this.hold=0,this.bits=0,this.length=0,this.offset=0,this.extra=0,this.lencode=null,this.distcode=null,this.lenbits=0,this.distbits=0,this.ncode=0,this.nlen=0,this.ndist=0,this.have=0,this.next=null,this.lens=new R.Buf16(320),this.work=new R.Buf16(288),this.lendyn=null,this.distdyn=null,this.sane=0,this.back=0,this.was=0}function k(S){var L;return S&&S.state?(L=S.state,S.total_in=S.total_out=L.total=0,S.msg="",L.wrap&&(S.adler=1&L.wrap),L.mode=i,L.last=0,L.havedict=0,L.dmax=32768,L.head=null,L.hold=0,L.bits=0,L.lencode=L.lendyn=new R.Buf32(s),L.distcode=L.distdyn=new R.Buf32(d),L.sane=1,L.back=-1,r):n}function p(S){var L;return S&&S.state?((L=S.state).wsize=0,L.whave=0,L.wnext=0,k(S)):n}function o(S,L){var A,P;return S&&S.state?(P=S.state,L<0?(A=0,L=-L):(A=1+(L>>4),L<48&&(L&=15)),L&&(L<8||15<L)?n:(P.window!==null&&P.wbits!==L&&(P.window=null),P.wrap=A,P.wbits=L,p(S))):n}function f(S,L){var A,P;return S?(P=new y,(S.state=P).window=null,(A=o(S,L))!==r&&(S.state=null),A):n}var w,g,m=!0;function u(S){if(m){var L;for(w=new R.Buf32(512),g=new R.Buf32(32),L=0;L<144;)S.lens[L++]=8;for(;L<256;)S.lens[L++]=9;for(;L<280;)S.lens[L++]=7;for(;L<288;)S.lens[L++]=8;for(l(t,S.lens,0,288,w,0,S.work,{bits:9}),L=0;L<32;)S.lens[L++]=5;l(e,S.lens,0,32,g,0,S.work,{bits:5}),m=!1}S.lencode=w,S.lenbits=9,S.distcode=g,S.distbits=5}function F(S,L,A,P){var H,j=S.state;return j.window===null&&(j.wsize=1<<j.wbits,j.wnext=0,j.whave=0,j.window=new R.Buf8(j.wsize)),P>=j.wsize?(R.arraySet(j.window,L,A-j.wsize,j.wsize,0),j.wnext=0,j.whave=j.wsize):(P<(H=j.wsize-j.wnext)&&(H=P),R.arraySet(j.window,L,A-P,H,j.wnext),(P-=H)?(R.arraySet(j.window,L,A-P,P,0),j.wnext=P,j.whave=j.wsize):(j.wnext+=H,j.wnext===j.wsize&&(j.wnext=0),j.whave<j.wsize&&(j.whave+=H))),0}W.inflateReset=p,W.inflateReset2=o,W.inflateResetKeep=k,W.inflateInit=function(S){return f(S,15)},W.inflateInit2=f,W.inflate=function(S,L){var A,P,H,j,le,q,ue,J,ee,ie,me,de,Ce,Fe,Te,Be,Me,He,qe,Qe,O,Ee,be,te,Z=0,Q=new R.Buf8(4),we=[16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15];if(!S||!S.state||!S.output||!S.input&&S.avail_in!==0)return n;(A=S.state).mode===12&&(A.mode=13),le=S.next_out,H=S.output,ue=S.avail_out,j=S.next_in,P=S.input,q=S.avail_in,J=A.hold,ee=A.bits,ie=q,me=ue,Ee=r;e:for(;;)switch(A.mode){case i:if(A.wrap===0){A.mode=13;break}for(;ee<16;){if(q===0)break e;q--,J+=P[j++]<<ee,ee+=8}if(2&A.wrap&&J===35615){Q[A.check=0]=255&J,Q[1]=J>>>8&255,A.check=h(A.check,Q,2,0),ee=J=0,A.mode=2;break}if(A.flags=0,A.head&&(A.head.done=!1),!(1&A.wrap)||(((255&J)<<8)+(J>>8))%31){S.msg="incorrect header check",A.mode=30;break}if((15&J)!=8){S.msg="unknown compression method",A.mode=30;break}if(ee-=4,O=8+(15&(J>>>=4)),A.wbits===0)A.wbits=O;else if(O>A.wbits){S.msg="invalid window size",A.mode=30;break}A.dmax=1<<O,S.adler=A.check=1,A.mode=512&J?10:12,ee=J=0;break;case 2:for(;ee<16;){if(q===0)break e;q--,J+=P[j++]<<ee,ee+=8}if(A.flags=J,(255&A.flags)!=8){S.msg="unknown compression method",A.mode=30;break}if(57344&A.flags){S.msg="unknown header flags set",A.mode=30;break}A.head&&(A.head.text=J>>8&1),512&A.flags&&(Q[0]=255&J,Q[1]=J>>>8&255,A.check=h(A.check,Q,2,0)),ee=J=0,A.mode=3;case 3:for(;ee<32;){if(q===0)break e;q--,J+=P[j++]<<ee,ee+=8}A.head&&(A.head.time=J),512&A.flags&&(Q[0]=255&J,Q[1]=J>>>8&255,Q[2]=J>>>16&255,Q[3]=J>>>24&255,A.check=h(A.check,Q,4,0)),ee=J=0,A.mode=4;case 4:for(;ee<16;){if(q===0)break e;q--,J+=P[j++]<<ee,ee+=8}A.head&&(A.head.xflags=255&J,A.head.os=J>>8),512&A.flags&&(Q[0]=255&J,Q[1]=J>>>8&255,A.check=h(A.check,Q,2,0)),ee=J=0,A.mode=5;case 5:if(1024&A.flags){for(;ee<16;){if(q===0)break e;q--,J+=P[j++]<<ee,ee+=8}A.length=J,A.head&&(A.head.extra_len=J),512&A.flags&&(Q[0]=255&J,Q[1]=J>>>8&255,A.check=h(A.check,Q,2,0)),ee=J=0}else A.head&&(A.head.extra=null);A.mode=6;case 6:if(1024&A.flags&&(q<(de=A.length)&&(de=q),de&&(A.head&&(O=A.head.extra_len-A.length,A.head.extra||(A.head.extra=new Array(A.head.extra_len)),R.arraySet(A.head.extra,P,j,de,O)),512&A.flags&&(A.check=h(A.check,P,de,j)),q-=de,j+=de,A.length-=de),A.length))break e;A.length=0,A.mode=7;case 7:if(2048&A.flags){if(q===0)break e;for(de=0;O=P[j+de++],A.head&&O&&A.length<65536&&(A.head.name+=String.fromCharCode(O)),O&&de<q;);if(512&A.flags&&(A.check=h(A.check,P,de,j)),q-=de,j+=de,O)break e}else A.head&&(A.head.name=null);A.length=0,A.mode=8;case 8:if(4096&A.flags){if(q===0)break e;for(de=0;O=P[j+de++],A.head&&O&&A.length<65536&&(A.head.comment+=String.fromCharCode(O)),O&&de<q;);if(512&A.flags&&(A.check=h(A.check,P,de,j)),q-=de,j+=de,O)break e}else A.head&&(A.head.comment=null);A.mode=9;case 9:if(512&A.flags){for(;ee<16;){if(q===0)break e;q--,J+=P[j++]<<ee,ee+=8}if(J!==(65535&A.check)){S.msg="header crc mismatch",A.mode=30;break}ee=J=0}A.head&&(A.head.hcrc=A.flags>>9&1,A.head.done=!0),S.adler=A.check=0,A.mode=12;break;case 10:for(;ee<32;){if(q===0)break e;q--,J+=P[j++]<<ee,ee+=8}S.adler=A.check=v(J),ee=J=0,A.mode=11;case 11:if(A.havedict===0)return S.next_out=le,S.avail_out=ue,S.next_in=j,S.avail_in=q,A.hold=J,A.bits=ee,2;S.adler=A.check=1,A.mode=12;case 12:if(L===5||L===6)break e;case 13:if(A.last){J>>>=7&ee,ee-=7&ee,A.mode=27;break}for(;ee<3;){if(q===0)break e;q--,J+=P[j++]<<ee,ee+=8}switch(A.last=1&J,ee-=1,3&(J>>>=1)){case 0:A.mode=14;break;case 1:if(u(A),A.mode=20,L!==6)break;J>>>=2,ee-=2;break e;case 2:A.mode=17;break;case 3:S.msg="invalid block type",A.mode=30}J>>>=2,ee-=2;break;case 14:for(J>>>=7&ee,ee-=7&ee;ee<32;){if(q===0)break e;q--,J+=P[j++]<<ee,ee+=8}if((65535&J)!=(J>>>16^65535)){S.msg="invalid stored block lengths",A.mode=30;break}if(A.length=65535&J,ee=J=0,A.mode=15,L===6)break e;case 15:A.mode=16;case 16:if(de=A.length){if(q<de&&(de=q),ue<de&&(de=ue),de===0)break e;R.arraySet(H,P,j,de,le),q-=de,j+=de,ue-=de,le+=de,A.length-=de;break}A.mode=12;break;case 17:for(;ee<14;){if(q===0)break e;q--,J+=P[j++]<<ee,ee+=8}if(A.nlen=257+(31&J),J>>>=5,ee-=5,A.ndist=1+(31&J),J>>>=5,ee-=5,A.ncode=4+(15&J),J>>>=4,ee-=4,286<A.nlen||30<A.ndist){S.msg="too many length or distance symbols",A.mode=30;break}A.have=0,A.mode=18;case 18:for(;A.have<A.ncode;){for(;ee<3;){if(q===0)break e;q--,J+=P[j++]<<ee,ee+=8}A.lens[we[A.have++]]=7&J,J>>>=3,ee-=3}for(;A.have<19;)A.lens[we[A.have++]]=0;if(A.lencode=A.lendyn,A.lenbits=7,be={bits:A.lenbits},Ee=l(0,A.lens,0,19,A.lencode,0,A.work,be),A.lenbits=be.bits,Ee){S.msg="invalid code lengths set",A.mode=30;break}A.have=0,A.mode=19;case 19:for(;A.have<A.nlen+A.ndist;){for(;Be=(Z=A.lencode[J&(1<<A.lenbits)-1])>>>16&255,Me=65535&Z,!((Te=Z>>>24)<=ee);){if(q===0)break e;q--,J+=P[j++]<<ee,ee+=8}if(Me<16)J>>>=Te,ee-=Te,A.lens[A.have++]=Me;else{if(Me===16){for(te=Te+2;ee<te;){if(q===0)break e;q--,J+=P[j++]<<ee,ee+=8}if(J>>>=Te,ee-=Te,A.have===0){S.msg="invalid bit length repeat",A.mode=30;break}O=A.lens[A.have-1],de=3+(3&J),J>>>=2,ee-=2}else if(Me===17){for(te=Te+3;ee<te;){if(q===0)break e;q--,J+=P[j++]<<ee,ee+=8}ee-=Te,O=0,de=3+(7&(J>>>=Te)),J>>>=3,ee-=3}else{for(te=Te+7;ee<te;){if(q===0)break e;q--,J+=P[j++]<<ee,ee+=8}ee-=Te,O=0,de=11+(127&(J>>>=Te)),J>>>=7,ee-=7}if(A.have+de>A.nlen+A.ndist){S.msg="invalid bit length repeat",A.mode=30;break}for(;de--;)A.lens[A.have++]=O}}if(A.mode===30)break;if(A.lens[256]===0){S.msg="invalid code -- missing end-of-block",A.mode=30;break}if(A.lenbits=9,be={bits:A.lenbits},Ee=l(t,A.lens,0,A.nlen,A.lencode,0,A.work,be),A.lenbits=be.bits,Ee){S.msg="invalid literal/lengths set",A.mode=30;break}if(A.distbits=6,A.distcode=A.distdyn,be={bits:A.distbits},Ee=l(e,A.lens,A.nlen,A.ndist,A.distcode,0,A.work,be),A.distbits=be.bits,Ee){S.msg="invalid distances set",A.mode=30;break}if(A.mode=20,L===6)break e;case 20:A.mode=21;case 21:if(6<=q&&258<=ue){S.next_out=le,S.avail_out=ue,S.next_in=j,S.avail_in=q,A.hold=J,A.bits=ee,a(S,me),le=S.next_out,H=S.output,ue=S.avail_out,j=S.next_in,P=S.input,q=S.avail_in,J=A.hold,ee=A.bits,A.mode===12&&(A.back=-1);break}for(A.back=0;Be=(Z=A.lencode[J&(1<<A.lenbits)-1])>>>16&255,Me=65535&Z,!((Te=Z>>>24)<=ee);){if(q===0)break e;q--,J+=P[j++]<<ee,ee+=8}if(Be&&!(240&Be)){for(He=Te,qe=Be,Qe=Me;Be=(Z=A.lencode[Qe+((J&(1<<He+qe)-1)>>He)])>>>16&255,Me=65535&Z,!(He+(Te=Z>>>24)<=ee);){if(q===0)break e;q--,J+=P[j++]<<ee,ee+=8}J>>>=He,ee-=He,A.back+=He}if(J>>>=Te,ee-=Te,A.back+=Te,A.length=Me,Be===0){A.mode=26;break}if(32&Be){A.back=-1,A.mode=12;break}if(64&Be){S.msg="invalid literal/length code",A.mode=30;break}A.extra=15&Be,A.mode=22;case 22:if(A.extra){for(te=A.extra;ee<te;){if(q===0)break e;q--,J+=P[j++]<<ee,ee+=8}A.length+=J&(1<<A.extra)-1,J>>>=A.extra,ee-=A.extra,A.back+=A.extra}A.was=A.length,A.mode=23;case 23:for(;Be=(Z=A.distcode[J&(1<<A.distbits)-1])>>>16&255,Me=65535&Z,!((Te=Z>>>24)<=ee);){if(q===0)break e;q--,J+=P[j++]<<ee,ee+=8}if(!(240&Be)){for(He=Te,qe=Be,Qe=Me;Be=(Z=A.distcode[Qe+((J&(1<<He+qe)-1)>>He)])>>>16&255,Me=65535&Z,!(He+(Te=Z>>>24)<=ee);){if(q===0)break e;q--,J+=P[j++]<<ee,ee+=8}J>>>=He,ee-=He,A.back+=He}if(J>>>=Te,ee-=Te,A.back+=Te,64&Be){S.msg="invalid distance code",A.mode=30;break}A.offset=Me,A.extra=15&Be,A.mode=24;case 24:if(A.extra){for(te=A.extra;ee<te;){if(q===0)break e;q--,J+=P[j++]<<ee,ee+=8}A.offset+=J&(1<<A.extra)-1,J>>>=A.extra,ee-=A.extra,A.back+=A.extra}if(A.offset>A.dmax){S.msg="invalid distance too far back",A.mode=30;break}A.mode=25;case 25:if(ue===0)break e;if(de=me-ue,A.offset>de){if((de=A.offset-de)>A.whave&&A.sane){S.msg="invalid distance too far back",A.mode=30;break}Ce=de>A.wnext?(de-=A.wnext,A.wsize-de):A.wnext-de,de>A.length&&(de=A.length),Fe=A.window}else Fe=H,Ce=le-A.offset,de=A.length;for(ue<de&&(de=ue),ue-=de,A.length-=de;H[le++]=Fe[Ce++],--de;);A.length===0&&(A.mode=21);break;case 26:if(ue===0)break e;H[le++]=A.length,ue--,A.mode=21;break;case 27:if(A.wrap){for(;ee<32;){if(q===0)break e;q--,J|=P[j++]<<ee,ee+=8}if(me-=ue,S.total_out+=me,A.total+=me,me&&(S.adler=A.check=A.flags?h(A.check,H,me,le-me):E(A.check,H,me,le-me)),me=ue,(A.flags?J:v(J))!==A.check){S.msg="incorrect data check",A.mode=30;break}ee=J=0}A.mode=28;case 28:if(A.wrap&&A.flags){for(;ee<32;){if(q===0)break e;q--,J+=P[j++]<<ee,ee+=8}if(J!==(4294967295&A.total)){S.msg="incorrect length check",A.mode=30;break}ee=J=0}A.mode=29;case 29:Ee=1;break e;case 30:Ee=-3;break e;case 31:return-4;case 32:default:return n}return S.next_out=le,S.avail_out=ue,S.next_in=j,S.avail_in=q,A.hold=J,A.bits=ee,(A.wsize||me!==S.avail_out&&A.mode<30&&(A.mode<27||L!==4))&&F(S,S.output,S.next_out,me-S.avail_out)?(A.mode=31,-4):(ie-=S.avail_in,me-=S.avail_out,S.total_in+=ie,S.total_out+=me,A.total+=me,A.wrap&&me&&(S.adler=A.check=A.flags?h(A.check,H,me,S.next_out-me):E(A.check,H,me,S.next_out-me)),S.data_type=A.bits+(A.last?64:0)+(A.mode===12?128:0)+(A.mode===20||A.mode===15?256:0),(ie==0&&me===0||L===4)&&Ee===r&&(Ee=-5),Ee)},W.inflateEnd=function(S){if(!S||!S.state)return n;var L=S.state;return L.window&&(L.window=null),S.state=null,r},W.inflateGetHeader=function(S,L){var A;return S&&S.state&&2&(A=S.state).wrap?((A.head=L).done=!1,r):n},W.inflateSetDictionary=function(S,L){var A,P=L.length;return S&&S.state?(A=S.state).wrap!==0&&A.mode!==11?n:A.mode===11&&E(1,L,P,0)!==A.check?-3:F(S,L,P,P)?(A.mode=31,-4):(A.havedict=1,r):n},W.inflateInfo="pako inflate (from Nodeca project)"},{"../utils/common":41,"./adler32":43,"./crc32":45,"./inffast":48,"./inftrees":50}],50:[function(c,M,W){var R=c("../utils/common"),E=[3,4,5,6,7,8,9,10,11,13,15,17,19,23,27,31,35,43,51,59,67,83,99,115,131,163,195,227,258,0,0],h=[16,16,16,16,16,16,16,16,17,17,17,17,18,18,18,18,19,19,19,19,20,20,20,20,21,21,21,21,16,72,78],a=[1,2,3,4,5,7,9,13,17,25,33,49,65,97,129,193,257,385,513,769,1025,1537,2049,3073,4097,6145,8193,12289,16385,24577,0,0],l=[16,16,16,16,17,17,18,18,19,19,20,20,21,21,22,22,23,23,24,24,25,25,26,26,27,27,28,28,29,29,64,64];M.exports=function(t,e,r,n,i,s,d,v){var y,k,p,o,f,w,g,m,u,F=v.bits,S=0,L=0,A=0,P=0,H=0,j=0,le=0,q=0,ue=0,J=0,ee=null,ie=0,me=new R.Buf16(16),de=new R.Buf16(16),Ce=null,Fe=0;for(S=0;S<=15;S++)me[S]=0;for(L=0;L<n;L++)me[e[r+L]]++;for(H=F,P=15;1<=P&&me[P]===0;P--);if(P<H&&(H=P),P===0)return i[s++]=20971520,i[s++]=20971520,v.bits=1,0;for(A=1;A<P&&me[A]===0;A++);for(H<A&&(H=A),S=q=1;S<=15;S++)if(q<<=1,(q-=me[S])<0)return-1;if(0<q&&(t===0||P!==1))return-1;for(de[1]=0,S=1;S<15;S++)de[S+1]=de[S]+me[S];for(L=0;L<n;L++)e[r+L]!==0&&(d[de[e[r+L]]++]=L);if(w=t===0?(ee=Ce=d,19):t===1?(ee=E,ie-=257,Ce=h,Fe-=257,256):(ee=a,Ce=l,-1),S=A,f=s,le=L=J=0,p=-1,o=(ue=1<<(j=H))-1,t===1&&852<ue||t===2&&592<ue)return 1;for(;;){for(g=S-le,u=d[L]<w?(m=0,d[L]):d[L]>w?(m=Ce[Fe+d[L]],ee[ie+d[L]]):(m=96,0),y=1<<S-le,A=k=1<<j;i[f+(J>>le)+(k-=y)]=g<<24|m<<16|u|0,k!==0;);for(y=1<<S-1;J&y;)y>>=1;if(y!==0?(J&=y-1,J+=y):J=0,L++,--me[S]==0){if(S===P)break;S=e[r+d[L]]}if(H<S&&(J&o)!==p){for(le===0&&(le=H),f+=A,q=1<<(j=S-le);j+le<P&&!((q-=me[j+le])<=0);)j++,q<<=1;if(ue+=1<<j,t===1&&852<ue||t===2&&592<ue)return 1;i[p=J&o]=H<<24|j<<16|f-s|0}}return J!==0&&(i[f+J]=S-le<<24|64<<16|0),v.bits=H,0}},{"../utils/common":41}],51:[function(c,M,W){M.exports={2:"need dictionary",1:"stream end",0:"","-1":"file error","-2":"stream error","-3":"data error","-4":"insufficient memory","-5":"buffer error","-6":"incompatible version"}},{}],52:[function(c,M,W){var R=c("../utils/common"),E=0,h=1;function a(Z){for(var Q=Z.length;0<=--Q;)Z[Q]=0}var l=0,t=29,e=256,r=e+1+t,n=30,i=19,s=2*r+1,d=15,v=16,y=7,k=256,p=16,o=17,f=18,w=[0,0,0,0,0,0,0,0,1,1,1,1,2,2,2,2,3,3,3,3,4,4,4,4,5,5,5,5,0],g=[0,0,0,0,1,1,2,2,3,3,4,4,5,5,6,6,7,7,8,8,9,9,10,10,11,11,12,12,13,13],m=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,2,3,7],u=[16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15],F=new Array(2*(r+2));a(F);var S=new Array(2*n);a(S);var L=new Array(512);a(L);var A=new Array(256);a(A);var P=new Array(t);a(P);var H,j,le,q=new Array(n);function ue(Z,Q,we,he,ae){this.static_tree=Z,this.extra_bits=Q,this.extra_base=we,this.elems=he,this.max_length=ae,this.has_stree=Z&&Z.length}function J(Z,Q){this.dyn_tree=Z,this.max_code=0,this.stat_desc=Q}function ee(Z){return Z<256?L[Z]:L[256+(Z>>>7)]}function ie(Z,Q){Z.pending_buf[Z.pending++]=255&Q,Z.pending_buf[Z.pending++]=Q>>>8&255}function me(Z,Q,we){Z.bi_valid>v-we?(Z.bi_buf|=Q<<Z.bi_valid&65535,ie(Z,Z.bi_buf),Z.bi_buf=Q>>v-Z.bi_valid,Z.bi_valid+=we-v):(Z.bi_buf|=Q<<Z.bi_valid&65535,Z.bi_valid+=we)}function de(Z,Q,we){me(Z,we[2*Q],we[2*Q+1])}function Ce(Z,Q){for(var we=0;we|=1&Z,Z>>>=1,we<<=1,0<--Q;);return we>>>1}function Fe(Z,Q,we){var he,ae,Se=new Array(d+1),pe=0;for(he=1;he<=d;he++)Se[he]=pe=pe+we[he-1]<<1;for(ae=0;ae<=Q;ae++){var ke=Z[2*ae+1];ke!==0&&(Z[2*ae]=Ce(Se[ke]++,ke))}}function Te(Z){var Q;for(Q=0;Q<r;Q++)Z.dyn_ltree[2*Q]=0;for(Q=0;Q<n;Q++)Z.dyn_dtree[2*Q]=0;for(Q=0;Q<i;Q++)Z.bl_tree[2*Q]=0;Z.dyn_ltree[2*k]=1,Z.opt_len=Z.static_len=0,Z.last_lit=Z.matches=0}function Be(Z){8<Z.bi_valid?ie(Z,Z.bi_buf):0<Z.bi_valid&&(Z.pending_buf[Z.pending++]=Z.bi_buf),Z.bi_buf=0,Z.bi_valid=0}function Me(Z,Q,we,he){var ae=2*Q,Se=2*we;return Z[ae]<Z[Se]||Z[ae]===Z[Se]&&he[Q]<=he[we]}function He(Z,Q,we){for(var he=Z.heap[we],ae=we<<1;ae<=Z.heap_len&&(ae<Z.heap_len&&Me(Q,Z.heap[ae+1],Z.heap[ae],Z.depth)&&ae++,!Me(Q,he,Z.heap[ae],Z.depth));)Z.heap[we]=Z.heap[ae],we=ae,ae<<=1;Z.heap[we]=he}function qe(Z,Q,we){var he,ae,Se,pe,ke=0;if(Z.last_lit!==0)for(;he=Z.pending_buf[Z.d_buf+2*ke]<<8|Z.pending_buf[Z.d_buf+2*ke+1],ae=Z.pending_buf[Z.l_buf+ke],ke++,he===0?de(Z,ae,Q):(de(Z,(Se=A[ae])+e+1,Q),(pe=w[Se])!==0&&me(Z,ae-=P[Se],pe),de(Z,Se=ee(--he),we),(pe=g[Se])!==0&&me(Z,he-=q[Se],pe)),ke<Z.last_lit;);de(Z,k,Q)}function Qe(Z,Q){var we,he,ae,Se=Q.dyn_tree,pe=Q.stat_desc.static_tree,ke=Q.stat_desc.has_stree,Pe=Q.stat_desc.elems,Ue=-1;for(Z.heap_len=0,Z.heap_max=s,we=0;we<Pe;we++)Se[2*we]!==0?(Z.heap[++Z.heap_len]=Ue=we,Z.depth[we]=0):Se[2*we+1]=0;for(;Z.heap_len<2;)Se[2*(ae=Z.heap[++Z.heap_len]=Ue<2?++Ue:0)]=1,Z.depth[ae]=0,Z.opt_len--,ke&&(Z.static_len-=pe[2*ae+1]);for(Q.max_code=Ue,we=Z.heap_len>>1;1<=we;we--)He(Z,Se,we);for(ae=Pe;we=Z.heap[1],Z.heap[1]=Z.heap[Z.heap_len--],He(Z,Se,1),he=Z.heap[1],Z.heap[--Z.heap_max]=we,Z.heap[--Z.heap_max]=he,Se[2*ae]=Se[2*we]+Se[2*he],Z.depth[ae]=(Z.depth[we]>=Z.depth[he]?Z.depth[we]:Z.depth[he])+1,Se[2*we+1]=Se[2*he+1]=ae,Z.heap[1]=ae++,He(Z,Se,1),2<=Z.heap_len;);Z.heap[--Z.heap_max]=Z.heap[1],function(ze,Ve){var xe,ot,pt,ne,Re,We,nt=Ve.dyn_tree,Le=Ve.max_code,wt=Ve.stat_desc.static_tree,Ge=Ve.stat_desc.has_stree,Ft=Ve.stat_desc.extra_bits,kt=Ve.stat_desc.extra_base,Mt=Ve.stat_desc.max_length,Tt=0;for(ne=0;ne<=d;ne++)ze.bl_count[ne]=0;for(nt[2*ze.heap[ze.heap_max]+1]=0,xe=ze.heap_max+1;xe<s;xe++)Mt<(ne=nt[2*nt[2*(ot=ze.heap[xe])+1]+1]+1)&&(ne=Mt,Tt++),nt[2*ot+1]=ne,Le<ot||(ze.bl_count[ne]++,Re=0,kt<=ot&&(Re=Ft[ot-kt]),We=nt[2*ot],ze.opt_len+=We*(ne+Re),Ge&&(ze.static_len+=We*(wt[2*ot+1]+Re)));if(Tt!==0){do{for(ne=Mt-1;ze.bl_count[ne]===0;)ne--;ze.bl_count[ne]--,ze.bl_count[ne+1]+=2,ze.bl_count[Mt]--,Tt-=2}while(0<Tt);for(ne=Mt;ne!==0;ne--)for(ot=ze.bl_count[ne];ot!==0;)Le<(pt=ze.heap[--xe])||(nt[2*pt+1]!==ne&&(ze.opt_len+=(ne-nt[2*pt+1])*nt[2*pt],nt[2*pt+1]=ne),ot--)}}(Z,Q),Fe(Se,Ue,Z.bl_count)}function O(Z,Q,we){var he,ae,Se=-1,pe=Q[1],ke=0,Pe=7,Ue=4;for(pe===0&&(Pe=138,Ue=3),Q[2*(we+1)+1]=65535,he=0;he<=we;he++)ae=pe,pe=Q[2*(he+1)+1],++ke<Pe&&ae===pe||(ke<Ue?Z.bl_tree[2*ae]+=ke:ae!==0?(ae!==Se&&Z.bl_tree[2*ae]++,Z.bl_tree[2*p]++):ke<=10?Z.bl_tree[2*o]++:Z.bl_tree[2*f]++,Se=ae,Ue=(ke=0)===pe?(Pe=138,3):ae===pe?(Pe=6,3):(Pe=7,4))}function Ee(Z,Q,we){var he,ae,Se=-1,pe=Q[1],ke=0,Pe=7,Ue=4;for(pe===0&&(Pe=138,Ue=3),he=0;he<=we;he++)if(ae=pe,pe=Q[2*(he+1)+1],!(++ke<Pe&&ae===pe)){if(ke<Ue)for(;de(Z,ae,Z.bl_tree),--ke!=0;);else ae!==0?(ae!==Se&&(de(Z,ae,Z.bl_tree),ke--),de(Z,p,Z.bl_tree),me(Z,ke-3,2)):ke<=10?(de(Z,o,Z.bl_tree),me(Z,ke-3,3)):(de(Z,f,Z.bl_tree),me(Z,ke-11,7));Se=ae,Ue=(ke=0)===pe?(Pe=138,3):ae===pe?(Pe=6,3):(Pe=7,4)}}a(q);var be=!1;function te(Z,Q,we,he){me(Z,(l<<1)+(he?1:0),3),function(ae,Se,pe,ke){Be(ae),ke&&(ie(ae,pe),ie(ae,~pe)),R.arraySet(ae.pending_buf,ae.window,Se,pe,ae.pending),ae.pending+=pe}(Z,Q,we,!0)}W._tr_init=function(Z){be||(function(){var Q,we,he,ae,Se,pe=new Array(d+1);for(ae=he=0;ae<t-1;ae++)for(P[ae]=he,Q=0;Q<1<<w[ae];Q++)A[he++]=ae;for(A[he-1]=ae,ae=Se=0;ae<16;ae++)for(q[ae]=Se,Q=0;Q<1<<g[ae];Q++)L[Se++]=ae;for(Se>>=7;ae<n;ae++)for(q[ae]=Se<<7,Q=0;Q<1<<g[ae]-7;Q++)L[256+Se++]=ae;for(we=0;we<=d;we++)pe[we]=0;for(Q=0;Q<=143;)F[2*Q+1]=8,Q++,pe[8]++;for(;Q<=255;)F[2*Q+1]=9,Q++,pe[9]++;for(;Q<=279;)F[2*Q+1]=7,Q++,pe[7]++;for(;Q<=287;)F[2*Q+1]=8,Q++,pe[8]++;for(Fe(F,r+1,pe),Q=0;Q<n;Q++)S[2*Q+1]=5,S[2*Q]=Ce(Q,5);H=new ue(F,w,e+1,r,d),j=new ue(S,g,0,n,d),le=new ue(new Array(0),m,0,i,y)}(),be=!0),Z.l_desc=new J(Z.dyn_ltree,H),Z.d_desc=new J(Z.dyn_dtree,j),Z.bl_desc=new J(Z.bl_tree,le),Z.bi_buf=0,Z.bi_valid=0,Te(Z)},W._tr_stored_block=te,W._tr_flush_block=function(Z,Q,we,he){var ae,Se,pe=0;0<Z.level?(Z.strm.data_type===2&&(Z.strm.data_type=function(ke){var Pe,Ue=4093624447;for(Pe=0;Pe<=31;Pe++,Ue>>>=1)if(1&Ue&&ke.dyn_ltree[2*Pe]!==0)return E;if(ke.dyn_ltree[18]!==0||ke.dyn_ltree[20]!==0||ke.dyn_ltree[26]!==0)return h;for(Pe=32;Pe<e;Pe++)if(ke.dyn_ltree[2*Pe]!==0)return h;return E}(Z)),Qe(Z,Z.l_desc),Qe(Z,Z.d_desc),pe=function(ke){var Pe;for(O(ke,ke.dyn_ltree,ke.l_desc.max_code),O(ke,ke.dyn_dtree,ke.d_desc.max_code),Qe(ke,ke.bl_desc),Pe=i-1;3<=Pe&&ke.bl_tree[2*u[Pe]+1]===0;Pe--);return ke.opt_len+=3*(Pe+1)+5+5+4,Pe}(Z),ae=Z.opt_len+3+7>>>3,(Se=Z.static_len+3+7>>>3)<=ae&&(ae=Se)):ae=Se=we+5,we+4<=ae&&Q!==-1?te(Z,Q,we,he):Z.strategy===4||Se===ae?(me(Z,2+(he?1:0),3),qe(Z,F,S)):(me(Z,4+(he?1:0),3),function(ke,Pe,Ue,ze){var Ve;for(me(ke,Pe-257,5),me(ke,Ue-1,5),me(ke,ze-4,4),Ve=0;Ve<ze;Ve++)me(ke,ke.bl_tree[2*u[Ve]+1],3);Ee(ke,ke.dyn_ltree,Pe-1),Ee(ke,ke.dyn_dtree,Ue-1)}(Z,Z.l_desc.max_code+1,Z.d_desc.max_code+1,pe+1),qe(Z,Z.dyn_ltree,Z.dyn_dtree)),Te(Z),he&&Be(Z)},W._tr_tally=function(Z,Q,we){return Z.pending_buf[Z.d_buf+2*Z.last_lit]=Q>>>8&255,Z.pending_buf[Z.d_buf+2*Z.last_lit+1]=255&Q,Z.pending_buf[Z.l_buf+Z.last_lit]=255&we,Z.last_lit++,Q===0?Z.dyn_ltree[2*we]++:(Z.matches++,Q--,Z.dyn_ltree[2*(A[we]+e+1)]++,Z.dyn_dtree[2*ee(Q)]++),Z.last_lit===Z.lit_bufsize-1},W._tr_align=function(Z){me(Z,2,3),de(Z,k,F),function(Q){Q.bi_valid===16?(ie(Q,Q.bi_buf),Q.bi_buf=0,Q.bi_valid=0):8<=Q.bi_valid&&(Q.pending_buf[Q.pending++]=255&Q.bi_buf,Q.bi_buf>>=8,Q.bi_valid-=8)}(Z)}},{"../utils/common":41}],53:[function(c,M,W){M.exports=function(){this.input=null,this.next_in=0,this.avail_in=0,this.total_in=0,this.output=null,this.next_out=0,this.avail_out=0,this.total_out=0,this.msg="",this.state=null,this.data_type=2,this.adler=0}},{}],54:[function(c,M,W){(function(R){(function(E,h){if(!E.setImmediate){var a,l,t,e,r=1,n={},i=!1,s=E.document,d=Object.getPrototypeOf&&Object.getPrototypeOf(E);d=d&&d.setTimeout?d:E,a={}.toString.call(E.process)==="[object process]"?function(p){process.nextTick(function(){y(p)})}:function(){if(E.postMessage&&!E.importScripts){var p=!0,o=E.onmessage;return E.onmessage=function(){p=!1},E.postMessage("","*"),E.onmessage=o,p}}()?(e="setImmediate$"+Math.random()+"$",E.addEventListener?E.addEventListener("message",k,!1):E.attachEvent("onmessage",k),function(p){E.postMessage(e+p,"*")}):E.MessageChannel?((t=new MessageChannel).port1.onmessage=function(p){y(p.data)},function(p){t.port2.postMessage(p)}):s&&"onreadystatechange"in s.createElement("script")?(l=s.documentElement,function(p){var o=s.createElement("script");o.onreadystatechange=function(){y(p),o.onreadystatechange=null,l.removeChild(o),o=null},l.appendChild(o)}):function(p){setTimeout(y,0,p)},d.setImmediate=function(p){typeof p!="function"&&(p=new Function(""+p));for(var o=new Array(arguments.length-1),f=0;f<o.length;f++)o[f]=arguments[f+1];var w={callback:p,args:o};return n[r]=w,a(r),r++},d.clearImmediate=v}function v(p){delete n[p]}function y(p){if(i)setTimeout(y,0,p);else{var o=n[p];if(o){i=!0;try{(function(f){var w=f.callback,g=f.args;switch(g.length){case 0:w();break;case 1:w(g[0]);break;case 2:w(g[0],g[1]);break;case 3:w(g[0],g[1],g[2]);break;default:w.apply(h,g)}})(o)}finally{v(p),i=!1}}}}function k(p){p.source===E&&typeof p.data=="string"&&p.data.indexOf(e)===0&&y(+p.data.slice(e.length))}})(typeof self>"u"?R===void 0?this:R:self)}).call(this,typeof jr<"u"?jr:typeof self<"u"?self:typeof window<"u"?window:{})},{}]},{},[10])(10)})})(Hn);var gi=Hn.exports;const zn=bn(gi);var $n={exports:{}};$n.exports;(function(X){var Y=function(){var c=String.fromCharCode,M="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=",W="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+-$",R={};function E(a,l){if(!R[a]){R[a]={};for(var t=0;t<a.length;t++)R[a][a.charAt(t)]=t}return R[a][l]}var h={compressToBase64:function(a){if(a==null)return"";var l=h._compress(a,6,function(t){return M.charAt(t)});switch(l.length%4){default:case 0:return l;case 1:return l+"===";case 2:return l+"==";case 3:return l+"="}},decompressFromBase64:function(a){return a==null?"":a==""?null:h._decompress(a.length,32,function(l){return E(M,a.charAt(l))})},compressToUTF16:function(a){return a==null?"":h._compress(a,15,function(l){return c(l+32)})+" "},decompressFromUTF16:function(a){return a==null?"":a==""?null:h._decompress(a.length,16384,function(l){return a.charCodeAt(l)-32})},compressToUint8Array:function(a){for(var l=h.compress(a),t=new Uint8Array(l.length*2),e=0,r=l.length;e<r;e++){var n=l.charCodeAt(e);t[e*2]=n>>>8,t[e*2+1]=n%256}return t},decompressFromUint8Array:function(a){if(a==null)return h.decompress(a);for(var l=new Array(a.length/2),t=0,e=l.length;t<e;t++)l[t]=a[t*2]*256+a[t*2+1];var r=[];return l.forEach(function(n){r.push(c(n))}),h.decompress(r.join(""))},compressToEncodedURIComponent:function(a){return a==null?"":h._compress(a,6,function(l){return W.charAt(l)})},decompressFromEncodedURIComponent:function(a){return a==null?"":a==""?null:(a=a.replace(/ /g,"+"),h._decompress(a.length,32,function(l){return E(W,a.charAt(l))}))},compress:function(a){return h._compress(a,16,function(l){return c(l)})},_compress:function(a,l,t){if(a==null)return"";var e,r,n={},i={},s="",d="",v="",y=2,k=3,p=2,o=[],f=0,w=0,g;for(g=0;g<a.length;g+=1)if(s=a.charAt(g),Object.prototype.hasOwnProperty.call(n,s)||(n[s]=k++,i[s]=!0),d=v+s,Object.prototype.hasOwnProperty.call(n,d))v=d;else{if(Object.prototype.hasOwnProperty.call(i,v)){if(v.charCodeAt(0)<256){for(e=0;e<p;e++)f=f<<1,w==l-1?(w=0,o.push(t(f)),f=0):w++;for(r=v.charCodeAt(0),e=0;e<8;e++)f=f<<1|r&1,w==l-1?(w=0,o.push(t(f)),f=0):w++,r=r>>1}else{for(r=1,e=0;e<p;e++)f=f<<1|r,w==l-1?(w=0,o.push(t(f)),f=0):w++,r=0;for(r=v.charCodeAt(0),e=0;e<16;e++)f=f<<1|r&1,w==l-1?(w=0,o.push(t(f)),f=0):w++,r=r>>1}y--,y==0&&(y=Math.pow(2,p),p++),delete i[v]}else for(r=n[v],e=0;e<p;e++)f=f<<1|r&1,w==l-1?(w=0,o.push(t(f)),f=0):w++,r=r>>1;y--,y==0&&(y=Math.pow(2,p),p++),n[d]=k++,v=String(s)}if(v!==""){if(Object.prototype.hasOwnProperty.call(i,v)){if(v.charCodeAt(0)<256){for(e=0;e<p;e++)f=f<<1,w==l-1?(w=0,o.push(t(f)),f=0):w++;for(r=v.charCodeAt(0),e=0;e<8;e++)f=f<<1|r&1,w==l-1?(w=0,o.push(t(f)),f=0):w++,r=r>>1}else{for(r=1,e=0;e<p;e++)f=f<<1|r,w==l-1?(w=0,o.push(t(f)),f=0):w++,r=0;for(r=v.charCodeAt(0),e=0;e<16;e++)f=f<<1|r&1,w==l-1?(w=0,o.push(t(f)),f=0):w++,r=r>>1}y--,y==0&&(y=Math.pow(2,p),p++),delete i[v]}else for(r=n[v],e=0;e<p;e++)f=f<<1|r&1,w==l-1?(w=0,o.push(t(f)),f=0):w++,r=r>>1;y--,y==0&&(y=Math.pow(2,p),p++)}for(r=2,e=0;e<p;e++)f=f<<1|r&1,w==l-1?(w=0,o.push(t(f)),f=0):w++,r=r>>1;for(;;)if(f=f<<1,w==l-1){o.push(t(f));break}else w++;return o.join("")},decompress:function(a){return a==null?"":a==""?null:h._decompress(a.length,32768,function(l){return a.charCodeAt(l)})},_decompress:function(a,l,t){var e=[],r=4,n=4,i=3,s="",d=[],v,y,k,p,o,f,w,g={val:t(0),position:l,index:1};for(v=0;v<3;v+=1)e[v]=v;for(k=0,o=Math.pow(2,2),f=1;f!=o;)p=g.val&g.position,g.position>>=1,g.position==0&&(g.position=l,g.val=t(g.index++)),k|=(p>0?1:0)*f,f<<=1;switch(k){case 0:for(k=0,o=Math.pow(2,8),f=1;f!=o;)p=g.val&g.position,g.position>>=1,g.position==0&&(g.position=l,g.val=t(g.index++)),k|=(p>0?1:0)*f,f<<=1;w=c(k);break;case 1:for(k=0,o=Math.pow(2,16),f=1;f!=o;)p=g.val&g.position,g.position>>=1,g.position==0&&(g.position=l,g.val=t(g.index++)),k|=(p>0?1:0)*f,f<<=1;w=c(k);break;case 2:return""}for(e[3]=w,y=w,d.push(w);;){if(g.index>a)return"";for(k=0,o=Math.pow(2,i),f=1;f!=o;)p=g.val&g.position,g.position>>=1,g.position==0&&(g.position=l,g.val=t(g.index++)),k|=(p>0?1:0)*f,f<<=1;switch(w=k){case 0:for(k=0,o=Math.pow(2,8),f=1;f!=o;)p=g.val&g.position,g.position>>=1,g.position==0&&(g.position=l,g.val=t(g.index++)),k|=(p>0?1:0)*f,f<<=1;e[n++]=c(k),w=n-1,r--;break;case 1:for(k=0,o=Math.pow(2,16),f=1;f!=o;)p=g.val&g.position,g.position>>=1,g.position==0&&(g.position=l,g.val=t(g.index++)),k|=(p>0?1:0)*f,f<<=1;e[n++]=c(k),w=n-1,r--;break;case 2:return d.join("")}if(r==0&&(r=Math.pow(2,i),i++),e[w])s=e[w];else if(w===n)s=y+y.charAt(0);else return null;d.push(s),e[n++]=y+s.charAt(0),r--,y=s,r==0&&(r=Math.pow(2,i),i++)}}};return h}();X!=null?X.exports=Y:typeof angular<"u"&&angular!=null&&angular.module("LZString",[]).factory("LZString",function(){return Y})})($n);var mi=$n.exports;const Gn=bn(mi);var Vn={exports:{}};(function(X,Y){(function(){var c="ace",M=function(){return this}();!M&&typeof window<"u"&&(M=window);var W=function(t,e,r){if(typeof t!="string"){W.original?W.original.apply(this,arguments):(console.error("dropping module because define wasn't a string."),console.trace());return}arguments.length==2&&(r=e),W.modules[t]||(W.payloads[t]=r,W.modules[t]=null)};W.modules={},W.payloads={};var R=function(t,e,r){if(typeof e=="string"){var n=a(t,e);if(n!=null)return r&&r(),n}else if(Object.prototype.toString.call(e)==="[object Array]"){for(var i=[],s=0,d=e.length;s<d;++s){var v=a(t,e[s]);if(v==null&&E.original)return;i.push(v)}return r&&r.apply(null,i)||!0}},E=function(t,e){var r=R("",t,e);return r==null&&E.original?E.original.apply(this,arguments):r},h=function(t,e){if(e.indexOf("!")!==-1){var r=e.split("!");return h(t,r[0])+"!"+h(t,r[1])}if(e.charAt(0)=="."){var n=t.split("/").slice(0,-1).join("/");for(e=n+"/"+e;e.indexOf(".")!==-1&&i!=e;){var i=e;e=e.replace(/\/\.\//,"/").replace(/[^\/]+\/\.\.\//,"")}}return e},a=function(t,e){e=h(t,e);var r=W.modules[e];if(!r){if(r=W.payloads[e],typeof r=="function"){var n={},i={id:e,uri:"",exports:n,packaged:!0},s=function(v,y){return R(e,v,y)},d=r(s,n,i);n=d||i.exports,W.modules[e]=n,delete W.payloads[e]}r=W.modules[e]=n||r}return r};function l(t){var e=M;t&&(M[t]||(M[t]={}),e=M[t]),(!e.define||!e.define.packaged)&&(W.original=e.define,e.define=W,e.define.packaged=!0),(!e.require||!e.require.packaged)&&(E.original=e.require,e.require=E,e.require.packaged=!0)}l(c)})(),ace.define("ace/lib/fixoldbrowsers",["require","exports","module"],function(c,M,W){typeof Element<"u"&&!Element.prototype.remove&&Object.defineProperty(Element.prototype,"remove",{enumerable:!1,writable:!0,configurable:!0,value:function(){this.parentNode&&this.parentNode.removeChild(this)}})}),ace.define("ace/lib/useragent",["require","exports","module"],function(c,M,W){M.OS={LINUX:"LINUX",MAC:"MAC",WINDOWS:"WINDOWS"},M.getOS=function(){return M.isMac?M.OS.MAC:M.isLinux?M.OS.LINUX:M.OS.WINDOWS};var R=typeof navigator=="object"?navigator:{},E=(/mac|win|linux/i.exec(R.platform)||["other"])[0].toLowerCase(),h=R.userAgent||"",a=R.appName||"";M.isWin=E=="win",M.isMac=E=="mac",M.isLinux=E=="linux",M.isIE=a=="Microsoft Internet Explorer"||a.indexOf("MSAppHost")>=0?parseFloat((h.match(/(?:MSIE |Trident\/[0-9]+[\.0-9]+;.*rv:)([0-9]+[\.0-9]+)/)||[])[1]):parseFloat((h.match(/(?:Trident\/[0-9]+[\.0-9]+;.*rv:)([0-9]+[\.0-9]+)/)||[])[1]),M.isOldIE=M.isIE&&M.isIE<9,M.isGecko=M.isMozilla=h.match(/ Gecko\/\d+/),M.isOpera=typeof opera=="object"&&Object.prototype.toString.call(window.opera)=="[object Opera]",M.isWebKit=parseFloat(h.split("WebKit/")[1])||void 0,M.isChrome=parseFloat(h.split(" Chrome/")[1])||void 0,M.isEdge=parseFloat(h.split(" Edge/")[1])||void 0,M.isAIR=h.indexOf("AdobeAIR")>=0,M.isAndroid=h.indexOf("Android")>=0,M.isChromeOS=h.indexOf(" CrOS ")>=0,M.isIOS=/iPad|iPhone|iPod/.test(h)&&!window.MSStream,M.isIOS&&(M.isMac=!0),M.isMobile=M.isIOS||M.isAndroid}),ace.define("ace/lib/dom",["require","exports","module","ace/lib/useragent"],function(c,M,W){var R=c("./useragent"),E="http://www.w3.org/1999/xhtml";if(M.buildDom=function a(l,t,e){if(typeof l=="string"&&l){var r=document.createTextNode(l);return t&&t.appendChild(r),r}if(!Array.isArray(l))return l&&l.appendChild&&t&&t.appendChild(l),l;if(typeof l[0]!="string"||!l[0]){for(var n=[],i=0;i<l.length;i++){var s=a(l[i],t,e);s&&n.push(s)}return n}var d=document.createElement(l[0]),v=l[1],y=1;v&&typeof v=="object"&&!Array.isArray(v)&&(y=2);for(var i=y;i<l.length;i++)a(l[i],d,e);return y==2&&Object.keys(v).forEach(function(k){var p=v[k];k==="class"?d.className=Array.isArray(p)?p.join(" "):p:typeof p=="function"||k=="value"||k[0]=="$"?d[k]=p:k==="ref"?e&&(e[p]=d):p!=null&&d.setAttribute(k,p)}),t&&t.appendChild(d),d},M.getDocumentHead=function(a){return a||(a=document),a.head||a.getElementsByTagName("head")[0]||a.documentElement},M.createElement=function(a,l){return document.createElementNS?document.createElementNS(l||E,a):document.createElement(a)},M.removeChildren=function(a){a.innerHTML=""},M.createTextNode=function(a,l){var t=l?l.ownerDocument:document;return t.createTextNode(a)},M.createFragment=function(a){var l=a?a.ownerDocument:document;return l.createDocumentFragment()},M.hasCssClass=function(a,l){var t=(a.className+"").split(/\s+/g);return t.indexOf(l)!==-1},M.addCssClass=function(a,l){M.hasCssClass(a,l)||(a.className+=" "+l)},M.removeCssClass=function(a,l){for(var t=a.className.split(/\s+/g);;){var e=t.indexOf(l);if(e==-1)break;t.splice(e,1)}a.className=t.join(" ")},M.toggleCssClass=function(a,l){for(var t=a.className.split(/\s+/g),e=!0;;){var r=t.indexOf(l);if(r==-1)break;e=!1,t.splice(r,1)}return e&&t.push(l),a.className=t.join(" "),e},M.setCssClass=function(a,l,t){t?M.addCssClass(a,l):M.removeCssClass(a,l)},M.hasCssString=function(a,l){var t=0,e;if(l=l||document,e=l.querySelectorAll("style")){for(;t<e.length;)if(e[t++].id===a)return!0}},M.importCssString=function(l,t,e){var r=e;!e||!e.getRootNode?r=document:(r=e.getRootNode(),(!r||r==e)&&(r=document));var n=r.ownerDocument||r;if(t&&M.hasCssString(t,r))return null;t&&(l+=`
/*# sourceURL=ace/css/`+t+" */");var i=M.createElement("style");i.appendChild(n.createTextNode(l)),t&&(i.id=t),r==n&&(r=M.getDocumentHead(n)),r.insertBefore(i,r.firstChild)},M.importCssStylsheet=function(a,l){M.buildDom(["link",{rel:"stylesheet",href:a}],M.getDocumentHead(l))},M.scrollbarWidth=function(a){var l=M.createElement("ace_inner");l.style.width="100%",l.style.minWidth="0px",l.style.height="200px",l.style.display="block";var t=M.createElement("ace_outer"),e=t.style;e.position="absolute",e.left="-10000px",e.overflow="hidden",e.width="200px",e.minWidth="0px",e.height="150px",e.display="block",t.appendChild(l);var r=a.documentElement;r.appendChild(t);var n=l.offsetWidth;e.overflow="scroll";var i=l.offsetWidth;return n==i&&(i=t.clientWidth),r.removeChild(t),n-i},typeof document>"u"&&(M.importCssString=function(){}),M.computedStyle=function(a,l){return window.getComputedStyle(a,"")||{}},M.setStyle=function(a,l,t){a[l]!==t&&(a[l]=t)},M.HAS_CSS_ANIMATION=!1,M.HAS_CSS_TRANSFORMS=!1,M.HI_DPI=R.isWin?typeof window<"u"&&window.devicePixelRatio>=1.5:!0,typeof document<"u"){var h=document.createElement("div");M.HI_DPI&&h.style.transform!==void 0&&(M.HAS_CSS_TRANSFORMS=!0),!R.isEdge&&typeof h.style.animationName<"u"&&(M.HAS_CSS_ANIMATION=!0),h=null}M.HAS_CSS_TRANSFORMS?M.translate=function(a,l,t){a.style.transform="translate("+Math.round(l)+"px, "+Math.round(t)+"px)"}:M.translate=function(a,l,t){a.style.top=Math.round(t)+"px",a.style.left=Math.round(l)+"px"}}),ace.define("ace/lib/oop",["require","exports","module"],function(c,M,W){M.inherits=function(R,E){R.super_=E,R.prototype=Object.create(E.prototype,{constructor:{value:R,enumerable:!1,writable:!0,configurable:!0}})},M.mixin=function(R,E){for(var h in E)R[h]=E[h];return R},M.implement=function(R,E){M.mixin(R,E)}}),ace.define("ace/lib/keys",["require","exports","module","ace/lib/oop"],function(c,M,W){var R=c("./oop"),E=function(){var h={MODIFIER_KEYS:{16:"Shift",17:"Ctrl",18:"Alt",224:"Meta",91:"MetaLeft",92:"MetaRight",93:"ContextMenu"},KEY_MODS:{ctrl:1,alt:2,option:2,shift:4,super:8,meta:8,command:8,cmd:8,control:1},FUNCTION_KEYS:{8:"Backspace",9:"Tab",13:"Return",19:"Pause",27:"Esc",32:"Space",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"Left",38:"Up",39:"Right",40:"Down",44:"Print",45:"Insert",46:"Delete",96:"Numpad0",97:"Numpad1",98:"Numpad2",99:"Numpad3",100:"Numpad4",101:"Numpad5",102:"Numpad6",103:"Numpad7",104:"Numpad8",105:"Numpad9","-13":"NumpadEnter",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"Numlock",145:"Scrolllock"},PRINTABLE_KEYS:{32:" ",48:"0",49:"1",50:"2",51:"3",52:"4",53:"5",54:"6",55:"7",56:"8",57:"9",59:";",61:"=",65:"a",66:"b",67:"c",68:"d",69:"e",70:"f",71:"g",72:"h",73:"i",74:"j",75:"k",76:"l",77:"m",78:"n",79:"o",80:"p",81:"q",82:"r",83:"s",84:"t",85:"u",86:"v",87:"w",88:"x",89:"y",90:"z",107:"+",109:"-",110:".",186:";",187:"=",188:",",189:"-",190:".",191:"/",192:"`",219:"[",220:"\\",221:"]",222:"'",111:"/",106:"*"}},a,l;for(l in h.FUNCTION_KEYS)a=h.FUNCTION_KEYS[l].toLowerCase(),h[a]=parseInt(l,10);for(l in h.PRINTABLE_KEYS)a=h.PRINTABLE_KEYS[l].toLowerCase(),h[a]=parseInt(l,10);return R.mixin(h,h.MODIFIER_KEYS),R.mixin(h,h.PRINTABLE_KEYS),R.mixin(h,h.FUNCTION_KEYS),h.enter=h.return,h.escape=h.esc,h.del=h.delete,h[173]="-",function(){for(var t=["cmd","ctrl","alt","shift"],e=Math.pow(2,t.length);e--;)h.KEY_MODS[e]=t.filter(function(r){return e&h.KEY_MODS[r]}).join("-")+"-"}(),h.KEY_MODS[0]="",h.KEY_MODS[-1]="input-",h}();R.mixin(M,E),M.keyCodeToString=function(h){var a=E[h];return typeof a!="string"&&(a=String.fromCharCode(h)),a.toLowerCase()}}),ace.define("ace/lib/event",["require","exports","module","ace/lib/keys","ace/lib/useragent"],function(c,M,W){var R=c("./keys"),E=c("./useragent"),h=null,a=0,l;function t(){l=!1;try{document.createComment("").addEventListener("test",function(){},{get passive(){l={passive:!1}}})}catch{}}function e(){return l==null&&t(),l}function r(k,p,o){this.elem=k,this.type=p,this.callback=o}r.prototype.destroy=function(){i(this.elem,this.type,this.callback),this.elem=this.type=this.callback=void 0};var n=M.addListener=function(k,p,o,f){k.addEventListener(p,o,e()),f&&f.$toDestroy.push(new r(k,p,o))},i=M.removeListener=function(k,p,o){k.removeEventListener(p,o,e())};M.stopEvent=function(k){return M.stopPropagation(k),M.preventDefault(k),!1},M.stopPropagation=function(k){k.stopPropagation&&k.stopPropagation()},M.preventDefault=function(k){k.preventDefault&&k.preventDefault()},M.getButton=function(k){return k.type=="dblclick"?0:k.type=="contextmenu"||E.isMac&&k.ctrlKey&&!k.altKey&&!k.shiftKey?2:k.button},M.capture=function(k,p,o){var f=k&&k.ownerDocument||document;function w(g){p&&p(g),o&&o(g),i(f,"mousemove",p),i(f,"mouseup",w),i(f,"dragstart",w)}return n(f,"mousemove",p),n(f,"mouseup",w),n(f,"dragstart",w),w},M.addMouseWheelListener=function(k,p,o){"onmousewheel"in k?n(k,"mousewheel",function(f){var w=8;f.wheelDeltaX!==void 0?(f.wheelX=-f.wheelDeltaX/w,f.wheelY=-f.wheelDeltaY/w):(f.wheelX=0,f.wheelY=-f.wheelDelta/w),p(f)},o):"onwheel"in k?n(k,"wheel",function(f){var w=.35;switch(f.deltaMode){case f.DOM_DELTA_PIXEL:f.wheelX=f.deltaX*w||0,f.wheelY=f.deltaY*w||0;break;case f.DOM_DELTA_LINE:case f.DOM_DELTA_PAGE:f.wheelX=(f.deltaX||0)*5,f.wheelY=(f.deltaY||0)*5;break}p(f)},o):n(k,"DOMMouseScroll",function(f){f.axis&&f.axis==f.HORIZONTAL_AXIS?(f.wheelX=(f.detail||0)*5,f.wheelY=0):(f.wheelX=0,f.wheelY=(f.detail||0)*5),p(f)},o)},M.addMultiMouseDownListener=function(k,p,o,f,w){var g=0,m,u,F,S={2:"dblclick",3:"tripleclick",4:"quadclick"};function L(A){if(M.getButton(A)!==0?g=0:A.detail>1?(g++,g>4&&(g=1)):g=1,E.isIE){var P=Math.abs(A.clientX-m)>5||Math.abs(A.clientY-u)>5;(!F||P)&&(g=1),F&&clearTimeout(F),F=setTimeout(function(){F=null},p[g-1]||600),g==1&&(m=A.clientX,u=A.clientY)}if(A._clicks=g,o[f]("mousedown",A),g>4)g=0;else if(g>1)return o[f](S[g],A)}Array.isArray(k)||(k=[k]),k.forEach(function(A){n(A,"mousedown",L,w)})};var s=function(k){return 0|(k.ctrlKey?1:0)|(k.altKey?2:0)|(k.shiftKey?4:0)|(k.metaKey?8:0)};M.getModifierString=function(k){return R.KEY_MODS[s(k)]};function d(k,p,o){var f=s(p);if(!E.isMac&&h){if(p.getModifierState&&(p.getModifierState("OS")||p.getModifierState("Win"))&&(f|=8),h.altGr)if((3&f)!=3)h.altGr=0;else return;if(o===18||o===17){var w="location"in p?p.location:p.keyLocation;if(o===17&&w===1)h[o]==1&&(a=p.timeStamp);else if(o===18&&f===3&&w===2){var g=p.timeStamp-a;g<50&&(h.altGr=!0)}}}if(o in R.MODIFIER_KEYS&&(o=-1),!f&&o===13){var w="location"in p?p.location:p.keyLocation;if(w===3&&(k(p,f,-o),p.defaultPrevented))return}if(E.isChromeOS&&f&8){if(k(p,f,o),p.defaultPrevented)return;f&=-9}return!f&&!(o in R.FUNCTION_KEYS)&&!(o in R.PRINTABLE_KEYS)?!1:k(p,f,o)}M.addCommandKeyListener=function(k,p,o){if(E.isOldGecko||E.isOpera&&!("KeyboardEvent"in window)){var f=null;n(k,"keydown",function(g){f=g.keyCode},o),n(k,"keypress",function(g){return d(p,g,f)},o)}else{var w=null;n(k,"keydown",function(g){h[g.keyCode]=(h[g.keyCode]||0)+1;var m=d(p,g,g.keyCode);return w=g.defaultPrevented,m},o),n(k,"keypress",function(g){w&&(g.ctrlKey||g.altKey||g.shiftKey||g.metaKey)&&(M.stopEvent(g),w=null)},o),n(k,"keyup",function(g){h[g.keyCode]=null},o),h||(v(),n(window,"focus",v))}};function v(){h=Object.create(null)}if(typeof window=="object"&&window.postMessage&&!E.isOldIE){var y=1;M.nextTick=function(k,p){p=p||window;var o="zero-timeout-message-"+y++,f=function(w){w.data==o&&(M.stopPropagation(w),i(p,"message",f),k())};n(p,"message",f),p.postMessage(o,"*")}}M.$idleBlocked=!1,M.onIdle=function(k,p){return setTimeout(function o(){M.$idleBlocked?setTimeout(o,100):k()},p)},M.$idleBlockId=null,M.blockIdle=function(k){M.$idleBlockId&&clearTimeout(M.$idleBlockId),M.$idleBlocked=!0,M.$idleBlockId=setTimeout(function(){M.$idleBlocked=!1},k||100)},M.nextFrame=typeof window=="object"&&(window.requestAnimationFrame||window.mozRequestAnimationFrame||window.webkitRequestAnimationFrame||window.msRequestAnimationFrame||window.oRequestAnimationFrame),M.nextFrame?M.nextFrame=M.nextFrame.bind(window):M.nextFrame=function(k){setTimeout(k,17)}}),ace.define("ace/range",["require","exports","module"],function(c,M,W){var R=function(h,a){return h.row-a.row||h.column-a.column},E=function(h,a,l,t){this.start={row:h,column:a},this.end={row:l,column:t}};(function(){this.isEqual=function(h){return this.start.row===h.start.row&&this.end.row===h.end.row&&this.start.column===h.start.column&&this.end.column===h.end.column},this.toString=function(){return"Range: ["+this.start.row+"/"+this.start.column+"] -> ["+this.end.row+"/"+this.end.column+"]"},this.contains=function(h,a){return this.compare(h,a)==0},this.compareRange=function(h){var a,l=h.end,t=h.start;return a=this.compare(l.row,l.column),a==1?(a=this.compare(t.row,t.column),a==1?2:a==0?1:0):a==-1?-2:(a=this.compare(t.row,t.column),a==-1?-1:a==1?42:0)},this.comparePoint=function(h){return this.compare(h.row,h.column)},this.containsRange=function(h){return this.comparePoint(h.start)==0&&this.comparePoint(h.end)==0},this.intersects=function(h){var a=this.compareRange(h);return a==-1||a==0||a==1},this.isEnd=function(h,a){return this.end.row==h&&this.end.column==a},this.isStart=function(h,a){return this.start.row==h&&this.start.column==a},this.setStart=function(h,a){typeof h=="object"?(this.start.column=h.column,this.start.row=h.row):(this.start.row=h,this.start.column=a)},this.setEnd=function(h,a){typeof h=="object"?(this.end.column=h.column,this.end.row=h.row):(this.end.row=h,this.end.column=a)},this.inside=function(h,a){return this.compare(h,a)==0?!(this.isEnd(h,a)||this.isStart(h,a)):!1},this.insideStart=function(h,a){return this.compare(h,a)==0?!this.isEnd(h,a):!1},this.insideEnd=function(h,a){return this.compare(h,a)==0?!this.isStart(h,a):!1},this.compare=function(h,a){return!this.isMultiLine()&&h===this.start.row?a<this.start.column?-1:a>this.end.column?1:0:h<this.start.row?-1:h>this.end.row?1:this.start.row===h?a>=this.start.column?0:-1:this.end.row===h?a<=this.end.column?0:1:0},this.compareStart=function(h,a){return this.start.row==h&&this.start.column==a?-1:this.compare(h,a)},this.compareEnd=function(h,a){return this.end.row==h&&this.end.column==a?1:this.compare(h,a)},this.compareInside=function(h,a){return this.end.row==h&&this.end.column==a?1:this.start.row==h&&this.start.column==a?-1:this.compare(h,a)},this.clipRows=function(h,a){if(this.end.row>a)var l={row:a+1,column:0};else if(this.end.row<h)var l={row:h,column:0};if(this.start.row>a)var t={row:a+1,column:0};else if(this.start.row<h)var t={row:h,column:0};return E.fromPoints(t||this.start,l||this.end)},this.extend=function(h,a){var l=this.compare(h,a);if(l==0)return this;if(l==-1)var t={row:h,column:a};else var e={row:h,column:a};return E.fromPoints(t||this.start,e||this.end)},this.isEmpty=function(){return this.start.row===this.end.row&&this.start.column===this.end.column},this.isMultiLine=function(){return this.start.row!==this.end.row},this.clone=function(){return E.fromPoints(this.start,this.end)},this.collapseRows=function(){return this.end.column==0?new E(this.start.row,0,Math.max(this.start.row,this.end.row-1),0):new E(this.start.row,0,this.end.row,0)},this.toScreenRange=function(h){var a=h.documentToScreenPosition(this.start),l=h.documentToScreenPosition(this.end);return new E(a.row,a.column,l.row,l.column)},this.moveBy=function(h,a){this.start.row+=h,this.start.column+=a,this.end.row+=h,this.end.column+=a}}).call(E.prototype),E.fromPoints=function(h,a){return new E(h.row,h.column,a.row,a.column)},E.comparePoints=R,E.comparePoints=function(h,a){return h.row-a.row||h.column-a.column},M.Range=E}),ace.define("ace/lib/lang",["require","exports","module"],function(c,M,W){M.last=function(h){return h[h.length-1]},M.stringReverse=function(h){return h.split("").reverse().join("")},M.stringRepeat=function(h,a){for(var l="";a>0;)a&1&&(l+=h),(a>>=1)&&(h+=h);return l};var R=/^\s\s*/,E=/\s\s*$/;M.stringTrimLeft=function(h){return h.replace(R,"")},M.stringTrimRight=function(h){return h.replace(E,"")},M.copyObject=function(h){var a={};for(var l in h)a[l]=h[l];return a},M.copyArray=function(h){for(var a=[],l=0,t=h.length;l<t;l++)h[l]&&typeof h[l]=="object"?a[l]=this.copyObject(h[l]):a[l]=h[l];return a},M.deepCopy=function h(a){if(typeof a!="object"||!a)return a;var l;if(Array.isArray(a)){l=[];for(var t=0;t<a.length;t++)l[t]=h(a[t]);return l}if(Object.prototype.toString.call(a)!=="[object Object]")return a;l={};for(var t in a)l[t]=h(a[t]);return l},M.arrayToMap=function(h){for(var a={},l=0;l<h.length;l++)a[h[l]]=1;return a},M.createMap=function(h){var a=Object.create(null);for(var l in h)a[l]=h[l];return a},M.arrayRemove=function(h,a){for(var l=0;l<=h.length;l++)a===h[l]&&h.splice(l,1)},M.escapeRegExp=function(h){return h.replace(/([.*+?^${}()|[\]\/\\])/g,"\\$1")},M.escapeHTML=function(h){return(""+h).replace(/&/g,"&#38;").replace(/"/g,"&#34;").replace(/'/g,"&#39;").replace(/</g,"&#60;")},M.getMatchOffsets=function(h,a){var l=[];return h.replace(a,function(t){l.push({offset:arguments[arguments.length-2],length:t.length})}),l},M.deferredCall=function(h){var a=null,l=function(){a=null,h()},t=function(e){return t.cancel(),a=setTimeout(l,e||0),t};return t.schedule=t,t.call=function(){return this.cancel(),h(),t},t.cancel=function(){return clearTimeout(a),a=null,t},t.isPending=function(){return a},t},M.delayedCall=function(h,a){var l=null,t=function(){l=null,h()},e=function(r){l==null&&(l=setTimeout(t,r||a))};return e.delay=function(r){l&&clearTimeout(l),l=setTimeout(t,r||a)},e.schedule=e,e.call=function(){this.cancel(),h()},e.cancel=function(){l&&clearTimeout(l),l=null},e.isPending=function(){return l},e}}),ace.define("ace/clipboard",["require","exports","module"],function(c,M,W){var R;W.exports={lineMode:!1,pasteCancelled:function(){return R&&R>Date.now()-50?!0:R=!1},cancel:function(){R=Date.now()}}}),ace.define("ace/keyboard/textinput",["require","exports","module","ace/lib/event","ace/lib/useragent","ace/lib/dom","ace/lib/lang","ace/clipboard","ace/lib/keys"],function(c,M,W){var R=c("../lib/event"),E=c("../lib/useragent"),h=c("../lib/dom"),a=c("../lib/lang"),l=c("../clipboard"),t=E.isChrome<18,e=E.isIE,r=E.isChrome>63,n=400,i=c("../lib/keys"),s=i.KEY_MODS,d=E.isIOS,v=d?/\s/:/\n/,y=E.isMobile,k=function(p,o){var f=h.createElement("textarea");f.className="ace_text-input",f.setAttribute("wrap","off"),f.setAttribute("autocorrect","off"),f.setAttribute("autocapitalize","off"),f.setAttribute("spellcheck",!1),f.style.opacity="0",p.insertBefore(f,p.firstChild);var w=!1,g=!1,m=!1,u=!1,F="";y||(f.style.fontSize="1px");var S=!1,L=!1,A="",P=0,H=0,j=0;try{var le=document.activeElement===f}catch{}R.addListener(f,"blur",function(he){L||(o.onBlur(he),le=!1)},o),R.addListener(f,"focus",function(he){if(!L){if(le=!0,E.isEdge)try{if(!document.hasFocus())return}catch{}o.onFocus(he),E.isEdge?setTimeout(q):q()}},o),this.$focusScroll=!1,this.focus=function(){if(F||r||this.$focusScroll=="browser")return f.focus({preventScroll:!0});var he=f.style.top;f.style.position="fixed",f.style.top="0px";try{var ae=f.getBoundingClientRect().top!=0}catch{return}var Se=[];if(ae)for(var pe=f.parentElement;pe&&pe.nodeType==1;)Se.push(pe),pe.setAttribute("ace_nocontext",!0),!pe.parentElement&&pe.getRootNode?pe=pe.getRootNode().host:pe=pe.parentElement;f.focus({preventScroll:!0}),ae&&Se.forEach(function(ke){ke.removeAttribute("ace_nocontext")}),setTimeout(function(){f.style.position="",f.style.top=="0px"&&(f.style.top=he)},0)},this.blur=function(){f.blur()},this.isFocused=function(){return le},o.on("beforeEndOperation",function(){var he=o.curOp,ae=he&&he.command&&he.command.name;if(ae!="insertstring"){var Se=ae&&(he.docChanged||he.selectionChanged);m&&Se&&(A=f.value="",Qe()),q()}});var q=d?function(he){if(!(!le||w&&!he||u)){he||(he="");var ae=`
 ab`+he+`cde fg
`;ae!=f.value&&(f.value=A=ae);var Se=4,pe=4+(he.length||(o.selection.isEmpty()?0:1));(P!=Se||H!=pe)&&f.setSelectionRange(Se,pe),P=Se,H=pe}}:function(){if(!(m||u)&&!(!le&&!ie)){m=!0;var he=0,ae=0,Se="";if(o.session){var pe=o.selection,ke=pe.getRange(),Pe=pe.cursor.row;if(he=ke.start.column,ae=ke.end.column,Se=o.session.getLine(Pe),ke.start.row!=Pe){var Ue=o.session.getLine(Pe-1);he=ke.start.row<Pe-1?0:he,ae+=Ue.length+1,Se=Ue+`
`+Se}else if(ke.end.row!=Pe){var ze=o.session.getLine(Pe+1);ae=ke.end.row>Pe+1?ze.length:ae,ae+=Se.length+1,Se=Se+`
`+ze}else y&&Pe>0&&(Se=`
`+Se,ae+=1,he+=1);Se.length>n&&(he<n&&ae<n?Se=Se.slice(0,n):(Se=`
`,he==ae?he=ae=0:(he=0,ae=1)))}var Ve=Se+`

`;if(Ve!=A&&(f.value=A=Ve,P=H=Ve.length),ie&&(P=f.selectionStart,H=f.selectionEnd),H!=ae||P!=he||f.selectionEnd!=H)try{f.setSelectionRange(he,ae),P=he,H=ae}catch{}m=!1}};this.resetSelection=q,le&&o.onFocus();var ue=function(he){return he.selectionStart===0&&he.selectionEnd>=A.length&&he.value===A&&A&&he.selectionEnd!==H},J=function(he){m||(w?w=!1:ue(f)?(o.selectAll(),q()):y&&f.selectionStart!=P&&q())},ee=null;this.setInputHandler=function(he){ee=he},this.getInputHandler=function(){return ee};var ie=!1,me=function(he,ae){if(ie&&(ie=!1),g)return q(),he&&o.onPaste(he),g=!1,"";for(var Se=f.selectionStart,pe=f.selectionEnd,ke=P,Pe=A.length-H,Ue=he,ze=he.length-Se,Ve=he.length-pe,xe=0;ke>0&&A[xe]==he[xe];)xe++,ke--;for(Ue=Ue.slice(xe),xe=1;Pe>0&&A.length-xe>P-1&&A[A.length-xe]==he[he.length-xe];)xe++,Pe--;ze-=xe-1,Ve-=xe-1;var ot=Ue.length-xe+1;if(ot<0&&(ke=-ot,ot=0),Ue=Ue.slice(0,ot),!ae&&!Ue&&!ze&&!ke&&!Pe&&!Ve)return"";u=!0;var pt=!1;return E.isAndroid&&Ue==". "&&(Ue="  ",pt=!0),Ue&&!ke&&!Pe&&!ze&&!Ve||S?o.onTextInput(Ue):o.onTextInput(Ue,{extendLeft:ke,extendRight:Pe,restoreStart:ze,restoreEnd:Ve}),u=!1,A=he,P=Se,H=pe,j=Ve,pt?`
`:Ue},de=function(he){if(m)return qe();if(he&&he.inputType){if(he.inputType=="historyUndo")return o.execCommand("undo");if(he.inputType=="historyRedo")return o.execCommand("redo")}var ae=f.value,Se=me(ae,!0);(ae.length>n+100||v.test(Se)||y&&P<1&&P==H)&&q()},Ce=function(he,ae,Se){var pe=he.clipboardData||window.clipboardData;if(!(!pe||t)){var ke=e||Se?"Text":"text/plain";try{return ae?pe.setData(ke,ae)!==!1:pe.getData(ke)}catch(Pe){if(!Se)return Ce(Pe,ae,!0)}}},Fe=function(he,ae){var Se=o.getCopyText();if(!Se)return R.preventDefault(he);Ce(he,Se)?(d&&(q(Se),w=Se,setTimeout(function(){w=!1},10)),ae?o.onCut():o.onCopy(),R.preventDefault(he)):(w=!0,f.value=Se,f.select(),setTimeout(function(){w=!1,q(),ae?o.onCut():o.onCopy()}))},Te=function(he){Fe(he,!0)},Be=function(he){Fe(he,!1)},Me=function(he){var ae=Ce(he);l.pasteCancelled()||(typeof ae=="string"?(ae&&o.onPaste(ae,he),E.isIE&&setTimeout(q),R.preventDefault(he)):(f.value="",g=!0))};R.addCommandKeyListener(f,o.onCommandKey.bind(o),o),R.addListener(f,"select",J,o),R.addListener(f,"input",de,o),R.addListener(f,"cut",Te,o),R.addListener(f,"copy",Be,o),R.addListener(f,"paste",Me,o),(!("oncut"in f)||!("oncopy"in f)||!("onpaste"in f))&&R.addListener(p,"keydown",function(he){if(!(E.isMac&&!he.metaKey||!he.ctrlKey))switch(he.keyCode){case 67:Be(he);break;case 86:Me(he);break;case 88:Te(he);break}},o);var He=function(he){if(!(m||!o.onCompositionStart||o.$readOnly)&&(m={},!S)){he.data&&(m.useTextareaForIME=!1),setTimeout(qe,0),o._signal("compositionStart"),o.on("mousedown",O);var ae=o.getSelectionRange();ae.end.row=ae.start.row,ae.end.column=ae.start.column,m.markerRange=ae,m.selectionStart=P,o.onCompositionStart(m),m.useTextareaForIME?(A=f.value="",P=0,H=0):(f.msGetInputContext&&(m.context=f.msGetInputContext()),f.getInputContext&&(m.context=f.getInputContext()))}},qe=function(){if(!(!m||!o.onCompositionUpdate||o.$readOnly)){if(S)return O();if(m.useTextareaForIME)o.onCompositionUpdate(f.value);else{var he=f.value;me(he),m.markerRange&&(m.context&&(m.markerRange.start.column=m.selectionStart=m.context.compositionStartOffset),m.markerRange.end.column=m.markerRange.start.column+H-m.selectionStart+j)}}},Qe=function(he){!o.onCompositionEnd||o.$readOnly||(m=!1,o.onCompositionEnd(),o.off("mousedown",O),he&&de())};function O(){L=!0,f.blur(),f.focus(),L=!1}var Ee=a.delayedCall(qe,50).schedule.bind(null,null);function be(he){he.keyCode==27&&f.value.length<f.selectionStart&&(m||(A=f.value),P=H=-1,q()),Ee()}R.addListener(f,"compositionstart",He,o),R.addListener(f,"compositionupdate",qe,o),R.addListener(f,"keyup",be,o),R.addListener(f,"keydown",Ee,o),R.addListener(f,"compositionend",Qe,o),this.getElement=function(){return f},this.setCommandMode=function(he){S=he,f.readOnly=!1},this.setReadOnly=function(he){S||(f.readOnly=he)},this.setCopyWithEmptySelection=function(he){},this.onContextMenu=function(he){ie=!0,q(),o._emit("nativecontextmenu",{target:o,domEvent:he}),this.moveToMouse(he,!0)},this.moveToMouse=function(he,ae){F||(F=f.style.cssText),f.style.cssText=(ae?"z-index:100000;":"")+(E.isIE?"opacity:0.1;":"")+"text-indent: -"+(P+H)*o.renderer.characterWidth*.5+"px;";var Se=o.container.getBoundingClientRect(),pe=h.computedStyle(o.container),ke=Se.top+(parseInt(pe.borderTopWidth)||0),Pe=Se.left+(parseInt(Se.borderLeftWidth)||0),Ue=Se.bottom-ke-f.clientHeight-2,ze=function(Ve){h.translate(f,Ve.clientX-Pe-2,Math.min(Ve.clientY-ke-2,Ue))};ze(he),he.type=="mousedown"&&(o.renderer.$isMousePressed=!0,clearTimeout(te),E.isWin&&R.capture(o.container,ze,Z))},this.onContextMenuClose=Z;var te;function Z(){clearTimeout(te),te=setTimeout(function(){F&&(f.style.cssText=F,F=""),o.renderer.$isMousePressed=!1,o.renderer.$keepTextAreaAtCursor&&o.renderer.$moveTextAreaToCursor()},0)}var Q=function(he){o.textInput.onContextMenu(he),Z()};R.addListener(f,"mouseup",Q,o),R.addListener(f,"mousedown",function(he){he.preventDefault(),Z()},o),R.addListener(o.renderer.scroller,"contextmenu",Q,o),R.addListener(f,"contextmenu",Q,o),d&&we(p,o,f);function we(he,ae,Se){var pe=null,ke=!1;Se.addEventListener("keydown",function(Ue){pe&&clearTimeout(pe),ke=!0},!0),Se.addEventListener("keyup",function(Ue){pe=setTimeout(function(){ke=!1},100)},!0);var Pe=function(Ue){if(document.activeElement===Se&&!(ke||m||ae.$mouseHandler.isMousePressed)&&!w){var ze=Se.selectionStart,Ve=Se.selectionEnd,xe=null,ot=0;if(ze==0?xe=i.up:ze==1?xe=i.home:Ve>H&&A[Ve]==`
`?xe=i.end:ze<P&&A[ze-1]==" "?(xe=i.left,ot=s.option):ze<P||ze==P&&H!=P&&ze==Ve?xe=i.left:Ve>H&&A.slice(0,Ve).split(`
`).length>2?xe=i.down:Ve>H&&A[Ve-1]==" "?(xe=i.right,ot=s.option):(Ve>H||Ve==H&&H!=P&&ze==Ve)&&(xe=i.right),ze!==Ve&&(ot|=s.shift),xe){var pt=ae.onCommandKey({},ot,xe);if(!pt&&ae.commands){xe=i.keyCodeToString(xe);var ne=ae.commands.findKeyCommand(ot,xe);ne&&ae.execCommand(ne)}P=ze,H=Ve,q("")}}};document.addEventListener("selectionchange",Pe),ae.on("destroy",function(){document.removeEventListener("selectionchange",Pe)})}};M.TextInput=k,M.$setUserAgentForTests=function(p,o){y=p,d=o}}),ace.define("ace/mouse/default_handlers",["require","exports","module","ace/lib/useragent"],function(c,M,W){var R=c("../lib/useragent"),E=0,h=550;function a(e){e.$clickSelection=null;var r=e.editor;r.setDefaultHandler("mousedown",this.onMouseDown.bind(e)),r.setDefaultHandler("dblclick",this.onDoubleClick.bind(e)),r.setDefaultHandler("tripleclick",this.onTripleClick.bind(e)),r.setDefaultHandler("quadclick",this.onQuadClick.bind(e)),r.setDefaultHandler("mousewheel",this.onMouseWheel.bind(e));var n=["select","startSelect","selectEnd","selectAllEnd","selectByWordsEnd","selectByLinesEnd","dragWait","dragWaitEnd","focusWait"];n.forEach(function(i){e[i]=this[i]},this),e.selectByLines=this.extendSelectionBy.bind(e,"getLineRange"),e.selectByWords=this.extendSelectionBy.bind(e,"getWordRange")}(function(){this.onMouseDown=function(e){var r=e.inSelection(),n=e.getDocumentPosition();this.mousedownEvent=e;var i=this.editor,s=e.getButton();if(s!==0){var d=i.getSelectionRange(),v=d.isEmpty();(v||s==1)&&i.selection.moveToPosition(n),s==2&&(i.textInput.onContextMenu(e.domEvent),R.isMozilla||e.preventDefault());return}if(this.mousedownEvent.time=Date.now(),r&&!i.isFocused()&&(i.focus(),this.$focusTimeout&&!this.$clickSelection&&!i.inMultiSelectMode)){this.setState("focusWait"),this.captureMouse(e);return}return this.captureMouse(e),this.startSelect(n,e.domEvent._clicks>1),e.preventDefault()},this.startSelect=function(e,r){e=e||this.editor.renderer.screenToTextCoordinates(this.x,this.y);var n=this.editor;this.mousedownEvent&&(this.mousedownEvent.getShiftKey()?n.selection.selectToPosition(e):r||n.selection.moveToPosition(e),r||this.select(),n.renderer.scroller.setCapture&&n.renderer.scroller.setCapture(),n.setStyle("ace_selecting"),this.setState("select"))},this.select=function(){var e,r=this.editor,n=r.renderer.screenToTextCoordinates(this.x,this.y);if(this.$clickSelection){var i=this.$clickSelection.comparePoint(n);if(i==-1)e=this.$clickSelection.end;else if(i==1)e=this.$clickSelection.start;else{var s=t(this.$clickSelection,n);n=s.cursor,e=s.anchor}r.selection.setSelectionAnchor(e.row,e.column)}r.selection.selectToPosition(n),r.renderer.scrollCursorIntoView()},this.extendSelectionBy=function(e){var r,n=this.editor,i=n.renderer.screenToTextCoordinates(this.x,this.y),s=n.selection[e](i.row,i.column);if(this.$clickSelection){var d=this.$clickSelection.comparePoint(s.start),v=this.$clickSelection.comparePoint(s.end);if(d==-1&&v<=0)r=this.$clickSelection.end,(s.end.row!=i.row||s.end.column!=i.column)&&(i=s.start);else if(v==1&&d>=0)r=this.$clickSelection.start,(s.start.row!=i.row||s.start.column!=i.column)&&(i=s.end);else if(d==-1&&v==1)i=s.end,r=s.start;else{var y=t(this.$clickSelection,i);i=y.cursor,r=y.anchor}n.selection.setSelectionAnchor(r.row,r.column)}n.selection.selectToPosition(i),n.renderer.scrollCursorIntoView()},this.selectEnd=this.selectAllEnd=this.selectByWordsEnd=this.selectByLinesEnd=function(){this.$clickSelection=null,this.editor.unsetStyle("ace_selecting"),this.editor.renderer.scroller.releaseCapture&&this.editor.renderer.scroller.releaseCapture()},this.focusWait=function(){var e=l(this.mousedownEvent.x,this.mousedownEvent.y,this.x,this.y),r=Date.now();(e>E||r-this.mousedownEvent.time>this.$focusTimeout)&&this.startSelect(this.mousedownEvent.getDocumentPosition())},this.onDoubleClick=function(e){var r=e.getDocumentPosition(),n=this.editor,i=n.session,s=i.getBracketRange(r);s?(s.isEmpty()&&(s.start.column--,s.end.column++),this.setState("select")):(s=n.selection.getWordRange(r.row,r.column),this.setState("selectByWords")),this.$clickSelection=s,this.select()},this.onTripleClick=function(e){var r=e.getDocumentPosition(),n=this.editor;this.setState("selectByLines");var i=n.getSelectionRange();i.isMultiLine()&&i.contains(r.row,r.column)?(this.$clickSelection=n.selection.getLineRange(i.start.row),this.$clickSelection.end=n.selection.getLineRange(i.end.row).end):this.$clickSelection=n.selection.getLineRange(r.row),this.select()},this.onQuadClick=function(e){var r=this.editor;r.selectAll(),this.$clickSelection=r.getSelectionRange(),this.setState("selectAll")},this.onMouseWheel=function(e){if(!e.getAccelKey()){e.getShiftKey()&&e.wheelY&&!e.wheelX&&(e.wheelX=e.wheelY,e.wheelY=0);var r=this.editor;this.$lastScroll||(this.$lastScroll={t:0,vx:0,vy:0,allowed:0});var n=this.$lastScroll,i=e.domEvent.timeStamp,s=i-n.t,d=s?e.wheelX/s:n.vx,v=s?e.wheelY/s:n.vy;s<h&&(d=(d+n.vx)/2,v=(v+n.vy)/2);var y=Math.abs(d/v),k=!1;if(y>=1&&r.renderer.isScrollableBy(e.wheelX*e.speed,0)&&(k=!0),y<=1&&r.renderer.isScrollableBy(0,e.wheelY*e.speed)&&(k=!0),k)n.allowed=i;else if(i-n.allowed<h){var p=Math.abs(d)<=1.5*Math.abs(n.vx)&&Math.abs(v)<=1.5*Math.abs(n.vy);p?(k=!0,n.allowed=i):n.allowed=0}if(n.t=i,n.vx=d,n.vy=v,k)return r.renderer.scrollBy(e.wheelX*e.speed,e.wheelY*e.speed),e.stop()}}}).call(a.prototype),M.DefaultHandlers=a;function l(e,r,n,i){return Math.sqrt(Math.pow(n-e,2)+Math.pow(i-r,2))}function t(e,r){if(e.start.row==e.end.row)var n=2*r.column-e.start.column-e.end.column;else if(e.start.row==e.end.row-1&&!e.start.column&&!e.end.column)var n=r.column-4;else var n=2*r.row-e.start.row-e.end.row;return n<0?{cursor:e.start,anchor:e.end}:{cursor:e.end,anchor:e.start}}}),ace.define("ace/tooltip",["require","exports","module","ace/lib/oop","ace/lib/dom"],function(c,M,W){c("./lib/oop");var R=c("./lib/dom");function E(h){this.isOpen=!1,this.$element=null,this.$parentNode=h}(function(){this.$init=function(){return this.$element=R.createElement("div"),this.$element.className="ace_tooltip",this.$element.style.display="none",this.$parentNode.appendChild(this.$element),this.$element},this.getElement=function(){return this.$element||this.$init()},this.setText=function(h){this.getElement().textContent=h},this.setHtml=function(h){this.getElement().innerHTML=h},this.setPosition=function(h,a){this.getElement().style.left=h+"px",this.getElement().style.top=a+"px"},this.setClassName=function(h){R.addCssClass(this.getElement(),h)},this.show=function(h,a,l){h!=null&&this.setText(h),a!=null&&l!=null&&this.setPosition(a,l),this.isOpen||(this.getElement().style.display="block",this.isOpen=!0)},this.hide=function(){this.isOpen&&(this.getElement().style.display="none",this.isOpen=!1)},this.getHeight=function(){return this.getElement().offsetHeight},this.getWidth=function(){return this.getElement().offsetWidth},this.destroy=function(){this.isOpen=!1,this.$element&&this.$element.parentNode&&this.$element.parentNode.removeChild(this.$element)}}).call(E.prototype),M.Tooltip=E}),ace.define("ace/mouse/default_gutter_handler",["require","exports","module","ace/lib/dom","ace/lib/oop","ace/lib/event","ace/tooltip"],function(c,M,W){var R=c("../lib/dom"),E=c("../lib/oop"),h=c("../lib/event"),a=c("../tooltip").Tooltip;function l(e){var r=e.editor,n=r.renderer.$gutterLayer,i=new t(r.container);e.editor.setDefaultHandler("guttermousedown",function(o){if(!(!r.isFocused()||o.getButton()!=0)){var f=n.getRegion(o);if(f!="foldWidgets"){var w=o.getDocumentPosition().row,g=r.session.selection;if(o.getShiftKey())g.selectTo(w,0);else{if(o.domEvent.detail==2)return r.selectAll(),o.preventDefault();e.$clickSelection=r.selection.getLineRange(w)}return e.setState("selectByLines"),e.captureMouse(o),o.preventDefault()}}});var s,d,v;function y(){var o=d.getDocumentPosition().row,f=n.$annotations[o];if(!f)return k();var w=r.session.getLength();if(o==w){var g=r.renderer.pixelToScreenCoordinates(0,d.y).row,m=d.$pos;if(g>r.session.documentToScreenRow(m.row,m.column))return k()}if(v!=f)if(v=f.text.join("<br/>"),i.setHtml(v),i.show(),r._signal("showGutterTooltip",i),r.on("mousewheel",k),e.$tooltipFollowsMouse)p(d);else{var u=d.domEvent.target,F=u.getBoundingClientRect(),S=i.getElement().style;S.left=F.right+"px",S.top=F.bottom+"px"}}function k(){s&&(s=clearTimeout(s)),v&&(i.hide(),v=null,r._signal("hideGutterTooltip",i),r.off("mousewheel",k))}function p(o){i.setPosition(o.x,o.y)}e.editor.setDefaultHandler("guttermousemove",function(o){var f=o.domEvent.target||o.domEvent.srcElement;if(R.hasCssClass(f,"ace_fold-widget"))return k();v&&e.$tooltipFollowsMouse&&p(o),d=o,!s&&(s=setTimeout(function(){s=null,d&&!e.isMousePressed?y():k()},50))}),h.addListener(r.renderer.$gutter,"mouseout",function(o){d=null,!(!v||s)&&(s=setTimeout(function(){s=null,k()},50))},r),r.on("changeSession",k)}function t(e){a.call(this,e)}E.inherits(t,a),(function(){this.setPosition=function(e,r){var n=window.innerWidth||document.documentElement.clientWidth,i=window.innerHeight||document.documentElement.clientHeight,s=this.getWidth(),d=this.getHeight();e+=15,r+=15,e+s>n&&(e-=e+s-n),r+d>i&&(r-=20+d),a.prototype.setPosition.call(this,e,r)}}).call(t.prototype),M.GutterHandler=l}),ace.define("ace/mouse/mouse_event",["require","exports","module","ace/lib/event","ace/lib/useragent"],function(c,M,W){var R=c("../lib/event"),E=c("../lib/useragent"),h=M.MouseEvent=function(a,l){this.domEvent=a,this.editor=l,this.x=this.clientX=a.clientX,this.y=this.clientY=a.clientY,this.$pos=null,this.$inSelection=null,this.propagationStopped=!1,this.defaultPrevented=!1};(function(){this.stopPropagation=function(){R.stopPropagation(this.domEvent),this.propagationStopped=!0},this.preventDefault=function(){R.preventDefault(this.domEvent),this.defaultPrevented=!0},this.stop=function(){this.stopPropagation(),this.preventDefault()},this.getDocumentPosition=function(){return this.$pos?this.$pos:(this.$pos=this.editor.renderer.screenToTextCoordinates(this.clientX,this.clientY),this.$pos)},this.inSelection=function(){if(this.$inSelection!==null)return this.$inSelection;var a=this.editor,l=a.getSelectionRange();if(l.isEmpty())this.$inSelection=!1;else{var t=this.getDocumentPosition();this.$inSelection=l.contains(t.row,t.column)}return this.$inSelection},this.getButton=function(){return R.getButton(this.domEvent)},this.getShiftKey=function(){return this.domEvent.shiftKey},this.getAccelKey=E.isMac?function(){return this.domEvent.metaKey}:function(){return this.domEvent.ctrlKey}}).call(h.prototype)}),ace.define("ace/mouse/dragdrop_handler",["require","exports","module","ace/lib/dom","ace/lib/event","ace/lib/useragent"],function(c,M,W){var R=c("../lib/dom"),E=c("../lib/event"),h=c("../lib/useragent"),a=200,l=200,t=5;function e(n){var i=n.editor,s=R.createElement("img");s.src="data:image/gif;base64,R0lGODlhAQABAAAAACH5BAEKAAEALAAAAAABAAEAAAICTAEAOw==",h.isOpera&&(s.style.cssText="width:1px;height:1px;position:fixed;top:0;left:0;z-index:2147483647;opacity:0;");var d=["dragWait","dragWaitEnd","startDrag","dragReadyEnd","onMouseDrag"];d.forEach(function(ie){n[ie]=this[ie]},this),i.on("mousedown",this.onMouseDown.bind(n));var v=i.container,y,k,p,o,f,w,g=0,m,u,F,S,L;this.onDragStart=function(ie){if(this.cancelDrag||!v.draggable){var me=this;return setTimeout(function(){me.startSelect(),me.captureMouse(ie)},0),ie.preventDefault()}f=i.getSelectionRange();var de=ie.dataTransfer;de.effectAllowed=i.getReadOnly()?"copy":"copyMove",h.isOpera&&(i.container.appendChild(s),s.scrollTop=0),de.setDragImage&&de.setDragImage(s,0,0),h.isOpera&&i.container.removeChild(s),de.clearData(),de.setData("Text",i.session.getTextRange()),u=!0,this.setState("drag")},this.onDragEnd=function(ie){if(v.draggable=!1,u=!1,this.setState(null),!i.getReadOnly()){var me=ie.dataTransfer.dropEffect;!m&&me=="move"&&i.session.remove(i.getSelectionRange()),i.$resetCursorStyle()}this.editor.unsetStyle("ace_dragging"),this.editor.renderer.setCursorStyle("")},this.onDragEnter=function(ie){if(!(i.getReadOnly()||!J(ie.dataTransfer)))return k=ie.clientX,p=ie.clientY,y||j(),g++,ie.dataTransfer.dropEffect=m=ee(ie),E.preventDefault(ie)},this.onDragOver=function(ie){if(!(i.getReadOnly()||!J(ie.dataTransfer)))return k=ie.clientX,p=ie.clientY,y||(j(),g++),q!==null&&(q=null),ie.dataTransfer.dropEffect=m=ee(ie),E.preventDefault(ie)},this.onDragLeave=function(ie){if(g--,g<=0&&y)return le(),m=null,E.preventDefault(ie)},this.onDrop=function(ie){if(w){var me=ie.dataTransfer;if(u)switch(m){case"move":f.contains(w.row,w.column)?f={start:w,end:w}:f=i.moveText(f,w);break;case"copy":f=i.moveText(f,w,!0);break}else{var de=me.getData("Text");f={start:w,end:i.session.insert(w,de)},i.focus(),m=null}return le(),E.preventDefault(ie)}},E.addListener(v,"dragstart",this.onDragStart.bind(n),i),E.addListener(v,"dragend",this.onDragEnd.bind(n),i),E.addListener(v,"dragenter",this.onDragEnter.bind(n),i),E.addListener(v,"dragover",this.onDragOver.bind(n),i),E.addListener(v,"dragleave",this.onDragLeave.bind(n),i),E.addListener(v,"drop",this.onDrop.bind(n),i);function A(ie,me){var de=Date.now(),Ce=!me||ie.row!=me.row,Fe=!me||ie.column!=me.column;if(!S||Ce||Fe)i.moveCursorToPosition(ie),S=de,L={x:k,y:p};else{var Te=r(L.x,L.y,k,p);Te>t?S=null:de-S>=l&&(i.renderer.scrollCursorIntoView(),S=null)}}function P(ie,me){var de=Date.now(),Ce=i.renderer.layerConfig.lineHeight,Fe=i.renderer.layerConfig.characterWidth,Te=i.renderer.scroller.getBoundingClientRect(),Be={x:{left:k-Te.left,right:Te.right-k},y:{top:p-Te.top,bottom:Te.bottom-p}},Me=Math.min(Be.x.left,Be.x.right),He=Math.min(Be.y.top,Be.y.bottom),qe={row:ie.row,column:ie.column};Me/Fe<=2&&(qe.column+=Be.x.left<Be.x.right?-3:2),He/Ce<=1&&(qe.row+=Be.y.top<Be.y.bottom?-1:1);var Qe=ie.row!=qe.row,O=ie.column!=qe.column,Ee=!me||ie.row!=me.row;Qe||O&&!Ee?F?de-F>=a&&i.renderer.scrollCursorIntoView(qe):F=de:F=null}function H(){var ie=w;w=i.renderer.screenToTextCoordinates(k,p),A(w,ie),P(w,ie)}function j(){f=i.selection.toOrientedRange(),y=i.session.addMarker(f,"ace_selection",i.getSelectionStyle()),i.clearSelection(),i.isFocused()&&i.renderer.$cursorLayer.setBlinking(!1),clearInterval(o),H(),o=setInterval(H,20),g=0,E.addListener(document,"mousemove",ue)}function le(){clearInterval(o),i.session.removeMarker(y),y=null,i.selection.fromOrientedRange(f),i.isFocused()&&!u&&i.$resetCursorStyle(),f=null,w=null,g=0,F=null,S=null,E.removeListener(document,"mousemove",ue)}var q=null;function ue(){q==null&&(q=setTimeout(function(){q!=null&&y&&le()},20))}function J(ie){var me=ie.types;return!me||Array.prototype.some.call(me,function(de){return de=="text/plain"||de=="Text"})}function ee(ie){var me=["copy","copymove","all","uninitialized"],de=["move","copymove","linkmove","all","uninitialized"],Ce=h.isMac?ie.altKey:ie.ctrlKey,Fe="uninitialized";try{Fe=ie.dataTransfer.effectAllowed.toLowerCase()}catch{}var Te="none";return Ce&&me.indexOf(Fe)>=0?Te="copy":de.indexOf(Fe)>=0?Te="move":me.indexOf(Fe)>=0&&(Te="copy"),Te}}(function(){this.dragWait=function(){var n=Date.now()-this.mousedownEvent.time;n>this.editor.getDragDelay()&&this.startDrag()},this.dragWaitEnd=function(){var n=this.editor.container;n.draggable=!1,this.startSelect(this.mousedownEvent.getDocumentPosition()),this.selectEnd()},this.dragReadyEnd=function(n){this.editor.$resetCursorStyle(),this.editor.unsetStyle("ace_dragging"),this.editor.renderer.setCursorStyle(""),this.dragWaitEnd()},this.startDrag=function(){this.cancelDrag=!1;var n=this.editor,i=n.container;i.draggable=!0,n.renderer.$cursorLayer.setBlinking(!1),n.setStyle("ace_dragging");var s=h.isWin?"default":"move";n.renderer.setCursorStyle(s),this.setState("dragReady")},this.onMouseDrag=function(n){var i=this.editor.container;if(h.isIE&&this.state=="dragReady"){var s=r(this.mousedownEvent.x,this.mousedownEvent.y,this.x,this.y);s>3&&i.dragDrop()}if(this.state==="dragWait"){var s=r(this.mousedownEvent.x,this.mousedownEvent.y,this.x,this.y);s>0&&(i.draggable=!1,this.startSelect(this.mousedownEvent.getDocumentPosition()))}},this.onMouseDown=function(n){if(this.$dragEnabled){this.mousedownEvent=n;var i=this.editor,s=n.inSelection(),d=n.getButton(),v=n.domEvent.detail||1;if(v===1&&d===0&&s){if(n.editor.inMultiSelectMode&&(n.getAccelKey()||n.getShiftKey()))return;this.mousedownEvent.time=Date.now();var y=n.domEvent.target||n.domEvent.srcElement;if("unselectable"in y&&(y.unselectable="on"),i.getDragDelay()){if(h.isWebKit){this.cancelDrag=!0;var k=i.container;k.draggable=!0}this.setState("dragWait")}else this.startDrag();this.captureMouse(n,this.onMouseDrag.bind(this)),n.defaultPrevented=!0}}}}).call(e.prototype);function r(n,i,s,d){return Math.sqrt(Math.pow(s-n,2)+Math.pow(d-i,2))}M.DragdropHandler=e}),ace.define("ace/mouse/touch_handler",["require","exports","module","ace/mouse/mouse_event","ace/lib/event","ace/lib/dom"],function(c,M,W){var R=c("./mouse_event").MouseEvent,E=c("../lib/event"),h=c("../lib/dom");M.addTouchListeners=function(a,l){var t="scroll",e,r,n,i,s,d,v=0,y,k=0,p=0,o=0,f,w;function g(){var A=window.navigator&&window.navigator.clipboard,P=!1,H=function(){var le=l.getCopyText(),q=l.session.getUndoManager().hasUndo();w.replaceChild(h.buildDom(P?["span",!le&&["span",{class:"ace_mobile-button",action:"selectall"},"Select All"],le&&["span",{class:"ace_mobile-button",action:"copy"},"Copy"],le&&["span",{class:"ace_mobile-button",action:"cut"},"Cut"],A&&["span",{class:"ace_mobile-button",action:"paste"},"Paste"],q&&["span",{class:"ace_mobile-button",action:"undo"},"Undo"],["span",{class:"ace_mobile-button",action:"find"},"Find"],["span",{class:"ace_mobile-button",action:"openCommandPallete"},"Pallete"]]:["span"]),w.firstChild)},j=function(le){var q=le.target.getAttribute("action");if(q=="more"||!P)return P=!P,H();q=="paste"?A.readText().then(function(ue){l.execCommand(q,ue)}):q&&((q=="cut"||q=="copy")&&(A?A.writeText(l.getCopyText()):document.execCommand("copy")),l.execCommand(q)),w.firstChild.style.display="none",P=!1,q!="openCommandPallete"&&l.focus()};w=h.buildDom(["div",{class:"ace_mobile-menu",ontouchstart:function(le){t="menu",le.stopPropagation(),le.preventDefault(),l.textInput.focus()},ontouchend:function(le){le.stopPropagation(),le.preventDefault(),j(le)},onclick:j},["span"],["span",{class:"ace_mobile-button",action:"more"},"..."]],l.container)}function m(){w||g();var A=l.selection.cursor,P=l.renderer.textToScreenCoordinates(A.row,A.column),H=l.renderer.textToScreenCoordinates(0,0).pageX,j=l.renderer.scrollLeft,le=l.container.getBoundingClientRect();w.style.top=P.pageY-le.top-3+"px",P.pageX-le.left<le.width-70?(w.style.left="",w.style.right="10px"):(w.style.right="",w.style.left=H+j-le.left+"px"),w.style.display="",w.firstChild.style.display="none",l.on("input",u)}function u(A){w&&(w.style.display="none"),l.off("input",u)}function F(){s=null,clearTimeout(s);var A=l.selection.getRange(),P=A.contains(y.row,y.column);(A.isEmpty()||!P)&&(l.selection.moveToPosition(y),l.selection.selectWord()),t="wait",m()}function S(){s=null,clearTimeout(s),l.selection.moveToPosition(y);var A=k>=2?l.selection.getLineRange(y.row):l.session.getBracketRange(y);A&&!A.isEmpty()?l.selection.setRange(A):l.selection.selectWord(),t="wait"}E.addListener(a,"contextmenu",function(A){if(f){var P=l.textInput.getElement();P.focus()}},l),E.addListener(a,"touchstart",function(A){var P=A.touches;if(s||P.length>1){clearTimeout(s),s=null,n=-1,t="zoom";return}f=l.$mouseHandler.isMousePressed=!0;var H=l.renderer.layerConfig.lineHeight,j=l.renderer.layerConfig.lineHeight,le=A.timeStamp;i=le;var q=P[0],ue=q.clientX,J=q.clientY;Math.abs(e-ue)+Math.abs(r-J)>H&&(n=-1),e=A.clientX=ue,r=A.clientY=J,p=o=0;var ee=new R(A,l);if(y=ee.getDocumentPosition(),le-n<500&&P.length==1&&!v)k++,A.preventDefault(),A.button=0,S();else{k=0;var ie=l.selection.cursor,me=l.selection.isEmpty()?ie:l.selection.anchor,de=l.renderer.$cursorLayer.getPixelPosition(ie,!0),Ce=l.renderer.$cursorLayer.getPixelPosition(me,!0),Fe=l.renderer.scroller.getBoundingClientRect(),Te=l.renderer.layerConfig.offset,Be=l.renderer.scrollLeft,Me=function(Qe,O){return Qe=Qe/j,O=O/H-.75,Qe*Qe+O*O};if(A.clientX<Fe.left){t="zoom";return}var He=Me(A.clientX-Fe.left-de.left+Be,A.clientY-Fe.top-de.top+Te),qe=Me(A.clientX-Fe.left-Ce.left+Be,A.clientY-Fe.top-Ce.top+Te);He<3.5&&qe<3.5&&(t=He>qe?"cursor":"anchor"),qe<3.5?t="anchor":He<3.5?t="cursor":t="scroll",s=setTimeout(F,450)}n=le},l),E.addListener(a,"touchend",function(A){f=l.$mouseHandler.isMousePressed=!1,d&&clearInterval(d),t=="zoom"?(t="",v=0):s?(l.selection.moveToPosition(y),v=0,m()):t=="scroll"?(L(),u()):m(),clearTimeout(s),s=null},l),E.addListener(a,"touchmove",function(A){s&&(clearTimeout(s),s=null);var P=A.touches;if(!(P.length>1||t=="zoom")){var H=P[0],j=e-H.clientX,le=r-H.clientY;if(t=="wait")if(j*j+le*le>4)t="cursor";else return A.preventDefault();e=H.clientX,r=H.clientY,A.clientX=H.clientX,A.clientY=H.clientY;var q=A.timeStamp,ue=q-i;if(i=q,t=="scroll"){var J=new R(A,l);J.speed=1,J.wheelX=j,J.wheelY=le,10*Math.abs(j)<Math.abs(le)&&(j=0),10*Math.abs(le)<Math.abs(j)&&(le=0),ue!=0&&(p=j/ue,o=le/ue),l._emit("mousewheel",J),J.propagationStopped||(p=o=0)}else{var ee=new R(A,l),ie=ee.getDocumentPosition();t=="cursor"?l.selection.moveCursorToPosition(ie):t=="anchor"&&l.selection.setSelectionAnchor(ie.row,ie.column),l.renderer.scrollCursorIntoView(ie),A.preventDefault()}}},l);function L(){v+=60,d=setInterval(function(){v--<=0&&(clearInterval(d),d=null),Math.abs(p)<.01&&(p=0),Math.abs(o)<.01&&(o=0),v<20&&(p=.9*p),v<20&&(o=.9*o);var A=l.session.getScrollTop();l.renderer.scrollBy(10*p,10*o),A==l.session.getScrollTop()&&(v=0)},10)}}}),ace.define("ace/lib/net",["require","exports","module","ace/lib/dom"],function(c,M,W){var R=c("./dom");M.get=function(E,h){var a=new XMLHttpRequest;a.open("GET",E,!0),a.onreadystatechange=function(){a.readyState===4&&h(a.responseText)},a.send(null)},M.loadScript=function(E,h){var a=R.getDocumentHead(),l=document.createElement("script");l.src=E,a.appendChild(l),l.onload=l.onreadystatechange=function(t,e){(e||!l.readyState||l.readyState=="loaded"||l.readyState=="complete")&&(l=l.onload=l.onreadystatechange=null,e||h())}},M.qualifyURL=function(E){var h=document.createElement("a");return h.href=E,h.href}}),ace.define("ace/lib/event_emitter",["require","exports","module"],function(c,M,W){var R={},E=function(){this.propagationStopped=!0},h=function(){this.defaultPrevented=!0};R._emit=R._dispatchEvent=function(a,l){this._eventRegistry||(this._eventRegistry={}),this._defaultHandlers||(this._defaultHandlers={});var t=this._eventRegistry[a]||[],e=this._defaultHandlers[a];if(!(!t.length&&!e)){(typeof l!="object"||!l)&&(l={}),l.type||(l.type=a),l.stopPropagation||(l.stopPropagation=E),l.preventDefault||(l.preventDefault=h),t=t.slice();for(var r=0;r<t.length&&(t[r](l,this),!l.propagationStopped);r++);if(e&&!l.defaultPrevented)return e(l,this)}},R._signal=function(a,l){var t=(this._eventRegistry||{})[a];if(t){t=t.slice();for(var e=0;e<t.length;e++)t[e](l,this)}},R.once=function(a,l){var t=this;if(this.on(a,function e(){t.off(a,e),l.apply(null,arguments)}),!l)return new Promise(function(e){l=e})},R.setDefaultHandler=function(a,l){var t=this._defaultHandlers;if(t||(t=this._defaultHandlers={_disabled_:{}}),t[a]){var e=t[a],r=t._disabled_[a];r||(t._disabled_[a]=r=[]),r.push(e);var n=r.indexOf(l);n!=-1&&r.splice(n,1)}t[a]=l},R.removeDefaultHandler=function(a,l){var t=this._defaultHandlers;if(t){var e=t._disabled_[a];if(t[a]==l)e&&this.setDefaultHandler(a,e.pop());else if(e){var r=e.indexOf(l);r!=-1&&e.splice(r,1)}}},R.on=R.addEventListener=function(a,l,t){this._eventRegistry=this._eventRegistry||{};var e=this._eventRegistry[a];return e||(e=this._eventRegistry[a]=[]),e.indexOf(l)==-1&&e[t?"unshift":"push"](l),l},R.off=R.removeListener=R.removeEventListener=function(a,l){this._eventRegistry=this._eventRegistry||{};var t=this._eventRegistry[a];if(t){var e=t.indexOf(l);e!==-1&&t.splice(e,1)}},R.removeAllListeners=function(a){a||(this._eventRegistry=this._defaultHandlers=void 0),this._eventRegistry&&(this._eventRegistry[a]=void 0),this._defaultHandlers&&(this._defaultHandlers[a]=void 0)},M.EventEmitter=R}),ace.define("ace/lib/app_config",["require","exports","module","ace/lib/oop","ace/lib/event_emitter"],function(c,M,W){"no use strict";var R=c("./oop"),E=c("./event_emitter").EventEmitter,h={setOptions:function(e){Object.keys(e).forEach(function(r){this.setOption(r,e[r])},this)},getOptions:function(e){var r={};if(e)Array.isArray(e)||(r=e,e=Object.keys(r));else{var n=this.$options;e=Object.keys(n).filter(function(i){return!n[i].hidden})}return e.forEach(function(i){r[i]=this.getOption(i)},this),r},setOption:function(e,r){if(this["$"+e]!==r){var n=this.$options[e];if(!n)return a('misspelled option "'+e+'"');if(n.forwardTo)return this[n.forwardTo]&&this[n.forwardTo].setOption(e,r);n.handlesSet||(this["$"+e]=r),n&&n.set&&n.set.call(this,r)}},getOption:function(e){var r=this.$options[e];return r?r.forwardTo?this[r.forwardTo]&&this[r.forwardTo].getOption(e):r&&r.get?r.get.call(this):this["$"+e]:a('misspelled option "'+e+'"')}};function a(e){typeof console<"u"&&console.warn&&console.warn.apply(console,arguments)}function l(e,r){var n=new Error(e);n.data=r,typeof console=="object"&&console.error&&console.error(n),setTimeout(function(){throw n})}var t=function(){this.$defaultOptions={}};(function(){R.implement(this,E),this.defineOptions=function(e,r,n){return e.$options||(this.$defaultOptions[r]=e.$options={}),Object.keys(n).forEach(function(i){var s=n[i];typeof s=="string"&&(s={forwardTo:s}),s.name||(s.name=i),e.$options[s.name]=s,"initialValue"in s&&(e["$"+s.name]=s.initialValue)}),R.implement(e,h),this},this.resetOptions=function(e){Object.keys(e.$options).forEach(function(r){var n=e.$options[r];"value"in n&&e.setOption(r,n.value)})},this.setDefaultValue=function(e,r,n){if(!e){for(e in this.$defaultOptions)if(this.$defaultOptions[e][r])break;if(!this.$defaultOptions[e][r])return!1}var i=this.$defaultOptions[e]||(this.$defaultOptions[e]={});i[r]&&(i.forwardTo?this.setDefaultValue(i.forwardTo,r,n):i[r].value=n)},this.setDefaultValues=function(e,r){Object.keys(r).forEach(function(n){this.setDefaultValue(e,n,r[n])},this)},this.warn=a,this.reportError=l}).call(t.prototype),M.AppConfig=t}),ace.define("ace/config",["require","exports","module","ace/lib/lang","ace/lib/oop","ace/lib/net","ace/lib/app_config"],function(c,M,W){"no use strict";var R=c("./lib/lang");c("./lib/oop");var E=c("./lib/net"),h=c("./lib/app_config").AppConfig;W.exports=M=new h;var a=function(){return this||typeof window<"u"&&window}(),l={packaged:!1,workerPath:null,modePath:null,themePath:null,basePath:"",suffix:".js",$moduleUrls:{},loadWorkerFromBlob:!0,sharedPopups:!1};M.get=function(n){if(!l.hasOwnProperty(n))throw new Error("Unknown config key: "+n);return l[n]},M.set=function(n,i){if(l.hasOwnProperty(n))l[n]=i;else if(this.setDefaultValue("",n,i)==!1)throw new Error("Unknown config key: "+n)},M.all=function(){return R.copyObject(l)},M.$modes={},M.moduleUrl=function(n,i){if(l.$moduleUrls[n])return l.$moduleUrls[n];var s=n.split("/");i=i||s[s.length-2]||"";var d=i=="snippets"?"/":"-",v=s[s.length-1];if(i=="worker"&&d=="-"){var y=new RegExp("^"+i+"[\\-_]|[\\-_]"+i+"$","g");v=v.replace(y,"")}(!v||v==i)&&s.length>1&&(v=s[s.length-2]);var k=l[i+"Path"];return k==null?k=l.basePath:d=="/"&&(i=d=""),k&&k.slice(-1)!="/"&&(k+="/"),k+i+d+v+this.get("suffix")},M.setModuleUrl=function(n,i){return l.$moduleUrls[n]=i},M.$loading={},M.loadModule=function(n,i){var s,d;Array.isArray(n)&&(d=n[0],n=n[1]);try{s=c(n)}catch{}if(s&&!M.$loading[n])return i&&i(s);if(M.$loading[n]||(M.$loading[n]=[]),M.$loading[n].push(i),!(M.$loading[n].length>1)){var v=function(){c([n],function(y){M._emit("load.module",{name:n,module:y});var k=M.$loading[n];M.$loading[n]=null,k.forEach(function(p){p&&p(y)})})};if(!M.get("packaged"))return v();E.loadScript(M.moduleUrl(n,d),v),t()}};var t=function(){!l.basePath&&!l.workerPath&&!l.modePath&&!l.themePath&&!Object.keys(l.$moduleUrls).length&&(console.error("Unable to infer path to ace from script src,","use ace.config.set('basePath', 'path') to enable dynamic loading of modes and themes","or with webpack use ace/webpack-resolver"),t=function(){})};e(!0);function e(n){if(!(!a||!a.document)){l.packaged=n||c.packaged||W.packaged||a.define&&(void 0).packaged;for(var i={},s="",d=document.currentScript||document._currentScript,v=d&&d.ownerDocument||document,y=v.getElementsByTagName("script"),k=0;k<y.length;k++){var p=y[k],o=p.src||p.getAttribute("src");if(o){for(var f=p.attributes,w=0,g=f.length;w<g;w++){var m=f[w];m.name.indexOf("data-ace-")===0&&(i[r(m.name.replace(/^data-ace-/,""))]=m.value)}var u=o.match(/^(.*)\/ace(\-\w+)?\.js(\?|$)/);u&&(s=u[1])}}s&&(i.base=i.base||s,i.packaged=!0),i.basePath=i.base,i.workerPath=i.workerPath||i.base,i.modePath=i.modePath||i.base,i.themePath=i.themePath||i.base,delete i.base;for(var F in i)typeof i[F]<"u"&&M.set(F,i[F])}}M.init=e;function r(n){return n.replace(/-(.)/g,function(i,s){return s.toUpperCase()})}M.version="1.4.12"}),ace.define("ace/mouse/mouse_handler",["require","exports","module","ace/lib/event","ace/lib/useragent","ace/mouse/default_handlers","ace/mouse/default_gutter_handler","ace/mouse/mouse_event","ace/mouse/dragdrop_handler","ace/mouse/touch_handler","ace/config"],function(c,M,W){var R=c("../lib/event"),E=c("../lib/useragent"),h=c("./default_handlers").DefaultHandlers,a=c("./default_gutter_handler").GutterHandler,l=c("./mouse_event").MouseEvent,t=c("./dragdrop_handler").DragdropHandler,e=c("./touch_handler").addTouchListeners,r=c("../config"),n=function(i){var s=this;this.editor=i,new h(this),new a(this),new t(this);var d=function(k){var p=!document.hasFocus||!document.hasFocus()||!i.isFocused()&&document.activeElement==(i.textInput&&i.textInput.getElement());p&&window.focus(),i.focus()},v=i.renderer.getMouseEventTarget();R.addListener(v,"click",this.onMouseEvent.bind(this,"click"),i),R.addListener(v,"mousemove",this.onMouseMove.bind(this,"mousemove"),i),R.addMultiMouseDownListener([v,i.renderer.scrollBarV&&i.renderer.scrollBarV.inner,i.renderer.scrollBarH&&i.renderer.scrollBarH.inner,i.textInput&&i.textInput.getElement()].filter(Boolean),[400,300,250],this,"onMouseEvent",i),R.addMouseWheelListener(i.container,this.onMouseWheel.bind(this,"mousewheel"),i),e(i.container,i);var y=i.renderer.$gutter;R.addListener(y,"mousedown",this.onMouseEvent.bind(this,"guttermousedown"),i),R.addListener(y,"click",this.onMouseEvent.bind(this,"gutterclick"),i),R.addListener(y,"dblclick",this.onMouseEvent.bind(this,"gutterdblclick"),i),R.addListener(y,"mousemove",this.onMouseEvent.bind(this,"guttermousemove"),i),R.addListener(v,"mousedown",d,i),R.addListener(y,"mousedown",d,i),E.isIE&&i.renderer.scrollBarV&&(R.addListener(i.renderer.scrollBarV.element,"mousedown",d,i),R.addListener(i.renderer.scrollBarH.element,"mousedown",d,i)),i.on("mousemove",function(k){if(!(s.state||s.$dragDelay||!s.$dragEnabled)){var p=i.renderer.screenToTextCoordinates(k.x,k.y),o=i.session.selection.getRange(),f=i.renderer;!o.isEmpty()&&o.insideStart(p.row,p.column)?f.setCursorStyle("default"):f.setCursorStyle("")}},i)};(function(){this.onMouseEvent=function(i,s){this.editor._emit(i,new l(s,this.editor))},this.onMouseMove=function(i,s){var d=this.editor._eventRegistry&&this.editor._eventRegistry.mousemove;!d||!d.length||this.editor._emit(i,new l(s,this.editor))},this.onMouseWheel=function(i,s){var d=new l(s,this.editor);d.speed=this.$scrollSpeed*2,d.wheelX=s.wheelX,d.wheelY=s.wheelY,this.editor._emit(i,d)},this.setState=function(i){this.state=i},this.captureMouse=function(i,s){this.x=i.x,this.y=i.y,this.isMousePressed=!0;var d=this.editor,v=this.editor.renderer;v.$isMousePressed=!0;var y=this,k=function(g){if(g){if(E.isWebKit&&!g.which&&y.releaseMouse)return y.releaseMouse();y.x=g.clientX,y.y=g.clientY,s&&s(g),y.mouseEvent=new l(g,y.editor),y.$mouseMoved=!0}},p=function(g){d.off("beforeEndOperation",f),clearInterval(w),o(),y[y.state+"End"]&&y[y.state+"End"](g),y.state="",y.isMousePressed=v.$isMousePressed=!1,v.$keepTextAreaAtCursor&&v.$moveTextAreaToCursor(),y.$onCaptureMouseMove=y.releaseMouse=null,g&&y.onMouseEvent("mouseup",g),d.endOperation()},o=function(){y[y.state]&&y[y.state](),y.$mouseMoved=!1};if(E.isOldIE&&i.domEvent.type=="dblclick")return setTimeout(function(){p(i)});var f=function(g){y.releaseMouse&&d.curOp.command.name&&d.curOp.selectionChanged&&(y[y.state+"End"]&&y[y.state+"End"](),y.state="",y.releaseMouse())};d.on("beforeEndOperation",f),d.startOperation({command:{name:"mouse"}}),y.$onCaptureMouseMove=k,y.releaseMouse=R.capture(this.editor.container,k,p);var w=setInterval(o,20)},this.releaseMouse=null,this.cancelContextMenu=function(){var i=(function(s){s&&s.domEvent&&s.domEvent.type!="contextmenu"||(this.editor.off("nativecontextmenu",i),s&&s.domEvent&&R.stopEvent(s.domEvent))}).bind(this);setTimeout(i,10),this.editor.on("nativecontextmenu",i)},this.destroy=function(){this.releaseMouse&&this.releaseMouse()}}).call(n.prototype),r.defineOptions(n.prototype,"mouseHandler",{scrollSpeed:{initialValue:2},dragDelay:{initialValue:E.isMac?150:0},dragEnabled:{initialValue:!0},focusTimeout:{initialValue:0},tooltipFollowsMouse:{initialValue:!0}}),M.MouseHandler=n}),ace.define("ace/mouse/fold_handler",["require","exports","module","ace/lib/dom"],function(c,M,W){var R=c("../lib/dom");function E(h){h.on("click",function(a){var l=a.getDocumentPosition(),t=h.session,e=t.getFoldAt(l.row,l.column,1);e&&(a.getAccelKey()?t.removeFold(e):t.expandFold(e),a.stop());var r=a.domEvent&&a.domEvent.target;r&&R.hasCssClass(r,"ace_inline_button")&&R.hasCssClass(r,"ace_toggle_wrap")&&(t.setOption("wrap",!t.getUseWrapMode()),h.renderer.scrollCursorIntoView())}),h.on("gutterclick",function(a){var l=h.renderer.$gutterLayer.getRegion(a);if(l=="foldWidgets"){var t=a.getDocumentPosition().row,e=h.session;e.foldWidgets&&e.foldWidgets[t]&&h.session.onFoldWidgetClick(t,a),h.isFocused()||h.focus(),a.stop()}}),h.on("gutterdblclick",function(a){var l=h.renderer.$gutterLayer.getRegion(a);if(l=="foldWidgets"){var t=a.getDocumentPosition().row,e=h.session,r=e.getParentFoldRangeData(t,!0),n=r.range||r.firstRange;if(n){t=n.start.row;var i=e.getFoldAt(t,e.getLine(t).length,1);i?e.removeFold(i):(e.addFold("...",n),h.renderer.scrollCursorIntoView({row:n.start.row,column:0}))}a.stop()}})}M.FoldHandler=E}),ace.define("ace/keyboard/keybinding",["require","exports","module","ace/lib/keys","ace/lib/event"],function(c,M,W){var R=c("../lib/keys"),E=c("../lib/event"),h=function(a){this.$editor=a,this.$data={editor:a},this.$handlers=[],this.setDefaultHandler(a.commands)};(function(){this.setDefaultHandler=function(a){this.removeKeyboardHandler(this.$defaultHandler),this.$defaultHandler=a,this.addKeyboardHandler(a,0)},this.setKeyboardHandler=function(a){var l=this.$handlers;if(l[l.length-1]!=a){for(;l[l.length-1]&&l[l.length-1]!=this.$defaultHandler;)this.removeKeyboardHandler(l[l.length-1]);this.addKeyboardHandler(a,1)}},this.addKeyboardHandler=function(a,l){if(a){typeof a=="function"&&!a.handleKeyboard&&(a.handleKeyboard=a);var t=this.$handlers.indexOf(a);t!=-1&&this.$handlers.splice(t,1),l==null?this.$handlers.push(a):this.$handlers.splice(l,0,a),t==-1&&a.attach&&a.attach(this.$editor)}},this.removeKeyboardHandler=function(a){var l=this.$handlers.indexOf(a);return l==-1?!1:(this.$handlers.splice(l,1),a.detach&&a.detach(this.$editor),!0)},this.getKeyboardHandler=function(){return this.$handlers[this.$handlers.length-1]},this.getStatusText=function(){var a=this.$data,l=a.editor;return this.$handlers.map(function(t){return t.getStatusText&&t.getStatusText(l,a)||""}).filter(Boolean).join(" ")},this.$callKeyboardHandlers=function(a,l,t,e){for(var r,n=!1,i=this.$editor.commands,s=this.$handlers.length;s--&&(r=this.$handlers[s].handleKeyboard(this.$data,a,l,t,e),!(!(!r||!r.command)&&(r.command=="null"?n=!0:n=i.exec(r.command,this.$editor,r.args,e),n&&e&&a!=-1&&r.passEvent!=!0&&r.command.passEvent!=!0&&E.stopEvent(e),n))););return!n&&a==-1&&(r={command:"insertstring"},n=i.exec("insertstring",this.$editor,l)),n&&this.$editor._signal&&this.$editor._signal("keyboardActivity",r),n},this.onCommandKey=function(a,l,t){var e=R.keyCodeToString(t);return this.$callKeyboardHandlers(l,e,t,a)},this.onTextInput=function(a){return this.$callKeyboardHandlers(-1,a)}}).call(h.prototype),M.KeyBinding=h}),ace.define("ace/lib/bidiutil",["require","exports","module"],function(c,M,W){var R=0,E=0,h=!1,a=!1,l=!1,t=[[0,3,0,1,0,0,0],[0,3,0,1,2,2,0],[0,3,0,17,2,0,1],[0,3,5,5,4,1,0],[0,3,21,21,4,0,1],[0,3,5,5,4,2,0]],e=[[2,0,1,1,0,1,0],[2,0,1,1,0,2,0],[2,0,2,1,3,2,0],[2,0,2,33,3,1,1]],r=0,n=1,i=0,s=1,d=2,v=3,y=4,k=5,p=6,o=7,f=8,w=9,g=10,m=11,u=12,F=13,S=14,L=15,A=16,P=17,H=18,j=[H,H,H,H,H,H,H,H,H,p,k,p,f,k,H,H,H,H,H,H,H,H,H,H,H,H,H,H,k,k,k,p,f,y,y,m,m,m,y,y,y,y,y,g,w,g,w,w,d,d,d,d,d,d,d,d,d,d,w,y,y,y,y,y,y,i,i,i,i,i,i,i,i,i,i,i,i,i,i,i,i,i,i,i,i,i,i,i,i,i,i,y,y,y,y,y,y,i,i,i,i,i,i,i,i,i,i,i,i,i,i,i,i,i,i,i,i,i,i,i,i,i,i,y,y,y,y,H,H,H,H,H,H,k,H,H,H,H,H,H,H,H,H,H,H,H,H,H,H,H,H,H,H,H,H,H,H,H,H,H,w,y,m,m,m,m,y,y,y,y,i,y,y,H,y,y,m,m,d,d,y,i,y,y,y,d,i,y,y,y,y,y],le=[f,f,f,f,f,f,f,f,f,f,f,H,H,H,i,s,y,y,y,y,y,y,y,y,y,y,y,y,y,y,y,y,y,y,y,y,y,y,y,y,f,k,F,S,L,A,P,w,m,m,m,m,m,y,y,y,y,y,y,y,y,y,y,y,y,y,y,y,w,y,y,y,y,y,y,y,y,y,y,y,y,y,y,y,y,y,y,y,y,y,y,y,y,y,y,f];function q(ie,me,de,Ce){var Fe=R?e:t,Te=null,Be=null,Me=null,He=0,qe=null,Qe=null,O=-1,Ee=null,be=null,te=[];if(!Ce)for(Ee=0,Ce=[];Ee<de;Ee++)Ce[Ee]=ee(ie[Ee]);for(E=R,h=!1,a=!1,l=!1,be=0;be<de;be++){if(Te=He,te[be]=Be=J(ie,Ce,te,be),He=Fe[Te][Be],qe=He&240,He&=15,me[be]=Me=Fe[He][5],qe>0)if(qe==16){for(Ee=O;Ee<be;Ee++)me[Ee]=1;O=-1}else O=-1;if(Qe=Fe[He][6],Qe)O==-1&&(O=be);else if(O>-1){for(Ee=O;Ee<be;Ee++)me[Ee]=Me;O=-1}Ce[be]==k&&(me[be]=0),E|=Me}if(l){for(Ee=0;Ee<de;Ee++)if(Ce[Ee]==p){me[Ee]=R;for(var Z=Ee-1;Z>=0&&Ce[Z]==f;Z--)me[Z]=R}}}function ue(ie,me,de){if(!(E<ie)){if(ie==1&&R==n&&!a){de.reverse();return}for(var Ce=de.length,Fe=0,Te,Be,Me,He;Fe<Ce;){if(me[Fe]>=ie){for(Te=Fe+1;Te<Ce&&me[Te]>=ie;)Te++;for(Be=Fe,Me=Te-1;Be<Me;Be++,Me--)He=de[Be],de[Be]=de[Me],de[Me]=He;Fe=Te}Fe++}}}function J(ie,me,de,Ce){var Fe=me[Ce],Te,Be,Me,He;switch(Fe){case i:case s:h=!1;case y:case v:return Fe;case d:return h?v:d;case o:return h=!0,s;case f:return y;case w:return Ce<1||Ce+1>=me.length||(Te=de[Ce-1])!=d&&Te!=v||(Be=me[Ce+1])!=d&&Be!=v?y:(h&&(Be=v),Be==Te?Be:y);case g:return Te=Ce>0?de[Ce-1]:k,Te==d&&Ce+1<me.length&&me[Ce+1]==d?d:y;case m:if(Ce>0&&de[Ce-1]==d)return d;if(h)return y;for(He=Ce+1,Me=me.length;He<Me&&me[He]==m;)He++;return He<Me&&me[He]==d?d:y;case u:for(Me=me.length,He=Ce+1;He<Me&&me[He]==u;)He++;if(He<Me){var qe=ie[Ce],Qe=qe>=1425&&qe<=2303||qe==64286;if(Te=me[He],Qe&&(Te==s||Te==o))return s}return Ce<1||(Te=me[Ce-1])==k?y:de[Ce-1];case k:return h=!1,a=!0,R;case p:return l=!0,y;case F:case S:case A:case P:case L:h=!1;case H:return y}}function ee(ie){var me=ie.charCodeAt(0),de=me>>8;return de==0?me>191?i:j[me]:de==5?/[\u0591-\u05f4]/.test(ie)?s:i:de==6?/[\u0610-\u061a\u064b-\u065f\u06d6-\u06e4\u06e7-\u06ed]/.test(ie)?u:/[\u0660-\u0669\u066b-\u066c]/.test(ie)?v:me==1642?m:/[\u06f0-\u06f9]/.test(ie)?d:o:de==32&&me<=8287?le[me&255]:de==254&&me>=65136?o:y}M.L=i,M.R=s,M.EN=d,M.ON_R=3,M.AN=4,M.R_H=5,M.B=6,M.RLE=7,M.DOT="",M.doBidiReorder=function(ie,me,de){if(ie.length<2)return{};var Ce=ie.split(""),Fe=new Array(Ce.length),Te=new Array(Ce.length),Be=[];R=de?n:r,q(Ce,Be,Ce.length,me);for(var Me=0;Me<Fe.length;Fe[Me]=Me,Me++);ue(2,Be,Fe),ue(1,Be,Fe);for(var Me=0;Me<Fe.length-1;Me++)me[Me]===v?Be[Me]=M.AN:Be[Me]===s&&(me[Me]>o&&me[Me]<F||me[Me]===y||me[Me]===H)?Be[Me]=M.ON_R:Me>0&&Ce[Me-1]===""&&/\u0622|\u0623|\u0625|\u0627/.test(Ce[Me])&&(Be[Me-1]=Be[Me]=M.R_H,Me++);Ce[Ce.length-1]===M.DOT&&(Be[Ce.length-1]=M.B),Ce[0]===""&&(Be[0]=M.RLE);for(var Me=0;Me<Fe.length;Me++)Te[Me]=Be[Fe[Me]];return{logicalFromVisual:Fe,bidiLevels:Te}},M.hasBidiCharacters=function(ie,me){for(var de=!1,Ce=0;Ce<ie.length;Ce++)me[Ce]=ee(ie.charAt(Ce)),!de&&(me[Ce]==s||me[Ce]==o||me[Ce]==v)&&(de=!0);return de},M.getVisualFromLogicalIdx=function(ie,me){for(var de=0;de<me.logicalFromVisual.length;de++)if(me.logicalFromVisual[de]==ie)return de;return 0}}),ace.define("ace/bidihandler",["require","exports","module","ace/lib/bidiutil","ace/lib/lang"],function(c,M,W){var R=c("./lib/bidiutil"),E=c("./lib/lang"),h=/[\u0590-\u05f4\u0600-\u06ff\u0700-\u08ac\u202B]/,a=function(l){this.session=l,this.bidiMap={},this.currentRow=null,this.bidiUtil=R,this.charWidths=[],this.EOL="",this.showInvisibles=!0,this.isRtlDir=!1,this.$isRtl=!1,this.line="",this.wrapIndent=0,this.EOF="",this.RLE="",this.contentWidth=0,this.fontMetrics=null,this.rtlLineOffset=0,this.wrapOffset=0,this.isMoveLeftOperation=!1,this.seenBidi=h.test(l.getValue())};(function(){this.isBidiRow=function(l,t,e){return this.seenBidi?(l!==this.currentRow&&(this.currentRow=l,this.updateRowLine(t,e),this.updateBidiMap()),this.bidiMap.bidiLevels):!1},this.onChange=function(l){this.seenBidi?this.currentRow=null:l.action=="insert"&&h.test(l.lines.join(`
`))&&(this.seenBidi=!0,this.currentRow=null)},this.getDocumentRow=function(){var l=0,t=this.session.$screenRowCache;if(t.length){var e=this.session.$getRowCacheIndex(t,this.currentRow);e>=0&&(l=this.session.$docRowCache[e])}return l},this.getSplitIndex=function(){var l=0,t=this.session.$screenRowCache;if(t.length)for(var e,r=this.session.$getRowCacheIndex(t,this.currentRow);this.currentRow-l>0&&(e=this.session.$getRowCacheIndex(t,this.currentRow-l-1),e===r);)r=e,l++;else l=this.currentRow;return l},this.updateRowLine=function(l,t){l===void 0&&(l=this.getDocumentRow());var e=l===this.session.getLength()-1,r=e?this.EOF:this.EOL;if(this.wrapIndent=0,this.line=this.session.getLine(l),this.isRtlDir=this.$isRtl||this.line.charAt(0)===this.RLE,this.session.$useWrapMode){var n=this.session.$wrapData[l];n&&(t===void 0&&(t=this.getSplitIndex()),t>0&&n.length?(this.wrapIndent=n.indent,this.wrapOffset=this.wrapIndent*this.charWidths[R.L],this.line=t<n.length?this.line.substring(n[t-1],n[t]):this.line.substring(n[n.length-1])):this.line=this.line.substring(0,n[t])),t==n.length&&(this.line+=this.showInvisibles?r:R.DOT)}else this.line+=this.showInvisibles?r:R.DOT;var i=this.session,s=0,d;this.line=this.line.replace(/\t|[\u1100-\u2029, \u202F-\uFFE6]/g,function(v,y){return v==="	"||i.isFullWidth(v.charCodeAt(0))?(d=v==="	"?i.getScreenTabSize(y+s):2,s+=d-1,E.stringRepeat(R.DOT,d)):v}),this.isRtlDir&&(this.fontMetrics.$main.textContent=this.line.charAt(this.line.length-1)==R.DOT?this.line.substr(0,this.line.length-1):this.line,this.rtlLineOffset=this.contentWidth-this.fontMetrics.$main.getBoundingClientRect().width)},this.updateBidiMap=function(){var l=[];R.hasBidiCharacters(this.line,l)||this.isRtlDir?this.bidiMap=R.doBidiReorder(this.line,l,this.isRtlDir):this.bidiMap={}},this.markAsDirty=function(){this.currentRow=null},this.updateCharacterWidths=function(l){if(this.characterWidth!==l.$characterSize.width){this.fontMetrics=l;var t=this.characterWidth=l.$characterSize.width,e=l.$measureCharWidth("");this.charWidths[R.L]=this.charWidths[R.EN]=this.charWidths[R.ON_R]=t,this.charWidths[R.R]=this.charWidths[R.AN]=e,this.charWidths[R.R_H]=e*.45,this.charWidths[R.B]=this.charWidths[R.RLE]=0,this.currentRow=null}},this.setShowInvisibles=function(l){this.showInvisibles=l,this.currentRow=null},this.setEolChar=function(l){this.EOL=l},this.setContentWidth=function(l){this.contentWidth=l},this.isRtlLine=function(l){return this.$isRtl?!0:l!=null?this.session.getLine(l).charAt(0)==this.RLE:this.isRtlDir},this.setRtlDirection=function(l,t){for(var e=l.getCursorPosition(),r=l.selection.getSelectionAnchor().row;r<=e.row;r++)!t&&l.session.getLine(r).charAt(0)===l.session.$bidiHandler.RLE?l.session.doc.removeInLine(r,0,1):t&&l.session.getLine(r).charAt(0)!==l.session.$bidiHandler.RLE&&l.session.doc.insert({column:0,row:r},l.session.$bidiHandler.RLE)},this.getPosLeft=function(l){l-=this.wrapIndent;var t=this.line.charAt(0)===this.RLE?1:0,e=l>t?this.session.getOverwrite()?l:l-1:t,r=R.getVisualFromLogicalIdx(e,this.bidiMap),n=this.bidiMap.bidiLevels,i=0;!this.session.getOverwrite()&&l<=t&&n[r]%2!==0&&r++;for(var s=0;s<r;s++)i+=this.charWidths[n[s]];return!this.session.getOverwrite()&&l>t&&n[r]%2===0&&(i+=this.charWidths[n[r]]),this.wrapIndent&&(i+=this.isRtlDir?-1*this.wrapOffset:this.wrapOffset),this.isRtlDir&&(i+=this.rtlLineOffset),i},this.getSelections=function(l,t){var e=this.bidiMap,r=e.bidiLevels,n,i=[],s=0,d=Math.min(l,t)-this.wrapIndent,v=Math.max(l,t)-this.wrapIndent,y=!1,k=!1,p=0;this.wrapIndent&&(s+=this.isRtlDir?-1*this.wrapOffset:this.wrapOffset);for(var o,f=0;f<r.length;f++)o=e.logicalFromVisual[f],n=r[f],y=o>=d&&o<v,y&&!k?p=s:!y&&k&&i.push({left:p,width:s-p}),s+=this.charWidths[n],k=y;if(y&&f===r.length&&i.push({left:p,width:s-p}),this.isRtlDir)for(var w=0;w<i.length;w++)i[w].left+=this.rtlLineOffset;return i},this.offsetToCol=function(e){this.isRtlDir&&(e-=this.rtlLineOffset);var t=0,e=Math.max(e,0),r=0,n=0,i=this.bidiMap.bidiLevels,s=this.charWidths[i[n]];for(this.wrapIndent&&(e-=this.isRtlDir?-1*this.wrapOffset:this.wrapOffset);e>r+s/2;){if(r+=s,n===i.length-1){s=0;break}s=this.charWidths[i[++n]]}return n>0&&i[n-1]%2!==0&&i[n]%2===0?(e<r&&n--,t=this.bidiMap.logicalFromVisual[n]):n>0&&i[n-1]%2===0&&i[n]%2!==0?t=1+(e>r?this.bidiMap.logicalFromVisual[n]:this.bidiMap.logicalFromVisual[n-1]):this.isRtlDir&&n===i.length-1&&s===0&&i[n-1]%2===0||!this.isRtlDir&&n===0&&i[n]%2!==0?t=1+this.bidiMap.logicalFromVisual[n]:(n>0&&i[n-1]%2!==0&&s!==0&&n--,t=this.bidiMap.logicalFromVisual[n]),t===0&&this.isRtlDir&&t++,t+this.wrapIndent}}).call(a.prototype),M.BidiHandler=a}),ace.define("ace/selection",["require","exports","module","ace/lib/oop","ace/lib/lang","ace/lib/event_emitter","ace/range"],function(c,M,W){var R=c("./lib/oop"),E=c("./lib/lang"),h=c("./lib/event_emitter").EventEmitter,a=c("./range").Range,l=function(t){this.session=t,this.doc=t.getDocument(),this.clearSelection(),this.cursor=this.lead=this.doc.createAnchor(0,0),this.anchor=this.doc.createAnchor(0,0),this.$silent=!1;var e=this;this.cursor.on("change",function(r){e.$cursorChanged=!0,e.$silent||e._emit("changeCursor"),!e.$isEmpty&&!e.$silent&&e._emit("changeSelection"),!e.$keepDesiredColumnOnChange&&r.old.column!=r.value.column&&(e.$desiredColumn=null)}),this.anchor.on("change",function(){e.$anchorChanged=!0,!e.$isEmpty&&!e.$silent&&e._emit("changeSelection")})};(function(){R.implement(this,h),this.isEmpty=function(){return this.$isEmpty||this.anchor.row==this.lead.row&&this.anchor.column==this.lead.column},this.isMultiLine=function(){return!this.$isEmpty&&this.anchor.row!=this.cursor.row},this.getCursor=function(){return this.lead.getPosition()},this.setSelectionAnchor=function(t,e){this.$isEmpty=!1,this.anchor.setPosition(t,e)},this.getAnchor=this.getSelectionAnchor=function(){return this.$isEmpty?this.getSelectionLead():this.anchor.getPosition()},this.getSelectionLead=function(){return this.lead.getPosition()},this.isBackwards=function(){var t=this.anchor,e=this.lead;return t.row>e.row||t.row==e.row&&t.column>e.column},this.getRange=function(){var t=this.anchor,e=this.lead;return this.$isEmpty?a.fromPoints(e,e):this.isBackwards()?a.fromPoints(e,t):a.fromPoints(t,e)},this.clearSelection=function(){this.$isEmpty||(this.$isEmpty=!0,this._emit("changeSelection"))},this.selectAll=function(){this.$setSelection(0,0,Number.MAX_VALUE,Number.MAX_VALUE)},this.setRange=this.setSelectionRange=function(t,e){var r=e?t.end:t.start,n=e?t.start:t.end;this.$setSelection(r.row,r.column,n.row,n.column)},this.$setSelection=function(t,e,r,n){if(!this.$silent){var i=this.$isEmpty,s=this.inMultiSelectMode;this.$silent=!0,this.$cursorChanged=this.$anchorChanged=!1,this.anchor.setPosition(t,e),this.cursor.setPosition(r,n),this.$isEmpty=!a.comparePoints(this.anchor,this.cursor),this.$silent=!1,this.$cursorChanged&&this._emit("changeCursor"),(this.$cursorChanged||this.$anchorChanged||i!=this.$isEmpty||s)&&this._emit("changeSelection")}},this.$moveSelection=function(t){var e=this.lead;this.$isEmpty&&this.setSelectionAnchor(e.row,e.column),t.call(this)},this.selectTo=function(t,e){this.$moveSelection(function(){this.moveCursorTo(t,e)})},this.selectToPosition=function(t){this.$moveSelection(function(){this.moveCursorToPosition(t)})},this.moveTo=function(t,e){this.clearSelection(),this.moveCursorTo(t,e)},this.moveToPosition=function(t){this.clearSelection(),this.moveCursorToPosition(t)},this.selectUp=function(){this.$moveSelection(this.moveCursorUp)},this.selectDown=function(){this.$moveSelection(this.moveCursorDown)},this.selectRight=function(){this.$moveSelection(this.moveCursorRight)},this.selectLeft=function(){this.$moveSelection(this.moveCursorLeft)},this.selectLineStart=function(){this.$moveSelection(this.moveCursorLineStart)},this.selectLineEnd=function(){this.$moveSelection(this.moveCursorLineEnd)},this.selectFileEnd=function(){this.$moveSelection(this.moveCursorFileEnd)},this.selectFileStart=function(){this.$moveSelection(this.moveCursorFileStart)},this.selectWordRight=function(){this.$moveSelection(this.moveCursorWordRight)},this.selectWordLeft=function(){this.$moveSelection(this.moveCursorWordLeft)},this.getWordRange=function(t,e){if(typeof e>"u"){var r=t||this.lead;t=r.row,e=r.column}return this.session.getWordRange(t,e)},this.selectWord=function(){this.setSelectionRange(this.getWordRange())},this.selectAWord=function(){var t=this.getCursor(),e=this.session.getAWordRange(t.row,t.column);this.setSelectionRange(e)},this.getLineRange=function(t,e){var r=typeof t=="number"?t:this.lead.row,n,i=this.session.getFoldLine(r);return i?(r=i.start.row,n=i.end.row):n=r,e===!0?new a(r,0,n,this.session.getLine(n).length):new a(r,0,n+1,0)},this.selectLine=function(){this.setSelectionRange(this.getLineRange())},this.moveCursorUp=function(){this.moveCursorBy(-1,0)},this.moveCursorDown=function(){this.moveCursorBy(1,0)},this.wouldMoveIntoSoftTab=function(t,e,r){var n=t.column,i=t.column+e;return r<0&&(n=t.column-e,i=t.column),this.session.isTabStop(t)&&this.doc.getLine(t.row).slice(n,i).split(" ").length-1==e},this.moveCursorLeft=function(){var t=this.lead.getPosition(),e;if(e=this.session.getFoldAt(t.row,t.column,-1))this.moveCursorTo(e.start.row,e.start.column);else if(t.column===0)t.row>0&&this.moveCursorTo(t.row-1,this.doc.getLine(t.row-1).length);else{var r=this.session.getTabSize();this.wouldMoveIntoSoftTab(t,r,-1)&&!this.session.getNavigateWithinSoftTabs()?this.moveCursorBy(0,-r):this.moveCursorBy(0,-1)}},this.moveCursorRight=function(){var t=this.lead.getPosition(),e;if(e=this.session.getFoldAt(t.row,t.column,1))this.moveCursorTo(e.end.row,e.end.column);else if(this.lead.column==this.doc.getLine(this.lead.row).length)this.lead.row<this.doc.getLength()-1&&this.moveCursorTo(this.lead.row+1,0);else{var r=this.session.getTabSize(),t=this.lead;this.wouldMoveIntoSoftTab(t,r,1)&&!this.session.getNavigateWithinSoftTabs()?this.moveCursorBy(0,r):this.moveCursorBy(0,1)}},this.moveCursorLineStart=function(){var t=this.lead.row,e=this.lead.column,r=this.session.documentToScreenRow(t,e),n=this.session.screenToDocumentPosition(r,0),i=this.session.getDisplayLine(t,null,n.row,n.column),s=i.match(/^\s*/);s[0].length!=e&&!this.session.$useEmacsStyleLineStart&&(n.column+=s[0].length),this.moveCursorToPosition(n)},this.moveCursorLineEnd=function(){var t=this.lead,e=this.session.getDocumentLastRowColumnPosition(t.row,t.column);if(this.lead.column==e.column){var r=this.session.getLine(e.row);if(e.column==r.length){var n=r.search(/\s+$/);n>0&&(e.column=n)}}this.moveCursorTo(e.row,e.column)},this.moveCursorFileEnd=function(){var t=this.doc.getLength()-1,e=this.doc.getLine(t).length;this.moveCursorTo(t,e)},this.moveCursorFileStart=function(){this.moveCursorTo(0,0)},this.moveCursorLongWordRight=function(){var t=this.lead.row,e=this.lead.column,r=this.doc.getLine(t),n=r.substring(e);this.session.nonTokenRe.lastIndex=0,this.session.tokenRe.lastIndex=0;var i=this.session.getFoldAt(t,e,1);if(i){this.moveCursorTo(i.end.row,i.end.column);return}if(this.session.nonTokenRe.exec(n)&&(e+=this.session.nonTokenRe.lastIndex,this.session.nonTokenRe.lastIndex=0,n=r.substring(e)),e>=r.length){this.moveCursorTo(t,r.length),this.moveCursorRight(),t<this.doc.getLength()-1&&this.moveCursorWordRight();return}this.session.tokenRe.exec(n)&&(e+=this.session.tokenRe.lastIndex,this.session.tokenRe.lastIndex=0),this.moveCursorTo(t,e)},this.moveCursorLongWordLeft=function(){var t=this.lead.row,e=this.lead.column,r;if(r=this.session.getFoldAt(t,e,-1)){this.moveCursorTo(r.start.row,r.start.column);return}var n=this.session.getFoldStringAt(t,e,-1);n==null&&(n=this.doc.getLine(t).substring(0,e));var i=E.stringReverse(n);if(this.session.nonTokenRe.lastIndex=0,this.session.tokenRe.lastIndex=0,this.session.nonTokenRe.exec(i)&&(e-=this.session.nonTokenRe.lastIndex,i=i.slice(this.session.nonTokenRe.lastIndex),this.session.nonTokenRe.lastIndex=0),e<=0){this.moveCursorTo(t,0),this.moveCursorLeft(),t>0&&this.moveCursorWordLeft();return}this.session.tokenRe.exec(i)&&(e-=this.session.tokenRe.lastIndex,this.session.tokenRe.lastIndex=0),this.moveCursorTo(t,e)},this.$shortWordEndIndex=function(t){var e=0,r,n=/\s/,i=this.session.tokenRe;if(i.lastIndex=0,this.session.tokenRe.exec(t))e=this.session.tokenRe.lastIndex;else{for(;(r=t[e])&&n.test(r);)e++;if(e<1){for(i.lastIndex=0;(r=t[e])&&!i.test(r);)if(i.lastIndex=0,e++,n.test(r))if(e>2){e--;break}else{for(;(r=t[e])&&n.test(r);)e++;if(e>2)break}}}return i.lastIndex=0,e},this.moveCursorShortWordRight=function(){var t=this.lead.row,e=this.lead.column,r=this.doc.getLine(t),n=r.substring(e),i=this.session.getFoldAt(t,e,1);if(i)return this.moveCursorTo(i.end.row,i.end.column);if(e==r.length){var s=this.doc.getLength();do t++,n=this.doc.getLine(t);while(t<s&&/^\s*$/.test(n));/^\s+/.test(n)||(n=""),e=0}var d=this.$shortWordEndIndex(n);this.moveCursorTo(t,e+d)},this.moveCursorShortWordLeft=function(){var t=this.lead.row,e=this.lead.column,r;if(r=this.session.getFoldAt(t,e,-1))return this.moveCursorTo(r.start.row,r.start.column);var n=this.session.getLine(t).substring(0,e);if(e===0){do t--,n=this.doc.getLine(t);while(t>0&&/^\s*$/.test(n));e=n.length,/\s+$/.test(n)||(n="")}var i=E.stringReverse(n),s=this.$shortWordEndIndex(i);return this.moveCursorTo(t,e-s)},this.moveCursorWordRight=function(){this.session.$selectLongWords?this.moveCursorLongWordRight():this.moveCursorShortWordRight()},this.moveCursorWordLeft=function(){this.session.$selectLongWords?this.moveCursorLongWordLeft():this.moveCursorShortWordLeft()},this.moveCursorBy=function(t,e){var r=this.session.documentToScreenPosition(this.lead.row,this.lead.column),n;if(e===0&&(t!==0&&(this.session.$bidiHandler.isBidiRow(r.row,this.lead.row)?(n=this.session.$bidiHandler.getPosLeft(r.column),r.column=Math.round(n/this.session.$bidiHandler.charWidths[0])):n=r.column*this.session.$bidiHandler.charWidths[0]),this.$desiredColumn?r.column=this.$desiredColumn:this.$desiredColumn=r.column),t!=0&&this.session.lineWidgets&&this.session.lineWidgets[this.lead.row]){var i=this.session.lineWidgets[this.lead.row];t<0?t-=i.rowsAbove||0:t>0&&(t+=i.rowCount-(i.rowsAbove||0))}var s=this.session.screenToDocumentPosition(r.row+t,r.column,n);t!==0&&e===0&&s.row===this.lead.row&&(s.column,this.lead.column),this.moveCursorTo(s.row,s.column+e,e===0)},this.moveCursorToPosition=function(t){this.moveCursorTo(t.row,t.column)},this.moveCursorTo=function(t,e,r){var n=this.session.getFoldAt(t,e,1);n&&(t=n.start.row,e=n.start.column),this.$keepDesiredColumnOnChange=!0;var i=this.session.getLine(t);/[\uDC00-\uDFFF]/.test(i.charAt(e))&&i.charAt(e-1)&&(this.lead.row==t&&this.lead.column==e+1?e=e-1:e=e+1),this.lead.setPosition(t,e),this.$keepDesiredColumnOnChange=!1,r||(this.$desiredColumn=null)},this.moveCursorToScreen=function(t,e,r){var n=this.session.screenToDocumentPosition(t,e);this.moveCursorTo(n.row,n.column,r)},this.detach=function(){this.lead.detach(),this.anchor.detach(),this.session=this.doc=null},this.fromOrientedRange=function(t){this.setSelectionRange(t,t.cursor==t.start),this.$desiredColumn=t.desiredColumn||this.$desiredColumn},this.toOrientedRange=function(t){var e=this.getRange();return t?(t.start.column=e.start.column,t.start.row=e.start.row,t.end.column=e.end.column,t.end.row=e.end.row):t=e,t.cursor=this.isBackwards()?t.start:t.end,t.desiredColumn=this.$desiredColumn,t},this.getRangeOfMovements=function(t){var e=this.getCursor();try{t(this);var r=this.getCursor();return a.fromPoints(e,r)}catch{return a.fromPoints(e,e)}finally{this.moveCursorToPosition(e)}},this.toJSON=function(){if(this.rangeCount)var t=this.ranges.map(function(e){var r=e.clone();return r.isBackwards=e.cursor==e.start,r});else{var t=this.getRange();t.isBackwards=this.isBackwards()}return t},this.fromJSON=function(t){if(t.start==null)if(this.rangeList&&t.length>1){this.toSingleRange(t[0]);for(var e=t.length;e--;){var r=a.fromPoints(t[e].start,t[e].end);t[e].isBackwards&&(r.cursor=r.start),this.addRange(r,!0)}return}else t=t[0];this.rangeList&&this.toSingleRange(t),this.setSelectionRange(t,t.isBackwards)},this.isEqual=function(t){if((t.length||this.rangeCount)&&t.length!=this.rangeCount)return!1;if(!t.length||!this.ranges)return this.getRange().isEqual(t);for(var e=this.ranges.length;e--;)if(!this.ranges[e].isEqual(t[e]))return!1;return!0}}).call(l.prototype),M.Selection=l}),ace.define("ace/tokenizer",["require","exports","module","ace/config"],function(c,M,W){var R=c("./config"),E=2e3,h=function(a){this.states=a,this.regExps={},this.matchMappings={};for(var l in this.states){for(var t=this.states[l],e=[],r=0,n=this.matchMappings[l]={defaultToken:"text"},i="g",s=[],d=0;d<t.length;d++){var v=t[d];if(v.defaultToken&&(n.defaultToken=v.defaultToken),v.caseInsensitive&&(i="gi"),v.regex!=null){v.regex instanceof RegExp&&(v.regex=v.regex.toString().slice(1,-1));var y=v.regex,k=new RegExp("(?:("+y+")|(.))").exec("a").length-2;Array.isArray(v.token)?v.token.length==1||k==1?v.token=v.token[0]:k-1!=v.token.length?(this.reportError("number of classes and regexp groups doesn't match",{rule:v,groupCount:k-1}),v.token=v.token[0]):(v.tokenArray=v.token,v.token=null,v.onMatch=this.$arrayTokens):typeof v.token=="function"&&!v.onMatch&&(k>1?v.onMatch=this.$applyToken:v.onMatch=v.token),k>1&&(/\\\d/.test(v.regex)?y=v.regex.replace(/\\([0-9]+)/g,function(p,o){return"\\"+(parseInt(o,10)+r+1)}):(k=1,y=this.removeCapturingGroups(v.regex)),!v.splitRegex&&typeof v.token!="string"&&s.push(v)),n[r]=d,r+=k,e.push(y),v.onMatch||(v.onMatch=null)}}e.length||(n[0]=0,e.push("$")),s.forEach(function(p){p.splitRegex=this.createSplitterRegexp(p.regex,i)},this),this.regExps[l]=new RegExp("("+e.join(")|(")+")|($)",i)}};(function(){this.$setMaxTokenCount=function(a){E=a|0},this.$applyToken=function(a){var l=this.splitRegex.exec(a).slice(1),t=this.token.apply(this,l);if(typeof t=="string")return[{type:t,value:a}];for(var e=[],r=0,n=t.length;r<n;r++)l[r]&&(e[e.length]={type:t[r],value:l[r]});return e},this.$arrayTokens=function(a){if(!a)return[];var l=this.splitRegex.exec(a);if(!l)return"text";for(var t=[],e=this.tokenArray,r=0,n=e.length;r<n;r++)l[r+1]&&(t[t.length]={type:e[r],value:l[r+1]});return t},this.removeCapturingGroups=function(a){var l=a.replace(/\\.|\[(?:\\.|[^\\\]])*|\(\?[:=!]|(\()/g,function(t,e){return e?"(?:":t});return l},this.createSplitterRegexp=function(a,l){if(a.indexOf("(?=")!=-1){var t=0,e=!1,r={};a.replace(/(\\.)|(\((?:\?[=!])?)|(\))|([\[\]])/g,function(n,i,s,d,v,y){return e?e=v!="]":v?e=!0:d?(t==r.stack&&(r.end=y+1,r.stack=-1),t--):s&&(t++,s.length!=1&&(r.stack=t,r.start=y)),n}),r.end!=null&&/^\)*$/.test(a.substr(r.end))&&(a=a.substring(0,r.start)+a.substr(r.end))}return a.charAt(0)!="^"&&(a="^"+a),a.charAt(a.length-1)!="$"&&(a+="$"),new RegExp(a,(l||"").replace("g",""))},this.getLineTokens=function(a,l){if(l&&typeof l!="string"){var t=l.slice(0);l=t[0],l==="#tmp"&&(t.shift(),l=t.shift())}else var t=[];var e=l||"start",r=this.states[e];r||(e="start",r=this.states[e]);var n=this.matchMappings[e],i=this.regExps[e];i.lastIndex=0;for(var s,d=[],v=0,y=0,k={type:null,value:""};s=i.exec(a);){var p=n.defaultToken,o=null,f=s[0],w=i.lastIndex;if(w-f.length>v){var g=a.substring(v,w-f.length);k.type==p?k.value+=g:(k.type&&d.push(k),k={type:p,value:g})}for(var m=0;m<s.length-2;m++)if(s[m+1]!==void 0){o=r[n[m]],o.onMatch?p=o.onMatch(f,e,t,a):p=o.token,o.next&&(typeof o.next=="string"?e=o.next:e=o.next(e,t),r=this.states[e],r||(this.reportError("state doesn't exist",e),e="start",r=this.states[e]),n=this.matchMappings[e],v=w,i=this.regExps[e],i.lastIndex=w),o.consumeLineEnd&&(v=w);break}if(f){if(typeof p=="string")(!o||o.merge!==!1)&&k.type===p?k.value+=f:(k.type&&d.push(k),k={type:p,value:f});else if(p){k.type&&d.push(k),k={type:null,value:""};for(var m=0;m<p.length;m++)d.push(p[m])}}if(v==a.length)break;if(v=w,y++>E){for(y>2*a.length&&this.reportError("infinite loop with in ace tokenizer",{startState:l,line:a});v<a.length;)k.type&&d.push(k),k={value:a.substring(v,v+=500),type:"overflow"};e="start",t=[];break}}return k.type&&d.push(k),t.length>1&&t[0]!==e&&t.unshift("#tmp",e),{tokens:d,state:t.length?t:e}},this.reportError=R.reportError}).call(h.prototype),M.Tokenizer=h}),ace.define("ace/mode/text_highlight_rules",["require","exports","module","ace/lib/lang"],function(c,M,W){var R=c("../lib/lang"),E=function(){this.$rules={start:[{token:"empty_line",regex:"^$"},{defaultToken:"text"}]}};(function(){this.addRules=function(l,t){if(!t){for(var e in l)this.$rules[e]=l[e];return}for(var e in l){for(var r=l[e],n=0;n<r.length;n++){var i=r[n];(i.next||i.onMatch)&&(typeof i.next=="string"&&i.next.indexOf(t)!==0&&(i.next=t+i.next),i.nextState&&i.nextState.indexOf(t)!==0&&(i.nextState=t+i.nextState))}this.$rules[t+e]=r}},this.getRules=function(){return this.$rules},this.embedRules=function(l,t,e,r,n){var i=typeof l=="function"?new l().getRules():l;if(r)for(var s=0;s<r.length;s++)r[s]=t+r[s];else{r=[];for(var d in i)r.push(t+d)}if(this.addRules(i,t),e)for(var v=Array.prototype[n?"push":"unshift"],s=0;s<r.length;s++)v.apply(this.$rules[r[s]],R.deepCopy(e));this.$embeds||(this.$embeds=[]),this.$embeds.push(t)},this.getEmbeds=function(){return this.$embeds};var h=function(l,t){return(l!="start"||t.length)&&t.unshift(this.nextState,l),this.nextState},a=function(l,t){return t.shift(),t.shift()||"start"};this.normalizeRules=function(){var l=0,t=this.$rules;function e(r){var n=t[r];n.processed=!0;for(var i=0;i<n.length;i++){var s=n[i],d=null;Array.isArray(s)&&(d=s,s={}),!s.regex&&s.start&&(s.regex=s.start,s.next||(s.next=[]),s.next.push({defaultToken:s.token},{token:s.token+".end",regex:s.end||s.start,next:"pop"}),s.token=s.token+".start",s.push=!0);var v=s.next||s.push;if(v&&Array.isArray(v)){var y=s.stateName;y||(y=s.token,typeof y!="string"&&(y=y[0]||""),t[y]&&(y+=l++)),t[y]=v,s.next=y,e(y)}else v=="pop"&&(s.next=a);if(s.push&&(s.nextState=s.next||s.push,s.next=h,delete s.push),s.rules)for(var k in s.rules)t[k]?t[k].push&&t[k].push.apply(t[k],s.rules[k]):t[k]=s.rules[k];var p=typeof s=="string"?s:s.include;if(p&&(Array.isArray(p)?d=p.map(function(f){return t[f]}):d=t[p]),d){var o=[i,1].concat(d);s.noEscape&&(o=o.filter(function(f){return!f.next})),n.splice.apply(n,o),i--}s.keywordMap&&(s.token=this.createKeywordMapper(s.keywordMap,s.defaultToken||"text",s.caseInsensitive),delete s.defaultToken)}}Object.keys(t).forEach(e,this)},this.createKeywordMapper=function(l,t,e,r){var n=Object.create(null);return this.$keywordList=[],Object.keys(l).forEach(function(i){for(var s=l[i],d=s.split(r||"|"),v=d.length;v--;){var y=d[v];this.$keywordList.push(y),e&&(y=y.toLowerCase()),n[y]=i}},this),l=null,e?function(i){return n[i.toLowerCase()]||t}:function(i){return n[i]||t}},this.getKeywords=function(){return this.$keywords}}).call(E.prototype),M.TextHighlightRules=E}),ace.define("ace/mode/behaviour",["require","exports","module"],function(c,M,W){var R=function(){this.$behaviours={}};(function(){this.add=function(E,h,a){switch(void 0){case this.$behaviours:this.$behaviours={};case this.$behaviours[E]:this.$behaviours[E]={}}this.$behaviours[E][h]=a},this.addBehaviours=function(E){for(var h in E)for(var a in E[h])this.add(h,a,E[h][a])},this.remove=function(E){this.$behaviours&&this.$behaviours[E]&&delete this.$behaviours[E]},this.inherit=function(E,h){if(typeof E=="function")var a=new E().getBehaviours(h);else var a=E.getBehaviours(h);this.addBehaviours(a)},this.getBehaviours=function(E){if(E){for(var h={},a=0;a<E.length;a++)this.$behaviours[E[a]]&&(h[E[a]]=this.$behaviours[E[a]]);return h}else return this.$behaviours}}).call(R.prototype),M.Behaviour=R}),ace.define("ace/token_iterator",["require","exports","module","ace/range"],function(c,M,W){var R=c("./range").Range,E=function(h,a,l){this.$session=h,this.$row=a,this.$rowTokens=h.getTokens(a);var t=h.getTokenAt(a,l);this.$tokenIndex=t?t.index:-1};(function(){this.stepBackward=function(){for(this.$tokenIndex-=1;this.$tokenIndex<0;){if(this.$row-=1,this.$row<0)return this.$row=0,null;this.$rowTokens=this.$session.getTokens(this.$row),this.$tokenIndex=this.$rowTokens.length-1}return this.$rowTokens[this.$tokenIndex]},this.stepForward=function(){this.$tokenIndex+=1;for(var h;this.$tokenIndex>=this.$rowTokens.length;){if(this.$row+=1,h||(h=this.$session.getLength()),this.$row>=h)return this.$row=h-1,null;this.$rowTokens=this.$session.getTokens(this.$row),this.$tokenIndex=0}return this.$rowTokens[this.$tokenIndex]},this.getCurrentToken=function(){return this.$rowTokens[this.$tokenIndex]},this.getCurrentTokenRow=function(){return this.$row},this.getCurrentTokenColumn=function(){var h=this.$rowTokens,a=this.$tokenIndex,l=h[a].start;if(l!==void 0)return l;for(l=0;a>0;)a-=1,l+=h[a].value.length;return l},this.getCurrentTokenPosition=function(){return{row:this.$row,column:this.getCurrentTokenColumn()}},this.getCurrentTokenRange=function(){var h=this.$rowTokens[this.$tokenIndex],a=this.getCurrentTokenColumn();return new R(this.$row,a,this.$row,a+h.value.length)}}).call(E.prototype),M.TokenIterator=E}),ace.define("ace/mode/behaviour/cstyle",["require","exports","module","ace/lib/oop","ace/mode/behaviour","ace/token_iterator","ace/lib/lang"],function(c,M,W){var R=c("../../lib/oop"),E=c("../behaviour").Behaviour,h=c("../../token_iterator").TokenIterator,a=c("../../lib/lang"),l=["text","paren.rparen","rparen","paren","punctuation.operator"],t=["text","paren.rparen","rparen","paren","punctuation.operator","comment"],e,r={},n={'"':'"',"'":"'"},i=function(v){var y=-1;if(v.multiSelect&&(y=v.selection.index,r.rangeCount!=v.multiSelect.rangeCount&&(r={rangeCount:v.multiSelect.rangeCount})),r[y])return e=r[y];e=r[y]={autoInsertedBrackets:0,autoInsertedRow:-1,autoInsertedLineEnd:"",maybeInsertedBrackets:0,maybeInsertedRow:-1,maybeInsertedLineStart:"",maybeInsertedLineEnd:""}},s=function(v,y,k,p){var o=v.end.row-v.start.row;return{text:k+y+p,selection:[0,v.start.column+1,o,v.end.column+(o?0:1)]}},d=function(v){this.add("braces","insertion",function(y,k,p,o,f){var w=p.getCursorPosition(),g=o.doc.getLine(w.row);if(f=="{"){i(p);var m=p.getSelectionRange(),u=o.doc.getTextRange(m);if(u!==""&&u!=="{"&&p.getWrapBehavioursEnabled())return s(m,u,"{","}");if(d.isSaneInsertion(p,o))return/[\]\}\)]/.test(g[w.column])||p.inMultiSelectMode||v&&v.braces?(d.recordAutoInsert(p,o,"}"),{text:"{}",selection:[1,1]}):(d.recordMaybeInsert(p,o,"{"),{text:"{",selection:[1,1]})}else if(f=="}"){i(p);var F=g.substring(w.column,w.column+1);if(F=="}"){var S=o.$findOpeningBracket("}",{column:w.column+1,row:w.row});if(S!==null&&d.isAutoInsertedClosing(w,g,f))return d.popAutoInsertedClosing(),{text:"",selection:[1,1]}}}else if(f==`
`||f==`\r
`){i(p);var L="";d.isMaybeInsertedClosing(w,g)&&(L=a.stringRepeat("}",e.maybeInsertedBrackets),d.clearMaybeInsertedClosing());var F=g.substring(w.column,w.column+1);if(F==="}"){var A=o.findMatchingBracket({row:w.row,column:w.column+1},"}");if(!A)return null;var P=this.$getIndent(o.getLine(A.row))}else if(L)var P=this.$getIndent(g);else{d.clearMaybeInsertedClosing();return}var H=P+o.getTabString();return{text:`
`+H+`
`+P+L,selection:[1,H.length,1,H.length]}}else d.clearMaybeInsertedClosing()}),this.add("braces","deletion",function(y,k,p,o,f){var w=o.doc.getTextRange(f);if(!f.isMultiLine()&&w=="{"){i(p);var g=o.doc.getLine(f.start.row),m=g.substring(f.end.column,f.end.column+1);if(m=="}")return f.end.column++,f;e.maybeInsertedBrackets--}}),this.add("parens","insertion",function(y,k,p,o,f){if(f=="("){i(p);var w=p.getSelectionRange(),g=o.doc.getTextRange(w);if(g!==""&&p.getWrapBehavioursEnabled())return s(w,g,"(",")");if(d.isSaneInsertion(p,o))return d.recordAutoInsert(p,o,")"),{text:"()",selection:[1,1]}}else if(f==")"){i(p);var m=p.getCursorPosition(),u=o.doc.getLine(m.row),F=u.substring(m.column,m.column+1);if(F==")"){var S=o.$findOpeningBracket(")",{column:m.column+1,row:m.row});if(S!==null&&d.isAutoInsertedClosing(m,u,f))return d.popAutoInsertedClosing(),{text:"",selection:[1,1]}}}}),this.add("parens","deletion",function(y,k,p,o,f){var w=o.doc.getTextRange(f);if(!f.isMultiLine()&&w=="("){i(p);var g=o.doc.getLine(f.start.row),m=g.substring(f.start.column+1,f.start.column+2);if(m==")")return f.end.column++,f}}),this.add("brackets","insertion",function(y,k,p,o,f){if(f=="["){i(p);var w=p.getSelectionRange(),g=o.doc.getTextRange(w);if(g!==""&&p.getWrapBehavioursEnabled())return s(w,g,"[","]");if(d.isSaneInsertion(p,o))return d.recordAutoInsert(p,o,"]"),{text:"[]",selection:[1,1]}}else if(f=="]"){i(p);var m=p.getCursorPosition(),u=o.doc.getLine(m.row),F=u.substring(m.column,m.column+1);if(F=="]"){var S=o.$findOpeningBracket("]",{column:m.column+1,row:m.row});if(S!==null&&d.isAutoInsertedClosing(m,u,f))return d.popAutoInsertedClosing(),{text:"",selection:[1,1]}}}}),this.add("brackets","deletion",function(y,k,p,o,f){var w=o.doc.getTextRange(f);if(!f.isMultiLine()&&w=="["){i(p);var g=o.doc.getLine(f.start.row),m=g.substring(f.start.column+1,f.start.column+2);if(m=="]")return f.end.column++,f}}),this.add("string_dquotes","insertion",function(y,k,p,o,f){var w=o.$mode.$quotes||n;if(f.length==1&&w[f]){if(this.lineCommentStart&&this.lineCommentStart.indexOf(f)!=-1)return;i(p);var g=f,m=p.getSelectionRange(),u=o.doc.getTextRange(m);if(u!==""&&(u.length!=1||!w[u])&&p.getWrapBehavioursEnabled())return s(m,u,g,g);if(!u){var F=p.getCursorPosition(),S=o.doc.getLine(F.row),L=S.substring(F.column-1,F.column),A=S.substring(F.column,F.column+1),P=o.getTokenAt(F.row,F.column),H=o.getTokenAt(F.row,F.column+1);if(L=="\\"&&P&&/escape/.test(P.type))return null;var j=P&&/string|escape/.test(P.type),le=!H||/string|escape/.test(H.type),q;if(A==g)q=j!==le,q&&/string\.end/.test(H.type)&&(q=!1);else{if(j&&!le||j&&le)return null;var ue=o.$mode.tokenRe;ue.lastIndex=0;var J=ue.test(L);ue.lastIndex=0;var ee=ue.test(L);if(J||ee||A&&!/[\s;,.})\]\\]/.test(A))return null;var ie=S[F.column-2];if(L==g&&(ie==g||ue.test(ie)))return null;q=!0}return{text:q?g+g:"",selection:[1,1]}}}}),this.add("string_dquotes","deletion",function(y,k,p,o,f){var w=o.$mode.$quotes||n,g=o.doc.getTextRange(f);if(!f.isMultiLine()&&w.hasOwnProperty(g)){i(p);var m=o.doc.getLine(f.start.row),u=m.substring(f.start.column+1,f.start.column+2);if(u==g)return f.end.column++,f}})};d.isSaneInsertion=function(v,y){var k=v.getCursorPosition(),p=new h(y,k.row,k.column);if(!this.$matchTokenType(p.getCurrentToken()||"text",l)){if(/[)}\]]/.test(v.session.getLine(k.row)[k.column]))return!0;var o=new h(y,k.row,k.column+1);if(!this.$matchTokenType(o.getCurrentToken()||"text",l))return!1}return p.stepForward(),p.getCurrentTokenRow()!==k.row||this.$matchTokenType(p.getCurrentToken()||"text",t)},d.$matchTokenType=function(v,y){return y.indexOf(v.type||v)>-1},d.recordAutoInsert=function(v,y,k){var p=v.getCursorPosition(),o=y.doc.getLine(p.row);this.isAutoInsertedClosing(p,o,e.autoInsertedLineEnd[0])||(e.autoInsertedBrackets=0),e.autoInsertedRow=p.row,e.autoInsertedLineEnd=k+o.substr(p.column),e.autoInsertedBrackets++},d.recordMaybeInsert=function(v,y,k){var p=v.getCursorPosition(),o=y.doc.getLine(p.row);this.isMaybeInsertedClosing(p,o)||(e.maybeInsertedBrackets=0),e.maybeInsertedRow=p.row,e.maybeInsertedLineStart=o.substr(0,p.column)+k,e.maybeInsertedLineEnd=o.substr(p.column),e.maybeInsertedBrackets++},d.isAutoInsertedClosing=function(v,y,k){return e.autoInsertedBrackets>0&&v.row===e.autoInsertedRow&&k===e.autoInsertedLineEnd[0]&&y.substr(v.column)===e.autoInsertedLineEnd},d.isMaybeInsertedClosing=function(v,y){return e.maybeInsertedBrackets>0&&v.row===e.maybeInsertedRow&&y.substr(v.column)===e.maybeInsertedLineEnd&&y.substr(0,v.column)==e.maybeInsertedLineStart},d.popAutoInsertedClosing=function(){e.autoInsertedLineEnd=e.autoInsertedLineEnd.substr(1),e.autoInsertedBrackets--},d.clearMaybeInsertedClosing=function(){e&&(e.maybeInsertedBrackets=0,e.maybeInsertedRow=-1)},R.inherits(d,E),M.CstyleBehaviour=d}),ace.define("ace/unicode",["require","exports","module"],function(c,M,W){for(var R=[48,9,8,25,5,0,2,25,48,0,11,0,5,0,6,22,2,30,2,457,5,11,15,4,8,0,2,0,18,116,2,1,3,3,9,0,2,2,2,0,2,19,2,82,2,138,2,4,3,155,12,37,3,0,8,38,10,44,2,0,2,1,2,1,2,0,9,26,6,2,30,10,7,61,2,9,5,101,2,7,3,9,2,18,3,0,17,58,3,100,15,53,5,0,6,45,211,57,3,18,2,5,3,11,3,9,2,1,7,6,2,2,2,7,3,1,3,21,2,6,2,0,4,3,3,8,3,1,3,3,9,0,5,1,2,4,3,11,16,2,2,5,5,1,3,21,2,6,2,1,2,1,2,1,3,0,2,4,5,1,3,2,4,0,8,3,2,0,8,15,12,2,2,8,2,2,2,21,2,6,2,1,2,4,3,9,2,2,2,2,3,0,16,3,3,9,18,2,2,7,3,1,3,21,2,6,2,1,2,4,3,8,3,1,3,2,9,1,5,1,2,4,3,9,2,0,17,1,2,5,4,2,2,3,4,1,2,0,2,1,4,1,4,2,4,11,5,4,4,2,2,3,3,0,7,0,15,9,18,2,2,7,2,2,2,22,2,9,2,4,4,7,2,2,2,3,8,1,2,1,7,3,3,9,19,1,2,7,2,2,2,22,2,9,2,4,3,8,2,2,2,3,8,1,8,0,2,3,3,9,19,1,2,7,2,2,2,22,2,15,4,7,2,2,2,3,10,0,9,3,3,9,11,5,3,1,2,17,4,23,2,8,2,0,3,6,4,0,5,5,2,0,2,7,19,1,14,57,6,14,2,9,40,1,2,0,3,1,2,0,3,0,7,3,2,6,2,2,2,0,2,0,3,1,2,12,2,2,3,4,2,0,2,5,3,9,3,1,35,0,24,1,7,9,12,0,2,0,2,0,5,9,2,35,5,19,2,5,5,7,2,35,10,0,58,73,7,77,3,37,11,42,2,0,4,328,2,3,3,6,2,0,2,3,3,40,2,3,3,32,2,3,3,6,2,0,2,3,3,14,2,56,2,3,3,66,5,0,33,15,17,84,13,619,3,16,2,25,6,74,22,12,2,6,12,20,12,19,13,12,2,2,2,1,13,51,3,29,4,0,5,1,3,9,34,2,3,9,7,87,9,42,6,69,11,28,4,11,5,11,11,39,3,4,12,43,5,25,7,10,38,27,5,62,2,28,3,10,7,9,14,0,89,75,5,9,18,8,13,42,4,11,71,55,9,9,4,48,83,2,2,30,14,230,23,280,3,5,3,37,3,5,3,7,2,0,2,0,2,0,2,30,3,52,2,6,2,0,4,2,2,6,4,3,3,5,5,12,6,2,2,6,67,1,20,0,29,0,14,0,17,4,60,12,5,0,4,11,18,0,5,0,3,9,2,0,4,4,7,0,2,0,2,0,2,3,2,10,3,3,6,4,5,0,53,1,2684,46,2,46,2,132,7,6,15,37,11,53,10,0,17,22,10,6,2,6,2,6,2,6,2,6,2,6,2,6,2,6,2,31,48,0,470,1,36,5,2,4,6,1,5,85,3,1,3,2,2,89,2,3,6,40,4,93,18,23,57,15,513,6581,75,20939,53,1164,68,45,3,268,4,27,21,31,3,13,13,1,2,24,9,69,11,1,38,8,3,102,3,1,111,44,25,51,13,68,12,9,7,23,4,0,5,45,3,35,13,28,4,64,15,10,39,54,10,13,3,9,7,22,4,1,5,66,25,2,227,42,2,1,3,9,7,11171,13,22,5,48,8453,301,3,61,3,105,39,6,13,4,6,11,2,12,2,4,2,0,2,1,2,1,2,107,34,362,19,63,3,53,41,11,5,15,17,6,13,1,25,2,33,4,2,134,20,9,8,25,5,0,2,25,12,88,4,5,3,5,3,5,3,2],E=0,h=[],a=0;a<R.length;a+=2)h.push(E+=R[a]),R[a+1]&&h.push(45,E+=R[a+1]);M.wordChars=String.fromCharCode.apply(null,h)}),ace.define("ace/mode/text",["require","exports","module","ace/config","ace/tokenizer","ace/mode/text_highlight_rules","ace/mode/behaviour/cstyle","ace/unicode","ace/lib/lang","ace/token_iterator","ace/range"],function(c,M,W){var R=c("../config"),E=c("../tokenizer").Tokenizer,h=c("./text_highlight_rules").TextHighlightRules,a=c("./behaviour/cstyle").CstyleBehaviour,l=c("../unicode"),t=c("../lib/lang"),e=c("../token_iterator").TokenIterator,r=c("../range").Range,n=function(){this.HighlightRules=h};(function(){this.$defaultBehaviour=new a,this.tokenRe=new RegExp("^["+l.wordChars+"\\$_]+","g"),this.nonTokenRe=new RegExp("^(?:[^"+l.wordChars+"\\$_]|\\s])+","g"),this.getTokenizer=function(){return this.$tokenizer||(this.$highlightRules=this.$highlightRules||new this.HighlightRules(this.$highlightRuleConfig),this.$tokenizer=new E(this.$highlightRules.getRules())),this.$tokenizer},this.lineCommentStart="",this.blockComment="",this.toggleCommentLines=function(i,s,d,v){var y=s.doc,k=!0,p=!0,o=1/0,f=s.getTabSize(),w=!1;if(this.lineCommentStart){if(Array.isArray(this.lineCommentStart))var u=this.lineCommentStart.map(t.escapeRegExp).join("|"),g=this.lineCommentStart[0];else var u=t.escapeRegExp(this.lineCommentStart),g=this.lineCommentStart;u=new RegExp("^(\\s*)(?:"+u+") ?"),w=s.getUseSoftTabs();var L=function(ee,ie){var me=ee.match(u);if(me){var de=me[1].length,Ce=me[0].length;!H(ee,de,Ce)&&me[0][Ce-1]==" "&&Ce--,y.removeInLine(ie,de,Ce)}},P=g+" ",S=function(ee,ie){(!k||/\S/.test(ee))&&(H(ee,o,o)?y.insertInLine({row:ie,column:o},P):y.insertInLine({row:ie,column:o},g))},A=function(ee,ie){return u.test(ee)},H=function(ee,ie,me){for(var de=0;ie--&&ee.charAt(ie)==" ";)de++;if(de%f!=0)return!1;for(var de=0;ee.charAt(me++)==" ";)de++;return f>2?de%f!=f-1:de%f==0}}else{if(!this.blockComment)return!1;var g=this.blockComment.start,m=this.blockComment.end,u=new RegExp("^(\\s*)(?:"+t.escapeRegExp(g)+")"),F=new RegExp("(?:"+t.escapeRegExp(m)+")\\s*$"),S=function(q,ue){A(q,ue)||(!k||/\S/.test(q))&&(y.insertInLine({row:ue,column:q.length},m),y.insertInLine({row:ue,column:o},g))},L=function(q,ue){var J;(J=q.match(F))&&y.removeInLine(ue,q.length-J[0].length,q.length),(J=q.match(u))&&y.removeInLine(ue,J[1].length,J[0].length)},A=function(q,ue){if(u.test(q))return!0;for(var J=s.getTokens(ue),ee=0;ee<J.length;ee++)if(J[ee].type==="comment")return!0}}function j(q){for(var ue=d;ue<=v;ue++)q(y.getLine(ue),ue)}var le=1/0;j(function(q,ue){var J=q.search(/\S/);J!==-1?(J<o&&(o=J),p&&!A(q,ue)&&(p=!1)):le>q.length&&(le=q.length)}),o==1/0&&(o=le,k=!1,p=!1),w&&o%f!=0&&(o=Math.floor(o/f)*f),j(p?L:S)},this.toggleBlockComment=function(i,s,d,v){var y=this.blockComment;if(y){!y.start&&y[0]&&(y=y[0]);var k=new e(s,v.row,v.column),p=k.getCurrentToken();s.selection;var o=s.selection.toOrientedRange(),f,w;if(p&&/comment/.test(p.type)){for(var g,m;p&&/comment/.test(p.type);){var u=p.value.indexOf(y.start);if(u!=-1){var F=k.getCurrentTokenRow(),S=k.getCurrentTokenColumn()+u;g=new r(F,S,F,S+y.start.length);break}p=k.stepBackward()}for(var k=new e(s,v.row,v.column),p=k.getCurrentToken();p&&/comment/.test(p.type);){var u=p.value.indexOf(y.end);if(u!=-1){var F=k.getCurrentTokenRow(),S=k.getCurrentTokenColumn()+u;m=new r(F,S,F,S+y.end.length);break}p=k.stepForward()}m&&s.remove(m),g&&(s.remove(g),f=g.start.row,w=-y.start.length)}else w=y.start.length,f=d.start.row,s.insert(d.end,y.end),s.insert(d.start,y.start);o.start.row==f&&(o.start.column+=w),o.end.row==f&&(o.end.column+=w),s.selection.fromOrientedRange(o)}},this.getNextLineIndent=function(i,s,d){return this.$getIndent(s)},this.checkOutdent=function(i,s,d){return!1},this.autoOutdent=function(i,s,d){},this.$getIndent=function(i){return i.match(/^\s*/)[0]},this.createWorker=function(i){return null},this.createModeDelegates=function(i){this.$embeds=[],this.$modes={};for(var s in i)if(i[s]){var d=i[s],v=d.prototype.$id,y=R.$modes[v];y||(R.$modes[v]=y=new d),R.$modes[s]||(R.$modes[s]=y),this.$embeds.push(s),this.$modes[s]=y}for(var k=["toggleBlockComment","toggleCommentLines","getNextLineIndent","checkOutdent","autoOutdent","transformAction","getCompletions"],s=0;s<k.length;s++)(function(o){var f=k[s],w=o[f];o[k[s]]=function(){return this.$delegator(f,arguments,w)}})(this)},this.$delegator=function(i,s,d){var v=s[0]||"start";if(typeof v!="string"){if(Array.isArray(v[2])){var y=v[2][v[2].length-1],k=this.$modes[y];if(k)return k[i].apply(k,[v[1]].concat([].slice.call(s,1)))}v=v[0]||"start"}for(var p=0;p<this.$embeds.length;p++)if(this.$modes[this.$embeds[p]]){var o=v.split(this.$embeds[p]);if(!o[0]&&o[1]){s[0]=o[1];var k=this.$modes[this.$embeds[p]];return k[i].apply(k,s)}}var f=d.apply(this,s);return d?f:void 0},this.transformAction=function(i,s,d,v,y){if(this.$behaviour){var k=this.$behaviour.getBehaviours();for(var p in k)if(k[p][s]){var o=k[p][s].apply(this,arguments);if(o)return o}}},this.getKeywords=function(i){if(!this.completionKeywords){var s=this.$tokenizer.rules,d=[];for(var v in s)for(var y=s[v],k=0,p=y.length;k<p;k++)if(typeof y[k].token=="string")/keyword|support|storage/.test(y[k].token)&&d.push(y[k].regex);else if(typeof y[k].token=="object"){for(var o=0,f=y[k].token.length;o<f;o++)if(/keyword|support|storage/.test(y[k].token[o])){var v=y[k].regex.match(/\(.+?\)/g)[o];d.push(v.substr(1,v.length-2))}}this.completionKeywords=d}return i?d.concat(this.$keywordList||[]):this.$keywordList},this.$createKeywordList=function(){return this.$highlightRules||this.getTokenizer(),this.$keywordList=this.$highlightRules.$keywordList||[]},this.getCompletions=function(i,s,d,v){var y=this.$keywordList||this.$createKeywordList();return y.map(function(k){return{name:k,value:k,score:0,meta:"keyword"}})},this.$id="ace/mode/text"}).call(n.prototype),M.Mode=n}),ace.define("ace/apply_delta",["require","exports","module"],function(c,M,W){M.applyDelta=function(R,E,h){var a=E.start.row,l=E.start.column,t=R[a]||"";switch(E.action){case"insert":var e=E.lines;if(e.length===1)R[a]=t.substring(0,l)+E.lines[0]+t.substring(l);else{var r=[a,1].concat(E.lines);R.splice.apply(R,r),R[a]=t.substring(0,l)+R[a],R[a+E.lines.length-1]+=t.substring(l)}break;case"remove":var n=E.end.column,i=E.end.row;a===i?R[a]=t.substring(0,l)+t.substring(n):R.splice(a,i-a+1,t.substring(0,l)+R[i].substring(n));break}}}),ace.define("ace/anchor",["require","exports","module","ace/lib/oop","ace/lib/event_emitter"],function(c,M,W){var R=c("./lib/oop"),E=c("./lib/event_emitter").EventEmitter,h=M.Anchor=function(a,l,t){this.$onChange=this.onChange.bind(this),this.attach(a),typeof t>"u"?this.setPosition(l.row,l.column):this.setPosition(l,t)};(function(){R.implement(this,E),this.getPosition=function(){return this.$clipPositionToDocument(this.row,this.column)},this.getDocument=function(){return this.document},this.$insertRight=!1,this.onChange=function(t){if(!(t.start.row==t.end.row&&t.start.row!=this.row)&&!(t.start.row>this.row)){var e=l(t,{row:this.row,column:this.column},this.$insertRight);this.setPosition(e.row,e.column,!0)}};function a(t,e,r){var n=r?t.column<=e.column:t.column<e.column;return t.row<e.row||t.row==e.row&&n}function l(t,e,r){var n=t.action=="insert",i=(n?1:-1)*(t.end.row-t.start.row),s=(n?1:-1)*(t.end.column-t.start.column),d=t.start,v=n?d:t.end;return a(e,d,r)?{row:e.row,column:e.column}:a(v,e,!r)?{row:e.row+i,column:e.column+(e.row==v.row?s:0)}:{row:d.row,column:d.column}}this.setPosition=function(t,e,r){var n;if(r?n={row:t,column:e}:n=this.$clipPositionToDocument(t,e),!(this.row==n.row&&this.column==n.column)){var i={row:this.row,column:this.column};this.row=n.row,this.column=n.column,this._signal("change",{old:i,value:n})}},this.detach=function(){this.document.off("change",this.$onChange)},this.attach=function(t){this.document=t||this.document,this.document.on("change",this.$onChange)},this.$clipPositionToDocument=function(t,e){var r={};return t>=this.document.getLength()?(r.row=Math.max(0,this.document.getLength()-1),r.column=this.document.getLine(r.row).length):t<0?(r.row=0,r.column=0):(r.row=t,r.column=Math.min(this.document.getLine(r.row).length,Math.max(0,e))),e<0&&(r.column=0),r}}).call(h.prototype)}),ace.define("ace/document",["require","exports","module","ace/lib/oop","ace/apply_delta","ace/lib/event_emitter","ace/range","ace/anchor"],function(c,M,W){var R=c("./lib/oop"),E=c("./apply_delta").applyDelta,h=c("./lib/event_emitter").EventEmitter,a=c("./range").Range,l=c("./anchor").Anchor,t=function(e){this.$lines=[""],e.length===0?this.$lines=[""]:Array.isArray(e)?this.insertMergedLines({row:0,column:0},e):this.insert({row:0,column:0},e)};(function(){R.implement(this,h),this.setValue=function(e){var r=this.getLength()-1;this.remove(new a(0,0,r,this.getLine(r).length)),this.insert({row:0,column:0},e)},this.getValue=function(){return this.getAllLines().join(this.getNewLineCharacter())},this.createAnchor=function(e,r){return new l(this,e,r)},"aaa".split(/a/).length===0?this.$split=function(e){return e.replace(/\r\n|\r/g,`
`).split(`
`)}:this.$split=function(e){return e.split(/\r\n|\r|\n/)},this.$detectNewLine=function(e){var r=e.match(/^.*?(\r\n|\r|\n)/m);this.$autoNewLine=r?r[1]:`
`,this._signal("changeNewLineMode")},this.getNewLineCharacter=function(){switch(this.$newLineMode){case"windows":return`\r
`;case"unix":return`
`;default:return this.$autoNewLine||`
`}},this.$autoNewLine="",this.$newLineMode="auto",this.setNewLineMode=function(e){this.$newLineMode!==e&&(this.$newLineMode=e,this._signal("changeNewLineMode"))},this.getNewLineMode=function(){return this.$newLineMode},this.isNewLine=function(e){return e==`\r
`||e=="\r"||e==`
`},this.getLine=function(e){return this.$lines[e]||""},this.getLines=function(e,r){return this.$lines.slice(e,r+1)},this.getAllLines=function(){return this.getLines(0,this.getLength())},this.getLength=function(){return this.$lines.length},this.getTextRange=function(e){return this.getLinesForRange(e).join(this.getNewLineCharacter())},this.getLinesForRange=function(e){var r;if(e.start.row===e.end.row)r=[this.getLine(e.start.row).substring(e.start.column,e.end.column)];else{r=this.getLines(e.start.row,e.end.row),r[0]=(r[0]||"").substring(e.start.column);var n=r.length-1;e.end.row-e.start.row==n&&(r[n]=r[n].substring(0,e.end.column))}return r},this.insertLines=function(e,r){return console.warn("Use of document.insertLines is deprecated. Use the insertFullLines method instead."),this.insertFullLines(e,r)},this.removeLines=function(e,r){return console.warn("Use of document.removeLines is deprecated. Use the removeFullLines method instead."),this.removeFullLines(e,r)},this.insertNewLine=function(e){return console.warn("Use of document.insertNewLine is deprecated. Use insertMergedLines(position, ['', '']) instead."),this.insertMergedLines(e,["",""])},this.insert=function(e,r){return this.getLength()<=1&&this.$detectNewLine(r),this.insertMergedLines(e,this.$split(r))},this.insertInLine=function(e,r){var n=this.clippedPos(e.row,e.column),i=this.pos(e.row,e.column+r.length);return this.applyDelta({start:n,end:i,action:"insert",lines:[r]},!0),this.clonePos(i)},this.clippedPos=function(e,r){var n=this.getLength();e===void 0?e=n:e<0?e=0:e>=n&&(e=n-1,r=void 0);var i=this.getLine(e);return r==null&&(r=i.length),r=Math.min(Math.max(r,0),i.length),{row:e,column:r}},this.clonePos=function(e){return{row:e.row,column:e.column}},this.pos=function(e,r){return{row:e,column:r}},this.$clipPosition=function(e){var r=this.getLength();return e.row>=r?(e.row=Math.max(0,r-1),e.column=this.getLine(r-1).length):(e.row=Math.max(0,e.row),e.column=Math.min(Math.max(e.column,0),this.getLine(e.row).length)),e},this.insertFullLines=function(e,r){e=Math.min(Math.max(e,0),this.getLength());var n=0;e<this.getLength()?(r=r.concat([""]),n=0):(r=[""].concat(r),e--,n=this.$lines[e].length),this.insertMergedLines({row:e,column:n},r)},this.insertMergedLines=function(e,r){var n=this.clippedPos(e.row,e.column),i={row:n.row+r.length-1,column:(r.length==1?n.column:0)+r[r.length-1].length};return this.applyDelta({start:n,end:i,action:"insert",lines:r}),this.clonePos(i)},this.remove=function(e){var r=this.clippedPos(e.start.row,e.start.column),n=this.clippedPos(e.end.row,e.end.column);return this.applyDelta({start:r,end:n,action:"remove",lines:this.getLinesForRange({start:r,end:n})}),this.clonePos(r)},this.removeInLine=function(e,r,n){var i=this.clippedPos(e,r),s=this.clippedPos(e,n);return this.applyDelta({start:i,end:s,action:"remove",lines:this.getLinesForRange({start:i,end:s})},!0),this.clonePos(i)},this.removeFullLines=function(e,r){e=Math.min(Math.max(0,e),this.getLength()-1),r=Math.min(Math.max(0,r),this.getLength()-1);var n=r==this.getLength()-1&&e>0,i=r<this.getLength()-1,s=n?e-1:e,d=n?this.getLine(s).length:0,v=i?r+1:r,y=i?0:this.getLine(v).length,k=new a(s,d,v,y),p=this.$lines.slice(e,r+1);return this.applyDelta({start:k.start,end:k.end,action:"remove",lines:this.getLinesForRange(k)}),p},this.removeNewLine=function(e){e<this.getLength()-1&&e>=0&&this.applyDelta({start:this.pos(e,this.getLine(e).length),end:this.pos(e+1,0),action:"remove",lines:["",""]})},this.replace=function(e,r){if(e instanceof a||(e=a.fromPoints(e.start,e.end)),r.length===0&&e.isEmpty())return e.start;if(r==this.getTextRange(e))return e.end;this.remove(e);var n;return r?n=this.insert(e.start,r):n=e.start,n},this.applyDeltas=function(e){for(var r=0;r<e.length;r++)this.applyDelta(e[r])},this.revertDeltas=function(e){for(var r=e.length-1;r>=0;r--)this.revertDelta(e[r])},this.applyDelta=function(e,r){var n=e.action=="insert";(n?e.lines.length<=1&&!e.lines[0]:!a.comparePoints(e.start,e.end))||(n&&e.lines.length>2e4?this.$splitAndapplyLargeDelta(e,2e4):(E(this.$lines,e,r),this._signal("change",e)))},this.$safeApplyDelta=function(e){var r=this.$lines.length;(e.action=="remove"&&e.start.row<r&&e.end.row<r||e.action=="insert"&&e.start.row<=r)&&this.applyDelta(e)},this.$splitAndapplyLargeDelta=function(e,r){for(var n=e.lines,i=n.length-r+1,s=e.start.row,d=e.start.column,v=0,y=0;v<i;v=y){y+=r-1;var k=n.slice(v,y);k.push(""),this.applyDelta({start:this.pos(s+v,d),end:this.pos(s+y,d=0),action:e.action,lines:k},!0)}e.lines=n.slice(v),e.start.row=s+v,e.start.column=d,this.applyDelta(e,!0)},this.revertDelta=function(e){this.$safeApplyDelta({start:this.clonePos(e.start),end:this.clonePos(e.end),action:e.action=="insert"?"remove":"insert",lines:e.lines.slice()})},this.indexToPosition=function(e,r){for(var n=this.$lines||this.getAllLines(),i=this.getNewLineCharacter().length,s=r||0,d=n.length;s<d;s++)if(e-=n[s].length+i,e<0)return{row:s,column:e+n[s].length+i};return{row:d-1,column:e+n[d-1].length+i}},this.positionToIndex=function(e,r){for(var n=this.$lines||this.getAllLines(),i=this.getNewLineCharacter().length,s=0,d=Math.min(e.row,n.length),v=r||0;v<d;++v)s+=n[v].length+i;return s+e.column}}).call(t.prototype),M.Document=t}),ace.define("ace/background_tokenizer",["require","exports","module","ace/lib/oop","ace/lib/event_emitter"],function(c,M,W){var R=c("./lib/oop"),E=c("./lib/event_emitter").EventEmitter,h=function(a,l){this.running=!1,this.lines=[],this.states=[],this.currentLine=0,this.tokenizer=a;var t=this;this.$worker=function(){if(t.running){for(var e=new Date,r=t.currentLine,n=-1,i=t.doc,s=r;t.lines[r];)r++;var d=i.getLength(),v=0;for(t.running=!1;r<d;){t.$tokenizeRow(r),n=r;do r++;while(t.lines[r]);if(v++,v%5===0&&new Date-e>20){t.running=setTimeout(t.$worker,20);break}}t.currentLine=r,n==-1&&(n=r),s<=n&&t.fireUpdateEvent(s,n)}}};(function(){R.implement(this,E),this.setTokenizer=function(a){this.tokenizer=a,this.lines=[],this.states=[],this.start(0)},this.setDocument=function(a){this.doc=a,this.lines=[],this.states=[],this.stop()},this.fireUpdateEvent=function(a,l){var t={first:a,last:l};this._signal("update",{data:t})},this.start=function(a){this.currentLine=Math.min(a||0,this.currentLine,this.doc.getLength()),this.lines.splice(this.currentLine,this.lines.length),this.states.splice(this.currentLine,this.states.length),this.stop(),this.running=setTimeout(this.$worker,700)},this.scheduleStart=function(){this.running||(this.running=setTimeout(this.$worker,700))},this.$updateOnChange=function(a){var l=a.start.row,t=a.end.row-l;if(t===0)this.lines[l]=null;else if(a.action=="remove")this.lines.splice(l,t+1,null),this.states.splice(l,t+1,null);else{var e=Array(t+1);e.unshift(l,1),this.lines.splice.apply(this.lines,e),this.states.splice.apply(this.states,e)}this.currentLine=Math.min(l,this.currentLine,this.doc.getLength()),this.stop()},this.stop=function(){this.running&&clearTimeout(this.running),this.running=!1},this.getTokens=function(a){return this.lines[a]||this.$tokenizeRow(a)},this.getState=function(a){return this.currentLine==a&&this.$tokenizeRow(a),this.states[a]||"start"},this.$tokenizeRow=function(a){var l=this.doc.getLine(a),t=this.states[a-1],e=this.tokenizer.getLineTokens(l,t,a);return this.states[a]+""!=e.state+""?(this.states[a]=e.state,this.lines[a+1]=null,this.currentLine>a+1&&(this.currentLine=a+1)):this.currentLine==a&&(this.currentLine=a+1),this.lines[a]=e.tokens}}).call(h.prototype),M.BackgroundTokenizer=h}),ace.define("ace/search_highlight",["require","exports","module","ace/lib/lang","ace/lib/oop","ace/range"],function(c,M,W){var R=c("./lib/lang");c("./lib/oop");var E=c("./range").Range,h=function(a,l,t){this.setRegexp(a),this.clazz=l,this.type=t||"text"};(function(){this.MAX_RANGES=500,this.setRegexp=function(a){this.regExp+""!=a+""&&(this.regExp=a,this.cache=[])},this.update=function(a,l,t,e){if(this.regExp)for(var r=e.firstRow,n=e.lastRow,i=r;i<=n;i++){var s=this.cache[i];s==null&&(s=R.getMatchOffsets(t.getLine(i),this.regExp),s.length>this.MAX_RANGES&&(s=s.slice(0,this.MAX_RANGES)),s=s.map(function(v){return new E(i,v.offset,i,v.offset+v.length)}),this.cache[i]=s.length?s:"");for(var d=s.length;d--;)l.drawSingleLineMarker(a,s[d].toScreenRange(t),this.clazz,e)}}}).call(h.prototype),M.SearchHighlight=h}),ace.define("ace/edit_session/fold_line",["require","exports","module","ace/range"],function(c,M,W){var R=c("../range").Range;function E(h,a){this.foldData=h,Array.isArray(a)?this.folds=a:a=this.folds=[a];var l=a[a.length-1];this.range=new R(a[0].start.row,a[0].start.column,l.end.row,l.end.column),this.start=this.range.start,this.end=this.range.end,this.folds.forEach(function(t){t.setFoldLine(this)},this)}(function(){this.shiftRow=function(h){this.start.row+=h,this.end.row+=h,this.folds.forEach(function(a){a.start.row+=h,a.end.row+=h})},this.addFold=function(h){if(h.sameRow){if(h.start.row<this.startRow||h.endRow>this.endRow)throw new Error("Can't add a fold to this FoldLine as it has no connection");this.folds.push(h),this.folds.sort(function(a,l){return-a.range.compareEnd(l.start.row,l.start.column)}),this.range.compareEnd(h.start.row,h.start.column)>0?(this.end.row=h.end.row,this.end.column=h.end.column):this.range.compareStart(h.end.row,h.end.column)<0&&(this.start.row=h.start.row,this.start.column=h.start.column)}else if(h.start.row==this.end.row)this.folds.push(h),this.end.row=h.end.row,this.end.column=h.end.column;else if(h.end.row==this.start.row)this.folds.unshift(h),this.start.row=h.start.row,this.start.column=h.start.column;else throw new Error("Trying to add fold to FoldRow that doesn't have a matching row");h.foldLine=this},this.containsRow=function(h){return h>=this.start.row&&h<=this.end.row},this.walk=function(h,a,l){var t=0,e=this.folds,r,n,i,s=!0;a==null&&(a=this.end.row,l=this.end.column);for(var d=0;d<e.length;d++){if(r=e[d],n=r.range.compareStart(a,l),n==-1){h(null,a,l,t,s);return}if(i=h(null,r.start.row,r.start.column,t,s),i=!i&&h(r.placeholder,r.start.row,r.start.column,t),i||n===0)return;s=!r.sameRow,t=r.end.column}h(null,a,l,t,s)},this.getNextFoldTo=function(h,a){for(var l,t,e=0;e<this.folds.length;e++){if(l=this.folds[e],t=l.range.compareEnd(h,a),t==-1)return{fold:l,kind:"after"};if(t===0)return{fold:l,kind:"inside"}}return null},this.addRemoveChars=function(h,a,l){var t=this.getNextFoldTo(h,a),e,r;if(t){if(e=t.fold,t.kind=="inside"&&e.start.column!=a&&e.start.row!=h)window.console&&window.console.log(h,a,e);else if(e.start.row==h){r=this.folds;var n=r.indexOf(e);for(n===0&&(this.start.column+=l),n;n<r.length;n++){if(e=r[n],e.start.column+=l,!e.sameRow)return;e.end.column+=l}this.end.column+=l}}},this.split=function(h,a){var l=this.getNextFoldTo(h,a);if(!l||l.kind=="inside")return null;var t=l.fold,e=this.folds,r=this.foldData,n=e.indexOf(t),i=e[n-1];this.end.row=i.end.row,this.end.column=i.end.column,e=e.splice(n,e.length-n);var s=new E(r,e);return r.splice(r.indexOf(this)+1,0,s),s},this.merge=function(h){for(var a=h.folds,l=0;l<a.length;l++)this.addFold(a[l]);var t=this.foldData;t.splice(t.indexOf(h),1)},this.toString=function(){var h=[this.range.toString()+": ["];return this.folds.forEach(function(a){h.push("  "+a.toString())}),h.push("]"),h.join(`
`)},this.idxToPosition=function(h){for(var a=0,l=0;l<this.folds.length;l++){var t=this.folds[l];if(h-=t.start.column-a,h<0)return{row:t.start.row,column:t.start.column+h};if(h-=t.placeholder.length,h<0)return t.start;a=t.end.column}return{row:this.end.row,column:this.end.column+h}}}).call(E.prototype),M.FoldLine=E}),ace.define("ace/range_list",["require","exports","module","ace/range"],function(c,M,W){var R=c("./range").Range,E=R.comparePoints,h=function(){this.ranges=[],this.$bias=1};(function(){this.comparePoints=E,this.pointIndex=function(a,l,t){for(var e=this.ranges,r=t||0;r<e.length;r++){var n=e[r],i=E(a,n.end);if(!(i>0)){var s=E(a,n.start);return i===0?l&&s!==0?-r-2:r:s>0||s===0&&!l?r:-r-1}}return-r-1},this.add=function(a){var l=!a.isEmpty(),t=this.pointIndex(a.start,l);t<0&&(t=-t-1);var e=this.pointIndex(a.end,l,t);return e<0?e=-e-1:e++,this.ranges.splice(t,e-t,a)},this.addList=function(a){for(var l=[],t=a.length;t--;)l.push.apply(l,this.add(a[t]));return l},this.substractPoint=function(a){var l=this.pointIndex(a);if(l>=0)return this.ranges.splice(l,1)},this.merge=function(){var a=[],l=this.ranges;l=l.sort(function(i,s){return E(i.start,s.start)});for(var t=l[0],e,r=1;r<l.length;r++){e=t,t=l[r];var n=E(e.end,t.start);n<0||n==0&&!e.isEmpty()&&!t.isEmpty()||(E(e.end,t.end)<0&&(e.end.row=t.end.row,e.end.column=t.end.column),l.splice(r,1),a.push(t),t=e,r--)}return this.ranges=l,a},this.contains=function(a,l){return this.pointIndex({row:a,column:l})>=0},this.containsPoint=function(a){return this.pointIndex(a)>=0},this.rangeAtPoint=function(a){var l=this.pointIndex(a);if(l>=0)return this.ranges[l]},this.clipRows=function(a,l){var t=this.ranges;if(t[0].start.row>l||t[t.length-1].start.row<a)return[];var e=this.pointIndex({row:a,column:0});e<0&&(e=-e-1);var r=this.pointIndex({row:l,column:0},e);r<0&&(r=-r-1);for(var n=[],i=e;i<r;i++)n.push(t[i]);return n},this.removeAll=function(){return this.ranges.splice(0,this.ranges.length)},this.attach=function(a){this.session&&this.detach(),this.session=a,this.onChange=this.$onChange.bind(this),this.session.on("change",this.onChange)},this.detach=function(){this.session&&(this.session.removeListener("change",this.onChange),this.session=null)},this.$onChange=function(a){for(var l=a.start,t=a.end,e=l.row,r=t.row,n=this.ranges,i=0,s=n.length;i<s;i++){var d=n[i];if(d.end.row>=e)break}if(a.action=="insert")for(var v=r-e,y=-l.column+t.column;i<s;i++){var d=n[i];if(d.start.row>e)break;if(d.start.row==e&&d.start.column>=l.column&&(d.start.column==l.column&&this.$bias<=0||(d.start.column+=y,d.start.row+=v)),d.end.row==e&&d.end.column>=l.column){if(d.end.column==l.column&&this.$bias<0)continue;d.end.column==l.column&&y>0&&i<s-1&&d.end.column>d.start.column&&d.end.column==n[i+1].start.column&&(d.end.column-=y),d.end.column+=y,d.end.row+=v}}else for(var v=e-r,y=l.column-t.column;i<s;i++){var d=n[i];if(d.start.row>r)break;d.end.row<r&&(e<d.end.row||e==d.end.row&&l.column<d.end.column)?(d.end.row=e,d.end.column=l.column):d.end.row==r?d.end.column<=t.column?(v||d.end.column>l.column)&&(d.end.column=l.column,d.end.row=l.row):(d.end.column+=y,d.end.row+=v):d.end.row>r&&(d.end.row+=v),d.start.row<r&&(e<d.start.row||e==d.start.row&&l.column<d.start.column)?(d.start.row=e,d.start.column=l.column):d.start.row==r?d.start.column<=t.column?(v||d.start.column>l.column)&&(d.start.column=l.column,d.start.row=l.row):(d.start.column+=y,d.start.row+=v):d.start.row>r&&(d.start.row+=v)}if(v!=0&&i<s)for(;i<s;i++){var d=n[i];d.start.row+=v,d.end.row+=v}}}).call(h.prototype),M.RangeList=h}),ace.define("ace/edit_session/fold",["require","exports","module","ace/range_list","ace/lib/oop"],function(c,M,W){var R=c("../range_list").RangeList,E=c("../lib/oop"),h=M.Fold=function(r,n){this.foldLine=null,this.placeholder=n,this.range=r,this.start=r.start,this.end=r.end,this.sameRow=r.start.row==r.end.row,this.subFolds=this.ranges=[]};E.inherits(h,R),(function(){this.toString=function(){return'"'+this.placeholder+'" '+this.range.toString()},this.setFoldLine=function(r){this.foldLine=r,this.subFolds.forEach(function(n){n.setFoldLine(r)})},this.clone=function(){var r=this.range.clone(),n=new h(r,this.placeholder);return this.subFolds.forEach(function(i){n.subFolds.push(i.clone())}),n.collapseChildren=this.collapseChildren,n},this.addSubFold=function(r){if(!this.range.isEqual(r)){l(r,this.start);for(var v=r.start.row,y=r.start.column,n=0,i=-1;n<this.subFolds.length&&(i=this.subFolds[n].range.compare(v,y),i==1);n++);var s=this.subFolds[n],d=0;if(i==0){if(s.range.containsRange(r))return s.addSubFold(r);d=1}for(var v=r.range.end.row,y=r.range.end.column,k=n,i=-1;k<this.subFolds.length&&(i=this.subFolds[k].range.compare(v,y),i==1);k++);i==0&&k++;for(var p=this.subFolds.splice(n,k-n,r),o=i==0?p.length-1:p.length,f=d;f<o;f++)r.addSubFold(p[f]);return r.setFoldLine(this.foldLine),r}},this.restoreRange=function(r){return e(r,this.start)}}).call(h.prototype);function a(r,n){r.row-=n.row,r.row==0&&(r.column-=n.column)}function l(r,n){a(r.start,n),a(r.end,n)}function t(r,n){r.row==0&&(r.column+=n.column),r.row+=n.row}function e(r,n){t(r.start,n),t(r.end,n)}}),ace.define("ace/edit_session/folding",["require","exports","module","ace/range","ace/edit_session/fold_line","ace/edit_session/fold","ace/token_iterator"],function(c,M,W){var R=c("../range").Range,E=c("./fold_line").FoldLine,h=c("./fold").Fold,a=c("../token_iterator").TokenIterator;function l(){this.getFoldAt=function(t,e,r){var n=this.getFoldLine(t);if(!n)return null;for(var i=n.folds,s=0;s<i.length;s++){var d=i[s].range;if(d.contains(t,e)){if(r==1&&d.isEnd(t,e)&&!d.isEmpty())continue;if(r==-1&&d.isStart(t,e)&&!d.isEmpty())continue;return i[s]}}},this.getFoldsInRange=function(t){var e=t.start,r=t.end,n=this.$foldData,i=[];e.column+=1,r.column-=1;for(var s=0;s<n.length;s++){var d=n[s].range.compareRange(t);if(d!=2){if(d==-2)break;for(var v=n[s].folds,y=0;y<v.length;y++){var k=v[y];if(d=k.range.compareRange(t),d==-2)break;if(d==2)continue;if(d==42)break;i.push(k)}}}return e.column-=1,r.column+=1,i},this.getFoldsInRangeList=function(t){if(Array.isArray(t)){var e=[];t.forEach(function(r){e=e.concat(this.getFoldsInRange(r))},this)}else var e=this.getFoldsInRange(t);return e},this.getAllFolds=function(){for(var t=[],e=this.$foldData,r=0;r<e.length;r++)for(var n=0;n<e[r].folds.length;n++)t.push(e[r].folds[n]);return t},this.getFoldStringAt=function(t,e,r,n){if(n=n||this.getFoldLine(t),!n)return null;for(var i={end:{column:0}},s,d,v=0;v<n.folds.length;v++){d=n.folds[v];var y=d.range.compareEnd(t,e);if(y==-1){s=this.getLine(d.start.row).substring(i.end.column,d.start.column);break}else if(y===0)return null;i=d}return s||(s=this.getLine(d.start.row).substring(i.end.column)),r==-1?s.substring(0,e-i.end.column):r==1?s.substring(e-i.end.column):s},this.getFoldLine=function(t,e){var r=this.$foldData,n=0;for(e&&(n=r.indexOf(e)),n==-1&&(n=0),n;n<r.length;n++){var i=r[n];if(i.start.row<=t&&i.end.row>=t)return i;if(i.end.row>t)return null}return null},this.getNextFoldLine=function(t,e){var r=this.$foldData,n=0;for(e&&(n=r.indexOf(e)),n==-1&&(n=0),n;n<r.length;n++){var i=r[n];if(i.end.row>=t)return i}return null},this.getFoldedRowCount=function(t,e){for(var r=this.$foldData,n=e-t+1,i=0;i<r.length;i++){var s=r[i],d=s.end.row,v=s.start.row;if(d>=e){v<e&&(v>=t?n-=e-v:n=0);break}else d>=t&&(v>=t?n-=d-v:n-=d-t+1)}return n},this.$addFoldLine=function(t){return this.$foldData.push(t),this.$foldData.sort(function(e,r){return e.start.row-r.start.row}),t},this.addFold=function(t,e){var r=this.$foldData,n=!1,i;t instanceof h?i=t:(i=new h(e,t),i.collapseChildren=e.collapseChildren),this.$clipRangeToDocument(i.range);var s=i.start.row,d=i.start.column,v=i.end.row,y=i.end.column,k=this.getFoldAt(s,d,1),p=this.getFoldAt(v,y,-1);if(k&&p==k)return k.addSubFold(i);k&&!k.range.isStart(s,d)&&this.removeFold(k),p&&!p.range.isEnd(v,y)&&this.removeFold(p);var o=this.getFoldsInRange(i.range);o.length>0&&(this.removeFolds(o),i.collapseChildren||o.forEach(function(m){i.addSubFold(m)}));for(var f=0;f<r.length;f++){var w=r[f];if(v==w.start.row){w.addFold(i),n=!0;break}else if(s==w.end.row){if(w.addFold(i),n=!0,!i.sameRow){var g=r[f+1];if(g&&g.start.row==v){w.merge(g);break}}break}else if(v<=w.start.row)break}return n||(w=this.$addFoldLine(new E(this.$foldData,i))),this.$useWrapMode?this.$updateWrapData(w.start.row,w.start.row):this.$updateRowLengthCache(w.start.row,w.start.row),this.$modified=!0,this._signal("changeFold",{data:i,action:"add"}),i},this.addFolds=function(t){t.forEach(function(e){this.addFold(e)},this)},this.removeFold=function(t){var e=t.foldLine,r=e.start.row,n=e.end.row,i=this.$foldData,s=e.folds;if(s.length==1)i.splice(i.indexOf(e),1);else if(e.range.isEnd(t.end.row,t.end.column))s.pop(),e.end.row=s[s.length-1].end.row,e.end.column=s[s.length-1].end.column;else if(e.range.isStart(t.start.row,t.start.column))s.shift(),e.start.row=s[0].start.row,e.start.column=s[0].start.column;else if(t.sameRow)s.splice(s.indexOf(t),1);else{var d=e.split(t.start.row,t.start.column);s=d.folds,s.shift(),d.start.row=s[0].start.row,d.start.column=s[0].start.column}this.$updating||(this.$useWrapMode?this.$updateWrapData(r,n):this.$updateRowLengthCache(r,n)),this.$modified=!0,this._signal("changeFold",{data:t,action:"remove"})},this.removeFolds=function(t){for(var e=[],r=0;r<t.length;r++)e.push(t[r]);e.forEach(function(n){this.removeFold(n)},this),this.$modified=!0},this.expandFold=function(t){this.removeFold(t),t.subFolds.forEach(function(e){t.restoreRange(e),this.addFold(e)},this),t.collapseChildren>0&&this.foldAll(t.start.row+1,t.end.row,t.collapseChildren-1),t.subFolds=[]},this.expandFolds=function(t){t.forEach(function(e){this.expandFold(e)},this)},this.unfold=function(t,e){var r,n;if(t==null?(r=new R(0,0,this.getLength(),0),e==null&&(e=!0)):typeof t=="number"?r=new R(t,0,t,this.getLine(t).length):"row"in t?r=R.fromPoints(t,t):r=t,n=this.getFoldsInRangeList(r),e!=!1?this.removeFolds(n):this.expandFolds(n),n.length)return n},this.isRowFolded=function(t,e){return!!this.getFoldLine(t,e)},this.getRowFoldEnd=function(t,e){var r=this.getFoldLine(t,e);return r?r.end.row:t},this.getRowFoldStart=function(t,e){var r=this.getFoldLine(t,e);return r?r.start.row:t},this.getFoldDisplayLine=function(t,e,r,n,i){n==null&&(n=t.start.row),i==null&&(i=0),e==null&&(e=t.end.row),r==null&&(r=this.getLine(e).length);var s=this.doc,d="";return t.walk(function(v,y,k,p){if(!(y<n)){if(y==n){if(k<i)return;p=Math.max(i,p)}v!=null?d+=v:d+=s.getLine(y).substring(p,k)}},e,r),d},this.getDisplayLine=function(t,e,r,n){var i=this.getFoldLine(t);if(i)return this.getFoldDisplayLine(i,t,e,r,n);var s;return s=this.doc.getLine(t),s.substring(n||0,e||s.length)},this.$cloneFoldData=function(){var t=[];return t=this.$foldData.map(function(e){var r=e.folds.map(function(n){return n.clone()});return new E(t,r)}),t},this.toggleFold=function(t){var e=this.selection,r=e.getRange(),n,i;if(r.isEmpty()){var s=r.start;if(n=this.getFoldAt(s.row,s.column),n){this.expandFold(n);return}else(i=this.findMatchingBracket(s))?r.comparePoint(i)==1?r.end=i:(r.start=i,r.start.column++,r.end.column--):(i=this.findMatchingBracket({row:s.row,column:s.column+1}))?(r.comparePoint(i)==1?r.end=i:r.start=i,r.start.column++):r=this.getCommentFoldRange(s.row,s.column)||r}else{var d=this.getFoldsInRange(r);if(t&&d.length){this.expandFolds(d);return}else d.length==1&&(n=d[0])}if(n||(n=this.getFoldAt(r.start.row,r.start.column)),n&&n.range.toString()==r.toString()){this.expandFold(n);return}var v="...";if(!r.isMultiLine()){if(v=this.getTextRange(r),v.length<4)return;v=v.trim().substring(0,2)+".."}this.addFold(v,r)},this.getCommentFoldRange=function(t,e,r){var n=new a(this,t,e),i=n.getCurrentToken(),s=i&&i.type;if(i&&/^comment|string/.test(s)){s=s.match(/comment|string/)[0],s=="comment"&&(s+="|doc-start");var d=new RegExp(s),v=new R;if(r!=1){do i=n.stepBackward();while(i&&d.test(i.type));n.stepForward()}if(v.start.row=n.getCurrentTokenRow(),v.start.column=n.getCurrentTokenColumn()+2,n=new a(this,t,e),r!=-1){var y=-1;do if(i=n.stepForward(),y==-1){var k=this.getState(n.$row);d.test(k)||(y=n.$row)}else if(n.$row>y)break;while(i&&d.test(i.type));i=n.stepBackward()}else i=n.getCurrentToken();return v.end.row=n.getCurrentTokenRow(),v.end.column=n.getCurrentTokenColumn()+i.value.length-2,v}},this.foldAll=function(t,e,r,n){r==null&&(r=1e5);var i=this.foldWidgets;if(i){e=e||this.getLength(),t=t||0;for(var s=t;s<e;s++)if(i[s]==null&&(i[s]=this.getFoldWidget(s)),i[s]=="start"&&!(n&&!n(s))){var d=this.getFoldWidgetRange(s);d&&d.isMultiLine()&&d.end.row<=e&&d.start.row>=t&&(s=d.end.row,d.collapseChildren=r,this.addFold("...",d))}}},this.foldToLevel=function(t){for(this.foldAll();t-- >0;)this.unfold(null,!1)},this.foldAllComments=function(){var t=this;this.foldAll(null,null,null,function(e){for(var r=t.getTokens(e),n=0;n<r.length;n++){var i=r[n];if(!(i.type=="text"&&/^\s+$/.test(i.value)))return!!/comment/.test(i.type)}})},this.$foldStyles={manual:1,markbegin:1,markbeginend:1},this.$foldStyle="markbegin",this.setFoldStyle=function(t){if(!this.$foldStyles[t])throw new Error("invalid fold style: "+t+"["+Object.keys(this.$foldStyles).join(", ")+"]");if(this.$foldStyle!=t){this.$foldStyle=t,t=="manual"&&this.unfold();var e=this.$foldMode;this.$setFolding(null),this.$setFolding(e)}},this.$setFolding=function(t){if(this.$foldMode!=t){if(this.$foldMode=t,this.off("change",this.$updateFoldWidgets),this.off("tokenizerUpdate",this.$tokenizerUpdateFoldWidgets),this._signal("changeAnnotation"),!t||this.$foldStyle=="manual"){this.foldWidgets=null;return}this.foldWidgets=[],this.getFoldWidget=t.getFoldWidget.bind(t,this,this.$foldStyle),this.getFoldWidgetRange=t.getFoldWidgetRange.bind(t,this,this.$foldStyle),this.$updateFoldWidgets=this.updateFoldWidgets.bind(this),this.$tokenizerUpdateFoldWidgets=this.tokenizerUpdateFoldWidgets.bind(this),this.on("change",this.$updateFoldWidgets),this.on("tokenizerUpdate",this.$tokenizerUpdateFoldWidgets)}},this.getParentFoldRangeData=function(t,e){var r=this.foldWidgets;if(!r||e&&r[t])return{};for(var n=t-1,i;n>=0;){var s=r[n];if(s==null&&(s=r[n]=this.getFoldWidget(n)),s=="start"){var d=this.getFoldWidgetRange(n);if(i||(i=d),d&&d.end.row>=t)break}n--}return{range:n!==-1&&d,firstRange:i}},this.onFoldWidgetClick=function(t,e){e=e.domEvent;var r={children:e.shiftKey,all:e.ctrlKey||e.metaKey,siblings:e.altKey},n=this.$toggleFoldWidget(t,r);if(!n){var i=e.target||e.srcElement;i&&/ace_fold-widget/.test(i.className)&&(i.className+=" ace_invalid")}},this.$toggleFoldWidget=function(t,e){if(this.getFoldWidget){var r=this.getFoldWidget(t),n=this.getLine(t),i=r==="end"?-1:1,s=this.getFoldAt(t,i===-1?0:n.length,i);if(s)return e.children||e.all?this.removeFold(s):this.expandFold(s),s;var d=this.getFoldWidgetRange(t,!0);if(d&&!d.isMultiLine()&&(s=this.getFoldAt(d.start.row,d.start.column,1),s&&d.isEqual(s.range)))return this.removeFold(s),s;if(e.siblings){var v=this.getParentFoldRangeData(t);if(v.range)var y=v.range.start.row+1,k=v.range.end.row;this.foldAll(y,k,e.all?1e4:0)}else e.children?(k=d?d.end.row:this.getLength(),this.foldAll(t+1,k,e.all?1e4:0)):d&&(e.all&&(d.collapseChildren=1e4),this.addFold("...",d));return d}},this.toggleFoldWidget=function(t){var e=this.selection.getCursor().row;e=this.getRowFoldStart(e);var r=this.$toggleFoldWidget(e,{});if(!r){var n=this.getParentFoldRangeData(e,!0);if(r=n.range||n.firstRange,r){e=r.start.row;var i=this.getFoldAt(e,this.getLine(e).length,1);i?this.removeFold(i):this.addFold("...",r)}}},this.updateFoldWidgets=function(t){var e=t.start.row,r=t.end.row-e;if(r===0)this.foldWidgets[e]=null;else if(t.action=="remove")this.foldWidgets.splice(e,r+1,null);else{var n=Array(r+1);n.unshift(e,1),this.foldWidgets.splice.apply(this.foldWidgets,n)}},this.tokenizerUpdateFoldWidgets=function(t){var e=t.data;e.first!=e.last&&this.foldWidgets.length>e.first&&this.foldWidgets.splice(e.first,this.foldWidgets.length)}}M.Folding=l}),ace.define("ace/edit_session/bracket_match",["require","exports","module","ace/token_iterator","ace/range"],function(c,M,W){var R=c("../token_iterator").TokenIterator,E=c("../range").Range;function h(){this.findMatchingBracket=function(a,l){if(a.column==0)return null;var t=l||this.getLine(a.row).charAt(a.column-1);if(t=="")return null;var e=t.match(/([\(\[\{])|([\)\]\}])/);return e?e[1]?this.$findClosingBracket(e[1],a):this.$findOpeningBracket(e[2],a):null},this.getBracketRange=function(a){var l=this.getLine(a.row),t=!0,e,r=l.charAt(a.column-1),n=r&&r.match(/([\(\[\{])|([\)\]\}])/);if(n||(r=l.charAt(a.column),a={row:a.row,column:a.column+1},n=r&&r.match(/([\(\[\{])|([\)\]\}])/),t=!1),!n)return null;if(n[1]){var i=this.$findClosingBracket(n[1],a);if(!i)return null;e=E.fromPoints(a,i),t||(e.end.column++,e.start.column--),e.cursor=e.end}else{var i=this.$findOpeningBracket(n[2],a);if(!i)return null;e=E.fromPoints(i,a),t||(e.start.column++,e.end.column--),e.cursor=e.start}return e},this.getMatchingBracketRanges=function(a){var l=this.getLine(a.row),t=l.charAt(a.column-1),e=t&&t.match(/([\(\[\{])|([\)\]\}])/);if(e||(t=l.charAt(a.column),a={row:a.row,column:a.column+1},e=t&&t.match(/([\(\[\{])|([\)\]\}])/)),!e)return null;var r=new E(a.row,a.column-1,a.row,a.column),n=e[1]?this.$findClosingBracket(e[1],a):this.$findOpeningBracket(e[2],a);if(!n)return[r];var i=new E(n.row,n.column,n.row,n.column+1);return[r,i]},this.$brackets={")":"(","(":")","]":"[","[":"]","{":"}","}":"{","<":">",">":"<"},this.$findOpeningBracket=function(a,l,t){var e=this.$brackets[a],r=1,n=new R(this,l.row,l.column),i=n.getCurrentToken();if(i||(i=n.stepForward()),!!i){t||(t=new RegExp("(\\.?"+i.type.replace(".","\\.").replace("rparen",".paren").replace(/\b(?:end)\b/,"(?:start|begin|end)")+")+"));for(var s=l.column-n.getCurrentTokenColumn()-2,d=i.value;;){for(;s>=0;){var v=d.charAt(s);if(v==e){if(r-=1,r==0)return{row:n.getCurrentTokenRow(),column:s+n.getCurrentTokenColumn()}}else v==a&&(r+=1);s-=1}do i=n.stepBackward();while(i&&!t.test(i.type));if(i==null)break;d=i.value,s=d.length-1}return null}},this.$findClosingBracket=function(a,l,t){var e=this.$brackets[a],r=1,n=new R(this,l.row,l.column),i=n.getCurrentToken();if(i||(i=n.stepForward()),!!i){t||(t=new RegExp("(\\.?"+i.type.replace(".","\\.").replace("lparen",".paren").replace(/\b(?:start|begin)\b/,"(?:start|begin|end)")+")+"));for(var s=l.column-n.getCurrentTokenColumn();;){for(var d=i.value,v=d.length;s<v;){var y=d.charAt(s);if(y==e){if(r-=1,r==0)return{row:n.getCurrentTokenRow(),column:s+n.getCurrentTokenColumn()}}else y==a&&(r+=1);s+=1}do i=n.stepForward();while(i&&!t.test(i.type));if(i==null)break;s=0}return null}}}M.BracketMatch=h}),ace.define("ace/edit_session",["require","exports","module","ace/lib/oop","ace/lib/lang","ace/bidihandler","ace/config","ace/lib/event_emitter","ace/selection","ace/mode/text","ace/range","ace/document","ace/background_tokenizer","ace/search_highlight","ace/edit_session/folding","ace/edit_session/bracket_match"],function(c,M,W){var R=c("./lib/oop"),E=c("./lib/lang"),h=c("./bidihandler").BidiHandler,a=c("./config"),l=c("./lib/event_emitter").EventEmitter,t=c("./selection").Selection,e=c("./mode/text").Mode,r=c("./range").Range,n=c("./document").Document,i=c("./background_tokenizer").BackgroundTokenizer,s=c("./search_highlight").SearchHighlight,d=function(v,y){this.$breakpoints=[],this.$decorations=[],this.$frontMarkers={},this.$backMarkers={},this.$markerId=1,this.$undoSelect=!0,this.$foldData=[],this.id="session"+ ++d.$uid,this.$foldData.toString=function(){return this.join(`
`)},this.on("changeFold",this.onChangeFold.bind(this)),this.$onChange=this.onChange.bind(this),(typeof v!="object"||!v.getLine)&&(v=new n(v)),this.setDocument(v),this.selection=new t(this),this.$bidiHandler=new h(this),a.resetOptions(this),this.setMode(y),a._signal("session",this)};d.$uid=0,(function(){R.implement(this,l),this.setDocument=function(u){this.doc&&this.doc.removeListener("change",this.$onChange),this.doc=u,u.on("change",this.$onChange),this.bgTokenizer&&this.bgTokenizer.setDocument(this.getDocument()),this.resetCaches()},this.getDocument=function(){return this.doc},this.$resetRowCache=function(u){if(!u){this.$docRowCache=[],this.$screenRowCache=[];return}var F=this.$docRowCache.length,S=this.$getRowCacheIndex(this.$docRowCache,u)+1;F>S&&(this.$docRowCache.splice(S,F),this.$screenRowCache.splice(S,F))},this.$getRowCacheIndex=function(u,F){for(var S=0,L=u.length-1;S<=L;){var A=S+L>>1,P=u[A];if(F>P)S=A+1;else if(F<P)L=A-1;else return A}return S-1},this.resetCaches=function(){this.$modified=!0,this.$wrapData=[],this.$rowLengthCache=[],this.$resetRowCache(0),this.bgTokenizer&&this.bgTokenizer.start(0)},this.onChangeFold=function(u){var F=u.data;this.$resetRowCache(F.start.row)},this.onChange=function(u){this.$modified=!0,this.$bidiHandler.onChange(u),this.$resetRowCache(u.start.row);var F=this.$updateInternalDataOnChange(u);!this.$fromUndo&&this.$undoManager&&(F&&F.length&&(this.$undoManager.add({action:"removeFolds",folds:F},this.mergeUndoDeltas),this.mergeUndoDeltas=!0),this.$undoManager.add(u,this.mergeUndoDeltas),this.mergeUndoDeltas=!0,this.$informUndoManager.schedule()),this.bgTokenizer&&this.bgTokenizer.$updateOnChange(u),this._signal("change",u)},this.setValue=function(u){this.doc.setValue(u),this.selection.moveTo(0,0),this.$resetRowCache(0),this.setUndoManager(this.$undoManager),this.getUndoManager().reset()},this.getValue=this.toString=function(){return this.doc.getValue()},this.getSelection=function(){return this.selection},this.getState=function(u){return this.bgTokenizer.getState(u)},this.getTokens=function(u){return this.bgTokenizer.getTokens(u)},this.getTokenAt=function(u,F){var S=this.bgTokenizer.getTokens(u),L,A=0;if(F==null){var P=S.length-1;A=this.getLine(u).length}else for(var P=0;P<S.length&&(A+=S[P].value.length,!(A>=F));P++);return L=S[P],L?(L.index=P,L.start=A-L.value.length,L):null},this.setUndoManager=function(u){if(this.$undoManager=u,this.$informUndoManager&&this.$informUndoManager.cancel(),u){var F=this;u.addSession(this),this.$syncInformUndoManager=function(){F.$informUndoManager.cancel(),F.mergeUndoDeltas=!1},this.$informUndoManager=E.delayedCall(this.$syncInformUndoManager)}else this.$syncInformUndoManager=function(){}},this.markUndoGroup=function(){this.$syncInformUndoManager&&this.$syncInformUndoManager()},this.$defaultUndoManager={undo:function(){},redo:function(){},hasUndo:function(){},hasRedo:function(){},reset:function(){},add:function(){},addSelection:function(){},startNewGroup:function(){},addSession:function(){}},this.getUndoManager=function(){return this.$undoManager||this.$defaultUndoManager},this.getTabString=function(){return this.getUseSoftTabs()?E.stringRepeat(" ",this.getTabSize()):"	"},this.setUseSoftTabs=function(u){this.setOption("useSoftTabs",u)},this.getUseSoftTabs=function(){return this.$useSoftTabs&&!this.$mode.$indentWithTabs},this.setTabSize=function(u){this.setOption("tabSize",u)},this.getTabSize=function(){return this.$tabSize},this.isTabStop=function(u){return this.$useSoftTabs&&u.column%this.$tabSize===0},this.setNavigateWithinSoftTabs=function(u){this.setOption("navigateWithinSoftTabs",u)},this.getNavigateWithinSoftTabs=function(){return this.$navigateWithinSoftTabs},this.$overwrite=!1,this.setOverwrite=function(u){this.setOption("overwrite",u)},this.getOverwrite=function(){return this.$overwrite},this.toggleOverwrite=function(){this.setOverwrite(!this.$overwrite)},this.addGutterDecoration=function(u,F){this.$decorations[u]||(this.$decorations[u]=""),this.$decorations[u]+=" "+F,this._signal("changeBreakpoint",{})},this.removeGutterDecoration=function(u,F){this.$decorations[u]=(this.$decorations[u]||"").replace(" "+F,""),this._signal("changeBreakpoint",{})},this.getBreakpoints=function(){return this.$breakpoints},this.setBreakpoints=function(u){this.$breakpoints=[];for(var F=0;F<u.length;F++)this.$breakpoints[u[F]]="ace_breakpoint";this._signal("changeBreakpoint",{})},this.clearBreakpoints=function(){this.$breakpoints=[],this._signal("changeBreakpoint",{})},this.setBreakpoint=function(u,F){F===void 0&&(F="ace_breakpoint"),F?this.$breakpoints[u]=F:delete this.$breakpoints[u],this._signal("changeBreakpoint",{})},this.clearBreakpoint=function(u){delete this.$breakpoints[u],this._signal("changeBreakpoint",{})},this.addMarker=function(u,F,S,L){var A=this.$markerId++,P={range:u,type:S||"line",renderer:typeof S=="function"?S:null,clazz:F,inFront:!!L,id:A};return L?(this.$frontMarkers[A]=P,this._signal("changeFrontMarker")):(this.$backMarkers[A]=P,this._signal("changeBackMarker")),A},this.addDynamicMarker=function(u,F){if(u.update){var S=this.$markerId++;return u.id=S,u.inFront=!!F,F?(this.$frontMarkers[S]=u,this._signal("changeFrontMarker")):(this.$backMarkers[S]=u,this._signal("changeBackMarker")),u}},this.removeMarker=function(u){var F=this.$frontMarkers[u]||this.$backMarkers[u];if(F){var S=F.inFront?this.$frontMarkers:this.$backMarkers;delete S[u],this._signal(F.inFront?"changeFrontMarker":"changeBackMarker")}},this.getMarkers=function(u){return u?this.$frontMarkers:this.$backMarkers},this.highlight=function(u){if(!this.$searchHighlight){var F=new s(null,"ace_selected-word","text");this.$searchHighlight=this.addDynamicMarker(F)}this.$searchHighlight.setRegexp(u)},this.highlightLines=function(u,F,S,L){typeof F!="number"&&(S=F,F=u),S||(S="ace_step");var A=new r(u,0,F,1/0);return A.id=this.addMarker(A,S,"fullLine",L),A},this.setAnnotations=function(u){this.$annotations=u,this._signal("changeAnnotation",{})},this.getAnnotations=function(){return this.$annotations||[]},this.clearAnnotations=function(){this.setAnnotations([])},this.$detectNewLine=function(u){var F=u.match(/^.*?(\r?\n)/m);F?this.$autoNewLine=F[1]:this.$autoNewLine=`
`},this.getWordRange=function(u,F){var S=this.getLine(u),L=!1;if(F>0&&(L=!!S.charAt(F-1).match(this.tokenRe)),L||(L=!!S.charAt(F).match(this.tokenRe)),L)var A=this.tokenRe;else if(/^\s+$/.test(S.slice(F-1,F+1)))var A=/\s/;else var A=this.nonTokenRe;var P=F;if(P>0){do P--;while(P>=0&&S.charAt(P).match(A));P++}for(var H=F;H<S.length&&S.charAt(H).match(A);)H++;return new r(u,P,u,H)},this.getAWordRange=function(u,F){for(var S=this.getWordRange(u,F),L=this.getLine(S.end.row);L.charAt(S.end.column).match(/[ \t]/);)S.end.column+=1;return S},this.setNewLineMode=function(u){this.doc.setNewLineMode(u)},this.getNewLineMode=function(){return this.doc.getNewLineMode()},this.setUseWorker=function(u){this.setOption("useWorker",u)},this.getUseWorker=function(){return this.$useWorker},this.onReloadTokenizer=function(u){var F=u.data;this.bgTokenizer.start(F.first),this._signal("tokenizerUpdate",u)},this.$modes=a.$modes,this.$mode=null,this.$modeId=null,this.setMode=function(u,F){if(u&&typeof u=="object"){if(u.getTokenizer)return this.$onChangeMode(u);var S=u,L=S.path}else L=u||"ace/mode/text";if(this.$modes["ace/mode/text"]||(this.$modes["ace/mode/text"]=new e),this.$modes[L]&&!S){this.$onChangeMode(this.$modes[L]),F&&F();return}this.$modeId=L,a.loadModule(["mode",L],(function(A){if(this.$modeId!==L)return F&&F();this.$modes[L]&&!S?this.$onChangeMode(this.$modes[L]):A&&A.Mode&&(A=new A.Mode(S),S||(this.$modes[L]=A,A.$id=L),this.$onChangeMode(A)),F&&F()}).bind(this)),this.$mode||this.$onChangeMode(this.$modes["ace/mode/text"],!0)},this.$onChangeMode=function(u,F){if(F||(this.$modeId=u.$id),this.$mode!==u){var S=this.$mode;this.$mode=u,this.$stopWorker(),this.$useWorker&&this.$startWorker();var L=u.getTokenizer();if(L.on!==void 0){var A=this.onReloadTokenizer.bind(this);L.on("update",A)}if(this.bgTokenizer)this.bgTokenizer.setTokenizer(L);else{this.bgTokenizer=new i(L);var P=this;this.bgTokenizer.on("update",function(H){P._signal("tokenizerUpdate",H)})}this.bgTokenizer.setDocument(this.getDocument()),this.tokenRe=u.tokenRe,this.nonTokenRe=u.nonTokenRe,F||(u.attachToSession&&u.attachToSession(this),this.$options.wrapMethod.set.call(this,this.$wrapMethod),this.$setFolding(u.foldingRules),this.bgTokenizer.start(0),this._emit("changeMode",{oldMode:S,mode:u}))}},this.$stopWorker=function(){this.$worker&&(this.$worker.terminate(),this.$worker=null)},this.$startWorker=function(){try{this.$worker=this.$mode.createWorker(this)}catch(u){a.warn("Could not load worker",u),this.$worker=null}},this.getMode=function(){return this.$mode},this.$scrollTop=0,this.setScrollTop=function(u){this.$scrollTop===u||isNaN(u)||(this.$scrollTop=u,this._signal("changeScrollTop",u))},this.getScrollTop=function(){return this.$scrollTop},this.$scrollLeft=0,this.setScrollLeft=function(u){this.$scrollLeft===u||isNaN(u)||(this.$scrollLeft=u,this._signal("changeScrollLeft",u))},this.getScrollLeft=function(){return this.$scrollLeft},this.getScreenWidth=function(){return this.$computeWidth(),this.lineWidgets?Math.max(this.getLineWidgetMaxWidth(),this.screenWidth):this.screenWidth},this.getLineWidgetMaxWidth=function(){if(this.lineWidgetsWidth!=null)return this.lineWidgetsWidth;var u=0;return this.lineWidgets.forEach(function(F){F&&F.screenWidth>u&&(u=F.screenWidth)}),this.lineWidgetWidth=u},this.$computeWidth=function(u){if(this.$modified||u){if(this.$modified=!1,this.$useWrapMode)return this.screenWidth=this.$wrapLimit;for(var F=this.doc.getAllLines(),S=this.$rowLengthCache,L=0,A=0,P=this.$foldData[A],H=P?P.start.row:1/0,j=F.length,le=0;le<j;le++){if(le>H){if(le=P.end.row+1,le>=j)break;P=this.$foldData[A++],H=P?P.start.row:1/0}S[le]==null&&(S[le]=this.$getStringScreenWidth(F[le])[0]),S[le]>L&&(L=S[le])}this.screenWidth=L}},this.getLine=function(u){return this.doc.getLine(u)},this.getLines=function(u,F){return this.doc.getLines(u,F)},this.getLength=function(){return this.doc.getLength()},this.getTextRange=function(u){return this.doc.getTextRange(u||this.selection.getRange())},this.insert=function(u,F){return this.doc.insert(u,F)},this.remove=function(u){return this.doc.remove(u)},this.removeFullLines=function(u,F){return this.doc.removeFullLines(u,F)},this.undoChanges=function(u,F){if(u.length){this.$fromUndo=!0;for(var S=u.length-1;S!=-1;S--){var L=u[S];L.action=="insert"||L.action=="remove"?this.doc.revertDelta(L):L.folds&&this.addFolds(L.folds)}!F&&this.$undoSelect&&(u.selectionBefore?this.selection.fromJSON(u.selectionBefore):this.selection.setRange(this.$getUndoSelection(u,!0))),this.$fromUndo=!1}},this.redoChanges=function(u,F){if(u.length){this.$fromUndo=!0;for(var S=0;S<u.length;S++){var L=u[S];(L.action=="insert"||L.action=="remove")&&this.doc.$safeApplyDelta(L)}!F&&this.$undoSelect&&(u.selectionAfter?this.selection.fromJSON(u.selectionAfter):this.selection.setRange(this.$getUndoSelection(u,!1))),this.$fromUndo=!1}},this.setUndoSelect=function(u){this.$undoSelect=u},this.$getUndoSelection=function(u,F){function S(j){return F?j.action!=="insert":j.action==="insert"}for(var L,A,P=0;P<u.length;P++){var H=u[P];if(H.start){if(!L){S(H)?L=r.fromPoints(H.start,H.end):L=r.fromPoints(H.start,H.start);continue}S(H)?(A=H.start,L.compare(A.row,A.column)==-1&&L.setStart(A),A=H.end,L.compare(A.row,A.column)==1&&L.setEnd(A)):(A=H.start,L.compare(A.row,A.column)==-1&&(L=r.fromPoints(H.start,H.start)))}}return L},this.replace=function(u,F){return this.doc.replace(u,F)},this.moveText=function(u,F,S){var L=this.getTextRange(u),A=this.getFoldsInRange(u),P=r.fromPoints(F,F);if(!S){this.remove(u);var H=u.start.row-u.end.row,j=H?-u.end.column:u.start.column-u.end.column;j&&(P.start.row==u.end.row&&P.start.column>u.end.column&&(P.start.column+=j),P.end.row==u.end.row&&P.end.column>u.end.column&&(P.end.column+=j)),H&&P.start.row>=u.end.row&&(P.start.row+=H,P.end.row+=H)}if(P.end=this.insert(P.start,L),A.length){var le=u.start,q=P.start,H=q.row-le.row,j=q.column-le.column;this.addFolds(A.map(function(ee){return ee=ee.clone(),ee.start.row==le.row&&(ee.start.column+=j),ee.end.row==le.row&&(ee.end.column+=j),ee.start.row+=H,ee.end.row+=H,ee}))}return P},this.indentRows=function(u,F,S){S=S.replace(/\t/g,this.getTabString());for(var L=u;L<=F;L++)this.doc.insertInLine({row:L,column:0},S)},this.outdentRows=function(u){for(var F=u.collapseRows(),S=new r(0,0,0,0),L=this.getTabSize(),A=F.start.row;A<=F.end.row;++A){var P=this.getLine(A);S.start.row=A,S.end.row=A;for(var H=0;H<L&&P.charAt(H)==" ";++H);H<L&&P.charAt(H)=="	"?(S.start.column=H,S.end.column=H+1):(S.start.column=0,S.end.column=H),this.remove(S)}},this.$moveLines=function(u,F,S){if(u=this.getRowFoldStart(u),F=this.getRowFoldEnd(F),S<0){var L=this.getRowFoldStart(u+S);if(L<0)return 0;var A=L-u}else if(S>0){var L=this.getRowFoldEnd(F+S);if(L>this.doc.getLength()-1)return 0;var A=L-F}else{u=this.$clipRowToDocument(u),F=this.$clipRowToDocument(F);var A=F-u+1}var P=new r(u,0,F,Number.MAX_VALUE),H=this.getFoldsInRange(P).map(function(le){return le=le.clone(),le.start.row+=A,le.end.row+=A,le}),j=S==0?this.doc.getLines(u,F):this.doc.removeFullLines(u,F);return this.doc.insertFullLines(u+A,j),H.length&&this.addFolds(H),A},this.moveLinesUp=function(u,F){return this.$moveLines(u,F,-1)},this.moveLinesDown=function(u,F){return this.$moveLines(u,F,1)},this.duplicateLines=function(u,F){return this.$moveLines(u,F,0)},this.$clipRowToDocument=function(u){return Math.max(0,Math.min(u,this.doc.getLength()-1))},this.$clipColumnToRow=function(u,F){return F<0?0:Math.min(this.doc.getLine(u).length,F)},this.$clipPositionToDocument=function(u,F){if(F=Math.max(0,F),u<0)u=0,F=0;else{var S=this.doc.getLength();u>=S?(u=S-1,F=this.doc.getLine(S-1).length):F=Math.min(this.doc.getLine(u).length,F)}return{row:u,column:F}},this.$clipRangeToDocument=function(u){u.start.row<0?(u.start.row=0,u.start.column=0):u.start.column=this.$clipColumnToRow(u.start.row,u.start.column);var F=this.doc.getLength()-1;return u.end.row>F?(u.end.row=F,u.end.column=this.doc.getLine(F).length):u.end.column=this.$clipColumnToRow(u.end.row,u.end.column),u},this.$wrapLimit=80,this.$useWrapMode=!1,this.$wrapLimitRange={min:null,max:null},this.setUseWrapMode=function(u){if(u!=this.$useWrapMode){if(this.$useWrapMode=u,this.$modified=!0,this.$resetRowCache(0),u){var F=this.getLength();this.$wrapData=Array(F),this.$updateWrapData(0,F-1)}this._signal("changeWrapMode")}},this.getUseWrapMode=function(){return this.$useWrapMode},this.setWrapLimitRange=function(u,F){(this.$wrapLimitRange.min!==u||this.$wrapLimitRange.max!==F)&&(this.$wrapLimitRange={min:u,max:F},this.$modified=!0,this.$bidiHandler.markAsDirty(),this.$useWrapMode&&this._signal("changeWrapMode"))},this.adjustWrapLimit=function(u,F){var S=this.$wrapLimitRange;S.max<0&&(S={min:F,max:F});var L=this.$constrainWrapLimit(u,S.min,S.max);return L!=this.$wrapLimit&&L>1?(this.$wrapLimit=L,this.$modified=!0,this.$useWrapMode&&(this.$updateWrapData(0,this.getLength()-1),this.$resetRowCache(0),this._signal("changeWrapLimit")),!0):!1},this.$constrainWrapLimit=function(u,F,S){return F&&(u=Math.max(F,u)),S&&(u=Math.min(S,u)),u},this.getWrapLimit=function(){return this.$wrapLimit},this.setWrapLimit=function(u){this.setWrapLimitRange(u,u)},this.getWrapLimitRange=function(){return{min:this.$wrapLimitRange.min,max:this.$wrapLimitRange.max}},this.$updateInternalDataOnChange=function(u){var F=this.$useWrapMode,S=u.action,L=u.start,A=u.end,P=L.row,H=A.row,j=H-P,le=null;if(this.$updating=!0,j!=0)if(S==="remove"){this[F?"$wrapData":"$rowLengthCache"].splice(P,j);var q=this.$foldData;le=this.getFoldsInRange(u),this.removeFolds(le);var ue=this.getFoldLine(A.row),J=0;if(ue){ue.addRemoveChars(A.row,A.column,L.column-A.column),ue.shiftRow(-j);var ee=this.getFoldLine(P);ee&&ee!==ue&&(ee.merge(ue),ue=ee),J=q.indexOf(ue)+1}for(J;J<q.length;J++){var ue=q[J];ue.start.row>=A.row&&ue.shiftRow(-j)}H=P}else{var ie=Array(j);ie.unshift(P,0);var me=F?this.$wrapData:this.$rowLengthCache;me.splice.apply(me,ie);var q=this.$foldData,ue=this.getFoldLine(P),J=0;if(ue){var de=ue.range.compareInside(L.row,L.column);de==0?(ue=ue.split(L.row,L.column),ue&&(ue.shiftRow(j),ue.addRemoveChars(H,0,A.column-L.column))):de==-1&&(ue.addRemoveChars(P,0,A.column-L.column),ue.shiftRow(j)),J=q.indexOf(ue)+1}for(J;J<q.length;J++){var ue=q[J];ue.start.row>=P&&ue.shiftRow(j)}}else{j=Math.abs(u.start.column-u.end.column),S==="remove"&&(le=this.getFoldsInRange(u),this.removeFolds(le),j=-j);var ue=this.getFoldLine(P);ue&&ue.addRemoveChars(P,L.column,j)}return F&&this.$wrapData.length!=this.doc.getLength()&&console.error("doc.getLength() and $wrapData.length have to be the same!"),this.$updating=!1,F?this.$updateWrapData(P,H):this.$updateRowLengthCache(P,H),le},this.$updateRowLengthCache=function(u,F,S){this.$rowLengthCache[u]=null,this.$rowLengthCache[F]=null},this.$updateWrapData=function(u,F){var S=this.doc.getAllLines(),L=this.getTabSize(),A=this.$wrapData,P=this.$wrapLimit,H,j,le=u;for(F=Math.min(F,S.length-1);le<=F;)j=this.getFoldLine(le,j),j?(H=[],j.walk((function(q,ue,J,ee){var ie;if(q!=null){ie=this.$getDisplayTokens(q,H.length),ie[0]=k;for(var me=1;me<ie.length;me++)ie[me]=p}else ie=this.$getDisplayTokens(S[ue].substring(ee,J),H.length);H=H.concat(ie)}).bind(this),j.end.row,S[j.end.row].length+1),A[j.start.row]=this.$computeWrapSplits(H,P,L),le=j.end.row+1):(H=this.$getDisplayTokens(S[le]),A[le]=this.$computeWrapSplits(H,P,L),le++)};var v=1,y=2,k=3,p=4,o=9,f=10,w=11,g=12;this.$computeWrapSplits=function(u,F,S){if(u.length==0)return[];var L=[],A=u.length,P=0,H=0,j=this.$wrapAsCode,le=this.$indentedSoftWrap,q=F<=Math.max(2*S,8)||le===!1?0:Math.floor(F/2);function ue(){var de=0;if(q===0)return de;if(le)for(var Ce=0;Ce<u.length;Ce++){var Fe=u[Ce];if(Fe==f)de+=1;else if(Fe==w)de+=S;else{if(Fe==g)continue;break}}return j&&le!==!1&&(de+=S),Math.min(de,q)}function J(de){for(var Ce=de-P,Fe=P;Fe<de;Fe++){var Te=u[Fe];(Te===12||Te===2)&&(Ce-=1)}L.length||(ee=ue(),L.indent=ee),H+=Ce,L.push(H),P=de}for(var ee=0;A-P>F-ee;){var ie=P+F-ee;if(u[ie-1]>=f&&u[ie]>=f){J(ie);continue}if(u[ie]==k||u[ie]==p){for(ie;ie!=P-1&&u[ie]!=k;ie--);if(ie>P){J(ie);continue}for(ie=P+F,ie;ie<u.length&&u[ie]==p;ie++);if(ie==u.length)break;J(ie);continue}for(var me=Math.max(ie-(F-(F>>2)),P-1);ie>me&&u[ie]<k;)ie--;if(j){for(;ie>me&&u[ie]<k;)ie--;for(;ie>me&&u[ie]==o;)ie--}else for(;ie>me&&u[ie]<f;)ie--;if(ie>me){J(++ie);continue}ie=P+F,u[ie]==y&&ie--,J(ie-ee)}return L},this.$getDisplayTokens=function(u,F){var S=[],L;F=F||0;for(var A=0;A<u.length;A++){var P=u.charCodeAt(A);if(P==9){L=this.getScreenTabSize(S.length+F),S.push(w);for(var H=1;H<L;H++)S.push(g)}else P==32?S.push(f):P>39&&P<48||P>57&&P<64?S.push(o):P>=4352&&m(P)?S.push(v,y):S.push(v)}return S},this.$getStringScreenWidth=function(u,F,S){if(F==0)return[0,0];F==null&&(F=1/0),S=S||0;var L,A;for(A=0;A<u.length&&(L=u.charCodeAt(A),L==9?S+=this.getScreenTabSize(S):L>=4352&&m(L)?S+=2:S+=1,!(S>F));A++);return[S,A]},this.lineWidgets=null,this.getRowLength=function(u){var F=1;return this.lineWidgets&&(F+=this.lineWidgets[u]&&this.lineWidgets[u].rowCount||0),!this.$useWrapMode||!this.$wrapData[u]?F:this.$wrapData[u].length+F},this.getRowLineCount=function(u){return!this.$useWrapMode||!this.$wrapData[u]?1:this.$wrapData[u].length+1},this.getRowWrapIndent=function(u){if(this.$useWrapMode){var F=this.screenToDocumentPosition(u,Number.MAX_VALUE),S=this.$wrapData[F.row];return S.length&&S[0]<F.column?S.indent:0}else return 0},this.getScreenLastRowColumn=function(u){var F=this.screenToDocumentPosition(u,Number.MAX_VALUE);return this.documentToScreenColumn(F.row,F.column)},this.getDocumentLastRowColumn=function(u,F){var S=this.documentToScreenRow(u,F);return this.getScreenLastRowColumn(S)},this.getDocumentLastRowColumnPosition=function(u,F){var S=this.documentToScreenRow(u,F);return this.screenToDocumentPosition(S,Number.MAX_VALUE/10)},this.getRowSplitData=function(u){if(this.$useWrapMode)return this.$wrapData[u]},this.getScreenTabSize=function(u){return this.$tabSize-(u%this.$tabSize|0)},this.screenToDocumentRow=function(u,F){return this.screenToDocumentPosition(u,F).row},this.screenToDocumentColumn=function(u,F){return this.screenToDocumentPosition(u,F).column},this.screenToDocumentPosition=function(u,F,S){if(u<0)return{row:0,column:0};var L,A=0,P=0,H,j=0,le=0,q=this.$screenRowCache,ue=this.$getRowCacheIndex(q,u),J=q.length;if(J&&ue>=0)var j=q[ue],A=this.$docRowCache[ue],ee=u>q[J-1];else var ee=!J;for(var ie=this.getLength()-1,me=this.getNextFoldLine(A),de=me?me.start.row:1/0;j<=u&&(le=this.getRowLength(A),!(j+le>u||A>=ie));)j+=le,A++,A>de&&(A=me.end.row+1,me=this.getNextFoldLine(A,me),de=me?me.start.row:1/0),ee&&(this.$docRowCache.push(A),this.$screenRowCache.push(j));if(me&&me.start.row<=A)L=this.getFoldDisplayLine(me),A=me.start.row;else{if(j+le<=u||A>ie)return{row:ie,column:this.getLine(ie).length};L=this.getLine(A),me=null}var Ce=0,Fe=Math.floor(u-j);if(this.$useWrapMode){var Te=this.$wrapData[A];Te&&(H=Te[Fe],Fe>0&&Te.length&&(Ce=Te.indent,P=Te[Fe-1]||Te[Te.length-1],L=L.substring(P)))}return S!==void 0&&this.$bidiHandler.isBidiRow(j+Fe,A,Fe)&&(F=this.$bidiHandler.offsetToCol(S)),P+=this.$getStringScreenWidth(L,F-Ce)[1],this.$useWrapMode&&P>=H&&(P=H-1),me?me.idxToPosition(P):{row:A,column:P}},this.documentToScreenPosition=function(u,F){if(typeof F>"u")var S=this.$clipPositionToDocument(u.row,u.column);else S=this.$clipPositionToDocument(u,F);u=S.row,F=S.column;var L=0,A=null,P=null;P=this.getFoldAt(u,F,1),P&&(u=P.start.row,F=P.start.column);var H,j=0,le=this.$docRowCache,q=this.$getRowCacheIndex(le,u),ue=le.length;if(ue&&q>=0)var j=le[q],L=this.$screenRowCache[q],J=u>le[ue-1];else var J=!ue;for(var ee=this.getNextFoldLine(j),ie=ee?ee.start.row:1/0;j<u;){if(j>=ie){if(H=ee.end.row+1,H>u)break;ee=this.getNextFoldLine(H,ee),ie=ee?ee.start.row:1/0}else H=j+1;L+=this.getRowLength(j),j=H,J&&(this.$docRowCache.push(j),this.$screenRowCache.push(L))}var me="";ee&&j>=ie?(me=this.getFoldDisplayLine(ee,u,F),A=ee.start.row):(me=this.getLine(u).substring(0,F),A=u);var de=0;if(this.$useWrapMode){var Ce=this.$wrapData[A];if(Ce){for(var Fe=0;me.length>=Ce[Fe];)L++,Fe++;me=me.substring(Ce[Fe-1]||0,me.length),de=Fe>0?Ce.indent:0}}return this.lineWidgets&&this.lineWidgets[j]&&this.lineWidgets[j].rowsAbove&&(L+=this.lineWidgets[j].rowsAbove),{row:L,column:de+this.$getStringScreenWidth(me)[0]}},this.documentToScreenColumn=function(u,F){return this.documentToScreenPosition(u,F).column},this.documentToScreenRow=function(u,F){return this.documentToScreenPosition(u,F).row},this.getScreenLength=function(){var u=0,F=null;if(this.$useWrapMode)for(var A=this.$wrapData.length,P=0,L=0,F=this.$foldData[L++],H=F?F.start.row:1/0;P<A;){var j=this.$wrapData[P];u+=j?j.length+1:1,P++,P>H&&(P=F.end.row+1,F=this.$foldData[L++],H=F?F.start.row:1/0)}else{u=this.getLength();for(var S=this.$foldData,L=0;L<S.length;L++)F=S[L],u-=F.end.row-F.start.row}return this.lineWidgets&&(u+=this.$getWidgetScreenLength()),u},this.$setFontMetrics=function(u){this.$enableVarChar&&(this.$getStringScreenWidth=function(F,S,L){if(S===0)return[0,0];S||(S=1/0),L=L||0;var A,P;for(P=0;P<F.length&&(A=F.charAt(P),A==="	"?L+=this.getScreenTabSize(L):L+=u.getCharacterWidth(A),!(L>S));P++);return[L,P]})},this.destroy=function(){this.bgTokenizer&&(this.bgTokenizer.setDocument(null),this.bgTokenizer=null),this.$stopWorker(),this.removeAllListeners(),this.selection.detach()},this.isFullWidth=m;function m(u){return u<4352?!1:u>=4352&&u<=4447||u>=4515&&u<=4519||u>=4602&&u<=4607||u>=9001&&u<=9002||u>=11904&&u<=11929||u>=11931&&u<=12019||u>=12032&&u<=12245||u>=12272&&u<=12283||u>=12288&&u<=12350||u>=12353&&u<=12438||u>=12441&&u<=12543||u>=12549&&u<=12589||u>=12593&&u<=12686||u>=12688&&u<=12730||u>=12736&&u<=12771||u>=12784&&u<=12830||u>=12832&&u<=12871||u>=12880&&u<=13054||u>=13056&&u<=19903||u>=19968&&u<=42124||u>=42128&&u<=42182||u>=43360&&u<=43388||u>=44032&&u<=55203||u>=55216&&u<=55238||u>=55243&&u<=55291||u>=63744&&u<=64255||u>=65040&&u<=65049||u>=65072&&u<=65106||u>=65108&&u<=65126||u>=65128&&u<=65131||u>=65281&&u<=65376||u>=65504&&u<=65510}}).call(d.prototype),c("./edit_session/folding").Folding.call(d.prototype),c("./edit_session/bracket_match").BracketMatch.call(d.prototype),a.defineOptions(d.prototype,"session",{wrap:{set:function(v){if(!v||v=="off"?v=!1:v=="free"?v=!0:v=="printMargin"?v=-1:typeof v=="string"&&(v=parseInt(v,10)||!1),this.$wrap!=v)if(this.$wrap=v,!v)this.setUseWrapMode(!1);else{var y=typeof v=="number"?v:null;this.setWrapLimitRange(y,y),this.setUseWrapMode(!0)}},get:function(){return this.getUseWrapMode()?this.$wrap==-1?"printMargin":this.getWrapLimitRange().min?this.$wrap:"free":"off"},handlesSet:!0},wrapMethod:{set:function(v){v=v=="auto"?this.$mode.type!="text":v!="text",v!=this.$wrapAsCode&&(this.$wrapAsCode=v,this.$useWrapMode&&(this.$useWrapMode=!1,this.setUseWrapMode(!0)))},initialValue:"auto"},indentedSoftWrap:{set:function(){this.$useWrapMode&&(this.$useWrapMode=!1,this.setUseWrapMode(!0))},initialValue:!0},firstLineNumber:{set:function(){this._signal("changeBreakpoint")},initialValue:1},useWorker:{set:function(v){this.$useWorker=v,this.$stopWorker(),v&&this.$startWorker()},initialValue:!0},useSoftTabs:{initialValue:!0},tabSize:{set:function(v){v=parseInt(v),v>0&&this.$tabSize!==v&&(this.$modified=!0,this.$rowLengthCache=[],this.$tabSize=v,this._signal("changeTabSize"))},initialValue:4,handlesSet:!0},navigateWithinSoftTabs:{initialValue:!1},foldStyle:{set:function(v){this.setFoldStyle(v)},handlesSet:!0},overwrite:{set:function(v){this._signal("changeOverwrite")},initialValue:!1},newLineMode:{set:function(v){this.doc.setNewLineMode(v)},get:function(){return this.doc.getNewLineMode()},handlesSet:!0},mode:{set:function(v){this.setMode(v)},get:function(){return this.$modeId},handlesSet:!0}}),M.EditSession=d}),ace.define("ace/search",["require","exports","module","ace/lib/lang","ace/lib/oop","ace/range"],function(c,M,W){var R=c("./lib/lang"),E=c("./lib/oop"),h=c("./range").Range,a=function(){this.$options={}};(function(){this.set=function(t){return E.mixin(this.$options,t),this},this.getOptions=function(){return R.copyObject(this.$options)},this.setOptions=function(t){this.$options=t},this.find=function(t){var e=this.$options,r=this.$matchIterator(t,e);if(!r)return!1;var n=null;return r.forEach(function(i,s,d,v){return n=new h(i,s,d,v),s==v&&e.start&&e.start.start&&e.skipCurrent!=!1&&n.isEqual(e.start)?(n=null,!1):!0}),n},this.findAll=function(t){var e=this.$options;if(!e.needle)return[];this.$assembleRegExp(e);var r=e.range,n=r?t.getLines(r.start.row,r.end.row):t.doc.getAllLines(),i=[],s=e.re;if(e.$isMultiLine){var d=s.length,v=n.length-d,y;e:for(var k=s.offset||0;k<=v;k++){for(var p=0;p<d;p++)if(n[k+p].search(s[p])==-1)continue e;var o=n[k],f=n[k+d-1],w=o.length-o.match(s[0])[0].length,g=f.match(s[d-1])[0].length;y&&y.end.row===k&&y.end.column>w||(i.push(y=new h(k,w,k+d-1,g)),d>2&&(k=k+d-2))}}else for(var m=0;m<n.length;m++)for(var u=R.getMatchOffsets(n[m],s),p=0;p<u.length;p++){var F=u[p];i.push(new h(m,F.offset,m,F.offset+F.length))}if(r){for(var S=r.start.column,L=r.start.column,m=0,p=i.length-1;m<p&&i[m].start.column<S&&i[m].start.row==r.start.row;)m++;for(;m<p&&i[p].end.column>L&&i[p].end.row==r.end.row;)p--;for(i=i.slice(m,p+1),m=0,p=i.length;m<p;m++)i[m].start.row+=r.start.row,i[m].end.row+=r.start.row}return i},this.replace=function(t,e){var r=this.$options,n=this.$assembleRegExp(r);if(r.$isMultiLine)return e;if(n){var i=n.exec(t);if(!i||i[0].length!=t.length)return null;if(e=t.replace(n,e),r.preserveCase){e=e.split("");for(var s=Math.min(t.length,t.length);s--;){var d=t[s];d&&d.toLowerCase()!=d?e[s]=e[s].toUpperCase():e[s]=e[s].toLowerCase()}e=e.join("")}return e}},this.$assembleRegExp=function(t,e){if(t.needle instanceof RegExp)return t.re=t.needle;var r=t.needle;if(!t.needle)return t.re=!1;t.regExp||(r=R.escapeRegExp(r)),t.wholeWord&&(r=l(r,t));var n=t.caseSensitive?"gm":"gmi";if(t.$isMultiLine=!e&&/[\n\r]/.test(r),t.$isMultiLine)return t.re=this.$assembleMultilineRegExp(r,n);try{var i=new RegExp(r,n)}catch{i=!1}return t.re=i},this.$assembleMultilineRegExp=function(t,e){for(var r=t.replace(/\r\n|\r|\n/g,`$
^`).split(`
`),n=[],i=0;i<r.length;i++)try{n.push(new RegExp(r[i],e))}catch{return!1}return n},this.$matchIterator=function(t,e){var r=this.$assembleRegExp(e);if(!r)return!1;var n=e.backwards==!0,i=e.skipCurrent!=!1,s=e.range,d=e.start;d||(d=s?s[n?"end":"start"]:t.selection.getRange()),d.start&&(d=d[i!=n?"end":"start"]);var v=s?s.start.row:0,y=s?s.end.row:t.getLength()-1;if(n)var k=function(f){var w=d.row;if(!o(w,d.column,f)){for(w--;w>=v;w--)if(o(w,Number.MAX_VALUE,f))return;if(e.wrap!=!1){for(w=y,v=d.row;w>=v;w--)if(o(w,Number.MAX_VALUE,f))return}}};else var k=function(w){var g=d.row;if(!o(g,d.column,w)){for(g=g+1;g<=y;g++)if(o(g,0,w))return;if(e.wrap!=!1){for(g=v,y=d.row;g<=y;g++)if(o(g,0,w))return}}};if(e.$isMultiLine)var p=r.length,o=function(f,w,g){var m=n?f-p+1:f;if(!(m<0)){var u=t.getLine(m),F=u.search(r[0]);if(!(!n&&F<w||F===-1)){for(var S=1;S<p;S++)if(u=t.getLine(m+S),u.search(r[S])==-1)return;var L=u.match(r[p-1])[0].length;if(!(n&&L>w)&&g(m,F,m+p-1,L))return!0}}};else if(n)var o=function(w,g,m){var u=t.getLine(w),F=[],S,L=0;for(r.lastIndex=0;S=r.exec(u);){var A=S[0].length;if(L=S.index,!A){if(L>=u.length)break;r.lastIndex=L+=1}if(S.index+A>g)break;F.push(S.index,A)}for(var P=F.length-1;P>=0;P-=2){var H=F[P-1],A=F[P];if(m(w,H,w,H+A))return!0}};else var o=function(w,g,m){var u=t.getLine(w),F,S;for(r.lastIndex=g;S=r.exec(u);){var L=S[0].length;if(F=S.index,m(w,F,w,F+L))return!0;if(!L&&(r.lastIndex=F+=1,F>=u.length))return!1}};return{forEach:k}}}).call(a.prototype);function l(t,e){function r(n){return/\w/.test(n)||e.regExp?"\\b":""}return r(t[0])+t+r(t[t.length-1])}M.Search=a}),ace.define("ace/keyboard/hash_handler",["require","exports","module","ace/lib/keys","ace/lib/useragent"],function(c,M,W){var R=c("../lib/keys"),E=c("../lib/useragent"),h=R.KEY_MODS;function a(t,e){this.platform=e||(E.isMac?"mac":"win"),this.commands={},this.commandKeyBinding={},this.addCommands(t),this.$singleCommand=!0}function l(t,e){a.call(this,t,e),this.$singleCommand=!1}l.prototype=a.prototype,(function(){this.addCommand=function(e){this.commands[e.name]&&this.removeCommand(e),this.commands[e.name]=e,e.bindKey&&this._buildKeyHash(e)},this.removeCommand=function(e,r){var n=e&&(typeof e=="string"?e:e.name);e=this.commands[n],r||delete this.commands[n];var i=this.commandKeyBinding;for(var s in i){var d=i[s];if(d==e)delete i[s];else if(Array.isArray(d)){var v=d.indexOf(e);v!=-1&&(d.splice(v,1),d.length==1&&(i[s]=d[0]))}}},this.bindKey=function(e,r,n){if(typeof e=="object"&&e&&(n==null&&(n=e.position),e=e[this.platform]),!!e){if(typeof r=="function")return this.addCommand({exec:r,bindKey:e,name:r.name||e});e.split("|").forEach(function(i){var s="";if(i.indexOf(" ")!=-1){var d=i.split(/\s+/);i=d.pop(),d.forEach(function(k){var p=this.parseKeys(k),o=h[p.hashId]+p.key;s+=(s?" ":"")+o,this._addCommandToBinding(s,"chainKeys")},this),s+=" "}var v=this.parseKeys(i),y=h[v.hashId]+v.key;this._addCommandToBinding(s+y,r,n)},this)}};function t(e){return typeof e=="object"&&e.bindKey&&e.bindKey.position||(e.isDefault?-100:0)}this._addCommandToBinding=function(e,r,n){var i=this.commandKeyBinding,s;if(!r)delete i[e];else if(!i[e]||this.$singleCommand)i[e]=r;else{Array.isArray(i[e])?(s=i[e].indexOf(r))!=-1&&i[e].splice(s,1):i[e]=[i[e]],typeof n!="number"&&(n=t(r));var d=i[e];for(s=0;s<d.length;s++){var v=d[s],y=t(v);if(y>n)break}d.splice(s,0,r)}},this.addCommands=function(e){e&&Object.keys(e).forEach(function(r){var n=e[r];if(n){if(typeof n=="string")return this.bindKey(n,r);typeof n=="function"&&(n={exec:n}),typeof n=="object"&&(n.name||(n.name=r),this.addCommand(n))}},this)},this.removeCommands=function(e){Object.keys(e).forEach(function(r){this.removeCommand(e[r])},this)},this.bindKeys=function(e){Object.keys(e).forEach(function(r){this.bindKey(r,e[r])},this)},this._buildKeyHash=function(e){this.bindKey(e.bindKey,e)},this.parseKeys=function(e){var r=e.toLowerCase().split(/[\-\+]([\-\+])?/).filter(function(y){return y}),n=r.pop(),i=R[n];if(R.FUNCTION_KEYS[i])n=R.FUNCTION_KEYS[i].toLowerCase();else if(r.length){if(r.length==1&&r[0]=="shift")return{key:n.toUpperCase(),hashId:-1}}else return{key:n,hashId:-1};for(var s=0,d=r.length;d--;){var v=R.KEY_MODS[r[d]];if(v==null)return typeof console<"u"&&console.error("invalid modifier "+r[d]+" in "+e),!1;s|=v}return{key:n,hashId:s}},this.findKeyCommand=function(r,n){var i=h[r]+n;return this.commandKeyBinding[i]},this.handleKeyboard=function(e,r,n,i){if(!(i<0)){var s=h[r]+n,d=this.commandKeyBinding[s];return e.$keyChain&&(e.$keyChain+=" "+s,d=this.commandKeyBinding[e.$keyChain]||d),d&&(d=="chainKeys"||d[d.length-1]=="chainKeys")?(e.$keyChain=e.$keyChain||s,{command:"null"}):(e.$keyChain&&((!r||r==4)&&n.length==1?e.$keyChain=e.$keyChain.slice(0,-s.length-1):(r==-1||i>0)&&(e.$keyChain="")),{command:d})}},this.getStatusText=function(e,r){return r.$keyChain||""}}).call(a.prototype),M.HashHandler=a,M.MultiHashHandler=l}),ace.define("ace/commands/command_manager",["require","exports","module","ace/lib/oop","ace/keyboard/hash_handler","ace/lib/event_emitter"],function(c,M,W){var R=c("../lib/oop"),E=c("../keyboard/hash_handler").MultiHashHandler,h=c("../lib/event_emitter").EventEmitter,a=function(l,t){E.call(this,t,l),this.byName=this.commands,this.setDefaultHandler("exec",function(e){return e.command.exec(e.editor,e.args||{})})};R.inherits(a,E),(function(){R.implement(this,h),this.exec=function(l,t,e){if(Array.isArray(l)){for(var r=l.length;r--;)if(this.exec(l[r],t,e))return!0;return!1}if(typeof l=="string"&&(l=this.commands[l]),!l||t&&t.$readOnly&&!l.readOnly||this.$checkCommandState!=!1&&l.isAvailable&&!l.isAvailable(t))return!1;var n={editor:t,command:l,args:e};return n.returnValue=this._emit("exec",n),this._signal("afterExec",n),n.returnValue!==!1},this.toggleRecording=function(l){if(!this.$inReplay)return l&&l._emit("changeStatus"),this.recording?(this.macro.pop(),this.off("exec",this.$addCommandToMacro),this.macro.length||(this.macro=this.oldMacro),this.recording=!1):(this.$addCommandToMacro||(this.$addCommandToMacro=(function(t){this.macro.push([t.command,t.args])}).bind(this)),this.oldMacro=this.macro,this.macro=[],this.on("exec",this.$addCommandToMacro),this.recording=!0)},this.replay=function(l){if(!(this.$inReplay||!this.macro)){if(this.recording)return this.toggleRecording(l);try{this.$inReplay=!0,this.macro.forEach(function(t){typeof t=="string"?this.exec(t,l):this.exec(t[0],l,t[1])},this)}finally{this.$inReplay=!1}}},this.trimMacro=function(l){return l.map(function(t){return typeof t[0]!="string"&&(t[0]=t[0].name),t[1]||(t=t[0]),t})}}).call(a.prototype),M.CommandManager=a}),ace.define("ace/commands/default_commands",["require","exports","module","ace/lib/lang","ace/config","ace/range"],function(c,M,W){var R=c("../lib/lang"),E=c("../config"),h=c("../range").Range;function a(t,e){return{win:t,mac:e}}M.commands=[{name:"showSettingsMenu",bindKey:a("Ctrl-,","Command-,"),exec:function(t){E.loadModule("ace/ext/settings_menu",function(e){e.init(t),t.showSettingsMenu()})},readOnly:!0},{name:"goToNextError",bindKey:a("Alt-E","F4"),exec:function(t){E.loadModule("./ext/error_marker",function(e){e.showErrorMarker(t,1)})},scrollIntoView:"animate",readOnly:!0},{name:"goToPreviousError",bindKey:a("Alt-Shift-E","Shift-F4"),exec:function(t){E.loadModule("./ext/error_marker",function(e){e.showErrorMarker(t,-1)})},scrollIntoView:"animate",readOnly:!0},{name:"selectall",description:"Select all",bindKey:a("Ctrl-A","Command-A"),exec:function(t){t.selectAll()},readOnly:!0},{name:"centerselection",description:"Center selection",bindKey:a(null,"Ctrl-L"),exec:function(t){t.centerSelection()},readOnly:!0},{name:"gotoline",description:"Go to line...",bindKey:a("Ctrl-L","Command-L"),exec:function(t,e){typeof e=="number"&&!isNaN(e)&&t.gotoLine(e),t.prompt({$type:"gotoLine"})},readOnly:!0},{name:"fold",bindKey:a("Alt-L|Ctrl-F1","Command-Alt-L|Command-F1"),exec:function(t){t.session.toggleFold(!1)},multiSelectAction:"forEach",scrollIntoView:"center",readOnly:!0},{name:"unfold",bindKey:a("Alt-Shift-L|Ctrl-Shift-F1","Command-Alt-Shift-L|Command-Shift-F1"),exec:function(t){t.session.toggleFold(!0)},multiSelectAction:"forEach",scrollIntoView:"center",readOnly:!0},{name:"toggleFoldWidget",bindKey:a("F2","F2"),exec:function(t){t.session.toggleFoldWidget()},multiSelectAction:"forEach",scrollIntoView:"center",readOnly:!0},{name:"toggleParentFoldWidget",bindKey:a("Alt-F2","Alt-F2"),exec:function(t){t.session.toggleFoldWidget(!0)},multiSelectAction:"forEach",scrollIntoView:"center",readOnly:!0},{name:"foldall",description:"Fold all",bindKey:a(null,"Ctrl-Command-Option-0"),exec:function(t){t.session.foldAll()},scrollIntoView:"center",readOnly:!0},{name:"foldAllComments",description:"Fold all comments",bindKey:a(null,"Ctrl-Command-Option-0"),exec:function(t){t.session.foldAllComments()},scrollIntoView:"center",readOnly:!0},{name:"foldOther",description:"Fold other",bindKey:a("Alt-0","Command-Option-0"),exec:function(t){t.session.foldAll(),t.session.unfold(t.selection.getAllRanges())},scrollIntoView:"center",readOnly:!0},{name:"unfoldall",description:"Unfold all",bindKey:a("Alt-Shift-0","Command-Option-Shift-0"),exec:function(t){t.session.unfold()},scrollIntoView:"center",readOnly:!0},{name:"findnext",description:"Find next",bindKey:a("Ctrl-K","Command-G"),exec:function(t){t.findNext()},multiSelectAction:"forEach",scrollIntoView:"center",readOnly:!0},{name:"findprevious",description:"Find previous",bindKey:a("Ctrl-Shift-K","Command-Shift-G"),exec:function(t){t.findPrevious()},multiSelectAction:"forEach",scrollIntoView:"center",readOnly:!0},{name:"selectOrFindNext",description:"Select or find next",bindKey:a("Alt-K","Ctrl-G"),exec:function(t){t.selection.isEmpty()?t.selection.selectWord():t.findNext()},readOnly:!0},{name:"selectOrFindPrevious",description:"Select or find previous",bindKey:a("Alt-Shift-K","Ctrl-Shift-G"),exec:function(t){t.selection.isEmpty()?t.selection.selectWord():t.findPrevious()},readOnly:!0},{name:"find",description:"Find",bindKey:a("Ctrl-F","Command-F"),exec:function(t){E.loadModule("ace/ext/searchbox",function(e){e.Search(t)})},readOnly:!0},{name:"overwrite",description:"Overwrite",bindKey:"Insert",exec:function(t){t.toggleOverwrite()},readOnly:!0},{name:"selecttostart",description:"Select to start",bindKey:a("Ctrl-Shift-Home","Command-Shift-Home|Command-Shift-Up"),exec:function(t){t.getSelection().selectFileStart()},multiSelectAction:"forEach",readOnly:!0,scrollIntoView:"animate",aceCommandGroup:"fileJump"},{name:"gotostart",description:"Go to start",bindKey:a("Ctrl-Home","Command-Home|Command-Up"),exec:function(t){t.navigateFileStart()},multiSelectAction:"forEach",readOnly:!0,scrollIntoView:"animate",aceCommandGroup:"fileJump"},{name:"selectup",description:"Select up",bindKey:a("Shift-Up","Shift-Up|Ctrl-Shift-P"),exec:function(t){t.getSelection().selectUp()},multiSelectAction:"forEach",scrollIntoView:"cursor",readOnly:!0},{name:"golineup",description:"Go line up",bindKey:a("Up","Up|Ctrl-P"),exec:function(t,e){t.navigateUp(e.times)},multiSelectAction:"forEach",scrollIntoView:"cursor",readOnly:!0},{name:"selecttoend",description:"Select to end",bindKey:a("Ctrl-Shift-End","Command-Shift-End|Command-Shift-Down"),exec:function(t){t.getSelection().selectFileEnd()},multiSelectAction:"forEach",readOnly:!0,scrollIntoView:"animate",aceCommandGroup:"fileJump"},{name:"gotoend",description:"Go to end",bindKey:a("Ctrl-End","Command-End|Command-Down"),exec:function(t){t.navigateFileEnd()},multiSelectAction:"forEach",readOnly:!0,scrollIntoView:"animate",aceCommandGroup:"fileJump"},{name:"selectdown",description:"Select down",bindKey:a("Shift-Down","Shift-Down|Ctrl-Shift-N"),exec:function(t){t.getSelection().selectDown()},multiSelectAction:"forEach",scrollIntoView:"cursor",readOnly:!0},{name:"golinedown",description:"Go line down",bindKey:a("Down","Down|Ctrl-N"),exec:function(t,e){t.navigateDown(e.times)},multiSelectAction:"forEach",scrollIntoView:"cursor",readOnly:!0},{name:"selectwordleft",description:"Select word left",bindKey:a("Ctrl-Shift-Left","Option-Shift-Left"),exec:function(t){t.getSelection().selectWordLeft()},multiSelectAction:"forEach",scrollIntoView:"cursor",readOnly:!0},{name:"gotowordleft",description:"Go to word left",bindKey:a("Ctrl-Left","Option-Left"),exec:function(t){t.navigateWordLeft()},multiSelectAction:"forEach",scrollIntoView:"cursor",readOnly:!0},{name:"selecttolinestart",description:"Select to line start",bindKey:a("Alt-Shift-Left","Command-Shift-Left|Ctrl-Shift-A"),exec:function(t){t.getSelection().selectLineStart()},multiSelectAction:"forEach",scrollIntoView:"cursor",readOnly:!0},{name:"gotolinestart",description:"Go to line start",bindKey:a("Alt-Left|Home","Command-Left|Home|Ctrl-A"),exec:function(t){t.navigateLineStart()},multiSelectAction:"forEach",scrollIntoView:"cursor",readOnly:!0},{name:"selectleft",description:"Select left",bindKey:a("Shift-Left","Shift-Left|Ctrl-Shift-B"),exec:function(t){t.getSelection().selectLeft()},multiSelectAction:"forEach",scrollIntoView:"cursor",readOnly:!0},{name:"gotoleft",description:"Go to left",bindKey:a("Left","Left|Ctrl-B"),exec:function(t,e){t.navigateLeft(e.times)},multiSelectAction:"forEach",scrollIntoView:"cursor",readOnly:!0},{name:"selectwordright",description:"Select word right",bindKey:a("Ctrl-Shift-Right","Option-Shift-Right"),exec:function(t){t.getSelection().selectWordRight()},multiSelectAction:"forEach",scrollIntoView:"cursor",readOnly:!0},{name:"gotowordright",description:"Go to word right",bindKey:a("Ctrl-Right","Option-Right"),exec:function(t){t.navigateWordRight()},multiSelectAction:"forEach",scrollIntoView:"cursor",readOnly:!0},{name:"selecttolineend",description:"Select to line end",bindKey:a("Alt-Shift-Right","Command-Shift-Right|Shift-End|Ctrl-Shift-E"),exec:function(t){t.getSelection().selectLineEnd()},multiSelectAction:"forEach",scrollIntoView:"cursor",readOnly:!0},{name:"gotolineend",description:"Go to line end",bindKey:a("Alt-Right|End","Command-Right|End|Ctrl-E"),exec:function(t){t.navigateLineEnd()},multiSelectAction:"forEach",scrollIntoView:"cursor",readOnly:!0},{name:"selectright",description:"Select right",bindKey:a("Shift-Right","Shift-Right"),exec:function(t){t.getSelection().selectRight()},multiSelectAction:"forEach",scrollIntoView:"cursor",readOnly:!0},{name:"gotoright",description:"Go to right",bindKey:a("Right","Right|Ctrl-F"),exec:function(t,e){t.navigateRight(e.times)},multiSelectAction:"forEach",scrollIntoView:"cursor",readOnly:!0},{name:"selectpagedown",description:"Select page down",bindKey:"Shift-PageDown",exec:function(t){t.selectPageDown()},readOnly:!0},{name:"pagedown",description:"Page down",bindKey:a(null,"Option-PageDown"),exec:function(t){t.scrollPageDown()},readOnly:!0},{name:"gotopagedown",description:"Go to page down",bindKey:a("PageDown","PageDown|Ctrl-V"),exec:function(t){t.gotoPageDown()},readOnly:!0},{name:"selectpageup",description:"Select page up",bindKey:"Shift-PageUp",exec:function(t){t.selectPageUp()},readOnly:!0},{name:"pageup",description:"Page up",bindKey:a(null,"Option-PageUp"),exec:function(t){t.scrollPageUp()},readOnly:!0},{name:"gotopageup",description:"Go to page up",bindKey:"PageUp",exec:function(t){t.gotoPageUp()},readOnly:!0},{name:"scrollup",description:"Scroll up",bindKey:a("Ctrl-Up",null),exec:function(t){t.renderer.scrollBy(0,-2*t.renderer.layerConfig.lineHeight)},readOnly:!0},{name:"scrolldown",description:"Scroll down",bindKey:a("Ctrl-Down",null),exec:function(t){t.renderer.scrollBy(0,2*t.renderer.layerConfig.lineHeight)},readOnly:!0},{name:"selectlinestart",description:"Select line start",bindKey:"Shift-Home",exec:function(t){t.getSelection().selectLineStart()},multiSelectAction:"forEach",scrollIntoView:"cursor",readOnly:!0},{name:"selectlineend",description:"Select line end",bindKey:"Shift-End",exec:function(t){t.getSelection().selectLineEnd()},multiSelectAction:"forEach",scrollIntoView:"cursor",readOnly:!0},{name:"togglerecording",description:"Toggle recording",bindKey:a("Ctrl-Alt-E","Command-Option-E"),exec:function(t){t.commands.toggleRecording(t)},readOnly:!0},{name:"replaymacro",description:"Replay macro",bindKey:a("Ctrl-Shift-E","Command-Shift-E"),exec:function(t){t.commands.replay(t)},readOnly:!0},{name:"jumptomatching",description:"Jump to matching",bindKey:a("Ctrl-\\|Ctrl-P","Command-\\"),exec:function(t){t.jumpToMatching()},multiSelectAction:"forEach",scrollIntoView:"animate",readOnly:!0},{name:"selecttomatching",description:"Select to matching",bindKey:a("Ctrl-Shift-\\|Ctrl-Shift-P","Command-Shift-\\"),exec:function(t){t.jumpToMatching(!0)},multiSelectAction:"forEach",scrollIntoView:"animate",readOnly:!0},{name:"expandToMatching",description:"Expand to matching",bindKey:a("Ctrl-Shift-M","Ctrl-Shift-M"),exec:function(t){t.jumpToMatching(!0,!0)},multiSelectAction:"forEach",scrollIntoView:"animate",readOnly:!0},{name:"passKeysToBrowser",description:"Pass keys to browser",bindKey:a(null,null),exec:function(){},passEvent:!0,readOnly:!0},{name:"copy",description:"Copy",exec:function(t){},readOnly:!0},{name:"cut",description:"Cut",exec:function(t){var e=t.$copyWithEmptySelection&&t.selection.isEmpty(),r=e?t.selection.getLineRange():t.selection.getRange();t._emit("cut",r),r.isEmpty()||t.session.remove(r),t.clearSelection()},scrollIntoView:"cursor",multiSelectAction:"forEach"},{name:"paste",description:"Paste",exec:function(t,e){t.$handlePaste(e)},scrollIntoView:"cursor"},{name:"removeline",description:"Remove line",bindKey:a("Ctrl-D","Command-D"),exec:function(t){t.removeLines()},scrollIntoView:"cursor",multiSelectAction:"forEachLine"},{name:"duplicateSelection",description:"Duplicate selection",bindKey:a("Ctrl-Shift-D","Command-Shift-D"),exec:function(t){t.duplicateSelection()},scrollIntoView:"cursor",multiSelectAction:"forEach"},{name:"sortlines",description:"Sort lines",bindKey:a("Ctrl-Alt-S","Command-Alt-S"),exec:function(t){t.sortLines()},scrollIntoView:"selection",multiSelectAction:"forEachLine"},{name:"togglecomment",description:"Toggle comment",bindKey:a("Ctrl-/","Command-/"),exec:function(t){t.toggleCommentLines()},multiSelectAction:"forEachLine",scrollIntoView:"selectionPart"},{name:"toggleBlockComment",description:"Toggle block comment",bindKey:a("Ctrl-Shift-/","Command-Shift-/"),exec:function(t){t.toggleBlockComment()},multiSelectAction:"forEach",scrollIntoView:"selectionPart"},{name:"modifyNumberUp",description:"Modify number up",bindKey:a("Ctrl-Shift-Up","Alt-Shift-Up"),exec:function(t){t.modifyNumber(1)},scrollIntoView:"cursor",multiSelectAction:"forEach"},{name:"modifyNumberDown",description:"Modify number down",bindKey:a("Ctrl-Shift-Down","Alt-Shift-Down"),exec:function(t){t.modifyNumber(-1)},scrollIntoView:"cursor",multiSelectAction:"forEach"},{name:"replace",description:"Replace",bindKey:a("Ctrl-H","Command-Option-F"),exec:function(t){E.loadModule("ace/ext/searchbox",function(e){e.Search(t,!0)})}},{name:"undo",description:"Undo",bindKey:a("Ctrl-Z","Command-Z"),exec:function(t){t.undo()}},{name:"redo",description:"Redo",bindKey:a("Ctrl-Shift-Z|Ctrl-Y","Command-Shift-Z|Command-Y"),exec:function(t){t.redo()}},{name:"copylinesup",description:"Copy lines up",bindKey:a("Alt-Shift-Up","Command-Option-Up"),exec:function(t){t.copyLinesUp()},scrollIntoView:"cursor"},{name:"movelinesup",description:"Move lines up",bindKey:a("Alt-Up","Option-Up"),exec:function(t){t.moveLinesUp()},scrollIntoView:"cursor"},{name:"copylinesdown",description:"Copy lines down",bindKey:a("Alt-Shift-Down","Command-Option-Down"),exec:function(t){t.copyLinesDown()},scrollIntoView:"cursor"},{name:"movelinesdown",description:"Move lines down",bindKey:a("Alt-Down","Option-Down"),exec:function(t){t.moveLinesDown()},scrollIntoView:"cursor"},{name:"del",description:"Delete",bindKey:a("Delete","Delete|Ctrl-D|Shift-Delete"),exec:function(t){t.remove("right")},multiSelectAction:"forEach",scrollIntoView:"cursor"},{name:"backspace",description:"Backspace",bindKey:a("Shift-Backspace|Backspace","Ctrl-Backspace|Shift-Backspace|Backspace|Ctrl-H"),exec:function(t){t.remove("left")},multiSelectAction:"forEach",scrollIntoView:"cursor"},{name:"cut_or_delete",description:"Cut or delete",bindKey:a("Shift-Delete",null),exec:function(t){if(t.selection.isEmpty())t.remove("left");else return!1},multiSelectAction:"forEach",scrollIntoView:"cursor"},{name:"removetolinestart",description:"Remove to line start",bindKey:a("Alt-Backspace","Command-Backspace"),exec:function(t){t.removeToLineStart()},multiSelectAction:"forEach",scrollIntoView:"cursor"},{name:"removetolineend",description:"Remove to line end",bindKey:a("Alt-Delete","Ctrl-K|Command-Delete"),exec:function(t){t.removeToLineEnd()},multiSelectAction:"forEach",scrollIntoView:"cursor"},{name:"removetolinestarthard",description:"Remove to line start hard",bindKey:a("Ctrl-Shift-Backspace",null),exec:function(t){var e=t.selection.getRange();e.start.column=0,t.session.remove(e)},multiSelectAction:"forEach",scrollIntoView:"cursor"},{name:"removetolineendhard",description:"Remove to line end hard",bindKey:a("Ctrl-Shift-Delete",null),exec:function(t){var e=t.selection.getRange();e.end.column=Number.MAX_VALUE,t.session.remove(e)},multiSelectAction:"forEach",scrollIntoView:"cursor"},{name:"removewordleft",description:"Remove word left",bindKey:a("Ctrl-Backspace","Alt-Backspace|Ctrl-Alt-Backspace"),exec:function(t){t.removeWordLeft()},multiSelectAction:"forEach",scrollIntoView:"cursor"},{name:"removewordright",description:"Remove word right",bindKey:a("Ctrl-Delete","Alt-Delete"),exec:function(t){t.removeWordRight()},multiSelectAction:"forEach",scrollIntoView:"cursor"},{name:"outdent",description:"Outdent",bindKey:a("Shift-Tab","Shift-Tab"),exec:function(t){t.blockOutdent()},multiSelectAction:"forEach",scrollIntoView:"selectionPart"},{name:"indent",description:"Indent",bindKey:a("Tab","Tab"),exec:function(t){t.indent()},multiSelectAction:"forEach",scrollIntoView:"selectionPart"},{name:"blockoutdent",description:"Block outdent",bindKey:a("Ctrl-[","Ctrl-["),exec:function(t){t.blockOutdent()},multiSelectAction:"forEachLine",scrollIntoView:"selectionPart"},{name:"blockindent",description:"Block indent",bindKey:a("Ctrl-]","Ctrl-]"),exec:function(t){t.blockIndent()},multiSelectAction:"forEachLine",scrollIntoView:"selectionPart"},{name:"insertstring",description:"Insert string",exec:function(t,e){t.insert(e)},multiSelectAction:"forEach",scrollIntoView:"cursor"},{name:"inserttext",description:"Insert text",exec:function(t,e){t.insert(R.stringRepeat(e.text||"",e.times||1))},multiSelectAction:"forEach",scrollIntoView:"cursor"},{name:"splitline",description:"Split line",bindKey:a(null,"Ctrl-O"),exec:function(t){t.splitLine()},multiSelectAction:"forEach",scrollIntoView:"cursor"},{name:"transposeletters",description:"Transpose letters",bindKey:a("Alt-Shift-X","Ctrl-T"),exec:function(t){t.transposeLetters()},multiSelectAction:function(t){t.transposeSelections(1)},scrollIntoView:"cursor"},{name:"touppercase",description:"To uppercase",bindKey:a("Ctrl-U","Ctrl-U"),exec:function(t){t.toUpperCase()},multiSelectAction:"forEach",scrollIntoView:"cursor"},{name:"tolowercase",description:"To lowercase",bindKey:a("Ctrl-Shift-U","Ctrl-Shift-U"),exec:function(t){t.toLowerCase()},multiSelectAction:"forEach",scrollIntoView:"cursor"},{name:"autoindent",description:"Auto Indent",bindKey:a(null,null),exec:function(t){t.autoIndent()},multiSelectAction:"forEachLine",scrollIntoView:"animate"},{name:"expandtoline",description:"Expand to line",bindKey:a("Ctrl-Shift-L","Command-Shift-L"),exec:function(t){var e=t.selection.getRange();e.start.column=e.end.column=0,e.end.row++,t.selection.setRange(e,!1)},multiSelectAction:"forEach",scrollIntoView:"cursor",readOnly:!0},{name:"joinlines",description:"Join lines",bindKey:a(null,null),exec:function(t){for(var e=t.selection.isBackwards(),r=e?t.selection.getSelectionLead():t.selection.getSelectionAnchor(),n=e?t.selection.getSelectionAnchor():t.selection.getSelectionLead(),i=t.session.doc.getLine(r.row).length,s=t.session.doc.getTextRange(t.selection.getRange()),d=s.replace(/\n\s*/," ").length,v=t.session.doc.getLine(r.row),y=r.row+1;y<=n.row+1;y++){var k=R.stringTrimLeft(R.stringTrimRight(t.session.doc.getLine(y)));k.length!==0&&(k=" "+k),v+=k}n.row+1<t.session.doc.getLength()-1&&(v+=t.session.doc.getNewLineCharacter()),t.clearSelection(),t.session.doc.replace(new h(r.row,0,n.row+2,0),v),d>0?(t.selection.moveCursorTo(r.row,r.column),t.selection.selectTo(r.row,r.column+d)):(i=t.session.doc.getLine(r.row).length>i?i+1:i,t.selection.moveCursorTo(r.row,i))},multiSelectAction:"forEach",readOnly:!0},{name:"invertSelection",description:"Invert selection",bindKey:a(null,null),exec:function(t){var e=t.session.doc.getLength()-1,r=t.session.doc.getLine(e).length,n=t.selection.rangeList.ranges,i=[];n.length<1&&(n=[t.selection.getRange()]);for(var s=0;s<n.length;s++)s==n.length-1&&(n[s].end.row===e&&n[s].end.column===r||i.push(new h(n[s].end.row,n[s].end.column,e,r))),s===0?n[s].start.row===0&&n[s].start.column===0||i.push(new h(0,0,n[s].start.row,n[s].start.column)):i.push(new h(n[s-1].end.row,n[s-1].end.column,n[s].start.row,n[s].start.column));t.exitMultiSelectMode(),t.clearSelection();for(var s=0;s<i.length;s++)t.selection.addRange(i[s],!1)},readOnly:!0,scrollIntoView:"none"},{name:"addLineAfter",exec:function(t){t.selection.clearSelection(),t.navigateLineEnd(),t.insert(`
`)},multiSelectAction:"forEach",scrollIntoView:"cursor"},{name:"addLineBefore",exec:function(t){t.selection.clearSelection();var e=t.getCursorPosition();t.selection.moveTo(e.row-1,Number.MAX_VALUE),t.insert(`
`),e.row===0&&t.navigateUp()},multiSelectAction:"forEach",scrollIntoView:"cursor"},{name:"openCommandPallete",description:"Open command pallete",bindKey:a("F1","F1"),exec:function(t){t.prompt({$type:"commands"})},readOnly:!0},{name:"modeSelect",description:"Change language mode...",bindKey:a(null,null),exec:function(t){t.prompt({$type:"modes"})},readOnly:!0}];for(var l=1;l<9;l++)M.commands.push({name:"foldToLevel"+l,description:"Fold To Level "+l,level:l,exec:function(t){t.session.foldToLevel(this.level)},scrollIntoView:"center",readOnly:!0})}),ace.define("ace/editor",["require","exports","module","ace/lib/fixoldbrowsers","ace/lib/oop","ace/lib/dom","ace/lib/lang","ace/lib/useragent","ace/keyboard/textinput","ace/mouse/mouse_handler","ace/mouse/fold_handler","ace/keyboard/keybinding","ace/edit_session","ace/search","ace/range","ace/lib/event_emitter","ace/commands/command_manager","ace/commands/default_commands","ace/config","ace/token_iterator","ace/clipboard"],function(c,M,W){c("./lib/fixoldbrowsers");var R=c("./lib/oop"),E=c("./lib/dom"),h=c("./lib/lang"),a=c("./lib/useragent"),l=c("./keyboard/textinput").TextInput,t=c("./mouse/mouse_handler").MouseHandler,e=c("./mouse/fold_handler").FoldHandler,r=c("./keyboard/keybinding").KeyBinding,n=c("./edit_session").EditSession,i=c("./search").Search,s=c("./range").Range,d=c("./lib/event_emitter").EventEmitter,v=c("./commands/command_manager").CommandManager,y=c("./commands/default_commands").commands,k=c("./config"),p=c("./token_iterator").TokenIterator,o=c("./clipboard"),f=function(g,m,u){this.$toDestroy=[];var F=g.getContainerElement();this.container=F,this.renderer=g,this.id="editor"+ ++f.$uid,this.commands=new v(a.isMac?"mac":"win",y),typeof document=="object"&&(this.textInput=new l(g.getTextAreaContainer(),this),this.renderer.textarea=this.textInput.getElement(),this.$mouseHandler=new t(this),new e(this)),this.keyBinding=new r(this),this.$search=new i().set({wrap:!0}),this.$historyTracker=this.$historyTracker.bind(this),this.commands.on("exec",this.$historyTracker),this.$initOperationListeners(),this._$emitInputEvent=h.delayedCall((function(){this._signal("input",{}),this.session&&this.session.bgTokenizer&&this.session.bgTokenizer.scheduleStart()}).bind(this)),this.on("change",function(S,L){L._$emitInputEvent.schedule(31)}),this.setSession(m||u&&u.session||new n("")),k.resetOptions(this),u&&this.setOptions(u),k._signal("editor",this)};f.$uid=0,(function(){R.implement(this,d),this.$initOperationListeners=function(){this.commands.on("exec",this.startOperation.bind(this),!0),this.commands.on("afterExec",this.endOperation.bind(this),!0),this.$opResetTimer=h.delayedCall(this.endOperation.bind(this,!0)),this.on("change",(function(){this.curOp||(this.startOperation(),this.curOp.selectionBefore=this.$lastSel),this.curOp.docChanged=!0}).bind(this),!0),this.on("changeSelection",(function(){this.curOp||(this.startOperation(),this.curOp.selectionBefore=this.$lastSel),this.curOp.selectionChanged=!0}).bind(this),!0)},this.curOp=null,this.prevOp={},this.startOperation=function(g){if(this.curOp){if(!g||this.curOp.command)return;this.prevOp=this.curOp}g||(this.previousCommand=null,g={}),this.$opResetTimer.schedule(),this.curOp=this.session.curOp={command:g.command||{},args:g.args,scrollTop:this.renderer.scrollTop},this.curOp.selectionBefore=this.selection.toJSON()},this.endOperation=function(g){if(this.curOp&&this.session){if(g&&g.returnValue===!1||!this.session)return this.curOp=null;if(g==!0&&this.curOp.command&&this.curOp.command.name=="mouse"||(this._signal("beforeEndOperation"),!this.curOp))return;var m=this.curOp.command,u=m&&m.scrollIntoView;if(u){switch(u){case"center-animate":u="animate";case"center":this.renderer.scrollCursorIntoView(null,.5);break;case"animate":case"cursor":this.renderer.scrollCursorIntoView();break;case"selectionPart":var F=this.selection.getRange(),S=this.renderer.layerConfig;(F.start.row>=S.lastRow||F.end.row<=S.firstRow)&&this.renderer.scrollSelectionIntoView(this.selection.anchor,this.selection.lead);break}u=="animate"&&this.renderer.animateScrolling(this.curOp.scrollTop)}var L=this.selection.toJSON();this.curOp.selectionAfter=L,this.$lastSel=this.selection.toJSON(),this.session.getUndoManager().addSelection(L),this.prevOp=this.curOp,this.curOp=null}},this.$mergeableCommands=["backspace","del","insertstring"],this.$historyTracker=function(g){if(this.$mergeUndoDeltas){var m=this.prevOp,u=this.$mergeableCommands,F=m.command&&g.command.name==m.command.name;if(g.command.name=="insertstring"){var S=g.args;this.mergeNextCommand===void 0&&(this.mergeNextCommand=!0),F=F&&this.mergeNextCommand&&(!/\s/.test(S)||/\s/.test(m.args)),this.mergeNextCommand=!0}else F=F&&u.indexOf(g.command.name)!==-1;this.$mergeUndoDeltas!="always"&&Date.now()-this.sequenceStartTime>2e3&&(F=!1),F?this.session.mergeUndoDeltas=!0:u.indexOf(g.command.name)!==-1&&(this.sequenceStartTime=Date.now())}},this.setKeyboardHandler=function(g,m){if(g&&typeof g=="string"&&g!="ace"){this.$keybindingId=g;var u=this;k.loadModule(["keybinding",g],function(F){u.$keybindingId==g&&u.keyBinding.setKeyboardHandler(F&&F.handler),m&&m()})}else this.$keybindingId=null,this.keyBinding.setKeyboardHandler(g),m&&m()},this.getKeyboardHandler=function(){return this.keyBinding.getKeyboardHandler()},this.setSession=function(g){if(this.session!=g){this.curOp&&this.endOperation(),this.curOp={};var m=this.session;if(m){this.session.off("change",this.$onDocumentChange),this.session.off("changeMode",this.$onChangeMode),this.session.off("tokenizerUpdate",this.$onTokenizerUpdate),this.session.off("changeTabSize",this.$onChangeTabSize),this.session.off("changeWrapLimit",this.$onChangeWrapLimit),this.session.off("changeWrapMode",this.$onChangeWrapMode),this.session.off("changeFold",this.$onChangeFold),this.session.off("changeFrontMarker",this.$onChangeFrontMarker),this.session.off("changeBackMarker",this.$onChangeBackMarker),this.session.off("changeBreakpoint",this.$onChangeBreakpoint),this.session.off("changeAnnotation",this.$onChangeAnnotation),this.session.off("changeOverwrite",this.$onCursorChange),this.session.off("changeScrollTop",this.$onScrollTopChange),this.session.off("changeScrollLeft",this.$onScrollLeftChange);var u=this.session.getSelection();u.off("changeCursor",this.$onCursorChange),u.off("changeSelection",this.$onSelectionChange)}this.session=g,g?(this.$onDocumentChange=this.onDocumentChange.bind(this),g.on("change",this.$onDocumentChange),this.renderer.setSession(g),this.$onChangeMode=this.onChangeMode.bind(this),g.on("changeMode",this.$onChangeMode),this.$onTokenizerUpdate=this.onTokenizerUpdate.bind(this),g.on("tokenizerUpdate",this.$onTokenizerUpdate),this.$onChangeTabSize=this.renderer.onChangeTabSize.bind(this.renderer),g.on("changeTabSize",this.$onChangeTabSize),this.$onChangeWrapLimit=this.onChangeWrapLimit.bind(this),g.on("changeWrapLimit",this.$onChangeWrapLimit),this.$onChangeWrapMode=this.onChangeWrapMode.bind(this),g.on("changeWrapMode",this.$onChangeWrapMode),this.$onChangeFold=this.onChangeFold.bind(this),g.on("changeFold",this.$onChangeFold),this.$onChangeFrontMarker=this.onChangeFrontMarker.bind(this),this.session.on("changeFrontMarker",this.$onChangeFrontMarker),this.$onChangeBackMarker=this.onChangeBackMarker.bind(this),this.session.on("changeBackMarker",this.$onChangeBackMarker),this.$onChangeBreakpoint=this.onChangeBreakpoint.bind(this),this.session.on("changeBreakpoint",this.$onChangeBreakpoint),this.$onChangeAnnotation=this.onChangeAnnotation.bind(this),this.session.on("changeAnnotation",this.$onChangeAnnotation),this.$onCursorChange=this.onCursorChange.bind(this),this.session.on("changeOverwrite",this.$onCursorChange),this.$onScrollTopChange=this.onScrollTopChange.bind(this),this.session.on("changeScrollTop",this.$onScrollTopChange),this.$onScrollLeftChange=this.onScrollLeftChange.bind(this),this.session.on("changeScrollLeft",this.$onScrollLeftChange),this.selection=g.getSelection(),this.selection.on("changeCursor",this.$onCursorChange),this.$onSelectionChange=this.onSelectionChange.bind(this),this.selection.on("changeSelection",this.$onSelectionChange),this.onChangeMode(),this.onCursorChange(),this.onScrollTopChange(),this.onScrollLeftChange(),this.onSelectionChange(),this.onChangeFrontMarker(),this.onChangeBackMarker(),this.onChangeBreakpoint(),this.onChangeAnnotation(),this.session.getUseWrapMode()&&this.renderer.adjustWrapLimit(),this.renderer.updateFull()):(this.selection=null,this.renderer.setSession(g)),this._signal("changeSession",{session:g,oldSession:m}),this.curOp=null,m&&m._signal("changeEditor",{oldEditor:this}),g&&g._signal("changeEditor",{editor:this}),g&&g.bgTokenizer&&g.bgTokenizer.scheduleStart()}},this.getSession=function(){return this.session},this.setValue=function(g,m){return this.session.doc.setValue(g),m?m==1?this.navigateFileEnd():m==-1&&this.navigateFileStart():this.selectAll(),g},this.getValue=function(){return this.session.getValue()},this.getSelection=function(){return this.selection},this.resize=function(g){this.renderer.onResize(g)},this.setTheme=function(g,m){this.renderer.setTheme(g,m)},this.getTheme=function(){return this.renderer.getTheme()},this.setStyle=function(g){this.renderer.setStyle(g)},this.unsetStyle=function(g){this.renderer.unsetStyle(g)},this.getFontSize=function(){return this.getOption("fontSize")||E.computedStyle(this.container).fontSize},this.setFontSize=function(g){this.setOption("fontSize",g)},this.$highlightBrackets=function(){if(!this.$highlightPending){var g=this;this.$highlightPending=!0,setTimeout(function(){g.$highlightPending=!1;var m=g.session;if(!(!m||!m.bgTokenizer)){m.$bracketHighlight&&(m.$bracketHighlight.markerIds.forEach(function(S){m.removeMarker(S)}),m.$bracketHighlight=null);var u=m.getMatchingBracketRanges(g.getCursorPosition());if(!u&&m.$mode.getMatching&&(u=m.$mode.getMatching(g.session)),!!u){var F="ace_bracket";Array.isArray(u)?u.length==1&&(F="ace_error_bracket"):u=[u],u.length==2&&(s.comparePoints(u[0].end,u[1].start)==0?u=[s.fromPoints(u[0].start,u[1].end)]:s.comparePoints(u[0].start,u[1].end)==0&&(u=[s.fromPoints(u[1].start,u[0].end)])),m.$bracketHighlight={ranges:u,markerIds:u.map(function(S){return m.addMarker(S,F,"text")})}}}},50)}},this.$highlightTags=function(){if(!this.$highlightTagPending){var g=this;this.$highlightTagPending=!0,setTimeout(function(){g.$highlightTagPending=!1;var m=g.session;if(!(!m||!m.bgTokenizer)){var u=g.getCursorPosition(),F=new p(g.session,u.row,u.column),S=F.getCurrentToken();if(!S||!/\b(?:tag-open|tag-name)/.test(S.type)){m.removeMarker(m.$tagHighlight),m.$tagHighlight=null;return}if(!(S.type.indexOf("tag-open")!==-1&&(S=F.stepForward(),!S))){var L=S.value,A=S.value,P=0,H=F.stepBackward();if(H.value==="<")do H=S,S=F.stepForward(),S&&(S.type.indexOf("tag-name")!==-1?(A=S.value,L===A&&(H.value==="<"?P++:H.value==="</"&&P--)):L===A&&S.value==="/>"&&P--);while(S&&P>=0);else{do if(S=H,H=F.stepBackward(),S){if(S.type.indexOf("tag-name")!==-1)L===S.value&&(H.value==="<"?P++:H.value==="</"&&P--);else if(S.value==="/>"){for(var j=0,le=H;le;){if(le.type.indexOf("tag-name")!==-1&&le.value===L){P--;break}else if(le.value==="<")break;le=F.stepBackward(),j++}for(var q=0;q<j;q++)F.stepForward()}}while(H&&P<=0);F.stepForward()}if(!S){m.removeMarker(m.$tagHighlight),m.$tagHighlight=null;return}var ue=F.getCurrentTokenRow(),J=F.getCurrentTokenColumn(),ee=new s(ue,J,ue,J+S.value.length),ie=m.$backMarkers[m.$tagHighlight];m.$tagHighlight&&ie!=null&&ee.compareRange(ie.range)!==0&&(m.removeMarker(m.$tagHighlight),m.$tagHighlight=null),m.$tagHighlight||(m.$tagHighlight=m.addMarker(ee,"ace_bracket","text"))}}},50)}},this.focus=function(){var g=this;setTimeout(function(){g.isFocused()||g.textInput.focus()}),this.textInput.focus()},this.isFocused=function(){return this.textInput.isFocused()},this.blur=function(){this.textInput.blur()},this.onFocus=function(g){this.$isFocused||(this.$isFocused=!0,this.renderer.showCursor(),this.renderer.visualizeFocus(),this._emit("focus",g))},this.onBlur=function(g){this.$isFocused&&(this.$isFocused=!1,this.renderer.hideCursor(),this.renderer.visualizeBlur(),this._emit("blur",g))},this.$cursorChange=function(){this.renderer.updateCursor(),this.$highlightBrackets(),this.$highlightTags(),this.$updateHighlightActiveLine()},this.onDocumentChange=function(g){var m=this.session.$useWrapMode,u=g.start.row==g.end.row?g.end.row:1/0;this.renderer.updateLines(g.start.row,u,m),this._signal("change",g),this.$cursorChange()},this.onTokenizerUpdate=function(g){var m=g.data;this.renderer.updateLines(m.first,m.last)},this.onScrollTopChange=function(){this.renderer.scrollToY(this.session.getScrollTop())},this.onScrollLeftChange=function(){this.renderer.scrollToX(this.session.getScrollLeft())},this.onCursorChange=function(){this.$cursorChange(),this._signal("changeSelection")},this.$updateHighlightActiveLine=function(){var g=this.getSession(),m;if(this.$highlightActiveLine&&((this.$selectionStyle!="line"||!this.selection.isMultiLine())&&(m=this.getCursorPosition()),this.renderer.theme&&this.renderer.theme.$selectionColorConflict&&!this.selection.isEmpty()&&(m=!1),this.renderer.$maxLines&&this.session.getLength()===1&&!(this.renderer.$minLines>1)&&(m=!1)),g.$highlightLineMarker&&!m)g.removeMarker(g.$highlightLineMarker.id),g.$highlightLineMarker=null;else if(!g.$highlightLineMarker&&m){var u=new s(m.row,m.column,m.row,1/0);u.id=g.addMarker(u,"ace_active-line","screenLine"),g.$highlightLineMarker=u}else m&&(g.$highlightLineMarker.start.row=m.row,g.$highlightLineMarker.end.row=m.row,g.$highlightLineMarker.start.column=m.column,g._signal("changeBackMarker"))},this.onSelectionChange=function(g){var m=this.session;if(m.$selectionMarker&&m.removeMarker(m.$selectionMarker),m.$selectionMarker=null,this.selection.isEmpty())this.$updateHighlightActiveLine();else{var u=this.selection.getRange(),F=this.getSelectionStyle();m.$selectionMarker=m.addMarker(u,"ace_selection",F)}var S=this.$highlightSelectedWord&&this.$getSelectionHighLightRegexp();this.session.highlight(S),this._signal("changeSelection")},this.$getSelectionHighLightRegexp=function(){var g=this.session,m=this.getSelectionRange();if(!(m.isEmpty()||m.isMultiLine())){var u=m.start.column,F=m.end.column,S=g.getLine(m.start.row),L=S.substring(u,F);if(!(L.length>5e3||!/[\w\d]/.test(L))){var A=this.$search.$assembleRegExp({wholeWord:!0,caseSensitive:!0,needle:L}),P=S.substring(u-1,F+1);if(A.test(P))return A}}},this.onChangeFrontMarker=function(){this.renderer.updateFrontMarkers()},this.onChangeBackMarker=function(){this.renderer.updateBackMarkers()},this.onChangeBreakpoint=function(){this.renderer.updateBreakpoints()},this.onChangeAnnotation=function(){this.renderer.setAnnotations(this.session.getAnnotations())},this.onChangeMode=function(g){this.renderer.updateText(),this._emit("changeMode",g)},this.onChangeWrapLimit=function(){this.renderer.updateFull()},this.onChangeWrapMode=function(){this.renderer.onResize(!0)},this.onChangeFold=function(){this.$updateHighlightActiveLine(),this.renderer.updateFull()},this.getSelectedText=function(){return this.session.getTextRange(this.getSelectionRange())},this.getCopyText=function(){var g=this.getSelectedText(),m=this.session.doc.getNewLineCharacter(),u=!1;if(!g&&this.$copyWithEmptySelection){u=!0;for(var F=this.selection.getAllRanges(),S=0;S<F.length;S++){var L=F[S];S&&F[S-1].start.row==L.start.row||(g+=this.session.getLine(L.start.row)+m)}}var A={text:g};return this._signal("copy",A),o.lineMode=u?A.text:"",A.text},this.onCopy=function(){this.commands.exec("copy",this)},this.onCut=function(){this.commands.exec("cut",this)},this.onPaste=function(g,m){var u={text:g,event:m};this.commands.exec("paste",this,u)},this.$handlePaste=function(g){typeof g=="string"&&(g={text:g}),this._signal("paste",g);var m=g.text,u=m==o.lineMode,F=this.session;if(!this.inMultiSelectMode||this.inVirtualSelectionMode)u?F.insert({row:this.selection.lead.row,column:0},m):this.insert(m);else if(u)this.selection.rangeList.ranges.forEach(function(j){F.insert({row:j.start.row,column:0},m)});else{var S=m.split(/\r\n|\r|\n/),L=this.selection.rangeList.ranges,A=S.length==2&&(!S[0]||!S[1]);if(S.length!=L.length||A)return this.commands.exec("insertstring",this,m);for(var P=L.length;P--;){var H=L[P];H.isEmpty()||F.remove(H),F.insert(H.start,S[P])}}},this.execCommand=function(g,m){return this.commands.exec(g,this,m)},this.insert=function(g,m){var u=this.session,F=u.getMode(),S=this.getCursorPosition();if(this.getBehavioursEnabled()&&!m){var L=F.transformAction(u.getState(S.row),"insertion",this,u,g);L&&(g!==L.text&&(this.inVirtualSelectionMode||(this.session.mergeUndoDeltas=!1,this.mergeNextCommand=!1)),g=L.text)}if(g=="	"&&(g=this.session.getTabString()),this.selection.isEmpty()){if(this.session.getOverwrite()&&g.indexOf(`
`)==-1){var A=new s.fromPoints(S,S);A.end.column+=g.length,this.session.remove(A)}}else{var A=this.getSelectionRange();S=this.session.remove(A),this.clearSelection()}if(g==`
`||g==`\r
`){var le=u.getLine(S.row);if(S.column>le.search(/\S|$/)){var P=le.substr(S.column).search(/\S|$/);u.doc.removeInLine(S.row,S.column,S.column+P)}}this.clearSelection();var H=S.column,j=u.getState(S.row),le=u.getLine(S.row),q=F.checkOutdent(j,le,g);if(u.insert(S,g),L&&L.selection&&(L.selection.length==2?this.selection.setSelectionRange(new s(S.row,H+L.selection[0],S.row,H+L.selection[1])):this.selection.setSelectionRange(new s(S.row+L.selection[0],L.selection[1],S.row+L.selection[2],L.selection[3]))),this.$enableAutoIndent){if(u.getDocument().isNewLine(g)){var ue=F.getNextLineIndent(j,le.slice(0,S.column),u.getTabString());u.insert({row:S.row+1,column:0},ue)}q&&F.autoOutdent(j,u,S.row)}},this.autoIndent=function(){var g=this.session,m=g.getMode(),u,F;if(this.selection.isEmpty())u=0,F=g.doc.getLength()-1;else{var S=this.getSelectionRange();u=S.start.row,F=S.end.row}for(var L="",A="",P="",H,j,le,q=g.getTabString(),ue=u;ue<=F;ue++)ue>0&&(L=g.getState(ue-1),A=g.getLine(ue-1),P=m.getNextLineIndent(L,A,q)),H=g.getLine(ue),j=m.$getIndent(H),P!==j&&(j.length>0&&(le=new s(ue,0,ue,j.length),g.remove(le)),P.length>0&&g.insert({row:ue,column:0},P)),m.autoOutdent(L,g,ue)},this.onTextInput=function(g,m){if(!m)return this.keyBinding.onTextInput(g);this.startOperation({command:{name:"insertstring"}});var u=this.applyComposition.bind(this,g,m);this.selection.rangeCount?this.forEachSelection(u):u(),this.endOperation()},this.applyComposition=function(g,m){if(m.extendLeft||m.extendRight){var u=this.selection.getRange();u.start.column-=m.extendLeft,u.end.column+=m.extendRight,u.start.column<0&&(u.start.row--,u.start.column+=this.session.getLine(u.start.row).length+1),this.selection.setRange(u),!g&&!u.isEmpty()&&this.remove()}if((g||!this.selection.isEmpty())&&this.insert(g,!0),m.restoreStart||m.restoreEnd){var u=this.selection.getRange();u.start.column-=m.restoreStart,u.end.column-=m.restoreEnd,this.selection.setRange(u)}},this.onCommandKey=function(g,m,u){return this.keyBinding.onCommandKey(g,m,u)},this.setOverwrite=function(g){this.session.setOverwrite(g)},this.getOverwrite=function(){return this.session.getOverwrite()},this.toggleOverwrite=function(){this.session.toggleOverwrite()},this.setScrollSpeed=function(g){this.setOption("scrollSpeed",g)},this.getScrollSpeed=function(){return this.getOption("scrollSpeed")},this.setDragDelay=function(g){this.setOption("dragDelay",g)},this.getDragDelay=function(){return this.getOption("dragDelay")},this.setSelectionStyle=function(g){this.setOption("selectionStyle",g)},this.getSelectionStyle=function(){return this.getOption("selectionStyle")},this.setHighlightActiveLine=function(g){this.setOption("highlightActiveLine",g)},this.getHighlightActiveLine=function(){return this.getOption("highlightActiveLine")},this.setHighlightGutterLine=function(g){this.setOption("highlightGutterLine",g)},this.getHighlightGutterLine=function(){return this.getOption("highlightGutterLine")},this.setHighlightSelectedWord=function(g){this.setOption("highlightSelectedWord",g)},this.getHighlightSelectedWord=function(){return this.$highlightSelectedWord},this.setAnimatedScroll=function(g){this.renderer.setAnimatedScroll(g)},this.getAnimatedScroll=function(){return this.renderer.getAnimatedScroll()},this.setShowInvisibles=function(g){this.renderer.setShowInvisibles(g)},this.getShowInvisibles=function(){return this.renderer.getShowInvisibles()},this.setDisplayIndentGuides=function(g){this.renderer.setDisplayIndentGuides(g)},this.getDisplayIndentGuides=function(){return this.renderer.getDisplayIndentGuides()},this.setShowPrintMargin=function(g){this.renderer.setShowPrintMargin(g)},this.getShowPrintMargin=function(){return this.renderer.getShowPrintMargin()},this.setPrintMarginColumn=function(g){this.renderer.setPrintMarginColumn(g)},this.getPrintMarginColumn=function(){return this.renderer.getPrintMarginColumn()},this.setReadOnly=function(g){this.setOption("readOnly",g)},this.getReadOnly=function(){return this.getOption("readOnly")},this.setBehavioursEnabled=function(g){this.setOption("behavioursEnabled",g)},this.getBehavioursEnabled=function(){return this.getOption("behavioursEnabled")},this.setWrapBehavioursEnabled=function(g){this.setOption("wrapBehavioursEnabled",g)},this.getWrapBehavioursEnabled=function(){return this.getOption("wrapBehavioursEnabled")},this.setShowFoldWidgets=function(g){this.setOption("showFoldWidgets",g)},this.getShowFoldWidgets=function(){return this.getOption("showFoldWidgets")},this.setFadeFoldWidgets=function(g){this.setOption("fadeFoldWidgets",g)},this.getFadeFoldWidgets=function(){return this.getOption("fadeFoldWidgets")},this.remove=function(g){this.selection.isEmpty()&&(g=="left"?this.selection.selectLeft():this.selection.selectRight());var m=this.getSelectionRange();if(this.getBehavioursEnabled()){var u=this.session,F=u.getState(m.start.row),S=u.getMode().transformAction(F,"deletion",this,u,m);if(m.end.column===0){var L=u.getTextRange(m);if(L[L.length-1]==`
`){var A=u.getLine(m.end.row);/^\s+$/.test(A)&&(m.end.column=A.length)}}S&&(m=S)}this.session.remove(m),this.clearSelection()},this.removeWordRight=function(){this.selection.isEmpty()&&this.selection.selectWordRight(),this.session.remove(this.getSelectionRange()),this.clearSelection()},this.removeWordLeft=function(){this.selection.isEmpty()&&this.selection.selectWordLeft(),this.session.remove(this.getSelectionRange()),this.clearSelection()},this.removeToLineStart=function(){this.selection.isEmpty()&&this.selection.selectLineStart(),this.selection.isEmpty()&&this.selection.selectLeft(),this.session.remove(this.getSelectionRange()),this.clearSelection()},this.removeToLineEnd=function(){this.selection.isEmpty()&&this.selection.selectLineEnd();var g=this.getSelectionRange();g.start.column==g.end.column&&g.start.row==g.end.row&&(g.end.column=0,g.end.row++),this.session.remove(g),this.clearSelection()},this.splitLine=function(){this.selection.isEmpty()||(this.session.remove(this.getSelectionRange()),this.clearSelection());var g=this.getCursorPosition();this.insert(`
`),this.moveCursorToPosition(g)},this.transposeLetters=function(){if(this.selection.isEmpty()){var g=this.getCursorPosition(),m=g.column;if(m!==0){var u=this.session.getLine(g.row),F,S;m<u.length?(F=u.charAt(m)+u.charAt(m-1),S=new s(g.row,m-1,g.row,m+1)):(F=u.charAt(m-1)+u.charAt(m-2),S=new s(g.row,m-2,g.row,m)),this.session.replace(S,F),this.session.selection.moveToPosition(S.end)}}},this.toLowerCase=function(){var g=this.getSelectionRange();this.selection.isEmpty()&&this.selection.selectWord();var m=this.getSelectionRange(),u=this.session.getTextRange(m);this.session.replace(m,u.toLowerCase()),this.selection.setSelectionRange(g)},this.toUpperCase=function(){var g=this.getSelectionRange();this.selection.isEmpty()&&this.selection.selectWord();var m=this.getSelectionRange(),u=this.session.getTextRange(m);this.session.replace(m,u.toUpperCase()),this.selection.setSelectionRange(g)},this.indent=function(){var g=this.session,m=this.getSelectionRange();if(m.start.row<m.end.row){var u=this.$getSelectedRows();g.indentRows(u.first,u.last,"	");return}else if(m.start.column<m.end.column){var F=g.getTextRange(m);if(!/^\s+$/.test(F)){var u=this.$getSelectedRows();g.indentRows(u.first,u.last,"	");return}}var S=g.getLine(m.start.row),L=m.start,A=g.getTabSize(),P=g.documentToScreenColumn(L.row,L.column);if(this.session.getUseSoftTabs())var H=A-P%A,j=h.stringRepeat(" ",H);else{for(var H=P%A;S[m.start.column-1]==" "&&H;)m.start.column--,H--;this.selection.setSelectionRange(m),j="	"}return this.insert(j)},this.blockIndent=function(){var g=this.$getSelectedRows();this.session.indentRows(g.first,g.last,"	")},this.blockOutdent=function(){var g=this.session.getSelection();this.session.outdentRows(g.getRange())},this.sortLines=function(){for(var g=this.$getSelectedRows(),m=this.session,u=[],F=g.first;F<=g.last;F++)u.push(m.getLine(F));u.sort(function(A,P){return A.toLowerCase()<P.toLowerCase()?-1:A.toLowerCase()>P.toLowerCase()?1:0});for(var S=new s(0,0,0,0),F=g.first;F<=g.last;F++){var L=m.getLine(F);S.start.row=F,S.end.row=F,S.end.column=L.length,m.replace(S,u[F-g.first])}},this.toggleCommentLines=function(){var g=this.session.getState(this.getCursorPosition().row),m=this.$getSelectedRows();this.session.getMode().toggleCommentLines(g,this.session,m.first,m.last)},this.toggleBlockComment=function(){var g=this.getCursorPosition(),m=this.session.getState(g.row),u=this.getSelectionRange();this.session.getMode().toggleBlockComment(m,this.session,u,g)},this.getNumberAt=function(g,m){var u=/[\-]?[0-9]+(?:\.[0-9]+)?/g;u.lastIndex=0;for(var F=this.session.getLine(g);u.lastIndex<m;){var S=u.exec(F);if(S.index<=m&&S.index+S[0].length>=m){var L={value:S[0],start:S.index,end:S.index+S[0].length};return L}}return null},this.modifyNumber=function(g){var m=this.selection.getCursor().row,u=this.selection.getCursor().column,F=new s(m,u-1,m,u),S=this.session.getTextRange(F);if(!isNaN(parseFloat(S))&&isFinite(S)){var L=this.getNumberAt(m,u);if(L){var A=L.value.indexOf(".")>=0?L.start+L.value.indexOf(".")+1:L.end,P=L.start+L.value.length-A,H=parseFloat(L.value);H*=Math.pow(10,P),A!==L.end&&u<A?g*=Math.pow(10,L.end-u-1):g*=Math.pow(10,L.end-u),H+=g,H/=Math.pow(10,P);var j=H.toFixed(P),le=new s(m,L.start,m,L.end);this.session.replace(le,j),this.moveCursorTo(m,Math.max(L.start+1,u+j.length-L.value.length))}}else this.toggleWord()},this.$toggleWordPairs=[["first","last"],["true","false"],["yes","no"],["width","height"],["top","bottom"],["right","left"],["on","off"],["x","y"],["get","set"],["max","min"],["horizontal","vertical"],["show","hide"],["add","remove"],["up","down"],["before","after"],["even","odd"],["in","out"],["inside","outside"],["next","previous"],["increase","decrease"],["attach","detach"],["&&","||"],["==","!="]],this.toggleWord=function(){var g=this.selection.getCursor().row,m=this.selection.getCursor().column;this.selection.selectWord();var u=this.getSelectedText(),F=this.selection.getWordRange().start.column,S=u.replace(/([a-z]+|[A-Z]+)(?=[A-Z_]|$)/g,"$1 ").split(/\s/),L=m-F-1;L<0&&(L=0);var A=0,P=0,H=this;u.match(/[A-Za-z0-9_]+/)&&S.forEach(function(de,Ce){P=A+de.length,L>=A&&L<=P&&(u=de,H.selection.clearSelection(),H.moveCursorTo(g,A+F),H.selection.selectTo(g,P+F)),A=P});for(var j=this.$toggleWordPairs,le,q=0;q<j.length;q++)for(var ue=j[q],J=0;J<=1;J++){var ee=+!J,ie=u.match(new RegExp("^\\s?_?("+h.escapeRegExp(ue[J])+")\\s?$","i"));if(ie){var me=u.match(new RegExp("([_]|^|\\s)("+h.escapeRegExp(ie[1])+")($|\\s)","g"));me&&(le=u.replace(new RegExp(h.escapeRegExp(ue[J]),"i"),function(de){var Ce=ue[ee];return de.toUpperCase()==de?Ce=Ce.toUpperCase():de.charAt(0).toUpperCase()==de.charAt(0)&&(Ce=Ce.substr(0,0)+ue[ee].charAt(0).toUpperCase()+Ce.substr(1)),Ce}),this.insert(le),le="")}}},this.removeLines=function(){var g=this.$getSelectedRows();this.session.removeFullLines(g.first,g.last),this.clearSelection()},this.duplicateSelection=function(){var g=this.selection,m=this.session,u=g.getRange(),F=g.isBackwards();if(u.isEmpty()){var S=u.start.row;m.duplicateLines(S,S)}else{var L=F?u.start:u.end,A=m.insert(L,m.getTextRange(u),!1);u.start=L,u.end=A,g.setSelectionRange(u,F)}},this.moveLinesDown=function(){this.$moveLines(1,!1)},this.moveLinesUp=function(){this.$moveLines(-1,!1)},this.moveText=function(g,m,u){return this.session.moveText(g,m,u)},this.copyLinesUp=function(){this.$moveLines(-1,!0)},this.copyLinesDown=function(){this.$moveLines(1,!0)},this.$moveLines=function(g,m){var u,F,S=this.selection;if(!S.inMultiSelectMode||this.inVirtualSelectionMode){var L=S.toOrientedRange();u=this.$getSelectedRows(L),F=this.session.$moveLines(u.first,u.last,m?0:g),m&&g==-1&&(F=0),L.moveBy(F,0),S.fromOrientedRange(L)}else{var A=S.rangeList.ranges;S.rangeList.detach(this.session),this.inVirtualSelectionMode=!0;for(var P=0,H=0,j=A.length,le=0;le<j;le++){var q=le;A[le].moveBy(P,0),u=this.$getSelectedRows(A[le]);for(var ue=u.first,J=u.last;++le<j;){H&&A[le].moveBy(H,0);var ee=this.$getSelectedRows(A[le]);if(m&&ee.first!=J)break;if(!m&&ee.first>J+1)break;J=ee.last}for(le--,P=this.session.$moveLines(ue,J,m?0:g),m&&g==-1&&(q=le+1);q<=le;)A[q].moveBy(P,0),q++;m||(P=0),H+=P}S.fromOrientedRange(S.ranges[0]),S.rangeList.attach(this.session),this.inVirtualSelectionMode=!1}},this.$getSelectedRows=function(g){return g=(g||this.getSelectionRange()).collapseRows(),{first:this.session.getRowFoldStart(g.start.row),last:this.session.getRowFoldEnd(g.end.row)}},this.onCompositionStart=function(g){this.renderer.showComposition(g)},this.onCompositionUpdate=function(g){this.renderer.setCompositionText(g)},this.onCompositionEnd=function(){this.renderer.hideComposition()},this.getFirstVisibleRow=function(){return this.renderer.getFirstVisibleRow()},this.getLastVisibleRow=function(){return this.renderer.getLastVisibleRow()},this.isRowVisible=function(g){return g>=this.getFirstVisibleRow()&&g<=this.getLastVisibleRow()},this.isRowFullyVisible=function(g){return g>=this.renderer.getFirstFullyVisibleRow()&&g<=this.renderer.getLastFullyVisibleRow()},this.$getVisibleRowCount=function(){return this.renderer.getScrollBottomRow()-this.renderer.getScrollTopRow()+1},this.$moveByPage=function(g,m){var u=this.renderer,F=this.renderer.layerConfig,S=g*Math.floor(F.height/F.lineHeight);m===!0?this.selection.$moveSelection(function(){this.moveCursorBy(S,0)}):m===!1&&(this.selection.moveCursorBy(S,0),this.selection.clearSelection());var L=u.scrollTop;u.scrollBy(0,S*F.lineHeight),m!=null&&u.scrollCursorIntoView(null,.5),u.animateScrolling(L)},this.selectPageDown=function(){this.$moveByPage(1,!0)},this.selectPageUp=function(){this.$moveByPage(-1,!0)},this.gotoPageDown=function(){this.$moveByPage(1,!1)},this.gotoPageUp=function(){this.$moveByPage(-1,!1)},this.scrollPageDown=function(){this.$moveByPage(1)},this.scrollPageUp=function(){this.$moveByPage(-1)},this.scrollToRow=function(g){this.renderer.scrollToRow(g)},this.scrollToLine=function(g,m,u,F){this.renderer.scrollToLine(g,m,u,F)},this.centerSelection=function(){var g=this.getSelectionRange(),m={row:Math.floor(g.start.row+(g.end.row-g.start.row)/2),column:Math.floor(g.start.column+(g.end.column-g.start.column)/2)};this.renderer.alignCursor(m,.5)},this.getCursorPosition=function(){return this.selection.getCursor()},this.getCursorPositionScreen=function(){return this.session.documentToScreenPosition(this.getCursorPosition())},this.getSelectionRange=function(){return this.selection.getRange()},this.selectAll=function(){this.selection.selectAll()},this.clearSelection=function(){this.selection.clearSelection()},this.moveCursorTo=function(g,m){this.selection.moveCursorTo(g,m)},this.moveCursorToPosition=function(g){this.selection.moveCursorToPosition(g)},this.jumpToMatching=function(g,m){var u=this.getCursorPosition(),F=new p(this.session,u.row,u.column),S=F.getCurrentToken(),L=S||F.stepForward();if(L){var A,P=!1,H={},j=u.column-L.start,le,q={")":"(","(":"(","]":"[","[":"[","{":"{","}":"{"};do{if(L.value.match(/[{}()\[\]]/g)){for(;j<L.value.length&&!P;j++)if(q[L.value[j]])switch(le=q[L.value[j]]+"."+L.type.replace("rparen","lparen"),isNaN(H[le])&&(H[le]=0),L.value[j]){case"(":case"[":case"{":H[le]++;break;case")":case"]":case"}":H[le]--,H[le]===-1&&(A="bracket",P=!0);break}}else L.type.indexOf("tag-name")!==-1&&(isNaN(H[L.value])&&(H[L.value]=0),S.value==="<"?H[L.value]++:S.value==="</"&&H[L.value]--,H[L.value]===-1&&(A="tag",P=!0));P||(S=L,L=F.stepForward(),j=0)}while(L&&!P);if(A){var ue,J;if(A==="bracket")ue=this.session.getBracketRange(u),ue||(ue=new s(F.getCurrentTokenRow(),F.getCurrentTokenColumn()+j-1,F.getCurrentTokenRow(),F.getCurrentTokenColumn()+j-1),J=ue.start,(m||J.row===u.row&&Math.abs(J.column-u.column)<2)&&(ue=this.session.getBracketRange(J)));else if(A==="tag"){if(L&&L.type.indexOf("tag-name")!==-1)var ee=L.value;else return;if(ue=new s(F.getCurrentTokenRow(),F.getCurrentTokenColumn()-2,F.getCurrentTokenRow(),F.getCurrentTokenColumn()-2),ue.compare(u.row,u.column)===0){P=!1;do L=S,S=F.stepBackward(),S&&(S.type.indexOf("tag-close")!==-1&&ue.setEnd(F.getCurrentTokenRow(),F.getCurrentTokenColumn()+1),L.value===ee&&L.type.indexOf("tag-name")!==-1&&(S.value==="<"?H[ee]++:S.value==="</"&&H[ee]--,H[ee]===0&&(P=!0)));while(S&&!P)}L&&L.type.indexOf("tag-name")&&(J=ue.start,J.row==u.row&&Math.abs(J.column-u.column)<2&&(J=ue.end))}J=ue&&ue.cursor||J,J&&(g?ue&&m?this.selection.setRange(ue):ue&&ue.isEqual(this.getSelectionRange())?this.clearSelection():this.selection.selectTo(J.row,J.column):this.selection.moveTo(J.row,J.column))}}},this.gotoLine=function(g,m,u){this.selection.clearSelection(),this.session.unfold({row:g-1,column:m||0}),this.exitMultiSelectMode&&this.exitMultiSelectMode(),this.moveCursorTo(g-1,m||0),this.isRowFullyVisible(g-1)||this.scrollToLine(g-1,!0,u)},this.navigateTo=function(g,m){this.selection.moveTo(g,m)},this.navigateUp=function(g){if(this.selection.isMultiLine()&&!this.selection.isBackwards()){var m=this.selection.anchor.getPosition();return this.moveCursorToPosition(m)}this.selection.clearSelection(),this.selection.moveCursorBy(-g||-1,0)},this.navigateDown=function(g){if(this.selection.isMultiLine()&&this.selection.isBackwards()){var m=this.selection.anchor.getPosition();return this.moveCursorToPosition(m)}this.selection.clearSelection(),this.selection.moveCursorBy(g||1,0)},this.navigateLeft=function(g){if(this.selection.isEmpty())for(g=g||1;g--;)this.selection.moveCursorLeft();else{var m=this.getSelectionRange().start;this.moveCursorToPosition(m)}this.clearSelection()},this.navigateRight=function(g){if(this.selection.isEmpty())for(g=g||1;g--;)this.selection.moveCursorRight();else{var m=this.getSelectionRange().end;this.moveCursorToPosition(m)}this.clearSelection()},this.navigateLineStart=function(){this.selection.moveCursorLineStart(),this.clearSelection()},this.navigateLineEnd=function(){this.selection.moveCursorLineEnd(),this.clearSelection()},this.navigateFileEnd=function(){this.selection.moveCursorFileEnd(),this.clearSelection()},this.navigateFileStart=function(){this.selection.moveCursorFileStart(),this.clearSelection()},this.navigateWordRight=function(){this.selection.moveCursorWordRight(),this.clearSelection()},this.navigateWordLeft=function(){this.selection.moveCursorWordLeft(),this.clearSelection()},this.replace=function(g,m){m&&this.$search.set(m);var u=this.$search.find(this.session),F=0;return u&&(this.$tryReplace(u,g)&&(F=1),this.selection.setSelectionRange(u),this.renderer.scrollSelectionIntoView(u.start,u.end)),F},this.replaceAll=function(g,m){m&&this.$search.set(m);var u=this.$search.findAll(this.session),F=0;if(!u.length)return F;var S=this.getSelectionRange();this.selection.moveTo(0,0);for(var L=u.length-1;L>=0;--L)this.$tryReplace(u[L],g)&&F++;return this.selection.setSelectionRange(S),F},this.$tryReplace=function(g,m){var u=this.session.getTextRange(g);return m=this.$search.replace(u,m),m!==null?(g.end=this.session.replace(g,m),g):null},this.getLastSearchOptions=function(){return this.$search.getOptions()},this.find=function(g,m,u){m||(m={}),typeof g=="string"||g instanceof RegExp?m.needle=g:typeof g=="object"&&R.mixin(m,g);var F=this.selection.getRange();m.needle==null&&(g=this.session.getTextRange(F)||this.$search.$options.needle,g||(F=this.session.getWordRange(F.start.row,F.start.column),g=this.session.getTextRange(F)),this.$search.set({needle:g})),this.$search.set(m),m.start||this.$search.set({start:F});var S=this.$search.find(this.session);if(m.preventScroll)return S;if(S)return this.revealRange(S,u),S;m.backwards?F.start=F.end:F.end=F.start,this.selection.setRange(F)},this.findNext=function(g,m){this.find({skipCurrent:!0,backwards:!1},g,m)},this.findPrevious=function(g,m){this.find(g,{skipCurrent:!0,backwards:!0},m)},this.revealRange=function(g,m){this.session.unfold(g),this.selection.setSelectionRange(g);var u=this.renderer.scrollTop;this.renderer.scrollSelectionIntoView(g.start,g.end,.5),m!==!1&&this.renderer.animateScrolling(u)},this.undo=function(){this.session.getUndoManager().undo(this.session),this.renderer.scrollCursorIntoView(null,.5)},this.redo=function(){this.session.getUndoManager().redo(this.session),this.renderer.scrollCursorIntoView(null,.5)},this.destroy=function(){this.$toDestroy&&(this.$toDestroy.forEach(function(g){g.destroy()}),this.$toDestroy=null),this.$mouseHandler&&this.$mouseHandler.destroy(),this.renderer.destroy(),this._signal("destroy",this),this.session&&this.session.destroy(),this._$emitInputEvent&&this._$emitInputEvent.cancel(),this.removeAllListeners()},this.setAutoScrollEditorIntoView=function(g){if(g){var m,u=this,F=!1;this.$scrollAnchor||(this.$scrollAnchor=document.createElement("div"));var S=this.$scrollAnchor;S.style.cssText="position:absolute",this.container.insertBefore(S,this.container.firstChild);var L=this.on("changeSelection",function(){F=!0}),A=this.renderer.on("beforeRender",function(){F&&(m=u.renderer.container.getBoundingClientRect())}),P=this.renderer.on("afterRender",function(){if(F&&m&&(u.isFocused()||u.searchBox&&u.searchBox.isFocused())){var H=u.renderer,j=H.$cursorLayer.$pixelPos,le=H.layerConfig,q=j.top-le.offset;j.top>=0&&q+m.top<0?F=!0:j.top<le.height&&j.top+m.top+le.lineHeight>window.innerHeight?F=!1:F=null,F!=null&&(S.style.top=q+"px",S.style.left=j.left+"px",S.style.height=le.lineHeight+"px",S.scrollIntoView(F)),F=m=null}});this.setAutoScrollEditorIntoView=function(H){H||(delete this.setAutoScrollEditorIntoView,this.off("changeSelection",L),this.renderer.off("afterRender",P),this.renderer.off("beforeRender",A))}}},this.$resetCursorStyle=function(){var g=this.$cursorStyle||"ace",m=this.renderer.$cursorLayer;m&&(m.setSmoothBlinking(/smooth/.test(g)),m.isBlinking=!this.$readOnly&&g!="wide",E.setCssClass(m.element,"ace_slim-cursors",/slim/.test(g)))},this.prompt=function(g,m,u){var F=this;k.loadModule("./ext/prompt",function(S){S.prompt(F,g,m,u)})}}).call(f.prototype),k.defineOptions(f.prototype,"editor",{selectionStyle:{set:function(g){this.onSelectionChange(),this._signal("changeSelectionStyle",{data:g})},initialValue:"line"},highlightActiveLine:{set:function(){this.$updateHighlightActiveLine()},initialValue:!0},highlightSelectedWord:{set:function(g){this.$onSelectionChange()},initialValue:!0},readOnly:{set:function(g){this.textInput.setReadOnly(g),this.$resetCursorStyle()},initialValue:!1},copyWithEmptySelection:{set:function(g){this.textInput.setCopyWithEmptySelection(g)},initialValue:!1},cursorStyle:{set:function(g){this.$resetCursorStyle()},values:["ace","slim","smooth","wide"],initialValue:"ace"},mergeUndoDeltas:{values:[!1,!0,"always"],initialValue:!0},behavioursEnabled:{initialValue:!0},wrapBehavioursEnabled:{initialValue:!0},enableAutoIndent:{initialValue:!0},autoScrollEditorIntoView:{set:function(g){this.setAutoScrollEditorIntoView(g)}},keyboardHandler:{set:function(g){this.setKeyboardHandler(g)},get:function(){return this.$keybindingId},handlesSet:!0},value:{set:function(g){this.session.setValue(g)},get:function(){return this.getValue()},handlesSet:!0,hidden:!0},session:{set:function(g){this.setSession(g)},get:function(){return this.session},handlesSet:!0,hidden:!0},showLineNumbers:{set:function(g){this.renderer.$gutterLayer.setShowLineNumbers(g),this.renderer.$loop.schedule(this.renderer.CHANGE_GUTTER),g&&this.$relativeLineNumbers?w.attach(this):w.detach(this)},initialValue:!0},relativeLineNumbers:{set:function(g){this.$showLineNumbers&&g?w.attach(this):w.detach(this)}},placeholder:{set:function(g){this.$updatePlaceholder||(this.$updatePlaceholder=(function(){var m=this.session&&(this.renderer.$composition||this.getValue());if(m&&this.renderer.placeholderNode)this.renderer.off("afterRender",this.$updatePlaceholder),E.removeCssClass(this.container,"ace_hasPlaceholder"),this.renderer.placeholderNode.remove(),this.renderer.placeholderNode=null;else if(!m&&!this.renderer.placeholderNode){this.renderer.on("afterRender",this.$updatePlaceholder),E.addCssClass(this.container,"ace_hasPlaceholder");var u=E.createElement("div");u.className="ace_placeholder",u.textContent=this.$placeholder||"",this.renderer.placeholderNode=u,this.renderer.content.appendChild(this.renderer.placeholderNode)}else!m&&this.renderer.placeholderNode&&(this.renderer.placeholderNode.textContent=this.$placeholder||"")}).bind(this),this.on("input",this.$updatePlaceholder)),this.$updatePlaceholder()}},hScrollBarAlwaysVisible:"renderer",vScrollBarAlwaysVisible:"renderer",highlightGutterLine:"renderer",animatedScroll:"renderer",showInvisibles:"renderer",showPrintMargin:"renderer",printMarginColumn:"renderer",printMargin:"renderer",fadeFoldWidgets:"renderer",showFoldWidgets:"renderer",displayIndentGuides:"renderer",showGutter:"renderer",fontSize:"renderer",fontFamily:"renderer",maxLines:"renderer",minLines:"renderer",scrollPastEnd:"renderer",fixedWidthGutter:"renderer",theme:"renderer",hasCssTransforms:"renderer",maxPixelHeight:"renderer",useTextareaForIME:"renderer",scrollSpeed:"$mouseHandler",dragDelay:"$mouseHandler",dragEnabled:"$mouseHandler",focusTimeout:"$mouseHandler",tooltipFollowsMouse:"$mouseHandler",firstLineNumber:"session",overwrite:"session",newLineMode:"session",useWorker:"session",useSoftTabs:"session",navigateWithinSoftTabs:"session",tabSize:"session",wrap:"session",indentedSoftWrap:"session",foldStyle:"session",mode:"session"});var w={getText:function(g,m){return(Math.abs(g.selection.lead.row-m)||m+1+(m<9?"":""))+""},getWidth:function(g,m,u){return Math.max(m.toString().length,(u.lastRow+1).toString().length,2)*u.characterWidth},update:function(g,m){m.renderer.$loop.schedule(m.renderer.CHANGE_GUTTER)},attach:function(g){g.renderer.$gutterLayer.$renderer=this,g.on("changeSelection",this.update),this.update(null,g)},detach:function(g){g.renderer.$gutterLayer.$renderer==this&&(g.renderer.$gutterLayer.$renderer=null),g.off("changeSelection",this.update),this.update(null,g)}};M.Editor=f}),ace.define("ace/undomanager",["require","exports","module","ace/range"],function(c,M,W){var R=function(){this.$maxRev=0,this.$fromUndo=!1,this.reset()};(function(){this.addSession=function(o){this.$session=o},this.add=function(o,f,w){this.$fromUndo||o!=this.$lastDelta&&(this.$keepRedoStack||(this.$redoStack.length=0),(f===!1||!this.lastDeltas)&&(this.lastDeltas=[],this.$undoStack.push(this.lastDeltas),o.id=this.$rev=++this.$maxRev),(o.action=="remove"||o.action=="insert")&&(this.$lastDelta=o),this.lastDeltas.push(o))},this.addSelection=function(o,f){this.selections.push({value:o,rev:f||this.$rev})},this.startNewGroup=function(){return this.lastDeltas=null,this.$rev},this.markIgnored=function(o,f){f==null&&(f=this.$rev+1);for(var w=this.$undoStack,g=w.length;g--;){var m=w[g][0];if(m.id<=o)break;m.id<f&&(m.ignore=!0)}this.lastDeltas=null},this.getSelection=function(o,f){for(var w=this.selections,g=w.length;g--;){var m=w[g];if(m.rev<o)return f&&(m=w[g+1]),m}},this.getRevision=function(){return this.$rev},this.getDeltas=function(o,f){f==null&&(f=this.$rev+1);for(var w=this.$undoStack,g=null,m=0,u=w.length;u--;){var F=w[u][0];if(F.id<f&&!g&&(g=u+1),F.id<=o){m=u+1;break}}return w.slice(m,g)},this.getChangedRanges=function(o,f){f==null&&(f=this.$rev+1)},this.getChangedLines=function(o,f){f==null&&(f=this.$rev+1)},this.undo=function(o,f){this.lastDeltas=null;var w=this.$undoStack;if(E(w,w.length)){o||(o=this.$session),this.$redoStackBaseRev!==this.$rev&&this.$redoStack.length&&(this.$redoStack=[]),this.$fromUndo=!0;var g=w.pop(),m=null;return g&&(m=o.undoChanges(g,f),this.$redoStack.push(g),this.$syncRev()),this.$fromUndo=!1,m}},this.redo=function(o,f){if(this.lastDeltas=null,o||(o=this.$session),this.$fromUndo=!0,this.$redoStackBaseRev!=this.$rev){var w=this.getDeltas(this.$redoStackBaseRev,this.$rev+1);p(this.$redoStack,w),this.$redoStackBaseRev=this.$rev,this.$redoStack.forEach(function(u){u[0].id=++this.$maxRev},this)}var g=this.$redoStack.pop(),m=null;return g&&(m=o.redoChanges(g,f),this.$undoStack.push(g),this.$syncRev()),this.$fromUndo=!1,m},this.$syncRev=function(){var o=this.$undoStack,f=o[o.length-1],w=f&&f[0].id||0;this.$redoStackBaseRev=w,this.$rev=w},this.reset=function(){this.lastDeltas=null,this.$lastDelta=null,this.$undoStack=[],this.$redoStack=[],this.$rev=0,this.mark=0,this.$redoStackBaseRev=this.$rev,this.selections=[]},this.canUndo=function(){return this.$undoStack.length>0},this.canRedo=function(){return this.$redoStack.length>0},this.bookmark=function(o){o==null&&(o=this.$rev),this.mark=o},this.isAtBookmark=function(){return this.$rev===this.mark},this.toJSON=function(){},this.fromJSON=function(){},this.hasUndo=this.canUndo,this.hasRedo=this.canRedo,this.isClean=this.isAtBookmark,this.markClean=this.bookmark,this.$prettyPrint=function(o){return o?e(o):e(this.$undoStack)+`
---
`+e(this.$redoStack)}}).call(R.prototype);function E(o,f){for(var w=f;w--;){var g=o[w];if(g&&!g[0].ignore){for(;w<f-1;){var m=i(o[w],o[w+1]);o[w]=m[0],o[w+1]=m[1],w++}return!0}}}var h=c("./range").Range,a=h.comparePoints;h.comparePoints;function l(o){return{row:o.row,column:o.column}}function t(o){return{start:l(o.start),end:l(o.end),action:o.action,lines:o.lines.slice()}}function e(o){if(o=o||this,Array.isArray(o))return o.map(e).join(`
`);var f="";return o.action?(f=o.action=="insert"?"+":"-",f+="["+o.lines+"]"):o.value&&(Array.isArray(o.value)?f=o.value.map(r).join(`
`):f=r(o.value)),o.start&&(f+=r(o)),(o.id||o.rev)&&(f+="	("+(o.id||o.rev)+")"),f}function r(o){return o.start.row+":"+o.start.column+"=>"+o.end.row+":"+o.end.column}function n(o,f){var w=o.action=="insert",g=f.action=="insert";if(w&&g)if(a(f.start,o.end)>=0)d(f,o,-1);else if(a(f.start,o.start)<=0)d(o,f,1);else return null;else if(w&&!g)if(a(f.start,o.end)>=0)d(f,o,-1);else if(a(f.end,o.start)<=0)d(o,f,-1);else return null;else if(!w&&g)if(a(f.start,o.start)>=0)d(f,o,1);else if(a(f.start,o.start)<=0)d(o,f,1);else return null;else if(!w&&!g)if(a(f.start,o.start)>=0)d(f,o,1);else if(a(f.end,o.start)<=0)d(o,f,-1);else return null;return[f,o]}function i(o,f){for(var w=o.length;w--;)for(var g=0;g<f.length;g++)if(!n(o[w],f[g])){for(;w<o.length;){for(;g--;)n(f[g],o[w]);g=f.length,w++}return[o,f]}return o.selectionBefore=f.selectionBefore=o.selectionAfter=f.selectionAfter=null,[f,o]}function s(o,f){var w=o.action=="insert",g=f.action=="insert";if(w&&g)a(o.start,f.start)<0?d(f,o,1):d(o,f,1);else if(w&&!g)a(o.start,f.end)>=0?d(o,f,-1):(a(o.start,f.start)<=0||d(o,h.fromPoints(f.start,o.start),-1),d(f,o,1));else if(!w&&g)a(f.start,o.end)>=0?d(f,o,-1):(a(f.start,o.start)<=0||d(f,h.fromPoints(o.start,f.start),-1),d(o,f,1));else if(!w&&!g)if(a(f.start,o.end)>=0)d(f,o,-1);else if(a(f.end,o.start)<=0)d(o,f,-1);else{var m,u;return a(o.start,f.start)<0&&(m=o,o=y(o,f.start)),a(o.end,f.end)>0&&(u=y(o,f.end)),v(f.end,o.start,o.end,-1),u&&!m&&(o.lines=u.lines,o.start=u.start,o.end=u.end,u=o),[f,m,u].filter(Boolean)}return[f,o]}function d(o,f,w){v(o.start,f.start,f.end,w),v(o.end,f.start,f.end,w)}function v(o,f,w,g){o.row==(g==1?f:w).row&&(o.column+=g*(w.column-f.column)),o.row+=g*(w.row-f.row)}function y(o,f){var w=o.lines,g=o.end;o.end=l(f);var m=o.end.row-o.start.row,u=w.splice(m,w.length),F=m?f.column:f.column-o.start.column;w.push(u[0].substring(0,F)),u[0]=u[0].substr(F);var S={start:l(f),end:g,lines:u,action:o.action};return S}function k(o,f){f=t(f);for(var w=o.length;w--;){for(var g=o[w],m=0;m<g.length;m++){var u=g[m],F=s(u,f);f=F[0],F.length!=2&&(F[2]?(g.splice(m+1,1,F[1],F[2]),m++):F[1]||(g.splice(m,1),m--))}g.length||o.splice(w,1)}return o}function p(o,f){for(var w=0;w<f.length;w++)for(var g=f[w],m=0;m<g.length;m++)k(o,g[m])}M.UndoManager=R}),ace.define("ace/layer/lines",["require","exports","module","ace/lib/dom"],function(c,M,W){var R=c("../lib/dom"),E=function(h,a){this.element=h,this.canvasHeight=a||5e5,this.element.style.height=this.canvasHeight*2+"px",this.cells=[],this.cellCache=[],this.$offsetCoefficient=0};(function(){this.moveContainer=function(h){R.translate(this.element,0,-(h.firstRowScreen*h.lineHeight%this.canvasHeight)-h.offset*this.$offsetCoefficient)},this.pageChanged=function(h,a){return Math.floor(h.firstRowScreen*h.lineHeight/this.canvasHeight)!==Math.floor(a.firstRowScreen*a.lineHeight/this.canvasHeight)},this.computeLineTop=function(h,a,l){var t=a.firstRowScreen*a.lineHeight,e=Math.floor(t/this.canvasHeight),r=l.documentToScreenRow(h,0)*a.lineHeight;return r-e*this.canvasHeight},this.computeLineHeight=function(h,a,l){return a.lineHeight*l.getRowLineCount(h)},this.getLength=function(){return this.cells.length},this.get=function(h){return this.cells[h]},this.shift=function(){this.$cacheCell(this.cells.shift())},this.pop=function(){this.$cacheCell(this.cells.pop())},this.push=function(h){if(Array.isArray(h)){this.cells.push.apply(this.cells,h);for(var a=R.createFragment(this.element),l=0;l<h.length;l++)a.appendChild(h[l].element);this.element.appendChild(a)}else this.cells.push(h),this.element.appendChild(h.element)},this.unshift=function(h){if(Array.isArray(h)){this.cells.unshift.apply(this.cells,h);for(var a=R.createFragment(this.element),l=0;l<h.length;l++)a.appendChild(h[l].element);this.element.firstChild?this.element.insertBefore(a,this.element.firstChild):this.element.appendChild(a)}else this.cells.unshift(h),this.element.insertAdjacentElement("afterbegin",h.element)},this.last=function(){return this.cells.length?this.cells[this.cells.length-1]:null},this.$cacheCell=function(h){h&&(h.element.remove(),this.cellCache.push(h))},this.createCell=function(h,a,l,t){var e=this.cellCache.pop();if(!e){var r=R.createElement("div");t&&t(r),this.element.appendChild(r),e={element:r,text:"",row:h}}return e.row=h,e}}).call(E.prototype),M.Lines=E}),ace.define("ace/layer/gutter",["require","exports","module","ace/lib/dom","ace/lib/oop","ace/lib/lang","ace/lib/event_emitter","ace/layer/lines"],function(c,M,W){var R=c("../lib/dom"),E=c("../lib/oop"),h=c("../lib/lang"),a=c("../lib/event_emitter").EventEmitter,l=c("./lines").Lines,t=function(r){this.element=R.createElement("div"),this.element.className="ace_layer ace_gutter-layer",r.appendChild(this.element),this.setShowFoldWidgets(this.$showFoldWidgets),this.gutterWidth=0,this.$annotations=[],this.$updateAnnotations=this.$updateAnnotations.bind(this),this.$lines=new l(this.element),this.$lines.$offsetCoefficient=1};(function(){E.implement(this,a),this.setSession=function(r){this.session&&this.session.off("change",this.$updateAnnotations),this.session=r,r&&r.on("change",this.$updateAnnotations)},this.addGutterDecoration=function(r,n){window.console&&console.warn&&console.warn("deprecated use session.addGutterDecoration"),this.session.addGutterDecoration(r,n)},this.removeGutterDecoration=function(r,n){window.console&&console.warn&&console.warn("deprecated use session.removeGutterDecoration"),this.session.removeGutterDecoration(r,n)},this.setAnnotations=function(r){this.$annotations=[];for(var n=0;n<r.length;n++){var i=r[n],s=i.row,d=this.$annotations[s];d||(d=this.$annotations[s]={text:[]});var v=i.text;v=v?h.escapeHTML(v):i.html||"",d.text.indexOf(v)===-1&&d.text.push(v);var y=i.type;y=="error"?d.className=" ace_error":y=="warning"&&d.className!=" ace_error"?d.className=" ace_warning":y=="info"&&!d.className&&(d.className=" ace_info")}},this.$updateAnnotations=function(r){if(this.$annotations.length){var n=r.start.row,i=r.end.row-n;if(i!==0)if(r.action=="remove")this.$annotations.splice(n,i+1,null);else{var s=new Array(i+1);s.unshift(n,1),this.$annotations.splice.apply(this.$annotations,s)}}},this.update=function(r){this.config=r;var n=this.session,i=r.firstRow,s=Math.min(r.lastRow+r.gutterOffset,n.getLength()-1);this.oldLastRow=s,this.config=r,this.$lines.moveContainer(r),this.$updateCursorRow();for(var d=n.getNextFoldLine(i),v=d?d.start.row:1/0,y=null,k=-1,p=i;;){if(p>v&&(p=d.end.row+1,d=n.getNextFoldLine(p,d),v=d?d.start.row:1/0),p>s){for(;this.$lines.getLength()>k+1;)this.$lines.pop();break}y=this.$lines.get(++k),y?y.row=p:(y=this.$lines.createCell(p,r,this.session,e),this.$lines.push(y)),this.$renderCell(y,r,d,p),p++}this._signal("afterRender"),this.$updateGutterWidth(r)},this.$updateGutterWidth=function(r){var n=this.session,i=n.gutterRenderer||this.$renderer,s=n.$firstLineNumber,d=this.$lines.last()?this.$lines.last().text:"";(this.$fixedWidth||n.$useWrapMode)&&(d=n.getLength()+s-1);var v=i?i.getWidth(n,d,r):d.toString().length*r.characterWidth,y=this.$padding||this.$computePadding();v+=y.left+y.right,v!==this.gutterWidth&&!isNaN(v)&&(this.gutterWidth=v,this.element.parentNode.style.width=this.element.style.width=Math.ceil(this.gutterWidth)+"px",this._signal("changeGutterWidth",v))},this.$updateCursorRow=function(){if(this.$highlightGutterLine){var r=this.session.selection.getCursor();this.$cursorRow!==r.row&&(this.$cursorRow=r.row)}},this.updateLineHighlight=function(){if(this.$highlightGutterLine){var r=this.session.selection.cursor.row;if(this.$cursorRow=r,!(this.$cursorCell&&this.$cursorCell.row==r)){this.$cursorCell&&(this.$cursorCell.element.className=this.$cursorCell.element.className.replace("ace_gutter-active-line ",""));var n=this.$lines.cells;this.$cursorCell=null;for(var i=0;i<n.length;i++){var s=n[i];if(s.row>=this.$cursorRow){if(s.row>this.$cursorRow){var d=this.session.getFoldLine(this.$cursorRow);if(i>0&&d&&d.start.row==n[i-1].row)s=n[i-1];else break}s.element.className="ace_gutter-active-line "+s.element.className,this.$cursorCell=s;break}}}}},this.scrollLines=function(r){var n=this.config;if(this.config=r,this.$updateCursorRow(),this.$lines.pageChanged(n,r))return this.update(r);this.$lines.moveContainer(r);var i=Math.min(r.lastRow+r.gutterOffset,this.session.getLength()-1),s=this.oldLastRow;if(this.oldLastRow=i,!n||s<r.firstRow)return this.update(r);if(i<n.firstRow)return this.update(r);if(n.firstRow<r.firstRow)for(var d=this.session.getFoldedRowCount(n.firstRow,r.firstRow-1);d>0;d--)this.$lines.shift();if(s>i)for(var d=this.session.getFoldedRowCount(i+1,s);d>0;d--)this.$lines.pop();r.firstRow<n.firstRow&&this.$lines.unshift(this.$renderLines(r,r.firstRow,n.firstRow-1)),i>s&&this.$lines.push(this.$renderLines(r,s+1,i)),this.updateLineHighlight(),this._signal("afterRender"),this.$updateGutterWidth(r)},this.$renderLines=function(r,n,i){for(var s=[],d=n,v=this.session.getNextFoldLine(d),y=v?v.start.row:1/0;d>y&&(d=v.end.row+1,v=this.session.getNextFoldLine(d,v),y=v?v.start.row:1/0),!(d>i);){var k=this.$lines.createCell(d,r,this.session,e);this.$renderCell(k,r,v,d),s.push(k),d++}return s},this.$renderCell=function(r,n,i,s){var d=r.element,v=this.session,y=d.childNodes[0],k=d.childNodes[1],p=v.$firstLineNumber,o=v.$breakpoints,f=v.$decorations,w=v.gutterRenderer||this.$renderer,g=this.$showFoldWidgets&&v.foldWidgets,m=i?i.start.row:Number.MAX_VALUE,u="ace_gutter-cell ";if(this.$highlightGutterLine&&(s==this.$cursorRow||i&&s<this.$cursorRow&&s>=m&&this.$cursorRow<=i.end.row)&&(u+="ace_gutter-active-line ",this.$cursorCell!=r&&(this.$cursorCell&&(this.$cursorCell.element.className=this.$cursorCell.element.className.replace("ace_gutter-active-line ","")),this.$cursorCell=r)),o[s]&&(u+=o[s]),f[s]&&(u+=f[s]),this.$annotations[s]&&(u+=this.$annotations[s].className),d.className!=u&&(d.className=u),g){var F=g[s];F==null&&(F=g[s]=v.getFoldWidget(s))}if(F){var u="ace_fold-widget ace_"+F;F=="start"&&s==m&&s<i.end.row?u+=" ace_closed":u+=" ace_open",k.className!=u&&(k.className=u);var S=n.lineHeight+"px";R.setStyle(k.style,"height",S),R.setStyle(k.style,"display","inline-block")}else k&&R.setStyle(k.style,"display","none");var L=(w?w.getText(v,s):s+p).toString();return L!==y.data&&(y.data=L),R.setStyle(r.element.style,"height",this.$lines.computeLineHeight(s,n,v)+"px"),R.setStyle(r.element.style,"top",this.$lines.computeLineTop(s,n,v)+"px"),r.text=L,r},this.$fixedWidth=!1,this.$highlightGutterLine=!0,this.$renderer="",this.setHighlightGutterLine=function(r){this.$highlightGutterLine=r},this.$showLineNumbers=!0,this.$renderer="",this.setShowLineNumbers=function(r){this.$renderer=!r&&{getWidth:function(){return 0},getText:function(){return""}}},this.getShowLineNumbers=function(){return this.$showLineNumbers},this.$showFoldWidgets=!0,this.setShowFoldWidgets=function(r){r?R.addCssClass(this.element,"ace_folding-enabled"):R.removeCssClass(this.element,"ace_folding-enabled"),this.$showFoldWidgets=r,this.$padding=null},this.getShowFoldWidgets=function(){return this.$showFoldWidgets},this.$computePadding=function(){if(!this.element.firstChild)return{left:0,right:0};var r=R.computedStyle(this.element.firstChild);return this.$padding={},this.$padding.left=(parseInt(r.borderLeftWidth)||0)+(parseInt(r.paddingLeft)||0)+1,this.$padding.right=(parseInt(r.borderRightWidth)||0)+(parseInt(r.paddingRight)||0),this.$padding},this.getRegion=function(r){var n=this.$padding||this.$computePadding(),i=this.element.getBoundingClientRect();if(r.x<n.left+i.left)return"markers";if(this.$showFoldWidgets&&r.x>i.right-n.right)return"foldWidgets"}}).call(t.prototype);function e(r){var n=document.createTextNode("");r.appendChild(n);var i=R.createElement("span");return r.appendChild(i),r}M.Gutter=t}),ace.define("ace/layer/marker",["require","exports","module","ace/range","ace/lib/dom"],function(c,M,W){var R=c("../range").Range,E=c("../lib/dom"),h=function(a){this.element=E.createElement("div"),this.element.className="ace_layer ace_marker-layer",a.appendChild(this.element)};(function(){this.$padding=0,this.setPadding=function(l){this.$padding=l},this.setSession=function(l){this.session=l},this.setMarkers=function(l){this.markers=l},this.elt=function(l,t){var e=this.i!=-1&&this.element.childNodes[this.i];e?this.i++:(e=document.createElement("div"),this.element.appendChild(e),this.i=-1),e.style.cssText=t,e.className=l},this.update=function(l){if(l){this.config=l,this.i=0;var t;for(var e in this.markers){var r=this.markers[e];if(!r.range){r.update(t,this,this.session,l);continue}var n=r.range.clipRows(l.firstRow,l.lastRow);if(!n.isEmpty())if(n=n.toScreenRange(this.session),r.renderer){var i=this.$getTop(n.start.row,l),s=this.$padding+n.start.column*l.characterWidth;r.renderer(t,n,s,i,l)}else r.type=="fullLine"?this.drawFullLineMarker(t,n,r.clazz,l):r.type=="screenLine"?this.drawScreenLineMarker(t,n,r.clazz,l):n.isMultiLine()?r.type=="text"?this.drawTextMarker(t,n,r.clazz,l):this.drawMultiLineMarker(t,n,r.clazz,l):this.drawSingleLineMarker(t,n,r.clazz+" ace_start ace_br15",l)}if(this.i!=-1)for(;this.i<this.element.childElementCount;)this.element.removeChild(this.element.lastChild)}},this.$getTop=function(l,t){return(l-t.firstRowScreen)*t.lineHeight};function a(l,t,e,r){return(l?1:0)|(t?2:0)|(e?4:0)|(r?8:0)}this.drawTextMarker=function(l,t,e,r,n){for(var i=this.session,s=t.start.row,d=t.end.row,v=s,y=0,k=0,p=i.getScreenLastRowColumn(v),o=new R(v,t.start.column,v,k);v<=d;v++)o.start.row=o.end.row=v,o.start.column=v==s?t.start.column:i.getRowWrapIndent(v),o.end.column=p,y=k,k=p,p=v+1<d?i.getScreenLastRowColumn(v+1):v==d?0:t.end.column,this.drawSingleLineMarker(l,o,e+(v==s?" ace_start":"")+" ace_br"+a(v==s||v==s+1&&t.start.column,y<k,k>p,v==d),r,v==d?0:1,n)},this.drawMultiLineMarker=function(l,t,e,r,n){var i=this.$padding,s=r.lineHeight,d=this.$getTop(t.start.row,r),v=i+t.start.column*r.characterWidth;if(n=n||"",this.session.$bidiHandler.isBidiRow(t.start.row)){var y=t.clone();y.end.row=y.start.row,y.end.column=this.session.getLine(y.start.row).length,this.drawBidiSingleLineMarker(l,y,e+" ace_br1 ace_start",r,null,n)}else this.elt(e+" ace_br1 ace_start","height:"+s+"px;right:0;top:"+d+"px;left:"+v+"px;"+(n||""));if(this.session.$bidiHandler.isBidiRow(t.end.row)){var y=t.clone();y.start.row=y.end.row,y.start.column=0,this.drawBidiSingleLineMarker(l,y,e+" ace_br12",r,null,n)}else{d=this.$getTop(t.end.row,r);var k=t.end.column*r.characterWidth;this.elt(e+" ace_br12","height:"+s+"px;width:"+k+"px;top:"+d+"px;left:"+i+"px;"+(n||""))}if(s=(t.end.row-t.start.row-1)*r.lineHeight,!(s<=0)){d=this.$getTop(t.start.row+1,r);var p=(t.start.column?1:0)|(t.end.column?0:8);this.elt(e+(p?" ace_br"+p:""),"height:"+s+"px;right:0;top:"+d+"px;left:"+i+"px;"+(n||""))}},this.drawSingleLineMarker=function(l,t,e,r,n,i){if(this.session.$bidiHandler.isBidiRow(t.start.row))return this.drawBidiSingleLineMarker(l,t,e,r,n,i);var s=r.lineHeight,d=(t.end.column+(n||0)-t.start.column)*r.characterWidth,v=this.$getTop(t.start.row,r),y=this.$padding+t.start.column*r.characterWidth;this.elt(e,"height:"+s+"px;width:"+d+"px;top:"+v+"px;left:"+y+"px;"+(i||""))},this.drawBidiSingleLineMarker=function(l,t,e,r,n,i){var s=r.lineHeight,d=this.$getTop(t.start.row,r),v=this.$padding,y=this.session.$bidiHandler.getSelections(t.start.column,t.end.column);y.forEach(function(k){this.elt(e,"height:"+s+"px;width:"+k.width+(n||0)+"px;top:"+d+"px;left:"+(v+k.left)+"px;"+(i||""))},this)},this.drawFullLineMarker=function(l,t,e,r,n){var i=this.$getTop(t.start.row,r),s=r.lineHeight;t.start.row!=t.end.row&&(s+=this.$getTop(t.end.row,r)-i),this.elt(e,"height:"+s+"px;top:"+i+"px;left:0;right:0;"+(n||""))},this.drawScreenLineMarker=function(l,t,e,r,n){var i=this.$getTop(t.start.row,r),s=r.lineHeight;this.elt(e,"height:"+s+"px;top:"+i+"px;left:0;right:0;"+(n||""))}}).call(h.prototype),M.Marker=h}),ace.define("ace/layer/text",["require","exports","module","ace/lib/oop","ace/lib/dom","ace/lib/lang","ace/layer/lines","ace/lib/event_emitter"],function(c,M,W){var R=c("../lib/oop"),E=c("../lib/dom"),h=c("../lib/lang"),a=c("./lines").Lines,l=c("../lib/event_emitter").EventEmitter,t=function(e){this.dom=E,this.element=this.dom.createElement("div"),this.element.className="ace_layer ace_text-layer",e.appendChild(this.element),this.$updateEolChar=this.$updateEolChar.bind(this),this.$lines=new a(this.element)};(function(){R.implement(this,l),this.EOF_CHAR="",this.EOL_CHAR_LF="",this.EOL_CHAR_CRLF="",this.EOL_CHAR=this.EOL_CHAR_LF,this.TAB_CHAR="",this.SPACE_CHAR="",this.$padding=0,this.MAX_LINE_LENGTH=1e4,this.$updateEolChar=function(){var e=this.session.doc,r=e.getNewLineCharacter()==`
`&&e.getNewLineMode()!="windows",n=r?this.EOL_CHAR_LF:this.EOL_CHAR_CRLF;if(this.EOL_CHAR!=n)return this.EOL_CHAR=n,!0},this.setPadding=function(e){this.$padding=e,this.element.style.margin="0 "+e+"px"},this.getLineHeight=function(){return this.$fontMetrics.$characterSize.height||0},this.getCharacterWidth=function(){return this.$fontMetrics.$characterSize.width||0},this.$setFontMetrics=function(e){this.$fontMetrics=e,this.$fontMetrics.on("changeCharacterSize",(function(r){this._signal("changeCharacterSize",r)}).bind(this)),this.$pollSizeChanges()},this.checkForSizeChanges=function(){this.$fontMetrics.checkForSizeChanges()},this.$pollSizeChanges=function(){return this.$pollSizeChangesTimer=this.$fontMetrics.$pollSizeChanges()},this.setSession=function(e){this.session=e,e&&this.$computeTabString()},this.showInvisibles=!1,this.showSpaces=!1,this.showTabs=!1,this.showEOL=!1,this.setShowInvisibles=function(e){return this.showInvisibles==e?!1:(this.showInvisibles=e,typeof e=="string"?(this.showSpaces=/tab/i.test(e),this.showTabs=/space/i.test(e),this.showEOL=/eol/i.test(e)):this.showSpaces=this.showTabs=this.showEOL=e,this.$computeTabString(),!0)},this.displayIndentGuides=!0,this.setDisplayIndentGuides=function(e){return this.displayIndentGuides==e?!1:(this.displayIndentGuides=e,this.$computeTabString(),!0)},this.$tabStrings=[],this.onChangeTabSize=this.$computeTabString=function(){var e=this.session.getTabSize();this.tabSize=e;for(var r=this.$tabStrings=[0],n=1;n<e+1;n++)if(this.showTabs){var i=this.dom.createElement("span");i.className="ace_invisible ace_invisible_tab",i.textContent=h.stringRepeat(this.TAB_CHAR,n),r.push(i)}else r.push(this.dom.createTextNode(h.stringRepeat(" ",n),this.element));if(this.displayIndentGuides){this.$indentGuideRe=/\s\S| \t|\t |\s$/;var s="ace_indent-guide",d=this.showSpaces?" ace_invisible ace_invisible_space":"",v=this.showSpaces?h.stringRepeat(this.SPACE_CHAR,this.tabSize):h.stringRepeat(" ",this.tabSize),y=this.showTabs?" ace_invisible ace_invisible_tab":"",k=this.showTabs?h.stringRepeat(this.TAB_CHAR,this.tabSize):v,i=this.dom.createElement("span");i.className=s+d,i.textContent=v,this.$tabStrings[" "]=i;var i=this.dom.createElement("span");i.className=s+y,i.textContent=k,this.$tabStrings["	"]=i}},this.updateLines=function(e,r,n){if(this.config.lastRow!=e.lastRow||this.config.firstRow!=e.firstRow)return this.update(e);this.config=e;for(var i=Math.max(r,e.firstRow),s=Math.min(n,e.lastRow),d=this.element.childNodes,v=0,k=e.firstRow;k<i;k++){var p=this.session.getFoldLine(k);if(p)if(p.containsRow(i)){i=p.start.row;break}else k=p.end.row;v++}for(var y=!1,k=i,p=this.session.getNextFoldLine(k),o=p?p.start.row:1/0;k>o&&(k=p.end.row+1,p=this.session.getNextFoldLine(k,p),o=p?p.start.row:1/0),!(k>s);){var f=d[v++];if(f){this.dom.removeChildren(f),this.$renderLine(f,k,k==o?p:!1),y&&(f.style.top=this.$lines.computeLineTop(k,e,this.session)+"px");var w=e.lineHeight*this.session.getRowLength(k)+"px";f.style.height!=w&&(y=!0,f.style.height=w)}k++}if(y)for(;v<this.$lines.cells.length;){var g=this.$lines.cells[v++];g.element.style.top=this.$lines.computeLineTop(g.row,e,this.session)+"px"}},this.scrollLines=function(e){var r=this.config;if(this.config=e,this.$lines.pageChanged(r,e))return this.update(e);this.$lines.moveContainer(e);var n=e.lastRow,i=r?r.lastRow:-1;if(!r||i<e.firstRow)return this.update(e);if(n<r.firstRow)return this.update(e);if(!r||r.lastRow<e.firstRow)return this.update(e);if(e.lastRow<r.firstRow)return this.update(e);if(r.firstRow<e.firstRow)for(var s=this.session.getFoldedRowCount(r.firstRow,e.firstRow-1);s>0;s--)this.$lines.shift();if(r.lastRow>e.lastRow)for(var s=this.session.getFoldedRowCount(e.lastRow+1,r.lastRow);s>0;s--)this.$lines.pop();e.firstRow<r.firstRow&&this.$lines.unshift(this.$renderLinesFragment(e,e.firstRow,r.firstRow-1)),e.lastRow>r.lastRow&&this.$lines.push(this.$renderLinesFragment(e,r.lastRow+1,e.lastRow))},this.$renderLinesFragment=function(e,r,n){for(var i=[],s=r,d=this.session.getNextFoldLine(s),v=d?d.start.row:1/0;s>v&&(s=d.end.row+1,d=this.session.getNextFoldLine(s,d),v=d?d.start.row:1/0),!(s>n);){var y=this.$lines.createCell(s,e,this.session),k=y.element;this.dom.removeChildren(k),E.setStyle(k.style,"height",this.$lines.computeLineHeight(s,e,this.session)+"px"),E.setStyle(k.style,"top",this.$lines.computeLineTop(s,e,this.session)+"px"),this.$renderLine(k,s,s==v?d:!1),this.$useLineGroups()?k.className="ace_line_group":k.className="ace_line",i.push(y),s++}return i},this.update=function(e){this.$lines.moveContainer(e),this.config=e;for(var r=e.firstRow,n=e.lastRow,i=this.$lines;i.getLength();)i.pop();i.push(this.$renderLinesFragment(e,r,n))},this.$textToken={text:!0,rparen:!0,lparen:!0},this.$renderToken=function(e,r,n,i){for(var s=this,d=/(\t)|( +)|([\x00-\x1f\x80-\xa0\xad\u1680\u180E\u2000-\u200f\u2028\u2029\u202F\u205F\uFEFF\uFFF9-\uFFFC]+)|(\u3000)|([\u1100-\u115F\u11A3-\u11A7\u11FA-\u11FF\u2329-\u232A\u2E80-\u2E99\u2E9B-\u2EF3\u2F00-\u2FD5\u2FF0-\u2FFB\u3001-\u303E\u3041-\u3096\u3099-\u30FF\u3105-\u312D\u3131-\u318E\u3190-\u31BA\u31C0-\u31E3\u31F0-\u321E\u3220-\u3247\u3250-\u32FE\u3300-\u4DBF\u4E00-\uA48C\uA490-\uA4C6\uA960-\uA97C\uAC00-\uD7A3\uD7B0-\uD7C6\uD7CB-\uD7FB\uF900-\uFAFF\uFE10-\uFE19\uFE30-\uFE52\uFE54-\uFE66\uFE68-\uFE6B\uFF01-\uFF60\uFFE0-\uFFE6]|[\uD800-\uDBFF][\uDC00-\uDFFF])/g,v=this.dom.createFragment(this.element),y,k=0;y=d.exec(i);){var p=y[1],o=y[2],f=y[3],w=y[4],g=y[5];if(!(!s.showSpaces&&o)){var m=k!=y.index?i.slice(k,y.index):"";if(k=y.index+y[0].length,m&&v.appendChild(this.dom.createTextNode(m,this.element)),p){var u=s.session.getScreenTabSize(r+y.index);v.appendChild(s.$tabStrings[u].cloneNode(!0)),r+=u-1}else if(o)if(s.showSpaces){var F=this.dom.createElement("span");F.className="ace_invisible ace_invisible_space",F.textContent=h.stringRepeat(s.SPACE_CHAR,o.length),v.appendChild(F)}else v.appendChild(this.com.createTextNode(o,this.element));else if(f){var F=this.dom.createElement("span");F.className="ace_invisible ace_invisible_space ace_invalid",F.textContent=h.stringRepeat(s.SPACE_CHAR,f.length),v.appendChild(F)}else if(w){r+=1;var F=this.dom.createElement("span");F.style.width=s.config.characterWidth*2+"px",F.className=s.showSpaces?"ace_cjk ace_invisible ace_invisible_space":"ace_cjk",F.textContent=s.showSpaces?s.SPACE_CHAR:w,v.appendChild(F)}else if(g){r+=1;var F=this.dom.createElement("span");F.style.width=s.config.characterWidth*2+"px",F.className="ace_cjk",F.textContent=g,v.appendChild(F)}}}if(v.appendChild(this.dom.createTextNode(k?i.slice(k):i,this.element)),this.$textToken[n.type])e.appendChild(v);else{var S="ace_"+n.type.replace(/\./g," ace_"),F=this.dom.createElement("span");n.type=="fold"&&(F.style.width=n.value.length*this.config.characterWidth+"px"),F.className=S,F.appendChild(v),e.appendChild(F)}return r+i.length},this.renderIndentGuide=function(e,r,n){var i=r.search(this.$indentGuideRe);if(i<=0||i>=n)return r;if(r[0]==" "){i-=i%this.tabSize;for(var s=i/this.tabSize,d=0;d<s;d++)e.appendChild(this.$tabStrings[" "].cloneNode(!0));return r.substr(i)}else if(r[0]=="	"){for(var d=0;d<i;d++)e.appendChild(this.$tabStrings["	"].cloneNode(!0));return r.substr(i)}return r},this.$createLineElement=function(e){var r=this.dom.createElement("div");return r.className="ace_line",r.style.height=this.config.lineHeight+"px",r},this.$renderWrappedLine=function(e,r,n){var i=0,s=0,d=n[0],v=0,y=this.$createLineElement();e.appendChild(y);for(var k=0;k<r.length;k++){var p=r[k],o=p.value;if(k==0&&this.displayIndentGuides){if(i=o.length,o=this.renderIndentGuide(y,o,d),!o)continue;i-=o.length}if(i+o.length<d)v=this.$renderToken(y,v,p,o),i+=o.length;else{for(;i+o.length>=d;)v=this.$renderToken(y,v,p,o.substring(0,d-i)),o=o.substring(d-i),i=d,y=this.$createLineElement(),e.appendChild(y),y.appendChild(this.dom.createTextNode(h.stringRepeat("",n.indent),this.element)),s++,v=0,d=n[s]||Number.MAX_VALUE;o.length!=0&&(i+=o.length,v=this.$renderToken(y,v,p,o))}}n[n.length-1]>this.MAX_LINE_LENGTH&&this.$renderOverflowMessage(y,v,null,"",!0)},this.$renderSimpleLine=function(e,r){var n=0,i=r[0],s=i.value;this.displayIndentGuides&&(s=this.renderIndentGuide(e,s)),s&&(n=this.$renderToken(e,n,i,s));for(var d=1;d<r.length;d++){if(i=r[d],s=i.value,n+s.length>this.MAX_LINE_LENGTH)return this.$renderOverflowMessage(e,n,i,s);n=this.$renderToken(e,n,i,s)}},this.$renderOverflowMessage=function(e,r,n,i,s){n&&this.$renderToken(e,r,n,i.slice(0,this.MAX_LINE_LENGTH-r));var d=this.dom.createElement("span");d.className="ace_inline_button ace_keyword ace_toggle_wrap",d.textContent=s?"<hide>":"<click to see more...>",e.appendChild(d)},this.$renderLine=function(e,r,n){if(!n&&n!=!1&&(n=this.session.getFoldLine(r)),n)var i=this.$getFoldLineTokens(r,n);else var i=this.session.getTokens(r);var s=e;if(i.length){var d=this.session.getRowSplitData(r);if(d&&d.length){this.$renderWrappedLine(e,i,d);var s=e.lastChild}else{var s=e;this.$useLineGroups()&&(s=this.$createLineElement(),e.appendChild(s)),this.$renderSimpleLine(s,i)}}else this.$useLineGroups()&&(s=this.$createLineElement(),e.appendChild(s));if(this.showEOL&&s){n&&(r=n.end.row);var v=this.dom.createElement("span");v.className="ace_invisible ace_invisible_eol",v.textContent=r==this.session.getLength()-1?this.EOF_CHAR:this.EOL_CHAR,s.appendChild(v)}},this.$getFoldLineTokens=function(e,r){var n=this.session,i=[];function s(v,y,k){for(var p=0,o=0;o+v[p].value.length<y;)if(o+=v[p].value.length,p++,p==v.length)return;if(o!=y){var f=v[p].value.substring(y-o);f.length>k-y&&(f=f.substring(0,k-y)),i.push({type:v[p].type,value:f}),o=y+f.length,p+=1}for(;o<k&&p<v.length;){var f=v[p].value;f.length+o>k?i.push({type:v[p].type,value:f.substring(0,k-o)}):i.push(v[p]),o+=f.length,p+=1}}var d=n.getTokens(e);return r.walk(function(v,y,k,p,o){v!=null?i.push({type:"fold",value:v}):(o&&(d=n.getTokens(y)),d.length&&s(d,p,k))},r.end.row,this.session.getLine(r.end.row).length),i},this.$useLineGroups=function(){return this.session.getUseWrapMode()},this.destroy=function(){}}).call(t.prototype),M.Text=t}),ace.define("ace/layer/cursor",["require","exports","module","ace/lib/dom"],function(c,M,W){var R=c("../lib/dom"),E=function(h){this.element=R.createElement("div"),this.element.className="ace_layer ace_cursor-layer",h.appendChild(this.element),this.isVisible=!1,this.isBlinking=!0,this.blinkInterval=1e3,this.smoothBlinking=!1,this.cursors=[],this.cursor=this.addCursor(),R.addCssClass(this.element,"ace_hidden-cursors"),this.$updateCursors=this.$updateOpacity.bind(this)};(function(){this.$updateOpacity=function(h){for(var a=this.cursors,l=a.length;l--;)R.setStyle(a[l].style,"opacity",h?"":"0")},this.$startCssAnimation=function(){for(var h=this.cursors,a=h.length;a--;)h[a].style.animationDuration=this.blinkInterval+"ms";setTimeout((function(){R.addCssClass(this.element,"ace_animate-blinking")}).bind(this))},this.$stopCssAnimation=function(){R.removeCssClass(this.element,"ace_animate-blinking")},this.$padding=0,this.setPadding=function(h){this.$padding=h},this.setSession=function(h){this.session=h},this.setBlinking=function(h){h!=this.isBlinking&&(this.isBlinking=h,this.restartTimer())},this.setBlinkInterval=function(h){h!=this.blinkInterval&&(this.blinkInterval=h,this.restartTimer())},this.setSmoothBlinking=function(h){h!=this.smoothBlinking&&(this.smoothBlinking=h,R.setCssClass(this.element,"ace_smooth-blinking",h),this.$updateCursors(!0),this.restartTimer())},this.addCursor=function(){var h=R.createElement("div");return h.className="ace_cursor",this.element.appendChild(h),this.cursors.push(h),h},this.removeCursor=function(){if(this.cursors.length>1){var h=this.cursors.pop();return h.parentNode.removeChild(h),h}},this.hideCursor=function(){this.isVisible=!1,R.addCssClass(this.element,"ace_hidden-cursors"),this.restartTimer()},this.showCursor=function(){this.isVisible=!0,R.removeCssClass(this.element,"ace_hidden-cursors"),this.restartTimer()},this.restartTimer=function(){var h=this.$updateCursors;if(clearInterval(this.intervalId),clearTimeout(this.timeoutId),this.$stopCssAnimation(),this.smoothBlinking&&R.removeCssClass(this.element,"ace_smooth-blinking"),h(!0),!this.isBlinking||!this.blinkInterval||!this.isVisible){this.$stopCssAnimation();return}if(this.smoothBlinking&&setTimeout((function(){R.addCssClass(this.element,"ace_smooth-blinking")}).bind(this)),R.HAS_CSS_ANIMATION)this.$startCssAnimation();else{var a=(function(){this.timeoutId=setTimeout(function(){h(!1)},.6*this.blinkInterval)}).bind(this);this.intervalId=setInterval(function(){h(!0),a()},this.blinkInterval),a()}},this.getPixelPosition=function(h,a){if(!this.config||!this.session)return{left:0,top:0};h||(h=this.session.selection.getCursor());var l=this.session.documentToScreenPosition(h),t=this.$padding+(this.session.$bidiHandler.isBidiRow(l.row,h.row)?this.session.$bidiHandler.getPosLeft(l.column):l.column*this.config.characterWidth),e=(l.row-(a?this.config.firstRowScreen:0))*this.config.lineHeight;return{left:t,top:e}},this.isCursorInView=function(h,a){return h.top>=0&&h.top<a.maxHeight},this.update=function(h){this.config=h;var a=this.session.$selectionMarkers,l=0,t=0;(a===void 0||a.length===0)&&(a=[{cursor:null}]);for(var l=0,e=a.length;l<e;l++){var r=this.getPixelPosition(a[l].cursor,!0);if(!((r.top>h.height+h.offset||r.top<0)&&l>1)){var n=this.cursors[t++]||this.addCursor(),i=n.style;this.drawCursor?this.drawCursor(n,r,h,a[l],this.session):this.isCursorInView(r,h)?(R.setStyle(i,"display","block"),R.translate(n,r.left,r.top),R.setStyle(i,"width",Math.round(h.characterWidth)+"px"),R.setStyle(i,"height",h.lineHeight+"px")):R.setStyle(i,"display","none")}}for(;this.cursors.length>t;)this.removeCursor();var s=this.session.getOverwrite();this.$setOverwrite(s),this.$pixelPos=r,this.restartTimer()},this.drawCursor=null,this.$setOverwrite=function(h){h!=this.overwrite&&(this.overwrite=h,h?R.addCssClass(this.element,"ace_overwrite-cursors"):R.removeCssClass(this.element,"ace_overwrite-cursors"))},this.destroy=function(){clearInterval(this.intervalId),clearTimeout(this.timeoutId)}}).call(E.prototype),M.Cursor=E}),ace.define("ace/scrollbar",["require","exports","module","ace/lib/oop","ace/lib/dom","ace/lib/event","ace/lib/event_emitter"],function(c,M,W){var R=c("./lib/oop"),E=c("./lib/dom"),h=c("./lib/event"),a=c("./lib/event_emitter").EventEmitter,l=32768,t=function(n){this.element=E.createElement("div"),this.element.className="ace_scrollbar ace_scrollbar"+this.classSuffix,this.inner=E.createElement("div"),this.inner.className="ace_scrollbar-inner",this.inner.textContent="",this.element.appendChild(this.inner),n.appendChild(this.element),this.setVisible(!1),this.skipEvent=!1,h.addListener(this.element,"scroll",this.onScroll.bind(this)),h.addListener(this.element,"mousedown",h.preventDefault)};(function(){R.implement(this,a),this.setVisible=function(n){this.element.style.display=n?"":"none",this.isVisible=n,this.coeff=1}}).call(t.prototype);var e=function(n,i){t.call(this,n),this.scrollTop=0,this.scrollHeight=0,i.$scrollbarWidth=this.width=E.scrollbarWidth(n.ownerDocument),this.inner.style.width=this.element.style.width=(this.width||15)+5+"px",this.$minWidth=0};R.inherits(e,t),(function(){this.classSuffix="-v",this.onScroll=function(){if(!this.skipEvent){if(this.scrollTop=this.element.scrollTop,this.coeff!=1){var n=this.element.clientHeight/this.scrollHeight;this.scrollTop=this.scrollTop*(1-n)/(this.coeff-n)}this._emit("scroll",{data:this.scrollTop})}this.skipEvent=!1},this.getWidth=function(){return Math.max(this.isVisible?this.width:0,this.$minWidth||0)},this.setHeight=function(n){this.element.style.height=n+"px"},this.setInnerHeight=this.setScrollHeight=function(n){this.scrollHeight=n,n>l?(this.coeff=l/n,n=l):this.coeff!=1&&(this.coeff=1),this.inner.style.height=n+"px"},this.setScrollTop=function(n){this.scrollTop!=n&&(this.skipEvent=!0,this.scrollTop=n,this.element.scrollTop=n*this.coeff)}}).call(e.prototype);var r=function(n,i){t.call(this,n),this.scrollLeft=0,this.height=i.$scrollbarWidth,this.inner.style.height=this.element.style.height=(this.height||15)+5+"px"};R.inherits(r,t),(function(){this.classSuffix="-h",this.onScroll=function(){this.skipEvent||(this.scrollLeft=this.element.scrollLeft,this._emit("scroll",{data:this.scrollLeft})),this.skipEvent=!1},this.getHeight=function(){return this.isVisible?this.height:0},this.setWidth=function(n){this.element.style.width=n+"px"},this.setInnerWidth=function(n){this.inner.style.width=n+"px"},this.setScrollWidth=function(n){this.inner.style.width=n+"px"},this.setScrollLeft=function(n){this.scrollLeft!=n&&(this.skipEvent=!0,this.scrollLeft=this.element.scrollLeft=n)}}).call(r.prototype),M.ScrollBar=e,M.ScrollBarV=e,M.ScrollBarH=r,M.VScrollBar=e,M.HScrollBar=r}),ace.define("ace/renderloop",["require","exports","module","ace/lib/event"],function(c,M,W){var R=c("./lib/event"),E=function(h,a){this.onRender=h,this.pending=!1,this.changes=0,this.$recursionLimit=2,this.window=a||window;var l=this;this._flush=function(t){l.pending=!1;var e=l.changes;if(e&&(R.blockIdle(100),l.changes=0,l.onRender(e)),l.changes){if(l.$recursionLimit--<0)return;l.schedule()}else l.$recursionLimit=2}};(function(){this.schedule=function(h){this.changes=this.changes|h,this.changes&&!this.pending&&(R.nextFrame(this._flush),this.pending=!0)},this.clear=function(h){var a=this.changes;return this.changes=0,a}}).call(E.prototype),M.RenderLoop=E}),ace.define("ace/layer/font_metrics",["require","exports","module","ace/lib/oop","ace/lib/dom","ace/lib/lang","ace/lib/event","ace/lib/useragent","ace/lib/event_emitter"],function(c,M,W){var R=c("../lib/oop"),E=c("../lib/dom"),h=c("../lib/lang"),a=c("../lib/event"),l=c("../lib/useragent"),t=c("../lib/event_emitter").EventEmitter,e=256,r=typeof ResizeObserver=="function",n=200,i=M.FontMetrics=function(s){this.el=E.createElement("div"),this.$setMeasureNodeStyles(this.el.style,!0),this.$main=E.createElement("div"),this.$setMeasureNodeStyles(this.$main.style),this.$measureNode=E.createElement("div"),this.$setMeasureNodeStyles(this.$measureNode.style),this.el.appendChild(this.$main),this.el.appendChild(this.$measureNode),s.appendChild(this.el),this.$measureNode.textContent=h.stringRepeat("X",e),this.$characterSize={width:0,height:0},r?this.$addObserver():this.checkForSizeChanges()};(function(){R.implement(this,t),this.$characterSize={width:0,height:0},this.$setMeasureNodeStyles=function(s,d){s.width=s.height="auto",s.left=s.top="0px",s.visibility="hidden",s.position="absolute",s.whiteSpace="pre",l.isIE<8?s["font-family"]="inherit":s.font="inherit",s.overflow=d?"hidden":"visible"},this.checkForSizeChanges=function(s){if(s===void 0&&(s=this.$measureSizes()),s&&(this.$characterSize.width!==s.width||this.$characterSize.height!==s.height)){this.$measureNode.style.fontWeight="bold";var d=this.$measureSizes();this.$measureNode.style.fontWeight="",this.$characterSize=s,this.charSizes=Object.create(null),this.allowBoldFonts=d&&d.width===s.width&&d.height===s.height,this._emit("changeCharacterSize",{data:s})}},this.$addObserver=function(){var s=this;this.$observer=new window.ResizeObserver(function(d){s.checkForSizeChanges()}),this.$observer.observe(this.$measureNode)},this.$pollSizeChanges=function(){if(this.$pollSizeChangesTimer||this.$observer)return this.$pollSizeChangesTimer;var s=this;return this.$pollSizeChangesTimer=a.onIdle(function d(){s.checkForSizeChanges(),a.onIdle(d,500)},500)},this.setPolling=function(s){s?this.$pollSizeChanges():this.$pollSizeChangesTimer&&(clearInterval(this.$pollSizeChangesTimer),this.$pollSizeChangesTimer=0)},this.$measureSizes=function(s){var d={height:(s||this.$measureNode).clientHeight,width:(s||this.$measureNode).clientWidth/e};return d.width===0||d.height===0?null:d},this.$measureCharWidth=function(s){this.$main.textContent=h.stringRepeat(s,e);var d=this.$main.getBoundingClientRect();return d.width/e},this.getCharacterWidth=function(s){var d=this.charSizes[s];return d===void 0&&(d=this.charSizes[s]=this.$measureCharWidth(s)/this.$characterSize.width),d},this.destroy=function(){clearInterval(this.$pollSizeChangesTimer),this.$observer&&this.$observer.disconnect(),this.el&&this.el.parentNode&&this.el.parentNode.removeChild(this.el)},this.$getZoom=function s(d){return!d||!d.parentElement?1:(window.getComputedStyle(d).zoom||1)*s(d.parentElement)},this.$initTransformMeasureNodes=function(){var s=function(d,v){return["div",{style:"position: absolute;top:"+d+"px;left:"+v+"px;"}]};this.els=E.buildDom([s(0,0),s(n,0),s(0,n),s(n,n)],this.el)},this.transformCoordinates=function(s,d){if(s){var v=this.$getZoom(this.el);s=o(1/v,s)}function y(q,ue,J){var ee=q[1]*ue[0]-q[0]*ue[1];return[(-ue[1]*J[0]+ue[0]*J[1])/ee,(+q[1]*J[0]-q[0]*J[1])/ee]}function k(q,ue){return[q[0]-ue[0],q[1]-ue[1]]}function p(q,ue){return[q[0]+ue[0],q[1]+ue[1]]}function o(q,ue){return[q*ue[0],q*ue[1]]}this.els||this.$initTransformMeasureNodes();function f(q){var ue=q.getBoundingClientRect();return[ue.left,ue.top]}var w=f(this.els[0]),g=f(this.els[1]),m=f(this.els[2]),u=f(this.els[3]),F=y(k(u,g),k(u,m),k(p(g,m),p(u,w))),S=o(1+F[0],k(g,w)),L=o(1+F[1],k(m,w));if(d){var A=d,P=F[0]*A[0]/n+F[1]*A[1]/n+1,H=p(o(A[0],S),o(A[1],L));return p(o(1/P/n,H),w)}var j=k(s,w),le=y(k(S,o(F[0],j)),k(L,o(F[1],j)),j);return o(n,le)}}).call(i.prototype)}),ace.define("ace/virtual_renderer",["require","exports","module","ace/lib/oop","ace/lib/dom","ace/config","ace/layer/gutter","ace/layer/marker","ace/layer/text","ace/layer/cursor","ace/scrollbar","ace/scrollbar","ace/renderloop","ace/layer/font_metrics","ace/lib/event_emitter","ace/lib/useragent"],function(c,M,W){var R=c("./lib/oop"),E=c("./lib/dom"),h=c("./config"),a=c("./layer/gutter").Gutter,l=c("./layer/marker").Marker,t=c("./layer/text").Text,e=c("./layer/cursor").Cursor,r=c("./scrollbar").HScrollBar,n=c("./scrollbar").VScrollBar,i=c("./renderloop").RenderLoop,s=c("./layer/font_metrics").FontMetrics,d=c("./lib/event_emitter").EventEmitter,v=`	.ace_br1 {border-top-left-radius    : 3px;}	.ace_br2 {border-top-right-radius   : 3px;}	.ace_br3 {border-top-left-radius    : 3px; border-top-right-radius:    3px;}	.ace_br4 {border-bottom-right-radius: 3px;}	.ace_br5 {border-top-left-radius    : 3px; border-bottom-right-radius: 3px;}	.ace_br6 {border-top-right-radius   : 3px; border-bottom-right-radius: 3px;}	.ace_br7 {border-top-left-radius    : 3px; border-top-right-radius:    3px; border-bottom-right-radius: 3px;}	.ace_br8 {border-bottom-left-radius : 3px;}	.ace_br9 {border-top-left-radius    : 3px; border-bottom-left-radius:  3px;}	.ace_br10{border-top-right-radius   : 3px; border-bottom-left-radius:  3px;}	.ace_br11{border-top-left-radius    : 3px; border-top-right-radius:    3px; border-bottom-left-radius:  3px;}	.ace_br12{border-bottom-right-radius: 3px; border-bottom-left-radius:  3px;}	.ace_br13{border-top-left-radius    : 3px; border-bottom-right-radius: 3px; border-bottom-left-radius:  3px;}	.ace_br14{border-top-right-radius   : 3px; border-bottom-right-radius: 3px; border-bottom-left-radius:  3px;}	.ace_br15{border-top-left-radius    : 3px; border-top-right-radius:    3px; border-bottom-right-radius: 3px; border-bottom-left-radius: 3px;}	.ace_editor {	position: relative;	overflow: hidden;	padding: 0;	font: 12px/normal 'Monaco', 'Menlo', 'Ubuntu Mono', 'Consolas', 'source-code-pro', monospace;	direction: ltr;	text-align: left;	-webkit-tap-highlight-color: rgba(0, 0, 0, 0);	}	.ace_scroller {	position: absolute;	overflow: hidden;	top: 0;	bottom: 0;	background-color: inherit;	-ms-user-select: none;	-moz-user-select: none;	-webkit-user-select: none;	user-select: none;	cursor: text;	}	.ace_content {	position: absolute;	box-sizing: border-box;	min-width: 100%;	contain: style size layout;	font-variant-ligatures: no-common-ligatures;	}	.ace_dragging .ace_scroller:before{	position: absolute;	top: 0;	left: 0;	right: 0;	bottom: 0;	content: '';	background: rgba(250, 250, 250, 0.01);	z-index: 1000;	}	.ace_dragging.ace_dark .ace_scroller:before{	background: rgba(0, 0, 0, 0.01);	}	.ace_selecting, .ace_selecting * {	cursor: text !important;	}	.ace_gutter {	position: absolute;	overflow : hidden;	width: auto;	top: 0;	bottom: 0;	left: 0;	cursor: default;	z-index: 4;	-ms-user-select: none;	-moz-user-select: none;	-webkit-user-select: none;	user-select: none;	contain: style size layout;	}	.ace_gutter-active-line {	position: absolute;	left: 0;	right: 0;	}	.ace_scroller.ace_scroll-left {	box-shadow: 17px 0 16px -16px rgba(0, 0, 0, 0.4) inset;	}	.ace_gutter-cell {	position: absolute;	top: 0;	left: 0;	right: 0;	padding-left: 19px;	padding-right: 6px;	background-repeat: no-repeat;	}	.ace_gutter-cell.ace_error {	background-image: url("data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABAAAAAQCAMAAAAoLQ9TAAABOFBMVEX/////////QRswFAb/Ui4wFAYwFAYwFAaWGAfDRymzOSH/PxswFAb/SiUwFAYwFAbUPRvjQiDllog5HhHdRybsTi3/Tyv9Tir+Syj/UC3////XurebMBIwFAb/RSHbPx/gUzfdwL3kzMivKBAwFAbbvbnhPx66NhowFAYwFAaZJg8wFAaxKBDZurf/RB6mMxb/SCMwFAYwFAbxQB3+RB4wFAb/Qhy4Oh+4QifbNRcwFAYwFAYwFAb/QRzdNhgwFAYwFAbav7v/Uy7oaE68MBK5LxLewr/r2NXewLswFAaxJw4wFAbkPRy2PyYwFAaxKhLm1tMwFAazPiQwFAaUGAb/QBrfOx3bvrv/VC/maE4wFAbRPBq6MRO8Qynew8Dp2tjfwb0wFAbx6eju5+by6uns4uH9/f36+vr/GkHjAAAAYnRSTlMAGt+64rnWu/bo8eAA4InH3+DwoN7j4eLi4xP99Nfg4+b+/u9B/eDs1MD1mO7+4PHg2MXa347g7vDizMLN4eG+Pv7i5evs/v79yu7S3/DV7/498Yv24eH+4ufQ3Ozu/v7+y13sRqwAAADLSURBVHjaZc/XDsFgGIBhtDrshlitmk2IrbHFqL2pvXf/+78DPokj7+Fz9qpU/9UXJIlhmPaTaQ6QPaz0mm+5gwkgovcV6GZzd5JtCQwgsxoHOvJO15kleRLAnMgHFIESUEPmawB9ngmelTtipwwfASilxOLyiV5UVUyVAfbG0cCPHig+GBkzAENHS0AstVF6bacZIOzgLmxsHbt2OecNgJC83JERmePUYq8ARGkJx6XtFsdddBQgZE2nPR6CICZhawjA4Fb/chv+399kfR+MMMDGOQAAAABJRU5ErkJggg==");	background-repeat: no-repeat;	background-position: 2px center;	}	.ace_gutter-cell.ace_warning {	background-image: url("data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABAAAAAQCAMAAAAoLQ9TAAAAmVBMVEX///8AAAD///8AAAAAAABPSzb/5sAAAAB/blH/73z/ulkAAAAAAAD85pkAAAAAAAACAgP/vGz/rkDerGbGrV7/pkQICAf////e0IsAAAD/oED/qTvhrnUAAAD/yHD/njcAAADuv2r/nz//oTj/p064oGf/zHAAAAA9Nir/tFIAAAD/tlTiuWf/tkIAAACynXEAAAAAAAAtIRW7zBpBAAAAM3RSTlMAABR1m7RXO8Ln31Z36zT+neXe5OzooRDfn+TZ4p3h2hTf4t3k3ucyrN1K5+Xaks52Sfs9CXgrAAAAjklEQVR42o3PbQ+CIBQFYEwboPhSYgoYunIqqLn6/z8uYdH8Vmdnu9vz4WwXgN/xTPRD2+sgOcZjsge/whXZgUaYYvT8QnuJaUrjrHUQreGczuEafQCO/SJTufTbroWsPgsllVhq3wJEk2jUSzX3CUEDJC84707djRc5MTAQxoLgupWRwW6UB5fS++NV8AbOZgnsC7BpEAAAAABJRU5ErkJggg==");	background-position: 2px center;	}	.ace_gutter-cell.ace_info {	background-image: url("data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABAAAAAQCAAAAAA6mKC9AAAAGXRFWHRTb2Z0d2FyZQBBZG9iZSBJbWFnZVJlYWR5ccllPAAAAAJ0Uk5TAAB2k804AAAAPklEQVQY02NgIB68QuO3tiLznjAwpKTgNyDbMegwisCHZUETUZV0ZqOquBpXj2rtnpSJT1AEnnRmL2OgGgAAIKkRQap2htgAAAAASUVORK5CYII=");	background-position: 2px center;	}	.ace_dark .ace_gutter-cell.ace_info {	background-image: url("data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABAAAAAQBAMAAADt3eJSAAAAJFBMVEUAAAChoaGAgIAqKiq+vr6tra1ZWVmUlJSbm5s8PDxubm56enrdgzg3AAAAAXRSTlMAQObYZgAAAClJREFUeNpjYMAPdsMYHegyJZFQBlsUlMFVCWUYKkAZMxZAGdxlDMQBAG+TBP4B6RyJAAAAAElFTkSuQmCC");	}	.ace_scrollbar {	contain: strict;	position: absolute;	right: 0;	bottom: 0;	z-index: 6;	}	.ace_scrollbar-inner {	position: absolute;	cursor: text;	left: 0;	top: 0;	}	.ace_scrollbar-v{	overflow-x: hidden;	overflow-y: scroll;	top: 0;	}	.ace_scrollbar-h {	overflow-x: scroll;	overflow-y: hidden;	left: 0;	}	.ace_print-margin {	position: absolute;	height: 100%;	}	.ace_text-input {	position: absolute;	z-index: 0;	width: 0.5em;	height: 1em;	opacity: 0;	background: transparent;	-moz-appearance: none;	appearance: none;	border: none;	resize: none;	outline: none;	overflow: hidden;	font: inherit;	padding: 0 1px;	margin: 0 -1px;	contain: strict;	-ms-user-select: text;	-moz-user-select: text;	-webkit-user-select: text;	user-select: text;	white-space: pre!important;	}	.ace_text-input.ace_composition {	background: transparent;	color: inherit;	z-index: 1000;	opacity: 1;	}	.ace_composition_placeholder { color: transparent }	.ace_composition_marker { 	border-bottom: 1px solid;	position: absolute;	border-radius: 0;	margin-top: 1px;	}	[ace_nocontext=true] {	transform: none!important;	filter: none!important;	clip-path: none!important;	mask : none!important;	contain: none!important;	perspective: none!important;	mix-blend-mode: initial!important;	z-index: auto;	}	.ace_layer {	z-index: 1;	position: absolute;	overflow: hidden;	word-wrap: normal;	white-space: pre;	height: 100%;	width: 100%;	box-sizing: border-box;	pointer-events: none;	}	.ace_gutter-layer {	position: relative;	width: auto;	text-align: right;	pointer-events: auto;	height: 1000000px;	contain: style size layout;	}	.ace_text-layer {	font: inherit !important;	position: absolute;	height: 1000000px;	width: 1000000px;	contain: style size layout;	}	.ace_text-layer > .ace_line, .ace_text-layer > .ace_line_group {	contain: style size layout;	position: absolute;	top: 0;	left: 0;	right: 0;	}	.ace_hidpi .ace_text-layer,	.ace_hidpi .ace_gutter-layer,	.ace_hidpi .ace_content,	.ace_hidpi .ace_gutter {	contain: strict;	will-change: transform;	}	.ace_hidpi .ace_text-layer > .ace_line, 	.ace_hidpi .ace_text-layer > .ace_line_group {	contain: strict;	}	.ace_cjk {	display: inline-block;	text-align: center;	}	.ace_cursor-layer {	z-index: 4;	}	.ace_cursor {	z-index: 4;	position: absolute;	box-sizing: border-box;	border-left: 2px solid;	transform: translatez(0);	}	.ace_multiselect .ace_cursor {	border-left-width: 1px;	}	.ace_slim-cursors .ace_cursor {	border-left-width: 1px;	}	.ace_overwrite-cursors .ace_cursor {	border-left-width: 0;	border-bottom: 1px solid;	}	.ace_hidden-cursors .ace_cursor {	opacity: 0.2;	}	.ace_hasPlaceholder .ace_hidden-cursors .ace_cursor {	opacity: 0;	}	.ace_smooth-blinking .ace_cursor {	transition: opacity 0.18s;	}	.ace_animate-blinking .ace_cursor {	animation-duration: 1000ms;	animation-timing-function: step-end;	animation-name: blink-ace-animate;	animation-iteration-count: infinite;	}	.ace_animate-blinking.ace_smooth-blinking .ace_cursor {	animation-duration: 1000ms;	animation-timing-function: ease-in-out;	animation-name: blink-ace-animate-smooth;	}	@keyframes blink-ace-animate {	from, to { opacity: 1; }	60% { opacity: 0; }	}	@keyframes blink-ace-animate-smooth {	from, to { opacity: 1; }	45% { opacity: 1; }	60% { opacity: 0; }	85% { opacity: 0; }	}	.ace_marker-layer .ace_step, .ace_marker-layer .ace_stack {	position: absolute;	z-index: 3;	}	.ace_marker-layer .ace_selection {	position: absolute;	z-index: 5;	}	.ace_marker-layer .ace_bracket {	position: absolute;	z-index: 6;	}	.ace_marker-layer .ace_error_bracket {	position: absolute;	border-bottom: 1px solid #DE5555;	border-radius: 0;	}	.ace_marker-layer .ace_active-line {	position: absolute;	z-index: 2;	}	.ace_marker-layer .ace_selected-word {	position: absolute;	z-index: 4;	box-sizing: border-box;	}	.ace_line .ace_fold {	box-sizing: border-box;	display: inline-block;	height: 11px;	margin-top: -2px;	vertical-align: middle;	background-image:	url("data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABEAAAAJCAYAAADU6McMAAAAGXRFWHRTb2Z0d2FyZQBBZG9iZSBJbWFnZVJlYWR5ccllPAAAAJpJREFUeNpi/P//PwOlgAXGYGRklAVSokD8GmjwY1wasKljQpYACtpCFeADcHVQfQyMQAwzwAZI3wJKvCLkfKBaMSClBlR7BOQikCFGQEErIH0VqkabiGCAqwUadAzZJRxQr/0gwiXIal8zQQPnNVTgJ1TdawL0T5gBIP1MUJNhBv2HKoQHHjqNrA4WO4zY0glyNKLT2KIfIMAAQsdgGiXvgnYAAAAASUVORK5CYII="),	url("data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAEAAAA3CAYAAADNNiA5AAAAGXRFWHRTb2Z0d2FyZQBBZG9iZSBJbWFnZVJlYWR5ccllPAAAACJJREFUeNpi+P//fxgTAwPDBxDxD078RSX+YeEyDFMCIMAAI3INmXiwf2YAAAAASUVORK5CYII=");	background-repeat: no-repeat, repeat-x;	background-position: center center, top left;	color: transparent;	border: 1px solid black;	border-radius: 2px;	cursor: pointer;	pointer-events: auto;	}	.ace_dark .ace_fold {	}	.ace_fold:hover{	background-image:	url("data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABEAAAAJCAYAAADU6McMAAAAGXRFWHRTb2Z0d2FyZQBBZG9iZSBJbWFnZVJlYWR5ccllPAAAAJpJREFUeNpi/P//PwOlgAXGYGRklAVSokD8GmjwY1wasKljQpYACtpCFeADcHVQfQyMQAwzwAZI3wJKvCLkfKBaMSClBlR7BOQikCFGQEErIH0VqkabiGCAqwUadAzZJRxQr/0gwiXIal8zQQPnNVTgJ1TdawL0T5gBIP1MUJNhBv2HKoQHHjqNrA4WO4zY0glyNKLT2KIfIMAAQsdgGiXvgnYAAAAASUVORK5CYII="),	url("data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAEAAAA3CAYAAADNNiA5AAAAGXRFWHRTb2Z0d2FyZQBBZG9iZSBJbWFnZVJlYWR5ccllPAAAACBJREFUeNpi+P//fz4TAwPDZxDxD5X4i5fLMEwJgAADAEPVDbjNw87ZAAAAAElFTkSuQmCC");	}	.ace_tooltip {	background-color: #FFF;	background-image: linear-gradient(to bottom, transparent, rgba(0, 0, 0, 0.1));	border: 1px solid gray;	border-radius: 1px;	box-shadow: 0 1px 2px rgba(0, 0, 0, 0.3);	color: black;	max-width: 100%;	padding: 3px 4px;	position: fixed;	z-index: 999999;	box-sizing: border-box;	cursor: default;	white-space: pre;	word-wrap: break-word;	line-height: normal;	font-style: normal;	font-weight: normal;	letter-spacing: normal;	pointer-events: none;	}	.ace_folding-enabled > .ace_gutter-cell {	padding-right: 13px;	}	.ace_fold-widget {	box-sizing: border-box;	margin: 0 -12px 0 1px;	display: none;	width: 11px;	vertical-align: top;	background-image: url("data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAUAAAAFCAYAAACNbyblAAAANElEQVR42mWKsQ0AMAzC8ixLlrzQjzmBiEjp0A6WwBCSPgKAXoLkqSot7nN3yMwR7pZ32NzpKkVoDBUxKAAAAABJRU5ErkJggg==");	background-repeat: no-repeat;	background-position: center;	border-radius: 3px;	border: 1px solid transparent;	cursor: pointer;	}	.ace_folding-enabled .ace_fold-widget {	display: inline-block;   	}	.ace_fold-widget.ace_end {	background-image: url("data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAUAAAAFCAYAAACNbyblAAAANElEQVR42m3HwQkAMAhD0YzsRchFKI7sAikeWkrxwScEB0nh5e7KTPWimZki4tYfVbX+MNl4pyZXejUO1QAAAABJRU5ErkJggg==");	}	.ace_fold-widget.ace_closed {	background-image: url("data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAMAAAAGCAYAAAAG5SQMAAAAOUlEQVR42jXKwQkAMAgDwKwqKD4EwQ26sSOkVWjgIIHAzPiCgaqiqnJHZnKICBERHN194O5b9vbLuAVRL+l0YWnZAAAAAElFTkSuQmCCXA==");	}	.ace_fold-widget:hover {	border: 1px solid rgba(0, 0, 0, 0.3);	background-color: rgba(255, 255, 255, 0.2);	box-shadow: 0 1px 1px rgba(255, 255, 255, 0.7);	}	.ace_fold-widget:active {	border: 1px solid rgba(0, 0, 0, 0.4);	background-color: rgba(0, 0, 0, 0.05);	box-shadow: 0 1px 1px rgba(255, 255, 255, 0.8);	}	.ace_dark .ace_fold-widget {	background-image: url("data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAUAAAAFCAYAAACNbyblAAAAHklEQVQIW2P4//8/AzoGEQ7oGCaLLAhWiSwB146BAQCSTPYocqT0AAAAAElFTkSuQmCC");	}	.ace_dark .ace_fold-widget.ace_end {	background-image: url("data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAUAAAAFCAYAAACNbyblAAAAH0lEQVQIW2P4//8/AxQ7wNjIAjDMgC4AxjCVKBirIAAF0kz2rlhxpAAAAABJRU5ErkJggg==");	}	.ace_dark .ace_fold-widget.ace_closed {	background-image: url("data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAMAAAAFCAYAAACAcVaiAAAAHElEQVQIW2P4//+/AxAzgDADlOOAznHAKgPWAwARji8UIDTfQQAAAABJRU5ErkJggg==");	}	.ace_dark .ace_fold-widget:hover {	box-shadow: 0 1px 1px rgba(255, 255, 255, 0.2);	background-color: rgba(255, 255, 255, 0.1);	}	.ace_dark .ace_fold-widget:active {	box-shadow: 0 1px 1px rgba(255, 255, 255, 0.2);	}	.ace_inline_button {	border: 1px solid lightgray;	display: inline-block;	margin: -1px 8px;	padding: 0 5px;	pointer-events: auto;	cursor: pointer;	}	.ace_inline_button:hover {	border-color: gray;	background: rgba(200,200,200,0.2);	display: inline-block;	pointer-events: auto;	}	.ace_fold-widget.ace_invalid {	background-color: #FFB4B4;	border-color: #DE5555;	}	.ace_fade-fold-widgets .ace_fold-widget {	transition: opacity 0.4s ease 0.05s;	opacity: 0;	}	.ace_fade-fold-widgets:hover .ace_fold-widget {	transition: opacity 0.05s ease 0.05s;	opacity:1;	}	.ace_underline {	text-decoration: underline;	}	.ace_bold {	font-weight: bold;	}	.ace_nobold .ace_bold {	font-weight: normal;	}	.ace_italic {	font-style: italic;	}	.ace_error-marker {	background-color: rgba(255, 0, 0,0.2);	position: absolute;	z-index: 9;	}	.ace_highlight-marker {	background-color: rgba(255, 255, 0,0.2);	position: absolute;	z-index: 8;	}	.ace_mobile-menu {	position: absolute;	line-height: 1.5;	border-radius: 4px;	-ms-user-select: none;	-moz-user-select: none;	-webkit-user-select: none;	user-select: none;	background: white;	box-shadow: 1px 3px 2px grey;	border: 1px solid #dcdcdc;	color: black;	}	.ace_dark > .ace_mobile-menu {	background: #333;	color: #ccc;	box-shadow: 1px 3px 2px grey;	border: 1px solid #444;	}	.ace_mobile-button {	padding: 2px;	cursor: pointer;	overflow: hidden;	}	.ace_mobile-button:hover {	background-color: #eee;	opacity:1;	}	.ace_mobile-button:active {	background-color: #ddd;	}	.ace_placeholder {	font-family: arial;	transform: scale(0.9);	transform-origin: left;	white-space: pre;	opacity: 0.7;	margin: 0 10px;	}`,y=c("./lib/useragent"),k=y.isIE;E.importCssString(v,"ace_editor.css");var p=function(o,f){var w=this;this.container=o||E.createElement("div"),E.addCssClass(this.container,"ace_editor"),E.HI_DPI&&E.addCssClass(this.container,"ace_hidpi"),this.setTheme(f),this.$gutter=E.createElement("div"),this.$gutter.className="ace_gutter",this.container.appendChild(this.$gutter),this.$gutter.setAttribute("aria-hidden",!0),this.scroller=E.createElement("div"),this.scroller.className="ace_scroller",this.container.appendChild(this.scroller),this.content=E.createElement("div"),this.content.className="ace_content",this.scroller.appendChild(this.content),this.$gutterLayer=new a(this.$gutter),this.$gutterLayer.on("changeGutterWidth",this.onGutterResize.bind(this)),this.$markerBack=new l(this.content);var g=this.$textLayer=new t(this.content);this.canvas=g.element,this.$markerFront=new l(this.content),this.$cursorLayer=new e(this.content),this.$horizScroll=!1,this.$vScroll=!1,this.scrollBar=this.scrollBarV=new n(this.container,this),this.scrollBarH=new r(this.container,this),this.scrollBarV.on("scroll",function(m){w.$scrollAnimation||w.session.setScrollTop(m.data-w.scrollMargin.top)}),this.scrollBarH.on("scroll",function(m){w.$scrollAnimation||w.session.setScrollLeft(m.data-w.scrollMargin.left)}),this.scrollTop=0,this.scrollLeft=0,this.cursorPos={row:0,column:0},this.$fontMetrics=new s(this.container),this.$textLayer.$setFontMetrics(this.$fontMetrics),this.$textLayer.on("changeCharacterSize",function(m){w.updateCharacterSize(),w.onResize(!0,w.gutterWidth,w.$size.width,w.$size.height),w._signal("changeCharacterSize",m)}),this.$size={width:0,height:0,scrollerHeight:0,scrollerWidth:0,$dirty:!0},this.layerConfig={width:1,padding:0,firstRow:0,firstRowScreen:0,lastRow:0,lineHeight:0,characterWidth:0,minHeight:1,maxHeight:1,offset:0,height:1,gutterOffset:1},this.scrollMargin={left:0,right:0,top:0,bottom:0,v:0,h:0},this.margin={left:0,right:0,top:0,bottom:0,v:0,h:0},this.$keepTextAreaAtCursor=!y.isIOS,this.$loop=new i(this.$renderChanges.bind(this),this.container.ownerDocument.defaultView),this.$loop.schedule(this.CHANGE_FULL),this.updateCharacterSize(),this.setPadding(4),h.resetOptions(this),h._signal("renderer",this)};(function(){this.CHANGE_CURSOR=1,this.CHANGE_MARKER=2,this.CHANGE_GUTTER=4,this.CHANGE_SCROLL=8,this.CHANGE_LINES=16,this.CHANGE_TEXT=32,this.CHANGE_SIZE=64,this.CHANGE_MARKER_BACK=128,this.CHANGE_MARKER_FRONT=256,this.CHANGE_FULL=512,this.CHANGE_H_SCROLL=1024,R.implement(this,d),this.updateCharacterSize=function(){this.$textLayer.allowBoldFonts!=this.$allowBoldFonts&&(this.$allowBoldFonts=this.$textLayer.allowBoldFonts,this.setStyle("ace_nobold",!this.$allowBoldFonts)),this.layerConfig.characterWidth=this.characterWidth=this.$textLayer.getCharacterWidth(),this.layerConfig.lineHeight=this.lineHeight=this.$textLayer.getLineHeight(),this.$updatePrintMargin(),E.setStyle(this.scroller.style,"line-height",this.lineHeight+"px")},this.setSession=function(o){this.session&&this.session.doc.off("changeNewLineMode",this.onChangeNewLineMode),this.session=o,o&&this.scrollMargin.top&&o.getScrollTop()<=0&&o.setScrollTop(-this.scrollMargin.top),this.$cursorLayer.setSession(o),this.$markerBack.setSession(o),this.$markerFront.setSession(o),this.$gutterLayer.setSession(o),this.$textLayer.setSession(o),o&&(this.$loop.schedule(this.CHANGE_FULL),this.session.$setFontMetrics(this.$fontMetrics),this.scrollBarH.scrollLeft=this.scrollBarV.scrollTop=null,this.onChangeNewLineMode=this.onChangeNewLineMode.bind(this),this.onChangeNewLineMode(),this.session.doc.on("changeNewLineMode",this.onChangeNewLineMode))},this.updateLines=function(o,f,w){if(f===void 0&&(f=1/0),this.$changedLines?(this.$changedLines.firstRow>o&&(this.$changedLines.firstRow=o),this.$changedLines.lastRow<f&&(this.$changedLines.lastRow=f)):this.$changedLines={firstRow:o,lastRow:f},this.$changedLines.lastRow<this.layerConfig.firstRow)if(w)this.$changedLines.lastRow=this.layerConfig.lastRow;else return;this.$changedLines.firstRow>this.layerConfig.lastRow||this.$loop.schedule(this.CHANGE_LINES)},this.onChangeNewLineMode=function(){this.$loop.schedule(this.CHANGE_TEXT),this.$textLayer.$updateEolChar(),this.session.$bidiHandler.setEolChar(this.$textLayer.EOL_CHAR)},this.onChangeTabSize=function(){this.$loop.schedule(this.CHANGE_TEXT|this.CHANGE_MARKER),this.$textLayer.onChangeTabSize()},this.updateText=function(){this.$loop.schedule(this.CHANGE_TEXT)},this.updateFull=function(o){o?this.$renderChanges(this.CHANGE_FULL,!0):this.$loop.schedule(this.CHANGE_FULL)},this.updateFontSize=function(){this.$textLayer.checkForSizeChanges()},this.$changes=0,this.$updateSizeAsync=function(){this.$loop.pending?this.$size.$dirty=!0:this.onResize()},this.onResize=function(o,f,w,g){if(!(this.resizing>2)){this.resizing>0?this.resizing++:this.resizing=o?1:0;var m=this.container;g||(g=m.clientHeight||m.scrollHeight),w||(w=m.clientWidth||m.scrollWidth);var u=this.$updateCachedSize(o,f,w,g);if(!this.$size.scrollerHeight||!w&&!g)return this.resizing=0;o&&(this.$gutterLayer.$padding=null),o?this.$renderChanges(u|this.$changes,!0):this.$loop.schedule(u|this.$changes),this.resizing&&(this.resizing=0),this.scrollBarV.scrollLeft=this.scrollBarV.scrollTop=null}},this.$updateCachedSize=function(o,f,w,g){g-=this.$extraHeight||0;var m=0,u=this.$size,F={width:u.width,height:u.height,scrollerHeight:u.scrollerHeight,scrollerWidth:u.scrollerWidth};if(g&&(o||u.height!=g)&&(u.height=g,m|=this.CHANGE_SIZE,u.scrollerHeight=u.height,this.$horizScroll&&(u.scrollerHeight-=this.scrollBarH.getHeight()),this.scrollBarV.element.style.bottom=this.scrollBarH.getHeight()+"px",m=m|this.CHANGE_SCROLL),w&&(o||u.width!=w)){m|=this.CHANGE_SIZE,u.width=w,f==null&&(f=this.$showGutter?this.$gutter.offsetWidth:0),this.gutterWidth=f,E.setStyle(this.scrollBarH.element.style,"left",f+"px"),E.setStyle(this.scroller.style,"left",f+this.margin.left+"px"),u.scrollerWidth=Math.max(0,w-f-this.scrollBarV.getWidth()-this.margin.h),E.setStyle(this.$gutter.style,"left",this.margin.left+"px");var S=this.scrollBarV.getWidth()+"px";E.setStyle(this.scrollBarH.element.style,"right",S),E.setStyle(this.scroller.style,"right",S),E.setStyle(this.scroller.style,"bottom",this.scrollBarH.getHeight()),(this.session&&this.session.getUseWrapMode()&&this.adjustWrapLimit()||o)&&(m|=this.CHANGE_FULL)}return u.$dirty=!w||!g,m&&this._signal("resize",F),m},this.onGutterResize=function(o){var f=this.$showGutter?o:0;f!=this.gutterWidth&&(this.$changes|=this.$updateCachedSize(!0,f,this.$size.width,this.$size.height)),this.session.getUseWrapMode()&&this.adjustWrapLimit()?this.$loop.schedule(this.CHANGE_FULL):this.$size.$dirty?this.$loop.schedule(this.CHANGE_FULL):this.$computeLayerConfig()},this.adjustWrapLimit=function(){var o=this.$size.scrollerWidth-this.$padding*2,f=Math.floor(o/this.characterWidth);return this.session.adjustWrapLimit(f,this.$showPrintMargin&&this.$printMarginColumn)},this.setAnimatedScroll=function(o){this.setOption("animatedScroll",o)},this.getAnimatedScroll=function(){return this.$animatedScroll},this.setShowInvisibles=function(o){this.setOption("showInvisibles",o),this.session.$bidiHandler.setShowInvisibles(o)},this.getShowInvisibles=function(){return this.getOption("showInvisibles")},this.getDisplayIndentGuides=function(){return this.getOption("displayIndentGuides")},this.setDisplayIndentGuides=function(o){this.setOption("displayIndentGuides",o)},this.setShowPrintMargin=function(o){this.setOption("showPrintMargin",o)},this.getShowPrintMargin=function(){return this.getOption("showPrintMargin")},this.setPrintMarginColumn=function(o){this.setOption("printMarginColumn",o)},this.getPrintMarginColumn=function(){return this.getOption("printMarginColumn")},this.getShowGutter=function(){return this.getOption("showGutter")},this.setShowGutter=function(o){return this.setOption("showGutter",o)},this.getFadeFoldWidgets=function(){return this.getOption("fadeFoldWidgets")},this.setFadeFoldWidgets=function(o){this.setOption("fadeFoldWidgets",o)},this.setHighlightGutterLine=function(o){this.setOption("highlightGutterLine",o)},this.getHighlightGutterLine=function(){return this.getOption("highlightGutterLine")},this.$updatePrintMargin=function(){if(!(!this.$showPrintMargin&&!this.$printMarginEl)){if(!this.$printMarginEl){var o=E.createElement("div");o.className="ace_layer ace_print-margin-layer",this.$printMarginEl=E.createElement("div"),this.$printMarginEl.className="ace_print-margin",o.appendChild(this.$printMarginEl),this.content.insertBefore(o,this.content.firstChild)}var f=this.$printMarginEl.style;f.left=Math.round(this.characterWidth*this.$printMarginColumn+this.$padding)+"px",f.visibility=this.$showPrintMargin?"visible":"hidden",this.session&&this.session.$wrap==-1&&this.adjustWrapLimit()}},this.getContainerElement=function(){return this.container},this.getMouseEventTarget=function(){return this.scroller},this.getTextAreaContainer=function(){return this.container},this.$moveTextAreaToCursor=function(){if(!this.$isMousePressed){var o=this.textarea.style,f=this.$composition;if(!this.$keepTextAreaAtCursor&&!f){E.translate(this.textarea,-100,0);return}var w=this.$cursorLayer.$pixelPos;if(w){f&&f.markerRange&&(w=this.$cursorLayer.getPixelPosition(f.markerRange.start,!0));var g=this.layerConfig,m=w.top,u=w.left;m-=g.offset;var F=f&&f.useTextareaForIME?this.lineHeight:k?0:1;if(m<0||m>g.height-F){E.translate(this.textarea,0,0);return}var S=1,L=this.$size.height-F;if(!f)m+=this.lineHeight;else if(f.useTextareaForIME){var A=this.textarea.value;S=this.characterWidth*this.session.$getStringScreenWidth(A)[0]}else m+=this.lineHeight+2;u-=this.scrollLeft,u>this.$size.scrollerWidth-S&&(u=this.$size.scrollerWidth-S),u+=this.gutterWidth+this.margin.left,E.setStyle(o,"height",F+"px"),E.setStyle(o,"width",S+"px"),E.translate(this.textarea,Math.min(u,this.$size.scrollerWidth-S),Math.min(m,L))}}},this.getFirstVisibleRow=function(){return this.layerConfig.firstRow},this.getFirstFullyVisibleRow=function(){return this.layerConfig.firstRow+(this.layerConfig.offset===0?0:1)},this.getLastFullyVisibleRow=function(){var o=this.layerConfig,f=o.lastRow,w=this.session.documentToScreenRow(f,0)*o.lineHeight;return w-this.session.getScrollTop()>o.height-o.lineHeight?f-1:f},this.getLastVisibleRow=function(){return this.layerConfig.lastRow},this.$padding=null,this.setPadding=function(o){this.$padding=o,this.$textLayer.setPadding(o),this.$cursorLayer.setPadding(o),this.$markerFront.setPadding(o),this.$markerBack.setPadding(o),this.$loop.schedule(this.CHANGE_FULL),this.$updatePrintMargin()},this.setScrollMargin=function(o,f,w,g){var m=this.scrollMargin;m.top=o|0,m.bottom=f|0,m.right=g|0,m.left=w|0,m.v=m.top+m.bottom,m.h=m.left+m.right,m.top&&this.scrollTop<=0&&this.session&&this.session.setScrollTop(-m.top),this.updateFull()},this.setMargin=function(o,f,w,g){var m=this.margin;m.top=o|0,m.bottom=f|0,m.right=g|0,m.left=w|0,m.v=m.top+m.bottom,m.h=m.left+m.right,this.$updateCachedSize(!0,this.gutterWidth,this.$size.width,this.$size.height),this.updateFull()},this.getHScrollBarAlwaysVisible=function(){return this.$hScrollBarAlwaysVisible},this.setHScrollBarAlwaysVisible=function(o){this.setOption("hScrollBarAlwaysVisible",o)},this.getVScrollBarAlwaysVisible=function(){return this.$vScrollBarAlwaysVisible},this.setVScrollBarAlwaysVisible=function(o){this.setOption("vScrollBarAlwaysVisible",o)},this.$updateScrollBarV=function(){var o=this.layerConfig.maxHeight,f=this.$size.scrollerHeight;!this.$maxLines&&this.$scrollPastEnd&&(o-=(f-this.lineHeight)*this.$scrollPastEnd,this.scrollTop>o-f&&(o=this.scrollTop+f,this.scrollBarV.scrollTop=null)),this.scrollBarV.setScrollHeight(o+this.scrollMargin.v),this.scrollBarV.setScrollTop(this.scrollTop+this.scrollMargin.top)},this.$updateScrollBarH=function(){this.scrollBarH.setScrollWidth(this.layerConfig.width+2*this.$padding+this.scrollMargin.h),this.scrollBarH.setScrollLeft(this.scrollLeft+this.scrollMargin.left)},this.$frozen=!1,this.freeze=function(){this.$frozen=!0},this.unfreeze=function(){this.$frozen=!1},this.$renderChanges=function(o,f){if(this.$changes&&(o|=this.$changes,this.$changes=0),!this.session||!this.container.offsetWidth||this.$frozen||!o&&!f){this.$changes|=o;return}if(this.$size.$dirty)return this.$changes|=o,this.onResize(!0);this.lineHeight||this.$textLayer.checkForSizeChanges(),this._signal("beforeRender",o),this.session&&this.session.$bidiHandler&&this.session.$bidiHandler.updateCharacterWidths(this.$fontMetrics);var w=this.layerConfig;if(o&this.CHANGE_FULL||o&this.CHANGE_SIZE||o&this.CHANGE_TEXT||o&this.CHANGE_LINES||o&this.CHANGE_SCROLL||o&this.CHANGE_H_SCROLL){if(o|=this.$computeLayerConfig()|this.$loop.clear(),w.firstRow!=this.layerConfig.firstRow&&w.firstRowScreen==this.layerConfig.firstRowScreen){var g=this.scrollTop+(w.firstRow-this.layerConfig.firstRow)*this.lineHeight;g>0&&(this.scrollTop=g,o=o|this.CHANGE_SCROLL,o|=this.$computeLayerConfig()|this.$loop.clear())}w=this.layerConfig,this.$updateScrollBarV(),o&this.CHANGE_H_SCROLL&&this.$updateScrollBarH(),E.translate(this.content,-this.scrollLeft,-w.offset);var m=w.width+2*this.$padding+"px",u=w.minHeight+"px";E.setStyle(this.content.style,"width",m),E.setStyle(this.content.style,"height",u)}if(o&this.CHANGE_H_SCROLL&&(E.translate(this.content,-this.scrollLeft,-w.offset),this.scroller.className=this.scrollLeft<=0?"ace_scroller":"ace_scroller ace_scroll-left"),o&this.CHANGE_FULL){this.$changedLines=null,this.$textLayer.update(w),this.$showGutter&&this.$gutterLayer.update(w),this.$markerBack.update(w),this.$markerFront.update(w),this.$cursorLayer.update(w),this.$moveTextAreaToCursor(),this._signal("afterRender",o);return}if(o&this.CHANGE_SCROLL){this.$changedLines=null,o&this.CHANGE_TEXT||o&this.CHANGE_LINES?this.$textLayer.update(w):this.$textLayer.scrollLines(w),this.$showGutter&&(o&this.CHANGE_GUTTER||o&this.CHANGE_LINES?this.$gutterLayer.update(w):this.$gutterLayer.scrollLines(w)),this.$markerBack.update(w),this.$markerFront.update(w),this.$cursorLayer.update(w),this.$moveTextAreaToCursor(),this._signal("afterRender",o);return}o&this.CHANGE_TEXT?(this.$changedLines=null,this.$textLayer.update(w),this.$showGutter&&this.$gutterLayer.update(w)):o&this.CHANGE_LINES?(this.$updateLines()||o&this.CHANGE_GUTTER&&this.$showGutter)&&this.$gutterLayer.update(w):o&this.CHANGE_TEXT||o&this.CHANGE_GUTTER?this.$showGutter&&this.$gutterLayer.update(w):o&this.CHANGE_CURSOR&&this.$highlightGutterLine&&this.$gutterLayer.updateLineHighlight(w),o&this.CHANGE_CURSOR&&(this.$cursorLayer.update(w),this.$moveTextAreaToCursor()),o&(this.CHANGE_MARKER|this.CHANGE_MARKER_FRONT)&&this.$markerFront.update(w),o&(this.CHANGE_MARKER|this.CHANGE_MARKER_BACK)&&this.$markerBack.update(w),this._signal("afterRender",o)},this.$autosize=function(){var o=this.session.getScreenLength()*this.lineHeight,f=this.$maxLines*this.lineHeight,w=Math.min(f,Math.max((this.$minLines||1)*this.lineHeight,o))+this.scrollMargin.v+(this.$extraHeight||0);this.$horizScroll&&(w+=this.scrollBarH.getHeight()),this.$maxPixelHeight&&w>this.$maxPixelHeight&&(w=this.$maxPixelHeight);var g=w<=2*this.lineHeight,m=!g&&o>f;if(w!=this.desiredHeight||this.$size.height!=this.desiredHeight||m!=this.$vScroll){m!=this.$vScroll&&(this.$vScroll=m,this.scrollBarV.setVisible(m));var u=this.container.clientWidth;this.container.style.height=w+"px",this.$updateCachedSize(!0,this.$gutterWidth,u,w),this.desiredHeight=w,this._signal("autosize")}},this.$computeLayerConfig=function(){var o=this.session,f=this.$size,w=f.height<=2*this.lineHeight,g=this.session.getScreenLength(),m=g*this.lineHeight,u=this.$getLongestLine(),F=!w&&(this.$hScrollBarAlwaysVisible||f.scrollerWidth-u-2*this.$padding<0),S=this.$horizScroll!==F;S&&(this.$horizScroll=F,this.scrollBarH.setVisible(F));var L=this.$vScroll;this.$maxLines&&this.lineHeight>1&&this.$autosize();var A=f.scrollerHeight+this.lineHeight,P=!this.$maxLines&&this.$scrollPastEnd?(f.scrollerHeight-this.lineHeight)*this.$scrollPastEnd:0;m+=P;var H=this.scrollMargin;this.session.setScrollTop(Math.max(-H.top,Math.min(this.scrollTop,m-f.scrollerHeight+H.bottom))),this.session.setScrollLeft(Math.max(-H.left,Math.min(this.scrollLeft,u+2*this.$padding-f.scrollerWidth+H.right)));var j=!w&&(this.$vScrollBarAlwaysVisible||f.scrollerHeight-m+P<0||this.scrollTop>H.top),le=L!==j;le&&(this.$vScroll=j,this.scrollBarV.setVisible(j));var q=this.scrollTop%this.lineHeight,ue=Math.ceil(A/this.lineHeight)-1,J=Math.max(0,Math.round((this.scrollTop-q)/this.lineHeight)),ee=J+ue,ie,me,de=this.lineHeight;J=o.screenToDocumentRow(J,0);var Ce=o.getFoldLine(J);Ce&&(J=Ce.start.row),ie=o.documentToScreenRow(J,0),me=o.getRowLength(J)*de,ee=Math.min(o.screenToDocumentRow(ee,0),o.getLength()-1),A=f.scrollerHeight+o.getRowLength(ee)*de+me,q=this.scrollTop-ie*de;var Fe=0;return(this.layerConfig.width!=u||S)&&(Fe=this.CHANGE_H_SCROLL),(S||le)&&(Fe|=this.$updateCachedSize(!0,this.gutterWidth,f.width,f.height),this._signal("scrollbarVisibilityChanged"),le&&(u=this.$getLongestLine())),this.layerConfig={width:u,padding:this.$padding,firstRow:J,firstRowScreen:ie,lastRow:ee,lineHeight:de,characterWidth:this.characterWidth,minHeight:A,maxHeight:m,offset:q,gutterOffset:de?Math.max(0,Math.ceil((q+f.height-f.scrollerHeight)/de)):0,height:this.$size.scrollerHeight},this.session.$bidiHandler&&this.session.$bidiHandler.setContentWidth(u-this.$padding),Fe},this.$updateLines=function(){if(this.$changedLines){var o=this.$changedLines.firstRow,f=this.$changedLines.lastRow;this.$changedLines=null;var w=this.layerConfig;if(!(o>w.lastRow+1)&&!(f<w.firstRow)){if(f===1/0){this.$showGutter&&this.$gutterLayer.update(w),this.$textLayer.update(w);return}return this.$textLayer.updateLines(w,o,f),!0}}},this.$getLongestLine=function(){var o=this.session.getScreenWidth();return this.showInvisibles&&!this.session.$useWrapMode&&(o+=1),this.$textLayer&&o>this.$textLayer.MAX_LINE_LENGTH&&(o=this.$textLayer.MAX_LINE_LENGTH+30),Math.max(this.$size.scrollerWidth-2*this.$padding,Math.round(o*this.characterWidth))},this.updateFrontMarkers=function(){this.$markerFront.setMarkers(this.session.getMarkers(!0)),this.$loop.schedule(this.CHANGE_MARKER_FRONT)},this.updateBackMarkers=function(){this.$markerBack.setMarkers(this.session.getMarkers()),this.$loop.schedule(this.CHANGE_MARKER_BACK)},this.addGutterDecoration=function(o,f){this.$gutterLayer.addGutterDecoration(o,f)},this.removeGutterDecoration=function(o,f){this.$gutterLayer.removeGutterDecoration(o,f)},this.updateBreakpoints=function(o){this.$loop.schedule(this.CHANGE_GUTTER)},this.setAnnotations=function(o){this.$gutterLayer.setAnnotations(o),this.$loop.schedule(this.CHANGE_GUTTER)},this.updateCursor=function(){this.$loop.schedule(this.CHANGE_CURSOR)},this.hideCursor=function(){this.$cursorLayer.hideCursor()},this.showCursor=function(){this.$cursorLayer.showCursor()},this.scrollSelectionIntoView=function(o,f,w){this.scrollCursorIntoView(o,w),this.scrollCursorIntoView(f,w)},this.scrollCursorIntoView=function(o,f,w){if(this.$size.scrollerHeight!==0){var g=this.$cursorLayer.getPixelPosition(o),m=g.left,u=g.top,F=w&&w.top||0,S=w&&w.bottom||0,L=this.$scrollAnimation?this.session.getScrollTop():this.scrollTop;L+F>u?(f&&L+F>u+this.lineHeight&&(u-=f*this.$size.scrollerHeight),u===0&&(u=-this.scrollMargin.top),this.session.setScrollTop(u)):L+this.$size.scrollerHeight-S<u+this.lineHeight&&(f&&L+this.$size.scrollerHeight-S<u-this.lineHeight&&(u+=f*this.$size.scrollerHeight),this.session.setScrollTop(u+this.lineHeight+S-this.$size.scrollerHeight));var A=this.scrollLeft;A>m?(m<this.$padding+2*this.layerConfig.characterWidth&&(m=-this.scrollMargin.left),this.session.setScrollLeft(m)):A+this.$size.scrollerWidth<m+this.characterWidth?this.session.setScrollLeft(Math.round(m+this.characterWidth-this.$size.scrollerWidth)):A<=this.$padding&&m-A<this.characterWidth&&this.session.setScrollLeft(0)}},this.getScrollTop=function(){return this.session.getScrollTop()},this.getScrollLeft=function(){return this.session.getScrollLeft()},this.getScrollTopRow=function(){return this.scrollTop/this.lineHeight},this.getScrollBottomRow=function(){return Math.max(0,Math.floor((this.scrollTop+this.$size.scrollerHeight)/this.lineHeight)-1)},this.scrollToRow=function(o){this.session.setScrollTop(o*this.lineHeight)},this.alignCursor=function(o,f){typeof o=="number"&&(o={row:o,column:0});var w=this.$cursorLayer.getPixelPosition(o),g=this.$size.scrollerHeight-this.lineHeight,m=w.top-g*(f||0);return this.session.setScrollTop(m),m},this.STEPS=8,this.$calcSteps=function(o,f){var w=0,g=this.STEPS,m=[],u=function(F,S,L){return L*(Math.pow(F-1,3)+1)+S};for(w=0;w<g;++w)m.push(u(w/this.STEPS,o,f-o));return m},this.scrollToLine=function(o,f,w,g){var m=this.$cursorLayer.getPixelPosition({row:o,column:0}),u=m.top;f&&(u-=this.$size.scrollerHeight/2);var F=this.scrollTop;this.session.setScrollTop(u),w!==!1&&this.animateScrolling(F,g)},this.animateScrolling=function(o,f){var w=this.scrollTop;if(this.$animatedScroll){var g=this;if(o!=w){if(this.$scrollAnimation){var m=this.$scrollAnimation.steps;if(m.length&&(o=m[0],o==w))return}var u=g.$calcSteps(o,w);this.$scrollAnimation={from:o,to:w,steps:u},clearInterval(this.$timer),g.session.setScrollTop(u.shift()),g.session.$scrollTop=w,this.$timer=setInterval(function(){if(!g.session)return clearInterval(g.$timer);u.length?(g.session.setScrollTop(u.shift()),g.session.$scrollTop=w):w!=null?(g.session.$scrollTop=-1,g.session.setScrollTop(w),w=null):(g.$timer=clearInterval(g.$timer),g.$scrollAnimation=null,f&&f())},10)}}},this.scrollToY=function(o){this.scrollTop!==o&&(this.$loop.schedule(this.CHANGE_SCROLL),this.scrollTop=o)},this.scrollToX=function(o){this.scrollLeft!==o&&(this.scrollLeft=o),this.$loop.schedule(this.CHANGE_H_SCROLL)},this.scrollTo=function(o,f){this.session.setScrollTop(f),this.session.setScrollLeft(f)},this.scrollBy=function(o,f){f&&this.session.setScrollTop(this.session.getScrollTop()+f),o&&this.session.setScrollLeft(this.session.getScrollLeft()+o)},this.isScrollableBy=function(o,f){if(f<0&&this.session.getScrollTop()>=1-this.scrollMargin.top||f>0&&this.session.getScrollTop()+this.$size.scrollerHeight-this.layerConfig.maxHeight<-1+this.scrollMargin.bottom||o<0&&this.session.getScrollLeft()>=1-this.scrollMargin.left||o>0&&this.session.getScrollLeft()+this.$size.scrollerWidth-this.layerConfig.width<-1+this.scrollMargin.right)return!0},this.pixelToScreenCoordinates=function(o,f){var w;if(this.$hasCssTransforms){w={top:0,left:0};var g=this.$fontMetrics.transformCoordinates([o,f]);o=g[1]-this.gutterWidth-this.margin.left,f=g[0]}else w=this.scroller.getBoundingClientRect();var m=o+this.scrollLeft-w.left-this.$padding,u=m/this.characterWidth,F=Math.floor((f+this.scrollTop-w.top)/this.lineHeight),S=this.$blockCursor?Math.floor(u):Math.round(u);return{row:F,column:S,side:u-S>0?1:-1,offsetX:m}},this.screenToTextCoordinates=function(o,f){var w;if(this.$hasCssTransforms){w={top:0,left:0};var g=this.$fontMetrics.transformCoordinates([o,f]);o=g[1]-this.gutterWidth-this.margin.left,f=g[0]}else w=this.scroller.getBoundingClientRect();var m=o+this.scrollLeft-w.left-this.$padding,u=m/this.characterWidth,F=this.$blockCursor?Math.floor(u):Math.round(u),S=Math.floor((f+this.scrollTop-w.top)/this.lineHeight);return this.session.screenToDocumentPosition(S,Math.max(F,0),m)},this.textToScreenCoordinates=function(o,f){var w=this.scroller.getBoundingClientRect(),g=this.session.documentToScreenPosition(o,f),m=this.$padding+(this.session.$bidiHandler.isBidiRow(g.row,o)?this.session.$bidiHandler.getPosLeft(g.column):Math.round(g.column*this.characterWidth)),u=g.row*this.lineHeight;return{pageX:w.left+m-this.scrollLeft,pageY:w.top+u-this.scrollTop}},this.visualizeFocus=function(){E.addCssClass(this.container,"ace_focus")},this.visualizeBlur=function(){E.removeCssClass(this.container,"ace_focus")},this.showComposition=function(o){this.$composition=o,o.cssText||(o.cssText=this.textarea.style.cssText),o.useTextareaForIME==null&&(o.useTextareaForIME=this.$useTextareaForIME),this.$useTextareaForIME?(E.addCssClass(this.textarea,"ace_composition"),this.textarea.style.cssText="",this.$moveTextAreaToCursor(),this.$cursorLayer.element.style.display="none"):o.markerId=this.session.addMarker(o.markerRange,"ace_composition_marker","text")},this.setCompositionText=function(o){var f=this.session.selection.cursor;this.addToken(o,"composition_placeholder",f.row,f.column),this.$moveTextAreaToCursor()},this.hideComposition=function(){if(this.$composition){this.$composition.markerId&&this.session.removeMarker(this.$composition.markerId),E.removeCssClass(this.textarea,"ace_composition"),this.textarea.style.cssText=this.$composition.cssText;var o=this.session.selection.cursor;this.removeExtraToken(o.row,o.column),this.$composition=null,this.$cursorLayer.element.style.display=""}},this.addToken=function(o,f,w,g){var m=this.session;m.bgTokenizer.lines[w]=null;var u={type:f,value:o},F=m.getTokens(w);if(g==null)F.push(u);else for(var S=0,L=0;L<F.length;L++){var A=F[L];if(S+=A.value.length,g<=S){var P=A.value.length-(S-g),H=A.value.slice(0,P),j=A.value.slice(P);F.splice(L,1,{type:A.type,value:H},u,{type:A.type,value:j});break}}this.updateLines(w,w)},this.removeExtraToken=function(o,f){this.updateLines(o,o)},this.setTheme=function(o,f){var w=this;if(this.$themeId=o,w._dispatchEvent("themeChange",{theme:o}),!o||typeof o=="string"){var g=o||this.$options.theme.initialValue;h.loadModule(["theme",g],m)}else m(o);function m(u){if(w.$themeId!=o)return f&&f();if(!u||!u.cssClass)throw new Error("couldn't load module "+o+" or it didn't call define");u.$id&&(w.$themeId=u.$id),E.importCssString(u.cssText,u.cssClass,w.container),w.theme&&E.removeCssClass(w.container,w.theme.cssClass);var F="padding"in u?u.padding:"padding"in(w.theme||{})?4:w.$padding;w.$padding&&F!=w.$padding&&w.setPadding(F),w.$theme=u.cssClass,w.theme=u,E.addCssClass(w.container,u.cssClass),E.setCssClass(w.container,"ace_dark",u.isDark),w.$size&&(w.$size.width=0,w.$updateSizeAsync()),w._dispatchEvent("themeLoaded",{theme:u}),f&&f()}},this.getTheme=function(){return this.$themeId},this.setStyle=function(o,f){E.setCssClass(this.container,o,f!==!1)},this.unsetStyle=function(o){E.removeCssClass(this.container,o)},this.setCursorStyle=function(o){E.setStyle(this.scroller.style,"cursor",o)},this.setMouseCursor=function(o){E.setStyle(this.scroller.style,"cursor",o)},this.attachToShadowRoot=function(){E.importCssString(v,"ace_editor.css",this.container)},this.destroy=function(){this.freeze(),this.$fontMetrics.destroy(),this.$cursorLayer.destroy(),this.removeAllListeners(),this.container.textContent=""}}).call(p.prototype),h.defineOptions(p.prototype,"renderer",{animatedScroll:{initialValue:!1},showInvisibles:{set:function(o){this.$textLayer.setShowInvisibles(o)&&this.$loop.schedule(this.CHANGE_TEXT)},initialValue:!1},showPrintMargin:{set:function(){this.$updatePrintMargin()},initialValue:!0},printMarginColumn:{set:function(){this.$updatePrintMargin()},initialValue:80},printMargin:{set:function(o){typeof o=="number"&&(this.$printMarginColumn=o),this.$showPrintMargin=!!o,this.$updatePrintMargin()},get:function(){return this.$showPrintMargin&&this.$printMarginColumn}},showGutter:{set:function(o){this.$gutter.style.display=o?"block":"none",this.$loop.schedule(this.CHANGE_FULL),this.onGutterResize()},initialValue:!0},fadeFoldWidgets:{set:function(o){E.setCssClass(this.$gutter,"ace_fade-fold-widgets",o)},initialValue:!1},showFoldWidgets:{set:function(o){this.$gutterLayer.setShowFoldWidgets(o),this.$loop.schedule(this.CHANGE_GUTTER)},initialValue:!0},displayIndentGuides:{set:function(o){this.$textLayer.setDisplayIndentGuides(o)&&this.$loop.schedule(this.CHANGE_TEXT)},initialValue:!0},highlightGutterLine:{set:function(o){this.$gutterLayer.setHighlightGutterLine(o),this.$loop.schedule(this.CHANGE_GUTTER)},initialValue:!0},hScrollBarAlwaysVisible:{set:function(o){(!this.$hScrollBarAlwaysVisible||!this.$horizScroll)&&this.$loop.schedule(this.CHANGE_SCROLL)},initialValue:!1},vScrollBarAlwaysVisible:{set:function(o){(!this.$vScrollBarAlwaysVisible||!this.$vScroll)&&this.$loop.schedule(this.CHANGE_SCROLL)},initialValue:!1},fontSize:{set:function(o){typeof o=="number"&&(o=o+"px"),this.container.style.fontSize=o,this.updateFontSize()},initialValue:12},fontFamily:{set:function(o){this.container.style.fontFamily=o,this.updateFontSize()}},maxLines:{set:function(o){this.updateFull()}},minLines:{set:function(o){this.$minLines<562949953421311||(this.$minLines=0),this.updateFull()}},maxPixelHeight:{set:function(o){this.updateFull()},initialValue:0},scrollPastEnd:{set:function(o){o=+o||0,this.$scrollPastEnd!=o&&(this.$scrollPastEnd=o,this.$loop.schedule(this.CHANGE_SCROLL))},initialValue:0,handlesSet:!0},fixedWidthGutter:{set:function(o){this.$gutterLayer.$fixedWidth=!!o,this.$loop.schedule(this.CHANGE_GUTTER)}},theme:{set:function(o){this.setTheme(o)},get:function(){return this.$themeId||this.theme},initialValue:"./theme/textmate",handlesSet:!0},hasCssTransforms:{},useTextareaForIME:{initialValue:!y.isMobile&&!y.isIE}}),M.VirtualRenderer=p}),ace.define("ace/worker/worker_client",["require","exports","module","ace/lib/oop","ace/lib/net","ace/lib/event_emitter","ace/config"],function(c,M,W){var R=c("../lib/oop"),E=c("../lib/net"),h=c("../lib/event_emitter").EventEmitter,a=c("../config");function l(n){var i="importScripts('"+E.qualifyURL(n)+"');";try{return new Blob([i],{type:"application/javascript"})}catch{var s=window.BlobBuilder||window.WebKitBlobBuilder||window.MozBlobBuilder,d=new s;return d.append(i),d.getBlob("application/javascript")}}function t(n){if(typeof Worker>"u")return{postMessage:function(){},terminate:function(){}};if(a.get("loadWorkerFromBlob")){var i=l(n),s=window.URL||window.webkitURL,d=s.createObjectURL(i);return new Worker(d)}return new Worker(n)}var e=function(n){n.postMessage||(n=this.$createWorkerFromOldConfig.apply(this,arguments)),this.$worker=n,this.$sendDeltaQueue=this.$sendDeltaQueue.bind(this),this.changeListener=this.changeListener.bind(this),this.onMessage=this.onMessage.bind(this),this.callbackId=1,this.callbacks={},this.$worker.onmessage=this.onMessage};(function(){R.implement(this,h),this.$createWorkerFromOldConfig=function(n,i,s,d,v){if(c.nameToUrl&&!c.toUrl&&(c.toUrl=c.nameToUrl),a.get("packaged")||!c.toUrl)d=d||a.moduleUrl(i,"worker");else{var y=this.$normalizePath;d=d||y(c.toUrl("ace/worker/worker.js",null,"_"));var k={};n.forEach(function(p){k[p]=y(c.toUrl(p,null,"_").replace(/(\.js)?(\?.*)?$/,""))})}return this.$worker=t(d),v&&this.send("importScripts",v),this.$worker.postMessage({init:!0,tlns:k,module:i,classname:s}),this.$worker},this.onMessage=function(n){var i=n.data;switch(i.type){case"event":this._signal(i.name,{data:i.data});break;case"call":var s=this.callbacks[i.id];s&&(s(i.data),delete this.callbacks[i.id]);break;case"error":this.reportError(i.data);break;case"log":window.console&&console.log&&console.log.apply(console,i.data);break}},this.reportError=function(n){window.console&&console.error&&console.error(n)},this.$normalizePath=function(n){return E.qualifyURL(n)},this.terminate=function(){this._signal("terminate",{}),this.deltaQueue=null,this.$worker.terminate(),this.$worker=null,this.$doc&&this.$doc.off("change",this.changeListener),this.$doc=null},this.send=function(n,i){this.$worker.postMessage({command:n,args:i})},this.call=function(n,i,s){if(s){var d=this.callbackId++;this.callbacks[d]=s,i.push(d)}this.send(n,i)},this.emit=function(n,i){try{i.data&&i.data.err&&(i.data.err={message:i.data.err.message,stack:i.data.err.stack,code:i.data.err.code}),this.$worker.postMessage({event:n,data:{data:i.data}})}catch(s){console.error(s.stack)}},this.attachToDocument=function(n){this.$doc&&this.terminate(),this.$doc=n,this.call("setValue",[n.getValue()]),n.on("change",this.changeListener)},this.changeListener=function(n){this.deltaQueue||(this.deltaQueue=[],setTimeout(this.$sendDeltaQueue,0)),n.action=="insert"?this.deltaQueue.push(n.start,n.lines):this.deltaQueue.push(n.start,n.end)},this.$sendDeltaQueue=function(){var n=this.deltaQueue;n&&(this.deltaQueue=null,n.length>50&&n.length>this.$doc.getLength()>>1?this.call("setValue",[this.$doc.getValue()]):this.emit("change",{data:n}))}}).call(e.prototype);var r=function(n,i,s){var d=null,v=!1,y=Object.create(h),k=[],p=new e({messageBuffer:k,terminate:function(){},postMessage:function(f){k.push(f),d&&(v?setTimeout(o):o())}});p.setEmitSync=function(f){v=f};var o=function(){var f=k.shift();f.command?d[f.command].apply(d,f.args):f.event&&y._signal(f.event,f.data)};return y.postMessage=function(f){p.onMessage({data:f})},y.callback=function(f,w){this.postMessage({type:"call",id:w,data:f})},y.emit=function(f,w){this.postMessage({type:"event",name:f,data:w})},a.loadModule(["worker",i],function(f){for(d=new f[s](y);k.length;)o()}),p};M.UIWorkerClient=r,M.WorkerClient=e,M.createWorker=t}),ace.define("ace/placeholder",["require","exports","module","ace/range","ace/lib/event_emitter","ace/lib/oop"],function(c,M,W){var R=c("./range").Range,E=c("./lib/event_emitter").EventEmitter,h=c("./lib/oop"),a=function(l,t,e,r,n,i){var s=this;this.length=t,this.session=l,this.doc=l.getDocument(),this.mainClass=n,this.othersClass=i,this.$onUpdate=this.onUpdate.bind(this),this.doc.on("change",this.$onUpdate),this.$others=r,this.$onCursorChange=function(){setTimeout(function(){s.onCursorChange()})},this.$pos=e;var d=l.getUndoManager().$undoStack||l.getUndoManager().$undostack||{length:-1};this.$undoStackDepth=d.length,this.setup(),l.selection.on("changeCursor",this.$onCursorChange)};(function(){h.implement(this,E),this.setup=function(){var l=this,t=this.doc,e=this.session;this.selectionBefore=e.selection.toJSON(),e.selection.inMultiSelectMode&&e.selection.toSingleRange(),this.pos=t.createAnchor(this.$pos.row,this.$pos.column);var r=this.pos;r.$insertRight=!0,r.detach(),r.markerId=e.addMarker(new R(r.row,r.column,r.row,r.column+this.length),this.mainClass,null,!1),this.others=[],this.$others.forEach(function(n){var i=t.createAnchor(n.row,n.column);i.$insertRight=!0,i.detach(),l.others.push(i)}),e.setUndoSelect(!1)},this.showOtherMarkers=function(){if(!this.othersActive){var l=this.session,t=this;this.othersActive=!0,this.others.forEach(function(e){e.markerId=l.addMarker(new R(e.row,e.column,e.row,e.column+t.length),t.othersClass,null,!1)})}},this.hideOtherMarkers=function(){if(this.othersActive){this.othersActive=!1;for(var l=0;l<this.others.length;l++)this.session.removeMarker(this.others[l].markerId)}},this.onUpdate=function(l){if(this.$updating)return this.updateAnchors(l);var t=l;if(t.start.row===t.end.row&&t.start.row===this.pos.row){this.$updating=!0;var e=l.action==="insert"?t.end.column-t.start.column:t.start.column-t.end.column,r=t.start.column>=this.pos.column&&t.start.column<=this.pos.column+this.length+1,n=t.start.column-this.pos.column;if(this.updateAnchors(l),r&&(this.length+=e),r&&!this.session.$fromUndo){if(l.action==="insert")for(var i=this.others.length-1;i>=0;i--){var s=this.others[i],d={row:s.row,column:s.column+n};this.doc.insertMergedLines(d,l.lines)}else if(l.action==="remove")for(var i=this.others.length-1;i>=0;i--){var s=this.others[i],d={row:s.row,column:s.column+n};this.doc.remove(new R(d.row,d.column,d.row,d.column-e))}}this.$updating=!1,this.updateMarkers()}},this.updateAnchors=function(l){this.pos.onChange(l);for(var t=this.others.length;t--;)this.others[t].onChange(l);this.updateMarkers()},this.updateMarkers=function(){if(!this.$updating){var l=this,t=this.session,e=function(n,i){t.removeMarker(n.markerId),n.markerId=t.addMarker(new R(n.row,n.column,n.row,n.column+l.length),i,null,!1)};e(this.pos,this.mainClass);for(var r=this.others.length;r--;)e(this.others[r],this.othersClass)}},this.onCursorChange=function(l){if(!(this.$updating||!this.session)){var t=this.session.selection.getCursor();t.row===this.pos.row&&t.column>=this.pos.column&&t.column<=this.pos.column+this.length?(this.showOtherMarkers(),this._emit("cursorEnter",l)):(this.hideOtherMarkers(),this._emit("cursorLeave",l))}},this.detach=function(){this.session.removeMarker(this.pos&&this.pos.markerId),this.hideOtherMarkers(),this.doc.off("change",this.$onUpdate),this.session.selection.off("changeCursor",this.$onCursorChange),this.session.setUndoSelect(!0),this.session=null},this.cancel=function(){if(this.$undoStackDepth!==-1){for(var l=this.session.getUndoManager(),t=(l.$undoStack||l.$undostack).length-this.$undoStackDepth,e=0;e<t;e++)l.undo(this.session,!0);this.selectionBefore&&this.session.selection.fromJSON(this.selectionBefore)}}}).call(a.prototype),M.PlaceHolder=a}),ace.define("ace/mouse/multi_select_handler",["require","exports","module","ace/lib/event","ace/lib/useragent"],function(c,M,W){var R=c("../lib/event"),E=c("../lib/useragent");function h(l,t){return l.row==t.row&&l.column==t.column}function a(l){var t=l.domEvent,e=t.altKey,r=t.shiftKey,n=t.ctrlKey,i=l.getAccelKey(),s=l.getButton();if(n&&E.isMac&&(s=t.button),l.editor.inMultiSelectMode&&s==2){l.editor.textInput.onContextMenu(l.domEvent);return}if(!n&&!e&&!i){s===0&&l.editor.inMultiSelectMode&&l.editor.exitMultiSelectMode();return}if(s===0){var d=l.editor,v=d.selection,y=d.inMultiSelectMode,k=l.getDocumentPosition(),p=v.getCursor(),o=l.inSelection()||v.isEmpty()&&h(k,p),f=l.x,w=l.y,g=function(J){f=J.clientX,w=J.clientY},m=d.session,u=d.renderer.pixelToScreenCoordinates(f,w),F=u,S;if(d.$mouseHandler.$enableJumpToDef)n&&e||i&&e?S=r?"block":"add":e&&d.$blockSelectEnabled&&(S="block");else if(i&&!e){if(S="add",!y&&r)return}else e&&d.$blockSelectEnabled&&(S="block");if(S&&E.isMac&&t.ctrlKey&&d.$mouseHandler.cancelContextMenu(),S=="add"){if(!y&&o)return;if(!y){var L=v.toOrientedRange();d.addSelectionMarker(L)}var A=v.rangeList.rangeAtPoint(k);d.inVirtualSelectionMode=!0,r&&(A=null,L=v.ranges[0]||L,d.removeSelectionMarker(L)),d.once("mouseup",function(){var J=v.toOrientedRange();A&&J.isEmpty()&&h(A.cursor,J.cursor)?v.substractPoint(J.cursor):(r?v.substractPoint(L.cursor):L&&(d.removeSelectionMarker(L),v.addRange(L)),v.addRange(J)),d.inVirtualSelectionMode=!1})}else if(S=="block"){l.stop(),d.inVirtualSelectionMode=!0;var P,H=[],j=function(){var J=d.renderer.pixelToScreenCoordinates(f,w),ee=m.screenToDocumentPosition(J.row,J.column,J.offsetX);h(F,J)&&h(ee,v.lead)||(F=J,d.selection.moveToPosition(ee),d.renderer.scrollCursorIntoView(),d.removeSelectionMarkers(H),H=v.rectangularRangeBlock(F,u),d.$mouseHandler.$clickSelection&&H.length==1&&H[0].isEmpty()&&(H[0]=d.$mouseHandler.$clickSelection.clone()),H.forEach(d.addSelectionMarker,d),d.updateSelectionMarkers())};y&&!i?v.toSingleRange():!y&&i&&(P=v.toOrientedRange(),d.addSelectionMarker(P)),r?u=m.documentToScreenPosition(v.lead):v.moveToPosition(k),F={row:-1,column:-1};var le=function(J){j(),clearInterval(ue),d.removeSelectionMarkers(H),H.length||(H=[v.toOrientedRange()]),P&&(d.removeSelectionMarker(P),v.toSingleRange(P));for(var ee=0;ee<H.length;ee++)v.addRange(H[ee]);d.inVirtualSelectionMode=!1,d.$mouseHandler.$clickSelection=null},q=j;R.capture(d.container,g,le);var ue=setInterval(function(){q()},20);return l.preventDefault()}}}M.onMouseDown=a}),ace.define("ace/commands/multi_select_commands",["require","exports","module","ace/keyboard/hash_handler"],function(c,M,W){M.defaultCommands=[{name:"addCursorAbove",description:"Add cursor above",exec:function(E){E.selectMoreLines(-1)},bindKey:{win:"Ctrl-Alt-Up",mac:"Ctrl-Alt-Up"},scrollIntoView:"cursor",readOnly:!0},{name:"addCursorBelow",description:"Add cursor below",exec:function(E){E.selectMoreLines(1)},bindKey:{win:"Ctrl-Alt-Down",mac:"Ctrl-Alt-Down"},scrollIntoView:"cursor",readOnly:!0},{name:"addCursorAboveSkipCurrent",description:"Add cursor above (skip current)",exec:function(E){E.selectMoreLines(-1,!0)},bindKey:{win:"Ctrl-Alt-Shift-Up",mac:"Ctrl-Alt-Shift-Up"},scrollIntoView:"cursor",readOnly:!0},{name:"addCursorBelowSkipCurrent",description:"Add cursor below (skip current)",exec:function(E){E.selectMoreLines(1,!0)},bindKey:{win:"Ctrl-Alt-Shift-Down",mac:"Ctrl-Alt-Shift-Down"},scrollIntoView:"cursor",readOnly:!0},{name:"selectMoreBefore",description:"Select more before",exec:function(E){E.selectMore(-1)},bindKey:{win:"Ctrl-Alt-Left",mac:"Ctrl-Alt-Left"},scrollIntoView:"cursor",readOnly:!0},{name:"selectMoreAfter",description:"Select more after",exec:function(E){E.selectMore(1)},bindKey:{win:"Ctrl-Alt-Right",mac:"Ctrl-Alt-Right"},scrollIntoView:"cursor",readOnly:!0},{name:"selectNextBefore",description:"Select next before",exec:function(E){E.selectMore(-1,!0)},bindKey:{win:"Ctrl-Alt-Shift-Left",mac:"Ctrl-Alt-Shift-Left"},scrollIntoView:"cursor",readOnly:!0},{name:"selectNextAfter",description:"Select next after",exec:function(E){E.selectMore(1,!0)},bindKey:{win:"Ctrl-Alt-Shift-Right",mac:"Ctrl-Alt-Shift-Right"},scrollIntoView:"cursor",readOnly:!0},{name:"toggleSplitSelectionIntoLines",description:"Split into lines",exec:function(E){E.multiSelect.rangeCount>1?E.multiSelect.joinSelections():E.multiSelect.splitIntoLines()},bindKey:{win:"Ctrl-Alt-L",mac:"Ctrl-Alt-L"},readOnly:!0},{name:"splitSelectionIntoLines",description:"Split into lines",exec:function(E){E.multiSelect.splitIntoLines()},readOnly:!0},{name:"alignCursors",description:"Align cursors",exec:function(E){E.alignCursors()},bindKey:{win:"Ctrl-Alt-A",mac:"Ctrl-Alt-A"},scrollIntoView:"cursor"},{name:"findAll",description:"Find all",exec:function(E){E.findAll()},bindKey:{win:"Ctrl-Alt-K",mac:"Ctrl-Alt-G"},scrollIntoView:"cursor",readOnly:!0}],M.multiSelectCommands=[{name:"singleSelection",description:"Single selection",bindKey:"esc",exec:function(E){E.exitMultiSelectMode()},scrollIntoView:"cursor",readOnly:!0,isAvailable:function(E){return E&&E.inMultiSelectMode}}];var R=c("../keyboard/hash_handler").HashHandler;M.keyboardHandler=new R(M.multiSelectCommands)}),ace.define("ace/multi_select",["require","exports","module","ace/range_list","ace/range","ace/selection","ace/mouse/multi_select_handler","ace/lib/event","ace/lib/lang","ace/commands/multi_select_commands","ace/search","ace/edit_session","ace/editor","ace/config"],function(c,M,W){var R=c("./range_list").RangeList,E=c("./range").Range,h=c("./selection").Selection,a=c("./mouse/multi_select_handler").onMouseDown,l=c("./lib/event"),t=c("./lib/lang"),e=c("./commands/multi_select_commands");M.commands=e.defaultCommands.concat(e.multiSelectCommands);var r=c("./search").Search,n=new r;function i(p,o,f){return n.$options.wrap=!0,n.$options.needle=o,n.$options.backwards=f==-1,n.find(p)}var s=c("./edit_session").EditSession;(function(){this.getSelectionMarkers=function(){return this.$selectionMarkers}}).call(s.prototype),(function(){this.ranges=null,this.rangeList=null,this.addRange=function(p,o){if(p){if(!this.inMultiSelectMode&&this.rangeCount===0){var f=this.toOrientedRange();if(this.rangeList.add(f),this.rangeList.add(p),this.rangeList.ranges.length!=2)return this.rangeList.removeAll(),o||this.fromOrientedRange(p);this.rangeList.removeAll(),this.rangeList.add(f),this.$onAddRange(f)}p.cursor||(p.cursor=p.end);var w=this.rangeList.add(p);return this.$onAddRange(p),w.length&&this.$onRemoveRange(w),this.rangeCount>1&&!this.inMultiSelectMode&&(this._signal("multiSelect"),this.inMultiSelectMode=!0,this.session.$undoSelect=!1,this.rangeList.attach(this.session)),o||this.fromOrientedRange(p)}},this.toSingleRange=function(p){p=p||this.ranges[0];var o=this.rangeList.removeAll();o.length&&this.$onRemoveRange(o),p&&this.fromOrientedRange(p)},this.substractPoint=function(p){var o=this.rangeList.substractPoint(p);if(o)return this.$onRemoveRange(o),o[0]},this.mergeOverlappingRanges=function(){var p=this.rangeList.merge();p.length&&this.$onRemoveRange(p)},this.$onAddRange=function(p){this.rangeCount=this.rangeList.ranges.length,this.ranges.unshift(p),this._signal("addRange",{range:p})},this.$onRemoveRange=function(p){if(this.rangeCount=this.rangeList.ranges.length,this.rangeCount==1&&this.inMultiSelectMode){var o=this.rangeList.ranges.pop();p.push(o),this.rangeCount=0}for(var f=p.length;f--;){var w=this.ranges.indexOf(p[f]);this.ranges.splice(w,1)}this._signal("removeRange",{ranges:p}),this.rangeCount===0&&this.inMultiSelectMode&&(this.inMultiSelectMode=!1,this._signal("singleSelect"),this.session.$undoSelect=!0,this.rangeList.detach(this.session)),o=o||this.ranges[0],o&&!o.isEqual(this.getRange())&&this.fromOrientedRange(o)},this.$initRangeList=function(){this.rangeList||(this.rangeList=new R,this.ranges=[],this.rangeCount=0)},this.getAllRanges=function(){return this.rangeCount?this.rangeList.ranges.concat():[this.getRange()]},this.splitIntoLines=function(){for(var p=this.ranges.length?this.ranges:[this.getRange()],o=[],f=0;f<p.length;f++){var w=p[f],g=w.start.row,m=w.end.row;if(g===m)o.push(w.clone());else{for(o.push(new E(g,w.start.column,g,this.session.getLine(g).length));++g<m;)o.push(this.getLineRange(g,!0));o.push(new E(m,0,m,w.end.column))}f==0&&!this.isBackwards()&&(o=o.reverse())}this.toSingleRange();for(var f=o.length;f--;)this.addRange(o[f])},this.joinSelections=function(){var p=this.rangeList.ranges,o=p[p.length-1],f=E.fromPoints(p[0].start,o.end);this.toSingleRange(),this.setSelectionRange(f,o.cursor==o.start)},this.toggleBlockSelection=function(){if(this.rangeCount>1){var p=this.rangeList.ranges,o=p[p.length-1],f=E.fromPoints(p[0].start,o.end);this.toSingleRange(),this.setSelectionRange(f,o.cursor==o.start)}else{var w=this.session.documentToScreenPosition(this.cursor),g=this.session.documentToScreenPosition(this.anchor),m=this.rectangularRangeBlock(w,g);m.forEach(this.addRange,this)}},this.rectangularRangeBlock=function(p,o,f){var w=[],g=p.column<o.column;if(g)var m=p.column,u=o.column,F=p.offsetX,S=o.offsetX;else var m=o.column,u=p.column,F=o.offsetX,S=p.offsetX;var L=p.row<o.row;if(L)var A=p.row,P=o.row;else var A=o.row,P=p.row;m<0&&(m=0),A<0&&(A=0),A==P&&(f=!0);for(var H,j=A;j<=P;j++){var le=E.fromPoints(this.session.screenToDocumentPosition(j,m,F),this.session.screenToDocumentPosition(j,u,S));if(le.isEmpty()){if(H&&v(le.end,H))break;H=le.end}le.cursor=g?le.start:le.end,w.push(le)}if(L&&w.reverse(),!f){for(var q=w.length-1;w[q].isEmpty()&&q>0;)q--;if(q>0)for(var ue=0;w[ue].isEmpty();)ue++;for(var J=q;J>=ue;J--)w[J].isEmpty()&&w.splice(J,1)}return w}}).call(h.prototype);var d=c("./editor").Editor;(function(){this.updateSelectionMarkers=function(){this.renderer.updateCursor(),this.renderer.updateBackMarkers()},this.addSelectionMarker=function(p){p.cursor||(p.cursor=p.end);var o=this.getSelectionStyle();return p.marker=this.session.addMarker(p,"ace_selection",o),this.session.$selectionMarkers.push(p),this.session.selectionMarkerCount=this.session.$selectionMarkers.length,p},this.removeSelectionMarker=function(p){if(p.marker){this.session.removeMarker(p.marker);var o=this.session.$selectionMarkers.indexOf(p);o!=-1&&this.session.$selectionMarkers.splice(o,1),this.session.selectionMarkerCount=this.session.$selectionMarkers.length}},this.removeSelectionMarkers=function(p){for(var o=this.session.$selectionMarkers,f=p.length;f--;){var w=p[f];if(w.marker){this.session.removeMarker(w.marker);var g=o.indexOf(w);g!=-1&&o.splice(g,1)}}this.session.selectionMarkerCount=o.length},this.$onAddRange=function(p){this.addSelectionMarker(p.range),this.renderer.updateCursor(),this.renderer.updateBackMarkers()},this.$onRemoveRange=function(p){this.removeSelectionMarkers(p.ranges),this.renderer.updateCursor(),this.renderer.updateBackMarkers()},this.$onMultiSelect=function(p){this.inMultiSelectMode||(this.inMultiSelectMode=!0,this.setStyle("ace_multiselect"),this.keyBinding.addKeyboardHandler(e.keyboardHandler),this.commands.setDefaultHandler("exec",this.$onMultiSelectExec),this.renderer.updateCursor(),this.renderer.updateBackMarkers())},this.$onSingleSelect=function(p){this.session.multiSelect.inVirtualMode||(this.inMultiSelectMode=!1,this.unsetStyle("ace_multiselect"),this.keyBinding.removeKeyboardHandler(e.keyboardHandler),this.commands.removeDefaultHandler("exec",this.$onMultiSelectExec),this.renderer.updateCursor(),this.renderer.updateBackMarkers(),this._emit("changeSelection"))},this.$onMultiSelectExec=function(p){var o=p.command,f=p.editor;if(f.multiSelect){if(o.multiSelectAction)o.multiSelectAction=="forEach"?w=f.forEachSelection(o,p.args):o.multiSelectAction=="forEachLine"?w=f.forEachSelection(o,p.args,!0):o.multiSelectAction=="single"?(f.exitMultiSelectMode(),w=o.exec(f,p.args||{})):w=o.multiSelectAction(f,p.args||{});else{var w=o.exec(f,p.args||{});f.multiSelect.addRange(f.multiSelect.toOrientedRange()),f.multiSelect.mergeOverlappingRanges()}return w}},this.forEachSelection=function(p,o,f){if(!this.inVirtualSelectionMode){var w=f&&f.keepOrder,g=f==!0||f&&f.$byLines,m=this.session,u=this.selection,F=u.rangeList,S=(w?u:F).ranges,L;if(!S.length)return p.exec?p.exec(this,o||{}):p(this,o||{});var A=u._eventRegistry;u._eventRegistry={};var P=new h(m);this.inVirtualSelectionMode=!0;for(var H=S.length;H--;){if(g)for(;H>0&&S[H].start.row==S[H-1].end.row;)H--;P.fromOrientedRange(S[H]),P.index=H,this.selection=m.selection=P;var j=p.exec?p.exec(this,o||{}):p(this,o||{});!L&&j!==void 0&&(L=j),P.toOrientedRange(S[H])}P.detach(),this.selection=m.selection=u,this.inVirtualSelectionMode=!1,u._eventRegistry=A,u.mergeOverlappingRanges(),u.ranges[0]&&u.fromOrientedRange(u.ranges[0]);var le=this.renderer.$scrollAnimation;return this.onCursorChange(),this.onSelectionChange(),le&&le.from==le.to&&this.renderer.animateScrolling(le.from),L}},this.exitMultiSelectMode=function(){!this.inMultiSelectMode||this.inVirtualSelectionMode||this.multiSelect.toSingleRange()},this.getSelectedText=function(){var p="";if(this.inMultiSelectMode&&!this.inVirtualSelectionMode){for(var o=this.multiSelect.rangeList.ranges,f=[],w=0;w<o.length;w++)f.push(this.session.getTextRange(o[w]));var g=this.session.getDocument().getNewLineCharacter();p=f.join(g),p.length==(f.length-1)*g.length&&(p="")}else this.selection.isEmpty()||(p=this.session.getTextRange(this.getSelectionRange()));return p},this.$checkMultiselectChange=function(p,o){if(this.inMultiSelectMode&&!this.inVirtualSelectionMode){var f=this.multiSelect.ranges[0];if(this.multiSelect.isEmpty()&&o==this.multiSelect.anchor)return;var w=o==this.multiSelect.anchor?f.cursor==f.start?f.end:f.start:f.cursor;w.row!=o.row||this.session.$clipPositionToDocument(w.row,w.column).column!=o.column?this.multiSelect.toSingleRange(this.multiSelect.toOrientedRange()):this.multiSelect.mergeOverlappingRanges()}},this.findAll=function(p,o,f){if(o=o||{},o.needle=p||o.needle,o.needle==null){var w=this.selection.isEmpty()?this.selection.getWordRange():this.selection.getRange();o.needle=this.session.getTextRange(w)}this.$search.set(o);var g=this.$search.findAll(this.session);if(!g.length)return 0;var m=this.multiSelect;f||m.toSingleRange(g[0]);for(var u=g.length;u--;)m.addRange(g[u],!0);return w&&m.rangeList.rangeAtPoint(w.start)&&m.addRange(w,!0),g.length},this.selectMoreLines=function(p,o){var f=this.selection.toOrientedRange(),w=f.cursor==f.end,g=this.session.documentToScreenPosition(f.cursor);this.selection.$desiredColumn&&(g.column=this.selection.$desiredColumn);var m=this.session.screenToDocumentPosition(g.row+p,g.column);if(f.isEmpty())var F=m;else var u=this.session.documentToScreenPosition(w?f.end:f.start),F=this.session.screenToDocumentPosition(u.row+p,u.column);if(w){var S=E.fromPoints(m,F);S.cursor=S.start}else{var S=E.fromPoints(F,m);S.cursor=S.end}if(S.desiredColumn=g.column,!this.selection.inMultiSelectMode)this.selection.addRange(f);else if(o)var L=f.cursor;this.selection.addRange(S),L&&this.selection.substractPoint(L)},this.transposeSelections=function(p){for(var o=this.session,f=o.multiSelect,w=f.ranges,g=w.length;g--;){var m=w[g];if(m.isEmpty()){var u=o.getWordRange(m.start.row,m.start.column);m.start.row=u.start.row,m.start.column=u.start.column,m.end.row=u.end.row,m.end.column=u.end.column}}f.mergeOverlappingRanges();for(var F=[],g=w.length;g--;){var m=w[g];F.unshift(o.getTextRange(m))}p<0?F.unshift(F.pop()):F.push(F.shift());for(var g=w.length;g--;){var m=w[g],u=m.clone();o.replace(m,F[g]),m.start.row=u.start.row,m.start.column=u.start.column}f.fromOrientedRange(f.ranges[0])},this.selectMore=function(p,o,f){var w=this.session,g=w.multiSelect,m=g.toOrientedRange();if(!(m.isEmpty()&&(m=w.getWordRange(m.start.row,m.start.column),m.cursor=p==-1?m.start:m.end,this.multiSelect.addRange(m),f))){var u=w.getTextRange(m),F=i(w,u,p);F&&(F.cursor=p==-1?F.start:F.end,this.session.unfold(F),this.multiSelect.addRange(F),this.renderer.scrollCursorIntoView(null,.5)),o&&this.multiSelect.substractPoint(m.cursor)}},this.alignCursors=function(){var p=this.session,o=p.multiSelect,f=o.ranges,w=-1,g=f.filter(function(q){if(q.cursor.row==w)return!0;w=q.cursor.row});if(!f.length||g.length==f.length-1){var m=this.selection.getRange(),u=m.start.row,F=m.end.row,S=u==F;if(S){var L=this.session.getLength(),A;do A=this.session.getLine(F);while(/[=:]/.test(A)&&++F<L);do A=this.session.getLine(u);while(/[=:]/.test(A)&&--u>0);u<0&&(u=0),F>=L&&(F=L-1)}var P=this.session.removeFullLines(u,F);P=this.$reAlignText(P,S),this.session.insert({row:u,column:0},P.join(`
`)+`
`),S||(m.start.column=0,m.end.column=P[P.length-1].length),this.selection.setRange(m)}else{g.forEach(function(q){o.substractPoint(q.cursor)});var H=0,j=1/0,le=f.map(function(q){var ue=q.cursor,J=p.getLine(ue.row),ee=J.substr(ue.column).search(/\S/g);return ee==-1&&(ee=0),ue.column>H&&(H=ue.column),ee<j&&(j=ee),ee});f.forEach(function(q,ue){var J=q.cursor,ee=H-J.column,ie=le[ue]-j;ee>ie?p.insert(J,t.stringRepeat(" ",ee-ie)):p.remove(new E(J.row,J.column,J.row,J.column-ee+ie)),q.start.column=q.end.column=H,q.start.row=q.end.row=J.row,q.cursor=q.end}),o.fromOrientedRange(f[0]),this.renderer.updateCursor(),this.renderer.updateBackMarkers()}},this.$reAlignText=function(p,o){var f=!0,w=!0,g,m,u;return p.map(function(P){var H=P.match(/(\s*)(.*?)(\s*)([=:].*)/);return H?g==null?(g=H[1].length,m=H[2].length,u=H[3].length,H):(g+m+u!=H[1].length+H[2].length+H[3].length&&(w=!1),g!=H[1].length&&(f=!1),g>H[1].length&&(g=H[1].length),m<H[2].length&&(m=H[2].length),u>H[3].length&&(u=H[3].length),H):[P]}).map(o?S:f?w?L:S:A);function F(P){return t.stringRepeat(" ",P)}function S(P){return P[2]?F(g)+P[2]+F(m-P[2].length+u)+P[4].replace(/^([=:])\s+/,"$1 "):P[0]}function L(P){return P[2]?F(g+m-P[2].length)+P[2]+F(u)+P[4].replace(/^([=:])\s+/,"$1 "):P[0]}function A(P){return P[2]?F(g)+P[2]+F(u)+P[4].replace(/^([=:])\s+/,"$1 "):P[0]}}}).call(d.prototype);function v(p,o){return p.row==o.row&&p.column==o.column}M.onSessionChange=function(p){var o=p.session;o&&!o.multiSelect&&(o.$selectionMarkers=[],o.selection.$initRangeList(),o.multiSelect=o.selection),this.multiSelect=o&&o.multiSelect;var f=p.oldSession;f&&(f.multiSelect.off("addRange",this.$onAddRange),f.multiSelect.off("removeRange",this.$onRemoveRange),f.multiSelect.off("multiSelect",this.$onMultiSelect),f.multiSelect.off("singleSelect",this.$onSingleSelect),f.multiSelect.lead.off("change",this.$checkMultiselectChange),f.multiSelect.anchor.off("change",this.$checkMultiselectChange)),o&&(o.multiSelect.on("addRange",this.$onAddRange),o.multiSelect.on("removeRange",this.$onRemoveRange),o.multiSelect.on("multiSelect",this.$onMultiSelect),o.multiSelect.on("singleSelect",this.$onSingleSelect),o.multiSelect.lead.on("change",this.$checkMultiselectChange),o.multiSelect.anchor.on("change",this.$checkMultiselectChange)),o&&this.inMultiSelectMode!=o.selection.inMultiSelectMode&&(o.selection.inMultiSelectMode?this.$onMultiSelect():this.$onSingleSelect())};function y(p){p.$multiselectOnSessionChange||(p.$onAddRange=p.$onAddRange.bind(p),p.$onRemoveRange=p.$onRemoveRange.bind(p),p.$onMultiSelect=p.$onMultiSelect.bind(p),p.$onSingleSelect=p.$onSingleSelect.bind(p),p.$multiselectOnSessionChange=M.onSessionChange.bind(p),p.$checkMultiselectChange=p.$checkMultiselectChange.bind(p),p.$multiselectOnSessionChange(p),p.on("changeSession",p.$multiselectOnSessionChange),p.on("mousedown",a),p.commands.addCommands(e.defaultCommands),k(p))}function k(p){if(!p.textInput)return;var o=p.textInput.getElement(),f=!1;l.addListener(o,"keydown",function(g){var m=g.keyCode==18&&!(g.ctrlKey||g.shiftKey||g.metaKey);p.$blockSelectEnabled&&m?f||(p.renderer.setMouseCursor("crosshair"),f=!0):f&&w()},p),l.addListener(o,"keyup",w,p),l.addListener(o,"blur",w,p);function w(g){f&&(p.renderer.setMouseCursor(""),f=!1)}}M.MultiSelect=y,c("./config").defineOptions(d.prototype,"editor",{enableMultiselect:{set:function(p){y(this),p?(this.on("changeSession",this.$multiselectOnSessionChange),this.on("mousedown",a)):(this.off("changeSession",this.$multiselectOnSessionChange),this.off("mousedown",a))},value:!0},enableBlockSelect:{set:function(p){this.$blockSelectEnabled=p},value:!0}})}),ace.define("ace/mode/folding/fold_mode",["require","exports","module","ace/range"],function(c,M,W){var R=c("../../range").Range,E=M.FoldMode=function(){};(function(){this.foldingStartMarker=null,this.foldingStopMarker=null,this.getFoldWidget=function(h,a,l){var t=h.getLine(l);return this.foldingStartMarker.test(t)?"start":a=="markbeginend"&&this.foldingStopMarker&&this.foldingStopMarker.test(t)?"end":""},this.getFoldWidgetRange=function(h,a,l){return null},this.indentationBlock=function(h,a,l){var t=/\S/,e=h.getLine(a),r=e.search(t);if(r!=-1){for(var n=l||e.length,i=h.getLength(),s=a,d=a;++a<i;){var v=h.getLine(a).search(t);if(v!=-1){if(v<=r){var y=h.getTokenAt(a,0);if(!y||y.type!=="string")break}d=a}}if(d>s){var k=h.getLine(d).length;return new R(s,n,d,k)}}},this.openingBracketBlock=function(h,a,l,t,e){var r={row:l,column:t+1},n=h.$findClosingBracket(a,r,e);if(n){var i=h.foldWidgets[n.row];return i==null&&(i=h.getFoldWidget(n.row)),i=="start"&&n.row>r.row&&(n.row--,n.column=h.getLine(n.row).length),R.fromPoints(r,n)}},this.closingBracketBlock=function(h,a,l,t,e){var r={row:l,column:t},n=h.$findOpeningBracket(a,r);if(n)return n.column++,r.column--,R.fromPoints(n,r)}}).call(E.prototype)}),ace.define("ace/theme/textmate",["require","exports","module","ace/lib/dom"],function(c,M,W){M.isDark=!1,M.cssClass="ace-tm",M.cssText='.ace-tm .ace_gutter {	background: #f0f0f0;	color: #333;	}	.ace-tm .ace_print-margin {	width: 1px;	background: #e8e8e8;	}	.ace-tm .ace_fold {	background-color: #6B72E6;	}	.ace-tm {	background-color: #FFFFFF;	color: black;	}	.ace-tm .ace_cursor {	color: black;	}	.ace-tm .ace_invisible {	color: rgb(191, 191, 191);	}	.ace-tm .ace_storage,	.ace-tm .ace_keyword {	color: blue;	}	.ace-tm .ace_constant {	color: rgb(197, 6, 11);	}	.ace-tm .ace_constant.ace_buildin {	color: rgb(88, 72, 246);	}	.ace-tm .ace_constant.ace_language {	color: rgb(88, 92, 246);	}	.ace-tm .ace_constant.ace_library {	color: rgb(6, 150, 14);	}	.ace-tm .ace_invalid {	background-color: rgba(255, 0, 0, 0.1);	color: red;	}	.ace-tm .ace_support.ace_function {	color: rgb(60, 76, 114);	}	.ace-tm .ace_support.ace_constant {	color: rgb(6, 150, 14);	}	.ace-tm .ace_support.ace_type,	.ace-tm .ace_support.ace_class {	color: rgb(109, 121, 222);	}	.ace-tm .ace_keyword.ace_operator {	color: rgb(104, 118, 135);	}	.ace-tm .ace_string {	color: rgb(3, 106, 7);	}	.ace-tm .ace_comment {	color: rgb(76, 136, 107);	}	.ace-tm .ace_comment.ace_doc {	color: rgb(0, 102, 255);	}	.ace-tm .ace_comment.ace_doc.ace_tag {	color: rgb(128, 159, 191);	}	.ace-tm .ace_constant.ace_numeric {	color: rgb(0, 0, 205);	}	.ace-tm .ace_variable {	color: rgb(49, 132, 149);	}	.ace-tm .ace_xml-pe {	color: rgb(104, 104, 91);	}	.ace-tm .ace_entity.ace_name.ace_function {	color: #0000A2;	}	.ace-tm .ace_heading {	color: rgb(12, 7, 255);	}	.ace-tm .ace_list {	color:rgb(185, 6, 144);	}	.ace-tm .ace_meta.ace_tag {	color:rgb(0, 22, 142);	}	.ace-tm .ace_string.ace_regex {	color: rgb(255, 0, 0)	}	.ace-tm .ace_marker-layer .ace_selection {	background: rgb(181, 213, 255);	}	.ace-tm.ace_multiselect .ace_selection.ace_start {	box-shadow: 0 0 3px 0px white;	}	.ace-tm .ace_marker-layer .ace_step {	background: rgb(252, 255, 0);	}	.ace-tm .ace_marker-layer .ace_stack {	background: rgb(164, 229, 101);	}	.ace-tm .ace_marker-layer .ace_bracket {	margin: -1px 0 0 -1px;	border: 1px solid rgb(192, 192, 192);	}	.ace-tm .ace_marker-layer .ace_active-line {	background: rgba(0, 0, 0, 0.07);	}	.ace-tm .ace_gutter-active-line {	background-color : #dcdcdc;	}	.ace-tm .ace_marker-layer .ace_selected-word {	background: rgb(250, 250, 255);	border: 1px solid rgb(200, 200, 250);	}	.ace-tm .ace_indent-guide {	background: url("data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAEAAAACCAYAAACZgbYnAAAAE0lEQVQImWP4////f4bLly//BwAmVgd1/w11/gAAAABJRU5ErkJggg==") right repeat-y;	}	',M.$id="ace/theme/textmate";var R=c("../lib/dom");R.importCssString(M.cssText,M.cssClass)}),ace.define("ace/line_widgets",["require","exports","module","ace/lib/dom"],function(c,M,W){var R=c("./lib/dom");function E(h){this.session=h,this.session.widgetManager=this,this.session.getRowLength=this.getRowLength,this.session.$getWidgetScreenLength=this.$getWidgetScreenLength,this.updateOnChange=this.updateOnChange.bind(this),this.renderWidgets=this.renderWidgets.bind(this),this.measureWidgets=this.measureWidgets.bind(this),this.session._changedWidgets=[],this.$onChangeEditor=this.$onChangeEditor.bind(this),this.session.on("change",this.updateOnChange),this.session.on("changeFold",this.updateOnFold),this.session.on("changeEditor",this.$onChangeEditor)}(function(){this.getRowLength=function(h){var a;return this.lineWidgets?a=this.lineWidgets[h]&&this.lineWidgets[h].rowCount||0:a=0,!this.$useWrapMode||!this.$wrapData[h]?1+a:this.$wrapData[h].length+1+a},this.$getWidgetScreenLength=function(){var h=0;return this.lineWidgets.forEach(function(a){a&&a.rowCount&&!a.hidden&&(h+=a.rowCount)}),h},this.$onChangeEditor=function(h){this.attach(h.editor)},this.attach=function(h){h&&h.widgetManager&&h.widgetManager!=this&&h.widgetManager.detach(),this.editor!=h&&(this.detach(),this.editor=h,h&&(h.widgetManager=this,h.renderer.on("beforeRender",this.measureWidgets),h.renderer.on("afterRender",this.renderWidgets)))},this.detach=function(h){var a=this.editor;if(a){this.editor=null,a.widgetManager=null,a.renderer.off("beforeRender",this.measureWidgets),a.renderer.off("afterRender",this.renderWidgets);var l=this.session.lineWidgets;l&&l.forEach(function(t){t&&t.el&&t.el.parentNode&&(t._inDocument=!1,t.el.parentNode.removeChild(t.el))})}},this.updateOnFold=function(h,a){var l=a.lineWidgets;if(!(!l||!h.action)){for(var t=h.data,e=t.start.row,r=t.end.row,n=h.action=="add",i=e+1;i<r;i++)l[i]&&(l[i].hidden=n);l[r]&&(n?l[e]?l[r].hidden=n:l[e]=l[r]:(l[e]==l[r]&&(l[e]=void 0),l[r].hidden=n))}},this.updateOnChange=function(h){var a=this.session.lineWidgets;if(a){var l=h.start.row,t=h.end.row-l;if(t!==0)if(h.action=="remove"){var e=a.splice(l+1,t);!a[l]&&e[e.length-1]&&(a[l]=e.pop()),e.forEach(function(n){n&&this.removeLineWidget(n)},this),this.$updateRows()}else{var r=new Array(t);a[l]&&a[l].column!=null&&h.start.column>a[l].column&&l++,r.unshift(l,0),a.splice.apply(a,r),this.$updateRows()}}},this.$updateRows=function(){var h=this.session.lineWidgets;if(h){var a=!0;h.forEach(function(l,t){if(l)for(a=!1,l.row=t;l.$oldWidget;)l.$oldWidget.row=t,l=l.$oldWidget}),a&&(this.session.lineWidgets=null)}},this.$registerLineWidget=function(h){this.session.lineWidgets||(this.session.lineWidgets=new Array(this.session.getLength()));var a=this.session.lineWidgets[h.row];return a&&(h.$oldWidget=a,a.el&&a.el.parentNode&&(a.el.parentNode.removeChild(a.el),a._inDocument=!1)),this.session.lineWidgets[h.row]=h,h},this.addLineWidget=function(h){if(this.$registerLineWidget(h),h.session=this.session,!this.editor)return h;var a=this.editor.renderer;h.html&&!h.el&&(h.el=R.createElement("div"),h.el.innerHTML=h.html),h.el&&(R.addCssClass(h.el,"ace_lineWidgetContainer"),h.el.style.position="absolute",h.el.style.zIndex=5,a.container.appendChild(h.el),h._inDocument=!0,h.coverGutter||(h.el.style.zIndex=3),h.pixelHeight==null&&(h.pixelHeight=h.el.offsetHeight)),h.rowCount==null&&(h.rowCount=h.pixelHeight/a.layerConfig.lineHeight);var l=this.session.getFoldAt(h.row,0);if(h.$fold=l,l){var t=this.session.lineWidgets;h.row==l.end.row&&!t[l.start.row]?t[l.start.row]=h:h.hidden=!0}return this.session._emit("changeFold",{data:{start:{row:h.row}}}),this.$updateRows(),this.renderWidgets(null,a),this.onWidgetChanged(h),h},this.removeLineWidget=function(h){if(h._inDocument=!1,h.session=null,h.el&&h.el.parentNode&&h.el.parentNode.removeChild(h.el),h.editor&&h.editor.destroy)try{h.editor.destroy()}catch{}if(this.session.lineWidgets){var a=this.session.lineWidgets[h.row];if(a==h)this.session.lineWidgets[h.row]=h.$oldWidget,h.$oldWidget&&this.onWidgetChanged(h.$oldWidget);else for(;a;){if(a.$oldWidget==h){a.$oldWidget=h.$oldWidget;break}a=a.$oldWidget}}this.session._emit("changeFold",{data:{start:{row:h.row}}}),this.$updateRows()},this.getWidgetsAtRow=function(h){for(var a=this.session.lineWidgets,l=a&&a[h],t=[];l;)t.push(l),l=l.$oldWidget;return t},this.onWidgetChanged=function(h){this.session._changedWidgets.push(h),this.editor&&this.editor.renderer.updateFull()},this.measureWidgets=function(h,a){var l=this.session._changedWidgets,t=a.layerConfig;if(!(!l||!l.length)){for(var e=1/0,r=0;r<l.length;r++){var n=l[r];if(!(!n||!n.el)&&n.session==this.session){if(!n._inDocument){if(this.session.lineWidgets[n.row]!=n)continue;n._inDocument=!0,a.container.appendChild(n.el)}n.h=n.el.offsetHeight,n.fixedWidth||(n.w=n.el.offsetWidth,n.screenWidth=Math.ceil(n.w/t.characterWidth));var i=n.h/t.lineHeight;n.coverLine&&(i-=this.session.getRowLineCount(n.row),i<0&&(i=0)),n.rowCount!=i&&(n.rowCount=i,n.row<e&&(e=n.row))}}e!=1/0&&(this.session._emit("changeFold",{data:{start:{row:e}}}),this.session.lineWidgetWidth=null),this.session._changedWidgets=[]}},this.renderWidgets=function(h,a){var l=a.layerConfig,t=this.session.lineWidgets;if(t){for(var e=Math.min(this.firstRow,l.firstRow),r=Math.max(this.lastRow,l.lastRow,t.length);e>0&&!t[e];)e--;this.firstRow=l.firstRow,this.lastRow=l.lastRow,a.$cursorLayer.config=l;for(var n=e;n<=r;n++){var i=t[n];if(!(!i||!i.el)){if(i.hidden){i.el.style.top=-100-(i.pixelHeight||0)+"px";continue}i._inDocument||(i._inDocument=!0,a.container.appendChild(i.el));var s=a.$cursorLayer.getPixelPosition({row:n,column:0},!0).top;i.coverLine||(s+=l.lineHeight*this.session.getRowLineCount(i.row)),i.el.style.top=s-l.offset+"px";var d=i.coverGutter?0:a.gutterWidth;i.fixedWidth||(d-=a.scrollLeft),i.el.style.left=d+"px",i.fullWidth&&i.screenWidth&&(i.el.style.minWidth=l.width+2*l.padding+"px"),i.fixedWidth?i.el.style.right=a.scrollBar.getWidth()+"px":i.el.style.right=""}}}}}).call(E.prototype),M.LineWidgets=E}),ace.define("ace/ext/error_marker",["require","exports","module","ace/line_widgets","ace/lib/dom","ace/range"],function(c,M,W){var R=c("../line_widgets").LineWidgets,E=c("../lib/dom"),h=c("../range").Range;function a(t,e,r){for(var n=0,i=t.length-1;n<=i;){var s=n+i>>1,d=r(e,t[s]);if(d>0)n=s+1;else if(d<0)i=s-1;else return s}return-(n+1)}function l(t,e,r){var n=t.getAnnotations().sort(h.comparePoints);if(n.length){var i=a(n,{row:e,column:-1},h.comparePoints);i<0&&(i=-i-1),i>=n.length?i=r>0?0:n.length-1:i===0&&r<0&&(i=n.length-1);var s=n[i];if(!(!s||!r)){if(s.row===e){do s=n[i+=r];while(s&&s.row===e);if(!s)return n.slice()}var d=[];e=s.row;do d[r<0?"unshift":"push"](s),s=n[i+=r];while(s&&s.row==e);return d.length&&d}}}M.showErrorMarker=function(t,e){var r=t.session;r.widgetManager||(r.widgetManager=new R(r),r.widgetManager.attach(t));var n=t.getCursorPosition(),i=n.row,s=r.widgetManager.getWidgetsAtRow(i).filter(function(g){return g.type=="errorMarker"})[0];s?s.destroy():i-=e;var d=l(r,i,e),v;if(d){var y=d[0];n.column=(y.pos&&typeof y.column!="number"?y.pos.sc:y.column)||0,n.row=y.row,v=t.renderer.$gutterLayer.$annotations[n.row]}else{if(s)return;v={text:["Looks good!"],className:"ace_ok"}}t.session.unfold(n.row),t.selection.moveToPosition(n);var k={row:n.row,fixedWidth:!0,coverGutter:!0,el:E.createElement("div"),type:"errorMarker"},p=k.el.appendChild(E.createElement("div")),o=k.el.appendChild(E.createElement("div"));o.className="error_widget_arrow "+v.className;var f=t.renderer.$cursorLayer.getPixelPosition(n).left;o.style.left=f+t.renderer.gutterWidth-5+"px",k.el.className="error_widget_wrapper",p.className="error_widget "+v.className,p.innerHTML=v.text.join("<br>"),p.appendChild(E.createElement("div"));var w=function(g,m,u){if(m===0&&(u==="esc"||u==="return"))return k.destroy(),{command:"null"}};k.destroy=function(){t.$mouseHandler.isMousePressed||(t.keyBinding.removeKeyboardHandler(w),r.widgetManager.removeLineWidget(k),t.off("changeSelection",k.destroy),t.off("changeSession",k.destroy),t.off("mouseup",k.destroy),t.off("change",k.destroy))},t.keyBinding.addKeyboardHandler(w),t.on("changeSelection",k.destroy),t.on("changeSession",k.destroy),t.on("mouseup",k.destroy),t.on("change",k.destroy),t.session.widgetManager.addLineWidget(k),k.el.onmousedown=t.focus.bind(t),t.renderer.scrollCursorIntoView(null,.5,{bottom:k.el.offsetHeight})},E.importCssString("	    .error_widget_wrapper {	        background: inherit;	        color: inherit;	        border:none	    }	    .error_widget {	        border-top: solid 2px;	        border-bottom: solid 2px;	        margin: 5px 0;	        padding: 10px 40px;	        white-space: pre-wrap;	    }	    .error_widget.ace_error, .error_widget_arrow.ace_error{	        border-color: #ff5a5a	    }	    .error_widget.ace_warning, .error_widget_arrow.ace_warning{	        border-color: #F1D817	    }	    .error_widget.ace_info, .error_widget_arrow.ace_info{	        border-color: #5a5a5a	    }	    .error_widget.ace_ok, .error_widget_arrow.ace_ok{	        border-color: #5aaa5a	    }	    .error_widget_arrow {	        position: absolute;	        border: solid 5px;	        border-top-color: transparent!important;	        border-right-color: transparent!important;	        border-left-color: transparent!important;	        top: -5px;	    }	","")}),ace.define("ace/ace",["require","exports","module","ace/lib/fixoldbrowsers","ace/lib/dom","ace/lib/event","ace/range","ace/editor","ace/edit_session","ace/undomanager","ace/virtual_renderer","ace/worker/worker_client","ace/keyboard/hash_handler","ace/placeholder","ace/multi_select","ace/mode/folding/fold_mode","ace/theme/textmate","ace/ext/error_marker","ace/config"],function(c,M,W){c("./lib/fixoldbrowsers");var R=c("./lib/dom"),E=c("./lib/event"),h=c("./range").Range,a=c("./editor").Editor,l=c("./edit_session").EditSession,t=c("./undomanager").UndoManager,e=c("./virtual_renderer").VirtualRenderer;c("./worker/worker_client"),c("./keyboard/hash_handler"),c("./placeholder"),c("./multi_select"),c("./mode/folding/fold_mode"),c("./theme/textmate"),c("./ext/error_marker"),M.config=c("./config"),M.require=c,M.edit=function(r,n){if(typeof r=="string"){var i=r;if(r=document.getElementById(i),!r)throw new Error("ace.edit can't find div #"+i)}if(r&&r.env&&r.env.editor instanceof a)return r.env.editor;var s="";if(r&&/input|textarea/i.test(r.tagName)){var d=r;s=d.value,r=R.createElement("pre"),d.parentNode.replaceChild(r,d)}else r&&(s=r.textContent,r.innerHTML="");var v=M.createEditSession(s),y=new a(new e(r),v,n),k={document:v,editor:y,onResize:y.resize.bind(y,null)};return d&&(k.textarea=d),E.addListener(window,"resize",k.onResize),y.on("destroy",function(){E.removeListener(window,"resize",k.onResize),k.editor.container.env=null}),y.container.env=y.env=k,y},M.createEditSession=function(r,n){var i=new l(r,n);return i.setUndoManager(new t),i},M.Range=h,M.Editor=a,M.EditSession=l,M.UndoManager=t,M.VirtualRenderer=e,M.version=M.config.version}),function(){ace.require(["ace/ace"],function(c){c&&(c.config.init(!0),c.define=ace.define),window.ace||(window.ace=c);for(var M in c)c.hasOwnProperty(M)&&(window.ace[M]=c[M]);window.ace.default=window.ace,X&&(X.exports=window.ace)})}()})(Vn);var cn=Vn.exports;const pi=bn(cn),Kr=di({__proto__:null,default:pi},[cn]);var vi={exports:{}};(function(X,Y){ace.define("ace/mode/coffee_highlight_rules",["require","exports","module","ace/lib/oop","ace/mode/text_highlight_rules"],function(c,M,W){var R=c("../lib/oop"),E=c("./text_highlight_rules").TextHighlightRules;R.inherits(h,E);function h(){var a="[$A-Za-z_\\x7f-\\uffff][$\\w\\x7f-\\uffff]*",l="this|throw|then|try|typeof|super|switch|return|break|by|continue|catch|class|in|instanceof|is|isnt|if|else|extends|for|own|finally|function|while|when|new|no|not|delete|debugger|do|loop|of|off|or|on|unless|until|and|yes|yield|export|import|default",t="true|false|null|undefined|NaN|Infinity",e="case|const|function|var|void|with|enum|implements|interface|let|package|private|protected|public|static",r="Array|Boolean|Date|Function|Number|Object|RegExp|ReferenceError|String|Error|EvalError|InternalError|RangeError|ReferenceError|StopIteration|SyntaxError|TypeError|URIError|ArrayBuffer|Float32Array|Float64Array|Int16Array|Int32Array|Int8Array|Uint16Array|Uint32Array|Uint8Array|Uint8ClampedArray",n="Math|JSON|isNaN|isFinite|parseInt|parseFloat|encodeURI|encodeURIComponent|decodeURI|decodeURIComponent|String|",i="window|arguments|prototype|document",s=this.createKeywordMapper({keyword:l,"constant.language":t,"invalid.illegal":e,"language.support.class":r,"language.support.function":n,"variable.language":i},"identifier"),d={token:["paren.lparen","variable.parameter","paren.rparen","text","storage.type"],regex:/(?:(\()((?:"[^")]*?"|'[^')]*?'|\/[^\/)]*?\/|[^()"'\/])*?)(\))(\s*))?([\-=]>)/.source},v=/\\(?:x[0-9a-fA-F]{2}|u[0-9a-fA-F]{4}|[0-2][0-7]{0,2}|3[0-6][0-7]?|37[0-7]?|[4-7][0-7]?|.)/;this.$rules={start:[{token:"constant.numeric",regex:"(?:0x[\\da-fA-F]+|(?:\\d+(?:\\.\\d+)?|\\.\\d+)(?:[eE][+-]?\\d+)?)"},{stateName:"qdoc",token:"string",regex:"'''",next:[{token:"string",regex:"'''",next:"start"},{token:"constant.language.escape",regex:v},{defaultToken:"string"}]},{stateName:"qqdoc",token:"string",regex:'"""',next:[{token:"string",regex:'"""',next:"start"},{token:"paren.string",regex:"#{",push:"start"},{token:"constant.language.escape",regex:v},{defaultToken:"string"}]},{stateName:"qstring",token:"string",regex:"'",next:[{token:"string",regex:"'",next:"start"},{token:"constant.language.escape",regex:v},{defaultToken:"string"}]},{stateName:"qqstring",token:"string.start",regex:'"',next:[{token:"string.end",regex:'"',next:"start"},{token:"paren.string",regex:"#{",push:"start"},{token:"constant.language.escape",regex:v},{defaultToken:"string"}]},{stateName:"js",token:"string",regex:"`",next:[{token:"string",regex:"`",next:"start"},{token:"constant.language.escape",regex:v},{defaultToken:"string"}]},{regex:"[{}]",onMatch:function(y,k,p){return this.next="",y=="{"&&p.length?(p.unshift("start",k),"paren"):y=="}"&&p.length&&(p.shift(),this.next=p.shift()||"",this.next.indexOf("string")!=-1)?"paren.string":"paren"}},{token:"string.regex",regex:"///",next:"heregex"},{token:"string.regex",regex:/(?:\/(?![\s=])[^[\/\n\\]*(?:(?:\\[\s\S]|\[[^\]\n\\]*(?:\\[\s\S][^\]\n\\]*)*])[^[\/\n\\]*)*\/)(?:[imgy]{0,4})(?!\w)/},{token:"comment",regex:"###(?!#)",next:"comment"},{token:"comment",regex:"#.*"},{token:["punctuation.operator","text","identifier"],regex:"(\\.)(\\s*)("+e+")"},{token:"punctuation.operator",regex:"\\.{1,3}"},{token:["keyword","text","language.support.class","text","keyword","text","language.support.class"],regex:"(class)(\\s+)("+a+")(?:(\\s+)(extends)(\\s+)("+a+"))?"},{token:["entity.name.function","text","keyword.operator","text"].concat(d.token),regex:"("+a+")(\\s*)([=:])(\\s*)"+d.regex},d,{token:"variable",regex:"@(?:"+a+")?"},{token:s,regex:a},{token:"punctuation.operator",regex:"\\,|\\."},{token:"storage.type",regex:"[\\-=]>"},{token:"keyword.operator",regex:"(?:[-+*/%<>&|^!?=]=|>>>=?|\\-\\-|\\+\\+|::|&&=|\\|\\|=|<<=|>>=|\\?\\.|\\.{2,3}|[!*+-=><])"},{token:"paren.lparen",regex:"[({[]"},{token:"paren.rparen",regex:"[\\]})]"},{token:"text",regex:"\\s+"}],heregex:[{token:"string.regex",regex:".*?///[imgy]{0,4}",next:"start"},{token:"comment.regex",regex:"\\s+(?:#.*)?"},{token:"string.regex",regex:"\\S+"}],comment:[{token:"comment",regex:"###",next:"start"},{defaultToken:"comment"}]},this.normalizeRules()}M.CoffeeHighlightRules=h}),ace.define("ace/mode/matching_brace_outdent",["require","exports","module","ace/range"],function(c,M,W){var R=c("../range").Range,E=function(){};(function(){this.checkOutdent=function(h,a){return/^\s+$/.test(h)?/^\s*\}/.test(a):!1},this.autoOutdent=function(h,a){var l=h.getLine(a),t=l.match(/^(\s*\})/);if(!t)return 0;var e=t[1].length,r=h.findMatchingBracket({row:a,column:e});if(!r||r.row==a)return 0;var n=this.$getIndent(h.getLine(r.row));h.replace(new R(a,0,a,e-1),n)},this.$getIndent=function(h){return h.match(/^\s*/)[0]}}).call(E.prototype),M.MatchingBraceOutdent=E}),ace.define("ace/mode/folding/coffee",["require","exports","module","ace/lib/oop","ace/mode/folding/fold_mode","ace/range"],function(c,M,W){var R=c("../../lib/oop"),E=c("./fold_mode").FoldMode,h=c("../../range").Range,a=M.FoldMode=function(){};R.inherits(a,E),(function(){this.getFoldWidgetRange=function(l,t,e){var r=this.indentationBlock(l,e);if(r)return r;var n=/\S/,i=l.getLine(e),s=i.search(n);if(!(s==-1||i[s]!="#")){for(var d=i.length,v=l.getLength(),y=e,k=e;++e<v;){i=l.getLine(e);var p=i.search(n);if(p!=-1){if(i[p]!="#")break;k=e}}if(k>y){var o=l.getLine(k).length;return new h(y,d,k,o)}}},this.getFoldWidget=function(l,t,e){var r=l.getLine(e),n=r.search(/\S/),i=l.getLine(e+1),s=l.getLine(e-1),d=s.search(/\S/),v=i.search(/\S/);if(n==-1)return l.foldWidgets[e-1]=d!=-1&&d<v?"start":"","";if(d==-1){if(n==v&&r[n]=="#"&&i[n]=="#")return l.foldWidgets[e-1]="",l.foldWidgets[e+1]="","start"}else if(d==n&&r[n]=="#"&&s[n]=="#"&&l.getLine(e-2).search(/\S/)==-1)return l.foldWidgets[e-1]="start",l.foldWidgets[e+1]="","";return d!=-1&&d<n?l.foldWidgets[e-1]="start":l.foldWidgets[e-1]="",n<v?"start":""}}).call(a.prototype)}),ace.define("ace/mode/coffee",["require","exports","module","ace/mode/coffee_highlight_rules","ace/mode/matching_brace_outdent","ace/mode/folding/coffee","ace/range","ace/mode/text","ace/worker/worker_client","ace/lib/oop"],function(c,M,W){var R=c("./coffee_highlight_rules").CoffeeHighlightRules,E=c("./matching_brace_outdent").MatchingBraceOutdent,h=c("./folding/coffee").FoldMode;c("../range").Range;var a=c("./text").Mode,l=c("../worker/worker_client").WorkerClient,t=c("../lib/oop");function e(){this.HighlightRules=R,this.$outdent=new E,this.foldingRules=new h}t.inherits(e,a),(function(){var r=/(?:[({[=:]|[-=]>|\b(?:else|try|(?:swi|ca)tch(?:\s+[$A-Za-z_\x7f-\uffff][$\w\x7f-\uffff]*)?|finally))\s*$|^\s*(else\b\s*)?(?:if|for|while|loop)\b(?!.*\bthen\b)/;this.lineCommentStart="#",this.blockComment={start:"###",end:"###"},this.getNextLineIndent=function(n,i,s){var d=this.$getIndent(i),v=this.getTokenizer().getLineTokens(i,n).tokens;return!(v.length&&v[v.length-1].type==="comment")&&n==="start"&&r.test(i)&&(d+=s),d},this.checkOutdent=function(n,i,s){return this.$outdent.checkOutdent(i,s)},this.autoOutdent=function(n,i,s){this.$outdent.autoOutdent(i,s)},this.createWorker=function(n){var i=new l(["ace"],"ace/mode/coffee_worker","Worker");return i.attachToDocument(n.getDocument()),i.on("annotate",function(s){n.setAnnotations(s.data)}),i.on("terminate",function(){n.clearAnnotations()}),i},this.$id="ace/mode/coffee",this.snippetFileId="ace/snippets/coffee"}).call(e.prototype),M.Mode=e}),function(){ace.require(["ace/mode/coffee"],function(c){X&&(X.exports=c)})}()})(vi);var wi={exports:{}};(function(X,Y){ace.define("ace/theme/tomorrow",["require","exports","module","ace/lib/dom"],function(c,M,W){M.isDark=!1,M.cssClass="ace-tomorrow",M.cssText=".ace-tomorrow .ace_gutter {	background: #f6f6f6;	color: #4D4D4C	}	.ace-tomorrow .ace_print-margin {	width: 1px;	background: #f6f6f6	}	.ace-tomorrow {	background-color: #FFFFFF;	color: #4D4D4C	}	.ace-tomorrow .ace_cursor {	color: #AEAFAD	}	.ace-tomorrow .ace_marker-layer .ace_selection {	background: #D6D6D6	}	.ace-tomorrow.ace_multiselect .ace_selection.ace_start {	box-shadow: 0 0 3px 0px #FFFFFF;	}	.ace-tomorrow .ace_marker-layer .ace_step {	background: rgb(255, 255, 0)	}	.ace-tomorrow .ace_marker-layer .ace_bracket {	margin: -1px 0 0 -1px;	border: 1px solid #D1D1D1	}	.ace-tomorrow .ace_marker-layer .ace_active-line {	background: #EFEFEF	}	.ace-tomorrow .ace_gutter-active-line {	background-color : #dcdcdc	}	.ace-tomorrow .ace_marker-layer .ace_selected-word {	border: 1px solid #D6D6D6	}	.ace-tomorrow .ace_invisible {	color: #D1D1D1	}	.ace-tomorrow .ace_keyword,	.ace-tomorrow .ace_meta,	.ace-tomorrow .ace_storage,	.ace-tomorrow .ace_storage.ace_type,	.ace-tomorrow .ace_support.ace_type {	color: #8959A8	}	.ace-tomorrow .ace_keyword.ace_operator {	color: #3E999F	}	.ace-tomorrow .ace_constant.ace_character,	.ace-tomorrow .ace_constant.ace_language,	.ace-tomorrow .ace_constant.ace_numeric,	.ace-tomorrow .ace_keyword.ace_other.ace_unit,	.ace-tomorrow .ace_support.ace_constant,	.ace-tomorrow .ace_variable.ace_parameter {	color: #F5871F	}	.ace-tomorrow .ace_constant.ace_other {	color: #666969	}	.ace-tomorrow .ace_invalid {	color: #FFFFFF;	background-color: #C82829	}	.ace-tomorrow .ace_invalid.ace_deprecated {	color: #FFFFFF;	background-color: #8959A8	}	.ace-tomorrow .ace_fold {	background-color: #4271AE;	border-color: #4D4D4C	}	.ace-tomorrow .ace_entity.ace_name.ace_function,	.ace-tomorrow .ace_support.ace_function,	.ace-tomorrow .ace_variable {	color: #4271AE	}	.ace-tomorrow .ace_support.ace_class,	.ace-tomorrow .ace_support.ace_type {	color: #C99E00	}	.ace-tomorrow .ace_heading,	.ace-tomorrow .ace_markup.ace_heading,	.ace-tomorrow .ace_string {	color: #718C00	}	.ace-tomorrow .ace_entity.ace_name.ace_tag,	.ace-tomorrow .ace_entity.ace_other.ace_attribute-name,	.ace-tomorrow .ace_meta.ace_tag,	.ace-tomorrow .ace_string.ace_regexp,	.ace-tomorrow .ace_variable {	color: #C82829	}	.ace-tomorrow .ace_comment {	color: #8E908C	}	.ace-tomorrow .ace_indent-guide {	background: url(data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAEAAAACCAYAAACZgbYnAAAAE0lEQVQImWP4////f4bdu3f/BwAlfgctduB85QAAAABJRU5ErkJggg==) right repeat-y	}";var R=c("../lib/dom");R.importCssString(M.cssText,M.cssClass)}),function(){ace.require(["ace/theme/tomorrow"],function(c){X&&(X.exports=c)})}()})(wi);var yi={exports:{}};(function(X,Y){ace.define("ace/snippets",["require","exports","module","ace/lib/oop","ace/lib/event_emitter","ace/lib/lang","ace/range","ace/range_list","ace/keyboard/hash_handler","ace/tokenizer","ace/clipboard","ace/lib/dom","ace/editor"],function(c,M,W){var R=c("./lib/oop"),E=c("./lib/event_emitter").EventEmitter,h=c("./lib/lang"),a=c("./range").Range,l=c("./range_list").RangeList,t=c("./keyboard/hash_handler").HashHandler,e=c("./tokenizer").Tokenizer,r=c("./clipboard"),n={CURRENT_WORD:function(p){return p.session.getTextRange(p.session.getWordRange())},SELECTION:function(p,o,f){var w=p.session.getTextRange();return f?w.replace(/\n\r?([ \t]*\S)/g,`
`+f+"$1"):w},CURRENT_LINE:function(p){return p.session.getLine(p.getCursorPosition().row)},PREV_LINE:function(p){return p.session.getLine(p.getCursorPosition().row-1)},LINE_INDEX:function(p){return p.getCursorPosition().row},LINE_NUMBER:function(p){return p.getCursorPosition().row+1},SOFT_TABS:function(p){return p.session.getUseSoftTabs()?"YES":"NO"},TAB_SIZE:function(p){return p.session.getTabSize()},CLIPBOARD:function(p){return r.getText&&r.getText()},FILENAME:function(p){return/[^/\\]*$/.exec(this.FILEPATH(p))[0]},FILENAME_BASE:function(p){return/[^/\\]*$/.exec(this.FILEPATH(p))[0].replace(/\.[^.]*$/,"")},DIRECTORY:function(p){return this.FILEPATH(p).replace(/[^/\\]*$/,"")},FILEPATH:function(p){return"/not implemented.txt"},WORKSPACE_NAME:function(){return"Unknown"},FULLNAME:function(){return"Unknown"},BLOCK_COMMENT_START:function(p){var o=p.session.$mode||{};return o.blockComment&&o.blockComment.start||""},BLOCK_COMMENT_END:function(p){var o=p.session.$mode||{};return o.blockComment&&o.blockComment.end||""},LINE_COMMENT:function(p){var o=p.session.$mode||{};return o.lineCommentStart||""},CURRENT_YEAR:i.bind(null,{year:"numeric"}),CURRENT_YEAR_SHORT:i.bind(null,{year:"2-digit"}),CURRENT_MONTH:i.bind(null,{month:"numeric"}),CURRENT_MONTH_NAME:i.bind(null,{month:"long"}),CURRENT_MONTH_NAME_SHORT:i.bind(null,{month:"short"}),CURRENT_DATE:i.bind(null,{day:"2-digit"}),CURRENT_DAY_NAME:i.bind(null,{weekday:"long"}),CURRENT_DAY_NAME_SHORT:i.bind(null,{weekday:"short"}),CURRENT_HOUR:i.bind(null,{hour:"2-digit",hour12:!1}),CURRENT_MINUTE:i.bind(null,{minute:"2-digit"}),CURRENT_SECOND:i.bind(null,{second:"2-digit"})};n.SELECTED_TEXT=n.SELECTION;function i(p){var o=new Date().toLocaleString("en-us",p);return o.length==1?"0"+o:o}var s=function(){this.snippetMap={},this.snippetNameMap={}};(function(){R.implement(this,E),this.getTokenizer=function(){return s.$tokenizer||this.createTokenizer()},this.createTokenizer=function(){function p(w){return w=w.substr(1),/^\d+$/.test(w)?[{tabstopId:parseInt(w,10)}]:[{text:w}]}function o(w){return"(?:[^\\\\"+w+"]|\\\\.)"}var f={regex:"/("+o("/")+"+)/",onMatch:function(w,g,m){var u=m[0];return u.fmtString=!0,u.guard=w.slice(1,-1),u.flag="",""},next:"formatString"};return s.$tokenizer=new e({start:[{regex:/\\./,onMatch:function(w,g,m){var u=w[1];return(u=="}"&&m.length||"`$\\".indexOf(u)!=-1)&&(w=u),[w]}},{regex:/}/,onMatch:function(w,g,m){return[m.length?m.shift():w]}},{regex:/\$(?:\d+|\w+)/,onMatch:p},{regex:/\$\{[\dA-Z_a-z]+/,onMatch:function(w,g,m){var u=p(w.substr(1));return m.unshift(u[0]),u},next:"snippetVar"},{regex:/\n/,token:"newline",merge:!1}],snippetVar:[{regex:"\\|"+o("\\|")+"*\\|",onMatch:function(w,g,m){var u=w.slice(1,-1).replace(/\\[,|\\]|,/g,function(F){return F.length==2?F[1]:"\0"}).split("\0").map(function(F){return{value:F}});return m[0].choices=u,[u[0]]},next:"start"},f,{regex:"([^:}\\\\]|\\\\.)*:?",token:"",next:"start"}],formatString:[{regex:/:/,onMatch:function(w,g,m){return m.length&&m[0].expectElse?(m[0].expectElse=!1,m[0].ifEnd={elseEnd:m[0]},[m[0].ifEnd]):":"}},{regex:/\\./,onMatch:function(w,g,m){var u=w[1];return u=="}"&&m.length||"`$\\".indexOf(u)!=-1?w=u:u=="n"?w=`
`:u=="t"?w="	":"ulULE".indexOf(u)!=-1&&(w={changeCase:u,local:u>"a"}),[w]}},{regex:"/\\w*}",onMatch:function(w,g,m){var u=m.shift();return u&&(u.flag=w.slice(1,-1)),this.next=u&&u.tabstopId?"start":"",[u||w]},next:"start"},{regex:/\$(?:\d+|\w+)/,onMatch:function(w,g,m){return[{text:w.slice(1)}]}},{regex:/\${\w+/,onMatch:function(w,g,m){var u={text:w.slice(2)};return m.unshift(u),[u]},next:"formatStringVar"},{regex:/\n/,token:"newline",merge:!1},{regex:/}/,onMatch:function(w,g,m){var u=m.shift();return this.next=u&&u.tabstopId?"start":"",[u||w]},next:"start"}],formatStringVar:[{regex:/:\/\w+}/,onMatch:function(w,g,m){var u=m[0];return u.formatFunction=w.slice(2,-1),[m.shift()]},next:"formatString"},f,{regex:/:[\?\-+]?/,onMatch:function(w,g,m){w[1]=="+"&&(m[0].ifEnd=m[0]),w[1]=="?"&&(m[0].expectElse=!0)},next:"formatString"},{regex:"([^:}\\\\]|\\\\.)*:?",token:"",next:"formatString"}]}),s.$tokenizer},this.tokenizeTmSnippet=function(p,o){return this.getTokenizer().getLineTokens(p,o).tokens.map(function(f){return f.value||f})},this.getVariableValue=function(p,o,f){if(/^\d+$/.test(o))return(this.variables.__||{})[o]||"";if(/^[A-Z]\d+$/.test(o))return(this.variables[o[0]+"__"]||{})[o.substr(1)]||"";if(o=o.replace(/^TM_/,""),!this.variables.hasOwnProperty(o))return"";var w=this.variables[o];return typeof w=="function"&&(w=this.variables[o](p,o,f)),w??""},this.variables=n,this.tmStrFormat=function(p,o,f){if(!o.fmt)return p;var w=o.flag||"",g=o.guard;g=new RegExp(g,w.replace(/[^gim]/g,""));var m=typeof o.fmt=="string"?this.tokenizeTmSnippet(o.fmt,"formatString"):o.fmt,u=this,F=p.replace(g,function(){var S=u.variables.__;u.variables.__=[].slice.call(arguments);for(var L=u.resolveVariables(m,f),A="E",P=0;P<L.length;P++){var H=L[P];if(typeof H=="object")if(L[P]="",H.changeCase&&H.local){var j=L[P+1];j&&typeof j=="string"&&(H.changeCase=="u"?L[P]=j[0].toUpperCase():L[P]=j[0].toLowerCase(),L[P+1]=j.substr(1))}else H.changeCase&&(A=H.changeCase);else A=="U"?L[P]=H.toUpperCase():A=="L"&&(L[P]=H.toLowerCase())}return u.variables.__=S,L.join("")});return F},this.tmFormatFunction=function(p,o,f){return o.formatFunction=="upcase"?p.toUpperCase():o.formatFunction=="downcase"?p.toLowerCase():p},this.resolveVariables=function(p,o){for(var f=[],w="",g=!0,m=0;m<p.length;m++){var u=p[m];if(typeof u=="string"){f.push(u),u==`
`?(g=!0,w=""):g&&(w=/^\t*/.exec(u)[0],g=/\S/.test(u));continue}if(u){if(g=!1,u.fmtString){var F=p.indexOf(u,m+1);F==-1&&(F=p.length),u.fmt=p.slice(m+1,F),m=F}if(u.text){var S=this.getVariableValue(o,u.text,w)+"";u.fmtString&&(S=this.tmStrFormat(S,u,o)),u.formatFunction&&(S=this.tmFormatFunction(S,u,o)),S&&!u.ifEnd?(f.push(S),L(u)):!S&&u.ifEnd&&L(u.ifEnd)}else u.elseEnd?L(u.elseEnd):(u.tabstopId!=null||u.changeCase!=null)&&f.push(u)}}function L(A){var P=p.indexOf(A,m+1);P!=-1&&(m=P)}return f},this.insertSnippetForSelection=function(p,o){var f=p.getCursorPosition(),w=p.session.getLine(f.row),g=p.session.getTabString(),m=w.match(/^\s*/)[0];f.column<m.length&&(m=m.slice(0,f.column)),o=o.replace(/\r/g,"");var u=this.tokenizeTmSnippet(o);u=this.resolveVariables(u,p),u=u.map(function(Fe){return Fe==`
`?Fe+m:typeof Fe=="string"?Fe.replace(/\t/g,g):Fe});var F=[];u.forEach(function(Fe,Te){if(typeof Fe=="object"){var Be=Fe.tabstopId,Me=F[Be];if(Me||(Me=F[Be]=[],Me.index=Be,Me.value="",Me.parents={}),Me.indexOf(Fe)===-1){Fe.choices&&!Me.choices&&(Me.choices=Fe.choices),Me.push(Fe);var He=u.indexOf(Fe,Te+1);if(He!==-1){var qe=u.slice(Te+1,He),Qe=qe.some(function(O){return typeof O=="object"});Qe&&!Me.value?Me.value=qe:qe.length&&(!Me.value||typeof Me.value!="string")&&(Me.value=qe.join(""))}}}}),F.forEach(function(Fe){Fe.length=0});var S={};function L(Fe){for(var Te=[],Be=0;Be<Fe.length;Be++){var Me=Fe[Be];if(typeof Me=="object"){if(S[Me.tabstopId])continue;var He=Fe.lastIndexOf(Me,Be-1);Me=Te[He]||{tabstopId:Me.tabstopId}}Te[Be]=Me}return Te}for(var A=0;A<u.length;A++){var P=u[A];if(typeof P=="object"){var H=P.tabstopId,j=F[H],le=u.indexOf(P,A+1);if(S[H]){S[H]===P&&(delete S[H],Object.keys(S).forEach(function(Fe){j.parents[Fe]=!0}));continue}S[H]=P;var q=j.value;typeof q!="string"?q=L(q):P.fmt&&(q=this.tmStrFormat(q,P,p)),u.splice.apply(u,[A+1,Math.max(0,le-A)].concat(q,P)),j.indexOf(P)===-1&&j.push(P)}}var ue=0,J=0,ee="";u.forEach(function(Fe){if(typeof Fe=="string"){var Te=Fe.split(`
`);Te.length>1?(J=Te[Te.length-1].length,ue+=Te.length-1):J+=Fe.length,ee+=Fe}else Fe&&(Fe.start?Fe.end={row:ue,column:J}:Fe.start={row:ue,column:J})});var ie=p.getSelectionRange(),me=p.session.replace(ie,ee),de=new d(p),Ce=p.inVirtualSelectionMode&&p.selection.index;de.addTabstops(F,ie.start,me,Ce)},this.insertSnippet=function(p,o){var f=this;if(p.inVirtualSelectionMode)return f.insertSnippetForSelection(p,o);p.forEachSelection(function(){f.insertSnippetForSelection(p,o)},null,{keepOrder:!0}),p.tabstopManager&&p.tabstopManager.tabNext()},this.$getScope=function(p){var o=p.session.$mode.$id||"";if(o=o.split("/").pop(),o==="html"||o==="php"){o==="php"&&!p.session.$mode.inlinePhp&&(o="html");var f=p.getCursorPosition(),w=p.session.getState(f.row);typeof w=="object"&&(w=w[0]),w.substring&&(w.substring(0,3)=="js-"?o="javascript":w.substring(0,4)=="css-"?o="css":w.substring(0,4)=="php-"&&(o="php"))}return o},this.getActiveScopes=function(p){var o=this.$getScope(p),f=[o],w=this.snippetMap;return w[o]&&w[o].includeScopes&&f.push.apply(f,w[o].includeScopes),f.push("_"),f},this.expandWithTab=function(p,o){var f=this,w=p.forEachSelection(function(){return f.expandSnippetForSelection(p,o)},null,{keepOrder:!0});return w&&p.tabstopManager&&p.tabstopManager.tabNext(),w},this.expandSnippetForSelection=function(p,o){var f=p.getCursorPosition(),w=p.session.getLine(f.row),g=w.substring(0,f.column),m=w.substr(f.column),u=this.snippetMap,F;return this.getActiveScopes(p).some(function(S){var L=u[S];return L&&(F=this.findMatchingSnippet(L,g,m)),!!F},this),F?(o&&o.dryRun||(p.session.doc.removeInLine(f.row,f.column-F.replaceBefore.length,f.column+F.replaceAfter.length),this.variables.M__=F.matchBefore,this.variables.T__=F.matchAfter,this.insertSnippetForSelection(p,F.content),this.variables.M__=this.variables.T__=null),!0):!1},this.findMatchingSnippet=function(p,o,f){for(var w=p.length;w--;){var g=p[w];if(!(g.startRe&&!g.startRe.test(o))&&!(g.endRe&&!g.endRe.test(f))&&!(!g.startRe&&!g.endRe))return g.matchBefore=g.startRe?g.startRe.exec(o):[""],g.matchAfter=g.endRe?g.endRe.exec(f):[""],g.replaceBefore=g.triggerRe?g.triggerRe.exec(o)[0]:"",g.replaceAfter=g.endTriggerRe?g.endTriggerRe.exec(f)[0]:"",g}},this.snippetMap={},this.snippetNameMap={},this.register=function(p,o){var f=this.snippetMap,w=this.snippetNameMap,g=this;p||(p=[]);function m(S){return S&&!/^\^?\(.*\)\$?$|^\\b$/.test(S)&&(S="(?:"+S+")"),S||""}function u(S,L,A){return S=m(S),L=m(L),A?(S=L+S,S&&S[S.length-1]!="$"&&(S=S+"$")):(S=S+L,S&&S[0]!="^"&&(S="^"+S)),new RegExp(S)}function F(S){S.scope||(S.scope=o||"_"),o=S.scope,f[o]||(f[o]=[],w[o]={});var L=w[o];if(S.name){var A=L[S.name];A&&g.unregister(A),L[S.name]=S}f[o].push(S),S.prefix&&(S.tabTrigger=S.prefix),!S.content&&S.body&&(S.content=Array.isArray(S.body)?S.body.join(`
`):S.body),S.tabTrigger&&!S.trigger&&(!S.guard&&/^\w/.test(S.tabTrigger)&&(S.guard="\\b"),S.trigger=h.escapeRegExp(S.tabTrigger)),!(!S.trigger&&!S.guard&&!S.endTrigger&&!S.endGuard)&&(S.startRe=u(S.trigger,S.guard,!0),S.triggerRe=new RegExp(S.trigger),S.endRe=u(S.endTrigger,S.endGuard,!0),S.endTriggerRe=new RegExp(S.endTrigger))}Array.isArray(p)?p.forEach(F):Object.keys(p).forEach(function(S){F(p[S])}),this._signal("registerSnippets",{scope:o})},this.unregister=function(p,o){var f=this.snippetMap,w=this.snippetNameMap;function g(m){var u=w[m.scope||o];if(u&&u[m.name]){delete u[m.name];var F=f[m.scope||o],S=F&&F.indexOf(m);S>=0&&F.splice(S,1)}}p.content?g(p):Array.isArray(p)&&p.forEach(g)},this.parseSnippetFile=function(p){p=p.replace(/\r/g,"");for(var o=[],f={},w=/^#.*|^({[\s\S]*})\s*$|^(\S+) (.*)$|^((?:\n*\t.*)+)/gm,g;g=w.exec(p);){if(g[1])try{f=JSON.parse(g[1]),o.push(f)}catch{}if(g[4])f.content=g[4].replace(/^\t/gm,""),o.push(f),f={};else{var m=g[2],u=g[3];if(m=="regex"){var F=/\/((?:[^\/\\]|\\.)*)|$/g;f.guard=F.exec(u)[1],f.trigger=F.exec(u)[1],f.endTrigger=F.exec(u)[1],f.endGuard=F.exec(u)[1]}else m=="snippet"?(f.tabTrigger=u.match(/^\S*/)[0],f.name||(f.name=u)):m&&(f[m]=u)}}return o},this.getSnippetByName=function(p,o){var f=this.snippetNameMap,w;return this.getActiveScopes(o).some(function(g){var m=f[g];return m&&(w=m[p]),!!w},this),w}}).call(s.prototype);var d=function(p){if(p.tabstopManager)return p.tabstopManager;p.tabstopManager=this,this.$onChange=this.onChange.bind(this),this.$onChangeSelection=h.delayedCall(this.onChangeSelection.bind(this)).schedule,this.$onChangeSession=this.onChangeSession.bind(this),this.$onAfterExec=this.onAfterExec.bind(this),this.attach(p)};(function(){this.attach=function(p){this.index=0,this.ranges=[],this.tabstops=[],this.$openTabstops=null,this.selectedTabstop=null,this.editor=p,this.editor.on("change",this.$onChange),this.editor.on("changeSelection",this.$onChangeSelection),this.editor.on("changeSession",this.$onChangeSession),this.editor.commands.on("afterExec",this.$onAfterExec),this.editor.keyBinding.addKeyboardHandler(this.keyboardHandler)},this.detach=function(){this.tabstops.forEach(this.removeTabstopMarkers,this),this.ranges=null,this.tabstops=null,this.selectedTabstop=null,this.editor.removeListener("change",this.$onChange),this.editor.removeListener("changeSelection",this.$onChangeSelection),this.editor.removeListener("changeSession",this.$onChangeSession),this.editor.commands.removeListener("afterExec",this.$onAfterExec),this.editor.keyBinding.removeKeyboardHandler(this.keyboardHandler),this.editor.tabstopManager=null,this.editor=null},this.onChange=function(p){for(var o=p.action[0]=="r",f=this.selectedTabstop||{},w=f.parents||{},g=(this.tabstops||[]).slice(),m=0;m<g.length;m++){var u=g[m],F=u==f||w[u.index];if(u.rangeList.$bias=F?0:1,p.action=="remove"&&u!==f){var S=u.parents&&u.parents[f.index],L=u.rangeList.pointIndex(p.start,S);L=L<0?-L-1:L+1;var A=u.rangeList.pointIndex(p.end,S);A=A<0?-A-1:A-1;for(var P=u.rangeList.ranges.slice(L,A),H=0;H<P.length;H++)this.removeRange(P[H])}u.rangeList.$onChange(p)}var j=this.editor.session;!this.$inChange&&o&&j.getLength()==1&&!j.getValue()&&this.detach()},this.updateLinkedFields=function(){var p=this.selectedTabstop;if(!(!p||!p.hasLinkedRanges||!p.firstNonLinked)){this.$inChange=!0;for(var o=this.editor.session,f=o.getTextRange(p.firstNonLinked),w=0;w<p.length;w++){var g=p[w];if(g.linked){var m=g.original,u=M.snippetManager.tmStrFormat(f,m,this.editor);o.replace(g,u)}}this.$inChange=!1}},this.onAfterExec=function(p){p.command&&!p.command.readOnly&&this.updateLinkedFields()},this.onChangeSelection=function(){if(this.editor){for(var p=this.editor.selection.lead,o=this.editor.selection.anchor,f=this.editor.selection.isEmpty(),w=0;w<this.ranges.length;w++)if(!this.ranges[w].linked){var g=this.ranges[w].contains(p.row,p.column),m=f||this.ranges[w].contains(o.row,o.column);if(g&&m)return}this.detach()}},this.onChangeSession=function(){this.detach()},this.tabNext=function(p){var o=this.tabstops.length,f=this.index+(p||1);f=Math.min(Math.max(f,1),o),f==o&&(f=0),this.selectTabstop(f),f===0&&this.detach()},this.selectTabstop=function(p){this.$openTabstops=null;var o=this.tabstops[this.index];if(o&&this.addTabstopMarkers(o),this.index=p,o=this.tabstops[this.index],!(!o||!o.length)){this.selectedTabstop=o;var f=o.firstNonLinked||o;if(o.choices&&(f.cursor=f.start),this.editor.inVirtualSelectionMode)this.editor.selection.fromOrientedRange(f);else{var w=this.editor.multiSelect;w.toSingleRange(f);for(var g=0;g<o.length;g++)o.hasLinkedRanges&&o[g].linked||w.addRange(o[g].clone(),!0)}this.editor.keyBinding.addKeyboardHandler(this.keyboardHandler),this.selectedTabstop&&this.selectedTabstop.choices&&this.editor.execCommand("startAutocomplete",{matches:this.selectedTabstop.choices})}},this.addTabstops=function(p,o,f){var w=this.useLink||!this.editor.getOption("enableMultiselect");if(this.$openTabstops||(this.$openTabstops=[]),!p[0]){var g=a.fromPoints(f,f);y(g.start,o),y(g.end,o),p[0]=[g],p[0].index=0}var m=this.index,u=[m+1,0],F=this.ranges;p.forEach(function(S,L){for(var A=this.$openTabstops[L]||S,P=0;P<S.length;P++){var H=S[P],j=a.fromPoints(H.start,H.end||H.start);v(j.start,o),v(j.end,o),j.original=H,j.tabstop=A,F.push(j),A!=S?A.unshift(j):A[P]=j,H.fmtString||A.firstNonLinked&&w?(j.linked=!0,A.hasLinkedRanges=!0):A.firstNonLinked||(A.firstNonLinked=j)}A.firstNonLinked||(A.hasLinkedRanges=!1),A===S&&(u.push(A),this.$openTabstops[L]=A),this.addTabstopMarkers(A),A.rangeList=A.rangeList||new l,A.rangeList.$bias=0,A.rangeList.addList(A)},this),u.length>2&&(this.tabstops.length&&u.push(u.splice(2,1)[0]),this.tabstops.splice.apply(this.tabstops,u))},this.addTabstopMarkers=function(p){var o=this.editor.session;p.forEach(function(f){f.markerId||(f.markerId=o.addMarker(f,"ace_snippet-marker","text"))})},this.removeTabstopMarkers=function(p){var o=this.editor.session;p.forEach(function(f){o.removeMarker(f.markerId),f.markerId=null})},this.removeRange=function(p){var o=p.tabstop.indexOf(p);o!=-1&&p.tabstop.splice(o,1),o=this.ranges.indexOf(p),o!=-1&&this.ranges.splice(o,1),o=p.tabstop.rangeList.ranges.indexOf(p),o!=-1&&p.tabstop.splice(o,1),this.editor.session.removeMarker(p.markerId),p.tabstop.length||(o=this.tabstops.indexOf(p.tabstop),o!=-1&&this.tabstops.splice(o,1),this.tabstops.length||this.detach())},this.keyboardHandler=new t,this.keyboardHandler.bindKeys({Tab:function(p){M.snippetManager&&M.snippetManager.expandWithTab(p)||(p.tabstopManager.tabNext(1),p.renderer.scrollCursorIntoView())},"Shift-Tab":function(p){p.tabstopManager.tabNext(-1),p.renderer.scrollCursorIntoView()},Esc:function(p){p.tabstopManager.detach()}})}).call(d.prototype);var v=function(p,o){p.row==0&&(p.column+=o.column),p.row+=o.row},y=function(p,o){p.row==o.row&&(p.column-=o.column),p.row-=o.row};c("./lib/dom").importCssString("	.ace_snippet-marker {	    -moz-box-sizing: border-box;	    box-sizing: border-box;	    background: rgba(194, 193, 208, 0.09);	    border: 1px dotted rgba(211, 208, 235, 0.62);	    position: absolute;	}"),M.snippetManager=new s;var k=c("./editor").Editor;(function(){this.insertSnippet=function(p,o){return M.snippetManager.insertSnippet(this,p,o)},this.expandSnippet=function(p){return M.snippetManager.expandWithTab(this,p)}}).call(k.prototype)}),ace.define("ace/autocomplete/popup",["require","exports","module","ace/virtual_renderer","ace/editor","ace/range","ace/lib/event","ace/lib/lang","ace/lib/dom"],function(c,M,W){var R=c("../virtual_renderer").VirtualRenderer,E=c("../editor").Editor,h=c("../range").Range,a=c("../lib/event"),l=c("../lib/lang"),t=c("../lib/dom"),e=function(n){var i=new R(n);i.$maxLines=4;var s=new E(i);return s.setHighlightActiveLine(!1),s.setShowPrintMargin(!1),s.renderer.setShowGutter(!1),s.renderer.setHighlightGutterLine(!1),s.$mouseHandler.$focusTimeout=0,s.$highlightTagPending=!0,s},r=function(n){var i=t.createElement("div"),s=new e(i);n&&n.appendChild(i),i.style.display="none",s.renderer.content.style.cursor="default",s.renderer.setStyle("ace_autocomplete"),s.setOption("displayIndentGuides",!1),s.setOption("dragDelay",150);var d=function(){};s.focus=d,s.$isFocused=!0,s.renderer.$cursorLayer.restartTimer=d,s.renderer.$cursorLayer.element.style.opacity=0,s.renderer.$maxLines=8,s.renderer.$keepTextAreaAtCursor=!1,s.setHighlightActiveLine(!1),s.session.highlight(""),s.session.$searchHighlight.clazz="ace_highlight-marker",s.on("mousedown",function(w){var g=w.getDocumentPosition();s.selection.moveToPosition(g),k.start.row=k.end.row=g.row,w.stop()});var v,y=new h(-1,0,-1,1/0),k=new h(-1,0,-1,1/0);k.id=s.session.addMarker(k,"ace_active-line","fullLine"),s.setSelectOnHover=function(w){w?y.id&&(s.session.removeMarker(y.id),y.id=null):y.id=s.session.addMarker(y,"ace_line-hover","fullLine")},s.setSelectOnHover(!1),s.on("mousemove",function(w){if(!v){v=w;return}if(!(v.x==w.x&&v.y==w.y)){v=w,v.scrollTop=s.renderer.scrollTop;var g=v.getDocumentPosition().row;y.start.row!=g&&(y.id||s.setRow(g),o(g))}}),s.renderer.on("beforeRender",function(){if(v&&y.start.row!=-1){v.$pos=null;var w=v.getDocumentPosition().row;y.id||s.setRow(w),o(w,!0)}}),s.renderer.on("afterRender",function(){var w=s.getRow(),g=s.renderer.$textLayer,m=g.element.childNodes[w-g.config.firstRow];m!==g.selectedNode&&g.selectedNode&&t.removeCssClass(g.selectedNode,"ace_selected"),g.selectedNode=m,m&&t.addCssClass(m,"ace_selected")});var p=function(){o(-1)},o=function(w,g){w!==y.start.row&&(y.start.row=y.end.row=w,g||s.session._emit("changeBackMarker"),s._emit("changeHoverMarker"))};s.getHoveredRow=function(){return y.start.row},a.addListener(s.container,"mouseout",p),s.on("hide",p),s.on("changeSelection",p),s.session.doc.getLength=function(){return s.data.length},s.session.doc.getLine=function(w){var g=s.data[w];return typeof g=="string"?g:g&&g.value||""};var f=s.session.bgTokenizer;return f.$tokenizeRow=function(w){var g=s.data[w],m=[];if(!g)return m;typeof g=="string"&&(g={value:g});var u=g.caption||g.value||g.name;function F(q,ue){q&&m.push({type:(g.className||"")+(ue||""),value:q})}for(var S=u.toLowerCase(),L=(s.filterText||"").toLowerCase(),A=0,P=0,H=0;H<=L.length;H++)if(H!=P&&(g.matchMask&1<<H||H==L.length)){var j=L.slice(P,H);P=H;var le=S.indexOf(j,A);if(le==-1)continue;F(u.slice(A,le),""),A=le+j.length,F(u.slice(le,A),"completion-highlight")}return F(u.slice(A,u.length),""),g.meta&&m.push({type:"completion-meta",value:g.meta}),g.message&&m.push({type:"completion-message",value:g.message}),m},f.$updateOnChange=d,f.start=d,s.session.$computeWidth=function(){return this.screenWidth=0},s.isOpen=!1,s.isTopdown=!1,s.autoSelect=!0,s.filterText="",s.data=[],s.setData=function(w,g){s.filterText=g||"",s.setValue(l.stringRepeat(`
`,w.length),-1),s.data=w||[],s.setRow(0)},s.getData=function(w){return s.data[w]},s.getRow=function(){return k.start.row},s.setRow=function(w){w=Math.max(this.autoSelect?0:-1,Math.min(this.data.length,w)),k.start.row!=w&&(s.selection.clearSelection(),k.start.row=k.end.row=w||0,s.session._emit("changeBackMarker"),s.moveCursorTo(w||0,0),s.isOpen&&s._signal("select"))},s.on("changeSelection",function(){s.isOpen&&s.setRow(s.selection.lead.row),s.renderer.scrollCursorIntoView()}),s.hide=function(){this.container.style.display="none",this._signal("hide"),s.isOpen=!1},s.show=function(w,g,m){var u=this.container,F=window.innerHeight,S=window.innerWidth,L=this.renderer,A=L.$maxLines*g*1.4,P=w.top+this.$borderSize,H=P>F/2&&!m;H&&P+g+A>F?(L.$maxPixelHeight=P-2*this.$borderSize,u.style.top="",u.style.bottom=F-P+"px",s.isTopdown=!1):(P+=g,L.$maxPixelHeight=F-P-.2*g,u.style.top=P+"px",u.style.bottom="",s.isTopdown=!0),u.style.display="";var j=w.left;j+u.offsetWidth>S&&(j=S-u.offsetWidth),u.style.left=j+"px",this._signal("show"),v=null,s.isOpen=!0},s.goTo=function(w){var g=this.getRow(),m=this.session.getLength()-1;switch(w){case"up":g=g<=0?m:g-1;break;case"down":g=g>=m?-1:g+1;break;case"start":g=0;break;case"end":g=m;break}this.setRow(g)},s.getTextLeftOffset=function(){return this.$borderSize+this.renderer.$padding+this.$imageSize},s.$imageSize=0,s.$borderSize=1,s};t.importCssString("	.ace_editor.ace_autocomplete .ace_marker-layer .ace_active-line {	    background-color: #CAD6FA;	    z-index: 1;	}	.ace_dark.ace_editor.ace_autocomplete .ace_marker-layer .ace_active-line {	    background-color: #3a674e;	}	.ace_editor.ace_autocomplete .ace_line-hover {	    border: 1px solid #abbffe;	    margin-top: -1px;	    background: rgba(233,233,253,0.4);	    position: absolute;	    z-index: 2;	}	.ace_dark.ace_editor.ace_autocomplete .ace_line-hover {	    border: 1px solid rgba(109, 150, 13, 0.8);	    background: rgba(58, 103, 78, 0.62);	}	.ace_completion-meta {	    opacity: 0.5;	    margin: 0.9em;	}	.ace_completion-message {	    color: blue;	}	.ace_editor.ace_autocomplete .ace_completion-highlight{	    color: #2d69c7;	}	.ace_dark.ace_editor.ace_autocomplete .ace_completion-highlight{	    color: #93ca12;	}	.ace_editor.ace_autocomplete {	    width: 300px;	    z-index: 200000;	    border: 1px lightgray solid;	    position: fixed;	    box-shadow: 2px 3px 5px rgba(0,0,0,.2);	    line-height: 1.4;	    background: #fefefe;	    color: #111;	}	.ace_dark.ace_editor.ace_autocomplete {	    border: 1px #484747 solid;	    box-shadow: 2px 3px 5px rgba(0, 0, 0, 0.51);	    line-height: 1.4;	    background: #25282c;	    color: #c1c1c1;	}","autocompletion.css"),M.AcePopup=r,M.$singleLineEditor=e}),ace.define("ace/autocomplete/util",["require","exports","module"],function(c,M,W){M.parForEach=function(E,h,a){var l=0,t=E.length;t===0&&a();for(var e=0;e<t;e++)h(E[e],function(r,n){l++,l===t&&a(r,n)})};var R=/[a-zA-Z_0-9\$\-\u00A2-\u2000\u2070-\uFFFF]/;M.retrievePrecedingIdentifier=function(E,h,a){a=a||R;for(var l=[],t=h-1;t>=0&&a.test(E[t]);t--)l.push(E[t]);return l.reverse().join("")},M.retrieveFollowingIdentifier=function(E,h,a){a=a||R;for(var l=[],t=h;t<E.length&&a.test(E[t]);t++)l.push(E[t]);return l},M.getCompletionPrefix=function(E){var h=E.getCursorPosition(),a=E.session.getLine(h.row),l;return E.completers.forEach((function(t){t.identifierRegexps&&t.identifierRegexps.forEach((function(e){!l&&e&&(l=this.retrievePrecedingIdentifier(a,h.column,e))}).bind(this))}).bind(this)),l||this.retrievePrecedingIdentifier(a,h.column)}}),ace.define("ace/autocomplete",["require","exports","module","ace/keyboard/hash_handler","ace/autocomplete/popup","ace/autocomplete/util","ace/lib/lang","ace/lib/dom","ace/snippets","ace/config"],function(c,M,W){var R=c("./keyboard/hash_handler").HashHandler,E=c("./autocomplete/popup").AcePopup,h=c("./autocomplete/util"),a=c("./lib/lang"),l=c("./lib/dom"),t=c("./snippets").snippetManager,e=c("./config"),r=function(){this.autoInsert=!1,this.autoSelect=!0,this.exactMatch=!1,this.gatherCompletionsId=0,this.keyboardHandler=new R,this.keyboardHandler.bindKeys(this.commands),this.blurListener=this.blurListener.bind(this),this.changeListener=this.changeListener.bind(this),this.mousedownListener=this.mousedownListener.bind(this),this.mousewheelListener=this.mousewheelListener.bind(this),this.changeTimer=a.delayedCall((function(){this.updateCompletions(!0)}).bind(this)),this.tooltipTimer=a.delayedCall(this.updateDocTooltip.bind(this),50)};(function(){this.$init=function(){return this.popup=new E(document.body||document.documentElement),this.popup.on("click",(function(i){this.insertMatch(),i.stop()}).bind(this)),this.popup.focus=this.editor.focus.bind(this.editor),this.popup.on("show",this.tooltipTimer.bind(null,null)),this.popup.on("select",this.tooltipTimer.bind(null,null)),this.popup.on("changeHoverMarker",this.tooltipTimer.bind(null,null)),this.popup},this.getPopup=function(){return this.popup||this.$init()},this.openPopup=function(i,s,d){this.popup||this.$init(),this.popup.autoSelect=this.autoSelect,this.popup.setData(this.completions.filtered,this.completions.filterText),i.keyBinding.addKeyboardHandler(this.keyboardHandler);var v=i.renderer;if(this.popup.setRow(this.autoSelect?0:-1),d)d&&!s&&this.detach();else{this.popup.setTheme(i.getTheme()),this.popup.setFontSize(i.getFontSize());var y=v.layerConfig.lineHeight,k=v.$cursorLayer.getPixelPosition(this.base,!0);k.left-=this.popup.getTextLeftOffset();var p=i.container.getBoundingClientRect();k.top+=p.top-v.layerConfig.offset,k.left+=p.left-i.renderer.scrollLeft,k.left+=v.gutterWidth,this.popup.show(k,y)}this.changeTimer.cancel()},this.detach=function(){this.editor.keyBinding.removeKeyboardHandler(this.keyboardHandler),this.editor.off("changeSelection",this.changeListener),this.editor.off("blur",this.blurListener),this.editor.off("mousedown",this.mousedownListener),this.editor.off("mousewheel",this.mousewheelListener),this.changeTimer.cancel(),this.hideDocTooltip(),this.gatherCompletionsId+=1,this.popup&&this.popup.isOpen&&this.popup.hide(),this.base&&this.base.detach(),this.activated=!1,this.completions=this.base=null},this.changeListener=function(i){var s=this.editor.selection.lead;(s.row!=this.base.row||s.column<this.base.column)&&this.detach(),this.activated?this.changeTimer.schedule():this.detach()},this.blurListener=function(i){var s=document.activeElement,d=this.editor.textInput.getElement(),v=i.relatedTarget&&this.tooltipNode&&this.tooltipNode.contains(i.relatedTarget),y=this.popup&&this.popup.container;s!=d&&s.parentNode!=y&&!v&&s!=this.tooltipNode&&i.relatedTarget!=d&&this.detach()},this.mousedownListener=function(i){this.detach()},this.mousewheelListener=function(i){this.detach()},this.goTo=function(i){this.popup.goTo(i)},this.insertMatch=function(i,s){if(i||(i=this.popup.getData(this.popup.getRow())),!i)return!1;var d=this.completions;if(this.editor.startOperation({command:{name:"insertMatch"}}),i.completer&&i.completer.insertMatch)i.completer.insertMatch(this.editor,i);else{if(d.filterText)for(var v=this.editor.selection.getAllRanges(),y=0,k;k=v[y];y++)k.start.column-=d.filterText.length,this.editor.session.remove(k);i.snippet?t.insertSnippet(this.editor,i.snippet):this.editor.execCommand("insertstring",i.value||i)}this.completions==d&&this.detach(),this.editor.endOperation()},this.commands={Up:function(i){i.completer.goTo("up")},Down:function(i){i.completer.goTo("down")},"Ctrl-Up|Ctrl-Home":function(i){i.completer.goTo("start")},"Ctrl-Down|Ctrl-End":function(i){i.completer.goTo("end")},Esc:function(i){i.completer.detach()},Return:function(i){return i.completer.insertMatch()},"Shift-Return":function(i){i.completer.insertMatch(null,{deleteSuffix:!0})},Tab:function(i){var s=i.completer.insertMatch();if(!s&&!i.tabstopManager)i.completer.goTo("down");else return s},PageUp:function(i){i.completer.popup.gotoPageUp()},PageDown:function(i){i.completer.popup.gotoPageDown()}},this.gatherCompletions=function(i,s){var d=i.getSession(),v=i.getCursorPosition(),y=h.getCompletionPrefix(i);this.base=d.doc.createAnchor(v.row,v.column-y.length),this.base.$insertRight=!0;var k=[],p=i.completers.length;return i.completers.forEach(function(o,f){o.getCompletions(i,d,v,y,function(w,g){!w&&g&&(k=k.concat(g)),s(null,{prefix:h.getCompletionPrefix(i),matches:k,finished:--p===0})})}),!0},this.showPopup=function(i,s){this.editor&&this.detach(),this.activated=!0,this.editor=i,i.completer!=this&&(i.completer&&i.completer.detach(),i.completer=this),i.on("changeSelection",this.changeListener),i.on("blur",this.blurListener),i.on("mousedown",this.mousedownListener),i.on("mousewheel",this.mousewheelListener),this.updateCompletions(!1,s)},this.updateCompletions=function(i,s){if(i&&this.base&&this.completions){var d=this.editor.getCursorPosition(),v=this.editor.session.getTextRange({start:this.base,end:d});if(v==this.completions.filterText)return;if(this.completions.setFilter(v),!this.completions.filtered.length)return this.detach();if(this.completions.filtered.length==1&&this.completions.filtered[0].value==v&&!this.completions.filtered[0].snippet)return this.detach();this.openPopup(this.editor,v,i);return}if(s&&s.matches){var d=this.editor.getSelectionRange().start;return this.base=this.editor.session.doc.createAnchor(d.row,d.column),this.base.$insertRight=!0,this.completions=new n(s.matches),this.openPopup(this.editor,"",i)}var y=this.gatherCompletionsId;this.gatherCompletions(this.editor,(function(k,p){var o=(function(){if(p.finished)return this.detach()}).bind(this),f=p.prefix,w=p&&p.matches;if(!w||!w.length)return o();if(!(f.indexOf(p.prefix)!==0||y!=this.gatherCompletionsId)){this.completions=new n(w),this.exactMatch&&(this.completions.exactMatch=!0),this.completions.setFilter(f);var g=this.completions.filtered;if(!g.length||g.length==1&&g[0].value==f&&!g[0].snippet)return o();if(this.autoInsert&&g.length==1&&p.finished)return this.insertMatch(g[0]);this.openPopup(this.editor,f,i)}}).bind(this))},this.cancelContextMenu=function(){this.editor.$mouseHandler.cancelContextMenu()},this.updateDocTooltip=function(){var i=this.popup,s=i.data,d=s&&(s[i.getHoveredRow()]||s[i.getRow()]),v=null;if(!d||!this.editor||!this.popup.isOpen)return this.hideDocTooltip();if(this.editor.completers.some(function(y){return y.getDocTooltip&&(v=y.getDocTooltip(d)),v}),!v&&typeof d!="string"&&(v=d),typeof v=="string"&&(v={docText:v}),!v||!(v.docHTML||v.docText))return this.hideDocTooltip();this.showDocTooltip(v)},this.showDocTooltip=function(i){this.tooltipNode||(this.tooltipNode=l.createElement("div"),this.tooltipNode.className="ace_tooltip ace_doc-tooltip",this.tooltipNode.style.margin=0,this.tooltipNode.style.pointerEvents="auto",this.tooltipNode.tabIndex=-1,this.tooltipNode.onblur=this.blurListener.bind(this),this.tooltipNode.onclick=this.onTooltipClick.bind(this));var s=this.tooltipNode;i.docHTML?s.innerHTML=i.docHTML:i.docText&&(s.textContent=i.docText),s.parentNode||document.body.appendChild(s);var d=this.popup,v=d.container.getBoundingClientRect();s.style.top=d.container.style.top,s.style.bottom=d.container.style.bottom,s.style.display="block",window.innerWidth-v.right<320?v.left<320?d.isTopdown?(s.style.top=v.bottom+"px",s.style.left=v.left+"px",s.style.right="",s.style.bottom=""):(s.style.top=d.container.offsetTop-s.offsetHeight+"px",s.style.left=v.left+"px",s.style.right="",s.style.bottom=""):(s.style.right=window.innerWidth-v.left+"px",s.style.left=""):(s.style.left=v.right+1+"px",s.style.right="")},this.hideDocTooltip=function(){if(this.tooltipTimer.cancel(),!!this.tooltipNode){var i=this.tooltipNode;!this.editor.isFocused()&&document.activeElement==i&&this.editor.focus(),this.tooltipNode=null,i.parentNode&&i.parentNode.removeChild(i)}},this.onTooltipClick=function(i){for(var s=i.target;s&&s!=this.tooltipNode;){if(s.nodeName=="A"&&s.href){s.rel="noreferrer",s.target="_blank";break}s=s.parentNode}},this.destroy=function(){if(this.detach(),this.popup){this.popup.destroy();var i=this.popup.container;i&&i.parentNode&&i.parentNode.removeChild(i)}this.editor&&this.editor.completer==this&&this.editor.completer==null,this.popup=null}}).call(r.prototype),r.for=function(i){return i.completer||(e.get("sharedPopups")?(r.$shared||(r.$sharedInstance=new r),i.completer=r.$sharedInstance):(i.completer=new r,i.once("destroy",function(s,d){d.completer.destroy()}))),i.completer},r.startCommand={name:"startAutocomplete",exec:function(i,s){var d=r.for(i);d.autoInsert=!1,d.autoSelect=!0,d.showPopup(i,s),d.cancelContextMenu()},bindKey:"Ctrl-Space|Ctrl-Shift-Space|Alt-Space"};var n=function(i,s){this.all=i,this.filtered=i,this.filterText=s||"",this.exactMatch=!1};(function(){this.setFilter=function(i){if(i.length>this.filterText&&i.lastIndexOf(this.filterText,0)===0)var s=this.filtered;else var s=this.all;this.filterText=i,s=this.filterCompletions(s,this.filterText),s=s.sort(function(v,y){return y.exactMatch-v.exactMatch||y.$score-v.$score||(v.caption||v.value).localeCompare(y.caption||y.value)});var d=null;s=s.filter(function(v){var y=v.snippet||v.caption||v.value;return y===d?!1:(d=y,!0)}),this.filtered=s},this.filterCompletions=function(i,s){var d=[],v=s.toUpperCase(),y=s.toLowerCase();e:for(var k=0,p;p=i[k];k++){var o=p.caption||p.value||p.snippet;if(o){var f=-1,w=0,g=0,m,u;if(this.exactMatch){if(s!==o.substr(0,s.length))continue e}else{var F=o.toLowerCase().indexOf(y);if(F>-1)g=F;else for(var S=0;S<s.length;S++){var L=o.indexOf(y[S],f+1),A=o.indexOf(v[S],f+1);if(m=L>=0&&(A<0||L<A)?L:A,m<0)continue e;u=m-f-1,u>0&&(f===-1&&(g+=10),g+=u,w=w|1<<S),f=m}}p.matchMask=w,p.exactMatch=g?0:1,p.$score=(p.score||0)-g,d.push(p)}}return d}}).call(n.prototype),M.Autocomplete=r,M.FilteredList=n}),ace.define("ace/autocomplete/text_completer",["require","exports","module","ace/range"],function(c,M,W){var R=c("../range").Range,E=/[^a-zA-Z_0-9\$\-\u00C0-\u1FFF\u2C00-\uD7FF\w]+/;function h(l,t){var e=l.getTextRange(R.fromPoints({row:0,column:0},t));return e.split(E).length-1}function a(l,t){var e=h(l,t),r=l.getValue().split(E),n=Object.create(null),i=r[e];return r.forEach(function(s,d){if(!(!s||s===i)){var v=Math.abs(e-d),y=r.length-v;n[s]?n[s]=Math.max(y,n[s]):n[s]=y}}),n}M.getCompletions=function(l,t,e,r,n){var i=a(t,e),s=Object.keys(i);n(null,s.map(function(d){return{caption:d,value:d,score:i[d],meta:"local"}}))}}),ace.define("ace/ext/language_tools",["require","exports","module","ace/snippets","ace/autocomplete","ace/config","ace/lib/lang","ace/autocomplete/util","ace/autocomplete/text_completer","ace/editor","ace/config"],function(c,M,W){var R=c("../snippets").snippetManager,E=c("../autocomplete").Autocomplete,h=c("../config"),a=c("../lib/lang"),l=c("../autocomplete/util"),t=c("../autocomplete/text_completer"),e={getCompletions:function(p,o,f,w,g){if(o.$mode.completer)return o.$mode.completer.getCompletions(p,o,f,w,g);var m=p.session.getState(f.row),u=o.$mode.getCompletions(m,o,f,w);g(null,u)}},r={getCompletions:function(p,o,f,w,g){var m=[],u=o.getTokenAt(f.row,f.column);u&&u.type.match(/(tag-name|tag-open|tag-whitespace|attribute-name|attribute-value)\.xml$/)?m.push("html-tag"):m=R.getActiveScopes(p);var F=R.snippetMap,S=[];m.forEach(function(L){for(var A=F[L]||[],P=A.length;P--;){var H=A[P],j=H.name||H.tabTrigger;j&&S.push({caption:j,snippet:H.content,meta:H.tabTrigger&&!H.name?H.tabTrigger+" ":"snippet",type:"snippet"})}},this),g(null,S)},getDocTooltip:function(p){p.type=="snippet"&&!p.docHTML&&(p.docHTML=["<b>",a.escapeHTML(p.caption),"</b>","<hr></hr>",a.escapeHTML(p.snippet)].join(""))}},n=[r,t,e];M.setCompleters=function(p){n.length=0,p&&n.push.apply(n,p)},M.addCompleter=function(p){n.push(p)},M.textCompleter=t,M.keyWordCompleter=e,M.snippetCompleter=r;var i={name:"expandSnippet",exec:function(p){return R.expandWithTab(p)},bindKey:"Tab"},s=function(p,o){d(o.session.$mode)},d=function(p){typeof p=="string"&&(p=h.$modes[p]),p&&(R.files||(R.files={}),v(p.$id,p.snippetFileId),p.modes&&p.modes.forEach(d))},v=function(p,o){!o||!p||R.files[p]||(R.files[p]={},h.loadModule(o,function(f){f&&(R.files[p]=f,!f.snippets&&f.snippetText&&(f.snippets=R.parseSnippetFile(f.snippetText)),R.register(f.snippets||[],f.scope),f.includeScopes&&(R.snippetMap[f.scope].includeScopes=f.includeScopes,f.includeScopes.forEach(function(w){d("ace/mode/"+w)})))}))},y=function(p){var o=p.editor,f=o.completer&&o.completer.activated;if(p.command.name==="backspace")f&&!l.getCompletionPrefix(o)&&o.completer.detach();else if(p.command.name==="insertstring"){var w=l.getCompletionPrefix(o);if(w&&!f){var g=E.for(o);g.autoInsert=!1,g.showPopup(o)}}},k=c("../editor").Editor;c("../config").defineOptions(k.prototype,"editor",{enableBasicAutocompletion:{set:function(p){p?(this.completers||(this.completers=Array.isArray(p)?p:n),this.commands.addCommand(E.startCommand)):this.commands.removeCommand(E.startCommand)},value:!1},enableLiveAutocompletion:{set:function(p){p?(this.completers||(this.completers=Array.isArray(p)?p:n),this.commands.on("afterExec",y)):this.commands.removeListener("afterExec",y)},value:!1},enableSnippets:{set:function(p){p?(this.commands.addCommand(i),this.on("changeMode",s),s(null,this)):(this.commands.removeCommand(i),this.off("changeMode",s))},value:!1}})}),function(){ace.require(["ace/ext/language_tools"],function(c){X&&(X.exports=c)})}()})(yi);cn.config.set("basePath","assets/ace");globalThis.ace=Kr;function Qr(X){return new Promise((Y,c)=>{cn.require([X],M=>{M||c(Error(`Could not load ${X}`)),Y(M)})})}const yt={_HW:{description:"Start of the hardware IO registers.",value:"$FF00->$FF80"},_VRAM:{description:"VRAM Memory",value:"$8000->$9FFF"},_SCRN0:{description:"Background 0 Memory",value:"$9800->$9BFF"},_SCRN1:{description:"Background 1 Memory",value:"$9C00->$9FFF"},_SRAM:{description:"Card SRAM",value:"$A000->$BFFF"},_RAM:{description:"WRAM Memory",value:"$C000->$DFFF"},_OAMRAM:{description:"OAM Memory",value:"$FE00->$FE9F",flags:{OAMF_PRI:{value:"%10000000",description:"Flag to set on OAM attribute byte to make the background colors 1-3 to have priority over the sprite."},OAMF_YFLIP:{value:"%01000000",description:"Flag to set on OAM attribute byte to make the sprite flip in the Y direction"},OAMF_XFLIP:{value:"%00100000",description:"Flag to set on OAM attribute byte to make the sprite flip in the X direction"},OAMF_PAL0:{value:"%00000000",description:"Flag to set on OAM attribute byte to make the sprite use OBP0 in DMG (non-color) mode."},OAMF_PAL1:{value:"%00010000",description:"Flag to set on OAM attribute byte to make the sprite use OBP1 in DMG (non-color) mode."},OAMF_BANK0:{value:"%00000000",description:"Flag to set on OAM attribute byte to use a sprite graphics from VRAM Bank 0 in GBC mode."},OAMF_BANK1:{value:"%00001000",description:"Flag to set on OAM attribute byte to use a sprite graphics from VRAM Bank 1 in GBC mode."},OAMF_PALMASK:{value:"%00000111",description:"Mask of the color sprite palette index in the OAM attribute byte. In GBC mode."},OAMB_PRI:{value:"7",description:"Bit number to set on OAM attribute byte to make the background colors 1-3 to have priority over the sprite."},OAMB_YFLIP:{value:"6",description:"Bit number to set on OAM attribute byte to make the sprite flip in the Y direction."},OAMB_XFLIP:{value:"5",description:"Bit number to set on OAM attribute byte to make the sprite flip in the X direction."},OAMB_PAL1:{value:"4",description:"Bit number to set on OAM attribute byte to make the sprite use OBP1 in DMG (non-color) mode."},OAMB_BANK1:{value:"3",description:"Bit number to set on OAM attribute byte to use a sprite graphics from VRAM Bank 1 in GBC mode."}}},_AUD3WAVERAM:{description:"WAVE Channel Memory",value:"$FF30->$FF3F"},_HRAM:{description:"HRAM Memory",value:"$FF80->$FFFE"},rP1:{description:"Register for reading joy pad info. (R/W)",value:"$FF00",flags:{P1F_5:{value:"%00100000",description:"P15 out port, set to 0 to get buttons"},P1F_4:{value:"%00010000",description:"P14 out port, set to 0 to get dpad"},P1F_3:{value:"%00001000",description:"P13 in port"},P1F_2:{value:"%00000100",description:"P12 in port"},P1F_1:{value:"%00000010",description:"P11 in port"},P1F_0:{value:"%00000001",description:"P10 in port"},P1F_GET_DPAD:{description:"Value to load in rP1 to enable the reading of the DPad inputs."},P1F_GET_BTN:{description:"Value to load in rP1 to enable the reading of the A/B/Start/Select inputs."},P1F_GET_NONE:{description:"Value to load in rP1 to disable the reading of input buttons."}}},rSB:{description:"Serial Transfer Data (R/W)",value:"$FF01"},rSC:{description:"Serial I/O Control (R/W)",value:"$FF02"},rDIV:{description:`Divider register (R/W)
Incremented at 16384Hz or 32768Hz depending on the CPU speed.
Write any value to reset to zero.`,value:"$FF04"},rTIMA:{description:"Timer counter (R/W)",value:"$FF05"},rTMA:{description:"Timer modulo (R/W)",value:"$FF06"},rTAC:{description:"Timer control (R/W)",value:"$FF07",flags:{TACF_START:{value:"%00000100"},TACF_STOP:{value:"%00000000"},TACF_4KHZ:{value:"%00000000"},TACF_16KHZ:{value:"%00000011"},TACF_65KHZ:{value:"%00000010"},TACF_262KHZ:{value:"%00000001"}}},rIF:{description:`Interrupt Flag (R/W)
Contains the currently 'ready' interrupts, set by hardware, cleared when interrupt is executed.
Generally only written to zero to clear pending interrupts before enabling interrupts.`,value:"$FF0F",flags:"rIE"},rLCDC:{description:"LCD Control (R/W)",value:"$FF40",flags:{LCDCF_OFF:{value:"%00000000",description:"LCD Control Operation"},LCDCF_ON:{value:"%10000000",description:"LCD Control Operation"},LCDCF_WIN9800:{value:"%00000000",description:"Window Tile Map Display Select"},LCDCF_WIN9C00:{value:"%01000000",description:"Window Tile Map Display Select"},LCDCF_WINOFF:{value:"%00000000",description:"Window Display"},LCDCF_WINON:{value:"%00100000",description:"Window Display"},LCDCF_BG8800:{value:"%00000000",description:"BG & Window Tile Data Select"},LCDCF_BG8000:{value:"%00010000",description:"BG & Window Tile Data Select"},LCDCF_BG9800:{value:"%00000000",description:"BG Tile Map Display Select"},LCDCF_BG9C00:{value:"%00001000",description:"BG Tile Map Display Select"},LCDCF_OBJ8:{value:"%00000000",description:"OBJ Construction"},LCDCF_OBJ16:{value:"%00000100",description:"OBJ Construction"},LCDCF_OBJOFF:{value:"%00000000",description:"OBJ Display"},LCDCF_OBJON:{value:"%00000010",description:"OBJ Display"},LCDCF_BGOFF:{value:"%00000000",description:"BG Display"},LCDCF_BGON:{value:"%00000001",description:"BG Display"}}},rSTAT:{description:"LCDC Status (R/W)",value:"$FF41",flags:{STATF_LYC:{value:"%01000000",description:"LYC=LY Coincidence interrupt enabled (writable)"},STATF_MODE10:{value:"%00100000",description:"Mode 10 OAM STAT interrupt enabled (writable)"},STATF_MODE01:{value:"%00010000",description:"Mode 01 V-Blank STAT interrupt enabled (writable)"},STATF_MODE00:{value:"%00001000",description:"Mode 00 H-Blank STAT interrupt enabled (writable)"},STATF_LYCF:{value:"%00000100",description:"Coincidence Flag"},STATF_HB:{value:"%00000000",description:"H-Blank"},STATF_VB:{value:"%00000001",description:"V-Blank"},STATF_OAM:{value:"%00000010",description:"OAM-RAM is used by system"},STATF_LCD:{value:"%00000011",description:"Both OAM and VRAM used by system"},STATF_BUSY:{value:"%00000010",description:"When set, VRAM access is unsafe"}}},rSCY:{description:"Scroll Y (R/W)",value:"$FF42"},rSCX:{description:"Scroll X (R/W)",value:"$FF43"},rLY:{description:"LCDC Y-Coordinate (R)<br>Values range from 0->153. 144->153 is the VBlank period.",value:"$FF44"},rLYC:{description:"LY Compare (R/W)<br>When LY==LYC, STATF_LYCF will be set in STAT",value:"$FF45"},rDMA:{description:"DMA Transfer and Start Address (W)",value:"$FF46"},rBGP:{description:"BG Palette Data (W)<br>Bit 7-6 - Intensity for %11<br>Bit 5-4 - Intensity for %10<br>Bit 3-2 - Intensity for %01<br>Bit 1-0 - Intensity for %00",value:"$FF47"},rOBP0:{description:"Object Palette 0 Data (W)<br>Bit 7-6 - Intensity for %11<br>Bit 5-4 - Intensity for %10<br>Bit 3-2 - Intensity for %01<br>Bit 1-0 - Ignored, %00 is transparent",value:"$FF48"},rOBP1:{description:"Object Palette 1 Data (W)<br>Bit 7-6 - Intensity for %11<br>Bit 5-4 - Intensity for %10<br>Bit 3-2 - Intensity for %01<br>Bit 1-0 - Ignored, %00 is transparent",value:"$FF49"},rWY:{description:"Window Y Position (R/W)<br>0 <= WY <= 143",value:"$FF4A"},rWX:{description:"Window X Position (R/W)<br>7 <EQU WX <EQU 166",value:"$FF4B"},rKEY1:{description:"Select CPU Speed (R/W) GBC Only!<br>Bit 7 contains current speed: 1 is double speed.<br>Write bit 0 to 1 and execute a STOP instruction to switch speed.",value:"$FF4D"},rVBK:{description:"Select Video RAM Bank (R/W) GBC Only!",value:"$FF4F"},rHDMA1:{description:"Horizontal Blanking, General Purpose DMA (W) GBC Only!",value:"$FF51"},rHDMA2:{description:"Horizontal Blanking, General Purpose DMA (W) GBC Only!",value:"$FF52"},rHDMA3:{description:"Horizontal Blanking, General Purpose DMA (W) GBC Only!",value:"$FF53"},rHDMA4:{description:"Horizontal Blanking, General Purpose DMA (W) GBC Only!",value:"$FF54"},rHDMA5:{description:"Horizontal Blanking, General Purpose DMA (R/W) GBC Only!",value:"$FF55"},rRP:{description:"Infrared Communications Port (R/W) GBC Only!",value:"$FF56"},rBCPS:{description:"Background Color Palette Specification (R/W) GBC Only!",value:"$FF68"},rBCPD:{description:"Background Color Palette Data (R/W) GBC Only!",value:"$FF69"},rOCPS:{description:"Object Color Palette Specification (R/W) GBC Only!",value:"$FF6A"},rOCPD:{description:"Object Color Palette Data (R/W) GBC Only!",value:"$FF6B"},rSVBK:{description:"Select Main RAM Bank (R/W) GBC Only!",value:"$FF70"},rIE:{description:"Interrupt Enable (R/W)",value:"$FFFF",flags:{IEF_HILO:{value:"%00010000",description:"Transition from High to Low of Pin number P10-P13"},IEF_SERIAL:{value:"%00001000",description:"Serial I/O transfer end"},IEF_TIMER:{value:"%00000100",description:"Timer Overflow"},IEF_LCDC:{value:"%00000010",description:"LCDC (see STAT)"},IEF_VBLANK:{value:"%00000001",description:"V-Blank"}}},rNR50:{description:"Channel control / ON-OFF / Volume (R/W)<br>Bit 7   - Vin->SO2 ON/OFF (Vin??)<br>Bit 6-4 - SO2 output level (volume) (# 0-7)<br>Bit 3   - Vin->SO1 ON/OFF (Vin??)<br>Bit 2-0 - SO1 output level (volume) (# 0-7)",value:"$FF24",alias:"rAUDVOL"},rNR51:{description:"Selection of Sound output terminal (R/W)<br>Bit 7   - Output sound 4 to SO2 terminal<br>Bit 6   - Output sound 3 to SO2 terminal<br>Bit 5   - Output sound 2 to SO2 terminal<br>Bit 4   - Output sound 1 to SO2 terminal<br>Bit 3   - Output sound 4 to SO1 terminal<br>Bit 2   - Output sound 3 to SO1 terminal<br>Bit 1   - Output sound 2 to SO1 terminal<br>Bit 0   - Output sound 0 to SO1 terminal",value:"$FF25",alias:"rAUDTERM",flags:{AUDTERM_4_LEFT:{description:"%10000000"},AUDTERM_3_LEFT:{description:"%01000000"},AUDTERM_2_LEFT:{description:"%00100000"},AUDTERM_1_LEFT:{description:"%00010000"},AUDTERM_4_RIGHT:{description:"%00001000"},AUDTERM_3_RIGHT:{description:"%00000100"},AUDTERM_2_RIGHT:{description:"%00000010"},AUDTERM_1_RIGHT:{description:"%00000001"}}},rNR52:{description:"Sound on/off (R/W)<br>Bit 7   - All sound on/off (sets all audio regs to 0!)<br>Bit 3   - Sound 4 ON flag (read only)<br>Bit 2   - Sound 3 ON flag (read only)<br>Bit 1   - Sound 2 ON flag (read only)<br>Bit 0   - Sound 1 ON flag (read only)",value:"$FF26",alias:"rAUDENA",flags:{AUDENA_ON:{description:"%10000000"},AUDENA_OFF:{description:"%00000000  ; sets all audio regs to 0!"}}},rNR10:{description:"Sweep register (R/W)<br>Bit 6-4 - Sweep Time<br>Bit 3   - Sweep Increase/Decrease<br>&nbsp; 0: Addition<br>&nbsp; 1: Subtraction<br>Bit 2-0 - Number of sweep shift (# 0-7)<br>Sweep Time: (n*7.8ms)",value:"$FF10",alias:"rAUD1SWEEP",flags:{AUD1SWEEP_UP:{description:"%00000000"},AUD1SWEEP_DOWN:{description:"%00001000"}}},rNR11:{description:"Sound length/Wave pattern duty (R/W)<br>Bit 7-6 - Wave Pattern Duty (00:12.5% 01:25% 10:50% 11:75%)<br>Bit 5-0 - Sound length data (# 0-63)",value:"$FF11",alias:"rAUD1LEN",flags:{AUDLEN_DUTY_12_5:{value:"%00000000",description:"12.5%"},AUDLEN_DUTY_25:{value:"%01000000",description:"25%"},AUDLEN_DUTY_50:{value:"%10000000",description:"50%"},AUDLEN_DUTY_75:{value:"%11000000",description:"75%"}}},rNR12:{description:`Envelope (R/W)
Bit 7-4 - Initial value of envelope
Bit 3   - Envelope UP/DOWN
        0: Decrease
        1: Range of increase
Bit 2-0 - Number of envelope sweep (# 0-7)`,value:"$FF12",alias:"rAUD1ENV",flags:{AUDENV_UP:{value:"%00001000"},AUDENV_DOWN:{value:"%00000000"}}},rNR13:{description:"Frequency lo (W)",value:"$FF13",alias:"rAUD1LOW"},rNR14:{description:"Frequency hi (W)",value:"$FF14",alias:"rAUD1HIGH",flags:{AUDHIGH_RESTART:{description:"%10000000"},AUDHIGH_LENGTH_ON:{description:"%01000000"},AUDHIGH_LENGTH_OFF:{description:"%00000000"}}},rNR21:{description:"Sound Length; Wave Pattern Duty (R/W)",value:"$FF16",alias:"rAUD2LEN",flags:"rAUD1LEN"},rNR22:{description:"Envelope (R/W)",value:"$FF17",alias:"rAUD2ENV",flags:"rAUD1ENV"},rNR23:{description:"Frequency lo (W)",value:"$FF18",alias:"rAUD2LOW"},rNR24:{description:"Frequency hi (W)",value:"$FF19",alias:"rAUD2HIGH",flags:"rAUD1HIGH"},rNR30:{description:"Sound on/off (R/W)",value:"$FF1A",alias:"rAUD3ENA"},rNR31:{description:"Sound length (R/W)",value:"$FF1B",alias:"rAUD3LEN"},rNR32:{description:"Select output level",value:"$FF1C",alias:"rAUD3LEVEL"},rNR33:{description:"Frequency lo (W)",value:"$FF1D",alias:"rAUD3LOW"},rNR34:{description:"Frequency hi (W)",value:"$FF1E",alias:"rAUD3HIGH",flags:"rAUD1HIGH"},rNR41:{description:"Sound length (R/W)",value:"$FF20",alias:"rAUD4LEN"},rNR42:{description:"Envelope (R/W)",value:"$FF21",alias:"rAUD4ENV",flags:"rAUD1ENV"},rNR43:{description:"Polynomial counter (R/W)",value:"$FF22",alias:"rAUD4POLY"},rNR44:{description:"",value:"$FF23",alias:"rAUD4GO"},rPCM12:{description:"Sound channel 1&2 PCM amplitude (R) GBC Only!",value:"$FF76"},rPCM34:{description:"Sound channel 3&4 PCM amplitude (R) GBC Only!",value:"$FF77"},CART_COMPATIBLE_DMG:{description:"Store at $0143 to indicate DMG cartridge. ($00)"},CART_COMPATIBLE_DMG_GBC:{description:"Store at $0143 to indicate DMG and GBC compatible cartridge. ($80)"},CART_COMPATIBLE_GBC:{description:"Store at $0143 to indicate GBC compatible cartridge. ($C0)"},CART_ROM:{description:"Store at $0147 to cart type. ($00)"},CART_ROM_MBC1:{description:"Store at $0147 to cart type. ($01)"},CART_ROM_MBC1_RAM:{description:"Store at $0147 to cart type. ($02)"},CART_ROM_MBC1_RAM_BAT:{description:"Store at $0147 to cart type. ($03)"},CART_ROM_MBC2:{description:"Store at $0147 to cart type. ($05)"},CART_ROM_MBC2_BAT:{description:"Store at $0147 to cart type. ($06)"},CART_ROM_RAM:{description:"Store at $0147 to cart type. ($08)"},CART_ROM_RAM_BAT:{description:"Store at $0147 to cart type. ($09)"},CART_ROM_MBC3_BAT_RTC:{description:"Store at $0147 to cart type. ($0F)"},CART_ROM_MBC3_RAM_BAT_RTC:{description:"Store at $0147 to cart type. ($10)"},CART_ROM_MBC3:{description:"Store at $0147 to cart type. ($11)"},CART_ROM_MBC3_RAM:{description:"Store at $0147 to cart type. ($12)"},CART_ROM_MBC3_RAM_BAT:{description:"Store at $0147 to cart type. ($13)"},CART_ROM_MBC5:{description:"Store at $0147 to cart type. ($19)"},CART_ROM_MBC5_BAT:{description:"Store at $0147 to cart type. ($1A)"},CART_ROM_MBC5_RAM_BAT:{description:"Store at $0147 to cart type. ($1B)"},CART_ROM_MBC5_RUMBLE:{description:"Store at $0147 to cart type. ($1C)"},CART_ROM_MBC5_RAM_RUMBLE:{description:"Store at $0147 to cart type. ($1D)"},CART_ROM_MBC5_RAM_BAT_RUMBLE:{description:"Store at $0147 to cart type. ($1E)"},CART_ROM_MBC7_RAM_BAT_GYRO:{description:"Store at $0147 to cart type. ($22)"},CART_ROM_POCKET_CAMERA:{description:"Store at $0147 to cart type. ($FC)"},CART_ROM_256K:{description:"Store at $0148 to indicate the number of ROM banks: 2 banks"},CART_ROM_512K:{description:"Store at $0148 to indicate the number of ROM banks: 4 banks"},CART_ROM_1M:{description:"Store at $0148 to indicate the number of ROM banks: 8 banks"},CART_ROM_2M:{description:"Store at $0148 to indicate the number of ROM banks: 16 banks"},CART_ROM_4M:{description:"Store at $0148 to indicate the number of ROM banks: 32 banks"},CART_ROM_8M:{description:"Store at $0148 to indicate the number of ROM banks: 64 banks"},CART_ROM_16M:{description:"Store at $0148 to indicate the number of ROM banks: 128 banks"},CART_ROM_32M:{description:"Store at $0148 to indicate the number of ROM banks: 256 banks"},CART_ROM_64M:{description:"Store at $0148 to indicate the number of ROM banks: 512 banks"},CART_RAM_NONE:{description:"Store at $0149 to indicate the amount of SRAM: No SRAM"},CART_RAM_16K:{description:"Store at $0149 to indicate the amount of SRAM: 2 KiloByte, 1 bank"},CART_RAM_64K:{description:"Store at $0149 to indicate the amount of SRAM: 8 KiloByte, 1 bank"},CART_RAM_256K:{description:"Store at $0149 to indicate the amount of SRAM: 32 KiloByte, 4 banks"},CART_RAM_1M:{description:"Store at $0149 to indicate the amount of SRAM: 128 KiloByte, 16 banks"},CART_RAM_ENABLE:{description:"Write this value to $0000 to enable SRAM. ($0A)"},CART_RAM_DISABLE:{description:"Write this value to $0000 to disable SRAM. ($00)"},PADF_DOWN:{description:"$80"},PADF_UP:{description:"$40"},PADF_LEFT:{description:"$20"},PADF_RIGHT:{description:"$10"},PADF_START:{description:"$08"},PADF_SELECT:{description:"$04"},PADF_B:{description:"$02"},PADF_A:{description:"$01"},PADB_DOWN:{description:"$7"},PADB_UP:{description:"$6"},PADB_LEFT:{description:"$5"},PADB_RIGHT:{description:"$4"},PADB_START:{description:"$3"},PADB_SELECT:{description:"$2"},PADB_B:{description:"$1"},PADB_A:{description:"$0"},SCRN_X:{description:"Width of screen in pixels",value:"160"},SCRN_Y:{description:"Height of screen in pixels",value:"144"},SCRN_X_B:{description:"Width of screen in bytes",value:"20"},SCRN_Y_B:{description:"Height of screen in bytes",value:"18"},SCRN_VX:{description:"Virtual width of screen in pixels",value:"256"},SCRN_VY:{description:"Virtual height of screen in pixels",value:"256"},SCRN_VX_B:{description:"Virtual width of screen in bytes",value:"32"},SCRN_VY_B:{description:"Virtual height of screen in bytes",value:"32"}};for(var Wt in yt){if(typeof yt[Wt].flags=="string"&&(yt[Wt].flags=yt[yt[Wt].flags].flags),yt[Wt].flags)for(var Dn in yt[Wt].flags)yt[Dn]=yt[Wt].flags[Dn];yt[Wt].alias&&(yt[yt[Wt].alias]=Object.assign({},yt[Wt]),yt[yt[Wt].alias].alias=Wt)}const{TextHighlightRules:_i}=await Qr("ace/mode/text_highlight_rules"),bi="\\b(?:"+Object.keys(yt).join("|")+")\\b";class $i extends _i{constructor(){super(),this.$rules={start:[{token:"keyword.control.assembly",regex:"\\b(?:ADC|ADD|AND|CP|DEC|INC|OR|SBC|SUB|XOR|BIT|RES|SET|SWAP|RL|RLA|RLC|RLCA|RR|RRA|RRC|RRCA|SLA|SRA|SRL|LD|LDH|CALL|JP|JR|RET|RETI|RST|POP|PUSH|CCF|CPL|DAA|DI|EI|HALT|NOP|SCF|STOP)\\b",caseInsensitive:!0},{token:"keyword.control.sections",regex:"\\b(?:ROM0|ROMX|VRAM|WRAM0|WRAMX|OAM|HRAM)\\b",caseInsensitive:!0},{token:"keyword.control.reserved",regex:"\\b(?:SECTION|INCLUDE|BANK|ALIGN|PURGE|INCBIN|CHARMAP|NEWCHARMAP|SETCHARMAP|PUSHC|POPC|FAIL|WARN|FATAL|ASSERT|STATIC_ASSERT|MACRO|ENDM|SHIFT|REPT|ENDR|LOAD|ENDL|IF|ELSE|ELIF|ENDC|UNION|NEXTU|EQU|EQUS|PUSHS|POPS|PUSHO|POPO|OPT)\\b",caseInsensitive:!0},{token:"variable.constant",regex:bi,caseInsensitive:!0},{token:"variable.parameter.register.assembly",regex:"\\b(?:A|B|C|D|E|H|L|AF|BC|DE|HL)\\b",caseInsensitive:!0},{token:"constant.character.decimal.assembly",regex:"\\b[0-9]+\\b"},{token:"constant.character.binary.assembly",regex:"\\%[0-1]+\\b"},{token:"constant.character.quaternary.assembly",regex:"\\`[0-3]+\\b"},{token:"constant.character.hexadecimal.assembly",regex:"\\$[A-F0-9]+\\b",caseInsensitive:!0},{token:"string.assembly",regex:/'([^\\']|\\.)*'/},{token:"string.assembly",regex:/"([^\\"]|\\.)*"/},{token:"entity.name.function.assembly",regex:"^\\s*%%[\\w.]+?:$"},{token:"entity.name.function.assembly",regex:"^\\s*%\\$[\\w.]+?:$"},{token:"entity.name.function.assembly",regex:"^[\\w.]+?:"},{token:"comment.assembly",regex:";.*$"}]},this.normalizeRules()}static metaData={fileTypes:["asm"],name:"Gameboy Z80",scopeName:"source.assembly"}}const{FoldMode:Ei}=await Qr("ace/mode/folding/coffee");class Si extends Ei{constructor(){super()}getFoldWidgetRange(Y,c,M){var W=this.indentationBlock(Y,M);if(W)return W;var R=/\S/,E=Y.getLine(M),h=E.search(R);if(!(h==-1||E[h]!="#")){for(var a=E.length,l=Y.getLength(),t=M,e=M;++M<l;){E=Y.getLine(M);var r=E.search(R);if(r!=-1){if(E[r]!="#")break;e=M}}if(e>t){var n=Y.getLine(e).length;return new ace.Range(t,a,e,n)}}}getFoldWidget(Y,c,M){var W=Y.getLine(M),R=W.search(/\S/),E=Y.getLine(M+1),h=Y.getLine(M-1),a=h.search(/\S/),l=E.search(/\S/);if(R==-1)return Y.foldWidgets[M-1]=a!=-1&&a<l?"start":"","";if(a==-1){if(R==l&&W[R]=="#"&&E[R]=="#")return Y.foldWidgets[M-1]="",Y.foldWidgets[M+1]="","start"}else if(a==R&&W[R]=="#"&&h[R]=="#"&&Y.getLine(M-2).search(/\S/)==-1)return Y.foldWidgets[M-1]="start",Y.foldWidgets[M+1]="","";return a!=-1&&a<R?Y.foldWidgets[M-1]="start":Y.foldWidgets[M-1]="",R<l?"start":""}}const{Mode:Ai}=await Qr("ace/mode/text");class Ci extends Ai{static lineCommentStart=[";"];static $id="ace/mode/gbz80";constructor(){super(),this.HighlightRules=$i,this.foldingRules=new Si,this.$behaviour=this.$defaultBehaviour}}ace.define("ace/mode/gbz80",["exports"],X=>Object.assign(X,{Mode:Ci}));const{Tooltip:Bn}=await Qr("ace/tooltip"),On=await Qr("ace/lib/event");class ki extends Bn{token={};range=new Kr.Range;constructor(Y){super(Y.container),!Y.tokenTooltip&&(Y.tokenTooltip=this,this.editor=Y,this.update=this.update.bind(this),this.onMouseMove=this.onMouseMove.bind(this),this.onMouseOut=this.onMouseOut.bind(this),On.addListener(Y.renderer.scroller,"mousemove",this.onMouseMove),On.addListener(Y.renderer.content,"mouseout",this.onMouseOut))}update(){this.$timer=null;var Y=this.editor.renderer;this.lastT-(Y.timeStamp||0)>1e3&&(Y.rect=null,Y.timeStamp=this.lastT,this.maxHeight=window.innerHeight,this.maxWidth=window.innerWidth);var c=Y.rect||(Y.rect=Y.scroller.getBoundingClientRect()),M=(this.x+Y.scrollLeft-c.left-Y.$padding)/Y.characterWidth,W=Math.floor((this.y+Y.scrollTop-c.top)/Y.lineHeight),R=Math.round(M),E={row:W,column:R,side:M-R>0?1:-1},h=this.editor.session,a=h.screenToDocumentPosition(E.row,E.column),l=h.getTokenAt(a.row,a.column);if(!l&&!h.getLine(a.row)&&(l={type:"",value:"",state:h.bgTokenizer.getState(0)}),!l){this.hide();return}var t="";if(l.type=="variable.constant"&&l.value in yt){var e=yt[l.value];if(t=e.description,e.value&&(t+=`
Value: `+e.value),e.flags){t+=`
`;for(var r in e.flags)t+=`
`+r+": "+e.flags[r].description}}else{this.hide();return}this.tokenText!=t&&(this.setText(t),this.width=this.getWidth(),this.height=this.getHeight(),this.tokenText=t),this.show(null,this.x,this.y),this.token=l}onMouseMove(Y){this.x=Y.clientX,this.y=Y.clientY,this.isOpen&&(this.lastT=Y.timeStamp,this.setPosition(this.x,this.y)),this.$timer||(this.$timer=setTimeout(this.update,100))}onMouseOut(Y){Y&&Y.currentTarget.contains(Y.relatedTarget)||(this.hide(),this.$timer=clearTimeout(this.$timer))}setPosition(Y,c){Y+10+this.width>this.maxWidth&&(Y=window.innerWidth-this.width-10),(c>window.innerHeight*.75||c+20+this.height>this.maxHeight)&&(c=c-this.height-30),Bn.prototype.setPosition.call(this,Y+10,c+20)}destroy(){this.onMouseOut(),event.removeListener(this.editor.renderer.scroller,"mousemove",this.onMouseMove),event.removeListener(this.editor.renderer.content,"mouseout",this.onMouseOut),delete this.editor.tokenTooltip}}var Ri=[{name:"adc a, r8",description:"a = a + r8 + carry",optionalA:!0,cycles:1,bytes:1,flags:{z:"Set if result is 0",n:"0",h:"Set if overflow from bit 3",c:"Set if overflow from bit 7"}},{name:"adc a, [hl]",description:"a = a + [hl] + carry",optionalA:!0,cycles:2,bytes:1,flags:{z:"Set if result is 0",n:"0",h:"Set if overflow from bit 3",c:"Set if overflow from bit 7"}},{name:"adc a, n8",description:"a = a + n8 + carry",optionalA:!0,cycles:2,bytes:2,flags:{z:"Set if result is 0",n:"0",h:"Set if overflow from bit 3",c:"Set if overflow from bit 7"}},{name:"add a, r8",description:"a = a + r8",optionalA:!0,cycles:1,bytes:1,flags:{z:"Set if result is 0",n:"0",h:"Set if overflow from bit 3",c:"Set if overflow from bit 7"}},{name:"add a, [hl]",description:"a = a + [hl]",optionalA:!0,cycles:2,bytes:1,flags:{z:"Set if result is 0",n:"0",h:"Set if overflow from bit 3",c:"Set if overflow from bit 7"}},{name:"add a, n8",description:"a = a + n8",optionalA:!0,cycles:2,bytes:2,flags:{z:"Set if result is 0",n:"0",h:"Set if overflow from bit 3",c:"Set if overflow from bit 7"}},{name:"add hl, r16",description:"hl = hl + r16",cycles:2,bytes:1,flags:{n:"0",h:"Set if overflow from bit 11",c:"Set if overflow from bit 15"}},{name:"add hl, sp",description:"hl = hl + sp",cycles:2,bytes:1,flags:{n:"0",h:"Set if overflow from bit 11",c:"Set if overflow from bit 15"}},{name:"add sp, e8",description:"sp = sp + e8",cycles:4,bytes:2,flags:{z:"0",n:"0",h:"Set if overflow from bit 3",c:"Set if overflow from bit 7"}},{name:"and a, r8",description:"a = a & r8",optionalA:!0,cycles:1,bytes:1,flags:{z:"Set if result is 0",n:"0",h:"1",c:"0"}},{name:"and a, [hl]",description:"a = a & [hl]",optionalA:!0,cycles:2,bytes:1,flags:{z:"Set if result is 0",n:"0",h:"1",c:"0"}},{name:"and a, n8",description:"a = a & n8",optionalA:!0,cycles:2,bytes:2,flags:{z:"Set if result is 0",n:"0",h:"1",c:"0"}},{name:"bit u3, r8",description:"Sets Z if bit u3 in r8 is 0",cycles:2,bytes:2,flags:{z:"Set if selected bit is 0",n:"0",h:"1"}},{name:"bit u3, [hl]",description:"Sets Z if bit u3 in [hl] is 0",cycles:3,bytes:2,flags:{z:"Set if selected bit is 0",n:"0",h:"1"}},{name:"call n16",description:"Calls address n16",cycles:6,bytes:3,flags:{}},{name:"call cc, n16",description:"Calls address n16 if condition cc is met",cycles:"6/3",bytes:3,flags:{}},{name:"ccf",description:"Complements the carry flag",cycles:1,bytes:1,flags:{n:"0",h:"0",c:"Complemented"}},{name:"cp a, r8",description:"flags = a - r8",optionalA:!0,cycles:1,bytes:1,flags:{z:"Set if result is 0 (a == r8)",n:"1",h:"Set if no borrow from bit 4",c:"Set if no borrow (a < r8)"}},{name:"cp a, [hl]",description:"flags = a - [hl]",optionalA:!0,cycles:2,bytes:1,flags:{z:"Set if result is 0 (a == [hl])",n:"1",h:"Set if no borrow from bit 4",c:"Set if no borrow (a < [hl])"}},{name:"cp a, n8",description:"flags = a - n8",optionalA:!0,cycles:2,bytes:2,flags:{z:"Set if result is 0 (a == n8)",n:"1",h:"Set if no borrow from bit 4",c:"Set if no borrow (a < n8)"}},{name:"cpl",description:"a = ~a",cycles:1,bytes:1,flags:{n:"1",h:"1"}},{name:"daa",description:"Decimal adjusts a to correct BCD value after arithmetic",cycles:1,bytes:1,flags:{z:"Set if result is 0",h:"0",c:"Set or reset based on operation"}},{name:"dec r8",description:"r8 -= 1",cycles:1,bytes:1,flags:{z:"Set if result is 0",n:"1",h:"Set if no borrow from bit 4"}},{name:"dec [hl]",description:"[hl] -= 1",cycles:3,bytes:1,flags:{z:"Set if result is 0",n:"1",h:"Set if no borrow from bit 4"}},{name:"dec r16",description:"r16 -= 1",cycles:2,bytes:1,flags:{}},{name:"dec sp",description:"sp -= 1",cycles:2,bytes:1,flags:{}},{name:"di",description:"Disables interrupts",cycles:1,bytes:1,flags:{}},{name:"ei",description:"Enables interrupts",cycles:1,bytes:1,flags:{}},{name:"halt",description:"Puts the CPU into low power mode",cycles:"-",bytes:1,flags:{}},{name:"inc r8",description:"r8 += 1",cycles:1,bytes:1,flags:{z:"Set if result is 0",n:"0",h:"Set if overflow from bit 3"}},{name:"inc [hl]",description:"[hl] += 1",cycles:3,bytes:1,flags:{z:"Set if result is 0",n:"0",h:"Set if overflow from bit 3"}},{name:"inc r16",description:"r16 += 1",cycles:2,bytes:1,flags:{}},{name:"inc sp",description:"sp += 1",cycles:2,bytes:1,flags:{}},{name:"jp n16",description:"Jumps to address n16",cycles:4,bytes:3,flags:{}},{name:"jp cc, n16",description:"Jumps to address n16 if condition cc is met",cycles:"4/3",bytes:3,flags:{}},{name:"jp hl",description:"Jumps to address in hl",cycles:1,bytes:1,flags:{}},{name:"jr e8",description:"Relative jumps by adding e8 to pc",cycles:3,bytes:2,flags:{}},{name:"jr cc, e8",description:"Relative jumps by adding e8 to pc if condition cc is met",cycles:"3/2",bytes:2,flags:{}},{name:"ld r8, r8",description:"Copies the value from the right register into the left",cycles:1,bytes:1,flags:{}},{name:"ld r8, n8",description:"r8 = n8",cycles:2,bytes:2,flags:{}},{name:"ld r16, n16",description:"r16 = n16",cycles:3,bytes:3,flags:{}},{name:"ld [hl], r8",description:"[hl] = r8",cycles:2,bytes:1,flags:{}},{name:"ld [hl], n8",description:"[hl] = n8",cycles:3,bytes:2,flags:{}},{name:"ld r8, [hl]",description:"r8 = [hl]",cycles:2,bytes:1,flags:{}},{name:"ld [r16], a",description:"[r16] = a",cycles:2,bytes:1,flags:{}},{name:"ld [n16], a",description:"[n16] = a",cycles:4,bytes:3,flags:{}},{name:"ldh [$ff00+n8], a",description:"[$ff00+n8] = a",cycles:3,bytes:2,flags:{}},{name:"ld [$ff00+c], a",description:"[$ff00+c] = a",cycles:2,bytes:1,flags:{}},{name:"ld a, [r16]",description:"a = [r16]",cycles:2,bytes:1,flags:{}},{name:"ld a, [n16]",description:"a = [n16]",cycles:4,bytes:3,flags:{}},{name:"ldh a, [$ff00+n8]",description:"a = [$ff00+n8]",cycles:3,bytes:2,flags:{}},{name:"ld a, [$ff00+c]",description:"a = [$ff00+c]",cycles:2,bytes:1,flags:{}},{name:"ld [hl+], a",description:"[hl] = a, hl += 1",aliasHLI:!0,cycles:2,bytes:1,flags:{}},{name:"ld [hl-], a",description:"[hl] = a, hl -= 1",aliasHLD:!0,cycles:2,bytes:1,flags:{}},{name:"ld a, [hl+]",description:"a = [hl], hl += 1",aliasHLI:!0,cycles:2,bytes:1,flags:{}},{name:"ld a, [hl-]",description:"a = [hl], hl -= 1",aliasHLD:!0,cycles:2,bytes:1,flags:{}},{name:"ld sp, n16",description:"sp = n16",cycles:3,bytes:3,flags:{}},{name:"ld [n16], sp",description:"[n16, n16 + 1] = sp",cycles:5,bytes:3,flags:{}},{name:"ld hl, sp+e8",description:"hl = sp + e8",cycles:3,bytes:2,flags:{z:"0",n:"0",h:"Set if overflow from bit 3",c:"Set if overflow from bit 7"}},{name:"ld sp, hl",description:"sp = hl",cycles:2,bytes:1,flags:{}},{name:"nop",description:"No operation",cycles:1,bytes:1,flags:{}},{name:"or a, r8",description:"a = a | r8",optionalA:!0,cycles:1,bytes:1,flags:{z:"Set if result is 0",n:"0",h:"0",c:"0"}},{name:"or a, [hl]",description:"a = a | [hl]",optionalA:!0,cycles:2,bytes:1,flags:{z:"Set if result is 0",n:"0",h:"0",c:"0"}},{name:"or a, n8",description:"a = a | n8",optionalA:!0,cycles:2,bytes:2,flags:{z:"Set if result is 0",n:"0",h:"0",c:"0"}},{name:"pop af",description:"Pops the stack into af",cycles:3,bytes:1,flags:{}},{name:"pop r16",description:"Pops the stack into r16",cycles:3,bytes:1,flags:{}},{name:"push af",description:"Pushes af onto the stack",cycles:4,bytes:1,flags:{}},{name:"push r16",description:"Pushes r16 onto the stack",cycles:4,bytes:1,flags:{}},{name:"res u3, r8",description:"Sets the bit u3 in r8 to 0",cycles:2,bytes:2,flags:{}},{name:"res u3, [hl]",description:"Sets the bit u3 in [hl] to 0",cycles:4,bytes:2,flags:{}},{name:"ret",description:"Returns from the current subroutine",cycles:4,bytes:1,flags:{}},{name:"ret cc",description:"Returns from the current subroutine if condition cc is met",cycles:"5/2",bytes:1,flags:{}},{name:"reti",description:"Returns from the current subroutine and enables interrupts",cycles:4,bytes:1,flags:{}},{name:"rl r8",description:"Rotates r8 left, sets bit 0 to carry, sets carry to old bit 7",cycles:2,bytes:2,flags:{z:"Set if result is 0",n:"0",h:"0",c:"Set to old bit 7"}},{name:"rl [hl]",description:"Rotates [hl] left, sets bit 0 to carry, sets carry to old bit 7",cycles:4,bytes:2,flags:{z:"Set if result is 0",n:"0",h:"0",c:"Set to old bit 7"}},{name:"rla",description:"Rotates a left, sets bit 0 to carry, sets carry to old bit 7",cycles:1,bytes:1,flags:{z:"0",n:"0",h:"0",c:"Set to old bit 7"}},{name:"rlc r8",description:"Rotates r8 left, sets bit 0 and carry to old bit 7",cycles:2,bytes:2,flags:{z:"Set if result is 0",n:"0",h:"0",c:"Set to old bit 7"}},{name:"rlc [hl]",description:"Rotates [hl] left, sets bit 0 and carry to old bit 7",cycles:4,bytes:2,flags:{z:"Set if result is 0",n:"0",h:"0",c:"Set to old bit 7"}},{name:"rlca",description:"Rotates a left, sets bit 0 and carry to old bit 7",cycles:1,bytes:1,flags:{z:"0",n:"0",h:"0",c:"Set to old bit 7"}},{name:"rr r8",description:"Rotates r8 right, sets bit 7 to carry, sets carry to old bit 0",cycles:2,bytes:2,flags:{z:"Set if result is 0",n:"0",h:"0",c:"Set to old bit 0"}},{name:"rr [hl]",description:"Rotates [hl] right, sets bit 7 to carry, sets carry to old bit 0",cycles:4,bytes:2,flags:{z:"Set if result is 0",n:"0",h:"0",c:"Set to old bit 0"}},{name:"rra",description:"Rotates a right, sets bit 7 to carry, sets carry to old bit 0",cycles:1,bytes:1,flags:{z:"0",n:"0",h:"0",c:"Set to old bit 0"}},{name:"rrc r8",description:"Rotates r8 right, sets bit 7 and carry to old bit 0",cycles:2,bytes:2,flags:{z:"Set if result is 0",n:"0",h:"0",c:"Set to old bit 0"}},{name:"rrc [hl]",description:"Rotates [hl] right, sets bit 7 and carry to old bit 0",cycles:4,bytes:2,flags:{z:"Set if result is 0",n:"0",h:"0",c:"Set to old bit 0"}},{name:"rrca",description:"Rotates a right, sets bit 7 and carry to old bit 0",cycles:1,bytes:1,flags:{z:"0",n:"0",h:"0",c:"Set to old bit 0"}},{name:"rst vec",description:"Calls given reset vector",cycles:4,bytes:1,flags:{}},{name:"sbc a, r8",description:"a = a - r8 - c",optionalA:!0,cycles:1,bytes:1,flags:{z:"Set if result is 0",n:"1",h:"Set if no borrow from bit 4",c:"Set if no borrow"}},{name:"sbc a, [hl]",description:"a = a - [hl] - c",optionalA:!0,cycles:2,bytes:1,flags:{z:"Set if result is 0",n:"1",h:"Set if no borrow from bit 4",c:"Set if no borrow"}},{name:"sbc a, n8",description:"a = a - n8 - c",optionalA:!0,cycles:2,bytes:2,flags:{z:"Set if result is 0",n:"1",h:"Set if no borrow from bit 4",c:"Set if no borrow"}},{name:"scf",description:"Sets the carry flag to 1",cycles:1,bytes:1,flags:{n:"0",h:"0",c:"1"}},{name:"set u3, r8",description:"Sets the bit u3 in r8 to 1",cycles:2,bytes:2,flags:{}},{name:"set u3, [hl]",description:"Sets the bit u3 in [hl] to 1",cycles:4,bytes:2,flags:{}},{name:"sla r8",description:"Shifts r8 left, sets carry to old bit 7",cycles:2,bytes:2,flags:{z:"Set if result is 0",n:"0",h:"0",c:"Set to old bit 7"}},{name:"sla [hl]",description:"Shifts [hl] left, sets carry to old bit 7",cycles:4,bytes:2,flags:{z:"Set if result is 0",n:"0",h:"0",c:"Set to old bit 7"}},{name:"sra r8",description:"Shifts r8 right keeping bit 7 unchanged, sets carry to old bit 0",cycles:2,bytes:2,flags:{z:"Set if result is 0",n:"0",h:"0",c:"Set to old bit 0"}},{name:"sra [hl]",description:"Shifts [hl] right keeping bit 7 unchanged, sets carry to old bit 0",cycles:4,bytes:2,flags:{z:"Set if result is 0",n:"0",h:"0",c:"Set to old bit 0"}},{name:"srl r8",description:"Shifts r8 right, sets carry to old bit 0",cycles:2,bytes:2,flags:{z:"Set if result is 0",n:"0",h:"0",c:"Set to old bit 0"}},{name:"srl [hl]",description:"Shifts [hl] right, sets carry to old bit 0",cycles:4,bytes:2,flags:{z:"Set if result is 0",n:"0",h:"0",c:"Set to old bit 0"}},{name:"stop",description:"Puts the CPU into very low power mode",cycles:"-",bytes:"2",flags:{}},{name:"sub a, r8",description:"a = a - r8",optionalA:!0,cycles:1,bytes:1,flags:{z:"Set if result is 0 (a == r8)",n:"1",h:"Set if no borrow from bit 4",c:"Set if no borrow (a < r8)"}},{name:"sub a, [hl]",description:"a = a - [hl]",optionalA:!0,cycles:2,bytes:1,flags:{z:"Set if result is 0 (a == [hl])",n:"1",h:"Set if no borrow from bit 4",c:"Set if no borrow (a < [hl])"}},{name:"sub a, n8",description:"a = a - n8",optionalA:!0,cycles:2,bytes:2,flags:{z:"Set if result is 0 (a == n8)",n:"1",h:"Set if no borrow from bit 4",c:"Set if no borrow (a < n8)"}},{name:"swap r8",description:"Swaps the upper and lower 4 bits in r8",cycles:2,bytes:2,flags:{z:"Set if result is 0",n:"0",h:"0",c:"0"}},{name:"swap [hl]",description:"Swaps the upper and lower 4 bits in [hl]",cycles:4,bytes:2,flags:{z:"Set if result is 0",n:"0",h:"0",c:"0"}},{name:"xor a, r8",description:"a = a ^ r8",optionalA:!0,cycles:1,bytes:1,flags:{z:"Set if result is 0",n:"0",h:"0",c:"0"}},{name:"xor a, [hl]",description:"a = a ^ [hl]",optionalA:!0,cycles:2,bytes:1,flags:{z:"Set if result is 0",n:"0",h:"0",c:"0"}},{name:"xor a, n8",description:"a = a ^ n8",optionalA:!0,cycles:2,bytes:2,flags:{z:"Set if result is 0",n:"0",h:"0",c:"0"}}],Kn=[];Ri.forEach(function(X){var Y="<table><tr><td colspan=2>"+X.description;Y+="<tr><td>cycles:<td>"+X.cycles,Y+="<tr><td>size:<td>"+X.bytes,Y+="<tr><td>Flag Z:<td>"+X.flags.z,Y+="<tr><td>Flag N:<td>"+X.flags.n,Y+="<tr><td>Flag H:<td>"+X.flags.H,Y+="<tr><td>Flag C:<td>"+X.flags.C;var c={caption:X.name,value:X.name,meta:"",docHTML:Y};c.completer={insertMatch:function(M,W){}},Kn.push(c)});var Qn=[];for(var hn in yt){var Vt=yt[hn],Nr="";if(Vt.description&&(Nr=Vt.description.replace(`
`,"<br>")),Vt.value&&(Nr+="<br><b>Value:</b> "+Vt.value),Vt.flags)for(var In in Vt.flags)Nr+="<br><b>"+In+":</b> "+Vt.flags[In].description;Vt.alias&&(Nr+="<br><b>Alias:</b> "+Vt.alias);var Fi={caption:hn,value:hn,meta:"",docHTML:Nr};Qn.push(Fi)}var Mi={getCompletions:function(X,Y,c,M,W){var R=Y.getLine(c.row),E=R.substr(0,c.column-1).trim();E.trim()==""||E.trim().endsWith(":")?W(null,Kn.filter(function(h){return h.value.startsWith(M.toLowerCase())})):W(null,Qn.filter(function(h){return h.value.toLowerCase().startsWith(M.toLowerCase())}))}};Kr.config.set("basePath","assets/ace");var _t=[],Bt=null,Zr=null,Jr=null,Xr=null,$r=[],fn={};const Ti=X=>{if(!window.matchMedia)return;const Y=window.matchMedia("(prefers-color-scheme: dark)");X(Y.matches),Y.addEventListener("change",c=>X(c.matches))};function jn(X,Y){var c=Kr.edit(X);new ki(c),Ti(M=>{c.setTheme(M?"ace/theme/tomorrow_night_eighties":"ace/theme/tomorrow")}),c.session.setMode("ace/mode/gbz80"),c.setOptions({tabSize:2,useSoftTabs:!0,navigateWithinSoftTabs:!0,enableLiveAutocompletion:!0,enableSnippets:!0}),c.completers=[Mi],c.session.on("change",function(M){c.curOp&&c.curOp.command.name&&(qt(Bt,c.getValue()),Y())}),c.on("guttermousedown",function(M){var W=M.domEvent.target;if(W.className.indexOf("ace_gutter-cell")!=-1){var R=M.getDocumentPosition().row;Di(Bt,R+1),M.stop()}}),_t.push(c)}function Yn(X){Bt!=null&&(fn[Bt]=_t[0].selection.getCursor()),Bt=X,_t[0].setValue(Pt()[X]),_t[0].selection.clearSelection(),_t[0].session.getUndoManager().reset(),Bt in fn?_t[0].selection.moveCursorToPosition(fn[Bt]):_t[0].selection.moveCursorTo(0,0),_t[0].scrollToLine(_t[0].selection.getCursor().row,!0),_t[0].focus(),En(),Zn()}function En(){var X=[];for(var[Y,c,M,W]of li())c==Bt&&X.push({row:M-1,column:0,type:Y,text:W});_t[0].session.setAnnotations(X)}function nn(X,Y,c){Zr=X,Jr=Y,Zn(c)}function xi(X,Y){$r.push([X,Y]),xn(),Xn()}function Li(X,Y){$r=$r.filter(c=>c[0]!=X||c[1]!=Y),xn(),Xn()}function Di(X,Y){var c=$r.findIndex(M=>M[0]==X&&M[1]==Y);c>-1?Li(X,Y):xi(X,Y)}function Xn(){_t[0].session.clearBreakpoints();for(var[X,Y,c]of $r)X==Bt&&_t[0].session.setBreakpoint(Y-1,c?"ace_breakpoint":"ace_invalid_breakpoint")}function Zn(X){X&&Bt!=null&&Bt!=Zr&&Yn(Zr),Xr!=null&&(_t[0].session.removeMarker(Xr),Xr=null),Zr==Bt&&(Xr=_t[0].session.addMarker(new Kr.Range(Jr-1,0,Jr-1,1),"cpuLineMarker","fullLine"),X&&_t[0].scrollToLine(Jr-1,!0,!1,function(){}))}function Bi(){return Bt}function Jn(){return $r}function Oi(){_t[0].renderer.getContainerElement().style.display="none"}function Ii(){_t[0].renderer.getContainerElement().style.display="",_t[0].resize(),_t[0].renderer.updateFull()}const Pi=Object.freeze(Object.defineProperty({__proto__:null,getBreakpoints:Jn,getCurrentFilename:Bi,hide:Oi,register:jn,setCpuLine:nn,setCurrentFile:Yn,show:Ii,updateErrors:En},Symbol.toStringTag,{value:"Module"}));var qr=[4290965700,4289247578,4285423646,4278197037],sn,Kt,vr,At,Jt,wn,on=0;function qn(X){vr=document.getElementById(X),At=document.getElementById("gfxEditorTilesCanvas"),Jt=document.getElementById("gfxEditorDrawCanvas"),wn=document.getElementById("gfxEditorPalette"),new ResizeObserver(function(){At.parentElement.style.maxWidth=vr.clientWidth,At.parentElement.style.maxHeight=vr.clientHeight-300,At.parentElement.style.display=""}).observe(vr),Jt.onmousemove=function(Y){var c=Y.target.getBoundingClientRect(),M=~~((Y.clientX-c.left)/c.width*Y.target.width),W=~~((Y.clientY-c.top)/c.height*Y.target.height);Y.preventDefault(),Y.buttons!=0&&Hi(M,W,on)},Jt.onmousedown=Jt.onmousemove,Jt.oncontextmenu=function(){return!1},wn.onmousedown=function(Y){var c=Y.target.getBoundingClientRect();~~((Y.clientX-c.left)/c.width*Y.target.width/16);var M=~~((Y.clientY-c.top)/c.height*Y.target.height/16);Y.preventDefault(),on=M,Pn()},Pn(),At.onmousedown=function(Y){var c=Y.target.getBoundingClientRect(),M=~~((Y.clientX-c.left)/c.width*Y.target.width/8),W=~~((Y.clientY-c.top)/c.height*Y.target.height/8);Y.preventDefault(),un(M+W*16)}}function Ui(X){sn=X,un(0);var Y=Pt()[X],c=~~(Y.length/16),M=~~((c+15)/16);At.width=16*8,At.height=M*8,At.style.width=At.width*4;for(var W=At.getContext("2d"),R=W.getImageData(0,0,At.width,At.height),E=new Uint32Array(R.data.buffer),h=At.width,a=0;a<c;a++){var l=a%16,t=~~(a/16),e=l*8+t*8*h;Sn(new Uint8Array(Y.buffer,a*16,16),E,e,h)}W.putImageData(R,0,0)}function Ni(){vr.style.display="none"}function Wi(){vr.style.display=""}function un(X){var Y=Pt()[sn];X>=Y.length/16&&(X=Y.length/16-1),Kt=X;var c=Jt.getContext("2d"),M=c.getImageData(0,0,Jt.width,Jt.height),W=new Uint32Array(M.data.buffer);Sn(new Uint8Array(Y.buffer,X*16,16),W,0,8),c.putImageData(M,0,0)}function Sn(X,Y,c,M){for(var W=0;W<8;W++)for(var R=X[W*2],E=X[W*2+1],h=0;h<8;h++){var a=0;R&128>>h&&(a|=1),E&128>>h&&(a|=2),Y[c+h+W*M]=qr[a]}}function Hi(X,Y,c){var M=Pt()[sn];c&1?M[Kt*16+Y*2+0]|=128>>X:M[Kt*16+Y*2+0]&=~(128>>X),c&2?M[Kt*16+Y*2+1]|=128>>X:M[Kt*16+Y*2+1]&=~(128>>X),un(Kt),qt(sn,M);var W=At.getContext("2d"),R=W.getImageData(0,0,At.width,At.height),E=new Uint32Array(R.data.buffer),h=At.width,a=Kt%16,l=~~(Kt/16),t=a*8+l*8*h;Sn(new Uint8Array(M.buffer,Kt*16,16),E,t,h),W.putImageData(R,0,0)}function Pn(){for(var X=wn.getContext("2d"),Y=0;Y<4;Y++)X.fillStyle="rgb("+(qr[Y]&255)+", "+(qr[Y]>>8&255)+", "+(qr[Y]>>16&255)+")",X.fillRect(0,Y*16,16,16);X.strokeStyle="#FFF",X.beginPath(),X.rect(2.5,on*16+2.5,11,11),X.stroke(),X.strokeStyle="#000",X.beginPath(),X.rect(1.5,on*16+1.5,13,13),X.stroke()}const zi=Object.freeze(Object.defineProperty({__proto__:null,hide:Ni,register:qn,setCurrentFile:Ui,setTileIndex:un,show:Wi},Symbol.toStringTag,{value:"Module"}));var Gi={hide:function(){document.getElementById("nullEditorDiv").style.display="none"},show:function(){document.getElementById("nullEditorDiv").style.display=""},setCurrentFile:function(){}},mr=Gi,ei="";function an(){return ei}function sr(X){ei=X;var Y=mr;return typeof Pt()[X]=="string"?mr=Pi:mr=zi,Y!=mr&&(Y.hide(),mr.show()),mr.setCurrentFile(X)}function yn(X){var Y=X.lastIndexOf(".");if(Y<0)return"binary";var c=X.substr(Y+1).toLowerCase();return c=="inc"||c=="asm"||c=="z80"||c=="h"||c=="c"||c=="cpp"||c=="hpp"||c=="txt"?"text":"binary"}const lr=`;*\r
;* Gameboy Hardware definitions\r
;* https://github.com/gbdev/hardware.inc\r
;*\r
;* Based on Jones' hardware.inc\r
;* And based on Carsten Sorensen's ideas.\r
;*\r
;* To the extent possible under law, the authors of this work have\r
;* waived all copyright and related or neighboring rights to the work.\r
;* See https://creativecommons.org/publicdomain/zero/1.0/ for details.\r
;*\r
;* SPDX-License-Identifier: CC0-1.0\r
;*\r
;* Rev 1.1 - 15-Jul-97 : Added define check\r
;* Rev 1.2 - 18-Jul-97 : Added revision check macro\r
;* Rev 1.3 - 19-Jul-97 : Modified for RGBASM V1.05\r
;* Rev 1.4 - 27-Jul-97 : Modified for new subroutine prefixes\r
;* Rev 1.5 - 15-Aug-97 : Added _HRAM, PAD, CART defines\r
;*                     :  and Nintendo Logo\r
;* Rev 1.6 - 30-Nov-97 : Added rDIV, rTIMA, rTMA, & rTAC\r
;* Rev 1.7 - 31-Jan-98 : Added _SCRN0, _SCRN1\r
;* Rev 1.8 - 15-Feb-98 : Added rSB, rSC\r
;* Rev 1.9 - 16-Feb-98 : Converted I/O registers to $FFXX format\r
;* Rev 2.0 -           : Added GBC registers\r
;* Rev 2.1 -           : Added MBC5 & cart RAM enable/disable defines\r
;* Rev 2.2 -           : Fixed NR42,NR43, & NR44 equates\r
;* Rev 2.3 -           : Fixed incorrect _HRAM equate\r
;* Rev 2.4 - 27-Apr-13 : Added some cart defines (AntonioND)\r
;* Rev 2.5 - 03-May-15 : Fixed format (AntonioND)\r
;* Rev 2.6 - 09-Apr-16 : Added GBC OAM and cart defines (AntonioND)\r
;* Rev 2.7 - 19-Jan-19 : Added rPCMXX (ISSOtm)\r
;* Rev 2.8 - 03-Feb-19 : Added audio registers flags (lvaro Cuesta)\r
;* Rev 2.9 - 28-Feb-20 : Added utility rP1 constants\r
;* Rev 3.0 - 27-Aug-20 : Register ordering, byte-based sizes, OAM additions, general cleanup (Blitter Object)\r
;* Rev 4.0 - 03-May-21 : Updated to use RGBDS 0.5.0 syntax, changed IEF_LCDC to IEF_STAT (Eievui)\r
;* Rev 4.1 - 16-Aug-21 : Added more flags, bit number defines, and offset constants for OAM and window positions (rondnelson99)\r
;* Rev 4.2 - 04-Sep-21 : Added CH3- and CH4-specific audio registers flags (ISSOtm)\r
;* Rev 4.3 - 07-Nov-21 : Deprecate VRAM address constants (Eievui)\r
;* Rev 4.4 - 11-Jan-22 : Deprecate VRAM CART_SRAM_2KB constant (avivace)\r
;* Rev 4.5 - 03-Mar-22 : Added bit number definitions for OCPS, BCPS and LCDC (sukus)\r
;* Rev 4.6 - 15-Jun-22 : Added MBC3 registers and special values\r
;* Rev 4.7.0 - 27-Jun-22 : Added alternate names for some constants\r
;* Rev 4.7.1 - 05-Jul-22 : Added RPB_LED_ON constant\r
;* Rev 4.8.0 - 25-Oct-22 : Changed background addressing constants (zlago)\r
;* Rev 4.8.1 - 29-Apr-23 : Added rOPRI (rbong)\r
;* Rev 4.9.0 - 24-Jun-23 : Added definitions for interrupt vectors (sukus)\r
;* Rev 4.9.1 - 11-Sep-23 : Added repository link and CC0 waiver notice\r
;* Rev 4.9.2 - 18-Aug-24 : Corrected CART_ROM_MBC5_BAT to CART_ROM_MBC5_RAM (DevEd)\r
\r
\r
; NOTE: REVISION NUMBER CHANGES MUST BE REFLECTED\r
; IN \`rev_Check_hardware_inc\` BELOW!\r
\r
IF __RGBDS_MAJOR__ == 0 && __RGBDS_MINOR__ < 5\r
    FAIL "This version of 'hardware.inc' requires RGBDS version 0.5.0 or later."\r
ENDC\r
\r
; If all of these are already defined, don't do it again.\r
\r
    IF !DEF(HARDWARE_INC)\r
DEF HARDWARE_INC EQU 1\r
\r
; Usage: rev_Check_hardware_inc <min_ver>\r
; Examples: rev_Check_hardware_inc 4.1.2\r
;           rev_Check_hardware_inc 4.1 (equivalent to 4.1.0)\r
;           rev_Check_hardware_inc 4 (equivalent to 4.0.0)\r
MACRO rev_Check_hardware_inc\r
    DEF CUR_VER equs "4,9,2"    ; ** UPDATE THIS LINE WHEN CHANGING THE REVISION NUMBER **\r
\r
    DEF MIN_VER equs STRRPL("\\1", ".", ",")\r
    DEF INTERNAL_CHK equs """MACRO ___internal\r
    IF \\\\1 != \\\\4 || \\\\2 < \\\\5 || (\\\\2 == \\\\5 && \\\\3 < \\\\6)\r
    	FAIL "Version \\\\1.\\\\2.\\\\3 of 'hardware.inc' is incompatible with requested version \\\\4.\\\\5.\\\\6"\r
    ENDC\r
\\nENDM"""\r
    INTERNAL_CHK\r
    ___internal {CUR_VER}, {MIN_VER},0,0\r
    PURGE CUR_VER, MIN_VER, INTERNAL_CHK, ___internal\r
ENDM\r
\r
\r
;***************************************************************************\r
;*\r
;* General memory region constants\r
;*\r
;***************************************************************************\r
\r
DEF _VRAM        EQU $8000 ; $8000->$9FFF\r
DEF _SCRN0       EQU $9800 ; $9800->$9BFF\r
DEF _SCRN1       EQU $9C00 ; $9C00->$9FFF\r
DEF _SRAM        EQU $A000 ; $A000->$BFFF\r
DEF _RAM         EQU $C000 ; $C000->$CFFF / $C000->$DFFF\r
DEF _RAMBANK     EQU $D000 ; $D000->$DFFF\r
DEF _OAMRAM      EQU $FE00 ; $FE00->$FE9F\r
DEF _IO          EQU $FF00 ; $FF00->$FF7F,$FFFF\r
DEF _AUD3WAVERAM EQU $FF30 ; $FF30->$FF3F\r
DEF _HRAM        EQU $FF80 ; $FF80->$FFFE\r
\r
\r
;***************************************************************************\r
;*\r
;* MBC registers\r
;*\r
;***************************************************************************\r
\r
; *** Common ***\r
\r
; --\r
; -- RAMG ($0000-$1FFF)\r
; -- Controls whether access to SRAM (and the MBC3 RTC registers) is allowed (W)\r
; --\r
DEF rRAMG EQU $0000\r
\r
DEF CART_SRAM_ENABLE  EQU $0A\r
DEF CART_SRAM_DISABLE EQU $00\r
\r
\r
; --\r
; -- ROMB0 ($2000-$3FFF)\r
; -- Selects which ROM bank is mapped to the ROMX space ($4000-$7FFF) (W)\r
; --\r
; -- The range of accepted values, as well as the behavior of writing $00,\r
; -- varies depending on the MBC.\r
; --\r
DEF rROMB0 EQU $2000\r
\r
; --\r
; -- RAMB ($4000-$5FFF)\r
; -- Selects which SRAM bank is mapped to the SRAM space ($A000-$BFFF) (W)\r
; --\r
; -- The range of accepted values varies depending on the cartridge configuration.\r
; --\r
DEF rRAMB EQU $4000\r
\r
\r
; *** MBC3-specific registers ***\r
\r
; Write one of these to rRAMG to map the corresponding RTC register to all SRAM space\r
DEF RTC_S  EQU $08 ; Seconds  (0-59)\r
DEF RTC_M  EQU $09 ; Minutes  (0-59)\r
DEF RTC_H  EQU $0A ; Hours    (0-23)\r
DEF RTC_DL EQU $0B ; Lower 8 bits of Day Counter ($00-$FF)\r
DEF RTC_DH EQU $0C ; Bit 7 - Day Counter Carry Bit (1=Counter Overflow)\r
                   ; Bit 6 - Halt (0=Active, 1=Stop Timer)\r
                   ; Bit 0 - Most significant bit of Day Counter (Bit 8)\r
\r
\r
; --\r
; -- RTCLATCH ($6000-$7FFF)\r
; -- Write $00 then $01 to latch the current time into the RTC registers (W)\r
; --\r
DEF rRTCLATCH EQU $6000\r
\r
\r
; *** MBC5-specific register ***\r
\r
; --\r
; -- ROMB1 ($3000-$3FFF)\r
; -- A 9th bit that "extends" ROMB0 if more than 256 banks are present (W)\r
; --\r
; -- Also note that rROMB0 thus only spans $2000-$2FFF.\r
; --\r
DEF rROMB1 EQU $3000\r
\r
\r
; Bit 3 of RAMB enables the rumble motor (if any)\r
DEF CART_RUMBLE_ON EQU 1 << 3\r
\r
\r
;***************************************************************************\r
;*\r
;* Memory-mapped registers\r
;*\r
;***************************************************************************\r
\r
; --\r
; -- P1 ($FF00)\r
; -- Register for reading joy pad info. (R/W)\r
; --\r
DEF rP1 EQU $FF00\r
\r
DEF P1F_5 EQU %00100000 ; P15 out port, set to 0 to get buttons\r
DEF P1F_4 EQU %00010000 ; P14 out port, set to 0 to get dpad\r
DEF P1F_3 EQU %00001000 ; P13 in port\r
DEF P1F_2 EQU %00000100 ; P12 in port\r
DEF P1F_1 EQU %00000010 ; P11 in port\r
DEF P1F_0 EQU %00000001 ; P10 in port\r
\r
DEF P1F_GET_DPAD EQU P1F_5\r
DEF P1F_GET_BTN  EQU P1F_4\r
DEF P1F_GET_NONE EQU P1F_4 | P1F_5\r
\r
\r
; --\r
; -- SB ($FF01)\r
; -- Serial Transfer Data (R/W)\r
; --\r
DEF rSB EQU $FF01\r
\r
\r
; --\r
; -- SC ($FF02)\r
; -- Serial I/O Control (R/W)\r
; --\r
DEF rSC EQU $FF02\r
\r
DEF SCF_START  EQU %10000000 ; Transfer Start Flag (1=Transfer in progress, or requested)\r
DEF SCF_SPEED  EQU %00000010 ; Clock Speed (0=Normal, 1=Fast) ** CGB Mode Only **\r
DEF SCF_SOURCE EQU %00000001 ; Shift Clock (0=External Clock, 1=Internal Clock)\r
\r
DEF SCB_START  EQU 7\r
DEF SCB_SPEED  EQU 1\r
DEF SCB_SOURCE EQU 0\r
\r
; --\r
; -- DIV ($FF04)\r
; -- Divider register (R/W)\r
; --\r
DEF rDIV EQU $FF04\r
\r
\r
; --\r
; -- TIMA ($FF05)\r
; -- Timer counter (R/W)\r
; --\r
DEF rTIMA EQU $FF05\r
\r
\r
; --\r
; -- TMA ($FF06)\r
; -- Timer modulo (R/W)\r
; --\r
DEF rTMA EQU $FF06\r
\r
\r
; --\r
; -- TAC ($FF07)\r
; -- Timer control (R/W)\r
; --\r
DEF rTAC EQU $FF07\r
\r
DEF TACF_START  EQU %00000100\r
DEF TACF_STOP   EQU %00000000\r
DEF TACF_4KHZ   EQU %00000000\r
DEF TACF_16KHZ  EQU %00000011\r
DEF TACF_65KHZ  EQU %00000010\r
DEF TACF_262KHZ EQU %00000001\r
\r
DEF TACB_START  EQU 2\r
\r
\r
; --\r
; -- IF ($FF0F)\r
; -- Interrupt Flag (R/W)\r
; --\r
DEF rIF EQU $FF0F\r
\r
\r
; --\r
; -- AUD1SWEEP/NR10 ($FF10)\r
; -- Sweep register (R/W)\r
; --\r
; -- Bit 6-4 - Sweep Time\r
; -- Bit 3   - Sweep Increase/Decrease\r
; --           0: Addition    (frequency increases???)\r
; --           1: Subtraction (frequency increases???)\r
; -- Bit 2-0 - Number of sweep shift (# 0-7)\r
; -- Sweep Time: (n*7.8ms)\r
; --\r
DEF rNR10 EQU $FF10\r
DEF rAUD1SWEEP EQU rNR10\r
\r
DEF AUD1SWEEP_UP   EQU %00000000\r
DEF AUD1SWEEP_DOWN EQU %00001000\r
\r
\r
; --\r
; -- AUD1LEN/NR11 ($FF11)\r
; -- Sound length/Wave pattern duty (R/W)\r
; --\r
; -- Bit 7-6 - Wave Pattern Duty (00:12.5% 01:25% 10:50% 11:75%)\r
; -- Bit 5-0 - Sound length data (# 0-63)\r
; --\r
DEF rNR11 EQU $FF11\r
DEF rAUD1LEN EQU rNR11\r
\r
\r
; --\r
; -- AUD1ENV/NR12 ($FF12)\r
; -- Envelope (R/W)\r
; --\r
; -- Bit 7-4 - Initial value of envelope\r
; -- Bit 3   - Envelope UP/DOWN\r
; --           0: Decrease\r
; --           1: Range of increase\r
; -- Bit 2-0 - Number of envelope sweep (# 0-7)\r
; --\r
DEF rNR12 EQU $FF12\r
DEF rAUD1ENV EQU rNR12\r
\r
\r
; --\r
; -- AUD1LOW/NR13 ($FF13)\r
; -- Frequency low byte (W)\r
; --\r
DEF rNR13 EQU $FF13\r
DEF rAUD1LOW EQU rNR13\r
\r
\r
; --\r
; -- AUD1HIGH/NR14 ($FF14)\r
; -- Frequency high byte (W)\r
; --\r
; -- Bit 7   - Initial (when set, sound restarts)\r
; -- Bit 6   - Counter/consecutive selection\r
; -- Bit 2-0 - Frequency's higher 3 bits\r
; --\r
DEF rNR14 EQU $FF14\r
DEF rAUD1HIGH EQU rNR14\r
\r
\r
; --\r
; -- AUD2LEN/NR21 ($FF16)\r
; -- Sound Length; Wave Pattern Duty (R/W)\r
; --\r
; -- see AUD1LEN for info\r
; --\r
DEF rNR21 EQU $FF16\r
DEF rAUD2LEN EQU rNR21\r
\r
\r
; --\r
; -- AUD2ENV/NR22 ($FF17)\r
; -- Envelope (R/W)\r
; --\r
; -- see AUD1ENV for info\r
; --\r
DEF rNR22 EQU $FF17\r
DEF rAUD2ENV EQU rNR22\r
\r
\r
; --\r
; -- AUD2LOW/NR23 ($FF18)\r
; -- Frequency low byte (W)\r
; --\r
DEF rNR23 EQU $FF18\r
DEF rAUD2LOW EQU rNR23\r
\r
\r
; --\r
; -- AUD2HIGH/NR24 ($FF19)\r
; -- Frequency high byte (W)\r
; --\r
; -- see AUD1HIGH for info\r
; --\r
DEF rNR24 EQU $FF19\r
DEF rAUD2HIGH EQU rNR24\r
\r
\r
; --\r
; -- AUD3ENA/NR30 ($FF1A)\r
; -- Sound on/off (R/W)\r
; --\r
; -- Bit 7   - Sound ON/OFF (1=ON,0=OFF)\r
; --\r
DEF rNR30 EQU $FF1A\r
DEF rAUD3ENA EQU rNR30\r
\r
DEF AUD3ENA_OFF EQU %00000000\r
DEF AUD3ENA_ON  EQU %10000000\r
\r
\r
; --\r
; -- AUD3LEN/NR31 ($FF1B)\r
; -- Sound length (R/W)\r
; --\r
; -- Bit 7-0 - Sound length\r
; --\r
DEF rNR31 EQU $FF1B\r
DEF rAUD3LEN EQU rNR31\r
\r
\r
; --\r
; -- AUD3LEVEL/NR32 ($FF1C)\r
; -- Select output level\r
; --\r
; -- Bit 6-5 - Select output level\r
; --           00: 0/1 (mute)\r
; --           01: 1/1\r
; --           10: 1/2\r
; --           11: 1/4\r
; --\r
DEF rNR32 EQU $FF1C\r
DEF rAUD3LEVEL EQU rNR32\r
\r
DEF AUD3LEVEL_MUTE EQU %00000000\r
DEF AUD3LEVEL_100  EQU %00100000\r
DEF AUD3LEVEL_50   EQU %01000000\r
DEF AUD3LEVEL_25   EQU %01100000\r
\r
\r
; --\r
; -- AUD3LOW/NR33 ($FF1D)\r
; -- Frequency low byte (W)\r
; --\r
; -- see AUD1LOW for info\r
; --\r
DEF rNR33 EQU $FF1D\r
DEF rAUD3LOW EQU rNR33\r
\r
\r
; --\r
; -- AUD3HIGH/NR34 ($FF1E)\r
; -- Frequency high byte (W)\r
; --\r
; -- see AUD1HIGH for info\r
; --\r
DEF rNR34 EQU $FF1E\r
DEF rAUD3HIGH EQU rNR34\r
\r
\r
; --\r
; -- AUD4LEN/NR41 ($FF20)\r
; -- Sound length (R/W)\r
; --\r
; -- Bit 5-0 - Sound length data (# 0-63)\r
; --\r
DEF rNR41 EQU $FF20\r
DEF rAUD4LEN EQU rNR41\r
\r
\r
; --\r
; -- AUD4ENV/NR42 ($FF21)\r
; -- Envelope (R/W)\r
; --\r
; -- see AUD1ENV for info\r
; --\r
DEF rNR42 EQU $FF21\r
DEF rAUD4ENV EQU rNR42\r
\r
\r
; --\r
; -- AUD4POLY/NR43 ($FF22)\r
; -- Polynomial counter (R/W)\r
; --\r
; -- Bit 7-4 - Selection of the shift clock frequency of the (scf)\r
; --           polynomial counter (0000-1101)\r
; --           freq=drf*1/2^scf (not sure)\r
; -- Bit 3 -   Selection of the polynomial counter's step\r
; --           0: 15 steps\r
; --           1: 7 steps\r
; -- Bit 2-0 - Selection of the dividing ratio of frequencies (drf)\r
; --           000: f/4   001: f/8   010: f/16  011: f/24\r
; --           100: f/32  101: f/40  110: f/48  111: f/56  (f=4.194304 Mhz)\r
; --\r
DEF rNR43 EQU $FF22\r
DEF rAUD4POLY EQU rNR43\r
\r
DEF AUD4POLY_15STEP EQU %00000000\r
DEF AUD4POLY_7STEP  EQU %00001000\r
\r
\r
; --\r
; -- AUD4GO/NR44 ($FF23)\r
; --\r
; -- Bit 7 -   Initial (when set, sound restarts)\r
; -- Bit 6 -   Counter/consecutive selection\r
; --\r
DEF rNR44 EQU $FF23\r
DEF rAUD4GO EQU rNR44\r
\r
\r
; --\r
; -- AUDVOL/NR50 ($FF24)\r
; -- Channel control / ON-OFF / Volume (R/W)\r
; --\r
; -- Bit 7   - Vin->SO2 ON/OFF (left)\r
; -- Bit 6-4 - SO2 output level (left speaker) (# 0-7)\r
; -- Bit 3   - Vin->SO1 ON/OFF (right)\r
; -- Bit 2-0 - SO1 output level (right speaker) (# 0-7)\r
; --\r
DEF rNR50 EQU $FF24\r
DEF rAUDVOL EQU rNR50\r
\r
DEF AUDVOL_VIN_LEFT  EQU %10000000 ; SO2\r
DEF AUDVOL_VIN_RIGHT EQU %00001000 ; SO1\r
\r
\r
; --\r
; -- AUDTERM/NR51 ($FF25)\r
; -- Selection of Sound output terminal (R/W)\r
; --\r
; -- Bit 7   - Output channel 4 to SO2 terminal (left)\r
; -- Bit 6   - Output channel 3 to SO2 terminal (left)\r
; -- Bit 5   - Output channel 2 to SO2 terminal (left)\r
; -- Bit 4   - Output channel 1 to SO2 terminal (left)\r
; -- Bit 3   - Output channel 4 to SO1 terminal (right)\r
; -- Bit 2   - Output channel 3 to SO1 terminal (right)\r
; -- Bit 1   - Output channel 2 to SO1 terminal (right)\r
; -- Bit 0   - Output channel 1 to SO1 terminal (right)\r
; --\r
DEF rNR51 EQU $FF25\r
DEF rAUDTERM EQU rNR51\r
\r
; SO2\r
DEF AUDTERM_4_LEFT  EQU %10000000\r
DEF AUDTERM_3_LEFT  EQU %01000000\r
DEF AUDTERM_2_LEFT  EQU %00100000\r
DEF AUDTERM_1_LEFT  EQU %00010000\r
; SO1\r
DEF AUDTERM_4_RIGHT EQU %00001000\r
DEF AUDTERM_3_RIGHT EQU %00000100\r
DEF AUDTERM_2_RIGHT EQU %00000010\r
DEF AUDTERM_1_RIGHT EQU %00000001\r
\r
\r
; --\r
; -- AUDENA/NR52 ($FF26)\r
; -- Sound on/off (R/W)\r
; --\r
; -- Bit 7   - All sound on/off (sets all audio regs to 0!)\r
; -- Bit 3   - Sound 4 ON flag (read only)\r
; -- Bit 2   - Sound 3 ON flag (read only)\r
; -- Bit 1   - Sound 2 ON flag (read only)\r
; -- Bit 0   - Sound 1 ON flag (read only)\r
; --\r
DEF rNR52 EQU $FF26\r
DEF rAUDENA EQU rNR52\r
\r
DEF AUDENA_ON    EQU %10000000\r
DEF AUDENA_OFF   EQU %00000000  ; sets all audio regs to 0!\r
\r
\r
; --\r
; -- LCDC ($FF40)\r
; -- LCD Control (R/W)\r
; --\r
DEF rLCDC EQU $FF40\r
\r
DEF LCDCF_OFF     EQU %00000000 ; LCD Control Operation\r
DEF LCDCF_ON      EQU %10000000 ; LCD Control Operation\r
DEF LCDCF_WIN9800 EQU %00000000 ; Window Tile Map Display Select\r
DEF LCDCF_WIN9C00 EQU %01000000 ; Window Tile Map Display Select\r
DEF LCDCF_WINOFF  EQU %00000000 ; Window Display\r
DEF LCDCF_WINON   EQU %00100000 ; Window Display\r
DEF LCDCF_BLK21   EQU %00000000 ; BG & Window Tile Data Select\r
DEF LCDCF_BLK01   EQU %00010000 ; BG & Window Tile Data Select\r
DEF LCDCF_BG9800  EQU %00000000 ; BG Tile Map Display Select\r
DEF LCDCF_BG9C00  EQU %00001000 ; BG Tile Map Display Select\r
DEF LCDCF_OBJ8    EQU %00000000 ; OBJ Construction\r
DEF LCDCF_OBJ16   EQU %00000100 ; OBJ Construction\r
DEF LCDCF_OBJOFF  EQU %00000000 ; OBJ Display\r
DEF LCDCF_OBJON   EQU %00000010 ; OBJ Display\r
DEF LCDCF_BGOFF   EQU %00000000 ; BG Display\r
DEF LCDCF_BGON    EQU %00000001 ; BG Display\r
\r
DEF LCDCB_ON      EQU 7 ; LCD Control Operation\r
DEF LCDCB_WIN9C00 EQU 6 ; Window Tile Map Display Select\r
DEF LCDCB_WINON   EQU 5 ; Window Display\r
DEF LCDCB_BLKS    EQU 4 ; BG & Window Tile Data Select\r
DEF LCDCB_BG9C00  EQU 3 ; BG Tile Map Display Select\r
DEF LCDCB_OBJ16   EQU 2 ; OBJ Construction\r
DEF LCDCB_OBJON   EQU 1 ; OBJ Display\r
DEF LCDCB_BGON    EQU 0 ; BG Display\r
; "Window Character Data Select" follows BG\r
\r
\r
; --\r
; -- STAT ($FF41)\r
; -- LCDC Status   (R/W)\r
; --\r
DEF rSTAT EQU $FF41\r
\r
DEF STATF_LYC     EQU  %01000000 ; LYC=LY Coincidence (Selectable)\r
DEF STATF_MODE10  EQU  %00100000 ; Mode 10\r
DEF STATF_MODE01  EQU  %00010000 ; Mode 01 (V-Blank)\r
DEF STATF_MODE00  EQU  %00001000 ; Mode 00 (H-Blank)\r
DEF STATF_LYCF    EQU  %00000100 ; Coincidence Flag\r
DEF STATF_HBL     EQU  %00000000 ; H-Blank\r
DEF STATF_VBL     EQU  %00000001 ; V-Blank\r
DEF STATF_OAM     EQU  %00000010 ; OAM-RAM is used by system\r
DEF STATF_LCD     EQU  %00000011 ; Both OAM and VRAM used by system\r
DEF STATF_BUSY    EQU  %00000010 ; When set, VRAM access is unsafe\r
\r
DEF STATB_LYC     EQU  6\r
DEF STATB_MODE10  EQU  5\r
DEF STATB_MODE01  EQU  4\r
DEF STATB_MODE00  EQU  3\r
DEF STATB_LYCF    EQU  2\r
DEF STATB_BUSY    EQU  1\r
\r
; --\r
; -- SCY ($FF42)\r
; -- Scroll Y (R/W)\r
; --\r
DEF rSCY EQU $FF42\r
\r
\r
; --\r
; -- SCX ($FF43)\r
; -- Scroll X (R/W)\r
; --\r
DEF rSCX EQU $FF43\r
\r
\r
; --\r
; -- LY ($FF44)\r
; -- LCDC Y-Coordinate (R)\r
; --\r
; -- Values range from 0->153. 144->153 is the VBlank period.\r
; --\r
DEF rLY EQU $FF44\r
\r
\r
; --\r
; -- LYC ($FF45)\r
; -- LY Compare (R/W)\r
; --\r
; -- When LY==LYC, STATF_LYCF will be set in STAT\r
; --\r
DEF rLYC EQU $FF45\r
\r
\r
; --\r
; -- DMA ($FF46)\r
; -- DMA Transfer and Start Address (W)\r
; --\r
DEF rDMA EQU $FF46\r
\r
\r
; --\r
; -- BGP ($FF47)\r
; -- BG Palette Data (W)\r
; --\r
; -- Bit 7-6 - Intensity for %11\r
; -- Bit 5-4 - Intensity for %10\r
; -- Bit 3-2 - Intensity for %01\r
; -- Bit 1-0 - Intensity for %00\r
; --\r
DEF rBGP EQU $FF47\r
\r
\r
; --\r
; -- OBP0 ($FF48)\r
; -- Object Palette 0 Data (W)\r
; --\r
; -- See BGP for info\r
; --\r
DEF rOBP0 EQU $FF48\r
\r
\r
; --\r
; -- OBP1 ($FF49)\r
; -- Object Palette 1 Data (W)\r
; --\r
; -- See BGP for info\r
; --\r
DEF rOBP1 EQU $FF49\r
\r
\r
; --\r
; -- WY ($FF4A)\r
; -- Window Y Position (R/W)\r
; --\r
; -- 0 <= WY <= 143\r
; -- When WY = 0, the window is displayed from the top edge of the LCD screen.\r
; --\r
DEF rWY EQU $FF4A\r
\r
\r
; --\r
; -- WX ($FF4B)\r
; -- Window X Position (R/W)\r
; --\r
; -- 7 <= WX <= 166\r
; -- When WX = 7, the window is displayed from the left edge of the LCD screen.\r
; -- Values of 0-6 and 166 are unreliable due to hardware bugs.\r
; --\r
DEF rWX EQU $FF4B\r
\r
DEF WX_OFS EQU 7 ; add this to a screen position to get a WX position\r
\r
\r
; --\r
; -- SPEED ($FF4D)\r
; -- Select CPU Speed (R/W)\r
; --\r
DEF rKEY1 EQU $FF4D\r
DEF rSPD  EQU rKEY1\r
\r
DEF KEY1F_DBLSPEED EQU %10000000 ; 0=Normal Speed, 1=Double Speed (R)\r
DEF KEY1F_PREPARE  EQU %00000001 ; 0=No, 1=Prepare (R/W)\r
\r
\r
; --\r
; -- VBK ($FF4F)\r
; -- Select Video RAM Bank (R/W)\r
; --\r
; -- Bit 0 - Bank Specification (0: Specify Bank 0; 1: Specify Bank 1)\r
; --\r
DEF rVBK EQU $FF4F\r
\r
\r
; --\r
; -- HDMA1 ($FF51)\r
; -- High byte for Horizontal Blanking/General Purpose DMA source address (W)\r
; -- CGB Mode Only\r
; --\r
DEF rHDMA1 EQU $FF51\r
\r
\r
; --\r
; -- HDMA2 ($FF52)\r
; -- Low byte for Horizontal Blanking/General Purpose DMA source address (W)\r
; -- CGB Mode Only\r
; --\r
DEF rHDMA2 EQU $FF52\r
\r
\r
; --\r
; -- HDMA3 ($FF53)\r
; -- High byte for Horizontal Blanking/General Purpose DMA destination address (W)\r
; -- CGB Mode Only\r
; --\r
DEF rHDMA3 EQU $FF53\r
\r
\r
; --\r
; -- HDMA4 ($FF54)\r
; -- Low byte for Horizontal Blanking/General Purpose DMA destination address (W)\r
; -- CGB Mode Only\r
; --\r
DEF rHDMA4 EQU $FF54\r
\r
\r
; --\r
; -- HDMA5 ($FF55)\r
; -- Transfer length (in tiles minus 1)/mode/start for Horizontal Blanking, General Purpose DMA (R/W)\r
; -- CGB Mode Only\r
; --\r
DEF rHDMA5 EQU $FF55\r
\r
DEF HDMA5F_MODE_GP  EQU %00000000 ; General Purpose DMA (W)\r
DEF HDMA5F_MODE_HBL EQU %10000000 ; HBlank DMA (W)\r
DEF HDMA5B_MODE EQU 7 ; DMA mode select (W)\r
\r
; -- Once DMA has started, use HDMA5F_BUSY to check when the transfer is complete\r
DEF HDMA5F_BUSY EQU %10000000 ; 0=Busy (DMA still in progress), 1=Transfer complete (R)\r
\r
\r
; --\r
; -- RP ($FF56)\r
; -- Infrared Communications Port (R/W)\r
; -- CGB Mode Only\r
; --\r
DEF rRP EQU $FF56\r
\r
DEF RPF_ENREAD   EQU %11000000\r
DEF RPF_DATAIN   EQU %00000010 ; 0=Receiving IR Signal, 1=Normal\r
DEF RPF_WRITE_HI EQU %00000001\r
DEF RPF_WRITE_LO EQU %00000000\r
\r
DEF RPB_LED_ON   EQU 0\r
DEF RPB_DATAIN   EQU 1\r
\r
\r
; --\r
; -- BCPS/BGPI ($FF68)\r
; -- Background Color Palette Specification (aka Background Palette Index) (R/W)\r
; --\r
DEF rBCPS EQU $FF68\r
DEF rBGPI EQU rBCPS\r
\r
DEF BCPSF_AUTOINC EQU %10000000 ; Auto Increment (0=Disabled, 1=Increment after Writing)\r
DEF BCPSB_AUTOINC EQU 7\r
DEF BGPIF_AUTOINC EQU BCPSF_AUTOINC\r
DEF BGPIB_AUTOINC EQU BCPSB_AUTOINC\r
\r
\r
; --\r
; -- BCPD/BGPD ($FF69)\r
; -- Background Color Palette Data (aka Background Palette Data) (R/W)\r
; --\r
DEF rBCPD EQU $FF69\r
DEF rBGPD EQU rBCPD\r
\r
\r
; --\r
; -- OCPS/OBPI ($FF6A)\r
; -- Object Color Palette Specification (aka Object Background Palette Index) (R/W)\r
; --\r
DEF rOCPS EQU $FF6A\r
DEF rOBPI EQU rOCPS\r
\r
DEF OCPSF_AUTOINC EQU %10000000 ; Auto Increment (0=Disabled, 1=Increment after Writing)\r
DEF OCPSB_AUTOINC EQU 7\r
DEF OBPIF_AUTOINC EQU OCPSF_AUTOINC\r
DEF OBPIB_AUTOINC EQU OCPSB_AUTOINC\r
\r
\r
; --\r
; -- OCPD/OBPD ($FF6B)\r
; -- Object Color Palette Data (aka Object Background Palette Data) (R/W)\r
; --\r
DEF rOCPD EQU $FF6B\r
DEF rOBPD EQU rOCPD\r
\r
\r
; --\r
; -- OPRI ($FF6C)\r
; -- Object Priority Mode (R/W)\r
; -- CGB Only\r
\r
; --\r
; -- Priority can be changed only from the boot ROM\r
; --\r
DEF rOPRI EQU $FF6C\r
\r
DEF OPRI_OAM   EQU 0 ; Prioritize objects by location in OAM (CGB Mode default)\r
DEF OPRI_COORD EQU 1 ; Prioritize objects by x-coordinate (Non-CGB Mode default)\r
\r
\r
\r
; --\r
; -- SMBK/SVBK ($FF70)\r
; -- Select Main RAM Bank (R/W)\r
; --\r
; -- Bit 2-0 - Bank Specification (0,1: Specify Bank 1; 2-7: Specify Banks 2-7)\r
; --\r
DEF rSVBK EQU $FF70\r
DEF rSMBK EQU rSVBK\r
\r
\r
; --\r
; -- PCM12 ($FF76)\r
; -- Sound channel 1&2 PCM amplitude (R)\r
; --\r
; -- Bit 7-4 - Copy of sound channel 2's PCM amplitude\r
; -- Bit 3-0 - Copy of sound channel 1's PCM amplitude\r
; --\r
DEF rPCM12 EQU $FF76\r
\r
\r
; --\r
; -- PCM34 ($FF77)\r
; -- Sound channel 3&4 PCM amplitude (R)\r
; --\r
; -- Bit 7-4 - Copy of sound channel 4's PCM amplitude\r
; -- Bit 3-0 - Copy of sound channel 3's PCM amplitude\r
; --\r
DEF rPCM34 EQU $FF77\r
\r
\r
; --\r
; -- IE ($FFFF)\r
; -- Interrupt Enable (R/W)\r
; --\r
DEF rIE EQU $FFFF\r
\r
DEF IEF_HILO   EQU %00010000 ; Transition from High to Low of Pin number P10-P13\r
DEF IEF_SERIAL EQU %00001000 ; Serial I/O transfer end\r
DEF IEF_TIMER  EQU %00000100 ; Timer Overflow\r
DEF IEF_STAT   EQU %00000010 ; STAT\r
DEF IEF_VBLANK EQU %00000001 ; V-Blank\r
\r
DEF IEB_HILO   EQU 4\r
DEF IEB_SERIAL EQU 3\r
DEF IEB_TIMER  EQU 2\r
DEF IEB_STAT   EQU 1\r
DEF IEB_VBLANK EQU 0\r
\r
\r
;***************************************************************************\r
;*\r
;* Flags common to multiple sound channels\r
;*\r
;***************************************************************************\r
\r
; --\r
; -- Square wave duty cycle\r
; --\r
; -- Can be used with AUD1LEN and AUD2LEN\r
; -- See AUD1LEN for more info\r
; --\r
DEF AUDLEN_DUTY_12_5    EQU %00000000 ; 12.5%\r
DEF AUDLEN_DUTY_25      EQU %01000000 ; 25%\r
DEF AUDLEN_DUTY_50      EQU %10000000 ; 50%\r
DEF AUDLEN_DUTY_75      EQU %11000000 ; 75%\r
\r
\r
; --\r
; -- Audio envelope flags\r
; --\r
; -- Can be used with AUD1ENV, AUD2ENV, AUD4ENV\r
; -- See AUD1ENV for more info\r
; --\r
DEF AUDENV_UP           EQU %00001000\r
DEF AUDENV_DOWN         EQU %00000000\r
\r
\r
; --\r
; -- Audio trigger flags\r
; --\r
; -- Can be used with AUD1HIGH, AUD2HIGH, AUD3HIGH\r
; -- See AUD1HIGH for more info\r
; --\r
DEF AUDHIGH_RESTART     EQU %10000000\r
DEF AUDHIGH_LENGTH_ON   EQU %01000000\r
DEF AUDHIGH_LENGTH_OFF  EQU %00000000\r
\r
\r
;***************************************************************************\r
;*\r
;* CPU values on bootup (a=type, b=qualifier)\r
;*\r
;***************************************************************************\r
\r
DEF BOOTUP_A_DMG    EQU $01 ; Dot Matrix Game\r
DEF BOOTUP_A_CGB    EQU $11 ; Color GameBoy\r
DEF BOOTUP_A_MGB    EQU $FF ; Mini GameBoy (Pocket GameBoy)\r
\r
; if a=BOOTUP_A_CGB, bit 0 in b can be checked to determine if real CGB or\r
; other system running in GBC mode\r
DEF BOOTUP_B_CGB    EQU %00000000\r
DEF BOOTUP_B_AGB    EQU %00000001   ; GBA, GBA SP, Game Boy Player, or New GBA SP\r
\r
\r
;***************************************************************************\r
;*\r
;* Interrupt vector addresses\r
;*\r
;***************************************************************************\r
\r
DEF INT_HANDLER_VBLANK EQU $0040\r
DEF INT_HANDLER_STAT   EQU $0048\r
DEF INT_HANDLER_TIMER  EQU $0050\r
DEF INT_HANDLER_SERIAL EQU $0058\r
DEF INT_HANDLER_JOYPAD EQU $0060\r
\r
\r
;***************************************************************************\r
;*\r
;* Header\r
;*\r
;***************************************************************************\r
\r
;*\r
;* Nintendo scrolling logo\r
;* (Code won't work on a real GameBoy)\r
;* (if next lines are altered.)\r
MACRO NINTENDO_LOGO\r
    DB  $CE,$ED,$66,$66,$CC,$0D,$00,$0B,$03,$73,$00,$83,$00,$0C,$00,$0D\r
    DB  $00,$08,$11,$1F,$88,$89,$00,$0E,$DC,$CC,$6E,$E6,$DD,$DD,$D9,$99\r
    DB  $BB,$BB,$67,$63,$6E,$0E,$EC,$CC,$DD,$DC,$99,$9F,$BB,$B9,$33,$3E\r
ENDM\r
\r
; $0143 Color GameBoy compatibility code\r
DEF CART_COMPATIBLE_DMG     EQU $00\r
DEF CART_COMPATIBLE_DMG_GBC EQU $80\r
DEF CART_COMPATIBLE_GBC     EQU $C0\r
\r
; $0146 GameBoy/Super GameBoy indicator\r
DEF CART_INDICATOR_GB       EQU $00\r
DEF CART_INDICATOR_SGB      EQU $03\r
\r
; $0147 Cartridge type\r
DEF CART_ROM                     EQU $00\r
DEF CART_ROM_MBC1                EQU $01\r
DEF CART_ROM_MBC1_RAM            EQU $02\r
DEF CART_ROM_MBC1_RAM_BAT        EQU $03\r
DEF CART_ROM_MBC2                EQU $05\r
DEF CART_ROM_MBC2_BAT            EQU $06\r
DEF CART_ROM_RAM                 EQU $08\r
DEF CART_ROM_RAM_BAT             EQU $09\r
DEF CART_ROM_MMM01               EQU $0B\r
DEF CART_ROM_MMM01_RAM           EQU $0C\r
DEF CART_ROM_MMM01_RAM_BAT       EQU $0D\r
DEF CART_ROM_MBC3_BAT_RTC        EQU $0F\r
DEF CART_ROM_MBC3_RAM_BAT_RTC    EQU $10\r
DEF CART_ROM_MBC3                EQU $11\r
DEF CART_ROM_MBC3_RAM            EQU $12\r
DEF CART_ROM_MBC3_RAM_BAT        EQU $13\r
DEF CART_ROM_MBC5                EQU $19\r
DEF CART_ROM_MBC5_RAM            EQU $1A\r
DEF CART_ROM_MBC5_RAM_BAT        EQU $1B\r
DEF CART_ROM_MBC5_RUMBLE         EQU $1C\r
DEF CART_ROM_MBC5_RAM_RUMBLE     EQU $1D\r
DEF CART_ROM_MBC5_RAM_BAT_RUMBLE EQU $1E\r
DEF CART_ROM_MBC7_RAM_BAT_GYRO   EQU $22\r
DEF CART_ROM_POCKET_CAMERA       EQU $FC\r
DEF CART_ROM_BANDAI_TAMA5        EQU $FD\r
DEF CART_ROM_HUDSON_HUC3         EQU $FE\r
DEF CART_ROM_HUDSON_HUC1         EQU $FF\r
\r
; $0148 ROM size\r
; these are kilobytes\r
DEF CART_ROM_32KB   EQU $00 ; 2 banks\r
DEF CART_ROM_64KB   EQU $01 ; 4 banks\r
DEF CART_ROM_128KB  EQU $02 ; 8 banks\r
DEF CART_ROM_256KB  EQU $03 ; 16 banks\r
DEF CART_ROM_512KB  EQU $04 ; 32 banks\r
DEF CART_ROM_1024KB EQU $05 ; 64 banks\r
DEF CART_ROM_2048KB EQU $06 ; 128 banks\r
DEF CART_ROM_4096KB EQU $07 ; 256 banks\r
DEF CART_ROM_8192KB EQU $08 ; 512 banks\r
DEF CART_ROM_1152KB EQU $52 ; 72 banks\r
DEF CART_ROM_1280KB EQU $53 ; 80 banks\r
DEF CART_ROM_1536KB EQU $54 ; 96 banks\r
\r
; $0149 SRAM size\r
; these are kilobytes\r
DEF CART_SRAM_NONE  EQU 0\r
DEF CART_SRAM_8KB   EQU 2 ; 1 bank\r
DEF CART_SRAM_32KB  EQU 3 ; 4 banks\r
DEF CART_SRAM_128KB EQU 4 ; 16 banks\r
\r
; $014A Destination code\r
DEF CART_DEST_JAPANESE     EQU $00\r
DEF CART_DEST_NON_JAPANESE EQU $01\r
\r
\r
;***************************************************************************\r
;*\r
;* Keypad related\r
;*\r
;***************************************************************************\r
\r
DEF PADF_DOWN   EQU $80\r
DEF PADF_UP     EQU $40\r
DEF PADF_LEFT   EQU $20\r
DEF PADF_RIGHT  EQU $10\r
DEF PADF_START  EQU $08\r
DEF PADF_SELECT EQU $04\r
DEF PADF_B      EQU $02\r
DEF PADF_A      EQU $01\r
\r
DEF PADB_DOWN   EQU $7\r
DEF PADB_UP     EQU $6\r
DEF PADB_LEFT   EQU $5\r
DEF PADB_RIGHT  EQU $4\r
DEF PADB_START  EQU $3\r
DEF PADB_SELECT EQU $2\r
DEF PADB_B      EQU $1\r
DEF PADB_A      EQU $0\r
\r
\r
;***************************************************************************\r
;*\r
;* Screen related\r
;*\r
;***************************************************************************\r
\r
DEF SCRN_X    EQU 160 ; Width of screen in pixels\r
DEF SCRN_Y    EQU 144 ; Height of screen in pixels. Also corresponds to the value in LY at the beginning of VBlank.\r
DEF SCRN_X_B  EQU 20  ; Width of screen in bytes\r
DEF SCRN_Y_B  EQU 18  ; Height of screen in bytes\r
\r
DEF SCRN_VX   EQU 256 ; Virtual width of screen in pixels\r
DEF SCRN_VY   EQU 256 ; Virtual height of screen in pixels\r
DEF SCRN_VX_B EQU 32  ; Virtual width of screen in bytes\r
DEF SCRN_VY_B EQU 32  ; Virtual height of screen in bytes\r
\r
\r
;***************************************************************************\r
;*\r
;* OAM related\r
;*\r
;***************************************************************************\r
\r
; OAM attributes\r
; each entry in OAM RAM is 4 bytes (sizeof_OAM_ATTRS)\r
RSRESET\r
DEF OAMA_Y              RB  1   ; y pos plus 16\r
DEF OAMA_X              RB  1   ; x pos plus 8\r
DEF OAMA_TILEID         RB  1   ; tile id\r
DEF OAMA_FLAGS          RB  1   ; flags (see below)\r
DEF sizeof_OAM_ATTRS    RB  0\r
\r
DEF OAM_Y_OFS EQU 16 ; add this to a screen-relative Y position to get an OAM Y position\r
DEF OAM_X_OFS EQU 8  ; add this to a screen-relative X position to get an OAM X position\r
\r
DEF OAM_COUNT           EQU 40  ; number of OAM entries in OAM RAM\r
\r
; flags\r
DEF OAMF_PRI        EQU %10000000 ; Priority\r
DEF OAMF_YFLIP      EQU %01000000 ; Y flip\r
DEF OAMF_XFLIP      EQU %00100000 ; X flip\r
DEF OAMF_PAL0       EQU %00000000 ; Palette number; 0,1 (DMG)\r
DEF OAMF_PAL1       EQU %00010000 ; Palette number; 0,1 (DMG)\r
DEF OAMF_BANK0      EQU %00000000 ; Bank number; 0,1 (GBC)\r
DEF OAMF_BANK1      EQU %00001000 ; Bank number; 0,1 (GBC)\r
\r
DEF OAMF_PALMASK    EQU %00000111 ; Palette (GBC)\r
\r
DEF OAMB_PRI        EQU 7 ; Priority\r
DEF OAMB_YFLIP      EQU 6 ; Y flip\r
DEF OAMB_XFLIP      EQU 5 ; X flip\r
DEF OAMB_PAL1       EQU 4 ; Palette number; 0,1 (DMG)\r
DEF OAMB_BANK1      EQU 3 ; Bank number; 0,1 (GBC)\r
\r
\r
; Deprecated constants. Please avoid using.\r
\r
DEF IEF_LCDC   EQU %00000010 ; LCDC (see STAT)\r
DEF _VRAM8000  EQU _VRAM\r
DEF _VRAM8800  EQU _VRAM+$800\r
DEF _VRAM9000  EQU _VRAM+$1000\r
DEF CART_SRAM_2KB   EQU 1 ; 1 incomplete bank\r
DEF LCDCF_BG8800  EQU %00000000 ; BG & Window Tile Data Select\r
DEF LCDCF_BG8000  EQU %00010000 ; BG & Window Tile Data Select\r
DEF LCDCB_BG8000  EQU 4 ; BG & Window Tile Data Select\r
\r
\r
    ENDC ;HARDWARE_INC\r
`,Vi=`; From https://gbdev.io/gb-asm-tutorial/part1/hello_world.html

INCLUDE "hardware.inc"

SECTION "Header", ROM0[$100]

  jp EntryPoint

  ds $150 - @, 0 ; Make room for the header

EntryPoint:
  ; Shut down audio circuitry
  ld a, 0
  ld [rNR52], a

  ; Do not turn the LCD off outside of VBlank
WaitVBlank:
  ld a, [rLY]
  cp 144
  jp c, WaitVBlank

  ; Turn the LCD off
  ld a, 0
  ld [rLCDC], a

  ; Copy the tile data
  ld de, Tiles
  ld hl, $9000
  ld bc, TilesEnd - Tiles
CopyTiles:
  ld a, [de]
  ld [hli], a
  inc de
  dec bc
  ld a, b
  or a, c
  jp nz, CopyTiles

  ; Copy the tilemap
  ld de, Tilemap
  ld hl, $9800
  ld bc, TilemapEnd - Tilemap
CopyTilemap:
  ld a, [de]
  ld [hli], a
  inc de
  dec bc
  ld a, b
  or a, c
  jp nz, CopyTilemap

  ; Turn the LCD on
  ld a, LCDCF_ON | LCDCF_BGON
  ld [rLCDC], a

  ; During the first (blank) frame, initialize display registers
  ld a, %11100100
  ld [rBGP], a

Done:
  jp Done


SECTION "Tile data", ROM0

Tiles:
  db $00,$ff, $00,$ff, $00,$ff, $00,$ff, $00,$ff, $00,$ff, $00,$ff, $00,$ff
  db $00,$ff, $00,$80, $00,$80, $00,$80, $00,$80, $00,$80, $00,$80, $00,$80
  db $00,$ff, $00,$7e, $00,$7e, $00,$7e, $00,$7e, $00,$7e, $00,$7e, $00,$7e
  db $00,$ff, $00,$01, $00,$01, $00,$01, $00,$01, $00,$01, $00,$01, $00,$01
  db $00,$ff, $00,$00, $00,$00, $00,$00, $00,$00, $00,$00, $00,$00, $00,$00
  db $00,$ff, $00,$7f, $00,$7f, $00,$7f, $00,$7f, $00,$7f, $00,$7f, $00,$7f
  db $00,$ff, $03,$fc, $00,$f8, $00,$f0, $00,$e0, $20,$c0, $00,$c0, $40,$80
  db $00,$ff, $c0,$3f, $00,$1f, $00,$0f, $00,$07, $04,$03, $00,$03, $02,$01
  db $00,$80, $00,$80, $7f,$80, $00,$80, $00,$80, $7f,$80, $7f,$80, $00,$80
  db $00,$7e, $2a,$7e, $d5,$7e, $2a,$7e, $54,$7e, $ff,$00, $ff,$00, $00,$00
  db $00,$01, $00,$01, $ff,$01, $00,$01, $01,$01, $fe,$01, $ff,$01, $00,$01
  db $00,$80, $80,$80, $7f,$80, $80,$80, $00,$80, $ff,$80, $7f,$80, $80,$80
  db $00,$7f, $2a,$7f, $d5,$7f, $2a,$7f, $55,$7f, $ff,$00, $ff,$00, $00,$00
  db $00,$ff, $aa,$ff, $55,$ff, $aa,$ff, $55,$ff, $fa,$07, $fd,$07, $02,$07
  db $00,$7f, $2a,$7f, $d5,$7f, $2a,$7f, $55,$7f, $aa,$7f, $d5,$7f, $2a,$7f
  db $00,$ff, $80,$ff, $00,$ff, $80,$ff, $00,$ff, $80,$ff, $00,$ff, $80,$ff
  db $40,$80, $00,$80, $7f,$80, $00,$80, $00,$80, $7f,$80, $7f,$80, $00,$80
  db $00,$3c, $02,$7e, $85,$7e, $0a,$7e, $14,$7e, $ab,$7e, $95,$7e, $2a,$7e
  db $02,$01, $00,$01, $ff,$01, $00,$01, $01,$01, $fe,$01, $ff,$01, $00,$01
  db $00,$ff, $80,$ff, $50,$ff, $a8,$ff, $50,$ff, $a8,$ff, $54,$ff, $a8,$ff
  db $7f,$80, $7f,$80, $7f,$80, $7f,$80, $7f,$80, $7f,$80, $7f,$80, $7f,$80
  db $ff,$00, $ff,$00, $ff,$00, $ab,$7e, $d5,$7e, $ab,$7e, $d5,$7e, $ab,$7e
  db $ff,$01, $fe,$01, $ff,$01, $fe,$01, $ff,$01, $fe,$01, $ff,$01, $fe,$01
  db $7f,$80, $ff,$80, $7f,$80, $ff,$80, $7f,$80, $ff,$80, $7f,$80, $ff,$80
  db $ff,$00, $ff,$00, $ff,$00, $aa,$7f, $d5,$7f, $aa,$7f, $d5,$7f, $aa,$7f
  db $f8,$07, $f8,$07, $f8,$07, $80,$ff, $00,$ff, $aa,$ff, $55,$ff, $aa,$ff
  db $7f,$80, $7f,$80, $7f,$80, $7f,$80, $7f,$80, $ff,$80, $7f,$80, $ff,$80
  db $d5,$7f, $aa,$7f, $d5,$7f, $aa,$7f, $d5,$7f, $aa,$7f, $d5,$7f, $aa,$7f
  db $d5,$7e, $ab,$7e, $d5,$7e, $ab,$7e, $d5,$7e, $ab,$7e, $d5,$7e, $eb,$3c
  db $54,$ff, $aa,$ff, $54,$ff, $aa,$ff, $54,$ff, $aa,$ff, $54,$ff, $aa,$ff
  db $7f,$80, $7f,$80, $7f,$80, $7f,$80, $7f,$80, $7f,$80, $7f,$80, $00,$ff
  db $d5,$7e, $ab,$7e, $d5,$7e, $ab,$7e, $d5,$7e, $ab,$7e, $d5,$7e, $2a,$ff
  db $ff,$01, $fe,$01, $ff,$01, $fe,$01, $ff,$01, $fe,$01, $ff,$01, $80,$ff
  db $7f,$80, $ff,$80, $7f,$80, $ff,$80, $7f,$80, $ff,$80, $7f,$80, $aa,$ff
  db $ff,$00, $ff,$00, $ff,$00, $ff,$00, $ff,$00, $ff,$00, $ff,$00, $2a,$ff
  db $ff,$01, $fe,$01, $ff,$01, $fe,$01, $fe,$01, $fe,$01, $fe,$01, $80,$ff
  db $7f,$80, $ff,$80, $7f,$80, $7f,$80, $7f,$80, $7f,$80, $7f,$80, $00,$ff
  db $fe,$01, $fe,$01, $fe,$01, $fe,$01, $fe,$01, $fe,$01, $fe,$01, $80,$ff
  db $3f,$c0, $3f,$c0, $3f,$c0, $1f,$e0, $1f,$e0, $0f,$f0, $03,$fc, $00,$ff
  db $fd,$03, $fc,$03, $fd,$03, $f8,$07, $f9,$07, $f0,$0f, $c1,$3f, $82,$ff
  db $55,$ff, $2a,$7e, $54,$7e, $2a,$7e, $54,$7e, $2a,$7e, $54,$7e, $00,$7e
  db $01,$ff, $00,$01, $01,$01, $00,$01, $01,$01, $00,$01, $01,$01, $00,$01
  db $54,$ff, $ae,$f8, $50,$f0, $a0,$e0, $60,$c0, $80,$c0, $40,$80, $40,$80
  db $55,$ff, $00,$00, $00,$00, $00,$00, $00,$00, $00,$00, $00,$00, $00,$00
  db $55,$ff, $6a,$1f, $05,$0f, $02,$07, $05,$07, $02,$03, $03,$01, $02,$01
  db $54,$ff, $80,$80, $00,$80, $80,$80, $00,$80, $80,$80, $00,$80, $00,$80
  db $55,$ff, $2a,$1f, $0d,$07, $06,$03, $01,$03, $02,$01, $01,$01, $00,$01
  db $55,$ff, $2a,$7f, $55,$7f, $2a,$7f, $55,$7f, $2a,$7f, $55,$7f, $00,$7f
  db $55,$ff, $aa,$ff, $55,$ff, $aa,$ff, $55,$ff, $aa,$ff, $55,$ff, $00,$ff
  db $15,$ff, $00,$00, $00,$00, $00,$00, $00,$00, $00,$00, $00,$00, $00,$00
  db $55,$ff, $6a,$1f, $0d,$07, $06,$03, $01,$03, $02,$01, $03,$01, $00,$01
  db $54,$ff, $a8,$ff, $54,$ff, $a8,$ff, $50,$ff, $a0,$ff, $40,$ff, $00,$ff
  db $00,$7e, $2a,$7e, $d5,$7e, $2a,$7e, $54,$7e, $ab,$76, $dd,$66, $22,$66
  db $00,$7c, $2a,$7e, $d5,$7e, $2a,$7e, $54,$7c, $ff,$00, $ff,$00, $00,$00
  db $00,$01, $00,$01, $ff,$01, $02,$01, $07,$01, $fe,$03, $fd,$07, $0a,$0f
  db $00,$7c, $2a,$7e, $d5,$7e, $2a,$7e, $54,$7e, $ab,$7e, $d5,$7e, $2a,$7e
  db $00,$ff, $a0,$ff, $50,$ff, $a8,$ff, $54,$ff, $a8,$ff, $54,$ff, $aa,$ff
  db $dd,$62, $bf,$42, $fd,$42, $bf,$40, $ff,$00, $ff,$00, $f7,$08, $ef,$18
  db $ff,$00, $ff,$00, $ff,$00, $ab,$7c, $d5,$7e, $ab,$7e, $d5,$7e, $ab,$7e
  db $f9,$07, $fc,$03, $fd,$03, $fe,$01, $ff,$01, $fe,$01, $ff,$01, $fe,$01
  db $d5,$7e, $ab,$7e, $d5,$7e, $ab,$7e, $d5,$7e, $ab,$7e, $d5,$7e, $ab,$7c
  db $f7,$18, $eb,$1c, $d7,$3c, $eb,$3c, $d5,$3e, $ab,$7e, $d5,$7e, $2a,$ff
  db $ff,$01, $fe,$01, $ff,$01, $fe,$01, $ff,$01, $fe,$01, $ff,$01, $a2,$ff
  db $7f,$c0, $bf,$c0, $7f,$c0, $bf,$e0, $5f,$e0, $af,$f0, $57,$fc, $aa,$ff
  db $ff,$01, $fc,$03, $fd,$03, $fc,$03, $f9,$07, $f0,$0f, $c1,$3f, $82,$ff
  db $55,$ff, $2a,$ff, $55,$ff, $2a,$ff, $55,$ff, $2a,$ff, $55,$ff, $00,$ff
  db $45,$ff, $a2,$ff, $41,$ff, $82,$ff, $41,$ff, $80,$ff, $01,$ff, $00,$ff
  db $54,$ff, $aa,$ff, $54,$ff, $aa,$ff, $54,$ff, $aa,$ff, $54,$ff, $00,$ff
  db $15,$ff, $2a,$ff, $15,$ff, $0a,$ff, $15,$ff, $0a,$ff, $01,$ff, $00,$ff
  db $01,$ff, $80,$ff, $01,$ff, $80,$ff, $01,$ff, $80,$ff, $01,$ff, $00,$ff
TilesEnd:

SECTION "Tilemap", ROM0

Tilemap:
  db $00, $00, $00, $00, $00, $00, $00, $00, $00, $00, $00, $00, $00, $00, $00, $00, $00, $00, $00, $00,  0,0,0,0,0,0,0,0,0,0,0,0
  db $00, $00, $00, $00, $00, $00, $00, $00, $00, $00, $00, $00, $00, $00, $00, $00, $00, $00, $00, $00,  0,0,0,0,0,0,0,0,0,0,0,0
  db $00, $00, $00, $00, $00, $00, $00, $00, $00, $00, $00, $00, $00, $00, $00, $00, $00, $00, $00, $00,  0,0,0,0,0,0,0,0,0,0,0,0
  db $00, $00, $00, $00, $00, $00, $00, $00, $00, $00, $00, $00, $00, $00, $00, $00, $00, $00, $00, $00,  0,0,0,0,0,0,0,0,0,0,0,0
  db $00, $00, $01, $02, $03, $01, $04, $03, $01, $05, $00, $01, $05, $00, $06, $04, $07, $00, $00, $00,  0,0,0,0,0,0,0,0,0,0,0,0
  db $00, $00, $08, $09, $0a, $0b, $0c, $0d, $0b, $0e, $0f, $08, $0e, $0f, $10, $11, $12, $13, $00, $00,  0,0,0,0,0,0,0,0,0,0,0,0
  db $00, $00, $14, $15, $16, $17, $18, $19, $1a, $1b, $0f, $14, $1b, $0f, $14, $1c, $16, $1d, $00, $00,  0,0,0,0,0,0,0,0,0,0,0,0
  db $00, $00, $1e, $1f, $20, $21, $22, $23, $24, $22, $25, $1e, $22, $25, $26, $22, $27, $1d, $00, $00,  0,0,0,0,0,0,0,0,0,0,0,0
  db $00, $00, $01, $28, $29, $2a, $2b, $2c, $2d, $2b, $2e, $2d, $2f, $30, $2d, $31, $32, $33, $00, $00,  0,0,0,0,0,0,0,0,0,0,0,0
  db $00, $00, $08, $34, $0a, $0b, $11, $0a, $0b, $35, $36, $0b, $0e, $0f, $08, $37, $0a, $38, $00, $00,  0,0,0,0,0,0,0,0,0,0,0,0
  db $00, $00, $14, $39, $16, $17, $1c, $16, $17, $3a, $3b, $17, $1b, $0f, $14, $3c, $16, $1d, $00, $00,  0,0,0,0,0,0,0,0,0,0,0,0
  db $00, $00, $1e, $3d, $3e, $3f, $22, $27, $21, $1f, $20, $21, $22, $25, $1e, $22, $40, $1d, $00, $00,  0,0,0,0,0,0,0,0,0,0,0,0
  db $00, $00, $00, $41, $42, $43, $44, $30, $33, $41, $45, $43, $41, $30, $43, $41, $30, $33, $00, $00,  0,0,0,0,0,0,0,0,0,0,0,0
  db $00, $00, $00, $00, $00, $00, $00, $00, $00, $00, $00, $00, $00, $00, $00, $00, $00, $00, $00, $00,  0,0,0,0,0,0,0,0,0,0,0,0
  db $00, $00, $00, $00, $00, $00, $00, $00, $00, $00, $00, $00, $00, $00, $00, $00, $00, $00, $00, $00,  0,0,0,0,0,0,0,0,0,0,0,0
  db $00, $00, $00, $00, $00, $00, $00, $00, $00, $00, $00, $00, $00, $00, $00, $00, $00, $00, $00, $00,  0,0,0,0,0,0,0,0,0,0,0,0
  db $00, $00, $00, $00, $00, $00, $00, $00, $00, $00, $00, $00, $00, $00, $00, $00, $00, $00, $00, $00,  0,0,0,0,0,0,0,0,0,0,0,0
  db $00, $00, $00, $00, $00, $00, $00, $00, $00, $00, $00, $00, $00, $00, $00, $00, $00, $00, $00, $00,  0,0,0,0,0,0,0,0,0,0,0,0
TilemapEnd:
`,Qt={autoUrl:!1,autoLocalStorage:!1};let bt;ti();function ti(){bt={"hardware.inc":lr,"main.asm":Vi}}function Ki(){if(location.hash.length>1)location.hash.startsWith("#https://gist.github.com/")?(ii(location.hash.slice(1)),location.hash=""):location.hash.startsWith("#http://")||location.hash.startsWith("#https://")?(Zi(location.hash.slice(1)),location.hash=""):(Qi(),Qt.autoUrl=!0);else if("rgbds_storage"in localStorage){bt={"hardware.inc":lr};for(var[X,Y]of Object.entries(JSON.parse(localStorage.rgbds_storage)))Y instanceof Object&&(Y=Uint8Array.from(Object.values(Y))),bt[X]=Y;Qt.autoLocalStorage=!0}}function Pt(){return bt}function qt(X,Y){typeof X<"u"&&(Y instanceof ArrayBuffer&&(Y=new Uint8Array(Y)),Y===null?delete bt[X]:bt[X]=Y),Qt.autoUrl&&(document.location.hash=new URL(ri()).hash),Qt.autoLocalStorage&&(localStorage.rgbds_storage=JSON.stringify(bt))}function Qi(){var X=Gn.decompressFromEncodedURIComponent(location.hash.slice(1));if(X==null)return!1;if(X.indexOf("\0")<0)return bt["main.asm"]=X,!0;X=X.split("\0"),bt={"hardware.inc":lr};for(var Y=0;Y<X.length-1;Y+=2)bt[X[Y]]=X[Y+1];return!0}function ri(){var X="";for(var[Y,c]of Object.entries(bt))Y=="hardware.inc"&&c==lr||(X+=Y+"\0"+c+"\0");var M=new URL(document.location);return M.hash=Gn.compressToEncodedURIComponent(X),M.hash.length>1024*2?"Sorry, code too large for direct URL generation":M.toString()}function ni(X){var Y=/https:\/\/gist\.github\.com\/\w+\/(\w+)/.exec(X);return Y?Y[1]:null}function ii(X){var Y=ni(X);if(Y!=null){var c=new XMLHttpRequest;c.open("GET","https://api.github.com/gists/"+Y,!1),c.send(),JSON.parse(c.response);var M=JSON.parse(c.responseText);bt={"hardware.inc":lr};for(var[W,R]of Object.entries(M.files))bt[W]=R.content;An()}}function ji(X,Y,c){var M={};for(var[W,R]of Object.entries(bt))M[W]={content:R};if(c==""){var h=new XMLHttpRequest;return h.open("POST","https://api.github.com/gists",!1),h.setRequestHeader("Authorization","Basic "+btoa(X+":"+Y)),h.send(JSON.stringify({files:M})),h.status>=400?null:JSON.parse(h.response).html_url}var E=ni(c);if(E==null)return null;var h=new XMLHttpRequest;return h.open("PATCH","https://api.github.com/gists/"+E,!1),h.setRequestHeader("Authorization","Basic "+btoa(X+":"+Y)),h.send(JSON.stringify({files:M})),h.status>=400?null:c}function Yi(){var X=new zn;for(var[Y,c]of Object.entries(bt))X.file(Y,c);X.generateAsync({type:"blob"}).then(function(M){var W=document.createElement("a"),R=window.URL.createObjectURL(M,{type:"application/octet-stream"});W.setAttribute("href",R),W.setAttribute("download","source.zip"),W.style.display="none",document.body.appendChild(W),W.click(),document.body.removeChild(W),window.URL.revokeObjectURL(R)})}function Xi(X){bt={"hardware.inc":lr},zn.loadAsync(X).then(function(Y){var c=Object.values(Y.files);function M(){if(!(c.length<1)){var W=c.pop(),R=yn(W.name)=="text"?"string":"uint8array";W.async(R).then(function(E){bt[W.name]=E,M(),An()})}}M()})}function Zi(X){bt={"hardware.inc":lr};var Y=new XMLHttpRequest;Y.open("GET",X,!1),Y.send(),bt["main.asm"]=Y.response,An()}function An(){sr(Object.keys(bt)[0]),er(),tn()}var Ji=(()=>{var X=import.meta.url;return function(Y={}){var c=Y,M,W;c.ready=new Promise((b,T)=>{M=b,W=T});var R=Object.assign({},c),E=[],h="./this.program",a=(b,T)=>{throw T},l=!0,t="";function e(b){return c.locateFile?c.locateFile(b,t):t+b}var r,n;typeof document<"u"&&document.currentScript&&(t=document.currentScript.src),X&&(t=X),t.indexOf("blob:")!==0?t=t.substr(0,t.replace(/[?#].*/,"").lastIndexOf("/")+1):t="",r=b=>{var T=new XMLHttpRequest;return T.open("GET",b,!1),T.send(null),T.responseText},n=(b,T,B)=>{var I=new XMLHttpRequest;I.open("GET",b,!0),I.responseType="arraybuffer",I.onload=()=>{if(I.status==200||I.status==0&&I.response){T(I.response);return}B()},I.onerror=B,I.send(null)};var i=c.print||console.log.bind(console),s=c.printErr||console.error.bind(console);Object.assign(c,R),R=null,c.arguments&&(E=c.arguments),c.thisProgram&&(h=c.thisProgram),c.quit&&(a=c.quit);var d;c.wasmBinary&&(d=c.wasmBinary);var v=c.noExitRuntime||!0;typeof WebAssembly!="object"&&Me("no native wasm support detected");var y,k=!1,p;function o(b,T){b||Me(T)}var f,w,g,m,u;function F(){var b=y.buffer;c.HEAP8=f=new Int8Array(b),c.HEAP16=g=new Int16Array(b),c.HEAPU8=w=new Uint8Array(b),c.HEAPU16=new Uint16Array(b),c.HEAP32=m=new Int32Array(b),c.HEAPU32=u=new Uint32Array(b),c.HEAPF32=new Float32Array(b),c.HEAPF64=new Float64Array(b)}var S=[],L=[],A=[],P=[],H=0;function j(){return v||H>0}function le(){if(c.preRun)for(typeof c.preRun=="function"&&(c.preRun=[c.preRun]);c.preRun.length;)ee(c.preRun.shift());ae(S)}function q(){!c.noFSInit&&!U.init.initialized&&U.init(),U.ignorePermissions=!1,ae(L)}function ue(){ae(A)}function J(){if(c.postRun)for(typeof c.postRun=="function"&&(c.postRun=[c.postRun]);c.postRun.length;)me(c.postRun.shift());ae(P)}function ee(b){S.unshift(b)}function ie(b){L.unshift(b)}function me(b){P.unshift(b)}var de=0,Ce=null;function Fe(b){return b}function Te(b){de++,c.monitorRunDependencies&&c.monitorRunDependencies(de)}function Be(b){if(de--,c.monitorRunDependencies&&c.monitorRunDependencies(de),de==0&&Ce){var T=Ce;Ce=null,T()}}function Me(b){c.onAbort&&c.onAbort(b),b="Aborted("+b+")",s(b),k=!0,p=1,b+=". Build with -sASSERTIONS for more info.";var T=new WebAssembly.RuntimeError(b);throw W(T),T}var He="data:application/octet-stream;base64,";function qe(b){return b.startsWith(He)}var Qe;c.locateFile?(Qe="rgbasm.wasm",qe(Qe)||(Qe=e(Qe))):Qe=new URL("/rgbds-live/assets/rgbasm-044cbb83.wasm",self.location).href;function O(b){if(b==Qe&&d)return new Uint8Array(d);throw"both async and sync fetching of the wasm failed"}function Ee(b){return!d&&l&&typeof fetch=="function"?fetch(b,{credentials:"same-origin"}).then(T=>{if(!T.ok)throw"failed to load wasm binary file at '"+b+"'";return T.arrayBuffer()}).catch(()=>O(b)):Promise.resolve().then(()=>O(b))}function be(b,T,B){return Ee(b).then(I=>WebAssembly.instantiate(I,T)).then(I=>I).then(B,I=>{s(`failed to asynchronously prepare wasm: ${I}`),Me(I)})}function te(b,T,B,I){return!b&&typeof WebAssembly.instantiateStreaming=="function"&&!qe(T)&&typeof fetch=="function"?fetch(T,{credentials:"same-origin"}).then(K=>{var se=WebAssembly.instantiateStreaming(K,B);return se.then(I,function(fe){return s(`wasm streaming compile failed: ${fe}`),s("falling back to ArrayBuffer instantiation"),be(T,B,I)})}):be(T,B,I)}function Z(){var b={a:re};function T(I,K){var se=I.exports;return ce=se,y=ce.w,F(),ce.A,ie(ce.x),Be(),se}Te();function B(I){T(I.instance)}if(c.instantiateWasm)try{return c.instantiateWasm(b,T)}catch(I){s(`Module.instantiateWasm callback failed with error: ${I}`),W(I)}return te(d,Qe,b,B).catch(W),{}}var Q,we;function he(b){this.name="ExitStatus",this.message=`Program terminated with exit(${b})`,this.status=b}var ae=b=>{for(;b.length>0;)b.shift()(c)},Se=b=>(m[ve()>>2]=b,b),pe={isAbs:b=>b.charAt(0)==="/",splitPath:b=>{var T=/^(\/?|)([\s\S]*?)((?:\.{1,2}|[^\/]+?|)(\.[^.\/]*|))(?:[\/]*)$/;return T.exec(b).slice(1)},normalizeArray:(b,T)=>{for(var B=0,I=b.length-1;I>=0;I--){var K=b[I];K==="."?b.splice(I,1):K===".."?(b.splice(I,1),B++):B&&(b.splice(I,1),B--)}if(T)for(;B;B--)b.unshift("..");return b},normalize:b=>{var T=pe.isAbs(b),B=b.substr(-1)==="/";return b=pe.normalizeArray(b.split("/").filter(I=>!!I),!T).join("/"),!b&&!T&&(b="."),b&&B&&(b+="/"),(T?"/":"")+b},dirname:b=>{var T=pe.splitPath(b),B=T[0],I=T[1];return!B&&!I?".":(I&&(I=I.substr(0,I.length-1)),B+I)},basename:b=>{if(b==="/")return"/";b=pe.normalize(b),b=b.replace(/\/$/,"");var T=b.lastIndexOf("/");return T===-1?b:b.substr(T+1)},join:function(){var b=Array.prototype.slice.call(arguments);return pe.normalize(b.join("/"))},join2:(b,T)=>pe.normalize(b+"/"+T)},ke=()=>{if(typeof crypto=="object"&&typeof crypto.getRandomValues=="function")return b=>crypto.getRandomValues(b);Me("initRandomDevice")},Pe=b=>(Pe=ke())(b),Ue={resolve:function(){for(var b="",T=!1,B=arguments.length-1;B>=-1&&!T;B--){var I=B>=0?arguments[B]:U.cwd();if(typeof I!="string")throw new TypeError("Arguments to path.resolve must be strings");if(!I)return"";b=I+"/"+b,T=pe.isAbs(I)}return b=pe.normalizeArray(b.split("/").filter(K=>!!K),!T).join("/"),(T?"/":"")+b||"."},relative:(b,T)=>{b=Ue.resolve(b).substr(1),T=Ue.resolve(T).substr(1);function B(Je){for(var ct=0;ct<Je.length&&Je[ct]==="";ct++);for(var dt=Je.length-1;dt>=0&&Je[dt]==="";dt--);return ct>dt?[]:Je.slice(ct,dt-ct+1)}for(var I=B(b.split("/")),K=B(T.split("/")),se=Math.min(I.length,K.length),fe=se,ye=0;ye<se;ye++)if(I[ye]!==K[ye]){fe=ye;break}for(var De=[],ye=fe;ye<I.length;ye++)De.push("..");return De=De.concat(K.slice(fe)),De.join("/")}},ze=typeof TextDecoder<"u"?new TextDecoder("utf8"):void 0,Ve=(b,T,B)=>{for(var I=T+B,K=T;b[K]&&!(K>=I);)++K;if(K-T>16&&b.buffer&&ze)return ze.decode(b.subarray(T,K));for(var se="";T<K;){var fe=b[T++];if(!(fe&128)){se+=String.fromCharCode(fe);continue}var ye=b[T++]&63;if((fe&224)==192){se+=String.fromCharCode((fe&31)<<6|ye);continue}var De=b[T++]&63;if((fe&240)==224?fe=(fe&15)<<12|ye<<6|De:fe=(fe&7)<<18|ye<<12|De<<6|b[T++]&63,fe<65536)se+=String.fromCharCode(fe);else{var Je=fe-65536;se+=String.fromCharCode(55296|Je>>10,56320|Je&1023)}}return se},xe=[],ot=b=>{for(var T=0,B=0;B<b.length;++B){var I=b.charCodeAt(B);I<=127?T++:I<=2047?T+=2:I>=55296&&I<=57343?(T+=4,++B):T+=3}return T},pt=(b,T,B,I)=>{if(!(I>0))return 0;for(var K=B,se=B+I-1,fe=0;fe<b.length;++fe){var ye=b.charCodeAt(fe);if(ye>=55296&&ye<=57343){var De=b.charCodeAt(++fe);ye=65536+((ye&1023)<<10)|De&1023}if(ye<=127){if(B>=se)break;T[B++]=ye}else if(ye<=2047){if(B+1>=se)break;T[B++]=192|ye>>6,T[B++]=128|ye&63}else if(ye<=65535){if(B+2>=se)break;T[B++]=224|ye>>12,T[B++]=128|ye>>6&63,T[B++]=128|ye&63}else{if(B+3>=se)break;T[B++]=240|ye>>18,T[B++]=128|ye>>12&63,T[B++]=128|ye>>6&63,T[B++]=128|ye&63}}return T[B]=0,B-K};function ne(b,T,B){var I=B>0?B:ot(b)+1,K=new Array(I),se=pt(b,K,0,K.length);return T&&(K.length=se),K}var Re=()=>{if(!xe.length){var b=null;if(typeof window<"u"&&typeof window.prompt=="function"?(b=window.prompt("Input: "),b!==null&&(b+=`
`)):typeof readline=="function"&&(b=readline(),b!==null&&(b+=`
`)),!b)return null;xe=ne(b,!0)}return xe.shift()},We={ttys:[],init(){},shutdown(){},register(b,T){We.ttys[b]={input:[],output:[],ops:T},U.registerDevice(b,We.stream_ops)},stream_ops:{open(b){var T=We.ttys[b.node.rdev];if(!T)throw new U.ErrnoError(43);b.tty=T,b.seekable=!1},close(b){b.tty.ops.fsync(b.tty)},fsync(b){b.tty.ops.fsync(b.tty)},read(b,T,B,I,K){if(!b.tty||!b.tty.ops.get_char)throw new U.ErrnoError(60);for(var se=0,fe=0;fe<I;fe++){var ye;try{ye=b.tty.ops.get_char(b.tty)}catch{throw new U.ErrnoError(29)}if(ye===void 0&&se===0)throw new U.ErrnoError(6);if(ye==null)break;se++,T[B+fe]=ye}return se&&(b.node.timestamp=Date.now()),se},write(b,T,B,I,K){if(!b.tty||!b.tty.ops.put_char)throw new U.ErrnoError(60);try{for(var se=0;se<I;se++)b.tty.ops.put_char(b.tty,T[B+se])}catch{throw new U.ErrnoError(29)}return I&&(b.node.timestamp=Date.now()),se}},default_tty_ops:{get_char(b){return Re()},put_char(b,T){T===null||T===10?(i(Ve(b.output,0)),b.output=[]):T!=0&&b.output.push(T)},fsync(b){b.output&&b.output.length>0&&(i(Ve(b.output,0)),b.output=[])},ioctl_tcgets(b){return{c_iflag:25856,c_oflag:5,c_cflag:191,c_lflag:35387,c_cc:[3,28,127,21,4,0,1,0,17,19,26,0,18,15,23,22,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0]}},ioctl_tcsets(b,T,B){return 0},ioctl_tiocgwinsz(b){return[24,80]}},default_tty1_ops:{put_char(b,T){T===null||T===10?(s(Ve(b.output,0)),b.output=[]):T!=0&&b.output.push(T)},fsync(b){b.output&&b.output.length>0&&(s(Ve(b.output,0)),b.output=[])}}},nt=(b,T)=>(w.fill(0,b,b+T),b),Le=(b,T)=>Math.ceil(b/T)*T,wt=b=>{b=Le(b,65536);var T=et(65536,b);return T?nt(T,b):0},Ge={ops_table:null,mount(b){return Ge.createNode(null,"/",16895,0)},createNode(b,T,B,I){if(U.isBlkdev(B)||U.isFIFO(B))throw new U.ErrnoError(63);Ge.ops_table||(Ge.ops_table={dir:{node:{getattr:Ge.node_ops.getattr,setattr:Ge.node_ops.setattr,lookup:Ge.node_ops.lookup,mknod:Ge.node_ops.mknod,rename:Ge.node_ops.rename,unlink:Ge.node_ops.unlink,rmdir:Ge.node_ops.rmdir,readdir:Ge.node_ops.readdir,symlink:Ge.node_ops.symlink},stream:{llseek:Ge.stream_ops.llseek}},file:{node:{getattr:Ge.node_ops.getattr,setattr:Ge.node_ops.setattr},stream:{llseek:Ge.stream_ops.llseek,read:Ge.stream_ops.read,write:Ge.stream_ops.write,allocate:Ge.stream_ops.allocate,mmap:Ge.stream_ops.mmap,msync:Ge.stream_ops.msync}},link:{node:{getattr:Ge.node_ops.getattr,setattr:Ge.node_ops.setattr,readlink:Ge.node_ops.readlink},stream:{}},chrdev:{node:{getattr:Ge.node_ops.getattr,setattr:Ge.node_ops.setattr},stream:U.chrdev_stream_ops}});var K=U.createNode(b,T,B,I);return U.isDir(K.mode)?(K.node_ops=Ge.ops_table.dir.node,K.stream_ops=Ge.ops_table.dir.stream,K.contents={}):U.isFile(K.mode)?(K.node_ops=Ge.ops_table.file.node,K.stream_ops=Ge.ops_table.file.stream,K.usedBytes=0,K.contents=null):U.isLink(K.mode)?(K.node_ops=Ge.ops_table.link.node,K.stream_ops=Ge.ops_table.link.stream):U.isChrdev(K.mode)&&(K.node_ops=Ge.ops_table.chrdev.node,K.stream_ops=Ge.ops_table.chrdev.stream),K.timestamp=Date.now(),b&&(b.contents[T]=K,b.timestamp=K.timestamp),K},getFileDataAsTypedArray(b){return b.contents?b.contents.subarray?b.contents.subarray(0,b.usedBytes):new Uint8Array(b.contents):new Uint8Array(0)},expandFileStorage(b,T){var B=b.contents?b.contents.length:0;if(!(B>=T)){var I=1024*1024;T=Math.max(T,B*(B<I?2:1.125)>>>0),B!=0&&(T=Math.max(T,256));var K=b.contents;b.contents=new Uint8Array(T),b.usedBytes>0&&b.contents.set(K.subarray(0,b.usedBytes),0)}},resizeFileStorage(b,T){if(b.usedBytes!=T)if(T==0)b.contents=null,b.usedBytes=0;else{var B=b.contents;b.contents=new Uint8Array(T),B&&b.contents.set(B.subarray(0,Math.min(T,b.usedBytes))),b.usedBytes=T}},node_ops:{getattr(b){var T={};return T.dev=U.isChrdev(b.mode)?b.id:1,T.ino=b.id,T.mode=b.mode,T.nlink=1,T.uid=0,T.gid=0,T.rdev=b.rdev,U.isDir(b.mode)?T.size=4096:U.isFile(b.mode)?T.size=b.usedBytes:U.isLink(b.mode)?T.size=b.link.length:T.size=0,T.atime=new Date(b.timestamp),T.mtime=new Date(b.timestamp),T.ctime=new Date(b.timestamp),T.blksize=4096,T.blocks=Math.ceil(T.size/T.blksize),T},setattr(b,T){T.mode!==void 0&&(b.mode=T.mode),T.timestamp!==void 0&&(b.timestamp=T.timestamp),T.size!==void 0&&Ge.resizeFileStorage(b,T.size)},lookup(b,T){throw U.genericErrors[44]},mknod(b,T,B,I){return Ge.createNode(b,T,B,I)},rename(b,T,B){if(U.isDir(b.mode)){var I;try{I=U.lookupNode(T,B)}catch{}if(I)for(var K in I.contents)throw new U.ErrnoError(55)}delete b.parent.contents[b.name],b.parent.timestamp=Date.now(),b.name=B,T.contents[B]=b,T.timestamp=b.parent.timestamp,b.parent=T},unlink(b,T){delete b.contents[T],b.timestamp=Date.now()},rmdir(b,T){var B=U.lookupNode(b,T);for(var I in B.contents)throw new U.ErrnoError(55);delete b.contents[T],b.timestamp=Date.now()},readdir(b){var T=[".",".."];for(var B in b.contents)b.contents.hasOwnProperty(B)&&T.push(B);return T},symlink(b,T,B){var I=Ge.createNode(b,T,41471,0);return I.link=B,I},readlink(b){if(!U.isLink(b.mode))throw new U.ErrnoError(28);return b.link}},stream_ops:{read(b,T,B,I,K){var se=b.node.contents;if(K>=b.node.usedBytes)return 0;var fe=Math.min(b.node.usedBytes-K,I);if(fe>8&&se.subarray)T.set(se.subarray(K,K+fe),B);else for(var ye=0;ye<fe;ye++)T[B+ye]=se[K+ye];return fe},write(b,T,B,I,K,se){if(T.buffer===f.buffer&&(se=!1),!I)return 0;var fe=b.node;if(fe.timestamp=Date.now(),T.subarray&&(!fe.contents||fe.contents.subarray)){if(se)return fe.contents=T.subarray(B,B+I),fe.usedBytes=I,I;if(fe.usedBytes===0&&K===0)return fe.contents=T.slice(B,B+I),fe.usedBytes=I,I;if(K+I<=fe.usedBytes)return fe.contents.set(T.subarray(B,B+I),K),I}if(Ge.expandFileStorage(fe,K+I),fe.contents.subarray&&T.subarray)fe.contents.set(T.subarray(B,B+I),K);else for(var ye=0;ye<I;ye++)fe.contents[K+ye]=T[B+ye];return fe.usedBytes=Math.max(fe.usedBytes,K+I),I},llseek(b,T,B){var I=T;if(B===1?I+=b.position:B===2&&U.isFile(b.node.mode)&&(I+=b.node.usedBytes),I<0)throw new U.ErrnoError(28);return I},allocate(b,T,B){Ge.expandFileStorage(b.node,T+B),b.node.usedBytes=Math.max(b.node.usedBytes,T+B)},mmap(b,T,B,I,K){if(!U.isFile(b.node.mode))throw new U.ErrnoError(43);var se,fe,ye=b.node.contents;if(!(K&2)&&ye.buffer===f.buffer)fe=!1,se=ye.byteOffset;else{if((B>0||B+T<ye.length)&&(ye.subarray?ye=ye.subarray(B,B+T):ye=Array.prototype.slice.call(ye,B,B+T)),fe=!0,se=wt(T),!se)throw new U.ErrnoError(48);f.set(ye,se)}return{ptr:se,allocated:fe}},msync(b,T,B,I,K){return Ge.stream_ops.write(b,T,0,I,B,!1),0}}},Ft=(b,T,B,I)=>{var K=I?"":`al ${b}`;n(b,se=>{o(se,`Loading data file "${b}" failed (no arrayBuffer).`),T(new Uint8Array(se)),K&&Be()},se=>{if(B)B();else throw`Loading data file "${b}" failed.`}),K&&Te()},kt=c.preloadPlugins||[],Mt=(b,T,B,I)=>{typeof Browser<"u"&&Browser.init();var K=!1;return kt.forEach(se=>{K||se.canHandle(T)&&(se.handle(b,T,B,I),K=!0)}),K},Tt=(b,T,B,I,K,se,fe,ye,De,Je)=>{var ct=T?Ue.resolve(pe.join2(b,T)):b;function dt(je){function Xe(ut){Je&&Je(),ye||U.createDataFile(b,T,ut,I,K,De),se&&se(),Be()}Mt(je,ct,Xe,()=>{fe&&fe(),Be()})||Xe(je)}Te(),typeof B=="string"?Ft(B,je=>dt(je),fe):dt(B)},_=b=>{var T={r:0,"r+":2,w:577,"w+":578,a:1089,"a+":1090},B=T[b];if(typeof B>"u")throw new Error(`Unknown file open mode: ${b}`);return B},zt=(b,T)=>{var B=0;return b&&(B|=365),T&&(B|=146),B},U={root:null,mounts:[],devices:{},streams:[],nextInode:1,nameTable:null,currentPath:"/",initialized:!1,ignorePermissions:!0,ErrnoError:null,genericErrors:{},filesystems:null,syncFSRequests:0,lookupPath(b,T={}){if(b=Ue.resolve(b),!b)return{path:"",node:null};var B={follow_mount:!0,recurse_count:0};if(T=Object.assign(B,T),T.recurse_count>8)throw new U.ErrnoError(32);for(var I=b.split("/").filter(dt=>!!dt),K=U.root,se="/",fe=0;fe<I.length;fe++){var ye=fe===I.length-1;if(ye&&T.parent)break;if(K=U.lookupNode(K,I[fe]),se=pe.join2(se,I[fe]),U.isMountpoint(K)&&(!ye||ye&&T.follow_mount)&&(K=K.mounted.root),!ye||T.follow)for(var De=0;U.isLink(K.mode);){var Je=U.readlink(se);se=Ue.resolve(pe.dirname(se),Je);var ct=U.lookupPath(se,{recurse_count:T.recurse_count+1});if(K=ct.node,De++>40)throw new U.ErrnoError(32)}}return{path:se,node:K}},getPath(b){for(var T;;){if(U.isRoot(b)){var B=b.mount.mountpoint;return T?B[B.length-1]!=="/"?`${B}/${T}`:B+T:B}T=T?`${b.name}/${T}`:b.name,b=b.parent}},hashName(b,T){for(var B=0,I=0;I<T.length;I++)B=(B<<5)-B+T.charCodeAt(I)|0;return(b+B>>>0)%U.nameTable.length},hashAddNode(b){var T=U.hashName(b.parent.id,b.name);b.name_next=U.nameTable[T],U.nameTable[T]=b},hashRemoveNode(b){var T=U.hashName(b.parent.id,b.name);if(U.nameTable[T]===b)U.nameTable[T]=b.name_next;else for(var B=U.nameTable[T];B;){if(B.name_next===b){B.name_next=b.name_next;break}B=B.name_next}},lookupNode(b,T){var B=U.mayLookup(b);if(B)throw new U.ErrnoError(B,b);for(var I=U.hashName(b.id,T),K=U.nameTable[I];K;K=K.name_next){var se=K.name;if(K.parent.id===b.id&&se===T)return K}return U.lookup(b,T)},createNode(b,T,B,I){var K=new U.FSNode(b,T,B,I);return U.hashAddNode(K),K},destroyNode(b){U.hashRemoveNode(b)},isRoot(b){return b===b.parent},isMountpoint(b){return!!b.mounted},isFile(b){return(b&61440)===32768},isDir(b){return(b&61440)===16384},isLink(b){return(b&61440)===40960},isChrdev(b){return(b&61440)===8192},isBlkdev(b){return(b&61440)===24576},isFIFO(b){return(b&61440)===4096},isSocket(b){return(b&49152)===49152},flagsToPermissionString(b){var T=["r","w","rw"][b&3];return b&512&&(T+="w"),T},nodePermissions(b,T){return U.ignorePermissions?0:T.includes("r")&&!(b.mode&292)||T.includes("w")&&!(b.mode&146)||T.includes("x")&&!(b.mode&73)?2:0},mayLookup(b){var T=U.nodePermissions(b,"x");return T||(b.node_ops.lookup?0:2)},mayCreate(b,T){try{var B=U.lookupNode(b,T);return 20}catch{}return U.nodePermissions(b,"wx")},mayDelete(b,T,B){var I;try{I=U.lookupNode(b,T)}catch(se){return se.errno}var K=U.nodePermissions(b,"wx");if(K)return K;if(B){if(!U.isDir(I.mode))return 54;if(U.isRoot(I)||U.getPath(I)===U.cwd())return 10}else if(U.isDir(I.mode))return 31;return 0},mayOpen(b,T){return b?U.isLink(b.mode)?32:U.isDir(b.mode)&&(U.flagsToPermissionString(T)!=="r"||T&512)?31:U.nodePermissions(b,U.flagsToPermissionString(T)):44},MAX_OPEN_FDS:4096,nextfd(){for(var b=0;b<=U.MAX_OPEN_FDS;b++)if(!U.streams[b])return b;throw new U.ErrnoError(33)},getStreamChecked(b){var T=U.getStream(b);if(!T)throw new U.ErrnoError(8);return T},getStream:b=>U.streams[b],createStream(b,T=-1){return U.FSStream||(U.FSStream=function(){this.shared={}},U.FSStream.prototype={},Object.defineProperties(U.FSStream.prototype,{object:{get(){return this.node},set(B){this.node=B}},isRead:{get(){return(this.flags&2097155)!==1}},isWrite:{get(){return(this.flags&2097155)!==0}},isAppend:{get(){return this.flags&1024}},flags:{get(){return this.shared.flags},set(B){this.shared.flags=B}},position:{get(){return this.shared.position},set(B){this.shared.position=B}}})),b=Object.assign(new U.FSStream,b),T==-1&&(T=U.nextfd()),b.fd=T,U.streams[T]=b,b},closeStream(b){U.streams[b]=null},chrdev_stream_ops:{open(b){var T=U.getDevice(b.node.rdev);b.stream_ops=T.stream_ops,b.stream_ops.open&&b.stream_ops.open(b)},llseek(){throw new U.ErrnoError(70)}},major:b=>b>>8,minor:b=>b&255,makedev:(b,T)=>b<<8|T,registerDevice(b,T){U.devices[b]={stream_ops:T}},getDevice:b=>U.devices[b],getMounts(b){for(var T=[],B=[b];B.length;){var I=B.pop();T.push(I),B.push.apply(B,I.mounts)}return T},syncfs(b,T){typeof b=="function"&&(T=b,b=!1),U.syncFSRequests++,U.syncFSRequests>1&&s(`warning: ${U.syncFSRequests} FS.syncfs operations in flight at once, probably just doing extra work`);var B=U.getMounts(U.root.mount),I=0;function K(fe){return U.syncFSRequests--,T(fe)}function se(fe){if(fe)return se.errored?void 0:(se.errored=!0,K(fe));++I>=B.length&&K(null)}B.forEach(fe=>{if(!fe.type.syncfs)return se(null);fe.type.syncfs(fe,b,se)})},mount(b,T,B){var I=B==="/",K=!B,se;if(I&&U.root)throw new U.ErrnoError(10);if(!I&&!K){var fe=U.lookupPath(B,{follow_mount:!1});if(B=fe.path,se=fe.node,U.isMountpoint(se))throw new U.ErrnoError(10);if(!U.isDir(se.mode))throw new U.ErrnoError(54)}var ye={type:b,opts:T,mountpoint:B,mounts:[]},De=b.mount(ye);return De.mount=ye,ye.root=De,I?U.root=De:se&&(se.mounted=ye,se.mount&&se.mount.mounts.push(ye)),De},unmount(b){var T=U.lookupPath(b,{follow_mount:!1});if(!U.isMountpoint(T.node))throw new U.ErrnoError(28);var B=T.node,I=B.mounted,K=U.getMounts(I);Object.keys(U.nameTable).forEach(fe=>{for(var ye=U.nameTable[fe];ye;){var De=ye.name_next;K.includes(ye.mount)&&U.destroyNode(ye),ye=De}}),B.mounted=null;var se=B.mount.mounts.indexOf(I);B.mount.mounts.splice(se,1)},lookup(b,T){return b.node_ops.lookup(b,T)},mknod(b,T,B){var I=U.lookupPath(b,{parent:!0}),K=I.node,se=pe.basename(b);if(!se||se==="."||se==="..")throw new U.ErrnoError(28);var fe=U.mayCreate(K,se);if(fe)throw new U.ErrnoError(fe);if(!K.node_ops.mknod)throw new U.ErrnoError(63);return K.node_ops.mknod(K,se,T,B)},create(b,T){return T=T!==void 0?T:438,T&=4095,T|=32768,U.mknod(b,T,0)},mkdir(b,T){return T=T!==void 0?T:511,T&=1023,T|=16384,U.mknod(b,T,0)},mkdirTree(b,T){for(var B=b.split("/"),I="",K=0;K<B.length;++K)if(B[K]){I+="/"+B[K];try{U.mkdir(I,T)}catch(se){if(se.errno!=20)throw se}}},mkdev(b,T,B){return typeof B>"u"&&(B=T,T=438),T|=8192,U.mknod(b,T,B)},symlink(b,T){if(!Ue.resolve(b))throw new U.ErrnoError(44);var B=U.lookupPath(T,{parent:!0}),I=B.node;if(!I)throw new U.ErrnoError(44);var K=pe.basename(T),se=U.mayCreate(I,K);if(se)throw new U.ErrnoError(se);if(!I.node_ops.symlink)throw new U.ErrnoError(63);return I.node_ops.symlink(I,K,b)},rename(b,T){var B=pe.dirname(b),I=pe.dirname(T),K=pe.basename(b),se=pe.basename(T),fe,ye,De;if(fe=U.lookupPath(b,{parent:!0}),ye=fe.node,fe=U.lookupPath(T,{parent:!0}),De=fe.node,!ye||!De)throw new U.ErrnoError(44);if(ye.mount!==De.mount)throw new U.ErrnoError(75);var Je=U.lookupNode(ye,K),ct=Ue.relative(b,I);if(ct.charAt(0)!==".")throw new U.ErrnoError(28);if(ct=Ue.relative(T,B),ct.charAt(0)!==".")throw new U.ErrnoError(55);var dt;try{dt=U.lookupNode(De,se)}catch{}if(Je!==dt){var je=U.isDir(Je.mode),Xe=U.mayDelete(ye,K,je);if(Xe)throw new U.ErrnoError(Xe);if(Xe=dt?U.mayDelete(De,se,je):U.mayCreate(De,se),Xe)throw new U.ErrnoError(Xe);if(!ye.node_ops.rename)throw new U.ErrnoError(63);if(U.isMountpoint(Je)||dt&&U.isMountpoint(dt))throw new U.ErrnoError(10);if(De!==ye&&(Xe=U.nodePermissions(ye,"w"),Xe))throw new U.ErrnoError(Xe);U.hashRemoveNode(Je);try{ye.node_ops.rename(Je,De,se)}catch(ut){throw ut}finally{U.hashAddNode(Je)}}},rmdir(b){var T=U.lookupPath(b,{parent:!0}),B=T.node,I=pe.basename(b),K=U.lookupNode(B,I),se=U.mayDelete(B,I,!0);if(se)throw new U.ErrnoError(se);if(!B.node_ops.rmdir)throw new U.ErrnoError(63);if(U.isMountpoint(K))throw new U.ErrnoError(10);B.node_ops.rmdir(B,I),U.destroyNode(K)},readdir(b){var T=U.lookupPath(b,{follow:!0}),B=T.node;if(!B.node_ops.readdir)throw new U.ErrnoError(54);return B.node_ops.readdir(B)},unlink(b){var T=U.lookupPath(b,{parent:!0}),B=T.node;if(!B)throw new U.ErrnoError(44);var I=pe.basename(b),K=U.lookupNode(B,I),se=U.mayDelete(B,I,!1);if(se)throw new U.ErrnoError(se);if(!B.node_ops.unlink)throw new U.ErrnoError(63);if(U.isMountpoint(K))throw new U.ErrnoError(10);B.node_ops.unlink(B,I),U.destroyNode(K)},readlink(b){var T=U.lookupPath(b),B=T.node;if(!B)throw new U.ErrnoError(44);if(!B.node_ops.readlink)throw new U.ErrnoError(28);return Ue.resolve(U.getPath(B.parent),B.node_ops.readlink(B))},stat(b,T){var B=U.lookupPath(b,{follow:!T}),I=B.node;if(!I)throw new U.ErrnoError(44);if(!I.node_ops.getattr)throw new U.ErrnoError(63);return I.node_ops.getattr(I)},lstat(b){return U.stat(b,!0)},chmod(b,T,B){var I;if(typeof b=="string"){var K=U.lookupPath(b,{follow:!B});I=K.node}else I=b;if(!I.node_ops.setattr)throw new U.ErrnoError(63);I.node_ops.setattr(I,{mode:T&4095|I.mode&-4096,timestamp:Date.now()})},lchmod(b,T){U.chmod(b,T,!0)},fchmod(b,T){var B=U.getStreamChecked(b);U.chmod(B.node,T)},chown(b,T,B,I){var K;if(typeof b=="string"){var se=U.lookupPath(b,{follow:!I});K=se.node}else K=b;if(!K.node_ops.setattr)throw new U.ErrnoError(63);K.node_ops.setattr(K,{timestamp:Date.now()})},lchown(b,T,B){U.chown(b,T,B,!0)},fchown(b,T,B){var I=U.getStreamChecked(b);U.chown(I.node,T,B)},truncate(b,T){if(T<0)throw new U.ErrnoError(28);var B;if(typeof b=="string"){var I=U.lookupPath(b,{follow:!0});B=I.node}else B=b;if(!B.node_ops.setattr)throw new U.ErrnoError(63);if(U.isDir(B.mode))throw new U.ErrnoError(31);if(!U.isFile(B.mode))throw new U.ErrnoError(28);var K=U.nodePermissions(B,"w");if(K)throw new U.ErrnoError(K);B.node_ops.setattr(B,{size:T,timestamp:Date.now()})},ftruncate(b,T){var B=U.getStreamChecked(b);if(!(B.flags&2097155))throw new U.ErrnoError(28);U.truncate(B.node,T)},utime(b,T,B){var I=U.lookupPath(b,{follow:!0}),K=I.node;K.node_ops.setattr(K,{timestamp:Math.max(T,B)})},open(b,T,B){if(b==="")throw new U.ErrnoError(44);T=typeof T=="string"?_(T):T,B=typeof B>"u"?438:B,T&64?B=B&4095|32768:B=0;var I;if(typeof b=="object")I=b;else{b=pe.normalize(b);try{var K=U.lookupPath(b,{follow:!(T&131072)});I=K.node}catch{}}var se=!1;if(T&64)if(I){if(T&128)throw new U.ErrnoError(20)}else I=U.mknod(b,B,0),se=!0;if(!I)throw new U.ErrnoError(44);if(U.isChrdev(I.mode)&&(T&=-513),T&65536&&!U.isDir(I.mode))throw new U.ErrnoError(54);if(!se){var fe=U.mayOpen(I,T);if(fe)throw new U.ErrnoError(fe)}T&512&&!se&&U.truncate(I,0),T&=-131713;var ye=U.createStream({node:I,path:U.getPath(I),flags:T,seekable:!0,position:0,stream_ops:I.stream_ops,ungotten:[],error:!1});return ye.stream_ops.open&&ye.stream_ops.open(ye),c.logReadFiles&&!(T&1)&&(U.readFiles||(U.readFiles={}),b in U.readFiles||(U.readFiles[b]=1)),ye},close(b){if(U.isClosed(b))throw new U.ErrnoError(8);b.getdents&&(b.getdents=null);try{b.stream_ops.close&&b.stream_ops.close(b)}catch(T){throw T}finally{U.closeStream(b.fd)}b.fd=null},isClosed(b){return b.fd===null},llseek(b,T,B){if(U.isClosed(b))throw new U.ErrnoError(8);if(!b.seekable||!b.stream_ops.llseek)throw new U.ErrnoError(70);if(B!=0&&B!=1&&B!=2)throw new U.ErrnoError(28);return b.position=b.stream_ops.llseek(b,T,B),b.ungotten=[],b.position},read(b,T,B,I,K){if(I<0||K<0)throw new U.ErrnoError(28);if(U.isClosed(b))throw new U.ErrnoError(8);if((b.flags&2097155)===1)throw new U.ErrnoError(8);if(U.isDir(b.node.mode))throw new U.ErrnoError(31);if(!b.stream_ops.read)throw new U.ErrnoError(28);var se=typeof K<"u";if(!se)K=b.position;else if(!b.seekable)throw new U.ErrnoError(70);var fe=b.stream_ops.read(b,T,B,I,K);return se||(b.position+=fe),fe},write(b,T,B,I,K,se){if(I<0||K<0)throw new U.ErrnoError(28);if(U.isClosed(b))throw new U.ErrnoError(8);if(!(b.flags&2097155))throw new U.ErrnoError(8);if(U.isDir(b.node.mode))throw new U.ErrnoError(31);if(!b.stream_ops.write)throw new U.ErrnoError(28);b.seekable&&b.flags&1024&&U.llseek(b,0,2);var fe=typeof K<"u";if(!fe)K=b.position;else if(!b.seekable)throw new U.ErrnoError(70);var ye=b.stream_ops.write(b,T,B,I,K,se);return fe||(b.position+=ye),ye},allocate(b,T,B){if(U.isClosed(b))throw new U.ErrnoError(8);if(T<0||B<=0)throw new U.ErrnoError(28);if(!(b.flags&2097155))throw new U.ErrnoError(8);if(!U.isFile(b.node.mode)&&!U.isDir(b.node.mode))throw new U.ErrnoError(43);if(!b.stream_ops.allocate)throw new U.ErrnoError(138);b.stream_ops.allocate(b,T,B)},mmap(b,T,B,I,K){if(I&2&&!(K&2)&&(b.flags&2097155)!==2)throw new U.ErrnoError(2);if((b.flags&2097155)===1)throw new U.ErrnoError(2);if(!b.stream_ops.mmap)throw new U.ErrnoError(43);return b.stream_ops.mmap(b,T,B,I,K)},msync(b,T,B,I,K){return b.stream_ops.msync?b.stream_ops.msync(b,T,B,I,K):0},munmap:b=>0,ioctl(b,T,B){if(!b.stream_ops.ioctl)throw new U.ErrnoError(59);return b.stream_ops.ioctl(b,T,B)},readFile(b,T={}){if(T.flags=T.flags||0,T.encoding=T.encoding||"binary",T.encoding!=="utf8"&&T.encoding!=="binary")throw new Error(`Invalid encoding type "${T.encoding}"`);var B,I=U.open(b,T.flags),K=U.stat(b),se=K.size,fe=new Uint8Array(se);return U.read(I,fe,0,se,0),T.encoding==="utf8"?B=Ve(fe,0):T.encoding==="binary"&&(B=fe),U.close(I),B},writeFile(b,T,B={}){B.flags=B.flags||577;var I=U.open(b,B.flags,B.mode);if(typeof T=="string"){var K=new Uint8Array(ot(T)+1),se=pt(T,K,0,K.length);U.write(I,K,0,se,void 0,B.canOwn)}else if(ArrayBuffer.isView(T))U.write(I,T,0,T.byteLength,void 0,B.canOwn);else throw new Error("Unsupported data type");U.close(I)},cwd:()=>U.currentPath,chdir(b){var T=U.lookupPath(b,{follow:!0});if(T.node===null)throw new U.ErrnoError(44);if(!U.isDir(T.node.mode))throw new U.ErrnoError(54);var B=U.nodePermissions(T.node,"x");if(B)throw new U.ErrnoError(B);U.currentPath=T.path},createDefaultDirectories(){U.mkdir("/tmp"),U.mkdir("/home"),U.mkdir("/home/web_user")},createDefaultDevices(){U.mkdir("/dev"),U.registerDevice(U.makedev(1,3),{read:()=>0,write:(I,K,se,fe,ye)=>fe}),U.mkdev("/dev/null",U.makedev(1,3)),We.register(U.makedev(5,0),We.default_tty_ops),We.register(U.makedev(6,0),We.default_tty1_ops),U.mkdev("/dev/tty",U.makedev(5,0)),U.mkdev("/dev/tty1",U.makedev(6,0));var b=new Uint8Array(1024),T=0,B=()=>(T===0&&(T=Pe(b).byteLength),b[--T]);U.createDevice("/dev","random",B),U.createDevice("/dev","urandom",B),U.mkdir("/dev/shm"),U.mkdir("/dev/shm/tmp")},createSpecialDirectories(){U.mkdir("/proc");var b=U.mkdir("/proc/self");U.mkdir("/proc/self/fd"),U.mount({mount(){var T=U.createNode(b,"fd",16895,73);return T.node_ops={lookup(B,I){var K=+I,se=U.getStreamChecked(K),fe={parent:null,mount:{mountpoint:"fake"},node_ops:{readlink:()=>se.path}};return fe.parent=fe,fe}},T}},{},"/proc/self/fd")},createStandardStreams(){c.stdin?U.createDevice("/dev","stdin",c.stdin):U.symlink("/dev/tty","/dev/stdin"),c.stdout?U.createDevice("/dev","stdout",null,c.stdout):U.symlink("/dev/tty","/dev/stdout"),c.stderr?U.createDevice("/dev","stderr",null,c.stderr):U.symlink("/dev/tty1","/dev/stderr"),U.open("/dev/stdin",0),U.open("/dev/stdout",1),U.open("/dev/stderr",1)},ensureErrnoError(){U.ErrnoError||(U.ErrnoError=function(T,B){this.name="ErrnoError",this.node=B,this.setErrno=function(I){this.errno=I},this.setErrno(T),this.message="FS error"},U.ErrnoError.prototype=new Error,U.ErrnoError.prototype.constructor=U.ErrnoError,[44].forEach(b=>{U.genericErrors[b]=new U.ErrnoError(b),U.genericErrors[b].stack="<generic error, no stack>"}))},staticInit(){U.ensureErrnoError(),U.nameTable=new Array(4096),U.mount(Ge,{},"/"),U.createDefaultDirectories(),U.createDefaultDevices(),U.createSpecialDirectories(),U.filesystems={MEMFS:Ge}},init(b,T,B){U.init.initialized=!0,U.ensureErrnoError(),c.stdin=b||c.stdin,c.stdout=T||c.stdout,c.stderr=B||c.stderr,U.createStandardStreams()},quit(){U.init.initialized=!1;for(var b=0;b<U.streams.length;b++){var T=U.streams[b];T&&U.close(T)}},findObject(b,T){var B=U.analyzePath(b,T);return B.exists?B.object:null},analyzePath(b,T){try{var B=U.lookupPath(b,{follow:!T});b=B.path}catch{}var I={isRoot:!1,exists:!1,error:0,name:null,path:null,object:null,parentExists:!1,parentPath:null,parentObject:null};try{var B=U.lookupPath(b,{parent:!0});I.parentExists=!0,I.parentPath=B.path,I.parentObject=B.node,I.name=pe.basename(b),B=U.lookupPath(b,{follow:!T}),I.exists=!0,I.path=B.path,I.object=B.node,I.name=B.node.name,I.isRoot=B.path==="/"}catch(K){I.error=K.errno}return I},createPath(b,T,B,I){b=typeof b=="string"?b:U.getPath(b);for(var K=T.split("/").reverse();K.length;){var se=K.pop();if(se){var fe=pe.join2(b,se);try{U.mkdir(fe)}catch{}b=fe}}return fe},createFile(b,T,B,I,K){var se=pe.join2(typeof b=="string"?b:U.getPath(b),T),fe=zt(I,K);return U.create(se,fe)},createDataFile(b,T,B,I,K,se){var fe=T;b&&(b=typeof b=="string"?b:U.getPath(b),fe=T?pe.join2(b,T):b);var ye=zt(I,K),De=U.create(fe,ye);if(B){if(typeof B=="string"){for(var Je=new Array(B.length),ct=0,dt=B.length;ct<dt;++ct)Je[ct]=B.charCodeAt(ct);B=Je}U.chmod(De,ye|146);var je=U.open(De,577);U.write(je,B,0,B.length,0,se),U.close(je),U.chmod(De,ye)}return De},createDevice(b,T,B,I){var K=pe.join2(typeof b=="string"?b:U.getPath(b),T),se=zt(!!B,!!I);U.createDevice.major||(U.createDevice.major=64);var fe=U.makedev(U.createDevice.major++,0);return U.registerDevice(fe,{open(ye){ye.seekable=!1},close(ye){I&&I.buffer&&I.buffer.length&&I(10)},read(ye,De,Je,ct,dt){for(var je=0,Xe=0;Xe<ct;Xe++){var ut;try{ut=B()}catch{throw new U.ErrnoError(29)}if(ut===void 0&&je===0)throw new U.ErrnoError(6);if(ut==null)break;je++,De[Je+Xe]=ut}return je&&(ye.node.timestamp=Date.now()),je},write(ye,De,Je,ct,dt){for(var je=0;je<ct;je++)try{I(De[Je+je])}catch{throw new U.ErrnoError(29)}return ct&&(ye.node.timestamp=Date.now()),je}}),U.mkdev(K,se,fe)},forceLoadFile(b){if(b.isDevice||b.isFolder||b.link||b.contents)return!0;if(typeof XMLHttpRequest<"u")throw new Error("Lazy loading should have been performed (contents set) in createLazyFile, but it was not. Lazy loading only works in web workers. Use --embed-file or --preload-file in emcc on the main thread.");if(r)try{b.contents=ne(r(b.url),!0),b.usedBytes=b.contents.length}catch{throw new U.ErrnoError(29)}else throw new Error("Cannot load without read() or XMLHttpRequest.")},createLazyFile(b,T,B,I,K){function se(){this.lengthKnown=!1,this.chunks=[]}if(se.prototype.get=function(Xe){if(!(Xe>this.length-1||Xe<0)){var ut=Xe%this.chunkSize,Et=Xe/this.chunkSize|0;return this.getter(Et)[ut]}},se.prototype.setDataGetter=function(Xe){this.getter=Xe},se.prototype.cacheLength=function(){var Xe=new XMLHttpRequest;if(Xe.open("HEAD",B,!1),Xe.send(null),!(Xe.status>=200&&Xe.status<300||Xe.status===304))throw new Error("Couldn't load "+B+". Status: "+Xe.status);var ut=Number(Xe.getResponseHeader("Content-length")),Et,It=(Et=Xe.getResponseHeader("Accept-Ranges"))&&Et==="bytes",Rt=(Et=Xe.getResponseHeader("Content-Encoding"))&&Et==="gzip",Oe=1024*1024;It||(Oe=ut);var Ke=(vt,Nt)=>{if(vt>Nt)throw new Error("invalid range ("+vt+", "+Nt+") or no bytes requested!");if(Nt>ut-1)throw new Error("only "+ut+" bytes available! programmer error!");var $t=new XMLHttpRequest;if($t.open("GET",B,!1),ut!==Oe&&$t.setRequestHeader("Range","bytes="+vt+"-"+Nt),$t.responseType="arraybuffer",$t.overrideMimeType&&$t.overrideMimeType("text/plain; charset=x-user-defined"),$t.send(null),!($t.status>=200&&$t.status<300||$t.status===304))throw new Error("Couldn't load "+B+". Status: "+$t.status);return $t.response!==void 0?new Uint8Array($t.response||[]):ne($t.responseText||"",!0)},St=this;St.setDataGetter(vt=>{var Nt=vt*Oe,$t=(vt+1)*Oe-1;if($t=Math.min($t,ut-1),typeof St.chunks[vt]>"u"&&(St.chunks[vt]=Ke(Nt,$t)),typeof St.chunks[vt]>"u")throw new Error("doXHR failed!");return St.chunks[vt]}),(Rt||!ut)&&(Oe=ut=1,ut=this.getter(0).length,Oe=ut,i("LazyFiles on gzip forces download of the whole file when length is accessed")),this._length=ut,this._chunkSize=Oe,this.lengthKnown=!0},typeof XMLHttpRequest<"u"){throw"Cannot do synchronous binary XHRs outside webworkers in modern browsers. Use --embed-file or --preload-file in emcc";var fe,ye}else var ye={isDevice:!1,url:B};var De=U.createFile(b,T,ye,I,K);ye.contents?De.contents=ye.contents:ye.url&&(De.contents=null,De.url=ye.url),Object.defineProperties(De,{usedBytes:{get:function(){return this.contents.length}}});var Je={},ct=Object.keys(De.stream_ops);ct.forEach(je=>{var Xe=De.stream_ops[je];Je[je]=function(){return U.forceLoadFile(De),Xe.apply(null,arguments)}});function dt(je,Xe,ut,Et,It){var Rt=je.node.contents;if(It>=Rt.length)return 0;var Oe=Math.min(Rt.length-It,Et);if(Rt.slice)for(var Ke=0;Ke<Oe;Ke++)Xe[ut+Ke]=Rt[It+Ke];else for(var Ke=0;Ke<Oe;Ke++)Xe[ut+Ke]=Rt.get(It+Ke);return Oe}return Je.read=(je,Xe,ut,Et,It)=>(U.forceLoadFile(De),dt(je,Xe,ut,Et,It)),Je.mmap=(je,Xe,ut,Et,It)=>{U.forceLoadFile(De);var Rt=wt(Xe);if(!Rt)throw new U.ErrnoError(48);return dt(je,f,Rt,Xe,ut),{ptr:Rt,allocated:!0}},De.stream_ops=Je,De}},tr=(b,T)=>b?Ve(w,b,T):"",ht={DEFAULT_POLLMASK:5,calculateAt(b,T,B){if(pe.isAbs(T))return T;var I;if(b===-100)I=U.cwd();else{var K=ht.getStreamFromFD(b);I=K.path}if(T.length==0){if(!B)throw new U.ErrnoError(44);return I}return pe.join2(I,T)},doStat(b,T,B){try{var I=b(T)}catch(ye){if(ye&&ye.node&&pe.normalize(T)!==pe.normalize(U.getPath(ye.node)))return-54;throw ye}m[B>>2]=I.dev,m[B+4>>2]=I.mode,u[B+8>>2]=I.nlink,m[B+12>>2]=I.uid,m[B+16>>2]=I.gid,m[B+20>>2]=I.rdev,we=[I.size>>>0,(Q=I.size,+Math.abs(Q)>=1?Q>0?+Math.floor(Q/4294967296)>>>0:~~+Math.ceil((Q-+(~~Q>>>0))/4294967296)>>>0:0)],m[B+24>>2]=we[0],m[B+28>>2]=we[1],m[B+32>>2]=4096,m[B+36>>2]=I.blocks;var K=I.atime.getTime(),se=I.mtime.getTime(),fe=I.ctime.getTime();return we=[Math.floor(K/1e3)>>>0,(Q=Math.floor(K/1e3),+Math.abs(Q)>=1?Q>0?+Math.floor(Q/4294967296)>>>0:~~+Math.ceil((Q-+(~~Q>>>0))/4294967296)>>>0:0)],m[B+40>>2]=we[0],m[B+44>>2]=we[1],u[B+48>>2]=K%1e3*1e3,we=[Math.floor(se/1e3)>>>0,(Q=Math.floor(se/1e3),+Math.abs(Q)>=1?Q>0?+Math.floor(Q/4294967296)>>>0:~~+Math.ceil((Q-+(~~Q>>>0))/4294967296)>>>0:0)],m[B+56>>2]=we[0],m[B+60>>2]=we[1],u[B+64>>2]=se%1e3*1e3,we=[Math.floor(fe/1e3)>>>0,(Q=Math.floor(fe/1e3),+Math.abs(Q)>=1?Q>0?+Math.floor(Q/4294967296)>>>0:~~+Math.ceil((Q-+(~~Q>>>0))/4294967296)>>>0:0)],m[B+72>>2]=we[0],m[B+76>>2]=we[1],u[B+80>>2]=fe%1e3*1e3,we=[I.ino>>>0,(Q=I.ino,+Math.abs(Q)>=1?Q>0?+Math.floor(Q/4294967296)>>>0:~~+Math.ceil((Q-+(~~Q>>>0))/4294967296)>>>0:0)],m[B+88>>2]=we[0],m[B+92>>2]=we[1],0},doMsync(b,T,B,I,K){if(!U.isFile(T.node.mode))throw new U.ErrnoError(43);if(I&2)return 0;var se=w.slice(b,b+B);U.msync(T,se,K,B,I)},varargs:void 0,get(){var b=m[ht.varargs>>2];return ht.varargs+=4,b},getp(){return ht.get()},getStr(b){var T=tr(b);return T},getStreamFromFD(b){var T=U.getStreamChecked(b);return T}};function Sr(b,T,B){ht.varargs=B;try{var I=ht.getStreamFromFD(b);switch(T){case 0:{var K=ht.get();if(K<0)return-28;for(;U.streams[K];)K++;var se;return se=U.createStream(I,K),se.fd}case 1:case 2:return 0;case 3:return I.flags;case 4:{var K=ht.get();return I.flags|=K,0}case 5:{var K=ht.getp(),fe=0;return g[K+fe>>1]=2,0}case 6:case 7:return 0;case 16:case 8:return-28;case 9:return Se(28),-1;default:return-28}}catch(ye){if(typeof U>"u"||ye.name!=="ErrnoError")throw ye;return-ye.errno}}function Ar(b,T,B){ht.varargs=B;try{var I=ht.getStreamFromFD(b);switch(T){case 21509:return I.tty?0:-59;case 21505:{if(!I.tty)return-59;if(I.tty.ops.ioctl_tcgets){var K=I.tty.ops.ioctl_tcgets(I),se=ht.getp();m[se>>2]=K.c_iflag||0,m[se+4>>2]=K.c_oflag||0,m[se+8>>2]=K.c_cflag||0,m[se+12>>2]=K.c_lflag||0;for(var fe=0;fe<32;fe++)f[se+fe+17>>0]=K.c_cc[fe]||0;return 0}return 0}case 21510:case 21511:case 21512:return I.tty?0:-59;case 21506:case 21507:case 21508:{if(!I.tty)return-59;if(I.tty.ops.ioctl_tcsets){for(var se=ht.getp(),ye=m[se>>2],De=m[se+4>>2],Je=m[se+8>>2],ct=m[se+12>>2],dt=[],fe=0;fe<32;fe++)dt.push(f[se+fe+17>>0]);return I.tty.ops.ioctl_tcsets(I.tty,T,{c_iflag:ye,c_oflag:De,c_cflag:Je,c_lflag:ct,c_cc:dt})}return 0}case 21519:{if(!I.tty)return-59;var se=ht.getp();return m[se>>2]=0,0}case 21520:return I.tty?-28:-59;case 21531:{var se=ht.getp();return U.ioctl(I,T,se)}case 21523:{if(!I.tty)return-59;if(I.tty.ops.ioctl_tiocgwinsz){var je=I.tty.ops.ioctl_tiocgwinsz(I.tty),se=ht.getp();g[se>>1]=je[0],g[se+2>>1]=je[1]}return 0}case 21524:return I.tty?0:-59;case 21515:return I.tty?0:-59;default:return-28}}catch(Xe){if(typeof U>"u"||Xe.name!=="ErrnoError")throw Xe;return-Xe.errno}}function Cr(b,T,B,I){ht.varargs=I;try{T=ht.getStr(T),T=ht.calculateAt(b,T);var K=I?ht.get():0;return U.open(T,B,K).fd}catch(se){if(typeof U>"u"||se.name!=="ErrnoError")throw se;return-se.errno}}function kr(b,T){try{return b=ht.getStr(b),ht.doStat(U.stat,b,T)}catch(B){if(typeof U>"u"||B.name!=="ErrnoError")throw B;return-B.errno}}var Gt=(b,T)=>T+2097152>>>0<4194305-!!b?(b>>>0)+T*4294967296:NaN;function Rr(b,T,B){var I=Gt(b,T),K=new Date(I*1e3);m[B>>2]=K.getUTCSeconds(),m[B+4>>2]=K.getUTCMinutes(),m[B+8>>2]=K.getUTCHours(),m[B+12>>2]=K.getUTCDate(),m[B+16>>2]=K.getUTCMonth(),m[B+20>>2]=K.getUTCFullYear()-1900,m[B+24>>2]=K.getUTCDay();var se=Date.UTC(K.getUTCFullYear(),0,1,0,0,0,0),fe=(K.getTime()-se)/(1e3*60*60*24)|0;m[B+28>>2]=fe}var Ut=b=>b%4===0&&(b%100!==0||b%400===0),Fr=[0,31,60,91,121,152,182,213,244,274,305,335],Ht=[0,31,59,90,120,151,181,212,243,273,304,334],Mr=b=>{var T=Ut(b.getFullYear()),B=T?Fr:Ht,I=B[b.getMonth()]+b.getDate()-1;return I};function Tr(b,T,B){var I=Gt(b,T),K=new Date(I*1e3);m[B>>2]=K.getSeconds(),m[B+4>>2]=K.getMinutes(),m[B+8>>2]=K.getHours(),m[B+12>>2]=K.getDate(),m[B+16>>2]=K.getMonth(),m[B+20>>2]=K.getFullYear()-1900,m[B+24>>2]=K.getDay();var se=Mr(K)|0;m[B+28>>2]=se,m[B+36>>2]=-(K.getTimezoneOffset()*60);var fe=new Date(K.getFullYear(),0,1),ye=new Date(K.getFullYear(),6,1).getTimezoneOffset(),De=fe.getTimezoneOffset(),Je=(ye!=De&&K.getTimezoneOffset()==Math.min(De,ye))|0;m[B+32>>2]=Je}function xr(b,T,B,I,K,se,fe,ye){var De=Gt(K,se);try{if(isNaN(De))return 61;var Je=ht.getStreamFromFD(I),ct=U.mmap(Je,b,De,T,B),dt=ct.ptr;return m[fe>>2]=ct.allocated,u[ye>>2]=dt,0}catch(je){if(typeof U>"u"||je.name!=="ErrnoError")throw je;return-je.errno}}function Lr(b,T,B,I,K,se,fe){var ye=Gt(se,fe);try{if(isNaN(ye))return 61;var De=ht.getStreamFromFD(K);B&2&&ht.doMsync(b,De,T,I,ye),U.munmap(De)}catch(Je){if(typeof U>"u"||Je.name!=="ErrnoError")throw Je;return-Je.errno}}var rr=(b,T,B)=>pt(b,w,T,B),cr=b=>{var T=ot(b)+1,B=Ie(T);return B&&rr(b,B,T),B},Dr=(b,T,B)=>{var I=new Date().getFullYear(),K=new Date(I,0,1),se=new Date(I,6,1),fe=K.getTimezoneOffset(),ye=se.getTimezoneOffset(),De=Math.max(fe,ye);u[b>>2]=De*60,m[T>>2]=+(fe!=ye);function Je(ut){var Et=ut.toTimeString().match(/\(([A-Za-z ]+)\)$/);return Et?Et[1]:"GMT"}var ct=Je(K),dt=Je(se),je=cr(ct),Xe=cr(dt);ye<fe?(u[B>>2]=je,u[B+4>>2]=Xe):(u[B>>2]=Xe,u[B+4>>2]=je)},Br=()=>{Me("")},Or=()=>Date.now(),Ir=(b,T,B)=>w.copyWithin(b,T,T+B),Pr=()=>2147483648,ur=b=>{var T=y.buffer,B=(b-T.byteLength+65535)/65536;try{return y.grow(B),F(),1}catch{}},Yt=b=>{var T=w.length;b>>>=0;var B=Pr();if(b>B)return!1;for(var I=(De,Je)=>De+(Je-De%Je)%Je,K=1;K<=4;K*=2){var se=T*(1+.2/K);se=Math.min(se,b+100663296);var fe=Math.min(B,I(Math.max(b,se),65536)),ye=ur(fe);if(ye)return!0}return!1},Lt={},Ur=()=>h||"./this.program",Ct=()=>{if(!Ct.strings){var b=(typeof navigator=="object"&&navigator.languages&&navigator.languages[0]||"C").replace("-","_")+".UTF-8",T={USER:"web_user",LOGNAME:"web_user",PATH:"/",PWD:"/",HOME:"/home/web_user",LANG:b,_:Ur()};for(var B in Lt)Lt[B]===void 0?delete T[B]:T[B]=Lt[B];var I=[];for(var B in T)I.push(`${B}=${T[B]}`);Ct.strings=I}return Ct.strings},nr=(b,T)=>{for(var B=0;B<b.length;++B)f[T++>>0]=b.charCodeAt(B);f[T>>0]=0},hr=(b,T)=>{var B=0;return Ct().forEach((I,K)=>{var se=T+B;u[b+K*4>>2]=se,nr(I,se),B+=I.length+1}),0},ir=(b,T)=>{var B=Ct();u[b>>2]=B.length;var I=0;return B.forEach(K=>I+=K.length+1),u[T>>2]=I,0},Xt=b=>{p=b,j()||(c.onExit&&c.onExit(b),k=!0),a(b,new he(b))},fr=(b,T)=>{p=b,Xt(b)},dr=fr;function gr(b){try{var T=ht.getStreamFromFD(b);return U.close(T),0}catch(B){if(typeof U>"u"||B.name!=="ErrnoError")throw B;return B.errno}}function C(b,T){try{var B=0,I=0,K=0,se=ht.getStreamFromFD(b),fe=se.tty?2:U.isDir(se.mode)?3:U.isLink(se.mode)?7:4;return f[T>>0]=fe,g[T+2>>1]=K,we=[B>>>0,(Q=B,+Math.abs(Q)>=1?Q>0?+Math.floor(Q/4294967296)>>>0:~~+Math.ceil((Q-+(~~Q>>>0))/4294967296)>>>0:0)],m[T+8>>2]=we[0],m[T+12>>2]=we[1],we=[I>>>0,(Q=I,+Math.abs(Q)>=1?Q>0?+Math.floor(Q/4294967296)>>>0:~~+Math.ceil((Q-+(~~Q>>>0))/4294967296)>>>0:0)],m[T+16>>2]=we[0],m[T+20>>2]=we[1],0}catch(ye){if(typeof U>"u"||ye.name!=="ErrnoError")throw ye;return ye.errno}}var D=(b,T,B,I)=>{for(var K=0,se=0;se<B;se++){var fe=u[T>>2],ye=u[T+4>>2];T+=8;var De=U.read(b,f,fe,ye,I);if(De<0)return-1;if(K+=De,De<ye)break;typeof I<"u"&&(I+=De)}return K};function z(b,T,B,I){try{var K=ht.getStreamFromFD(b),se=D(K,T,B);return u[I>>2]=se,0}catch(fe){if(typeof U>"u"||fe.name!=="ErrnoError")throw fe;return fe.errno}}function V(b,T,B,I,K){var se=Gt(T,B);try{if(isNaN(se))return 61;var fe=ht.getStreamFromFD(b);return U.llseek(fe,se,I),we=[fe.position>>>0,(Q=fe.position,+Math.abs(Q)>=1?Q>0?+Math.floor(Q/4294967296)>>>0:~~+Math.ceil((Q-+(~~Q>>>0))/4294967296)>>>0:0)],m[K>>2]=we[0],m[K+4>>2]=we[1],fe.getdents&&se===0&&I===0&&(fe.getdents=null),0}catch(ye){if(typeof U>"u"||ye.name!=="ErrnoError")throw ye;return ye.errno}}var oe=(b,T,B,I)=>{for(var K=0,se=0;se<B;se++){var fe=u[T>>2],ye=u[T+4>>2];T+=8;var De=U.write(b,f,fe,ye,I);if(De<0)return-1;K+=De,typeof I<"u"&&(I+=De)}return K};function ge(b,T,B,I){try{var K=ht.getStreamFromFD(b),se=oe(K,T,B);return u[I>>2]=se,0}catch(fe){if(typeof U>"u"||fe.name!=="ErrnoError")throw fe;return fe.errno}}var _e=(b,T)=>{for(var B=0,I=0;I<=T;B+=b[I++]);return B},Ae=[31,29,31,30,31,30,31,31,30,31,30,31],Ne=[31,28,31,30,31,30,31,31,30,31,30,31],it=(b,T)=>{for(var B=new Date(b.getTime());T>0;){var I=Ut(B.getFullYear()),K=B.getMonth(),se=(I?Ae:Ne)[K];if(T>se-B.getDate())T-=se-B.getDate()+1,B.setDate(1),K<11?B.setMonth(K+1):(B.setMonth(0),B.setFullYear(B.getFullYear()+1));else return B.setDate(B.getDate()+T),B}return B},gt=(b,T)=>{f.set(b,T)},mt=(b,T,B,I)=>{var K=u[I+40>>2],se={tm_sec:m[I>>2],tm_min:m[I+4>>2],tm_hour:m[I+8>>2],tm_mday:m[I+12>>2],tm_mon:m[I+16>>2],tm_year:m[I+20>>2],tm_wday:m[I+24>>2],tm_yday:m[I+28>>2],tm_isdst:m[I+32>>2],tm_gmtoff:m[I+36>>2],tm_zone:K?tr(K):""},fe=tr(B),ye={"%c":"%a %b %d %H:%M:%S %Y","%D":"%m/%d/%y","%F":"%Y-%m-%d","%h":"%b","%r":"%I:%M:%S %p","%R":"%H:%M","%T":"%H:%M:%S","%x":"%m/%d/%y","%X":"%H:%M:%S","%Ec":"%c","%EC":"%C","%Ex":"%m/%d/%y","%EX":"%H:%M:%S","%Ey":"%y","%EY":"%Y","%Od":"%d","%Oe":"%e","%OH":"%H","%OI":"%I","%Om":"%m","%OM":"%M","%OS":"%S","%Ou":"%u","%OU":"%U","%OV":"%V","%Ow":"%w","%OW":"%W","%Oy":"%y"};for(var De in ye)fe=fe.replace(new RegExp(De,"g"),ye[De]);var Je=["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],ct=["January","February","March","April","May","June","July","August","September","October","November","December"];function dt(Oe,Ke,St){for(var vt=typeof Oe=="number"?Oe.toString():Oe||"";vt.length<Ke;)vt=St[0]+vt;return vt}function je(Oe,Ke){return dt(Oe,Ke,"0")}function Xe(Oe,Ke){function St(Nt){return Nt<0?-1:Nt>0?1:0}var vt;return(vt=St(Oe.getFullYear()-Ke.getFullYear()))===0&&(vt=St(Oe.getMonth()-Ke.getMonth()))===0&&(vt=St(Oe.getDate()-Ke.getDate())),vt}function ut(Oe){switch(Oe.getDay()){case 0:return new Date(Oe.getFullYear()-1,11,29);case 1:return Oe;case 2:return new Date(Oe.getFullYear(),0,3);case 3:return new Date(Oe.getFullYear(),0,2);case 4:return new Date(Oe.getFullYear(),0,1);case 5:return new Date(Oe.getFullYear()-1,11,31);case 6:return new Date(Oe.getFullYear()-1,11,30)}}function Et(Oe){var Ke=it(new Date(Oe.tm_year+1900,0,1),Oe.tm_yday),St=new Date(Ke.getFullYear(),0,4),vt=new Date(Ke.getFullYear()+1,0,4),Nt=ut(St),$t=ut(vt);return Xe(Nt,Ke)<=0?Xe($t,Ke)<=0?Ke.getFullYear()+1:Ke.getFullYear():Ke.getFullYear()-1}var It={"%a":Oe=>Je[Oe.tm_wday].substring(0,3),"%A":Oe=>Je[Oe.tm_wday],"%b":Oe=>ct[Oe.tm_mon].substring(0,3),"%B":Oe=>ct[Oe.tm_mon],"%C":Oe=>{var Ke=Oe.tm_year+1900;return je(Ke/100|0,2)},"%d":Oe=>je(Oe.tm_mday,2),"%e":Oe=>dt(Oe.tm_mday,2," "),"%g":Oe=>Et(Oe).toString().substring(2),"%G":Oe=>Et(Oe),"%H":Oe=>je(Oe.tm_hour,2),"%I":Oe=>{var Ke=Oe.tm_hour;return Ke==0?Ke=12:Ke>12&&(Ke-=12),je(Ke,2)},"%j":Oe=>je(Oe.tm_mday+_e(Ut(Oe.tm_year+1900)?Ae:Ne,Oe.tm_mon-1),3),"%m":Oe=>je(Oe.tm_mon+1,2),"%M":Oe=>je(Oe.tm_min,2),"%n":()=>`
`,"%p":Oe=>Oe.tm_hour>=0&&Oe.tm_hour<12?"AM":"PM","%S":Oe=>je(Oe.tm_sec,2),"%t":()=>"	","%u":Oe=>Oe.tm_wday||7,"%U":Oe=>{var Ke=Oe.tm_yday+7-Oe.tm_wday;return je(Math.floor(Ke/7),2)},"%V":Oe=>{var Ke=Math.floor((Oe.tm_yday+7-(Oe.tm_wday+6)%7)/7);if((Oe.tm_wday+371-Oe.tm_yday-2)%7<=2&&Ke++,Ke){if(Ke==53){var vt=(Oe.tm_wday+371-Oe.tm_yday)%7;vt!=4&&(vt!=3||!Ut(Oe.tm_year))&&(Ke=1)}}else{Ke=52;var St=(Oe.tm_wday+7-Oe.tm_yday-1)%7;(St==4||St==5&&Ut(Oe.tm_year%400-1))&&Ke++}return je(Ke,2)},"%w":Oe=>Oe.tm_wday,"%W":Oe=>{var Ke=Oe.tm_yday+7-(Oe.tm_wday+6)%7;return je(Math.floor(Ke/7),2)},"%y":Oe=>(Oe.tm_year+1900).toString().substring(2),"%Y":Oe=>Oe.tm_year+1900,"%z":Oe=>{var Ke=Oe.tm_gmtoff,St=Ke>=0;return Ke=Math.abs(Ke)/60,Ke=Ke/60*100+Ke%60,(St?"+":"-")+("0000"+Ke).slice(-4)},"%Z":Oe=>Oe.tm_zone,"%%":()=>"%"};fe=fe.replace(/%%/g,"\0\0");for(var De in It)fe.includes(De)&&(fe=fe.replace(new RegExp(De,"g"),It[De](se)));fe=fe.replace(/\0\0/g,"%");var Rt=ne(fe,!1);return Rt.length>T?0:(gt(Rt,b),Rt.length-1)},st=b=>{if(b instanceof he||b=="unwind")return p;a(1,b)},$=b=>{var T=ot(b)+1,B=Ye(T);return rr(b,B,T),B},x=function(b,T,B,I){b||(b=this),this.parent=b,this.mount=b.mount,this.mounted=null,this.id=U.nextInode++,this.name=T,this.mode=B,this.node_ops={},this.stream_ops={},this.rdev=I},N=365,G=146;Object.defineProperties(x.prototype,{read:{get:function(){return(this.mode&N)===N},set:function(b){b?this.mode|=N:this.mode&=~N}},write:{get:function(){return(this.mode&G)===G},set:function(b){b?this.mode|=G:this.mode&=~G}},isFolder:{get:function(){return U.isDir(this.mode)}},isDevice:{get:function(){return U.isChrdev(this.mode)}}}),U.FSNode=x,U.createPreloadedFile=Tt,U.staticInit();var re={g:Sr,j:Ar,e:Cr,r:kr,m:Rr,n:Tr,k:xr,l:Lr,q:Dr,a:Br,h:Or,v:Ir,p:Yt,t:hr,u:ir,b:dr,d:gr,s:C,f:z,o:V,i:ge,c:mt},ce=Z(),ve=()=>(ve=ce.y)(),$e=c._main=(b,T)=>($e=c._main=ce.z)(b,T),Ie=b=>(Ie=ce.B)(b),et=(b,T)=>(et=ce.C)(b,T),Ye=b=>(Ye=ce.D)(b);c.FS=U;var ft;Ce=function b(){ft||Ze(),ft||(Ce=b)};function tt(b=[]){var T=$e;b.unshift(h);var B=b.length,I=Ye((B+1)*4),K=I;b.forEach(fe=>{u[K>>2]=$(fe),K+=4}),u[K>>2]=0;try{var se=T(B,I);return fr(se,!0),se}catch(fe){return st(fe)}}function Ze(b=E){if(de>0||(le(),de>0))return;function T(){ft||(ft=!0,c.calledRun=!0,!k&&(q(),ue(),M(c),c.onRuntimeInitialized&&c.onRuntimeInitialized(),at&&tt(b),J()))}c.setStatus?(c.setStatus("Running..."),setTimeout(function(){setTimeout(function(){c.setStatus("")},1),T()},1)):T()}if(c.preInit)for(typeof c.preInit=="function"&&(c.preInit=[c.preInit]);c.preInit.length>0;)c.preInit.pop()();var at=!0;return c.noInitialRun&&(at=!1),Ze(),Y.ready}})(),qi=(()=>{var X=import.meta.url;return function(Y={}){var c=Y,M,W;c.ready=new Promise(($,x)=>{M=$,W=x});var R=Object.assign({},c),E=[],h="./this.program",a=($,x)=>{throw x},l=!0,t="";function e($){return c.locateFile?c.locateFile($,t):t+$}var r,n;typeof document<"u"&&document.currentScript&&(t=document.currentScript.src),X&&(t=X),t.indexOf("blob:")!==0?t=t.substr(0,t.replace(/[?#].*/,"").lastIndexOf("/")+1):t="",r=$=>{var x=new XMLHttpRequest;return x.open("GET",$,!1),x.send(null),x.responseText},n=($,x,N)=>{var G=new XMLHttpRequest;G.open("GET",$,!0),G.responseType="arraybuffer",G.onload=()=>{if(G.status==200||G.status==0&&G.response){x(G.response);return}N()},G.onerror=N,G.send(null)};var i=c.print||console.log.bind(console),s=c.printErr||console.error.bind(console);Object.assign(c,R),R=null,c.arguments&&(E=c.arguments),c.thisProgram&&(h=c.thisProgram),c.quit&&(a=c.quit);var d;c.wasmBinary&&(d=c.wasmBinary);var v=c.noExitRuntime||!0;typeof WebAssembly!="object"&&Me("no native wasm support detected");var y,k=!1,p;function o($,x){$||Me(x)}var f,w,g,m,u;function F(){var $=y.buffer;c.HEAP8=f=new Int8Array($),c.HEAP16=g=new Int16Array($),c.HEAPU8=w=new Uint8Array($),c.HEAPU16=new Uint16Array($),c.HEAP32=m=new Int32Array($),c.HEAPU32=u=new Uint32Array($),c.HEAPF32=new Float32Array($),c.HEAPF64=new Float64Array($)}var S=[],L=[],A=[],P=[],H=0;function j(){return v||H>0}function le(){if(c.preRun)for(typeof c.preRun=="function"&&(c.preRun=[c.preRun]);c.preRun.length;)ee(c.preRun.shift());ae(S)}function q(){!c.noFSInit&&!_.init.initialized&&_.init(),_.ignorePermissions=!1,ae(L)}function ue(){ae(A)}function J(){if(c.postRun)for(typeof c.postRun=="function"&&(c.postRun=[c.postRun]);c.postRun.length;)me(c.postRun.shift());ae(P)}function ee($){S.unshift($)}function ie($){L.unshift($)}function me($){P.unshift($)}var de=0,Ce=null;function Fe($){return $}function Te($){de++,c.monitorRunDependencies&&c.monitorRunDependencies(de)}function Be($){if(de--,c.monitorRunDependencies&&c.monitorRunDependencies(de),de==0&&Ce){var x=Ce;Ce=null,x()}}function Me($){c.onAbort&&c.onAbort($),$="Aborted("+$+")",s($),k=!0,p=1,$+=". Build with -sASSERTIONS for more info.";var x=new WebAssembly.RuntimeError($);throw W(x),x}var He="data:application/octet-stream;base64,";function qe($){return $.startsWith(He)}var Qe;c.locateFile?(Qe="rgblink.wasm",qe(Qe)||(Qe=e(Qe))):Qe=new URL("/rgbds-live/assets/rgblink-6f4f357e.wasm",self.location).href;function O($){if($==Qe&&d)return new Uint8Array(d);throw"both async and sync fetching of the wasm failed"}function Ee($){return!d&&l&&typeof fetch=="function"?fetch($,{credentials:"same-origin"}).then(x=>{if(!x.ok)throw"failed to load wasm binary file at '"+$+"'";return x.arrayBuffer()}).catch(()=>O($)):Promise.resolve().then(()=>O($))}function be($,x,N){return Ee($).then(G=>WebAssembly.instantiate(G,x)).then(G=>G).then(N,G=>{s(`failed to asynchronously prepare wasm: ${G}`),Me(G)})}function te($,x,N,G){return!$&&typeof WebAssembly.instantiateStreaming=="function"&&!qe(x)&&typeof fetch=="function"?fetch(x,{credentials:"same-origin"}).then(re=>{var ce=WebAssembly.instantiateStreaming(re,N);return ce.then(G,function(ve){return s(`wasm streaming compile failed: ${ve}`),s("falling back to ArrayBuffer instantiation"),be(x,N,G)})}):be(x,N,G)}function Z(){var $={a:oe};function x(G,re){var ce=G.exports;return ge=ce,y=ge.o,F(),ge.s,ie(ge.p),Be(),ce}Te();function N(G){x(G.instance)}if(c.instantiateWasm)try{return c.instantiateWasm($,x)}catch(G){s(`Module.instantiateWasm callback failed with error: ${G}`),W(G)}return te(d,Qe,$,N).catch(W),{}}var Q,we;function he($){this.name="ExitStatus",this.message=`Program terminated with exit(${$})`,this.status=$}var ae=$=>{for(;$.length>0;)$.shift()(c)},Se=$=>(m[Ae()>>2]=$,$),pe={isAbs:$=>$.charAt(0)==="/",splitPath:$=>{var x=/^(\/?|)([\s\S]*?)((?:\.{1,2}|[^\/]+?|)(\.[^.\/]*|))(?:[\/]*)$/;return x.exec($).slice(1)},normalizeArray:($,x)=>{for(var N=0,G=$.length-1;G>=0;G--){var re=$[G];re==="."?$.splice(G,1):re===".."?($.splice(G,1),N++):N&&($.splice(G,1),N--)}if(x)for(;N;N--)$.unshift("..");return $},normalize:$=>{var x=pe.isAbs($),N=$.substr(-1)==="/";return $=pe.normalizeArray($.split("/").filter(G=>!!G),!x).join("/"),!$&&!x&&($="."),$&&N&&($+="/"),(x?"/":"")+$},dirname:$=>{var x=pe.splitPath($),N=x[0],G=x[1];return!N&&!G?".":(G&&(G=G.substr(0,G.length-1)),N+G)},basename:$=>{if($==="/")return"/";$=pe.normalize($),$=$.replace(/\/$/,"");var x=$.lastIndexOf("/");return x===-1?$:$.substr(x+1)},join:function(){var $=Array.prototype.slice.call(arguments);return pe.normalize($.join("/"))},join2:($,x)=>pe.normalize($+"/"+x)},ke=()=>{if(typeof crypto=="object"&&typeof crypto.getRandomValues=="function")return $=>crypto.getRandomValues($);Me("initRandomDevice")},Pe=$=>(Pe=ke())($),Ue={resolve:function(){for(var $="",x=!1,N=arguments.length-1;N>=-1&&!x;N--){var G=N>=0?arguments[N]:_.cwd();if(typeof G!="string")throw new TypeError("Arguments to path.resolve must be strings");if(!G)return"";$=G+"/"+$,x=pe.isAbs(G)}return $=pe.normalizeArray($.split("/").filter(re=>!!re),!x).join("/"),(x?"/":"")+$||"."},relative:($,x)=>{$=Ue.resolve($).substr(1),x=Ue.resolve(x).substr(1);function N(et){for(var Ye=0;Ye<et.length&&et[Ye]==="";Ye++);for(var ft=et.length-1;ft>=0&&et[ft]==="";ft--);return Ye>ft?[]:et.slice(Ye,ft-Ye+1)}for(var G=N($.split("/")),re=N(x.split("/")),ce=Math.min(G.length,re.length),ve=ce,$e=0;$e<ce;$e++)if(G[$e]!==re[$e]){ve=$e;break}for(var Ie=[],$e=ve;$e<G.length;$e++)Ie.push("..");return Ie=Ie.concat(re.slice(ve)),Ie.join("/")}},ze=typeof TextDecoder<"u"?new TextDecoder("utf8"):void 0,Ve=($,x,N)=>{for(var G=x+N,re=x;$[re]&&!(re>=G);)++re;if(re-x>16&&$.buffer&&ze)return ze.decode($.subarray(x,re));for(var ce="";x<re;){var ve=$[x++];if(!(ve&128)){ce+=String.fromCharCode(ve);continue}var $e=$[x++]&63;if((ve&224)==192){ce+=String.fromCharCode((ve&31)<<6|$e);continue}var Ie=$[x++]&63;if((ve&240)==224?ve=(ve&15)<<12|$e<<6|Ie:ve=(ve&7)<<18|$e<<12|Ie<<6|$[x++]&63,ve<65536)ce+=String.fromCharCode(ve);else{var et=ve-65536;ce+=String.fromCharCode(55296|et>>10,56320|et&1023)}}return ce},xe=[],ot=$=>{for(var x=0,N=0;N<$.length;++N){var G=$.charCodeAt(N);G<=127?x++:G<=2047?x+=2:G>=55296&&G<=57343?(x+=4,++N):x+=3}return x},pt=($,x,N,G)=>{if(!(G>0))return 0;for(var re=N,ce=N+G-1,ve=0;ve<$.length;++ve){var $e=$.charCodeAt(ve);if($e>=55296&&$e<=57343){var Ie=$.charCodeAt(++ve);$e=65536+(($e&1023)<<10)|Ie&1023}if($e<=127){if(N>=ce)break;x[N++]=$e}else if($e<=2047){if(N+1>=ce)break;x[N++]=192|$e>>6,x[N++]=128|$e&63}else if($e<=65535){if(N+2>=ce)break;x[N++]=224|$e>>12,x[N++]=128|$e>>6&63,x[N++]=128|$e&63}else{if(N+3>=ce)break;x[N++]=240|$e>>18,x[N++]=128|$e>>12&63,x[N++]=128|$e>>6&63,x[N++]=128|$e&63}}return x[N]=0,N-re};function ne($,x,N){var G=N>0?N:ot($)+1,re=new Array(G),ce=pt($,re,0,re.length);return x&&(re.length=ce),re}var Re=()=>{if(!xe.length){var $=null;if(typeof window<"u"&&typeof window.prompt=="function"?($=window.prompt("Input: "),$!==null&&($+=`
`)):typeof readline=="function"&&($=readline(),$!==null&&($+=`
`)),!$)return null;xe=ne($,!0)}return xe.shift()},We={ttys:[],init(){},shutdown(){},register($,x){We.ttys[$]={input:[],output:[],ops:x},_.registerDevice($,We.stream_ops)},stream_ops:{open($){var x=We.ttys[$.node.rdev];if(!x)throw new _.ErrnoError(43);$.tty=x,$.seekable=!1},close($){$.tty.ops.fsync($.tty)},fsync($){$.tty.ops.fsync($.tty)},read($,x,N,G,re){if(!$.tty||!$.tty.ops.get_char)throw new _.ErrnoError(60);for(var ce=0,ve=0;ve<G;ve++){var $e;try{$e=$.tty.ops.get_char($.tty)}catch{throw new _.ErrnoError(29)}if($e===void 0&&ce===0)throw new _.ErrnoError(6);if($e==null)break;ce++,x[N+ve]=$e}return ce&&($.node.timestamp=Date.now()),ce},write($,x,N,G,re){if(!$.tty||!$.tty.ops.put_char)throw new _.ErrnoError(60);try{for(var ce=0;ce<G;ce++)$.tty.ops.put_char($.tty,x[N+ce])}catch{throw new _.ErrnoError(29)}return G&&($.node.timestamp=Date.now()),ce}},default_tty_ops:{get_char($){return Re()},put_char($,x){x===null||x===10?(i(Ve($.output,0)),$.output=[]):x!=0&&$.output.push(x)},fsync($){$.output&&$.output.length>0&&(i(Ve($.output,0)),$.output=[])},ioctl_tcgets($){return{c_iflag:25856,c_oflag:5,c_cflag:191,c_lflag:35387,c_cc:[3,28,127,21,4,0,1,0,17,19,26,0,18,15,23,22,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0]}},ioctl_tcsets($,x,N){return 0},ioctl_tiocgwinsz($){return[24,80]}},default_tty1_ops:{put_char($,x){x===null||x===10?(s(Ve($.output,0)),$.output=[]):x!=0&&$.output.push(x)},fsync($){$.output&&$.output.length>0&&(s(Ve($.output,0)),$.output=[])}}},nt=$=>{Me()},Le={ops_table:null,mount($){return Le.createNode(null,"/",16895,0)},createNode($,x,N,G){if(_.isBlkdev(N)||_.isFIFO(N))throw new _.ErrnoError(63);Le.ops_table||(Le.ops_table={dir:{node:{getattr:Le.node_ops.getattr,setattr:Le.node_ops.setattr,lookup:Le.node_ops.lookup,mknod:Le.node_ops.mknod,rename:Le.node_ops.rename,unlink:Le.node_ops.unlink,rmdir:Le.node_ops.rmdir,readdir:Le.node_ops.readdir,symlink:Le.node_ops.symlink},stream:{llseek:Le.stream_ops.llseek}},file:{node:{getattr:Le.node_ops.getattr,setattr:Le.node_ops.setattr},stream:{llseek:Le.stream_ops.llseek,read:Le.stream_ops.read,write:Le.stream_ops.write,allocate:Le.stream_ops.allocate,mmap:Le.stream_ops.mmap,msync:Le.stream_ops.msync}},link:{node:{getattr:Le.node_ops.getattr,setattr:Le.node_ops.setattr,readlink:Le.node_ops.readlink},stream:{}},chrdev:{node:{getattr:Le.node_ops.getattr,setattr:Le.node_ops.setattr},stream:_.chrdev_stream_ops}});var re=_.createNode($,x,N,G);return _.isDir(re.mode)?(re.node_ops=Le.ops_table.dir.node,re.stream_ops=Le.ops_table.dir.stream,re.contents={}):_.isFile(re.mode)?(re.node_ops=Le.ops_table.file.node,re.stream_ops=Le.ops_table.file.stream,re.usedBytes=0,re.contents=null):_.isLink(re.mode)?(re.node_ops=Le.ops_table.link.node,re.stream_ops=Le.ops_table.link.stream):_.isChrdev(re.mode)&&(re.node_ops=Le.ops_table.chrdev.node,re.stream_ops=Le.ops_table.chrdev.stream),re.timestamp=Date.now(),$&&($.contents[x]=re,$.timestamp=re.timestamp),re},getFileDataAsTypedArray($){return $.contents?$.contents.subarray?$.contents.subarray(0,$.usedBytes):new Uint8Array($.contents):new Uint8Array(0)},expandFileStorage($,x){var N=$.contents?$.contents.length:0;if(!(N>=x)){var G=1024*1024;x=Math.max(x,N*(N<G?2:1.125)>>>0),N!=0&&(x=Math.max(x,256));var re=$.contents;$.contents=new Uint8Array(x),$.usedBytes>0&&$.contents.set(re.subarray(0,$.usedBytes),0)}},resizeFileStorage($,x){if($.usedBytes!=x)if(x==0)$.contents=null,$.usedBytes=0;else{var N=$.contents;$.contents=new Uint8Array(x),N&&$.contents.set(N.subarray(0,Math.min(x,$.usedBytes))),$.usedBytes=x}},node_ops:{getattr($){var x={};return x.dev=_.isChrdev($.mode)?$.id:1,x.ino=$.id,x.mode=$.mode,x.nlink=1,x.uid=0,x.gid=0,x.rdev=$.rdev,_.isDir($.mode)?x.size=4096:_.isFile($.mode)?x.size=$.usedBytes:_.isLink($.mode)?x.size=$.link.length:x.size=0,x.atime=new Date($.timestamp),x.mtime=new Date($.timestamp),x.ctime=new Date($.timestamp),x.blksize=4096,x.blocks=Math.ceil(x.size/x.blksize),x},setattr($,x){x.mode!==void 0&&($.mode=x.mode),x.timestamp!==void 0&&($.timestamp=x.timestamp),x.size!==void 0&&Le.resizeFileStorage($,x.size)},lookup($,x){throw _.genericErrors[44]},mknod($,x,N,G){return Le.createNode($,x,N,G)},rename($,x,N){if(_.isDir($.mode)){var G;try{G=_.lookupNode(x,N)}catch{}if(G)for(var re in G.contents)throw new _.ErrnoError(55)}delete $.parent.contents[$.name],$.parent.timestamp=Date.now(),$.name=N,x.contents[N]=$,x.timestamp=$.parent.timestamp,$.parent=x},unlink($,x){delete $.contents[x],$.timestamp=Date.now()},rmdir($,x){var N=_.lookupNode($,x);for(var G in N.contents)throw new _.ErrnoError(55);delete $.contents[x],$.timestamp=Date.now()},readdir($){var x=[".",".."];for(var N in $.contents)$.contents.hasOwnProperty(N)&&x.push(N);return x},symlink($,x,N){var G=Le.createNode($,x,41471,0);return G.link=N,G},readlink($){if(!_.isLink($.mode))throw new _.ErrnoError(28);return $.link}},stream_ops:{read($,x,N,G,re){var ce=$.node.contents;if(re>=$.node.usedBytes)return 0;var ve=Math.min($.node.usedBytes-re,G);if(ve>8&&ce.subarray)x.set(ce.subarray(re,re+ve),N);else for(var $e=0;$e<ve;$e++)x[N+$e]=ce[re+$e];return ve},write($,x,N,G,re,ce){if(x.buffer===f.buffer&&(ce=!1),!G)return 0;var ve=$.node;if(ve.timestamp=Date.now(),x.subarray&&(!ve.contents||ve.contents.subarray)){if(ce)return ve.contents=x.subarray(N,N+G),ve.usedBytes=G,G;if(ve.usedBytes===0&&re===0)return ve.contents=x.slice(N,N+G),ve.usedBytes=G,G;if(re+G<=ve.usedBytes)return ve.contents.set(x.subarray(N,N+G),re),G}if(Le.expandFileStorage(ve,re+G),ve.contents.subarray&&x.subarray)ve.contents.set(x.subarray(N,N+G),re);else for(var $e=0;$e<G;$e++)ve.contents[re+$e]=x[N+$e];return ve.usedBytes=Math.max(ve.usedBytes,re+G),G},llseek($,x,N){var G=x;if(N===1?G+=$.position:N===2&&_.isFile($.node.mode)&&(G+=$.node.usedBytes),G<0)throw new _.ErrnoError(28);return G},allocate($,x,N){Le.expandFileStorage($.node,x+N),$.node.usedBytes=Math.max($.node.usedBytes,x+N)},mmap($,x,N,G,re){if(!_.isFile($.node.mode))throw new _.ErrnoError(43);var ce,ve,$e=$.node.contents;if(!(re&2)&&$e.buffer===f.buffer)ve=!1,ce=$e.byteOffset;else{if((N>0||N+x<$e.length)&&($e.subarray?$e=$e.subarray(N,N+x):$e=Array.prototype.slice.call($e,N,N+x)),ve=!0,ce=nt(),!ce)throw new _.ErrnoError(48);f.set($e,ce)}return{ptr:ce,allocated:ve}},msync($,x,N,G,re){return Le.stream_ops.write($,x,0,G,N,!1),0}}},wt=($,x,N,G)=>{var re=G?"":`al ${$}`;n($,ce=>{o(ce,`Loading data file "${$}" failed (no arrayBuffer).`),x(new Uint8Array(ce)),re&&Be()},ce=>{if(N)N();else throw`Loading data file "${$}" failed.`}),re&&Te()},Ge=c.preloadPlugins||[],Ft=($,x,N,G)=>{typeof Browser<"u"&&Browser.init();var re=!1;return Ge.forEach(ce=>{re||ce.canHandle(x)&&(ce.handle($,x,N,G),re=!0)}),re},kt=($,x,N,G,re,ce,ve,$e,Ie,et)=>{var Ye=x?Ue.resolve(pe.join2($,x)):$;function ft(tt){function Ze(at){et&&et(),$e||_.createDataFile($,x,at,G,re,Ie),ce&&ce(),Be()}Ft(tt,Ye,Ze,()=>{ve&&ve(),Be()})||Ze(tt)}Te(),typeof N=="string"?wt(N,tt=>ft(tt),ve):ft(N)},Mt=$=>{var x={r:0,"r+":2,w:577,"w+":578,a:1089,"a+":1090},N=x[$];if(typeof N>"u")throw new Error(`Unknown file open mode: ${$}`);return N},Tt=($,x)=>{var N=0;return $&&(N|=365),x&&(N|=146),N},_={root:null,mounts:[],devices:{},streams:[],nextInode:1,nameTable:null,currentPath:"/",initialized:!1,ignorePermissions:!0,ErrnoError:null,genericErrors:{},filesystems:null,syncFSRequests:0,lookupPath($,x={}){if($=Ue.resolve($),!$)return{path:"",node:null};var N={follow_mount:!0,recurse_count:0};if(x=Object.assign(N,x),x.recurse_count>8)throw new _.ErrnoError(32);for(var G=$.split("/").filter(ft=>!!ft),re=_.root,ce="/",ve=0;ve<G.length;ve++){var $e=ve===G.length-1;if($e&&x.parent)break;if(re=_.lookupNode(re,G[ve]),ce=pe.join2(ce,G[ve]),_.isMountpoint(re)&&(!$e||$e&&x.follow_mount)&&(re=re.mounted.root),!$e||x.follow)for(var Ie=0;_.isLink(re.mode);){var et=_.readlink(ce);ce=Ue.resolve(pe.dirname(ce),et);var Ye=_.lookupPath(ce,{recurse_count:x.recurse_count+1});if(re=Ye.node,Ie++>40)throw new _.ErrnoError(32)}}return{path:ce,node:re}},getPath($){for(var x;;){if(_.isRoot($)){var N=$.mount.mountpoint;return x?N[N.length-1]!=="/"?`${N}/${x}`:N+x:N}x=x?`${$.name}/${x}`:$.name,$=$.parent}},hashName($,x){for(var N=0,G=0;G<x.length;G++)N=(N<<5)-N+x.charCodeAt(G)|0;return($+N>>>0)%_.nameTable.length},hashAddNode($){var x=_.hashName($.parent.id,$.name);$.name_next=_.nameTable[x],_.nameTable[x]=$},hashRemoveNode($){var x=_.hashName($.parent.id,$.name);if(_.nameTable[x]===$)_.nameTable[x]=$.name_next;else for(var N=_.nameTable[x];N;){if(N.name_next===$){N.name_next=$.name_next;break}N=N.name_next}},lookupNode($,x){var N=_.mayLookup($);if(N)throw new _.ErrnoError(N,$);for(var G=_.hashName($.id,x),re=_.nameTable[G];re;re=re.name_next){var ce=re.name;if(re.parent.id===$.id&&ce===x)return re}return _.lookup($,x)},createNode($,x,N,G){var re=new _.FSNode($,x,N,G);return _.hashAddNode(re),re},destroyNode($){_.hashRemoveNode($)},isRoot($){return $===$.parent},isMountpoint($){return!!$.mounted},isFile($){return($&61440)===32768},isDir($){return($&61440)===16384},isLink($){return($&61440)===40960},isChrdev($){return($&61440)===8192},isBlkdev($){return($&61440)===24576},isFIFO($){return($&61440)===4096},isSocket($){return($&49152)===49152},flagsToPermissionString($){var x=["r","w","rw"][$&3];return $&512&&(x+="w"),x},nodePermissions($,x){return _.ignorePermissions?0:x.includes("r")&&!($.mode&292)||x.includes("w")&&!($.mode&146)||x.includes("x")&&!($.mode&73)?2:0},mayLookup($){var x=_.nodePermissions($,"x");return x||($.node_ops.lookup?0:2)},mayCreate($,x){try{var N=_.lookupNode($,x);return 20}catch{}return _.nodePermissions($,"wx")},mayDelete($,x,N){var G;try{G=_.lookupNode($,x)}catch(ce){return ce.errno}var re=_.nodePermissions($,"wx");if(re)return re;if(N){if(!_.isDir(G.mode))return 54;if(_.isRoot(G)||_.getPath(G)===_.cwd())return 10}else if(_.isDir(G.mode))return 31;return 0},mayOpen($,x){return $?_.isLink($.mode)?32:_.isDir($.mode)&&(_.flagsToPermissionString(x)!=="r"||x&512)?31:_.nodePermissions($,_.flagsToPermissionString(x)):44},MAX_OPEN_FDS:4096,nextfd(){for(var $=0;$<=_.MAX_OPEN_FDS;$++)if(!_.streams[$])return $;throw new _.ErrnoError(33)},getStreamChecked($){var x=_.getStream($);if(!x)throw new _.ErrnoError(8);return x},getStream:$=>_.streams[$],createStream($,x=-1){return _.FSStream||(_.FSStream=function(){this.shared={}},_.FSStream.prototype={},Object.defineProperties(_.FSStream.prototype,{object:{get(){return this.node},set(N){this.node=N}},isRead:{get(){return(this.flags&2097155)!==1}},isWrite:{get(){return(this.flags&2097155)!==0}},isAppend:{get(){return this.flags&1024}},flags:{get(){return this.shared.flags},set(N){this.shared.flags=N}},position:{get(){return this.shared.position},set(N){this.shared.position=N}}})),$=Object.assign(new _.FSStream,$),x==-1&&(x=_.nextfd()),$.fd=x,_.streams[x]=$,$},closeStream($){_.streams[$]=null},chrdev_stream_ops:{open($){var x=_.getDevice($.node.rdev);$.stream_ops=x.stream_ops,$.stream_ops.open&&$.stream_ops.open($)},llseek(){throw new _.ErrnoError(70)}},major:$=>$>>8,minor:$=>$&255,makedev:($,x)=>$<<8|x,registerDevice($,x){_.devices[$]={stream_ops:x}},getDevice:$=>_.devices[$],getMounts($){for(var x=[],N=[$];N.length;){var G=N.pop();x.push(G),N.push.apply(N,G.mounts)}return x},syncfs($,x){typeof $=="function"&&(x=$,$=!1),_.syncFSRequests++,_.syncFSRequests>1&&s(`warning: ${_.syncFSRequests} FS.syncfs operations in flight at once, probably just doing extra work`);var N=_.getMounts(_.root.mount),G=0;function re(ve){return _.syncFSRequests--,x(ve)}function ce(ve){if(ve)return ce.errored?void 0:(ce.errored=!0,re(ve));++G>=N.length&&re(null)}N.forEach(ve=>{if(!ve.type.syncfs)return ce(null);ve.type.syncfs(ve,$,ce)})},mount($,x,N){var G=N==="/",re=!N,ce;if(G&&_.root)throw new _.ErrnoError(10);if(!G&&!re){var ve=_.lookupPath(N,{follow_mount:!1});if(N=ve.path,ce=ve.node,_.isMountpoint(ce))throw new _.ErrnoError(10);if(!_.isDir(ce.mode))throw new _.ErrnoError(54)}var $e={type:$,opts:x,mountpoint:N,mounts:[]},Ie=$.mount($e);return Ie.mount=$e,$e.root=Ie,G?_.root=Ie:ce&&(ce.mounted=$e,ce.mount&&ce.mount.mounts.push($e)),Ie},unmount($){var x=_.lookupPath($,{follow_mount:!1});if(!_.isMountpoint(x.node))throw new _.ErrnoError(28);var N=x.node,G=N.mounted,re=_.getMounts(G);Object.keys(_.nameTable).forEach(ve=>{for(var $e=_.nameTable[ve];$e;){var Ie=$e.name_next;re.includes($e.mount)&&_.destroyNode($e),$e=Ie}}),N.mounted=null;var ce=N.mount.mounts.indexOf(G);N.mount.mounts.splice(ce,1)},lookup($,x){return $.node_ops.lookup($,x)},mknod($,x,N){var G=_.lookupPath($,{parent:!0}),re=G.node,ce=pe.basename($);if(!ce||ce==="."||ce==="..")throw new _.ErrnoError(28);var ve=_.mayCreate(re,ce);if(ve)throw new _.ErrnoError(ve);if(!re.node_ops.mknod)throw new _.ErrnoError(63);return re.node_ops.mknod(re,ce,x,N)},create($,x){return x=x!==void 0?x:438,x&=4095,x|=32768,_.mknod($,x,0)},mkdir($,x){return x=x!==void 0?x:511,x&=1023,x|=16384,_.mknod($,x,0)},mkdirTree($,x){for(var N=$.split("/"),G="",re=0;re<N.length;++re)if(N[re]){G+="/"+N[re];try{_.mkdir(G,x)}catch(ce){if(ce.errno!=20)throw ce}}},mkdev($,x,N){return typeof N>"u"&&(N=x,x=438),x|=8192,_.mknod($,x,N)},symlink($,x){if(!Ue.resolve($))throw new _.ErrnoError(44);var N=_.lookupPath(x,{parent:!0}),G=N.node;if(!G)throw new _.ErrnoError(44);var re=pe.basename(x),ce=_.mayCreate(G,re);if(ce)throw new _.ErrnoError(ce);if(!G.node_ops.symlink)throw new _.ErrnoError(63);return G.node_ops.symlink(G,re,$)},rename($,x){var N=pe.dirname($),G=pe.dirname(x),re=pe.basename($),ce=pe.basename(x),ve,$e,Ie;if(ve=_.lookupPath($,{parent:!0}),$e=ve.node,ve=_.lookupPath(x,{parent:!0}),Ie=ve.node,!$e||!Ie)throw new _.ErrnoError(44);if($e.mount!==Ie.mount)throw new _.ErrnoError(75);var et=_.lookupNode($e,re),Ye=Ue.relative($,G);if(Ye.charAt(0)!==".")throw new _.ErrnoError(28);if(Ye=Ue.relative(x,N),Ye.charAt(0)!==".")throw new _.ErrnoError(55);var ft;try{ft=_.lookupNode(Ie,ce)}catch{}if(et!==ft){var tt=_.isDir(et.mode),Ze=_.mayDelete($e,re,tt);if(Ze)throw new _.ErrnoError(Ze);if(Ze=ft?_.mayDelete(Ie,ce,tt):_.mayCreate(Ie,ce),Ze)throw new _.ErrnoError(Ze);if(!$e.node_ops.rename)throw new _.ErrnoError(63);if(_.isMountpoint(et)||ft&&_.isMountpoint(ft))throw new _.ErrnoError(10);if(Ie!==$e&&(Ze=_.nodePermissions($e,"w"),Ze))throw new _.ErrnoError(Ze);_.hashRemoveNode(et);try{$e.node_ops.rename(et,Ie,ce)}catch(at){throw at}finally{_.hashAddNode(et)}}},rmdir($){var x=_.lookupPath($,{parent:!0}),N=x.node,G=pe.basename($),re=_.lookupNode(N,G),ce=_.mayDelete(N,G,!0);if(ce)throw new _.ErrnoError(ce);if(!N.node_ops.rmdir)throw new _.ErrnoError(63);if(_.isMountpoint(re))throw new _.ErrnoError(10);N.node_ops.rmdir(N,G),_.destroyNode(re)},readdir($){var x=_.lookupPath($,{follow:!0}),N=x.node;if(!N.node_ops.readdir)throw new _.ErrnoError(54);return N.node_ops.readdir(N)},unlink($){var x=_.lookupPath($,{parent:!0}),N=x.node;if(!N)throw new _.ErrnoError(44);var G=pe.basename($),re=_.lookupNode(N,G),ce=_.mayDelete(N,G,!1);if(ce)throw new _.ErrnoError(ce);if(!N.node_ops.unlink)throw new _.ErrnoError(63);if(_.isMountpoint(re))throw new _.ErrnoError(10);N.node_ops.unlink(N,G),_.destroyNode(re)},readlink($){var x=_.lookupPath($),N=x.node;if(!N)throw new _.ErrnoError(44);if(!N.node_ops.readlink)throw new _.ErrnoError(28);return Ue.resolve(_.getPath(N.parent),N.node_ops.readlink(N))},stat($,x){var N=_.lookupPath($,{follow:!x}),G=N.node;if(!G)throw new _.ErrnoError(44);if(!G.node_ops.getattr)throw new _.ErrnoError(63);return G.node_ops.getattr(G)},lstat($){return _.stat($,!0)},chmod($,x,N){var G;if(typeof $=="string"){var re=_.lookupPath($,{follow:!N});G=re.node}else G=$;if(!G.node_ops.setattr)throw new _.ErrnoError(63);G.node_ops.setattr(G,{mode:x&4095|G.mode&-4096,timestamp:Date.now()})},lchmod($,x){_.chmod($,x,!0)},fchmod($,x){var N=_.getStreamChecked($);_.chmod(N.node,x)},chown($,x,N,G){var re;if(typeof $=="string"){var ce=_.lookupPath($,{follow:!G});re=ce.node}else re=$;if(!re.node_ops.setattr)throw new _.ErrnoError(63);re.node_ops.setattr(re,{timestamp:Date.now()})},lchown($,x,N){_.chown($,x,N,!0)},fchown($,x,N){var G=_.getStreamChecked($);_.chown(G.node,x,N)},truncate($,x){if(x<0)throw new _.ErrnoError(28);var N;if(typeof $=="string"){var G=_.lookupPath($,{follow:!0});N=G.node}else N=$;if(!N.node_ops.setattr)throw new _.ErrnoError(63);if(_.isDir(N.mode))throw new _.ErrnoError(31);if(!_.isFile(N.mode))throw new _.ErrnoError(28);var re=_.nodePermissions(N,"w");if(re)throw new _.ErrnoError(re);N.node_ops.setattr(N,{size:x,timestamp:Date.now()})},ftruncate($,x){var N=_.getStreamChecked($);if(!(N.flags&2097155))throw new _.ErrnoError(28);_.truncate(N.node,x)},utime($,x,N){var G=_.lookupPath($,{follow:!0}),re=G.node;re.node_ops.setattr(re,{timestamp:Math.max(x,N)})},open($,x,N){if($==="")throw new _.ErrnoError(44);x=typeof x=="string"?Mt(x):x,N=typeof N>"u"?438:N,x&64?N=N&4095|32768:N=0;var G;if(typeof $=="object")G=$;else{$=pe.normalize($);try{var re=_.lookupPath($,{follow:!(x&131072)});G=re.node}catch{}}var ce=!1;if(x&64)if(G){if(x&128)throw new _.ErrnoError(20)}else G=_.mknod($,N,0),ce=!0;if(!G)throw new _.ErrnoError(44);if(_.isChrdev(G.mode)&&(x&=-513),x&65536&&!_.isDir(G.mode))throw new _.ErrnoError(54);if(!ce){var ve=_.mayOpen(G,x);if(ve)throw new _.ErrnoError(ve)}x&512&&!ce&&_.truncate(G,0),x&=-131713;var $e=_.createStream({node:G,path:_.getPath(G),flags:x,seekable:!0,position:0,stream_ops:G.stream_ops,ungotten:[],error:!1});return $e.stream_ops.open&&$e.stream_ops.open($e),c.logReadFiles&&!(x&1)&&(_.readFiles||(_.readFiles={}),$ in _.readFiles||(_.readFiles[$]=1)),$e},close($){if(_.isClosed($))throw new _.ErrnoError(8);$.getdents&&($.getdents=null);try{$.stream_ops.close&&$.stream_ops.close($)}catch(x){throw x}finally{_.closeStream($.fd)}$.fd=null},isClosed($){return $.fd===null},llseek($,x,N){if(_.isClosed($))throw new _.ErrnoError(8);if(!$.seekable||!$.stream_ops.llseek)throw new _.ErrnoError(70);if(N!=0&&N!=1&&N!=2)throw new _.ErrnoError(28);return $.position=$.stream_ops.llseek($,x,N),$.ungotten=[],$.position},read($,x,N,G,re){if(G<0||re<0)throw new _.ErrnoError(28);if(_.isClosed($))throw new _.ErrnoError(8);if(($.flags&2097155)===1)throw new _.ErrnoError(8);if(_.isDir($.node.mode))throw new _.ErrnoError(31);if(!$.stream_ops.read)throw new _.ErrnoError(28);var ce=typeof re<"u";if(!ce)re=$.position;else if(!$.seekable)throw new _.ErrnoError(70);var ve=$.stream_ops.read($,x,N,G,re);return ce||($.position+=ve),ve},write($,x,N,G,re,ce){if(G<0||re<0)throw new _.ErrnoError(28);if(_.isClosed($))throw new _.ErrnoError(8);if(!($.flags&2097155))throw new _.ErrnoError(8);if(_.isDir($.node.mode))throw new _.ErrnoError(31);if(!$.stream_ops.write)throw new _.ErrnoError(28);$.seekable&&$.flags&1024&&_.llseek($,0,2);var ve=typeof re<"u";if(!ve)re=$.position;else if(!$.seekable)throw new _.ErrnoError(70);var $e=$.stream_ops.write($,x,N,G,re,ce);return ve||($.position+=$e),$e},allocate($,x,N){if(_.isClosed($))throw new _.ErrnoError(8);if(x<0||N<=0)throw new _.ErrnoError(28);if(!($.flags&2097155))throw new _.ErrnoError(8);if(!_.isFile($.node.mode)&&!_.isDir($.node.mode))throw new _.ErrnoError(43);if(!$.stream_ops.allocate)throw new _.ErrnoError(138);$.stream_ops.allocate($,x,N)},mmap($,x,N,G,re){if(G&2&&!(re&2)&&($.flags&2097155)!==2)throw new _.ErrnoError(2);if(($.flags&2097155)===1)throw new _.ErrnoError(2);if(!$.stream_ops.mmap)throw new _.ErrnoError(43);return $.stream_ops.mmap($,x,N,G,re)},msync($,x,N,G,re){return $.stream_ops.msync?$.stream_ops.msync($,x,N,G,re):0},munmap:$=>0,ioctl($,x,N){if(!$.stream_ops.ioctl)throw new _.ErrnoError(59);return $.stream_ops.ioctl($,x,N)},readFile($,x={}){if(x.flags=x.flags||0,x.encoding=x.encoding||"binary",x.encoding!=="utf8"&&x.encoding!=="binary")throw new Error(`Invalid encoding type "${x.encoding}"`);var N,G=_.open($,x.flags),re=_.stat($),ce=re.size,ve=new Uint8Array(ce);return _.read(G,ve,0,ce,0),x.encoding==="utf8"?N=Ve(ve,0):x.encoding==="binary"&&(N=ve),_.close(G),N},writeFile($,x,N={}){N.flags=N.flags||577;var G=_.open($,N.flags,N.mode);if(typeof x=="string"){var re=new Uint8Array(ot(x)+1),ce=pt(x,re,0,re.length);_.write(G,re,0,ce,void 0,N.canOwn)}else if(ArrayBuffer.isView(x))_.write(G,x,0,x.byteLength,void 0,N.canOwn);else throw new Error("Unsupported data type");_.close(G)},cwd:()=>_.currentPath,chdir($){var x=_.lookupPath($,{follow:!0});if(x.node===null)throw new _.ErrnoError(44);if(!_.isDir(x.node.mode))throw new _.ErrnoError(54);var N=_.nodePermissions(x.node,"x");if(N)throw new _.ErrnoError(N);_.currentPath=x.path},createDefaultDirectories(){_.mkdir("/tmp"),_.mkdir("/home"),_.mkdir("/home/web_user")},createDefaultDevices(){_.mkdir("/dev"),_.registerDevice(_.makedev(1,3),{read:()=>0,write:(G,re,ce,ve,$e)=>ve}),_.mkdev("/dev/null",_.makedev(1,3)),We.register(_.makedev(5,0),We.default_tty_ops),We.register(_.makedev(6,0),We.default_tty1_ops),_.mkdev("/dev/tty",_.makedev(5,0)),_.mkdev("/dev/tty1",_.makedev(6,0));var $=new Uint8Array(1024),x=0,N=()=>(x===0&&(x=Pe($).byteLength),$[--x]);_.createDevice("/dev","random",N),_.createDevice("/dev","urandom",N),_.mkdir("/dev/shm"),_.mkdir("/dev/shm/tmp")},createSpecialDirectories(){_.mkdir("/proc");var $=_.mkdir("/proc/self");_.mkdir("/proc/self/fd"),_.mount({mount(){var x=_.createNode($,"fd",16895,73);return x.node_ops={lookup(N,G){var re=+G,ce=_.getStreamChecked(re),ve={parent:null,mount:{mountpoint:"fake"},node_ops:{readlink:()=>ce.path}};return ve.parent=ve,ve}},x}},{},"/proc/self/fd")},createStandardStreams(){c.stdin?_.createDevice("/dev","stdin",c.stdin):_.symlink("/dev/tty","/dev/stdin"),c.stdout?_.createDevice("/dev","stdout",null,c.stdout):_.symlink("/dev/tty","/dev/stdout"),c.stderr?_.createDevice("/dev","stderr",null,c.stderr):_.symlink("/dev/tty1","/dev/stderr"),_.open("/dev/stdin",0),_.open("/dev/stdout",1),_.open("/dev/stderr",1)},ensureErrnoError(){_.ErrnoError||(_.ErrnoError=function(x,N){this.name="ErrnoError",this.node=N,this.setErrno=function(G){this.errno=G},this.setErrno(x),this.message="FS error"},_.ErrnoError.prototype=new Error,_.ErrnoError.prototype.constructor=_.ErrnoError,[44].forEach($=>{_.genericErrors[$]=new _.ErrnoError($),_.genericErrors[$].stack="<generic error, no stack>"}))},staticInit(){_.ensureErrnoError(),_.nameTable=new Array(4096),_.mount(Le,{},"/"),_.createDefaultDirectories(),_.createDefaultDevices(),_.createSpecialDirectories(),_.filesystems={MEMFS:Le}},init($,x,N){_.init.initialized=!0,_.ensureErrnoError(),c.stdin=$||c.stdin,c.stdout=x||c.stdout,c.stderr=N||c.stderr,_.createStandardStreams()},quit(){_.init.initialized=!1;for(var $=0;$<_.streams.length;$++){var x=_.streams[$];x&&_.close(x)}},findObject($,x){var N=_.analyzePath($,x);return N.exists?N.object:null},analyzePath($,x){try{var N=_.lookupPath($,{follow:!x});$=N.path}catch{}var G={isRoot:!1,exists:!1,error:0,name:null,path:null,object:null,parentExists:!1,parentPath:null,parentObject:null};try{var N=_.lookupPath($,{parent:!0});G.parentExists=!0,G.parentPath=N.path,G.parentObject=N.node,G.name=pe.basename($),N=_.lookupPath($,{follow:!x}),G.exists=!0,G.path=N.path,G.object=N.node,G.name=N.node.name,G.isRoot=N.path==="/"}catch(re){G.error=re.errno}return G},createPath($,x,N,G){$=typeof $=="string"?$:_.getPath($);for(var re=x.split("/").reverse();re.length;){var ce=re.pop();if(ce){var ve=pe.join2($,ce);try{_.mkdir(ve)}catch{}$=ve}}return ve},createFile($,x,N,G,re){var ce=pe.join2(typeof $=="string"?$:_.getPath($),x),ve=Tt(G,re);return _.create(ce,ve)},createDataFile($,x,N,G,re,ce){var ve=x;$&&($=typeof $=="string"?$:_.getPath($),ve=x?pe.join2($,x):$);var $e=Tt(G,re),Ie=_.create(ve,$e);if(N){if(typeof N=="string"){for(var et=new Array(N.length),Ye=0,ft=N.length;Ye<ft;++Ye)et[Ye]=N.charCodeAt(Ye);N=et}_.chmod(Ie,$e|146);var tt=_.open(Ie,577);_.write(tt,N,0,N.length,0,ce),_.close(tt),_.chmod(Ie,$e)}return Ie},createDevice($,x,N,G){var re=pe.join2(typeof $=="string"?$:_.getPath($),x),ce=Tt(!!N,!!G);_.createDevice.major||(_.createDevice.major=64);var ve=_.makedev(_.createDevice.major++,0);return _.registerDevice(ve,{open($e){$e.seekable=!1},close($e){G&&G.buffer&&G.buffer.length&&G(10)},read($e,Ie,et,Ye,ft){for(var tt=0,Ze=0;Ze<Ye;Ze++){var at;try{at=N()}catch{throw new _.ErrnoError(29)}if(at===void 0&&tt===0)throw new _.ErrnoError(6);if(at==null)break;tt++,Ie[et+Ze]=at}return tt&&($e.node.timestamp=Date.now()),tt},write($e,Ie,et,Ye,ft){for(var tt=0;tt<Ye;tt++)try{G(Ie[et+tt])}catch{throw new _.ErrnoError(29)}return Ye&&($e.node.timestamp=Date.now()),tt}}),_.mkdev(re,ce,ve)},forceLoadFile($){if($.isDevice||$.isFolder||$.link||$.contents)return!0;if(typeof XMLHttpRequest<"u")throw new Error("Lazy loading should have been performed (contents set) in createLazyFile, but it was not. Lazy loading only works in web workers. Use --embed-file or --preload-file in emcc on the main thread.");if(r)try{$.contents=ne(r($.url),!0),$.usedBytes=$.contents.length}catch{throw new _.ErrnoError(29)}else throw new Error("Cannot load without read() or XMLHttpRequest.")},createLazyFile($,x,N,G,re){function ce(){this.lengthKnown=!1,this.chunks=[]}if(ce.prototype.get=function(Ze){if(!(Ze>this.length-1||Ze<0)){var at=Ze%this.chunkSize,b=Ze/this.chunkSize|0;return this.getter(b)[at]}},ce.prototype.setDataGetter=function(Ze){this.getter=Ze},ce.prototype.cacheLength=function(){var Ze=new XMLHttpRequest;if(Ze.open("HEAD",N,!1),Ze.send(null),!(Ze.status>=200&&Ze.status<300||Ze.status===304))throw new Error("Couldn't load "+N+". Status: "+Ze.status);var at=Number(Ze.getResponseHeader("Content-length")),b,T=(b=Ze.getResponseHeader("Accept-Ranges"))&&b==="bytes",B=(b=Ze.getResponseHeader("Content-Encoding"))&&b==="gzip",I=1024*1024;T||(I=at);var K=(fe,ye)=>{if(fe>ye)throw new Error("invalid range ("+fe+", "+ye+") or no bytes requested!");if(ye>at-1)throw new Error("only "+at+" bytes available! programmer error!");var De=new XMLHttpRequest;if(De.open("GET",N,!1),at!==I&&De.setRequestHeader("Range","bytes="+fe+"-"+ye),De.responseType="arraybuffer",De.overrideMimeType&&De.overrideMimeType("text/plain; charset=x-user-defined"),De.send(null),!(De.status>=200&&De.status<300||De.status===304))throw new Error("Couldn't load "+N+". Status: "+De.status);return De.response!==void 0?new Uint8Array(De.response||[]):ne(De.responseText||"",!0)},se=this;se.setDataGetter(fe=>{var ye=fe*I,De=(fe+1)*I-1;if(De=Math.min(De,at-1),typeof se.chunks[fe]>"u"&&(se.chunks[fe]=K(ye,De)),typeof se.chunks[fe]>"u")throw new Error("doXHR failed!");return se.chunks[fe]}),(B||!at)&&(I=at=1,at=this.getter(0).length,I=at,i("LazyFiles on gzip forces download of the whole file when length is accessed")),this._length=at,this._chunkSize=I,this.lengthKnown=!0},typeof XMLHttpRequest<"u"){throw"Cannot do synchronous binary XHRs outside webworkers in modern browsers. Use --embed-file or --preload-file in emcc";var ve,$e}else var $e={isDevice:!1,url:N};var Ie=_.createFile($,x,$e,G,re);$e.contents?Ie.contents=$e.contents:$e.url&&(Ie.contents=null,Ie.url=$e.url),Object.defineProperties(Ie,{usedBytes:{get:function(){return this.contents.length}}});var et={},Ye=Object.keys(Ie.stream_ops);Ye.forEach(tt=>{var Ze=Ie.stream_ops[tt];et[tt]=function(){return _.forceLoadFile(Ie),Ze.apply(null,arguments)}});function ft(tt,Ze,at,b,T){var B=tt.node.contents;if(T>=B.length)return 0;var I=Math.min(B.length-T,b);if(B.slice)for(var K=0;K<I;K++)Ze[at+K]=B[T+K];else for(var K=0;K<I;K++)Ze[at+K]=B.get(T+K);return I}return et.read=(tt,Ze,at,b,T)=>(_.forceLoadFile(Ie),ft(tt,Ze,at,b,T)),et.mmap=(tt,Ze,at,b,T)=>{_.forceLoadFile(Ie);var B=nt();if(!B)throw new _.ErrnoError(48);return ft(tt,f,B,Ze,at),{ptr:B,allocated:!0}},Ie.stream_ops=et,Ie}},zt=($,x)=>$?Ve(w,$,x):"",U={DEFAULT_POLLMASK:5,calculateAt($,x,N){if(pe.isAbs(x))return x;var G;if($===-100)G=_.cwd();else{var re=U.getStreamFromFD($);G=re.path}if(x.length==0){if(!N)throw new _.ErrnoError(44);return G}return pe.join2(G,x)},doStat($,x,N){try{var G=$(x)}catch($e){if($e&&$e.node&&pe.normalize(x)!==pe.normalize(_.getPath($e.node)))return-54;throw $e}m[N>>2]=G.dev,m[N+4>>2]=G.mode,u[N+8>>2]=G.nlink,m[N+12>>2]=G.uid,m[N+16>>2]=G.gid,m[N+20>>2]=G.rdev,we=[G.size>>>0,(Q=G.size,+Math.abs(Q)>=1?Q>0?+Math.floor(Q/4294967296)>>>0:~~+Math.ceil((Q-+(~~Q>>>0))/4294967296)>>>0:0)],m[N+24>>2]=we[0],m[N+28>>2]=we[1],m[N+32>>2]=4096,m[N+36>>2]=G.blocks;var re=G.atime.getTime(),ce=G.mtime.getTime(),ve=G.ctime.getTime();return we=[Math.floor(re/1e3)>>>0,(Q=Math.floor(re/1e3),+Math.abs(Q)>=1?Q>0?+Math.floor(Q/4294967296)>>>0:~~+Math.ceil((Q-+(~~Q>>>0))/4294967296)>>>0:0)],m[N+40>>2]=we[0],m[N+44>>2]=we[1],u[N+48>>2]=re%1e3*1e3,we=[Math.floor(ce/1e3)>>>0,(Q=Math.floor(ce/1e3),+Math.abs(Q)>=1?Q>0?+Math.floor(Q/4294967296)>>>0:~~+Math.ceil((Q-+(~~Q>>>0))/4294967296)>>>0:0)],m[N+56>>2]=we[0],m[N+60>>2]=we[1],u[N+64>>2]=ce%1e3*1e3,we=[Math.floor(ve/1e3)>>>0,(Q=Math.floor(ve/1e3),+Math.abs(Q)>=1?Q>0?+Math.floor(Q/4294967296)>>>0:~~+Math.ceil((Q-+(~~Q>>>0))/4294967296)>>>0:0)],m[N+72>>2]=we[0],m[N+76>>2]=we[1],u[N+80>>2]=ve%1e3*1e3,we=[G.ino>>>0,(Q=G.ino,+Math.abs(Q)>=1?Q>0?+Math.floor(Q/4294967296)>>>0:~~+Math.ceil((Q-+(~~Q>>>0))/4294967296)>>>0:0)],m[N+88>>2]=we[0],m[N+92>>2]=we[1],0},doMsync($,x,N,G,re){if(!_.isFile(x.node.mode))throw new _.ErrnoError(43);if(G&2)return 0;var ce=w.slice($,$+N);_.msync(x,ce,re,N,G)},varargs:void 0,get(){var $=m[U.varargs>>2];return U.varargs+=4,$},getp(){return U.get()},getStr($){var x=zt($);return x},getStreamFromFD($){var x=_.getStreamChecked($);return x}};function tr($,x,N){U.varargs=N;try{var G=U.getStreamFromFD($);switch(x){case 0:{var re=U.get();if(re<0)return-28;for(;_.streams[re];)re++;var ce;return ce=_.createStream(G,re),ce.fd}case 1:case 2:return 0;case 3:return G.flags;case 4:{var re=U.get();return G.flags|=re,0}case 5:{var re=U.getp(),ve=0;return g[re+ve>>1]=2,0}case 6:case 7:return 0;case 16:case 8:return-28;case 9:return Se(28),-1;default:return-28}}catch($e){if(typeof _>"u"||$e.name!=="ErrnoError")throw $e;return-$e.errno}}function ht($,x,N){U.varargs=N;try{var G=U.getStreamFromFD($);switch(x){case 21509:return G.tty?0:-59;case 21505:{if(!G.tty)return-59;if(G.tty.ops.ioctl_tcgets){var re=G.tty.ops.ioctl_tcgets(G),ce=U.getp();m[ce>>2]=re.c_iflag||0,m[ce+4>>2]=re.c_oflag||0,m[ce+8>>2]=re.c_cflag||0,m[ce+12>>2]=re.c_lflag||0;for(var ve=0;ve<32;ve++)f[ce+ve+17>>0]=re.c_cc[ve]||0;return 0}return 0}case 21510:case 21511:case 21512:return G.tty?0:-59;case 21506:case 21507:case 21508:{if(!G.tty)return-59;if(G.tty.ops.ioctl_tcsets){for(var ce=U.getp(),$e=m[ce>>2],Ie=m[ce+4>>2],et=m[ce+8>>2],Ye=m[ce+12>>2],ft=[],ve=0;ve<32;ve++)ft.push(f[ce+ve+17>>0]);return G.tty.ops.ioctl_tcsets(G.tty,x,{c_iflag:$e,c_oflag:Ie,c_cflag:et,c_lflag:Ye,c_cc:ft})}return 0}case 21519:{if(!G.tty)return-59;var ce=U.getp();return m[ce>>2]=0,0}case 21520:return G.tty?-28:-59;case 21531:{var ce=U.getp();return _.ioctl(G,x,ce)}case 21523:{if(!G.tty)return-59;if(G.tty.ops.ioctl_tiocgwinsz){var tt=G.tty.ops.ioctl_tiocgwinsz(G.tty),ce=U.getp();g[ce>>1]=tt[0],g[ce+2>>1]=tt[1]}return 0}case 21524:return G.tty?0:-59;case 21515:return G.tty?0:-59;default:return-28}}catch(Ze){if(typeof _>"u"||Ze.name!=="ErrnoError")throw Ze;return-Ze.errno}}function Sr($,x,N,G){U.varargs=G;try{x=U.getStr(x),x=U.calculateAt($,x);var re=G?U.get():0;return _.open(x,N,re).fd}catch(ce){if(typeof _>"u"||ce.name!=="ErrnoError")throw ce;return-ce.errno}}var Ar=()=>{Me("")},Cr=($,x,N)=>w.copyWithin($,x,x+N),kr=()=>2147483648,Gt=$=>{var x=y.buffer,N=($-x.byteLength+65535)/65536;try{return y.grow(N),F(),1}catch{}},Rr=$=>{var x=w.length;$>>>=0;var N=kr();if($>N)return!1;for(var G=(Ie,et)=>Ie+(et-Ie%et)%et,re=1;re<=4;re*=2){var ce=x*(1+.2/re);ce=Math.min(ce,$+100663296);var ve=Math.min(N,G(Math.max($,ce),65536)),$e=Gt(ve);if($e)return!0}return!1},Ut={},Fr=()=>h||"./this.program",Ht=()=>{if(!Ht.strings){var $=(typeof navigator=="object"&&navigator.languages&&navigator.languages[0]||"C").replace("-","_")+".UTF-8",x={USER:"web_user",LOGNAME:"web_user",PATH:"/",PWD:"/",HOME:"/home/web_user",LANG:$,_:Fr()};for(var N in Ut)Ut[N]===void 0?delete x[N]:x[N]=Ut[N];var G=[];for(var N in x)G.push(`${N}=${x[N]}`);Ht.strings=G}return Ht.strings},Mr=($,x)=>{for(var N=0;N<$.length;++N)f[x++>>0]=$.charCodeAt(N);f[x>>0]=0},Tr=($,x)=>{var N=0;return Ht().forEach((G,re)=>{var ce=x+N;u[$+re*4>>2]=ce,Mr(G,ce),N+=G.length+1}),0},xr=($,x)=>{var N=Ht();u[$>>2]=N.length;var G=0;return N.forEach(re=>G+=re.length+1),u[x>>2]=G,0},Lr=$=>{p=$,j()||(c.onExit&&c.onExit($),k=!0),a($,new he($))},rr=($,x)=>{p=$,Lr($)},cr=rr;function Dr($){try{var x=U.getStreamFromFD($);return _.close(x),0}catch(N){if(typeof _>"u"||N.name!=="ErrnoError")throw N;return N.errno}}var Br=($,x,N,G)=>{for(var re=0,ce=0;ce<N;ce++){var ve=u[x>>2],$e=u[x+4>>2];x+=8;var Ie=_.read($,f,ve,$e,G);if(Ie<0)return-1;if(re+=Ie,Ie<$e)break;typeof G<"u"&&(G+=Ie)}return re};function Or($,x,N,G){try{var re=U.getStreamFromFD($),ce=Br(re,x,N);return u[G>>2]=ce,0}catch(ve){if(typeof _>"u"||ve.name!=="ErrnoError")throw ve;return ve.errno}}var Ir=($,x)=>x+2097152>>>0<4194305-!!$?($>>>0)+x*4294967296:NaN;function Pr($,x,N,G,re){var ce=Ir(x,N);try{if(isNaN(ce))return 61;var ve=U.getStreamFromFD($);return _.llseek(ve,ce,G),we=[ve.position>>>0,(Q=ve.position,+Math.abs(Q)>=1?Q>0?+Math.floor(Q/4294967296)>>>0:~~+Math.ceil((Q-+(~~Q>>>0))/4294967296)>>>0:0)],m[re>>2]=we[0],m[re+4>>2]=we[1],ve.getdents&&ce===0&&G===0&&(ve.getdents=null),0}catch($e){if(typeof _>"u"||$e.name!=="ErrnoError")throw $e;return $e.errno}}var ur=($,x,N,G)=>{for(var re=0,ce=0;ce<N;ce++){var ve=u[x>>2],$e=u[x+4>>2];x+=8;var Ie=_.write($,f,ve,$e,G);if(Ie<0)return-1;re+=Ie,typeof G<"u"&&(G+=Ie)}return re};function Yt($,x,N,G){try{var re=U.getStreamFromFD($),ce=ur(re,x,N);return u[G>>2]=ce,0}catch(ve){if(typeof _>"u"||ve.name!=="ErrnoError")throw ve;return ve.errno}}var Lt=$=>$%4===0&&($%100!==0||$%400===0),Ur=($,x)=>{for(var N=0,G=0;G<=x;N+=$[G++]);return N},Ct=[31,29,31,30,31,30,31,31,30,31,30,31],nr=[31,28,31,30,31,30,31,31,30,31,30,31],hr=($,x)=>{for(var N=new Date($.getTime());x>0;){var G=Lt(N.getFullYear()),re=N.getMonth(),ce=(G?Ct:nr)[re];if(x>ce-N.getDate())x-=ce-N.getDate()+1,N.setDate(1),re<11?N.setMonth(re+1):(N.setMonth(0),N.setFullYear(N.getFullYear()+1));else return N.setDate(N.getDate()+x),N}return N},ir=($,x)=>{f.set($,x)},Xt=($,x,N,G)=>{var re=u[G+40>>2],ce={tm_sec:m[G>>2],tm_min:m[G+4>>2],tm_hour:m[G+8>>2],tm_mday:m[G+12>>2],tm_mon:m[G+16>>2],tm_year:m[G+20>>2],tm_wday:m[G+24>>2],tm_yday:m[G+28>>2],tm_isdst:m[G+32>>2],tm_gmtoff:m[G+36>>2],tm_zone:re?zt(re):""},ve=zt(N),$e={"%c":"%a %b %d %H:%M:%S %Y","%D":"%m/%d/%y","%F":"%Y-%m-%d","%h":"%b","%r":"%I:%M:%S %p","%R":"%H:%M","%T":"%H:%M:%S","%x":"%m/%d/%y","%X":"%H:%M:%S","%Ec":"%c","%EC":"%C","%Ex":"%m/%d/%y","%EX":"%H:%M:%S","%Ey":"%y","%EY":"%Y","%Od":"%d","%Oe":"%e","%OH":"%H","%OI":"%I","%Om":"%m","%OM":"%M","%OS":"%S","%Ou":"%u","%OU":"%U","%OV":"%V","%Ow":"%w","%OW":"%W","%Oy":"%y"};for(var Ie in $e)ve=ve.replace(new RegExp(Ie,"g"),$e[Ie]);var et=["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],Ye=["January","February","March","April","May","June","July","August","September","October","November","December"];function ft(I,K,se){for(var fe=typeof I=="number"?I.toString():I||"";fe.length<K;)fe=se[0]+fe;return fe}function tt(I,K){return ft(I,K,"0")}function Ze(I,K){function se(ye){return ye<0?-1:ye>0?1:0}var fe;return(fe=se(I.getFullYear()-K.getFullYear()))===0&&(fe=se(I.getMonth()-K.getMonth()))===0&&(fe=se(I.getDate()-K.getDate())),fe}function at(I){switch(I.getDay()){case 0:return new Date(I.getFullYear()-1,11,29);case 1:return I;case 2:return new Date(I.getFullYear(),0,3);case 3:return new Date(I.getFullYear(),0,2);case 4:return new Date(I.getFullYear(),0,1);case 5:return new Date(I.getFullYear()-1,11,31);case 6:return new Date(I.getFullYear()-1,11,30)}}function b(I){var K=hr(new Date(I.tm_year+1900,0,1),I.tm_yday),se=new Date(K.getFullYear(),0,4),fe=new Date(K.getFullYear()+1,0,4),ye=at(se),De=at(fe);return Ze(ye,K)<=0?Ze(De,K)<=0?K.getFullYear()+1:K.getFullYear():K.getFullYear()-1}var T={"%a":I=>et[I.tm_wday].substring(0,3),"%A":I=>et[I.tm_wday],"%b":I=>Ye[I.tm_mon].substring(0,3),"%B":I=>Ye[I.tm_mon],"%C":I=>{var K=I.tm_year+1900;return tt(K/100|0,2)},"%d":I=>tt(I.tm_mday,2),"%e":I=>ft(I.tm_mday,2," "),"%g":I=>b(I).toString().substring(2),"%G":I=>b(I),"%H":I=>tt(I.tm_hour,2),"%I":I=>{var K=I.tm_hour;return K==0?K=12:K>12&&(K-=12),tt(K,2)},"%j":I=>tt(I.tm_mday+Ur(Lt(I.tm_year+1900)?Ct:nr,I.tm_mon-1),3),"%m":I=>tt(I.tm_mon+1,2),"%M":I=>tt(I.tm_min,2),"%n":()=>`
`,"%p":I=>I.tm_hour>=0&&I.tm_hour<12?"AM":"PM","%S":I=>tt(I.tm_sec,2),"%t":()=>"	","%u":I=>I.tm_wday||7,"%U":I=>{var K=I.tm_yday+7-I.tm_wday;return tt(Math.floor(K/7),2)},"%V":I=>{var K=Math.floor((I.tm_yday+7-(I.tm_wday+6)%7)/7);if((I.tm_wday+371-I.tm_yday-2)%7<=2&&K++,K){if(K==53){var fe=(I.tm_wday+371-I.tm_yday)%7;fe!=4&&(fe!=3||!Lt(I.tm_year))&&(K=1)}}else{K=52;var se=(I.tm_wday+7-I.tm_yday-1)%7;(se==4||se==5&&Lt(I.tm_year%400-1))&&K++}return tt(K,2)},"%w":I=>I.tm_wday,"%W":I=>{var K=I.tm_yday+7-(I.tm_wday+6)%7;return tt(Math.floor(K/7),2)},"%y":I=>(I.tm_year+1900).toString().substring(2),"%Y":I=>I.tm_year+1900,"%z":I=>{var K=I.tm_gmtoff,se=K>=0;return K=Math.abs(K)/60,K=K/60*100+K%60,(se?"+":"-")+("0000"+K).slice(-4)},"%Z":I=>I.tm_zone,"%%":()=>"%"};ve=ve.replace(/%%/g,"\0\0");for(var Ie in T)ve.includes(Ie)&&(ve=ve.replace(new RegExp(Ie,"g"),T[Ie](ce)));ve=ve.replace(/\0\0/g,"%");var B=ne(ve,!1);return B.length>x?0:(ir(B,$),B.length-1)},fr=($,x,N,G,re)=>Xt($,x,N,G),dr=$=>{if($ instanceof he||$=="unwind")return p;a(1,$)},gr=($,x,N)=>pt($,w,x,N),C=$=>{var x=ot($)+1,N=Ne(x);return gr($,N,x),N},D=function($,x,N,G){$||($=this),this.parent=$,this.mount=$.mount,this.mounted=null,this.id=_.nextInode++,this.name=x,this.mode=N,this.node_ops={},this.stream_ops={},this.rdev=G},z=365,V=146;Object.defineProperties(D.prototype,{read:{get:function(){return(this.mode&z)===z},set:function($){$?this.mode|=z:this.mode&=~z}},write:{get:function(){return(this.mode&V)===V},set:function($){$?this.mode|=V:this.mode&=~V}},isFolder:{get:function(){return _.isDir(this.mode)}},isDevice:{get:function(){return _.isChrdev(this.mode)}}}),_.FSNode=D,_.createPreloadedFile=kt,_.staticInit();var oe={d:tr,j:ht,g:Sr,a:Ar,f:Cr,e:Rr,m:Tr,n:xr,b:cr,c:Dr,i:Or,k:Pr,h:Yt,l:fr},ge=Z(),_e=c._main=($,x)=>(_e=c._main=ge.q)($,x),Ae=()=>(Ae=ge.r)(),Ne=$=>(Ne=ge.t)($);c.FS=_;var it;Ce=function $(){it||mt(),it||(Ce=$)};function gt($=[]){var x=_e;$.unshift(h);var N=$.length,G=Ne((N+1)*4),re=G;$.forEach(ve=>{u[re>>2]=C(ve),re+=4}),u[re>>2]=0;try{var ce=x(N,G);return rr(ce,!0),ce}catch(ve){return dr(ve)}}function mt($=E){if(de>0||(le(),de>0))return;function x(){it||(it=!0,c.calledRun=!0,!k&&(q(),ue(),M(c),c.onRuntimeInitialized&&c.onRuntimeInitialized(),st&&gt($),J()))}c.setStatus?(c.setStatus("Running..."),setTimeout(function(){setTimeout(function(){c.setStatus("")},1),x()},1)):x()}if(c.preInit)for(typeof c.preInit=="function"&&(c.preInit=[c.preInit]);c.preInit.length>0;)c.preInit.pop()();var st=!0;return c.noInitialRun&&(st=!1),mt(),Y.ready}})(),es=(()=>{var X=import.meta.url;return function(Y={}){var c=Y,M,W;c.ready=new Promise((C,D)=>{M=C,W=D});var R=Object.assign({},c),E=[],h="./this.program",a=(C,D)=>{throw D},l=!0,t="";function e(C){return c.locateFile?c.locateFile(C,t):t+C}var r,n;typeof document<"u"&&document.currentScript&&(t=document.currentScript.src),X&&(t=X),t.indexOf("blob:")!==0?t=t.substr(0,t.replace(/[?#].*/,"").lastIndexOf("/")+1):t="",r=C=>{var D=new XMLHttpRequest;return D.open("GET",C,!1),D.send(null),D.responseText},n=(C,D,z)=>{var V=new XMLHttpRequest;V.open("GET",C,!0),V.responseType="arraybuffer",V.onload=()=>{if(V.status==200||V.status==0&&V.response){D(V.response);return}z()},V.onerror=z,V.send(null)};var i=c.print||console.log.bind(console),s=c.printErr||console.error.bind(console);Object.assign(c,R),R=null,c.arguments&&(E=c.arguments),c.thisProgram&&(h=c.thisProgram),c.quit&&(a=c.quit);var d;c.wasmBinary&&(d=c.wasmBinary);var v=c.noExitRuntime||!0;typeof WebAssembly!="object"&&Me("no native wasm support detected");var y,k=!1,p;function o(C,D){C||Me(D)}var f,w,g,m,u;function F(){var C=y.buffer;c.HEAP8=f=new Int8Array(C),c.HEAP16=g=new Int16Array(C),c.HEAPU8=w=new Uint8Array(C),c.HEAPU16=new Uint16Array(C),c.HEAP32=m=new Int32Array(C),c.HEAPU32=u=new Uint32Array(C),c.HEAPF32=new Float32Array(C),c.HEAPF64=new Float64Array(C)}var S=[],L=[],A=[],P=[],H=0;function j(){return v||H>0}function le(){if(c.preRun)for(typeof c.preRun=="function"&&(c.preRun=[c.preRun]);c.preRun.length;)ee(c.preRun.shift());ae(S)}function q(){!c.noFSInit&&!_.init.initialized&&_.init(),_.ignorePermissions=!1,ae(L)}function ue(){ae(A)}function J(){if(c.postRun)for(typeof c.postRun=="function"&&(c.postRun=[c.postRun]);c.postRun.length;)me(c.postRun.shift());ae(P)}function ee(C){S.unshift(C)}function ie(C){L.unshift(C)}function me(C){P.unshift(C)}var de=0,Ce=null;function Fe(C){return C}function Te(C){de++,c.monitorRunDependencies&&c.monitorRunDependencies(de)}function Be(C){if(de--,c.monitorRunDependencies&&c.monitorRunDependencies(de),de==0&&Ce){var D=Ce;Ce=null,D()}}function Me(C){c.onAbort&&c.onAbort(C),C="Aborted("+C+")",s(C),k=!0,p=1,C+=". Build with -sASSERTIONS for more info.";var D=new WebAssembly.RuntimeError(C);throw W(D),D}var He="data:application/octet-stream;base64,";function qe(C){return C.startsWith(He)}var Qe;c.locateFile?(Qe="rgbfix.wasm",qe(Qe)||(Qe=e(Qe))):Qe=new URL("/rgbds-live/assets/rgbfix-d974d924.wasm",self.location).href;function O(C){if(C==Qe&&d)return new Uint8Array(d);throw"both async and sync fetching of the wasm failed"}function Ee(C){return!d&&l&&typeof fetch=="function"?fetch(C,{credentials:"same-origin"}).then(D=>{if(!D.ok)throw"failed to load wasm binary file at '"+C+"'";return D.arrayBuffer()}).catch(()=>O(C)):Promise.resolve().then(()=>O(C))}function be(C,D,z){return Ee(C).then(V=>WebAssembly.instantiate(V,D)).then(V=>V).then(z,V=>{s(`failed to asynchronously prepare wasm: ${V}`),Me(V)})}function te(C,D,z,V){return!C&&typeof WebAssembly.instantiateStreaming=="function"&&!qe(D)&&typeof fetch=="function"?fetch(D,{credentials:"same-origin"}).then(oe=>{var ge=WebAssembly.instantiateStreaming(oe,z);return ge.then(V,function(_e){return s(`wasm streaming compile failed: ${_e}`),s("falling back to ArrayBuffer instantiation"),be(D,z,V)})}):be(D,z,V)}function Z(){var C={a:Ur};function D(V,oe){var ge=V.exports;return Ct=ge,y=Ct.m,F(),Ct.q,ie(Ct.n),Be(),ge}Te();function z(V){D(V.instance)}if(c.instantiateWasm)try{return c.instantiateWasm(C,D)}catch(V){s(`Module.instantiateWasm callback failed with error: ${V}`),W(V)}return te(d,Qe,C,z).catch(W),{}}var Q,we;function he(C){this.name="ExitStatus",this.message=`Program terminated with exit(${C})`,this.status=C}var ae=C=>{for(;C.length>0;)C.shift()(c)},Se=C=>(m[hr()>>2]=C,C),pe={isAbs:C=>C.charAt(0)==="/",splitPath:C=>{var D=/^(\/?|)([\s\S]*?)((?:\.{1,2}|[^\/]+?|)(\.[^.\/]*|))(?:[\/]*)$/;return D.exec(C).slice(1)},normalizeArray:(C,D)=>{for(var z=0,V=C.length-1;V>=0;V--){var oe=C[V];oe==="."?C.splice(V,1):oe===".."?(C.splice(V,1),z++):z&&(C.splice(V,1),z--)}if(D)for(;z;z--)C.unshift("..");return C},normalize:C=>{var D=pe.isAbs(C),z=C.substr(-1)==="/";return C=pe.normalizeArray(C.split("/").filter(V=>!!V),!D).join("/"),!C&&!D&&(C="."),C&&z&&(C+="/"),(D?"/":"")+C},dirname:C=>{var D=pe.splitPath(C),z=D[0],V=D[1];return!z&&!V?".":(V&&(V=V.substr(0,V.length-1)),z+V)},basename:C=>{if(C==="/")return"/";C=pe.normalize(C),C=C.replace(/\/$/,"");var D=C.lastIndexOf("/");return D===-1?C:C.substr(D+1)},join:function(){var C=Array.prototype.slice.call(arguments);return pe.normalize(C.join("/"))},join2:(C,D)=>pe.normalize(C+"/"+D)},ke=()=>{if(typeof crypto=="object"&&typeof crypto.getRandomValues=="function")return C=>crypto.getRandomValues(C);Me("initRandomDevice")},Pe=C=>(Pe=ke())(C),Ue={resolve:function(){for(var C="",D=!1,z=arguments.length-1;z>=-1&&!D;z--){var V=z>=0?arguments[z]:_.cwd();if(typeof V!="string")throw new TypeError("Arguments to path.resolve must be strings");if(!V)return"";C=V+"/"+C,D=pe.isAbs(V)}return C=pe.normalizeArray(C.split("/").filter(oe=>!!oe),!D).join("/"),(D?"/":"")+C||"."},relative:(C,D)=>{C=Ue.resolve(C).substr(1),D=Ue.resolve(D).substr(1);function z(it){for(var gt=0;gt<it.length&&it[gt]==="";gt++);for(var mt=it.length-1;mt>=0&&it[mt]==="";mt--);return gt>mt?[]:it.slice(gt,mt-gt+1)}for(var V=z(C.split("/")),oe=z(D.split("/")),ge=Math.min(V.length,oe.length),_e=ge,Ae=0;Ae<ge;Ae++)if(V[Ae]!==oe[Ae]){_e=Ae;break}for(var Ne=[],Ae=_e;Ae<V.length;Ae++)Ne.push("..");return Ne=Ne.concat(oe.slice(_e)),Ne.join("/")}},ze=typeof TextDecoder<"u"?new TextDecoder("utf8"):void 0,Ve=(C,D,z)=>{for(var V=D+z,oe=D;C[oe]&&!(oe>=V);)++oe;if(oe-D>16&&C.buffer&&ze)return ze.decode(C.subarray(D,oe));for(var ge="";D<oe;){var _e=C[D++];if(!(_e&128)){ge+=String.fromCharCode(_e);continue}var Ae=C[D++]&63;if((_e&224)==192){ge+=String.fromCharCode((_e&31)<<6|Ae);continue}var Ne=C[D++]&63;if((_e&240)==224?_e=(_e&15)<<12|Ae<<6|Ne:_e=(_e&7)<<18|Ae<<12|Ne<<6|C[D++]&63,_e<65536)ge+=String.fromCharCode(_e);else{var it=_e-65536;ge+=String.fromCharCode(55296|it>>10,56320|it&1023)}}return ge},xe=[],ot=C=>{for(var D=0,z=0;z<C.length;++z){var V=C.charCodeAt(z);V<=127?D++:V<=2047?D+=2:V>=55296&&V<=57343?(D+=4,++z):D+=3}return D},pt=(C,D,z,V)=>{if(!(V>0))return 0;for(var oe=z,ge=z+V-1,_e=0;_e<C.length;++_e){var Ae=C.charCodeAt(_e);if(Ae>=55296&&Ae<=57343){var Ne=C.charCodeAt(++_e);Ae=65536+((Ae&1023)<<10)|Ne&1023}if(Ae<=127){if(z>=ge)break;D[z++]=Ae}else if(Ae<=2047){if(z+1>=ge)break;D[z++]=192|Ae>>6,D[z++]=128|Ae&63}else if(Ae<=65535){if(z+2>=ge)break;D[z++]=224|Ae>>12,D[z++]=128|Ae>>6&63,D[z++]=128|Ae&63}else{if(z+3>=ge)break;D[z++]=240|Ae>>18,D[z++]=128|Ae>>12&63,D[z++]=128|Ae>>6&63,D[z++]=128|Ae&63}}return D[z]=0,z-oe};function ne(C,D,z){var V=z>0?z:ot(C)+1,oe=new Array(V),ge=pt(C,oe,0,oe.length);return D&&(oe.length=ge),oe}var Re=()=>{if(!xe.length){var C=null;if(typeof window<"u"&&typeof window.prompt=="function"?(C=window.prompt("Input: "),C!==null&&(C+=`
`)):typeof readline=="function"&&(C=readline(),C!==null&&(C+=`
`)),!C)return null;xe=ne(C,!0)}return xe.shift()},We={ttys:[],init(){},shutdown(){},register(C,D){We.ttys[C]={input:[],output:[],ops:D},_.registerDevice(C,We.stream_ops)},stream_ops:{open(C){var D=We.ttys[C.node.rdev];if(!D)throw new _.ErrnoError(43);C.tty=D,C.seekable=!1},close(C){C.tty.ops.fsync(C.tty)},fsync(C){C.tty.ops.fsync(C.tty)},read(C,D,z,V,oe){if(!C.tty||!C.tty.ops.get_char)throw new _.ErrnoError(60);for(var ge=0,_e=0;_e<V;_e++){var Ae;try{Ae=C.tty.ops.get_char(C.tty)}catch{throw new _.ErrnoError(29)}if(Ae===void 0&&ge===0)throw new _.ErrnoError(6);if(Ae==null)break;ge++,D[z+_e]=Ae}return ge&&(C.node.timestamp=Date.now()),ge},write(C,D,z,V,oe){if(!C.tty||!C.tty.ops.put_char)throw new _.ErrnoError(60);try{for(var ge=0;ge<V;ge++)C.tty.ops.put_char(C.tty,D[z+ge])}catch{throw new _.ErrnoError(29)}return V&&(C.node.timestamp=Date.now()),ge}},default_tty_ops:{get_char(C){return Re()},put_char(C,D){D===null||D===10?(i(Ve(C.output,0)),C.output=[]):D!=0&&C.output.push(D)},fsync(C){C.output&&C.output.length>0&&(i(Ve(C.output,0)),C.output=[])},ioctl_tcgets(C){return{c_iflag:25856,c_oflag:5,c_cflag:191,c_lflag:35387,c_cc:[3,28,127,21,4,0,1,0,17,19,26,0,18,15,23,22,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0]}},ioctl_tcsets(C,D,z){return 0},ioctl_tiocgwinsz(C){return[24,80]}},default_tty1_ops:{put_char(C,D){D===null||D===10?(s(Ve(C.output,0)),C.output=[]):D!=0&&C.output.push(D)},fsync(C){C.output&&C.output.length>0&&(s(Ve(C.output,0)),C.output=[])}}},nt=C=>{Me()},Le={ops_table:null,mount(C){return Le.createNode(null,"/",16895,0)},createNode(C,D,z,V){if(_.isBlkdev(z)||_.isFIFO(z))throw new _.ErrnoError(63);Le.ops_table||(Le.ops_table={dir:{node:{getattr:Le.node_ops.getattr,setattr:Le.node_ops.setattr,lookup:Le.node_ops.lookup,mknod:Le.node_ops.mknod,rename:Le.node_ops.rename,unlink:Le.node_ops.unlink,rmdir:Le.node_ops.rmdir,readdir:Le.node_ops.readdir,symlink:Le.node_ops.symlink},stream:{llseek:Le.stream_ops.llseek}},file:{node:{getattr:Le.node_ops.getattr,setattr:Le.node_ops.setattr},stream:{llseek:Le.stream_ops.llseek,read:Le.stream_ops.read,write:Le.stream_ops.write,allocate:Le.stream_ops.allocate,mmap:Le.stream_ops.mmap,msync:Le.stream_ops.msync}},link:{node:{getattr:Le.node_ops.getattr,setattr:Le.node_ops.setattr,readlink:Le.node_ops.readlink},stream:{}},chrdev:{node:{getattr:Le.node_ops.getattr,setattr:Le.node_ops.setattr},stream:_.chrdev_stream_ops}});var oe=_.createNode(C,D,z,V);return _.isDir(oe.mode)?(oe.node_ops=Le.ops_table.dir.node,oe.stream_ops=Le.ops_table.dir.stream,oe.contents={}):_.isFile(oe.mode)?(oe.node_ops=Le.ops_table.file.node,oe.stream_ops=Le.ops_table.file.stream,oe.usedBytes=0,oe.contents=null):_.isLink(oe.mode)?(oe.node_ops=Le.ops_table.link.node,oe.stream_ops=Le.ops_table.link.stream):_.isChrdev(oe.mode)&&(oe.node_ops=Le.ops_table.chrdev.node,oe.stream_ops=Le.ops_table.chrdev.stream),oe.timestamp=Date.now(),C&&(C.contents[D]=oe,C.timestamp=oe.timestamp),oe},getFileDataAsTypedArray(C){return C.contents?C.contents.subarray?C.contents.subarray(0,C.usedBytes):new Uint8Array(C.contents):new Uint8Array(0)},expandFileStorage(C,D){var z=C.contents?C.contents.length:0;if(!(z>=D)){var V=1024*1024;D=Math.max(D,z*(z<V?2:1.125)>>>0),z!=0&&(D=Math.max(D,256));var oe=C.contents;C.contents=new Uint8Array(D),C.usedBytes>0&&C.contents.set(oe.subarray(0,C.usedBytes),0)}},resizeFileStorage(C,D){if(C.usedBytes!=D)if(D==0)C.contents=null,C.usedBytes=0;else{var z=C.contents;C.contents=new Uint8Array(D),z&&C.contents.set(z.subarray(0,Math.min(D,C.usedBytes))),C.usedBytes=D}},node_ops:{getattr(C){var D={};return D.dev=_.isChrdev(C.mode)?C.id:1,D.ino=C.id,D.mode=C.mode,D.nlink=1,D.uid=0,D.gid=0,D.rdev=C.rdev,_.isDir(C.mode)?D.size=4096:_.isFile(C.mode)?D.size=C.usedBytes:_.isLink(C.mode)?D.size=C.link.length:D.size=0,D.atime=new Date(C.timestamp),D.mtime=new Date(C.timestamp),D.ctime=new Date(C.timestamp),D.blksize=4096,D.blocks=Math.ceil(D.size/D.blksize),D},setattr(C,D){D.mode!==void 0&&(C.mode=D.mode),D.timestamp!==void 0&&(C.timestamp=D.timestamp),D.size!==void 0&&Le.resizeFileStorage(C,D.size)},lookup(C,D){throw _.genericErrors[44]},mknod(C,D,z,V){return Le.createNode(C,D,z,V)},rename(C,D,z){if(_.isDir(C.mode)){var V;try{V=_.lookupNode(D,z)}catch{}if(V)for(var oe in V.contents)throw new _.ErrnoError(55)}delete C.parent.contents[C.name],C.parent.timestamp=Date.now(),C.name=z,D.contents[z]=C,D.timestamp=C.parent.timestamp,C.parent=D},unlink(C,D){delete C.contents[D],C.timestamp=Date.now()},rmdir(C,D){var z=_.lookupNode(C,D);for(var V in z.contents)throw new _.ErrnoError(55);delete C.contents[D],C.timestamp=Date.now()},readdir(C){var D=[".",".."];for(var z in C.contents)C.contents.hasOwnProperty(z)&&D.push(z);return D},symlink(C,D,z){var V=Le.createNode(C,D,41471,0);return V.link=z,V},readlink(C){if(!_.isLink(C.mode))throw new _.ErrnoError(28);return C.link}},stream_ops:{read(C,D,z,V,oe){var ge=C.node.contents;if(oe>=C.node.usedBytes)return 0;var _e=Math.min(C.node.usedBytes-oe,V);if(_e>8&&ge.subarray)D.set(ge.subarray(oe,oe+_e),z);else for(var Ae=0;Ae<_e;Ae++)D[z+Ae]=ge[oe+Ae];return _e},write(C,D,z,V,oe,ge){if(D.buffer===f.buffer&&(ge=!1),!V)return 0;var _e=C.node;if(_e.timestamp=Date.now(),D.subarray&&(!_e.contents||_e.contents.subarray)){if(ge)return _e.contents=D.subarray(z,z+V),_e.usedBytes=V,V;if(_e.usedBytes===0&&oe===0)return _e.contents=D.slice(z,z+V),_e.usedBytes=V,V;if(oe+V<=_e.usedBytes)return _e.contents.set(D.subarray(z,z+V),oe),V}if(Le.expandFileStorage(_e,oe+V),_e.contents.subarray&&D.subarray)_e.contents.set(D.subarray(z,z+V),oe);else for(var Ae=0;Ae<V;Ae++)_e.contents[oe+Ae]=D[z+Ae];return _e.usedBytes=Math.max(_e.usedBytes,oe+V),V},llseek(C,D,z){var V=D;if(z===1?V+=C.position:z===2&&_.isFile(C.node.mode)&&(V+=C.node.usedBytes),V<0)throw new _.ErrnoError(28);return V},allocate(C,D,z){Le.expandFileStorage(C.node,D+z),C.node.usedBytes=Math.max(C.node.usedBytes,D+z)},mmap(C,D,z,V,oe){if(!_.isFile(C.node.mode))throw new _.ErrnoError(43);var ge,_e,Ae=C.node.contents;if(!(oe&2)&&Ae.buffer===f.buffer)_e=!1,ge=Ae.byteOffset;else{if((z>0||z+D<Ae.length)&&(Ae.subarray?Ae=Ae.subarray(z,z+D):Ae=Array.prototype.slice.call(Ae,z,z+D)),_e=!0,ge=nt(),!ge)throw new _.ErrnoError(48);f.set(Ae,ge)}return{ptr:ge,allocated:_e}},msync(C,D,z,V,oe){return Le.stream_ops.write(C,D,0,V,z,!1),0}}},wt=(C,D,z,V)=>{var oe=V?"":`al ${C}`;n(C,ge=>{o(ge,`Loading data file "${C}" failed (no arrayBuffer).`),D(new Uint8Array(ge)),oe&&Be()},ge=>{if(z)z();else throw`Loading data file "${C}" failed.`}),oe&&Te()},Ge=c.preloadPlugins||[],Ft=(C,D,z,V)=>{typeof Browser<"u"&&Browser.init();var oe=!1;return Ge.forEach(ge=>{oe||ge.canHandle(D)&&(ge.handle(C,D,z,V),oe=!0)}),oe},kt=(C,D,z,V,oe,ge,_e,Ae,Ne,it)=>{var gt=D?Ue.resolve(pe.join2(C,D)):C;function mt(st){function $(x){it&&it(),Ae||_.createDataFile(C,D,x,V,oe,Ne),ge&&ge(),Be()}Ft(st,gt,$,()=>{_e&&_e(),Be()})||$(st)}Te(),typeof z=="string"?wt(z,st=>mt(st),_e):mt(z)},Mt=C=>{var D={r:0,"r+":2,w:577,"w+":578,a:1089,"a+":1090},z=D[C];if(typeof z>"u")throw new Error(`Unknown file open mode: ${C}`);return z},Tt=(C,D)=>{var z=0;return C&&(z|=365),D&&(z|=146),z},_={root:null,mounts:[],devices:{},streams:[],nextInode:1,nameTable:null,currentPath:"/",initialized:!1,ignorePermissions:!0,ErrnoError:null,genericErrors:{},filesystems:null,syncFSRequests:0,lookupPath(C,D={}){if(C=Ue.resolve(C),!C)return{path:"",node:null};var z={follow_mount:!0,recurse_count:0};if(D=Object.assign(z,D),D.recurse_count>8)throw new _.ErrnoError(32);for(var V=C.split("/").filter(mt=>!!mt),oe=_.root,ge="/",_e=0;_e<V.length;_e++){var Ae=_e===V.length-1;if(Ae&&D.parent)break;if(oe=_.lookupNode(oe,V[_e]),ge=pe.join2(ge,V[_e]),_.isMountpoint(oe)&&(!Ae||Ae&&D.follow_mount)&&(oe=oe.mounted.root),!Ae||D.follow)for(var Ne=0;_.isLink(oe.mode);){var it=_.readlink(ge);ge=Ue.resolve(pe.dirname(ge),it);var gt=_.lookupPath(ge,{recurse_count:D.recurse_count+1});if(oe=gt.node,Ne++>40)throw new _.ErrnoError(32)}}return{path:ge,node:oe}},getPath(C){for(var D;;){if(_.isRoot(C)){var z=C.mount.mountpoint;return D?z[z.length-1]!=="/"?`${z}/${D}`:z+D:z}D=D?`${C.name}/${D}`:C.name,C=C.parent}},hashName(C,D){for(var z=0,V=0;V<D.length;V++)z=(z<<5)-z+D.charCodeAt(V)|0;return(C+z>>>0)%_.nameTable.length},hashAddNode(C){var D=_.hashName(C.parent.id,C.name);C.name_next=_.nameTable[D],_.nameTable[D]=C},hashRemoveNode(C){var D=_.hashName(C.parent.id,C.name);if(_.nameTable[D]===C)_.nameTable[D]=C.name_next;else for(var z=_.nameTable[D];z;){if(z.name_next===C){z.name_next=C.name_next;break}z=z.name_next}},lookupNode(C,D){var z=_.mayLookup(C);if(z)throw new _.ErrnoError(z,C);for(var V=_.hashName(C.id,D),oe=_.nameTable[V];oe;oe=oe.name_next){var ge=oe.name;if(oe.parent.id===C.id&&ge===D)return oe}return _.lookup(C,D)},createNode(C,D,z,V){var oe=new _.FSNode(C,D,z,V);return _.hashAddNode(oe),oe},destroyNode(C){_.hashRemoveNode(C)},isRoot(C){return C===C.parent},isMountpoint(C){return!!C.mounted},isFile(C){return(C&61440)===32768},isDir(C){return(C&61440)===16384},isLink(C){return(C&61440)===40960},isChrdev(C){return(C&61440)===8192},isBlkdev(C){return(C&61440)===24576},isFIFO(C){return(C&61440)===4096},isSocket(C){return(C&49152)===49152},flagsToPermissionString(C){var D=["r","w","rw"][C&3];return C&512&&(D+="w"),D},nodePermissions(C,D){return _.ignorePermissions?0:D.includes("r")&&!(C.mode&292)||D.includes("w")&&!(C.mode&146)||D.includes("x")&&!(C.mode&73)?2:0},mayLookup(C){var D=_.nodePermissions(C,"x");return D||(C.node_ops.lookup?0:2)},mayCreate(C,D){try{var z=_.lookupNode(C,D);return 20}catch{}return _.nodePermissions(C,"wx")},mayDelete(C,D,z){var V;try{V=_.lookupNode(C,D)}catch(ge){return ge.errno}var oe=_.nodePermissions(C,"wx");if(oe)return oe;if(z){if(!_.isDir(V.mode))return 54;if(_.isRoot(V)||_.getPath(V)===_.cwd())return 10}else if(_.isDir(V.mode))return 31;return 0},mayOpen(C,D){return C?_.isLink(C.mode)?32:_.isDir(C.mode)&&(_.flagsToPermissionString(D)!=="r"||D&512)?31:_.nodePermissions(C,_.flagsToPermissionString(D)):44},MAX_OPEN_FDS:4096,nextfd(){for(var C=0;C<=_.MAX_OPEN_FDS;C++)if(!_.streams[C])return C;throw new _.ErrnoError(33)},getStreamChecked(C){var D=_.getStream(C);if(!D)throw new _.ErrnoError(8);return D},getStream:C=>_.streams[C],createStream(C,D=-1){return _.FSStream||(_.FSStream=function(){this.shared={}},_.FSStream.prototype={},Object.defineProperties(_.FSStream.prototype,{object:{get(){return this.node},set(z){this.node=z}},isRead:{get(){return(this.flags&2097155)!==1}},isWrite:{get(){return(this.flags&2097155)!==0}},isAppend:{get(){return this.flags&1024}},flags:{get(){return this.shared.flags},set(z){this.shared.flags=z}},position:{get(){return this.shared.position},set(z){this.shared.position=z}}})),C=Object.assign(new _.FSStream,C),D==-1&&(D=_.nextfd()),C.fd=D,_.streams[D]=C,C},closeStream(C){_.streams[C]=null},chrdev_stream_ops:{open(C){var D=_.getDevice(C.node.rdev);C.stream_ops=D.stream_ops,C.stream_ops.open&&C.stream_ops.open(C)},llseek(){throw new _.ErrnoError(70)}},major:C=>C>>8,minor:C=>C&255,makedev:(C,D)=>C<<8|D,registerDevice(C,D){_.devices[C]={stream_ops:D}},getDevice:C=>_.devices[C],getMounts(C){for(var D=[],z=[C];z.length;){var V=z.pop();D.push(V),z.push.apply(z,V.mounts)}return D},syncfs(C,D){typeof C=="function"&&(D=C,C=!1),_.syncFSRequests++,_.syncFSRequests>1&&s(`warning: ${_.syncFSRequests} FS.syncfs operations in flight at once, probably just doing extra work`);var z=_.getMounts(_.root.mount),V=0;function oe(_e){return _.syncFSRequests--,D(_e)}function ge(_e){if(_e)return ge.errored?void 0:(ge.errored=!0,oe(_e));++V>=z.length&&oe(null)}z.forEach(_e=>{if(!_e.type.syncfs)return ge(null);_e.type.syncfs(_e,C,ge)})},mount(C,D,z){var V=z==="/",oe=!z,ge;if(V&&_.root)throw new _.ErrnoError(10);if(!V&&!oe){var _e=_.lookupPath(z,{follow_mount:!1});if(z=_e.path,ge=_e.node,_.isMountpoint(ge))throw new _.ErrnoError(10);if(!_.isDir(ge.mode))throw new _.ErrnoError(54)}var Ae={type:C,opts:D,mountpoint:z,mounts:[]},Ne=C.mount(Ae);return Ne.mount=Ae,Ae.root=Ne,V?_.root=Ne:ge&&(ge.mounted=Ae,ge.mount&&ge.mount.mounts.push(Ae)),Ne},unmount(C){var D=_.lookupPath(C,{follow_mount:!1});if(!_.isMountpoint(D.node))throw new _.ErrnoError(28);var z=D.node,V=z.mounted,oe=_.getMounts(V);Object.keys(_.nameTable).forEach(_e=>{for(var Ae=_.nameTable[_e];Ae;){var Ne=Ae.name_next;oe.includes(Ae.mount)&&_.destroyNode(Ae),Ae=Ne}}),z.mounted=null;var ge=z.mount.mounts.indexOf(V);z.mount.mounts.splice(ge,1)},lookup(C,D){return C.node_ops.lookup(C,D)},mknod(C,D,z){var V=_.lookupPath(C,{parent:!0}),oe=V.node,ge=pe.basename(C);if(!ge||ge==="."||ge==="..")throw new _.ErrnoError(28);var _e=_.mayCreate(oe,ge);if(_e)throw new _.ErrnoError(_e);if(!oe.node_ops.mknod)throw new _.ErrnoError(63);return oe.node_ops.mknod(oe,ge,D,z)},create(C,D){return D=D!==void 0?D:438,D&=4095,D|=32768,_.mknod(C,D,0)},mkdir(C,D){return D=D!==void 0?D:511,D&=1023,D|=16384,_.mknod(C,D,0)},mkdirTree(C,D){for(var z=C.split("/"),V="",oe=0;oe<z.length;++oe)if(z[oe]){V+="/"+z[oe];try{_.mkdir(V,D)}catch(ge){if(ge.errno!=20)throw ge}}},mkdev(C,D,z){return typeof z>"u"&&(z=D,D=438),D|=8192,_.mknod(C,D,z)},symlink(C,D){if(!Ue.resolve(C))throw new _.ErrnoError(44);var z=_.lookupPath(D,{parent:!0}),V=z.node;if(!V)throw new _.ErrnoError(44);var oe=pe.basename(D),ge=_.mayCreate(V,oe);if(ge)throw new _.ErrnoError(ge);if(!V.node_ops.symlink)throw new _.ErrnoError(63);return V.node_ops.symlink(V,oe,C)},rename(C,D){var z=pe.dirname(C),V=pe.dirname(D),oe=pe.basename(C),ge=pe.basename(D),_e,Ae,Ne;if(_e=_.lookupPath(C,{parent:!0}),Ae=_e.node,_e=_.lookupPath(D,{parent:!0}),Ne=_e.node,!Ae||!Ne)throw new _.ErrnoError(44);if(Ae.mount!==Ne.mount)throw new _.ErrnoError(75);var it=_.lookupNode(Ae,oe),gt=Ue.relative(C,V);if(gt.charAt(0)!==".")throw new _.ErrnoError(28);if(gt=Ue.relative(D,z),gt.charAt(0)!==".")throw new _.ErrnoError(55);var mt;try{mt=_.lookupNode(Ne,ge)}catch{}if(it!==mt){var st=_.isDir(it.mode),$=_.mayDelete(Ae,oe,st);if($)throw new _.ErrnoError($);if($=mt?_.mayDelete(Ne,ge,st):_.mayCreate(Ne,ge),$)throw new _.ErrnoError($);if(!Ae.node_ops.rename)throw new _.ErrnoError(63);if(_.isMountpoint(it)||mt&&_.isMountpoint(mt))throw new _.ErrnoError(10);if(Ne!==Ae&&($=_.nodePermissions(Ae,"w"),$))throw new _.ErrnoError($);_.hashRemoveNode(it);try{Ae.node_ops.rename(it,Ne,ge)}catch(x){throw x}finally{_.hashAddNode(it)}}},rmdir(C){var D=_.lookupPath(C,{parent:!0}),z=D.node,V=pe.basename(C),oe=_.lookupNode(z,V),ge=_.mayDelete(z,V,!0);if(ge)throw new _.ErrnoError(ge);if(!z.node_ops.rmdir)throw new _.ErrnoError(63);if(_.isMountpoint(oe))throw new _.ErrnoError(10);z.node_ops.rmdir(z,V),_.destroyNode(oe)},readdir(C){var D=_.lookupPath(C,{follow:!0}),z=D.node;if(!z.node_ops.readdir)throw new _.ErrnoError(54);return z.node_ops.readdir(z)},unlink(C){var D=_.lookupPath(C,{parent:!0}),z=D.node;if(!z)throw new _.ErrnoError(44);var V=pe.basename(C),oe=_.lookupNode(z,V),ge=_.mayDelete(z,V,!1);if(ge)throw new _.ErrnoError(ge);if(!z.node_ops.unlink)throw new _.ErrnoError(63);if(_.isMountpoint(oe))throw new _.ErrnoError(10);z.node_ops.unlink(z,V),_.destroyNode(oe)},readlink(C){var D=_.lookupPath(C),z=D.node;if(!z)throw new _.ErrnoError(44);if(!z.node_ops.readlink)throw new _.ErrnoError(28);return Ue.resolve(_.getPath(z.parent),z.node_ops.readlink(z))},stat(C,D){var z=_.lookupPath(C,{follow:!D}),V=z.node;if(!V)throw new _.ErrnoError(44);if(!V.node_ops.getattr)throw new _.ErrnoError(63);return V.node_ops.getattr(V)},lstat(C){return _.stat(C,!0)},chmod(C,D,z){var V;if(typeof C=="string"){var oe=_.lookupPath(C,{follow:!z});V=oe.node}else V=C;if(!V.node_ops.setattr)throw new _.ErrnoError(63);V.node_ops.setattr(V,{mode:D&4095|V.mode&-4096,timestamp:Date.now()})},lchmod(C,D){_.chmod(C,D,!0)},fchmod(C,D){var z=_.getStreamChecked(C);_.chmod(z.node,D)},chown(C,D,z,V){var oe;if(typeof C=="string"){var ge=_.lookupPath(C,{follow:!V});oe=ge.node}else oe=C;if(!oe.node_ops.setattr)throw new _.ErrnoError(63);oe.node_ops.setattr(oe,{timestamp:Date.now()})},lchown(C,D,z){_.chown(C,D,z,!0)},fchown(C,D,z){var V=_.getStreamChecked(C);_.chown(V.node,D,z)},truncate(C,D){if(D<0)throw new _.ErrnoError(28);var z;if(typeof C=="string"){var V=_.lookupPath(C,{follow:!0});z=V.node}else z=C;if(!z.node_ops.setattr)throw new _.ErrnoError(63);if(_.isDir(z.mode))throw new _.ErrnoError(31);if(!_.isFile(z.mode))throw new _.ErrnoError(28);var oe=_.nodePermissions(z,"w");if(oe)throw new _.ErrnoError(oe);z.node_ops.setattr(z,{size:D,timestamp:Date.now()})},ftruncate(C,D){var z=_.getStreamChecked(C);if(!(z.flags&2097155))throw new _.ErrnoError(28);_.truncate(z.node,D)},utime(C,D,z){var V=_.lookupPath(C,{follow:!0}),oe=V.node;oe.node_ops.setattr(oe,{timestamp:Math.max(D,z)})},open(C,D,z){if(C==="")throw new _.ErrnoError(44);D=typeof D=="string"?Mt(D):D,z=typeof z>"u"?438:z,D&64?z=z&4095|32768:z=0;var V;if(typeof C=="object")V=C;else{C=pe.normalize(C);try{var oe=_.lookupPath(C,{follow:!(D&131072)});V=oe.node}catch{}}var ge=!1;if(D&64)if(V){if(D&128)throw new _.ErrnoError(20)}else V=_.mknod(C,z,0),ge=!0;if(!V)throw new _.ErrnoError(44);if(_.isChrdev(V.mode)&&(D&=-513),D&65536&&!_.isDir(V.mode))throw new _.ErrnoError(54);if(!ge){var _e=_.mayOpen(V,D);if(_e)throw new _.ErrnoError(_e)}D&512&&!ge&&_.truncate(V,0),D&=-131713;var Ae=_.createStream({node:V,path:_.getPath(V),flags:D,seekable:!0,position:0,stream_ops:V.stream_ops,ungotten:[],error:!1});return Ae.stream_ops.open&&Ae.stream_ops.open(Ae),c.logReadFiles&&!(D&1)&&(_.readFiles||(_.readFiles={}),C in _.readFiles||(_.readFiles[C]=1)),Ae},close(C){if(_.isClosed(C))throw new _.ErrnoError(8);C.getdents&&(C.getdents=null);try{C.stream_ops.close&&C.stream_ops.close(C)}catch(D){throw D}finally{_.closeStream(C.fd)}C.fd=null},isClosed(C){return C.fd===null},llseek(C,D,z){if(_.isClosed(C))throw new _.ErrnoError(8);if(!C.seekable||!C.stream_ops.llseek)throw new _.ErrnoError(70);if(z!=0&&z!=1&&z!=2)throw new _.ErrnoError(28);return C.position=C.stream_ops.llseek(C,D,z),C.ungotten=[],C.position},read(C,D,z,V,oe){if(V<0||oe<0)throw new _.ErrnoError(28);if(_.isClosed(C))throw new _.ErrnoError(8);if((C.flags&2097155)===1)throw new _.ErrnoError(8);if(_.isDir(C.node.mode))throw new _.ErrnoError(31);if(!C.stream_ops.read)throw new _.ErrnoError(28);var ge=typeof oe<"u";if(!ge)oe=C.position;else if(!C.seekable)throw new _.ErrnoError(70);var _e=C.stream_ops.read(C,D,z,V,oe);return ge||(C.position+=_e),_e},write(C,D,z,V,oe,ge){if(V<0||oe<0)throw new _.ErrnoError(28);if(_.isClosed(C))throw new _.ErrnoError(8);if(!(C.flags&2097155))throw new _.ErrnoError(8);if(_.isDir(C.node.mode))throw new _.ErrnoError(31);if(!C.stream_ops.write)throw new _.ErrnoError(28);C.seekable&&C.flags&1024&&_.llseek(C,0,2);var _e=typeof oe<"u";if(!_e)oe=C.position;else if(!C.seekable)throw new _.ErrnoError(70);var Ae=C.stream_ops.write(C,D,z,V,oe,ge);return _e||(C.position+=Ae),Ae},allocate(C,D,z){if(_.isClosed(C))throw new _.ErrnoError(8);if(D<0||z<=0)throw new _.ErrnoError(28);if(!(C.flags&2097155))throw new _.ErrnoError(8);if(!_.isFile(C.node.mode)&&!_.isDir(C.node.mode))throw new _.ErrnoError(43);if(!C.stream_ops.allocate)throw new _.ErrnoError(138);C.stream_ops.allocate(C,D,z)},mmap(C,D,z,V,oe){if(V&2&&!(oe&2)&&(C.flags&2097155)!==2)throw new _.ErrnoError(2);if((C.flags&2097155)===1)throw new _.ErrnoError(2);if(!C.stream_ops.mmap)throw new _.ErrnoError(43);return C.stream_ops.mmap(C,D,z,V,oe)},msync(C,D,z,V,oe){return C.stream_ops.msync?C.stream_ops.msync(C,D,z,V,oe):0},munmap:C=>0,ioctl(C,D,z){if(!C.stream_ops.ioctl)throw new _.ErrnoError(59);return C.stream_ops.ioctl(C,D,z)},readFile(C,D={}){if(D.flags=D.flags||0,D.encoding=D.encoding||"binary",D.encoding!=="utf8"&&D.encoding!=="binary")throw new Error(`Invalid encoding type "${D.encoding}"`);var z,V=_.open(C,D.flags),oe=_.stat(C),ge=oe.size,_e=new Uint8Array(ge);return _.read(V,_e,0,ge,0),D.encoding==="utf8"?z=Ve(_e,0):D.encoding==="binary"&&(z=_e),_.close(V),z},writeFile(C,D,z={}){z.flags=z.flags||577;var V=_.open(C,z.flags,z.mode);if(typeof D=="string"){var oe=new Uint8Array(ot(D)+1),ge=pt(D,oe,0,oe.length);_.write(V,oe,0,ge,void 0,z.canOwn)}else if(ArrayBuffer.isView(D))_.write(V,D,0,D.byteLength,void 0,z.canOwn);else throw new Error("Unsupported data type");_.close(V)},cwd:()=>_.currentPath,chdir(C){var D=_.lookupPath(C,{follow:!0});if(D.node===null)throw new _.ErrnoError(44);if(!_.isDir(D.node.mode))throw new _.ErrnoError(54);var z=_.nodePermissions(D.node,"x");if(z)throw new _.ErrnoError(z);_.currentPath=D.path},createDefaultDirectories(){_.mkdir("/tmp"),_.mkdir("/home"),_.mkdir("/home/web_user")},createDefaultDevices(){_.mkdir("/dev"),_.registerDevice(_.makedev(1,3),{read:()=>0,write:(V,oe,ge,_e,Ae)=>_e}),_.mkdev("/dev/null",_.makedev(1,3)),We.register(_.makedev(5,0),We.default_tty_ops),We.register(_.makedev(6,0),We.default_tty1_ops),_.mkdev("/dev/tty",_.makedev(5,0)),_.mkdev("/dev/tty1",_.makedev(6,0));var C=new Uint8Array(1024),D=0,z=()=>(D===0&&(D=Pe(C).byteLength),C[--D]);_.createDevice("/dev","random",z),_.createDevice("/dev","urandom",z),_.mkdir("/dev/shm"),_.mkdir("/dev/shm/tmp")},createSpecialDirectories(){_.mkdir("/proc");var C=_.mkdir("/proc/self");_.mkdir("/proc/self/fd"),_.mount({mount(){var D=_.createNode(C,"fd",16895,73);return D.node_ops={lookup(z,V){var oe=+V,ge=_.getStreamChecked(oe),_e={parent:null,mount:{mountpoint:"fake"},node_ops:{readlink:()=>ge.path}};return _e.parent=_e,_e}},D}},{},"/proc/self/fd")},createStandardStreams(){c.stdin?_.createDevice("/dev","stdin",c.stdin):_.symlink("/dev/tty","/dev/stdin"),c.stdout?_.createDevice("/dev","stdout",null,c.stdout):_.symlink("/dev/tty","/dev/stdout"),c.stderr?_.createDevice("/dev","stderr",null,c.stderr):_.symlink("/dev/tty1","/dev/stderr"),_.open("/dev/stdin",0),_.open("/dev/stdout",1),_.open("/dev/stderr",1)},ensureErrnoError(){_.ErrnoError||(_.ErrnoError=function(D,z){this.name="ErrnoError",this.node=z,this.setErrno=function(V){this.errno=V},this.setErrno(D),this.message="FS error"},_.ErrnoError.prototype=new Error,_.ErrnoError.prototype.constructor=_.ErrnoError,[44].forEach(C=>{_.genericErrors[C]=new _.ErrnoError(C),_.genericErrors[C].stack="<generic error, no stack>"}))},staticInit(){_.ensureErrnoError(),_.nameTable=new Array(4096),_.mount(Le,{},"/"),_.createDefaultDirectories(),_.createDefaultDevices(),_.createSpecialDirectories(),_.filesystems={MEMFS:Le}},init(C,D,z){_.init.initialized=!0,_.ensureErrnoError(),c.stdin=C||c.stdin,c.stdout=D||c.stdout,c.stderr=z||c.stderr,_.createStandardStreams()},quit(){_.init.initialized=!1;for(var C=0;C<_.streams.length;C++){var D=_.streams[C];D&&_.close(D)}},findObject(C,D){var z=_.analyzePath(C,D);return z.exists?z.object:null},analyzePath(C,D){try{var z=_.lookupPath(C,{follow:!D});C=z.path}catch{}var V={isRoot:!1,exists:!1,error:0,name:null,path:null,object:null,parentExists:!1,parentPath:null,parentObject:null};try{var z=_.lookupPath(C,{parent:!0});V.parentExists=!0,V.parentPath=z.path,V.parentObject=z.node,V.name=pe.basename(C),z=_.lookupPath(C,{follow:!D}),V.exists=!0,V.path=z.path,V.object=z.node,V.name=z.node.name,V.isRoot=z.path==="/"}catch(oe){V.error=oe.errno}return V},createPath(C,D,z,V){C=typeof C=="string"?C:_.getPath(C);for(var oe=D.split("/").reverse();oe.length;){var ge=oe.pop();if(ge){var _e=pe.join2(C,ge);try{_.mkdir(_e)}catch{}C=_e}}return _e},createFile(C,D,z,V,oe){var ge=pe.join2(typeof C=="string"?C:_.getPath(C),D),_e=Tt(V,oe);return _.create(ge,_e)},createDataFile(C,D,z,V,oe,ge){var _e=D;C&&(C=typeof C=="string"?C:_.getPath(C),_e=D?pe.join2(C,D):C);var Ae=Tt(V,oe),Ne=_.create(_e,Ae);if(z){if(typeof z=="string"){for(var it=new Array(z.length),gt=0,mt=z.length;gt<mt;++gt)it[gt]=z.charCodeAt(gt);z=it}_.chmod(Ne,Ae|146);var st=_.open(Ne,577);_.write(st,z,0,z.length,0,ge),_.close(st),_.chmod(Ne,Ae)}return Ne},createDevice(C,D,z,V){var oe=pe.join2(typeof C=="string"?C:_.getPath(C),D),ge=Tt(!!z,!!V);_.createDevice.major||(_.createDevice.major=64);var _e=_.makedev(_.createDevice.major++,0);return _.registerDevice(_e,{open(Ae){Ae.seekable=!1},close(Ae){V&&V.buffer&&V.buffer.length&&V(10)},read(Ae,Ne,it,gt,mt){for(var st=0,$=0;$<gt;$++){var x;try{x=z()}catch{throw new _.ErrnoError(29)}if(x===void 0&&st===0)throw new _.ErrnoError(6);if(x==null)break;st++,Ne[it+$]=x}return st&&(Ae.node.timestamp=Date.now()),st},write(Ae,Ne,it,gt,mt){for(var st=0;st<gt;st++)try{V(Ne[it+st])}catch{throw new _.ErrnoError(29)}return gt&&(Ae.node.timestamp=Date.now()),st}}),_.mkdev(oe,ge,_e)},forceLoadFile(C){if(C.isDevice||C.isFolder||C.link||C.contents)return!0;if(typeof XMLHttpRequest<"u")throw new Error("Lazy loading should have been performed (contents set) in createLazyFile, but it was not. Lazy loading only works in web workers. Use --embed-file or --preload-file in emcc on the main thread.");if(r)try{C.contents=ne(r(C.url),!0),C.usedBytes=C.contents.length}catch{throw new _.ErrnoError(29)}else throw new Error("Cannot load without read() or XMLHttpRequest.")},createLazyFile(C,D,z,V,oe){function ge(){this.lengthKnown=!1,this.chunks=[]}if(ge.prototype.get=function($){if(!($>this.length-1||$<0)){var x=$%this.chunkSize,N=$/this.chunkSize|0;return this.getter(N)[x]}},ge.prototype.setDataGetter=function($){this.getter=$},ge.prototype.cacheLength=function(){var $=new XMLHttpRequest;if($.open("HEAD",z,!1),$.send(null),!($.status>=200&&$.status<300||$.status===304))throw new Error("Couldn't load "+z+". Status: "+$.status);var x=Number($.getResponseHeader("Content-length")),N,G=(N=$.getResponseHeader("Accept-Ranges"))&&N==="bytes",re=(N=$.getResponseHeader("Content-Encoding"))&&N==="gzip",ce=1024*1024;G||(ce=x);var ve=(Ie,et)=>{if(Ie>et)throw new Error("invalid range ("+Ie+", "+et+") or no bytes requested!");if(et>x-1)throw new Error("only "+x+" bytes available! programmer error!");var Ye=new XMLHttpRequest;if(Ye.open("GET",z,!1),x!==ce&&Ye.setRequestHeader("Range","bytes="+Ie+"-"+et),Ye.responseType="arraybuffer",Ye.overrideMimeType&&Ye.overrideMimeType("text/plain; charset=x-user-defined"),Ye.send(null),!(Ye.status>=200&&Ye.status<300||Ye.status===304))throw new Error("Couldn't load "+z+". Status: "+Ye.status);return Ye.response!==void 0?new Uint8Array(Ye.response||[]):ne(Ye.responseText||"",!0)},$e=this;$e.setDataGetter(Ie=>{var et=Ie*ce,Ye=(Ie+1)*ce-1;if(Ye=Math.min(Ye,x-1),typeof $e.chunks[Ie]>"u"&&($e.chunks[Ie]=ve(et,Ye)),typeof $e.chunks[Ie]>"u")throw new Error("doXHR failed!");return $e.chunks[Ie]}),(re||!x)&&(ce=x=1,x=this.getter(0).length,ce=x,i("LazyFiles on gzip forces download of the whole file when length is accessed")),this._length=x,this._chunkSize=ce,this.lengthKnown=!0},typeof XMLHttpRequest<"u"){throw"Cannot do synchronous binary XHRs outside webworkers in modern browsers. Use --embed-file or --preload-file in emcc";var _e,Ae}else var Ae={isDevice:!1,url:z};var Ne=_.createFile(C,D,Ae,V,oe);Ae.contents?Ne.contents=Ae.contents:Ae.url&&(Ne.contents=null,Ne.url=Ae.url),Object.defineProperties(Ne,{usedBytes:{get:function(){return this.contents.length}}});var it={},gt=Object.keys(Ne.stream_ops);gt.forEach(st=>{var $=Ne.stream_ops[st];it[st]=function(){return _.forceLoadFile(Ne),$.apply(null,arguments)}});function mt(st,$,x,N,G){var re=st.node.contents;if(G>=re.length)return 0;var ce=Math.min(re.length-G,N);if(re.slice)for(var ve=0;ve<ce;ve++)$[x+ve]=re[G+ve];else for(var ve=0;ve<ce;ve++)$[x+ve]=re.get(G+ve);return ce}return it.read=(st,$,x,N,G)=>(_.forceLoadFile(Ne),mt(st,$,x,N,G)),it.mmap=(st,$,x,N,G)=>{_.forceLoadFile(Ne);var re=nt();if(!re)throw new _.ErrnoError(48);return mt(st,f,re,$,x),{ptr:re,allocated:!0}},Ne.stream_ops=it,Ne}},zt=(C,D)=>C?Ve(w,C,D):"",U={DEFAULT_POLLMASK:5,calculateAt(C,D,z){if(pe.isAbs(D))return D;var V;if(C===-100)V=_.cwd();else{var oe=U.getStreamFromFD(C);V=oe.path}if(D.length==0){if(!z)throw new _.ErrnoError(44);return V}return pe.join2(V,D)},doStat(C,D,z){try{var V=C(D)}catch(Ae){if(Ae&&Ae.node&&pe.normalize(D)!==pe.normalize(_.getPath(Ae.node)))return-54;throw Ae}m[z>>2]=V.dev,m[z+4>>2]=V.mode,u[z+8>>2]=V.nlink,m[z+12>>2]=V.uid,m[z+16>>2]=V.gid,m[z+20>>2]=V.rdev,we=[V.size>>>0,(Q=V.size,+Math.abs(Q)>=1?Q>0?+Math.floor(Q/4294967296)>>>0:~~+Math.ceil((Q-+(~~Q>>>0))/4294967296)>>>0:0)],m[z+24>>2]=we[0],m[z+28>>2]=we[1],m[z+32>>2]=4096,m[z+36>>2]=V.blocks;var oe=V.atime.getTime(),ge=V.mtime.getTime(),_e=V.ctime.getTime();return we=[Math.floor(oe/1e3)>>>0,(Q=Math.floor(oe/1e3),+Math.abs(Q)>=1?Q>0?+Math.floor(Q/4294967296)>>>0:~~+Math.ceil((Q-+(~~Q>>>0))/4294967296)>>>0:0)],m[z+40>>2]=we[0],m[z+44>>2]=we[1],u[z+48>>2]=oe%1e3*1e3,we=[Math.floor(ge/1e3)>>>0,(Q=Math.floor(ge/1e3),+Math.abs(Q)>=1?Q>0?+Math.floor(Q/4294967296)>>>0:~~+Math.ceil((Q-+(~~Q>>>0))/4294967296)>>>0:0)],m[z+56>>2]=we[0],m[z+60>>2]=we[1],u[z+64>>2]=ge%1e3*1e3,we=[Math.floor(_e/1e3)>>>0,(Q=Math.floor(_e/1e3),+Math.abs(Q)>=1?Q>0?+Math.floor(Q/4294967296)>>>0:~~+Math.ceil((Q-+(~~Q>>>0))/4294967296)>>>0:0)],m[z+72>>2]=we[0],m[z+76>>2]=we[1],u[z+80>>2]=_e%1e3*1e3,we=[V.ino>>>0,(Q=V.ino,+Math.abs(Q)>=1?Q>0?+Math.floor(Q/4294967296)>>>0:~~+Math.ceil((Q-+(~~Q>>>0))/4294967296)>>>0:0)],m[z+88>>2]=we[0],m[z+92>>2]=we[1],0},doMsync(C,D,z,V,oe){if(!_.isFile(D.node.mode))throw new _.ErrnoError(43);if(V&2)return 0;var ge=w.slice(C,C+z);_.msync(D,ge,oe,z,V)},varargs:void 0,get(){var C=m[U.varargs>>2];return U.varargs+=4,C},getp(){return U.get()},getStr(C){var D=zt(C);return D},getStreamFromFD(C){var D=_.getStreamChecked(C);return D}};function tr(C,D,z){U.varargs=z;try{var V=U.getStreamFromFD(C);switch(D){case 0:{var oe=U.get();if(oe<0)return-28;for(;_.streams[oe];)oe++;var ge;return ge=_.createStream(V,oe),ge.fd}case 1:case 2:return 0;case 3:return V.flags;case 4:{var oe=U.get();return V.flags|=oe,0}case 5:{var oe=U.getp(),_e=0;return g[oe+_e>>1]=2,0}case 6:case 7:return 0;case 16:case 8:return-28;case 9:return Se(28),-1;default:return-28}}catch(Ae){if(typeof _>"u"||Ae.name!=="ErrnoError")throw Ae;return-Ae.errno}}function ht(C,D){try{var z=U.getStreamFromFD(C);return U.doStat(_.stat,z.path,D)}catch(V){if(typeof _>"u"||V.name!=="ErrnoError")throw V;return-V.errno}}function Sr(C,D,z){U.varargs=z;try{var V=U.getStreamFromFD(C);switch(D){case 21509:return V.tty?0:-59;case 21505:{if(!V.tty)return-59;if(V.tty.ops.ioctl_tcgets){var oe=V.tty.ops.ioctl_tcgets(V),ge=U.getp();m[ge>>2]=oe.c_iflag||0,m[ge+4>>2]=oe.c_oflag||0,m[ge+8>>2]=oe.c_cflag||0,m[ge+12>>2]=oe.c_lflag||0;for(var _e=0;_e<32;_e++)f[ge+_e+17>>0]=oe.c_cc[_e]||0;return 0}return 0}case 21510:case 21511:case 21512:return V.tty?0:-59;case 21506:case 21507:case 21508:{if(!V.tty)return-59;if(V.tty.ops.ioctl_tcsets){for(var ge=U.getp(),Ae=m[ge>>2],Ne=m[ge+4>>2],it=m[ge+8>>2],gt=m[ge+12>>2],mt=[],_e=0;_e<32;_e++)mt.push(f[ge+_e+17>>0]);return V.tty.ops.ioctl_tcsets(V.tty,D,{c_iflag:Ae,c_oflag:Ne,c_cflag:it,c_lflag:gt,c_cc:mt})}return 0}case 21519:{if(!V.tty)return-59;var ge=U.getp();return m[ge>>2]=0,0}case 21520:return V.tty?-28:-59;case 21531:{var ge=U.getp();return _.ioctl(V,D,ge)}case 21523:{if(!V.tty)return-59;if(V.tty.ops.ioctl_tiocgwinsz){var st=V.tty.ops.ioctl_tiocgwinsz(V.tty),ge=U.getp();g[ge>>1]=st[0],g[ge+2>>1]=st[1]}return 0}case 21524:return V.tty?0:-59;case 21515:return V.tty?0:-59;default:return-28}}catch($){if(typeof _>"u"||$.name!=="ErrnoError")throw $;return-$.errno}}function Ar(C,D,z,V){U.varargs=V;try{D=U.getStr(D),D=U.calculateAt(C,D);var oe=V?U.get():0;return _.open(D,z,oe).fd}catch(ge){if(typeof _>"u"||ge.name!=="ErrnoError")throw ge;return-ge.errno}}var Cr=()=>{Me("")},kr=(C,D,z)=>w.copyWithin(C,D,D+z),Gt=()=>2147483648,Rr=C=>{var D=y.buffer,z=(C-D.byteLength+65535)/65536;try{return y.grow(z),F(),1}catch{}},Ut=C=>{var D=w.length;C>>>=0;var z=Gt();if(C>z)return!1;for(var V=(Ne,it)=>Ne+(it-Ne%it)%it,oe=1;oe<=4;oe*=2){var ge=D*(1+.2/oe);ge=Math.min(ge,C+100663296);var _e=Math.min(z,V(Math.max(C,ge),65536)),Ae=Rr(_e);if(Ae)return!0}return!1},Fr=C=>{p=C,j()||(c.onExit&&c.onExit(C),k=!0),a(C,new he(C))},Ht=(C,D)=>{p=C,Fr(C)},Mr=Ht;function Tr(C){try{var D=U.getStreamFromFD(C);return _.close(D),0}catch(z){if(typeof _>"u"||z.name!=="ErrnoError")throw z;return z.errno}}var xr=(C,D,z,V)=>{for(var oe=0,ge=0;ge<z;ge++){var _e=u[D>>2],Ae=u[D+4>>2];D+=8;var Ne=_.read(C,f,_e,Ae,V);if(Ne<0)return-1;if(oe+=Ne,Ne<Ae)break;typeof V<"u"&&(V+=Ne)}return oe};function Lr(C,D,z,V){try{var oe=U.getStreamFromFD(C),ge=xr(oe,D,z);return u[V>>2]=ge,0}catch(_e){if(typeof _>"u"||_e.name!=="ErrnoError")throw _e;return _e.errno}}var rr=(C,D)=>D+2097152>>>0<4194305-!!C?(C>>>0)+D*4294967296:NaN;function cr(C,D,z,V,oe){var ge=rr(D,z);try{if(isNaN(ge))return 61;var _e=U.getStreamFromFD(C);return _.llseek(_e,ge,V),we=[_e.position>>>0,(Q=_e.position,+Math.abs(Q)>=1?Q>0?+Math.floor(Q/4294967296)>>>0:~~+Math.ceil((Q-+(~~Q>>>0))/4294967296)>>>0:0)],m[oe>>2]=we[0],m[oe+4>>2]=we[1],_e.getdents&&ge===0&&V===0&&(_e.getdents=null),0}catch(Ae){if(typeof _>"u"||Ae.name!=="ErrnoError")throw Ae;return Ae.errno}}var Dr=(C,D,z,V)=>{for(var oe=0,ge=0;ge<z;ge++){var _e=u[D>>2],Ae=u[D+4>>2];D+=8;var Ne=_.write(C,f,_e,Ae,V);if(Ne<0)return-1;oe+=Ne,typeof V<"u"&&(V+=Ne)}return oe};function Br(C,D,z,V){try{var oe=U.getStreamFromFD(C),ge=Dr(oe,D,z);return u[V>>2]=ge,0}catch(_e){if(typeof _>"u"||_e.name!=="ErrnoError")throw _e;return _e.errno}}var Or=C=>{if(C instanceof he||C=="unwind")return p;a(1,C)},Ir=(C,D,z)=>pt(C,w,D,z),Pr=C=>{var D=ot(C)+1,z=ir(D);return Ir(C,z,D),z},ur=function(C,D,z,V){C||(C=this),this.parent=C,this.mount=C.mount,this.mounted=null,this.id=_.nextInode++,this.name=D,this.mode=z,this.node_ops={},this.stream_ops={},this.rdev=V},Yt=365,Lt=146;Object.defineProperties(ur.prototype,{read:{get:function(){return(this.mode&Yt)===Yt},set:function(C){C?this.mode|=Yt:this.mode&=~Yt}},write:{get:function(){return(this.mode&Lt)===Lt},set:function(C){C?this.mode|=Lt:this.mode&=~Lt}},isFolder:{get:function(){return _.isDir(this.mode)}},isDevice:{get:function(){return _.isChrdev(this.mode)}}}),_.FSNode=ur,_.createPreloadedFile=kt,_.staticInit();var Ur={f:tr,h:ht,j:Sr,c:Ar,l:Cr,i:kr,g:Ut,b:Mr,a:Tr,e:Lr,k:cr,d:Br},Ct=Z(),nr=c._main=(C,D)=>(nr=c._main=Ct.o)(C,D),hr=()=>(hr=Ct.p)(),ir=C=>(ir=Ct.r)(C);c.FS=_;var Xt;Ce=function C(){Xt||dr(),Xt||(Ce=C)};function fr(C=[]){var D=nr;C.unshift(h);var z=C.length,V=ir((z+1)*4),oe=V;C.forEach(_e=>{u[oe>>2]=Pr(_e),oe+=4}),u[oe>>2]=0;try{var ge=D(z,V);return Ht(ge,!0),ge}catch(_e){return Or(_e)}}function dr(C=E){if(de>0||(le(),de>0))return;function D(){Xt||(Xt=!0,c.calledRun=!0,!k&&(q(),ue(),M(c),c.onRuntimeInitialized&&c.onRuntimeInitialized(),gr&&fr(C),J()))}c.setStatus?(c.setStatus("Running..."),setTimeout(function(){setTimeout(function(){c.setStatus("")},1),D()},1)):D()}if(c.preInit)for(typeof c.preInit=="function"&&(c.preInit=[c.preInit]);c.preInit.length>0;)c.preInit.pop()();var gr=!0;return c.noInitialRun&&(gr=!1),dr(),Y.ready}})(),ln=!1,or=!1,dn,Cn,Gr,kn=[],Hr=[],zr=[],si=[],oi=[],ai=[],ts=/([\w\.]+)[\w\.\:~]*\(([0-9]+)\)/gi;function Rn(X,Y){if(Gr&&Gr(X,Y),Y=="stderr"&&(X.startsWith("error: ")||X.startsWith("ERROR: ")||X.startsWith("warning: "))){var c="error";X.startsWith("warning: ")&&(c="warning");var M=X.matchAll(ts);for(var W of M){var R=parseInt(W[2]);kn.push([c,W[1],R,X])}}}function Er(X){Rn(X,"info")}function Fn(X){Rn(X,"stdout")}function Mn(X){Rn(X,"stderr")}function rs(X){Gr=X}function ns(X){Cn=X,ln?or=!0:(ln=!0,Tn())}function li(){return kn}function is(){return Hr}function Un(){return zr}function gn(X){si=X}function mn(X){ai=X}function pn(X){oi=X}function Tn(){typeof dn<"u"&&clearTimeout(dn),dn=setTimeout(ss,500)}function ss(){Gr&&Gr(null,null),kn=[],Hr=[],zr=[];var X=[];for(const Y of Object.keys(Pt()))Y.endsWith(".asm")&&X.push(Y);ci(X,{})}function ci(X,Y){var c=X.pop(),M=[c,"-o","output.o","-Wall"].concat(si);Er("Running: rgbasm "+M.join(" ")),Ji({arguments:M,preRun:function(W){var R=W.FS;for(const[E,h]of Object.entries(Pt()))R.writeFile(E,h)},print:Fn,printErr:Mn}).then(function(W){if(or){_r();return}var R=W.FS;try{var E=R.readFile("output.o")}catch{_r();return}Y[c]=E,X.length>0?ci(X,Y):os(Y)})}function os(X){var Y=["-o","output.gb","--map","output.map"].concat(ai);for(var c in X)Y.push(c+".o");Er("Running: rgblink "+Y.join(" ")),qi({arguments:Y,preRun:function(M){var W=M.FS;for(var R in X)W.writeFile(R+".o",X[R])},print:Fn,printErr:Mn}).then(function(M){if(or){_r();return}var W=M.FS;try{var R=W.readFile("output.gb")}catch{_r();return}try{var E=W.readFile("output.map",{encoding:"utf8"})}catch{_r();return}as(R,E)})}function as(X,Y){var c=["-v","output.gb","-p","0xff"].concat(oi);Er("Running: rgbfix "+c.join(" ")),es({arguments:c,preRun:function(M){var W=M.FS;W.writeFile("output.gb",X)},print:Fn,printErr:Mn}).then(function(M){var W=M.FS;try{var R=W.readFile("output.gb")}catch{_r();return}ls(R,Y)})}function _r(){Er("Build failed"),or?(or=!1,Tn()):(ln=!1,Cn())}function ls(X,Y){if(or)or=!1,Tn();else{ln=!1;var c=256,M={},W=/^\s*\$([0-9a-f]+) = ([\w\.]+)/,R=/^\s*(\w+) bank #(\d+)/,E=/^\s*SECTION: \$([0-9a-f]+)-\$([0-9a-f]+)/,h=/^\s*SLACK: \$([0-9a-f]+) bytes/,a="",l=0;for(var t of Y.split(`
`)){var e;if(e=W.exec(t)){var r=parseInt(e[1],16),n=e[2];if(n.startsWith("__SEC_")){n=n.substr(6);var i=n.substr(n.indexOf("_")+1);i=i.substr(i.indexOf("_")+1);var s=parseInt(n.split("_")[1],16);r=r&16383|l<<14,M[r]=[i,s]}else n=="emustart"||n=="emuStart"||n=="emu_start"?c=r:r<32768?(r=r&16383|l<<14,Hr[r]=n):zr[r]=n}else if(e=E.exec(t)){var d=parseInt(e[1],16),v=parseInt(e[2],16)+1;d<32768?(d=d&16383|l<<14,v=v&16383|l<<14,Hr[d]=null,Hr[v]=null):(zr[d]=null,zr[v]=null)}else if(e=R.exec(t))a=e[1],l=parseInt(e[2]);else if(e=h.exec(t)){var y=parseInt(e[1],16),k=16384;a.startsWith("WRAM")?k=4096:a.startsWith("HRAM")&&(k=127),Er("Space left: "+a+"["+l+"]: "+y+"  ("+(y/k*100).toFixed(1)+"%)")}}Er("Build done"),Cn(X,c,M)}}var cs=(()=>{var X=import.meta.url;return function(Y={}){var c=Y,M,W;c.ready=new Promise((ne,Re)=>{M=ne,W=Re});var R=Object.assign({},c),E=(ne,Re)=>{throw Re},h=!0,a="";function l(ne){return c.locateFile?c.locateFile(ne,a):a+ne}typeof document<"u"&&document.currentScript&&(a=document.currentScript.src),X&&(a=X),a.indexOf("blob:")!==0?a=a.substr(0,a.replace(/[?#].*/,"").lastIndexOf("/")+1):a="";var t=c.print||console.log.bind(console),e=c.printErr||console.error.bind(console);Object.assign(c,R),R=null,c.arguments&&c.arguments,c.thisProgram&&c.thisProgram,c.quit&&(E=c.quit);var r;c.wasmBinary&&(r=c.wasmBinary);var n=c.noExitRuntime||!0;typeof WebAssembly!="object"&&ue("no native wasm support detected");var i,s=!1,d,v,y,k;function p(){var ne=i.buffer;c.HEAP8=new Int8Array(ne),c.HEAP16=new Int16Array(ne),c.HEAPU8=d=new Uint8Array(ne),c.HEAPU16=new Uint16Array(ne),c.HEAP32=v=new Int32Array(ne),c.HEAPU32=y=new Uint32Array(ne),c.HEAPF32=new Float32Array(ne),c.HEAPF64=k=new Float64Array(ne)}var o=[],f=[],w=[],g=0;function m(){return n||g>0}function u(){if(c.preRun)for(typeof c.preRun=="function"&&(c.preRun=[c.preRun]);c.preRun.length;)L(c.preRun.shift());He(o)}function F(){He(f)}function S(){if(c.postRun)for(typeof c.postRun=="function"&&(c.postRun=[c.postRun]);c.postRun.length;)P(c.postRun.shift());He(w)}function L(ne){o.unshift(ne)}function A(ne){f.unshift(ne)}function P(ne){w.unshift(ne)}var H=0,j=null;function le(ne){H++,c.monitorRunDependencies&&c.monitorRunDependencies(H)}function q(ne){if(H--,c.monitorRunDependencies&&c.monitorRunDependencies(H),H==0&&j){var Re=j;j=null,Re()}}function ue(ne){c.onAbort&&c.onAbort(ne),ne="Aborted("+ne+")",e(ne),s=!0,ne+=". Build with -sASSERTIONS for more info.";var Re=new WebAssembly.RuntimeError(ne);throw W(Re),Re}var J="data:application/octet-stream;base64,";function ee(ne){return ne.startsWith(J)}var ie;c.locateFile?(ie="binjgb.wasm",ee(ie)||(ie=l(ie))):ie=new URL("/rgbds-live/assets/binjgb-eb36540a.wasm",self.location).href;function me(ne){if(ne==ie&&r)return new Uint8Array(r);throw"both async and sync fetching of the wasm failed"}function de(ne){return!r&&h&&typeof fetch=="function"?fetch(ne,{credentials:"same-origin"}).then(Re=>{if(!Re.ok)throw"failed to load wasm binary file at '"+ne+"'";return Re.arrayBuffer()}).catch(()=>me(ne)):Promise.resolve().then(()=>me(ne))}function Ce(ne,Re,We){return de(ne).then(nt=>WebAssembly.instantiate(nt,Re)).then(nt=>nt).then(We,nt=>{e(`failed to asynchronously prepare wasm: ${nt}`),ue(nt)})}function Fe(ne,Re,We,nt){return!ne&&typeof WebAssembly.instantiateStreaming=="function"&&!ee(Re)&&typeof fetch=="function"?fetch(Re,{credentials:"same-origin"}).then(Le=>{var wt=WebAssembly.instantiateStreaming(Le,We);return wt.then(nt,function(Ge){return e(`wasm streaming compile failed: ${Ge}`),e("falling back to ArrayBuffer instantiation"),Ce(Re,We,nt)})}):Ce(Re,We,nt)}function Te(){var ne={a:Ve};function Re(nt,Le){var wt=nt.exports;return xe=wt,i=xe.h,p(),xe.I,A(xe.i),q(),wt}le();function We(nt){Re(nt.instance)}if(c.instantiateWasm)try{return c.instantiateWasm(ne,Re)}catch(nt){e(`Module.instantiateWasm callback failed with error: ${nt}`),W(nt)}return Fe(r,ie,ne,We).catch(W),{}}var Be={13556:ne=>{emulator.serialCallback(ne)}};function Me(ne){this.name="ExitStatus",this.message=`Program terminated with exit(${ne})`,this.status=ne}var He=ne=>{for(;ne.length>0;)ne.shift()(c)},qe=[],Qe=(ne,Re)=>{qe.length=0;for(var We;We=d[ne++];)Re+=We!=105&&Re%8?4:0,qe.push(We==105?v[Re>>2]:k[Re>>3]),Re+=We==105?4:8;return qe},O=(ne,Re,We)=>{var nt=Qe(Re,We);return Be[ne].apply(null,nt)},Ee=(ne,Re,We)=>O(ne,Re,We),be=(ne,Re,We)=>d.copyWithin(ne,Re,Re+We),te=ne=>{ue("OOM")},Z=ne=>{d.length,te()},Q=typeof TextDecoder<"u"?new TextDecoder("utf8"):void 0,we=(ne,Re,We)=>{for(var nt=Re+We,Le=Re;ne[Le]&&!(Le>=nt);)++Le;if(Le-Re>16&&ne.buffer&&Q)return Q.decode(ne.subarray(Re,Le));for(var wt="";Re<Le;){var Ge=ne[Re++];if(!(Ge&128)){wt+=String.fromCharCode(Ge);continue}var Ft=ne[Re++]&63;if((Ge&224)==192){wt+=String.fromCharCode((Ge&31)<<6|Ft);continue}var kt=ne[Re++]&63;if((Ge&240)==224?Ge=(Ge&15)<<12|Ft<<6|kt:Ge=(Ge&7)<<18|Ft<<12|kt<<6|ne[Re++]&63,Ge<65536)wt+=String.fromCharCode(Ge);else{var Mt=Ge-65536;wt+=String.fromCharCode(55296|Mt>>10,56320|Mt&1023)}}return wt},he=ne=>{m()||(c.onExit&&c.onExit(ne),s=!0),E(ne,new Me(ne))},ae=(ne,Re)=>{he(ne)},Se=ae,pe=ne=>52;function ke(ne,Re,We,nt,Le){return 70}var Pe=[null,[],[]],Ue=(ne,Re)=>{var We=Pe[ne];Re===0||Re===10?((ne===1?t:e)(we(We,0)),We.length=0):We.push(Re)},ze=(ne,Re,We,nt)=>{for(var Le=0,wt=0;wt<We;wt++){var Ge=y[Re>>2],Ft=y[Re+4>>2];Re+=8;for(var kt=0;kt<Ft;kt++)Ue(ne,d[Ge+kt]);Le+=Ft}return y[nt>>2]=Le,0},Ve={g:Ee,f:be,d:Z,b:Se,e:pe,c:ke,a:ze},xe=Te();c._malloc=ne=>(c._malloc=xe.j)(ne),c._file_data_delete=ne=>(c._file_data_delete=xe.k)(ne),c._free=ne=>(c._free=xe.l)(ne),c._emulator_set_builtin_palette=(ne,Re)=>(c._emulator_set_builtin_palette=xe.m)(ne,Re),c._emulator_was_ext_ram_updated=ne=>(c._emulator_was_ext_ram_updated=xe.n)(ne),c._emulator_read_ext_ram=(ne,Re)=>(c._emulator_read_ext_ram=xe.o)(ne,Re),c._emulator_write_ext_ram=(ne,Re)=>(c._emulator_write_ext_ram=xe.p)(ne,Re),c._emulator_delete=ne=>(c._emulator_delete=xe.q)(ne),c._emulator_get_PC=ne=>(c._emulator_get_PC=xe.r)(ne),c._emulator_get_A=ne=>(c._emulator_get_A=xe.s)(ne),c._emulator_get_BC=ne=>(c._emulator_get_BC=xe.t)(ne),c._emulator_get_DE=ne=>(c._emulator_get_DE=xe.u)(ne),c._emulator_get_HL=ne=>(c._emulator_get_HL=xe.v)(ne),c._emulator_get_F=ne=>(c._emulator_get_F=xe.w)(ne),c._emulator_get_SP=ne=>(c._emulator_get_SP=xe.x)(ne),c._emulator_set_PC=(ne,Re)=>(c._emulator_set_PC=xe.y)(ne,Re),c._emulator_get_wram_ptr=ne=>(c._emulator_get_wram_ptr=xe.z)(ne),c._emulator_get_hram_ptr=ne=>(c._emulator_get_hram_ptr=xe.A)(ne),c._emulator_read_mem=(ne,Re)=>(c._emulator_read_mem=xe.B)(ne,Re),c._emulator_write_mem=(ne,Re,We)=>(c._emulator_write_mem=xe.C)(ne,Re,We),c._emulator_set_breakpoint=(ne,Re)=>(c._emulator_set_breakpoint=xe.D)(ne,Re),c._emulator_clear_breakpoints=ne=>(c._emulator_clear_breakpoints=xe.E)(ne),c._emulator_render_vram=(ne,Re)=>(c._emulator_render_vram=xe.F)(ne,Re),c._emulator_render_background=(ne,Re,We)=>(c._emulator_render_background=xe.G)(ne,Re,We),c._set_audio_channel_mute=(ne,Re,We)=>(c._set_audio_channel_mute=xe.H)(ne,Re,We),c._joypad_new=()=>(c._joypad_new=xe.J)(),c._joypad_delete=ne=>(c._joypad_delete=xe.K)(ne),c._rewind_append=(ne,Re)=>(c._rewind_append=xe.L)(ne,Re),c._rewind_delete=ne=>(c._rewind_delete=xe.M)(ne),c._emulator_new_simple=(ne,Re,We,nt,Le)=>(c._emulator_new_simple=xe.N)(ne,Re,We,nt,Le),c._emulator_get_ticks_f64=ne=>(c._emulator_get_ticks_f64=xe.O)(ne),c._emulator_run_until_f64=(ne,Re)=>(c._emulator_run_until_f64=xe.P)(ne,Re),c._rewind_get_newest_ticks_f64=ne=>(c._rewind_get_newest_ticks_f64=xe.Q)(ne),c._rewind_get_oldest_ticks_f64=ne=>(c._rewind_get_oldest_ticks_f64=xe.R)(ne),c._emulator_set_default_joypad_callback=(ne,Re)=>(c._emulator_set_default_joypad_callback=xe.S)(ne,Re),c._emulator_set_bw_palette_simple=(ne,Re,We,nt,Le,wt)=>(c._emulator_set_bw_palette_simple=xe.T)(ne,Re,We,nt,Le,wt),c._rewind_new_simple=(ne,Re,We)=>(c._rewind_new_simple=xe.U)(ne,Re,We),c._rewind_begin=(ne,Re,We)=>(c._rewind_begin=xe.V)(ne,Re,We),c._emulator_set_rewind_joypad_callback=ne=>(c._emulator_set_rewind_joypad_callback=xe.W)(ne),c._rewind_to_ticks_wrapper=(ne,Re)=>(c._rewind_to_ticks_wrapper=xe.X)(ne,Re),c._rewind_end=ne=>(c._rewind_end=xe.Y)(ne),c._set_joyp_up=(ne,Re)=>(c._set_joyp_up=xe.Z)(ne,Re),c._set_joyp_down=(ne,Re)=>(c._set_joyp_down=xe._)(ne,Re),c._set_joyp_left=(ne,Re)=>(c._set_joyp_left=xe.$)(ne,Re),c._set_joyp_right=(ne,Re)=>(c._set_joyp_right=xe.aa)(ne,Re),c._set_joyp_B=(ne,Re)=>(c._set_joyp_B=xe.ba)(ne,Re),c._set_joyp_A=(ne,Re)=>(c._set_joyp_A=xe.ca)(ne,Re),c._set_joyp_start=(ne,Re)=>(c._set_joyp_start=xe.da)(ne,Re),c._set_joyp_select=(ne,Re)=>(c._set_joyp_select=xe.ea)(ne,Re),c._get_frame_buffer_ptr=ne=>(c._get_frame_buffer_ptr=xe.fa)(ne),c._get_frame_buffer_size=ne=>(c._get_frame_buffer_size=xe.ga)(ne),c._get_sgb_frame_buffer_ptr=ne=>(c._get_sgb_frame_buffer_ptr=xe.ha)(ne),c._get_sgb_frame_buffer_size=ne=>(c._get_sgb_frame_buffer_size=xe.ia)(ne),c._get_audio_buffer_ptr=ne=>(c._get_audio_buffer_ptr=xe.ja)(ne),c._get_audio_buffer_capacity=ne=>(c._get_audio_buffer_capacity=xe.ka)(ne),c._ext_ram_file_data_new=ne=>(c._ext_ram_file_data_new=xe.la)(ne),c._get_file_data_ptr=ne=>(c._get_file_data_ptr=xe.ma)(ne),c._get_file_data_size=ne=>(c._get_file_data_size=xe.na)(ne),c._set_log_apu_writes=(ne,Re)=>(c._set_log_apu_writes=xe.oa)(ne,Re),c._get_apu_log_data_size=ne=>(c._get_apu_log_data_size=xe.pa)(ne),c._get_apu_log_data_ptr=ne=>(c._get_apu_log_data_ptr=xe.qa)(ne),c._reset_apu_log=ne=>(c._reset_apu_log=xe.ra)(ne);var ot;j=function ne(){ot||pt(),ot||(j=ne)};function pt(){if(H>0||(u(),H>0))return;function ne(){ot||(ot=!0,c.calledRun=!0,!s&&(F(),M(c),c.onRuntimeInitialized&&c.onRuntimeInitialized(),S()))}c.setStatus?(c.setStatus("Running..."),setTimeout(function(){setTimeout(function(){c.setStatus("")},1),ne()},1)):ne()}if(c.preInit)for(typeof c.preInit=="function"&&(c.preInit=[c.preInit]);c.preInit.length>0;)c.preInit.pop()();return pt(),Y.ready}})();const rt=await cs();var lt,vn=0,Vr,_n,Dt,wr,en=2048;function us(X,Y){Ot()&&ui(),typeof Dt>"u"&&(Dt=new AudioContext);var c=(Y.length-1|16383)+1;c<32768&&(c=32768);var M=rt._malloc(c);vn=c;const W=rt.HEAP8.subarray(M,M+vn);W.fill(0),W.set(Y),lt=rt._emulator_new_simple(M,vn,Dt.sampleRate,en),rt._emulator_set_bw_palette_simple(lt,0,4290965700,4289247578,4285423646,4278197037),rt._emulator_set_bw_palette_simple(lt,1,4290965700,4289247578,4285423646,4278197037),rt._emulator_set_bw_palette_simple(lt,2,4290965700,4289247578,4285423646,4278197037),rt._emulator_set_default_joypad_callback(lt,0),X&&(Vr=X.getContext("2d"),_n=Vr.createImageData(X.width,X.height)),Dt.resume(),wr=Dt.currentTime}function ui(){Ot()&&(rt._emulator_delete(lt),lt=void 0)}function Ot(){return typeof lt<"u"}function hs(X){if(Ot()){var Y=rt._emulator_get_ticks_f64(lt);for(X=="single"?Y+=1:X=="frame"&&(Y+=70224);;){var c=rt._emulator_run_until_f64(lt,Y);if(c&2&&ks(),c&8||c&16)return!0;if(c!=2&&X!="run")return!1;if(X=="run"&&c&4)if(wr<Dt.currentTime+.1)Y+=70224;else return!1}}}function fs(){if(Ot()){var X=new Uint8Array(rt.HEAP8.buffer,rt._get_frame_buffer_ptr(lt),rt._get_frame_buffer_size(lt));_n.data.set(X),Vr.putImageData(_n,0,0)}}function ds(X){if(Ot()){var Y=X.getContext("2d"),c=Vr.createImageData(256,256),M=rt._malloc(4*256*256);rt._emulator_render_vram(lt,M);var W=new Uint8Array(rt.HEAP8.buffer,M,4*256*256);c.data.set(W),Y.putImageData(c,0,0),rt._free(M)}}function Nn(X,Y){if(Ot()){var c=X.getContext("2d"),M=Vr.createImageData(256,256),W=rt._malloc(4*256*256);rt._emulator_render_background(lt,W,Y);var R=new Uint8Array(rt.HEAP8.buffer,W,4*256*256);M.data.set(R),c.putImageData(M,0,0),rt._free(W)}}function gs(){if(Ot()){var X=rt._emulator_get_wram_ptr(lt);return new Uint8Array(rt.HEAP8.buffer,X,32768)}}function ms(){if(Ot()){var X=rt._emulator_get_hram_ptr(lt);return new Uint8Array(rt.HEAP8.buffer,X,127)}}function ps(){return rt._emulator_get_PC(lt)}function vs(X){rt._emulator_set_PC(lt,X)}function ws(){return rt._emulator_get_SP(lt)}function ys(){return rt._emulator_get_A(lt)}function _s(){return rt._emulator_get_BC(lt)}function bs(){return rt._emulator_get_DE(lt)}function $s(){return rt._emulator_get_HL(lt)}function Es(){var X=rt._emulator_get_F(lt),Y="";return X&128&&(Y+="Z "),X&16&&(Y+="C "),X&32&&(Y+="H "),X&64&&(Y+="N "),Y}function Ss(X){return Ot()?rt._emulator_read_mem(lt,X):255}function As(X){Ot()&&rt._emulator_set_breakpoint(lt,X)}function Cs(){Ot()&&rt._emulator_clear_breakpoints(lt)}function Zt(X,Y){Ot()&&(X=="right"&&rt._set_joyp_right(lt,Y),X=="left"&&rt._set_joyp_left(lt,Y),X=="up"&&rt._set_joyp_up(lt,Y),X=="down"&&rt._set_joyp_down(lt,Y),X=="a"&&rt._set_joyp_A(lt,Y),X=="b"&&rt._set_joyp_B(lt,Y),X=="select"&&rt._set_joyp_select(lt,Y),X=="start"&&rt._set_joyp_start(lt,Y))}function ks(){wr<Dt.currentTime&&(wr=Dt.currentTime);var X=new Uint8Array(rt.HEAP8.buffer,rt._get_audio_buffer_ptr(lt),rt._get_audio_buffer_capacity(lt));const Y=.5,c=Dt.createBuffer(2,en,Dt.sampleRate),M=c.getChannelData(0),W=c.getChannelData(1);for(let h=0;h<en;h++)M[h]=X[2*h]*Y/255,W[h]=X[2*h+1]*Y/255;const R=Dt.createBufferSource();R.buffer=c,R.connect(Dt.destination),R.start(wr);const E=en/Dt.sampleRate;wr+=E}var hi,ar,br={},jt={},xt="";function Rs(){return window.matchMedia&&window.matchMedia("(prefers-color-scheme: dark)").matches}function Fs(X){var Y=document.createElement("div");return Y.innerText=X,Y.innerHTML}rs(function(X,Y){var c=document.getElementById("output");if(X==null&&Y==null){c.innerHTML="";return}c.innerHTML+='<span class="'+Y+'">'+Fs(X)+`</span>
`,c.scrollTop=c.scrollHeight});function tn(){ns(function(X,Y,c){if(En(),er(),Ms(),!(typeof X>"u")){ar=X,hi=Y,br=c;for(var M in br){var[W,R]=br[M];typeof jt[W]>"u"&&(jt[W]={}),typeof jt[W][R]>"u"&&(jt[W][R]=[]),jt[W][R].push(M)}yr()}})}function Ms(){ui(),br={},jt={},ar=void 0,nn(null,null)}function fi(X){typeof ar>"u"||(us(document.getElementById("emulator_screen_canvas"),ar),vs(hi),Ln(X),xn())}function Wr(X){if(!Ot())return fi(X=="single"||X=="frame"),!1;var Y=hs(X);return Ln(X=="single"||X=="frame"),Y}function xn(){Cs();var X=Jn();for(var Y of X){var[c,M,W]=Y;if(Y[2]=!1,!(typeof jt[c]>"u"||typeof jt[c][M]>"u")){Y[2]=!0;for(var R of jt[c][M])As(R)}}}function Wn(X,Y){X=="ArrowRight"&&Zt("right",Y),X=="ArrowLeft"&&Zt("left",Y),X=="ArrowUp"&&Zt("up",Y),X=="ArrowDown"&&Zt("down",Y),X=="KeyS"&&Zt("a",Y),X=="KeyA"&&Zt("b",Y),X=="ShiftRight"&&Zt("select",Y),X=="Enter"&&Zt("start",Y),X=="Escape"&&(document.getElementById("cpu_run_check").checked=!1,document.getElementById("cpu_run_check").onclick())}function pr(X,Y){return"$"+("0000"+X.toString(16)).slice(-Y)}function Ln(X){fs();var Y=ps();document.getElementById("cpu_pc").innerHTML=pr(Y,4),document.getElementById("cpu_sp").innerHTML=pr(ws(),4),document.getElementById("cpu_a").innerHTML=pr(ys(),2),document.getElementById("cpu_bc").innerHTML=pr(_s(),4),document.getElementById("cpu_de").innerHTML=pr(bs(),4),document.getElementById("cpu_hl").innerHTML=pr($s(),4),document.getElementById("cpu_flags").innerHTML=Es();var c=br[Y];typeof c>"u"&&(c=br[Y-1]),typeof c<"u"?nn(c[0],c[1],X):nn(null,null),rn(),yr()}function rn(){var X=document.getElementById("emulator_vram_canvas");X.style.display==""&&(xt=="vram"&&ds(X),xt=="bg0"&&Nn(X,0),xt=="bg1"&&Nn(X,1))}function yr(){var X=document.getElementById("emulator_display_text");if(X.style.display==""){var Y=ar,c=16384,M=0,W=is();if(xt=="wram"&&(Y=gs(),c=4096,M=49152,W=Un()),xt=="hram"&&(Y=ms(),c=4096,M=65408,W=Un()),xt=="io"){var h="",R=[{name:"P1",value:65280},{name:"SB",value:65281},{name:"SC",value:65282},{name:"DIV",value:65284},{name:"TIMA",value:65285},{name:"TMA",value:65286},{name:"TAC",value:65287},{name:"IF",value:65295},{name:"LCDC",value:65344},{name:"STAT",value:65345},{name:"SCY",value:65346},{name:"SCX",value:65347},{name:"LY",value:65348},{name:"LYC",value:65349},{name:"DMA",value:65350},{name:"BGP",value:65351},{name:"OBP0",value:65352},{name:"OBP1",value:65353},{name:"WY",value:65354},{name:"WX",value:65355},{name:"KEY1",value:65357},{name:"VBK",value:65359},{name:"RP",value:65366},{name:"BCPS",value:65384},{name:"BCPD",value:65385},{name:"OCPS",value:65386},{name:"OCPD",value:65387},{name:"SVBK",value:65392},{name:"IE",value:65535}];for(var E of R)h+="<span style='float: left; width: 50px'>"+E.name+":</span>"+("00"+Ss(E.value).toString(16)).slice(-2)+"<br/>";X.innerHTML=h;return}if(!(typeof Y>"u")){for(var h="<div style='position: fixed; background-color: var(--background-alt)'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; 0&nbsp; 1&nbsp; 2&nbsp; 3&nbsp; 4&nbsp; 5&nbsp; 6&nbsp; 7&nbsp; 8&nbsp; 9&nbsp; a&nbsp; b&nbsp; c&nbsp; d&nbsp; e&nbsp; f</div><br/>",a=null,l=!1,t=0,e=0;e<Y.length;e+=16){var r=Array.prototype.map.call(Y.slice(e,e+16),v=>("00"+v.toString(16)).slice(-2)),n=~~(e/c),i=e&c-1;n>0&&(i+=c),h+=("00"+n.toString(16)).slice(-2)+":"+("0000"+(i+M).toString(16)).slice(-4);for(var s=0;s<r.length;s++){h+=" ";var d=W[e+s+M];d?(a=d,l&&(h+="</span>"),l=!1,t=(t+71)%360):d===null&&(a=null,l&&(h+="</span>"),l=!1),a&&!l&&(h+="<span title='"+a+"' style='background-color: hsl("+t+(Rs()?", 30%, 30%)'>":", 50%, 50%)'>"),l=!0),h+=r[s]}l&&(h+="</span>"),l=!1,h+="<br/>"}X.innerHTML=h}}}function er(){var X=document.getElementById("filelist");X.textContent="";for(const E of Object.keys(Pt()).sort()){var Y=document.createElement("li");Y.textContent=E,X.appendChild(Y),E==an()&&Y.classList.add("active");for(var[c,M,W,R]of li())if(M==E&&(Y.classList.add(c),c=="error")){Y.classList.remove("warning");break}}}function Ts(X){Object.keys(Pt()).length<2||(qt(X,null),an()==X&&sr(Object.keys(Pt()).sort()[0]),er())}function xs(X){jn("textEditorDiv",tn),qn("gfxEditorDiv");var Y=new URLSearchParams(window.location.search);const c=(Y.get("asm")??"").trim();c!=""&&(document.getElementById("copmpiler_settings_asm").value=c,gn(c.split(" ")));const M=(Y.get("link")??"").trim();M!=""&&(document.getElementById("copmpiler_settings_link").value=M,mn(M.split(" ")));const W=(Y.get("fix")??"").trim();W!=""&&(document.getElementById("copmpiler_settings_fix").value=W,pn(W.split(" "))),Ki(),sr(Object.keys(Pt()).pop()),er(),document.getElementById("filelist").onclick=function(E){E.target.childNodes[0].wholeText&&(sr(E.target.childNodes[0].wholeText),er(),Ln())},document.getElementById("newfile").onclick=function(){document.getElementById("newfiledialog").style.display="block"},document.getElementById("newfiledialog").onclick=function(E){E.target==document.getElementById("newfiledialog")&&(document.getElementById("newfiledialog").style.display="none")},document.getElementById("newfiledialogclose").onclick=function(){document.getElementById("newfiledialog").style.display="none"},document.getElementById("newfile_empty_create").onclick=function(){var E=document.getElementById("newfile_name").value;E&&(E.indexOf(".")<0&&(E+=".asm"),!(E in Pt())&&(yn(E)==="text"?qt(E,""):qt(E,new Uint8Array(16)),sr(E),er(),document.getElementById("newfiledialog").style.display="none"))},document.getElementById("newfile_upload").onchange=function(E){if(E.target.files.length>0){var h=E.target.files[0].name,a=yn(h)=="text"?E.target.files[0].text():E.target.files[0].arrayBuffer();a.then(function(l){qt(h,l),sr(h),er()}),E.target.value="",document.getElementById("newfiledialog").style.display="none"}},document.getElementById("delfile").onclick=function(){confirm("Are you sure you want to delete: "+an()+"?")&&Ts(an())},document.getElementById("newproject").onclick=function(){confirm("Are you sure to clear the current project?")&&(ti(),sr("main.asm"),er())},tn(),document.getElementById("cpu_single_step").onclick=function(){Wr("single")},document.getElementById("cpu_frame_step").onclick=function(){Wr("frame")},document.getElementById("cpu_reset").onclick=function(){fi(!0)},document.getElementById("cpu_run_check").onclick=function(){if(document.getElementById("cpu_run_check").checked){let E=function(){document.hidden||Wr("run")&&(document.getElementById("cpu_run_check").checked=!1),document.getElementById("cpu_run_check").checked&&requestAnimationFrame(E)};requestAnimationFrame(E)}};var R=document.getElementById("emulator_screen_canvas");R.tabIndex=-1,R.onkeydown=function(E){Wn(E.code,!0),E.preventDefault()},R.onkeyup=function(E){Wn(E.code,!1),E.preventDefault()},document.onkeydown=function(E){E.code=="F8"&&(Wr("single"),E.preventDefault()),E.code=="F9"&&(Wr("frame"),E.preventDefault())},document.getElementById("emulator_display_screen").onclick=function(){document.getElementById("emulator_screen_canvas").style.display="",document.getElementById("emulator_vram_canvas").style.display="none",document.getElementById("emulator_display_text").style.display="none",xt="display"},document.getElementById("emulator_display_vram").onclick=function(){document.getElementById("emulator_screen_canvas").style.display="none",document.getElementById("emulator_vram_canvas").style.display="",document.getElementById("emulator_display_text").style.display="none",xt="vram",rn()},document.getElementById("emulator_display_bg0").onclick=function(){document.getElementById("emulator_screen_canvas").style.display="none",document.getElementById("emulator_vram_canvas").style.display="",document.getElementById("emulator_display_text").style.display="none",xt="bg0",rn()},document.getElementById("emulator_display_bg1").onclick=function(){document.getElementById("emulator_screen_canvas").style.display="none",document.getElementById("emulator_vram_canvas").style.display="",document.getElementById("emulator_display_text").style.display="none",xt="bg1",rn()},document.getElementById("emulator_display_rom").onclick=function(){document.getElementById("emulator_screen_canvas").style.display="none",document.getElementById("emulator_vram_canvas").style.display="none",document.getElementById("emulator_display_text").style.display="",xt="rom",yr()},document.getElementById("emulator_display_wram").onclick=function(){document.getElementById("emulator_screen_canvas").style.display="none",document.getElementById("emulator_vram_canvas").style.display="none",document.getElementById("emulator_display_text").style.display="",xt="wram",yr()},document.getElementById("emulator_display_hram").onclick=function(){document.getElementById("emulator_screen_canvas").style.display="none",document.getElementById("emulator_vram_canvas").style.display="none",document.getElementById("emulator_display_text").style.display="",xt="hram",yr()},document.getElementById("emulator_display_io").onclick=function(){document.getElementById("emulator_screen_canvas").style.display="none",document.getElementById("emulator_vram_canvas").style.display="none",document.getElementById("emulator_display_text").style.display="",xt="io",yr()},document.getElementById("download_rom").onclick=function(){if(!(typeof ar>"u")){var E=document.createElement("a"),h=window.URL.createObjectURL(new Blob([ar.buffer],{type:"application/octet-stream"}));E.setAttribute("href",h),E.setAttribute("download","rom.gb"),E.style.display="none",document.body.appendChild(E),E.click(),document.body.removeChild(E),window.URL.revokeObjectURL(h)}},document.getElementById("importmenu").onclick=function(){document.getElementById("importdialog").style.display="block"},document.getElementById("importdialog").onclick=function(E){E.target==document.getElementById("importdialog")&&(document.getElementById("importdialog").style.display="none")},document.getElementById("importdialogclose").onclick=function(){document.getElementById("importdialog").style.display="none"},document.getElementById("import_gist").onclick=function(){ii(document.getElementById("import_gist_url").value),document.getElementById("importdialog").style.display="none"},document.getElementById("import_zipfile").onchange=function(E){E.target.files.length>0&&(Xi(E.target.files[0]),E.target.value="",document.getElementById("importdialog").style.display="none")},document.getElementById("exportmenu").onclick=function(){document.getElementById("exportdialog").style.display="block",document.getElementById("export_hash_url").value=ri()},document.getElementById("exportdialog").onclick=function(E){E.target==document.getElementById("exportdialog")&&(document.getElementById("exportdialog").style.display="none")},document.getElementById("exportdialogclose").onclick=function(){document.getElementById("exportdialog").style.display="none"},document.getElementById("export_gist").onclick=function(){var E=document.getElementById("export_gist_url").value,h=document.getElementById("export_gist_username").value,a=document.getElementById("export_gist_token").value;if(E=ji(h,a,E),E==null)document.getElementById("export_gist_import_url").value="Gist create/update failed. Incorrect token?";else{document.getElementById("export_gist_url").value=E;var l=new URL(document.location);l.hash=E,document.getElementById("export_gist_import_url").value=l.toString()}},document.getElementById("export_zip").onclick=function(){Yi()},document.getElementById("infomenu").onclick=function(){document.getElementById("infodialog").style.display="block"},document.getElementById("infodialog").onclick=function(E){E.target==document.getElementById("infodialog")&&(document.getElementById("infodialog").style.display="none")},document.getElementById("infodialogclose").onclick=function(){document.getElementById("infodialog").style.display="none"},document.getElementById("auto_url_update").checked=Qt.autoUrl,document.getElementById("auto_url_update").onclick=function(){Qt.autoUrl=document.getElementById("auto_url_update").checked,Qt.autoUrl?qt():document.location.hash=""},document.getElementById("auto_local_storage_update").checked=Qt.autoLocalStorage,document.getElementById("auto_local_storage_update").onclick=function(){Qt.autoLocalStorage=document.getElementById("auto_local_storage_update").checked,qt()},document.getElementById("settingsmenu").onclick=function(){document.getElementById("settingsdialog").style.display="block"},document.getElementById("settingsdialog").onclick=function(E){E.target==document.getElementById("settingsdialog")&&(document.getElementById("settingsdialog").style.display="none")},document.getElementById("settingsdialogclose").onclick=function(){document.getElementById("settingsdialog").style.display="none"},document.getElementById("copmpiler_settings_set").onclick=function(){Y=new URLSearchParams(window.location.search);var E=document.getElementById("copmpiler_settings_asm").value.trim();E!=""?(Y.set("asm",E),gn(E.split(" "))):(gn([]),Y.delete("asm"));var h=document.getElementById("copmpiler_settings_link").value.trim();h!=""?(Y.set("link",h),mn(h.split(" "))):(mn([]),Y.delete("link"));var a=document.getElementById("copmpiler_settings_fix").value.trim();a!=""?(Y.set("fix",a),pn(a.split(" "))):(Y.delete("fix"),pn([]));var l=new URL(window.location);l.search=Y.toString(),window.history.replaceState({},"",l),document.getElementById("settingsdialog").style.display="none",tn()},Y.has("autorun")&&(document.getElementById("cpu_run_check").checked=!0,document.getElementById("cpu_run_check").onclick())}xs();
