(function(){const T=document.createElement("link").relList;if(T&&T.supports&&T.supports("modulepreload"))return;for(const R of document.querySelectorAll('link[rel="modulepreload"]'))E(R);new MutationObserver(R=>{for(const d of R)if(d.type==="childList")for(const c of d.addedNodes)c.tagName==="LINK"&&c.rel==="modulepreload"&&E(c)}).observe(document,{childList:!0,subtree:!0});function b(R){const d={};return R.integrity&&(d.integrity=R.integrity),R.referrerPolicy&&(d.referrerPolicy=R.referrerPolicy),R.crossOrigin==="use-credentials"?d.credentials="include":R.crossOrigin==="anonymous"?d.credentials="omit":d.credentials="same-origin",d}function E(R){if(R.ep)return;R.ep=!0;const d=b(R);fetch(R.href,d)}})();var br=function(){function A(c,a){if(!R[c]){R[c]={};for(var t=0;t<c.length;t++)R[c][c.charAt(t)]=t}return R[c][a]}var T=String.fromCharCode,b="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=",E="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+-$",R={},d={compressToBase64:function(c){if(c==null)return"";var a=d._compress(c,6,function(t){return b.charAt(t)});switch(a.length%4){default:case 0:return a;case 1:return a+"===";case 2:return a+"==";case 3:return a+"="}},decompressFromBase64:function(c){return c==null?"":c==""?null:d._decompress(c.length,32,function(a){return A(b,c.charAt(a))})},compressToUTF16:function(c){return c==null?"":d._compress(c,15,function(a){return T(a+32)})+" "},decompressFromUTF16:function(c){return c==null?"":c==""?null:d._decompress(c.length,16384,function(a){return c.charCodeAt(a)-32})},compressToUint8Array:function(c){for(var a=d.compress(c),t=new Uint8Array(2*a.length),e=0,n=a.length;n>e;e++){var r=a.charCodeAt(e);t[2*e]=r>>>8,t[2*e+1]=r%256}return t},decompressFromUint8Array:function(c){if(c==null)return d.decompress(c);for(var a=new Array(c.length/2),t=0,e=a.length;e>t;t++)a[t]=256*c[2*t]+c[2*t+1];var n=[];return a.forEach(function(r){n.push(T(r))}),d.decompress(n.join(""))},compressToEncodedURIComponent:function(c){return c==null?"":d._compress(c,6,function(a){return E.charAt(a)})},decompressFromEncodedURIComponent:function(c){return c==null?"":c==""?null:(c=c.replace(/ /g,"+"),d._decompress(c.length,32,function(a){return A(E,c.charAt(a))}))},compress:function(c){return d._compress(c,16,function(a){return T(a)})},_compress:function(c,a,t){if(c==null)return"";var e,n,r,i={},o={},h="",p="",y="",L=2,m=3,s=2,g=[],_=0,f=0;for(r=0;r<c.length;r+=1)if(h=c.charAt(r),Object.prototype.hasOwnProperty.call(i,h)||(i[h]=m++,o[h]=!0),p=y+h,Object.prototype.hasOwnProperty.call(i,p))y=p;else{if(Object.prototype.hasOwnProperty.call(o,y)){if(y.charCodeAt(0)<256){for(e=0;s>e;e++)_<<=1,f==a-1?(f=0,g.push(t(_)),_=0):f++;for(n=y.charCodeAt(0),e=0;8>e;e++)_=_<<1|1&n,f==a-1?(f=0,g.push(t(_)),_=0):f++,n>>=1}else{for(n=1,e=0;s>e;e++)_=_<<1|n,f==a-1?(f=0,g.push(t(_)),_=0):f++,n=0;for(n=y.charCodeAt(0),e=0;16>e;e++)_=_<<1|1&n,f==a-1?(f=0,g.push(t(_)),_=0):f++,n>>=1}L--,L==0&&(L=Math.pow(2,s),s++),delete o[y]}else for(n=i[y],e=0;s>e;e++)_=_<<1|1&n,f==a-1?(f=0,g.push(t(_)),_=0):f++,n>>=1;L--,L==0&&(L=Math.pow(2,s),s++),i[p]=m++,y=String(h)}if(y!==""){if(Object.prototype.hasOwnProperty.call(o,y)){if(y.charCodeAt(0)<256){for(e=0;s>e;e++)_<<=1,f==a-1?(f=0,g.push(t(_)),_=0):f++;for(n=y.charCodeAt(0),e=0;8>e;e++)_=_<<1|1&n,f==a-1?(f=0,g.push(t(_)),_=0):f++,n>>=1}else{for(n=1,e=0;s>e;e++)_=_<<1|n,f==a-1?(f=0,g.push(t(_)),_=0):f++,n=0;for(n=y.charCodeAt(0),e=0;16>e;e++)_=_<<1|1&n,f==a-1?(f=0,g.push(t(_)),_=0):f++,n>>=1}L--,L==0&&(L=Math.pow(2,s),s++),delete o[y]}else for(n=i[y],e=0;s>e;e++)_=_<<1|1&n,f==a-1?(f=0,g.push(t(_)),_=0):f++,n>>=1;L--,L==0&&(L=Math.pow(2,s),s++)}for(n=2,e=0;s>e;e++)_=_<<1|1&n,f==a-1?(f=0,g.push(t(_)),_=0):f++,n>>=1;for(;;){if(_<<=1,f==a-1){g.push(t(_));break}f++}return g.join("")},decompress:function(c){return c==null?"":c==""?null:d._decompress(c.length,32768,function(a){return c.charCodeAt(a)})},_decompress:function(c,a,t){var e,n,r,i,o,h,p,y=[],L=4,m=4,s=3,g="",_=[],f={val:t(0),position:a,index:1};for(e=0;3>e;e+=1)y[e]=e;for(r=0,o=Math.pow(2,2),h=1;h!=o;)i=f.val&f.position,f.position>>=1,f.position==0&&(f.position=a,f.val=t(f.index++)),r|=(i>0?1:0)*h,h<<=1;switch(r){case 0:for(r=0,o=Math.pow(2,8),h=1;h!=o;)i=f.val&f.position,f.position>>=1,f.position==0&&(f.position=a,f.val=t(f.index++)),r|=(i>0?1:0)*h,h<<=1;p=T(r);break;case 1:for(r=0,o=Math.pow(2,16),h=1;h!=o;)i=f.val&f.position,f.position>>=1,f.position==0&&(f.position=a,f.val=t(f.index++)),r|=(i>0?1:0)*h,h<<=1;p=T(r);break;case 2:return""}for(y[3]=p,n=p,_.push(p);;){if(f.index>c)return"";for(r=0,o=Math.pow(2,s),h=1;h!=o;)i=f.val&f.position,f.position>>=1,f.position==0&&(f.position=a,f.val=t(f.index++)),r|=(i>0?1:0)*h,h<<=1;switch(p=r){case 0:for(r=0,o=Math.pow(2,8),h=1;h!=o;)i=f.val&f.position,f.position>>=1,f.position==0&&(f.position=a,f.val=t(f.index++)),r|=(i>0?1:0)*h,h<<=1;y[m++]=T(r),p=m-1,L--;break;case 1:for(r=0,o=Math.pow(2,16),h=1;h!=o;)i=f.val&f.position,f.position>>=1,f.position==0&&(f.position=a,f.val=t(f.index++)),r|=(i>0?1:0)*h,h<<=1;y[m++]=T(r),p=m-1,L--;break;case 2:return _.join("")}if(L==0&&(L=Math.pow(2,s),s++),y[p])g=y[p];else{if(p!==m)return null;g=n+n.charAt(0)}_.push(g),y[m++]=n+g.charAt(0),L--,n=g,L==0&&(L=Math.pow(2,s),s++)}}};return d}();typeof define=="function"&&define.amd?define(function(){return br}):typeof module<"u"&&module!=null&&(module.exports=br);/*!

JSZip v3.5.0 - A JavaScript class for generating and reading zip files
<http://stuartk.com/jszip>

(c) 2009-2016 Stuart Knightley <stuart [at] stuartk.com>
Dual licenced under the MIT license or GPLv3. See https://raw.github.com/Stuk/jszip/master/LICENSE.markdown.

JSZip uses the library pako released under the MIT license :
https://github.com/nodeca/pako/blob/master/LICENSE
*/(function(A){typeof exports=="object"&&typeof module<"u"?module.exports=A():typeof define=="function"&&define.amd?define([],A):(typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:this).JSZip=A()})(function(){return function A(T,b,E){function R(a,t){if(!b[a]){if(!T[a]){var e=typeof require=="function"&&require;if(!t&&e)return e(a,!0);if(d)return d(a,!0);var n=new Error("Cannot find module '"+a+"'");throw n.code="MODULE_NOT_FOUND",n}var r=b[a]={exports:{}};T[a][0].call(r.exports,function(i){var o=T[a][1][i];return R(o||i)},r,r.exports,A,T,b,E)}return b[a].exports}for(var d=typeof require=="function"&&require,c=0;c<E.length;c++)R(E[c]);return R}({1:[function(A,T,b){var E=A("./utils"),R=A("./support"),d="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=";b.encode=function(c){for(var a,t,e,n,r,i,o,h=[],p=0,y=c.length,L=y,m=E.getTypeOf(c)!=="string";p<c.length;)L=y-p,e=m?(a=c[p++],t=p<y?c[p++]:0,p<y?c[p++]:0):(a=c.charCodeAt(p++),t=p<y?c.charCodeAt(p++):0,p<y?c.charCodeAt(p++):0),n=a>>2,r=(3&a)<<4|t>>4,i=1<L?(15&t)<<2|e>>6:64,o=2<L?63&e:64,h.push(d.charAt(n)+d.charAt(r)+d.charAt(i)+d.charAt(o));return h.join("")},b.decode=function(c){var a,t,e,n,r,i,o=0,h=0,p="data:";if(c.substr(0,p.length)===p)throw new Error("Invalid base64 input, it looks like a data url.");var y,L=3*(c=c.replace(/[^A-Za-z0-9\+\/\=]/g,"")).length/4;if(c.charAt(c.length-1)===d.charAt(64)&&L--,c.charAt(c.length-2)===d.charAt(64)&&L--,L%1!=0)throw new Error("Invalid base64 input, bad content length.");for(y=R.uint8array?new Uint8Array(0|L):new Array(0|L);o<c.length;)a=d.indexOf(c.charAt(o++))<<2|(n=d.indexOf(c.charAt(o++)))>>4,t=(15&n)<<4|(r=d.indexOf(c.charAt(o++)))>>2,e=(3&r)<<6|(i=d.indexOf(c.charAt(o++))),y[h++]=a,r!==64&&(y[h++]=t),i!==64&&(y[h++]=e);return y}},{"./support":30,"./utils":32}],2:[function(A,T,b){var E=A("./external"),R=A("./stream/DataWorker"),d=A("./stream/DataLengthProbe"),c=A("./stream/Crc32Probe");d=A("./stream/DataLengthProbe");function a(t,e,n,r,i){this.compressedSize=t,this.uncompressedSize=e,this.crc32=n,this.compression=r,this.compressedContent=i}a.prototype={getContentWorker:function(){var t=new R(E.Promise.resolve(this.compressedContent)).pipe(this.compression.uncompressWorker()).pipe(new d("data_length")),e=this;return t.on("end",function(){if(this.streamInfo.data_length!==e.uncompressedSize)throw new Error("Bug : uncompressed data size mismatch")}),t},getCompressedWorker:function(){return new R(E.Promise.resolve(this.compressedContent)).withStreamInfo("compressedSize",this.compressedSize).withStreamInfo("uncompressedSize",this.uncompressedSize).withStreamInfo("crc32",this.crc32).withStreamInfo("compression",this.compression)}},a.createWorkerFrom=function(t,e,n){return t.pipe(new c).pipe(new d("uncompressedSize")).pipe(e.compressWorker(n)).pipe(new d("compressedSize")).withStreamInfo("compression",e)},T.exports=a},{"./external":6,"./stream/Crc32Probe":25,"./stream/DataLengthProbe":26,"./stream/DataWorker":27}],3:[function(A,T,b){var E=A("./stream/GenericWorker");b.STORE={magic:"\0\0",compressWorker:function(R){return new E("STORE compression")},uncompressWorker:function(){return new E("STORE decompression")}},b.DEFLATE=A("./flate")},{"./flate":7,"./stream/GenericWorker":28}],4:[function(A,T,b){var E=A("./utils"),R=function(){for(var d,c=[],a=0;a<256;a++){d=a;for(var t=0;t<8;t++)d=1&d?3988292384^d>>>1:d>>>1;c[a]=d}return c}();T.exports=function(d,c){return d!==void 0&&d.length?E.getTypeOf(d)!=="string"?function(a,t,e,n){var r=R,i=n+e;a^=-1;for(var o=n;o<i;o++)a=a>>>8^r[255&(a^t[o])];return-1^a}(0|c,d,d.length,0):function(a,t,e,n){var r=R,i=n+e;a^=-1;for(var o=n;o<i;o++)a=a>>>8^r[255&(a^t.charCodeAt(o))];return-1^a}(0|c,d,d.length,0):0}},{"./utils":32}],5:[function(A,T,b){b.base64=!1,b.binary=!1,b.dir=!1,b.createFolders=!0,b.date=null,b.compression=null,b.compressionOptions=null,b.comment=null,b.unixPermissions=null,b.dosPermissions=null},{}],6:[function(A,T,b){var E=null;E=typeof Promise<"u"?Promise:A("lie"),T.exports={Promise:E}},{lie:37}],7:[function(A,T,b){var E=typeof Uint8Array<"u"&&typeof Uint16Array<"u"&&typeof Uint32Array<"u",R=A("pako"),d=A("./utils"),c=A("./stream/GenericWorker"),a=E?"uint8array":"array";function t(e,n){c.call(this,"FlateWorker/"+e),this._pako=null,this._pakoAction=e,this._pakoOptions=n,this.meta={}}b.magic="\b\0",d.inherits(t,c),t.prototype.processChunk=function(e){this.meta=e.meta,this._pako===null&&this._createPako(),this._pako.push(d.transformTo(a,e.data),!1)},t.prototype.flush=function(){c.prototype.flush.call(this),this._pako===null&&this._createPako(),this._pako.push([],!0)},t.prototype.cleanUp=function(){c.prototype.cleanUp.call(this),this._pako=null},t.prototype._createPako=function(){this._pako=new R[this._pakoAction]({raw:!0,level:this._pakoOptions.level||-1});var e=this;this._pako.onData=function(n){e.push({data:n,meta:e.meta})}},b.compressWorker=function(e){return new t("Deflate",e)},b.uncompressWorker=function(){return new t("Inflate",{})}},{"./stream/GenericWorker":28,"./utils":32,pako:38}],8:[function(A,T,b){function E(r,i){var o,h="";for(o=0;o<i;o++)h+=String.fromCharCode(255&r),r>>>=8;return h}function R(r,i,o,h,p,y){var L,m,s=r.file,g=r.compression,_=y!==a.utf8encode,f=d.transformTo("string",y(s.name)),v=d.transformTo("string",a.utf8encode(s.name)),l=s.comment,w=d.transformTo("string",y(l)),k=d.transformTo("string",a.utf8encode(l)),F=v.length!==s.name.length,x=k.length!==l.length,N="",G="",q="",ne=s.dir,X=s.date,j={crc32:0,compressedSize:0,uncompressedSize:0};i&&!o||(j.crc32=r.crc32,j.compressedSize=r.compressedSize,j.uncompressedSize=r.uncompressedSize);var Y=0;i&&(Y|=8),_||!F&&!x||(Y|=2048);var ee=0,ie=0;ne&&(ee|=16),p==="UNIX"?(ie=798,ee|=function(ce,ye){var me=ce;return ce||(me=ye?16893:33204),(65535&me)<<16}(s.unixPermissions,ne)):(ie=20,ee|=function(ce){return 63&(ce||0)}(s.dosPermissions)),L=X.getUTCHours(),L<<=6,L|=X.getUTCMinutes(),L<<=5,L|=X.getUTCSeconds()/2,m=X.getUTCFullYear()-1980,m<<=4,m|=X.getUTCMonth()+1,m<<=5,m|=X.getUTCDate(),F&&(G=E(1,1)+E(t(f),4)+v,N+="up"+E(G.length,2)+G),x&&(q=E(1,1)+E(t(w),4)+k,N+="uc"+E(q.length,2)+q);var ae="";return ae+=`
\0`,ae+=E(Y,2),ae+=g.magic,ae+=E(L,2),ae+=E(m,2),ae+=E(j.crc32,4),ae+=E(j.compressedSize,4),ae+=E(j.uncompressedSize,4),ae+=E(f.length,2),ae+=E(N.length,2),{fileRecord:e.LOCAL_FILE_HEADER+ae+f+N,dirRecord:e.CENTRAL_FILE_HEADER+E(ie,2)+ae+E(w.length,2)+"\0\0\0\0"+E(ee,4)+E(h,4)+f+N+w}}var d=A("../utils"),c=A("../stream/GenericWorker"),a=A("../utf8"),t=A("../crc32"),e=A("../signature");function n(r,i,o,h){c.call(this,"ZipFileWorker"),this.bytesWritten=0,this.zipComment=i,this.zipPlatform=o,this.encodeFileName=h,this.streamFiles=r,this.accumulate=!1,this.contentBuffer=[],this.dirRecords=[],this.currentSourceOffset=0,this.entriesCount=0,this.currentFile=null,this._sources=[]}d.inherits(n,c),n.prototype.push=function(r){var i=r.meta.percent||0,o=this.entriesCount,h=this._sources.length;this.accumulate?this.contentBuffer.push(r):(this.bytesWritten+=r.data.length,c.prototype.push.call(this,{data:r.data,meta:{currentFile:this.currentFile,percent:o?(i+100*(o-h-1))/o:100}}))},n.prototype.openedSource=function(r){this.currentSourceOffset=this.bytesWritten,this.currentFile=r.file.name;var i=this.streamFiles&&!r.file.dir;if(i){var o=R(r,i,!1,this.currentSourceOffset,this.zipPlatform,this.encodeFileName);this.push({data:o.fileRecord,meta:{percent:0}})}else this.accumulate=!0},n.prototype.closedSource=function(r){this.accumulate=!1;var i=this.streamFiles&&!r.file.dir,o=R(r,i,!0,this.currentSourceOffset,this.zipPlatform,this.encodeFileName);if(this.dirRecords.push(o.dirRecord),i)this.push({data:function(h){return e.DATA_DESCRIPTOR+E(h.crc32,4)+E(h.compressedSize,4)+E(h.uncompressedSize,4)}(r),meta:{percent:100}});else for(this.push({data:o.fileRecord,meta:{percent:0}});this.contentBuffer.length;)this.push(this.contentBuffer.shift());this.currentFile=null},n.prototype.flush=function(){for(var r=this.bytesWritten,i=0;i<this.dirRecords.length;i++)this.push({data:this.dirRecords[i],meta:{percent:100}});var o=this.bytesWritten-r,h=function(p,y,L,m,s){var g=d.transformTo("string",s(m));return e.CENTRAL_DIRECTORY_END+"\0\0\0\0"+E(p,2)+E(p,2)+E(y,4)+E(L,4)+E(g.length,2)+g}(this.dirRecords.length,o,r,this.zipComment,this.encodeFileName);this.push({data:h,meta:{percent:100}})},n.prototype.prepareNextSource=function(){this.previous=this._sources.shift(),this.openedSource(this.previous.streamInfo),this.isPaused?this.previous.pause():this.previous.resume()},n.prototype.registerPrevious=function(r){this._sources.push(r);var i=this;return r.on("data",function(o){i.processChunk(o)}),r.on("end",function(){i.closedSource(i.previous.streamInfo),i._sources.length?i.prepareNextSource():i.end()}),r.on("error",function(o){i.error(o)}),this},n.prototype.resume=function(){return!!c.prototype.resume.call(this)&&(!this.previous&&this._sources.length?(this.prepareNextSource(),!0):this.previous||this._sources.length||this.generatedError?void 0:(this.end(),!0))},n.prototype.error=function(r){var i=this._sources;if(!c.prototype.error.call(this,r))return!1;for(var o=0;o<i.length;o++)try{i[o].error(r)}catch{}return!0},n.prototype.lock=function(){c.prototype.lock.call(this);for(var r=this._sources,i=0;i<r.length;i++)r[i].lock()},T.exports=n},{"../crc32":4,"../signature":23,"../stream/GenericWorker":28,"../utf8":31,"../utils":32}],9:[function(A,T,b){var E=A("../compressions"),R=A("./ZipFileWorker");b.generateWorker=function(d,c,a){var t=new R(c.streamFiles,a,c.platform,c.encodeFileName),e=0;try{d.forEach(function(n,r){e++;var i=function(y,L){var m=y||L,s=E[m];if(!s)throw new Error(m+" is not a valid compression method !");return s}(r.options.compression,c.compression),o=r.options.compressionOptions||c.compressionOptions||{},h=r.dir,p=r.date;r._compressWorker(i,o).withStreamInfo("file",{name:n,dir:h,date:p,comment:r.comment||"",unixPermissions:r.unixPermissions,dosPermissions:r.dosPermissions}).pipe(t)}),t.entriesCount=e}catch(n){t.error(n)}return t}},{"../compressions":3,"./ZipFileWorker":8}],10:[function(A,T,b){function E(){if(!(this instanceof E))return new E;if(arguments.length)throw new Error("The constructor with parameters has been removed in JSZip 3.0, please check the upgrade guide.");this.files={},this.comment=null,this.root="",this.clone=function(){var R=new E;for(var d in this)typeof this[d]!="function"&&(R[d]=this[d]);return R}}(E.prototype=A("./object")).loadAsync=A("./load"),E.support=A("./support"),E.defaults=A("./defaults"),E.version="3.5.0",E.loadAsync=function(R,d){return new E().loadAsync(R,d)},E.external=A("./external"),T.exports=E},{"./defaults":5,"./external":6,"./load":11,"./object":15,"./support":30}],11:[function(A,T,b){var E=A("./utils"),R=A("./external"),d=A("./utf8"),c=(E=A("./utils"),A("./zipEntries")),a=A("./stream/Crc32Probe"),t=A("./nodejsUtils");function e(n){return new R.Promise(function(r,i){var o=n.decompressed.getContentWorker().pipe(new a);o.on("error",function(h){i(h)}).on("end",function(){o.streamInfo.crc32!==n.decompressed.crc32?i(new Error("Corrupted zip : CRC32 mismatch")):r()}).resume()})}T.exports=function(n,r){var i=this;return r=E.extend(r||{},{base64:!1,checkCRC32:!1,optimizedBinaryString:!1,createFolders:!1,decodeFileName:d.utf8decode}),t.isNode&&t.isStream(n)?R.Promise.reject(new Error("JSZip can't accept a stream when loading a zip file.")):E.prepareContent("the loaded zip file",n,!0,r.optimizedBinaryString,r.base64).then(function(o){var h=new c(r);return h.load(o),h}).then(function(o){var h=[R.Promise.resolve(o)],p=o.files;if(r.checkCRC32)for(var y=0;y<p.length;y++)h.push(e(p[y]));return R.Promise.all(h)}).then(function(o){for(var h=o.shift(),p=h.files,y=0;y<p.length;y++){var L=p[y];i.file(L.fileNameStr,L.decompressed,{binary:!0,optimizedBinaryString:!0,date:L.date,dir:L.dir,comment:L.fileCommentStr.length?L.fileCommentStr:null,unixPermissions:L.unixPermissions,dosPermissions:L.dosPermissions,createFolders:r.createFolders})}return h.zipComment.length&&(i.comment=h.zipComment),i})}},{"./external":6,"./nodejsUtils":14,"./stream/Crc32Probe":25,"./utf8":31,"./utils":32,"./zipEntries":33}],12:[function(A,T,b){var E=A("../utils"),R=A("../stream/GenericWorker");function d(c,a){R.call(this,"Nodejs stream input adapter for "+c),this._upstreamEnded=!1,this._bindStream(a)}E.inherits(d,R),d.prototype._bindStream=function(c){var a=this;(this._stream=c).pause(),c.on("data",function(t){a.push({data:t,meta:{percent:0}})}).on("error",function(t){a.isPaused?this.generatedError=t:a.error(t)}).on("end",function(){a.isPaused?a._upstreamEnded=!0:a.end()})},d.prototype.pause=function(){return!!R.prototype.pause.call(this)&&(this._stream.pause(),!0)},d.prototype.resume=function(){return!!R.prototype.resume.call(this)&&(this._upstreamEnded?this.end():this._stream.resume(),!0)},T.exports=d},{"../stream/GenericWorker":28,"../utils":32}],13:[function(A,T,b){var E=A("readable-stream").Readable;function R(d,c,a){E.call(this,c),this._helper=d;var t=this;d.on("data",function(e,n){t.push(e)||t._helper.pause(),a&&a(n)}).on("error",function(e){t.emit("error",e)}).on("end",function(){t.push(null)})}A("../utils").inherits(R,E),R.prototype._read=function(){this._helper.resume()},T.exports=R},{"../utils":32,"readable-stream":16}],14:[function(A,T,b){T.exports={isNode:typeof Buffer<"u",newBufferFrom:function(E,R){if(Buffer.from&&Buffer.from!==Uint8Array.from)return Buffer.from(E,R);if(typeof E=="number")throw new Error('The "data" argument must not be a number');return new Buffer(E,R)},allocBuffer:function(E){if(Buffer.alloc)return Buffer.alloc(E);var R=new Buffer(E);return R.fill(0),R},isBuffer:function(E){return Buffer.isBuffer(E)},isStream:function(E){return E&&typeof E.on=="function"&&typeof E.pause=="function"&&typeof E.resume=="function"}}},{}],15:[function(A,T,b){function E(s,g,_){var f,v=d.getTypeOf(g),l=d.extend(_||{},t);l.date=l.date||new Date,l.compression!==null&&(l.compression=l.compression.toUpperCase()),typeof l.unixPermissions=="string"&&(l.unixPermissions=parseInt(l.unixPermissions,8)),l.unixPermissions&&16384&l.unixPermissions&&(l.dir=!0),l.dosPermissions&&16&l.dosPermissions&&(l.dir=!0),l.dir&&(s=p(s)),l.createFolders&&(f=h(s))&&y.call(this,f,!0);var w=v==="string"&&l.binary===!1&&l.base64===!1;_&&_.binary!==void 0||(l.binary=!w),(g instanceof e&&g.uncompressedSize===0||l.dir||!g||g.length===0)&&(l.base64=!1,l.binary=!0,g="",l.compression="STORE",v="string");var k=null;k=g instanceof e||g instanceof c?g:i.isNode&&i.isStream(g)?new o(s,g):d.prepareContent(s,g,l.binary,l.optimizedBinaryString,l.base64);var F=new n(s,k,l);this.files[s]=F}var R=A("./utf8"),d=A("./utils"),c=A("./stream/GenericWorker"),a=A("./stream/StreamHelper"),t=A("./defaults"),e=A("./compressedObject"),n=A("./zipObject"),r=A("./generate"),i=A("./nodejsUtils"),o=A("./nodejs/NodejsStreamInputAdapter"),h=function(s){s.slice(-1)==="/"&&(s=s.substring(0,s.length-1));var g=s.lastIndexOf("/");return 0<g?s.substring(0,g):""},p=function(s){return s.slice(-1)!=="/"&&(s+="/"),s},y=function(s,g){return g=g!==void 0?g:t.createFolders,s=p(s),this.files[s]||E.call(this,s,null,{dir:!0,createFolders:g}),this.files[s]};function L(s){return Object.prototype.toString.call(s)==="[object RegExp]"}var m={load:function(){throw new Error("This method has been removed in JSZip 3.0, please check the upgrade guide.")},forEach:function(s){var g,_,f;for(g in this.files)this.files.hasOwnProperty(g)&&(f=this.files[g],(_=g.slice(this.root.length,g.length))&&g.slice(0,this.root.length)===this.root&&s(_,f))},filter:function(s){var g=[];return this.forEach(function(_,f){s(_,f)&&g.push(f)}),g},file:function(s,g,_){if(arguments.length!==1)return s=this.root+s,E.call(this,s,g,_),this;if(L(s)){var f=s;return this.filter(function(l,w){return!w.dir&&f.test(l)})}var v=this.files[this.root+s];return v&&!v.dir?v:null},folder:function(s){if(!s)return this;if(L(s))return this.filter(function(v,l){return l.dir&&s.test(v)});var g=this.root+s,_=y.call(this,g),f=this.clone();return f.root=_.name,f},remove:function(s){s=this.root+s;var g=this.files[s];if(g||(s.slice(-1)!=="/"&&(s+="/"),g=this.files[s]),g&&!g.dir)delete this.files[s];else for(var _=this.filter(function(v,l){return l.name.slice(0,s.length)===s}),f=0;f<_.length;f++)delete this.files[_[f].name];return this},generate:function(s){throw new Error("This method has been removed in JSZip 3.0, please check the upgrade guide.")},generateInternalStream:function(s){var g,_={};try{if((_=d.extend(s||{},{streamFiles:!1,compression:"STORE",compressionOptions:null,type:"",platform:"DOS",comment:null,mimeType:"application/zip",encodeFileName:R.utf8encode})).type=_.type.toLowerCase(),_.compression=_.compression.toUpperCase(),_.type==="binarystring"&&(_.type="string"),!_.type)throw new Error("No output type specified.");d.checkSupport(_.type),_.platform!=="darwin"&&_.platform!=="freebsd"&&_.platform!=="linux"&&_.platform!=="sunos"||(_.platform="UNIX"),_.platform==="win32"&&(_.platform="DOS");var f=_.comment||this.comment||"";g=r.generateWorker(this,_,f)}catch(v){(g=new c("error")).error(v)}return new a(g,_.type||"string",_.mimeType)},generateAsync:function(s,g){return this.generateInternalStream(s).accumulate(g)},generateNodeStream:function(s,g){return(s=s||{}).type||(s.type="nodebuffer"),this.generateInternalStream(s).toNodejsStream(g)}};T.exports=m},{"./compressedObject":2,"./defaults":5,"./generate":9,"./nodejs/NodejsStreamInputAdapter":12,"./nodejsUtils":14,"./stream/GenericWorker":28,"./stream/StreamHelper":29,"./utf8":31,"./utils":32,"./zipObject":35}],16:[function(A,T,b){T.exports=A("stream")},{stream:void 0}],17:[function(A,T,b){var E=A("./DataReader");function R(d){E.call(this,d);for(var c=0;c<this.data.length;c++)d[c]=255&d[c]}A("../utils").inherits(R,E),R.prototype.byteAt=function(d){return this.data[this.zero+d]},R.prototype.lastIndexOfSignature=function(d){for(var c=d.charCodeAt(0),a=d.charCodeAt(1),t=d.charCodeAt(2),e=d.charCodeAt(3),n=this.length-4;0<=n;--n)if(this.data[n]===c&&this.data[n+1]===a&&this.data[n+2]===t&&this.data[n+3]===e)return n-this.zero;return-1},R.prototype.readAndCheckSignature=function(d){var c=d.charCodeAt(0),a=d.charCodeAt(1),t=d.charCodeAt(2),e=d.charCodeAt(3),n=this.readData(4);return c===n[0]&&a===n[1]&&t===n[2]&&e===n[3]},R.prototype.readData=function(d){if(this.checkOffset(d),d===0)return[];var c=this.data.slice(this.zero+this.index,this.zero+this.index+d);return this.index+=d,c},T.exports=R},{"../utils":32,"./DataReader":18}],18:[function(A,T,b){var E=A("../utils");function R(d){this.data=d,this.length=d.length,this.index=0,this.zero=0}R.prototype={checkOffset:function(d){this.checkIndex(this.index+d)},checkIndex:function(d){if(this.length<this.zero+d||d<0)throw new Error("End of data reached (data length = "+this.length+", asked index = "+d+"). Corrupted zip ?")},setIndex:function(d){this.checkIndex(d),this.index=d},skip:function(d){this.setIndex(this.index+d)},byteAt:function(d){},readInt:function(d){var c,a=0;for(this.checkOffset(d),c=this.index+d-1;c>=this.index;c--)a=(a<<8)+this.byteAt(c);return this.index+=d,a},readString:function(d){return E.transformTo("string",this.readData(d))},readData:function(d){},lastIndexOfSignature:function(d){},readAndCheckSignature:function(d){},readDate:function(){var d=this.readInt(4);return new Date(Date.UTC(1980+(d>>25&127),(d>>21&15)-1,d>>16&31,d>>11&31,d>>5&63,(31&d)<<1))}},T.exports=R},{"../utils":32}],19:[function(A,T,b){var E=A("./Uint8ArrayReader");function R(d){E.call(this,d)}A("../utils").inherits(R,E),R.prototype.readData=function(d){this.checkOffset(d);var c=this.data.slice(this.zero+this.index,this.zero+this.index+d);return this.index+=d,c},T.exports=R},{"../utils":32,"./Uint8ArrayReader":21}],20:[function(A,T,b){var E=A("./DataReader");function R(d){E.call(this,d)}A("../utils").inherits(R,E),R.prototype.byteAt=function(d){return this.data.charCodeAt(this.zero+d)},R.prototype.lastIndexOfSignature=function(d){return this.data.lastIndexOf(d)-this.zero},R.prototype.readAndCheckSignature=function(d){return d===this.readData(4)},R.prototype.readData=function(d){this.checkOffset(d);var c=this.data.slice(this.zero+this.index,this.zero+this.index+d);return this.index+=d,c},T.exports=R},{"../utils":32,"./DataReader":18}],21:[function(A,T,b){var E=A("./ArrayReader");function R(d){E.call(this,d)}A("../utils").inherits(R,E),R.prototype.readData=function(d){if(this.checkOffset(d),d===0)return new Uint8Array(0);var c=this.data.subarray(this.zero+this.index,this.zero+this.index+d);return this.index+=d,c},T.exports=R},{"../utils":32,"./ArrayReader":17}],22:[function(A,T,b){var E=A("../utils"),R=A("../support"),d=A("./ArrayReader"),c=A("./StringReader"),a=A("./NodeBufferReader"),t=A("./Uint8ArrayReader");T.exports=function(e){var n=E.getTypeOf(e);return E.checkSupport(n),n!=="string"||R.uint8array?n==="nodebuffer"?new a(e):R.uint8array?new t(E.transformTo("uint8array",e)):new d(E.transformTo("array",e)):new c(e)}},{"../support":30,"../utils":32,"./ArrayReader":17,"./NodeBufferReader":19,"./StringReader":20,"./Uint8ArrayReader":21}],23:[function(A,T,b){b.LOCAL_FILE_HEADER="PK",b.CENTRAL_FILE_HEADER="PK",b.CENTRAL_DIRECTORY_END="PK",b.ZIP64_CENTRAL_DIRECTORY_LOCATOR="PK\x07",b.ZIP64_CENTRAL_DIRECTORY_END="PK",b.DATA_DESCRIPTOR="PK\x07\b"},{}],24:[function(A,T,b){var E=A("./GenericWorker"),R=A("../utils");function d(c){E.call(this,"ConvertWorker to "+c),this.destType=c}R.inherits(d,E),d.prototype.processChunk=function(c){this.push({data:R.transformTo(this.destType,c.data),meta:c.meta})},T.exports=d},{"../utils":32,"./GenericWorker":28}],25:[function(A,T,b){var E=A("./GenericWorker"),R=A("../crc32");function d(){E.call(this,"Crc32Probe"),this.withStreamInfo("crc32",0)}A("../utils").inherits(d,E),d.prototype.processChunk=function(c){this.streamInfo.crc32=R(c.data,this.streamInfo.crc32||0),this.push(c)},T.exports=d},{"../crc32":4,"../utils":32,"./GenericWorker":28}],26:[function(A,T,b){var E=A("../utils"),R=A("./GenericWorker");function d(c){R.call(this,"DataLengthProbe for "+c),this.propName=c,this.withStreamInfo(c,0)}E.inherits(d,R),d.prototype.processChunk=function(c){if(c){var a=this.streamInfo[this.propName]||0;this.streamInfo[this.propName]=a+c.data.length}R.prototype.processChunk.call(this,c)},T.exports=d},{"../utils":32,"./GenericWorker":28}],27:[function(A,T,b){var E=A("../utils"),R=A("./GenericWorker");function d(c){R.call(this,"DataWorker");var a=this;this.dataIsReady=!1,this.index=0,this.max=0,this.data=null,this.type="",this._tickScheduled=!1,c.then(function(t){a.dataIsReady=!0,a.data=t,a.max=t&&t.length||0,a.type=E.getTypeOf(t),a.isPaused||a._tickAndRepeat()},function(t){a.error(t)})}E.inherits(d,R),d.prototype.cleanUp=function(){R.prototype.cleanUp.call(this),this.data=null},d.prototype.resume=function(){return!!R.prototype.resume.call(this)&&(!this._tickScheduled&&this.dataIsReady&&(this._tickScheduled=!0,E.delay(this._tickAndRepeat,[],this)),!0)},d.prototype._tickAndRepeat=function(){this._tickScheduled=!1,this.isPaused||this.isFinished||(this._tick(),this.isFinished||(E.delay(this._tickAndRepeat,[],this),this._tickScheduled=!0))},d.prototype._tick=function(){if(this.isPaused||this.isFinished)return!1;var c=null,a=Math.min(this.max,this.index+16384);if(this.index>=this.max)return this.end();switch(this.type){case"string":c=this.data.substring(this.index,a);break;case"uint8array":c=this.data.subarray(this.index,a);break;case"array":case"nodebuffer":c=this.data.slice(this.index,a)}return this.index=a,this.push({data:c,meta:{percent:this.max?this.index/this.max*100:0}})},T.exports=d},{"../utils":32,"./GenericWorker":28}],28:[function(A,T,b){function E(R){this.name=R||"default",this.streamInfo={},this.generatedError=null,this.extraStreamInfo={},this.isPaused=!0,this.isFinished=!1,this.isLocked=!1,this._listeners={data:[],end:[],error:[]},this.previous=null}E.prototype={push:function(R){this.emit("data",R)},end:function(){if(this.isFinished)return!1;this.flush();try{this.emit("end"),this.cleanUp(),this.isFinished=!0}catch(R){this.emit("error",R)}return!0},error:function(R){return!this.isFinished&&(this.isPaused?this.generatedError=R:(this.isFinished=!0,this.emit("error",R),this.previous&&this.previous.error(R),this.cleanUp()),!0)},on:function(R,d){return this._listeners[R].push(d),this},cleanUp:function(){this.streamInfo=this.generatedError=this.extraStreamInfo=null,this._listeners=[]},emit:function(R,d){if(this._listeners[R])for(var c=0;c<this._listeners[R].length;c++)this._listeners[R][c].call(this,d)},pipe:function(R){return R.registerPrevious(this)},registerPrevious:function(R){if(this.isLocked)throw new Error("The stream '"+this+"' has already been used.");this.streamInfo=R.streamInfo,this.mergeStreamInfo(),this.previous=R;var d=this;return R.on("data",function(c){d.processChunk(c)}),R.on("end",function(){d.end()}),R.on("error",function(c){d.error(c)}),this},pause:function(){return!this.isPaused&&!this.isFinished&&(this.isPaused=!0,this.previous&&this.previous.pause(),!0)},resume:function(){if(!this.isPaused||this.isFinished)return!1;var R=this.isPaused=!1;return this.generatedError&&(this.error(this.generatedError),R=!0),this.previous&&this.previous.resume(),!R},flush:function(){},processChunk:function(R){this.push(R)},withStreamInfo:function(R,d){return this.extraStreamInfo[R]=d,this.mergeStreamInfo(),this},mergeStreamInfo:function(){for(var R in this.extraStreamInfo)this.extraStreamInfo.hasOwnProperty(R)&&(this.streamInfo[R]=this.extraStreamInfo[R])},lock:function(){if(this.isLocked)throw new Error("The stream '"+this+"' has already been used.");this.isLocked=!0,this.previous&&this.previous.lock()},toString:function(){var R="Worker "+this.name;return this.previous?this.previous+" -> "+R:R}},T.exports=E},{}],29:[function(A,T,b){var E=A("../utils"),R=A("./ConvertWorker"),d=A("./GenericWorker"),c=A("../base64"),a=A("../support"),t=A("../external"),e=null;if(a.nodestream)try{e=A("../nodejs/NodejsStreamOutputAdapter")}catch{}function n(i,o){return new t.Promise(function(h,p){var y=[],L=i._internalType,m=i._outputType,s=i._mimeType;i.on("data",function(g,_){y.push(g),o&&o(_)}).on("error",function(g){y=[],p(g)}).on("end",function(){try{var g=function(_,f,v){switch(_){case"blob":return E.newBlob(E.transformTo("arraybuffer",f),v);case"base64":return c.encode(f);default:return E.transformTo(_,f)}}(m,function(_,f){var v,l=0,w=null,k=0;for(v=0;v<f.length;v++)k+=f[v].length;switch(_){case"string":return f.join("");case"array":return Array.prototype.concat.apply([],f);case"uint8array":for(w=new Uint8Array(k),v=0;v<f.length;v++)w.set(f[v],l),l+=f[v].length;return w;case"nodebuffer":return Buffer.concat(f);default:throw new Error("concat : unsupported type '"+_+"'")}}(L,y),s);h(g)}catch(_){p(_)}y=[]}).resume()})}function r(i,o,h){var p=o;switch(o){case"blob":case"arraybuffer":p="uint8array";break;case"base64":p="string"}try{this._internalType=p,this._outputType=o,this._mimeType=h,E.checkSupport(p),this._worker=i.pipe(new R(p)),i.lock()}catch(y){this._worker=new d("error"),this._worker.error(y)}}r.prototype={accumulate:function(i){return n(this,i)},on:function(i,o){var h=this;return i==="data"?this._worker.on(i,function(p){o.call(h,p.data,p.meta)}):this._worker.on(i,function(){E.delay(o,arguments,h)}),this},resume:function(){return E.delay(this._worker.resume,[],this._worker),this},pause:function(){return this._worker.pause(),this},toNodejsStream:function(i){if(E.checkSupport("nodestream"),this._outputType!=="nodebuffer")throw new Error(this._outputType+" is not supported by this method");return new e(this,{objectMode:this._outputType!=="nodebuffer"},i)}},T.exports=r},{"../base64":1,"../external":6,"../nodejs/NodejsStreamOutputAdapter":13,"../support":30,"../utils":32,"./ConvertWorker":24,"./GenericWorker":28}],30:[function(A,T,b){if(b.base64=!0,b.array=!0,b.string=!0,b.arraybuffer=typeof ArrayBuffer<"u"&&typeof Uint8Array<"u",b.nodebuffer=typeof Buffer<"u",b.uint8array=typeof Uint8Array<"u",typeof ArrayBuffer>"u")b.blob=!1;else{var E=new ArrayBuffer(0);try{b.blob=new Blob([E],{type:"application/zip"}).size===0}catch{try{var R=new(self.BlobBuilder||self.WebKitBlobBuilder||self.MozBlobBuilder||self.MSBlobBuilder);R.append(E),b.blob=R.getBlob("application/zip").size===0}catch{b.blob=!1}}}try{b.nodestream=!!A("readable-stream").Readable}catch{b.nodestream=!1}},{"readable-stream":16}],31:[function(A,T,b){for(var E=A("./utils"),R=A("./support"),d=A("./nodejsUtils"),c=A("./stream/GenericWorker"),a=new Array(256),t=0;t<256;t++)a[t]=252<=t?6:248<=t?5:240<=t?4:224<=t?3:192<=t?2:1;a[254]=a[254]=1;function e(){c.call(this,"utf-8 decode"),this.leftOver=null}function n(){c.call(this,"utf-8 encode")}b.utf8encode=function(r){return R.nodebuffer?d.newBufferFrom(r,"utf-8"):function(i){var o,h,p,y,L,m=i.length,s=0;for(y=0;y<m;y++)(64512&(h=i.charCodeAt(y)))==55296&&y+1<m&&(64512&(p=i.charCodeAt(y+1)))==56320&&(h=65536+(h-55296<<10)+(p-56320),y++),s+=h<128?1:h<2048?2:h<65536?3:4;for(o=R.uint8array?new Uint8Array(s):new Array(s),y=L=0;L<s;y++)(64512&(h=i.charCodeAt(y)))==55296&&y+1<m&&(64512&(p=i.charCodeAt(y+1)))==56320&&(h=65536+(h-55296<<10)+(p-56320),y++),h<128?o[L++]=h:(h<2048?o[L++]=192|h>>>6:(h<65536?o[L++]=224|h>>>12:(o[L++]=240|h>>>18,o[L++]=128|h>>>12&63),o[L++]=128|h>>>6&63),o[L++]=128|63&h);return o}(r)},b.utf8decode=function(r){return R.nodebuffer?E.transformTo("nodebuffer",r).toString("utf-8"):function(i){var o,h,p,y,L=i.length,m=new Array(2*L);for(o=h=0;o<L;)if((p=i[o++])<128)m[h++]=p;else if(4<(y=a[p]))m[h++]=65533,o+=y-1;else{for(p&=y===2?31:y===3?15:7;1<y&&o<L;)p=p<<6|63&i[o++],y--;1<y?m[h++]=65533:p<65536?m[h++]=p:(p-=65536,m[h++]=55296|p>>10&1023,m[h++]=56320|1023&p)}return m.length!==h&&(m.subarray?m=m.subarray(0,h):m.length=h),E.applyFromCharCode(m)}(r=E.transformTo(R.uint8array?"uint8array":"array",r))},E.inherits(e,c),e.prototype.processChunk=function(r){var i=E.transformTo(R.uint8array?"uint8array":"array",r.data);if(this.leftOver&&this.leftOver.length){if(R.uint8array){var o=i;(i=new Uint8Array(o.length+this.leftOver.length)).set(this.leftOver,0),i.set(o,this.leftOver.length)}else i=this.leftOver.concat(i);this.leftOver=null}var h=function(y,L){var m;for((L=L||y.length)>y.length&&(L=y.length),m=L-1;0<=m&&(192&y[m])==128;)m--;return m<0||m===0?L:m+a[y[m]]>L?m:L}(i),p=i;h!==i.length&&(R.uint8array?(p=i.subarray(0,h),this.leftOver=i.subarray(h,i.length)):(p=i.slice(0,h),this.leftOver=i.slice(h,i.length))),this.push({data:b.utf8decode(p),meta:r.meta})},e.prototype.flush=function(){this.leftOver&&this.leftOver.length&&(this.push({data:b.utf8decode(this.leftOver),meta:{}}),this.leftOver=null)},b.Utf8DecodeWorker=e,E.inherits(n,c),n.prototype.processChunk=function(r){this.push({data:b.utf8encode(r.data),meta:r.meta})},b.Utf8EncodeWorker=n},{"./nodejsUtils":14,"./stream/GenericWorker":28,"./support":30,"./utils":32}],32:[function(A,T,b){var E=A("./support"),R=A("./base64"),d=A("./nodejsUtils"),c=A("set-immediate-shim"),a=A("./external");function t(h){return h}function e(h,p){for(var y=0;y<h.length;++y)p[y]=255&h.charCodeAt(y);return p}b.newBlob=function(h,p){b.checkSupport("blob");try{return new Blob([h],{type:p})}catch{try{var y=new(self.BlobBuilder||self.WebKitBlobBuilder||self.MozBlobBuilder||self.MSBlobBuilder);return y.append(h),y.getBlob(p)}catch{throw new Error("Bug : can't construct the Blob.")}}};var n={stringifyByChunk:function(h,p,y){var L=[],m=0,s=h.length;if(s<=y)return String.fromCharCode.apply(null,h);for(;m<s;)p==="array"||p==="nodebuffer"?L.push(String.fromCharCode.apply(null,h.slice(m,Math.min(m+y,s)))):L.push(String.fromCharCode.apply(null,h.subarray(m,Math.min(m+y,s)))),m+=y;return L.join("")},stringifyByChar:function(h){for(var p="",y=0;y<h.length;y++)p+=String.fromCharCode(h[y]);return p},applyCanBeUsed:{uint8array:function(){try{return E.uint8array&&String.fromCharCode.apply(null,new Uint8Array(1)).length===1}catch{return!1}}(),nodebuffer:function(){try{return E.nodebuffer&&String.fromCharCode.apply(null,d.allocBuffer(1)).length===1}catch{return!1}}()}};function r(h){var p=65536,y=b.getTypeOf(h),L=!0;if(y==="uint8array"?L=n.applyCanBeUsed.uint8array:y==="nodebuffer"&&(L=n.applyCanBeUsed.nodebuffer),L)for(;1<p;)try{return n.stringifyByChunk(h,y,p)}catch{p=Math.floor(p/2)}return n.stringifyByChar(h)}function i(h,p){for(var y=0;y<h.length;y++)p[y]=h[y];return p}b.applyFromCharCode=r;var o={};o.string={string:t,array:function(h){return e(h,new Array(h.length))},arraybuffer:function(h){return o.string.uint8array(h).buffer},uint8array:function(h){return e(h,new Uint8Array(h.length))},nodebuffer:function(h){return e(h,d.allocBuffer(h.length))}},o.array={string:r,array:t,arraybuffer:function(h){return new Uint8Array(h).buffer},uint8array:function(h){return new Uint8Array(h)},nodebuffer:function(h){return d.newBufferFrom(h)}},o.arraybuffer={string:function(h){return r(new Uint8Array(h))},array:function(h){return i(new Uint8Array(h),new Array(h.byteLength))},arraybuffer:t,uint8array:function(h){return new Uint8Array(h)},nodebuffer:function(h){return d.newBufferFrom(new Uint8Array(h))}},o.uint8array={string:r,array:function(h){return i(h,new Array(h.length))},arraybuffer:function(h){return h.buffer},uint8array:t,nodebuffer:function(h){return d.newBufferFrom(h)}},o.nodebuffer={string:r,array:function(h){return i(h,new Array(h.length))},arraybuffer:function(h){return o.nodebuffer.uint8array(h).buffer},uint8array:function(h){return i(h,new Uint8Array(h.length))},nodebuffer:t},b.transformTo=function(h,p){if(p=p||"",!h)return p;b.checkSupport(h);var y=b.getTypeOf(p);return o[y][h](p)},b.getTypeOf=function(h){return typeof h=="string"?"string":Object.prototype.toString.call(h)==="[object Array]"?"array":E.nodebuffer&&d.isBuffer(h)?"nodebuffer":E.uint8array&&h instanceof Uint8Array?"uint8array":E.arraybuffer&&h instanceof ArrayBuffer?"arraybuffer":void 0},b.checkSupport=function(h){if(!E[h.toLowerCase()])throw new Error(h+" is not supported by this platform")},b.MAX_VALUE_16BITS=65535,b.MAX_VALUE_32BITS=-1,b.pretty=function(h){var p,y,L="";for(y=0;y<(h||"").length;y++)L+="\\x"+((p=h.charCodeAt(y))<16?"0":"")+p.toString(16).toUpperCase();return L},b.delay=function(h,p,y){c(function(){h.apply(y||null,p||[])})},b.inherits=function(h,p){function y(){}y.prototype=p.prototype,h.prototype=new y},b.extend=function(){var h,p,y={};for(h=0;h<arguments.length;h++)for(p in arguments[h])arguments[h].hasOwnProperty(p)&&y[p]===void 0&&(y[p]=arguments[h][p]);return y},b.prepareContent=function(h,p,y,L,m){return a.Promise.resolve(p).then(function(s){return E.blob&&(s instanceof Blob||["[object File]","[object Blob]"].indexOf(Object.prototype.toString.call(s))!==-1)&&typeof FileReader<"u"?new a.Promise(function(g,_){var f=new FileReader;f.onload=function(v){g(v.target.result)},f.onerror=function(v){_(v.target.error)},f.readAsArrayBuffer(s)}):s}).then(function(s){var g=b.getTypeOf(s);return g?(g==="arraybuffer"?s=b.transformTo("uint8array",s):g==="string"&&(m?s=R.decode(s):y&&L!==!0&&(s=function(_){return e(_,E.uint8array?new Uint8Array(_.length):new Array(_.length))}(s))),s):a.Promise.reject(new Error("Can't read the data of '"+h+"'. Is it in a supported JavaScript type (String, Blob, ArrayBuffer, etc) ?"))})}},{"./base64":1,"./external":6,"./nodejsUtils":14,"./support":30,"set-immediate-shim":54}],33:[function(A,T,b){var E=A("./reader/readerFor"),R=A("./utils"),d=A("./signature"),c=A("./zipEntry"),a=(A("./utf8"),A("./support"));function t(e){this.files=[],this.loadOptions=e}t.prototype={checkSignature:function(e){if(!this.reader.readAndCheckSignature(e)){this.reader.index-=4;var n=this.reader.readString(4);throw new Error("Corrupted zip or bug: unexpected signature ("+R.pretty(n)+", expected "+R.pretty(e)+")")}},isSignature:function(e,n){var r=this.reader.index;this.reader.setIndex(e);var i=this.reader.readString(4)===n;return this.reader.setIndex(r),i},readBlockEndOfCentral:function(){this.diskNumber=this.reader.readInt(2),this.diskWithCentralDirStart=this.reader.readInt(2),this.centralDirRecordsOnThisDisk=this.reader.readInt(2),this.centralDirRecords=this.reader.readInt(2),this.centralDirSize=this.reader.readInt(4),this.centralDirOffset=this.reader.readInt(4),this.zipCommentLength=this.reader.readInt(2);var e=this.reader.readData(this.zipCommentLength),n=a.uint8array?"uint8array":"array",r=R.transformTo(n,e);this.zipComment=this.loadOptions.decodeFileName(r)},readBlockZip64EndOfCentral:function(){this.zip64EndOfCentralSize=this.reader.readInt(8),this.reader.skip(4),this.diskNumber=this.reader.readInt(4),this.diskWithCentralDirStart=this.reader.readInt(4),this.centralDirRecordsOnThisDisk=this.reader.readInt(8),this.centralDirRecords=this.reader.readInt(8),this.centralDirSize=this.reader.readInt(8),this.centralDirOffset=this.reader.readInt(8),this.zip64ExtensibleData={};for(var e,n,r,i=this.zip64EndOfCentralSize-44;0<i;)e=this.reader.readInt(2),n=this.reader.readInt(4),r=this.reader.readData(n),this.zip64ExtensibleData[e]={id:e,length:n,value:r}},readBlockZip64EndOfCentralLocator:function(){if(this.diskWithZip64CentralDirStart=this.reader.readInt(4),this.relativeOffsetEndOfZip64CentralDir=this.reader.readInt(8),this.disksCount=this.reader.readInt(4),1<this.disksCount)throw new Error("Multi-volumes zip are not supported")},readLocalFiles:function(){var e,n;for(e=0;e<this.files.length;e++)n=this.files[e],this.reader.setIndex(n.localHeaderOffset),this.checkSignature(d.LOCAL_FILE_HEADER),n.readLocalPart(this.reader),n.handleUTF8(),n.processAttributes()},readCentralDir:function(){var e;for(this.reader.setIndex(this.centralDirOffset);this.reader.readAndCheckSignature(d.CENTRAL_FILE_HEADER);)(e=new c({zip64:this.zip64},this.loadOptions)).readCentralPart(this.reader),this.files.push(e);if(this.centralDirRecords!==this.files.length&&this.centralDirRecords!==0&&this.files.length===0)throw new Error("Corrupted zip or bug: expected "+this.centralDirRecords+" records in central dir, got "+this.files.length)},readEndOfCentral:function(){var e=this.reader.lastIndexOfSignature(d.CENTRAL_DIRECTORY_END);if(e<0)throw this.isSignature(0,d.LOCAL_FILE_HEADER)?new Error("Corrupted zip: can't find end of central directory"):new Error("Can't find end of central directory : is this a zip file ? If it is, see https://stuk.github.io/jszip/documentation/howto/read_zip.html");this.reader.setIndex(e);var n=e;if(this.checkSignature(d.CENTRAL_DIRECTORY_END),this.readBlockEndOfCentral(),this.diskNumber===R.MAX_VALUE_16BITS||this.diskWithCentralDirStart===R.MAX_VALUE_16BITS||this.centralDirRecordsOnThisDisk===R.MAX_VALUE_16BITS||this.centralDirRecords===R.MAX_VALUE_16BITS||this.centralDirSize===R.MAX_VALUE_32BITS||this.centralDirOffset===R.MAX_VALUE_32BITS){if(this.zip64=!0,(e=this.reader.lastIndexOfSignature(d.ZIP64_CENTRAL_DIRECTORY_LOCATOR))<0)throw new Error("Corrupted zip: can't find the ZIP64 end of central directory locator");if(this.reader.setIndex(e),this.checkSignature(d.ZIP64_CENTRAL_DIRECTORY_LOCATOR),this.readBlockZip64EndOfCentralLocator(),!this.isSignature(this.relativeOffsetEndOfZip64CentralDir,d.ZIP64_CENTRAL_DIRECTORY_END)&&(this.relativeOffsetEndOfZip64CentralDir=this.reader.lastIndexOfSignature(d.ZIP64_CENTRAL_DIRECTORY_END),this.relativeOffsetEndOfZip64CentralDir<0))throw new Error("Corrupted zip: can't find the ZIP64 end of central directory");this.reader.setIndex(this.relativeOffsetEndOfZip64CentralDir),this.checkSignature(d.ZIP64_CENTRAL_DIRECTORY_END),this.readBlockZip64EndOfCentral()}var r=this.centralDirOffset+this.centralDirSize;this.zip64&&(r+=20,r+=12+this.zip64EndOfCentralSize);var i=n-r;if(0<i)this.isSignature(n,d.CENTRAL_FILE_HEADER)||(this.reader.zero=i);else if(i<0)throw new Error("Corrupted zip: missing "+Math.abs(i)+" bytes.")},prepareReader:function(e){this.reader=E(e)},load:function(e){this.prepareReader(e),this.readEndOfCentral(),this.readCentralDir(),this.readLocalFiles()}},T.exports=t},{"./reader/readerFor":22,"./signature":23,"./support":30,"./utf8":31,"./utils":32,"./zipEntry":34}],34:[function(A,T,b){var E=A("./reader/readerFor"),R=A("./utils"),d=A("./compressedObject"),c=A("./crc32"),a=A("./utf8"),t=A("./compressions"),e=A("./support");function n(r,i){this.options=r,this.loadOptions=i}n.prototype={isEncrypted:function(){return(1&this.bitFlag)==1},useUTF8:function(){return(2048&this.bitFlag)==2048},readLocalPart:function(r){var i,o;if(r.skip(22),this.fileNameLength=r.readInt(2),o=r.readInt(2),this.fileName=r.readData(this.fileNameLength),r.skip(o),this.compressedSize===-1||this.uncompressedSize===-1)throw new Error("Bug or corrupted zip : didn't get enough information from the central directory (compressedSize === -1 || uncompressedSize === -1)");if((i=function(h){for(var p in t)if(t.hasOwnProperty(p)&&t[p].magic===h)return t[p];return null}(this.compressionMethod))===null)throw new Error("Corrupted zip : compression "+R.pretty(this.compressionMethod)+" unknown (inner file : "+R.transformTo("string",this.fileName)+")");this.decompressed=new d(this.compressedSize,this.uncompressedSize,this.crc32,i,r.readData(this.compressedSize))},readCentralPart:function(r){this.versionMadeBy=r.readInt(2),r.skip(2),this.bitFlag=r.readInt(2),this.compressionMethod=r.readString(2),this.date=r.readDate(),this.crc32=r.readInt(4),this.compressedSize=r.readInt(4),this.uncompressedSize=r.readInt(4);var i=r.readInt(2);if(this.extraFieldsLength=r.readInt(2),this.fileCommentLength=r.readInt(2),this.diskNumberStart=r.readInt(2),this.internalFileAttributes=r.readInt(2),this.externalFileAttributes=r.readInt(4),this.localHeaderOffset=r.readInt(4),this.isEncrypted())throw new Error("Encrypted zip are not supported");r.skip(i),this.readExtraFields(r),this.parseZIP64ExtraField(r),this.fileComment=r.readData(this.fileCommentLength)},processAttributes:function(){this.unixPermissions=null,this.dosPermissions=null;var r=this.versionMadeBy>>8;this.dir=!!(16&this.externalFileAttributes),r==0&&(this.dosPermissions=63&this.externalFileAttributes),r==3&&(this.unixPermissions=this.externalFileAttributes>>16&65535),this.dir||this.fileNameStr.slice(-1)!=="/"||(this.dir=!0)},parseZIP64ExtraField:function(r){if(this.extraFields[1]){var i=E(this.extraFields[1].value);this.uncompressedSize===R.MAX_VALUE_32BITS&&(this.uncompressedSize=i.readInt(8)),this.compressedSize===R.MAX_VALUE_32BITS&&(this.compressedSize=i.readInt(8)),this.localHeaderOffset===R.MAX_VALUE_32BITS&&(this.localHeaderOffset=i.readInt(8)),this.diskNumberStart===R.MAX_VALUE_32BITS&&(this.diskNumberStart=i.readInt(4))}},readExtraFields:function(r){var i,o,h,p=r.index+this.extraFieldsLength;for(this.extraFields||(this.extraFields={});r.index+4<p;)i=r.readInt(2),o=r.readInt(2),h=r.readData(o),this.extraFields[i]={id:i,length:o,value:h};r.setIndex(p)},handleUTF8:function(){var r=e.uint8array?"uint8array":"array";if(this.useUTF8())this.fileNameStr=a.utf8decode(this.fileName),this.fileCommentStr=a.utf8decode(this.fileComment);else{var i=this.findExtraFieldUnicodePath();if(i!==null)this.fileNameStr=i;else{var o=R.transformTo(r,this.fileName);this.fileNameStr=this.loadOptions.decodeFileName(o)}var h=this.findExtraFieldUnicodeComment();if(h!==null)this.fileCommentStr=h;else{var p=R.transformTo(r,this.fileComment);this.fileCommentStr=this.loadOptions.decodeFileName(p)}}},findExtraFieldUnicodePath:function(){var r=this.extraFields[28789];if(r){var i=E(r.value);return i.readInt(1)!==1||c(this.fileName)!==i.readInt(4)?null:a.utf8decode(i.readData(r.length-5))}return null},findExtraFieldUnicodeComment:function(){var r=this.extraFields[25461];if(r){var i=E(r.value);return i.readInt(1)!==1||c(this.fileComment)!==i.readInt(4)?null:a.utf8decode(i.readData(r.length-5))}return null}},T.exports=n},{"./compressedObject":2,"./compressions":3,"./crc32":4,"./reader/readerFor":22,"./support":30,"./utf8":31,"./utils":32}],35:[function(A,T,b){function E(i,o,h){this.name=i,this.dir=h.dir,this.date=h.date,this.comment=h.comment,this.unixPermissions=h.unixPermissions,this.dosPermissions=h.dosPermissions,this._data=o,this._dataBinary=h.binary,this.options={compression:h.compression,compressionOptions:h.compressionOptions}}var R=A("./stream/StreamHelper"),d=A("./stream/DataWorker"),c=A("./utf8"),a=A("./compressedObject"),t=A("./stream/GenericWorker");E.prototype={internalStream:function(i){var o=null,h="string";try{if(!i)throw new Error("No output type specified.");var p=(h=i.toLowerCase())==="string"||h==="text";h!=="binarystring"&&h!=="text"||(h="string"),o=this._decompressWorker();var y=!this._dataBinary;y&&!p&&(o=o.pipe(new c.Utf8EncodeWorker)),!y&&p&&(o=o.pipe(new c.Utf8DecodeWorker))}catch(L){(o=new t("error")).error(L)}return new R(o,h,"")},async:function(i,o){return this.internalStream(i).accumulate(o)},nodeStream:function(i,o){return this.internalStream(i||"nodebuffer").toNodejsStream(o)},_compressWorker:function(i,o){if(this._data instanceof a&&this._data.compression.magic===i.magic)return this._data.getCompressedWorker();var h=this._decompressWorker();return this._dataBinary||(h=h.pipe(new c.Utf8EncodeWorker)),a.createWorkerFrom(h,i,o)},_decompressWorker:function(){return this._data instanceof a?this._data.getContentWorker():this._data instanceof t?this._data:new d(this._data)}};for(var e=["asText","asBinary","asNodeBuffer","asUint8Array","asArrayBuffer"],n=function(){throw new Error("This method has been removed in JSZip 3.0, please check the upgrade guide.")},r=0;r<e.length;r++)E.prototype[e[r]]=n;T.exports=E},{"./compressedObject":2,"./stream/DataWorker":27,"./stream/GenericWorker":28,"./stream/StreamHelper":29,"./utf8":31}],36:[function(A,T,b){(function(E){var R,d,c=E.MutationObserver||E.WebKitMutationObserver;if(c){var a=0,t=new c(i),e=E.document.createTextNode("");t.observe(e,{characterData:!0}),R=function(){e.data=a=++a%2}}else if(E.setImmediate||E.MessageChannel===void 0)R="document"in E&&"onreadystatechange"in E.document.createElement("script")?function(){var o=E.document.createElement("script");o.onreadystatechange=function(){i(),o.onreadystatechange=null,o.parentNode.removeChild(o),o=null},E.document.documentElement.appendChild(o)}:function(){setTimeout(i,0)};else{var n=new E.MessageChannel;n.port1.onmessage=i,R=function(){n.port2.postMessage(0)}}var r=[];function i(){var o,h;d=!0;for(var p=r.length;p;){for(h=r,r=[],o=-1;++o<p;)h[o]();p=r.length}d=!1}T.exports=function(o){r.push(o)!==1||d||R()}}).call(this,typeof global<"u"?global:typeof self<"u"?self:typeof window<"u"?window:{})},{}],37:[function(A,T,b){var E=A("immediate");function R(){}var d={},c=["REJECTED"],a=["FULFILLED"],t=["PENDING"];function e(p){if(typeof p!="function")throw new TypeError("resolver must be a function");this.state=t,this.queue=[],this.outcome=void 0,p!==R&&o(this,p)}function n(p,y,L){this.promise=p,typeof y=="function"&&(this.onFulfilled=y,this.callFulfilled=this.otherCallFulfilled),typeof L=="function"&&(this.onRejected=L,this.callRejected=this.otherCallRejected)}function r(p,y,L){E(function(){var m;try{m=y(L)}catch(s){return d.reject(p,s)}m===p?d.reject(p,new TypeError("Cannot resolve promise with itself")):d.resolve(p,m)})}function i(p){var y=p&&p.then;if(p&&(typeof p=="object"||typeof p=="function")&&typeof y=="function")return function(){y.apply(p,arguments)}}function o(p,y){var L=!1;function m(_){L||(L=!0,d.reject(p,_))}function s(_){L||(L=!0,d.resolve(p,_))}var g=h(function(){y(s,m)});g.status==="error"&&m(g.value)}function h(p,y){var L={};try{L.value=p(y),L.status="success"}catch(m){L.status="error",L.value=m}return L}(T.exports=e).prototype.finally=function(p){if(typeof p!="function")return this;var y=this.constructor;return this.then(function(L){return y.resolve(p()).then(function(){return L})},function(L){return y.resolve(p()).then(function(){throw L})})},e.prototype.catch=function(p){return this.then(null,p)},e.prototype.then=function(p,y){if(typeof p!="function"&&this.state===a||typeof y!="function"&&this.state===c)return this;var L=new this.constructor(R);return this.state!==t?r(L,this.state===a?p:y,this.outcome):this.queue.push(new n(L,p,y)),L},n.prototype.callFulfilled=function(p){d.resolve(this.promise,p)},n.prototype.otherCallFulfilled=function(p){r(this.promise,this.onFulfilled,p)},n.prototype.callRejected=function(p){d.reject(this.promise,p)},n.prototype.otherCallRejected=function(p){r(this.promise,this.onRejected,p)},d.resolve=function(p,y){var L=h(i,y);if(L.status==="error")return d.reject(p,L.value);var m=L.value;if(m)o(p,m);else{p.state=a,p.outcome=y;for(var s=-1,g=p.queue.length;++s<g;)p.queue[s].callFulfilled(y)}return p},d.reject=function(p,y){p.state=c,p.outcome=y;for(var L=-1,m=p.queue.length;++L<m;)p.queue[L].callRejected(y);return p},e.resolve=function(p){return p instanceof this?p:d.resolve(new this(R),p)},e.reject=function(p){var y=new this(R);return d.reject(y,p)},e.all=function(p){var y=this;if(Object.prototype.toString.call(p)!=="[object Array]")return this.reject(new TypeError("must be an array"));var L=p.length,m=!1;if(!L)return this.resolve([]);for(var s=new Array(L),g=0,_=-1,f=new this(R);++_<L;)v(p[_],_);return f;function v(l,w){y.resolve(l).then(function(k){s[w]=k,++g!==L||m||(m=!0,d.resolve(f,s))},function(k){m||(m=!0,d.reject(f,k))})}},e.race=function(p){var y=this;if(Object.prototype.toString.call(p)!=="[object Array]")return this.reject(new TypeError("must be an array"));var L=p.length,m=!1;if(!L)return this.resolve([]);for(var s=-1,g=new this(R);++s<L;)_=p[s],y.resolve(_).then(function(f){m||(m=!0,d.resolve(g,f))},function(f){m||(m=!0,d.reject(g,f))});var _;return g}},{immediate:36}],38:[function(A,T,b){var E={};(0,A("./lib/utils/common").assign)(E,A("./lib/deflate"),A("./lib/inflate"),A("./lib/zlib/constants")),T.exports=E},{"./lib/deflate":39,"./lib/inflate":40,"./lib/utils/common":41,"./lib/zlib/constants":44}],39:[function(A,T,b){var E=A("./zlib/deflate"),R=A("./utils/common"),d=A("./utils/strings"),c=A("./zlib/messages"),a=A("./zlib/zstream"),t=Object.prototype.toString,e=0,n=-1,r=0,i=8;function o(p){if(!(this instanceof o))return new o(p);this.options=R.assign({level:n,method:i,chunkSize:16384,windowBits:15,memLevel:8,strategy:r,to:""},p||{});var y=this.options;y.raw&&0<y.windowBits?y.windowBits=-y.windowBits:y.gzip&&0<y.windowBits&&y.windowBits<16&&(y.windowBits+=16),this.err=0,this.msg="",this.ended=!1,this.chunks=[],this.strm=new a,this.strm.avail_out=0;var L=E.deflateInit2(this.strm,y.level,y.method,y.windowBits,y.memLevel,y.strategy);if(L!==e)throw new Error(c[L]);if(y.header&&E.deflateSetHeader(this.strm,y.header),y.dictionary){var m;if(m=typeof y.dictionary=="string"?d.string2buf(y.dictionary):t.call(y.dictionary)==="[object ArrayBuffer]"?new Uint8Array(y.dictionary):y.dictionary,(L=E.deflateSetDictionary(this.strm,m))!==e)throw new Error(c[L]);this._dict_set=!0}}function h(p,y){var L=new o(y);if(L.push(p,!0),L.err)throw L.msg||c[L.err];return L.result}o.prototype.push=function(p,y){var L,m,s=this.strm,g=this.options.chunkSize;if(this.ended)return!1;m=y===~~y?y:y===!0?4:0,typeof p=="string"?s.input=d.string2buf(p):t.call(p)==="[object ArrayBuffer]"?s.input=new Uint8Array(p):s.input=p,s.next_in=0,s.avail_in=s.input.length;do{if(s.avail_out===0&&(s.output=new R.Buf8(g),s.next_out=0,s.avail_out=g),(L=E.deflate(s,m))!==1&&L!==e)return this.onEnd(L),!(this.ended=!0);s.avail_out!==0&&(s.avail_in!==0||m!==4&&m!==2)||(this.options.to==="string"?this.onData(d.buf2binstring(R.shrinkBuf(s.output,s.next_out))):this.onData(R.shrinkBuf(s.output,s.next_out)))}while((0<s.avail_in||s.avail_out===0)&&L!==1);return m===4?(L=E.deflateEnd(this.strm),this.onEnd(L),this.ended=!0,L===e):m!==2||(this.onEnd(e),!(s.avail_out=0))},o.prototype.onData=function(p){this.chunks.push(p)},o.prototype.onEnd=function(p){p===e&&(this.options.to==="string"?this.result=this.chunks.join(""):this.result=R.flattenChunks(this.chunks)),this.chunks=[],this.err=p,this.msg=this.strm.msg},b.Deflate=o,b.deflate=h,b.deflateRaw=function(p,y){return(y=y||{}).raw=!0,h(p,y)},b.gzip=function(p,y){return(y=y||{}).gzip=!0,h(p,y)}},{"./utils/common":41,"./utils/strings":42,"./zlib/deflate":46,"./zlib/messages":51,"./zlib/zstream":53}],40:[function(A,T,b){var E=A("./zlib/inflate"),R=A("./utils/common"),d=A("./utils/strings"),c=A("./zlib/constants"),a=A("./zlib/messages"),t=A("./zlib/zstream"),e=A("./zlib/gzheader"),n=Object.prototype.toString;function r(o){if(!(this instanceof r))return new r(o);this.options=R.assign({chunkSize:16384,windowBits:0,to:""},o||{});var h=this.options;h.raw&&0<=h.windowBits&&h.windowBits<16&&(h.windowBits=-h.windowBits,h.windowBits===0&&(h.windowBits=-15)),!(0<=h.windowBits&&h.windowBits<16)||o&&o.windowBits||(h.windowBits+=32),15<h.windowBits&&h.windowBits<48&&!(15&h.windowBits)&&(h.windowBits|=15),this.err=0,this.msg="",this.ended=!1,this.chunks=[],this.strm=new t,this.strm.avail_out=0;var p=E.inflateInit2(this.strm,h.windowBits);if(p!==c.Z_OK)throw new Error(a[p]);this.header=new e,E.inflateGetHeader(this.strm,this.header)}function i(o,h){var p=new r(h);if(p.push(o,!0),p.err)throw p.msg||a[p.err];return p.result}r.prototype.push=function(o,h){var p,y,L,m,s,g,_=this.strm,f=this.options.chunkSize,v=this.options.dictionary,l=!1;if(this.ended)return!1;y=h===~~h?h:h===!0?c.Z_FINISH:c.Z_NO_FLUSH,typeof o=="string"?_.input=d.binstring2buf(o):n.call(o)==="[object ArrayBuffer]"?_.input=new Uint8Array(o):_.input=o,_.next_in=0,_.avail_in=_.input.length;do{if(_.avail_out===0&&(_.output=new R.Buf8(f),_.next_out=0,_.avail_out=f),(p=E.inflate(_,c.Z_NO_FLUSH))===c.Z_NEED_DICT&&v&&(g=typeof v=="string"?d.string2buf(v):n.call(v)==="[object ArrayBuffer]"?new Uint8Array(v):v,p=E.inflateSetDictionary(this.strm,g)),p===c.Z_BUF_ERROR&&l===!0&&(p=c.Z_OK,l=!1),p!==c.Z_STREAM_END&&p!==c.Z_OK)return this.onEnd(p),!(this.ended=!0);_.next_out&&(_.avail_out!==0&&p!==c.Z_STREAM_END&&(_.avail_in!==0||y!==c.Z_FINISH&&y!==c.Z_SYNC_FLUSH)||(this.options.to==="string"?(L=d.utf8border(_.output,_.next_out),m=_.next_out-L,s=d.buf2string(_.output,L),_.next_out=m,_.avail_out=f-m,m&&R.arraySet(_.output,_.output,L,m,0),this.onData(s)):this.onData(R.shrinkBuf(_.output,_.next_out)))),_.avail_in===0&&_.avail_out===0&&(l=!0)}while((0<_.avail_in||_.avail_out===0)&&p!==c.Z_STREAM_END);return p===c.Z_STREAM_END&&(y=c.Z_FINISH),y===c.Z_FINISH?(p=E.inflateEnd(this.strm),this.onEnd(p),this.ended=!0,p===c.Z_OK):y!==c.Z_SYNC_FLUSH||(this.onEnd(c.Z_OK),!(_.avail_out=0))},r.prototype.onData=function(o){this.chunks.push(o)},r.prototype.onEnd=function(o){o===c.Z_OK&&(this.options.to==="string"?this.result=this.chunks.join(""):this.result=R.flattenChunks(this.chunks)),this.chunks=[],this.err=o,this.msg=this.strm.msg},b.Inflate=r,b.inflate=i,b.inflateRaw=function(o,h){return(h=h||{}).raw=!0,i(o,h)},b.ungzip=i},{"./utils/common":41,"./utils/strings":42,"./zlib/constants":44,"./zlib/gzheader":47,"./zlib/inflate":49,"./zlib/messages":51,"./zlib/zstream":53}],41:[function(A,T,b){var E=typeof Uint8Array<"u"&&typeof Uint16Array<"u"&&typeof Int32Array<"u";b.assign=function(c){for(var a=Array.prototype.slice.call(arguments,1);a.length;){var t=a.shift();if(t){if(typeof t!="object")throw new TypeError(t+"must be non-object");for(var e in t)t.hasOwnProperty(e)&&(c[e]=t[e])}}return c},b.shrinkBuf=function(c,a){return c.length===a?c:c.subarray?c.subarray(0,a):(c.length=a,c)};var R={arraySet:function(c,a,t,e,n){if(a.subarray&&c.subarray)c.set(a.subarray(t,t+e),n);else for(var r=0;r<e;r++)c[n+r]=a[t+r]},flattenChunks:function(c){var a,t,e,n,r,i;for(a=e=0,t=c.length;a<t;a++)e+=c[a].length;for(i=new Uint8Array(e),a=n=0,t=c.length;a<t;a++)r=c[a],i.set(r,n),n+=r.length;return i}},d={arraySet:function(c,a,t,e,n){for(var r=0;r<e;r++)c[n+r]=a[t+r]},flattenChunks:function(c){return[].concat.apply([],c)}};b.setTyped=function(c){c?(b.Buf8=Uint8Array,b.Buf16=Uint16Array,b.Buf32=Int32Array,b.assign(b,R)):(b.Buf8=Array,b.Buf16=Array,b.Buf32=Array,b.assign(b,d))},b.setTyped(E)},{}],42:[function(A,T,b){var E=A("./common"),R=!0,d=!0;try{String.fromCharCode.apply(null,[0])}catch{R=!1}try{String.fromCharCode.apply(null,new Uint8Array(1))}catch{d=!1}for(var c=new E.Buf8(256),a=0;a<256;a++)c[a]=252<=a?6:248<=a?5:240<=a?4:224<=a?3:192<=a?2:1;function t(e,n){if(n<65537&&(e.subarray&&d||!e.subarray&&R))return String.fromCharCode.apply(null,E.shrinkBuf(e,n));for(var r="",i=0;i<n;i++)r+=String.fromCharCode(e[i]);return r}c[254]=c[254]=1,b.string2buf=function(e){var n,r,i,o,h,p=e.length,y=0;for(o=0;o<p;o++)(64512&(r=e.charCodeAt(o)))==55296&&o+1<p&&(64512&(i=e.charCodeAt(o+1)))==56320&&(r=65536+(r-55296<<10)+(i-56320),o++),y+=r<128?1:r<2048?2:r<65536?3:4;for(n=new E.Buf8(y),o=h=0;h<y;o++)(64512&(r=e.charCodeAt(o)))==55296&&o+1<p&&(64512&(i=e.charCodeAt(o+1)))==56320&&(r=65536+(r-55296<<10)+(i-56320),o++),r<128?n[h++]=r:(r<2048?n[h++]=192|r>>>6:(r<65536?n[h++]=224|r>>>12:(n[h++]=240|r>>>18,n[h++]=128|r>>>12&63),n[h++]=128|r>>>6&63),n[h++]=128|63&r);return n},b.buf2binstring=function(e){return t(e,e.length)},b.binstring2buf=function(e){for(var n=new E.Buf8(e.length),r=0,i=n.length;r<i;r++)n[r]=e.charCodeAt(r);return n},b.buf2string=function(e,n){var r,i,o,h,p=n||e.length,y=new Array(2*p);for(r=i=0;r<p;)if((o=e[r++])<128)y[i++]=o;else if(4<(h=c[o]))y[i++]=65533,r+=h-1;else{for(o&=h===2?31:h===3?15:7;1<h&&r<p;)o=o<<6|63&e[r++],h--;1<h?y[i++]=65533:o<65536?y[i++]=o:(o-=65536,y[i++]=55296|o>>10&1023,y[i++]=56320|1023&o)}return t(y,i)},b.utf8border=function(e,n){var r;for((n=n||e.length)>e.length&&(n=e.length),r=n-1;0<=r&&(192&e[r])==128;)r--;return r<0||r===0?n:r+c[e[r]]>n?r:n}},{"./common":41}],43:[function(A,T,b){T.exports=function(E,R,d,c){for(var a=65535&E|0,t=E>>>16&65535|0,e=0;d!==0;){for(d-=e=2e3<d?2e3:d;t=t+(a=a+R[c++]|0)|0,--e;);a%=65521,t%=65521}return a|t<<16|0}},{}],44:[function(A,T,b){T.exports={Z_NO_FLUSH:0,Z_PARTIAL_FLUSH:1,Z_SYNC_FLUSH:2,Z_FULL_FLUSH:3,Z_FINISH:4,Z_BLOCK:5,Z_TREES:6,Z_OK:0,Z_STREAM_END:1,Z_NEED_DICT:2,Z_ERRNO:-1,Z_STREAM_ERROR:-2,Z_DATA_ERROR:-3,Z_BUF_ERROR:-5,Z_NO_COMPRESSION:0,Z_BEST_SPEED:1,Z_BEST_COMPRESSION:9,Z_DEFAULT_COMPRESSION:-1,Z_FILTERED:1,Z_HUFFMAN_ONLY:2,Z_RLE:3,Z_FIXED:4,Z_DEFAULT_STRATEGY:0,Z_BINARY:0,Z_TEXT:1,Z_UNKNOWN:2,Z_DEFLATED:8}},{}],45:[function(A,T,b){var E=function(){for(var R,d=[],c=0;c<256;c++){R=c;for(var a=0;a<8;a++)R=1&R?3988292384^R>>>1:R>>>1;d[c]=R}return d}();T.exports=function(R,d,c,a){var t=E,e=a+c;R^=-1;for(var n=a;n<e;n++)R=R>>>8^t[255&(R^d[n])];return-1^R}},{}],46:[function(A,T,b){var E,R=A("../utils/common"),d=A("./trees"),c=A("./adler32"),a=A("./crc32"),t=A("./messages"),e=0,n=4,r=0,i=-2,o=-1,h=4,p=2,y=8,L=9,m=286,s=30,g=19,_=2*m+1,f=15,v=3,l=258,w=l+v+1,k=42,F=113,x=1,N=2,G=3,q=4;function ne(I,ge){return I.msg=t[ge],ge}function X(I){return(I<<1)-(4<I?9:0)}function j(I){for(var ge=I.length;0<=--ge;)I[ge]=0}function Y(I){var ge=I.state,fe=ge.pending;fe>I.avail_out&&(fe=I.avail_out),fe!==0&&(R.arraySet(I.output,ge.pending_buf,ge.pending_out,fe,I.next_out),I.next_out+=fe,ge.pending_out+=fe,I.total_out+=fe,I.avail_out-=fe,ge.pending-=fe,ge.pending===0&&(ge.pending_out=0))}function ee(I,ge){d._tr_flush_block(I,0<=I.block_start?I.block_start:-1,I.strstart-I.block_start,ge),I.block_start=I.strstart,Y(I.strm)}function ie(I,ge){I.pending_buf[I.pending++]=ge}function ae(I,ge){I.pending_buf[I.pending++]=ge>>>8&255,I.pending_buf[I.pending++]=255&ge}function ce(I,ge){var fe,te,J=I.max_chain_length,he=I.strstart,pe=I.prev_length,Z=I.nice_match,re=I.strstart>I.w_size-w?I.strstart-(I.w_size-w):0,we=I.window,ke=I.w_mask,be=I.prev,xe=I.strstart+l,Pe=we[he+pe-1],Re=we[he+pe];I.prev_length>=I.good_match&&(J>>=2),Z>I.lookahead&&(Z=I.lookahead);do if(we[(fe=ge)+pe]===Re&&we[fe+pe-1]===Pe&&we[fe]===we[he]&&we[++fe]===we[he+1]){he+=2,fe++;do;while(we[++he]===we[++fe]&&we[++he]===we[++fe]&&we[++he]===we[++fe]&&we[++he]===we[++fe]&&we[++he]===we[++fe]&&we[++he]===we[++fe]&&we[++he]===we[++fe]&&we[++he]===we[++fe]&&he<xe);if(te=l-(xe-he),he=xe-l,pe<te){if(I.match_start=ge,Z<=(pe=te))break;Pe=we[he+pe-1],Re=we[he+pe]}}while((ge=be[ge&ke])>re&&--J!=0);return pe<=I.lookahead?pe:I.lookahead}function ye(I){var ge,fe,te,J,he,pe,Z,re,we,ke,be=I.w_size;do{if(J=I.window_size-I.lookahead-I.strstart,I.strstart>=be+(be-w)){for(R.arraySet(I.window,I.window,be,be,0),I.match_start-=be,I.strstart-=be,I.block_start-=be,ge=fe=I.hash_size;te=I.head[--ge],I.head[ge]=be<=te?te-be:0,--fe;);for(ge=fe=be;te=I.prev[--ge],I.prev[ge]=be<=te?te-be:0,--fe;);J+=be}if(I.strm.avail_in===0)break;if(pe=I.strm,Z=I.window,re=I.strstart+I.lookahead,we=J,ke=void 0,ke=pe.avail_in,we<ke&&(ke=we),fe=ke===0?0:(pe.avail_in-=ke,R.arraySet(Z,pe.input,pe.next_in,ke,re),pe.state.wrap===1?pe.adler=c(pe.adler,Z,ke,re):pe.state.wrap===2&&(pe.adler=a(pe.adler,Z,ke,re)),pe.next_in+=ke,pe.total_in+=ke,ke),I.lookahead+=fe,I.lookahead+I.insert>=v)for(he=I.strstart-I.insert,I.ins_h=I.window[he],I.ins_h=(I.ins_h<<I.hash_shift^I.window[he+1])&I.hash_mask;I.insert&&(I.ins_h=(I.ins_h<<I.hash_shift^I.window[he+v-1])&I.hash_mask,I.prev[he&I.w_mask]=I.head[I.ins_h],I.head[I.ins_h]=he,he++,I.insert--,!(I.lookahead+I.insert<v)););}while(I.lookahead<w&&I.strm.avail_in!==0)}function me(I,ge){for(var fe,te;;){if(I.lookahead<w){if(ye(I),I.lookahead<w&&ge===e)return x;if(I.lookahead===0)break}if(fe=0,I.lookahead>=v&&(I.ins_h=(I.ins_h<<I.hash_shift^I.window[I.strstart+v-1])&I.hash_mask,fe=I.prev[I.strstart&I.w_mask]=I.head[I.ins_h],I.head[I.ins_h]=I.strstart),fe!==0&&I.strstart-fe<=I.w_size-w&&(I.match_length=ce(I,fe)),I.match_length>=v)if(te=d._tr_tally(I,I.strstart-I.match_start,I.match_length-v),I.lookahead-=I.match_length,I.match_length<=I.max_lazy_match&&I.lookahead>=v){for(I.match_length--;I.strstart++,I.ins_h=(I.ins_h<<I.hash_shift^I.window[I.strstart+v-1])&I.hash_mask,fe=I.prev[I.strstart&I.w_mask]=I.head[I.ins_h],I.head[I.ins_h]=I.strstart,--I.match_length!=0;);I.strstart++}else I.strstart+=I.match_length,I.match_length=0,I.ins_h=I.window[I.strstart],I.ins_h=(I.ins_h<<I.hash_shift^I.window[I.strstart+1])&I.hash_mask;else te=d._tr_tally(I,0,I.window[I.strstart]),I.lookahead--,I.strstart++;if(te&&(ee(I,!1),I.strm.avail_out===0))return x}return I.insert=I.strstart<v-1?I.strstart:v-1,ge===n?(ee(I,!0),I.strm.avail_out===0?G:q):I.last_lit&&(ee(I,!1),I.strm.avail_out===0)?x:N}function Se(I,ge){for(var fe,te,J;;){if(I.lookahead<w){if(ye(I),I.lookahead<w&&ge===e)return x;if(I.lookahead===0)break}if(fe=0,I.lookahead>=v&&(I.ins_h=(I.ins_h<<I.hash_shift^I.window[I.strstart+v-1])&I.hash_mask,fe=I.prev[I.strstart&I.w_mask]=I.head[I.ins_h],I.head[I.ins_h]=I.strstart),I.prev_length=I.match_length,I.prev_match=I.match_start,I.match_length=v-1,fe!==0&&I.prev_length<I.max_lazy_match&&I.strstart-fe<=I.w_size-w&&(I.match_length=ce(I,fe),I.match_length<=5&&(I.strategy===1||I.match_length===v&&4096<I.strstart-I.match_start)&&(I.match_length=v-1)),I.prev_length>=v&&I.match_length<=I.prev_length){for(J=I.strstart+I.lookahead-v,te=d._tr_tally(I,I.strstart-1-I.prev_match,I.prev_length-v),I.lookahead-=I.prev_length-1,I.prev_length-=2;++I.strstart<=J&&(I.ins_h=(I.ins_h<<I.hash_shift^I.window[I.strstart+v-1])&I.hash_mask,fe=I.prev[I.strstart&I.w_mask]=I.head[I.ins_h],I.head[I.ins_h]=I.strstart),--I.prev_length!=0;);if(I.match_available=0,I.match_length=v-1,I.strstart++,te&&(ee(I,!1),I.strm.avail_out===0))return x}else if(I.match_available){if((te=d._tr_tally(I,0,I.window[I.strstart-1]))&&ee(I,!1),I.strstart++,I.lookahead--,I.strm.avail_out===0)return x}else I.match_available=1,I.strstart++,I.lookahead--}return I.match_available&&(te=d._tr_tally(I,0,I.window[I.strstart-1]),I.match_available=0),I.insert=I.strstart<v-1?I.strstart:v-1,ge===n?(ee(I,!0),I.strm.avail_out===0?G:q):I.last_lit&&(ee(I,!1),I.strm.avail_out===0)?x:N}function Le(I,ge,fe,te,J){this.good_length=I,this.max_lazy=ge,this.nice_length=fe,this.max_chain=te,this.func=J}function Ee(){this.strm=null,this.status=0,this.pending_buf=null,this.pending_buf_size=0,this.pending_out=0,this.pending=0,this.wrap=0,this.gzhead=null,this.gzindex=0,this.method=y,this.last_flush=-1,this.w_size=0,this.w_bits=0,this.w_mask=0,this.window=null,this.window_size=0,this.prev=null,this.head=null,this.ins_h=0,this.hash_size=0,this.hash_bits=0,this.hash_mask=0,this.hash_shift=0,this.block_start=0,this.match_length=0,this.prev_match=0,this.match_available=0,this.strstart=0,this.match_start=0,this.lookahead=0,this.prev_length=0,this.max_chain_length=0,this.max_lazy_match=0,this.level=0,this.strategy=0,this.good_match=0,this.nice_match=0,this.dyn_ltree=new R.Buf16(2*_),this.dyn_dtree=new R.Buf16(2*(2*s+1)),this.bl_tree=new R.Buf16(2*(2*g+1)),j(this.dyn_ltree),j(this.dyn_dtree),j(this.bl_tree),this.l_desc=null,this.d_desc=null,this.bl_desc=null,this.bl_count=new R.Buf16(f+1),this.heap=new R.Buf16(2*m+1),j(this.heap),this.heap_len=0,this.heap_max=0,this.depth=new R.Buf16(2*m+1),j(this.depth),this.l_buf=0,this.lit_bufsize=0,this.last_lit=0,this.d_buf=0,this.opt_len=0,this.static_len=0,this.matches=0,this.insert=0,this.bi_buf=0,this.bi_valid=0}function Fe(I){var ge;return I&&I.state?(I.total_in=I.total_out=0,I.data_type=p,(ge=I.state).pending=0,ge.pending_out=0,ge.wrap<0&&(ge.wrap=-ge.wrap),ge.status=ge.wrap?k:F,I.adler=ge.wrap===2?0:1,ge.last_flush=e,d._tr_init(ge),r):ne(I,i)}function Ve(I){var ge=Fe(I);return ge===r&&function(fe){fe.window_size=2*fe.w_size,j(fe.head),fe.max_lazy_match=E[fe.level].max_lazy,fe.good_match=E[fe.level].good_length,fe.nice_match=E[fe.level].nice_length,fe.max_chain_length=E[fe.level].max_chain,fe.strstart=0,fe.block_start=0,fe.lookahead=0,fe.insert=0,fe.match_length=fe.prev_length=v-1,fe.match_available=0,fe.ins_h=0}(I.state),ge}function Je(I,ge,fe,te,J,he){if(!I)return i;var pe=1;if(ge===o&&(ge=6),te<0?(pe=0,te=-te):15<te&&(pe=2,te-=16),J<1||L<J||fe!==y||te<8||15<te||ge<0||9<ge||he<0||h<he)return ne(I,i);te===8&&(te=9);var Z=new Ee;return(I.state=Z).strm=I,Z.wrap=pe,Z.gzhead=null,Z.w_bits=te,Z.w_size=1<<Z.w_bits,Z.w_mask=Z.w_size-1,Z.hash_bits=J+7,Z.hash_size=1<<Z.hash_bits,Z.hash_mask=Z.hash_size-1,Z.hash_shift=~~((Z.hash_bits+v-1)/v),Z.window=new R.Buf8(2*Z.w_size),Z.head=new R.Buf16(Z.hash_size),Z.prev=new R.Buf16(Z.w_size),Z.lit_bufsize=1<<J+6,Z.pending_buf_size=4*Z.lit_bufsize,Z.pending_buf=new R.Buf8(Z.pending_buf_size),Z.d_buf=1*Z.lit_bufsize,Z.l_buf=3*Z.lit_bufsize,Z.level=ge,Z.strategy=he,Z.method=fe,Ve(I)}E=[new Le(0,0,0,0,function(I,ge){var fe=65535;for(fe>I.pending_buf_size-5&&(fe=I.pending_buf_size-5);;){if(I.lookahead<=1){if(ye(I),I.lookahead===0&&ge===e)return x;if(I.lookahead===0)break}I.strstart+=I.lookahead,I.lookahead=0;var te=I.block_start+fe;if((I.strstart===0||I.strstart>=te)&&(I.lookahead=I.strstart-te,I.strstart=te,ee(I,!1),I.strm.avail_out===0)||I.strstart-I.block_start>=I.w_size-w&&(ee(I,!1),I.strm.avail_out===0))return x}return I.insert=0,ge===n?(ee(I,!0),I.strm.avail_out===0?G:q):(I.strstart>I.block_start&&(ee(I,!1),I.strm.avail_out),x)}),new Le(4,4,8,4,me),new Le(4,5,16,8,me),new Le(4,6,32,32,me),new Le(4,4,16,16,Se),new Le(8,16,32,32,Se),new Le(8,16,128,128,Se),new Le(8,32,128,256,Se),new Le(32,128,258,1024,Se),new Le(32,258,258,4096,Se)],b.deflateInit=function(I,ge){return Je(I,ge,y,15,8,0)},b.deflateInit2=Je,b.deflateReset=Ve,b.deflateResetKeep=Fe,b.deflateSetHeader=function(I,ge){return I&&I.state?I.state.wrap!==2?i:(I.state.gzhead=ge,r):i},b.deflate=function(I,ge){var fe,te,J,he;if(!I||!I.state||5<ge||ge<0)return I?ne(I,i):i;if(te=I.state,!I.output||!I.input&&I.avail_in!==0||te.status===666&&ge!==n)return ne(I,I.avail_out===0?-5:i);if(te.strm=I,fe=te.last_flush,te.last_flush=ge,te.status===k)if(te.wrap===2)I.adler=0,ie(te,31),ie(te,139),ie(te,8),te.gzhead?(ie(te,(te.gzhead.text?1:0)+(te.gzhead.hcrc?2:0)+(te.gzhead.extra?4:0)+(te.gzhead.name?8:0)+(te.gzhead.comment?16:0)),ie(te,255&te.gzhead.time),ie(te,te.gzhead.time>>8&255),ie(te,te.gzhead.time>>16&255),ie(te,te.gzhead.time>>24&255),ie(te,te.level===9?2:2<=te.strategy||te.level<2?4:0),ie(te,255&te.gzhead.os),te.gzhead.extra&&te.gzhead.extra.length&&(ie(te,255&te.gzhead.extra.length),ie(te,te.gzhead.extra.length>>8&255)),te.gzhead.hcrc&&(I.adler=a(I.adler,te.pending_buf,te.pending,0)),te.gzindex=0,te.status=69):(ie(te,0),ie(te,0),ie(te,0),ie(te,0),ie(te,0),ie(te,te.level===9?2:2<=te.strategy||te.level<2?4:0),ie(te,3),te.status=F);else{var pe=y+(te.w_bits-8<<4)<<8;pe|=(2<=te.strategy||te.level<2?0:te.level<6?1:te.level===6?2:3)<<6,te.strstart!==0&&(pe|=32),pe+=31-pe%31,te.status=F,ae(te,pe),te.strstart!==0&&(ae(te,I.adler>>>16),ae(te,65535&I.adler)),I.adler=1}if(te.status===69)if(te.gzhead.extra){for(J=te.pending;te.gzindex<(65535&te.gzhead.extra.length)&&(te.pending!==te.pending_buf_size||(te.gzhead.hcrc&&te.pending>J&&(I.adler=a(I.adler,te.pending_buf,te.pending-J,J)),Y(I),J=te.pending,te.pending!==te.pending_buf_size));)ie(te,255&te.gzhead.extra[te.gzindex]),te.gzindex++;te.gzhead.hcrc&&te.pending>J&&(I.adler=a(I.adler,te.pending_buf,te.pending-J,J)),te.gzindex===te.gzhead.extra.length&&(te.gzindex=0,te.status=73)}else te.status=73;if(te.status===73)if(te.gzhead.name){J=te.pending;do{if(te.pending===te.pending_buf_size&&(te.gzhead.hcrc&&te.pending>J&&(I.adler=a(I.adler,te.pending_buf,te.pending-J,J)),Y(I),J=te.pending,te.pending===te.pending_buf_size)){he=1;break}he=te.gzindex<te.gzhead.name.length?255&te.gzhead.name.charCodeAt(te.gzindex++):0,ie(te,he)}while(he!==0);te.gzhead.hcrc&&te.pending>J&&(I.adler=a(I.adler,te.pending_buf,te.pending-J,J)),he===0&&(te.gzindex=0,te.status=91)}else te.status=91;if(te.status===91)if(te.gzhead.comment){J=te.pending;do{if(te.pending===te.pending_buf_size&&(te.gzhead.hcrc&&te.pending>J&&(I.adler=a(I.adler,te.pending_buf,te.pending-J,J)),Y(I),J=te.pending,te.pending===te.pending_buf_size)){he=1;break}he=te.gzindex<te.gzhead.comment.length?255&te.gzhead.comment.charCodeAt(te.gzindex++):0,ie(te,he)}while(he!==0);te.gzhead.hcrc&&te.pending>J&&(I.adler=a(I.adler,te.pending_buf,te.pending-J,J)),he===0&&(te.status=103)}else te.status=103;if(te.status===103&&(te.gzhead.hcrc?(te.pending+2>te.pending_buf_size&&Y(I),te.pending+2<=te.pending_buf_size&&(ie(te,255&I.adler),ie(te,I.adler>>8&255),I.adler=0,te.status=F)):te.status=F),te.pending!==0){if(Y(I),I.avail_out===0)return te.last_flush=-1,r}else if(I.avail_in===0&&X(ge)<=X(fe)&&ge!==n)return ne(I,-5);if(te.status===666&&I.avail_in!==0)return ne(I,-5);if(I.avail_in!==0||te.lookahead!==0||ge!==e&&te.status!==666){var Z=te.strategy===2?function(re,we){for(var ke;;){if(re.lookahead===0&&(ye(re),re.lookahead===0)){if(we===e)return x;break}if(re.match_length=0,ke=d._tr_tally(re,0,re.window[re.strstart]),re.lookahead--,re.strstart++,ke&&(ee(re,!1),re.strm.avail_out===0))return x}return re.insert=0,we===n?(ee(re,!0),re.strm.avail_out===0?G:q):re.last_lit&&(ee(re,!1),re.strm.avail_out===0)?x:N}(te,ge):te.strategy===3?function(re,we){for(var ke,be,xe,Pe,Re=re.window;;){if(re.lookahead<=l){if(ye(re),re.lookahead<=l&&we===e)return x;if(re.lookahead===0)break}if(re.match_length=0,re.lookahead>=v&&0<re.strstart&&(be=Re[xe=re.strstart-1])===Re[++xe]&&be===Re[++xe]&&be===Re[++xe]){Pe=re.strstart+l;do;while(be===Re[++xe]&&be===Re[++xe]&&be===Re[++xe]&&be===Re[++xe]&&be===Re[++xe]&&be===Re[++xe]&&be===Re[++xe]&&be===Re[++xe]&&xe<Pe);re.match_length=l-(Pe-xe),re.match_length>re.lookahead&&(re.match_length=re.lookahead)}if(re.match_length>=v?(ke=d._tr_tally(re,1,re.match_length-v),re.lookahead-=re.match_length,re.strstart+=re.match_length,re.match_length=0):(ke=d._tr_tally(re,0,re.window[re.strstart]),re.lookahead--,re.strstart++),ke&&(ee(re,!1),re.strm.avail_out===0))return x}return re.insert=0,we===n?(ee(re,!0),re.strm.avail_out===0?G:q):re.last_lit&&(ee(re,!1),re.strm.avail_out===0)?x:N}(te,ge):E[te.level].func(te,ge);if(Z!==G&&Z!==q||(te.status=666),Z===x||Z===G)return I.avail_out===0&&(te.last_flush=-1),r;if(Z===N&&(ge===1?d._tr_align(te):ge!==5&&(d._tr_stored_block(te,0,0,!1),ge===3&&(j(te.head),te.lookahead===0&&(te.strstart=0,te.block_start=0,te.insert=0))),Y(I),I.avail_out===0))return te.last_flush=-1,r}return ge!==n?r:te.wrap<=0?1:(te.wrap===2?(ie(te,255&I.adler),ie(te,I.adler>>8&255),ie(te,I.adler>>16&255),ie(te,I.adler>>24&255),ie(te,255&I.total_in),ie(te,I.total_in>>8&255),ie(te,I.total_in>>16&255),ie(te,I.total_in>>24&255)):(ae(te,I.adler>>>16),ae(te,65535&I.adler)),Y(I),0<te.wrap&&(te.wrap=-te.wrap),te.pending!==0?r:1)},b.deflateEnd=function(I){var ge;return I&&I.state?(ge=I.state.status)!==k&&ge!==69&&ge!==73&&ge!==91&&ge!==103&&ge!==F&&ge!==666?ne(I,i):(I.state=null,ge===F?ne(I,-3):r):i},b.deflateSetDictionary=function(I,ge){var fe,te,J,he,pe,Z,re,we,ke=ge.length;if(!I||!I.state||(he=(fe=I.state).wrap)===2||he===1&&fe.status!==k||fe.lookahead)return i;for(he===1&&(I.adler=c(I.adler,ge,ke,0)),fe.wrap=0,ke>=fe.w_size&&(he===0&&(j(fe.head),fe.strstart=0,fe.block_start=0,fe.insert=0),we=new R.Buf8(fe.w_size),R.arraySet(we,ge,ke-fe.w_size,fe.w_size,0),ge=we,ke=fe.w_size),pe=I.avail_in,Z=I.next_in,re=I.input,I.avail_in=ke,I.next_in=0,I.input=ge,ye(fe);fe.lookahead>=v;){for(te=fe.strstart,J=fe.lookahead-(v-1);fe.ins_h=(fe.ins_h<<fe.hash_shift^fe.window[te+v-1])&fe.hash_mask,fe.prev[te&fe.w_mask]=fe.head[fe.ins_h],fe.head[fe.ins_h]=te,te++,--J;);fe.strstart=te,fe.lookahead=v-1,ye(fe)}return fe.strstart+=fe.lookahead,fe.block_start=fe.strstart,fe.insert=fe.lookahead,fe.lookahead=0,fe.match_length=fe.prev_length=v-1,fe.match_available=0,I.next_in=Z,I.input=re,I.avail_in=pe,fe.wrap=he,r},b.deflateInfo="pako deflate (from Nodeca project)"},{"../utils/common":41,"./adler32":43,"./crc32":45,"./messages":51,"./trees":52}],47:[function(A,T,b){T.exports=function(){this.text=0,this.time=0,this.xflags=0,this.os=0,this.extra=null,this.extra_len=0,this.name="",this.comment="",this.hcrc=0,this.done=!1}},{}],48:[function(A,T,b){T.exports=function(E,R){var d,c,a,t,e,n,r,i,o,h,p,y,L,m,s,g,_,f,v,l,w,k,F,x,N;d=E.state,c=E.next_in,x=E.input,a=c+(E.avail_in-5),t=E.next_out,N=E.output,e=t-(R-E.avail_out),n=t+(E.avail_out-257),r=d.dmax,i=d.wsize,o=d.whave,h=d.wnext,p=d.window,y=d.hold,L=d.bits,m=d.lencode,s=d.distcode,g=(1<<d.lenbits)-1,_=(1<<d.distbits)-1;e:do{L<15&&(y+=x[c++]<<L,L+=8,y+=x[c++]<<L,L+=8),f=m[y&g];t:for(;;){if(y>>>=v=f>>>24,L-=v,(v=f>>>16&255)===0)N[t++]=65535&f;else{if(!(16&v)){if(!(64&v)){f=m[(65535&f)+(y&(1<<v)-1)];continue t}if(32&v){d.mode=12;break e}E.msg="invalid literal/length code",d.mode=30;break e}l=65535&f,(v&=15)&&(L<v&&(y+=x[c++]<<L,L+=8),l+=y&(1<<v)-1,y>>>=v,L-=v),L<15&&(y+=x[c++]<<L,L+=8,y+=x[c++]<<L,L+=8),f=s[y&_];r:for(;;){if(y>>>=v=f>>>24,L-=v,!(16&(v=f>>>16&255))){if(!(64&v)){f=s[(65535&f)+(y&(1<<v)-1)];continue r}E.msg="invalid distance code",d.mode=30;break e}if(w=65535&f,L<(v&=15)&&(y+=x[c++]<<L,(L+=8)<v&&(y+=x[c++]<<L,L+=8)),r<(w+=y&(1<<v)-1)){E.msg="invalid distance too far back",d.mode=30;break e}if(y>>>=v,L-=v,(v=t-e)<w){if(o<(v=w-v)&&d.sane){E.msg="invalid distance too far back",d.mode=30;break e}if(F=p,(k=0)===h){if(k+=i-v,v<l){for(l-=v;N[t++]=p[k++],--v;);k=t-w,F=N}}else if(h<v){if(k+=i+h-v,(v-=h)<l){for(l-=v;N[t++]=p[k++],--v;);if(k=0,h<l){for(l-=v=h;N[t++]=p[k++],--v;);k=t-w,F=N}}}else if(k+=h-v,v<l){for(l-=v;N[t++]=p[k++],--v;);k=t-w,F=N}for(;2<l;)N[t++]=F[k++],N[t++]=F[k++],N[t++]=F[k++],l-=3;l&&(N[t++]=F[k++],1<l&&(N[t++]=F[k++]))}else{for(k=t-w;N[t++]=N[k++],N[t++]=N[k++],N[t++]=N[k++],2<(l-=3););l&&(N[t++]=N[k++],1<l&&(N[t++]=N[k++]))}break}}break}}while(c<a&&t<n);c-=l=L>>3,y&=(1<<(L-=l<<3))-1,E.next_in=c,E.next_out=t,E.avail_in=c<a?a-c+5:5-(c-a),E.avail_out=t<n?n-t+257:257-(t-n),d.hold=y,d.bits=L}},{}],49:[function(A,T,b){var E=A("../utils/common"),R=A("./adler32"),d=A("./crc32"),c=A("./inffast"),a=A("./inftrees"),t=1,e=2,n=0,r=-2,i=1,o=852,h=592;function p(k){return(k>>>24&255)+(k>>>8&65280)+((65280&k)<<8)+((255&k)<<24)}function y(){this.mode=0,this.last=!1,this.wrap=0,this.havedict=!1,this.flags=0,this.dmax=0,this.check=0,this.total=0,this.head=null,this.wbits=0,this.wsize=0,this.whave=0,this.wnext=0,this.window=null,this.hold=0,this.bits=0,this.length=0,this.offset=0,this.extra=0,this.lencode=null,this.distcode=null,this.lenbits=0,this.distbits=0,this.ncode=0,this.nlen=0,this.ndist=0,this.have=0,this.next=null,this.lens=new E.Buf16(320),this.work=new E.Buf16(288),this.lendyn=null,this.distdyn=null,this.sane=0,this.back=0,this.was=0}function L(k){var F;return k&&k.state?(F=k.state,k.total_in=k.total_out=F.total=0,k.msg="",F.wrap&&(k.adler=1&F.wrap),F.mode=i,F.last=0,F.havedict=0,F.dmax=32768,F.head=null,F.hold=0,F.bits=0,F.lencode=F.lendyn=new E.Buf32(o),F.distcode=F.distdyn=new E.Buf32(h),F.sane=1,F.back=-1,n):r}function m(k){var F;return k&&k.state?((F=k.state).wsize=0,F.whave=0,F.wnext=0,L(k)):r}function s(k,F){var x,N;return k&&k.state?(N=k.state,F<0?(x=0,F=-F):(x=1+(F>>4),F<48&&(F&=15)),F&&(F<8||15<F)?r:(N.window!==null&&N.wbits!==F&&(N.window=null),N.wrap=x,N.wbits=F,m(k))):r}function g(k,F){var x,N;return k?(N=new y,(k.state=N).window=null,(x=s(k,F))!==n&&(k.state=null),x):r}var _,f,v=!0;function l(k){if(v){var F;for(_=new E.Buf32(512),f=new E.Buf32(32),F=0;F<144;)k.lens[F++]=8;for(;F<256;)k.lens[F++]=9;for(;F<280;)k.lens[F++]=7;for(;F<288;)k.lens[F++]=8;for(a(t,k.lens,0,288,_,0,k.work,{bits:9}),F=0;F<32;)k.lens[F++]=5;a(e,k.lens,0,32,f,0,k.work,{bits:5}),v=!1}k.lencode=_,k.lenbits=9,k.distcode=f,k.distbits=5}function w(k,F,x,N){var G,q=k.state;return q.window===null&&(q.wsize=1<<q.wbits,q.wnext=0,q.whave=0,q.window=new E.Buf8(q.wsize)),N>=q.wsize?(E.arraySet(q.window,F,x-q.wsize,q.wsize,0),q.wnext=0,q.whave=q.wsize):(N<(G=q.wsize-q.wnext)&&(G=N),E.arraySet(q.window,F,x-N,G,q.wnext),(N-=G)?(E.arraySet(q.window,F,x-N,N,0),q.wnext=N,q.whave=q.wsize):(q.wnext+=G,q.wnext===q.wsize&&(q.wnext=0),q.whave<q.wsize&&(q.whave+=G))),0}b.inflateReset=m,b.inflateReset2=s,b.inflateResetKeep=L,b.inflateInit=function(k){return g(k,15)},b.inflateInit2=g,b.inflate=function(k,F){var x,N,G,q,ne,X,j,Y,ee,ie,ae,ce,ye,me,Se,Le,Ee,Fe,Ve,Je,I,ge,fe,te,J=0,he=new E.Buf8(4),pe=[16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15];if(!k||!k.state||!k.output||!k.input&&k.avail_in!==0)return r;(x=k.state).mode===12&&(x.mode=13),ne=k.next_out,G=k.output,j=k.avail_out,q=k.next_in,N=k.input,X=k.avail_in,Y=x.hold,ee=x.bits,ie=X,ae=j,ge=n;e:for(;;)switch(x.mode){case i:if(x.wrap===0){x.mode=13;break}for(;ee<16;){if(X===0)break e;X--,Y+=N[q++]<<ee,ee+=8}if(2&x.wrap&&Y===35615){he[x.check=0]=255&Y,he[1]=Y>>>8&255,x.check=d(x.check,he,2,0),ee=Y=0,x.mode=2;break}if(x.flags=0,x.head&&(x.head.done=!1),!(1&x.wrap)||(((255&Y)<<8)+(Y>>8))%31){k.msg="incorrect header check",x.mode=30;break}if((15&Y)!=8){k.msg="unknown compression method",x.mode=30;break}if(ee-=4,I=8+(15&(Y>>>=4)),x.wbits===0)x.wbits=I;else if(I>x.wbits){k.msg="invalid window size",x.mode=30;break}x.dmax=1<<I,k.adler=x.check=1,x.mode=512&Y?10:12,ee=Y=0;break;case 2:for(;ee<16;){if(X===0)break e;X--,Y+=N[q++]<<ee,ee+=8}if(x.flags=Y,(255&x.flags)!=8){k.msg="unknown compression method",x.mode=30;break}if(57344&x.flags){k.msg="unknown header flags set",x.mode=30;break}x.head&&(x.head.text=Y>>8&1),512&x.flags&&(he[0]=255&Y,he[1]=Y>>>8&255,x.check=d(x.check,he,2,0)),ee=Y=0,x.mode=3;case 3:for(;ee<32;){if(X===0)break e;X--,Y+=N[q++]<<ee,ee+=8}x.head&&(x.head.time=Y),512&x.flags&&(he[0]=255&Y,he[1]=Y>>>8&255,he[2]=Y>>>16&255,he[3]=Y>>>24&255,x.check=d(x.check,he,4,0)),ee=Y=0,x.mode=4;case 4:for(;ee<16;){if(X===0)break e;X--,Y+=N[q++]<<ee,ee+=8}x.head&&(x.head.xflags=255&Y,x.head.os=Y>>8),512&x.flags&&(he[0]=255&Y,he[1]=Y>>>8&255,x.check=d(x.check,he,2,0)),ee=Y=0,x.mode=5;case 5:if(1024&x.flags){for(;ee<16;){if(X===0)break e;X--,Y+=N[q++]<<ee,ee+=8}x.length=Y,x.head&&(x.head.extra_len=Y),512&x.flags&&(he[0]=255&Y,he[1]=Y>>>8&255,x.check=d(x.check,he,2,0)),ee=Y=0}else x.head&&(x.head.extra=null);x.mode=6;case 6:if(1024&x.flags&&(X<(ce=x.length)&&(ce=X),ce&&(x.head&&(I=x.head.extra_len-x.length,x.head.extra||(x.head.extra=new Array(x.head.extra_len)),E.arraySet(x.head.extra,N,q,ce,I)),512&x.flags&&(x.check=d(x.check,N,ce,q)),X-=ce,q+=ce,x.length-=ce),x.length))break e;x.length=0,x.mode=7;case 7:if(2048&x.flags){if(X===0)break e;for(ce=0;I=N[q+ce++],x.head&&I&&x.length<65536&&(x.head.name+=String.fromCharCode(I)),I&&ce<X;);if(512&x.flags&&(x.check=d(x.check,N,ce,q)),X-=ce,q+=ce,I)break e}else x.head&&(x.head.name=null);x.length=0,x.mode=8;case 8:if(4096&x.flags){if(X===0)break e;for(ce=0;I=N[q+ce++],x.head&&I&&x.length<65536&&(x.head.comment+=String.fromCharCode(I)),I&&ce<X;);if(512&x.flags&&(x.check=d(x.check,N,ce,q)),X-=ce,q+=ce,I)break e}else x.head&&(x.head.comment=null);x.mode=9;case 9:if(512&x.flags){for(;ee<16;){if(X===0)break e;X--,Y+=N[q++]<<ee,ee+=8}if(Y!==(65535&x.check)){k.msg="header crc mismatch",x.mode=30;break}ee=Y=0}x.head&&(x.head.hcrc=x.flags>>9&1,x.head.done=!0),k.adler=x.check=0,x.mode=12;break;case 10:for(;ee<32;){if(X===0)break e;X--,Y+=N[q++]<<ee,ee+=8}k.adler=x.check=p(Y),ee=Y=0,x.mode=11;case 11:if(x.havedict===0)return k.next_out=ne,k.avail_out=j,k.next_in=q,k.avail_in=X,x.hold=Y,x.bits=ee,2;k.adler=x.check=1,x.mode=12;case 12:if(F===5||F===6)break e;case 13:if(x.last){Y>>>=7&ee,ee-=7&ee,x.mode=27;break}for(;ee<3;){if(X===0)break e;X--,Y+=N[q++]<<ee,ee+=8}switch(x.last=1&Y,ee-=1,3&(Y>>>=1)){case 0:x.mode=14;break;case 1:if(l(x),x.mode=20,F!==6)break;Y>>>=2,ee-=2;break e;case 2:x.mode=17;break;case 3:k.msg="invalid block type",x.mode=30}Y>>>=2,ee-=2;break;case 14:for(Y>>>=7&ee,ee-=7&ee;ee<32;){if(X===0)break e;X--,Y+=N[q++]<<ee,ee+=8}if((65535&Y)!=(Y>>>16^65535)){k.msg="invalid stored block lengths",x.mode=30;break}if(x.length=65535&Y,ee=Y=0,x.mode=15,F===6)break e;case 15:x.mode=16;case 16:if(ce=x.length){if(X<ce&&(ce=X),j<ce&&(ce=j),ce===0)break e;E.arraySet(G,N,q,ce,ne),X-=ce,q+=ce,j-=ce,ne+=ce,x.length-=ce;break}x.mode=12;break;case 17:for(;ee<14;){if(X===0)break e;X--,Y+=N[q++]<<ee,ee+=8}if(x.nlen=257+(31&Y),Y>>>=5,ee-=5,x.ndist=1+(31&Y),Y>>>=5,ee-=5,x.ncode=4+(15&Y),Y>>>=4,ee-=4,286<x.nlen||30<x.ndist){k.msg="too many length or distance symbols",x.mode=30;break}x.have=0,x.mode=18;case 18:for(;x.have<x.ncode;){for(;ee<3;){if(X===0)break e;X--,Y+=N[q++]<<ee,ee+=8}x.lens[pe[x.have++]]=7&Y,Y>>>=3,ee-=3}for(;x.have<19;)x.lens[pe[x.have++]]=0;if(x.lencode=x.lendyn,x.lenbits=7,fe={bits:x.lenbits},ge=a(0,x.lens,0,19,x.lencode,0,x.work,fe),x.lenbits=fe.bits,ge){k.msg="invalid code lengths set",x.mode=30;break}x.have=0,x.mode=19;case 19:for(;x.have<x.nlen+x.ndist;){for(;Le=(J=x.lencode[Y&(1<<x.lenbits)-1])>>>16&255,Ee=65535&J,!((Se=J>>>24)<=ee);){if(X===0)break e;X--,Y+=N[q++]<<ee,ee+=8}if(Ee<16)Y>>>=Se,ee-=Se,x.lens[x.have++]=Ee;else{if(Ee===16){for(te=Se+2;ee<te;){if(X===0)break e;X--,Y+=N[q++]<<ee,ee+=8}if(Y>>>=Se,ee-=Se,x.have===0){k.msg="invalid bit length repeat",x.mode=30;break}I=x.lens[x.have-1],ce=3+(3&Y),Y>>>=2,ee-=2}else if(Ee===17){for(te=Se+3;ee<te;){if(X===0)break e;X--,Y+=N[q++]<<ee,ee+=8}ee-=Se,I=0,ce=3+(7&(Y>>>=Se)),Y>>>=3,ee-=3}else{for(te=Se+7;ee<te;){if(X===0)break e;X--,Y+=N[q++]<<ee,ee+=8}ee-=Se,I=0,ce=11+(127&(Y>>>=Se)),Y>>>=7,ee-=7}if(x.have+ce>x.nlen+x.ndist){k.msg="invalid bit length repeat",x.mode=30;break}for(;ce--;)x.lens[x.have++]=I}}if(x.mode===30)break;if(x.lens[256]===0){k.msg="invalid code -- missing end-of-block",x.mode=30;break}if(x.lenbits=9,fe={bits:x.lenbits},ge=a(t,x.lens,0,x.nlen,x.lencode,0,x.work,fe),x.lenbits=fe.bits,ge){k.msg="invalid literal/lengths set",x.mode=30;break}if(x.distbits=6,x.distcode=x.distdyn,fe={bits:x.distbits},ge=a(e,x.lens,x.nlen,x.ndist,x.distcode,0,x.work,fe),x.distbits=fe.bits,ge){k.msg="invalid distances set",x.mode=30;break}if(x.mode=20,F===6)break e;case 20:x.mode=21;case 21:if(6<=X&&258<=j){k.next_out=ne,k.avail_out=j,k.next_in=q,k.avail_in=X,x.hold=Y,x.bits=ee,c(k,ae),ne=k.next_out,G=k.output,j=k.avail_out,q=k.next_in,N=k.input,X=k.avail_in,Y=x.hold,ee=x.bits,x.mode===12&&(x.back=-1);break}for(x.back=0;Le=(J=x.lencode[Y&(1<<x.lenbits)-1])>>>16&255,Ee=65535&J,!((Se=J>>>24)<=ee);){if(X===0)break e;X--,Y+=N[q++]<<ee,ee+=8}if(Le&&!(240&Le)){for(Fe=Se,Ve=Le,Je=Ee;Le=(J=x.lencode[Je+((Y&(1<<Fe+Ve)-1)>>Fe)])>>>16&255,Ee=65535&J,!(Fe+(Se=J>>>24)<=ee);){if(X===0)break e;X--,Y+=N[q++]<<ee,ee+=8}Y>>>=Fe,ee-=Fe,x.back+=Fe}if(Y>>>=Se,ee-=Se,x.back+=Se,x.length=Ee,Le===0){x.mode=26;break}if(32&Le){x.back=-1,x.mode=12;break}if(64&Le){k.msg="invalid literal/length code",x.mode=30;break}x.extra=15&Le,x.mode=22;case 22:if(x.extra){for(te=x.extra;ee<te;){if(X===0)break e;X--,Y+=N[q++]<<ee,ee+=8}x.length+=Y&(1<<x.extra)-1,Y>>>=x.extra,ee-=x.extra,x.back+=x.extra}x.was=x.length,x.mode=23;case 23:for(;Le=(J=x.distcode[Y&(1<<x.distbits)-1])>>>16&255,Ee=65535&J,!((Se=J>>>24)<=ee);){if(X===0)break e;X--,Y+=N[q++]<<ee,ee+=8}if(!(240&Le)){for(Fe=Se,Ve=Le,Je=Ee;Le=(J=x.distcode[Je+((Y&(1<<Fe+Ve)-1)>>Fe)])>>>16&255,Ee=65535&J,!(Fe+(Se=J>>>24)<=ee);){if(X===0)break e;X--,Y+=N[q++]<<ee,ee+=8}Y>>>=Fe,ee-=Fe,x.back+=Fe}if(Y>>>=Se,ee-=Se,x.back+=Se,64&Le){k.msg="invalid distance code",x.mode=30;break}x.offset=Ee,x.extra=15&Le,x.mode=24;case 24:if(x.extra){for(te=x.extra;ee<te;){if(X===0)break e;X--,Y+=N[q++]<<ee,ee+=8}x.offset+=Y&(1<<x.extra)-1,Y>>>=x.extra,ee-=x.extra,x.back+=x.extra}if(x.offset>x.dmax){k.msg="invalid distance too far back",x.mode=30;break}x.mode=25;case 25:if(j===0)break e;if(ce=ae-j,x.offset>ce){if((ce=x.offset-ce)>x.whave&&x.sane){k.msg="invalid distance too far back",x.mode=30;break}ye=ce>x.wnext?(ce-=x.wnext,x.wsize-ce):x.wnext-ce,ce>x.length&&(ce=x.length),me=x.window}else me=G,ye=ne-x.offset,ce=x.length;for(j<ce&&(ce=j),j-=ce,x.length-=ce;G[ne++]=me[ye++],--ce;);x.length===0&&(x.mode=21);break;case 26:if(j===0)break e;G[ne++]=x.length,j--,x.mode=21;break;case 27:if(x.wrap){for(;ee<32;){if(X===0)break e;X--,Y|=N[q++]<<ee,ee+=8}if(ae-=j,k.total_out+=ae,x.total+=ae,ae&&(k.adler=x.check=x.flags?d(x.check,G,ae,ne-ae):R(x.check,G,ae,ne-ae)),ae=j,(x.flags?Y:p(Y))!==x.check){k.msg="incorrect data check",x.mode=30;break}ee=Y=0}x.mode=28;case 28:if(x.wrap&&x.flags){for(;ee<32;){if(X===0)break e;X--,Y+=N[q++]<<ee,ee+=8}if(Y!==(4294967295&x.total)){k.msg="incorrect length check",x.mode=30;break}ee=Y=0}x.mode=29;case 29:ge=1;break e;case 30:ge=-3;break e;case 31:return-4;case 32:default:return r}return k.next_out=ne,k.avail_out=j,k.next_in=q,k.avail_in=X,x.hold=Y,x.bits=ee,(x.wsize||ae!==k.avail_out&&x.mode<30&&(x.mode<27||F!==4))&&w(k,k.output,k.next_out,ae-k.avail_out)?(x.mode=31,-4):(ie-=k.avail_in,ae-=k.avail_out,k.total_in+=ie,k.total_out+=ae,x.total+=ae,x.wrap&&ae&&(k.adler=x.check=x.flags?d(x.check,G,ae,k.next_out-ae):R(x.check,G,ae,k.next_out-ae)),k.data_type=x.bits+(x.last?64:0)+(x.mode===12?128:0)+(x.mode===20||x.mode===15?256:0),(ie==0&&ae===0||F===4)&&ge===n&&(ge=-5),ge)},b.inflateEnd=function(k){if(!k||!k.state)return r;var F=k.state;return F.window&&(F.window=null),k.state=null,n},b.inflateGetHeader=function(k,F){var x;return k&&k.state&&2&(x=k.state).wrap?((x.head=F).done=!1,n):r},b.inflateSetDictionary=function(k,F){var x,N=F.length;return k&&k.state?(x=k.state).wrap!==0&&x.mode!==11?r:x.mode===11&&R(1,F,N,0)!==x.check?-3:w(k,F,N,N)?(x.mode=31,-4):(x.havedict=1,n):r},b.inflateInfo="pako inflate (from Nodeca project)"},{"../utils/common":41,"./adler32":43,"./crc32":45,"./inffast":48,"./inftrees":50}],50:[function(A,T,b){var E=A("../utils/common"),R=[3,4,5,6,7,8,9,10,11,13,15,17,19,23,27,31,35,43,51,59,67,83,99,115,131,163,195,227,258,0,0],d=[16,16,16,16,16,16,16,16,17,17,17,17,18,18,18,18,19,19,19,19,20,20,20,20,21,21,21,21,16,72,78],c=[1,2,3,4,5,7,9,13,17,25,33,49,65,97,129,193,257,385,513,769,1025,1537,2049,3073,4097,6145,8193,12289,16385,24577,0,0],a=[16,16,16,16,17,17,18,18,19,19,20,20,21,21,22,22,23,23,24,24,25,25,26,26,27,27,28,28,29,29,64,64];T.exports=function(t,e,n,r,i,o,h,p){var y,L,m,s,g,_,f,v,l,w=p.bits,k=0,F=0,x=0,N=0,G=0,q=0,ne=0,X=0,j=0,Y=0,ee=null,ie=0,ae=new E.Buf16(16),ce=new E.Buf16(16),ye=null,me=0;for(k=0;k<=15;k++)ae[k]=0;for(F=0;F<r;F++)ae[e[n+F]]++;for(G=w,N=15;1<=N&&ae[N]===0;N--);if(N<G&&(G=N),N===0)return i[o++]=20971520,i[o++]=20971520,p.bits=1,0;for(x=1;x<N&&ae[x]===0;x++);for(G<x&&(G=x),k=X=1;k<=15;k++)if(X<<=1,(X-=ae[k])<0)return-1;if(0<X&&(t===0||N!==1))return-1;for(ce[1]=0,k=1;k<15;k++)ce[k+1]=ce[k]+ae[k];for(F=0;F<r;F++)e[n+F]!==0&&(h[ce[e[n+F]]++]=F);if(_=t===0?(ee=ye=h,19):t===1?(ee=R,ie-=257,ye=d,me-=257,256):(ee=c,ye=a,-1),k=x,g=o,ne=F=Y=0,m=-1,s=(j=1<<(q=G))-1,t===1&&852<j||t===2&&592<j)return 1;for(;;){for(f=k-ne,l=h[F]<_?(v=0,h[F]):h[F]>_?(v=ye[me+h[F]],ee[ie+h[F]]):(v=96,0),y=1<<k-ne,x=L=1<<q;i[g+(Y>>ne)+(L-=y)]=f<<24|v<<16|l|0,L!==0;);for(y=1<<k-1;Y&y;)y>>=1;if(y!==0?(Y&=y-1,Y+=y):Y=0,F++,--ae[k]==0){if(k===N)break;k=e[n+h[F]]}if(G<k&&(Y&s)!==m){for(ne===0&&(ne=G),g+=x,X=1<<(q=k-ne);q+ne<N&&!((X-=ae[q+ne])<=0);)q++,X<<=1;if(j+=1<<q,t===1&&852<j||t===2&&592<j)return 1;i[m=Y&s]=G<<24|q<<16|g-o|0}}return Y!==0&&(i[g+Y]=k-ne<<24|64<<16|0),p.bits=G,0}},{"../utils/common":41}],51:[function(A,T,b){T.exports={2:"need dictionary",1:"stream end",0:"","-1":"file error","-2":"stream error","-3":"data error","-4":"insufficient memory","-5":"buffer error","-6":"incompatible version"}},{}],52:[function(A,T,b){var E=A("../utils/common"),R=0,d=1;function c(J){for(var he=J.length;0<=--he;)J[he]=0}var a=0,t=29,e=256,n=e+1+t,r=30,i=19,o=2*n+1,h=15,p=16,y=7,L=256,m=16,s=17,g=18,_=[0,0,0,0,0,0,0,0,1,1,1,1,2,2,2,2,3,3,3,3,4,4,4,4,5,5,5,5,0],f=[0,0,0,0,1,1,2,2,3,3,4,4,5,5,6,6,7,7,8,8,9,9,10,10,11,11,12,12,13,13],v=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,2,3,7],l=[16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15],w=new Array(2*(n+2));c(w);var k=new Array(2*r);c(k);var F=new Array(512);c(F);var x=new Array(256);c(x);var N=new Array(t);c(N);var G,q,ne,X=new Array(r);function j(J,he,pe,Z,re){this.static_tree=J,this.extra_bits=he,this.extra_base=pe,this.elems=Z,this.max_length=re,this.has_stree=J&&J.length}function Y(J,he){this.dyn_tree=J,this.max_code=0,this.stat_desc=he}function ee(J){return J<256?F[J]:F[256+(J>>>7)]}function ie(J,he){J.pending_buf[J.pending++]=255&he,J.pending_buf[J.pending++]=he>>>8&255}function ae(J,he,pe){J.bi_valid>p-pe?(J.bi_buf|=he<<J.bi_valid&65535,ie(J,J.bi_buf),J.bi_buf=he>>p-J.bi_valid,J.bi_valid+=pe-p):(J.bi_buf|=he<<J.bi_valid&65535,J.bi_valid+=pe)}function ce(J,he,pe){ae(J,pe[2*he],pe[2*he+1])}function ye(J,he){for(var pe=0;pe|=1&J,J>>>=1,pe<<=1,0<--he;);return pe>>>1}function me(J,he,pe){var Z,re,we=new Array(h+1),ke=0;for(Z=1;Z<=h;Z++)we[Z]=ke=ke+pe[Z-1]<<1;for(re=0;re<=he;re++){var be=J[2*re+1];be!==0&&(J[2*re]=ye(we[be]++,be))}}function Se(J){var he;for(he=0;he<n;he++)J.dyn_ltree[2*he]=0;for(he=0;he<r;he++)J.dyn_dtree[2*he]=0;for(he=0;he<i;he++)J.bl_tree[2*he]=0;J.dyn_ltree[2*L]=1,J.opt_len=J.static_len=0,J.last_lit=J.matches=0}function Le(J){8<J.bi_valid?ie(J,J.bi_buf):0<J.bi_valid&&(J.pending_buf[J.pending++]=J.bi_buf),J.bi_buf=0,J.bi_valid=0}function Ee(J,he,pe,Z){var re=2*he,we=2*pe;return J[re]<J[we]||J[re]===J[we]&&Z[he]<=Z[pe]}function Fe(J,he,pe){for(var Z=J.heap[pe],re=pe<<1;re<=J.heap_len&&(re<J.heap_len&&Ee(he,J.heap[re+1],J.heap[re],J.depth)&&re++,!Ee(he,Z,J.heap[re],J.depth));)J.heap[pe]=J.heap[re],pe=re,re<<=1;J.heap[pe]=Z}function Ve(J,he,pe){var Z,re,we,ke,be=0;if(J.last_lit!==0)for(;Z=J.pending_buf[J.d_buf+2*be]<<8|J.pending_buf[J.d_buf+2*be+1],re=J.pending_buf[J.l_buf+be],be++,Z===0?ce(J,re,he):(ce(J,(we=x[re])+e+1,he),(ke=_[we])!==0&&ae(J,re-=N[we],ke),ce(J,we=ee(--Z),pe),(ke=f[we])!==0&&ae(J,Z-=X[we],ke)),be<J.last_lit;);ce(J,L,he)}function Je(J,he){var pe,Z,re,we=he.dyn_tree,ke=he.stat_desc.static_tree,be=he.stat_desc.has_stree,xe=he.stat_desc.elems,Pe=-1;for(J.heap_len=0,J.heap_max=o,pe=0;pe<xe;pe++)we[2*pe]!==0?(J.heap[++J.heap_len]=Pe=pe,J.depth[pe]=0):we[2*pe+1]=0;for(;J.heap_len<2;)we[2*(re=J.heap[++J.heap_len]=Pe<2?++Pe:0)]=1,J.depth[re]=0,J.opt_len--,be&&(J.static_len-=ke[2*re+1]);for(he.max_code=Pe,pe=J.heap_len>>1;1<=pe;pe--)Fe(J,we,pe);for(re=xe;pe=J.heap[1],J.heap[1]=J.heap[J.heap_len--],Fe(J,we,1),Z=J.heap[1],J.heap[--J.heap_max]=pe,J.heap[--J.heap_max]=Z,we[2*re]=we[2*pe]+we[2*Z],J.depth[re]=(J.depth[pe]>=J.depth[Z]?J.depth[pe]:J.depth[Z])+1,we[2*pe+1]=we[2*Z+1]=re,J.heap[1]=re++,Fe(J,we,1),2<=J.heap_len;);J.heap[--J.heap_max]=J.heap[1],function(Re,Xe){var Ce,Qe,Te,Ke,pt,oe,_e=Xe.dyn_tree,He=Xe.max_code,et=Xe.stat_desc.static_tree,De=Xe.stat_desc.has_stree,gt=Xe.stat_desc.extra_bits,Ie=Xe.stat_desc.extra_base,vt=Xe.stat_desc.max_length,Ue=0;for(Ke=0;Ke<=h;Ke++)Re.bl_count[Ke]=0;for(_e[2*Re.heap[Re.heap_max]+1]=0,Ce=Re.heap_max+1;Ce<o;Ce++)vt<(Ke=_e[2*_e[2*(Qe=Re.heap[Ce])+1]+1]+1)&&(Ke=vt,Ue++),_e[2*Qe+1]=Ke,He<Qe||(Re.bl_count[Ke]++,pt=0,Ie<=Qe&&(pt=gt[Qe-Ie]),oe=_e[2*Qe],Re.opt_len+=oe*(Ke+pt),De&&(Re.static_len+=oe*(et[2*Qe+1]+pt)));if(Ue!==0){do{for(Ke=vt-1;Re.bl_count[Ke]===0;)Ke--;Re.bl_count[Ke]--,Re.bl_count[Ke+1]+=2,Re.bl_count[vt]--,Ue-=2}while(0<Ue);for(Ke=vt;Ke!==0;Ke--)for(Qe=Re.bl_count[Ke];Qe!==0;)He<(Te=Re.heap[--Ce])||(_e[2*Te+1]!==Ke&&(Re.opt_len+=(Ke-_e[2*Te+1])*_e[2*Te],_e[2*Te+1]=Ke),Qe--)}}(J,he),me(we,Pe,J.bl_count)}function I(J,he,pe){var Z,re,we=-1,ke=he[1],be=0,xe=7,Pe=4;for(ke===0&&(xe=138,Pe=3),he[2*(pe+1)+1]=65535,Z=0;Z<=pe;Z++)re=ke,ke=he[2*(Z+1)+1],++be<xe&&re===ke||(be<Pe?J.bl_tree[2*re]+=be:re!==0?(re!==we&&J.bl_tree[2*re]++,J.bl_tree[2*m]++):be<=10?J.bl_tree[2*s]++:J.bl_tree[2*g]++,we=re,Pe=(be=0)===ke?(xe=138,3):re===ke?(xe=6,3):(xe=7,4))}function ge(J,he,pe){var Z,re,we=-1,ke=he[1],be=0,xe=7,Pe=4;for(ke===0&&(xe=138,Pe=3),Z=0;Z<=pe;Z++)if(re=ke,ke=he[2*(Z+1)+1],!(++be<xe&&re===ke)){if(be<Pe)for(;ce(J,re,J.bl_tree),--be!=0;);else re!==0?(re!==we&&(ce(J,re,J.bl_tree),be--),ce(J,m,J.bl_tree),ae(J,be-3,2)):be<=10?(ce(J,s,J.bl_tree),ae(J,be-3,3)):(ce(J,g,J.bl_tree),ae(J,be-11,7));we=re,Pe=(be=0)===ke?(xe=138,3):re===ke?(xe=6,3):(xe=7,4)}}c(X);var fe=!1;function te(J,he,pe,Z){ae(J,(a<<1)+(Z?1:0),3),function(re,we,ke,be){Le(re),be&&(ie(re,ke),ie(re,~ke)),E.arraySet(re.pending_buf,re.window,we,ke,re.pending),re.pending+=ke}(J,he,pe,!0)}b._tr_init=function(J){fe||(function(){var he,pe,Z,re,we,ke=new Array(h+1);for(re=Z=0;re<t-1;re++)for(N[re]=Z,he=0;he<1<<_[re];he++)x[Z++]=re;for(x[Z-1]=re,re=we=0;re<16;re++)for(X[re]=we,he=0;he<1<<f[re];he++)F[we++]=re;for(we>>=7;re<r;re++)for(X[re]=we<<7,he=0;he<1<<f[re]-7;he++)F[256+we++]=re;for(pe=0;pe<=h;pe++)ke[pe]=0;for(he=0;he<=143;)w[2*he+1]=8,he++,ke[8]++;for(;he<=255;)w[2*he+1]=9,he++,ke[9]++;for(;he<=279;)w[2*he+1]=7,he++,ke[7]++;for(;he<=287;)w[2*he+1]=8,he++,ke[8]++;for(me(w,n+1,ke),he=0;he<r;he++)k[2*he+1]=5,k[2*he]=ye(he,5);G=new j(w,_,e+1,n,h),q=new j(k,f,0,r,h),ne=new j(new Array(0),v,0,i,y)}(),fe=!0),J.l_desc=new Y(J.dyn_ltree,G),J.d_desc=new Y(J.dyn_dtree,q),J.bl_desc=new Y(J.bl_tree,ne),J.bi_buf=0,J.bi_valid=0,Se(J)},b._tr_stored_block=te,b._tr_flush_block=function(J,he,pe,Z){var re,we,ke=0;0<J.level?(J.strm.data_type===2&&(J.strm.data_type=function(be){var xe,Pe=4093624447;for(xe=0;xe<=31;xe++,Pe>>>=1)if(1&Pe&&be.dyn_ltree[2*xe]!==0)return R;if(be.dyn_ltree[18]!==0||be.dyn_ltree[20]!==0||be.dyn_ltree[26]!==0)return d;for(xe=32;xe<e;xe++)if(be.dyn_ltree[2*xe]!==0)return d;return R}(J)),Je(J,J.l_desc),Je(J,J.d_desc),ke=function(be){var xe;for(I(be,be.dyn_ltree,be.l_desc.max_code),I(be,be.dyn_dtree,be.d_desc.max_code),Je(be,be.bl_desc),xe=i-1;3<=xe&&be.bl_tree[2*l[xe]+1]===0;xe--);return be.opt_len+=3*(xe+1)+5+5+4,xe}(J),re=J.opt_len+3+7>>>3,(we=J.static_len+3+7>>>3)<=re&&(re=we)):re=we=pe+5,pe+4<=re&&he!==-1?te(J,he,pe,Z):J.strategy===4||we===re?(ae(J,2+(Z?1:0),3),Ve(J,w,k)):(ae(J,4+(Z?1:0),3),function(be,xe,Pe,Re){var Xe;for(ae(be,xe-257,5),ae(be,Pe-1,5),ae(be,Re-4,4),Xe=0;Xe<Re;Xe++)ae(be,be.bl_tree[2*l[Xe]+1],3);ge(be,be.dyn_ltree,xe-1),ge(be,be.dyn_dtree,Pe-1)}(J,J.l_desc.max_code+1,J.d_desc.max_code+1,ke+1),Ve(J,J.dyn_ltree,J.dyn_dtree)),Se(J),Z&&Le(J)},b._tr_tally=function(J,he,pe){return J.pending_buf[J.d_buf+2*J.last_lit]=he>>>8&255,J.pending_buf[J.d_buf+2*J.last_lit+1]=255&he,J.pending_buf[J.l_buf+J.last_lit]=255&pe,J.last_lit++,he===0?J.dyn_ltree[2*pe]++:(J.matches++,he--,J.dyn_ltree[2*(x[pe]+e+1)]++,J.dyn_dtree[2*ee(he)]++),J.last_lit===J.lit_bufsize-1},b._tr_align=function(J){ae(J,2,3),ce(J,L,w),function(he){he.bi_valid===16?(ie(he,he.bi_buf),he.bi_buf=0,he.bi_valid=0):8<=he.bi_valid&&(he.pending_buf[he.pending++]=255&he.bi_buf,he.bi_buf>>=8,he.bi_valid-=8)}(J)}},{"../utils/common":41}],53:[function(A,T,b){T.exports=function(){this.input=null,this.next_in=0,this.avail_in=0,this.total_in=0,this.output=null,this.next_out=0,this.avail_out=0,this.total_out=0,this.msg="",this.state=null,this.data_type=2,this.adler=0}},{}],54:[function(A,T,b){T.exports=typeof setImmediate=="function"?setImmediate:function(){var E=[].slice.apply(arguments);E.splice(1,0,0),setTimeout.apply(null,E)}},{}]},{},[10])(10)});const _t={_HW:{description:"Start of the hardware IO registers.",value:"$FF00->$FF80"},_VRAM:{description:"VRAM Memory",value:"$8000->$9FFF"},_SCRN0:{description:"Background 0 Memory",value:"$9800->$9BFF"},_SCRN1:{description:"Background 1 Memory",value:"$9C00->$9FFF"},_SRAM:{description:"Card SRAM",value:"$A000->$BFFF"},_RAM:{description:"WRAM Memory",value:"$C000->$DFFF"},_OAMRAM:{description:"OAM Memory",value:"$FE00->$FE9F",flags:{OAMF_PRI:{value:"%10000000",description:"Flag to set on OAM attribute byte to make the background colors 1-3 to have priority over the sprite."},OAMF_YFLIP:{value:"%01000000",description:"Flag to set on OAM attribute byte to make the sprite flip in the Y direction"},OAMF_XFLIP:{value:"%00100000",description:"Flag to set on OAM attribute byte to make the sprite flip in the X direction"},OAMF_PAL0:{value:"%00000000",description:"Flag to set on OAM attribute byte to make the sprite use OBP0 in DMG (non-color) mode."},OAMF_PAL1:{value:"%00010000",description:"Flag to set on OAM attribute byte to make the sprite use OBP1 in DMG (non-color) mode."},OAMF_BANK0:{value:"%00000000",description:"Flag to set on OAM attribute byte to use a sprite graphics from VRAM Bank 0 in GBC mode."},OAMF_BANK1:{value:"%00001000",description:"Flag to set on OAM attribute byte to use a sprite graphics from VRAM Bank 1 in GBC mode."},OAMF_PALMASK:{value:"%00000111",description:"Mask of the color sprite palette index in the OAM attribute byte. In GBC mode."},OAMB_PRI:{value:"7",description:"Bit number to set on OAM attribute byte to make the background colors 1-3 to have priority over the sprite."},OAMB_YFLIP:{value:"6",description:"Bit number to set on OAM attribute byte to make the sprite flip in the Y direction."},OAMB_XFLIP:{value:"5",description:"Bit number to set on OAM attribute byte to make the sprite flip in the X direction."},OAMB_PAL1:{value:"4",description:"Bit number to set on OAM attribute byte to make the sprite use OBP1 in DMG (non-color) mode."},OAMB_BANK1:{value:"3",description:"Bit number to set on OAM attribute byte to use a sprite graphics from VRAM Bank 1 in GBC mode."}}},_AUD3WAVERAM:{description:"WAVE Channel Memory",value:"$FF30->$FF3F"},_HRAM:{description:"HRAM Memory",value:"$FF80->$FFFE"},rP1:{description:"Register for reading joy pad info. (R/W)",value:"$FF00",flags:{P1F_5:{value:"%00100000",description:"P15 out port, set to 0 to get buttons"},P1F_4:{value:"%00010000",description:"P14 out port, set to 0 to get dpad"},P1F_3:{value:"%00001000",description:"P13 in port"},P1F_2:{value:"%00000100",description:"P12 in port"},P1F_1:{value:"%00000010",description:"P11 in port"},P1F_0:{value:"%00000001",description:"P10 in port"},P1F_GET_DPAD:{description:"Value to load in rP1 to enable the reading of the DPad inputs."},P1F_GET_BTN:{description:"Value to load in rP1 to enable the reading of the A/B/Start/Select inputs."},P1F_GET_NONE:{description:"Value to load in rP1 to disable the reading of input buttons."}}},rSB:{description:"Serial Transfer Data (R/W)",value:"$FF01"},rSC:{description:"Serial I/O Control (R/W)",value:"$FF02"},rDIV:{description:`Divider register (R/W)
Incremented at 16384Hz or 32768Hz depending on the CPU speed.
Write any value to reset to zero.`,value:"$FF04"},rTIMA:{description:"Timer counter (R/W)",value:"$FF05"},rTMA:{description:"Timer modulo (R/W)",value:"$FF06"},rTAC:{description:"Timer control (R/W)",value:"$FF07",flags:{TACF_START:{value:"%00000100"},TACF_STOP:{value:"%00000000"},TACF_4KHZ:{value:"%00000000"},TACF_16KHZ:{value:"%00000011"},TACF_65KHZ:{value:"%00000010"},TACF_262KHZ:{value:"%00000001"}}},rIF:{description:`Interrupt Flag (R/W)
Contains the currently 'ready' interrupts, set by hardware, cleared when interrupt is executed.
Generally only written to zero to clear pending interrupts before enabling interrupts.`,value:"$FF0F",flags:"rIE"},rLCDC:{description:"LCD Control (R/W)",value:"$FF40",flags:{LCDCF_OFF:{value:"%00000000",description:"LCD Control Operation"},LCDCF_ON:{value:"%10000000",description:"LCD Control Operation"},LCDCF_WIN9800:{value:"%00000000",description:"Window Tile Map Display Select"},LCDCF_WIN9C00:{value:"%01000000",description:"Window Tile Map Display Select"},LCDCF_WINOFF:{value:"%00000000",description:"Window Display"},LCDCF_WINON:{value:"%00100000",description:"Window Display"},LCDCF_BG8800:{value:"%00000000",description:"BG & Window Tile Data Select"},LCDCF_BG8000:{value:"%00010000",description:"BG & Window Tile Data Select"},LCDCF_BG9800:{value:"%00000000",description:"BG Tile Map Display Select"},LCDCF_BG9C00:{value:"%00001000",description:"BG Tile Map Display Select"},LCDCF_OBJ8:{value:"%00000000",description:"OBJ Construction"},LCDCF_OBJ16:{value:"%00000100",description:"OBJ Construction"},LCDCF_OBJOFF:{value:"%00000000",description:"OBJ Display"},LCDCF_OBJON:{value:"%00000010",description:"OBJ Display"},LCDCF_BGOFF:{value:"%00000000",description:"BG Display"},LCDCF_BGON:{value:"%00000001",description:"BG Display"}}},rSTAT:{description:"LCDC Status (R/W)",value:"$FF41",flags:{STATF_LYC:{value:"%01000000",description:"LYC=LY Coincidence interrupt enabled (writable)"},STATF_MODE10:{value:"%00100000",description:"Mode 10 OAM STAT interrupt enabled (writable)"},STATF_MODE01:{value:"%00010000",description:"Mode 01 V-Blank STAT interrupt enabled (writable)"},STATF_MODE00:{value:"%00001000",description:"Mode 00 H-Blank STAT interrupt enabled (writable)"},STATF_LYCF:{value:"%00000100",description:"Coincidence Flag"},STATF_HB:{value:"%00000000",description:"H-Blank"},STATF_VB:{value:"%00000001",description:"V-Blank"},STATF_OAM:{value:"%00000010",description:"OAM-RAM is used by system"},STATF_LCD:{value:"%00000011",description:"Both OAM and VRAM used by system"},STATF_BUSY:{value:"%00000010",description:"When set, VRAM access is unsafe"}}},rSCY:{description:"Scroll Y (R/W)",value:"$FF42"},rSCX:{description:"Scroll X (R/W)",value:"$FF43"},rLY:{description:"LCDC Y-Coordinate (R)<br>Values range from 0->153. 144->153 is the VBlank period.",value:"$FF44"},rLYC:{description:"LY Compare (R/W)<br>When LY==LYC, STATF_LYCF will be set in STAT",value:"$FF45"},rDMA:{description:"DMA Transfer and Start Address (W)",value:"$FF46"},rBGP:{description:"BG Palette Data (W)<br>Bit 7-6 - Intensity for %11<br>Bit 5-4 - Intensity for %10<br>Bit 3-2 - Intensity for %01<br>Bit 1-0 - Intensity for %00",value:"$FF47"},rOBP0:{description:"Object Palette 0 Data (W)<br>Bit 7-6 - Intensity for %11<br>Bit 5-4 - Intensity for %10<br>Bit 3-2 - Intensity for %01<br>Bit 1-0 - Ignored, %00 is transparent",value:"$FF48"},rOBP1:{description:"Object Palette 1 Data (W)<br>Bit 7-6 - Intensity for %11<br>Bit 5-4 - Intensity for %10<br>Bit 3-2 - Intensity for %01<br>Bit 1-0 - Ignored, %00 is transparent",value:"$FF49"},rWY:{description:"Window Y Position (R/W)<br>0 <= WY <= 143",value:"$FF4A"},rWX:{description:"Window X Position (R/W)<br>7 <EQU WX <EQU 166",value:"$FF4B"},rKEY1:{description:"Select CPU Speed (R/W) GBC Only!<br>Bit 7 contains current speed: 1 is double speed.<br>Write bit 0 to 1 and execute a STOP instruction to switch speed.",value:"$FF4D"},rVBK:{description:"Select Video RAM Bank (R/W) GBC Only!",value:"$FF4F"},rHDMA1:{description:"Horizontal Blanking, General Purpose DMA (W) GBC Only!",value:"$FF51"},rHDMA2:{description:"Horizontal Blanking, General Purpose DMA (W) GBC Only!",value:"$FF52"},rHDMA3:{description:"Horizontal Blanking, General Purpose DMA (W) GBC Only!",value:"$FF53"},rHDMA4:{description:"Horizontal Blanking, General Purpose DMA (W) GBC Only!",value:"$FF54"},rHDMA5:{description:"Horizontal Blanking, General Purpose DMA (R/W) GBC Only!",value:"$FF55"},rRP:{description:"Infrared Communications Port (R/W) GBC Only!",value:"$FF56"},rBCPS:{description:"Background Color Palette Specification (R/W) GBC Only!",value:"$FF68"},rBCPD:{description:"Background Color Palette Data (R/W) GBC Only!",value:"$FF69"},rOCPS:{description:"Object Color Palette Specification (R/W) GBC Only!",value:"$FF6A"},rOCPD:{description:"Object Color Palette Data (R/W) GBC Only!",value:"$FF6B"},rSVBK:{description:"Select Main RAM Bank (R/W) GBC Only!",value:"$FF70"},rIE:{description:"Interrupt Enable (R/W)",value:"$FFFF",flags:{IEF_HILO:{value:"%00010000",description:"Transition from High to Low of Pin number P10-P13"},IEF_SERIAL:{value:"%00001000",description:"Serial I/O transfer end"},IEF_TIMER:{value:"%00000100",description:"Timer Overflow"},IEF_LCDC:{value:"%00000010",description:"LCDC (see STAT)"},IEF_VBLANK:{value:"%00000001",description:"V-Blank"}}},rNR50:{description:"Channel control / ON-OFF / Volume (R/W)<br>Bit 7   - Vin->SO2 ON/OFF (Vin??)<br>Bit 6-4 - SO2 output level (volume) (# 0-7)<br>Bit 3   - Vin->SO1 ON/OFF (Vin??)<br>Bit 2-0 - SO1 output level (volume) (# 0-7)",value:"$FF24",alias:"rAUDVOL"},rNR51:{description:"Selection of Sound output terminal (R/W)<br>Bit 7   - Output sound 4 to SO2 terminal<br>Bit 6   - Output sound 3 to SO2 terminal<br>Bit 5   - Output sound 2 to SO2 terminal<br>Bit 4   - Output sound 1 to SO2 terminal<br>Bit 3   - Output sound 4 to SO1 terminal<br>Bit 2   - Output sound 3 to SO1 terminal<br>Bit 1   - Output sound 2 to SO1 terminal<br>Bit 0   - Output sound 0 to SO1 terminal",value:"$FF25",alias:"rAUDTERM",flags:{AUDTERM_4_LEFT:{description:"%10000000"},AUDTERM_3_LEFT:{description:"%01000000"},AUDTERM_2_LEFT:{description:"%00100000"},AUDTERM_1_LEFT:{description:"%00010000"},AUDTERM_4_RIGHT:{description:"%00001000"},AUDTERM_3_RIGHT:{description:"%00000100"},AUDTERM_2_RIGHT:{description:"%00000010"},AUDTERM_1_RIGHT:{description:"%00000001"}}},rNR52:{description:"Sound on/off (R/W)<br>Bit 7   - All sound on/off (sets all audio regs to 0!)<br>Bit 3   - Sound 4 ON flag (read only)<br>Bit 2   - Sound 3 ON flag (read only)<br>Bit 1   - Sound 2 ON flag (read only)<br>Bit 0   - Sound 1 ON flag (read only)",value:"$FF26",alias:"rAUDENA",flags:{AUDENA_ON:{description:"%10000000"},AUDENA_OFF:{description:"%00000000  ; sets all audio regs to 0!"}}},rNR10:{description:"Sweep register (R/W)<br>Bit 6-4 - Sweep Time<br>Bit 3   - Sweep Increase/Decrease<br>&nbsp; 0: Addition<br>&nbsp; 1: Subtraction<br>Bit 2-0 - Number of sweep shift (# 0-7)<br>Sweep Time: (n*7.8ms)",value:"$FF10",alias:"rAUD1SWEEP",flags:{AUD1SWEEP_UP:{description:"%00000000"},AUD1SWEEP_DOWN:{description:"%00001000"}}},rNR11:{description:"Sound length/Wave pattern duty (R/W)<br>Bit 7-6 - Wave Pattern Duty (00:12.5% 01:25% 10:50% 11:75%)<br>Bit 5-0 - Sound length data (# 0-63)",value:"$FF11",alias:"rAUD1LEN",flags:{AUDLEN_DUTY_12_5:{value:"%00000000",description:"12.5%"},AUDLEN_DUTY_25:{value:"%01000000",description:"25%"},AUDLEN_DUTY_50:{value:"%10000000",description:"50%"},AUDLEN_DUTY_75:{value:"%11000000",description:"75%"}}},rNR12:{description:`Envelope (R/W)
Bit 7-4 - Initial value of envelope
Bit 3   - Envelope UP/DOWN
        0: Decrease
        1: Range of increase
Bit 2-0 - Number of envelope sweep (# 0-7)`,value:"$FF12",alias:"rAUD1ENV",flags:{AUDENV_UP:{value:"%00001000"},AUDENV_DOWN:{value:"%00000000"}}},rNR13:{description:"Frequency lo (W)",value:"$FF13",alias:"rAUD1LOW"},rNR14:{description:"Frequency hi (W)",value:"$FF14",alias:"rAUD1HIGH",flags:{AUDHIGH_RESTART:{description:"%10000000"},AUDHIGH_LENGTH_ON:{description:"%01000000"},AUDHIGH_LENGTH_OFF:{description:"%00000000"}}},rNR21:{description:"Sound Length; Wave Pattern Duty (R/W)",value:"$FF16",alias:"rAUD2LEN",flags:"rAUD1LEN"},rNR22:{description:"Envelope (R/W)",value:"$FF17",alias:"rAUD2ENV",flags:"rAUD1ENV"},rNR23:{description:"Frequency lo (W)",value:"$FF18",alias:"rAUD2LOW"},rNR24:{description:"Frequency hi (W)",value:"$FF19",alias:"rAUD2HIGH",flags:"rAUD1HIGH"},rNR30:{description:"Sound on/off (R/W)",value:"$FF1A",alias:"rAUD3ENA"},rNR31:{description:"Sound length (R/W)",value:"$FF1B",alias:"rAUD3LEN"},rNR32:{description:"Select output level",value:"$FF1C",alias:"rAUD3LEVEL"},rNR33:{description:"Frequency lo (W)",value:"$FF1D",alias:"rAUD3LOW"},rNR34:{description:"Frequency hi (W)",value:"$FF1E",alias:"rAUD3HIGH",flags:"rAUD1HIGH"},rNR41:{description:"Sound length (R/W)",value:"$FF20",alias:"rAUD4LEN"},rNR42:{description:"Envelope (R/W)",value:"$FF21",alias:"rAUD4ENV",flags:"rAUD1ENV"},rNR43:{description:"Polynomial counter (R/W)",value:"$FF22",alias:"rAUD4POLY"},rNR44:{description:"",value:"$FF23",alias:"rAUD4GO"},rPCM12:{description:"Sound channel 1&2 PCM amplitude (R) GBC Only!",value:"$FF76"},rPCM34:{description:"Sound channel 3&4 PCM amplitude (R) GBC Only!",value:"$FF77"},CART_COMPATIBLE_DMG:{description:"Store at $0143 to indicate DMG cartridge. ($00)"},CART_COMPATIBLE_DMG_GBC:{description:"Store at $0143 to indicate DMG and GBC compatible cartridge. ($80)"},CART_COMPATIBLE_GBC:{description:"Store at $0143 to indicate GBC compatible cartridge. ($C0)"},CART_ROM:{description:"Store at $0147 to cart type. ($00)"},CART_ROM_MBC1:{description:"Store at $0147 to cart type. ($01)"},CART_ROM_MBC1_RAM:{description:"Store at $0147 to cart type. ($02)"},CART_ROM_MBC1_RAM_BAT:{description:"Store at $0147 to cart type. ($03)"},CART_ROM_MBC2:{description:"Store at $0147 to cart type. ($05)"},CART_ROM_MBC2_BAT:{description:"Store at $0147 to cart type. ($06)"},CART_ROM_RAM:{description:"Store at $0147 to cart type. ($08)"},CART_ROM_RAM_BAT:{description:"Store at $0147 to cart type. ($09)"},CART_ROM_MBC3_BAT_RTC:{description:"Store at $0147 to cart type. ($0F)"},CART_ROM_MBC3_RAM_BAT_RTC:{description:"Store at $0147 to cart type. ($10)"},CART_ROM_MBC3:{description:"Store at $0147 to cart type. ($11)"},CART_ROM_MBC3_RAM:{description:"Store at $0147 to cart type. ($12)"},CART_ROM_MBC3_RAM_BAT:{description:"Store at $0147 to cart type. ($13)"},CART_ROM_MBC5:{description:"Store at $0147 to cart type. ($19)"},CART_ROM_MBC5_BAT:{description:"Store at $0147 to cart type. ($1A)"},CART_ROM_MBC5_RAM_BAT:{description:"Store at $0147 to cart type. ($1B)"},CART_ROM_MBC5_RUMBLE:{description:"Store at $0147 to cart type. ($1C)"},CART_ROM_MBC5_RAM_RUMBLE:{description:"Store at $0147 to cart type. ($1D)"},CART_ROM_MBC5_RAM_BAT_RUMBLE:{description:"Store at $0147 to cart type. ($1E)"},CART_ROM_MBC7_RAM_BAT_GYRO:{description:"Store at $0147 to cart type. ($22)"},CART_ROM_POCKET_CAMERA:{description:"Store at $0147 to cart type. ($FC)"},CART_ROM_256K:{description:"Store at $0148 to indicate the number of ROM banks: 2 banks"},CART_ROM_512K:{description:"Store at $0148 to indicate the number of ROM banks: 4 banks"},CART_ROM_1M:{description:"Store at $0148 to indicate the number of ROM banks: 8 banks"},CART_ROM_2M:{description:"Store at $0148 to indicate the number of ROM banks: 16 banks"},CART_ROM_4M:{description:"Store at $0148 to indicate the number of ROM banks: 32 banks"},CART_ROM_8M:{description:"Store at $0148 to indicate the number of ROM banks: 64 banks"},CART_ROM_16M:{description:"Store at $0148 to indicate the number of ROM banks: 128 banks"},CART_ROM_32M:{description:"Store at $0148 to indicate the number of ROM banks: 256 banks"},CART_ROM_64M:{description:"Store at $0148 to indicate the number of ROM banks: 512 banks"},CART_RAM_NONE:{description:"Store at $0149 to indicate the amount of SRAM: No SRAM"},CART_RAM_16K:{description:"Store at $0149 to indicate the amount of SRAM: 2 KiloByte, 1 bank"},CART_RAM_64K:{description:"Store at $0149 to indicate the amount of SRAM: 8 KiloByte, 1 bank"},CART_RAM_256K:{description:"Store at $0149 to indicate the amount of SRAM: 32 KiloByte, 4 banks"},CART_RAM_1M:{description:"Store at $0149 to indicate the amount of SRAM: 128 KiloByte, 16 banks"},CART_RAM_ENABLE:{description:"Write this value to $0000 to enable SRAM. ($0A)"},CART_RAM_DISABLE:{description:"Write this value to $0000 to disable SRAM. ($00)"},PADF_DOWN:{description:"$80"},PADF_UP:{description:"$40"},PADF_LEFT:{description:"$20"},PADF_RIGHT:{description:"$10"},PADF_START:{description:"$08"},PADF_SELECT:{description:"$04"},PADF_B:{description:"$02"},PADF_A:{description:"$01"},PADB_DOWN:{description:"$7"},PADB_UP:{description:"$6"},PADB_LEFT:{description:"$5"},PADB_RIGHT:{description:"$4"},PADB_START:{description:"$3"},PADB_SELECT:{description:"$2"},PADB_B:{description:"$1"},PADB_A:{description:"$0"},SCRN_X:{description:"Width of screen in pixels",value:"160"},SCRN_Y:{description:"Height of screen in pixels",value:"144"},SCRN_X_B:{description:"Width of screen in bytes",value:"20"},SCRN_Y_B:{description:"Height of screen in bytes",value:"18"},SCRN_VX:{description:"Virtual width of screen in pixels",value:"256"},SCRN_VY:{description:"Virtual height of screen in pixels",value:"256"},SCRN_VX_B:{description:"Virtual width of screen in bytes",value:"32"},SCRN_VY_B:{description:"Virtual height of screen in bytes",value:"32"}};for(var Tt in _t){if(typeof _t[Tt].flags=="string"&&(_t[Tt].flags=_t[_t[Tt].flags].flags),_t[Tt].flags)for(var _r in _t[Tt].flags)_t[_r]=_t[Tt].flags[_r];_t[Tt].alias&&(_t[_t[Tt].alias]=Object.assign({},_t[Tt]),_t[_t[Tt].alias].alias=Tt)}(function(){function A(t){var e=b;t&&(b[t]||(b[t]={}),e=b[t]),(!e.define||!e.define.packaged)&&(E.original=e.define,e.define=E,e.define.packaged=!0),(!e.require||!e.require.packaged)&&(d.original=e.require,e.require=d,e.require.packaged=!0)}var T="",b=function(){return this}();if(!b&&typeof window<"u"&&(b=window),!(typeof requirejs<"u")){var E=function(t,e,n){if(typeof t!="string"){E.original?E.original.apply(this,arguments):(console.error("dropping module because define wasn't a string."),console.trace());return}arguments.length==2&&(n=e),E.modules[t]||(E.payloads[t]=n,E.modules[t]=null)};E.modules={},E.payloads={};var R=function(t,e,n){if(typeof e=="string"){var r=a(t,e);if(r!=null)return n&&n(),r}else if(Object.prototype.toString.call(e)==="[object Array]"){for(var i=[],o=0,h=e.length;o<h;++o){var p=a(t,e[o]);if(p==null&&d.original)return;i.push(p)}return n&&n.apply(null,i)||!0}},d=function(t,e){var n=R("",t,e);return n==null&&d.original?d.original.apply(this,arguments):n},c=function(t,e){if(e.indexOf("!")!==-1){var n=e.split("!");return c(t,n[0])+"!"+c(t,n[1])}if(e.charAt(0)=="."){var r=t.split("/").slice(0,-1).join("/");for(e=r+"/"+e;e.indexOf(".")!==-1&&i!=e;){var i=e;e=e.replace(/\/\.\//,"/").replace(/[^\/]+\/\.\.\//,"")}}return e},a=function(t,e){e=c(t,e);var n=E.modules[e];if(!n){if(n=E.payloads[e],typeof n=="function"){var r={},i={id:e,uri:"",exports:r,packaged:!0},o=function(p,y){return R(e,p,y)},h=n(o,r,i);r=h||i.exports,E.modules[e]=r,delete E.payloads[e]}n=E.modules[e]=r||n}return n};A(T)}})(),define("ace/lib/fixoldbrowsers",["require","exports","module"],function(A,T,b){typeof Element<"u"&&!Element.prototype.remove&&Object.defineProperty(Element.prototype,"remove",{enumerable:!1,writable:!0,configurable:!0,value:function(){this.parentNode&&this.parentNode.removeChild(this)}})}),define("ace/lib/useragent",["require","exports","module"],function(A,T,b){T.OS={LINUX:"LINUX",MAC:"MAC",WINDOWS:"WINDOWS"},T.getOS=function(){return T.isMac?T.OS.MAC:T.isLinux?T.OS.LINUX:T.OS.WINDOWS};var E=typeof navigator=="object"?navigator:{},R=(/mac|win|linux/i.exec(E.platform)||["other"])[0].toLowerCase(),d=E.userAgent||"",c=E.appName||"";T.isWin=R=="win",T.isMac=R=="mac",T.isLinux=R=="linux",T.isIE=c=="Microsoft Internet Explorer"||c.indexOf("MSAppHost")>=0?parseFloat((d.match(/(?:MSIE |Trident\/[0-9]+[\.0-9]+;.*rv:)([0-9]+[\.0-9]+)/)||[])[1]):parseFloat((d.match(/(?:Trident\/[0-9]+[\.0-9]+;.*rv:)([0-9]+[\.0-9]+)/)||[])[1]),T.isOldIE=T.isIE&&T.isIE<9,T.isGecko=T.isMozilla=d.match(/ Gecko\/\d+/),T.isOpera=typeof opera=="object"&&Object.prototype.toString.call(window.opera)=="[object Opera]",T.isWebKit=parseFloat(d.split("WebKit/")[1])||void 0,T.isChrome=parseFloat(d.split(" Chrome/")[1])||void 0,T.isEdge=parseFloat(d.split(" Edge/")[1])||void 0,T.isAIR=d.indexOf("AdobeAIR")>=0,T.isAndroid=d.indexOf("Android")>=0,T.isChromeOS=d.indexOf(" CrOS ")>=0,T.isIOS=/iPad|iPhone|iPod/.test(d)&&!window.MSStream,T.isIOS&&(T.isMac=!0),T.isMobile=T.isIOS||T.isAndroid}),define("ace/lib/dom",["require","exports","module","ace/lib/useragent"],function(A,T,b){var E=A("./useragent"),R="http://www.w3.org/1999/xhtml";if(T.buildDom=function c(a,t,e){if(typeof a=="string"&&a){var n=document.createTextNode(a);return t&&t.appendChild(n),n}if(!Array.isArray(a))return a&&a.appendChild&&t&&t.appendChild(a),a;if(typeof a[0]!="string"||!a[0]){for(var r=[],i=0;i<a.length;i++){var o=c(a[i],t,e);o&&r.push(o)}return r}var h=document.createElement(a[0]),p=a[1],y=1;p&&typeof p=="object"&&!Array.isArray(p)&&(y=2);for(var i=y;i<a.length;i++)c(a[i],h,e);return y==2&&Object.keys(p).forEach(function(L){var m=p[L];L==="class"?h.className=Array.isArray(m)?m.join(" "):m:typeof m=="function"||L=="value"||L[0]=="$"?h[L]=m:L==="ref"?e&&(e[m]=h):m!=null&&h.setAttribute(L,m)}),t&&t.appendChild(h),h},T.getDocumentHead=function(c){return c||(c=document),c.head||c.getElementsByTagName("head")[0]||c.documentElement},T.createElement=function(c,a){return document.createElementNS?document.createElementNS(a||R,c):document.createElement(c)},T.removeChildren=function(c){c.innerHTML=""},T.createTextNode=function(c,a){var t=a?a.ownerDocument:document;return t.createTextNode(c)},T.createFragment=function(c){var a=c?c.ownerDocument:document;return a.createDocumentFragment()},T.hasCssClass=function(c,a){var t=(c.className+"").split(/\s+/g);return t.indexOf(a)!==-1},T.addCssClass=function(c,a){T.hasCssClass(c,a)||(c.className+=" "+a)},T.removeCssClass=function(c,a){for(var t=c.className.split(/\s+/g);;){var e=t.indexOf(a);if(e==-1)break;t.splice(e,1)}c.className=t.join(" ")},T.toggleCssClass=function(c,a){for(var t=c.className.split(/\s+/g),e=!0;;){var n=t.indexOf(a);if(n==-1)break;e=!1,t.splice(n,1)}return e&&t.push(a),c.className=t.join(" "),e},T.setCssClass=function(c,a,t){t?T.addCssClass(c,a):T.removeCssClass(c,a)},T.hasCssString=function(c,a){var t=0,e;if(a=a||document,e=a.querySelectorAll("style")){for(;t<e.length;)if(e[t++].id===c)return!0}},T.importCssString=function(c,a,t){var e=t;!t||!t.getRootNode?e=document:(e=t.getRootNode(),(!e||e==t)&&(e=document));var n=e.ownerDocument||e;if(a&&T.hasCssString(a,e))return null;a&&(c+=`
/*# sourceURL=ace/css/`+a+" */");var r=T.createElement("style");r.appendChild(n.createTextNode(c)),a&&(r.id=a),e==n&&(e=T.getDocumentHead(n)),e.insertBefore(r,e.firstChild)},T.importCssStylsheet=function(c,a){T.buildDom(["link",{rel:"stylesheet",href:c}],T.getDocumentHead(a))},T.scrollbarWidth=function(c){var a=T.createElement("ace_inner");a.style.width="100%",a.style.minWidth="0px",a.style.height="200px",a.style.display="block";var t=T.createElement("ace_outer"),e=t.style;e.position="absolute",e.left="-10000px",e.overflow="hidden",e.width="200px",e.minWidth="0px",e.height="150px",e.display="block",t.appendChild(a);var n=c.documentElement;n.appendChild(t);var r=a.offsetWidth;e.overflow="scroll";var i=a.offsetWidth;return r==i&&(i=t.clientWidth),n.removeChild(t),r-i},typeof document>"u"&&(T.importCssString=function(){}),T.computedStyle=function(c,a){return window.getComputedStyle(c,"")||{}},T.setStyle=function(c,a,t){c[a]!==t&&(c[a]=t)},T.HAS_CSS_ANIMATION=!1,T.HAS_CSS_TRANSFORMS=!1,T.HI_DPI=E.isWin?typeof window<"u"&&window.devicePixelRatio>=1.5:!0,typeof document<"u"){var d=document.createElement("div");T.HI_DPI&&d.style.transform!==void 0&&(T.HAS_CSS_TRANSFORMS=!0),!E.isEdge&&typeof d.style.animationName<"u"&&(T.HAS_CSS_ANIMATION=!0),d=null}T.HAS_CSS_TRANSFORMS?T.translate=function(c,a,t){c.style.transform="translate("+Math.round(a)+"px, "+Math.round(t)+"px)"}:T.translate=function(c,a,t){c.style.top=Math.round(t)+"px",c.style.left=Math.round(a)+"px"}}),define("ace/lib/oop",["require","exports","module"],function(A,T,b){T.inherits=function(E,R){E.super_=R,E.prototype=Object.create(R.prototype,{constructor:{value:E,enumerable:!1,writable:!0,configurable:!0}})},T.mixin=function(E,R){for(var d in R)E[d]=R[d];return E},T.implement=function(E,R){T.mixin(E,R)}}),define("ace/lib/keys",["require","exports","module","ace/lib/oop"],function(A,T,b){var E=A("./oop"),R=function(){var d={MODIFIER_KEYS:{16:"Shift",17:"Ctrl",18:"Alt",224:"Meta",91:"MetaLeft",92:"MetaRight",93:"ContextMenu"},KEY_MODS:{ctrl:1,alt:2,option:2,shift:4,super:8,meta:8,command:8,cmd:8,control:1},FUNCTION_KEYS:{8:"Backspace",9:"Tab",13:"Return",19:"Pause",27:"Esc",32:"Space",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"Left",38:"Up",39:"Right",40:"Down",44:"Print",45:"Insert",46:"Delete",96:"Numpad0",97:"Numpad1",98:"Numpad2",99:"Numpad3",100:"Numpad4",101:"Numpad5",102:"Numpad6",103:"Numpad7",104:"Numpad8",105:"Numpad9","-13":"NumpadEnter",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"Numlock",145:"Scrolllock"},PRINTABLE_KEYS:{32:" ",48:"0",49:"1",50:"2",51:"3",52:"4",53:"5",54:"6",55:"7",56:"8",57:"9",59:";",61:"=",65:"a",66:"b",67:"c",68:"d",69:"e",70:"f",71:"g",72:"h",73:"i",74:"j",75:"k",76:"l",77:"m",78:"n",79:"o",80:"p",81:"q",82:"r",83:"s",84:"t",85:"u",86:"v",87:"w",88:"x",89:"y",90:"z",107:"+",109:"-",110:".",186:";",187:"=",188:",",189:"-",190:".",191:"/",192:"`",219:"[",220:"\\",221:"]",222:"'",111:"/",106:"*"}},c,a;for(a in d.FUNCTION_KEYS)c=d.FUNCTION_KEYS[a].toLowerCase(),d[c]=parseInt(a,10);for(a in d.PRINTABLE_KEYS)c=d.PRINTABLE_KEYS[a].toLowerCase(),d[c]=parseInt(a,10);return E.mixin(d,d.MODIFIER_KEYS),E.mixin(d,d.PRINTABLE_KEYS),E.mixin(d,d.FUNCTION_KEYS),d.enter=d.return,d.escape=d.esc,d.del=d.delete,d[173]="-",function(){for(var t=["cmd","ctrl","alt","shift"],e=Math.pow(2,t.length);e--;)d.KEY_MODS[e]=t.filter(function(n){return e&d.KEY_MODS[n]}).join("-")+"-"}(),d.KEY_MODS[0]="",d.KEY_MODS[-1]="input-",d}();E.mixin(T,R),T.keyCodeToString=function(d){var c=R[d];return typeof c!="string"&&(c=String.fromCharCode(d)),c.toLowerCase()}}),define("ace/lib/event",["require","exports","module","ace/lib/keys","ace/lib/useragent"],function(A,T,b){function E(){i=!1;try{document.createComment("").addEventListener("test",function(){},{get passive(){i={passive:!1}}})}catch{}}function R(){return i==null&&E(),i}function d(L,m,s){this.elem=L,this.type=m,this.callback=s}function c(L,m,s){var g=p(m);if(!e.isMac&&n){if(m.getModifierState&&(m.getModifierState("OS")||m.getModifierState("Win"))&&(g|=8),n.altGr){if((3&g)==3)return;n.altGr=0}if(s===18||s===17){var _="location"in m?m.location:m.keyLocation;if(s===17&&_===1)n[s]==1&&(r=m.timeStamp);else if(s===18&&g===3&&_===2){var f=m.timeStamp-r;f<50&&(n.altGr=!0)}}}if(s in t.MODIFIER_KEYS&&(s=-1),!g&&s===13){var _="location"in m?m.location:m.keyLocation;if(_===3&&(L(m,g,-s),m.defaultPrevented))return}if(e.isChromeOS&&g&8){if(L(m,g,s),m.defaultPrevented)return;g&=-9}return g||s in t.FUNCTION_KEYS||s in t.PRINTABLE_KEYS?L(m,g,s):!1}function a(){n=Object.create(null)}var t=A("./keys"),e=A("./useragent"),n=null,r=0,i;d.prototype.destroy=function(){h(this.elem,this.type,this.callback),this.elem=this.type=this.callback=void 0};var o=T.addListener=function(L,m,s,g){L.addEventListener(m,s,R()),g&&g.$toDestroy.push(new d(L,m,s))},h=T.removeListener=function(L,m,s){L.removeEventListener(m,s,R())};T.stopEvent=function(L){return T.stopPropagation(L),T.preventDefault(L),!1},T.stopPropagation=function(L){L.stopPropagation&&L.stopPropagation()},T.preventDefault=function(L){L.preventDefault&&L.preventDefault()},T.getButton=function(L){return L.type=="dblclick"?0:L.type=="contextmenu"||e.isMac&&L.ctrlKey&&!L.altKey&&!L.shiftKey?2:L.button},T.capture=function(L,m,s){function g(f){m&&m(f),s&&s(f),h(_,"mousemove",m),h(_,"mouseup",g),h(_,"dragstart",g)}var _=L&&L.ownerDocument||document;return o(_,"mousemove",m),o(_,"mouseup",g),o(_,"dragstart",g),g},T.addMouseWheelListener=function(L,m,s){"onmousewheel"in L?o(L,"mousewheel",function(g){var _=8;g.wheelDeltaX!==void 0?(g.wheelX=-g.wheelDeltaX/_,g.wheelY=-g.wheelDeltaY/_):(g.wheelX=0,g.wheelY=-g.wheelDelta/_),m(g)},s):"onwheel"in L?o(L,"wheel",function(g){var _=.35;switch(g.deltaMode){case g.DOM_DELTA_PIXEL:g.wheelX=g.deltaX*_||0,g.wheelY=g.deltaY*_||0;break;case g.DOM_DELTA_LINE:case g.DOM_DELTA_PAGE:g.wheelX=(g.deltaX||0)*5,g.wheelY=(g.deltaY||0)*5}m(g)},s):o(L,"DOMMouseScroll",function(g){g.axis&&g.axis==g.HORIZONTAL_AXIS?(g.wheelX=(g.detail||0)*5,g.wheelY=0):(g.wheelX=0,g.wheelY=(g.detail||0)*5),m(g)},s)},T.addMultiMouseDownListener=function(L,m,s,g,_){function f(x){if(T.getButton(x)!==0?v=0:x.detail>1?(v++,v>4&&(v=1)):v=1,e.isIE){var N=Math.abs(x.clientX-l)>5||Math.abs(x.clientY-w)>5;(!k||N)&&(v=1),k&&clearTimeout(k),k=setTimeout(function(){k=null},m[v-1]||600),v==1&&(l=x.clientX,w=x.clientY)}if(x._clicks=v,s[g]("mousedown",x),v>4)v=0;else if(v>1)return s[g](F[v],x)}var v=0,l,w,k,F={2:"dblclick",3:"tripleclick",4:"quadclick"};Array.isArray(L)||(L=[L]),L.forEach(function(x){o(x,"mousedown",f,_)})};var p=function(L){return 0|(L.ctrlKey?1:0)|(L.altKey?2:0)|(L.shiftKey?4:0)|(L.metaKey?8:0)};if(T.getModifierString=function(L){return t.KEY_MODS[p(L)]},T.addCommandKeyListener=function(L,m,s){if(e.isOldGecko||e.isOpera&&!("KeyboardEvent"in window)){var g=null;o(L,"keydown",function(f){g=f.keyCode},s),o(L,"keypress",function(f){return c(m,f,g)},s)}else{var _=null;o(L,"keydown",function(f){n[f.keyCode]=(n[f.keyCode]||0)+1;var v=c(m,f,f.keyCode);return _=f.defaultPrevented,v},s),o(L,"keypress",function(f){_&&(f.ctrlKey||f.altKey||f.shiftKey||f.metaKey)&&(T.stopEvent(f),_=null)},s),o(L,"keyup",function(f){n[f.keyCode]=null},s),n||(a(),o(window,"focus",a))}},typeof window=="object"&&window.postMessage&&!e.isOldIE){var y=1;T.nextTick=function(L,m){m=m||window;var s="zero-timeout-message-"+y++,g=function(_){_.data==s&&(T.stopPropagation(_),h(m,"message",g),L())};o(m,"message",g),m.postMessage(s,"*")}}T.$idleBlocked=!1,T.onIdle=function(L,m){return setTimeout(function s(){T.$idleBlocked?setTimeout(s,100):L()},m)},T.$idleBlockId=null,T.blockIdle=function(L){T.$idleBlockId&&clearTimeout(T.$idleBlockId),T.$idleBlocked=!0,T.$idleBlockId=setTimeout(function(){T.$idleBlocked=!1},L||100)},T.nextFrame=typeof window=="object"&&(window.requestAnimationFrame||window.mozRequestAnimationFrame||window.webkitRequestAnimationFrame||window.msRequestAnimationFrame||window.oRequestAnimationFrame),T.nextFrame?T.nextFrame=T.nextFrame.bind(window):T.nextFrame=function(L){setTimeout(L,17)}}),define("ace/range",["require","exports","module"],function(A,T,b){var E=function(d,c){return d.row-c.row||d.column-c.column},R=function(d,c,a,t){this.start={row:d,column:c},this.end={row:a,column:t}};(function(){this.isEqual=function(d){return this.start.row===d.start.row&&this.end.row===d.end.row&&this.start.column===d.start.column&&this.end.column===d.end.column},this.toString=function(){return"Range: ["+this.start.row+"/"+this.start.column+"] -> ["+this.end.row+"/"+this.end.column+"]"},this.contains=function(d,c){return this.compare(d,c)==0},this.compareRange=function(d){var c,a=d.end,t=d.start;return c=this.compare(a.row,a.column),c==1?(c=this.compare(t.row,t.column),c==1?2:c==0?1:0):c==-1?-2:(c=this.compare(t.row,t.column),c==-1?-1:c==1?42:0)},this.comparePoint=function(d){return this.compare(d.row,d.column)},this.containsRange=function(d){return this.comparePoint(d.start)==0&&this.comparePoint(d.end)==0},this.intersects=function(d){var c=this.compareRange(d);return c==-1||c==0||c==1},this.isEnd=function(d,c){return this.end.row==d&&this.end.column==c},this.isStart=function(d,c){return this.start.row==d&&this.start.column==c},this.setStart=function(d,c){typeof d=="object"?(this.start.column=d.column,this.start.row=d.row):(this.start.row=d,this.start.column=c)},this.setEnd=function(d,c){typeof d=="object"?(this.end.column=d.column,this.end.row=d.row):(this.end.row=d,this.end.column=c)},this.inside=function(d,c){return this.compare(d,c)==0?!(this.isEnd(d,c)||this.isStart(d,c)):!1},this.insideStart=function(d,c){return this.compare(d,c)==0?!this.isEnd(d,c):!1},this.insideEnd=function(d,c){return this.compare(d,c)==0?!this.isStart(d,c):!1},this.compare=function(d,c){return!this.isMultiLine()&&d===this.start.row?c<this.start.column?-1:c>this.end.column?1:0:d<this.start.row?-1:d>this.end.row?1:this.start.row===d?c>=this.start.column?0:-1:this.end.row===d?c<=this.end.column?0:1:0},this.compareStart=function(d,c){return this.start.row==d&&this.start.column==c?-1:this.compare(d,c)},this.compareEnd=function(d,c){return this.end.row==d&&this.end.column==c?1:this.compare(d,c)},this.compareInside=function(d,c){return this.end.row==d&&this.end.column==c?1:this.start.row==d&&this.start.column==c?-1:this.compare(d,c)},this.clipRows=function(d,c){if(this.end.row>c)var a={row:c+1,column:0};else if(this.end.row<d)var a={row:d,column:0};if(this.start.row>c)var t={row:c+1,column:0};else if(this.start.row<d)var t={row:d,column:0};return R.fromPoints(t||this.start,a||this.end)},this.extend=function(d,c){var a=this.compare(d,c);if(a==0)return this;if(a==-1)var t={row:d,column:c};else var e={row:d,column:c};return R.fromPoints(t||this.start,e||this.end)},this.isEmpty=function(){return this.start.row===this.end.row&&this.start.column===this.end.column},this.isMultiLine=function(){return this.start.row!==this.end.row},this.clone=function(){return R.fromPoints(this.start,this.end)},this.collapseRows=function(){return this.end.column==0?new R(this.start.row,0,Math.max(this.start.row,this.end.row-1),0):new R(this.start.row,0,this.end.row,0)},this.toScreenRange=function(d){var c=d.documentToScreenPosition(this.start),a=d.documentToScreenPosition(this.end);return new R(c.row,c.column,a.row,a.column)},this.moveBy=function(d,c){this.start.row+=d,this.start.column+=c,this.end.row+=d,this.end.column+=c}}).call(R.prototype),R.fromPoints=function(d,c){return new R(d.row,d.column,c.row,c.column)},R.comparePoints=E,R.comparePoints=function(d,c){return d.row-c.row||d.column-c.column},T.Range=R}),define("ace/lib/lang",["require","exports","module"],function(A,T,b){T.last=function(d){return d[d.length-1]},T.stringReverse=function(d){return d.split("").reverse().join("")},T.stringRepeat=function(d,c){for(var a="";c>0;)c&1&&(a+=d),(c>>=1)&&(d+=d);return a};var E=/^\s\s*/,R=/\s\s*$/;T.stringTrimLeft=function(d){return d.replace(E,"")},T.stringTrimRight=function(d){return d.replace(R,"")},T.copyObject=function(d){var c={};for(var a in d)c[a]=d[a];return c},T.copyArray=function(d){for(var c=[],a=0,t=d.length;a<t;a++)d[a]&&typeof d[a]=="object"?c[a]=this.copyObject(d[a]):c[a]=d[a];return c},T.deepCopy=function d(c){if(typeof c!="object"||!c)return c;var a;if(Array.isArray(c)){a=[];for(var t=0;t<c.length;t++)a[t]=d(c[t]);return a}if(Object.prototype.toString.call(c)!=="[object Object]")return c;a={};for(var t in c)a[t]=d(c[t]);return a},T.arrayToMap=function(d){for(var c={},a=0;a<d.length;a++)c[d[a]]=1;return c},T.createMap=function(d){var c=Object.create(null);for(var a in d)c[a]=d[a];return c},T.arrayRemove=function(d,c){for(var a=0;a<=d.length;a++)c===d[a]&&d.splice(a,1)},T.escapeRegExp=function(d){return d.replace(/([.*+?^${}()|[\]\/\\])/g,"\\$1")},T.escapeHTML=function(d){return(""+d).replace(/&/g,"&#38;").replace(/"/g,"&#34;").replace(/'/g,"&#39;").replace(/</g,"&#60;")},T.getMatchOffsets=function(d,c){var a=[];return d.replace(c,function(t){a.push({offset:arguments[arguments.length-2],length:t.length})}),a},T.deferredCall=function(d){var c=null,a=function(){c=null,d()},t=function(e){return t.cancel(),c=setTimeout(a,e||0),t};return t.schedule=t,t.call=function(){return this.cancel(),d(),t},t.cancel=function(){return clearTimeout(c),c=null,t},t.isPending=function(){return c},t},T.delayedCall=function(d,c){var a=null,t=function(){a=null,d()},e=function(n){a==null&&(a=setTimeout(t,n||c))};return e.delay=function(n){a&&clearTimeout(a),a=setTimeout(t,n||c)},e.schedule=e,e.call=function(){this.cancel(),d()},e.cancel=function(){a&&clearTimeout(a),a=null},e.isPending=function(){return a},e}}),define("ace/clipboard",["require","exports","module"],function(A,T,b){var E;b.exports={lineMode:!1,pasteCancelled:function(){return E&&E>Date.now()-50?!0:E=!1},cancel:function(){E=Date.now()}}}),define("ace/keyboard/textinput",["require","exports","module","ace/lib/event","ace/lib/useragent","ace/lib/dom","ace/lib/lang","ace/clipboard","ace/lib/keys"],function(A,T,b){var E=A("../lib/event"),R=A("../lib/useragent"),d=A("../lib/dom"),c=A("../lib/lang"),a=A("../clipboard"),t=R.isChrome<18,e=R.isIE,n=R.isChrome>63,r=400,i=A("../lib/keys"),o=i.KEY_MODS,h=R.isIOS,p=h?/\s/:/\n/,y=R.isMobile,L=function(m,s){function g(){q=!0,l.blur(),l.focus(),q=!1}function _(Z){Z.keyCode==27&&l.value.length<l.selectionStart&&(F||(ne=l.value),X=j=-1,ie()),J()}function f(){clearTimeout(he),he=setTimeout(function(){N&&(l.style.cssText=N,N=""),s.renderer.$isMousePressed=!1,s.renderer.$keepTextAreaAtCursor&&s.renderer.$moveTextAreaToCursor()},0)}function v(Z,re,we){var ke=null,be=!1;we.addEventListener("keydown",function(Pe){ke&&clearTimeout(ke),be=!0},!0),we.addEventListener("keyup",function(Pe){ke=setTimeout(function(){be=!1},100)},!0);var xe=function(Pe){if(document.activeElement===we&&!(be||F||re.$mouseHandler.isMousePressed)&&!w){var Re=we.selectionStart,Xe=we.selectionEnd,Ce=null,Qe=0;if(Re==0?Ce=i.up:Re==1?Ce=i.home:Xe>j&&ne[Xe]==`
`?Ce=i.end:Re<X&&ne[Re-1]==" "?(Ce=i.left,Qe=o.option):Re<X||Re==X&&j!=X&&Re==Xe?Ce=i.left:Xe>j&&ne.slice(0,Xe).split(`
`).length>2?Ce=i.down:Xe>j&&ne[Xe-1]==" "?(Ce=i.right,Qe=o.option):(Xe>j||Xe==j&&j!=X&&Re==Xe)&&(Ce=i.right),Re!==Xe&&(Qe|=o.shift),Ce){var Te=re.onCommandKey({},Qe,Ce);if(!Te&&re.commands){Ce=i.keyCodeToString(Ce);var Ke=re.commands.findKeyCommand(Qe,Ce);Ke&&re.execCommand(Ke)}X=Re,j=Xe,ie("")}}};document.addEventListener("selectionchange",xe),re.on("destroy",function(){document.removeEventListener("selectionchange",xe)})}var l=d.createElement("textarea");l.className="ace_text-input",l.setAttribute("wrap","off"),l.setAttribute("autocorrect","off"),l.setAttribute("autocapitalize","off"),l.setAttribute("spellcheck",!1),l.style.opacity="0",m.insertBefore(l,m.firstChild);var w=!1,k=!1,F=!1,x=!1,N="";y||(l.style.fontSize="1px");var G=!1,q=!1,ne="",X=0,j=0,Y=0;try{var ee=document.activeElement===l}catch{}E.addListener(l,"blur",function(Z){q||(s.onBlur(Z),ee=!1)},s),E.addListener(l,"focus",function(Z){if(!q){if(ee=!0,R.isEdge)try{if(!document.hasFocus())return}catch{}s.onFocus(Z),R.isEdge?setTimeout(ie):ie()}},s),this.$focusScroll=!1,this.focus=function(){if(N||n||this.$focusScroll=="browser")return l.focus({preventScroll:!0});var Z=l.style.top;l.style.position="fixed",l.style.top="0px";try{var re=l.getBoundingClientRect().top!=0}catch{return}var we=[];if(re)for(var ke=l.parentElement;ke&&ke.nodeType==1;)we.push(ke),ke.setAttribute("ace_nocontext",!0),!ke.parentElement&&ke.getRootNode?ke=ke.getRootNode().host:ke=ke.parentElement;l.focus({preventScroll:!0}),re&&we.forEach(function(be){be.removeAttribute("ace_nocontext")}),setTimeout(function(){l.style.position="",l.style.top=="0px"&&(l.style.top=Z)},0)},this.blur=function(){l.blur()},this.isFocused=function(){return ee},s.on("beforeEndOperation",function(){var Z=s.curOp,re=Z&&Z.command&&Z.command.name;if(re!="insertstring"){var we=re&&(Z.docChanged||Z.selectionChanged);F&&we&&(ne=l.value="",te()),ie()}});var ie=h?function(Z){if(!(!ee||w&&!Z||x)){Z||(Z="");var re=`
 ab`+Z+`cde fg
`;re!=l.value&&(l.value=ne=re);var we=4,ke=4+(Z.length||(s.selection.isEmpty()?0:1));(X!=we||j!=ke)&&l.setSelectionRange(we,ke),X=we,j=ke}}:function(){if(!(F||x)&&!(!ee&&!me)){F=!0;var Z=0,re=0,we="";if(s.session){var ke=s.selection,be=ke.getRange(),xe=ke.cursor.row;if(Z=be.start.column,re=be.end.column,we=s.session.getLine(xe),be.start.row!=xe){var Pe=s.session.getLine(xe-1);Z=be.start.row<xe-1?0:Z,re+=Pe.length+1,we=Pe+`
`+we}else if(be.end.row!=xe){var Re=s.session.getLine(xe+1);re=be.end.row>xe+1?Re.length:re,re+=we.length+1,we=we+`
`+Re}else y&&xe>0&&(we=`
`+we,re+=1,Z+=1);we.length>r&&(Z<r&&re<r?we=we.slice(0,r):(we=`
`,Z==re?Z=re=0:(Z=0,re=1)))}var Xe=we+`

`;if(Xe!=ne&&(l.value=ne=Xe,X=j=Xe.length),me&&(X=l.selectionStart,j=l.selectionEnd),j!=re||X!=Z||l.selectionEnd!=j)try{l.setSelectionRange(Z,re),X=Z,j=re}catch{}F=!1}};this.resetSelection=ie,ee&&s.onFocus();var ae=function(Z){return Z.selectionStart===0&&Z.selectionEnd>=ne.length&&Z.value===ne&&ne&&Z.selectionEnd!==j},ce=function(Z){F||(w?w=!1:ae(l)?(s.selectAll(),ie()):y&&l.selectionStart!=X&&ie())},ye=null;this.setInputHandler=function(Z){ye=Z},this.getInputHandler=function(){return ye};var me=!1,Se=function(Z,re){if(me&&(me=!1),k)return ie(),Z&&s.onPaste(Z),k=!1,"";for(var we=l.selectionStart,ke=l.selectionEnd,be=X,xe=ne.length-j,Pe=Z,Re=Z.length-we,Xe=Z.length-ke,Ce=0;be>0&&ne[Ce]==Z[Ce];)Ce++,be--;for(Pe=Pe.slice(Ce),Ce=1;xe>0&&ne.length-Ce>X-1&&ne[ne.length-Ce]==Z[Z.length-Ce];)Ce++,xe--;Re-=Ce-1,Xe-=Ce-1;var Qe=Pe.length-Ce+1;if(Qe<0&&(be=-Qe,Qe=0),Pe=Pe.slice(0,Qe),!re&&!Pe&&!Re&&!be&&!xe&&!Xe)return"";x=!0;var Te=!1;return R.isAndroid&&Pe==". "&&(Pe="  ",Te=!0),Pe&&!be&&!xe&&!Re&&!Xe||G?s.onTextInput(Pe):s.onTextInput(Pe,{extendLeft:be,extendRight:xe,restoreStart:Re,restoreEnd:Xe}),x=!1,ne=Z,X=we,j=ke,Y=Xe,Te?`
`:Pe},Le=function(Z){if(F)return fe();if(Z&&Z.inputType){if(Z.inputType=="historyUndo")return s.execCommand("undo");if(Z.inputType=="historyRedo")return s.execCommand("redo")}var re=l.value,we=Se(re,!0);(re.length>r+100||p.test(we)||y&&X<1&&X==j)&&ie()},Ee=function(Z,re,we){var ke=Z.clipboardData||window.clipboardData;if(!(!ke||t)){var be=e||we?"Text":"text/plain";try{return re?ke.setData(be,re)!==!1:ke.getData(be)}catch(xe){if(!we)return Ee(xe,re,!0)}}},Fe=function(Z,re){var we=s.getCopyText();if(!we)return E.preventDefault(Z);Ee(Z,we)?(h&&(ie(we),w=we,setTimeout(function(){w=!1},10)),re?s.onCut():s.onCopy(),E.preventDefault(Z)):(w=!0,l.value=we,l.select(),setTimeout(function(){w=!1,ie(),re?s.onCut():s.onCopy()}))},Ve=function(Z){Fe(Z,!0)},Je=function(Z){Fe(Z,!1)},I=function(Z){var re=Ee(Z);a.pasteCancelled()||(typeof re=="string"?(re&&s.onPaste(re,Z),R.isIE&&setTimeout(ie),E.preventDefault(Z)):(l.value="",k=!0))};E.addCommandKeyListener(l,s.onCommandKey.bind(s),s),E.addListener(l,"select",ce,s),E.addListener(l,"input",Le,s),E.addListener(l,"cut",Ve,s),E.addListener(l,"copy",Je,s),E.addListener(l,"paste",I,s),(!("oncut"in l)||!("oncopy"in l)||!("onpaste"in l))&&E.addListener(m,"keydown",function(Z){if(!(R.isMac&&!Z.metaKey||!Z.ctrlKey))switch(Z.keyCode){case 67:Je(Z);break;case 86:I(Z);break;case 88:Ve(Z)}},s);var ge=function(Z){if(!(F||!s.onCompositionStart||s.$readOnly)&&(F={},!G)){Z.data&&(F.useTextareaForIME=!1),setTimeout(fe,0),s._signal("compositionStart"),s.on("mousedown",g);var re=s.getSelectionRange();re.end.row=re.start.row,re.end.column=re.start.column,F.markerRange=re,F.selectionStart=X,s.onCompositionStart(F),F.useTextareaForIME?(ne=l.value="",X=0,j=0):(l.msGetInputContext&&(F.context=l.msGetInputContext()),l.getInputContext&&(F.context=l.getInputContext()))}},fe=function(){if(!(!F||!s.onCompositionUpdate||s.$readOnly)){if(G)return g();if(F.useTextareaForIME)s.onCompositionUpdate(l.value);else{var Z=l.value;Se(Z),F.markerRange&&(F.context&&(F.markerRange.start.column=F.selectionStart=F.context.compositionStartOffset),F.markerRange.end.column=F.markerRange.start.column+j-F.selectionStart+Y)}}},te=function(Z){!s.onCompositionEnd||s.$readOnly||(F=!1,s.onCompositionEnd(),s.off("mousedown",g),Z&&Le())},J=c.delayedCall(fe,50).schedule.bind(null,null);E.addListener(l,"compositionstart",ge,s),E.addListener(l,"compositionupdate",fe,s),E.addListener(l,"keyup",_,s),E.addListener(l,"keydown",J,s),E.addListener(l,"compositionend",te,s),this.getElement=function(){return l},this.setCommandMode=function(Z){G=Z,l.readOnly=!1},this.setReadOnly=function(Z){G||(l.readOnly=Z)},this.setCopyWithEmptySelection=function(Z){},this.onContextMenu=function(Z){me=!0,ie(),s._emit("nativecontextmenu",{target:s,domEvent:Z}),this.moveToMouse(Z,!0)},this.moveToMouse=function(Z,re){N||(N=l.style.cssText),l.style.cssText=(re?"z-index:100000;":"")+(R.isIE?"opacity:0.1;":"")+"text-indent: -"+(X+j)*s.renderer.characterWidth*.5+"px;";var we=s.container.getBoundingClientRect(),ke=d.computedStyle(s.container),be=we.top+(parseInt(ke.borderTopWidth)||0),xe=we.left+(parseInt(we.borderLeftWidth)||0),Pe=we.bottom-be-l.clientHeight-2,Re=function(Xe){d.translate(l,Xe.clientX-xe-2,Math.min(Xe.clientY-be-2,Pe))};Re(Z),Z.type=="mousedown"&&(s.renderer.$isMousePressed=!0,clearTimeout(he),R.isWin&&E.capture(s.container,Re,f))},this.onContextMenuClose=f;var he,pe=function(Z){s.textInput.onContextMenu(Z),f()};E.addListener(l,"mouseup",pe,s),E.addListener(l,"mousedown",function(Z){Z.preventDefault(),f()},s),E.addListener(s.renderer.scroller,"contextmenu",pe,s),E.addListener(l,"contextmenu",pe,s),h&&v(m,s,l)};T.TextInput=L,T.$setUserAgentForTests=function(m,s){y=m,h=s}}),define("ace/mouse/default_handlers",["require","exports","module","ace/lib/useragent"],function(A,T,b){function E(e){e.$clickSelection=null;var n=e.editor;n.setDefaultHandler("mousedown",this.onMouseDown.bind(e)),n.setDefaultHandler("dblclick",this.onDoubleClick.bind(e)),n.setDefaultHandler("tripleclick",this.onTripleClick.bind(e)),n.setDefaultHandler("quadclick",this.onQuadClick.bind(e)),n.setDefaultHandler("mousewheel",this.onMouseWheel.bind(e));var r=["select","startSelect","selectEnd","selectAllEnd","selectByWordsEnd","selectByLinesEnd","dragWait","dragWaitEnd","focusWait"];r.forEach(function(i){e[i]=this[i]},this),e.selectByLines=this.extendSelectionBy.bind(e,"getLineRange"),e.selectByWords=this.extendSelectionBy.bind(e,"getWordRange")}function R(e,n,r,i){return Math.sqrt(Math.pow(r-e,2)+Math.pow(i-n,2))}function d(e,n){if(e.start.row==e.end.row)var r=2*n.column-e.start.column-e.end.column;else if(e.start.row==e.end.row-1&&!e.start.column&&!e.end.column)var r=n.column-4;else var r=2*n.row-e.start.row-e.end.row;return r<0?{cursor:e.start,anchor:e.end}:{cursor:e.end,anchor:e.start}}var c=A("../lib/useragent"),a=0,t=550;(function(){this.onMouseDown=function(e){var n=e.inSelection(),r=e.getDocumentPosition();this.mousedownEvent=e;var i=this.editor,o=e.getButton();if(o!==0){var h=i.getSelectionRange(),p=h.isEmpty();(p||o==1)&&i.selection.moveToPosition(r),o==2&&(i.textInput.onContextMenu(e.domEvent),c.isMozilla||e.preventDefault());return}if(this.mousedownEvent.time=Date.now(),n&&!i.isFocused()&&(i.focus(),this.$focusTimeout&&!this.$clickSelection&&!i.inMultiSelectMode)){this.setState("focusWait"),this.captureMouse(e);return}return this.captureMouse(e),this.startSelect(r,e.domEvent._clicks>1),e.preventDefault()},this.startSelect=function(e,n){e=e||this.editor.renderer.screenToTextCoordinates(this.x,this.y);var r=this.editor;this.mousedownEvent&&(this.mousedownEvent.getShiftKey()?r.selection.selectToPosition(e):n||r.selection.moveToPosition(e),n||this.select(),r.renderer.scroller.setCapture&&r.renderer.scroller.setCapture(),r.setStyle("ace_selecting"),this.setState("select"))},this.select=function(){var e,n=this.editor,r=n.renderer.screenToTextCoordinates(this.x,this.y);if(this.$clickSelection){var i=this.$clickSelection.comparePoint(r);if(i==-1)e=this.$clickSelection.end;else if(i==1)e=this.$clickSelection.start;else{var o=d(this.$clickSelection,r);r=o.cursor,e=o.anchor}n.selection.setSelectionAnchor(e.row,e.column)}n.selection.selectToPosition(r),n.renderer.scrollCursorIntoView()},this.extendSelectionBy=function(e){var n,r=this.editor,i=r.renderer.screenToTextCoordinates(this.x,this.y),o=r.selection[e](i.row,i.column);if(this.$clickSelection){var h=this.$clickSelection.comparePoint(o.start),p=this.$clickSelection.comparePoint(o.end);if(h==-1&&p<=0)n=this.$clickSelection.end,(o.end.row!=i.row||o.end.column!=i.column)&&(i=o.start);else if(p==1&&h>=0)n=this.$clickSelection.start,(o.start.row!=i.row||o.start.column!=i.column)&&(i=o.end);else if(h==-1&&p==1)i=o.end,n=o.start;else{var y=d(this.$clickSelection,i);i=y.cursor,n=y.anchor}r.selection.setSelectionAnchor(n.row,n.column)}r.selection.selectToPosition(i),r.renderer.scrollCursorIntoView()},this.selectEnd=this.selectAllEnd=this.selectByWordsEnd=this.selectByLinesEnd=function(){this.$clickSelection=null,this.editor.unsetStyle("ace_selecting"),this.editor.renderer.scroller.releaseCapture&&this.editor.renderer.scroller.releaseCapture()},this.focusWait=function(){var e=R(this.mousedownEvent.x,this.mousedownEvent.y,this.x,this.y),n=Date.now();(e>a||n-this.mousedownEvent.time>this.$focusTimeout)&&this.startSelect(this.mousedownEvent.getDocumentPosition())},this.onDoubleClick=function(e){var n=e.getDocumentPosition(),r=this.editor,i=r.session,o=i.getBracketRange(n);o?(o.isEmpty()&&(o.start.column--,o.end.column++),this.setState("select")):(o=r.selection.getWordRange(n.row,n.column),this.setState("selectByWords")),this.$clickSelection=o,this.select()},this.onTripleClick=function(e){var n=e.getDocumentPosition(),r=this.editor;this.setState("selectByLines");var i=r.getSelectionRange();i.isMultiLine()&&i.contains(n.row,n.column)?(this.$clickSelection=r.selection.getLineRange(i.start.row),this.$clickSelection.end=r.selection.getLineRange(i.end.row).end):this.$clickSelection=r.selection.getLineRange(n.row),this.select()},this.onQuadClick=function(e){var n=this.editor;n.selectAll(),this.$clickSelection=n.getSelectionRange(),this.setState("selectAll")},this.onMouseWheel=function(e){if(!e.getAccelKey()){e.getShiftKey()&&e.wheelY&&!e.wheelX&&(e.wheelX=e.wheelY,e.wheelY=0);var n=this.editor;this.$lastScroll||(this.$lastScroll={t:0,vx:0,vy:0,allowed:0});var r=this.$lastScroll,i=e.domEvent.timeStamp,o=i-r.t,h=o?e.wheelX/o:r.vx,p=o?e.wheelY/o:r.vy;o<t&&(h=(h+r.vx)/2,p=(p+r.vy)/2);var y=Math.abs(h/p),L=!1;if(y>=1&&n.renderer.isScrollableBy(e.wheelX*e.speed,0)&&(L=!0),y<=1&&n.renderer.isScrollableBy(0,e.wheelY*e.speed)&&(L=!0),L)r.allowed=i;else if(i-r.allowed<t){var m=Math.abs(h)<=1.5*Math.abs(r.vx)&&Math.abs(p)<=1.5*Math.abs(r.vy);m?(L=!0,r.allowed=i):r.allowed=0}if(r.t=i,r.vx=h,r.vy=p,L)return n.renderer.scrollBy(e.wheelX*e.speed,e.wheelY*e.speed),e.stop()}}}).call(E.prototype),T.DefaultHandlers=E}),define("ace/tooltip",["require","exports","module","ace/lib/oop","ace/lib/dom"],function(A,T,b){function E(d){this.isOpen=!1,this.$element=null,this.$parentNode=d}A("./lib/oop");var R=A("./lib/dom");(function(){this.$init=function(){return this.$element=R.createElement("div"),this.$element.className="ace_tooltip",this.$element.style.display="none",this.$parentNode.appendChild(this.$element),this.$element},this.getElement=function(){return this.$element||this.$init()},this.setText=function(d){this.getElement().textContent=d},this.setHtml=function(d){this.getElement().innerHTML=d},this.setPosition=function(d,c){this.getElement().style.left=d+"px",this.getElement().style.top=c+"px"},this.setClassName=function(d){R.addCssClass(this.getElement(),d)},this.show=function(d,c,a){d!=null&&this.setText(d),c!=null&&a!=null&&this.setPosition(c,a),this.isOpen||(this.getElement().style.display="block",this.isOpen=!0)},this.hide=function(){this.isOpen&&(this.getElement().style.display="none",this.isOpen=!1)},this.getHeight=function(){return this.getElement().offsetHeight},this.getWidth=function(){return this.getElement().offsetWidth},this.destroy=function(){this.isOpen=!1,this.$element&&this.$element.parentNode&&this.$element.parentNode.removeChild(this.$element)}}).call(E.prototype),T.Tooltip=E}),define("ace/mouse/default_gutter_handler",["require","exports","module","ace/lib/dom","ace/lib/oop","ace/lib/event","ace/tooltip"],function(A,T,b){function E(e){function n(){var s=L.getDocumentPosition().row,g=h.$annotations[s];if(!g)return r();var _=o.session.getLength();if(s==_){var f=o.renderer.pixelToScreenCoordinates(0,L.y).row,v=L.$pos;if(f>o.session.documentToScreenRow(v.row,v.column))return r()}if(m!=g)if(m=g.text.join("<br/>"),p.setHtml(m),p.show(),o._signal("showGutterTooltip",p),o.on("mousewheel",r),e.$tooltipFollowsMouse)i(L);else{var l=L.domEvent.target,w=l.getBoundingClientRect(),k=p.getElement().style;k.left=w.right+"px",k.top=w.bottom+"px"}}function r(){y&&(y=clearTimeout(y)),m&&(p.hide(),m=null,o._signal("hideGutterTooltip",p),o.off("mousewheel",r))}function i(s){p.setPosition(s.x,s.y)}var o=e.editor,h=o.renderer.$gutterLayer,p=new R(o.container);e.editor.setDefaultHandler("guttermousedown",function(s){if(!(!o.isFocused()||s.getButton()!=0)){var g=h.getRegion(s);if(g!="foldWidgets"){var _=s.getDocumentPosition().row,f=o.session.selection;if(s.getShiftKey())f.selectTo(_,0);else{if(s.domEvent.detail==2)return o.selectAll(),s.preventDefault();e.$clickSelection=o.selection.getLineRange(_)}return e.setState("selectByLines"),e.captureMouse(s),s.preventDefault()}}});var y,L,m;e.editor.setDefaultHandler("guttermousemove",function(s){var g=s.domEvent.target||s.domEvent.srcElement;if(d.hasCssClass(g,"ace_fold-widget"))return r();m&&e.$tooltipFollowsMouse&&i(s),L=s,!y&&(y=setTimeout(function(){y=null,L&&!e.isMousePressed?n():r()},50))}),a.addListener(o.renderer.$gutter,"mouseout",function(s){L=null,!(!m||y)&&(y=setTimeout(function(){y=null,r()},50))},o),o.on("changeSession",r)}function R(e){t.call(this,e)}var d=A("../lib/dom"),c=A("../lib/oop"),a=A("../lib/event"),t=A("../tooltip").Tooltip;c.inherits(R,t),(function(){this.setPosition=function(e,n){var r=window.innerWidth||document.documentElement.clientWidth,i=window.innerHeight||document.documentElement.clientHeight,o=this.getWidth(),h=this.getHeight();e+=15,n+=15,e+o>r&&(e-=e+o-r),n+h>i&&(n-=20+h),t.prototype.setPosition.call(this,e,n)}}).call(R.prototype),T.GutterHandler=E}),define("ace/mouse/mouse_event",["require","exports","module","ace/lib/event","ace/lib/useragent"],function(A,T,b){var E=A("../lib/event"),R=A("../lib/useragent"),d=T.MouseEvent=function(c,a){this.domEvent=c,this.editor=a,this.x=this.clientX=c.clientX,this.y=this.clientY=c.clientY,this.$pos=null,this.$inSelection=null,this.propagationStopped=!1,this.defaultPrevented=!1};(function(){this.stopPropagation=function(){E.stopPropagation(this.domEvent),this.propagationStopped=!0},this.preventDefault=function(){E.preventDefault(this.domEvent),this.defaultPrevented=!0},this.stop=function(){this.stopPropagation(),this.preventDefault()},this.getDocumentPosition=function(){return this.$pos?this.$pos:(this.$pos=this.editor.renderer.screenToTextCoordinates(this.clientX,this.clientY),this.$pos)},this.inSelection=function(){if(this.$inSelection!==null)return this.$inSelection;var c=this.editor,a=c.getSelectionRange();if(a.isEmpty())this.$inSelection=!1;else{var t=this.getDocumentPosition();this.$inSelection=a.contains(t.row,t.column)}return this.$inSelection},this.getButton=function(){return E.getButton(this.domEvent)},this.getShiftKey=function(){return this.domEvent.shiftKey},this.getAccelKey=R.isMac?function(){return this.domEvent.metaKey}:function(){return this.domEvent.ctrlKey}}).call(d.prototype)}),define("ace/mouse/dragdrop_handler",["require","exports","module","ace/lib/dom","ace/lib/event","ace/lib/useragent"],function(A,T,b){function E(r){function i(ie,ae){var ce=Date.now(),ye=!ae||ie.row!=ae.row,me=!ae||ie.column!=ae.column;if(!j||ye||me)g.moveCursorToPosition(ie),j=ce,Y={x:w,y:k};else{var Se=R(Y.x,Y.y,w,k);Se>n?j=null:ce-j>=e&&(g.renderer.scrollCursorIntoView(),j=null)}}function o(ie,ae){var ce=Date.now(),ye=g.renderer.layerConfig.lineHeight,me=g.renderer.layerConfig.characterWidth,Se=g.renderer.scroller.getBoundingClientRect(),Le={x:{left:w-Se.left,right:Se.right-w},y:{top:k-Se.top,bottom:Se.bottom-k}},Ee=Math.min(Le.x.left,Le.x.right),Fe=Math.min(Le.y.top,Le.y.bottom),Ve={row:ie.row,column:ie.column};Ee/me<=2&&(Ve.column+=Le.x.left<Le.x.right?-3:2),Fe/ye<=1&&(Ve.row+=Le.y.top<Le.y.bottom?-1:1);var Je=ie.row!=Ve.row,I=ie.column!=Ve.column,ge=!ae||ie.row!=ae.row;Je||I&&!ge?X?ce-X>=t&&g.renderer.scrollCursorIntoView(Ve):X=ce:X=null}function h(){var ie=N;N=g.renderer.screenToTextCoordinates(w,k),i(N,ie),o(N,ie)}function p(){x=g.selection.toOrientedRange(),l=g.session.addMarker(x,"ace_selection",g.getSelectionStyle()),g.clearSelection(),g.isFocused()&&g.renderer.$cursorLayer.setBlinking(!1),clearInterval(F),h(),F=setInterval(h,20),G=0,c.addListener(document,"mousemove",L)}function y(){clearInterval(F),g.session.removeMarker(l),l=null,g.selection.fromOrientedRange(x),g.isFocused()&&!ne&&g.$resetCursorStyle(),x=null,N=null,G=0,X=null,j=null,c.removeListener(document,"mousemove",L)}function L(){ee==null&&(ee=setTimeout(function(){ee!=null&&l&&y()},20))}function m(ie){var ae=ie.types;return!ae||Array.prototype.some.call(ae,function(ce){return ce=="text/plain"||ce=="Text"})}function s(ie){var ae=["copy","copymove","all","uninitialized"],ce=["move","copymove","linkmove","all","uninitialized"],ye=a.isMac?ie.altKey:ie.ctrlKey,me="uninitialized";try{me=ie.dataTransfer.effectAllowed.toLowerCase()}catch{}var Se="none";return ye&&ae.indexOf(me)>=0?Se="copy":ce.indexOf(me)>=0?Se="move":ae.indexOf(me)>=0&&(Se="copy"),Se}var g=r.editor,_=d.createElement("img");_.src="data:image/gif;base64,R0lGODlhAQABAAAAACH5BAEKAAEALAAAAAABAAEAAAICTAEAOw==",a.isOpera&&(_.style.cssText="width:1px;height:1px;position:fixed;top:0;left:0;z-index:2147483647;opacity:0;");var f=["dragWait","dragWaitEnd","startDrag","dragReadyEnd","onMouseDrag"];f.forEach(function(ie){r[ie]=this[ie]},this),g.on("mousedown",this.onMouseDown.bind(r));var v=g.container,l,w,k,F,x,N,G=0,q,ne,X,j,Y;this.onDragStart=function(ie){if(this.cancelDrag||!v.draggable){var ae=this;return setTimeout(function(){ae.startSelect(),ae.captureMouse(ie)},0),ie.preventDefault()}x=g.getSelectionRange();var ce=ie.dataTransfer;ce.effectAllowed=g.getReadOnly()?"copy":"copyMove",a.isOpera&&(g.container.appendChild(_),_.scrollTop=0),ce.setDragImage&&ce.setDragImage(_,0,0),a.isOpera&&g.container.removeChild(_),ce.clearData(),ce.setData("Text",g.session.getTextRange()),ne=!0,this.setState("drag")},this.onDragEnd=function(ie){if(v.draggable=!1,ne=!1,this.setState(null),!g.getReadOnly()){var ae=ie.dataTransfer.dropEffect;!q&&ae=="move"&&g.session.remove(g.getSelectionRange()),g.$resetCursorStyle()}this.editor.unsetStyle("ace_dragging"),this.editor.renderer.setCursorStyle("")},this.onDragEnter=function(ie){if(!(g.getReadOnly()||!m(ie.dataTransfer)))return w=ie.clientX,k=ie.clientY,l||p(),G++,ie.dataTransfer.dropEffect=q=s(ie),c.preventDefault(ie)},this.onDragOver=function(ie){if(!(g.getReadOnly()||!m(ie.dataTransfer)))return w=ie.clientX,k=ie.clientY,l||(p(),G++),ee!==null&&(ee=null),ie.dataTransfer.dropEffect=q=s(ie),c.preventDefault(ie)},this.onDragLeave=function(ie){if(G--,G<=0&&l)return y(),q=null,c.preventDefault(ie)},this.onDrop=function(ie){if(N){var ae=ie.dataTransfer;if(ne)switch(q){case"move":x.contains(N.row,N.column)?x={start:N,end:N}:x=g.moveText(x,N);break;case"copy":x=g.moveText(x,N,!0)}else{var ce=ae.getData("Text");x={start:N,end:g.session.insert(N,ce)},g.focus(),q=null}return y(),c.preventDefault(ie)}},c.addListener(v,"dragstart",this.onDragStart.bind(r),g),c.addListener(v,"dragend",this.onDragEnd.bind(r),g),c.addListener(v,"dragenter",this.onDragEnter.bind(r),g),c.addListener(v,"dragover",this.onDragOver.bind(r),g),c.addListener(v,"dragleave",this.onDragLeave.bind(r),g),c.addListener(v,"drop",this.onDrop.bind(r),g);var ee=null}function R(r,i,o,h){return Math.sqrt(Math.pow(o-r,2)+Math.pow(h-i,2))}var d=A("../lib/dom"),c=A("../lib/event"),a=A("../lib/useragent"),t=200,e=200,n=5;(function(){this.dragWait=function(){var r=Date.now()-this.mousedownEvent.time;r>this.editor.getDragDelay()&&this.startDrag()},this.dragWaitEnd=function(){var r=this.editor.container;r.draggable=!1,this.startSelect(this.mousedownEvent.getDocumentPosition()),this.selectEnd()},this.dragReadyEnd=function(r){this.editor.$resetCursorStyle(),this.editor.unsetStyle("ace_dragging"),this.editor.renderer.setCursorStyle(""),this.dragWaitEnd()},this.startDrag=function(){this.cancelDrag=!1;var r=this.editor,i=r.container;i.draggable=!0,r.renderer.$cursorLayer.setBlinking(!1),r.setStyle("ace_dragging");var o=a.isWin?"default":"move";r.renderer.setCursorStyle(o),this.setState("dragReady")},this.onMouseDrag=function(r){var i=this.editor.container;if(a.isIE&&this.state=="dragReady"){var o=R(this.mousedownEvent.x,this.mousedownEvent.y,this.x,this.y);o>3&&i.dragDrop()}if(this.state==="dragWait"){var o=R(this.mousedownEvent.x,this.mousedownEvent.y,this.x,this.y);o>0&&(i.draggable=!1,this.startSelect(this.mousedownEvent.getDocumentPosition()))}},this.onMouseDown=function(r){if(this.$dragEnabled){this.mousedownEvent=r;var i=this.editor,o=r.inSelection(),h=r.getButton(),p=r.domEvent.detail||1;if(p===1&&h===0&&o){if(r.editor.inMultiSelectMode&&(r.getAccelKey()||r.getShiftKey()))return;this.mousedownEvent.time=Date.now();var y=r.domEvent.target||r.domEvent.srcElement;if("unselectable"in y&&(y.unselectable="on"),i.getDragDelay()){if(a.isWebKit){this.cancelDrag=!0;var L=i.container;L.draggable=!0}this.setState("dragWait")}else this.startDrag();this.captureMouse(r,this.onMouseDrag.bind(this)),r.defaultPrevented=!0}}}}).call(E.prototype),T.DragdropHandler=E}),define("ace/mouse/touch_handler",["require","exports","module","ace/mouse/mouse_event","ace/lib/event","ace/lib/dom"],function(A,T,b){var E=A("./mouse_event").MouseEvent,R=A("../lib/event"),d=A("../lib/dom");T.addTouchListeners=function(c,a){function t(){var x=window.navigator&&window.navigator.clipboard,N=!1,G=function(){var ne=a.getCopyText(),X=a.session.getUndoManager().hasUndo();F.replaceChild(d.buildDom(N?["span",!ne&&["span",{class:"ace_mobile-button",action:"selectall"},"Select All"],ne&&["span",{class:"ace_mobile-button",action:"copy"},"Copy"],ne&&["span",{class:"ace_mobile-button",action:"cut"},"Cut"],x&&["span",{class:"ace_mobile-button",action:"paste"},"Paste"],X&&["span",{class:"ace_mobile-button",action:"undo"},"Undo"],["span",{class:"ace_mobile-button",action:"find"},"Find"],["span",{class:"ace_mobile-button",action:"openCommandPallete"},"Pallete"]]:["span"]),F.firstChild)},q=function(ne){var X=ne.target.getAttribute("action");if(X=="more"||!N)return N=!N,G();X=="paste"?x.readText().then(function(j){a.execCommand(X,j)}):X&&((X=="cut"||X=="copy")&&(x?x.writeText(a.getCopyText()):document.execCommand("copy")),a.execCommand(X)),F.firstChild.style.display="none",N=!1,X!="openCommandPallete"&&a.focus()};F=d.buildDom(["div",{class:"ace_mobile-menu",ontouchstart:function(ne){h="menu",ne.stopPropagation(),ne.preventDefault(),a.textInput.focus()},ontouchend:function(ne){ne.stopPropagation(),ne.preventDefault(),q(ne)},onclick:q},["span"],["span",{class:"ace_mobile-button",action:"more"},"..."]],a.container)}function e(){F||t();var x=a.selection.cursor,N=a.renderer.textToScreenCoordinates(x.row,x.column),G=a.renderer.textToScreenCoordinates(0,0).pageX,q=a.renderer.scrollLeft,ne=a.container.getBoundingClientRect();F.style.top=N.pageY-ne.top-3+"px",N.pageX-ne.left<ne.width-70?(F.style.left="",F.style.right="10px"):(F.style.right="",F.style.left=G+q-ne.left+"px"),F.style.display="",F.firstChild.style.display="none",a.on("input",n)}function n(x){F&&(F.style.display="none"),a.off("input",n)}function r(){s=null,clearTimeout(s);var x=a.selection.getRange(),N=x.contains(f.row,f.column);(x.isEmpty()||!N)&&(a.selection.moveToPosition(f),a.selection.selectWord()),h="wait",e()}function i(){s=null,clearTimeout(s),a.selection.moveToPosition(f);var x=v>=2?a.selection.getLineRange(f.row):a.session.getBracketRange(f);x&&!x.isEmpty()?a.selection.setRange(x):a.selection.selectWord(),h="wait"}function o(){_+=60,g=setInterval(function(){_--<=0&&(clearInterval(g),g=null),Math.abs(l)<.01&&(l=0),Math.abs(w)<.01&&(w=0),_<20&&(l=.9*l),_<20&&(w=.9*w);var x=a.session.getScrollTop();a.renderer.scrollBy(10*l,10*w),x==a.session.getScrollTop()&&(_=0)},10)}var h="scroll",p,y,L,m,s,g,_=0,f,v=0,l=0,w=0,k,F;R.addListener(c,"contextmenu",function(x){if(k){var N=a.textInput.getElement();N.focus()}},a),R.addListener(c,"touchstart",function(x){var N=x.touches;if(s||N.length>1){clearTimeout(s),s=null,L=-1,h="zoom";return}k=a.$mouseHandler.isMousePressed=!0;var G=a.renderer.layerConfig.lineHeight,q=a.renderer.layerConfig.lineHeight,ne=x.timeStamp;m=ne;var X=N[0],j=X.clientX,Y=X.clientY;Math.abs(p-j)+Math.abs(y-Y)>G&&(L=-1),p=x.clientX=j,y=x.clientY=Y,l=w=0;var ee=new E(x,a);if(f=ee.getDocumentPosition(),ne-L<500&&N.length==1&&!_)v++,x.preventDefault(),x.button=0,i();else{v=0;var ie=a.selection.cursor,ae=a.selection.isEmpty()?ie:a.selection.anchor,ce=a.renderer.$cursorLayer.getPixelPosition(ie,!0),ye=a.renderer.$cursorLayer.getPixelPosition(ae,!0),me=a.renderer.scroller.getBoundingClientRect(),Se=a.renderer.layerConfig.offset,Le=a.renderer.scrollLeft,Ee=function(Je,I){return Je/=q,I=I/G-.75,Je*Je+I*I};if(x.clientX<me.left){h="zoom";return}var Fe=Ee(x.clientX-me.left-ce.left+Le,x.clientY-me.top-ce.top+Se),Ve=Ee(x.clientX-me.left-ye.left+Le,x.clientY-me.top-ye.top+Se);Fe<3.5&&Ve<3.5&&(h=Fe>Ve?"cursor":"anchor"),Ve<3.5?h="anchor":Fe<3.5?h="cursor":h="scroll",s=setTimeout(r,450)}L=ne},a),R.addListener(c,"touchend",function(x){k=a.$mouseHandler.isMousePressed=!1,g&&clearInterval(g),h=="zoom"?(h="",_=0):s?(a.selection.moveToPosition(f),_=0,e()):h=="scroll"?(o(),n()):e(),clearTimeout(s),s=null},a),R.addListener(c,"touchmove",function(x){s&&(clearTimeout(s),s=null);var N=x.touches;if(!(N.length>1||h=="zoom")){var G=N[0],q=p-G.clientX,ne=y-G.clientY;if(h=="wait"){if(!(q*q+ne*ne>4))return x.preventDefault();h="cursor"}p=G.clientX,y=G.clientY,x.clientX=G.clientX,x.clientY=G.clientY;var X=x.timeStamp,j=X-m;if(m=X,h=="scroll"){var Y=new E(x,a);Y.speed=1,Y.wheelX=q,Y.wheelY=ne,10*Math.abs(q)<Math.abs(ne)&&(q=0),10*Math.abs(ne)<Math.abs(q)&&(ne=0),j!=0&&(l=q/j,w=ne/j),a._emit("mousewheel",Y),Y.propagationStopped||(l=w=0)}else{var ee=new E(x,a),ie=ee.getDocumentPosition();h=="cursor"?a.selection.moveCursorToPosition(ie):h=="anchor"&&a.selection.setSelectionAnchor(ie.row,ie.column),a.renderer.scrollCursorIntoView(ie),x.preventDefault()}}},a)}}),define("ace/lib/net",["require","exports","module","ace/lib/dom"],function(A,T,b){var E=A("./dom");T.get=function(R,d){var c=new XMLHttpRequest;c.open("GET",R,!0),c.onreadystatechange=function(){c.readyState===4&&d(c.responseText)},c.send(null)},T.loadScript=function(R,d){var c=E.getDocumentHead(),a=document.createElement("script");a.src=R,c.appendChild(a),a.onload=a.onreadystatechange=function(t,e){(e||!a.readyState||a.readyState=="loaded"||a.readyState=="complete")&&(a=a.onload=a.onreadystatechange=null,e||d())}},T.qualifyURL=function(R){var d=document.createElement("a");return d.href=R,d.href}}),define("ace/lib/event_emitter",["require","exports","module"],function(A,T,b){var E={},R=function(){this.propagationStopped=!0},d=function(){this.defaultPrevented=!0};E._emit=E._dispatchEvent=function(c,a){this._eventRegistry||(this._eventRegistry={}),this._defaultHandlers||(this._defaultHandlers={});var t=this._eventRegistry[c]||[],e=this._defaultHandlers[c];if(!(!t.length&&!e)){(typeof a!="object"||!a)&&(a={}),a.type||(a.type=c),a.stopPropagation||(a.stopPropagation=R),a.preventDefault||(a.preventDefault=d),t=t.slice();for(var n=0;n<t.length&&(t[n](a,this),!a.propagationStopped);n++);if(e&&!a.defaultPrevented)return e(a,this)}},E._signal=function(c,a){var t=(this._eventRegistry||{})[c];if(t){t=t.slice();for(var e=0;e<t.length;e++)t[e](a,this)}},E.once=function(c,a){var t=this;if(this.on(c,function e(){t.off(c,e),a.apply(null,arguments)}),!a)return new Promise(function(e){a=e})},E.setDefaultHandler=function(c,a){var t=this._defaultHandlers;if(t||(t=this._defaultHandlers={_disabled_:{}}),t[c]){var e=t[c],n=t._disabled_[c];n||(t._disabled_[c]=n=[]),n.push(e);var r=n.indexOf(a);r!=-1&&n.splice(r,1)}t[c]=a},E.removeDefaultHandler=function(c,a){var t=this._defaultHandlers;if(t){var e=t._disabled_[c];if(t[c]==a)e&&this.setDefaultHandler(c,e.pop());else if(e){var n=e.indexOf(a);n!=-1&&e.splice(n,1)}}},E.on=E.addEventListener=function(c,a,t){this._eventRegistry=this._eventRegistry||{};var e=this._eventRegistry[c];return e||(e=this._eventRegistry[c]=[]),e.indexOf(a)==-1&&e[t?"unshift":"push"](a),a},E.off=E.removeListener=E.removeEventListener=function(c,a){this._eventRegistry=this._eventRegistry||{};var t=this._eventRegistry[c];if(t){var e=t.indexOf(a);e!==-1&&t.splice(e,1)}},E.removeAllListeners=function(c){c||(this._eventRegistry=this._defaultHandlers=void 0),this._eventRegistry&&(this._eventRegistry[c]=void 0),this._defaultHandlers&&(this._defaultHandlers[c]=void 0)},T.EventEmitter=E}),define("ace/lib/app_config",["require","exports","module","ace/lib/oop","ace/lib/event_emitter"],function(A,T,b){"no use strict";function E(e){typeof console<"u"&&console.warn&&console.warn.apply(console,arguments)}function R(e,n){var r=new Error(e);r.data=n,typeof console=="object"&&console.error&&console.error(r),setTimeout(function(){throw r})}var d=A("./oop"),c=A("./event_emitter").EventEmitter,a={setOptions:function(e){Object.keys(e).forEach(function(n){this.setOption(n,e[n])},this)},getOptions:function(e){var n={};if(e)Array.isArray(e)||(n=e,e=Object.keys(n));else{var r=this.$options;e=Object.keys(r).filter(function(i){return!r[i].hidden})}return e.forEach(function(i){n[i]=this.getOption(i)},this),n},setOption:function(e,n){if(this["$"+e]!==n){var r=this.$options[e];if(!r)return E('misspelled option "'+e+'"');if(r.forwardTo)return this[r.forwardTo]&&this[r.forwardTo].setOption(e,n);r.handlesSet||(this["$"+e]=n),r&&r.set&&r.set.call(this,n)}},getOption:function(e){var n=this.$options[e];return n?n.forwardTo?this[n.forwardTo]&&this[n.forwardTo].getOption(e):n&&n.get?n.get.call(this):this["$"+e]:E('misspelled option "'+e+'"')}},t=function(){this.$defaultOptions={}};(function(){d.implement(this,c),this.defineOptions=function(e,n,r){return e.$options||(this.$defaultOptions[n]=e.$options={}),Object.keys(r).forEach(function(i){var o=r[i];typeof o=="string"&&(o={forwardTo:o}),o.name||(o.name=i),e.$options[o.name]=o,"initialValue"in o&&(e["$"+o.name]=o.initialValue)}),d.implement(e,a),this},this.resetOptions=function(e){Object.keys(e.$options).forEach(function(n){var r=e.$options[n];"value"in r&&e.setOption(n,r.value)})},this.setDefaultValue=function(e,n,r){if(!e){for(e in this.$defaultOptions)if(this.$defaultOptions[e][n])break;if(!this.$defaultOptions[e][n])return!1}var i=this.$defaultOptions[e]||(this.$defaultOptions[e]={});i[n]&&(i.forwardTo?this.setDefaultValue(i.forwardTo,n,r):i[n].value=r)},this.setDefaultValues=function(e,n){Object.keys(n).forEach(function(r){this.setDefaultValue(e,r,n[r])},this)},this.warn=E,this.reportError=R}).call(t.prototype),T.AppConfig=t}),define("ace/config",["require","exports","module","ace/lib/lang","ace/lib/oop","ace/lib/net","ace/lib/app_config"],function(A,T,b){"no use strict";function E(r){if(!(!t||!t.document)){e.packaged=r||A.packaged||b.packaged||t.define&&define.packaged;for(var i={},o="",h=document.currentScript||document._currentScript,p=h&&h.ownerDocument||document,y=p.getElementsByTagName("script"),L=0;L<y.length;L++){var m=y[L],s=m.src||m.getAttribute("src");if(s){for(var g=m.attributes,_=0,f=g.length;_<f;_++){var v=g[_];v.name.indexOf("data-ace-")===0&&(i[R(v.name.replace(/^data-ace-/,""))]=v.value)}var l=s.match(/^(.*)\/ace(\-\w+)?\.js(\?|$)/);l&&(o=l[1])}}o&&(i.base=i.base||o,i.packaged=!0),i.basePath=i.base,i.workerPath=i.workerPath||i.base,i.modePath=i.modePath||i.base,i.themePath=i.themePath||i.base,delete i.base;for(var w in i)typeof i[w]<"u"&&T.set(w,i[w])}}function R(r){return r.replace(/-(.)/g,function(i,o){return o.toUpperCase()})}var d=A("./lib/lang");A("./lib/oop");var c=A("./lib/net"),a=A("./lib/app_config").AppConfig;b.exports=T=new a;var t=function(){return this||typeof window<"u"&&window}(),e={packaged:!1,workerPath:null,modePath:null,themePath:null,basePath:"",suffix:".js",$moduleUrls:{},loadWorkerFromBlob:!0,sharedPopups:!1};T.get=function(r){if(!e.hasOwnProperty(r))throw new Error("Unknown config key: "+r);return e[r]},T.set=function(r,i){if(e.hasOwnProperty(r))e[r]=i;else if(this.setDefaultValue("",r,i)==0)throw new Error("Unknown config key: "+r)},T.all=function(){return d.copyObject(e)},T.$modes={},T.moduleUrl=function(r,i){if(e.$moduleUrls[r])return e.$moduleUrls[r];var o=r.split("/");i=i||o[o.length-2]||"";var h=i=="snippets"?"/":"-",p=o[o.length-1];if(i=="worker"&&h=="-"){var y=new RegExp("^"+i+"[\\-_]|[\\-_]"+i+"$","g");p=p.replace(y,"")}(!p||p==i)&&o.length>1&&(p=o[o.length-2]);var L=e[i+"Path"];return L==null?L=e.basePath:h=="/"&&(i=h=""),L&&L.slice(-1)!="/"&&(L+="/"),L+i+h+p+this.get("suffix")},T.setModuleUrl=function(r,i){return e.$moduleUrls[r]=i},T.$loading={},T.loadModule=function(r,i){var o,h;Array.isArray(r)&&(h=r[0],r=r[1]);try{o=A(r)}catch{}if(o&&!T.$loading[r])return i&&i(o);if(T.$loading[r]||(T.$loading[r]=[]),T.$loading[r].push(i),!(T.$loading[r].length>1)){var p=function(){A([r],function(y){T._emit("load.module",{name:r,module:y});var L=T.$loading[r];T.$loading[r]=null,L.forEach(function(m){m&&m(y)})})};if(!T.get("packaged"))return p();c.loadScript(T.moduleUrl(r,h),p),n()}};var n=function(){!e.basePath&&!e.workerPath&&!e.modePath&&!e.themePath&&!Object.keys(e.$moduleUrls).length&&(console.error("Unable to infer path to ace from script src,","use ace.config.set('basePath', 'path') to enable dynamic loading of modes and themes","or with webpack use ace/webpack-resolver"),n=function(){})};T.init=E,T.version="1.4.12"}),define("ace/mouse/mouse_handler",["require","exports","module","ace/lib/event","ace/lib/useragent","ace/mouse/default_handlers","ace/mouse/default_gutter_handler","ace/mouse/mouse_event","ace/mouse/dragdrop_handler","ace/mouse/touch_handler","ace/config"],function(A,T,b){var E=A("../lib/event"),R=A("../lib/useragent"),d=A("./default_handlers").DefaultHandlers,c=A("./default_gutter_handler").GutterHandler,a=A("./mouse_event").MouseEvent,t=A("./dragdrop_handler").DragdropHandler,e=A("./touch_handler").addTouchListeners,n=A("../config"),r=function(i){var o=this;this.editor=i,new d(this),new c(this),new t(this);var h=function(L){var m=!document.hasFocus||!document.hasFocus()||!i.isFocused()&&document.activeElement==(i.textInput&&i.textInput.getElement());m&&window.focus(),i.focus()},p=i.renderer.getMouseEventTarget();E.addListener(p,"click",this.onMouseEvent.bind(this,"click"),i),E.addListener(p,"mousemove",this.onMouseMove.bind(this,"mousemove"),i),E.addMultiMouseDownListener([p,i.renderer.scrollBarV&&i.renderer.scrollBarV.inner,i.renderer.scrollBarH&&i.renderer.scrollBarH.inner,i.textInput&&i.textInput.getElement()].filter(Boolean),[400,300,250],this,"onMouseEvent",i),E.addMouseWheelListener(i.container,this.onMouseWheel.bind(this,"mousewheel"),i),e(i.container,i);var y=i.renderer.$gutter;E.addListener(y,"mousedown",this.onMouseEvent.bind(this,"guttermousedown"),i),E.addListener(y,"click",this.onMouseEvent.bind(this,"gutterclick"),i),E.addListener(y,"dblclick",this.onMouseEvent.bind(this,"gutterdblclick"),i),E.addListener(y,"mousemove",this.onMouseEvent.bind(this,"guttermousemove"),i),E.addListener(p,"mousedown",h,i),E.addListener(y,"mousedown",h,i),R.isIE&&i.renderer.scrollBarV&&(E.addListener(i.renderer.scrollBarV.element,"mousedown",h,i),E.addListener(i.renderer.scrollBarH.element,"mousedown",h,i)),i.on("mousemove",function(L){if(!(o.state||o.$dragDelay||!o.$dragEnabled)){var m=i.renderer.screenToTextCoordinates(L.x,L.y),s=i.session.selection.getRange(),g=i.renderer;!s.isEmpty()&&s.insideStart(m.row,m.column)?g.setCursorStyle("default"):g.setCursorStyle("")}},i)};(function(){this.onMouseEvent=function(i,o){this.editor._emit(i,new a(o,this.editor))},this.onMouseMove=function(i,o){var h=this.editor._eventRegistry&&this.editor._eventRegistry.mousemove;!h||!h.length||this.editor._emit(i,new a(o,this.editor))},this.onMouseWheel=function(i,o){var h=new a(o,this.editor);h.speed=this.$scrollSpeed*2,h.wheelX=o.wheelX,h.wheelY=o.wheelY,this.editor._emit(i,h)},this.setState=function(i){this.state=i},this.captureMouse=function(i,o){this.x=i.x,this.y=i.y,this.isMousePressed=!0;var h=this.editor,p=this.editor.renderer;p.$isMousePressed=!0;var y=this,L=function(f){if(f){if(R.isWebKit&&!f.which&&y.releaseMouse)return y.releaseMouse();y.x=f.clientX,y.y=f.clientY,o&&o(f),y.mouseEvent=new a(f,y.editor),y.$mouseMoved=!0}},m=function(f){h.off("beforeEndOperation",g),clearInterval(_),s(),y[y.state+"End"]&&y[y.state+"End"](f),y.state="",y.isMousePressed=p.$isMousePressed=!1,p.$keepTextAreaAtCursor&&p.$moveTextAreaToCursor(),y.$onCaptureMouseMove=y.releaseMouse=null,f&&y.onMouseEvent("mouseup",f),h.endOperation()},s=function(){y[y.state]&&y[y.state](),y.$mouseMoved=!1};if(R.isOldIE&&i.domEvent.type=="dblclick")return setTimeout(function(){m(i)});var g=function(f){y.releaseMouse&&h.curOp.command.name&&h.curOp.selectionChanged&&(y[y.state+"End"]&&y[y.state+"End"](),y.state="",y.releaseMouse())};h.on("beforeEndOperation",g),h.startOperation({command:{name:"mouse"}}),y.$onCaptureMouseMove=L,y.releaseMouse=E.capture(this.editor.container,L,m);var _=setInterval(s,20)},this.releaseMouse=null,this.cancelContextMenu=function(){var i=(function(o){o&&o.domEvent&&o.domEvent.type!="contextmenu"||(this.editor.off("nativecontextmenu",i),o&&o.domEvent&&E.stopEvent(o.domEvent))}).bind(this);setTimeout(i,10),this.editor.on("nativecontextmenu",i)},this.destroy=function(){this.releaseMouse&&this.releaseMouse()}}).call(r.prototype),n.defineOptions(r.prototype,"mouseHandler",{scrollSpeed:{initialValue:2},dragDelay:{initialValue:R.isMac?150:0},dragEnabled:{initialValue:!0},focusTimeout:{initialValue:0},tooltipFollowsMouse:{initialValue:!0}}),T.MouseHandler=r}),define("ace/mouse/fold_handler",["require","exports","module","ace/lib/dom"],function(A,T,b){function E(d){d.on("click",function(c){var a=c.getDocumentPosition(),t=d.session,e=t.getFoldAt(a.row,a.column,1);e&&(c.getAccelKey()?t.removeFold(e):t.expandFold(e),c.stop());var n=c.domEvent&&c.domEvent.target;n&&R.hasCssClass(n,"ace_inline_button")&&R.hasCssClass(n,"ace_toggle_wrap")&&(t.setOption("wrap",!t.getUseWrapMode()),d.renderer.scrollCursorIntoView())}),d.on("gutterclick",function(c){var a=d.renderer.$gutterLayer.getRegion(c);if(a=="foldWidgets"){var t=c.getDocumentPosition().row,e=d.session;e.foldWidgets&&e.foldWidgets[t]&&d.session.onFoldWidgetClick(t,c),d.isFocused()||d.focus(),c.stop()}}),d.on("gutterdblclick",function(c){var a=d.renderer.$gutterLayer.getRegion(c);if(a=="foldWidgets"){var t=c.getDocumentPosition().row,e=d.session,n=e.getParentFoldRangeData(t,!0),r=n.range||n.firstRange;if(r){t=r.start.row;var i=e.getFoldAt(t,e.getLine(t).length,1);i?e.removeFold(i):(e.addFold("...",r),d.renderer.scrollCursorIntoView({row:r.start.row,column:0}))}c.stop()}})}var R=A("../lib/dom");T.FoldHandler=E}),define("ace/keyboard/keybinding",["require","exports","module","ace/lib/keys","ace/lib/event"],function(A,T,b){var E=A("../lib/keys"),R=A("../lib/event"),d=function(c){this.$editor=c,this.$data={editor:c},this.$handlers=[],this.setDefaultHandler(c.commands)};(function(){this.setDefaultHandler=function(c){this.removeKeyboardHandler(this.$defaultHandler),this.$defaultHandler=c,this.addKeyboardHandler(c,0)},this.setKeyboardHandler=function(c){var a=this.$handlers;if(a[a.length-1]!=c){for(;a[a.length-1]&&a[a.length-1]!=this.$defaultHandler;)this.removeKeyboardHandler(a[a.length-1]);this.addKeyboardHandler(c,1)}},this.addKeyboardHandler=function(c,a){if(c){typeof c=="function"&&!c.handleKeyboard&&(c.handleKeyboard=c);var t=this.$handlers.indexOf(c);t!=-1&&this.$handlers.splice(t,1),a==null?this.$handlers.push(c):this.$handlers.splice(a,0,c),t==-1&&c.attach&&c.attach(this.$editor)}},this.removeKeyboardHandler=function(c){var a=this.$handlers.indexOf(c);return a==-1?!1:(this.$handlers.splice(a,1),c.detach&&c.detach(this.$editor),!0)},this.getKeyboardHandler=function(){return this.$handlers[this.$handlers.length-1]},this.getStatusText=function(){var c=this.$data,a=c.editor;return this.$handlers.map(function(t){return t.getStatusText&&t.getStatusText(a,c)||""}).filter(Boolean).join(" ")},this.$callKeyboardHandlers=function(c,a,t,e){for(var n,r=!1,i=this.$editor.commands,o=this.$handlers.length;o--&&(n=this.$handlers[o].handleKeyboard(this.$data,c,a,t,e),!(!(!n||!n.command)&&(n.command=="null"?r=!0:r=i.exec(n.command,this.$editor,n.args,e),r&&e&&c!=-1&&n.passEvent!=1&&n.command.passEvent!=1&&R.stopEvent(e),r))););return!r&&c==-1&&(n={command:"insertstring"},r=i.exec("insertstring",this.$editor,a)),r&&this.$editor._signal&&this.$editor._signal("keyboardActivity",n),r},this.onCommandKey=function(c,a,t){var e=E.keyCodeToString(t);return this.$callKeyboardHandlers(a,e,t,c)},this.onTextInput=function(c){return this.$callKeyboardHandlers(-1,c)}}).call(d.prototype),T.KeyBinding=d}),define("ace/lib/bidiutil",["require","exports","module"],function(A,T,b){function E(ie,ae,ce,ye){var me=a?o:i,Se=null,Le=null,Ee=null,Fe=0,Ve=null,Je=null,I=-1,ge=null,fe=null,te=[];if(!ye)for(ge=0,ye=[];ge<ce;ge++)ye[ge]=c(ie[ge]);for(t=a,e=!1,n=!1,r=!1,fe=0;fe<ce;fe++){if(Se=Fe,te[fe]=Le=d(ie,ye,te,fe),Fe=me[Se][Le],Ve=Fe&240,Fe&=15,ae[fe]=Ee=me[Fe][5],Ve>0)if(Ve==16){for(ge=I;ge<fe;ge++)ae[ge]=1;I=-1}else I=-1;if(Je=me[Fe][6],Je)I==-1&&(I=fe);else if(I>-1){for(ge=I;ge<fe;ge++)ae[ge]=Ee;I=-1}ye[fe]==_&&(ae[fe]=0),t|=Ee}if(r){for(ge=0;ge<ce;ge++)if(ye[ge]==f){ae[ge]=a;for(var J=ge-1;J>=0&&ye[J]==l;J--)ae[J]=a}}}function R(ie,ae,ce){if(!(t<ie)){if(ie==1&&a==p&&!n){ce.reverse();return}for(var ye=ce.length,me=0,Se,Le,Ee,Fe;me<ye;){if(ae[me]>=ie){for(Se=me+1;Se<ye&&ae[Se]>=ie;)Se++;for(Le=me,Ee=Se-1;Le<Ee;Le++,Ee--)Fe=ce[Le],ce[Le]=ce[Ee],ce[Ee]=Fe;me=Se}me++}}}function d(ie,ae,ce,ye){var me=ae[ye],Se,Le,Ee,Fe;switch(me){case y:case L:e=!1;case g:case s:return me;case m:return e?s:m;case v:return e=!0,L;case l:return g;case w:return ye<1||ye+1>=ae.length||(Se=ce[ye-1])!=m&&Se!=s||(Le=ae[ye+1])!=m&&Le!=s?g:(e&&(Le=s),Le==Se?Le:g);case k:return Se=ye>0?ce[ye-1]:_,Se==m&&ye+1<ae.length&&ae[ye+1]==m?m:g;case F:if(ye>0&&ce[ye-1]==m)return m;if(e)return g;for(Fe=ye+1,Ee=ae.length;Fe<Ee&&ae[Fe]==F;)Fe++;return Fe<Ee&&ae[Fe]==m?m:g;case x:for(Ee=ae.length,Fe=ye+1;Fe<Ee&&ae[Fe]==x;)Fe++;if(Fe<Ee){var Ve=ie[ye],Je=Ve>=1425&&Ve<=2303||Ve==64286;if(Se=ae[Fe],Je&&(Se==L||Se==v))return L}return ye<1||(Se=ae[ye-1])==_?g:ce[ye-1];case _:return e=!1,n=!0,a;case f:return r=!0,g;case N:case G:case ne:case X:case q:e=!1;case j:return g}}function c(ie){var ae=ie.charCodeAt(0),ce=ae>>8;return ce==0?ae>191?y:Y[ae]:ce==5?/[\u0591-\u05f4]/.test(ie)?L:y:ce==6?/[\u0610-\u061a\u064b-\u065f\u06d6-\u06e4\u06e7-\u06ed]/.test(ie)?x:/[\u0660-\u0669\u066b-\u066c]/.test(ie)?s:ae==1642?F:/[\u06f0-\u06f9]/.test(ie)?m:v:ce==32&&ae<=8287?ee[ae&255]:ce==254&&ae>=65136?v:g}var a=0,t=0,e=!1,n=!1,r=!1,i=[[0,3,0,1,0,0,0],[0,3,0,1,2,2,0],[0,3,0,17,2,0,1],[0,3,5,5,4,1,0],[0,3,21,21,4,0,1],[0,3,5,5,4,2,0]],o=[[2,0,1,1,0,1,0],[2,0,1,1,0,2,0],[2,0,2,1,3,2,0],[2,0,2,33,3,1,1]],h=0,p=1,y=0,L=1,m=2,s=3,g=4,_=5,f=6,v=7,l=8,w=9,k=10,F=11,x=12,N=13,G=14,q=15,ne=16,X=17,j=18,Y=[j,j,j,j,j,j,j,j,j,f,_,f,l,_,j,j,j,j,j,j,j,j,j,j,j,j,j,j,_,_,_,f,l,g,g,F,F,F,g,g,g,g,g,k,w,k,w,w,m,m,m,m,m,m,m,m,m,m,w,g,g,g,g,g,g,y,y,y,y,y,y,y,y,y,y,y,y,y,y,y,y,y,y,y,y,y,y,y,y,y,y,g,g,g,g,g,g,y,y,y,y,y,y,y,y,y,y,y,y,y,y,y,y,y,y,y,y,y,y,y,y,y,y,g,g,g,g,j,j,j,j,j,j,_,j,j,j,j,j,j,j,j,j,j,j,j,j,j,j,j,j,j,j,j,j,j,j,j,j,j,w,g,F,F,F,F,g,g,g,g,y,g,g,j,g,g,F,F,m,m,g,y,g,g,g,m,y,g,g,g,g,g],ee=[l,l,l,l,l,l,l,l,l,l,l,j,j,j,y,L,g,g,g,g,g,g,g,g,g,g,g,g,g,g,g,g,g,g,g,g,g,g,g,g,l,_,N,G,q,ne,X,w,F,F,F,F,F,g,g,g,g,g,g,g,g,g,g,g,g,g,g,g,w,g,g,g,g,g,g,g,g,g,g,g,g,g,g,g,g,g,g,g,g,g,g,g,g,g,g,l];T.L=y,T.R=L,T.EN=m,T.ON_R=3,T.AN=4,T.R_H=5,T.B=6,T.RLE=7,T.DOT="",T.doBidiReorder=function(ie,ae,ce){if(ie.length<2)return{};var ye=ie.split(""),me=new Array(ye.length),Se=new Array(ye.length),Le=[];a=ce?p:h,E(ye,Le,ye.length,ae);for(var Ee=0;Ee<me.length;me[Ee]=Ee,Ee++);R(2,Le,me),R(1,Le,me);for(var Ee=0;Ee<me.length-1;Ee++)ae[Ee]===s?Le[Ee]=T.AN:Le[Ee]===L&&(ae[Ee]>v&&ae[Ee]<N||ae[Ee]===g||ae[Ee]===j)?Le[Ee]=T.ON_R:Ee>0&&ye[Ee-1]===""&&/\u0622|\u0623|\u0625|\u0627/.test(ye[Ee])&&(Le[Ee-1]=Le[Ee]=T.R_H,Ee++);ye[ye.length-1]===T.DOT&&(Le[ye.length-1]=T.B),ye[0]===""&&(Le[0]=T.RLE);for(var Ee=0;Ee<me.length;Ee++)Se[Ee]=Le[me[Ee]];return{logicalFromVisual:me,bidiLevels:Se}},T.hasBidiCharacters=function(ie,ae){for(var ce=!1,ye=0;ye<ie.length;ye++)ae[ye]=c(ie.charAt(ye)),!ce&&(ae[ye]==L||ae[ye]==v||ae[ye]==s)&&(ce=!0);return ce},T.getVisualFromLogicalIdx=function(ie,ae){for(var ce=0;ce<ae.logicalFromVisual.length;ce++)if(ae.logicalFromVisual[ce]==ie)return ce;return 0}}),define("ace/bidihandler",["require","exports","module","ace/lib/bidiutil","ace/lib/lang"],function(A,T,b){var E=A("./lib/bidiutil"),R=A("./lib/lang"),d=/[\u0590-\u05f4\u0600-\u06ff\u0700-\u08ac\u202B]/,c=function(a){this.session=a,this.bidiMap={},this.currentRow=null,this.bidiUtil=E,this.charWidths=[],this.EOL="",this.showInvisibles=!0,this.isRtlDir=!1,this.$isRtl=!1,this.line="",this.wrapIndent=0,this.EOF="",this.RLE="",this.contentWidth=0,this.fontMetrics=null,this.rtlLineOffset=0,this.wrapOffset=0,this.isMoveLeftOperation=!1,this.seenBidi=d.test(a.getValue())};(function(){this.isBidiRow=function(a,t,e){return this.seenBidi?(a!==this.currentRow&&(this.currentRow=a,this.updateRowLine(t,e),this.updateBidiMap()),this.bidiMap.bidiLevels):!1},this.onChange=function(a){this.seenBidi?this.currentRow=null:a.action=="insert"&&d.test(a.lines.join(`
`))&&(this.seenBidi=!0,this.currentRow=null)},this.getDocumentRow=function(){var a=0,t=this.session.$screenRowCache;if(t.length){var e=this.session.$getRowCacheIndex(t,this.currentRow);e>=0&&(a=this.session.$docRowCache[e])}return a},this.getSplitIndex=function(){var a=0,t=this.session.$screenRowCache;if(t.length)for(var e,n=this.session.$getRowCacheIndex(t,this.currentRow);this.currentRow-a>0&&(e=this.session.$getRowCacheIndex(t,this.currentRow-a-1),e===n);)n=e,a++;else a=this.currentRow;return a},this.updateRowLine=function(a,t){a===void 0&&(a=this.getDocumentRow());var e=a===this.session.getLength()-1,n=e?this.EOF:this.EOL;if(this.wrapIndent=0,this.line=this.session.getLine(a),this.isRtlDir=this.$isRtl||this.line.charAt(0)===this.RLE,this.session.$useWrapMode){var r=this.session.$wrapData[a];r&&(t===void 0&&(t=this.getSplitIndex()),t>0&&r.length?(this.wrapIndent=r.indent,this.wrapOffset=this.wrapIndent*this.charWidths[E.L],this.line=t<r.length?this.line.substring(r[t-1],r[t]):this.line.substring(r[r.length-1])):this.line=this.line.substring(0,r[t])),t==r.length&&(this.line+=this.showInvisibles?n:E.DOT)}else this.line+=this.showInvisibles?n:E.DOT;var i=this.session,o=0,h;this.line=this.line.replace(/\t|[\u1100-\u2029, \u202F-\uFFE6]/g,function(p,y){return p==="	"||i.isFullWidth(p.charCodeAt(0))?(h=p==="	"?i.getScreenTabSize(y+o):2,o+=h-1,R.stringRepeat(E.DOT,h)):p}),this.isRtlDir&&(this.fontMetrics.$main.textContent=this.line.charAt(this.line.length-1)==E.DOT?this.line.substr(0,this.line.length-1):this.line,this.rtlLineOffset=this.contentWidth-this.fontMetrics.$main.getBoundingClientRect().width)},this.updateBidiMap=function(){var a=[];E.hasBidiCharacters(this.line,a)||this.isRtlDir?this.bidiMap=E.doBidiReorder(this.line,a,this.isRtlDir):this.bidiMap={}},this.markAsDirty=function(){this.currentRow=null},this.updateCharacterWidths=function(a){if(this.characterWidth!==a.$characterSize.width){this.fontMetrics=a;var t=this.characterWidth=a.$characterSize.width,e=a.$measureCharWidth("");this.charWidths[E.L]=this.charWidths[E.EN]=this.charWidths[E.ON_R]=t,this.charWidths[E.R]=this.charWidths[E.AN]=e,this.charWidths[E.R_H]=e*.45,this.charWidths[E.B]=this.charWidths[E.RLE]=0,this.currentRow=null}},this.setShowInvisibles=function(a){this.showInvisibles=a,this.currentRow=null},this.setEolChar=function(a){this.EOL=a},this.setContentWidth=function(a){this.contentWidth=a},this.isRtlLine=function(a){return this.$isRtl?!0:a!=null?this.session.getLine(a).charAt(0)==this.RLE:this.isRtlDir},this.setRtlDirection=function(a,t){for(var e=a.getCursorPosition(),n=a.selection.getSelectionAnchor().row;n<=e.row;n++)!t&&a.session.getLine(n).charAt(0)===a.session.$bidiHandler.RLE?a.session.doc.removeInLine(n,0,1):t&&a.session.getLine(n).charAt(0)!==a.session.$bidiHandler.RLE&&a.session.doc.insert({column:0,row:n},a.session.$bidiHandler.RLE)},this.getPosLeft=function(a){a-=this.wrapIndent;var t=this.line.charAt(0)===this.RLE?1:0,e=a>t?this.session.getOverwrite()?a:a-1:t,n=E.getVisualFromLogicalIdx(e,this.bidiMap),r=this.bidiMap.bidiLevels,i=0;!this.session.getOverwrite()&&a<=t&&r[n]%2!==0&&n++;for(var o=0;o<n;o++)i+=this.charWidths[r[o]];return!this.session.getOverwrite()&&a>t&&r[n]%2===0&&(i+=this.charWidths[r[n]]),this.wrapIndent&&(i+=this.isRtlDir?-1*this.wrapOffset:this.wrapOffset),this.isRtlDir&&(i+=this.rtlLineOffset),i},this.getSelections=function(a,t){var e=this.bidiMap,n=e.bidiLevels,r,i=[],o=0,h=Math.min(a,t)-this.wrapIndent,p=Math.max(a,t)-this.wrapIndent,y=!1,L=!1,m=0;this.wrapIndent&&(o+=this.isRtlDir?-1*this.wrapOffset:this.wrapOffset);for(var s,g=0;g<n.length;g++)s=e.logicalFromVisual[g],r=n[g],y=s>=h&&s<p,y&&!L?m=o:!y&&L&&i.push({left:m,width:o-m}),o+=this.charWidths[r],L=y;if(y&&g===n.length&&i.push({left:m,width:o-m}),this.isRtlDir)for(var _=0;_<i.length;_++)i[_].left+=this.rtlLineOffset;return i},this.offsetToCol=function(e){this.isRtlDir&&(e-=this.rtlLineOffset);var t=0,e=Math.max(e,0),n=0,r=0,i=this.bidiMap.bidiLevels,o=this.charWidths[i[r]];for(this.wrapIndent&&(e-=this.isRtlDir?-1*this.wrapOffset:this.wrapOffset);e>n+o/2;){if(n+=o,r===i.length-1){o=0;break}o=this.charWidths[i[++r]]}return r>0&&i[r-1]%2!==0&&i[r]%2===0?(e<n&&r--,t=this.bidiMap.logicalFromVisual[r]):r>0&&i[r-1]%2===0&&i[r]%2!==0?t=1+(e>n?this.bidiMap.logicalFromVisual[r]:this.bidiMap.logicalFromVisual[r-1]):this.isRtlDir&&r===i.length-1&&o===0&&i[r-1]%2===0||!this.isRtlDir&&r===0&&i[r]%2!==0?t=1+this.bidiMap.logicalFromVisual[r]:(r>0&&i[r-1]%2!==0&&o!==0&&r--,t=this.bidiMap.logicalFromVisual[r]),t===0&&this.isRtlDir&&t++,t+this.wrapIndent}}).call(c.prototype),T.BidiHandler=c}),define("ace/selection",["require","exports","module","ace/lib/oop","ace/lib/lang","ace/lib/event_emitter","ace/range"],function(A,T,b){var E=A("./lib/oop"),R=A("./lib/lang"),d=A("./lib/event_emitter").EventEmitter,c=A("./range").Range,a=function(t){this.session=t,this.doc=t.getDocument(),this.clearSelection(),this.cursor=this.lead=this.doc.createAnchor(0,0),this.anchor=this.doc.createAnchor(0,0),this.$silent=!1;var e=this;this.cursor.on("change",function(n){e.$cursorChanged=!0,e.$silent||e._emit("changeCursor"),!e.$isEmpty&&!e.$silent&&e._emit("changeSelection"),!e.$keepDesiredColumnOnChange&&n.old.column!=n.value.column&&(e.$desiredColumn=null)}),this.anchor.on("change",function(){e.$anchorChanged=!0,!e.$isEmpty&&!e.$silent&&e._emit("changeSelection")})};(function(){E.implement(this,d),this.isEmpty=function(){return this.$isEmpty||this.anchor.row==this.lead.row&&this.anchor.column==this.lead.column},this.isMultiLine=function(){return!this.$isEmpty&&this.anchor.row!=this.cursor.row},this.getCursor=function(){return this.lead.getPosition()},this.setSelectionAnchor=function(t,e){this.$isEmpty=!1,this.anchor.setPosition(t,e)},this.getAnchor=this.getSelectionAnchor=function(){return this.$isEmpty?this.getSelectionLead():this.anchor.getPosition()},this.getSelectionLead=function(){return this.lead.getPosition()},this.isBackwards=function(){var t=this.anchor,e=this.lead;return t.row>e.row||t.row==e.row&&t.column>e.column},this.getRange=function(){var t=this.anchor,e=this.lead;return this.$isEmpty?c.fromPoints(e,e):this.isBackwards()?c.fromPoints(e,t):c.fromPoints(t,e)},this.clearSelection=function(){this.$isEmpty||(this.$isEmpty=!0,this._emit("changeSelection"))},this.selectAll=function(){this.$setSelection(0,0,Number.MAX_VALUE,Number.MAX_VALUE)},this.setRange=this.setSelectionRange=function(t,e){var n=e?t.end:t.start,r=e?t.start:t.end;this.$setSelection(n.row,n.column,r.row,r.column)},this.$setSelection=function(t,e,n,r){if(!this.$silent){var i=this.$isEmpty,o=this.inMultiSelectMode;this.$silent=!0,this.$cursorChanged=this.$anchorChanged=!1,this.anchor.setPosition(t,e),this.cursor.setPosition(n,r),this.$isEmpty=!c.comparePoints(this.anchor,this.cursor),this.$silent=!1,this.$cursorChanged&&this._emit("changeCursor"),(this.$cursorChanged||this.$anchorChanged||i!=this.$isEmpty||o)&&this._emit("changeSelection")}},this.$moveSelection=function(t){var e=this.lead;this.$isEmpty&&this.setSelectionAnchor(e.row,e.column),t.call(this)},this.selectTo=function(t,e){this.$moveSelection(function(){this.moveCursorTo(t,e)})},this.selectToPosition=function(t){this.$moveSelection(function(){this.moveCursorToPosition(t)})},this.moveTo=function(t,e){this.clearSelection(),this.moveCursorTo(t,e)},this.moveToPosition=function(t){this.clearSelection(),this.moveCursorToPosition(t)},this.selectUp=function(){this.$moveSelection(this.moveCursorUp)},this.selectDown=function(){this.$moveSelection(this.moveCursorDown)},this.selectRight=function(){this.$moveSelection(this.moveCursorRight)},this.selectLeft=function(){this.$moveSelection(this.moveCursorLeft)},this.selectLineStart=function(){this.$moveSelection(this.moveCursorLineStart)},this.selectLineEnd=function(){this.$moveSelection(this.moveCursorLineEnd)},this.selectFileEnd=function(){this.$moveSelection(this.moveCursorFileEnd)},this.selectFileStart=function(){this.$moveSelection(this.moveCursorFileStart)},this.selectWordRight=function(){this.$moveSelection(this.moveCursorWordRight)},this.selectWordLeft=function(){this.$moveSelection(this.moveCursorWordLeft)},this.getWordRange=function(t,e){if(typeof e>"u"){var n=t||this.lead;t=n.row,e=n.column}return this.session.getWordRange(t,e)},this.selectWord=function(){this.setSelectionRange(this.getWordRange())},this.selectAWord=function(){var t=this.getCursor(),e=this.session.getAWordRange(t.row,t.column);this.setSelectionRange(e)},this.getLineRange=function(t,e){var n=typeof t=="number"?t:this.lead.row,r,i=this.session.getFoldLine(n);return i?(n=i.start.row,r=i.end.row):r=n,e===!0?new c(n,0,r,this.session.getLine(r).length):new c(n,0,r+1,0)},this.selectLine=function(){this.setSelectionRange(this.getLineRange())},this.moveCursorUp=function(){this.moveCursorBy(-1,0)},this.moveCursorDown=function(){this.moveCursorBy(1,0)},this.wouldMoveIntoSoftTab=function(t,e,n){var r=t.column,i=t.column+e;return n<0&&(r=t.column-e,i=t.column),this.session.isTabStop(t)&&this.doc.getLine(t.row).slice(r,i).split(" ").length-1==e},this.moveCursorLeft=function(){var t=this.lead.getPosition(),e;if(e=this.session.getFoldAt(t.row,t.column,-1))this.moveCursorTo(e.start.row,e.start.column);else if(t.column===0)t.row>0&&this.moveCursorTo(t.row-1,this.doc.getLine(t.row-1).length);else{var n=this.session.getTabSize();this.wouldMoveIntoSoftTab(t,n,-1)&&!this.session.getNavigateWithinSoftTabs()?this.moveCursorBy(0,-n):this.moveCursorBy(0,-1)}},this.moveCursorRight=function(){var t=this.lead.getPosition(),e;if(e=this.session.getFoldAt(t.row,t.column,1))this.moveCursorTo(e.end.row,e.end.column);else if(this.lead.column==this.doc.getLine(this.lead.row).length)this.lead.row<this.doc.getLength()-1&&this.moveCursorTo(this.lead.row+1,0);else{var n=this.session.getTabSize(),t=this.lead;this.wouldMoveIntoSoftTab(t,n,1)&&!this.session.getNavigateWithinSoftTabs()?this.moveCursorBy(0,n):this.moveCursorBy(0,1)}},this.moveCursorLineStart=function(){var t=this.lead.row,e=this.lead.column,n=this.session.documentToScreenRow(t,e),r=this.session.screenToDocumentPosition(n,0),i=this.session.getDisplayLine(t,null,r.row,r.column),o=i.match(/^\s*/);o[0].length!=e&&!this.session.$useEmacsStyleLineStart&&(r.column+=o[0].length),this.moveCursorToPosition(r)},this.moveCursorLineEnd=function(){var t=this.lead,e=this.session.getDocumentLastRowColumnPosition(t.row,t.column);if(this.lead.column==e.column){var n=this.session.getLine(e.row);if(e.column==n.length){var r=n.search(/\s+$/);r>0&&(e.column=r)}}this.moveCursorTo(e.row,e.column)},this.moveCursorFileEnd=function(){var t=this.doc.getLength()-1,e=this.doc.getLine(t).length;this.moveCursorTo(t,e)},this.moveCursorFileStart=function(){this.moveCursorTo(0,0)},this.moveCursorLongWordRight=function(){var t=this.lead.row,e=this.lead.column,n=this.doc.getLine(t),r=n.substring(e);this.session.nonTokenRe.lastIndex=0,this.session.tokenRe.lastIndex=0;var i=this.session.getFoldAt(t,e,1);if(i){this.moveCursorTo(i.end.row,i.end.column);return}if(this.session.nonTokenRe.exec(r)&&(e+=this.session.nonTokenRe.lastIndex,this.session.nonTokenRe.lastIndex=0,r=n.substring(e)),e>=n.length){this.moveCursorTo(t,n.length),this.moveCursorRight(),t<this.doc.getLength()-1&&this.moveCursorWordRight();return}this.session.tokenRe.exec(r)&&(e+=this.session.tokenRe.lastIndex,this.session.tokenRe.lastIndex=0),this.moveCursorTo(t,e)},this.moveCursorLongWordLeft=function(){var t=this.lead.row,e=this.lead.column,n;if(n=this.session.getFoldAt(t,e,-1)){this.moveCursorTo(n.start.row,n.start.column);return}var r=this.session.getFoldStringAt(t,e,-1);r==null&&(r=this.doc.getLine(t).substring(0,e));var i=R.stringReverse(r);if(this.session.nonTokenRe.lastIndex=0,this.session.tokenRe.lastIndex=0,this.session.nonTokenRe.exec(i)&&(e-=this.session.nonTokenRe.lastIndex,i=i.slice(this.session.nonTokenRe.lastIndex),this.session.nonTokenRe.lastIndex=0),e<=0){this.moveCursorTo(t,0),this.moveCursorLeft(),t>0&&this.moveCursorWordLeft();return}this.session.tokenRe.exec(i)&&(e-=this.session.tokenRe.lastIndex,this.session.tokenRe.lastIndex=0),this.moveCursorTo(t,e)},this.$shortWordEndIndex=function(t){var e=0,n,r=/\s/,i=this.session.tokenRe;if(i.lastIndex=0,this.session.tokenRe.exec(t))e=this.session.tokenRe.lastIndex;else{for(;(n=t[e])&&r.test(n);)e++;if(e<1){for(i.lastIndex=0;(n=t[e])&&!i.test(n);)if(i.lastIndex=0,e++,r.test(n)){if(e>2){e--;break}for(;(n=t[e])&&r.test(n);)e++;if(e>2)break}}}return i.lastIndex=0,e},this.moveCursorShortWordRight=function(){var t=this.lead.row,e=this.lead.column,n=this.doc.getLine(t),r=n.substring(e),i=this.session.getFoldAt(t,e,1);if(i)return this.moveCursorTo(i.end.row,i.end.column);if(e==n.length){var o=this.doc.getLength();do t++,r=this.doc.getLine(t);while(t<o&&/^\s*$/.test(r));/^\s+/.test(r)||(r=""),e=0}var h=this.$shortWordEndIndex(r);this.moveCursorTo(t,e+h)},this.moveCursorShortWordLeft=function(){var t=this.lead.row,e=this.lead.column,n;if(n=this.session.getFoldAt(t,e,-1))return this.moveCursorTo(n.start.row,n.start.column);var r=this.session.getLine(t).substring(0,e);if(e===0){do t--,r=this.doc.getLine(t);while(t>0&&/^\s*$/.test(r));e=r.length,/\s+$/.test(r)||(r="")}var i=R.stringReverse(r),o=this.$shortWordEndIndex(i);return this.moveCursorTo(t,e-o)},this.moveCursorWordRight=function(){this.session.$selectLongWords?this.moveCursorLongWordRight():this.moveCursorShortWordRight()},this.moveCursorWordLeft=function(){this.session.$selectLongWords?this.moveCursorLongWordLeft():this.moveCursorShortWordLeft()},this.moveCursorBy=function(t,e){var n=this.session.documentToScreenPosition(this.lead.row,this.lead.column),r;if(e===0&&(t!==0&&(this.session.$bidiHandler.isBidiRow(n.row,this.lead.row)?(r=this.session.$bidiHandler.getPosLeft(n.column),n.column=Math.round(r/this.session.$bidiHandler.charWidths[0])):r=n.column*this.session.$bidiHandler.charWidths[0]),this.$desiredColumn?n.column=this.$desiredColumn:this.$desiredColumn=n.column),t!=0&&this.session.lineWidgets&&this.session.lineWidgets[this.lead.row]){var i=this.session.lineWidgets[this.lead.row];t<0?t-=i.rowsAbove||0:t>0&&(t+=i.rowCount-(i.rowsAbove||0))}var o=this.session.screenToDocumentPosition(n.row+t,n.column,r);t!==0&&e===0&&o.row===this.lead.row&&(o.column,this.lead.column),this.moveCursorTo(o.row,o.column+e,e===0)},this.moveCursorToPosition=function(t){this.moveCursorTo(t.row,t.column)},this.moveCursorTo=function(t,e,n){var r=this.session.getFoldAt(t,e,1);r&&(t=r.start.row,e=r.start.column),this.$keepDesiredColumnOnChange=!0;var i=this.session.getLine(t);/[\uDC00-\uDFFF]/.test(i.charAt(e))&&i.charAt(e-1)&&(this.lead.row==t&&this.lead.column==e+1?e-=1:e+=1),this.lead.setPosition(t,e),this.$keepDesiredColumnOnChange=!1,n||(this.$desiredColumn=null)},this.moveCursorToScreen=function(t,e,n){var r=this.session.screenToDocumentPosition(t,e);this.moveCursorTo(r.row,r.column,n)},this.detach=function(){this.lead.detach(),this.anchor.detach(),this.session=this.doc=null},this.fromOrientedRange=function(t){this.setSelectionRange(t,t.cursor==t.start),this.$desiredColumn=t.desiredColumn||this.$desiredColumn},this.toOrientedRange=function(t){var e=this.getRange();return t?(t.start.column=e.start.column,t.start.row=e.start.row,t.end.column=e.end.column,t.end.row=e.end.row):t=e,t.cursor=this.isBackwards()?t.start:t.end,t.desiredColumn=this.$desiredColumn,t},this.getRangeOfMovements=function(t){var e=this.getCursor();try{t(this);var n=this.getCursor();return c.fromPoints(e,n)}catch{return c.fromPoints(e,e)}finally{this.moveCursorToPosition(e)}},this.toJSON=function(){if(this.rangeCount)var t=this.ranges.map(function(e){var n=e.clone();return n.isBackwards=e.cursor==e.start,n});else{var t=this.getRange();t.isBackwards=this.isBackwards()}return t},this.fromJSON=function(t){if(t.start==null){if(this.rangeList&&t.length>1){this.toSingleRange(t[0]);for(var e=t.length;e--;){var n=c.fromPoints(t[e].start,t[e].end);t[e].isBackwards&&(n.cursor=n.start),this.addRange(n,!0)}return}t=t[0]}this.rangeList&&this.toSingleRange(t),this.setSelectionRange(t,t.isBackwards)},this.isEqual=function(t){if((t.length||this.rangeCount)&&t.length!=this.rangeCount)return!1;if(!t.length||!this.ranges)return this.getRange().isEqual(t);for(var e=this.ranges.length;e--;)if(!this.ranges[e].isEqual(t[e]))return!1;return!0}}).call(a.prototype),T.Selection=a}),define("ace/tokenizer",["require","exports","module","ace/config"],function(A,T,b){var E=A("./config"),R=2e3,d=function(c){this.states=c,this.regExps={},this.matchMappings={};for(var a in this.states){for(var t=this.states[a],e=[],n=0,r=this.matchMappings[a]={defaultToken:"text"},i="g",o=[],h=0;h<t.length;h++){var p=t[h];if(p.defaultToken&&(r.defaultToken=p.defaultToken),p.caseInsensitive&&(i="gi"),p.regex!=null){p.regex instanceof RegExp&&(p.regex=p.regex.toString().slice(1,-1));var y=p.regex,L=new RegExp("(?:("+y+")|(.))").exec("a").length-2;Array.isArray(p.token)?p.token.length==1||L==1?p.token=p.token[0]:L-1!=p.token.length?(this.reportError("number of classes and regexp groups doesn't match",{rule:p,groupCount:L-1}),p.token=p.token[0]):(p.tokenArray=p.token,p.token=null,p.onMatch=this.$arrayTokens):typeof p.token=="function"&&!p.onMatch&&(L>1?p.onMatch=this.$applyToken:p.onMatch=p.token),L>1&&(/\\\d/.test(p.regex)?y=p.regex.replace(/\\([0-9]+)/g,function(m,s){return"\\"+(parseInt(s,10)+n+1)}):(L=1,y=this.removeCapturingGroups(p.regex)),!p.splitRegex&&typeof p.token!="string"&&o.push(p)),r[n]=h,n+=L,e.push(y),p.onMatch||(p.onMatch=null)}}e.length||(r[0]=0,e.push("$")),o.forEach(function(m){m.splitRegex=this.createSplitterRegexp(m.regex,i)},this),this.regExps[a]=new RegExp("("+e.join(")|(")+")|($)",i)}};(function(){this.$setMaxTokenCount=function(c){R=c|0},this.$applyToken=function(c){var a=this.splitRegex.exec(c).slice(1),t=this.token.apply(this,a);if(typeof t=="string")return[{type:t,value:c}];for(var e=[],n=0,r=t.length;n<r;n++)a[n]&&(e[e.length]={type:t[n],value:a[n]});return e},this.$arrayTokens=function(c){if(!c)return[];var a=this.splitRegex.exec(c);if(!a)return"text";for(var t=[],e=this.tokenArray,n=0,r=e.length;n<r;n++)a[n+1]&&(t[t.length]={type:e[n],value:a[n+1]});return t},this.removeCapturingGroups=function(c){var a=c.replace(/\\.|\[(?:\\.|[^\\\]])*|\(\?[:=!]|(\()/g,function(t,e){return e?"(?:":t});return a},this.createSplitterRegexp=function(c,a){if(c.indexOf("(?=")!=-1){var t=0,e=!1,n={};c.replace(/(\\.)|(\((?:\?[=!])?)|(\))|([\[\]])/g,function(r,i,o,h,p,y){return e?e=p!="]":p?e=!0:h?(t==n.stack&&(n.end=y+1,n.stack=-1),t--):o&&(t++,o.length!=1&&(n.stack=t,n.start=y)),r}),n.end!=null&&/^\)*$/.test(c.substr(n.end))&&(c=c.substring(0,n.start)+c.substr(n.end))}return c.charAt(0)!="^"&&(c="^"+c),c.charAt(c.length-1)!="$"&&(c+="$"),new RegExp(c,(a||"").replace("g",""))},this.getLineTokens=function(c,a){if(a&&typeof a!="string"){var t=a.slice(0);a=t[0],a==="#tmp"&&(t.shift(),a=t.shift())}else var t=[];var e=a||"start",n=this.states[e];n||(e="start",n=this.states[e]);var r=this.matchMappings[e],i=this.regExps[e];i.lastIndex=0;for(var o,h=[],p=0,y=0,L={type:null,value:""};o=i.exec(c);){var m=r.defaultToken,s=null,g=o[0],_=i.lastIndex;if(_-g.length>p){var f=c.substring(p,_-g.length);L.type==m?L.value+=f:(L.type&&h.push(L),L={type:m,value:f})}for(var v=0;v<o.length-2;v++)if(o[v+1]!==void 0){s=n[r[v]],s.onMatch?m=s.onMatch(g,e,t,c):m=s.token,s.next&&(typeof s.next=="string"?e=s.next:e=s.next(e,t),n=this.states[e],n||(this.reportError("state doesn't exist",e),e="start",n=this.states[e]),r=this.matchMappings[e],p=_,i=this.regExps[e],i.lastIndex=_),s.consumeLineEnd&&(p=_);break}if(g){if(typeof m=="string")s&&s.merge===!1||L.type!==m?(L.type&&h.push(L),L={type:m,value:g}):L.value+=g;else if(m){L.type&&h.push(L),L={type:null,value:""};for(var v=0;v<m.length;v++)h.push(m[v])}}if(p==c.length)break;if(p=_,y++>R){for(y>2*c.length&&this.reportError("infinite loop with in ace tokenizer",{startState:a,line:c});p<c.length;)L.type&&h.push(L),L={value:c.substring(p,p+=500),type:"overflow"};e="start",t=[];break}}return L.type&&h.push(L),t.length>1&&t[0]!==e&&t.unshift("#tmp",e),{tokens:h,state:t.length?t:e}},this.reportError=E.reportError}).call(d.prototype),T.Tokenizer=d}),define("ace/mode/text_highlight_rules",["require","exports","module","ace/lib/lang"],function(A,T,b){var E=A("../lib/lang"),R=function(){this.$rules={start:[{token:"empty_line",regex:"^$"},{defaultToken:"text"}]}};(function(){this.addRules=function(a,t){if(!t){for(var e in a)this.$rules[e]=a[e];return}for(var e in a){for(var n=a[e],r=0;r<n.length;r++){var i=n[r];(i.next||i.onMatch)&&(typeof i.next=="string"&&i.next.indexOf(t)!==0&&(i.next=t+i.next),i.nextState&&i.nextState.indexOf(t)!==0&&(i.nextState=t+i.nextState))}this.$rules[t+e]=n}},this.getRules=function(){return this.$rules},this.embedRules=function(a,t,e,n,r){var i=typeof a=="function"?new a().getRules():a;if(n)for(var o=0;o<n.length;o++)n[o]=t+n[o];else{n=[];for(var h in i)n.push(t+h)}if(this.addRules(i,t),e)for(var p=Array.prototype[r?"push":"unshift"],o=0;o<n.length;o++)p.apply(this.$rules[n[o]],E.deepCopy(e));this.$embeds||(this.$embeds=[]),this.$embeds.push(t)},this.getEmbeds=function(){return this.$embeds};var d=function(a,t){return(a!="start"||t.length)&&t.unshift(this.nextState,a),this.nextState},c=function(a,t){return t.shift(),t.shift()||"start"};this.normalizeRules=function(){function a(n){var r=e[n];r.processed=!0;for(var i=0;i<r.length;i++){var o=r[i],h=null;Array.isArray(o)&&(h=o,o={}),!o.regex&&o.start&&(o.regex=o.start,o.next||(o.next=[]),o.next.push({defaultToken:o.token},{token:o.token+".end",regex:o.end||o.start,next:"pop"}),o.token=o.token+".start",o.push=!0);var p=o.next||o.push;if(p&&Array.isArray(p)){var y=o.stateName;y||(y=o.token,typeof y!="string"&&(y=y[0]||""),e[y]&&(y+=t++)),e[y]=p,o.next=y,a(y)}else p=="pop"&&(o.next=c);if(o.push&&(o.nextState=o.next||o.push,o.next=d,delete o.push),o.rules)for(var L in o.rules)e[L]?e[L].push&&e[L].push.apply(e[L],o.rules[L]):e[L]=o.rules[L];var m=typeof o=="string"?o:o.include;if(m&&(Array.isArray(m)?h=m.map(function(g){return e[g]}):h=e[m]),h){var s=[i,1].concat(h);o.noEscape&&(s=s.filter(function(g){return!g.next})),r.splice.apply(r,s),i--}o.keywordMap&&(o.token=this.createKeywordMapper(o.keywordMap,o.defaultToken||"text",o.caseInsensitive),delete o.defaultToken)}}var t=0,e=this.$rules;Object.keys(e).forEach(a,this)},this.createKeywordMapper=function(a,t,e,n){var r=Object.create(null);return this.$keywordList=[],Object.keys(a).forEach(function(i){for(var o=a[i],h=o.split(n||"|"),p=h.length;p--;){var y=h[p];this.$keywordList.push(y),e&&(y=y.toLowerCase()),r[y]=i}},this),a=null,e?function(i){return r[i.toLowerCase()]||t}:function(i){return r[i]||t}},this.getKeywords=function(){return this.$keywords}}).call(R.prototype),T.TextHighlightRules=R}),define("ace/mode/behaviour",["require","exports","module"],function(A,T,b){var E=function(){this.$behaviours={}};(function(){this.add=function(R,d,c){switch(void 0){case this.$behaviours:this.$behaviours={};case this.$behaviours[R]:this.$behaviours[R]={}}this.$behaviours[R][d]=c},this.addBehaviours=function(R){for(var d in R)for(var c in R[d])this.add(d,c,R[d][c])},this.remove=function(R){this.$behaviours&&this.$behaviours[R]&&delete this.$behaviours[R]},this.inherit=function(R,d){if(typeof R=="function")var c=new R().getBehaviours(d);else var c=R.getBehaviours(d);this.addBehaviours(c)},this.getBehaviours=function(R){if(!R)return this.$behaviours;for(var d={},c=0;c<R.length;c++)this.$behaviours[R[c]]&&(d[R[c]]=this.$behaviours[R[c]]);return d}}).call(E.prototype),T.Behaviour=E}),define("ace/token_iterator",["require","exports","module","ace/range"],function(A,T,b){var E=A("./range").Range,R=function(d,c,a){this.$session=d,this.$row=c,this.$rowTokens=d.getTokens(c);var t=d.getTokenAt(c,a);this.$tokenIndex=t?t.index:-1};(function(){this.stepBackward=function(){for(this.$tokenIndex-=1;this.$tokenIndex<0;){if(this.$row-=1,this.$row<0)return this.$row=0,null;this.$rowTokens=this.$session.getTokens(this.$row),this.$tokenIndex=this.$rowTokens.length-1}return this.$rowTokens[this.$tokenIndex]},this.stepForward=function(){this.$tokenIndex+=1;for(var d;this.$tokenIndex>=this.$rowTokens.length;){if(this.$row+=1,d||(d=this.$session.getLength()),this.$row>=d)return this.$row=d-1,null;this.$rowTokens=this.$session.getTokens(this.$row),this.$tokenIndex=0}return this.$rowTokens[this.$tokenIndex]},this.getCurrentToken=function(){return this.$rowTokens[this.$tokenIndex]},this.getCurrentTokenRow=function(){return this.$row},this.getCurrentTokenColumn=function(){var d=this.$rowTokens,c=this.$tokenIndex,a=d[c].start;if(a!==void 0)return a;for(a=0;c>0;)c-=1,a+=d[c].value.length;return a},this.getCurrentTokenPosition=function(){return{row:this.$row,column:this.getCurrentTokenColumn()}},this.getCurrentTokenRange=function(){var d=this.$rowTokens[this.$tokenIndex],c=this.getCurrentTokenColumn();return new E(this.$row,c,this.$row,c+d.value.length)}}).call(R.prototype),T.TokenIterator=R}),define("ace/mode/behaviour/cstyle",["require","exports","module","ace/lib/oop","ace/mode/behaviour","ace/token_iterator","ace/lib/lang"],function(A,T,b){var E=A("../../lib/oop"),R=A("../behaviour").Behaviour,d=A("../../token_iterator").TokenIterator,c=A("../../lib/lang"),a=["text","paren.rparen","rparen","paren","punctuation.operator"],t=["text","paren.rparen","rparen","paren","punctuation.operator","comment"],e,n={},r={'"':'"',"'":"'"},i=function(p){var y=-1;if(p.multiSelect&&(y=p.selection.index,n.rangeCount!=p.multiSelect.rangeCount&&(n={rangeCount:p.multiSelect.rangeCount})),n[y])return e=n[y];e=n[y]={autoInsertedBrackets:0,autoInsertedRow:-1,autoInsertedLineEnd:"",maybeInsertedBrackets:0,maybeInsertedRow:-1,maybeInsertedLineStart:"",maybeInsertedLineEnd:""}},o=function(p,y,L,m){var s=p.end.row-p.start.row;return{text:L+y+m,selection:[0,p.start.column+1,s,p.end.column+(s?0:1)]}},h=function(p){this.add("braces","insertion",function(y,L,m,s,g){var _=m.getCursorPosition(),f=s.doc.getLine(_.row);if(g=="{"){i(m);var v=m.getSelectionRange(),l=s.doc.getTextRange(v);if(l!==""&&l!=="{"&&m.getWrapBehavioursEnabled())return o(v,l,"{","}");if(h.isSaneInsertion(m,s))return/[\]\}\)]/.test(f[_.column])||m.inMultiSelectMode||p&&p.braces?(h.recordAutoInsert(m,s,"}"),{text:"{}",selection:[1,1]}):(h.recordMaybeInsert(m,s,"{"),{text:"{",selection:[1,1]})}else if(g=="}"){i(m);var w=f.substring(_.column,_.column+1);if(w=="}"){var k=s.$findOpeningBracket("}",{column:_.column+1,row:_.row});if(k!==null&&h.isAutoInsertedClosing(_,f,g))return h.popAutoInsertedClosing(),{text:"",selection:[1,1]}}}else{if(g==`
`||g==`\r
`){i(m);var F="";h.isMaybeInsertedClosing(_,f)&&(F=c.stringRepeat("}",e.maybeInsertedBrackets),h.clearMaybeInsertedClosing());var w=f.substring(_.column,_.column+1);if(w==="}"){var x=s.findMatchingBracket({row:_.row,column:_.column+1},"}");if(!x)return null;var N=this.$getIndent(s.getLine(x.row))}else{if(!F){h.clearMaybeInsertedClosing();return}var N=this.$getIndent(f)}var G=N+s.getTabString();return{text:`
`+G+`
`+N+F,selection:[1,G.length,1,G.length]}}h.clearMaybeInsertedClosing()}}),this.add("braces","deletion",function(y,L,m,s,g){var _=s.doc.getTextRange(g);if(!g.isMultiLine()&&_=="{"){i(m);var f=s.doc.getLine(g.start.row),v=f.substring(g.end.column,g.end.column+1);if(v=="}")return g.end.column++,g;e.maybeInsertedBrackets--}}),this.add("parens","insertion",function(y,L,m,s,g){if(g=="("){i(m);var _=m.getSelectionRange(),f=s.doc.getTextRange(_);if(f!==""&&m.getWrapBehavioursEnabled())return o(_,f,"(",")");if(h.isSaneInsertion(m,s))return h.recordAutoInsert(m,s,")"),{text:"()",selection:[1,1]}}else if(g==")"){i(m);var v=m.getCursorPosition(),l=s.doc.getLine(v.row),w=l.substring(v.column,v.column+1);if(w==")"){var k=s.$findOpeningBracket(")",{column:v.column+1,row:v.row});if(k!==null&&h.isAutoInsertedClosing(v,l,g))return h.popAutoInsertedClosing(),{text:"",selection:[1,1]}}}}),this.add("parens","deletion",function(y,L,m,s,g){var _=s.doc.getTextRange(g);if(!g.isMultiLine()&&_=="("){i(m);var f=s.doc.getLine(g.start.row),v=f.substring(g.start.column+1,g.start.column+2);if(v==")")return g.end.column++,g}}),this.add("brackets","insertion",function(y,L,m,s,g){if(g=="["){i(m);var _=m.getSelectionRange(),f=s.doc.getTextRange(_);if(f!==""&&m.getWrapBehavioursEnabled())return o(_,f,"[","]");if(h.isSaneInsertion(m,s))return h.recordAutoInsert(m,s,"]"),{text:"[]",selection:[1,1]}}else if(g=="]"){i(m);var v=m.getCursorPosition(),l=s.doc.getLine(v.row),w=l.substring(v.column,v.column+1);if(w=="]"){var k=s.$findOpeningBracket("]",{column:v.column+1,row:v.row});if(k!==null&&h.isAutoInsertedClosing(v,l,g))return h.popAutoInsertedClosing(),{text:"",selection:[1,1]}}}}),this.add("brackets","deletion",function(y,L,m,s,g){var _=s.doc.getTextRange(g);if(!g.isMultiLine()&&_=="["){i(m);var f=s.doc.getLine(g.start.row),v=f.substring(g.start.column+1,g.start.column+2);if(v=="]")return g.end.column++,g}}),this.add("string_dquotes","insertion",function(y,L,m,s,g){var _=s.$mode.$quotes||r;if(g.length==1&&_[g]){if(this.lineCommentStart&&this.lineCommentStart.indexOf(g)!=-1)return;i(m);var f=g,v=m.getSelectionRange(),l=s.doc.getTextRange(v);if(l!==""&&(l.length!=1||!_[l])&&m.getWrapBehavioursEnabled())return o(v,l,f,f);if(!l){var w=m.getCursorPosition(),k=s.doc.getLine(w.row),F=k.substring(w.column-1,w.column),x=k.substring(w.column,w.column+1),N=s.getTokenAt(w.row,w.column),G=s.getTokenAt(w.row,w.column+1);if(F=="\\"&&N&&/escape/.test(N.type))return null;var q=N&&/string|escape/.test(N.type),ne=!G||/string|escape/.test(G.type),X;if(x==f)X=q!==ne,X&&/string\.end/.test(G.type)&&(X=!1);else{if(q&&!ne||q&&ne)return null;var j=s.$mode.tokenRe;j.lastIndex=0;var Y=j.test(F);j.lastIndex=0;var ee=j.test(F);if(Y||ee||x&&!/[\s;,.})\]\\]/.test(x))return null;var ie=k[w.column-2];if(!(F!=f||ie!=f&&!j.test(ie)))return null;X=!0}return{text:X?f+f:"",selection:[1,1]}}}}),this.add("string_dquotes","deletion",function(y,L,m,s,g){var _=s.$mode.$quotes||r,f=s.doc.getTextRange(g);if(!g.isMultiLine()&&_.hasOwnProperty(f)){i(m);var v=s.doc.getLine(g.start.row),l=v.substring(g.start.column+1,g.start.column+2);if(l==f)return g.end.column++,g}})};h.isSaneInsertion=function(p,y){var L=p.getCursorPosition(),m=new d(y,L.row,L.column);if(!this.$matchTokenType(m.getCurrentToken()||"text",a)){if(/[)}\]]/.test(p.session.getLine(L.row)[L.column]))return!0;var s=new d(y,L.row,L.column+1);if(!this.$matchTokenType(s.getCurrentToken()||"text",a))return!1}return m.stepForward(),m.getCurrentTokenRow()!==L.row||this.$matchTokenType(m.getCurrentToken()||"text",t)},h.$matchTokenType=function(p,y){return y.indexOf(p.type||p)>-1},h.recordAutoInsert=function(p,y,L){var m=p.getCursorPosition(),s=y.doc.getLine(m.row);this.isAutoInsertedClosing(m,s,e.autoInsertedLineEnd[0])||(e.autoInsertedBrackets=0),e.autoInsertedRow=m.row,e.autoInsertedLineEnd=L+s.substr(m.column),e.autoInsertedBrackets++},h.recordMaybeInsert=function(p,y,L){var m=p.getCursorPosition(),s=y.doc.getLine(m.row);this.isMaybeInsertedClosing(m,s)||(e.maybeInsertedBrackets=0),e.maybeInsertedRow=m.row,e.maybeInsertedLineStart=s.substr(0,m.column)+L,e.maybeInsertedLineEnd=s.substr(m.column),e.maybeInsertedBrackets++},h.isAutoInsertedClosing=function(p,y,L){return e.autoInsertedBrackets>0&&p.row===e.autoInsertedRow&&L===e.autoInsertedLineEnd[0]&&y.substr(p.column)===e.autoInsertedLineEnd},h.isMaybeInsertedClosing=function(p,y){return e.maybeInsertedBrackets>0&&p.row===e.maybeInsertedRow&&y.substr(p.column)===e.maybeInsertedLineEnd&&y.substr(0,p.column)==e.maybeInsertedLineStart},h.popAutoInsertedClosing=function(){e.autoInsertedLineEnd=e.autoInsertedLineEnd.substr(1),e.autoInsertedBrackets--},h.clearMaybeInsertedClosing=function(){e&&(e.maybeInsertedBrackets=0,e.maybeInsertedRow=-1)},E.inherits(h,R),T.CstyleBehaviour=h}),define("ace/unicode",["require","exports","module"],function(A,T,b){for(var E=[48,9,8,25,5,0,2,25,48,0,11,0,5,0,6,22,2,30,2,457,5,11,15,4,8,0,2,0,18,116,2,1,3,3,9,0,2,2,2,0,2,19,2,82,2,138,2,4,3,155,12,37,3,0,8,38,10,44,2,0,2,1,2,1,2,0,9,26,6,2,30,10,7,61,2,9,5,101,2,7,3,9,2,18,3,0,17,58,3,100,15,53,5,0,6,45,211,57,3,18,2,5,3,11,3,9,2,1,7,6,2,2,2,7,3,1,3,21,2,6,2,0,4,3,3,8,3,1,3,3,9,0,5,1,2,4,3,11,16,2,2,5,5,1,3,21,2,6,2,1,2,1,2,1,3,0,2,4,5,1,3,2,4,0,8,3,2,0,8,15,12,2,2,8,2,2,2,21,2,6,2,1,2,4,3,9,2,2,2,2,3,0,16,3,3,9,18,2,2,7,3,1,3,21,2,6,2,1,2,4,3,8,3,1,3,2,9,1,5,1,2,4,3,9,2,0,17,1,2,5,4,2,2,3,4,1,2,0,2,1,4,1,4,2,4,11,5,4,4,2,2,3,3,0,7,0,15,9,18,2,2,7,2,2,2,22,2,9,2,4,4,7,2,2,2,3,8,1,2,1,7,3,3,9,19,1,2,7,2,2,2,22,2,9,2,4,3,8,2,2,2,3,8,1,8,0,2,3,3,9,19,1,2,7,2,2,2,22,2,15,4,7,2,2,2,3,10,0,9,3,3,9,11,5,3,1,2,17,4,23,2,8,2,0,3,6,4,0,5,5,2,0,2,7,19,1,14,57,6,14,2,9,40,1,2,0,3,1,2,0,3,0,7,3,2,6,2,2,2,0,2,0,3,1,2,12,2,2,3,4,2,0,2,5,3,9,3,1,35,0,24,1,7,9,12,0,2,0,2,0,5,9,2,35,5,19,2,5,5,7,2,35,10,0,58,73,7,77,3,37,11,42,2,0,4,328,2,3,3,6,2,0,2,3,3,40,2,3,3,32,2,3,3,6,2,0,2,3,3,14,2,56,2,3,3,66,5,0,33,15,17,84,13,619,3,16,2,25,6,74,22,12,2,6,12,20,12,19,13,12,2,2,2,1,13,51,3,29,4,0,5,1,3,9,34,2,3,9,7,87,9,42,6,69,11,28,4,11,5,11,11,39,3,4,12,43,5,25,7,10,38,27,5,62,2,28,3,10,7,9,14,0,89,75,5,9,18,8,13,42,4,11,71,55,9,9,4,48,83,2,2,30,14,230,23,280,3,5,3,37,3,5,3,7,2,0,2,0,2,0,2,30,3,52,2,6,2,0,4,2,2,6,4,3,3,5,5,12,6,2,2,6,67,1,20,0,29,0,14,0,17,4,60,12,5,0,4,11,18,0,5,0,3,9,2,0,4,4,7,0,2,0,2,0,2,3,2,10,3,3,6,4,5,0,53,1,2684,46,2,46,2,132,7,6,15,37,11,53,10,0,17,22,10,6,2,6,2,6,2,6,2,6,2,6,2,6,2,6,2,31,48,0,470,1,36,5,2,4,6,1,5,85,3,1,3,2,2,89,2,3,6,40,4,93,18,23,57,15,513,6581,75,20939,53,1164,68,45,3,268,4,27,21,31,3,13,13,1,2,24,9,69,11,1,38,8,3,102,3,1,111,44,25,51,13,68,12,9,7,23,4,0,5,45,3,35,13,28,4,64,15,10,39,54,10,13,3,9,7,22,4,1,5,66,25,2,227,42,2,1,3,9,7,11171,13,22,5,48,8453,301,3,61,3,105,39,6,13,4,6,11,2,12,2,4,2,0,2,1,2,1,2,107,34,362,19,63,3,53,41,11,5,15,17,6,13,1,25,2,33,4,2,134,20,9,8,25,5,0,2,25,12,88,4,5,3,5,3,5,3,2],R=0,d=[],c=0;c<E.length;c+=2)d.push(R+=E[c]),E[c+1]&&d.push(45,R+=E[c+1]);T.wordChars=String.fromCharCode.apply(null,d)}),define("ace/mode/text",["require","exports","module","ace/config","ace/tokenizer","ace/mode/text_highlight_rules","ace/mode/behaviour/cstyle","ace/unicode","ace/lib/lang","ace/token_iterator","ace/range"],function(A,T,b){var E=A("../config"),R=A("../tokenizer").Tokenizer,d=A("./text_highlight_rules").TextHighlightRules,c=A("./behaviour/cstyle").CstyleBehaviour,a=A("../unicode"),t=A("../lib/lang"),e=A("../token_iterator").TokenIterator,n=A("../range").Range,r=function(){this.HighlightRules=d};(function(){this.$defaultBehaviour=new c,this.tokenRe=new RegExp("^["+a.wordChars+"\\$_]+","g"),this.nonTokenRe=new RegExp("^(?:[^"+a.wordChars+"\\$_]|\\s])+","g"),this.getTokenizer=function(){return this.$tokenizer||(this.$highlightRules=this.$highlightRules||new this.HighlightRules(this.$highlightRuleConfig),this.$tokenizer=new R(this.$highlightRules.getRules())),this.$tokenizer},this.lineCommentStart="",this.blockComment="",this.toggleCommentLines=function(i,o,h,p){function y(X){for(var j=h;j<=p;j++)X(L.getLine(j),j)}var L=o.doc,m=!0,s=!0,g=1/0,_=o.getTabSize(),f=!1;if(this.lineCommentStart){if(Array.isArray(this.lineCommentStart))var w=this.lineCommentStart.map(t.escapeRegExp).join("|"),v=this.lineCommentStart[0];else var w=t.escapeRegExp(this.lineCommentStart),v=this.lineCommentStart;w=new RegExp("^(\\s*)(?:"+w+") ?"),f=o.getUseSoftTabs();var x=function(ae,ce){var ye=ae.match(w);if(ye){var me=ye[1].length,Se=ye[0].length;!q(ae,me,Se)&&ye[0][Se-1]==" "&&Se--,L.removeInLine(ce,me,Se)}},G=v+" ",F=function(ae,ce){(!m||/\S/.test(ae))&&(q(ae,g,g)?L.insertInLine({row:ce,column:g},G):L.insertInLine({row:ce,column:g},v))},N=function(ae,ce){return w.test(ae)},q=function(ae,ce,ye){for(var me=0;ce--&&ae.charAt(ce)==" ";)me++;if(me%_!=0)return!1;for(var me=0;ae.charAt(ye++)==" ";)me++;return _>2?me%_!=_-1:me%_==0}}else{if(!this.blockComment)return!1;var v=this.blockComment.start,l=this.blockComment.end,w=new RegExp("^(\\s*)(?:"+t.escapeRegExp(v)+")"),k=new RegExp("(?:"+t.escapeRegExp(l)+")\\s*$"),F=function(X,j){N(X,j)||(!m||/\S/.test(X))&&(L.insertInLine({row:j,column:X.length},l),L.insertInLine({row:j,column:g},v))},x=function(X,j){var Y;(Y=X.match(k))&&L.removeInLine(j,X.length-Y[0].length,X.length),(Y=X.match(w))&&L.removeInLine(j,Y[1].length,Y[0].length)},N=function(X,j){if(w.test(X))return!0;for(var Y=o.getTokens(j),ee=0;ee<Y.length;ee++)if(Y[ee].type==="comment")return!0}}var ne=1/0;y(function(X,j){var Y=X.search(/\S/);Y!==-1?(Y<g&&(g=Y),s&&!N(X,j)&&(s=!1)):ne>X.length&&(ne=X.length)}),g==1/0&&(g=ne,m=!1,s=!1),f&&g%_!=0&&(g=Math.floor(g/_)*_),y(s?x:F)},this.toggleBlockComment=function(i,o,h,p){var y=this.blockComment;if(y){!y.start&&y[0]&&(y=y[0]);var L=new e(o,p.row,p.column),m=L.getCurrentToken();o.selection;var s=o.selection.toOrientedRange(),g,_;if(m&&/comment/.test(m.type)){for(var f,v;m&&/comment/.test(m.type);){var l=m.value.indexOf(y.start);if(l!=-1){var w=L.getCurrentTokenRow(),k=L.getCurrentTokenColumn()+l;f=new n(w,k,w,k+y.start.length);break}m=L.stepBackward()}for(var L=new e(o,p.row,p.column),m=L.getCurrentToken();m&&/comment/.test(m.type);){var l=m.value.indexOf(y.end);if(l!=-1){var w=L.getCurrentTokenRow(),k=L.getCurrentTokenColumn()+l;v=new n(w,k,w,k+y.end.length);break}m=L.stepForward()}v&&o.remove(v),f&&(o.remove(f),g=f.start.row,_=-y.start.length)}else _=y.start.length,g=h.start.row,o.insert(h.end,y.end),o.insert(h.start,y.start);s.start.row==g&&(s.start.column+=_),s.end.row==g&&(s.end.column+=_),o.selection.fromOrientedRange(s)}},this.getNextLineIndent=function(i,o,h){return this.$getIndent(o)},this.checkOutdent=function(i,o,h){return!1},this.autoOutdent=function(i,o,h){},this.$getIndent=function(i){return i.match(/^\s*/)[0]},this.createWorker=function(i){return null},this.createModeDelegates=function(i){this.$embeds=[],this.$modes={};for(var o in i)if(i[o]){var h=i[o],p=h.prototype.$id,y=E.$modes[p];y||(E.$modes[p]=y=new h),E.$modes[o]||(E.$modes[o]=y),this.$embeds.push(o),this.$modes[o]=y}for(var L=["toggleBlockComment","toggleCommentLines","getNextLineIndent","checkOutdent","autoOutdent","transformAction","getCompletions"],o=0;o<L.length;o++)(function(s){var g=L[o],_=s[g];s[L[o]]=function(){return this.$delegator(g,arguments,_)}})(this)},this.$delegator=function(i,o,h){var p=o[0]||"start";if(typeof p!="string"){if(Array.isArray(p[2])){var y=p[2][p[2].length-1],L=this.$modes[y];if(L)return L[i].apply(L,[p[1]].concat([].slice.call(o,1)))}p=p[0]||"start"}for(var m=0;m<this.$embeds.length;m++)if(this.$modes[this.$embeds[m]]){var s=p.split(this.$embeds[m]);if(!s[0]&&s[1]){o[0]=s[1];var L=this.$modes[this.$embeds[m]];return L[i].apply(L,o)}}var g=h.apply(this,o);return h?g:void 0},this.transformAction=function(i,o,h,p,y){if(this.$behaviour){var L=this.$behaviour.getBehaviours();for(var m in L)if(L[m][o]){var s=L[m][o].apply(this,arguments);if(s)return s}}},this.getKeywords=function(i){if(!this.completionKeywords){var o=this.$tokenizer.rules,h=[];for(var p in o)for(var y=o[p],L=0,m=y.length;L<m;L++)if(typeof y[L].token=="string")/keyword|support|storage/.test(y[L].token)&&h.push(y[L].regex);else if(typeof y[L].token=="object"){for(var s=0,g=y[L].token.length;s<g;s++)if(/keyword|support|storage/.test(y[L].token[s])){var p=y[L].regex.match(/\(.+?\)/g)[s];h.push(p.substr(1,p.length-2))}}this.completionKeywords=h}return i?h.concat(this.$keywordList||[]):this.$keywordList},this.$createKeywordList=function(){return this.$highlightRules||this.getTokenizer(),this.$keywordList=this.$highlightRules.$keywordList||[]},this.getCompletions=function(i,o,h,p){var y=this.$keywordList||this.$createKeywordList();return y.map(function(L){return{name:L,value:L,score:0,meta:"keyword"}})},this.$id="ace/mode/text"}).call(r.prototype),T.Mode=r}),define("ace/apply_delta",["require","exports","module"],function(A,T,b){T.applyDelta=function(E,R,d){var c=R.start.row,a=R.start.column,t=E[c]||"";switch(R.action){case"insert":var e=R.lines;if(e.length===1)E[c]=t.substring(0,a)+R.lines[0]+t.substring(a);else{var n=[c,1].concat(R.lines);E.splice.apply(E,n),E[c]=t.substring(0,a)+E[c],E[c+R.lines.length-1]+=t.substring(a)}break;case"remove":var r=R.end.column,i=R.end.row;c===i?E[c]=t.substring(0,a)+t.substring(r):E.splice(c,i-c+1,t.substring(0,a)+E[i].substring(r))}}}),define("ace/anchor",["require","exports","module","ace/lib/oop","ace/lib/event_emitter"],function(A,T,b){var E=A("./lib/oop"),R=A("./lib/event_emitter").EventEmitter,d=T.Anchor=function(c,a,t){this.$onChange=this.onChange.bind(this),this.attach(c),typeof t>"u"?this.setPosition(a.row,a.column):this.setPosition(a,t)};(function(){function c(t,e,n){var r=n?t.column<=e.column:t.column<e.column;return t.row<e.row||t.row==e.row&&r}function a(t,e,n){var r=t.action=="insert",i=(r?1:-1)*(t.end.row-t.start.row),o=(r?1:-1)*(t.end.column-t.start.column),h=t.start,p=r?h:t.end;return c(e,h,n)?{row:e.row,column:e.column}:c(p,e,!n)?{row:e.row+i,column:e.column+(e.row==p.row?o:0)}:{row:h.row,column:h.column}}E.implement(this,R),this.getPosition=function(){return this.$clipPositionToDocument(this.row,this.column)},this.getDocument=function(){return this.document},this.$insertRight=!1,this.onChange=function(t){if(!(t.start.row==t.end.row&&t.start.row!=this.row)&&!(t.start.row>this.row)){var e=a(t,{row:this.row,column:this.column},this.$insertRight);this.setPosition(e.row,e.column,!0)}},this.setPosition=function(t,e,n){var r;if(n?r={row:t,column:e}:r=this.$clipPositionToDocument(t,e),!(this.row==r.row&&this.column==r.column)){var i={row:this.row,column:this.column};this.row=r.row,this.column=r.column,this._signal("change",{old:i,value:r})}},this.detach=function(){this.document.off("change",this.$onChange)},this.attach=function(t){this.document=t||this.document,this.document.on("change",this.$onChange)},this.$clipPositionToDocument=function(t,e){var n={};return t>=this.document.getLength()?(n.row=Math.max(0,this.document.getLength()-1),n.column=this.document.getLine(n.row).length):t<0?(n.row=0,n.column=0):(n.row=t,n.column=Math.min(this.document.getLine(n.row).length,Math.max(0,e))),e<0&&(n.column=0),n}}).call(d.prototype)}),define("ace/document",["require","exports","module","ace/lib/oop","ace/apply_delta","ace/lib/event_emitter","ace/range","ace/anchor"],function(A,T,b){var E=A("./lib/oop"),R=A("./apply_delta").applyDelta,d=A("./lib/event_emitter").EventEmitter,c=A("./range").Range,a=A("./anchor").Anchor,t=function(e){this.$lines=[""],e.length===0?this.$lines=[""]:Array.isArray(e)?this.insertMergedLines({row:0,column:0},e):this.insert({row:0,column:0},e)};(function(){E.implement(this,d),this.setValue=function(e){var n=this.getLength()-1;this.remove(new c(0,0,n,this.getLine(n).length)),this.insert({row:0,column:0},e)},this.getValue=function(){return this.getAllLines().join(this.getNewLineCharacter())},this.createAnchor=function(e,n){return new a(this,e,n)},"aaa".split(/a/).length===0?this.$split=function(e){return e.replace(/\r\n|\r/g,`
`).split(`
`)}:this.$split=function(e){return e.split(/\r\n|\r|\n/)},this.$detectNewLine=function(e){var n=e.match(/^.*?(\r\n|\r|\n)/m);this.$autoNewLine=n?n[1]:`
`,this._signal("changeNewLineMode")},this.getNewLineCharacter=function(){switch(this.$newLineMode){case"windows":return`\r
`;case"unix":return`
`;default:return this.$autoNewLine||`
`}},this.$autoNewLine="",this.$newLineMode="auto",this.setNewLineMode=function(e){this.$newLineMode!==e&&(this.$newLineMode=e,this._signal("changeNewLineMode"))},this.getNewLineMode=function(){return this.$newLineMode},this.isNewLine=function(e){return e==`\r
`||e=="\r"||e==`
`},this.getLine=function(e){return this.$lines[e]||""},this.getLines=function(e,n){return this.$lines.slice(e,n+1)},this.getAllLines=function(){return this.getLines(0,this.getLength())},this.getLength=function(){return this.$lines.length},this.getTextRange=function(e){return this.getLinesForRange(e).join(this.getNewLineCharacter())},this.getLinesForRange=function(e){var n;if(e.start.row===e.end.row)n=[this.getLine(e.start.row).substring(e.start.column,e.end.column)];else{n=this.getLines(e.start.row,e.end.row),n[0]=(n[0]||"").substring(e.start.column);var r=n.length-1;e.end.row-e.start.row==r&&(n[r]=n[r].substring(0,e.end.column))}return n},this.insertLines=function(e,n){return console.warn("Use of document.insertLines is deprecated. Use the insertFullLines method instead."),this.insertFullLines(e,n)},this.removeLines=function(e,n){return console.warn("Use of document.removeLines is deprecated. Use the removeFullLines method instead."),this.removeFullLines(e,n)},this.insertNewLine=function(e){return console.warn("Use of document.insertNewLine is deprecated. Use insertMergedLines(position, ['', '']) instead."),this.insertMergedLines(e,["",""])},this.insert=function(e,n){return this.getLength()<=1&&this.$detectNewLine(n),this.insertMergedLines(e,this.$split(n))},this.insertInLine=function(e,n){var r=this.clippedPos(e.row,e.column),i=this.pos(e.row,e.column+n.length);return this.applyDelta({start:r,end:i,action:"insert",lines:[n]},!0),this.clonePos(i)},this.clippedPos=function(e,n){var r=this.getLength();e===void 0?e=r:e<0?e=0:e>=r&&(e=r-1,n=void 0);var i=this.getLine(e);return n==null&&(n=i.length),n=Math.min(Math.max(n,0),i.length),{row:e,column:n}},this.clonePos=function(e){return{row:e.row,column:e.column}},this.pos=function(e,n){return{row:e,column:n}},this.$clipPosition=function(e){var n=this.getLength();return e.row>=n?(e.row=Math.max(0,n-1),e.column=this.getLine(n-1).length):(e.row=Math.max(0,e.row),e.column=Math.min(Math.max(e.column,0),this.getLine(e.row).length)),e},this.insertFullLines=function(e,n){e=Math.min(Math.max(e,0),this.getLength());var r=0;e<this.getLength()?(n=n.concat([""]),r=0):(n=[""].concat(n),e--,r=this.$lines[e].length),this.insertMergedLines({row:e,column:r},n)},this.insertMergedLines=function(e,n){var r=this.clippedPos(e.row,e.column),i={row:r.row+n.length-1,column:(n.length==1?r.column:0)+n[n.length-1].length};return this.applyDelta({start:r,end:i,action:"insert",lines:n}),this.clonePos(i)},this.remove=function(e){var n=this.clippedPos(e.start.row,e.start.column),r=this.clippedPos(e.end.row,e.end.column);return this.applyDelta({start:n,end:r,action:"remove",lines:this.getLinesForRange({start:n,end:r})}),this.clonePos(n)},this.removeInLine=function(e,n,r){var i=this.clippedPos(e,n),o=this.clippedPos(e,r);return this.applyDelta({start:i,end:o,action:"remove",lines:this.getLinesForRange({start:i,end:o})},!0),this.clonePos(i)},this.removeFullLines=function(e,n){e=Math.min(Math.max(0,e),this.getLength()-1),n=Math.min(Math.max(0,n),this.getLength()-1);var r=n==this.getLength()-1&&e>0,i=n<this.getLength()-1,o=r?e-1:e,h=r?this.getLine(o).length:0,p=i?n+1:n,y=i?0:this.getLine(p).length,L=new c(o,h,p,y),m=this.$lines.slice(e,n+1);return this.applyDelta({start:L.start,end:L.end,action:"remove",lines:this.getLinesForRange(L)}),m},this.removeNewLine=function(e){e<this.getLength()-1&&e>=0&&this.applyDelta({start:this.pos(e,this.getLine(e).length),end:this.pos(e+1,0),action:"remove",lines:["",""]})},this.replace=function(e,n){if(e instanceof c||(e=c.fromPoints(e.start,e.end)),n.length===0&&e.isEmpty())return e.start;if(n==this.getTextRange(e))return e.end;this.remove(e);var r;return n?r=this.insert(e.start,n):r=e.start,r},this.applyDeltas=function(e){for(var n=0;n<e.length;n++)this.applyDelta(e[n])},this.revertDeltas=function(e){for(var n=e.length-1;n>=0;n--)this.revertDelta(e[n])},this.applyDelta=function(e,n){var r=e.action=="insert";(r?e.lines.length<=1&&!e.lines[0]:!c.comparePoints(e.start,e.end))||(r&&e.lines.length>2e4?this.$splitAndapplyLargeDelta(e,2e4):(R(this.$lines,e,n),this._signal("change",e)))},this.$safeApplyDelta=function(e){var n=this.$lines.length;(e.action=="remove"&&e.start.row<n&&e.end.row<n||e.action=="insert"&&e.start.row<=n)&&this.applyDelta(e)},this.$splitAndapplyLargeDelta=function(e,n){for(var r=e.lines,i=r.length-n+1,o=e.start.row,h=e.start.column,p=0,y=0;p<i;p=y){y+=n-1;var L=r.slice(p,y);L.push(""),this.applyDelta({start:this.pos(o+p,h),end:this.pos(o+y,h=0),action:e.action,lines:L},!0)}e.lines=r.slice(p),e.start.row=o+p,e.start.column=h,this.applyDelta(e,!0)},this.revertDelta=function(e){this.$safeApplyDelta({start:this.clonePos(e.start),end:this.clonePos(e.end),action:e.action=="insert"?"remove":"insert",lines:e.lines.slice()})},this.indexToPosition=function(e,n){for(var r=this.$lines||this.getAllLines(),i=this.getNewLineCharacter().length,o=n||0,h=r.length;o<h;o++)if(e-=r[o].length+i,e<0)return{row:o,column:e+r[o].length+i};return{row:h-1,column:e+r[h-1].length+i}},this.positionToIndex=function(e,n){for(var r=this.$lines||this.getAllLines(),i=this.getNewLineCharacter().length,o=0,h=Math.min(e.row,r.length),p=n||0;p<h;++p)o+=r[p].length+i;return o+e.column}}).call(t.prototype),T.Document=t}),define("ace/background_tokenizer",["require","exports","module","ace/lib/oop","ace/lib/event_emitter"],function(A,T,b){var E=A("./lib/oop"),R=A("./lib/event_emitter").EventEmitter,d=function(c,a){this.running=!1,this.lines=[],this.states=[],this.currentLine=0,this.tokenizer=c;var t=this;this.$worker=function(){if(t.running){for(var e=new Date,n=t.currentLine,r=-1,i=t.doc,o=n;t.lines[n];)n++;var h=i.getLength(),p=0;for(t.running=!1;n<h;){t.$tokenizeRow(n),r=n;do n++;while(t.lines[n]);if(p++,p%5===0&&new Date-e>20){t.running=setTimeout(t.$worker,20);break}}t.currentLine=n,r==-1&&(r=n),o<=r&&t.fireUpdateEvent(o,r)}}};(function(){E.implement(this,R),this.setTokenizer=function(c){this.tokenizer=c,this.lines=[],this.states=[],this.start(0)},this.setDocument=function(c){this.doc=c,this.lines=[],this.states=[],this.stop()},this.fireUpdateEvent=function(c,a){var t={first:c,last:a};this._signal("update",{data:t})},this.start=function(c){this.currentLine=Math.min(c||0,this.currentLine,this.doc.getLength()),this.lines.splice(this.currentLine,this.lines.length),this.states.splice(this.currentLine,this.states.length),this.stop(),this.running=setTimeout(this.$worker,700)},this.scheduleStart=function(){this.running||(this.running=setTimeout(this.$worker,700))},this.$updateOnChange=function(c){var a=c.start.row,t=c.end.row-a;if(t===0)this.lines[a]=null;else if(c.action=="remove")this.lines.splice(a,t+1,null),this.states.splice(a,t+1,null);else{var e=Array(t+1);e.unshift(a,1),this.lines.splice.apply(this.lines,e),this.states.splice.apply(this.states,e)}this.currentLine=Math.min(a,this.currentLine,this.doc.getLength()),this.stop()},this.stop=function(){this.running&&clearTimeout(this.running),this.running=!1},this.getTokens=function(c){return this.lines[c]||this.$tokenizeRow(c)},this.getState=function(c){return this.currentLine==c&&this.$tokenizeRow(c),this.states[c]||"start"},this.$tokenizeRow=function(c){var a=this.doc.getLine(c),t=this.states[c-1],e=this.tokenizer.getLineTokens(a,t,c);return this.states[c]+""!=e.state+""?(this.states[c]=e.state,this.lines[c+1]=null,this.currentLine>c+1&&(this.currentLine=c+1)):this.currentLine==c&&(this.currentLine=c+1),this.lines[c]=e.tokens}}).call(d.prototype),T.BackgroundTokenizer=d}),define("ace/search_highlight",["require","exports","module","ace/lib/lang","ace/lib/oop","ace/range"],function(A,T,b){var E=A("./lib/lang");A("./lib/oop");var R=A("./range").Range,d=function(c,a,t){this.setRegexp(c),this.clazz=a,this.type=t||"text"};(function(){this.MAX_RANGES=500,this.setRegexp=function(c){this.regExp+""!=c+""&&(this.regExp=c,this.cache=[])},this.update=function(c,a,t,e){if(this.regExp)for(var n=e.firstRow,r=e.lastRow,i=n;i<=r;i++){var o=this.cache[i];o==null&&(o=E.getMatchOffsets(t.getLine(i),this.regExp),o.length>this.MAX_RANGES&&(o=o.slice(0,this.MAX_RANGES)),o=o.map(function(p){return new R(i,p.offset,i,p.offset+p.length)}),this.cache[i]=o.length?o:"");for(var h=o.length;h--;)a.drawSingleLineMarker(c,o[h].toScreenRange(t),this.clazz,e)}}}).call(d.prototype),T.SearchHighlight=d}),define("ace/edit_session/fold_line",["require","exports","module","ace/range"],function(A,T,b){function E(d,c){this.foldData=d,Array.isArray(c)?this.folds=c:c=this.folds=[c];var a=c[c.length-1];this.range=new R(c[0].start.row,c[0].start.column,a.end.row,a.end.column),this.start=this.range.start,this.end=this.range.end,this.folds.forEach(function(t){t.setFoldLine(this)},this)}var R=A("../range").Range;(function(){this.shiftRow=function(d){this.start.row+=d,this.end.row+=d,this.folds.forEach(function(c){c.start.row+=d,c.end.row+=d})},this.addFold=function(d){if(d.sameRow){if(d.start.row<this.startRow||d.endRow>this.endRow)throw new Error("Can't add a fold to this FoldLine as it has no connection");this.folds.push(d),this.folds.sort(function(c,a){return-c.range.compareEnd(a.start.row,a.start.column)}),this.range.compareEnd(d.start.row,d.start.column)>0?(this.end.row=d.end.row,this.end.column=d.end.column):this.range.compareStart(d.end.row,d.end.column)<0&&(this.start.row=d.start.row,this.start.column=d.start.column)}else if(d.start.row==this.end.row)this.folds.push(d),this.end.row=d.end.row,this.end.column=d.end.column;else{if(d.end.row!=this.start.row)throw new Error("Trying to add fold to FoldRow that doesn't have a matching row");this.folds.unshift(d),this.start.row=d.start.row,this.start.column=d.start.column}d.foldLine=this},this.containsRow=function(d){return d>=this.start.row&&d<=this.end.row},this.walk=function(d,c,a){var t=0,e=this.folds,n,r,i,o=!0;c==null&&(c=this.end.row,a=this.end.column);for(var h=0;h<e.length;h++){if(n=e[h],r=n.range.compareStart(c,a),r==-1){d(null,c,a,t,o);return}if(i=d(null,n.start.row,n.start.column,t,o),i=!i&&d(n.placeholder,n.start.row,n.start.column,t),i||r===0)return;o=!n.sameRow,t=n.end.column}d(null,c,a,t,o)},this.getNextFoldTo=function(d,c){for(var a,t,e=0;e<this.folds.length;e++){if(a=this.folds[e],t=a.range.compareEnd(d,c),t==-1)return{fold:a,kind:"after"};if(t===0)return{fold:a,kind:"inside"}}return null},this.addRemoveChars=function(d,c,a){var t=this.getNextFoldTo(d,c),e,n;if(t){if(e=t.fold,t.kind=="inside"&&e.start.column!=c&&e.start.row!=d)window.console&&window.console.log(d,c,e);else if(e.start.row==d){n=this.folds;var r=n.indexOf(e);for(r===0&&(this.start.column+=a),r;r<n.length;r++){if(e=n[r],e.start.column+=a,!e.sameRow)return;e.end.column+=a}this.end.column+=a}}},this.split=function(d,c){var a=this.getNextFoldTo(d,c);if(!a||a.kind=="inside")return null;var t=a.fold,e=this.folds,n=this.foldData,r=e.indexOf(t),i=e[r-1];this.end.row=i.end.row,this.end.column=i.end.column,e=e.splice(r,e.length-r);var o=new E(n,e);return n.splice(n.indexOf(this)+1,0,o),o},this.merge=function(d){for(var c=d.folds,a=0;a<c.length;a++)this.addFold(c[a]);var t=this.foldData;t.splice(t.indexOf(d),1)},this.toString=function(){var d=[this.range.toString()+": ["];return this.folds.forEach(function(c){d.push("  "+c.toString())}),d.push("]"),d.join(`
`)},this.idxToPosition=function(d){for(var c=0,a=0;a<this.folds.length;a++){var t=this.folds[a];if(d-=t.start.column-c,d<0)return{row:t.start.row,column:t.start.column+d};if(d-=t.placeholder.length,d<0)return t.start;c=t.end.column}return{row:this.end.row,column:this.end.column+d}}}).call(E.prototype),T.FoldLine=E}),define("ace/range_list",["require","exports","module","ace/range"],function(A,T,b){var E=A("./range").Range,R=E.comparePoints,d=function(){this.ranges=[],this.$bias=1};(function(){this.comparePoints=R,this.pointIndex=function(c,a,t){for(var e=this.ranges,n=t||0;n<e.length;n++){var r=e[n],i=R(c,r.end);if(!(i>0)){var o=R(c,r.start);return i===0?a&&o!==0?-n-2:n:o>0||o===0&&!a?n:-n-1}}return-n-1},this.add=function(c){var a=!c.isEmpty(),t=this.pointIndex(c.start,a);t<0&&(t=-t-1);var e=this.pointIndex(c.end,a,t);return e<0?e=-e-1:e++,this.ranges.splice(t,e-t,c)},this.addList=function(c){for(var a=[],t=c.length;t--;)a.push.apply(a,this.add(c[t]));return a},this.substractPoint=function(c){var a=this.pointIndex(c);if(a>=0)return this.ranges.splice(a,1)},this.merge=function(){var c=[],a=this.ranges;a=a.sort(function(i,o){return R(i.start,o.start)});for(var t=a[0],e,n=1;n<a.length;n++){e=t,t=a[n];var r=R(e.end,t.start);r<0||r==0&&!e.isEmpty()&&!t.isEmpty()||(R(e.end,t.end)<0&&(e.end.row=t.end.row,e.end.column=t.end.column),a.splice(n,1),c.push(t),t=e,n--)}return this.ranges=a,c},this.contains=function(c,a){return this.pointIndex({row:c,column:a})>=0},this.containsPoint=function(c){return this.pointIndex(c)>=0},this.rangeAtPoint=function(c){var a=this.pointIndex(c);if(a>=0)return this.ranges[a]},this.clipRows=function(c,a){var t=this.ranges;if(t[0].start.row>a||t[t.length-1].start.row<c)return[];var e=this.pointIndex({row:c,column:0});e<0&&(e=-e-1);var n=this.pointIndex({row:a,column:0},e);n<0&&(n=-n-1);for(var r=[],i=e;i<n;i++)r.push(t[i]);return r},this.removeAll=function(){return this.ranges.splice(0,this.ranges.length)},this.attach=function(c){this.session&&this.detach(),this.session=c,this.onChange=this.$onChange.bind(this),this.session.on("change",this.onChange)},this.detach=function(){this.session&&(this.session.removeListener("change",this.onChange),this.session=null)},this.$onChange=function(c){for(var a=c.start,t=c.end,e=a.row,n=t.row,r=this.ranges,i=0,o=r.length;i<o;i++){var h=r[i];if(h.end.row>=e)break}if(c.action=="insert")for(var p=n-e,y=-a.column+t.column;i<o;i++){var h=r[i];if(h.start.row>e)break;if(h.start.row==e&&h.start.column>=a.column&&(h.start.column==a.column&&this.$bias<=0||(h.start.column+=y,h.start.row+=p)),h.end.row==e&&h.end.column>=a.column){if(h.end.column==a.column&&this.$bias<0)continue;h.end.column==a.column&&y>0&&i<o-1&&h.end.column>h.start.column&&h.end.column==r[i+1].start.column&&(h.end.column-=y),h.end.column+=y,h.end.row+=p}}else for(var p=e-n,y=a.column-t.column;i<o;i++){var h=r[i];if(h.start.row>n)break;h.end.row<n&&(e<h.end.row||e==h.end.row&&a.column<h.end.column)?(h.end.row=e,h.end.column=a.column):h.end.row==n?h.end.column<=t.column?(p||h.end.column>a.column)&&(h.end.column=a.column,h.end.row=a.row):(h.end.column+=y,h.end.row+=p):h.end.row>n&&(h.end.row+=p),h.start.row<n&&(e<h.start.row||e==h.start.row&&a.column<h.start.column)?(h.start.row=e,h.start.column=a.column):h.start.row==n?h.start.column<=t.column?(p||h.start.column>a.column)&&(h.start.column=a.column,h.start.row=a.row):(h.start.column+=y,h.start.row+=p):h.start.row>n&&(h.start.row+=p)}if(p!=0&&i<o)for(;i<o;i++){var h=r[i];h.start.row+=p,h.end.row+=p}}}).call(d.prototype),T.RangeList=d}),define("ace/edit_session/fold",["require","exports","module","ace/range_list","ace/lib/oop"],function(A,T,b){function E(n,r){n.row-=r.row,n.row==0&&(n.column-=r.column)}function R(n,r){E(n.start,r),E(n.end,r)}function d(n,r){n.row==0&&(n.column+=r.column),n.row+=r.row}function c(n,r){d(n.start,r),d(n.end,r)}var a=A("../range_list").RangeList,t=A("../lib/oop"),e=T.Fold=function(n,r){this.foldLine=null,this.placeholder=r,this.range=n,this.start=n.start,this.end=n.end,this.sameRow=n.start.row==n.end.row,this.subFolds=this.ranges=[]};t.inherits(e,a),(function(){this.toString=function(){return'"'+this.placeholder+'" '+this.range.toString()},this.setFoldLine=function(n){this.foldLine=n,this.subFolds.forEach(function(r){r.setFoldLine(n)})},this.clone=function(){var n=this.range.clone(),r=new e(n,this.placeholder);return this.subFolds.forEach(function(i){r.subFolds.push(i.clone())}),r.collapseChildren=this.collapseChildren,r},this.addSubFold=function(n){if(!this.range.isEqual(n)){R(n,this.start);for(var p=n.start.row,y=n.start.column,r=0,i=-1;r<this.subFolds.length&&(i=this.subFolds[r].range.compare(p,y),i==1);r++);var o=this.subFolds[r],h=0;if(i==0){if(o.range.containsRange(n))return o.addSubFold(n);h=1}for(var p=n.range.end.row,y=n.range.end.column,L=r,i=-1;L<this.subFolds.length&&(i=this.subFolds[L].range.compare(p,y),i==1);L++);i==0&&L++;for(var m=this.subFolds.splice(r,L-r,n),s=i==0?m.length-1:m.length,g=h;g<s;g++)n.addSubFold(m[g]);return n.setFoldLine(this.foldLine),n}},this.restoreRange=function(n){return c(n,this.start)}}).call(e.prototype)}),define("ace/edit_session/folding",["require","exports","module","ace/range","ace/edit_session/fold_line","ace/edit_session/fold","ace/token_iterator"],function(A,T,b){function E(){this.getFoldAt=function(t,e,n){var r=this.getFoldLine(t);if(!r)return null;for(var i=r.folds,o=0;o<i.length;o++){var h=i[o].range;if(h.contains(t,e)){if(n==1&&h.isEnd(t,e)&&!h.isEmpty()||n==-1&&h.isStart(t,e)&&!h.isEmpty())continue;return i[o]}}},this.getFoldsInRange=function(t){var e=t.start,n=t.end,r=this.$foldData,i=[];e.column+=1,n.column-=1;for(var o=0;o<r.length;o++){var h=r[o].range.compareRange(t);if(h!=2){if(h==-2)break;for(var p=r[o].folds,y=0;y<p.length;y++){var L=p[y];if(h=L.range.compareRange(t),h==-2)break;if(h!=2){if(h==42)break;i.push(L)}}}}return e.column-=1,n.column+=1,i},this.getFoldsInRangeList=function(t){if(Array.isArray(t)){var e=[];t.forEach(function(r){e=e.concat(this.getFoldsInRange(r))},this)}else var e=this.getFoldsInRange(t);return e},this.getAllFolds=function(){for(var t=[],e=this.$foldData,n=0;n<e.length;n++)for(var r=0;r<e[n].folds.length;r++)t.push(e[n].folds[r]);return t},this.getFoldStringAt=function(t,e,n,r){if(r=r||this.getFoldLine(t),!r)return null;for(var i={end:{column:0}},o,h,p=0;p<r.folds.length;p++){h=r.folds[p];var y=h.range.compareEnd(t,e);if(y==-1){o=this.getLine(h.start.row).substring(i.end.column,h.start.column);break}if(y===0)return null;i=h}return o||(o=this.getLine(h.start.row).substring(i.end.column)),n==-1?o.substring(0,e-i.end.column):n==1?o.substring(e-i.end.column):o},this.getFoldLine=function(t,e){var n=this.$foldData,r=0;for(e&&(r=n.indexOf(e)),r==-1&&(r=0),r;r<n.length;r++){var i=n[r];if(i.start.row<=t&&i.end.row>=t)return i;if(i.end.row>t)return null}return null},this.getNextFoldLine=function(t,e){var n=this.$foldData,r=0;for(e&&(r=n.indexOf(e)),r==-1&&(r=0),r;r<n.length;r++){var i=n[r];if(i.end.row>=t)return i}return null},this.getFoldedRowCount=function(t,e){for(var n=this.$foldData,r=e-t+1,i=0;i<n.length;i++){var o=n[i],h=o.end.row,p=o.start.row;if(h>=e){p<e&&(p>=t?r-=e-p:r=0);break}h>=t&&(p>=t?r-=h-p:r-=h-t+1)}return r},this.$addFoldLine=function(t){return this.$foldData.push(t),this.$foldData.sort(function(e,n){return e.start.row-n.start.row}),t},this.addFold=function(t,e){var n=this.$foldData,r=!1,i;t instanceof c?i=t:(i=new c(e,t),i.collapseChildren=e.collapseChildren),this.$clipRangeToDocument(i.range);var o=i.start.row,h=i.start.column,p=i.end.row,y=i.end.column,L=this.getFoldAt(o,h,1),m=this.getFoldAt(p,y,-1);if(L&&m==L)return L.addSubFold(i);L&&!L.range.isStart(o,h)&&this.removeFold(L),m&&!m.range.isEnd(p,y)&&this.removeFold(m);var s=this.getFoldsInRange(i.range);s.length>0&&(this.removeFolds(s),i.collapseChildren||s.forEach(function(v){i.addSubFold(v)}));for(var g=0;g<n.length;g++){var _=n[g];if(p==_.start.row){_.addFold(i),r=!0;break}if(o==_.end.row){if(_.addFold(i),r=!0,!i.sameRow){var f=n[g+1];if(f&&f.start.row==p){_.merge(f);break}}break}if(p<=_.start.row)break}return r||(_=this.$addFoldLine(new d(this.$foldData,i))),this.$useWrapMode?this.$updateWrapData(_.start.row,_.start.row):this.$updateRowLengthCache(_.start.row,_.start.row),this.$modified=!0,this._signal("changeFold",{data:i,action:"add"}),i},this.addFolds=function(t){t.forEach(function(e){this.addFold(e)},this)},this.removeFold=function(t){var e=t.foldLine,n=e.start.row,r=e.end.row,i=this.$foldData,o=e.folds;if(o.length==1)i.splice(i.indexOf(e),1);else if(e.range.isEnd(t.end.row,t.end.column))o.pop(),e.end.row=o[o.length-1].end.row,e.end.column=o[o.length-1].end.column;else if(e.range.isStart(t.start.row,t.start.column))o.shift(),e.start.row=o[0].start.row,e.start.column=o[0].start.column;else if(t.sameRow)o.splice(o.indexOf(t),1);else{var h=e.split(t.start.row,t.start.column);o=h.folds,o.shift(),h.start.row=o[0].start.row,h.start.column=o[0].start.column}this.$updating||(this.$useWrapMode?this.$updateWrapData(n,r):this.$updateRowLengthCache(n,r)),this.$modified=!0,this._signal("changeFold",{data:t,action:"remove"})},this.removeFolds=function(t){for(var e=[],n=0;n<t.length;n++)e.push(t[n]);e.forEach(function(r){this.removeFold(r)},this),this.$modified=!0},this.expandFold=function(t){this.removeFold(t),t.subFolds.forEach(function(e){t.restoreRange(e),this.addFold(e)},this),t.collapseChildren>0&&this.foldAll(t.start.row+1,t.end.row,t.collapseChildren-1),t.subFolds=[]},this.expandFolds=function(t){t.forEach(function(e){this.expandFold(e)},this)},this.unfold=function(t,e){var n,r;if(t==null?(n=new R(0,0,this.getLength(),0),e==null&&(e=!0)):typeof t=="number"?n=new R(t,0,t,this.getLine(t).length):"row"in t?n=R.fromPoints(t,t):n=t,r=this.getFoldsInRangeList(n),e!=0?this.removeFolds(r):this.expandFolds(r),r.length)return r},this.isRowFolded=function(t,e){return!!this.getFoldLine(t,e)},this.getRowFoldEnd=function(t,e){var n=this.getFoldLine(t,e);return n?n.end.row:t},this.getRowFoldStart=function(t,e){var n=this.getFoldLine(t,e);return n?n.start.row:t},this.getFoldDisplayLine=function(t,e,n,r,i){r==null&&(r=t.start.row),i==null&&(i=0),e==null&&(e=t.end.row),n==null&&(n=this.getLine(e).length);var o=this.doc,h="";return t.walk(function(p,y,L,m){if(!(y<r)){if(y==r){if(L<i)return;m=Math.max(i,m)}p!=null?h+=p:h+=o.getLine(y).substring(m,L)}},e,n),h},this.getDisplayLine=function(t,e,n,r){var i=this.getFoldLine(t);if(!i){var o;return o=this.doc.getLine(t),o.substring(r||0,e||o.length)}return this.getFoldDisplayLine(i,t,e,n,r)},this.$cloneFoldData=function(){var t=[];return t=this.$foldData.map(function(e){var n=e.folds.map(function(r){return r.clone()});return new d(t,n)}),t},this.toggleFold=function(t){var e=this.selection,n=e.getRange(),r,i;if(n.isEmpty()){var o=n.start;if(r=this.getFoldAt(o.row,o.column),r){this.expandFold(r);return}(i=this.findMatchingBracket(o))?n.comparePoint(i)==1?n.end=i:(n.start=i,n.start.column++,n.end.column--):(i=this.findMatchingBracket({row:o.row,column:o.column+1}))?(n.comparePoint(i)==1?n.end=i:n.start=i,n.start.column++):n=this.getCommentFoldRange(o.row,o.column)||n}else{var h=this.getFoldsInRange(n);if(t&&h.length){this.expandFolds(h);return}h.length==1&&(r=h[0])}if(r||(r=this.getFoldAt(n.start.row,n.start.column)),r&&r.range.toString()==n.toString()){this.expandFold(r);return}var p="...";if(!n.isMultiLine()){if(p=this.getTextRange(n),p.length<4)return;p=p.trim().substring(0,2)+".."}this.addFold(p,n)},this.getCommentFoldRange=function(t,e,n){var r=new a(this,t,e),i=r.getCurrentToken(),o=i&&i.type;if(i&&/^comment|string/.test(o)){o=o.match(/comment|string/)[0],o=="comment"&&(o+="|doc-start");var h=new RegExp(o),p=new R;if(n!=1){do i=r.stepBackward();while(i&&h.test(i.type));r.stepForward()}if(p.start.row=r.getCurrentTokenRow(),p.start.column=r.getCurrentTokenColumn()+2,r=new a(this,t,e),n!=-1){var y=-1;do if(i=r.stepForward(),y==-1){var L=this.getState(r.$row);h.test(L)||(y=r.$row)}else if(r.$row>y)break;while(i&&h.test(i.type));i=r.stepBackward()}else i=r.getCurrentToken();return p.end.row=r.getCurrentTokenRow(),p.end.column=r.getCurrentTokenColumn()+i.value.length-2,p}},this.foldAll=function(t,e,n,r){n==null&&(n=1e5);var i=this.foldWidgets;if(i){e=e||this.getLength(),t=t||0;for(var o=t;o<e;o++)if(i[o]==null&&(i[o]=this.getFoldWidget(o)),i[o]=="start"&&!(r&&!r(o))){var h=this.getFoldWidgetRange(o);h&&h.isMultiLine()&&h.end.row<=e&&h.start.row>=t&&(o=h.end.row,h.collapseChildren=n,this.addFold("...",h))}}},this.foldToLevel=function(t){for(this.foldAll();t-- >0;)this.unfold(null,!1)},this.foldAllComments=function(){var t=this;this.foldAll(null,null,null,function(e){for(var n=t.getTokens(e),r=0;r<n.length;r++){var i=n[r];if(!(i.type=="text"&&/^\s+$/.test(i.value)))return!!/comment/.test(i.type)}})},this.$foldStyles={manual:1,markbegin:1,markbeginend:1},this.$foldStyle="markbegin",this.setFoldStyle=function(t){if(!this.$foldStyles[t])throw new Error("invalid fold style: "+t+"["+Object.keys(this.$foldStyles).join(", ")+"]");if(this.$foldStyle!=t){this.$foldStyle=t,t=="manual"&&this.unfold();var e=this.$foldMode;this.$setFolding(null),this.$setFolding(e)}},this.$setFolding=function(t){if(this.$foldMode!=t){if(this.$foldMode=t,this.off("change",this.$updateFoldWidgets),this.off("tokenizerUpdate",this.$tokenizerUpdateFoldWidgets),this._signal("changeAnnotation"),!t||this.$foldStyle=="manual"){this.foldWidgets=null;return}this.foldWidgets=[],this.getFoldWidget=t.getFoldWidget.bind(t,this,this.$foldStyle),this.getFoldWidgetRange=t.getFoldWidgetRange.bind(t,this,this.$foldStyle),this.$updateFoldWidgets=this.updateFoldWidgets.bind(this),this.$tokenizerUpdateFoldWidgets=this.tokenizerUpdateFoldWidgets.bind(this),this.on("change",this.$updateFoldWidgets),this.on("tokenizerUpdate",this.$tokenizerUpdateFoldWidgets)}},this.getParentFoldRangeData=function(t,e){var n=this.foldWidgets;if(!n||e&&n[t])return{};for(var r=t-1,i;r>=0;){var o=n[r];if(o==null&&(o=n[r]=this.getFoldWidget(r)),o=="start"){var h=this.getFoldWidgetRange(r);if(i||(i=h),h&&h.end.row>=t)break}r--}return{range:r!==-1&&h,firstRange:i}},this.onFoldWidgetClick=function(t,e){e=e.domEvent;var n={children:e.shiftKey,all:e.ctrlKey||e.metaKey,siblings:e.altKey},r=this.$toggleFoldWidget(t,n);if(!r){var i=e.target||e.srcElement;i&&/ace_fold-widget/.test(i.className)&&(i.className+=" ace_invalid")}},this.$toggleFoldWidget=function(t,e){if(this.getFoldWidget){var n=this.getFoldWidget(t),r=this.getLine(t),i=n==="end"?-1:1,o=this.getFoldAt(t,i===-1?0:r.length,i);if(o)return e.children||e.all?this.removeFold(o):this.expandFold(o),o;var h=this.getFoldWidgetRange(t,!0);if(h&&!h.isMultiLine()&&(o=this.getFoldAt(h.start.row,h.start.column,1),o&&h.isEqual(o.range)))return this.removeFold(o),o;if(e.siblings){var p=this.getParentFoldRangeData(t);if(p.range)var y=p.range.start.row+1,L=p.range.end.row;this.foldAll(y,L,e.all?1e4:0)}else e.children?(L=h?h.end.row:this.getLength(),this.foldAll(t+1,L,e.all?1e4:0)):h&&(e.all&&(h.collapseChildren=1e4),this.addFold("...",h));return h}},this.toggleFoldWidget=function(t){var e=this.selection.getCursor().row;e=this.getRowFoldStart(e);var n=this.$toggleFoldWidget(e,{});if(!n){var r=this.getParentFoldRangeData(e,!0);if(n=r.range||r.firstRange,n){e=n.start.row;var i=this.getFoldAt(e,this.getLine(e).length,1);i?this.removeFold(i):this.addFold("...",n)}}},this.updateFoldWidgets=function(t){var e=t.start.row,n=t.end.row-e;if(n===0)this.foldWidgets[e]=null;else if(t.action=="remove")this.foldWidgets.splice(e,n+1,null);else{var r=Array(n+1);r.unshift(e,1),this.foldWidgets.splice.apply(this.foldWidgets,r)}},this.tokenizerUpdateFoldWidgets=function(t){var e=t.data;e.first!=e.last&&this.foldWidgets.length>e.first&&this.foldWidgets.splice(e.first,this.foldWidgets.length)}}var R=A("../range").Range,d=A("./fold_line").FoldLine,c=A("./fold").Fold,a=A("../token_iterator").TokenIterator;T.Folding=E}),define("ace/edit_session/bracket_match",["require","exports","module","ace/token_iterator","ace/range"],function(A,T,b){function E(){this.findMatchingBracket=function(c,a){if(c.column==0)return null;var t=a||this.getLine(c.row).charAt(c.column-1);if(t=="")return null;var e=t.match(/([\(\[\{])|([\)\]\}])/);return e?e[1]?this.$findClosingBracket(e[1],c):this.$findOpeningBracket(e[2],c):null},this.getBracketRange=function(c){var a=this.getLine(c.row),t=!0,e,n=a.charAt(c.column-1),r=n&&n.match(/([\(\[\{])|([\)\]\}])/);if(r||(n=a.charAt(c.column),c={row:c.row,column:c.column+1},r=n&&n.match(/([\(\[\{])|([\)\]\}])/),t=!1),!r)return null;if(r[1]){var i=this.$findClosingBracket(r[1],c);if(!i)return null;e=d.fromPoints(c,i),t||(e.end.column++,e.start.column--),e.cursor=e.end}else{var i=this.$findOpeningBracket(r[2],c);if(!i)return null;e=d.fromPoints(i,c),t||(e.start.column++,e.end.column--),e.cursor=e.start}return e},this.getMatchingBracketRanges=function(c){var a=this.getLine(c.row),t=a.charAt(c.column-1),e=t&&t.match(/([\(\[\{])|([\)\]\}])/);if(e||(t=a.charAt(c.column),c={row:c.row,column:c.column+1},e=t&&t.match(/([\(\[\{])|([\)\]\}])/)),!e)return null;var n=new d(c.row,c.column-1,c.row,c.column),r=e[1]?this.$findClosingBracket(e[1],c):this.$findOpeningBracket(e[2],c);if(!r)return[n];var i=new d(r.row,r.column,r.row,r.column+1);return[n,i]},this.$brackets={")":"(","(":")","]":"[","[":"]","{":"}","}":"{","<":">",">":"<"},this.$findOpeningBracket=function(c,a,t){var e=this.$brackets[c],n=1,r=new R(this,a.row,a.column),i=r.getCurrentToken();if(i||(i=r.stepForward()),!!i){t||(t=new RegExp("(\\.?"+i.type.replace(".","\\.").replace("rparen",".paren").replace(/\b(?:end)\b/,"(?:start|begin|end)")+")+"));for(var o=a.column-r.getCurrentTokenColumn()-2,h=i.value;;){for(;o>=0;){var p=h.charAt(o);if(p==e){if(n-=1,n==0)return{row:r.getCurrentTokenRow(),column:o+r.getCurrentTokenColumn()}}else p==c&&(n+=1);o-=1}do i=r.stepBackward();while(i&&!t.test(i.type));if(i==null)break;h=i.value,o=h.length-1}return null}},this.$findClosingBracket=function(c,a,t){var e=this.$brackets[c],n=1,r=new R(this,a.row,a.column),i=r.getCurrentToken();if(i||(i=r.stepForward()),!!i){t||(t=new RegExp("(\\.?"+i.type.replace(".","\\.").replace("lparen",".paren").replace(/\b(?:start|begin)\b/,"(?:start|begin|end)")+")+"));for(var o=a.column-r.getCurrentTokenColumn();;){for(var h=i.value,p=h.length;o<p;){var y=h.charAt(o);if(y==e){if(n-=1,n==0)return{row:r.getCurrentTokenRow(),column:o+r.getCurrentTokenColumn()}}else y==c&&(n+=1);o+=1}do i=r.stepForward();while(i&&!t.test(i.type));if(i==null)break;o=0}return null}}}var R=A("../token_iterator").TokenIterator,d=A("../range").Range;T.BracketMatch=E}),define("ace/edit_session",["require","exports","module","ace/lib/oop","ace/lib/lang","ace/bidihandler","ace/config","ace/lib/event_emitter","ace/selection","ace/mode/text","ace/range","ace/document","ace/background_tokenizer","ace/search_highlight","ace/edit_session/folding","ace/edit_session/bracket_match"],function(A,T,b){var E=A("./lib/oop"),R=A("./lib/lang"),d=A("./bidihandler").BidiHandler,c=A("./config"),a=A("./lib/event_emitter").EventEmitter,t=A("./selection").Selection,e=A("./mode/text").Mode,n=A("./range").Range,r=A("./document").Document,i=A("./background_tokenizer").BackgroundTokenizer,o=A("./search_highlight").SearchHighlight,h=function(p,y){this.$breakpoints=[],this.$decorations=[],this.$frontMarkers={},this.$backMarkers={},this.$markerId=1,this.$undoSelect=!0,this.$foldData=[],this.id="session"+ ++h.$uid,this.$foldData.toString=function(){return this.join(`
`)},this.on("changeFold",this.onChangeFold.bind(this)),this.$onChange=this.onChange.bind(this),(typeof p!="object"||!p.getLine)&&(p=new r(p)),this.setDocument(p),this.selection=new t(this),this.$bidiHandler=new d(this),c.resetOptions(this),this.setMode(y),c._signal("session",this)};h.$uid=0,(function(){function p(l){return l<4352?!1:l>=4352&&l<=4447||l>=4515&&l<=4519||l>=4602&&l<=4607||l>=9001&&l<=9002||l>=11904&&l<=11929||l>=11931&&l<=12019||l>=12032&&l<=12245||l>=12272&&l<=12283||l>=12288&&l<=12350||l>=12353&&l<=12438||l>=12441&&l<=12543||l>=12549&&l<=12589||l>=12593&&l<=12686||l>=12688&&l<=12730||l>=12736&&l<=12771||l>=12784&&l<=12830||l>=12832&&l<=12871||l>=12880&&l<=13054||l>=13056&&l<=19903||l>=19968&&l<=42124||l>=42128&&l<=42182||l>=43360&&l<=43388||l>=44032&&l<=55203||l>=55216&&l<=55238||l>=55243&&l<=55291||l>=63744&&l<=64255||l>=65040&&l<=65049||l>=65072&&l<=65106||l>=65108&&l<=65126||l>=65128&&l<=65131||l>=65281&&l<=65376||l>=65504&&l<=65510}E.implement(this,a),this.setDocument=function(l){this.doc&&this.doc.removeListener("change",this.$onChange),this.doc=l,l.on("change",this.$onChange),this.bgTokenizer&&this.bgTokenizer.setDocument(this.getDocument()),this.resetCaches()},this.getDocument=function(){return this.doc},this.$resetRowCache=function(l){if(!l){this.$docRowCache=[],this.$screenRowCache=[];return}var w=this.$docRowCache.length,k=this.$getRowCacheIndex(this.$docRowCache,l)+1;w>k&&(this.$docRowCache.splice(k,w),this.$screenRowCache.splice(k,w))},this.$getRowCacheIndex=function(l,w){for(var k=0,F=l.length-1;k<=F;){var x=k+F>>1,N=l[x];if(w>N)k=x+1;else{if(!(w<N))return x;F=x-1}}return k-1},this.resetCaches=function(){this.$modified=!0,this.$wrapData=[],this.$rowLengthCache=[],this.$resetRowCache(0),this.bgTokenizer&&this.bgTokenizer.start(0)},this.onChangeFold=function(l){var w=l.data;this.$resetRowCache(w.start.row)},this.onChange=function(l){this.$modified=!0,this.$bidiHandler.onChange(l),this.$resetRowCache(l.start.row);var w=this.$updateInternalDataOnChange(l);!this.$fromUndo&&this.$undoManager&&(w&&w.length&&(this.$undoManager.add({action:"removeFolds",folds:w},this.mergeUndoDeltas),this.mergeUndoDeltas=!0),this.$undoManager.add(l,this.mergeUndoDeltas),this.mergeUndoDeltas=!0,this.$informUndoManager.schedule()),this.bgTokenizer&&this.bgTokenizer.$updateOnChange(l),this._signal("change",l)},this.setValue=function(l){this.doc.setValue(l),this.selection.moveTo(0,0),this.$resetRowCache(0),this.setUndoManager(this.$undoManager),this.getUndoManager().reset()},this.getValue=this.toString=function(){return this.doc.getValue()},this.getSelection=function(){return this.selection},this.getState=function(l){return this.bgTokenizer.getState(l)},this.getTokens=function(l){return this.bgTokenizer.getTokens(l)},this.getTokenAt=function(l,w){var k=this.bgTokenizer.getTokens(l),F,x=0;if(w==null){var N=k.length-1;x=this.getLine(l).length}else for(var N=0;N<k.length&&(x+=k[N].value.length,!(x>=w));N++);return F=k[N],F?(F.index=N,F.start=x-F.value.length,F):null},this.setUndoManager=function(l){if(this.$undoManager=l,this.$informUndoManager&&this.$informUndoManager.cancel(),l){var w=this;l.addSession(this),this.$syncInformUndoManager=function(){w.$informUndoManager.cancel(),w.mergeUndoDeltas=!1},this.$informUndoManager=R.delayedCall(this.$syncInformUndoManager)}else this.$syncInformUndoManager=function(){}},this.markUndoGroup=function(){this.$syncInformUndoManager&&this.$syncInformUndoManager()},this.$defaultUndoManager={undo:function(){},redo:function(){},hasUndo:function(){},hasRedo:function(){},reset:function(){},add:function(){},addSelection:function(){},startNewGroup:function(){},addSession:function(){}},this.getUndoManager=function(){return this.$undoManager||this.$defaultUndoManager},this.getTabString=function(){return this.getUseSoftTabs()?R.stringRepeat(" ",this.getTabSize()):"	"},this.setUseSoftTabs=function(l){this.setOption("useSoftTabs",l)},this.getUseSoftTabs=function(){return this.$useSoftTabs&&!this.$mode.$indentWithTabs},this.setTabSize=function(l){this.setOption("tabSize",l)},this.getTabSize=function(){return this.$tabSize},this.isTabStop=function(l){return this.$useSoftTabs&&l.column%this.$tabSize===0},this.setNavigateWithinSoftTabs=function(l){this.setOption("navigateWithinSoftTabs",l)},this.getNavigateWithinSoftTabs=function(){return this.$navigateWithinSoftTabs},this.$overwrite=!1,this.setOverwrite=function(l){this.setOption("overwrite",l)},this.getOverwrite=function(){return this.$overwrite},this.toggleOverwrite=function(){this.setOverwrite(!this.$overwrite)},this.addGutterDecoration=function(l,w){this.$decorations[l]||(this.$decorations[l]=""),this.$decorations[l]+=" "+w,this._signal("changeBreakpoint",{})},this.removeGutterDecoration=function(l,w){this.$decorations[l]=(this.$decorations[l]||"").replace(" "+w,""),this._signal("changeBreakpoint",{})},this.getBreakpoints=function(){return this.$breakpoints},this.setBreakpoints=function(l){this.$breakpoints=[];for(var w=0;w<l.length;w++)this.$breakpoints[l[w]]="ace_breakpoint";this._signal("changeBreakpoint",{})},this.clearBreakpoints=function(){this.$breakpoints=[],this._signal("changeBreakpoint",{})},this.setBreakpoint=function(l,w){w===void 0&&(w="ace_breakpoint"),w?this.$breakpoints[l]=w:delete this.$breakpoints[l],this._signal("changeBreakpoint",{})},this.clearBreakpoint=function(l){delete this.$breakpoints[l],this._signal("changeBreakpoint",{})},this.addMarker=function(l,w,k,F){var x=this.$markerId++,N={range:l,type:k||"line",renderer:typeof k=="function"?k:null,clazz:w,inFront:!!F,id:x};return F?(this.$frontMarkers[x]=N,this._signal("changeFrontMarker")):(this.$backMarkers[x]=N,this._signal("changeBackMarker")),x},this.addDynamicMarker=function(l,w){if(l.update){var k=this.$markerId++;return l.id=k,l.inFront=!!w,w?(this.$frontMarkers[k]=l,this._signal("changeFrontMarker")):(this.$backMarkers[k]=l,this._signal("changeBackMarker")),l}},this.removeMarker=function(l){var w=this.$frontMarkers[l]||this.$backMarkers[l];if(w){var k=w.inFront?this.$frontMarkers:this.$backMarkers;delete k[l],this._signal(w.inFront?"changeFrontMarker":"changeBackMarker")}},this.getMarkers=function(l){return l?this.$frontMarkers:this.$backMarkers},this.highlight=function(l){if(!this.$searchHighlight){var w=new o(null,"ace_selected-word","text");this.$searchHighlight=this.addDynamicMarker(w)}this.$searchHighlight.setRegexp(l)},this.highlightLines=function(l,w,k,F){typeof w!="number"&&(k=w,w=l),k||(k="ace_step");var x=new n(l,0,w,1/0);return x.id=this.addMarker(x,k,"fullLine",F),x},this.setAnnotations=function(l){this.$annotations=l,this._signal("changeAnnotation",{})},this.getAnnotations=function(){return this.$annotations||[]},this.clearAnnotations=function(){this.setAnnotations([])},this.$detectNewLine=function(l){var w=l.match(/^.*?(\r?\n)/m);w?this.$autoNewLine=w[1]:this.$autoNewLine=`
`},this.getWordRange=function(l,w){var k=this.getLine(l),F=!1;if(w>0&&(F=!!k.charAt(w-1).match(this.tokenRe)),F||(F=!!k.charAt(w).match(this.tokenRe)),F)var x=this.tokenRe;else if(/^\s+$/.test(k.slice(w-1,w+1)))var x=/\s/;else var x=this.nonTokenRe;var N=w;if(N>0){do N--;while(N>=0&&k.charAt(N).match(x));N++}for(var G=w;G<k.length&&k.charAt(G).match(x);)G++;return new n(l,N,l,G)},this.getAWordRange=function(l,w){for(var k=this.getWordRange(l,w),F=this.getLine(k.end.row);F.charAt(k.end.column).match(/[ \t]/);)k.end.column+=1;return k},this.setNewLineMode=function(l){this.doc.setNewLineMode(l)},this.getNewLineMode=function(){return this.doc.getNewLineMode()},this.setUseWorker=function(l){this.setOption("useWorker",l)},this.getUseWorker=function(){return this.$useWorker},this.onReloadTokenizer=function(l){var w=l.data;this.bgTokenizer.start(w.first),this._signal("tokenizerUpdate",l)},this.$modes=c.$modes,this.$mode=null,this.$modeId=null,this.setMode=function(l,w){if(l&&typeof l=="object"){if(l.getTokenizer)return this.$onChangeMode(l);var k=l,F=k.path}else F=l||"ace/mode/text";if(this.$modes["ace/mode/text"]||(this.$modes["ace/mode/text"]=new e),this.$modes[F]&&!k){this.$onChangeMode(this.$modes[F]),w&&w();return}this.$modeId=F,c.loadModule(["mode",F],(function(x){if(this.$modeId!==F)return w&&w();this.$modes[F]&&!k?this.$onChangeMode(this.$modes[F]):x&&x.Mode&&(x=new x.Mode(k),k||(this.$modes[F]=x,x.$id=F),this.$onChangeMode(x)),w&&w()}).bind(this)),this.$mode||this.$onChangeMode(this.$modes["ace/mode/text"],!0)},this.$onChangeMode=function(l,w){if(w||(this.$modeId=l.$id),this.$mode!==l){var k=this.$mode;this.$mode=l,this.$stopWorker(),this.$useWorker&&this.$startWorker();var F=l.getTokenizer();if(F.on!==void 0){var x=this.onReloadTokenizer.bind(this);F.on("update",x)}if(this.bgTokenizer)this.bgTokenizer.setTokenizer(F);else{this.bgTokenizer=new i(F);var N=this;this.bgTokenizer.on("update",function(G){N._signal("tokenizerUpdate",G)})}this.bgTokenizer.setDocument(this.getDocument()),this.tokenRe=l.tokenRe,this.nonTokenRe=l.nonTokenRe,w||(l.attachToSession&&l.attachToSession(this),this.$options.wrapMethod.set.call(this,this.$wrapMethod),this.$setFolding(l.foldingRules),this.bgTokenizer.start(0),this._emit("changeMode",{oldMode:k,mode:l}))}},this.$stopWorker=function(){this.$worker&&(this.$worker.terminate(),this.$worker=null)},this.$startWorker=function(){try{this.$worker=this.$mode.createWorker(this)}catch(l){c.warn("Could not load worker",l),this.$worker=null}},this.getMode=function(){return this.$mode},this.$scrollTop=0,this.setScrollTop=function(l){this.$scrollTop===l||isNaN(l)||(this.$scrollTop=l,this._signal("changeScrollTop",l))},this.getScrollTop=function(){return this.$scrollTop},this.$scrollLeft=0,this.setScrollLeft=function(l){this.$scrollLeft===l||isNaN(l)||(this.$scrollLeft=l,this._signal("changeScrollLeft",l))},this.getScrollLeft=function(){return this.$scrollLeft},this.getScreenWidth=function(){return this.$computeWidth(),this.lineWidgets?Math.max(this.getLineWidgetMaxWidth(),this.screenWidth):this.screenWidth},this.getLineWidgetMaxWidth=function(){if(this.lineWidgetsWidth!=null)return this.lineWidgetsWidth;var l=0;return this.lineWidgets.forEach(function(w){w&&w.screenWidth>l&&(l=w.screenWidth)}),this.lineWidgetWidth=l},this.$computeWidth=function(l){if(this.$modified||l){if(this.$modified=!1,this.$useWrapMode)return this.screenWidth=this.$wrapLimit;for(var w=this.doc.getAllLines(),k=this.$rowLengthCache,F=0,x=0,N=this.$foldData[x],G=N?N.start.row:1/0,q=w.length,ne=0;ne<q;ne++){if(ne>G){if(ne=N.end.row+1,ne>=q)break;N=this.$foldData[x++],G=N?N.start.row:1/0}k[ne]==null&&(k[ne]=this.$getStringScreenWidth(w[ne])[0]),k[ne]>F&&(F=k[ne])}this.screenWidth=F}},this.getLine=function(l){return this.doc.getLine(l)},this.getLines=function(l,w){return this.doc.getLines(l,w)},this.getLength=function(){return this.doc.getLength()},this.getTextRange=function(l){return this.doc.getTextRange(l||this.selection.getRange())},this.insert=function(l,w){return this.doc.insert(l,w)},this.remove=function(l){return this.doc.remove(l)},this.removeFullLines=function(l,w){return this.doc.removeFullLines(l,w)},this.undoChanges=function(l,w){if(l.length){this.$fromUndo=!0;for(var k=l.length-1;k!=-1;k--){var F=l[k];F.action=="insert"||F.action=="remove"?this.doc.revertDelta(F):F.folds&&this.addFolds(F.folds)}!w&&this.$undoSelect&&(l.selectionBefore?this.selection.fromJSON(l.selectionBefore):this.selection.setRange(this.$getUndoSelection(l,!0))),this.$fromUndo=!1}},this.redoChanges=function(l,w){if(l.length){this.$fromUndo=!0;for(var k=0;k<l.length;k++){var F=l[k];(F.action=="insert"||F.action=="remove")&&this.doc.$safeApplyDelta(F)}!w&&this.$undoSelect&&(l.selectionAfter?this.selection.fromJSON(l.selectionAfter):this.selection.setRange(this.$getUndoSelection(l,!1))),this.$fromUndo=!1}},this.setUndoSelect=function(l){this.$undoSelect=l},this.$getUndoSelection=function(l,w){function k(q){return w?q.action!=="insert":q.action==="insert"}for(var F,x,N=0;N<l.length;N++){var G=l[N];if(G.start){if(!F){k(G)?F=n.fromPoints(G.start,G.end):F=n.fromPoints(G.start,G.start);continue}k(G)?(x=G.start,F.compare(x.row,x.column)==-1&&F.setStart(x),x=G.end,F.compare(x.row,x.column)==1&&F.setEnd(x)):(x=G.start,F.compare(x.row,x.column)==-1&&(F=n.fromPoints(G.start,G.start)))}}return F},this.replace=function(l,w){return this.doc.replace(l,w)},this.moveText=function(l,w,k){var F=this.getTextRange(l),x=this.getFoldsInRange(l),N=n.fromPoints(w,w);if(!k){this.remove(l);var G=l.start.row-l.end.row,q=G?-l.end.column:l.start.column-l.end.column;q&&(N.start.row==l.end.row&&N.start.column>l.end.column&&(N.start.column+=q),N.end.row==l.end.row&&N.end.column>l.end.column&&(N.end.column+=q)),G&&N.start.row>=l.end.row&&(N.start.row+=G,N.end.row+=G)}if(N.end=this.insert(N.start,F),x.length){var ne=l.start,X=N.start,G=X.row-ne.row,q=X.column-ne.column;this.addFolds(x.map(function(ee){return ee=ee.clone(),ee.start.row==ne.row&&(ee.start.column+=q),ee.end.row==ne.row&&(ee.end.column+=q),ee.start.row+=G,ee.end.row+=G,ee}))}return N},this.indentRows=function(l,w,k){k=k.replace(/\t/g,this.getTabString());for(var F=l;F<=w;F++)this.doc.insertInLine({row:F,column:0},k)},this.outdentRows=function(l){for(var w=l.collapseRows(),k=new n(0,0,0,0),F=this.getTabSize(),x=w.start.row;x<=w.end.row;++x){var N=this.getLine(x);k.start.row=x,k.end.row=x;for(var G=0;G<F&&N.charAt(G)==" ";++G);G<F&&N.charAt(G)=="	"?(k.start.column=G,k.end.column=G+1):(k.start.column=0,k.end.column=G),this.remove(k)}},this.$moveLines=function(l,w,k){if(l=this.getRowFoldStart(l),w=this.getRowFoldEnd(w),k<0){var F=this.getRowFoldStart(l+k);if(F<0)return 0;var x=F-l}else if(k>0){var F=this.getRowFoldEnd(w+k);if(F>this.doc.getLength()-1)return 0;var x=F-w}else{l=this.$clipRowToDocument(l),w=this.$clipRowToDocument(w);var x=w-l+1}var N=new n(l,0,w,Number.MAX_VALUE),G=this.getFoldsInRange(N).map(function(ne){return ne=ne.clone(),ne.start.row+=x,ne.end.row+=x,ne}),q=k==0?this.doc.getLines(l,w):this.doc.removeFullLines(l,w);return this.doc.insertFullLines(l+x,q),G.length&&this.addFolds(G),x},this.moveLinesUp=function(l,w){return this.$moveLines(l,w,-1)},this.moveLinesDown=function(l,w){return this.$moveLines(l,w,1)},this.duplicateLines=function(l,w){return this.$moveLines(l,w,0)},this.$clipRowToDocument=function(l){return Math.max(0,Math.min(l,this.doc.getLength()-1))},this.$clipColumnToRow=function(l,w){return w<0?0:Math.min(this.doc.getLine(l).length,w)},this.$clipPositionToDocument=function(l,w){if(w=Math.max(0,w),l<0)l=0,w=0;else{var k=this.doc.getLength();l>=k?(l=k-1,w=this.doc.getLine(k-1).length):w=Math.min(this.doc.getLine(l).length,w)}return{row:l,column:w}},this.$clipRangeToDocument=function(l){l.start.row<0?(l.start.row=0,l.start.column=0):l.start.column=this.$clipColumnToRow(l.start.row,l.start.column);var w=this.doc.getLength()-1;return l.end.row>w?(l.end.row=w,l.end.column=this.doc.getLine(w).length):l.end.column=this.$clipColumnToRow(l.end.row,l.end.column),l},this.$wrapLimit=80,this.$useWrapMode=!1,this.$wrapLimitRange={min:null,max:null},this.setUseWrapMode=function(l){if(l!=this.$useWrapMode){if(this.$useWrapMode=l,this.$modified=!0,this.$resetRowCache(0),l){var w=this.getLength();this.$wrapData=Array(w),this.$updateWrapData(0,w-1)}this._signal("changeWrapMode")}},this.getUseWrapMode=function(){return this.$useWrapMode},this.setWrapLimitRange=function(l,w){(this.$wrapLimitRange.min!==l||this.$wrapLimitRange.max!==w)&&(this.$wrapLimitRange={min:l,max:w},this.$modified=!0,this.$bidiHandler.markAsDirty(),this.$useWrapMode&&this._signal("changeWrapMode"))},this.adjustWrapLimit=function(l,w){var k=this.$wrapLimitRange;k.max<0&&(k={min:w,max:w});var F=this.$constrainWrapLimit(l,k.min,k.max);return F!=this.$wrapLimit&&F>1?(this.$wrapLimit=F,this.$modified=!0,this.$useWrapMode&&(this.$updateWrapData(0,this.getLength()-1),this.$resetRowCache(0),this._signal("changeWrapLimit")),!0):!1},this.$constrainWrapLimit=function(l,w,k){return w&&(l=Math.max(w,l)),k&&(l=Math.min(k,l)),l},this.getWrapLimit=function(){return this.$wrapLimit},this.setWrapLimit=function(l){this.setWrapLimitRange(l,l)},this.getWrapLimitRange=function(){return{min:this.$wrapLimitRange.min,max:this.$wrapLimitRange.max}},this.$updateInternalDataOnChange=function(l){var w=this.$useWrapMode,k=l.action,F=l.start,x=l.end,N=F.row,G=x.row,q=G-N,ne=null;if(this.$updating=!0,q!=0)if(k==="remove"){this[w?"$wrapData":"$rowLengthCache"].splice(N,q);var X=this.$foldData;ne=this.getFoldsInRange(l),this.removeFolds(ne);var j=this.getFoldLine(x.row),Y=0;if(j){j.addRemoveChars(x.row,x.column,F.column-x.column),j.shiftRow(-q);var ee=this.getFoldLine(N);ee&&ee!==j&&(ee.merge(j),j=ee),Y=X.indexOf(j)+1}for(Y;Y<X.length;Y++){var j=X[Y];j.start.row>=x.row&&j.shiftRow(-q)}G=N}else{var ie=Array(q);ie.unshift(N,0);var ae=w?this.$wrapData:this.$rowLengthCache;ae.splice.apply(ae,ie);var X=this.$foldData,j=this.getFoldLine(N),Y=0;if(j){var ce=j.range.compareInside(F.row,F.column);ce==0?(j=j.split(F.row,F.column),j&&(j.shiftRow(q),j.addRemoveChars(G,0,x.column-F.column))):ce==-1&&(j.addRemoveChars(N,0,x.column-F.column),j.shiftRow(q)),Y=X.indexOf(j)+1}for(Y;Y<X.length;Y++){var j=X[Y];j.start.row>=N&&j.shiftRow(q)}}else{q=Math.abs(l.start.column-l.end.column),k==="remove"&&(ne=this.getFoldsInRange(l),this.removeFolds(ne),q=-q);var j=this.getFoldLine(N);j&&j.addRemoveChars(N,F.column,q)}return w&&this.$wrapData.length!=this.doc.getLength()&&console.error("doc.getLength() and $wrapData.length have to be the same!"),this.$updating=!1,w?this.$updateWrapData(N,G):this.$updateRowLengthCache(N,G),ne},this.$updateRowLengthCache=function(l,w,k){this.$rowLengthCache[l]=null,this.$rowLengthCache[w]=null},this.$updateWrapData=function(l,w){var k=this.doc.getAllLines(),F=this.getTabSize(),x=this.$wrapData,N=this.$wrapLimit,G,q,ne=l;for(w=Math.min(w,k.length-1);ne<=w;)q=this.getFoldLine(ne,q),q?(G=[],q.walk((function(X,j,Y,ee){var ie;if(X!=null){ie=this.$getDisplayTokens(X,G.length),ie[0]=m;for(var ae=1;ae<ie.length;ae++)ie[ae]=s}else ie=this.$getDisplayTokens(k[j].substring(ee,Y),G.length);G=G.concat(ie)}).bind(this),q.end.row,k[q.end.row].length+1),x[q.start.row]=this.$computeWrapSplits(G,N,F),ne=q.end.row+1):(G=this.$getDisplayTokens(k[ne]),x[ne]=this.$computeWrapSplits(G,N,F),ne++)};var y=1,L=2,m=3,s=4,g=9,_=10,f=11,v=12;this.$computeWrapSplits=function(l,w,k){function F(){var ce=0;if(Y===0)return ce;if(j)for(var ye=0;ye<l.length;ye++){var me=l[ye];if(me==_)ce+=1;else{if(me!=f){if(me==v)continue;break}ce+=k}}return X&&j!==!1&&(ce+=k),Math.min(ce,Y)}function x(ce){for(var ye=ce-q,me=q;me<ce;me++){var Se=l[me];(Se===12||Se===2)&&(ye-=1)}N.length||(ee=F(),N.indent=ee),ne+=ye,N.push(ne),q=ce}if(l.length==0)return[];for(var N=[],G=l.length,q=0,ne=0,X=this.$wrapAsCode,j=this.$indentedSoftWrap,Y=w<=Math.max(2*k,8)||j===!1?0:Math.floor(w/2),ee=0;G-q>w-ee;){var ie=q+w-ee;if(l[ie-1]>=_&&l[ie]>=_){x(ie);continue}if(l[ie]==m||l[ie]==s){for(ie;ie!=q-1&&l[ie]!=m;ie--);if(ie>q){x(ie);continue}for(ie=q+w,ie;ie<l.length&&l[ie]==s;ie++);if(ie==l.length)break;x(ie);continue}for(var ae=Math.max(ie-(w-(w>>2)),q-1);ie>ae&&l[ie]<m;)ie--;if(X){for(;ie>ae&&l[ie]<m;)ie--;for(;ie>ae&&l[ie]==g;)ie--}else for(;ie>ae&&l[ie]<_;)ie--;if(ie>ae){x(++ie);continue}ie=q+w,l[ie]==L&&ie--,x(ie-ee)}return N},this.$getDisplayTokens=function(l,w){var k=[],F;w=w||0;for(var x=0;x<l.length;x++){var N=l.charCodeAt(x);if(N==9){F=this.getScreenTabSize(k.length+w),k.push(f);for(var G=1;G<F;G++)k.push(v)}else N==32?k.push(_):N>39&&N<48||N>57&&N<64?k.push(g):N>=4352&&p(N)?k.push(y,L):k.push(y)}return k},this.$getStringScreenWidth=function(l,w,k){if(w==0)return[0,0];w==null&&(w=1/0),k=k||0;var F,x;for(x=0;x<l.length&&(F=l.charCodeAt(x),F==9?k+=this.getScreenTabSize(k):F>=4352&&p(F)?k+=2:k+=1,!(k>w));x++);return[k,x]},this.lineWidgets=null,this.getRowLength=function(l){var w=1;return this.lineWidgets&&(w+=this.lineWidgets[l]&&this.lineWidgets[l].rowCount||0),!this.$useWrapMode||!this.$wrapData[l]?w:this.$wrapData[l].length+w},this.getRowLineCount=function(l){return!this.$useWrapMode||!this.$wrapData[l]?1:this.$wrapData[l].length+1},this.getRowWrapIndent=function(l){if(this.$useWrapMode){var w=this.screenToDocumentPosition(l,Number.MAX_VALUE),k=this.$wrapData[w.row];return k.length&&k[0]<w.column?k.indent:0}return 0},this.getScreenLastRowColumn=function(l){var w=this.screenToDocumentPosition(l,Number.MAX_VALUE);return this.documentToScreenColumn(w.row,w.column)},this.getDocumentLastRowColumn=function(l,w){var k=this.documentToScreenRow(l,w);return this.getScreenLastRowColumn(k)},this.getDocumentLastRowColumnPosition=function(l,w){var k=this.documentToScreenRow(l,w);return this.screenToDocumentPosition(k,Number.MAX_VALUE/10)},this.getRowSplitData=function(l){return this.$useWrapMode?this.$wrapData[l]:void 0},this.getScreenTabSize=function(l){return this.$tabSize-(l%this.$tabSize|0)},this.screenToDocumentRow=function(l,w){return this.screenToDocumentPosition(l,w).row},this.screenToDocumentColumn=function(l,w){return this.screenToDocumentPosition(l,w).column},this.screenToDocumentPosition=function(l,w,k){if(l<0)return{row:0,column:0};var F,Y=0,x=0,N,j=0,G=0,q=this.$screenRowCache,ne=this.$getRowCacheIndex(q,l),X=q.length;if(X&&ne>=0)var j=q[ne],Y=this.$docRowCache[ne],ee=l>q[X-1];else var ee=!X;for(var ie=this.getLength()-1,ae=this.getNextFoldLine(Y),ce=ae?ae.start.row:1/0;j<=l&&(G=this.getRowLength(Y),!(j+G>l||Y>=ie));)j+=G,Y++,Y>ce&&(Y=ae.end.row+1,ae=this.getNextFoldLine(Y,ae),ce=ae?ae.start.row:1/0),ee&&(this.$docRowCache.push(Y),this.$screenRowCache.push(j));if(ae&&ae.start.row<=Y)F=this.getFoldDisplayLine(ae),Y=ae.start.row;else{if(j+G<=l||Y>ie)return{row:ie,column:this.getLine(ie).length};F=this.getLine(Y),ae=null}var ye=0,me=Math.floor(l-j);if(this.$useWrapMode){var Se=this.$wrapData[Y];Se&&(N=Se[me],me>0&&Se.length&&(ye=Se.indent,x=Se[me-1]||Se[Se.length-1],F=F.substring(x)))}return k!==void 0&&this.$bidiHandler.isBidiRow(j+me,Y,me)&&(w=this.$bidiHandler.offsetToCol(k)),x+=this.$getStringScreenWidth(F,w-ye)[1],this.$useWrapMode&&x>=N&&(x=N-1),ae?ae.idxToPosition(x):{row:Y,column:x}},this.documentToScreenPosition=function(l,w){if(typeof w>"u")var k=this.$clipPositionToDocument(l.row,l.column);else k=this.$clipPositionToDocument(l,w);l=k.row,w=k.column;var j=0,F=null,x=null;x=this.getFoldAt(l,w,1),x&&(l=x.start.row,w=x.start.column);var N,X=0,G=this.$docRowCache,q=this.$getRowCacheIndex(G,l),ne=G.length;if(ne&&q>=0)var X=G[q],j=this.$screenRowCache[q],Y=l>G[ne-1];else var Y=!ne;for(var ee=this.getNextFoldLine(X),ie=ee?ee.start.row:1/0;X<l;){if(X>=ie){if(N=ee.end.row+1,N>l)break;ee=this.getNextFoldLine(N,ee),ie=ee?ee.start.row:1/0}else N=X+1;j+=this.getRowLength(X),X=N,Y&&(this.$docRowCache.push(X),this.$screenRowCache.push(j))}var ae="";ee&&X>=ie?(ae=this.getFoldDisplayLine(ee,l,w),F=ee.start.row):(ae=this.getLine(l).substring(0,w),F=l);var ce=0;if(this.$useWrapMode){var ye=this.$wrapData[F];if(ye){for(var me=0;ae.length>=ye[me];)j++,me++;ae=ae.substring(ye[me-1]||0,ae.length),ce=me>0?ye.indent:0}}return this.lineWidgets&&this.lineWidgets[X]&&this.lineWidgets[X].rowsAbove&&(j+=this.lineWidgets[X].rowsAbove),{row:j,column:ce+this.$getStringScreenWidth(ae)[0]}},this.documentToScreenColumn=function(l,w){return this.documentToScreenPosition(l,w).column},this.documentToScreenRow=function(l,w){return this.documentToScreenPosition(l,w).row},this.getScreenLength=function(){var l=0,w=null;if(this.$useWrapMode)for(var x=this.$wrapData.length,N=0,F=0,w=this.$foldData[F++],G=w?w.start.row:1/0;N<x;){var q=this.$wrapData[N];l+=q?q.length+1:1,N++,N>G&&(N=w.end.row+1,w=this.$foldData[F++],G=w?w.start.row:1/0)}else{l=this.getLength();for(var k=this.$foldData,F=0;F<k.length;F++)w=k[F],l-=w.end.row-w.start.row}return this.lineWidgets&&(l+=this.$getWidgetScreenLength()),l},this.$setFontMetrics=function(l){this.$enableVarChar&&(this.$getStringScreenWidth=function(w,k,F){if(k===0)return[0,0];k||(k=1/0),F=F||0;var x,N;for(N=0;N<w.length&&(x=w.charAt(N),x==="	"?F+=this.getScreenTabSize(F):F+=l.getCharacterWidth(x),!(F>k));N++);return[F,N]})},this.destroy=function(){this.bgTokenizer&&(this.bgTokenizer.setDocument(null),this.bgTokenizer=null),this.$stopWorker(),this.removeAllListeners(),this.selection.detach()},this.isFullWidth=p}).call(h.prototype),A("./edit_session/folding").Folding.call(h.prototype),A("./edit_session/bracket_match").BracketMatch.call(h.prototype),c.defineOptions(h.prototype,"session",{wrap:{set:function(p){if(!p||p=="off"?p=!1:p=="free"?p=!0:p=="printMargin"?p=-1:typeof p=="string"&&(p=parseInt(p,10)||!1),this.$wrap!=p)if(this.$wrap=p,!p)this.setUseWrapMode(!1);else{var y=typeof p=="number"?p:null;this.setWrapLimitRange(y,y),this.setUseWrapMode(!0)}},get:function(){return this.getUseWrapMode()?this.$wrap==-1?"printMargin":this.getWrapLimitRange().min?this.$wrap:"free":"off"},handlesSet:!0},wrapMethod:{set:function(p){p=p=="auto"?this.$mode.type!="text":p!="text",p!=this.$wrapAsCode&&(this.$wrapAsCode=p,this.$useWrapMode&&(this.$useWrapMode=!1,this.setUseWrapMode(!0)))},initialValue:"auto"},indentedSoftWrap:{set:function(){this.$useWrapMode&&(this.$useWrapMode=!1,this.setUseWrapMode(!0))},initialValue:!0},firstLineNumber:{set:function(){this._signal("changeBreakpoint")},initialValue:1},useWorker:{set:function(p){this.$useWorker=p,this.$stopWorker(),p&&this.$startWorker()},initialValue:!0},useSoftTabs:{initialValue:!0},tabSize:{set:function(p){p=parseInt(p),p>0&&this.$tabSize!==p&&(this.$modified=!0,this.$rowLengthCache=[],this.$tabSize=p,this._signal("changeTabSize"))},initialValue:4,handlesSet:!0},navigateWithinSoftTabs:{initialValue:!1},foldStyle:{set:function(p){this.setFoldStyle(p)},handlesSet:!0},overwrite:{set:function(p){this._signal("changeOverwrite")},initialValue:!1},newLineMode:{set:function(p){this.doc.setNewLineMode(p)},get:function(){return this.doc.getNewLineMode()},handlesSet:!0},mode:{set:function(p){this.setMode(p)},get:function(){return this.$modeId},handlesSet:!0}}),T.EditSession=h}),define("ace/search",["require","exports","module","ace/lib/lang","ace/lib/oop","ace/range"],function(A,T,b){function E(t,e){function n(r){return/\w/.test(r)||e.regExp?"\\b":""}return n(t[0])+t+n(t[t.length-1])}var R=A("./lib/lang"),d=A("./lib/oop"),c=A("./range").Range,a=function(){this.$options={}};(function(){this.set=function(t){return d.mixin(this.$options,t),this},this.getOptions=function(){return R.copyObject(this.$options)},this.setOptions=function(t){this.$options=t},this.find=function(t){var e=this.$options,n=this.$matchIterator(t,e);if(!n)return!1;var r=null;return n.forEach(function(i,o,h,p){return r=new c(i,o,h,p),o==p&&e.start&&e.start.start&&e.skipCurrent!=0&&r.isEqual(e.start)?(r=null,!1):!0}),r},this.findAll=function(t){var e=this.$options;if(!e.needle)return[];this.$assembleRegExp(e);var n=e.range,r=n?t.getLines(n.start.row,n.end.row):t.doc.getAllLines(),i=[],o=e.re;if(e.$isMultiLine){var h=o.length,p=r.length-h,y;e:for(var L=o.offset||0;L<=p;L++){for(var m=0;m<h;m++)if(r[L+m].search(o[m])==-1)continue e;var s=r[L],g=r[L+h-1],_=s.length-s.match(o[0])[0].length,f=g.match(o[h-1])[0].length;y&&y.end.row===L&&y.end.column>_||(i.push(y=new c(L,_,L+h-1,f)),h>2&&(L=L+h-2))}}else for(var v=0;v<r.length;v++)for(var l=R.getMatchOffsets(r[v],o),m=0;m<l.length;m++){var w=l[m];i.push(new c(v,w.offset,v,w.offset+w.length))}if(n){for(var k=n.start.column,F=n.start.column,v=0,m=i.length-1;v<m&&i[v].start.column<k&&i[v].start.row==n.start.row;)v++;for(;v<m&&i[m].end.column>F&&i[m].end.row==n.end.row;)m--;for(i=i.slice(v,m+1),v=0,m=i.length;v<m;v++)i[v].start.row+=n.start.row,i[v].end.row+=n.start.row}return i},this.replace=function(t,e){var n=this.$options,r=this.$assembleRegExp(n);if(n.$isMultiLine)return e;if(r){var i=r.exec(t);if(!i||i[0].length!=t.length)return null;if(e=t.replace(r,e),n.preserveCase){e=e.split("");for(var o=Math.min(t.length,t.length);o--;){var h=t[o];h&&h.toLowerCase()!=h?e[o]=e[o].toUpperCase():e[o]=e[o].toLowerCase()}e=e.join("")}return e}},this.$assembleRegExp=function(t,e){if(t.needle instanceof RegExp)return t.re=t.needle;var n=t.needle;if(!t.needle)return t.re=!1;t.regExp||(n=R.escapeRegExp(n)),t.wholeWord&&(n=E(n,t));var r=t.caseSensitive?"gm":"gmi";if(t.$isMultiLine=!e&&/[\n\r]/.test(n),t.$isMultiLine)return t.re=this.$assembleMultilineRegExp(n,r);try{var i=new RegExp(n,r)}catch{i=!1}return t.re=i},this.$assembleMultilineRegExp=function(t,e){for(var n=t.replace(/\r\n|\r|\n/g,`$
^`).split(`
`),r=[],i=0;i<n.length;i++)try{r.push(new RegExp(n[i],e))}catch{return!1}return r},this.$matchIterator=function(t,e){var n=this.$assembleRegExp(e);if(!n)return!1;var r=e.backwards==1,i=e.skipCurrent!=0,o=e.range,h=e.start;h||(h=o?o[r?"end":"start"]:t.selection.getRange()),h.start&&(h=h[i!=r?"end":"start"]);var p=o?o.start.row:0,y=o?o.end.row:t.getLength()-1;if(r)var L=function(g){var _=h.row;if(!s(_,h.column,g)){for(_--;_>=p;_--)if(s(_,Number.MAX_VALUE,g))return;if(e.wrap!=0){for(_=y,p=h.row;_>=p;_--)if(s(_,Number.MAX_VALUE,g))return}}};else var L=function(g){var _=h.row;if(!s(_,h.column,g)){for(_+=1;_<=y;_++)if(s(_,0,g))return;if(e.wrap!=0){for(_=p,y=h.row;_<=y;_++)if(s(_,0,g))return}}};if(e.$isMultiLine)var m=n.length,s=function(g,_,f){var v=r?g-m+1:g;if(!(v<0)){var l=t.getLine(v),w=l.search(n[0]);if(!(!r&&w<_||w===-1)){for(var k=1;k<m;k++)if(l=t.getLine(v+k),l.search(n[k])==-1)return;var F=l.match(n[m-1])[0].length;if(!(r&&F>_)&&f(v,w,v+m-1,F))return!0}}};else if(r)var s=function(g,_,f){var v=t.getLine(g),l=[],w,k=0;for(n.lastIndex=0;w=n.exec(v);){var F=w[0].length;if(k=w.index,!F){if(k>=v.length)break;n.lastIndex=k+=1}if(w.index+F>_)break;l.push(w.index,F)}for(var x=l.length-1;x>=0;x-=2){var N=l[x-1],F=l[x];if(f(g,N,g,N+F))return!0}};else var s=function(g,_,f){var v=t.getLine(g),l,w;for(n.lastIndex=_;w=n.exec(v);){var k=w[0].length;if(l=w.index,f(g,l,g,l+k))return!0;if(!k&&(n.lastIndex=l+=1,l>=v.length))return!1}};return{forEach:L}}}).call(a.prototype),T.Search=a}),define("ace/keyboard/hash_handler",["require","exports","module","ace/lib/keys","ace/lib/useragent"],function(A,T,b){function E(t,e){this.platform=e||(c.isMac?"mac":"win"),this.commands={},this.commandKeyBinding={},this.addCommands(t),this.$singleCommand=!0}function R(t,e){E.call(this,t,e),this.$singleCommand=!1}var d=A("../lib/keys"),c=A("../lib/useragent"),a=d.KEY_MODS;R.prototype=E.prototype,(function(){function t(e){return typeof e=="object"&&e.bindKey&&e.bindKey.position||(e.isDefault?-100:0)}this.addCommand=function(e){this.commands[e.name]&&this.removeCommand(e),this.commands[e.name]=e,e.bindKey&&this._buildKeyHash(e)},this.removeCommand=function(e,n){var r=e&&(typeof e=="string"?e:e.name);e=this.commands[r],n||delete this.commands[r];var i=this.commandKeyBinding;for(var o in i){var h=i[o];if(h==e)delete i[o];else if(Array.isArray(h)){var p=h.indexOf(e);p!=-1&&(h.splice(p,1),h.length==1&&(i[o]=h[0]))}}},this.bindKey=function(e,n,r){if(typeof e=="object"&&e&&(r==null&&(r=e.position),e=e[this.platform]),!!e){if(typeof n=="function")return this.addCommand({exec:n,bindKey:e,name:n.name||e});e.split("|").forEach(function(i){var o="";if(i.indexOf(" ")!=-1){var h=i.split(/\s+/);i=h.pop(),h.forEach(function(L){var m=this.parseKeys(L),s=a[m.hashId]+m.key;o+=(o?" ":"")+s,this._addCommandToBinding(o,"chainKeys")},this),o+=" "}var p=this.parseKeys(i),y=a[p.hashId]+p.key;this._addCommandToBinding(o+y,n,r)},this)}},this._addCommandToBinding=function(e,n,r){var i=this.commandKeyBinding,o;if(!n)delete i[e];else if(!i[e]||this.$singleCommand)i[e]=n;else{Array.isArray(i[e])?(o=i[e].indexOf(n))!=-1&&i[e].splice(o,1):i[e]=[i[e]],typeof r!="number"&&(r=t(n));var h=i[e];for(o=0;o<h.length;o++){var p=h[o],y=t(p);if(y>r)break}h.splice(o,0,n)}},this.addCommands=function(e){e&&Object.keys(e).forEach(function(n){var r=e[n];if(r){if(typeof r=="string")return this.bindKey(r,n);typeof r=="function"&&(r={exec:r}),typeof r=="object"&&(r.name||(r.name=n),this.addCommand(r))}},this)},this.removeCommands=function(e){Object.keys(e).forEach(function(n){this.removeCommand(e[n])},this)},this.bindKeys=function(e){Object.keys(e).forEach(function(n){this.bindKey(n,e[n])},this)},this._buildKeyHash=function(e){this.bindKey(e.bindKey,e)},this.parseKeys=function(e){var n=e.toLowerCase().split(/[\-\+]([\-\+])?/).filter(function(y){return y}),r=n.pop(),i=d[r];if(d.FUNCTION_KEYS[i])r=d.FUNCTION_KEYS[i].toLowerCase();else{if(!n.length)return{key:r,hashId:-1};if(n.length==1&&n[0]=="shift")return{key:r.toUpperCase(),hashId:-1}}for(var o=0,h=n.length;h--;){var p=d.KEY_MODS[n[h]];if(p==null)return typeof console<"u"&&console.error("invalid modifier "+n[h]+" in "+e),!1;o|=p}return{key:r,hashId:o}},this.findKeyCommand=function(e,n){var r=a[e]+n;return this.commandKeyBinding[r]},this.handleKeyboard=function(e,n,r,i){if(!(i<0)){var o=a[n]+r,h=this.commandKeyBinding[o];return e.$keyChain&&(e.$keyChain+=" "+o,h=this.commandKeyBinding[e.$keyChain]||h),h&&(h=="chainKeys"||h[h.length-1]=="chainKeys")?(e.$keyChain=e.$keyChain||o,{command:"null"}):(e.$keyChain&&(n&&n!=4||r.length!=1?(n==-1||i>0)&&(e.$keyChain=""):e.$keyChain=e.$keyChain.slice(0,-o.length-1)),{command:h})}},this.getStatusText=function(e,n){return n.$keyChain||""}}).call(E.prototype),T.HashHandler=E,T.MultiHashHandler=R}),define("ace/commands/command_manager",["require","exports","module","ace/lib/oop","ace/keyboard/hash_handler","ace/lib/event_emitter"],function(A,T,b){var E=A("../lib/oop"),R=A("../keyboard/hash_handler").MultiHashHandler,d=A("../lib/event_emitter").EventEmitter,c=function(a,t){R.call(this,t,a),this.byName=this.commands,this.setDefaultHandler("exec",function(e){return e.command.exec(e.editor,e.args||{})})};E.inherits(c,R),(function(){E.implement(this,d),this.exec=function(a,t,e){if(Array.isArray(a)){for(var n=a.length;n--;)if(this.exec(a[n],t,e))return!0;return!1}if(typeof a=="string"&&(a=this.commands[a]),!a||t&&t.$readOnly&&!a.readOnly||this.$checkCommandState!=0&&a.isAvailable&&!a.isAvailable(t))return!1;var r={editor:t,command:a,args:e};return r.returnValue=this._emit("exec",r),this._signal("afterExec",r),r.returnValue!==!1},this.toggleRecording=function(a){if(!this.$inReplay)return a&&a._emit("changeStatus"),this.recording?(this.macro.pop(),this.off("exec",this.$addCommandToMacro),this.macro.length||(this.macro=this.oldMacro),this.recording=!1):(this.$addCommandToMacro||(this.$addCommandToMacro=(function(t){this.macro.push([t.command,t.args])}).bind(this)),this.oldMacro=this.macro,this.macro=[],this.on("exec",this.$addCommandToMacro),this.recording=!0)},this.replay=function(a){if(!(this.$inReplay||!this.macro)){if(this.recording)return this.toggleRecording(a);try{this.$inReplay=!0,this.macro.forEach(function(t){typeof t=="string"?this.exec(t,a):this.exec(t[0],a,t[1])},this)}finally{this.$inReplay=!1}}},this.trimMacro=function(a){return a.map(function(t){return typeof t[0]!="string"&&(t[0]=t[0].name),t[1]||(t=t[0]),t})}}).call(c.prototype),T.CommandManager=c}),define("ace/commands/default_commands",["require","exports","module","ace/lib/lang","ace/config","ace/range"],function(A,T,b){function E(t,e){return{win:t,mac:e}}var R=A("../lib/lang"),d=A("../config"),c=A("../range").Range;T.commands=[{name:"showSettingsMenu",bindKey:E("Ctrl-,","Command-,"),exec:function(t){d.loadModule("ace/ext/settings_menu",function(e){e.init(t),t.showSettingsMenu()})},readOnly:!0},{name:"goToNextError",bindKey:E("Alt-E","F4"),exec:function(t){d.loadModule("./ext/error_marker",function(e){e.showErrorMarker(t,1)})},scrollIntoView:"animate",readOnly:!0},{name:"goToPreviousError",bindKey:E("Alt-Shift-E","Shift-F4"),exec:function(t){d.loadModule("./ext/error_marker",function(e){e.showErrorMarker(t,-1)})},scrollIntoView:"animate",readOnly:!0},{name:"selectall",description:"Select all",bindKey:E("Ctrl-A","Command-A"),exec:function(t){t.selectAll()},readOnly:!0},{name:"centerselection",description:"Center selection",bindKey:E(null,"Ctrl-L"),exec:function(t){t.centerSelection()},readOnly:!0},{name:"gotoline",description:"Go to line...",bindKey:E("Ctrl-L","Command-L"),exec:function(t,e){typeof e=="number"&&!isNaN(e)&&t.gotoLine(e),t.prompt({$type:"gotoLine"})},readOnly:!0},{name:"fold",bindKey:E("Alt-L|Ctrl-F1","Command-Alt-L|Command-F1"),exec:function(t){t.session.toggleFold(!1)},multiSelectAction:"forEach",scrollIntoView:"center",readOnly:!0},{name:"unfold",bindKey:E("Alt-Shift-L|Ctrl-Shift-F1","Command-Alt-Shift-L|Command-Shift-F1"),exec:function(t){t.session.toggleFold(!0)},multiSelectAction:"forEach",scrollIntoView:"center",readOnly:!0},{name:"toggleFoldWidget",bindKey:E("F2","F2"),exec:function(t){t.session.toggleFoldWidget()},multiSelectAction:"forEach",scrollIntoView:"center",readOnly:!0},{name:"toggleParentFoldWidget",bindKey:E("Alt-F2","Alt-F2"),exec:function(t){t.session.toggleFoldWidget(!0)},multiSelectAction:"forEach",scrollIntoView:"center",readOnly:!0},{name:"foldall",description:"Fold all",bindKey:E(null,"Ctrl-Command-Option-0"),exec:function(t){t.session.foldAll()},scrollIntoView:"center",readOnly:!0},{name:"foldAllComments",description:"Fold all comments",bindKey:E(null,"Ctrl-Command-Option-0"),exec:function(t){t.session.foldAllComments()},scrollIntoView:"center",readOnly:!0},{name:"foldOther",description:"Fold other",bindKey:E("Alt-0","Command-Option-0"),exec:function(t){t.session.foldAll(),t.session.unfold(t.selection.getAllRanges())},scrollIntoView:"center",readOnly:!0},{name:"unfoldall",description:"Unfold all",bindKey:E("Alt-Shift-0","Command-Option-Shift-0"),exec:function(t){t.session.unfold()},scrollIntoView:"center",readOnly:!0},{name:"findnext",description:"Find next",bindKey:E("Ctrl-K","Command-G"),exec:function(t){t.findNext()},multiSelectAction:"forEach",scrollIntoView:"center",readOnly:!0},{name:"findprevious",description:"Find previous",bindKey:E("Ctrl-Shift-K","Command-Shift-G"),exec:function(t){t.findPrevious()},multiSelectAction:"forEach",scrollIntoView:"center",readOnly:!0},{name:"selectOrFindNext",description:"Select or find next",bindKey:E("Alt-K","Ctrl-G"),exec:function(t){t.selection.isEmpty()?t.selection.selectWord():t.findNext()},readOnly:!0},{name:"selectOrFindPrevious",description:"Select or find previous",bindKey:E("Alt-Shift-K","Ctrl-Shift-G"),exec:function(t){t.selection.isEmpty()?t.selection.selectWord():t.findPrevious()},readOnly:!0},{name:"find",description:"Find",bindKey:E("Ctrl-F","Command-F"),exec:function(t){d.loadModule("ace/ext/searchbox",function(e){e.Search(t)})},readOnly:!0},{name:"overwrite",description:"Overwrite",bindKey:"Insert",exec:function(t){t.toggleOverwrite()},readOnly:!0},{name:"selecttostart",description:"Select to start",bindKey:E("Ctrl-Shift-Home","Command-Shift-Home|Command-Shift-Up"),exec:function(t){t.getSelection().selectFileStart()},multiSelectAction:"forEach",readOnly:!0,scrollIntoView:"animate",aceCommandGroup:"fileJump"},{name:"gotostart",description:"Go to start",bindKey:E("Ctrl-Home","Command-Home|Command-Up"),exec:function(t){t.navigateFileStart()},multiSelectAction:"forEach",readOnly:!0,scrollIntoView:"animate",aceCommandGroup:"fileJump"},{name:"selectup",description:"Select up",bindKey:E("Shift-Up","Shift-Up|Ctrl-Shift-P"),exec:function(t){t.getSelection().selectUp()},multiSelectAction:"forEach",scrollIntoView:"cursor",readOnly:!0},{name:"golineup",description:"Go line up",bindKey:E("Up","Up|Ctrl-P"),exec:function(t,e){t.navigateUp(e.times)},multiSelectAction:"forEach",scrollIntoView:"cursor",readOnly:!0},{name:"selecttoend",description:"Select to end",bindKey:E("Ctrl-Shift-End","Command-Shift-End|Command-Shift-Down"),exec:function(t){t.getSelection().selectFileEnd()},multiSelectAction:"forEach",readOnly:!0,scrollIntoView:"animate",aceCommandGroup:"fileJump"},{name:"gotoend",description:"Go to end",bindKey:E("Ctrl-End","Command-End|Command-Down"),exec:function(t){t.navigateFileEnd()},multiSelectAction:"forEach",readOnly:!0,scrollIntoView:"animate",aceCommandGroup:"fileJump"},{name:"selectdown",description:"Select down",bindKey:E("Shift-Down","Shift-Down|Ctrl-Shift-N"),exec:function(t){t.getSelection().selectDown()},multiSelectAction:"forEach",scrollIntoView:"cursor",readOnly:!0},{name:"golinedown",description:"Go line down",bindKey:E("Down","Down|Ctrl-N"),exec:function(t,e){t.navigateDown(e.times)},multiSelectAction:"forEach",scrollIntoView:"cursor",readOnly:!0},{name:"selectwordleft",description:"Select word left",bindKey:E("Ctrl-Shift-Left","Option-Shift-Left"),exec:function(t){t.getSelection().selectWordLeft()},multiSelectAction:"forEach",scrollIntoView:"cursor",readOnly:!0},{name:"gotowordleft",description:"Go to word left",bindKey:E("Ctrl-Left","Option-Left"),exec:function(t){t.navigateWordLeft()},multiSelectAction:"forEach",scrollIntoView:"cursor",readOnly:!0},{name:"selecttolinestart",description:"Select to line start",bindKey:E("Alt-Shift-Left","Command-Shift-Left|Ctrl-Shift-A"),exec:function(t){t.getSelection().selectLineStart()},multiSelectAction:"forEach",scrollIntoView:"cursor",readOnly:!0},{name:"gotolinestart",description:"Go to line start",bindKey:E("Alt-Left|Home","Command-Left|Home|Ctrl-A"),exec:function(t){t.navigateLineStart()},multiSelectAction:"forEach",scrollIntoView:"cursor",readOnly:!0},{name:"selectleft",description:"Select left",bindKey:E("Shift-Left","Shift-Left|Ctrl-Shift-B"),exec:function(t){t.getSelection().selectLeft()},multiSelectAction:"forEach",scrollIntoView:"cursor",readOnly:!0},{name:"gotoleft",description:"Go to left",bindKey:E("Left","Left|Ctrl-B"),exec:function(t,e){t.navigateLeft(e.times)},multiSelectAction:"forEach",scrollIntoView:"cursor",readOnly:!0},{name:"selectwordright",description:"Select word right",bindKey:E("Ctrl-Shift-Right","Option-Shift-Right"),exec:function(t){t.getSelection().selectWordRight()},multiSelectAction:"forEach",scrollIntoView:"cursor",readOnly:!0},{name:"gotowordright",description:"Go to word right",bindKey:E("Ctrl-Right","Option-Right"),exec:function(t){t.navigateWordRight()},multiSelectAction:"forEach",scrollIntoView:"cursor",readOnly:!0},{name:"selecttolineend",description:"Select to line end",bindKey:E("Alt-Shift-Right","Command-Shift-Right|Shift-End|Ctrl-Shift-E"),exec:function(t){t.getSelection().selectLineEnd()},multiSelectAction:"forEach",scrollIntoView:"cursor",readOnly:!0},{name:"gotolineend",description:"Go to line end",bindKey:E("Alt-Right|End","Command-Right|End|Ctrl-E"),exec:function(t){t.navigateLineEnd()},multiSelectAction:"forEach",scrollIntoView:"cursor",readOnly:!0},{name:"selectright",description:"Select right",bindKey:E("Shift-Right","Shift-Right"),exec:function(t){t.getSelection().selectRight()},multiSelectAction:"forEach",scrollIntoView:"cursor",readOnly:!0},{name:"gotoright",description:"Go to right",bindKey:E("Right","Right|Ctrl-F"),exec:function(t,e){t.navigateRight(e.times)},multiSelectAction:"forEach",scrollIntoView:"cursor",readOnly:!0},{name:"selectpagedown",description:"Select page down",bindKey:"Shift-PageDown",exec:function(t){t.selectPageDown()},readOnly:!0},{name:"pagedown",description:"Page down",bindKey:E(null,"Option-PageDown"),exec:function(t){t.scrollPageDown()},readOnly:!0},{name:"gotopagedown",description:"Go to page down",bindKey:E("PageDown","PageDown|Ctrl-V"),exec:function(t){t.gotoPageDown()},readOnly:!0},{name:"selectpageup",description:"Select page up",bindKey:"Shift-PageUp",exec:function(t){t.selectPageUp()},readOnly:!0},{name:"pageup",description:"Page up",bindKey:E(null,"Option-PageUp"),exec:function(t){t.scrollPageUp()},readOnly:!0},{name:"gotopageup",description:"Go to page up",bindKey:"PageUp",exec:function(t){t.gotoPageUp()},readOnly:!0},{name:"scrollup",description:"Scroll up",bindKey:E("Ctrl-Up",null),exec:function(t){t.renderer.scrollBy(0,-2*t.renderer.layerConfig.lineHeight)},readOnly:!0},{name:"scrolldown",description:"Scroll down",bindKey:E("Ctrl-Down",null),exec:function(t){t.renderer.scrollBy(0,2*t.renderer.layerConfig.lineHeight)},readOnly:!0},{name:"selectlinestart",description:"Select line start",bindKey:"Shift-Home",exec:function(t){t.getSelection().selectLineStart()},multiSelectAction:"forEach",scrollIntoView:"cursor",readOnly:!0},{name:"selectlineend",description:"Select line end",bindKey:"Shift-End",exec:function(t){t.getSelection().selectLineEnd()},multiSelectAction:"forEach",scrollIntoView:"cursor",readOnly:!0},{name:"togglerecording",description:"Toggle recording",bindKey:E("Ctrl-Alt-E","Command-Option-E"),exec:function(t){t.commands.toggleRecording(t)},readOnly:!0},{name:"replaymacro",description:"Replay macro",bindKey:E("Ctrl-Shift-E","Command-Shift-E"),exec:function(t){t.commands.replay(t)},readOnly:!0},{name:"jumptomatching",description:"Jump to matching",bindKey:E("Ctrl-\\|Ctrl-P","Command-\\"),exec:function(t){t.jumpToMatching()},multiSelectAction:"forEach",scrollIntoView:"animate",readOnly:!0},{name:"selecttomatching",description:"Select to matching",bindKey:E("Ctrl-Shift-\\|Ctrl-Shift-P","Command-Shift-\\"),exec:function(t){t.jumpToMatching(!0)},multiSelectAction:"forEach",scrollIntoView:"animate",readOnly:!0},{name:"expandToMatching",description:"Expand to matching",bindKey:E("Ctrl-Shift-M","Ctrl-Shift-M"),exec:function(t){t.jumpToMatching(!0,!0)},multiSelectAction:"forEach",scrollIntoView:"animate",readOnly:!0},{name:"passKeysToBrowser",description:"Pass keys to browser",bindKey:E(null,null),exec:function(){},passEvent:!0,readOnly:!0},{name:"copy",description:"Copy",exec:function(t){},readOnly:!0},{name:"cut",description:"Cut",exec:function(t){var e=t.$copyWithEmptySelection&&t.selection.isEmpty(),n=e?t.selection.getLineRange():t.selection.getRange();t._emit("cut",n),n.isEmpty()||t.session.remove(n),t.clearSelection()},scrollIntoView:"cursor",multiSelectAction:"forEach"},{name:"paste",description:"Paste",exec:function(t,e){t.$handlePaste(e)},scrollIntoView:"cursor"},{name:"removeline",description:"Remove line",bindKey:E("Ctrl-D","Command-D"),exec:function(t){t.removeLines()},scrollIntoView:"cursor",multiSelectAction:"forEachLine"},{name:"duplicateSelection",description:"Duplicate selection",bindKey:E("Ctrl-Shift-D","Command-Shift-D"),exec:function(t){t.duplicateSelection()},scrollIntoView:"cursor",multiSelectAction:"forEach"},{name:"sortlines",description:"Sort lines",bindKey:E("Ctrl-Alt-S","Command-Alt-S"),exec:function(t){t.sortLines()},scrollIntoView:"selection",multiSelectAction:"forEachLine"},{name:"togglecomment",description:"Toggle comment",bindKey:E("Ctrl-/","Command-/"),exec:function(t){t.toggleCommentLines()},multiSelectAction:"forEachLine",scrollIntoView:"selectionPart"},{name:"toggleBlockComment",description:"Toggle block comment",bindKey:E("Ctrl-Shift-/","Command-Shift-/"),exec:function(t){t.toggleBlockComment()},multiSelectAction:"forEach",scrollIntoView:"selectionPart"},{name:"modifyNumberUp",description:"Modify number up",bindKey:E("Ctrl-Shift-Up","Alt-Shift-Up"),exec:function(t){t.modifyNumber(1)},scrollIntoView:"cursor",multiSelectAction:"forEach"},{name:"modifyNumberDown",description:"Modify number down",bindKey:E("Ctrl-Shift-Down","Alt-Shift-Down"),exec:function(t){t.modifyNumber(-1)},scrollIntoView:"cursor",multiSelectAction:"forEach"},{name:"replace",description:"Replace",bindKey:E("Ctrl-H","Command-Option-F"),exec:function(t){d.loadModule("ace/ext/searchbox",function(e){e.Search(t,!0)})}},{name:"undo",description:"Undo",bindKey:E("Ctrl-Z","Command-Z"),exec:function(t){t.undo()}},{name:"redo",description:"Redo",bindKey:E("Ctrl-Shift-Z|Ctrl-Y","Command-Shift-Z|Command-Y"),exec:function(t){t.redo()}},{name:"copylinesup",description:"Copy lines up",bindKey:E("Alt-Shift-Up","Command-Option-Up"),exec:function(t){t.copyLinesUp()},scrollIntoView:"cursor"},{name:"movelinesup",description:"Move lines up",bindKey:E("Alt-Up","Option-Up"),exec:function(t){t.moveLinesUp()},scrollIntoView:"cursor"},{name:"copylinesdown",description:"Copy lines down",bindKey:E("Alt-Shift-Down","Command-Option-Down"),exec:function(t){t.copyLinesDown()},scrollIntoView:"cursor"},{name:"movelinesdown",description:"Move lines down",bindKey:E("Alt-Down","Option-Down"),exec:function(t){t.moveLinesDown()},scrollIntoView:"cursor"},{name:"del",description:"Delete",bindKey:E("Delete","Delete|Ctrl-D|Shift-Delete"),exec:function(t){t.remove("right")},multiSelectAction:"forEach",scrollIntoView:"cursor"},{name:"backspace",description:"Backspace",bindKey:E("Shift-Backspace|Backspace","Ctrl-Backspace|Shift-Backspace|Backspace|Ctrl-H"),exec:function(t){t.remove("left")},multiSelectAction:"forEach",scrollIntoView:"cursor"},{name:"cut_or_delete",description:"Cut or delete",bindKey:E("Shift-Delete",null),exec:function(t){if(!t.selection.isEmpty())return!1;t.remove("left")},multiSelectAction:"forEach",scrollIntoView:"cursor"},{name:"removetolinestart",description:"Remove to line start",bindKey:E("Alt-Backspace","Command-Backspace"),exec:function(t){t.removeToLineStart()},multiSelectAction:"forEach",scrollIntoView:"cursor"},{name:"removetolineend",description:"Remove to line end",bindKey:E("Alt-Delete","Ctrl-K|Command-Delete"),exec:function(t){t.removeToLineEnd()},multiSelectAction:"forEach",scrollIntoView:"cursor"},{name:"removetolinestarthard",description:"Remove to line start hard",bindKey:E("Ctrl-Shift-Backspace",null),exec:function(t){var e=t.selection.getRange();e.start.column=0,t.session.remove(e)},multiSelectAction:"forEach",scrollIntoView:"cursor"},{name:"removetolineendhard",description:"Remove to line end hard",bindKey:E("Ctrl-Shift-Delete",null),exec:function(t){var e=t.selection.getRange();e.end.column=Number.MAX_VALUE,t.session.remove(e)},multiSelectAction:"forEach",scrollIntoView:"cursor"},{name:"removewordleft",description:"Remove word left",bindKey:E("Ctrl-Backspace","Alt-Backspace|Ctrl-Alt-Backspace"),exec:function(t){t.removeWordLeft()},multiSelectAction:"forEach",scrollIntoView:"cursor"},{name:"removewordright",description:"Remove word right",bindKey:E("Ctrl-Delete","Alt-Delete"),exec:function(t){t.removeWordRight()},multiSelectAction:"forEach",scrollIntoView:"cursor"},{name:"outdent",description:"Outdent",bindKey:E("Shift-Tab","Shift-Tab"),exec:function(t){t.blockOutdent()},multiSelectAction:"forEach",scrollIntoView:"selectionPart"},{name:"indent",description:"Indent",bindKey:E("Tab","Tab"),exec:function(t){t.indent()},multiSelectAction:"forEach",scrollIntoView:"selectionPart"},{name:"blockoutdent",description:"Block outdent",bindKey:E("Ctrl-[","Ctrl-["),exec:function(t){t.blockOutdent()},multiSelectAction:"forEachLine",scrollIntoView:"selectionPart"},{name:"blockindent",description:"Block indent",bindKey:E("Ctrl-]","Ctrl-]"),exec:function(t){t.blockIndent()},multiSelectAction:"forEachLine",scrollIntoView:"selectionPart"},{name:"insertstring",description:"Insert string",exec:function(t,e){t.insert(e)},multiSelectAction:"forEach",scrollIntoView:"cursor"},{name:"inserttext",description:"Insert text",exec:function(t,e){t.insert(R.stringRepeat(e.text||"",e.times||1))},multiSelectAction:"forEach",scrollIntoView:"cursor"},{name:"splitline",description:"Split line",bindKey:E(null,"Ctrl-O"),exec:function(t){t.splitLine()},multiSelectAction:"forEach",scrollIntoView:"cursor"},{name:"transposeletters",description:"Transpose letters",bindKey:E("Alt-Shift-X","Ctrl-T"),exec:function(t){t.transposeLetters()},multiSelectAction:function(t){t.transposeSelections(1)},scrollIntoView:"cursor"},{name:"touppercase",description:"To uppercase",bindKey:E("Ctrl-U","Ctrl-U"),exec:function(t){t.toUpperCase()},multiSelectAction:"forEach",scrollIntoView:"cursor"},{name:"tolowercase",description:"To lowercase",bindKey:E("Ctrl-Shift-U","Ctrl-Shift-U"),exec:function(t){t.toLowerCase()},multiSelectAction:"forEach",scrollIntoView:"cursor"},{name:"autoindent",description:"Auto Indent",bindKey:E(null,null),exec:function(t){t.autoIndent()},multiSelectAction:"forEachLine",scrollIntoView:"animate"},{name:"expandtoline",description:"Expand to line",bindKey:E("Ctrl-Shift-L","Command-Shift-L"),exec:function(t){var e=t.selection.getRange();e.start.column=e.end.column=0,e.end.row++,t.selection.setRange(e,!1)},multiSelectAction:"forEach",scrollIntoView:"cursor",readOnly:!0},{name:"joinlines",description:"Join lines",bindKey:E(null,null),exec:function(t){for(var e=t.selection.isBackwards(),n=e?t.selection.getSelectionLead():t.selection.getSelectionAnchor(),r=e?t.selection.getSelectionAnchor():t.selection.getSelectionLead(),i=t.session.doc.getLine(n.row).length,o=t.session.doc.getTextRange(t.selection.getRange()),h=o.replace(/\n\s*/," ").length,p=t.session.doc.getLine(n.row),y=n.row+1;y<=r.row+1;y++){var L=R.stringTrimLeft(R.stringTrimRight(t.session.doc.getLine(y)));L.length!==0&&(L=" "+L),p+=L}r.row+1<t.session.doc.getLength()-1&&(p+=t.session.doc.getNewLineCharacter()),t.clearSelection(),t.session.doc.replace(new c(n.row,0,r.row+2,0),p),h>0?(t.selection.moveCursorTo(n.row,n.column),t.selection.selectTo(n.row,n.column+h)):(i=t.session.doc.getLine(n.row).length>i?i+1:i,t.selection.moveCursorTo(n.row,i))},multiSelectAction:"forEach",readOnly:!0},{name:"invertSelection",description:"Invert selection",bindKey:E(null,null),exec:function(t){var e=t.session.doc.getLength()-1,n=t.session.doc.getLine(e).length,r=t.selection.rangeList.ranges,i=[];r.length<1&&(r=[t.selection.getRange()]);for(var o=0;o<r.length;o++)o==r.length-1&&(r[o].end.row!==e||r[o].end.column!==n)&&i.push(new c(r[o].end.row,r[o].end.column,e,n)),o===0?(r[o].start.row!==0||r[o].start.column!==0)&&i.push(new c(0,0,r[o].start.row,r[o].start.column)):i.push(new c(r[o-1].end.row,r[o-1].end.column,r[o].start.row,r[o].start.column));t.exitMultiSelectMode(),t.clearSelection();for(var o=0;o<i.length;o++)t.selection.addRange(i[o],!1)},readOnly:!0,scrollIntoView:"none"},{name:"addLineAfter",exec:function(t){t.selection.clearSelection(),t.navigateLineEnd(),t.insert(`
`)},multiSelectAction:"forEach",scrollIntoView:"cursor"},{name:"addLineBefore",exec:function(t){t.selection.clearSelection();var e=t.getCursorPosition();t.selection.moveTo(e.row-1,Number.MAX_VALUE),t.insert(`
`),e.row===0&&t.navigateUp()},multiSelectAction:"forEach",scrollIntoView:"cursor"},{name:"openCommandPallete",description:"Open command pallete",bindKey:E("F1","F1"),exec:function(t){t.prompt({$type:"commands"})},readOnly:!0},{name:"modeSelect",description:"Change language mode...",bindKey:E(null,null),exec:function(t){t.prompt({$type:"modes"})},readOnly:!0}];for(var a=1;a<9;a++)T.commands.push({name:"foldToLevel"+a,description:"Fold To Level "+a,level:a,exec:function(t){t.session.foldToLevel(this.level)},scrollIntoView:"center",readOnly:!0})}),define("ace/editor",["require","exports","module","ace/lib/fixoldbrowsers","ace/lib/oop","ace/lib/dom","ace/lib/lang","ace/lib/useragent","ace/keyboard/textinput","ace/mouse/mouse_handler","ace/mouse/fold_handler","ace/keyboard/keybinding","ace/edit_session","ace/search","ace/range","ace/lib/event_emitter","ace/commands/command_manager","ace/commands/default_commands","ace/config","ace/token_iterator","ace/clipboard"],function(A,T,b){A("./lib/fixoldbrowsers");var E=A("./lib/oop"),R=A("./lib/dom"),d=A("./lib/lang"),c=A("./lib/useragent"),a=A("./keyboard/textinput").TextInput,t=A("./mouse/mouse_handler").MouseHandler,e=A("./mouse/fold_handler").FoldHandler,n=A("./keyboard/keybinding").KeyBinding,r=A("./edit_session").EditSession,i=A("./search").Search,o=A("./range").Range,h=A("./lib/event_emitter").EventEmitter,p=A("./commands/command_manager").CommandManager,y=A("./commands/default_commands").commands,L=A("./config"),m=A("./token_iterator").TokenIterator,s=A("./clipboard"),g=function(f,v,l){this.$toDestroy=[];var w=f.getContainerElement();this.container=w,this.renderer=f,this.id="editor"+ ++g.$uid,this.commands=new p(c.isMac?"mac":"win",y),typeof document=="object"&&(this.textInput=new a(f.getTextAreaContainer(),this),this.renderer.textarea=this.textInput.getElement(),this.$mouseHandler=new t(this),new e(this)),this.keyBinding=new n(this),this.$search=new i().set({wrap:!0}),this.$historyTracker=this.$historyTracker.bind(this),this.commands.on("exec",this.$historyTracker),this.$initOperationListeners(),this._$emitInputEvent=d.delayedCall((function(){this._signal("input",{}),this.session&&this.session.bgTokenizer&&this.session.bgTokenizer.scheduleStart()}).bind(this)),this.on("change",function(k,F){F._$emitInputEvent.schedule(31)}),this.setSession(v||l&&l.session||new r("")),L.resetOptions(this),l&&this.setOptions(l),L._signal("editor",this)};g.$uid=0,(function(){E.implement(this,h),this.$initOperationListeners=function(){this.commands.on("exec",this.startOperation.bind(this),!0),this.commands.on("afterExec",this.endOperation.bind(this),!0),this.$opResetTimer=d.delayedCall(this.endOperation.bind(this,!0)),this.on("change",(function(){this.curOp||(this.startOperation(),this.curOp.selectionBefore=this.$lastSel),this.curOp.docChanged=!0}).bind(this),!0),this.on("changeSelection",(function(){this.curOp||(this.startOperation(),this.curOp.selectionBefore=this.$lastSel),this.curOp.selectionChanged=!0}).bind(this),!0)},this.curOp=null,this.prevOp={},this.startOperation=function(f){if(this.curOp){if(!f||this.curOp.command)return;this.prevOp=this.curOp}f||(this.previousCommand=null,f={}),this.$opResetTimer.schedule(),this.curOp=this.session.curOp={command:f.command||{},args:f.args,scrollTop:this.renderer.scrollTop},this.curOp.selectionBefore=this.selection.toJSON()},this.endOperation=function(f){if(this.curOp&&this.session){if(f&&f.returnValue===!1||!this.session)return this.curOp=null;if(f==1&&this.curOp.command&&this.curOp.command.name=="mouse"||(this._signal("beforeEndOperation"),!this.curOp))return;var v=this.curOp.command,l=v&&v.scrollIntoView;if(l){switch(l){case"center-animate":l="animate";case"center":this.renderer.scrollCursorIntoView(null,.5);break;case"animate":case"cursor":this.renderer.scrollCursorIntoView();break;case"selectionPart":var w=this.selection.getRange(),k=this.renderer.layerConfig;(w.start.row>=k.lastRow||w.end.row<=k.firstRow)&&this.renderer.scrollSelectionIntoView(this.selection.anchor,this.selection.lead);break}l=="animate"&&this.renderer.animateScrolling(this.curOp.scrollTop)}var F=this.selection.toJSON();this.curOp.selectionAfter=F,this.$lastSel=this.selection.toJSON(),this.session.getUndoManager().addSelection(F),this.prevOp=this.curOp,this.curOp=null}},this.$mergeableCommands=["backspace","del","insertstring"],this.$historyTracker=function(f){if(this.$mergeUndoDeltas){var v=this.prevOp,l=this.$mergeableCommands,w=v.command&&f.command.name==v.command.name;if(f.command.name=="insertstring"){var k=f.args;this.mergeNextCommand===void 0&&(this.mergeNextCommand=!0),w=w&&this.mergeNextCommand&&(!/\s/.test(k)||/\s/.test(v.args)),this.mergeNextCommand=!0}else w=w&&l.indexOf(f.command.name)!==-1;this.$mergeUndoDeltas!="always"&&Date.now()-this.sequenceStartTime>2e3&&(w=!1),w?this.session.mergeUndoDeltas=!0:l.indexOf(f.command.name)!==-1&&(this.sequenceStartTime=Date.now())}},this.setKeyboardHandler=function(f,v){if(f&&typeof f=="string"&&f!="ace"){this.$keybindingId=f;var l=this;L.loadModule(["keybinding",f],function(w){l.$keybindingId==f&&l.keyBinding.setKeyboardHandler(w&&w.handler),v&&v()})}else this.$keybindingId=null,this.keyBinding.setKeyboardHandler(f),v&&v()},this.getKeyboardHandler=function(){return this.keyBinding.getKeyboardHandler()},this.setSession=function(f){if(this.session!=f){this.curOp&&this.endOperation(),this.curOp={};var v=this.session;if(v){this.session.off("change",this.$onDocumentChange),this.session.off("changeMode",this.$onChangeMode),this.session.off("tokenizerUpdate",this.$onTokenizerUpdate),this.session.off("changeTabSize",this.$onChangeTabSize),this.session.off("changeWrapLimit",this.$onChangeWrapLimit),this.session.off("changeWrapMode",this.$onChangeWrapMode),this.session.off("changeFold",this.$onChangeFold),this.session.off("changeFrontMarker",this.$onChangeFrontMarker),this.session.off("changeBackMarker",this.$onChangeBackMarker),this.session.off("changeBreakpoint",this.$onChangeBreakpoint),this.session.off("changeAnnotation",this.$onChangeAnnotation),this.session.off("changeOverwrite",this.$onCursorChange),this.session.off("changeScrollTop",this.$onScrollTopChange),this.session.off("changeScrollLeft",this.$onScrollLeftChange);var l=this.session.getSelection();l.off("changeCursor",this.$onCursorChange),l.off("changeSelection",this.$onSelectionChange)}this.session=f,f?(this.$onDocumentChange=this.onDocumentChange.bind(this),f.on("change",this.$onDocumentChange),this.renderer.setSession(f),this.$onChangeMode=this.onChangeMode.bind(this),f.on("changeMode",this.$onChangeMode),this.$onTokenizerUpdate=this.onTokenizerUpdate.bind(this),f.on("tokenizerUpdate",this.$onTokenizerUpdate),this.$onChangeTabSize=this.renderer.onChangeTabSize.bind(this.renderer),f.on("changeTabSize",this.$onChangeTabSize),this.$onChangeWrapLimit=this.onChangeWrapLimit.bind(this),f.on("changeWrapLimit",this.$onChangeWrapLimit),this.$onChangeWrapMode=this.onChangeWrapMode.bind(this),f.on("changeWrapMode",this.$onChangeWrapMode),this.$onChangeFold=this.onChangeFold.bind(this),f.on("changeFold",this.$onChangeFold),this.$onChangeFrontMarker=this.onChangeFrontMarker.bind(this),this.session.on("changeFrontMarker",this.$onChangeFrontMarker),this.$onChangeBackMarker=this.onChangeBackMarker.bind(this),this.session.on("changeBackMarker",this.$onChangeBackMarker),this.$onChangeBreakpoint=this.onChangeBreakpoint.bind(this),this.session.on("changeBreakpoint",this.$onChangeBreakpoint),this.$onChangeAnnotation=this.onChangeAnnotation.bind(this),this.session.on("changeAnnotation",this.$onChangeAnnotation),this.$onCursorChange=this.onCursorChange.bind(this),this.session.on("changeOverwrite",this.$onCursorChange),this.$onScrollTopChange=this.onScrollTopChange.bind(this),this.session.on("changeScrollTop",this.$onScrollTopChange),this.$onScrollLeftChange=this.onScrollLeftChange.bind(this),this.session.on("changeScrollLeft",this.$onScrollLeftChange),this.selection=f.getSelection(),this.selection.on("changeCursor",this.$onCursorChange),this.$onSelectionChange=this.onSelectionChange.bind(this),this.selection.on("changeSelection",this.$onSelectionChange),this.onChangeMode(),this.onCursorChange(),this.onScrollTopChange(),this.onScrollLeftChange(),this.onSelectionChange(),this.onChangeFrontMarker(),this.onChangeBackMarker(),this.onChangeBreakpoint(),this.onChangeAnnotation(),this.session.getUseWrapMode()&&this.renderer.adjustWrapLimit(),this.renderer.updateFull()):(this.selection=null,this.renderer.setSession(f)),this._signal("changeSession",{session:f,oldSession:v}),this.curOp=null,v&&v._signal("changeEditor",{oldEditor:this}),f&&f._signal("changeEditor",{editor:this}),f&&f.bgTokenizer&&f.bgTokenizer.scheduleStart()}},this.getSession=function(){return this.session},this.setValue=function(f,v){return this.session.doc.setValue(f),v?v==1?this.navigateFileEnd():v==-1&&this.navigateFileStart():this.selectAll(),f},this.getValue=function(){return this.session.getValue()},this.getSelection=function(){return this.selection},this.resize=function(f){this.renderer.onResize(f)},this.setTheme=function(f,v){this.renderer.setTheme(f,v)},this.getTheme=function(){return this.renderer.getTheme()},this.setStyle=function(f){this.renderer.setStyle(f)},this.unsetStyle=function(f){this.renderer.unsetStyle(f)},this.getFontSize=function(){return this.getOption("fontSize")||R.computedStyle(this.container).fontSize},this.setFontSize=function(f){this.setOption("fontSize",f)},this.$highlightBrackets=function(){if(!this.$highlightPending){var f=this;this.$highlightPending=!0,setTimeout(function(){f.$highlightPending=!1;var v=f.session;if(!(!v||!v.bgTokenizer)){v.$bracketHighlight&&(v.$bracketHighlight.markerIds.forEach(function(k){v.removeMarker(k)}),v.$bracketHighlight=null);var l=v.getMatchingBracketRanges(f.getCursorPosition());if(!l&&v.$mode.getMatching&&(l=v.$mode.getMatching(f.session)),!!l){var w="ace_bracket";Array.isArray(l)?l.length==1&&(w="ace_error_bracket"):l=[l],l.length==2&&(o.comparePoints(l[0].end,l[1].start)==0?l=[o.fromPoints(l[0].start,l[1].end)]:o.comparePoints(l[0].start,l[1].end)==0&&(l=[o.fromPoints(l[1].start,l[0].end)])),v.$bracketHighlight={ranges:l,markerIds:l.map(function(k){return v.addMarker(k,w,"text")})}}}},50)}},this.$highlightTags=function(){if(!this.$highlightTagPending){var f=this;this.$highlightTagPending=!0,setTimeout(function(){f.$highlightTagPending=!1;var v=f.session;if(!(!v||!v.bgTokenizer)){var l=f.getCursorPosition(),w=new m(f.session,l.row,l.column),k=w.getCurrentToken();if(!k||!/\b(?:tag-open|tag-name)/.test(k.type)){v.removeMarker(v.$tagHighlight),v.$tagHighlight=null;return}if(!(k.type.indexOf("tag-open")!==-1&&(k=w.stepForward(),!k))){var F=k.value,x=k.value,N=0,G=w.stepBackward();if(G.value==="<")do G=k,k=w.stepForward(),k&&(k.type.indexOf("tag-name")!==-1?(x=k.value,F===x&&(G.value==="<"?N++:G.value==="</"&&N--)):F===x&&k.value==="/>"&&N--);while(k&&N>=0);else{do if(k=G,G=w.stepBackward(),k){if(k.type.indexOf("tag-name")!==-1)F===k.value&&(G.value==="<"?N++:G.value==="</"&&N--);else if(k.value==="/>"){for(var q=0,ne=G;ne;){if(ne.type.indexOf("tag-name")!==-1&&ne.value===F){N--;break}if(ne.value==="<")break;ne=w.stepBackward(),q++}for(var X=0;X<q;X++)w.stepForward()}}while(G&&N<=0);w.stepForward()}if(!k){v.removeMarker(v.$tagHighlight),v.$tagHighlight=null;return}var j=w.getCurrentTokenRow(),Y=w.getCurrentTokenColumn(),ee=new o(j,Y,j,Y+k.value.length),ie=v.$backMarkers[v.$tagHighlight];v.$tagHighlight&&ie!=null&&ee.compareRange(ie.range)!==0&&(v.removeMarker(v.$tagHighlight),v.$tagHighlight=null),v.$tagHighlight||(v.$tagHighlight=v.addMarker(ee,"ace_bracket","text"))}}},50)}},this.focus=function(){var f=this;setTimeout(function(){f.isFocused()||f.textInput.focus()}),this.textInput.focus()},this.isFocused=function(){return this.textInput.isFocused()},this.blur=function(){this.textInput.blur()},this.onFocus=function(f){this.$isFocused||(this.$isFocused=!0,this.renderer.showCursor(),this.renderer.visualizeFocus(),this._emit("focus",f))},this.onBlur=function(f){this.$isFocused&&(this.$isFocused=!1,this.renderer.hideCursor(),this.renderer.visualizeBlur(),this._emit("blur",f))},this.$cursorChange=function(){this.renderer.updateCursor(),this.$highlightBrackets(),this.$highlightTags(),this.$updateHighlightActiveLine()},this.onDocumentChange=function(f){var v=this.session.$useWrapMode,l=f.start.row==f.end.row?f.end.row:1/0;this.renderer.updateLines(f.start.row,l,v),this._signal("change",f),this.$cursorChange()},this.onTokenizerUpdate=function(f){var v=f.data;this.renderer.updateLines(v.first,v.last)},this.onScrollTopChange=function(){this.renderer.scrollToY(this.session.getScrollTop())},this.onScrollLeftChange=function(){this.renderer.scrollToX(this.session.getScrollLeft())},this.onCursorChange=function(){this.$cursorChange(),this._signal("changeSelection")},this.$updateHighlightActiveLine=function(){var f=this.getSession(),v;if(this.$highlightActiveLine&&((this.$selectionStyle!="line"||!this.selection.isMultiLine())&&(v=this.getCursorPosition()),this.renderer.theme&&this.renderer.theme.$selectionColorConflict&&!this.selection.isEmpty()&&(v=!1),this.renderer.$maxLines&&this.session.getLength()===1&&!(this.renderer.$minLines>1)&&(v=!1)),f.$highlightLineMarker&&!v)f.removeMarker(f.$highlightLineMarker.id),f.$highlightLineMarker=null;else if(!f.$highlightLineMarker&&v){var l=new o(v.row,v.column,v.row,1/0);l.id=f.addMarker(l,"ace_active-line","screenLine"),f.$highlightLineMarker=l}else v&&(f.$highlightLineMarker.start.row=v.row,f.$highlightLineMarker.end.row=v.row,f.$highlightLineMarker.start.column=v.column,f._signal("changeBackMarker"))},this.onSelectionChange=function(f){var v=this.session;if(v.$selectionMarker&&v.removeMarker(v.$selectionMarker),v.$selectionMarker=null,this.selection.isEmpty())this.$updateHighlightActiveLine();else{var l=this.selection.getRange(),w=this.getSelectionStyle();v.$selectionMarker=v.addMarker(l,"ace_selection",w)}var k=this.$highlightSelectedWord&&this.$getSelectionHighLightRegexp();this.session.highlight(k),this._signal("changeSelection")},this.$getSelectionHighLightRegexp=function(){var f=this.session,v=this.getSelectionRange();if(!(v.isEmpty()||v.isMultiLine())){var l=v.start.column,w=v.end.column,k=f.getLine(v.start.row),F=k.substring(l,w);if(!(F.length>5e3||!/[\w\d]/.test(F))){var x=this.$search.$assembleRegExp({wholeWord:!0,caseSensitive:!0,needle:F}),N=k.substring(l-1,w+1);if(x.test(N))return x}}},this.onChangeFrontMarker=function(){this.renderer.updateFrontMarkers()},this.onChangeBackMarker=function(){this.renderer.updateBackMarkers()},this.onChangeBreakpoint=function(){this.renderer.updateBreakpoints()},this.onChangeAnnotation=function(){this.renderer.setAnnotations(this.session.getAnnotations())},this.onChangeMode=function(f){this.renderer.updateText(),this._emit("changeMode",f)},this.onChangeWrapLimit=function(){this.renderer.updateFull()},this.onChangeWrapMode=function(){this.renderer.onResize(!0)},this.onChangeFold=function(){this.$updateHighlightActiveLine(),this.renderer.updateFull()},this.getSelectedText=function(){return this.session.getTextRange(this.getSelectionRange())},this.getCopyText=function(){var f=this.getSelectedText(),v=this.session.doc.getNewLineCharacter(),l=!1;if(!f&&this.$copyWithEmptySelection){l=!0;for(var w=this.selection.getAllRanges(),k=0;k<w.length;k++){var F=w[k];k&&w[k-1].start.row==F.start.row||(f+=this.session.getLine(F.start.row)+v)}}var x={text:f};return this._signal("copy",x),s.lineMode=l?x.text:"",x.text},this.onCopy=function(){this.commands.exec("copy",this)},this.onCut=function(){this.commands.exec("cut",this)},this.onPaste=function(f,v){var l={text:f,event:v};this.commands.exec("paste",this,l)},this.$handlePaste=function(f){typeof f=="string"&&(f={text:f}),this._signal("paste",f);var v=f.text,l=v==s.lineMode,w=this.session;if(!this.inMultiSelectMode||this.inVirtualSelectionMode)l?w.insert({row:this.selection.lead.row,column:0},v):this.insert(v);else if(l)this.selection.rangeList.ranges.forEach(function(q){w.insert({row:q.start.row,column:0},v)});else{var k=v.split(/\r\n|\r|\n/),F=this.selection.rangeList.ranges,x=k.length==2&&(!k[0]||!k[1]);if(k.length!=F.length||x)return this.commands.exec("insertstring",this,v);for(var N=F.length;N--;){var G=F[N];G.isEmpty()||w.remove(G),w.insert(G.start,k[N])}}},this.execCommand=function(f,v){return this.commands.exec(f,this,v)},this.insert=function(f,v){var l=this.session,w=l.getMode(),k=this.getCursorPosition();if(this.getBehavioursEnabled()&&!v){var F=w.transformAction(l.getState(k.row),"insertion",this,l,f);F&&(f!==F.text&&(this.inVirtualSelectionMode||(this.session.mergeUndoDeltas=!1,this.mergeNextCommand=!1)),f=F.text)}if(f=="	"&&(f=this.session.getTabString()),this.selection.isEmpty()){if(this.session.getOverwrite()&&f.indexOf(`
`)==-1){var x=new o.fromPoints(k,k);x.end.column+=f.length,this.session.remove(x)}}else{var x=this.getSelectionRange();k=this.session.remove(x),this.clearSelection()}if(f==`
`||f==`\r
`){var ne=l.getLine(k.row);if(k.column>ne.search(/\S|$/)){var N=ne.substr(k.column).search(/\S|$/);l.doc.removeInLine(k.row,k.column,k.column+N)}}this.clearSelection();var G=k.column,q=l.getState(k.row),ne=l.getLine(k.row),X=w.checkOutdent(q,ne,f);if(l.insert(k,f),F&&F.selection&&(F.selection.length==2?this.selection.setSelectionRange(new o(k.row,G+F.selection[0],k.row,G+F.selection[1])):this.selection.setSelectionRange(new o(k.row+F.selection[0],F.selection[1],k.row+F.selection[2],F.selection[3]))),this.$enableAutoIndent){if(l.getDocument().isNewLine(f)){var j=w.getNextLineIndent(q,ne.slice(0,k.column),l.getTabString());l.insert({row:k.row+1,column:0},j)}X&&w.autoOutdent(q,l,k.row)}},this.autoIndent=function(){var f=this.session,v=f.getMode(),l,w;if(this.selection.isEmpty())l=0,w=f.doc.getLength()-1;else{var k=this.getSelectionRange();l=k.start.row,w=k.end.row}for(var F="",x="",N="",G,q,ne,X=f.getTabString(),j=l;j<=w;j++)j>0&&(F=f.getState(j-1),x=f.getLine(j-1),N=v.getNextLineIndent(F,x,X)),G=f.getLine(j),q=v.$getIndent(G),N!==q&&(q.length>0&&(ne=new o(j,0,j,q.length),f.remove(ne)),N.length>0&&f.insert({row:j,column:0},N)),v.autoOutdent(F,f,j)},this.onTextInput=function(f,v){if(!v)return this.keyBinding.onTextInput(f);this.startOperation({command:{name:"insertstring"}});var l=this.applyComposition.bind(this,f,v);this.selection.rangeCount?this.forEachSelection(l):l(),this.endOperation()},this.applyComposition=function(f,v){if(v.extendLeft||v.extendRight){var l=this.selection.getRange();l.start.column-=v.extendLeft,l.end.column+=v.extendRight,l.start.column<0&&(l.start.row--,l.start.column+=this.session.getLine(l.start.row).length+1),this.selection.setRange(l),!f&&!l.isEmpty()&&this.remove()}if((f||!this.selection.isEmpty())&&this.insert(f,!0),v.restoreStart||v.restoreEnd){var l=this.selection.getRange();l.start.column-=v.restoreStart,l.end.column-=v.restoreEnd,this.selection.setRange(l)}},this.onCommandKey=function(f,v,l){return this.keyBinding.onCommandKey(f,v,l)},this.setOverwrite=function(f){this.session.setOverwrite(f)},this.getOverwrite=function(){return this.session.getOverwrite()},this.toggleOverwrite=function(){this.session.toggleOverwrite()},this.setScrollSpeed=function(f){this.setOption("scrollSpeed",f)},this.getScrollSpeed=function(){return this.getOption("scrollSpeed")},this.setDragDelay=function(f){this.setOption("dragDelay",f)},this.getDragDelay=function(){return this.getOption("dragDelay")},this.setSelectionStyle=function(f){this.setOption("selectionStyle",f)},this.getSelectionStyle=function(){return this.getOption("selectionStyle")},this.setHighlightActiveLine=function(f){this.setOption("highlightActiveLine",f)},this.getHighlightActiveLine=function(){return this.getOption("highlightActiveLine")},this.setHighlightGutterLine=function(f){this.setOption("highlightGutterLine",f)},this.getHighlightGutterLine=function(){return this.getOption("highlightGutterLine")},this.setHighlightSelectedWord=function(f){this.setOption("highlightSelectedWord",f)},this.getHighlightSelectedWord=function(){return this.$highlightSelectedWord},this.setAnimatedScroll=function(f){this.renderer.setAnimatedScroll(f)},this.getAnimatedScroll=function(){return this.renderer.getAnimatedScroll()},this.setShowInvisibles=function(f){this.renderer.setShowInvisibles(f)},this.getShowInvisibles=function(){return this.renderer.getShowInvisibles()},this.setDisplayIndentGuides=function(f){this.renderer.setDisplayIndentGuides(f)},this.getDisplayIndentGuides=function(){return this.renderer.getDisplayIndentGuides()},this.setShowPrintMargin=function(f){this.renderer.setShowPrintMargin(f)},this.getShowPrintMargin=function(){return this.renderer.getShowPrintMargin()},this.setPrintMarginColumn=function(f){this.renderer.setPrintMarginColumn(f)},this.getPrintMarginColumn=function(){return this.renderer.getPrintMarginColumn()},this.setReadOnly=function(f){this.setOption("readOnly",f)},this.getReadOnly=function(){return this.getOption("readOnly")},this.setBehavioursEnabled=function(f){this.setOption("behavioursEnabled",f)},this.getBehavioursEnabled=function(){return this.getOption("behavioursEnabled")},this.setWrapBehavioursEnabled=function(f){this.setOption("wrapBehavioursEnabled",f)},this.getWrapBehavioursEnabled=function(){return this.getOption("wrapBehavioursEnabled")},this.setShowFoldWidgets=function(f){this.setOption("showFoldWidgets",f)},this.getShowFoldWidgets=function(){return this.getOption("showFoldWidgets")},this.setFadeFoldWidgets=function(f){this.setOption("fadeFoldWidgets",f)},this.getFadeFoldWidgets=function(){return this.getOption("fadeFoldWidgets")},this.remove=function(f){this.selection.isEmpty()&&(f=="left"?this.selection.selectLeft():this.selection.selectRight());var v=this.getSelectionRange();if(this.getBehavioursEnabled()){var l=this.session,w=l.getState(v.start.row),k=l.getMode().transformAction(w,"deletion",this,l,v);if(v.end.column===0){var F=l.getTextRange(v);if(F[F.length-1]==`
`){var x=l.getLine(v.end.row);/^\s+$/.test(x)&&(v.end.column=x.length)}}k&&(v=k)}this.session.remove(v),this.clearSelection()},this.removeWordRight=function(){this.selection.isEmpty()&&this.selection.selectWordRight(),this.session.remove(this.getSelectionRange()),this.clearSelection()},this.removeWordLeft=function(){this.selection.isEmpty()&&this.selection.selectWordLeft(),this.session.remove(this.getSelectionRange()),this.clearSelection()},this.removeToLineStart=function(){this.selection.isEmpty()&&this.selection.selectLineStart(),this.selection.isEmpty()&&this.selection.selectLeft(),this.session.remove(this.getSelectionRange()),this.clearSelection()},this.removeToLineEnd=function(){this.selection.isEmpty()&&this.selection.selectLineEnd();var f=this.getSelectionRange();f.start.column==f.end.column&&f.start.row==f.end.row&&(f.end.column=0,f.end.row++),this.session.remove(f),this.clearSelection()},this.splitLine=function(){this.selection.isEmpty()||(this.session.remove(this.getSelectionRange()),this.clearSelection());var f=this.getCursorPosition();this.insert(`
`),this.moveCursorToPosition(f)},this.transposeLetters=function(){if(this.selection.isEmpty()){var f=this.getCursorPosition(),v=f.column;if(v!==0){var l=this.session.getLine(f.row),w,k;v<l.length?(w=l.charAt(v)+l.charAt(v-1),k=new o(f.row,v-1,f.row,v+1)):(w=l.charAt(v-1)+l.charAt(v-2),k=new o(f.row,v-2,f.row,v)),this.session.replace(k,w),this.session.selection.moveToPosition(k.end)}}},this.toLowerCase=function(){var f=this.getSelectionRange();this.selection.isEmpty()&&this.selection.selectWord();var v=this.getSelectionRange(),l=this.session.getTextRange(v);this.session.replace(v,l.toLowerCase()),this.selection.setSelectionRange(f)},this.toUpperCase=function(){var f=this.getSelectionRange();this.selection.isEmpty()&&this.selection.selectWord();var v=this.getSelectionRange(),l=this.session.getTextRange(v);this.session.replace(v,l.toUpperCase()),this.selection.setSelectionRange(f)},this.indent=function(){var f=this.session,v=this.getSelectionRange();if(v.start.row<v.end.row){var l=this.$getSelectedRows();f.indentRows(l.first,l.last,"	");return}if(v.start.column<v.end.column){var w=f.getTextRange(v);if(!/^\s+$/.test(w)){var l=this.$getSelectedRows();f.indentRows(l.first,l.last,"	");return}}var k=f.getLine(v.start.row),F=v.start,x=f.getTabSize(),N=f.documentToScreenColumn(F.row,F.column);if(this.session.getUseSoftTabs())var G=x-N%x,q=d.stringRepeat(" ",G);else{for(var G=N%x;k[v.start.column-1]==" "&&G;)v.start.column--,G--;this.selection.setSelectionRange(v),q="	"}return this.insert(q)},this.blockIndent=function(){var f=this.$getSelectedRows();this.session.indentRows(f.first,f.last,"	")},this.blockOutdent=function(){var f=this.session.getSelection();this.session.outdentRows(f.getRange())},this.sortLines=function(){for(var f=this.$getSelectedRows(),v=this.session,l=[],w=f.first;w<=f.last;w++)l.push(v.getLine(w));l.sort(function(x,N){return x.toLowerCase()<N.toLowerCase()?-1:x.toLowerCase()>N.toLowerCase()?1:0});for(var k=new o(0,0,0,0),w=f.first;w<=f.last;w++){var F=v.getLine(w);k.start.row=w,k.end.row=w,k.end.column=F.length,v.replace(k,l[w-f.first])}},this.toggleCommentLines=function(){var f=this.session.getState(this.getCursorPosition().row),v=this.$getSelectedRows();this.session.getMode().toggleCommentLines(f,this.session,v.first,v.last)},this.toggleBlockComment=function(){var f=this.getCursorPosition(),v=this.session.getState(f.row),l=this.getSelectionRange();this.session.getMode().toggleBlockComment(v,this.session,l,f)},this.getNumberAt=function(f,v){var l=/[\-]?[0-9]+(?:\.[0-9]+)?/g;l.lastIndex=0;for(var w=this.session.getLine(f);l.lastIndex<v;){var k=l.exec(w);if(k.index<=v&&k.index+k[0].length>=v){var F={value:k[0],start:k.index,end:k.index+k[0].length};return F}}return null},this.modifyNumber=function(f){var v=this.selection.getCursor().row,l=this.selection.getCursor().column,w=new o(v,l-1,v,l),k=this.session.getTextRange(w);if(!isNaN(parseFloat(k))&&isFinite(k)){var F=this.getNumberAt(v,l);if(F){var x=F.value.indexOf(".")>=0?F.start+F.value.indexOf(".")+1:F.end,N=F.start+F.value.length-x,G=parseFloat(F.value);G*=Math.pow(10,N),x!==F.end&&l<x?f*=Math.pow(10,F.end-l-1):f*=Math.pow(10,F.end-l),G+=f,G/=Math.pow(10,N);var q=G.toFixed(N),ne=new o(v,F.start,v,F.end);this.session.replace(ne,q),this.moveCursorTo(v,Math.max(F.start+1,l+q.length-F.value.length))}}else this.toggleWord()},this.$toggleWordPairs=[["first","last"],["true","false"],["yes","no"],["width","height"],["top","bottom"],["right","left"],["on","off"],["x","y"],["get","set"],["max","min"],["horizontal","vertical"],["show","hide"],["add","remove"],["up","down"],["before","after"],["even","odd"],["in","out"],["inside","outside"],["next","previous"],["increase","decrease"],["attach","detach"],["&&","||"],["==","!="]],this.toggleWord=function(){var f=this.selection.getCursor().row,v=this.selection.getCursor().column;this.selection.selectWord();var l=this.getSelectedText(),w=this.selection.getWordRange().start.column,k=l.replace(/([a-z]+|[A-Z]+)(?=[A-Z_]|$)/g,"$1 ").split(/\s/),F=v-w-1;F<0&&(F=0);var x=0,N=0,G=this;l.match(/[A-Za-z0-9_]+/)&&k.forEach(function(ce,ye){N=x+ce.length,F>=x&&F<=N&&(l=ce,G.selection.clearSelection(),G.moveCursorTo(f,x+w),G.selection.selectTo(f,N+w)),x=N});for(var q=this.$toggleWordPairs,ne,X=0;X<q.length;X++)for(var j=q[X],Y=0;Y<=1;Y++){var ee=+!Y,ie=l.match(new RegExp("^\\s?_?("+d.escapeRegExp(j[Y])+")\\s?$","i"));if(ie){var ae=l.match(new RegExp("([_]|^|\\s)("+d.escapeRegExp(ie[1])+")($|\\s)","g"));ae&&(ne=l.replace(new RegExp(d.escapeRegExp(j[Y]),"i"),function(ce){var ye=j[ee];return ce.toUpperCase()==ce?ye=ye.toUpperCase():ce.charAt(0).toUpperCase()==ce.charAt(0)&&(ye=ye.substr(0,0)+j[ee].charAt(0).toUpperCase()+ye.substr(1)),ye}),this.insert(ne),ne="")}}},this.removeLines=function(){var f=this.$getSelectedRows();this.session.removeFullLines(f.first,f.last),this.clearSelection()},this.duplicateSelection=function(){var f=this.selection,v=this.session,l=f.getRange(),w=f.isBackwards();if(l.isEmpty()){var k=l.start.row;v.duplicateLines(k,k)}else{var F=w?l.start:l.end,x=v.insert(F,v.getTextRange(l),!1);l.start=F,l.end=x,f.setSelectionRange(l,w)}},this.moveLinesDown=function(){this.$moveLines(1,!1)},this.moveLinesUp=function(){this.$moveLines(-1,!1)},this.moveText=function(f,v,l){return this.session.moveText(f,v,l)},this.copyLinesUp=function(){this.$moveLines(-1,!0)},this.copyLinesDown=function(){this.$moveLines(1,!0)},this.$moveLines=function(f,v){var l,w,k=this.selection;if(!k.inMultiSelectMode||this.inVirtualSelectionMode){var F=k.toOrientedRange();l=this.$getSelectedRows(F),w=this.session.$moveLines(l.first,l.last,v?0:f),v&&f==-1&&(w=0),F.moveBy(w,0),k.fromOrientedRange(F)}else{var x=k.rangeList.ranges;k.rangeList.detach(this.session),this.inVirtualSelectionMode=!0;for(var N=0,G=0,q=x.length,ne=0;ne<q;ne++){var X=ne;x[ne].moveBy(N,0),l=this.$getSelectedRows(x[ne]);for(var j=l.first,Y=l.last;++ne<q;){G&&x[ne].moveBy(G,0);var ee=this.$getSelectedRows(x[ne]);if(v&&ee.first!=Y||!v&&ee.first>Y+1)break;Y=ee.last}for(ne--,N=this.session.$moveLines(j,Y,v?0:f),v&&f==-1&&(X=ne+1);X<=ne;)x[X].moveBy(N,0),X++;v||(N=0),G+=N}k.fromOrientedRange(k.ranges[0]),k.rangeList.attach(this.session),this.inVirtualSelectionMode=!1}},this.$getSelectedRows=function(f){return f=(f||this.getSelectionRange()).collapseRows(),{first:this.session.getRowFoldStart(f.start.row),last:this.session.getRowFoldEnd(f.end.row)}},this.onCompositionStart=function(f){this.renderer.showComposition(f)},this.onCompositionUpdate=function(f){this.renderer.setCompositionText(f)},this.onCompositionEnd=function(){this.renderer.hideComposition()},this.getFirstVisibleRow=function(){return this.renderer.getFirstVisibleRow()},this.getLastVisibleRow=function(){return this.renderer.getLastVisibleRow()},this.isRowVisible=function(f){return f>=this.getFirstVisibleRow()&&f<=this.getLastVisibleRow()},this.isRowFullyVisible=function(f){return f>=this.renderer.getFirstFullyVisibleRow()&&f<=this.renderer.getLastFullyVisibleRow()},this.$getVisibleRowCount=function(){return this.renderer.getScrollBottomRow()-this.renderer.getScrollTopRow()+1},this.$moveByPage=function(f,v){var l=this.renderer,w=this.renderer.layerConfig,k=f*Math.floor(w.height/w.lineHeight);v===!0?this.selection.$moveSelection(function(){this.moveCursorBy(k,0)}):v===!1&&(this.selection.moveCursorBy(k,0),this.selection.clearSelection());var F=l.scrollTop;l.scrollBy(0,k*w.lineHeight),v!=null&&l.scrollCursorIntoView(null,.5),l.animateScrolling(F)},this.selectPageDown=function(){this.$moveByPage(1,!0)},this.selectPageUp=function(){this.$moveByPage(-1,!0)},this.gotoPageDown=function(){this.$moveByPage(1,!1)},this.gotoPageUp=function(){this.$moveByPage(-1,!1)},this.scrollPageDown=function(){this.$moveByPage(1)},this.scrollPageUp=function(){this.$moveByPage(-1)},this.scrollToRow=function(f){this.renderer.scrollToRow(f)},this.scrollToLine=function(f,v,l,w){this.renderer.scrollToLine(f,v,l,w)},this.centerSelection=function(){var f=this.getSelectionRange(),v={row:Math.floor(f.start.row+(f.end.row-f.start.row)/2),column:Math.floor(f.start.column+(f.end.column-f.start.column)/2)};this.renderer.alignCursor(v,.5)},this.getCursorPosition=function(){return this.selection.getCursor()},this.getCursorPositionScreen=function(){return this.session.documentToScreenPosition(this.getCursorPosition())},this.getSelectionRange=function(){return this.selection.getRange()},this.selectAll=function(){this.selection.selectAll()},this.clearSelection=function(){this.selection.clearSelection()},this.moveCursorTo=function(f,v){this.selection.moveCursorTo(f,v)},this.moveCursorToPosition=function(f){this.selection.moveCursorToPosition(f)},this.jumpToMatching=function(f,v){var l=this.getCursorPosition(),w=new m(this.session,l.row,l.column),k=w.getCurrentToken(),F=k||w.stepForward();if(F){var x,N=!1,G={},q=l.column-F.start,ne,X={")":"(","(":"(","]":"[","[":"[","{":"{","}":"{"};do{if(F.value.match(/[{}()\[\]]/g)){for(;q<F.value.length&&!N;q++)if(X[F.value[q]])switch(ne=X[F.value[q]]+"."+F.type.replace("rparen","lparen"),isNaN(G[ne])&&(G[ne]=0),F.value[q]){case"(":case"[":case"{":G[ne]++;break;case")":case"]":case"}":G[ne]--,G[ne]===-1&&(x="bracket",N=!0)}}else F.type.indexOf("tag-name")!==-1&&(isNaN(G[F.value])&&(G[F.value]=0),k.value==="<"?G[F.value]++:k.value==="</"&&G[F.value]--,G[F.value]===-1&&(x="tag",N=!0));N||(k=F,F=w.stepForward(),q=0)}while(F&&!N);if(x){var j,Y;if(x==="bracket")j=this.session.getBracketRange(l),j||(j=new o(w.getCurrentTokenRow(),w.getCurrentTokenColumn()+q-1,w.getCurrentTokenRow(),w.getCurrentTokenColumn()+q-1),Y=j.start,(v||Y.row===l.row&&Math.abs(Y.column-l.column)<2)&&(j=this.session.getBracketRange(Y)));else if(x==="tag"){if(!F||F.type.indexOf("tag-name")===-1)return;var ee=F.value;if(j=new o(w.getCurrentTokenRow(),w.getCurrentTokenColumn()-2,w.getCurrentTokenRow(),w.getCurrentTokenColumn()-2),j.compare(l.row,l.column)===0){N=!1;do F=k,k=w.stepBackward(),k&&(k.type.indexOf("tag-close")!==-1&&j.setEnd(w.getCurrentTokenRow(),w.getCurrentTokenColumn()+1),F.value===ee&&F.type.indexOf("tag-name")!==-1&&(k.value==="<"?G[ee]++:k.value==="</"&&G[ee]--,G[ee]===0&&(N=!0)));while(k&&!N)}F&&F.type.indexOf("tag-name")&&(Y=j.start,Y.row==l.row&&Math.abs(Y.column-l.column)<2&&(Y=j.end))}Y=j&&j.cursor||Y,Y&&(f?j&&v?this.selection.setRange(j):j&&j.isEqual(this.getSelectionRange())?this.clearSelection():this.selection.selectTo(Y.row,Y.column):this.selection.moveTo(Y.row,Y.column))}}},this.gotoLine=function(f,v,l){this.selection.clearSelection(),this.session.unfold({row:f-1,column:v||0}),this.exitMultiSelectMode&&this.exitMultiSelectMode(),this.moveCursorTo(f-1,v||0),this.isRowFullyVisible(f-1)||this.scrollToLine(f-1,!0,l)},this.navigateTo=function(f,v){this.selection.moveTo(f,v)},this.navigateUp=function(f){if(this.selection.isMultiLine()&&!this.selection.isBackwards()){var v=this.selection.anchor.getPosition();return this.moveCursorToPosition(v)}this.selection.clearSelection(),this.selection.moveCursorBy(-f||-1,0)},this.navigateDown=function(f){if(this.selection.isMultiLine()&&this.selection.isBackwards()){var v=this.selection.anchor.getPosition();return this.moveCursorToPosition(v)}this.selection.clearSelection(),this.selection.moveCursorBy(f||1,0)},this.navigateLeft=function(f){if(this.selection.isEmpty())for(f=f||1;f--;)this.selection.moveCursorLeft();else{var v=this.getSelectionRange().start;this.moveCursorToPosition(v)}this.clearSelection()},this.navigateRight=function(f){if(this.selection.isEmpty())for(f=f||1;f--;)this.selection.moveCursorRight();else{var v=this.getSelectionRange().end;this.moveCursorToPosition(v)}this.clearSelection()},this.navigateLineStart=function(){this.selection.moveCursorLineStart(),this.clearSelection()},this.navigateLineEnd=function(){this.selection.moveCursorLineEnd(),this.clearSelection()},this.navigateFileEnd=function(){this.selection.moveCursorFileEnd(),this.clearSelection()},this.navigateFileStart=function(){this.selection.moveCursorFileStart(),this.clearSelection()},this.navigateWordRight=function(){this.selection.moveCursorWordRight(),this.clearSelection()},this.navigateWordLeft=function(){this.selection.moveCursorWordLeft(),this.clearSelection()},this.replace=function(f,v){v&&this.$search.set(v);var l=this.$search.find(this.session),w=0;return l&&(this.$tryReplace(l,f)&&(w=1),this.selection.setSelectionRange(l),this.renderer.scrollSelectionIntoView(l.start,l.end)),w},this.replaceAll=function(f,v){v&&this.$search.set(v);var l=this.$search.findAll(this.session),w=0;if(!l.length)return w;var k=this.getSelectionRange();this.selection.moveTo(0,0);for(var F=l.length-1;F>=0;--F)this.$tryReplace(l[F],f)&&w++;return this.selection.setSelectionRange(k),w},this.$tryReplace=function(f,v){var l=this.session.getTextRange(f);return v=this.$search.replace(l,v),v!==null?(f.end=this.session.replace(f,v),f):null},this.getLastSearchOptions=function(){return this.$search.getOptions()},this.find=function(f,v,l){v||(v={}),typeof f=="string"||f instanceof RegExp?v.needle=f:typeof f=="object"&&E.mixin(v,f);var w=this.selection.getRange();v.needle==null&&(f=this.session.getTextRange(w)||this.$search.$options.needle,f||(w=this.session.getWordRange(w.start.row,w.start.column),f=this.session.getTextRange(w)),this.$search.set({needle:f})),this.$search.set(v),v.start||this.$search.set({start:w});var k=this.$search.find(this.session);if(v.preventScroll)return k;if(k)return this.revealRange(k,l),k;v.backwards?w.start=w.end:w.end=w.start,this.selection.setRange(w)},this.findNext=function(f,v){this.find({skipCurrent:!0,backwards:!1},f,v)},this.findPrevious=function(f,v){this.find(f,{skipCurrent:!0,backwards:!0},v)},this.revealRange=function(f,v){this.session.unfold(f),this.selection.setSelectionRange(f);var l=this.renderer.scrollTop;this.renderer.scrollSelectionIntoView(f.start,f.end,.5),v!==!1&&this.renderer.animateScrolling(l)},this.undo=function(){this.session.getUndoManager().undo(this.session),this.renderer.scrollCursorIntoView(null,.5)},this.redo=function(){this.session.getUndoManager().redo(this.session),this.renderer.scrollCursorIntoView(null,.5)},this.destroy=function(){this.$toDestroy&&(this.$toDestroy.forEach(function(f){f.destroy()}),this.$toDestroy=null),this.$mouseHandler&&this.$mouseHandler.destroy(),this.renderer.destroy(),this._signal("destroy",this),this.session&&this.session.destroy(),this._$emitInputEvent&&this._$emitInputEvent.cancel(),this.removeAllListeners()},this.setAutoScrollEditorIntoView=function(f){if(f){var v,l=this,w=!1;this.$scrollAnchor||(this.$scrollAnchor=document.createElement("div"));var k=this.$scrollAnchor;k.style.cssText="position:absolute",this.container.insertBefore(k,this.container.firstChild);var F=this.on("changeSelection",function(){w=!0}),x=this.renderer.on("beforeRender",function(){w&&(v=l.renderer.container.getBoundingClientRect())}),N=this.renderer.on("afterRender",function(){if(w&&v&&(l.isFocused()||l.searchBox&&l.searchBox.isFocused())){var G=l.renderer,q=G.$cursorLayer.$pixelPos,ne=G.layerConfig,X=q.top-ne.offset;q.top>=0&&X+v.top<0?w=!0:q.top<ne.height&&q.top+v.top+ne.lineHeight>window.innerHeight?w=!1:w=null,w!=null&&(k.style.top=X+"px",k.style.left=q.left+"px",k.style.height=ne.lineHeight+"px",k.scrollIntoView(w)),w=v=null}});this.setAutoScrollEditorIntoView=function(G){G||(delete this.setAutoScrollEditorIntoView,this.off("changeSelection",F),this.renderer.off("afterRender",N),this.renderer.off("beforeRender",x))}}},this.$resetCursorStyle=function(){var f=this.$cursorStyle||"ace",v=this.renderer.$cursorLayer;v&&(v.setSmoothBlinking(/smooth/.test(f)),v.isBlinking=!this.$readOnly&&f!="wide",R.setCssClass(v.element,"ace_slim-cursors",/slim/.test(f)))},this.prompt=function(f,v,l){var w=this;L.loadModule("./ext/prompt",function(k){k.prompt(w,f,v,l)})}}).call(g.prototype),L.defineOptions(g.prototype,"editor",{selectionStyle:{set:function(f){this.onSelectionChange(),this._signal("changeSelectionStyle",{data:f})},initialValue:"line"},highlightActiveLine:{set:function(){this.$updateHighlightActiveLine()},initialValue:!0},highlightSelectedWord:{set:function(f){this.$onSelectionChange()},initialValue:!0},readOnly:{set:function(f){this.textInput.setReadOnly(f),this.$resetCursorStyle()},initialValue:!1},copyWithEmptySelection:{set:function(f){this.textInput.setCopyWithEmptySelection(f)},initialValue:!1},cursorStyle:{set:function(f){this.$resetCursorStyle()},values:["ace","slim","smooth","wide"],initialValue:"ace"},mergeUndoDeltas:{values:[!1,!0,"always"],initialValue:!0},behavioursEnabled:{initialValue:!0},wrapBehavioursEnabled:{initialValue:!0},enableAutoIndent:{initialValue:!0},autoScrollEditorIntoView:{set:function(f){this.setAutoScrollEditorIntoView(f)}},keyboardHandler:{set:function(f){this.setKeyboardHandler(f)},get:function(){return this.$keybindingId},handlesSet:!0},value:{set:function(f){this.session.setValue(f)},get:function(){return this.getValue()},handlesSet:!0,hidden:!0},session:{set:function(f){this.setSession(f)},get:function(){return this.session},handlesSet:!0,hidden:!0},showLineNumbers:{set:function(f){this.renderer.$gutterLayer.setShowLineNumbers(f),this.renderer.$loop.schedule(this.renderer.CHANGE_GUTTER),f&&this.$relativeLineNumbers?_.attach(this):_.detach(this)},initialValue:!0},relativeLineNumbers:{set:function(f){this.$showLineNumbers&&f?_.attach(this):_.detach(this)}},placeholder:{set:function(f){this.$updatePlaceholder||(this.$updatePlaceholder=(function(){var v=this.session&&(this.renderer.$composition||this.getValue());if(v&&this.renderer.placeholderNode)this.renderer.off("afterRender",this.$updatePlaceholder),R.removeCssClass(this.container,"ace_hasPlaceholder"),this.renderer.placeholderNode.remove(),this.renderer.placeholderNode=null;else if(!v&&!this.renderer.placeholderNode){this.renderer.on("afterRender",this.$updatePlaceholder),R.addCssClass(this.container,"ace_hasPlaceholder");var l=R.createElement("div");l.className="ace_placeholder",l.textContent=this.$placeholder||"",this.renderer.placeholderNode=l,this.renderer.content.appendChild(this.renderer.placeholderNode)}else!v&&this.renderer.placeholderNode&&(this.renderer.placeholderNode.textContent=this.$placeholder||"")}).bind(this),this.on("input",this.$updatePlaceholder)),this.$updatePlaceholder()}},hScrollBarAlwaysVisible:"renderer",vScrollBarAlwaysVisible:"renderer",highlightGutterLine:"renderer",animatedScroll:"renderer",showInvisibles:"renderer",showPrintMargin:"renderer",printMarginColumn:"renderer",printMargin:"renderer",fadeFoldWidgets:"renderer",showFoldWidgets:"renderer",displayIndentGuides:"renderer",showGutter:"renderer",fontSize:"renderer",fontFamily:"renderer",maxLines:"renderer",minLines:"renderer",scrollPastEnd:"renderer",fixedWidthGutter:"renderer",theme:"renderer",hasCssTransforms:"renderer",maxPixelHeight:"renderer",useTextareaForIME:"renderer",scrollSpeed:"$mouseHandler",dragDelay:"$mouseHandler",dragEnabled:"$mouseHandler",focusTimeout:"$mouseHandler",tooltipFollowsMouse:"$mouseHandler",firstLineNumber:"session",overwrite:"session",newLineMode:"session",useWorker:"session",useSoftTabs:"session",navigateWithinSoftTabs:"session",tabSize:"session",wrap:"session",indentedSoftWrap:"session",foldStyle:"session",mode:"session"});var _={getText:function(f,v){return(Math.abs(f.selection.lead.row-v)||v+1+(v<9?"":""))+""},getWidth:function(f,v,l){return Math.max(v.toString().length,(l.lastRow+1).toString().length,2)*l.characterWidth},update:function(f,v){v.renderer.$loop.schedule(v.renderer.CHANGE_GUTTER)},attach:function(f){f.renderer.$gutterLayer.$renderer=this,f.on("changeSelection",this.update),this.update(null,f)},detach:function(f){f.renderer.$gutterLayer.$renderer==this&&(f.renderer.$gutterLayer.$renderer=null),f.off("changeSelection",this.update),this.update(null,f)}};T.Editor=g}),define("ace/undomanager",["require","exports","module","ace/range"],function(A,T,b){function E(s,g){for(var _=g;_--;){var f=s[_];if(f&&!f[0].ignore){for(;_<g-1;){var v=e(s[_],s[_+1]);s[_]=v[0],s[_+1]=v[1],_++}return!0}}}function R(s){return{row:s.row,column:s.column}}function d(s){return{start:R(s.start),end:R(s.end),action:s.action,lines:s.lines.slice()}}function c(s){if(s=s||this,Array.isArray(s))return s.map(c).join(`
`);var g="";return s.action?(g=s.action=="insert"?"+":"-",g+="["+s.lines+"]"):s.value&&(Array.isArray(s.value)?g=s.value.map(a).join(`
`):g=a(s.value)),s.start&&(g+=a(s)),(s.id||s.rev)&&(g+="	("+(s.id||s.rev)+")"),g}function a(s){return s.start.row+":"+s.start.column+"=>"+s.end.row+":"+s.end.column}function t(s,g){var _=s.action=="insert",f=g.action=="insert";if(_&&f)if(m(g.start,s.end)>=0)r(g,s,-1);else{if(!(m(g.start,s.start)<=0))return null;r(s,g,1)}else if(_&&!f)if(m(g.start,s.end)>=0)r(g,s,-1);else{if(!(m(g.end,s.start)<=0))return null;r(s,g,-1)}else if(!_&&f)if(m(g.start,s.start)>=0)r(g,s,1);else{if(!(m(g.start,s.start)<=0))return null;r(s,g,1)}else if(!_&&!f)if(m(g.start,s.start)>=0)r(g,s,1);else{if(!(m(g.end,s.start)<=0))return null;r(s,g,-1)}return[g,s]}function e(s,g){for(var _=s.length;_--;)for(var f=0;f<g.length;f++)if(!t(s[_],g[f])){for(;_<s.length;){for(;f--;)t(g[f],s[_]);f=g.length,_++}return[s,g]}return s.selectionBefore=g.selectionBefore=s.selectionAfter=g.selectionAfter=null,[g,s]}function n(s,g){var _=s.action=="insert",f=g.action=="insert";if(_&&f)m(s.start,g.start)<0?r(g,s,1):r(s,g,1);else if(_&&!f)m(s.start,g.end)>=0?r(s,g,-1):(m(s.start,g.start)<=0||r(s,L.fromPoints(g.start,s.start),-1),r(g,s,1));else if(!_&&f)m(g.start,s.end)>=0?r(g,s,-1):(m(g.start,s.start)<=0||r(g,L.fromPoints(s.start,g.start),-1),r(s,g,1));else if(!_&&!f)if(m(g.start,s.end)>=0)r(g,s,-1);else{if(!(m(g.end,s.start)<=0)){var v,l;return m(s.start,g.start)<0&&(v=s,s=o(s,g.start)),m(s.end,g.end)>0&&(l=o(s,g.end)),i(g.end,s.start,s.end,-1),l&&!v&&(s.lines=l.lines,s.start=l.start,s.end=l.end,l=s),[g,v,l].filter(Boolean)}r(s,g,-1)}return[g,s]}function r(s,g,_){i(s.start,g.start,g.end,_),i(s.end,g.start,g.end,_)}function i(s,g,_,f){s.row==(f==1?g:_).row&&(s.column+=f*(_.column-g.column)),s.row+=f*(_.row-g.row)}function o(s,g){var _=s.lines,f=s.end;s.end=R(g);var v=s.end.row-s.start.row,l=_.splice(v,_.length),w=v?g.column:g.column-s.start.column;_.push(l[0].substring(0,w)),l[0]=l[0].substr(w);var k={start:R(g),end:f,lines:l,action:s.action};return k}function h(s,g){g=d(g);for(var _=s.length;_--;){for(var f=s[_],v=0;v<f.length;v++){var l=f[v],w=n(l,g);g=w[0],w.length!=2&&(w[2]?(f.splice(v+1,1,w[1],w[2]),v++):w[1]||(f.splice(v,1),v--))}f.length||s.splice(_,1)}return s}function p(s,g){for(var _=0;_<g.length;_++)for(var f=g[_],v=0;v<f.length;v++)h(s,f[v])}var y=function(){this.$maxRev=0,this.$fromUndo=!1,this.reset()};(function(){this.addSession=function(s){this.$session=s},this.add=function(s,g,_){this.$fromUndo||s!=this.$lastDelta&&(this.$keepRedoStack||(this.$redoStack.length=0),(g===!1||!this.lastDeltas)&&(this.lastDeltas=[],this.$undoStack.push(this.lastDeltas),s.id=this.$rev=++this.$maxRev),(s.action=="remove"||s.action=="insert")&&(this.$lastDelta=s),this.lastDeltas.push(s))},this.addSelection=function(s,g){this.selections.push({value:s,rev:g||this.$rev})},this.startNewGroup=function(){return this.lastDeltas=null,this.$rev},this.markIgnored=function(s,g){g==null&&(g=this.$rev+1);for(var _=this.$undoStack,f=_.length;f--;){var v=_[f][0];if(v.id<=s)break;v.id<g&&(v.ignore=!0)}this.lastDeltas=null},this.getSelection=function(s,g){for(var _=this.selections,f=_.length;f--;){var v=_[f];if(v.rev<s)return g&&(v=_[f+1]),v}},this.getRevision=function(){return this.$rev},this.getDeltas=function(s,g){g==null&&(g=this.$rev+1);for(var _=this.$undoStack,f=null,v=0,l=_.length;l--;){var w=_[l][0];if(w.id<g&&!f&&(f=l+1),w.id<=s){v=l+1;break}}return _.slice(v,f)},this.getChangedRanges=function(s,g){g==null&&(g=this.$rev+1)},this.getChangedLines=function(s,g){g==null&&(g=this.$rev+1)},this.undo=function(s,g){this.lastDeltas=null;var _=this.$undoStack;if(E(_,_.length)){s||(s=this.$session),this.$redoStackBaseRev!==this.$rev&&this.$redoStack.length&&(this.$redoStack=[]),this.$fromUndo=!0;var f=_.pop(),v=null;return f&&(v=s.undoChanges(f,g),this.$redoStack.push(f),this.$syncRev()),this.$fromUndo=!1,v}},this.redo=function(s,g){if(this.lastDeltas=null,s||(s=this.$session),this.$fromUndo=!0,this.$redoStackBaseRev!=this.$rev){var _=this.getDeltas(this.$redoStackBaseRev,this.$rev+1);p(this.$redoStack,_),this.$redoStackBaseRev=this.$rev,this.$redoStack.forEach(function(l){l[0].id=++this.$maxRev},this)}var f=this.$redoStack.pop(),v=null;return f&&(v=s.redoChanges(f,g),this.$undoStack.push(f),this.$syncRev()),this.$fromUndo=!1,v},this.$syncRev=function(){var s=this.$undoStack,g=s[s.length-1],_=g&&g[0].id||0;this.$redoStackBaseRev=_,this.$rev=_},this.reset=function(){this.lastDeltas=null,this.$lastDelta=null,this.$undoStack=[],this.$redoStack=[],this.$rev=0,this.mark=0,this.$redoStackBaseRev=this.$rev,this.selections=[]},this.canUndo=function(){return this.$undoStack.length>0},this.canRedo=function(){return this.$redoStack.length>0},this.bookmark=function(s){s==null&&(s=this.$rev),this.mark=s},this.isAtBookmark=function(){return this.$rev===this.mark},this.toJSON=function(){},this.fromJSON=function(){},this.hasUndo=this.canUndo,this.hasRedo=this.canRedo,this.isClean=this.isAtBookmark,this.markClean=this.bookmark,this.$prettyPrint=function(s){return s?c(s):c(this.$undoStack)+`
---
`+c(this.$redoStack)}}).call(y.prototype);var L=A("./range").Range,m=L.comparePoints;L.comparePoints,T.UndoManager=y}),define("ace/layer/lines",["require","exports","module","ace/lib/dom"],function(A,T,b){var E=A("../lib/dom"),R=function(d,c){this.element=d,this.canvasHeight=c||5e5,this.element.style.height=this.canvasHeight*2+"px",this.cells=[],this.cellCache=[],this.$offsetCoefficient=0};(function(){this.moveContainer=function(d){E.translate(this.element,0,-(d.firstRowScreen*d.lineHeight%this.canvasHeight)-d.offset*this.$offsetCoefficient)},this.pageChanged=function(d,c){return Math.floor(d.firstRowScreen*d.lineHeight/this.canvasHeight)!==Math.floor(c.firstRowScreen*c.lineHeight/this.canvasHeight)},this.computeLineTop=function(d,c,a){var t=c.firstRowScreen*c.lineHeight,e=Math.floor(t/this.canvasHeight),n=a.documentToScreenRow(d,0)*c.lineHeight;return n-e*this.canvasHeight},this.computeLineHeight=function(d,c,a){return c.lineHeight*a.getRowLineCount(d)},this.getLength=function(){return this.cells.length},this.get=function(d){return this.cells[d]},this.shift=function(){this.$cacheCell(this.cells.shift())},this.pop=function(){this.$cacheCell(this.cells.pop())},this.push=function(d){if(Array.isArray(d)){this.cells.push.apply(this.cells,d);for(var c=E.createFragment(this.element),a=0;a<d.length;a++)c.appendChild(d[a].element);this.element.appendChild(c)}else this.cells.push(d),this.element.appendChild(d.element)},this.unshift=function(d){if(Array.isArray(d)){this.cells.unshift.apply(this.cells,d);for(var c=E.createFragment(this.element),a=0;a<d.length;a++)c.appendChild(d[a].element);this.element.firstChild?this.element.insertBefore(c,this.element.firstChild):this.element.appendChild(c)}else this.cells.unshift(d),this.element.insertAdjacentElement("afterbegin",d.element)},this.last=function(){return this.cells.length?this.cells[this.cells.length-1]:null},this.$cacheCell=function(d){d&&(d.element.remove(),this.cellCache.push(d))},this.createCell=function(d,c,a,t){var e=this.cellCache.pop();if(!e){var n=E.createElement("div");t&&t(n),this.element.appendChild(n),e={element:n,text:"",row:d}}return e.row=d,e}}).call(R.prototype),T.Lines=R}),define("ace/layer/gutter",["require","exports","module","ace/lib/dom","ace/lib/oop","ace/lib/lang","ace/lib/event_emitter","ace/layer/lines"],function(A,T,b){function E(n){var r=document.createTextNode("");n.appendChild(r);var i=R.createElement("span");return n.appendChild(i),n}var R=A("../lib/dom"),d=A("../lib/oop"),c=A("../lib/lang"),a=A("../lib/event_emitter").EventEmitter,t=A("./lines").Lines,e=function(n){this.element=R.createElement("div"),this.element.className="ace_layer ace_gutter-layer",n.appendChild(this.element),this.setShowFoldWidgets(this.$showFoldWidgets),this.gutterWidth=0,this.$annotations=[],this.$updateAnnotations=this.$updateAnnotations.bind(this),this.$lines=new t(this.element),this.$lines.$offsetCoefficient=1};(function(){d.implement(this,a),this.setSession=function(n){this.session&&this.session.off("change",this.$updateAnnotations),this.session=n,n&&n.on("change",this.$updateAnnotations)},this.addGutterDecoration=function(n,r){window.console&&console.warn&&console.warn("deprecated use session.addGutterDecoration"),this.session.addGutterDecoration(n,r)},this.removeGutterDecoration=function(n,r){window.console&&console.warn&&console.warn("deprecated use session.removeGutterDecoration"),this.session.removeGutterDecoration(n,r)},this.setAnnotations=function(n){this.$annotations=[];for(var r=0;r<n.length;r++){var i=n[r],o=i.row,h=this.$annotations[o];h||(h=this.$annotations[o]={text:[]});var p=i.text;p=p?c.escapeHTML(p):i.html||"",h.text.indexOf(p)===-1&&h.text.push(p);var y=i.type;y=="error"?h.className=" ace_error":y=="warning"&&h.className!=" ace_error"?h.className=" ace_warning":y=="info"&&!h.className&&(h.className=" ace_info")}},this.$updateAnnotations=function(n){if(this.$annotations.length){var r=n.start.row,i=n.end.row-r;if(i!==0)if(n.action=="remove")this.$annotations.splice(r,i+1,null);else{var o=new Array(i+1);o.unshift(r,1),this.$annotations.splice.apply(this.$annotations,o)}}},this.update=function(n){this.config=n;var r=this.session,i=n.firstRow,o=Math.min(n.lastRow+n.gutterOffset,r.getLength()-1);this.oldLastRow=o,this.config=n,this.$lines.moveContainer(n),this.$updateCursorRow();for(var h=r.getNextFoldLine(i),p=h?h.start.row:1/0,y=null,L=-1,m=i;;){if(m>p&&(m=h.end.row+1,h=r.getNextFoldLine(m,h),p=h?h.start.row:1/0),m>o){for(;this.$lines.getLength()>L+1;)this.$lines.pop();break}y=this.$lines.get(++L),y?y.row=m:(y=this.$lines.createCell(m,n,this.session,E),this.$lines.push(y)),this.$renderCell(y,n,h,m),m++}this._signal("afterRender"),this.$updateGutterWidth(n)},this.$updateGutterWidth=function(n){var r=this.session,i=r.gutterRenderer||this.$renderer,o=r.$firstLineNumber,h=this.$lines.last()?this.$lines.last().text:"";(this.$fixedWidth||r.$useWrapMode)&&(h=r.getLength()+o-1);var p=i?i.getWidth(r,h,n):h.toString().length*n.characterWidth,y=this.$padding||this.$computePadding();p+=y.left+y.right,p!==this.gutterWidth&&!isNaN(p)&&(this.gutterWidth=p,this.element.parentNode.style.width=this.element.style.width=Math.ceil(this.gutterWidth)+"px",this._signal("changeGutterWidth",p))},this.$updateCursorRow=function(){if(this.$highlightGutterLine){var n=this.session.selection.getCursor();this.$cursorRow!==n.row&&(this.$cursorRow=n.row)}},this.updateLineHighlight=function(){if(this.$highlightGutterLine){var n=this.session.selection.cursor.row;if(this.$cursorRow=n,!(this.$cursorCell&&this.$cursorCell.row==n)){this.$cursorCell&&(this.$cursorCell.element.className=this.$cursorCell.element.className.replace("ace_gutter-active-line ",""));var r=this.$lines.cells;this.$cursorCell=null;for(var i=0;i<r.length;i++){var o=r[i];if(o.row>=this.$cursorRow){if(o.row>this.$cursorRow){var h=this.session.getFoldLine(this.$cursorRow);if(!(i>0&&h&&h.start.row==r[i-1].row))break;o=r[i-1]}o.element.className="ace_gutter-active-line "+o.element.className,this.$cursorCell=o;break}}}}},this.scrollLines=function(n){var r=this.config;if(this.config=n,this.$updateCursorRow(),this.$lines.pageChanged(r,n))return this.update(n);this.$lines.moveContainer(n);var i=Math.min(n.lastRow+n.gutterOffset,this.session.getLength()-1),o=this.oldLastRow;if(this.oldLastRow=i,!r||o<n.firstRow)return this.update(n);if(i<r.firstRow)return this.update(n);if(r.firstRow<n.firstRow)for(var h=this.session.getFoldedRowCount(r.firstRow,n.firstRow-1);h>0;h--)this.$lines.shift();if(o>i)for(var h=this.session.getFoldedRowCount(i+1,o);h>0;h--)this.$lines.pop();n.firstRow<r.firstRow&&this.$lines.unshift(this.$renderLines(n,n.firstRow,r.firstRow-1)),i>o&&this.$lines.push(this.$renderLines(n,o+1,i)),this.updateLineHighlight(),this._signal("afterRender"),this.$updateGutterWidth(n)},this.$renderLines=function(n,r,i){for(var o=[],h=r,p=this.session.getNextFoldLine(h),y=p?p.start.row:1/0;h>y&&(h=p.end.row+1,p=this.session.getNextFoldLine(h,p),y=p?p.start.row:1/0),!(h>i);){var L=this.$lines.createCell(h,n,this.session,E);this.$renderCell(L,n,p,h),o.push(L),h++}return o},this.$renderCell=function(n,r,i,o){var h=n.element,p=this.session,y=h.childNodes[0],L=h.childNodes[1],m=p.$firstLineNumber,s=p.$breakpoints,g=p.$decorations,_=p.gutterRenderer||this.$renderer,f=this.$showFoldWidgets&&p.foldWidgets,v=i?i.start.row:Number.MAX_VALUE,l="ace_gutter-cell ";if(this.$highlightGutterLine&&(o==this.$cursorRow||i&&o<this.$cursorRow&&o>=v&&this.$cursorRow<=i.end.row)&&(l+="ace_gutter-active-line ",this.$cursorCell!=n&&(this.$cursorCell&&(this.$cursorCell.element.className=this.$cursorCell.element.className.replace("ace_gutter-active-line ","")),this.$cursorCell=n)),s[o]&&(l+=s[o]),g[o]&&(l+=g[o]),this.$annotations[o]&&(l+=this.$annotations[o].className),h.className!=l&&(h.className=l),f){var w=f[o];w==null&&(w=f[o]=p.getFoldWidget(o))}if(w){var l="ace_fold-widget ace_"+w;w=="start"&&o==v&&o<i.end.row?l+=" ace_closed":l+=" ace_open",L.className!=l&&(L.className=l);var k=r.lineHeight+"px";R.setStyle(L.style,"height",k),R.setStyle(L.style,"display","inline-block")}else L&&R.setStyle(L.style,"display","none");var F=(_?_.getText(p,o):o+m).toString();return F!==y.data&&(y.data=F),R.setStyle(n.element.style,"height",this.$lines.computeLineHeight(o,r,p)+"px"),R.setStyle(n.element.style,"top",this.$lines.computeLineTop(o,r,p)+"px"),n.text=F,n},this.$fixedWidth=!1,this.$highlightGutterLine=!0,this.$renderer="",this.setHighlightGutterLine=function(n){this.$highlightGutterLine=n},this.$showLineNumbers=!0,this.$renderer="",this.setShowLineNumbers=function(n){this.$renderer=!n&&{getWidth:function(){return 0},getText:function(){return""}}},this.getShowLineNumbers=function(){return this.$showLineNumbers},this.$showFoldWidgets=!0,this.setShowFoldWidgets=function(n){n?R.addCssClass(this.element,"ace_folding-enabled"):R.removeCssClass(this.element,"ace_folding-enabled"),this.$showFoldWidgets=n,this.$padding=null},this.getShowFoldWidgets=function(){return this.$showFoldWidgets},this.$computePadding=function(){if(!this.element.firstChild)return{left:0,right:0};var n=R.computedStyle(this.element.firstChild);return this.$padding={},this.$padding.left=(parseInt(n.borderLeftWidth)||0)+(parseInt(n.paddingLeft)||0)+1,this.$padding.right=(parseInt(n.borderRightWidth)||0)+(parseInt(n.paddingRight)||0),this.$padding},this.getRegion=function(n){var r=this.$padding||this.$computePadding(),i=this.element.getBoundingClientRect();if(n.x<r.left+i.left)return"markers";if(this.$showFoldWidgets&&n.x>i.right-r.right)return"foldWidgets"}}).call(e.prototype),T.Gutter=e}),define("ace/layer/marker",["require","exports","module","ace/range","ace/lib/dom"],function(A,T,b){var E=A("../range").Range,R=A("../lib/dom"),d=function(c){this.element=R.createElement("div"),this.element.className="ace_layer ace_marker-layer",c.appendChild(this.element)};(function(){function c(a,t,e,n){return(a?1:0)|(t?2:0)|(e?4:0)|(n?8:0)}this.$padding=0,this.setPadding=function(a){this.$padding=a},this.setSession=function(a){this.session=a},this.setMarkers=function(a){this.markers=a},this.elt=function(a,t){var e=this.i!=-1&&this.element.childNodes[this.i];e?this.i++:(e=document.createElement("div"),this.element.appendChild(e),this.i=-1),e.style.cssText=t,e.className=a},this.update=function(a){if(a){this.config=a,this.i=0;var t;for(var e in this.markers){var n=this.markers[e];if(!n.range){n.update(t,this,this.session,a);continue}var r=n.range.clipRows(a.firstRow,a.lastRow);if(!r.isEmpty())if(r=r.toScreenRange(this.session),n.renderer){var i=this.$getTop(r.start.row,a),o=this.$padding+r.start.column*a.characterWidth;n.renderer(t,r,o,i,a)}else n.type=="fullLine"?this.drawFullLineMarker(t,r,n.clazz,a):n.type=="screenLine"?this.drawScreenLineMarker(t,r,n.clazz,a):r.isMultiLine()?n.type=="text"?this.drawTextMarker(t,r,n.clazz,a):this.drawMultiLineMarker(t,r,n.clazz,a):this.drawSingleLineMarker(t,r,n.clazz+" ace_start ace_br15",a)}if(this.i!=-1)for(;this.i<this.element.childElementCount;)this.element.removeChild(this.element.lastChild)}},this.$getTop=function(a,t){return(a-t.firstRowScreen)*t.lineHeight},this.drawTextMarker=function(a,t,e,n,r){for(var i=this.session,o=t.start.row,h=t.end.row,p=o,y=0,L=0,m=i.getScreenLastRowColumn(p),s=new E(p,t.start.column,p,L);p<=h;p++)s.start.row=s.end.row=p,s.start.column=p==o?t.start.column:i.getRowWrapIndent(p),s.end.column=m,y=L,L=m,m=p+1<h?i.getScreenLastRowColumn(p+1):p==h?0:t.end.column,this.drawSingleLineMarker(a,s,e+(p==o?" ace_start":"")+" ace_br"+c(p==o||p==o+1&&t.start.column,y<L,L>m,p==h),n,p==h?0:1,r)},this.drawMultiLineMarker=function(a,t,e,n,r){var i=this.$padding,o=n.lineHeight,h=this.$getTop(t.start.row,n),p=i+t.start.column*n.characterWidth;if(r=r||"",this.session.$bidiHandler.isBidiRow(t.start.row)){var y=t.clone();y.end.row=y.start.row,y.end.column=this.session.getLine(y.start.row).length,this.drawBidiSingleLineMarker(a,y,e+" ace_br1 ace_start",n,null,r)}else this.elt(e+" ace_br1 ace_start","height:"+o+"px;right:0;top:"+h+"px;left:"+p+"px;"+(r||""));if(this.session.$bidiHandler.isBidiRow(t.end.row)){var y=t.clone();y.start.row=y.end.row,y.start.column=0,this.drawBidiSingleLineMarker(a,y,e+" ace_br12",n,null,r)}else{h=this.$getTop(t.end.row,n);var L=t.end.column*n.characterWidth;this.elt(e+" ace_br12","height:"+o+"px;width:"+L+"px;top:"+h+"px;left:"+i+"px;"+(r||""))}if(o=(t.end.row-t.start.row-1)*n.lineHeight,!(o<=0)){h=this.$getTop(t.start.row+1,n);var m=(t.start.column?1:0)|(t.end.column?0:8);this.elt(e+(m?" ace_br"+m:""),"height:"+o+"px;right:0;top:"+h+"px;left:"+i+"px;"+(r||""))}},this.drawSingleLineMarker=function(a,t,e,n,r,i){if(this.session.$bidiHandler.isBidiRow(t.start.row))return this.drawBidiSingleLineMarker(a,t,e,n,r,i);var o=n.lineHeight,h=(t.end.column+(r||0)-t.start.column)*n.characterWidth,p=this.$getTop(t.start.row,n),y=this.$padding+t.start.column*n.characterWidth;this.elt(e,"height:"+o+"px;width:"+h+"px;top:"+p+"px;left:"+y+"px;"+(i||""))},this.drawBidiSingleLineMarker=function(a,t,e,n,r,i){var o=n.lineHeight,h=this.$getTop(t.start.row,n),p=this.$padding,y=this.session.$bidiHandler.getSelections(t.start.column,t.end.column);y.forEach(function(L){this.elt(e,"height:"+o+"px;width:"+L.width+(r||0)+"px;top:"+h+"px;left:"+(p+L.left)+"px;"+(i||""))},this)},this.drawFullLineMarker=function(a,t,e,n,r){var i=this.$getTop(t.start.row,n),o=n.lineHeight;t.start.row!=t.end.row&&(o+=this.$getTop(t.end.row,n)-i),this.elt(e,"height:"+o+"px;top:"+i+"px;left:0;right:0;"+(r||""))},this.drawScreenLineMarker=function(a,t,e,n,r){var i=this.$getTop(t.start.row,n),o=n.lineHeight;this.elt(e,"height:"+o+"px;top:"+i+"px;left:0;right:0;"+(r||""))}}).call(d.prototype),T.Marker=d}),define("ace/layer/text",["require","exports","module","ace/lib/oop","ace/lib/dom","ace/lib/lang","ace/layer/lines","ace/lib/event_emitter"],function(A,T,b){var E=A("../lib/oop"),R=A("../lib/dom"),d=A("../lib/lang"),c=A("./lines").Lines,a=A("../lib/event_emitter").EventEmitter,t=function(e){this.dom=R,this.element=this.dom.createElement("div"),this.element.className="ace_layer ace_text-layer",e.appendChild(this.element),this.$updateEolChar=this.$updateEolChar.bind(this),this.$lines=new c(this.element)};(function(){E.implement(this,a),this.EOF_CHAR="",this.EOL_CHAR_LF="",this.EOL_CHAR_CRLF="",this.EOL_CHAR=this.EOL_CHAR_LF,this.TAB_CHAR="",this.SPACE_CHAR="",this.$padding=0,this.MAX_LINE_LENGTH=1e4,this.$updateEolChar=function(){var e=this.session.doc,n=e.getNewLineCharacter()==`
`&&e.getNewLineMode()!="windows",r=n?this.EOL_CHAR_LF:this.EOL_CHAR_CRLF;if(this.EOL_CHAR!=r)return this.EOL_CHAR=r,!0},this.setPadding=function(e){this.$padding=e,this.element.style.margin="0 "+e+"px"},this.getLineHeight=function(){return this.$fontMetrics.$characterSize.height||0},this.getCharacterWidth=function(){return this.$fontMetrics.$characterSize.width||0},this.$setFontMetrics=function(e){this.$fontMetrics=e,this.$fontMetrics.on("changeCharacterSize",(function(n){this._signal("changeCharacterSize",n)}).bind(this)),this.$pollSizeChanges()},this.checkForSizeChanges=function(){this.$fontMetrics.checkForSizeChanges()},this.$pollSizeChanges=function(){return this.$pollSizeChangesTimer=this.$fontMetrics.$pollSizeChanges()},this.setSession=function(e){this.session=e,e&&this.$computeTabString()},this.showInvisibles=!1,this.showSpaces=!1,this.showTabs=!1,this.showEOL=!1,this.setShowInvisibles=function(e){return this.showInvisibles==e?!1:(this.showInvisibles=e,typeof e=="string"?(this.showSpaces=/tab/i.test(e),this.showTabs=/space/i.test(e),this.showEOL=/eol/i.test(e)):this.showSpaces=this.showTabs=this.showEOL=e,this.$computeTabString(),!0)},this.displayIndentGuides=!0,this.setDisplayIndentGuides=function(e){return this.displayIndentGuides==e?!1:(this.displayIndentGuides=e,this.$computeTabString(),!0)},this.$tabStrings=[],this.onChangeTabSize=this.$computeTabString=function(){var e=this.session.getTabSize();this.tabSize=e;for(var n=this.$tabStrings=[0],r=1;r<e+1;r++)if(this.showTabs){var i=this.dom.createElement("span");i.className="ace_invisible ace_invisible_tab",i.textContent=d.stringRepeat(this.TAB_CHAR,r),n.push(i)}else n.push(this.dom.createTextNode(d.stringRepeat(" ",r),this.element));if(this.displayIndentGuides){this.$indentGuideRe=/\s\S| \t|\t |\s$/;var o="ace_indent-guide",h=this.showSpaces?" ace_invisible ace_invisible_space":"",p=this.showSpaces?d.stringRepeat(this.SPACE_CHAR,this.tabSize):d.stringRepeat(" ",this.tabSize),y=this.showTabs?" ace_invisible ace_invisible_tab":"",L=this.showTabs?d.stringRepeat(this.TAB_CHAR,this.tabSize):p,i=this.dom.createElement("span");i.className=o+h,i.textContent=p,this.$tabStrings[" "]=i;var i=this.dom.createElement("span");i.className=o+y,i.textContent=L,this.$tabStrings["	"]=i}},this.updateLines=function(e,n,r){if(this.config.lastRow!=e.lastRow||this.config.firstRow!=e.firstRow)return this.update(e);this.config=e;for(var i=Math.max(n,e.firstRow),o=Math.min(r,e.lastRow),h=this.element.childNodes,p=0,L=e.firstRow;L<i;L++){var m=this.session.getFoldLine(L);if(m){if(m.containsRow(i)){i=m.start.row;break}L=m.end.row}p++}for(var y=!1,L=i,m=this.session.getNextFoldLine(L),s=m?m.start.row:1/0;L>s&&(L=m.end.row+1,m=this.session.getNextFoldLine(L,m),s=m?m.start.row:1/0),!(L>o);){var g=h[p++];if(g){this.dom.removeChildren(g),this.$renderLine(g,L,L==s?m:!1),y&&(g.style.top=this.$lines.computeLineTop(L,e,this.session)+"px");var _=e.lineHeight*this.session.getRowLength(L)+"px";g.style.height!=_&&(y=!0,g.style.height=_)}L++}if(y)for(;p<this.$lines.cells.length;){var f=this.$lines.cells[p++];f.element.style.top=this.$lines.computeLineTop(f.row,e,this.session)+"px"}},this.scrollLines=function(e){var n=this.config;if(this.config=e,this.$lines.pageChanged(n,e))return this.update(e);this.$lines.moveContainer(e);var r=e.lastRow,i=n?n.lastRow:-1;if(!n||i<e.firstRow)return this.update(e);if(r<n.firstRow)return this.update(e);if(!n||n.lastRow<e.firstRow)return this.update(e);if(e.lastRow<n.firstRow)return this.update(e);if(n.firstRow<e.firstRow)for(var o=this.session.getFoldedRowCount(n.firstRow,e.firstRow-1);o>0;o--)this.$lines.shift();if(n.lastRow>e.lastRow)for(var o=this.session.getFoldedRowCount(e.lastRow+1,n.lastRow);o>0;o--)this.$lines.pop();e.firstRow<n.firstRow&&this.$lines.unshift(this.$renderLinesFragment(e,e.firstRow,n.firstRow-1)),e.lastRow>n.lastRow&&this.$lines.push(this.$renderLinesFragment(e,n.lastRow+1,e.lastRow))},this.$renderLinesFragment=function(e,n,r){for(var i=[],o=n,h=this.session.getNextFoldLine(o),p=h?h.start.row:1/0;o>p&&(o=h.end.row+1,h=this.session.getNextFoldLine(o,h),p=h?h.start.row:1/0),!(o>r);){var y=this.$lines.createCell(o,e,this.session),L=y.element;this.dom.removeChildren(L),R.setStyle(L.style,"height",this.$lines.computeLineHeight(o,e,this.session)+"px"),R.setStyle(L.style,"top",this.$lines.computeLineTop(o,e,this.session)+"px"),this.$renderLine(L,o,o==p?h:!1),this.$useLineGroups()?L.className="ace_line_group":L.className="ace_line",i.push(y),o++}return i},this.update=function(e){this.$lines.moveContainer(e),this.config=e;for(var n=e.firstRow,r=e.lastRow,i=this.$lines;i.getLength();)i.pop();i.push(this.$renderLinesFragment(e,n,r))},this.$textToken={text:!0,rparen:!0,lparen:!0},this.$renderToken=function(e,n,r,i){for(var o=this,h=/(\t)|( +)|([\x00-\x1f\x80-\xa0\xad\u1680\u180E\u2000-\u200f\u2028\u2029\u202F\u205F\uFEFF\uFFF9-\uFFFC]+)|(\u3000)|([\u1100-\u115F\u11A3-\u11A7\u11FA-\u11FF\u2329-\u232A\u2E80-\u2E99\u2E9B-\u2EF3\u2F00-\u2FD5\u2FF0-\u2FFB\u3001-\u303E\u3041-\u3096\u3099-\u30FF\u3105-\u312D\u3131-\u318E\u3190-\u31BA\u31C0-\u31E3\u31F0-\u321E\u3220-\u3247\u3250-\u32FE\u3300-\u4DBF\u4E00-\uA48C\uA490-\uA4C6\uA960-\uA97C\uAC00-\uD7A3\uD7B0-\uD7C6\uD7CB-\uD7FB\uF900-\uFAFF\uFE10-\uFE19\uFE30-\uFE52\uFE54-\uFE66\uFE68-\uFE6B\uFF01-\uFF60\uFFE0-\uFFE6]|[\uD800-\uDBFF][\uDC00-\uDFFF])/g,p=this.dom.createFragment(this.element),y,L=0;y=h.exec(i);){var m=y[1],s=y[2],g=y[3],_=y[4],f=y[5];if(!(!o.showSpaces&&s)){var v=L!=y.index?i.slice(L,y.index):"";if(L=y.index+y[0].length,v&&p.appendChild(this.dom.createTextNode(v,this.element)),m){var l=o.session.getScreenTabSize(n+y.index);p.appendChild(o.$tabStrings[l].cloneNode(!0)),n+=l-1}else if(s)if(o.showSpaces){var w=this.dom.createElement("span");w.className="ace_invisible ace_invisible_space",w.textContent=d.stringRepeat(o.SPACE_CHAR,s.length),p.appendChild(w)}else p.appendChild(this.com.createTextNode(s,this.element));else if(g){var w=this.dom.createElement("span");w.className="ace_invisible ace_invisible_space ace_invalid",w.textContent=d.stringRepeat(o.SPACE_CHAR,g.length),p.appendChild(w)}else if(_){n+=1;var w=this.dom.createElement("span");w.style.width=o.config.characterWidth*2+"px",w.className=o.showSpaces?"ace_cjk ace_invisible ace_invisible_space":"ace_cjk",w.textContent=o.showSpaces?o.SPACE_CHAR:_,p.appendChild(w)}else if(f){n+=1;var w=this.dom.createElement("span");w.style.width=o.config.characterWidth*2+"px",w.className="ace_cjk",w.textContent=f,p.appendChild(w)}}}if(p.appendChild(this.dom.createTextNode(L?i.slice(L):i,this.element)),this.$textToken[r.type])e.appendChild(p);else{var k="ace_"+r.type.replace(/\./g," ace_"),w=this.dom.createElement("span");r.type=="fold"&&(w.style.width=r.value.length*this.config.characterWidth+"px"),w.className=k,w.appendChild(p),e.appendChild(w)}return n+i.length},this.renderIndentGuide=function(e,n,r){var i=n.search(this.$indentGuideRe);if(i<=0||i>=r)return n;if(n[0]==" "){i-=i%this.tabSize;for(var o=i/this.tabSize,h=0;h<o;h++)e.appendChild(this.$tabStrings[" "].cloneNode(!0));return n.substr(i)}if(n[0]=="	"){for(var h=0;h<i;h++)e.appendChild(this.$tabStrings["	"].cloneNode(!0));return n.substr(i)}return n},this.$createLineElement=function(e){var n=this.dom.createElement("div");return n.className="ace_line",n.style.height=this.config.lineHeight+"px",n},this.$renderWrappedLine=function(e,n,r){var i=0,o=0,h=r[0],p=0,y=this.$createLineElement();e.appendChild(y);for(var L=0;L<n.length;L++){var m=n[L],s=m.value;if(L==0&&this.displayIndentGuides){if(i=s.length,s=this.renderIndentGuide(y,s,h),!s)continue;i-=s.length}if(i+s.length<h)p=this.$renderToken(y,p,m,s),i+=s.length;else{for(;i+s.length>=h;)p=this.$renderToken(y,p,m,s.substring(0,h-i)),s=s.substring(h-i),i=h,y=this.$createLineElement(),e.appendChild(y),y.appendChild(this.dom.createTextNode(d.stringRepeat("",r.indent),this.element)),o++,p=0,h=r[o]||Number.MAX_VALUE;s.length!=0&&(i+=s.length,p=this.$renderToken(y,p,m,s))}}r[r.length-1]>this.MAX_LINE_LENGTH&&this.$renderOverflowMessage(y,p,null,"",!0)},this.$renderSimpleLine=function(e,n){var r=0,i=n[0],o=i.value;this.displayIndentGuides&&(o=this.renderIndentGuide(e,o)),o&&(r=this.$renderToken(e,r,i,o));for(var h=1;h<n.length;h++){if(i=n[h],o=i.value,r+o.length>this.MAX_LINE_LENGTH)return this.$renderOverflowMessage(e,r,i,o);r=this.$renderToken(e,r,i,o)}},this.$renderOverflowMessage=function(e,n,r,i,o){r&&this.$renderToken(e,n,r,i.slice(0,this.MAX_LINE_LENGTH-n));var h=this.dom.createElement("span");h.className="ace_inline_button ace_keyword ace_toggle_wrap",h.textContent=o?"<hide>":"<click to see more...>",e.appendChild(h)},this.$renderLine=function(e,n,r){if(!r&&r!=0&&(r=this.session.getFoldLine(n)),r)var i=this.$getFoldLineTokens(n,r);else var i=this.session.getTokens(n);var o=e;if(i.length){var h=this.session.getRowSplitData(n);if(h&&h.length){this.$renderWrappedLine(e,i,h);var o=e.lastChild}else{var o=e;this.$useLineGroups()&&(o=this.$createLineElement(),e.appendChild(o)),this.$renderSimpleLine(o,i)}}else this.$useLineGroups()&&(o=this.$createLineElement(),e.appendChild(o));if(this.showEOL&&o){r&&(n=r.end.row);var p=this.dom.createElement("span");p.className="ace_invisible ace_invisible_eol",p.textContent=n==this.session.getLength()-1?this.EOF_CHAR:this.EOL_CHAR,o.appendChild(p)}},this.$getFoldLineTokens=function(e,n){function r(p,y,L){for(var m=0,s=0;s+p[m].value.length<y;)if(s+=p[m].value.length,m++,m==p.length)return;if(s!=y){var g=p[m].value.substring(y-s);g.length>L-y&&(g=g.substring(0,L-y)),o.push({type:p[m].type,value:g}),s=y+g.length,m+=1}for(;s<L&&m<p.length;){var g=p[m].value;g.length+s>L?o.push({type:p[m].type,value:g.substring(0,L-s)}):o.push(p[m]),s+=g.length,m+=1}}var i=this.session,o=[],h=i.getTokens(e);return n.walk(function(p,y,L,m,s){p!=null?o.push({type:"fold",value:p}):(s&&(h=i.getTokens(y)),h.length&&r(h,m,L))},n.end.row,this.session.getLine(n.end.row).length),o},this.$useLineGroups=function(){return this.session.getUseWrapMode()},this.destroy=function(){}}).call(t.prototype),T.Text=t}),define("ace/layer/cursor",["require","exports","module","ace/lib/dom"],function(A,T,b){var E=A("../lib/dom"),R=function(d){this.element=E.createElement("div"),this.element.className="ace_layer ace_cursor-layer",d.appendChild(this.element),this.isVisible=!1,this.isBlinking=!0,this.blinkInterval=1e3,this.smoothBlinking=!1,this.cursors=[],this.cursor=this.addCursor(),E.addCssClass(this.element,"ace_hidden-cursors"),this.$updateCursors=this.$updateOpacity.bind(this)};(function(){this.$updateOpacity=function(d){for(var c=this.cursors,a=c.length;a--;)E.setStyle(c[a].style,"opacity",d?"":"0")},this.$startCssAnimation=function(){for(var d=this.cursors,c=d.length;c--;)d[c].style.animationDuration=this.blinkInterval+"ms";setTimeout((function(){E.addCssClass(this.element,"ace_animate-blinking")}).bind(this))},this.$stopCssAnimation=function(){E.removeCssClass(this.element,"ace_animate-blinking")},this.$padding=0,this.setPadding=function(d){this.$padding=d},this.setSession=function(d){this.session=d},this.setBlinking=function(d){d!=this.isBlinking&&(this.isBlinking=d,this.restartTimer())},this.setBlinkInterval=function(d){d!=this.blinkInterval&&(this.blinkInterval=d,this.restartTimer())},this.setSmoothBlinking=function(d){d!=this.smoothBlinking&&(this.smoothBlinking=d,E.setCssClass(this.element,"ace_smooth-blinking",d),this.$updateCursors(!0),this.restartTimer())},this.addCursor=function(){var d=E.createElement("div");return d.className="ace_cursor",this.element.appendChild(d),this.cursors.push(d),d},this.removeCursor=function(){if(this.cursors.length>1){var d=this.cursors.pop();return d.parentNode.removeChild(d),d}},this.hideCursor=function(){this.isVisible=!1,E.addCssClass(this.element,"ace_hidden-cursors"),this.restartTimer()},this.showCursor=function(){this.isVisible=!0,E.removeCssClass(this.element,"ace_hidden-cursors"),this.restartTimer()},this.restartTimer=function(){var d=this.$updateCursors;if(clearInterval(this.intervalId),clearTimeout(this.timeoutId),this.$stopCssAnimation(),this.smoothBlinking&&E.removeCssClass(this.element,"ace_smooth-blinking"),d(!0),!this.isBlinking||!this.blinkInterval||!this.isVisible){this.$stopCssAnimation();return}if(this.smoothBlinking&&setTimeout((function(){E.addCssClass(this.element,"ace_smooth-blinking")}).bind(this)),E.HAS_CSS_ANIMATION)this.$startCssAnimation();else{var c=(function(){this.timeoutId=setTimeout(function(){d(!1)},.6*this.blinkInterval)}).bind(this);this.intervalId=setInterval(function(){d(!0),c()},this.blinkInterval),c()}},this.getPixelPosition=function(d,c){if(!this.config||!this.session)return{left:0,top:0};d||(d=this.session.selection.getCursor());var a=this.session.documentToScreenPosition(d),t=this.$padding+(this.session.$bidiHandler.isBidiRow(a.row,d.row)?this.session.$bidiHandler.getPosLeft(a.column):a.column*this.config.characterWidth),e=(a.row-(c?this.config.firstRowScreen:0))*this.config.lineHeight;return{left:t,top:e}},this.isCursorInView=function(d,c){return d.top>=0&&d.top<c.maxHeight},this.update=function(d){this.config=d;var c=this.session.$selectionMarkers,a=0,t=0;(c===void 0||c.length===0)&&(c=[{cursor:null}]);for(var a=0,e=c.length;a<e;a++){var n=this.getPixelPosition(c[a].cursor,!0);if(!((n.top>d.height+d.offset||n.top<0)&&a>1)){var r=this.cursors[t++]||this.addCursor(),i=r.style;this.drawCursor?this.drawCursor(r,n,d,c[a],this.session):this.isCursorInView(n,d)?(E.setStyle(i,"display","block"),E.translate(r,n.left,n.top),E.setStyle(i,"width",Math.round(d.characterWidth)+"px"),E.setStyle(i,"height",d.lineHeight+"px")):E.setStyle(i,"display","none")}}for(;this.cursors.length>t;)this.removeCursor();var o=this.session.getOverwrite();this.$setOverwrite(o),this.$pixelPos=n,this.restartTimer()},this.drawCursor=null,this.$setOverwrite=function(d){d!=this.overwrite&&(this.overwrite=d,d?E.addCssClass(this.element,"ace_overwrite-cursors"):E.removeCssClass(this.element,"ace_overwrite-cursors"))},this.destroy=function(){clearInterval(this.intervalId),clearTimeout(this.timeoutId)}}).call(R.prototype),T.Cursor=R}),define("ace/scrollbar",["require","exports","module","ace/lib/oop","ace/lib/dom","ace/lib/event","ace/lib/event_emitter"],function(A,T,b){var E=A("./lib/oop"),R=A("./lib/dom"),d=A("./lib/event"),c=A("./lib/event_emitter").EventEmitter,a=32768,t=function(r){this.element=R.createElement("div"),this.element.className="ace_scrollbar ace_scrollbar"+this.classSuffix,this.inner=R.createElement("div"),this.inner.className="ace_scrollbar-inner",this.inner.textContent="",this.element.appendChild(this.inner),r.appendChild(this.element),this.setVisible(!1),this.skipEvent=!1,d.addListener(this.element,"scroll",this.onScroll.bind(this)),d.addListener(this.element,"mousedown",d.preventDefault)};(function(){E.implement(this,c),this.setVisible=function(r){this.element.style.display=r?"":"none",this.isVisible=r,this.coeff=1}}).call(t.prototype);var e=function(r,i){t.call(this,r),this.scrollTop=0,this.scrollHeight=0,i.$scrollbarWidth=this.width=R.scrollbarWidth(r.ownerDocument),this.inner.style.width=this.element.style.width=(this.width||15)+5+"px",this.$minWidth=0};E.inherits(e,t),(function(){this.classSuffix="-v",this.onScroll=function(){if(!this.skipEvent){if(this.scrollTop=this.element.scrollTop,this.coeff!=1){var r=this.element.clientHeight/this.scrollHeight;this.scrollTop=this.scrollTop*(1-r)/(this.coeff-r)}this._emit("scroll",{data:this.scrollTop})}this.skipEvent=!1},this.getWidth=function(){return Math.max(this.isVisible?this.width:0,this.$minWidth||0)},this.setHeight=function(r){this.element.style.height=r+"px"},this.setInnerHeight=this.setScrollHeight=function(r){this.scrollHeight=r,r>a?(this.coeff=a/r,r=a):this.coeff!=1&&(this.coeff=1),this.inner.style.height=r+"px"},this.setScrollTop=function(r){this.scrollTop!=r&&(this.skipEvent=!0,this.scrollTop=r,this.element.scrollTop=r*this.coeff)}}).call(e.prototype);var n=function(r,i){t.call(this,r),this.scrollLeft=0,this.height=i.$scrollbarWidth,this.inner.style.height=this.element.style.height=(this.height||15)+5+"px"};E.inherits(n,t),(function(){this.classSuffix="-h",this.onScroll=function(){this.skipEvent||(this.scrollLeft=this.element.scrollLeft,this._emit("scroll",{data:this.scrollLeft})),this.skipEvent=!1},this.getHeight=function(){return this.isVisible?this.height:0},this.setWidth=function(r){this.element.style.width=r+"px"},this.setInnerWidth=function(r){this.inner.style.width=r+"px"},this.setScrollWidth=function(r){this.inner.style.width=r+"px"},this.setScrollLeft=function(r){this.scrollLeft!=r&&(this.skipEvent=!0,this.scrollLeft=this.element.scrollLeft=r)}}).call(n.prototype),T.ScrollBar=e,T.ScrollBarV=e,T.ScrollBarH=n,T.VScrollBar=e,T.HScrollBar=n}),define("ace/renderloop",["require","exports","module","ace/lib/event"],function(A,T,b){var E=A("./lib/event"),R=function(d,c){this.onRender=d,this.pending=!1,this.changes=0,this.$recursionLimit=2,this.window=c||window;var a=this;this._flush=function(t){a.pending=!1;var e=a.changes;if(e&&(E.blockIdle(100),a.changes=0,a.onRender(e)),a.changes){if(a.$recursionLimit--<0)return;a.schedule()}else a.$recursionLimit=2}};(function(){this.schedule=function(d){this.changes=this.changes|d,this.changes&&!this.pending&&(E.nextFrame(this._flush),this.pending=!0)},this.clear=function(d){var c=this.changes;return this.changes=0,c}}).call(R.prototype),T.RenderLoop=R}),define("ace/layer/font_metrics",["require","exports","module","ace/lib/oop","ace/lib/dom","ace/lib/lang","ace/lib/event","ace/lib/useragent","ace/lib/event_emitter"],function(A,T,b){var E=A("../lib/oop"),R=A("../lib/dom"),d=A("../lib/lang"),c=A("../lib/event"),a=A("../lib/useragent"),t=A("../lib/event_emitter").EventEmitter,e=256,n=typeof ResizeObserver=="function",r=200,i=T.FontMetrics=function(o){this.el=R.createElement("div"),this.$setMeasureNodeStyles(this.el.style,!0),this.$main=R.createElement("div"),this.$setMeasureNodeStyles(this.$main.style),this.$measureNode=R.createElement("div"),this.$setMeasureNodeStyles(this.$measureNode.style),this.el.appendChild(this.$main),this.el.appendChild(this.$measureNode),o.appendChild(this.el),this.$measureNode.textContent=d.stringRepeat("X",e),this.$characterSize={width:0,height:0},n?this.$addObserver():this.checkForSizeChanges()};(function(){E.implement(this,t),this.$characterSize={width:0,height:0},this.$setMeasureNodeStyles=function(o,h){o.width=o.height="auto",o.left=o.top="0px",o.visibility="hidden",o.position="absolute",o.whiteSpace="pre",a.isIE<8?o["font-family"]="inherit":o.font="inherit",o.overflow=h?"hidden":"visible"},this.checkForSizeChanges=function(o){if(o===void 0&&(o=this.$measureSizes()),o&&(this.$characterSize.width!==o.width||this.$characterSize.height!==o.height)){this.$measureNode.style.fontWeight="bold";var h=this.$measureSizes();this.$measureNode.style.fontWeight="",this.$characterSize=o,this.charSizes=Object.create(null),this.allowBoldFonts=h&&h.width===o.width&&h.height===o.height,this._emit("changeCharacterSize",{data:o})}},this.$addObserver=function(){var o=this;this.$observer=new window.ResizeObserver(function(h){o.checkForSizeChanges()}),this.$observer.observe(this.$measureNode)},this.$pollSizeChanges=function(){if(this.$pollSizeChangesTimer||this.$observer)return this.$pollSizeChangesTimer;var o=this;return this.$pollSizeChangesTimer=c.onIdle(function h(){o.checkForSizeChanges(),c.onIdle(h,500)},500)},this.setPolling=function(o){o?this.$pollSizeChanges():this.$pollSizeChangesTimer&&(clearInterval(this.$pollSizeChangesTimer),this.$pollSizeChangesTimer=0)},this.$measureSizes=function(o){var h={height:(o||this.$measureNode).clientHeight,width:(o||this.$measureNode).clientWidth/e};return h.width===0||h.height===0?null:h},this.$measureCharWidth=function(o){this.$main.textContent=d.stringRepeat(o,e);var h=this.$main.getBoundingClientRect();return h.width/e},this.getCharacterWidth=function(o){var h=this.charSizes[o];return h===void 0&&(h=this.charSizes[o]=this.$measureCharWidth(o)/this.$characterSize.width),h},this.destroy=function(){clearInterval(this.$pollSizeChangesTimer),this.$observer&&this.$observer.disconnect(),this.el&&this.el.parentNode&&this.el.parentNode.removeChild(this.el)},this.$getZoom=function o(h){return!h||!h.parentElement?1:(window.getComputedStyle(h).zoom||1)*o(h.parentElement)},this.$initTransformMeasureNodes=function(){var o=function(h,p){return["div",{style:"position: absolute;top:"+h+"px;left:"+p+"px;"}]};this.els=R.buildDom([o(0,0),o(r,0),o(0,r),o(r,r)],this.el)},this.transformCoordinates=function(o,h){function p(X,j,Y){var ee=X[1]*j[0]-X[0]*j[1];return[(-j[1]*Y[0]+j[0]*Y[1])/ee,(+X[1]*Y[0]-X[0]*Y[1])/ee]}function y(X,j){return[X[0]-j[0],X[1]-j[1]]}function L(X,j){return[X[0]+j[0],X[1]+j[1]]}function m(X,j){return[X*j[0],X*j[1]]}function s(X){var j=X.getBoundingClientRect();return[j.left,j.top]}if(o){var g=this.$getZoom(this.el);o=m(1/g,o)}this.els||this.$initTransformMeasureNodes();var _=s(this.els[0]),f=s(this.els[1]),v=s(this.els[2]),l=s(this.els[3]),w=p(y(l,f),y(l,v),y(L(f,v),L(l,_))),k=m(1+w[0],y(f,_)),F=m(1+w[1],y(v,_));if(h){var x=h,N=w[0]*x[0]/r+w[1]*x[1]/r+1,G=L(m(x[0],k),m(x[1],F));return L(m(1/N/r,G),_)}var q=y(o,_),ne=p(y(k,m(w[0],q)),y(F,m(w[1],q)),q);return m(r,ne)}}).call(i.prototype)}),define("ace/virtual_renderer",["require","exports","module","ace/lib/oop","ace/lib/dom","ace/config","ace/layer/gutter","ace/layer/marker","ace/layer/text","ace/layer/cursor","ace/scrollbar","ace/scrollbar","ace/renderloop","ace/layer/font_metrics","ace/lib/event_emitter","ace/lib/useragent"],function(A,T,b){var E=A("./lib/oop"),R=A("./lib/dom"),d=A("./config"),c=A("./layer/gutter").Gutter,a=A("./layer/marker").Marker,t=A("./layer/text").Text,e=A("./layer/cursor").Cursor,n=A("./scrollbar").HScrollBar,r=A("./scrollbar").VScrollBar,i=A("./renderloop").RenderLoop,o=A("./layer/font_metrics").FontMetrics,h=A("./lib/event_emitter").EventEmitter,p=`.ace_br1 {border-top-left-radius    : 3px;}.ace_br2 {border-top-right-radius   : 3px;}.ace_br3 {border-top-left-radius    : 3px; border-top-right-radius:    3px;}.ace_br4 {border-bottom-right-radius: 3px;}.ace_br5 {border-top-left-radius    : 3px; border-bottom-right-radius: 3px;}.ace_br6 {border-top-right-radius   : 3px; border-bottom-right-radius: 3px;}.ace_br7 {border-top-left-radius    : 3px; border-top-right-radius:    3px; border-bottom-right-radius: 3px;}.ace_br8 {border-bottom-left-radius : 3px;}.ace_br9 {border-top-left-radius    : 3px; border-bottom-left-radius:  3px;}.ace_br10{border-top-right-radius   : 3px; border-bottom-left-radius:  3px;}.ace_br11{border-top-left-radius    : 3px; border-top-right-radius:    3px; border-bottom-left-radius:  3px;}.ace_br12{border-bottom-right-radius: 3px; border-bottom-left-radius:  3px;}.ace_br13{border-top-left-radius    : 3px; border-bottom-right-radius: 3px; border-bottom-left-radius:  3px;}.ace_br14{border-top-right-radius   : 3px; border-bottom-right-radius: 3px; border-bottom-left-radius:  3px;}.ace_br15{border-top-left-radius    : 3px; border-top-right-radius:    3px; border-bottom-right-radius: 3px; border-bottom-left-radius: 3px;}.ace_editor {position: relative;overflow: hidden;padding: 0;font: 12px/normal 'Monaco', 'Menlo', 'Ubuntu Mono', 'Consolas', 'source-code-pro', monospace;direction: ltr;text-align: left;-webkit-tap-highlight-color: rgba(0, 0, 0, 0);}.ace_scroller {position: absolute;overflow: hidden;top: 0;bottom: 0;background-color: inherit;-ms-user-select: none;-moz-user-select: none;-webkit-user-select: none;user-select: none;cursor: text;}.ace_content {position: absolute;box-sizing: border-box;min-width: 100%;contain: style size layout;font-variant-ligatures: no-common-ligatures;}.ace_dragging .ace_scroller:before{position: absolute;top: 0;left: 0;right: 0;bottom: 0;content: '';background: rgba(250, 250, 250, 0.01);z-index: 1000;}.ace_dragging.ace_dark .ace_scroller:before{background: rgba(0, 0, 0, 0.01);}.ace_selecting, .ace_selecting * {cursor: text !important;}.ace_gutter {position: absolute;overflow : hidden;width: auto;top: 0;bottom: 0;left: 0;cursor: default;z-index: 4;-ms-user-select: none;-moz-user-select: none;-webkit-user-select: none;user-select: none;contain: style size layout;}.ace_gutter-active-line {position: absolute;left: 0;right: 0;}.ace_scroller.ace_scroll-left {box-shadow: 17px 0 16px -16px rgba(0, 0, 0, 0.4) inset;}.ace_gutter-cell {position: absolute;top: 0;left: 0;right: 0;padding-left: 19px;padding-right: 6px;background-repeat: no-repeat;}.ace_gutter-cell.ace_error {background-image: url("data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABAAAAAQCAMAAAAoLQ9TAAABOFBMVEX/////////QRswFAb/Ui4wFAYwFAYwFAaWGAfDRymzOSH/PxswFAb/SiUwFAYwFAbUPRvjQiDllog5HhHdRybsTi3/Tyv9Tir+Syj/UC3////XurebMBIwFAb/RSHbPx/gUzfdwL3kzMivKBAwFAbbvbnhPx66NhowFAYwFAaZJg8wFAaxKBDZurf/RB6mMxb/SCMwFAYwFAbxQB3+RB4wFAb/Qhy4Oh+4QifbNRcwFAYwFAYwFAb/QRzdNhgwFAYwFAbav7v/Uy7oaE68MBK5LxLewr/r2NXewLswFAaxJw4wFAbkPRy2PyYwFAaxKhLm1tMwFAazPiQwFAaUGAb/QBrfOx3bvrv/VC/maE4wFAbRPBq6MRO8Qynew8Dp2tjfwb0wFAbx6eju5+by6uns4uH9/f36+vr/GkHjAAAAYnRSTlMAGt+64rnWu/bo8eAA4InH3+DwoN7j4eLi4xP99Nfg4+b+/u9B/eDs1MD1mO7+4PHg2MXa347g7vDizMLN4eG+Pv7i5evs/v79yu7S3/DV7/498Yv24eH+4ufQ3Ozu/v7+y13sRqwAAADLSURBVHjaZc/XDsFgGIBhtDrshlitmk2IrbHFqL2pvXf/+78DPokj7+Fz9qpU/9UXJIlhmPaTaQ6QPaz0mm+5gwkgovcV6GZzd5JtCQwgsxoHOvJO15kleRLAnMgHFIESUEPmawB9ngmelTtipwwfASilxOLyiV5UVUyVAfbG0cCPHig+GBkzAENHS0AstVF6bacZIOzgLmxsHbt2OecNgJC83JERmePUYq8ARGkJx6XtFsdddBQgZE2nPR6CICZhawjA4Fb/chv+399kfR+MMMDGOQAAAABJRU5ErkJggg==");background-repeat: no-repeat;background-position: 2px center;}.ace_gutter-cell.ace_warning {background-image: url("data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABAAAAAQCAMAAAAoLQ9TAAAAmVBMVEX///8AAAD///8AAAAAAABPSzb/5sAAAAB/blH/73z/ulkAAAAAAAD85pkAAAAAAAACAgP/vGz/rkDerGbGrV7/pkQICAf////e0IsAAAD/oED/qTvhrnUAAAD/yHD/njcAAADuv2r/nz//oTj/p064oGf/zHAAAAA9Nir/tFIAAAD/tlTiuWf/tkIAAACynXEAAAAAAAAtIRW7zBpBAAAAM3RSTlMAABR1m7RXO8Ln31Z36zT+neXe5OzooRDfn+TZ4p3h2hTf4t3k3ucyrN1K5+Xaks52Sfs9CXgrAAAAjklEQVR42o3PbQ+CIBQFYEwboPhSYgoYunIqqLn6/z8uYdH8Vmdnu9vz4WwXgN/xTPRD2+sgOcZjsge/whXZgUaYYvT8QnuJaUrjrHUQreGczuEafQCO/SJTufTbroWsPgsllVhq3wJEk2jUSzX3CUEDJC84707djRc5MTAQxoLgupWRwW6UB5fS++NV8AbOZgnsC7BpEAAAAABJRU5ErkJggg==");background-position: 2px center;}.ace_gutter-cell.ace_info {background-image: url("data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABAAAAAQCAAAAAA6mKC9AAAAGXRFWHRTb2Z0d2FyZQBBZG9iZSBJbWFnZVJlYWR5ccllPAAAAAJ0Uk5TAAB2k804AAAAPklEQVQY02NgIB68QuO3tiLznjAwpKTgNyDbMegwisCHZUETUZV0ZqOquBpXj2rtnpSJT1AEnnRmL2OgGgAAIKkRQap2htgAAAAASUVORK5CYII=");background-position: 2px center;}.ace_dark .ace_gutter-cell.ace_info {background-image: url("data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABAAAAAQBAMAAADt3eJSAAAAJFBMVEUAAAChoaGAgIAqKiq+vr6tra1ZWVmUlJSbm5s8PDxubm56enrdgzg3AAAAAXRSTlMAQObYZgAAAClJREFUeNpjYMAPdsMYHegyJZFQBlsUlMFVCWUYKkAZMxZAGdxlDMQBAG+TBP4B6RyJAAAAAElFTkSuQmCC");}.ace_scrollbar {contain: strict;position: absolute;right: 0;bottom: 0;z-index: 6;}.ace_scrollbar-inner {position: absolute;cursor: text;left: 0;top: 0;}.ace_scrollbar-v{overflow-x: hidden;overflow-y: scroll;top: 0;}.ace_scrollbar-h {overflow-x: scroll;overflow-y: hidden;left: 0;}.ace_print-margin {position: absolute;height: 100%;}.ace_text-input {position: absolute;z-index: 0;width: 0.5em;height: 1em;opacity: 0;background: transparent;-moz-appearance: none;appearance: none;border: none;resize: none;outline: none;overflow: hidden;font: inherit;padding: 0 1px;margin: 0 -1px;contain: strict;-ms-user-select: text;-moz-user-select: text;-webkit-user-select: text;user-select: text;white-space: pre!important;}.ace_text-input.ace_composition {background: transparent;color: inherit;z-index: 1000;opacity: 1;}.ace_composition_placeholder { color: transparent }.ace_composition_marker { border-bottom: 1px solid;position: absolute;border-radius: 0;margin-top: 1px;}[ace_nocontext=true] {transform: none!important;filter: none!important;clip-path: none!important;mask : none!important;contain: none!important;perspective: none!important;mix-blend-mode: initial!important;z-index: auto;}.ace_layer {z-index: 1;position: absolute;overflow: hidden;word-wrap: normal;white-space: pre;height: 100%;width: 100%;box-sizing: border-box;pointer-events: none;}.ace_gutter-layer {position: relative;width: auto;text-align: right;pointer-events: auto;height: 1000000px;contain: style size layout;}.ace_text-layer {font: inherit !important;position: absolute;height: 1000000px;width: 1000000px;contain: style size layout;}.ace_text-layer > .ace_line, .ace_text-layer > .ace_line_group {contain: style size layout;position: absolute;top: 0;left: 0;right: 0;}.ace_hidpi .ace_text-layer,.ace_hidpi .ace_gutter-layer,.ace_hidpi .ace_content,.ace_hidpi .ace_gutter {contain: strict;will-change: transform;}.ace_hidpi .ace_text-layer > .ace_line, .ace_hidpi .ace_text-layer > .ace_line_group {contain: strict;}.ace_cjk {display: inline-block;text-align: center;}.ace_cursor-layer {z-index: 4;}.ace_cursor {z-index: 4;position: absolute;box-sizing: border-box;border-left: 2px solid;transform: translatez(0);}.ace_multiselect .ace_cursor {border-left-width: 1px;}.ace_slim-cursors .ace_cursor {border-left-width: 1px;}.ace_overwrite-cursors .ace_cursor {border-left-width: 0;border-bottom: 1px solid;}.ace_hidden-cursors .ace_cursor {opacity: 0.2;}.ace_hasPlaceholder .ace_hidden-cursors .ace_cursor {opacity: 0;}.ace_smooth-blinking .ace_cursor {transition: opacity 0.18s;}.ace_animate-blinking .ace_cursor {animation-duration: 1000ms;animation-timing-function: step-end;animation-name: blink-ace-animate;animation-iteration-count: infinite;}.ace_animate-blinking.ace_smooth-blinking .ace_cursor {animation-duration: 1000ms;animation-timing-function: ease-in-out;animation-name: blink-ace-animate-smooth;}@keyframes blink-ace-animate {from, to { opacity: 1; }60% { opacity: 0; }}@keyframes blink-ace-animate-smooth {from, to { opacity: 1; }45% { opacity: 1; }60% { opacity: 0; }85% { opacity: 0; }}.ace_marker-layer .ace_step, .ace_marker-layer .ace_stack {position: absolute;z-index: 3;}.ace_marker-layer .ace_selection {position: absolute;z-index: 5;}.ace_marker-layer .ace_bracket {position: absolute;z-index: 6;}.ace_marker-layer .ace_error_bracket {position: absolute;border-bottom: 1px solid #DE5555;border-radius: 0;}.ace_marker-layer .ace_active-line {position: absolute;z-index: 2;}.ace_marker-layer .ace_selected-word {position: absolute;z-index: 4;box-sizing: border-box;}.ace_line .ace_fold {box-sizing: border-box;display: inline-block;height: 11px;margin-top: -2px;vertical-align: middle;background-image:url("data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABEAAAAJCAYAAADU6McMAAAAGXRFWHRTb2Z0d2FyZQBBZG9iZSBJbWFnZVJlYWR5ccllPAAAAJpJREFUeNpi/P//PwOlgAXGYGRklAVSokD8GmjwY1wasKljQpYACtpCFeADcHVQfQyMQAwzwAZI3wJKvCLkfKBaMSClBlR7BOQikCFGQEErIH0VqkabiGCAqwUadAzZJRxQr/0gwiXIal8zQQPnNVTgJ1TdawL0T5gBIP1MUJNhBv2HKoQHHjqNrA4WO4zY0glyNKLT2KIfIMAAQsdgGiXvgnYAAAAASUVORK5CYII="),url("data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAEAAAA3CAYAAADNNiA5AAAAGXRFWHRTb2Z0d2FyZQBBZG9iZSBJbWFnZVJlYWR5ccllPAAAACJJREFUeNpi+P//fxgTAwPDBxDxD078RSX+YeEyDFMCIMAAI3INmXiwf2YAAAAASUVORK5CYII=");background-repeat: no-repeat, repeat-x;background-position: center center, top left;color: transparent;border: 1px solid black;border-radius: 2px;cursor: pointer;pointer-events: auto;}.ace_dark .ace_fold {}.ace_fold:hover{background-image:url("data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABEAAAAJCAYAAADU6McMAAAAGXRFWHRTb2Z0d2FyZQBBZG9iZSBJbWFnZVJlYWR5ccllPAAAAJpJREFUeNpi/P//PwOlgAXGYGRklAVSokD8GmjwY1wasKljQpYACtpCFeADcHVQfQyMQAwzwAZI3wJKvCLkfKBaMSClBlR7BOQikCFGQEErIH0VqkabiGCAqwUadAzZJRxQr/0gwiXIal8zQQPnNVTgJ1TdawL0T5gBIP1MUJNhBv2HKoQHHjqNrA4WO4zY0glyNKLT2KIfIMAAQsdgGiXvgnYAAAAASUVORK5CYII="),url("data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAEAAAA3CAYAAADNNiA5AAAAGXRFWHRTb2Z0d2FyZQBBZG9iZSBJbWFnZVJlYWR5ccllPAAAACBJREFUeNpi+P//fz4TAwPDZxDxD5X4i5fLMEwJgAADAEPVDbjNw87ZAAAAAElFTkSuQmCC");}.ace_tooltip {background-color: #FFF;background-image: linear-gradient(to bottom, transparent, rgba(0, 0, 0, 0.1));border: 1px solid gray;border-radius: 1px;box-shadow: 0 1px 2px rgba(0, 0, 0, 0.3);color: black;max-width: 100%;padding: 3px 4px;position: fixed;z-index: 999999;box-sizing: border-box;cursor: default;white-space: pre;word-wrap: break-word;line-height: normal;font-style: normal;font-weight: normal;letter-spacing: normal;pointer-events: none;}.ace_folding-enabled > .ace_gutter-cell {padding-right: 13px;}.ace_fold-widget {box-sizing: border-box;margin: 0 -12px 0 1px;display: none;width: 11px;vertical-align: top;background-image: url("data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAUAAAAFCAYAAACNbyblAAAANElEQVR42mWKsQ0AMAzC8ixLlrzQjzmBiEjp0A6WwBCSPgKAXoLkqSot7nN3yMwR7pZ32NzpKkVoDBUxKAAAAABJRU5ErkJggg==");background-repeat: no-repeat;background-position: center;border-radius: 3px;border: 1px solid transparent;cursor: pointer;}.ace_folding-enabled .ace_fold-widget {display: inline-block;   }.ace_fold-widget.ace_end {background-image: url("data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAUAAAAFCAYAAACNbyblAAAANElEQVR42m3HwQkAMAhD0YzsRchFKI7sAikeWkrxwScEB0nh5e7KTPWimZki4tYfVbX+MNl4pyZXejUO1QAAAABJRU5ErkJggg==");}.ace_fold-widget.ace_closed {background-image: url("data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAMAAAAGCAYAAAAG5SQMAAAAOUlEQVR42jXKwQkAMAgDwKwqKD4EwQ26sSOkVWjgIIHAzPiCgaqiqnJHZnKICBERHN194O5b9vbLuAVRL+l0YWnZAAAAAElFTkSuQmCCXA==");}.ace_fold-widget:hover {border: 1px solid rgba(0, 0, 0, 0.3);background-color: rgba(255, 255, 255, 0.2);box-shadow: 0 1px 1px rgba(255, 255, 255, 0.7);}.ace_fold-widget:active {border: 1px solid rgba(0, 0, 0, 0.4);background-color: rgba(0, 0, 0, 0.05);box-shadow: 0 1px 1px rgba(255, 255, 255, 0.8);}.ace_dark .ace_fold-widget {background-image: url("data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAUAAAAFCAYAAACNbyblAAAAHklEQVQIW2P4//8/AzoGEQ7oGCaLLAhWiSwB146BAQCSTPYocqT0AAAAAElFTkSuQmCC");}.ace_dark .ace_fold-widget.ace_end {background-image: url("data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAUAAAAFCAYAAACNbyblAAAAH0lEQVQIW2P4//8/AxQ7wNjIAjDMgC4AxjCVKBirIAAF0kz2rlhxpAAAAABJRU5ErkJggg==");}.ace_dark .ace_fold-widget.ace_closed {background-image: url("data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAMAAAAFCAYAAACAcVaiAAAAHElEQVQIW2P4//+/AxAzgDADlOOAznHAKgPWAwARji8UIDTfQQAAAABJRU5ErkJggg==");}.ace_dark .ace_fold-widget:hover {box-shadow: 0 1px 1px rgba(255, 255, 255, 0.2);background-color: rgba(255, 255, 255, 0.1);}.ace_dark .ace_fold-widget:active {box-shadow: 0 1px 1px rgba(255, 255, 255, 0.2);}.ace_inline_button {border: 1px solid lightgray;display: inline-block;margin: -1px 8px;padding: 0 5px;pointer-events: auto;cursor: pointer;}.ace_inline_button:hover {border-color: gray;background: rgba(200,200,200,0.2);display: inline-block;pointer-events: auto;}.ace_fold-widget.ace_invalid {background-color: #FFB4B4;border-color: #DE5555;}.ace_fade-fold-widgets .ace_fold-widget {transition: opacity 0.4s ease 0.05s;opacity: 0;}.ace_fade-fold-widgets:hover .ace_fold-widget {transition: opacity 0.05s ease 0.05s;opacity:1;}.ace_underline {text-decoration: underline;}.ace_bold {font-weight: bold;}.ace_nobold .ace_bold {font-weight: normal;}.ace_italic {font-style: italic;}.ace_error-marker {background-color: rgba(255, 0, 0,0.2);position: absolute;z-index: 9;}.ace_highlight-marker {background-color: rgba(255, 255, 0,0.2);position: absolute;z-index: 8;}.ace_mobile-menu {position: absolute;line-height: 1.5;border-radius: 4px;-ms-user-select: none;-moz-user-select: none;-webkit-user-select: none;user-select: none;background: white;box-shadow: 1px 3px 2px grey;border: 1px solid #dcdcdc;color: black;}.ace_dark > .ace_mobile-menu {background: #333;color: #ccc;box-shadow: 1px 3px 2px grey;border: 1px solid #444;}.ace_mobile-button {padding: 2px;cursor: pointer;overflow: hidden;}.ace_mobile-button:hover {background-color: #eee;opacity:1;}.ace_mobile-button:active {background-color: #ddd;}.ace_placeholder {font-family: arial;transform: scale(0.9);transform-origin: left;white-space: pre;opacity: 0.7;margin: 0 10px;}`,y=A("./lib/useragent"),L=y.isIE;R.importCssString(p,"ace_editor.css");var m=function(s,g){var _=this;this.container=s||R.createElement("div"),R.addCssClass(this.container,"ace_editor"),R.HI_DPI&&R.addCssClass(this.container,"ace_hidpi"),this.setTheme(g),this.$gutter=R.createElement("div"),this.$gutter.className="ace_gutter",this.container.appendChild(this.$gutter),this.$gutter.setAttribute("aria-hidden",!0),this.scroller=R.createElement("div"),this.scroller.className="ace_scroller",this.container.appendChild(this.scroller),this.content=R.createElement("div"),this.content.className="ace_content",this.scroller.appendChild(this.content),this.$gutterLayer=new c(this.$gutter),this.$gutterLayer.on("changeGutterWidth",this.onGutterResize.bind(this)),this.$markerBack=new a(this.content);var f=this.$textLayer=new t(this.content);this.canvas=f.element,this.$markerFront=new a(this.content),this.$cursorLayer=new e(this.content),this.$horizScroll=!1,this.$vScroll=!1,this.scrollBar=this.scrollBarV=new r(this.container,this),this.scrollBarH=new n(this.container,this),this.scrollBarV.on("scroll",function(v){_.$scrollAnimation||_.session.setScrollTop(v.data-_.scrollMargin.top)}),this.scrollBarH.on("scroll",function(v){_.$scrollAnimation||_.session.setScrollLeft(v.data-_.scrollMargin.left)}),this.scrollTop=0,this.scrollLeft=0,this.cursorPos={row:0,column:0},this.$fontMetrics=new o(this.container),this.$textLayer.$setFontMetrics(this.$fontMetrics),this.$textLayer.on("changeCharacterSize",function(v){_.updateCharacterSize(),_.onResize(!0,_.gutterWidth,_.$size.width,_.$size.height),_._signal("changeCharacterSize",v)}),this.$size={width:0,height:0,scrollerHeight:0,scrollerWidth:0,$dirty:!0},this.layerConfig={width:1,padding:0,firstRow:0,firstRowScreen:0,lastRow:0,lineHeight:0,characterWidth:0,minHeight:1,maxHeight:1,offset:0,height:1,gutterOffset:1},this.scrollMargin={left:0,right:0,top:0,bottom:0,v:0,h:0},this.margin={left:0,right:0,top:0,bottom:0,v:0,h:0},this.$keepTextAreaAtCursor=!y.isIOS,this.$loop=new i(this.$renderChanges.bind(this),this.container.ownerDocument.defaultView),this.$loop.schedule(this.CHANGE_FULL),this.updateCharacterSize(),this.setPadding(4),d.resetOptions(this),d._signal("renderer",this)};(function(){this.CHANGE_CURSOR=1,this.CHANGE_MARKER=2,this.CHANGE_GUTTER=4,this.CHANGE_SCROLL=8,this.CHANGE_LINES=16,this.CHANGE_TEXT=32,this.CHANGE_SIZE=64,this.CHANGE_MARKER_BACK=128,this.CHANGE_MARKER_FRONT=256,this.CHANGE_FULL=512,this.CHANGE_H_SCROLL=1024,E.implement(this,h),this.updateCharacterSize=function(){this.$textLayer.allowBoldFonts!=this.$allowBoldFonts&&(this.$allowBoldFonts=this.$textLayer.allowBoldFonts,this.setStyle("ace_nobold",!this.$allowBoldFonts)),this.layerConfig.characterWidth=this.characterWidth=this.$textLayer.getCharacterWidth(),this.layerConfig.lineHeight=this.lineHeight=this.$textLayer.getLineHeight(),this.$updatePrintMargin(),R.setStyle(this.scroller.style,"line-height",this.lineHeight+"px")},this.setSession=function(s){this.session&&this.session.doc.off("changeNewLineMode",this.onChangeNewLineMode),this.session=s,s&&this.scrollMargin.top&&s.getScrollTop()<=0&&s.setScrollTop(-this.scrollMargin.top),this.$cursorLayer.setSession(s),this.$markerBack.setSession(s),this.$markerFront.setSession(s),this.$gutterLayer.setSession(s),this.$textLayer.setSession(s),s&&(this.$loop.schedule(this.CHANGE_FULL),this.session.$setFontMetrics(this.$fontMetrics),this.scrollBarH.scrollLeft=this.scrollBarV.scrollTop=null,this.onChangeNewLineMode=this.onChangeNewLineMode.bind(this),this.onChangeNewLineMode(),this.session.doc.on("changeNewLineMode",this.onChangeNewLineMode))},this.updateLines=function(s,g,_){if(g===void 0&&(g=1/0),this.$changedLines?(this.$changedLines.firstRow>s&&(this.$changedLines.firstRow=s),this.$changedLines.lastRow<g&&(this.$changedLines.lastRow=g)):this.$changedLines={firstRow:s,lastRow:g},this.$changedLines.lastRow<this.layerConfig.firstRow){if(!_)return;this.$changedLines.lastRow=this.layerConfig.lastRow}this.$changedLines.firstRow>this.layerConfig.lastRow||this.$loop.schedule(this.CHANGE_LINES)},this.onChangeNewLineMode=function(){this.$loop.schedule(this.CHANGE_TEXT),this.$textLayer.$updateEolChar(),this.session.$bidiHandler.setEolChar(this.$textLayer.EOL_CHAR)},this.onChangeTabSize=function(){this.$loop.schedule(this.CHANGE_TEXT|this.CHANGE_MARKER),this.$textLayer.onChangeTabSize()},this.updateText=function(){this.$loop.schedule(this.CHANGE_TEXT)},this.updateFull=function(s){s?this.$renderChanges(this.CHANGE_FULL,!0):this.$loop.schedule(this.CHANGE_FULL)},this.updateFontSize=function(){this.$textLayer.checkForSizeChanges()},this.$changes=0,this.$updateSizeAsync=function(){this.$loop.pending?this.$size.$dirty=!0:this.onResize()},this.onResize=function(s,g,_,f){if(!(this.resizing>2)){this.resizing>0?this.resizing++:this.resizing=s?1:0;var v=this.container;f||(f=v.clientHeight||v.scrollHeight),_||(_=v.clientWidth||v.scrollWidth);var l=this.$updateCachedSize(s,g,_,f);if(!this.$size.scrollerHeight||!_&&!f)return this.resizing=0;s&&(this.$gutterLayer.$padding=null),s?this.$renderChanges(l|this.$changes,!0):this.$loop.schedule(l|this.$changes),this.resizing&&(this.resizing=0),this.scrollBarV.scrollLeft=this.scrollBarV.scrollTop=null}},this.$updateCachedSize=function(s,g,_,f){f-=this.$extraHeight||0;var v=0,l=this.$size,w={width:l.width,height:l.height,scrollerHeight:l.scrollerHeight,scrollerWidth:l.scrollerWidth};if(f&&(s||l.height!=f)&&(l.height=f,v|=this.CHANGE_SIZE,l.scrollerHeight=l.height,this.$horizScroll&&(l.scrollerHeight-=this.scrollBarH.getHeight()),this.scrollBarV.element.style.bottom=this.scrollBarH.getHeight()+"px",v|=this.CHANGE_SCROLL),_&&(s||l.width!=_)){v|=this.CHANGE_SIZE,l.width=_,g==null&&(g=this.$showGutter?this.$gutter.offsetWidth:0),this.gutterWidth=g,R.setStyle(this.scrollBarH.element.style,"left",g+"px"),R.setStyle(this.scroller.style,"left",g+this.margin.left+"px"),l.scrollerWidth=Math.max(0,_-g-this.scrollBarV.getWidth()-this.margin.h),R.setStyle(this.$gutter.style,"left",this.margin.left+"px");var k=this.scrollBarV.getWidth()+"px";R.setStyle(this.scrollBarH.element.style,"right",k),R.setStyle(this.scroller.style,"right",k),R.setStyle(this.scroller.style,"bottom",this.scrollBarH.getHeight()),(this.session&&this.session.getUseWrapMode()&&this.adjustWrapLimit()||s)&&(v|=this.CHANGE_FULL)}return l.$dirty=!_||!f,v&&this._signal("resize",w),v},this.onGutterResize=function(s){var g=this.$showGutter?s:0;g!=this.gutterWidth&&(this.$changes|=this.$updateCachedSize(!0,g,this.$size.width,this.$size.height)),this.session.getUseWrapMode()&&this.adjustWrapLimit()?this.$loop.schedule(this.CHANGE_FULL):this.$size.$dirty?this.$loop.schedule(this.CHANGE_FULL):this.$computeLayerConfig()},this.adjustWrapLimit=function(){var s=this.$size.scrollerWidth-this.$padding*2,g=Math.floor(s/this.characterWidth);return this.session.adjustWrapLimit(g,this.$showPrintMargin&&this.$printMarginColumn)},this.setAnimatedScroll=function(s){this.setOption("animatedScroll",s)},this.getAnimatedScroll=function(){return this.$animatedScroll},this.setShowInvisibles=function(s){this.setOption("showInvisibles",s),this.session.$bidiHandler.setShowInvisibles(s)},this.getShowInvisibles=function(){return this.getOption("showInvisibles")},this.getDisplayIndentGuides=function(){return this.getOption("displayIndentGuides")},this.setDisplayIndentGuides=function(s){this.setOption("displayIndentGuides",s)},this.setShowPrintMargin=function(s){this.setOption("showPrintMargin",s)},this.getShowPrintMargin=function(){return this.getOption("showPrintMargin")},this.setPrintMarginColumn=function(s){this.setOption("printMarginColumn",s)},this.getPrintMarginColumn=function(){return this.getOption("printMarginColumn")},this.getShowGutter=function(){return this.getOption("showGutter")},this.setShowGutter=function(s){return this.setOption("showGutter",s)},this.getFadeFoldWidgets=function(){return this.getOption("fadeFoldWidgets")},this.setFadeFoldWidgets=function(s){this.setOption("fadeFoldWidgets",s)},this.setHighlightGutterLine=function(s){this.setOption("highlightGutterLine",s)},this.getHighlightGutterLine=function(){return this.getOption("highlightGutterLine")},this.$updatePrintMargin=function(){if(!(!this.$showPrintMargin&&!this.$printMarginEl)){if(!this.$printMarginEl){var s=R.createElement("div");s.className="ace_layer ace_print-margin-layer",this.$printMarginEl=R.createElement("div"),this.$printMarginEl.className="ace_print-margin",s.appendChild(this.$printMarginEl),this.content.insertBefore(s,this.content.firstChild)}var g=this.$printMarginEl.style;g.left=Math.round(this.characterWidth*this.$printMarginColumn+this.$padding)+"px",g.visibility=this.$showPrintMargin?"visible":"hidden",this.session&&this.session.$wrap==-1&&this.adjustWrapLimit()}},this.getContainerElement=function(){return this.container},this.getMouseEventTarget=function(){return this.scroller},this.getTextAreaContainer=function(){return this.container},this.$moveTextAreaToCursor=function(){if(!this.$isMousePressed){var s=this.textarea.style,g=this.$composition;if(!this.$keepTextAreaAtCursor&&!g){R.translate(this.textarea,-100,0);return}var _=this.$cursorLayer.$pixelPos;if(_){g&&g.markerRange&&(_=this.$cursorLayer.getPixelPosition(g.markerRange.start,!0));var f=this.layerConfig,v=_.top,l=_.left;v-=f.offset;var w=g&&g.useTextareaForIME?this.lineHeight:L?0:1;if(v<0||v>f.height-w){R.translate(this.textarea,0,0);return}var k=1,F=this.$size.height-w;if(!g)v+=this.lineHeight;else if(g.useTextareaForIME){var x=this.textarea.value;k=this.characterWidth*this.session.$getStringScreenWidth(x)[0]}else v+=this.lineHeight+2;l-=this.scrollLeft,l>this.$size.scrollerWidth-k&&(l=this.$size.scrollerWidth-k),l+=this.gutterWidth+this.margin.left,R.setStyle(s,"height",w+"px"),R.setStyle(s,"width",k+"px"),R.translate(this.textarea,Math.min(l,this.$size.scrollerWidth-k),Math.min(v,F))}}},this.getFirstVisibleRow=function(){return this.layerConfig.firstRow},this.getFirstFullyVisibleRow=function(){return this.layerConfig.firstRow+(this.layerConfig.offset===0?0:1)},this.getLastFullyVisibleRow=function(){var s=this.layerConfig,g=s.lastRow,_=this.session.documentToScreenRow(g,0)*s.lineHeight;return _-this.session.getScrollTop()>s.height-s.lineHeight?g-1:g},this.getLastVisibleRow=function(){return this.layerConfig.lastRow},this.$padding=null,this.setPadding=function(s){this.$padding=s,this.$textLayer.setPadding(s),this.$cursorLayer.setPadding(s),this.$markerFront.setPadding(s),this.$markerBack.setPadding(s),this.$loop.schedule(this.CHANGE_FULL),this.$updatePrintMargin()},this.setScrollMargin=function(s,g,_,f){var v=this.scrollMargin;v.top=s|0,v.bottom=g|0,v.right=f|0,v.left=_|0,v.v=v.top+v.bottom,v.h=v.left+v.right,v.top&&this.scrollTop<=0&&this.session&&this.session.setScrollTop(-v.top),this.updateFull()},this.setMargin=function(s,g,_,f){var v=this.margin;v.top=s|0,v.bottom=g|0,v.right=f|0,v.left=_|0,v.v=v.top+v.bottom,v.h=v.left+v.right,this.$updateCachedSize(!0,this.gutterWidth,this.$size.width,this.$size.height),this.updateFull()},this.getHScrollBarAlwaysVisible=function(){return this.$hScrollBarAlwaysVisible},this.setHScrollBarAlwaysVisible=function(s){this.setOption("hScrollBarAlwaysVisible",s)},this.getVScrollBarAlwaysVisible=function(){return this.$vScrollBarAlwaysVisible},this.setVScrollBarAlwaysVisible=function(s){this.setOption("vScrollBarAlwaysVisible",s)},this.$updateScrollBarV=function(){var s=this.layerConfig.maxHeight,g=this.$size.scrollerHeight;!this.$maxLines&&this.$scrollPastEnd&&(s-=(g-this.lineHeight)*this.$scrollPastEnd,this.scrollTop>s-g&&(s=this.scrollTop+g,this.scrollBarV.scrollTop=null)),this.scrollBarV.setScrollHeight(s+this.scrollMargin.v),this.scrollBarV.setScrollTop(this.scrollTop+this.scrollMargin.top)},this.$updateScrollBarH=function(){this.scrollBarH.setScrollWidth(this.layerConfig.width+2*this.$padding+this.scrollMargin.h),this.scrollBarH.setScrollLeft(this.scrollLeft+this.scrollMargin.left)},this.$frozen=!1,this.freeze=function(){this.$frozen=!0},this.unfreeze=function(){this.$frozen=!1},this.$renderChanges=function(s,g){if(this.$changes&&(s|=this.$changes,this.$changes=0),!this.session||!this.container.offsetWidth||this.$frozen||!s&&!g){this.$changes|=s;return}if(this.$size.$dirty)return this.$changes|=s,this.onResize(!0);this.lineHeight||this.$textLayer.checkForSizeChanges(),this._signal("beforeRender",s),this.session&&this.session.$bidiHandler&&this.session.$bidiHandler.updateCharacterWidths(this.$fontMetrics);var _=this.layerConfig;if(s&this.CHANGE_FULL||s&this.CHANGE_SIZE||s&this.CHANGE_TEXT||s&this.CHANGE_LINES||s&this.CHANGE_SCROLL||s&this.CHANGE_H_SCROLL){if(s|=this.$computeLayerConfig()|this.$loop.clear(),_.firstRow!=this.layerConfig.firstRow&&_.firstRowScreen==this.layerConfig.firstRowScreen){var f=this.scrollTop+(_.firstRow-this.layerConfig.firstRow)*this.lineHeight;f>0&&(this.scrollTop=f,s|=this.CHANGE_SCROLL,s|=this.$computeLayerConfig()|this.$loop.clear())}_=this.layerConfig,this.$updateScrollBarV(),s&this.CHANGE_H_SCROLL&&this.$updateScrollBarH(),R.translate(this.content,-this.scrollLeft,-_.offset);var v=_.width+2*this.$padding+"px",l=_.minHeight+"px";R.setStyle(this.content.style,"width",v),R.setStyle(this.content.style,"height",l)}if(s&this.CHANGE_H_SCROLL&&(R.translate(this.content,-this.scrollLeft,-_.offset),this.scroller.className=this.scrollLeft<=0?"ace_scroller":"ace_scroller ace_scroll-left"),s&this.CHANGE_FULL){this.$changedLines=null,this.$textLayer.update(_),this.$showGutter&&this.$gutterLayer.update(_),this.$markerBack.update(_),this.$markerFront.update(_),this.$cursorLayer.update(_),this.$moveTextAreaToCursor(),this._signal("afterRender",s);return}if(s&this.CHANGE_SCROLL){this.$changedLines=null,s&this.CHANGE_TEXT||s&this.CHANGE_LINES?this.$textLayer.update(_):this.$textLayer.scrollLines(_),this.$showGutter&&(s&this.CHANGE_GUTTER||s&this.CHANGE_LINES?this.$gutterLayer.update(_):this.$gutterLayer.scrollLines(_)),this.$markerBack.update(_),this.$markerFront.update(_),this.$cursorLayer.update(_),this.$moveTextAreaToCursor(),this._signal("afterRender",s);return}s&this.CHANGE_TEXT?(this.$changedLines=null,this.$textLayer.update(_),this.$showGutter&&this.$gutterLayer.update(_)):s&this.CHANGE_LINES?(this.$updateLines()||s&this.CHANGE_GUTTER&&this.$showGutter)&&this.$gutterLayer.update(_):s&this.CHANGE_TEXT||s&this.CHANGE_GUTTER?this.$showGutter&&this.$gutterLayer.update(_):s&this.CHANGE_CURSOR&&this.$highlightGutterLine&&this.$gutterLayer.updateLineHighlight(_),s&this.CHANGE_CURSOR&&(this.$cursorLayer.update(_),this.$moveTextAreaToCursor()),s&(this.CHANGE_MARKER|this.CHANGE_MARKER_FRONT)&&this.$markerFront.update(_),s&(this.CHANGE_MARKER|this.CHANGE_MARKER_BACK)&&this.$markerBack.update(_),this._signal("afterRender",s)},this.$autosize=function(){var s=this.session.getScreenLength()*this.lineHeight,g=this.$maxLines*this.lineHeight,_=Math.min(g,Math.max((this.$minLines||1)*this.lineHeight,s))+this.scrollMargin.v+(this.$extraHeight||0);this.$horizScroll&&(_+=this.scrollBarH.getHeight()),this.$maxPixelHeight&&_>this.$maxPixelHeight&&(_=this.$maxPixelHeight);var f=_<=2*this.lineHeight,v=!f&&s>g;if(_!=this.desiredHeight||this.$size.height!=this.desiredHeight||v!=this.$vScroll){v!=this.$vScroll&&(this.$vScroll=v,this.scrollBarV.setVisible(v));var l=this.container.clientWidth;this.container.style.height=_+"px",this.$updateCachedSize(!0,this.$gutterWidth,l,_),this.desiredHeight=_,this._signal("autosize")}},this.$computeLayerConfig=function(){var s=this.session,g=this.$size,_=g.height<=2*this.lineHeight,f=this.session.getScreenLength(),v=f*this.lineHeight,l=this.$getLongestLine(),w=!_&&(this.$hScrollBarAlwaysVisible||g.scrollerWidth-l-2*this.$padding<0),k=this.$horizScroll!==w;k&&(this.$horizScroll=w,this.scrollBarH.setVisible(w));var F=this.$vScroll;this.$maxLines&&this.lineHeight>1&&this.$autosize();var x=g.scrollerHeight+this.lineHeight,N=!this.$maxLines&&this.$scrollPastEnd?(g.scrollerHeight-this.lineHeight)*this.$scrollPastEnd:0;v+=N;var G=this.scrollMargin;this.session.setScrollTop(Math.max(-G.top,Math.min(this.scrollTop,v-g.scrollerHeight+G.bottom))),this.session.setScrollLeft(Math.max(-G.left,Math.min(this.scrollLeft,l+2*this.$padding-g.scrollerWidth+G.right)));var q=!_&&(this.$vScrollBarAlwaysVisible||g.scrollerHeight-v+N<0||this.scrollTop>G.top),ne=F!==q;ne&&(this.$vScroll=q,this.scrollBarV.setVisible(q));var X=this.scrollTop%this.lineHeight,j=Math.ceil(x/this.lineHeight)-1,Y=Math.max(0,Math.round((this.scrollTop-X)/this.lineHeight)),ee=Y+j,ie,ae,ce=this.lineHeight;Y=s.screenToDocumentRow(Y,0);var ye=s.getFoldLine(Y);ye&&(Y=ye.start.row),ie=s.documentToScreenRow(Y,0),ae=s.getRowLength(Y)*ce,ee=Math.min(s.screenToDocumentRow(ee,0),s.getLength()-1),x=g.scrollerHeight+s.getRowLength(ee)*ce+ae,X=this.scrollTop-ie*ce;var me=0;return(this.layerConfig.width!=l||k)&&(me=this.CHANGE_H_SCROLL),(k||ne)&&(me|=this.$updateCachedSize(!0,this.gutterWidth,g.width,g.height),this._signal("scrollbarVisibilityChanged"),ne&&(l=this.$getLongestLine())),this.layerConfig={width:l,padding:this.$padding,firstRow:Y,firstRowScreen:ie,lastRow:ee,lineHeight:ce,characterWidth:this.characterWidth,minHeight:x,maxHeight:v,offset:X,gutterOffset:ce?Math.max(0,Math.ceil((X+g.height-g.scrollerHeight)/ce)):0,height:this.$size.scrollerHeight},this.session.$bidiHandler&&this.session.$bidiHandler.setContentWidth(l-this.$padding),me},this.$updateLines=function(){if(this.$changedLines){var s=this.$changedLines.firstRow,g=this.$changedLines.lastRow;this.$changedLines=null;var _=this.layerConfig;if(!(s>_.lastRow+1)&&!(g<_.firstRow)){if(g===1/0){this.$showGutter&&this.$gutterLayer.update(_),this.$textLayer.update(_);return}return this.$textLayer.updateLines(_,s,g),!0}}},this.$getLongestLine=function(){var s=this.session.getScreenWidth();return this.showInvisibles&&!this.session.$useWrapMode&&(s+=1),this.$textLayer&&s>this.$textLayer.MAX_LINE_LENGTH&&(s=this.$textLayer.MAX_LINE_LENGTH+30),Math.max(this.$size.scrollerWidth-2*this.$padding,Math.round(s*this.characterWidth))},this.updateFrontMarkers=function(){this.$markerFront.setMarkers(this.session.getMarkers(!0)),this.$loop.schedule(this.CHANGE_MARKER_FRONT)},this.updateBackMarkers=function(){this.$markerBack.setMarkers(this.session.getMarkers()),this.$loop.schedule(this.CHANGE_MARKER_BACK)},this.addGutterDecoration=function(s,g){this.$gutterLayer.addGutterDecoration(s,g)},this.removeGutterDecoration=function(s,g){this.$gutterLayer.removeGutterDecoration(s,g)},this.updateBreakpoints=function(s){this.$loop.schedule(this.CHANGE_GUTTER)},this.setAnnotations=function(s){this.$gutterLayer.setAnnotations(s),this.$loop.schedule(this.CHANGE_GUTTER)},this.updateCursor=function(){this.$loop.schedule(this.CHANGE_CURSOR)},this.hideCursor=function(){this.$cursorLayer.hideCursor()},this.showCursor=function(){this.$cursorLayer.showCursor()},this.scrollSelectionIntoView=function(s,g,_){this.scrollCursorIntoView(s,_),this.scrollCursorIntoView(g,_)},this.scrollCursorIntoView=function(s,g,_){if(this.$size.scrollerHeight!==0){var f=this.$cursorLayer.getPixelPosition(s),v=f.left,l=f.top,w=_&&_.top||0,k=_&&_.bottom||0,F=this.$scrollAnimation?this.session.getScrollTop():this.scrollTop;F+w>l?(g&&F+w>l+this.lineHeight&&(l-=g*this.$size.scrollerHeight),l===0&&(l=-this.scrollMargin.top),this.session.setScrollTop(l)):F+this.$size.scrollerHeight-k<l+this.lineHeight&&(g&&F+this.$size.scrollerHeight-k<l-this.lineHeight&&(l+=g*this.$size.scrollerHeight),this.session.setScrollTop(l+this.lineHeight+k-this.$size.scrollerHeight));var x=this.scrollLeft;x>v?(v<this.$padding+2*this.layerConfig.characterWidth&&(v=-this.scrollMargin.left),this.session.setScrollLeft(v)):x+this.$size.scrollerWidth<v+this.characterWidth?this.session.setScrollLeft(Math.round(v+this.characterWidth-this.$size.scrollerWidth)):x<=this.$padding&&v-x<this.characterWidth&&this.session.setScrollLeft(0)}},this.getScrollTop=function(){return this.session.getScrollTop()},this.getScrollLeft=function(){return this.session.getScrollLeft()},this.getScrollTopRow=function(){return this.scrollTop/this.lineHeight},this.getScrollBottomRow=function(){return Math.max(0,Math.floor((this.scrollTop+this.$size.scrollerHeight)/this.lineHeight)-1)},this.scrollToRow=function(s){this.session.setScrollTop(s*this.lineHeight)},this.alignCursor=function(s,g){typeof s=="number"&&(s={row:s,column:0});var _=this.$cursorLayer.getPixelPosition(s),f=this.$size.scrollerHeight-this.lineHeight,v=_.top-f*(g||0);return this.session.setScrollTop(v),v},this.STEPS=8,this.$calcSteps=function(s,g){var _=0,f=this.STEPS,v=[],l=function(w,k,F){return F*(Math.pow(w-1,3)+1)+k};for(_=0;_<f;++_)v.push(l(_/this.STEPS,s,g-s));return v},this.scrollToLine=function(s,g,_,f){var v=this.$cursorLayer.getPixelPosition({row:s,column:0}),l=v.top;g&&(l-=this.$size.scrollerHeight/2);var w=this.scrollTop;this.session.setScrollTop(l),_!==!1&&this.animateScrolling(w,f)},this.animateScrolling=function(s,g){var _=this.scrollTop;if(this.$animatedScroll){var f=this;if(s!=_){if(this.$scrollAnimation){var v=this.$scrollAnimation.steps;if(v.length&&(s=v[0],s==_))return}var l=f.$calcSteps(s,_);this.$scrollAnimation={from:s,to:_,steps:l},clearInterval(this.$timer),f.session.setScrollTop(l.shift()),f.session.$scrollTop=_,this.$timer=setInterval(function(){if(!f.session)return clearInterval(f.$timer);l.length?(f.session.setScrollTop(l.shift()),f.session.$scrollTop=_):_!=null?(f.session.$scrollTop=-1,f.session.setScrollTop(_),_=null):(f.$timer=clearInterval(f.$timer),f.$scrollAnimation=null,g&&g())},10)}}},this.scrollToY=function(s){this.scrollTop!==s&&(this.$loop.schedule(this.CHANGE_SCROLL),this.scrollTop=s)},this.scrollToX=function(s){this.scrollLeft!==s&&(this.scrollLeft=s),this.$loop.schedule(this.CHANGE_H_SCROLL)},this.scrollTo=function(s,g){this.session.setScrollTop(g),this.session.setScrollLeft(g)},this.scrollBy=function(s,g){g&&this.session.setScrollTop(this.session.getScrollTop()+g),s&&this.session.setScrollLeft(this.session.getScrollLeft()+s)},this.isScrollableBy=function(s,g){if(g<0&&this.session.getScrollTop()>=1-this.scrollMargin.top||g>0&&this.session.getScrollTop()+this.$size.scrollerHeight-this.layerConfig.maxHeight<-1+this.scrollMargin.bottom||s<0&&this.session.getScrollLeft()>=1-this.scrollMargin.left||s>0&&this.session.getScrollLeft()+this.$size.scrollerWidth-this.layerConfig.width<-1+this.scrollMargin.right)return!0},this.pixelToScreenCoordinates=function(s,g){var _;if(this.$hasCssTransforms){_={top:0,left:0};var f=this.$fontMetrics.transformCoordinates([s,g]);s=f[1]-this.gutterWidth-this.margin.left,g=f[0]}else _=this.scroller.getBoundingClientRect();var v=s+this.scrollLeft-_.left-this.$padding,l=v/this.characterWidth,w=Math.floor((g+this.scrollTop-_.top)/this.lineHeight),k=this.$blockCursor?Math.floor(l):Math.round(l);return{row:w,column:k,side:l-k>0?1:-1,offsetX:v}},this.screenToTextCoordinates=function(s,g){var _;if(this.$hasCssTransforms){_={top:0,left:0};var f=this.$fontMetrics.transformCoordinates([s,g]);s=f[1]-this.gutterWidth-this.margin.left,g=f[0]}else _=this.scroller.getBoundingClientRect();var v=s+this.scrollLeft-_.left-this.$padding,l=v/this.characterWidth,w=this.$blockCursor?Math.floor(l):Math.round(l),k=Math.floor((g+this.scrollTop-_.top)/this.lineHeight);return this.session.screenToDocumentPosition(k,Math.max(w,0),v)},this.textToScreenCoordinates=function(s,g){var _=this.scroller.getBoundingClientRect(),f=this.session.documentToScreenPosition(s,g),v=this.$padding+(this.session.$bidiHandler.isBidiRow(f.row,s)?this.session.$bidiHandler.getPosLeft(f.column):Math.round(f.column*this.characterWidth)),l=f.row*this.lineHeight;return{pageX:_.left+v-this.scrollLeft,pageY:_.top+l-this.scrollTop}},this.visualizeFocus=function(){R.addCssClass(this.container,"ace_focus")},this.visualizeBlur=function(){R.removeCssClass(this.container,"ace_focus")},this.showComposition=function(s){this.$composition=s,s.cssText||(s.cssText=this.textarea.style.cssText),s.useTextareaForIME==null&&(s.useTextareaForIME=this.$useTextareaForIME),this.$useTextareaForIME?(R.addCssClass(this.textarea,"ace_composition"),this.textarea.style.cssText="",this.$moveTextAreaToCursor(),this.$cursorLayer.element.style.display="none"):s.markerId=this.session.addMarker(s.markerRange,"ace_composition_marker","text")},this.setCompositionText=function(s){var g=this.session.selection.cursor;this.addToken(s,"composition_placeholder",g.row,g.column),this.$moveTextAreaToCursor()},this.hideComposition=function(){if(this.$composition){this.$composition.markerId&&this.session.removeMarker(this.$composition.markerId),R.removeCssClass(this.textarea,"ace_composition"),this.textarea.style.cssText=this.$composition.cssText;var s=this.session.selection.cursor;this.removeExtraToken(s.row,s.column),this.$composition=null,this.$cursorLayer.element.style.display=""}},this.addToken=function(s,g,_,f){var v=this.session;v.bgTokenizer.lines[_]=null;var l={type:g,value:s},w=v.getTokens(_);if(f==null)w.push(l);else for(var k=0,F=0;F<w.length;F++){var x=w[F];if(k+=x.value.length,f<=k){var N=x.value.length-(k-f),G=x.value.slice(0,N),q=x.value.slice(N);w.splice(F,1,{type:x.type,value:G},l,{type:x.type,value:q});break}}this.updateLines(_,_)},this.removeExtraToken=function(s,g){this.updateLines(s,s)},this.setTheme=function(s,g){function _(l){if(f.$themeId!=s)return g&&g();if(!l||!l.cssClass)throw new Error("couldn't load module "+s+" or it didn't call define");l.$id&&(f.$themeId=l.$id),R.importCssString(l.cssText,l.cssClass,f.container),f.theme&&R.removeCssClass(f.container,f.theme.cssClass);var w="padding"in l?l.padding:"padding"in(f.theme||{})?4:f.$padding;f.$padding&&w!=f.$padding&&f.setPadding(w),f.$theme=l.cssClass,f.theme=l,R.addCssClass(f.container,l.cssClass),R.setCssClass(f.container,"ace_dark",l.isDark),f.$size&&(f.$size.width=0,f.$updateSizeAsync()),f._dispatchEvent("themeLoaded",{theme:l}),g&&g()}var f=this;if(this.$themeId=s,f._dispatchEvent("themeChange",{theme:s}),!s||typeof s=="string"){var v=s||this.$options.theme.initialValue;d.loadModule(["theme",v],_)}else _(s)},this.getTheme=function(){return this.$themeId},this.setStyle=function(s,g){R.setCssClass(this.container,s,g!==!1)},this.unsetStyle=function(s){R.removeCssClass(this.container,s)},this.setCursorStyle=function(s){R.setStyle(this.scroller.style,"cursor",s)},this.setMouseCursor=function(s){R.setStyle(this.scroller.style,"cursor",s)},this.attachToShadowRoot=function(){R.importCssString(p,"ace_editor.css",this.container)},this.destroy=function(){this.freeze(),this.$fontMetrics.destroy(),this.$cursorLayer.destroy(),this.removeAllListeners(),this.container.textContent=""}}).call(m.prototype),d.defineOptions(m.prototype,"renderer",{animatedScroll:{initialValue:!1},showInvisibles:{set:function(s){this.$textLayer.setShowInvisibles(s)&&this.$loop.schedule(this.CHANGE_TEXT)},initialValue:!1},showPrintMargin:{set:function(){this.$updatePrintMargin()},initialValue:!0},printMarginColumn:{set:function(){this.$updatePrintMargin()},initialValue:80},printMargin:{set:function(s){typeof s=="number"&&(this.$printMarginColumn=s),this.$showPrintMargin=!!s,this.$updatePrintMargin()},get:function(){return this.$showPrintMargin&&this.$printMarginColumn}},showGutter:{set:function(s){this.$gutter.style.display=s?"block":"none",this.$loop.schedule(this.CHANGE_FULL),this.onGutterResize()},initialValue:!0},fadeFoldWidgets:{set:function(s){R.setCssClass(this.$gutter,"ace_fade-fold-widgets",s)},initialValue:!1},showFoldWidgets:{set:function(s){this.$gutterLayer.setShowFoldWidgets(s),this.$loop.schedule(this.CHANGE_GUTTER)},initialValue:!0},displayIndentGuides:{set:function(s){this.$textLayer.setDisplayIndentGuides(s)&&this.$loop.schedule(this.CHANGE_TEXT)},initialValue:!0},highlightGutterLine:{set:function(s){this.$gutterLayer.setHighlightGutterLine(s),this.$loop.schedule(this.CHANGE_GUTTER)},initialValue:!0},hScrollBarAlwaysVisible:{set:function(s){(!this.$hScrollBarAlwaysVisible||!this.$horizScroll)&&this.$loop.schedule(this.CHANGE_SCROLL)},initialValue:!1},vScrollBarAlwaysVisible:{set:function(s){(!this.$vScrollBarAlwaysVisible||!this.$vScroll)&&this.$loop.schedule(this.CHANGE_SCROLL)},initialValue:!1},fontSize:{set:function(s){typeof s=="number"&&(s+="px"),this.container.style.fontSize=s,this.updateFontSize()},initialValue:12},fontFamily:{set:function(s){this.container.style.fontFamily=s,this.updateFontSize()}},maxLines:{set:function(s){this.updateFull()}},minLines:{set:function(s){this.$minLines<562949953421311||(this.$minLines=0),this.updateFull()}},maxPixelHeight:{set:function(s){this.updateFull()},initialValue:0},scrollPastEnd:{set:function(s){s=+s||0,this.$scrollPastEnd!=s&&(this.$scrollPastEnd=s,this.$loop.schedule(this.CHANGE_SCROLL))},initialValue:0,handlesSet:!0},fixedWidthGutter:{set:function(s){this.$gutterLayer.$fixedWidth=!!s,this.$loop.schedule(this.CHANGE_GUTTER)}},theme:{set:function(s){this.setTheme(s)},get:function(){return this.$themeId||this.theme},initialValue:"./theme/textmate",handlesSet:!0},hasCssTransforms:{},useTextareaForIME:{initialValue:!y.isMobile&&!y.isIE}}),T.VirtualRenderer=m}),define("ace/worker/worker_client",["require","exports","module","ace/lib/oop","ace/lib/net","ace/lib/event_emitter","ace/config"],function(A,T,b){function E(r){var i="importScripts('"+c.qualifyURL(r)+"');";try{return new Blob([i],{type:"application/javascript"})}catch{var o=window.BlobBuilder||window.WebKitBlobBuilder||window.MozBlobBuilder,h=new o;return h.append(i),h.getBlob("application/javascript")}}function R(r){if(typeof Worker>"u")return{postMessage:function(){},terminate:function(){}};if(t.get("loadWorkerFromBlob")){var i=E(r),o=window.URL||window.webkitURL,h=o.createObjectURL(i);return new Worker(h)}return new Worker(r)}var d=A("../lib/oop"),c=A("../lib/net"),a=A("../lib/event_emitter").EventEmitter,t=A("../config"),e=function(r){r.postMessage||(r=this.$createWorkerFromOldConfig.apply(this,arguments)),this.$worker=r,this.$sendDeltaQueue=this.$sendDeltaQueue.bind(this),this.changeListener=this.changeListener.bind(this),this.onMessage=this.onMessage.bind(this),this.callbackId=1,this.callbacks={},this.$worker.onmessage=this.onMessage};(function(){d.implement(this,a),this.$createWorkerFromOldConfig=function(r,i,o,h,p){if(A.nameToUrl&&!A.toUrl&&(A.toUrl=A.nameToUrl),t.get("packaged")||!A.toUrl)h=h||t.moduleUrl(i,"worker");else{var y=this.$normalizePath;h=h||y(A.toUrl("ace/worker/worker.js",null,"_"));var L={};r.forEach(function(m){L[m]=y(A.toUrl(m,null,"_").replace(/(\.js)?(\?.*)?$/,""))})}return this.$worker=R(h),p&&this.send("importScripts",p),this.$worker.postMessage({init:!0,tlns:L,module:i,classname:o}),this.$worker},this.onMessage=function(r){var i=r.data;switch(i.type){case"event":this._signal(i.name,{data:i.data});break;case"call":var o=this.callbacks[i.id];o&&(o(i.data),delete this.callbacks[i.id]);break;case"error":this.reportError(i.data);break;case"log":window.console&&console.log&&console.log.apply(console,i.data)}},this.reportError=function(r){window.console&&console.error&&console.error(r)},this.$normalizePath=function(r){return c.qualifyURL(r)},this.terminate=function(){this._signal("terminate",{}),this.deltaQueue=null,this.$worker.terminate(),this.$worker=null,this.$doc&&this.$doc.off("change",this.changeListener),this.$doc=null},this.send=function(r,i){this.$worker.postMessage({command:r,args:i})},this.call=function(r,i,o){if(o){var h=this.callbackId++;this.callbacks[h]=o,i.push(h)}this.send(r,i)},this.emit=function(r,i){try{i.data&&i.data.err&&(i.data.err={message:i.data.err.message,stack:i.data.err.stack,code:i.data.err.code}),this.$worker.postMessage({event:r,data:{data:i.data}})}catch(o){console.error(o.stack)}},this.attachToDocument=function(r){this.$doc&&this.terminate(),this.$doc=r,this.call("setValue",[r.getValue()]),r.on("change",this.changeListener)},this.changeListener=function(r){this.deltaQueue||(this.deltaQueue=[],setTimeout(this.$sendDeltaQueue,0)),r.action=="insert"?this.deltaQueue.push(r.start,r.lines):this.deltaQueue.push(r.start,r.end)},this.$sendDeltaQueue=function(){var r=this.deltaQueue;r&&(this.deltaQueue=null,r.length>50&&r.length>this.$doc.getLength()>>1?this.call("setValue",[this.$doc.getValue()]):this.emit("change",{data:r}))}}).call(e.prototype);var n=function(r,i,o){var h=null,p=!1,y=Object.create(a),L=[],m=new e({messageBuffer:L,terminate:function(){},postMessage:function(g){L.push(g),h&&(p?setTimeout(s):s())}});m.setEmitSync=function(g){p=g};var s=function(){var g=L.shift();g.command?h[g.command].apply(h,g.args):g.event&&y._signal(g.event,g.data)};return y.postMessage=function(g){m.onMessage({data:g})},y.callback=function(g,_){this.postMessage({type:"call",id:_,data:g})},y.emit=function(g,_){this.postMessage({type:"event",name:g,data:_})},t.loadModule(["worker",i],function(g){for(h=new g[o](y);L.length;)s()}),m};T.UIWorkerClient=n,T.WorkerClient=e,T.createWorker=R}),define("ace/placeholder",["require","exports","module","ace/range","ace/lib/event_emitter","ace/lib/oop"],function(A,T,b){var E=A("./range").Range,R=A("./lib/event_emitter").EventEmitter,d=A("./lib/oop"),c=function(a,t,e,n,r,i){var o=this;this.length=t,this.session=a,this.doc=a.getDocument(),this.mainClass=r,this.othersClass=i,this.$onUpdate=this.onUpdate.bind(this),this.doc.on("change",this.$onUpdate),this.$others=n,this.$onCursorChange=function(){setTimeout(function(){o.onCursorChange()})},this.$pos=e;var h=a.getUndoManager().$undoStack||a.getUndoManager().$undostack||{length:-1};this.$undoStackDepth=h.length,this.setup(),a.selection.on("changeCursor",this.$onCursorChange)};(function(){d.implement(this,R),this.setup=function(){var a=this,t=this.doc,e=this.session;this.selectionBefore=e.selection.toJSON(),e.selection.inMultiSelectMode&&e.selection.toSingleRange(),this.pos=t.createAnchor(this.$pos.row,this.$pos.column);var n=this.pos;n.$insertRight=!0,n.detach(),n.markerId=e.addMarker(new E(n.row,n.column,n.row,n.column+this.length),this.mainClass,null,!1),this.others=[],this.$others.forEach(function(r){var i=t.createAnchor(r.row,r.column);i.$insertRight=!0,i.detach(),a.others.push(i)}),e.setUndoSelect(!1)},this.showOtherMarkers=function(){if(!this.othersActive){var a=this.session,t=this;this.othersActive=!0,this.others.forEach(function(e){e.markerId=a.addMarker(new E(e.row,e.column,e.row,e.column+t.length),t.othersClass,null,!1)})}},this.hideOtherMarkers=function(){if(this.othersActive){this.othersActive=!1;for(var a=0;a<this.others.length;a++)this.session.removeMarker(this.others[a].markerId)}},this.onUpdate=function(a){if(this.$updating)return this.updateAnchors(a);var t=a;if(t.start.row===t.end.row&&t.start.row===this.pos.row){this.$updating=!0;var e=a.action==="insert"?t.end.column-t.start.column:t.start.column-t.end.column,n=t.start.column>=this.pos.column&&t.start.column<=this.pos.column+this.length+1,r=t.start.column-this.pos.column;if(this.updateAnchors(a),n&&(this.length+=e),n&&!this.session.$fromUndo){if(a.action==="insert")for(var i=this.others.length-1;i>=0;i--){var o=this.others[i],h={row:o.row,column:o.column+r};this.doc.insertMergedLines(h,a.lines)}else if(a.action==="remove")for(var i=this.others.length-1;i>=0;i--){var o=this.others[i],h={row:o.row,column:o.column+r};this.doc.remove(new E(h.row,h.column,h.row,h.column-e))}}this.$updating=!1,this.updateMarkers()}},this.updateAnchors=function(a){this.pos.onChange(a);for(var t=this.others.length;t--;)this.others[t].onChange(a);this.updateMarkers()},this.updateMarkers=function(){if(!this.$updating){var a=this,t=this.session,e=function(r,i){t.removeMarker(r.markerId),r.markerId=t.addMarker(new E(r.row,r.column,r.row,r.column+a.length),i,null,!1)};e(this.pos,this.mainClass);for(var n=this.others.length;n--;)e(this.others[n],this.othersClass)}},this.onCursorChange=function(a){if(!(this.$updating||!this.session)){var t=this.session.selection.getCursor();t.row===this.pos.row&&t.column>=this.pos.column&&t.column<=this.pos.column+this.length?(this.showOtherMarkers(),this._emit("cursorEnter",a)):(this.hideOtherMarkers(),this._emit("cursorLeave",a))}},this.detach=function(){this.session.removeMarker(this.pos&&this.pos.markerId),this.hideOtherMarkers(),this.doc.off("change",this.$onUpdate),this.session.selection.off("changeCursor",this.$onCursorChange),this.session.setUndoSelect(!0),this.session=null},this.cancel=function(){if(this.$undoStackDepth!==-1){for(var a=this.session.getUndoManager(),t=(a.$undoStack||a.$undostack).length-this.$undoStackDepth,e=0;e<t;e++)a.undo(this.session,!0);this.selectionBefore&&this.session.selection.fromJSON(this.selectionBefore)}}}).call(c.prototype),T.PlaceHolder=c}),define("ace/mouse/multi_select_handler",["require","exports","module","ace/lib/event","ace/lib/useragent"],function(A,T,b){function E(a,t){return a.row==t.row&&a.column==t.column}function R(a){var t=a.domEvent,e=t.altKey,n=t.shiftKey,r=t.ctrlKey,i=a.getAccelKey(),o=a.getButton();if(r&&c.isMac&&(o=t.button),a.editor.inMultiSelectMode&&o==2){a.editor.textInput.onContextMenu(a.domEvent);return}if(!r&&!e&&!i){o===0&&a.editor.inMultiSelectMode&&a.editor.exitMultiSelectMode();return}if(o===0){var h=a.editor,p=h.selection,y=h.inMultiSelectMode,L=a.getDocumentPosition(),m=p.getCursor(),s=a.inSelection()||p.isEmpty()&&E(L,m),g=a.x,_=a.y,f=function(Y){g=Y.clientX,_=Y.clientY},v=h.session,l=h.renderer.pixelToScreenCoordinates(g,_),w=l,k;if(h.$mouseHandler.$enableJumpToDef)r&&e||i&&e?k=n?"block":"add":e&&h.$blockSelectEnabled&&(k="block");else if(i&&!e){if(k="add",!y&&n)return}else e&&h.$blockSelectEnabled&&(k="block");if(k&&c.isMac&&t.ctrlKey&&h.$mouseHandler.cancelContextMenu(),k=="add"){if(!y&&s)return;if(!y){var F=p.toOrientedRange();h.addSelectionMarker(F)}var x=p.rangeList.rangeAtPoint(L);h.inVirtualSelectionMode=!0,n&&(x=null,F=p.ranges[0]||F,h.removeSelectionMarker(F)),h.once("mouseup",function(){var Y=p.toOrientedRange();x&&Y.isEmpty()&&E(x.cursor,Y.cursor)?p.substractPoint(Y.cursor):(n?p.substractPoint(F.cursor):F&&(h.removeSelectionMarker(F),p.addRange(F)),p.addRange(Y)),h.inVirtualSelectionMode=!1})}else if(k=="block"){a.stop(),h.inVirtualSelectionMode=!0;var N,G=[],q=function(){var Y=h.renderer.pixelToScreenCoordinates(g,_),ee=v.screenToDocumentPosition(Y.row,Y.column,Y.offsetX);E(w,Y)&&E(ee,p.lead)||(w=Y,h.selection.moveToPosition(ee),h.renderer.scrollCursorIntoView(),h.removeSelectionMarkers(G),G=p.rectangularRangeBlock(w,l),h.$mouseHandler.$clickSelection&&G.length==1&&G[0].isEmpty()&&(G[0]=h.$mouseHandler.$clickSelection.clone()),G.forEach(h.addSelectionMarker,h),h.updateSelectionMarkers())};y&&!i?p.toSingleRange():!y&&i&&(N=p.toOrientedRange(),h.addSelectionMarker(N)),n?l=v.documentToScreenPosition(p.lead):p.moveToPosition(L),w={row:-1,column:-1};var ne=function(Y){q(),clearInterval(j),h.removeSelectionMarkers(G),G.length||(G=[p.toOrientedRange()]),N&&(h.removeSelectionMarker(N),p.toSingleRange(N));for(var ee=0;ee<G.length;ee++)p.addRange(G[ee]);h.inVirtualSelectionMode=!1,h.$mouseHandler.$clickSelection=null},X=q;d.capture(h.container,f,ne);var j=setInterval(function(){X()},20);return a.preventDefault()}}}var d=A("../lib/event"),c=A("../lib/useragent");T.onMouseDown=R}),define("ace/commands/multi_select_commands",["require","exports","module","ace/keyboard/hash_handler"],function(A,T,b){T.defaultCommands=[{name:"addCursorAbove",description:"Add cursor above",exec:function(R){R.selectMoreLines(-1)},bindKey:{win:"Ctrl-Alt-Up",mac:"Ctrl-Alt-Up"},scrollIntoView:"cursor",readOnly:!0},{name:"addCursorBelow",description:"Add cursor below",exec:function(R){R.selectMoreLines(1)},bindKey:{win:"Ctrl-Alt-Down",mac:"Ctrl-Alt-Down"},scrollIntoView:"cursor",readOnly:!0},{name:"addCursorAboveSkipCurrent",description:"Add cursor above (skip current)",exec:function(R){R.selectMoreLines(-1,!0)},bindKey:{win:"Ctrl-Alt-Shift-Up",mac:"Ctrl-Alt-Shift-Up"},scrollIntoView:"cursor",readOnly:!0},{name:"addCursorBelowSkipCurrent",description:"Add cursor below (skip current)",exec:function(R){R.selectMoreLines(1,!0)},bindKey:{win:"Ctrl-Alt-Shift-Down",mac:"Ctrl-Alt-Shift-Down"},scrollIntoView:"cursor",readOnly:!0},{name:"selectMoreBefore",description:"Select more before",exec:function(R){R.selectMore(-1)},bindKey:{win:"Ctrl-Alt-Left",mac:"Ctrl-Alt-Left"},scrollIntoView:"cursor",readOnly:!0},{name:"selectMoreAfter",description:"Select more after",exec:function(R){R.selectMore(1)},bindKey:{win:"Ctrl-Alt-Right",mac:"Ctrl-Alt-Right"},scrollIntoView:"cursor",readOnly:!0},{name:"selectNextBefore",description:"Select next before",exec:function(R){R.selectMore(-1,!0)},bindKey:{win:"Ctrl-Alt-Shift-Left",mac:"Ctrl-Alt-Shift-Left"},scrollIntoView:"cursor",readOnly:!0},{name:"selectNextAfter",description:"Select next after",exec:function(R){R.selectMore(1,!0)},bindKey:{win:"Ctrl-Alt-Shift-Right",mac:"Ctrl-Alt-Shift-Right"},scrollIntoView:"cursor",readOnly:!0},{name:"toggleSplitSelectionIntoLines",description:"Split into lines",exec:function(R){R.multiSelect.rangeCount>1?R.multiSelect.joinSelections():R.multiSelect.splitIntoLines()},bindKey:{win:"Ctrl-Alt-L",mac:"Ctrl-Alt-L"},readOnly:!0},{name:"splitSelectionIntoLines",description:"Split into lines",exec:function(R){R.multiSelect.splitIntoLines()},readOnly:!0},{name:"alignCursors",description:"Align cursors",exec:function(R){R.alignCursors()},bindKey:{win:"Ctrl-Alt-A",mac:"Ctrl-Alt-A"},scrollIntoView:"cursor"},{name:"findAll",description:"Find all",exec:function(R){R.findAll()},bindKey:{win:"Ctrl-Alt-K",mac:"Ctrl-Alt-G"},scrollIntoView:"cursor",readOnly:!0}],T.multiSelectCommands=[{name:"singleSelection",description:"Single selection",bindKey:"esc",exec:function(R){R.exitMultiSelectMode()},scrollIntoView:"cursor",readOnly:!0,isAvailable:function(R){return R&&R.inMultiSelectMode}}];var E=A("../keyboard/hash_handler").HashHandler;T.keyboardHandler=new E(T.multiSelectCommands)}),define("ace/multi_select",["require","exports","module","ace/range_list","ace/range","ace/selection","ace/mouse/multi_select_handler","ace/lib/event","ace/lib/lang","ace/commands/multi_select_commands","ace/search","ace/edit_session","ace/editor","ace/config"],function(A,T,b){function E(m,s,g){return p.$options.wrap=!0,p.$options.needle=s,p.$options.backwards=g==-1,p.find(m)}function R(m,s){return m.row==s.row&&m.column==s.column}function d(m){m.$multiselectOnSessionChange||(m.$onAddRange=m.$onAddRange.bind(m),m.$onRemoveRange=m.$onRemoveRange.bind(m),m.$onMultiSelect=m.$onMultiSelect.bind(m),m.$onSingleSelect=m.$onSingleSelect.bind(m),m.$multiselectOnSessionChange=T.onSessionChange.bind(m),m.$checkMultiselectChange=m.$checkMultiselectChange.bind(m),m.$multiselectOnSessionChange(m),m.on("changeSession",m.$multiselectOnSessionChange),m.on("mousedown",n),m.commands.addCommands(o.defaultCommands),c(m))}function c(m){function s(f){_&&(m.renderer.setMouseCursor(""),_=!1)}if(m.textInput){var g=m.textInput.getElement(),_=!1;r.addListener(g,"keydown",function(f){var v=f.keyCode==18&&!(f.ctrlKey||f.shiftKey||f.metaKey);m.$blockSelectEnabled&&v?_||(m.renderer.setMouseCursor("crosshair"),_=!0):_&&s()},m),r.addListener(g,"keyup",s,m),r.addListener(g,"blur",s,m)}}var a=A("./range_list").RangeList,t=A("./range").Range,e=A("./selection").Selection,n=A("./mouse/multi_select_handler").onMouseDown,r=A("./lib/event"),i=A("./lib/lang"),o=A("./commands/multi_select_commands");T.commands=o.defaultCommands.concat(o.multiSelectCommands);var h=A("./search").Search,p=new h,y=A("./edit_session").EditSession;(function(){this.getSelectionMarkers=function(){return this.$selectionMarkers}}).call(y.prototype),(function(){this.ranges=null,this.rangeList=null,this.addRange=function(m,s){if(m){if(!this.inMultiSelectMode&&this.rangeCount===0){var g=this.toOrientedRange();if(this.rangeList.add(g),this.rangeList.add(m),this.rangeList.ranges.length!=2)return this.rangeList.removeAll(),s||this.fromOrientedRange(m);this.rangeList.removeAll(),this.rangeList.add(g),this.$onAddRange(g)}m.cursor||(m.cursor=m.end);var _=this.rangeList.add(m);return this.$onAddRange(m),_.length&&this.$onRemoveRange(_),this.rangeCount>1&&!this.inMultiSelectMode&&(this._signal("multiSelect"),this.inMultiSelectMode=!0,this.session.$undoSelect=!1,this.rangeList.attach(this.session)),s||this.fromOrientedRange(m)}},this.toSingleRange=function(m){m=m||this.ranges[0];var s=this.rangeList.removeAll();s.length&&this.$onRemoveRange(s),m&&this.fromOrientedRange(m)},this.substractPoint=function(m){var s=this.rangeList.substractPoint(m);if(s)return this.$onRemoveRange(s),s[0]},this.mergeOverlappingRanges=function(){var m=this.rangeList.merge();m.length&&this.$onRemoveRange(m)},this.$onAddRange=function(m){this.rangeCount=this.rangeList.ranges.length,this.ranges.unshift(m),this._signal("addRange",{range:m})},this.$onRemoveRange=function(m){if(this.rangeCount=this.rangeList.ranges.length,this.rangeCount==1&&this.inMultiSelectMode){var s=this.rangeList.ranges.pop();m.push(s),this.rangeCount=0}for(var g=m.length;g--;){var _=this.ranges.indexOf(m[g]);this.ranges.splice(_,1)}this._signal("removeRange",{ranges:m}),this.rangeCount===0&&this.inMultiSelectMode&&(this.inMultiSelectMode=!1,this._signal("singleSelect"),this.session.$undoSelect=!0,this.rangeList.detach(this.session)),s=s||this.ranges[0],s&&!s.isEqual(this.getRange())&&this.fromOrientedRange(s)},this.$initRangeList=function(){this.rangeList||(this.rangeList=new a,this.ranges=[],this.rangeCount=0)},this.getAllRanges=function(){return this.rangeCount?this.rangeList.ranges.concat():[this.getRange()]},this.splitIntoLines=function(){for(var m=this.ranges.length?this.ranges:[this.getRange()],s=[],g=0;g<m.length;g++){var _=m[g],f=_.start.row,v=_.end.row;if(f===v)s.push(_.clone());else{for(s.push(new t(f,_.start.column,f,this.session.getLine(f).length));++f<v;)s.push(this.getLineRange(f,!0));s.push(new t(v,0,v,_.end.column))}g==0&&!this.isBackwards()&&(s=s.reverse())}this.toSingleRange();for(var g=s.length;g--;)this.addRange(s[g])},this.joinSelections=function(){var m=this.rangeList.ranges,s=m[m.length-1],g=t.fromPoints(m[0].start,s.end);this.toSingleRange(),this.setSelectionRange(g,s.cursor==s.start)},this.toggleBlockSelection=function(){if(this.rangeCount>1){var m=this.rangeList.ranges,s=m[m.length-1],g=t.fromPoints(m[0].start,s.end);this.toSingleRange(),this.setSelectionRange(g,s.cursor==s.start)}else{var _=this.session.documentToScreenPosition(this.cursor),f=this.session.documentToScreenPosition(this.anchor),v=this.rectangularRangeBlock(_,f);v.forEach(this.addRange,this)}},this.rectangularRangeBlock=function(m,s,g){var _=[],f=m.column<s.column;if(f)var v=m.column,l=s.column,w=m.offsetX,k=s.offsetX;else var v=s.column,l=m.column,w=s.offsetX,k=m.offsetX;var F=m.row<s.row;if(F)var x=m.row,N=s.row;else var x=s.row,N=m.row;v<0&&(v=0),x<0&&(x=0),x==N&&(g=!0);for(var G,q=x;q<=N;q++){var ne=t.fromPoints(this.session.screenToDocumentPosition(q,v,w),this.session.screenToDocumentPosition(q,l,k));if(ne.isEmpty()){if(G&&R(ne.end,G))break;G=ne.end}ne.cursor=f?ne.start:ne.end,_.push(ne)}if(F&&_.reverse(),!g){for(var X=_.length-1;_[X].isEmpty()&&X>0;)X--;if(X>0)for(var j=0;_[j].isEmpty();)j++;for(var Y=X;Y>=j;Y--)_[Y].isEmpty()&&_.splice(Y,1)}return _}}).call(e.prototype);var L=A("./editor").Editor;(function(){this.updateSelectionMarkers=function(){this.renderer.updateCursor(),this.renderer.updateBackMarkers()},this.addSelectionMarker=function(m){m.cursor||(m.cursor=m.end);var s=this.getSelectionStyle();return m.marker=this.session.addMarker(m,"ace_selection",s),this.session.$selectionMarkers.push(m),this.session.selectionMarkerCount=this.session.$selectionMarkers.length,m},this.removeSelectionMarker=function(m){if(m.marker){this.session.removeMarker(m.marker);var s=this.session.$selectionMarkers.indexOf(m);s!=-1&&this.session.$selectionMarkers.splice(s,1),this.session.selectionMarkerCount=this.session.$selectionMarkers.length}},this.removeSelectionMarkers=function(m){for(var s=this.session.$selectionMarkers,g=m.length;g--;){var _=m[g];if(_.marker){this.session.removeMarker(_.marker);var f=s.indexOf(_);f!=-1&&s.splice(f,1)}}this.session.selectionMarkerCount=s.length},this.$onAddRange=function(m){this.addSelectionMarker(m.range),this.renderer.updateCursor(),this.renderer.updateBackMarkers()},this.$onRemoveRange=function(m){this.removeSelectionMarkers(m.ranges),this.renderer.updateCursor(),this.renderer.updateBackMarkers()},this.$onMultiSelect=function(m){this.inMultiSelectMode||(this.inMultiSelectMode=!0,this.setStyle("ace_multiselect"),this.keyBinding.addKeyboardHandler(o.keyboardHandler),this.commands.setDefaultHandler("exec",this.$onMultiSelectExec),this.renderer.updateCursor(),this.renderer.updateBackMarkers())},this.$onSingleSelect=function(m){this.session.multiSelect.inVirtualMode||(this.inMultiSelectMode=!1,this.unsetStyle("ace_multiselect"),this.keyBinding.removeKeyboardHandler(o.keyboardHandler),this.commands.removeDefaultHandler("exec",this.$onMultiSelectExec),this.renderer.updateCursor(),this.renderer.updateBackMarkers(),this._emit("changeSelection"))},this.$onMultiSelectExec=function(m){var s=m.command,g=m.editor;if(g.multiSelect){if(s.multiSelectAction)s.multiSelectAction=="forEach"?_=g.forEachSelection(s,m.args):s.multiSelectAction=="forEachLine"?_=g.forEachSelection(s,m.args,!0):s.multiSelectAction=="single"?(g.exitMultiSelectMode(),_=s.exec(g,m.args||{})):_=s.multiSelectAction(g,m.args||{});else{var _=s.exec(g,m.args||{});g.multiSelect.addRange(g.multiSelect.toOrientedRange()),g.multiSelect.mergeOverlappingRanges()}return _}},this.forEachSelection=function(m,s,g){if(!this.inVirtualSelectionMode){var _=g&&g.keepOrder,f=g==1||g&&g.$byLines,v=this.session,l=this.selection,w=l.rangeList,k=(_?l:w).ranges,F;if(!k.length)return m.exec?m.exec(this,s||{}):m(this,s||{});var x=l._eventRegistry;l._eventRegistry={};var N=new e(v);this.inVirtualSelectionMode=!0;for(var G=k.length;G--;){if(f)for(;G>0&&k[G].start.row==k[G-1].end.row;)G--;N.fromOrientedRange(k[G]),N.index=G,this.selection=v.selection=N;var q=m.exec?m.exec(this,s||{}):m(this,s||{});!F&&q!==void 0&&(F=q),N.toOrientedRange(k[G])}N.detach(),this.selection=v.selection=l,this.inVirtualSelectionMode=!1,l._eventRegistry=x,l.mergeOverlappingRanges(),l.ranges[0]&&l.fromOrientedRange(l.ranges[0]);var ne=this.renderer.$scrollAnimation;return this.onCursorChange(),this.onSelectionChange(),ne&&ne.from==ne.to&&this.renderer.animateScrolling(ne.from),F}},this.exitMultiSelectMode=function(){!this.inMultiSelectMode||this.inVirtualSelectionMode||this.multiSelect.toSingleRange()},this.getSelectedText=function(){var m="";if(this.inMultiSelectMode&&!this.inVirtualSelectionMode){for(var s=this.multiSelect.rangeList.ranges,g=[],_=0;_<s.length;_++)g.push(this.session.getTextRange(s[_]));var f=this.session.getDocument().getNewLineCharacter();m=g.join(f),m.length==(g.length-1)*f.length&&(m="")}else this.selection.isEmpty()||(m=this.session.getTextRange(this.getSelectionRange()));return m},this.$checkMultiselectChange=function(m,s){if(this.inMultiSelectMode&&!this.inVirtualSelectionMode){var g=this.multiSelect.ranges[0];if(this.multiSelect.isEmpty()&&s==this.multiSelect.anchor)return;var _=s==this.multiSelect.anchor?g.cursor==g.start?g.end:g.start:g.cursor;_.row!=s.row||this.session.$clipPositionToDocument(_.row,_.column).column!=s.column?this.multiSelect.toSingleRange(this.multiSelect.toOrientedRange()):this.multiSelect.mergeOverlappingRanges()}},this.findAll=function(m,s,g){if(s=s||{},s.needle=m||s.needle,s.needle==null){var _=this.selection.isEmpty()?this.selection.getWordRange():this.selection.getRange();s.needle=this.session.getTextRange(_)}this.$search.set(s);var f=this.$search.findAll(this.session);if(!f.length)return 0;var v=this.multiSelect;g||v.toSingleRange(f[0]);for(var l=f.length;l--;)v.addRange(f[l],!0);return _&&v.rangeList.rangeAtPoint(_.start)&&v.addRange(_,!0),f.length},this.selectMoreLines=function(m,s){var g=this.selection.toOrientedRange(),_=g.cursor==g.end,f=this.session.documentToScreenPosition(g.cursor);this.selection.$desiredColumn&&(f.column=this.selection.$desiredColumn);var v=this.session.screenToDocumentPosition(f.row+m,f.column);if(g.isEmpty())var w=v;else var l=this.session.documentToScreenPosition(_?g.end:g.start),w=this.session.screenToDocumentPosition(l.row+m,l.column);if(_){var k=t.fromPoints(v,w);k.cursor=k.start}else{var k=t.fromPoints(w,v);k.cursor=k.end}if(k.desiredColumn=f.column,!this.selection.inMultiSelectMode)this.selection.addRange(g);else if(s)var F=g.cursor;this.selection.addRange(k),F&&this.selection.substractPoint(F)},this.transposeSelections=function(m){for(var s=this.session,g=s.multiSelect,_=g.ranges,f=_.length;f--;){var v=_[f];if(v.isEmpty()){var l=s.getWordRange(v.start.row,v.start.column);v.start.row=l.start.row,v.start.column=l.start.column,v.end.row=l.end.row,v.end.column=l.end.column}}g.mergeOverlappingRanges();for(var w=[],f=_.length;f--;){var v=_[f];w.unshift(s.getTextRange(v))}m<0?w.unshift(w.pop()):w.push(w.shift());for(var f=_.length;f--;){var v=_[f],l=v.clone();s.replace(v,w[f]),v.start.row=l.start.row,v.start.column=l.start.column}g.fromOrientedRange(g.ranges[0])},this.selectMore=function(m,s,g){var _=this.session,f=_.multiSelect,v=f.toOrientedRange();if(!(v.isEmpty()&&(v=_.getWordRange(v.start.row,v.start.column),v.cursor=m==-1?v.start:v.end,this.multiSelect.addRange(v),g))){var l=_.getTextRange(v),w=E(_,l,m);w&&(w.cursor=m==-1?w.start:w.end,this.session.unfold(w),this.multiSelect.addRange(w),this.renderer.scrollCursorIntoView(null,.5)),s&&this.multiSelect.substractPoint(v.cursor)}},this.alignCursors=function(){var m=this.session,s=m.multiSelect,g=s.ranges,_=-1,f=g.filter(function(X){if(X.cursor.row==_)return!0;_=X.cursor.row});if(!g.length||f.length==g.length-1){var v=this.selection.getRange(),l=v.start.row,w=v.end.row,k=l==w;if(k){var F=this.session.getLength(),x;do x=this.session.getLine(w);while(/[=:]/.test(x)&&++w<F);do x=this.session.getLine(l);while(/[=:]/.test(x)&&--l>0);l<0&&(l=0),w>=F&&(w=F-1)}var N=this.session.removeFullLines(l,w);N=this.$reAlignText(N,k),this.session.insert({row:l,column:0},N.join(`
`)+`
`),k||(v.start.column=0,v.end.column=N[N.length-1].length),this.selection.setRange(v)}else{f.forEach(function(X){s.substractPoint(X.cursor)});var G=0,q=1/0,ne=g.map(function(X){var j=X.cursor,Y=m.getLine(j.row),ee=Y.substr(j.column).search(/\S/g);return ee==-1&&(ee=0),j.column>G&&(G=j.column),ee<q&&(q=ee),ee});g.forEach(function(X,j){var Y=X.cursor,ee=G-Y.column,ie=ne[j]-q;ee>ie?m.insert(Y,i.stringRepeat(" ",ee-ie)):m.remove(new t(Y.row,Y.column,Y.row,Y.column-ee+ie)),X.start.column=X.end.column=G,X.start.row=X.end.row=Y.row,X.cursor=X.end}),s.fromOrientedRange(g[0]),this.renderer.updateCursor(),this.renderer.updateBackMarkers()}},this.$reAlignText=function(m,s){function g(N){return i.stringRepeat(" ",N)}function _(N){return N[2]?g(k)+N[2]+g(F-N[2].length+x)+N[4].replace(/^([=:])\s+/,"$1 "):N[0]}function f(N){return N[2]?g(k+F-N[2].length)+N[2]+g(x)+N[4].replace(/^([=:])\s+/,"$1 "):N[0]}function v(N){return N[2]?g(k)+N[2]+g(x)+N[4].replace(/^([=:])\s+/,"$1 "):N[0]}var l=!0,w=!0,k,F,x;return m.map(function(N){var G=N.match(/(\s*)(.*?)(\s*)([=:].*)/);return G?k==null?(k=G[1].length,F=G[2].length,x=G[3].length,G):(k+F+x!=G[1].length+G[2].length+G[3].length&&(w=!1),k!=G[1].length&&(l=!1),k>G[1].length&&(k=G[1].length),F<G[2].length&&(F=G[2].length),x>G[3].length&&(x=G[3].length),G):[N]}).map(s?_:l?w?f:_:v)}}).call(L.prototype),T.onSessionChange=function(m){var s=m.session;s&&!s.multiSelect&&(s.$selectionMarkers=[],s.selection.$initRangeList(),s.multiSelect=s.selection),this.multiSelect=s&&s.multiSelect;var g=m.oldSession;g&&(g.multiSelect.off("addRange",this.$onAddRange),g.multiSelect.off("removeRange",this.$onRemoveRange),g.multiSelect.off("multiSelect",this.$onMultiSelect),g.multiSelect.off("singleSelect",this.$onSingleSelect),g.multiSelect.lead.off("change",this.$checkMultiselectChange),g.multiSelect.anchor.off("change",this.$checkMultiselectChange)),s&&(s.multiSelect.on("addRange",this.$onAddRange),s.multiSelect.on("removeRange",this.$onRemoveRange),s.multiSelect.on("multiSelect",this.$onMultiSelect),s.multiSelect.on("singleSelect",this.$onSingleSelect),s.multiSelect.lead.on("change",this.$checkMultiselectChange),s.multiSelect.anchor.on("change",this.$checkMultiselectChange)),s&&this.inMultiSelectMode!=s.selection.inMultiSelectMode&&(s.selection.inMultiSelectMode?this.$onMultiSelect():this.$onSingleSelect())},T.MultiSelect=d,A("./config").defineOptions(L.prototype,"editor",{enableMultiselect:{set:function(m){d(this),m?(this.on("changeSession",this.$multiselectOnSessionChange),this.on("mousedown",n)):(this.off("changeSession",this.$multiselectOnSessionChange),this.off("mousedown",n))},value:!0},enableBlockSelect:{set:function(m){this.$blockSelectEnabled=m},value:!0}})}),define("ace/mode/folding/fold_mode",["require","exports","module","ace/range"],function(A,T,b){var E=A("../../range").Range,R=T.FoldMode=function(){};(function(){this.foldingStartMarker=null,this.foldingStopMarker=null,this.getFoldWidget=function(d,c,a){var t=d.getLine(a);return this.foldingStartMarker.test(t)?"start":c=="markbeginend"&&this.foldingStopMarker&&this.foldingStopMarker.test(t)?"end":""},this.getFoldWidgetRange=function(d,c,a){return null},this.indentationBlock=function(d,c,a){var t=/\S/,e=d.getLine(c),n=e.search(t);if(n!=-1){for(var r=a||e.length,i=d.getLength(),o=c,h=c;++c<i;){var p=d.getLine(c).search(t);if(p!=-1){if(p<=n){var y=d.getTokenAt(c,0);if(!y||y.type!=="string")break}h=c}}if(h>o){var L=d.getLine(h).length;return new E(o,r,h,L)}}},this.openingBracketBlock=function(d,c,a,t,e){var n={row:a,column:t+1},r=d.$findClosingBracket(c,n,e);if(r){var i=d.foldWidgets[r.row];return i==null&&(i=d.getFoldWidget(r.row)),i=="start"&&r.row>n.row&&(r.row--,r.column=d.getLine(r.row).length),E.fromPoints(n,r)}},this.closingBracketBlock=function(d,c,a,t,e){var n={row:a,column:t},r=d.$findOpeningBracket(c,n);if(r)return r.column++,n.column--,E.fromPoints(r,n)}}).call(R.prototype)}),define("ace/theme/textmate",["require","exports","module","ace/lib/dom"],function(A,T,b){T.isDark=!1,T.cssClass="ace-tm",T.cssText='.ace-tm .ace_gutter {background: #f0f0f0;color: #333;}.ace-tm .ace_print-margin {width: 1px;background: #e8e8e8;}.ace-tm .ace_fold {background-color: #6B72E6;}.ace-tm {background-color: #FFFFFF;color: black;}.ace-tm .ace_cursor {color: black;}.ace-tm .ace_invisible {color: rgb(191, 191, 191);}.ace-tm .ace_storage,.ace-tm .ace_keyword {color: blue;}.ace-tm .ace_constant {color: rgb(197, 6, 11);}.ace-tm .ace_constant.ace_buildin {color: rgb(88, 72, 246);}.ace-tm .ace_constant.ace_language {color: rgb(88, 92, 246);}.ace-tm .ace_constant.ace_library {color: rgb(6, 150, 14);}.ace-tm .ace_invalid {background-color: rgba(255, 0, 0, 0.1);color: red;}.ace-tm .ace_support.ace_function {color: rgb(60, 76, 114);}.ace-tm .ace_support.ace_constant {color: rgb(6, 150, 14);}.ace-tm .ace_support.ace_type,.ace-tm .ace_support.ace_class {color: rgb(109, 121, 222);}.ace-tm .ace_keyword.ace_operator {color: rgb(104, 118, 135);}.ace-tm .ace_string {color: rgb(3, 106, 7);}.ace-tm .ace_comment {color: rgb(76, 136, 107);}.ace-tm .ace_comment.ace_doc {color: rgb(0, 102, 255);}.ace-tm .ace_comment.ace_doc.ace_tag {color: rgb(128, 159, 191);}.ace-tm .ace_constant.ace_numeric {color: rgb(0, 0, 205);}.ace-tm .ace_variable {color: rgb(49, 132, 149);}.ace-tm .ace_xml-pe {color: rgb(104, 104, 91);}.ace-tm .ace_entity.ace_name.ace_function {color: #0000A2;}.ace-tm .ace_heading {color: rgb(12, 7, 255);}.ace-tm .ace_list {color:rgb(185, 6, 144);}.ace-tm .ace_meta.ace_tag {color:rgb(0, 22, 142);}.ace-tm .ace_string.ace_regex {color: rgb(255, 0, 0)}.ace-tm .ace_marker-layer .ace_selection {background: rgb(181, 213, 255);}.ace-tm.ace_multiselect .ace_selection.ace_start {box-shadow: 0 0 3px 0px white;}.ace-tm .ace_marker-layer .ace_step {background: rgb(252, 255, 0);}.ace-tm .ace_marker-layer .ace_stack {background: rgb(164, 229, 101);}.ace-tm .ace_marker-layer .ace_bracket {margin: -1px 0 0 -1px;border: 1px solid rgb(192, 192, 192);}.ace-tm .ace_marker-layer .ace_active-line {background: rgba(0, 0, 0, 0.07);}.ace-tm .ace_gutter-active-line {background-color : #dcdcdc;}.ace-tm .ace_marker-layer .ace_selected-word {background: rgb(250, 250, 255);border: 1px solid rgb(200, 200, 250);}.ace-tm .ace_indent-guide {background: url("data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAEAAAACCAYAAACZgbYnAAAAE0lEQVQImWP4////f4bLly//BwAmVgd1/w11/gAAAABJRU5ErkJggg==") right repeat-y;}',T.$id="ace/theme/textmate";var E=A("../lib/dom");E.importCssString(T.cssText,T.cssClass)}),define("ace/line_widgets",["require","exports","module","ace/lib/dom"],function(A,T,b){function E(d){this.session=d,this.session.widgetManager=this,this.session.getRowLength=this.getRowLength,this.session.$getWidgetScreenLength=this.$getWidgetScreenLength,this.updateOnChange=this.updateOnChange.bind(this),this.renderWidgets=this.renderWidgets.bind(this),this.measureWidgets=this.measureWidgets.bind(this),this.session._changedWidgets=[],this.$onChangeEditor=this.$onChangeEditor.bind(this),this.session.on("change",this.updateOnChange),this.session.on("changeFold",this.updateOnFold),this.session.on("changeEditor",this.$onChangeEditor)}var R=A("./lib/dom");(function(){this.getRowLength=function(d){var c;return this.lineWidgets?c=this.lineWidgets[d]&&this.lineWidgets[d].rowCount||0:c=0,!this.$useWrapMode||!this.$wrapData[d]?1+c:this.$wrapData[d].length+1+c},this.$getWidgetScreenLength=function(){var d=0;return this.lineWidgets.forEach(function(c){c&&c.rowCount&&!c.hidden&&(d+=c.rowCount)}),d},this.$onChangeEditor=function(d){this.attach(d.editor)},this.attach=function(d){d&&d.widgetManager&&d.widgetManager!=this&&d.widgetManager.detach(),this.editor!=d&&(this.detach(),this.editor=d,d&&(d.widgetManager=this,d.renderer.on("beforeRender",this.measureWidgets),d.renderer.on("afterRender",this.renderWidgets)))},this.detach=function(d){var c=this.editor;if(c){this.editor=null,c.widgetManager=null,c.renderer.off("beforeRender",this.measureWidgets),c.renderer.off("afterRender",this.renderWidgets);var a=this.session.lineWidgets;a&&a.forEach(function(t){t&&t.el&&t.el.parentNode&&(t._inDocument=!1,t.el.parentNode.removeChild(t.el))})}},this.updateOnFold=function(d,c){var a=c.lineWidgets;if(!(!a||!d.action)){for(var t=d.data,e=t.start.row,n=t.end.row,r=d.action=="add",i=e+1;i<n;i++)a[i]&&(a[i].hidden=r);a[n]&&(r?a[e]?a[n].hidden=r:a[e]=a[n]:(a[e]==a[n]&&(a[e]=void 0),a[n].hidden=r))}},this.updateOnChange=function(d){var c=this.session.lineWidgets;if(c){var a=d.start.row,t=d.end.row-a;if(t!==0)if(d.action=="remove"){var e=c.splice(a+1,t);!c[a]&&e[e.length-1]&&(c[a]=e.pop()),e.forEach(function(r){r&&this.removeLineWidget(r)},this),this.$updateRows()}else{var n=new Array(t);c[a]&&c[a].column!=null&&d.start.column>c[a].column&&a++,n.unshift(a,0),c.splice.apply(c,n),this.$updateRows()}}},this.$updateRows=function(){var d=this.session.lineWidgets;if(d){var c=!0;d.forEach(function(a,t){if(a)for(c=!1,a.row=t;a.$oldWidget;)a.$oldWidget.row=t,a=a.$oldWidget}),c&&(this.session.lineWidgets=null)}},this.$registerLineWidget=function(d){this.session.lineWidgets||(this.session.lineWidgets=new Array(this.session.getLength()));var c=this.session.lineWidgets[d.row];return c&&(d.$oldWidget=c,c.el&&c.el.parentNode&&(c.el.parentNode.removeChild(c.el),c._inDocument=!1)),this.session.lineWidgets[d.row]=d,d},this.addLineWidget=function(d){if(this.$registerLineWidget(d),d.session=this.session,!this.editor)return d;var c=this.editor.renderer;d.html&&!d.el&&(d.el=R.createElement("div"),d.el.innerHTML=d.html),d.el&&(R.addCssClass(d.el,"ace_lineWidgetContainer"),d.el.style.position="absolute",d.el.style.zIndex=5,c.container.appendChild(d.el),d._inDocument=!0,d.coverGutter||(d.el.style.zIndex=3),d.pixelHeight==null&&(d.pixelHeight=d.el.offsetHeight)),d.rowCount==null&&(d.rowCount=d.pixelHeight/c.layerConfig.lineHeight);var a=this.session.getFoldAt(d.row,0);if(d.$fold=a,a){var t=this.session.lineWidgets;d.row==a.end.row&&!t[a.start.row]?t[a.start.row]=d:d.hidden=!0}return this.session._emit("changeFold",{data:{start:{row:d.row}}}),this.$updateRows(),this.renderWidgets(null,c),this.onWidgetChanged(d),d},this.removeLineWidget=function(d){if(d._inDocument=!1,d.session=null,d.el&&d.el.parentNode&&d.el.parentNode.removeChild(d.el),d.editor&&d.editor.destroy)try{d.editor.destroy()}catch{}if(this.session.lineWidgets){var c=this.session.lineWidgets[d.row];if(c==d)this.session.lineWidgets[d.row]=d.$oldWidget,d.$oldWidget&&this.onWidgetChanged(d.$oldWidget);else for(;c;){if(c.$oldWidget==d){c.$oldWidget=d.$oldWidget;break}c=c.$oldWidget}}this.session._emit("changeFold",{data:{start:{row:d.row}}}),this.$updateRows()},this.getWidgetsAtRow=function(d){for(var c=this.session.lineWidgets,a=c&&c[d],t=[];a;)t.push(a),a=a.$oldWidget;return t},this.onWidgetChanged=function(d){this.session._changedWidgets.push(d),this.editor&&this.editor.renderer.updateFull()},this.measureWidgets=function(d,c){var a=this.session._changedWidgets,t=c.layerConfig;if(!(!a||!a.length)){for(var e=1/0,n=0;n<a.length;n++){var r=a[n];if(!(!r||!r.el)&&r.session==this.session){if(!r._inDocument){if(this.session.lineWidgets[r.row]!=r)continue;r._inDocument=!0,c.container.appendChild(r.el)}r.h=r.el.offsetHeight,r.fixedWidth||(r.w=r.el.offsetWidth,r.screenWidth=Math.ceil(r.w/t.characterWidth));var i=r.h/t.lineHeight;r.coverLine&&(i-=this.session.getRowLineCount(r.row),i<0&&(i=0)),r.rowCount!=i&&(r.rowCount=i,r.row<e&&(e=r.row))}}e!=1/0&&(this.session._emit("changeFold",{data:{start:{row:e}}}),this.session.lineWidgetWidth=null),this.session._changedWidgets=[]}},this.renderWidgets=function(d,c){var a=c.layerConfig,t=this.session.lineWidgets;if(t){for(var e=Math.min(this.firstRow,a.firstRow),n=Math.max(this.lastRow,a.lastRow,t.length);e>0&&!t[e];)e--;this.firstRow=a.firstRow,this.lastRow=a.lastRow,c.$cursorLayer.config=a;for(var r=e;r<=n;r++){var i=t[r];if(!(!i||!i.el)){if(i.hidden){i.el.style.top=-100-(i.pixelHeight||0)+"px";continue}i._inDocument||(i._inDocument=!0,c.container.appendChild(i.el));var o=c.$cursorLayer.getPixelPosition({row:r,column:0},!0).top;i.coverLine||(o+=a.lineHeight*this.session.getRowLineCount(i.row)),i.el.style.top=o-a.offset+"px";var h=i.coverGutter?0:c.gutterWidth;i.fixedWidth||(h-=c.scrollLeft),i.el.style.left=h+"px",i.fullWidth&&i.screenWidth&&(i.el.style.minWidth=a.width+2*a.padding+"px"),i.fixedWidth?i.el.style.right=c.scrollBar.getWidth()+"px":i.el.style.right=""}}}}}).call(E.prototype),T.LineWidgets=E}),define("ace/ext/error_marker",["require","exports","module","ace/line_widgets","ace/lib/dom","ace/range"],function(A,T,b){function E(t,e,n){for(var r=0,i=t.length-1;r<=i;){var o=r+i>>1,h=n(e,t[o]);if(h>0)r=o+1;else{if(!(h<0))return o;i=o-1}}return-(r+1)}function R(t,e,n){var r=t.getAnnotations().sort(a.comparePoints);if(r.length){var i=E(r,{row:e,column:-1},a.comparePoints);i<0&&(i=-i-1),i>=r.length?i=n>0?0:r.length-1:i===0&&n<0&&(i=r.length-1);var o=r[i];if(!(!o||!n)){if(o.row===e){do o=r[i+=n];while(o&&o.row===e);if(!o)return r.slice()}var h=[];e=o.row;do h[n<0?"unshift":"push"](o),o=r[i+=n];while(o&&o.row==e);return h.length&&h}}}var d=A("../line_widgets").LineWidgets,c=A("../lib/dom"),a=A("../range").Range;T.showErrorMarker=function(t,e){var n=t.session;n.widgetManager||(n.widgetManager=new d(n),n.widgetManager.attach(t));var r=t.getCursorPosition(),i=r.row,o=n.widgetManager.getWidgetsAtRow(i).filter(function(f){return f.type=="errorMarker"})[0];o?o.destroy():i-=e;var h=R(n,i,e),p;if(h){var y=h[0];r.column=(y.pos&&typeof y.column!="number"?y.pos.sc:y.column)||0,r.row=y.row,p=t.renderer.$gutterLayer.$annotations[r.row]}else{if(o)return;p={text:["Looks good!"],className:"ace_ok"}}t.session.unfold(r.row),t.selection.moveToPosition(r);var L={row:r.row,fixedWidth:!0,coverGutter:!0,el:c.createElement("div"),type:"errorMarker"},m=L.el.appendChild(c.createElement("div")),s=L.el.appendChild(c.createElement("div"));s.className="error_widget_arrow "+p.className;var g=t.renderer.$cursorLayer.getPixelPosition(r).left;s.style.left=g+t.renderer.gutterWidth-5+"px",L.el.className="error_widget_wrapper",m.className="error_widget "+p.className,m.innerHTML=p.text.join("<br>"),m.appendChild(c.createElement("div"));var _=function(f,v,l){if(v===0&&(l==="esc"||l==="return"))return L.destroy(),{command:"null"}};L.destroy=function(){t.$mouseHandler.isMousePressed||(t.keyBinding.removeKeyboardHandler(_),n.widgetManager.removeLineWidget(L),t.off("changeSelection",L.destroy),t.off("changeSession",L.destroy),t.off("mouseup",L.destroy),t.off("change",L.destroy))},t.keyBinding.addKeyboardHandler(_),t.on("changeSelection",L.destroy),t.on("changeSession",L.destroy),t.on("mouseup",L.destroy),t.on("change",L.destroy),t.session.widgetManager.addLineWidget(L),L.el.onmousedown=t.focus.bind(t),t.renderer.scrollCursorIntoView(null,.5,{bottom:L.el.offsetHeight})},c.importCssString("    .error_widget_wrapper {        background: inherit;        color: inherit;        border:none    }    .error_widget {        border-top: solid 2px;        border-bottom: solid 2px;        margin: 5px 0;        padding: 10px 40px;        white-space: pre-wrap;    }    .error_widget.ace_error, .error_widget_arrow.ace_error{        border-color: #ff5a5a    }    .error_widget.ace_warning, .error_widget_arrow.ace_warning{        border-color: #F1D817    }    .error_widget.ace_info, .error_widget_arrow.ace_info{        border-color: #5a5a5a    }    .error_widget.ace_ok, .error_widget_arrow.ace_ok{        border-color: #5aaa5a    }    .error_widget_arrow {        position: absolute;        border: solid 5px;        border-top-color: transparent!important;        border-right-color: transparent!important;        border-left-color: transparent!important;        top: -5px;    }","")}),define("ace/ace",["require","exports","module","ace/lib/fixoldbrowsers","ace/lib/dom","ace/lib/event","ace/range","ace/editor","ace/edit_session","ace/undomanager","ace/virtual_renderer","ace/worker/worker_client","ace/keyboard/hash_handler","ace/placeholder","ace/multi_select","ace/mode/folding/fold_mode","ace/theme/textmate","ace/ext/error_marker","ace/config"],function(A,T,b){A("./lib/fixoldbrowsers");var E=A("./lib/dom"),R=A("./lib/event"),d=A("./range").Range,c=A("./editor").Editor,a=A("./edit_session").EditSession,t=A("./undomanager").UndoManager,e=A("./virtual_renderer").VirtualRenderer;A("./worker/worker_client"),A("./keyboard/hash_handler"),A("./placeholder"),A("./multi_select"),A("./mode/folding/fold_mode"),A("./theme/textmate"),A("./ext/error_marker"),T.config=A("./config"),T.require=A,typeof define=="function"&&(T.define=define),T.edit=function(n,r){if(typeof n=="string"){var i=n;if(n=document.getElementById(i),!n)throw new Error("ace.edit can't find div #"+i)}if(n&&n.env&&n.env.editor instanceof c)return n.env.editor;var o="";if(n&&/input|textarea/i.test(n.tagName)){var h=n;o=h.value,n=E.createElement("pre"),h.parentNode.replaceChild(n,h)}else n&&(o=n.textContent,n.innerHTML="");var p=T.createEditSession(o),y=new c(new e(n),p,r),L={document:p,editor:y,onResize:y.resize.bind(y,null)};return h&&(L.textarea=h),R.addListener(window,"resize",L.onResize),y.on("destroy",function(){R.removeListener(window,"resize",L.onResize),L.editor.container.env=null}),y.container.env=y.env=L,y},T.createEditSession=function(n,r){var i=new a(n,r);return i.setUndoManager(new t),i},T.Range=d,T.Editor=c,T.EditSession=a,T.UndoManager=t,T.VirtualRenderer=e,T.version=T.config.version});(function(){window.require(["ace/ace"],function(A){A&&(A.config.init(!0),A.define=window.define),window.ace||(window.ace=A);for(var T in A)A.hasOwnProperty(T)&&(window.ace[T]=A[T]);window.ace.default=window.ace,typeof module=="object"&&typeof exports=="object"&&module&&(module.exports=window.ace)})})();define("ace/theme/tomorrow",["require","exports","module","ace/lib/dom"],function(A,T,b){T.isDark=!1,T.cssClass="ace-tomorrow",T.cssText=".ace-tomorrow .ace_gutter {background: #f6f6f6;color: #4D4D4C}.ace-tomorrow .ace_print-margin {width: 1px;background: #f6f6f6}.ace-tomorrow {background-color: #FFFFFF;color: #4D4D4C}.ace-tomorrow .ace_cursor {color: #AEAFAD}.ace-tomorrow .ace_marker-layer .ace_selection {background: #D6D6D6}.ace-tomorrow.ace_multiselect .ace_selection.ace_start {box-shadow: 0 0 3px 0px #FFFFFF;}.ace-tomorrow .ace_marker-layer .ace_step {background: rgb(255, 255, 0)}.ace-tomorrow .ace_marker-layer .ace_bracket {margin: -1px 0 0 -1px;border: 1px solid #D1D1D1}.ace-tomorrow .ace_marker-layer .ace_active-line {background: #EFEFEF}.ace-tomorrow .ace_gutter-active-line {background-color : #dcdcdc}.ace-tomorrow .ace_marker-layer .ace_selected-word {border: 1px solid #D6D6D6}.ace-tomorrow .ace_invisible {color: #D1D1D1}.ace-tomorrow .ace_keyword,.ace-tomorrow .ace_meta,.ace-tomorrow .ace_storage,.ace-tomorrow .ace_storage.ace_type,.ace-tomorrow .ace_support.ace_type {color: #8959A8}.ace-tomorrow .ace_keyword.ace_operator {color: #3E999F}.ace-tomorrow .ace_constant.ace_character,.ace-tomorrow .ace_constant.ace_language,.ace-tomorrow .ace_constant.ace_numeric,.ace-tomorrow .ace_keyword.ace_other.ace_unit,.ace-tomorrow .ace_support.ace_constant,.ace-tomorrow .ace_variable.ace_parameter {color: #F5871F}.ace-tomorrow .ace_constant.ace_other {color: #666969}.ace-tomorrow .ace_invalid {color: #FFFFFF;background-color: #C82829}.ace-tomorrow .ace_invalid.ace_deprecated {color: #FFFFFF;background-color: #8959A8}.ace-tomorrow .ace_fold {background-color: #4271AE;border-color: #4D4D4C}.ace-tomorrow .ace_entity.ace_name.ace_function,.ace-tomorrow .ace_support.ace_function,.ace-tomorrow .ace_variable {color: #4271AE}.ace-tomorrow .ace_support.ace_class,.ace-tomorrow .ace_support.ace_type {color: #C99E00}.ace-tomorrow .ace_heading,.ace-tomorrow .ace_markup.ace_heading,.ace-tomorrow .ace_string {color: #718C00}.ace-tomorrow .ace_entity.ace_name.ace_tag,.ace-tomorrow .ace_entity.ace_other.ace_attribute-name,.ace-tomorrow .ace_meta.ace_tag,.ace-tomorrow .ace_string.ace_regexp,.ace-tomorrow .ace_variable {color: #C82829}.ace-tomorrow .ace_comment {color: #8E908C}.ace-tomorrow .ace_indent-guide {background: url(data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAEAAAACCAYAAACZgbYnAAAAE0lEQVQImWP4////f4bdu3f/BwAlfgctduB85QAAAABJRU5ErkJggg==) right repeat-y}";var E=A("../lib/dom");E.importCssString(T.cssText,T.cssClass)});(function(){window.require(["ace/theme/tomorrow"],function(A){typeof module=="object"&&typeof exports=="object"&&module&&(module.exports=A)})})();define("ace/snippets",["require","exports","module","ace/lib/oop","ace/lib/event_emitter","ace/lib/lang","ace/range","ace/range_list","ace/keyboard/hash_handler","ace/tokenizer","ace/clipboard","ace/lib/dom","ace/editor"],function(A,T,b){function E(m){var s=new Date().toLocaleString("en-us",m);return s.length==1?"0"+s:s}var R=A("./lib/oop"),d=A("./lib/event_emitter").EventEmitter,c=A("./lib/lang"),a=A("./range").Range,t=A("./range_list").RangeList,e=A("./keyboard/hash_handler").HashHandler,n=A("./tokenizer").Tokenizer,r=A("./clipboard"),i={CURRENT_WORD:function(m){return m.session.getTextRange(m.session.getWordRange())},SELECTION:function(m,s,g){var _=m.session.getTextRange();return g?_.replace(/\n\r?([ \t]*\S)/g,`
`+g+"$1"):_},CURRENT_LINE:function(m){return m.session.getLine(m.getCursorPosition().row)},PREV_LINE:function(m){return m.session.getLine(m.getCursorPosition().row-1)},LINE_INDEX:function(m){return m.getCursorPosition().row},LINE_NUMBER:function(m){return m.getCursorPosition().row+1},SOFT_TABS:function(m){return m.session.getUseSoftTabs()?"YES":"NO"},TAB_SIZE:function(m){return m.session.getTabSize()},CLIPBOARD:function(m){return r.getText&&r.getText()},FILENAME:function(m){return/[^/\\]*$/.exec(this.FILEPATH(m))[0]},FILENAME_BASE:function(m){return/[^/\\]*$/.exec(this.FILEPATH(m))[0].replace(/\.[^.]*$/,"")},DIRECTORY:function(m){return this.FILEPATH(m).replace(/[^/\\]*$/,"")},FILEPATH:function(m){return"/not implemented.txt"},WORKSPACE_NAME:function(){return"Unknown"},FULLNAME:function(){return"Unknown"},BLOCK_COMMENT_START:function(m){var s=m.session.$mode||{};return s.blockComment&&s.blockComment.start||""},BLOCK_COMMENT_END:function(m){var s=m.session.$mode||{};return s.blockComment&&s.blockComment.end||""},LINE_COMMENT:function(m){var s=m.session.$mode||{};return s.lineCommentStart||""},CURRENT_YEAR:E.bind(null,{year:"numeric"}),CURRENT_YEAR_SHORT:E.bind(null,{year:"2-digit"}),CURRENT_MONTH:E.bind(null,{month:"numeric"}),CURRENT_MONTH_NAME:E.bind(null,{month:"long"}),CURRENT_MONTH_NAME_SHORT:E.bind(null,{month:"short"}),CURRENT_DATE:E.bind(null,{day:"2-digit"}),CURRENT_DAY_NAME:E.bind(null,{weekday:"long"}),CURRENT_DAY_NAME_SHORT:E.bind(null,{weekday:"short"}),CURRENT_HOUR:E.bind(null,{hour:"2-digit",hour12:!1}),CURRENT_MINUTE:E.bind(null,{minute:"2-digit"}),CURRENT_SECOND:E.bind(null,{second:"2-digit"})};i.SELECTED_TEXT=i.SELECTION;var o=function(){this.snippetMap={},this.snippetNameMap={}};(function(){R.implement(this,d),this.getTokenizer=function(){return o.$tokenizer||this.createTokenizer()},this.createTokenizer=function(){function m(_){return _=_.substr(1),/^\d+$/.test(_)?[{tabstopId:parseInt(_,10)}]:[{text:_}]}function s(_){return"(?:[^\\\\"+_+"]|\\\\.)"}var g={regex:"/("+s("/")+"+)/",onMatch:function(_,f,v){var l=v[0];return l.fmtString=!0,l.guard=_.slice(1,-1),l.flag="",""},next:"formatString"};return o.$tokenizer=new n({start:[{regex:/\\./,onMatch:function(_,f,v){var l=_[1];return(l=="}"&&v.length||"`$\\".indexOf(l)!=-1)&&(_=l),[_]}},{regex:/}/,onMatch:function(_,f,v){return[v.length?v.shift():_]}},{regex:/\$(?:\d+|\w+)/,onMatch:m},{regex:/\$\{[\dA-Z_a-z]+/,onMatch:function(_,f,v){var l=m(_.substr(1));return v.unshift(l[0]),l},next:"snippetVar"},{regex:/\n/,token:"newline",merge:!1}],snippetVar:[{regex:"\\|"+s("\\|")+"*\\|",onMatch:function(_,f,v){var l=_.slice(1,-1).replace(/\\[,|\\]|,/g,function(w){return w.length==2?w[1]:"\0"}).split("\0").map(function(w){return{value:w}});return v[0].choices=l,[l[0]]},next:"start"},g,{regex:"([^:}\\\\]|\\\\.)*:?",token:"",next:"start"}],formatString:[{regex:/:/,onMatch:function(_,f,v){return v.length&&v[0].expectElse?(v[0].expectElse=!1,v[0].ifEnd={elseEnd:v[0]},[v[0].ifEnd]):":"}},{regex:/\\./,onMatch:function(_,f,v){var l=_[1];return l=="}"&&v.length||"`$\\".indexOf(l)!=-1?_=l:l=="n"?_=`
`:l=="t"?_="	":"ulULE".indexOf(l)!=-1&&(_={changeCase:l,local:l>"a"}),[_]}},{regex:"/\\w*}",onMatch:function(_,f,v){var l=v.shift();return l&&(l.flag=_.slice(1,-1)),this.next=l&&l.tabstopId?"start":"",[l||_]},next:"start"},{regex:/\$(?:\d+|\w+)/,onMatch:function(_,f,v){return[{text:_.slice(1)}]}},{regex:/\${\w+/,onMatch:function(_,f,v){var l={text:_.slice(2)};return v.unshift(l),[l]},next:"formatStringVar"},{regex:/\n/,token:"newline",merge:!1},{regex:/}/,onMatch:function(_,f,v){var l=v.shift();return this.next=l&&l.tabstopId?"start":"",[l||_]},next:"start"}],formatStringVar:[{regex:/:\/\w+}/,onMatch:function(_,f,v){var l=v[0];return l.formatFunction=_.slice(2,-1),[v.shift()]},next:"formatString"},g,{regex:/:[\?\-+]?/,onMatch:function(_,f,v){_[1]=="+"&&(v[0].ifEnd=v[0]),_[1]=="?"&&(v[0].expectElse=!0)},next:"formatString"},{regex:"([^:}\\\\]|\\\\.)*:?",token:"",next:"formatString"}]}),o.$tokenizer},this.tokenizeTmSnippet=function(m,s){return this.getTokenizer().getLineTokens(m,s).tokens.map(function(g){return g.value||g})},this.getVariableValue=function(m,s,g){if(/^\d+$/.test(s))return(this.variables.__||{})[s]||"";if(/^[A-Z]\d+$/.test(s))return(this.variables[s[0]+"__"]||{})[s.substr(1)]||"";if(s=s.replace(/^TM_/,""),!this.variables.hasOwnProperty(s))return"";var _=this.variables[s];return typeof _=="function"&&(_=this.variables[s](m,s,g)),_??""},this.variables=i,this.tmStrFormat=function(m,s,g){if(!s.fmt)return m;var _=s.flag||"",f=s.guard;f=new RegExp(f,_.replace(/[^gim]/g,""));var v=typeof s.fmt=="string"?this.tokenizeTmSnippet(s.fmt,"formatString"):s.fmt,l=this,w=m.replace(f,function(){var k=l.variables.__;l.variables.__=[].slice.call(arguments);for(var F=l.resolveVariables(v,g),x="E",N=0;N<F.length;N++){var G=F[N];if(typeof G=="object")if(F[N]="",G.changeCase&&G.local){var q=F[N+1];q&&typeof q=="string"&&(G.changeCase=="u"?F[N]=q[0].toUpperCase():F[N]=q[0].toLowerCase(),F[N+1]=q.substr(1))}else G.changeCase&&(x=G.changeCase);else x=="U"?F[N]=G.toUpperCase():x=="L"&&(F[N]=G.toLowerCase())}return l.variables.__=k,F.join("")});return w},this.tmFormatFunction=function(m,s,g){return s.formatFunction=="upcase"?m.toUpperCase():s.formatFunction=="downcase"?m.toLowerCase():m},this.resolveVariables=function(m,s){function g(x){var N=m.indexOf(x,l+1);N!=-1&&(l=N)}for(var _=[],f="",v=!0,l=0;l<m.length;l++){var w=m[l];if(typeof w=="string"){_.push(w),w==`
`?(v=!0,f=""):v&&(f=/^\t*/.exec(w)[0],v=/\S/.test(w));continue}if(w){if(v=!1,w.fmtString){var k=m.indexOf(w,l+1);k==-1&&(k=m.length),w.fmt=m.slice(l+1,k),l=k}if(w.text){var F=this.getVariableValue(s,w.text,f)+"";w.fmtString&&(F=this.tmStrFormat(F,w,s)),w.formatFunction&&(F=this.tmFormatFunction(F,w,s)),F&&!w.ifEnd?(_.push(F),g(w)):!F&&w.ifEnd&&g(w.ifEnd)}else w.elseEnd?g(w.elseEnd):(w.tabstopId!=null||w.changeCase!=null)&&_.push(w)}}return _},this.insertSnippetForSelection=function(m,s){function g(me){for(var Se=[],Le=0;Le<me.length;Le++){var Ee=me[Le];if(typeof Ee=="object"){if(F[Ee.tabstopId])continue;var Fe=me.lastIndexOf(Ee,Le-1);Ee=Se[Fe]||{tabstopId:Ee.tabstopId}}Se[Le]=Ee}return Se}var _=m.getCursorPosition(),f=m.session.getLine(_.row),v=m.session.getTabString(),l=f.match(/^\s*/)[0];_.column<l.length&&(l=l.slice(0,_.column)),s=s.replace(/\r/g,"");var w=this.tokenizeTmSnippet(s);w=this.resolveVariables(w,m),w=w.map(function(me){return me==`
`?me+l:typeof me=="string"?me.replace(/\t/g,v):me});var k=[];w.forEach(function(me,Se){if(typeof me=="object"){var Le=me.tabstopId,Ee=k[Le];if(Ee||(Ee=k[Le]=[],Ee.index=Le,Ee.value="",Ee.parents={}),Ee.indexOf(me)===-1){me.choices&&!Ee.choices&&(Ee.choices=me.choices),Ee.push(me);var Fe=w.indexOf(me,Se+1);if(Fe!==-1){var Ve=w.slice(Se+1,Fe),Je=Ve.some(function(I){return typeof I=="object"});Je&&!Ee.value?Ee.value=Ve:Ve.length&&(!Ee.value||typeof Ee.value!="string")&&(Ee.value=Ve.join(""))}}}}),k.forEach(function(me){me.length=0});for(var F={},x=0;x<w.length;x++){var N=w[x];if(typeof N=="object"){var G=N.tabstopId,q=k[G],ne=w.indexOf(N,x+1);if(F[G]){F[G]===N&&(delete F[G],Object.keys(F).forEach(function(me){q.parents[me]=!0}));continue}F[G]=N;var X=q.value;typeof X!="string"?X=g(X):N.fmt&&(X=this.tmStrFormat(X,N,m)),w.splice.apply(w,[x+1,Math.max(0,ne-x)].concat(X,N)),q.indexOf(N)===-1&&q.push(N)}}var j=0,Y=0,ee="";w.forEach(function(me){if(typeof me=="string"){var Se=me.split(`
`);Se.length>1?(Y=Se[Se.length-1].length,j+=Se.length-1):Y+=me.length,ee+=me}else me&&(me.start?me.end={row:j,column:Y}:me.start={row:j,column:Y})});var ie=m.getSelectionRange(),ae=m.session.replace(ie,ee),ce=new h(m),ye=m.inVirtualSelectionMode&&m.selection.index;ce.addTabstops(k,ie.start,ae,ye)},this.insertSnippet=function(m,s){var g=this;if(m.inVirtualSelectionMode)return g.insertSnippetForSelection(m,s);m.forEachSelection(function(){g.insertSnippetForSelection(m,s)},null,{keepOrder:!0}),m.tabstopManager&&m.tabstopManager.tabNext()},this.$getScope=function(m){var s=m.session.$mode.$id||"";if(s=s.split("/").pop(),s==="html"||s==="php"){s==="php"&&!m.session.$mode.inlinePhp&&(s="html");var g=m.getCursorPosition(),_=m.session.getState(g.row);typeof _=="object"&&(_=_[0]),_.substring&&(_.substring(0,3)=="js-"?s="javascript":_.substring(0,4)=="css-"?s="css":_.substring(0,4)=="php-"&&(s="php"))}return s},this.getActiveScopes=function(m){var s=this.$getScope(m),g=[s],_=this.snippetMap;return _[s]&&_[s].includeScopes&&g.push.apply(g,_[s].includeScopes),g.push("_"),g},this.expandWithTab=function(m,s){var g=this,_=m.forEachSelection(function(){return g.expandSnippetForSelection(m,s)},null,{keepOrder:!0});return _&&m.tabstopManager&&m.tabstopManager.tabNext(),_},this.expandSnippetForSelection=function(m,s){var g=m.getCursorPosition(),_=m.session.getLine(g.row),f=_.substring(0,g.column),v=_.substr(g.column),l=this.snippetMap,w;return this.getActiveScopes(m).some(function(k){var F=l[k];return F&&(w=this.findMatchingSnippet(F,f,v)),!!w},this),w?(s&&s.dryRun||(m.session.doc.removeInLine(g.row,g.column-w.replaceBefore.length,g.column+w.replaceAfter.length),this.variables.M__=w.matchBefore,this.variables.T__=w.matchAfter,this.insertSnippetForSelection(m,w.content),this.variables.M__=this.variables.T__=null),!0):!1},this.findMatchingSnippet=function(m,s,g){for(var _=m.length;_--;){var f=m[_];if(!(f.startRe&&!f.startRe.test(s))&&!(f.endRe&&!f.endRe.test(g))&&!(!f.startRe&&!f.endRe))return f.matchBefore=f.startRe?f.startRe.exec(s):[""],f.matchAfter=f.endRe?f.endRe.exec(g):[""],f.replaceBefore=f.triggerRe?f.triggerRe.exec(s)[0]:"",f.replaceAfter=f.endTriggerRe?f.endTriggerRe.exec(g)[0]:"",f}},this.snippetMap={},this.snippetNameMap={},this.register=function(m,s){function g(k){return k&&!/^\^?\(.*\)\$?$|^\\b$/.test(k)&&(k="(?:"+k+")"),k||""}function _(k,F,x){return k=g(k),F=g(F),x?(k=F+k,k&&k[k.length-1]!="$"&&(k+="$")):(k+=F,k&&k[0]!="^"&&(k="^"+k)),new RegExp(k)}function f(k){k.scope||(k.scope=s||"_"),s=k.scope,v[s]||(v[s]=[],l[s]={});var F=l[s];if(k.name){var x=F[k.name];x&&w.unregister(x),F[k.name]=k}v[s].push(k),k.prefix&&(k.tabTrigger=k.prefix),!k.content&&k.body&&(k.content=Array.isArray(k.body)?k.body.join(`
`):k.body),k.tabTrigger&&!k.trigger&&(!k.guard&&/^\w/.test(k.tabTrigger)&&(k.guard="\\b"),k.trigger=c.escapeRegExp(k.tabTrigger)),!(!k.trigger&&!k.guard&&!k.endTrigger&&!k.endGuard)&&(k.startRe=_(k.trigger,k.guard,!0),k.triggerRe=new RegExp(k.trigger),k.endRe=_(k.endTrigger,k.endGuard,!0),k.endTriggerRe=new RegExp(k.endTrigger))}var v=this.snippetMap,l=this.snippetNameMap,w=this;m||(m=[]),Array.isArray(m)?m.forEach(f):Object.keys(m).forEach(function(k){f(m[k])}),this._signal("registerSnippets",{scope:s})},this.unregister=function(m,s){function g(v){var l=f[v.scope||s];if(l&&l[v.name]){delete l[v.name];var w=_[v.scope||s],k=w&&w.indexOf(v);k>=0&&w.splice(k,1)}}var _=this.snippetMap,f=this.snippetNameMap;m.content?g(m):Array.isArray(m)&&m.forEach(g)},this.parseSnippetFile=function(m){m=m.replace(/\r/g,"");for(var s=[],g={},_=/^#.*|^({[\s\S]*})\s*$|^(\S+) (.*)$|^((?:\n*\t.*)+)/gm,f;f=_.exec(m);){if(f[1])try{g=JSON.parse(f[1]),s.push(g)}catch{}if(f[4])g.content=f[4].replace(/^\t/gm,""),s.push(g),g={};else{var v=f[2],l=f[3];if(v=="regex"){var w=/\/((?:[^\/\\]|\\.)*)|$/g;g.guard=w.exec(l)[1],g.trigger=w.exec(l)[1],g.endTrigger=w.exec(l)[1],g.endGuard=w.exec(l)[1]}else v=="snippet"?(g.tabTrigger=l.match(/^\S*/)[0],g.name||(g.name=l)):v&&(g[v]=l)}}return s},this.getSnippetByName=function(m,s){var g=this.snippetNameMap,_;return this.getActiveScopes(s).some(function(f){var v=g[f];return v&&(_=v[m]),!!_},this),_}}).call(o.prototype);var h=function(m){if(m.tabstopManager)return m.tabstopManager;m.tabstopManager=this,this.$onChange=this.onChange.bind(this),this.$onChangeSelection=c.delayedCall(this.onChangeSelection.bind(this)).schedule,this.$onChangeSession=this.onChangeSession.bind(this),this.$onAfterExec=this.onAfterExec.bind(this),this.attach(m)};(function(){this.attach=function(m){this.index=0,this.ranges=[],this.tabstops=[],this.$openTabstops=null,this.selectedTabstop=null,this.editor=m,this.editor.on("change",this.$onChange),this.editor.on("changeSelection",this.$onChangeSelection),this.editor.on("changeSession",this.$onChangeSession),this.editor.commands.on("afterExec",this.$onAfterExec),this.editor.keyBinding.addKeyboardHandler(this.keyboardHandler)},this.detach=function(){this.tabstops.forEach(this.removeTabstopMarkers,this),this.ranges=null,this.tabstops=null,this.selectedTabstop=null,this.editor.removeListener("change",this.$onChange),this.editor.removeListener("changeSelection",this.$onChangeSelection),this.editor.removeListener("changeSession",this.$onChangeSession),this.editor.commands.removeListener("afterExec",this.$onAfterExec),this.editor.keyBinding.removeKeyboardHandler(this.keyboardHandler),this.editor.tabstopManager=null,this.editor=null},this.onChange=function(m){for(var s=m.action[0]=="r",g=this.selectedTabstop||{},_=g.parents||{},f=(this.tabstops||[]).slice(),v=0;v<f.length;v++){var l=f[v],w=l==g||_[l.index];if(l.rangeList.$bias=w?0:1,m.action=="remove"&&l!==g){var k=l.parents&&l.parents[g.index],F=l.rangeList.pointIndex(m.start,k);F=F<0?-F-1:F+1;var x=l.rangeList.pointIndex(m.end,k);x=x<0?-x-1:x-1;for(var N=l.rangeList.ranges.slice(F,x),G=0;G<N.length;G++)this.removeRange(N[G])}l.rangeList.$onChange(m)}var q=this.editor.session;!this.$inChange&&s&&q.getLength()==1&&!q.getValue()&&this.detach()},this.updateLinkedFields=function(){var m=this.selectedTabstop;if(!(!m||!m.hasLinkedRanges||!m.firstNonLinked)){this.$inChange=!0;for(var s=this.editor.session,g=s.getTextRange(m.firstNonLinked),_=0;_<m.length;_++){var f=m[_];if(f.linked){var v=f.original,l=T.snippetManager.tmStrFormat(g,v,this.editor);s.replace(f,l)}}this.$inChange=!1}},this.onAfterExec=function(m){m.command&&!m.command.readOnly&&this.updateLinkedFields()},this.onChangeSelection=function(){if(this.editor){for(var m=this.editor.selection.lead,s=this.editor.selection.anchor,g=this.editor.selection.isEmpty(),_=0;_<this.ranges.length;_++)if(!this.ranges[_].linked){var f=this.ranges[_].contains(m.row,m.column),v=g||this.ranges[_].contains(s.row,s.column);if(f&&v)return}this.detach()}},this.onChangeSession=function(){this.detach()},this.tabNext=function(m){var s=this.tabstops.length,g=this.index+(m||1);g=Math.min(Math.max(g,1),s),g==s&&(g=0),this.selectTabstop(g),g===0&&this.detach()},this.selectTabstop=function(m){this.$openTabstops=null;var s=this.tabstops[this.index];if(s&&this.addTabstopMarkers(s),this.index=m,s=this.tabstops[this.index],!(!s||!s.length)){this.selectedTabstop=s;var g=s.firstNonLinked||s;if(s.choices&&(g.cursor=g.start),this.editor.inVirtualSelectionMode)this.editor.selection.fromOrientedRange(g);else{var _=this.editor.multiSelect;_.toSingleRange(g);for(var f=0;f<s.length;f++)s.hasLinkedRanges&&s[f].linked||_.addRange(s[f].clone(),!0)}this.editor.keyBinding.addKeyboardHandler(this.keyboardHandler),this.selectedTabstop&&this.selectedTabstop.choices&&this.editor.execCommand("startAutocomplete",{matches:this.selectedTabstop.choices})}},this.addTabstops=function(m,s,g){var _=this.useLink||!this.editor.getOption("enableMultiselect");if(this.$openTabstops||(this.$openTabstops=[]),!m[0]){var f=a.fromPoints(g,g);y(f.start,s),y(f.end,s),m[0]=[f],m[0].index=0}var v=this.index,l=[v+1,0],w=this.ranges;m.forEach(function(k,F){for(var x=this.$openTabstops[F]||k,N=0;N<k.length;N++){var G=k[N],q=a.fromPoints(G.start,G.end||G.start);p(q.start,s),p(q.end,s),q.original=G,q.tabstop=x,w.push(q),x!=k?x.unshift(q):x[N]=q,G.fmtString||x.firstNonLinked&&_?(q.linked=!0,x.hasLinkedRanges=!0):x.firstNonLinked||(x.firstNonLinked=q)}x.firstNonLinked||(x.hasLinkedRanges=!1),x===k&&(l.push(x),this.$openTabstops[F]=x),this.addTabstopMarkers(x),x.rangeList=x.rangeList||new t,x.rangeList.$bias=0,x.rangeList.addList(x)},this),l.length>2&&(this.tabstops.length&&l.push(l.splice(2,1)[0]),this.tabstops.splice.apply(this.tabstops,l))},this.addTabstopMarkers=function(m){var s=this.editor.session;m.forEach(function(g){g.markerId||(g.markerId=s.addMarker(g,"ace_snippet-marker","text"))})},this.removeTabstopMarkers=function(m){var s=this.editor.session;m.forEach(function(g){s.removeMarker(g.markerId),g.markerId=null})},this.removeRange=function(m){var s=m.tabstop.indexOf(m);s!=-1&&m.tabstop.splice(s,1),s=this.ranges.indexOf(m),s!=-1&&this.ranges.splice(s,1),s=m.tabstop.rangeList.ranges.indexOf(m),s!=-1&&m.tabstop.splice(s,1),this.editor.session.removeMarker(m.markerId),m.tabstop.length||(s=this.tabstops.indexOf(m.tabstop),s!=-1&&this.tabstops.splice(s,1),this.tabstops.length||this.detach())},this.keyboardHandler=new e,this.keyboardHandler.bindKeys({Tab:function(m){T.snippetManager&&T.snippetManager.expandWithTab(m)||(m.tabstopManager.tabNext(1),m.renderer.scrollCursorIntoView())},"Shift-Tab":function(m){m.tabstopManager.tabNext(-1),m.renderer.scrollCursorIntoView()},Esc:function(m){m.tabstopManager.detach()}})}).call(h.prototype);var p=function(m,s){m.row==0&&(m.column+=s.column),m.row+=s.row},y=function(m,s){m.row==s.row&&(m.column-=s.column),m.row-=s.row};A("./lib/dom").importCssString(".ace_snippet-marker {    -moz-box-sizing: border-box;    box-sizing: border-box;    background: rgba(194, 193, 208, 0.09);    border: 1px dotted rgba(211, 208, 235, 0.62);    position: absolute;}"),T.snippetManager=new o;var L=A("./editor").Editor;(function(){this.insertSnippet=function(m,s){return T.snippetManager.insertSnippet(this,m,s)},this.expandSnippet=function(m){return T.snippetManager.expandWithTab(this,m)}}).call(L.prototype)}),define("ace/autocomplete/popup",["require","exports","module","ace/virtual_renderer","ace/editor","ace/range","ace/lib/event","ace/lib/lang","ace/lib/dom"],function(A,T,b){var E=A("../virtual_renderer").VirtualRenderer,R=A("../editor").Editor,d=A("../range").Range,c=A("../lib/event"),a=A("../lib/lang"),t=A("../lib/dom"),e=function(r){var i=new E(r);i.$maxLines=4;var o=new R(i);return o.setHighlightActiveLine(!1),o.setShowPrintMargin(!1),o.renderer.setShowGutter(!1),o.renderer.setHighlightGutterLine(!1),o.$mouseHandler.$focusTimeout=0,o.$highlightTagPending=!0,o},n=function(r){var i=t.createElement("div"),o=new e(i);r&&r.appendChild(i),i.style.display="none",o.renderer.content.style.cursor="default",o.renderer.setStyle("ace_autocomplete"),o.setOption("displayIndentGuides",!1),o.setOption("dragDelay",150);var h=function(){};o.focus=h,o.$isFocused=!0,o.renderer.$cursorLayer.restartTimer=h,o.renderer.$cursorLayer.element.style.opacity=0,o.renderer.$maxLines=8,o.renderer.$keepTextAreaAtCursor=!1,o.setHighlightActiveLine(!1),o.session.highlight(""),o.session.$searchHighlight.clazz="ace_highlight-marker",o.on("mousedown",function(_){var f=_.getDocumentPosition();o.selection.moveToPosition(f),L.start.row=L.end.row=f.row,_.stop()});var p,y=new d(-1,0,-1,1/0),L=new d(-1,0,-1,1/0);L.id=o.session.addMarker(L,"ace_active-line","fullLine"),o.setSelectOnHover=function(_){_?y.id&&(o.session.removeMarker(y.id),y.id=null):y.id=o.session.addMarker(y,"ace_line-hover","fullLine")},o.setSelectOnHover(!1),o.on("mousemove",function(_){if(!p){p=_;return}if(!(p.x==_.x&&p.y==_.y)){p=_,p.scrollTop=o.renderer.scrollTop;var f=p.getDocumentPosition().row;y.start.row!=f&&(y.id||o.setRow(f),s(f))}}),o.renderer.on("beforeRender",function(){if(p&&y.start.row!=-1){p.$pos=null;var _=p.getDocumentPosition().row;y.id||o.setRow(_),s(_,!0)}}),o.renderer.on("afterRender",function(){var _=o.getRow(),f=o.renderer.$textLayer,v=f.element.childNodes[_-f.config.firstRow];v!==f.selectedNode&&f.selectedNode&&t.removeCssClass(f.selectedNode,"ace_selected"),f.selectedNode=v,v&&t.addCssClass(v,"ace_selected")});var m=function(){s(-1)},s=function(_,f){_!==y.start.row&&(y.start.row=y.end.row=_,f||o.session._emit("changeBackMarker"),o._emit("changeHoverMarker"))};o.getHoveredRow=function(){return y.start.row},c.addListener(o.container,"mouseout",m),o.on("hide",m),o.on("changeSelection",m),o.session.doc.getLength=function(){return o.data.length},o.session.doc.getLine=function(_){var f=o.data[_];return typeof f=="string"?f:f&&f.value||""};var g=o.session.bgTokenizer;return g.$tokenizeRow=function(_){function f(X,j){X&&l.push({type:(v.className||"")+(j||""),value:X})}var v=o.data[_],l=[];if(!v)return l;typeof v=="string"&&(v={value:v});for(var w=v.caption||v.value||v.name,k=w.toLowerCase(),F=(o.filterText||"").toLowerCase(),x=0,N=0,G=0;G<=F.length;G++)if(G!=N&&(v.matchMask&1<<G||G==F.length)){var q=F.slice(N,G);N=G;var ne=k.indexOf(q,x);if(ne==-1)continue;f(w.slice(x,ne),""),x=ne+q.length,f(w.slice(ne,x),"completion-highlight")}return f(w.slice(x,w.length),""),v.meta&&l.push({type:"completion-meta",value:v.meta}),v.message&&l.push({type:"completion-message",value:v.message}),l},g.$updateOnChange=h,g.start=h,o.session.$computeWidth=function(){return this.screenWidth=0},o.isOpen=!1,o.isTopdown=!1,o.autoSelect=!0,o.filterText="",o.data=[],o.setData=function(_,f){o.filterText=f||"",o.setValue(a.stringRepeat(`
`,_.length),-1),o.data=_||[],o.setRow(0)},o.getData=function(_){return o.data[_]},o.getRow=function(){return L.start.row},o.setRow=function(_){_=Math.max(this.autoSelect?0:-1,Math.min(this.data.length,_)),L.start.row!=_&&(o.selection.clearSelection(),L.start.row=L.end.row=_||0,o.session._emit("changeBackMarker"),o.moveCursorTo(_||0,0),o.isOpen&&o._signal("select"))},o.on("changeSelection",function(){o.isOpen&&o.setRow(o.selection.lead.row),o.renderer.scrollCursorIntoView()}),o.hide=function(){this.container.style.display="none",this._signal("hide"),o.isOpen=!1},o.show=function(_,f,v){var l=this.container,w=window.innerHeight,k=window.innerWidth,F=this.renderer,x=F.$maxLines*f*1.4,N=_.top+this.$borderSize,G=N>w/2&&!v;G&&N+f+x>w?(F.$maxPixelHeight=N-2*this.$borderSize,l.style.top="",l.style.bottom=w-N+"px",o.isTopdown=!1):(N+=f,F.$maxPixelHeight=w-N-.2*f,l.style.top=N+"px",l.style.bottom="",o.isTopdown=!0),l.style.display="";var q=_.left;q+l.offsetWidth>k&&(q=k-l.offsetWidth),l.style.left=q+"px",this._signal("show"),p=null,o.isOpen=!0},o.goTo=function(_){var f=this.getRow(),v=this.session.getLength()-1;switch(_){case"up":f=f<=0?v:f-1;break;case"down":f=f>=v?-1:f+1;break;case"start":f=0;break;case"end":f=v}this.setRow(f)},o.getTextLeftOffset=function(){return this.$borderSize+this.renderer.$padding+this.$imageSize},o.$imageSize=0,o.$borderSize=1,o};t.importCssString(".ace_editor.ace_autocomplete .ace_marker-layer .ace_active-line {    background-color: #CAD6FA;    z-index: 1;}.ace_dark.ace_editor.ace_autocomplete .ace_marker-layer .ace_active-line {    background-color: #3a674e;}.ace_editor.ace_autocomplete .ace_line-hover {    border: 1px solid #abbffe;    margin-top: -1px;    background: rgba(233,233,253,0.4);    position: absolute;    z-index: 2;}.ace_dark.ace_editor.ace_autocomplete .ace_line-hover {    border: 1px solid rgba(109, 150, 13, 0.8);    background: rgba(58, 103, 78, 0.62);}.ace_completion-meta {    opacity: 0.5;    margin: 0.9em;}.ace_completion-message {    color: blue;}.ace_editor.ace_autocomplete .ace_completion-highlight{    color: #2d69c7;}.ace_dark.ace_editor.ace_autocomplete .ace_completion-highlight{    color: #93ca12;}.ace_editor.ace_autocomplete {    width: 300px;    z-index: 200000;    border: 1px lightgray solid;    position: fixed;    box-shadow: 2px 3px 5px rgba(0,0,0,.2);    line-height: 1.4;    background: #fefefe;    color: #111;}.ace_dark.ace_editor.ace_autocomplete {    border: 1px #484747 solid;    box-shadow: 2px 3px 5px rgba(0, 0, 0, 0.51);    line-height: 1.4;    background: #25282c;    color: #c1c1c1;}","autocompletion.css"),T.AcePopup=n,T.$singleLineEditor=e}),define("ace/autocomplete/util",["require","exports","module"],function(A,T,b){T.parForEach=function(R,d,c){var a=0,t=R.length;t===0&&c();for(var e=0;e<t;e++)d(R[e],function(n,r){a++,a===t&&c(n,r)})};var E=/[a-zA-Z_0-9\$\-\u00A2-\u2000\u2070-\uFFFF]/;T.retrievePrecedingIdentifier=function(R,d,c){c=c||E;for(var a=[],t=d-1;t>=0&&c.test(R[t]);t--)a.push(R[t]);return a.reverse().join("")},T.retrieveFollowingIdentifier=function(R,d,c){c=c||E;for(var a=[],t=d;t<R.length&&c.test(R[t]);t++)a.push(R[t]);return a},T.getCompletionPrefix=function(R){var d=R.getCursorPosition(),c=R.session.getLine(d.row),a;return R.completers.forEach((function(t){t.identifierRegexps&&t.identifierRegexps.forEach((function(e){!a&&e&&(a=this.retrievePrecedingIdentifier(c,d.column,e))}).bind(this))}).bind(this)),a||this.retrievePrecedingIdentifier(c,d.column)}}),define("ace/autocomplete",["require","exports","module","ace/keyboard/hash_handler","ace/autocomplete/popup","ace/autocomplete/util","ace/lib/lang","ace/lib/dom","ace/snippets","ace/config"],function(A,T,b){var E=A("./keyboard/hash_handler").HashHandler,R=A("./autocomplete/popup").AcePopup,d=A("./autocomplete/util"),c=A("./lib/lang"),a=A("./lib/dom"),t=A("./snippets").snippetManager,e=A("./config"),n=function(){this.autoInsert=!1,this.autoSelect=!0,this.exactMatch=!1,this.gatherCompletionsId=0,this.keyboardHandler=new E,this.keyboardHandler.bindKeys(this.commands),this.blurListener=this.blurListener.bind(this),this.changeListener=this.changeListener.bind(this),this.mousedownListener=this.mousedownListener.bind(this),this.mousewheelListener=this.mousewheelListener.bind(this),this.changeTimer=c.delayedCall((function(){this.updateCompletions(!0)}).bind(this)),this.tooltipTimer=c.delayedCall(this.updateDocTooltip.bind(this),50)};(function(){this.$init=function(){return this.popup=new R(document.body||document.documentElement),this.popup.on("click",(function(i){this.insertMatch(),i.stop()}).bind(this)),this.popup.focus=this.editor.focus.bind(this.editor),this.popup.on("show",this.tooltipTimer.bind(null,null)),this.popup.on("select",this.tooltipTimer.bind(null,null)),this.popup.on("changeHoverMarker",this.tooltipTimer.bind(null,null)),this.popup},this.getPopup=function(){return this.popup||this.$init()},this.openPopup=function(i,o,h){this.popup||this.$init(),this.popup.autoSelect=this.autoSelect,this.popup.setData(this.completions.filtered,this.completions.filterText),i.keyBinding.addKeyboardHandler(this.keyboardHandler);var p=i.renderer;if(this.popup.setRow(this.autoSelect?0:-1),h)h&&!o&&this.detach();else{this.popup.setTheme(i.getTheme()),this.popup.setFontSize(i.getFontSize());var y=p.layerConfig.lineHeight,L=p.$cursorLayer.getPixelPosition(this.base,!0);L.left-=this.popup.getTextLeftOffset();var m=i.container.getBoundingClientRect();L.top+=m.top-p.layerConfig.offset,L.left+=m.left-i.renderer.scrollLeft,L.left+=p.gutterWidth,this.popup.show(L,y)}this.changeTimer.cancel()},this.detach=function(){this.editor.keyBinding.removeKeyboardHandler(this.keyboardHandler),this.editor.off("changeSelection",this.changeListener),this.editor.off("blur",this.blurListener),this.editor.off("mousedown",this.mousedownListener),this.editor.off("mousewheel",this.mousewheelListener),this.changeTimer.cancel(),this.hideDocTooltip(),this.gatherCompletionsId+=1,this.popup&&this.popup.isOpen&&this.popup.hide(),this.base&&this.base.detach(),this.activated=!1,this.completions=this.base=null},this.changeListener=function(i){var o=this.editor.selection.lead;(o.row!=this.base.row||o.column<this.base.column)&&this.detach(),this.activated?this.changeTimer.schedule():this.detach()},this.blurListener=function(i){var o=document.activeElement,h=this.editor.textInput.getElement(),p=i.relatedTarget&&this.tooltipNode&&this.tooltipNode.contains(i.relatedTarget),y=this.popup&&this.popup.container;o!=h&&o.parentNode!=y&&!p&&o!=this.tooltipNode&&i.relatedTarget!=h&&this.detach()},this.mousedownListener=function(i){this.detach()},this.mousewheelListener=function(i){this.detach()},this.goTo=function(i){this.popup.goTo(i)},this.insertMatch=function(i,o){if(i||(i=this.popup.getData(this.popup.getRow())),!i)return!1;var h=this.completions;if(this.editor.startOperation({command:{name:"insertMatch"}}),i.completer&&i.completer.insertMatch)i.completer.insertMatch(this.editor,i);else{if(h.filterText)for(var p=this.editor.selection.getAllRanges(),y=0,L;L=p[y];y++)L.start.column-=h.filterText.length,this.editor.session.remove(L);i.snippet?t.insertSnippet(this.editor,i.snippet):this.editor.execCommand("insertstring",i.value||i)}this.completions==h&&this.detach(),this.editor.endOperation()},this.commands={Up:function(i){i.completer.goTo("up")},Down:function(i){i.completer.goTo("down")},"Ctrl-Up|Ctrl-Home":function(i){i.completer.goTo("start")},"Ctrl-Down|Ctrl-End":function(i){i.completer.goTo("end")},Esc:function(i){i.completer.detach()},Return:function(i){return i.completer.insertMatch()},"Shift-Return":function(i){i.completer.insertMatch(null,{deleteSuffix:!0})},Tab:function(i){var o=i.completer.insertMatch();if(o||i.tabstopManager)return o;i.completer.goTo("down")},PageUp:function(i){i.completer.popup.gotoPageUp()},PageDown:function(i){i.completer.popup.gotoPageDown()}},this.gatherCompletions=function(i,o){var h=i.getSession(),p=i.getCursorPosition(),y=d.getCompletionPrefix(i);this.base=h.doc.createAnchor(p.row,p.column-y.length),this.base.$insertRight=!0;var L=[],m=i.completers.length;return i.completers.forEach(function(s,g){s.getCompletions(i,h,p,y,function(_,f){!_&&f&&(L=L.concat(f)),o(null,{prefix:d.getCompletionPrefix(i),matches:L,finished:--m===0})})}),!0},this.showPopup=function(i,o){this.editor&&this.detach(),this.activated=!0,this.editor=i,i.completer!=this&&(i.completer&&i.completer.detach(),i.completer=this),i.on("changeSelection",this.changeListener),i.on("blur",this.blurListener),i.on("mousedown",this.mousedownListener),i.on("mousewheel",this.mousewheelListener),this.updateCompletions(!1,o)},this.updateCompletions=function(i,o){if(i&&this.base&&this.completions){var h=this.editor.getCursorPosition(),p=this.editor.session.getTextRange({start:this.base,end:h});if(p==this.completions.filterText)return;if(this.completions.setFilter(p),!this.completions.filtered.length)return this.detach();if(this.completions.filtered.length==1&&this.completions.filtered[0].value==p&&!this.completions.filtered[0].snippet)return this.detach();this.openPopup(this.editor,p,i);return}if(o&&o.matches){var h=this.editor.getSelectionRange().start;return this.base=this.editor.session.doc.createAnchor(h.row,h.column),this.base.$insertRight=!0,this.completions=new r(o.matches),this.openPopup(this.editor,"",i)}var y=this.gatherCompletionsId;this.gatherCompletions(this.editor,(function(L,m){var s=(function(){if(m.finished)return this.detach()}).bind(this),g=m.prefix,_=m&&m.matches;if(!_||!_.length)return s();if(!(g.indexOf(m.prefix)!==0||y!=this.gatherCompletionsId)){this.completions=new r(_),this.exactMatch&&(this.completions.exactMatch=!0),this.completions.setFilter(g);var f=this.completions.filtered;if(!f.length||f.length==1&&f[0].value==g&&!f[0].snippet)return s();if(this.autoInsert&&f.length==1&&m.finished)return this.insertMatch(f[0]);this.openPopup(this.editor,g,i)}}).bind(this))},this.cancelContextMenu=function(){this.editor.$mouseHandler.cancelContextMenu()},this.updateDocTooltip=function(){var i=this.popup,o=i.data,h=o&&(o[i.getHoveredRow()]||o[i.getRow()]),p=null;if(!h||!this.editor||!this.popup.isOpen)return this.hideDocTooltip();if(this.editor.completers.some(function(y){return y.getDocTooltip&&(p=y.getDocTooltip(h)),p}),!p&&typeof h!="string"&&(p=h),typeof p=="string"&&(p={docText:p}),!p||!p.docHTML&&!p.docText)return this.hideDocTooltip();this.showDocTooltip(p)},this.showDocTooltip=function(i){this.tooltipNode||(this.tooltipNode=a.createElement("div"),this.tooltipNode.className="ace_tooltip ace_doc-tooltip",this.tooltipNode.style.margin=0,this.tooltipNode.style.pointerEvents="auto",this.tooltipNode.tabIndex=-1,this.tooltipNode.onblur=this.blurListener.bind(this),this.tooltipNode.onclick=this.onTooltipClick.bind(this));var o=this.tooltipNode;i.docHTML?o.innerHTML=i.docHTML:i.docText&&(o.textContent=i.docText),o.parentNode||document.body.appendChild(o);var h=this.popup,p=h.container.getBoundingClientRect();o.style.top=h.container.style.top,o.style.bottom=h.container.style.bottom,o.style.display="block",window.innerWidth-p.right<320?p.left<320?h.isTopdown?(o.style.top=p.bottom+"px",o.style.left=p.left+"px",o.style.right="",o.style.bottom=""):(o.style.top=h.container.offsetTop-o.offsetHeight+"px",o.style.left=p.left+"px",o.style.right="",o.style.bottom=""):(o.style.right=window.innerWidth-p.left+"px",o.style.left=""):(o.style.left=p.right+1+"px",o.style.right="")},this.hideDocTooltip=function(){if(this.tooltipTimer.cancel(),!!this.tooltipNode){var i=this.tooltipNode;!this.editor.isFocused()&&document.activeElement==i&&this.editor.focus(),this.tooltipNode=null,i.parentNode&&i.parentNode.removeChild(i)}},this.onTooltipClick=function(i){for(var o=i.target;o&&o!=this.tooltipNode;){if(o.nodeName=="A"&&o.href){o.rel="noreferrer",o.target="_blank";break}o=o.parentNode}},this.destroy=function(){if(this.detach(),this.popup){this.popup.destroy();var i=this.popup.container;i&&i.parentNode&&i.parentNode.removeChild(i)}this.editor&&this.editor.completer==this&&this.editor.completer==null,this.popup=null}}).call(n.prototype),n.for=function(i){return i.completer||(e.get("sharedPopups")?(n.$shared||(n.$sharedInstance=new n),i.completer=n.$sharedInstance):(i.completer=new n,i.once("destroy",function(o,h){h.completer.destroy()}))),i.completer},n.startCommand={name:"startAutocomplete",exec:function(i,o){var h=n.for(i);h.autoInsert=!1,h.autoSelect=!0,h.showPopup(i,o),h.cancelContextMenu()},bindKey:"Ctrl-Space|Ctrl-Shift-Space|Alt-Space"};var r=function(i,o){this.all=i,this.filtered=i,this.filterText=o||"",this.exactMatch=!1};(function(){this.setFilter=function(i){if(i.length>this.filterText&&i.lastIndexOf(this.filterText,0)===0)var o=this.filtered;else var o=this.all;this.filterText=i,o=this.filterCompletions(o,this.filterText),o=o.sort(function(p,y){return y.exactMatch-p.exactMatch||y.$score-p.$score||(p.caption||p.value).localeCompare(y.caption||y.value)});var h=null;o=o.filter(function(p){var y=p.snippet||p.caption||p.value;return y===h?!1:(h=y,!0)}),this.filtered=o},this.filterCompletions=function(i,o){var h=[],p=o.toUpperCase(),y=o.toLowerCase();e:for(var L=0,m;m=i[L];L++){var s=m.caption||m.value||m.snippet;if(s){var g=-1,_=0,f=0,v,l;if(this.exactMatch){if(o!==s.substr(0,o.length))continue e}else{var w=s.toLowerCase().indexOf(y);if(w>-1)f=w;else for(var k=0;k<o.length;k++){var F=s.indexOf(y[k],g+1),x=s.indexOf(p[k],g+1);if(v=F>=0&&(x<0||F<x)?F:x,v<0)continue e;l=v-g-1,l>0&&(g===-1&&(f+=10),f+=l,_|=1<<k),g=v}}m.matchMask=_,m.exactMatch=f?0:1,m.$score=(m.score||0)-f,h.push(m)}}return h}}).call(r.prototype),T.Autocomplete=n,T.FilteredList=r}),define("ace/autocomplete/text_completer",["require","exports","module","ace/range"],function(A,T,b){function E(a,t){var e=a.getTextRange(d.fromPoints({row:0,column:0},t));return e.split(c).length-1}function R(a,t){var e=E(a,t),n=a.getValue().split(c),r=Object.create(null),i=n[e];return n.forEach(function(o,h){if(!(!o||o===i)){var p=Math.abs(e-h),y=n.length-p;r[o]?r[o]=Math.max(y,r[o]):r[o]=y}}),r}var d=A("../range").Range,c=/[^a-zA-Z_0-9\$\-\u00C0-\u1FFF\u2C00-\uD7FF\w]+/;T.getCompletions=function(a,t,e,n,r){var i=R(t,e),o=Object.keys(i);r(null,o.map(function(h){return{caption:h,value:h,score:i[h],meta:"local"}}))}}),define("ace/ext/language_tools",["require","exports","module","ace/snippets","ace/autocomplete","ace/config","ace/lib/lang","ace/autocomplete/util","ace/autocomplete/text_completer","ace/editor","ace/config"],function(A,T,b){var E=A("../snippets").snippetManager,R=A("../autocomplete").Autocomplete,d=A("../config"),c=A("../lib/lang"),a=A("../autocomplete/util"),t=A("../autocomplete/text_completer"),e={getCompletions:function(m,s,g,_,f){if(s.$mode.completer)return s.$mode.completer.getCompletions(m,s,g,_,f);var v=m.session.getState(g.row),l=s.$mode.getCompletions(v,s,g,_);f(null,l)}},n={getCompletions:function(m,s,g,_,f){var v=[],l=s.getTokenAt(g.row,g.column);l&&l.type.match(/(tag-name|tag-open|tag-whitespace|attribute-name|attribute-value)\.xml$/)?v.push("html-tag"):v=E.getActiveScopes(m);var w=E.snippetMap,k=[];v.forEach(function(F){for(var x=w[F]||[],N=x.length;N--;){var G=x[N],q=G.name||G.tabTrigger;q&&k.push({caption:q,snippet:G.content,meta:G.tabTrigger&&!G.name?G.tabTrigger+" ":"snippet",type:"snippet"})}},this),f(null,k)},getDocTooltip:function(m){m.type=="snippet"&&!m.docHTML&&(m.docHTML=["<b>",c.escapeHTML(m.caption),"</b>","<hr></hr>",c.escapeHTML(m.snippet)].join(""))}},r=[n,t,e];T.setCompleters=function(m){r.length=0,m&&r.push.apply(r,m)},T.addCompleter=function(m){r.push(m)},T.textCompleter=t,T.keyWordCompleter=e,T.snippetCompleter=n;var i={name:"expandSnippet",exec:function(m){return E.expandWithTab(m)},bindKey:"Tab"},o=function(m,s){h(s.session.$mode)},h=function(m){typeof m=="string"&&(m=d.$modes[m]),m&&(E.files||(E.files={}),p(m.$id,m.snippetFileId),m.modes&&m.modes.forEach(h))},p=function(m,s){!s||!m||E.files[m]||(E.files[m]={},d.loadModule(s,function(g){g&&(E.files[m]=g,!g.snippets&&g.snippetText&&(g.snippets=E.parseSnippetFile(g.snippetText)),E.register(g.snippets||[],g.scope),g.includeScopes&&(E.snippetMap[g.scope].includeScopes=g.includeScopes,g.includeScopes.forEach(function(_){h("ace/mode/"+_)})))}))},y=function(m){var s=m.editor,g=s.completer&&s.completer.activated;if(m.command.name==="backspace")g&&!a.getCompletionPrefix(s)&&s.completer.detach();else if(m.command.name==="insertstring"){var _=a.getCompletionPrefix(s);if(_&&!g){var f=R.for(s);f.autoInsert=!1,f.showPopup(s)}}},L=A("../editor").Editor;A("../config").defineOptions(L.prototype,"editor",{enableBasicAutocompletion:{set:function(m){m?(this.completers||(this.completers=Array.isArray(m)?m:r),this.commands.addCommand(R.startCommand)):this.commands.removeCommand(R.startCommand)},value:!1},enableLiveAutocompletion:{set:function(m){m?(this.completers||(this.completers=Array.isArray(m)?m:r),this.commands.on("afterExec",y)):this.commands.removeListener("afterExec",y)},value:!1},enableSnippets:{set:function(m){m?(this.commands.addCommand(i),this.on("changeMode",o),o(null,this)):(this.commands.removeCommand(i),this.off("changeMode",o))},value:!1}})});(function(){window.require(["ace/ext/language_tools"],function(A){typeof module=="object"&&typeof exports=="object"&&module&&(module.exports=A)})})();define("ace/mode/gbz80_highlight_rules",["require","exports","module","ace/lib/oop","ace/mode/text_highlight_rules"],function(A,T,b){var E=A("../lib/oop"),R=A("./text_highlight_rules").TextHighlightRules,d=function(){var c="\\b(?:"+Object.keys(_t).join("|")+")\\b";this.$rules={start:[{token:"keyword.control.assembly",regex:"\\b(?:ADC|ADD|AND|CP|DEC|INC|OR|SBC|SUB|XOR|BIT|RES|SET|SWAP|RL|RLA|RLC|RLCA|RR|RRA|RRC|RRCA|SLA|SRA|SRL|LD|LDH|CALL|JP|JR|RET|RETI|RST|POP|PUSH|CCF|CPL|DAA|DI|EI|HALT|NOP|SCF|STOP)\\b",caseInsensitive:!0},{token:"keyword.control.sections",regex:"\\b(?:ROM0|ROMX|VRAM|WRAM0|WRAMX|OAM|HRAM)\\b",caseInsensitive:!0},{token:"keyword.control.reserved",regex:"\\b(?:SECTION|INCLUDE|BANK|ALIGN|PURGE|INCBIN|CHARMAP|NEWCHARMAP|SETCHARMAP|PUSHC|POPC|FAIL|WARN|FATAL|ASSERT|STATIC_ASSERT|MACRO|ENDM|SHIFT|REPT|ENDR|LOAD|ENDL|IF|ELSE|ELIF|ENDC|UNION|NEXTU|EQU|EQUS|PUSHS|POPS|PUSHO|POPO|OPT)\\b",caseInsensitive:!0},{token:"variable.constant",regex:c,caseInsensitive:!0},{token:"variable.parameter.register.assembly",regex:"\\b(?:A|B|C|D|E|H|L|AF|BC|DE|HL)\\b",caseInsensitive:!0},{token:"constant.character.decimal.assembly",regex:"\\b[0-9]+\\b"},{token:"constant.character.binary.assembly",regex:"\\%[0-1]+\\b"},{token:"constant.character.quaternary.assembly",regex:"\\`[0-3]+\\b"},{token:"constant.character.hexadecimal.assembly",regex:"\\$[A-F0-9]+\\b",caseInsensitive:!0},{token:"string.assembly",regex:/'([^\\']|\\.)*'/},{token:"string.assembly",regex:/"([^\\"]|\\.)*"/},{token:"entity.name.function.assembly",regex:"^\\s*%%[\\w.]+?:$"},{token:"entity.name.function.assembly",regex:"^\\s*%\\$[\\w.]+?:$"},{token:"entity.name.function.assembly",regex:"^[\\w.]+?:"},{token:"comment.assembly",regex:";.*$"}]},this.normalizeRules()};d.metaData={fileTypes:["asm"],name:"Gameboy Z80",scopeName:"source.assembly"},E.inherits(d,R),T.GBZ80HighlightRules=d});define("ace/mode/folding/coffee",["require","exports","module","ace/lib/oop","ace/mode/folding/fold_mode","ace/range"],function(A,T,b){var E=A("../../lib/oop"),R=A("./fold_mode").FoldMode,d=A("../../range").Range,c=T.FoldMode=function(){};E.inherits(c,R),(function(){this.getFoldWidgetRange=function(a,t,e){var n=this.indentationBlock(a,e);if(n)return n;var r=/\S/,i=a.getLine(e),o=i.search(r);if(!(o==-1||i[o]!="#")){for(var h=i.length,p=a.getLength(),y=e,L=e;++e<p;){i=a.getLine(e);var m=i.search(r);if(m!=-1){if(i[m]!="#")break;L=e}}if(L>y){var s=a.getLine(L).length;return new d(y,h,L,s)}}},this.getFoldWidget=function(a,t,e){var n=a.getLine(e),r=n.search(/\S/),i=a.getLine(e+1),o=a.getLine(e-1),h=o.search(/\S/),p=i.search(/\S/);if(r==-1)return a.foldWidgets[e-1]=h!=-1&&h<p?"start":"","";if(h==-1){if(r==p&&n[r]=="#"&&i[r]=="#")return a.foldWidgets[e-1]="",a.foldWidgets[e+1]="","start"}else if(h==r&&n[r]=="#"&&o[r]=="#"&&a.getLine(e-2).search(/\S/)==-1)return a.foldWidgets[e-1]="start",a.foldWidgets[e+1]="","";return h!=-1&&h<r?a.foldWidgets[e-1]="start":a.foldWidgets[e-1]="",r<p?"start":""}}).call(c.prototype)});define("ace/mode/gbz80",["require","exports","module","ace/lib/oop","ace/mode/text","ace/mode/gbz80_highlight_rules","ace/mode/folding/coffee"],function(A,T,b){var E=A("../lib/oop"),R=A("./text").Mode,d=A("./gbz80_highlight_rules").GBZ80HighlightRules,c=A("./folding/coffee").FoldMode,a=function(){this.HighlightRules=d,this.foldingRules=new c,this.$behaviour=this.$defaultBehaviour};E.inherits(a,R),(function(){this.lineCommentStart=[";"],this.$id="ace/mode/gbz80"}).call(a.prototype),T.Mode=a});(function(){window.require(["ace/mode/gbz80"],function(A){typeof module=="object"&&typeof exports=="object"&&module&&(module.exports=A)})})();var Rr=[{name:"adc a, r8",description:"a = a + r8 + carry",optionalA:!0,cycles:1,bytes:1,flags:{z:"Set if result is 0",n:"0",h:"Set if overflow from bit 3",c:"Set if overflow from bit 7"}},{name:"adc a, [hl]",description:"a = a + [hl] + carry",optionalA:!0,cycles:2,bytes:1,flags:{z:"Set if result is 0",n:"0",h:"Set if overflow from bit 3",c:"Set if overflow from bit 7"}},{name:"adc a, n8",description:"a = a + n8 + carry",optionalA:!0,cycles:2,bytes:2,flags:{z:"Set if result is 0",n:"0",h:"Set if overflow from bit 3",c:"Set if overflow from bit 7"}},{name:"add a, r8",description:"a = a + r8",optionalA:!0,cycles:1,bytes:1,flags:{z:"Set if result is 0",n:"0",h:"Set if overflow from bit 3",c:"Set if overflow from bit 7"}},{name:"add a, [hl]",description:"a = a + [hl]",optionalA:!0,cycles:2,bytes:1,flags:{z:"Set if result is 0",n:"0",h:"Set if overflow from bit 3",c:"Set if overflow from bit 7"}},{name:"add a, n8",description:"a = a + n8",optionalA:!0,cycles:2,bytes:2,flags:{z:"Set if result is 0",n:"0",h:"Set if overflow from bit 3",c:"Set if overflow from bit 7"}},{name:"add hl, r16",description:"hl = hl + r16",cycles:2,bytes:1,flags:{n:"0",h:"Set if overflow from bit 11",c:"Set if overflow from bit 15"}},{name:"add hl, sp",description:"hl = hl + sp",cycles:2,bytes:1,flags:{n:"0",h:"Set if overflow from bit 11",c:"Set if overflow from bit 15"}},{name:"add sp, e8",description:"sp = sp + e8",cycles:4,bytes:2,flags:{z:"0",n:"0",h:"Set if overflow from bit 3",c:"Set if overflow from bit 7"}},{name:"and a, r8",description:"a = a & r8",optionalA:!0,cycles:1,bytes:1,flags:{z:"Set if result is 0",n:"0",h:"1",c:"0"}},{name:"and a, [hl]",description:"a = a & [hl]",optionalA:!0,cycles:2,bytes:1,flags:{z:"Set if result is 0",n:"0",h:"1",c:"0"}},{name:"and a, n8",description:"a = a & n8",optionalA:!0,cycles:2,bytes:2,flags:{z:"Set if result is 0",n:"0",h:"1",c:"0"}},{name:"bit u3, r8",description:"Sets Z if bit u3 in r8 is 0",cycles:2,bytes:2,flags:{z:"Set if selected bit is 0",n:"0",h:"1"}},{name:"bit u3, [hl]",description:"Sets Z if bit u3 in [hl] is 0",cycles:3,bytes:2,flags:{z:"Set if selected bit is 0",n:"0",h:"1"}},{name:"call n16",description:"Calls address n16",cycles:6,bytes:3,flags:{}},{name:"call cc, n16",description:"Calls address n16 if condition cc is met",cycles:"6/3",bytes:3,flags:{}},{name:"ccf",description:"Complements the carry flag",cycles:1,bytes:1,flags:{n:"0",h:"0",c:"Complemented"}},{name:"cp a, r8",description:"flags = a - r8",optionalA:!0,cycles:1,bytes:1,flags:{z:"Set if result is 0 (a == r8)",n:"1",h:"Set if no borrow from bit 4",c:"Set if no borrow (a < r8)"}},{name:"cp a, [hl]",description:"flags = a - [hl]",optionalA:!0,cycles:2,bytes:1,flags:{z:"Set if result is 0 (a == [hl])",n:"1",h:"Set if no borrow from bit 4",c:"Set if no borrow (a < [hl])"}},{name:"cp a, n8",description:"flags = a - n8",optionalA:!0,cycles:2,bytes:2,flags:{z:"Set if result is 0 (a == n8)",n:"1",h:"Set if no borrow from bit 4",c:"Set if no borrow (a < n8)"}},{name:"cpl",description:"a = ~a",cycles:1,bytes:1,flags:{n:"1",h:"1"}},{name:"daa",description:"Decimal adjusts a to correct BCD value after arithmetic",cycles:1,bytes:1,flags:{z:"Set if result is 0",h:"0",c:"Set or reset based on operation"}},{name:"dec r8",description:"r8 -= 1",cycles:1,bytes:1,flags:{z:"Set if result is 0",n:"1",h:"Set if no borrow from bit 4"}},{name:"dec [hl]",description:"[hl] -= 1",cycles:3,bytes:1,flags:{z:"Set if result is 0",n:"1",h:"Set if no borrow from bit 4"}},{name:"dec r16",description:"r16 -= 1",cycles:2,bytes:1,flags:{}},{name:"dec sp",description:"sp -= 1",cycles:2,bytes:1,flags:{}},{name:"di",description:"Disables interrupts",cycles:1,bytes:1,flags:{}},{name:"ei",description:"Enables interrupts",cycles:1,bytes:1,flags:{}},{name:"halt",description:"Puts the CPU into low power mode",cycles:"-",bytes:1,flags:{}},{name:"inc r8",description:"r8 += 1",cycles:1,bytes:1,flags:{z:"Set if result is 0",n:"0",h:"Set if overflow from bit 3"}},{name:"inc [hl]",description:"[hl] += 1",cycles:3,bytes:1,flags:{z:"Set if result is 0",n:"0",h:"Set if overflow from bit 3"}},{name:"inc r16",description:"r16 += 1",cycles:2,bytes:1,flags:{}},{name:"inc sp",description:"sp += 1",cycles:2,bytes:1,flags:{}},{name:"jp n16",description:"Jumps to address n16",cycles:4,bytes:3,flags:{}},{name:"jp cc, n16",description:"Jumps to address n16 if condition cc is met",cycles:"4/3",bytes:3,flags:{}},{name:"jp hl",description:"Jumps to address in hl",cycles:1,bytes:1,flags:{}},{name:"jr e8",description:"Relative jumps by adding e8 to pc",cycles:3,bytes:2,flags:{}},{name:"jr cc, e8",description:"Relative jumps by adding e8 to pc if condition cc is met",cycles:"3/2",bytes:2,flags:{}},{name:"ld r8, r8",description:"Copies the value from the right register into the left",cycles:1,bytes:1,flags:{}},{name:"ld r8, n8",description:"r8 = n8",cycles:2,bytes:2,flags:{}},{name:"ld r16, n16",description:"r16 = n16",cycles:3,bytes:3,flags:{}},{name:"ld [hl], r8",description:"[hl] = r8",cycles:2,bytes:1,flags:{}},{name:"ld [hl], n8",description:"[hl] = n8",cycles:3,bytes:2,flags:{}},{name:"ld r8, [hl]",description:"r8 = [hl]",cycles:2,bytes:1,flags:{}},{name:"ld [r16], a",description:"[r16] = a",cycles:2,bytes:1,flags:{}},{name:"ld [n16], a",description:"[n16] = a",cycles:4,bytes:3,flags:{}},{name:"ldh [$ff00+n8], a",description:"[$ff00+n8] = a",cycles:3,bytes:2,flags:{}},{name:"ld [$ff00+c], a",description:"[$ff00+c] = a",cycles:2,bytes:1,flags:{}},{name:"ld a, [r16]",description:"a = [r16]",cycles:2,bytes:1,flags:{}},{name:"ld a, [n16]",description:"a = [n16]",cycles:4,bytes:3,flags:{}},{name:"ldh a, [$ff00+n8]",description:"a = [$ff00+n8]",cycles:3,bytes:2,flags:{}},{name:"ld a, [$ff00+c]",description:"a = [$ff00+c]",cycles:2,bytes:1,flags:{}},{name:"ld [hl+], a",description:"[hl] = a, hl += 1",aliasHLI:!0,cycles:2,bytes:1,flags:{}},{name:"ld [hl-], a",description:"[hl] = a, hl -= 1",aliasHLD:!0,cycles:2,bytes:1,flags:{}},{name:"ld a, [hl+]",description:"a = [hl], hl += 1",aliasHLI:!0,cycles:2,bytes:1,flags:{}},{name:"ld a, [hl-]",description:"a = [hl], hl -= 1",aliasHLD:!0,cycles:2,bytes:1,flags:{}},{name:"ld sp, n16",description:"sp = n16",cycles:3,bytes:3,flags:{}},{name:"ld [n16], sp",description:"[n16, n16 + 1] = sp",cycles:5,bytes:3,flags:{}},{name:"ld hl, sp+e8",description:"hl = sp + e8",cycles:3,bytes:2,flags:{z:"0",n:"0",h:"Set if overflow from bit 3",c:"Set if overflow from bit 7"}},{name:"ld sp, hl",description:"sp = hl",cycles:2,bytes:1,flags:{}},{name:"nop",description:"No operation",cycles:1,bytes:1,flags:{}},{name:"or a, r8",description:"a = a | r8",optionalA:!0,cycles:1,bytes:1,flags:{z:"Set if result is 0",n:"0",h:"0",c:"0"}},{name:"or a, [hl]",description:"a = a | [hl]",optionalA:!0,cycles:2,bytes:1,flags:{z:"Set if result is 0",n:"0",h:"0",c:"0"}},{name:"or a, n8",description:"a = a | n8",optionalA:!0,cycles:2,bytes:2,flags:{z:"Set if result is 0",n:"0",h:"0",c:"0"}},{name:"pop af",description:"Pops the stack into af",cycles:3,bytes:1,flags:{}},{name:"pop r16",description:"Pops the stack into r16",cycles:3,bytes:1,flags:{}},{name:"push af",description:"Pushes af onto the stack",cycles:4,bytes:1,flags:{}},{name:"push r16",description:"Pushes r16 onto the stack",cycles:4,bytes:1,flags:{}},{name:"res u3, r8",description:"Sets the bit u3 in r8 to 0",cycles:2,bytes:2,flags:{}},{name:"res u3, [hl]",description:"Sets the bit u3 in [hl] to 0",cycles:4,bytes:2,flags:{}},{name:"ret",description:"Returns from the current subroutine",cycles:4,bytes:1,flags:{}},{name:"ret cc",description:"Returns from the current subroutine if condition cc is met",cycles:"5/2",bytes:1,flags:{}},{name:"reti",description:"Returns from the current subroutine and enables interrupts",cycles:4,bytes:1,flags:{}},{name:"rl r8",description:"Rotates r8 left, sets bit 0 to carry, sets carry to old bit 7",cycles:2,bytes:2,flags:{z:"Set if result is 0",n:"0",h:"0",c:"Set to old bit 7"}},{name:"rl [hl]",description:"Rotates [hl] left, sets bit 0 to carry, sets carry to old bit 7",cycles:4,bytes:2,flags:{z:"Set if result is 0",n:"0",h:"0",c:"Set to old bit 7"}},{name:"rla",description:"Rotates a left, sets bit 0 to carry, sets carry to old bit 7",cycles:1,bytes:1,flags:{z:"0",n:"0",h:"0",c:"Set to old bit 7"}},{name:"rlc r8",description:"Rotates r8 left, sets bit 0 and carry to old bit 7",cycles:2,bytes:2,flags:{z:"Set if result is 0",n:"0",h:"0",c:"Set to old bit 7"}},{name:"rlc [hl]",description:"Rotates [hl] left, sets bit 0 and carry to old bit 7",cycles:4,bytes:2,flags:{z:"Set if result is 0",n:"0",h:"0",c:"Set to old bit 7"}},{name:"rlca",description:"Rotates a left, sets bit 0 and carry to old bit 7",cycles:1,bytes:1,flags:{z:"0",n:"0",h:"0",c:"Set to old bit 7"}},{name:"rr r8",description:"Rotates r8 right, sets bit 7 to carry, sets carry to old bit 0",cycles:2,bytes:2,flags:{z:"Set if result is 0",n:"0",h:"0",c:"Set to old bit 0"}},{name:"rr [hl]",description:"Rotates [hl] right, sets bit 7 to carry, sets carry to old bit 0",cycles:4,bytes:2,flags:{z:"Set if result is 0",n:"0",h:"0",c:"Set to old bit 0"}},{name:"rra",description:"Rotates a right, sets bit 7 to carry, sets carry to old bit 0",cycles:1,bytes:1,flags:{z:"0",n:"0",h:"0",c:"Set to old bit 0"}},{name:"rrc r8",description:"Rotates r8 right, sets bit 7 and carry to old bit 0",cycles:2,bytes:2,flags:{z:"Set if result is 0",n:"0",h:"0",c:"Set to old bit 0"}},{name:"rrc [hl]",description:"Rotates [hl] right, sets bit 7 and carry to old bit 0",cycles:4,bytes:2,flags:{z:"Set if result is 0",n:"0",h:"0",c:"Set to old bit 0"}},{name:"rrca",description:"Rotates a right, sets bit 7 and carry to old bit 0",cycles:1,bytes:1,flags:{z:"0",n:"0",h:"0",c:"Set to old bit 0"}},{name:"rst vec",description:"Calls given reset vector",cycles:4,bytes:1,flags:{}},{name:"sbc a, r8",description:"a = a - r8 - c",optionalA:!0,cycles:1,bytes:1,flags:{z:"Set if result is 0",n:"1",h:"Set if no borrow from bit 4",c:"Set if no borrow"}},{name:"sbc a, [hl]",description:"a = a - [hl] - c",optionalA:!0,cycles:2,bytes:1,flags:{z:"Set if result is 0",n:"1",h:"Set if no borrow from bit 4",c:"Set if no borrow"}},{name:"sbc a, n8",description:"a = a - n8 - c",optionalA:!0,cycles:2,bytes:2,flags:{z:"Set if result is 0",n:"1",h:"Set if no borrow from bit 4",c:"Set if no borrow"}},{name:"scf",description:"Sets the carry flag to 1",cycles:1,bytes:1,flags:{n:"0",h:"0",c:"1"}},{name:"set u3, r8",description:"Sets the bit u3 in r8 to 1",cycles:2,bytes:2,flags:{}},{name:"set u3, [hl]",description:"Sets the bit u3 in [hl] to 1",cycles:4,bytes:2,flags:{}},{name:"sla r8",description:"Shifts r8 left, sets carry to old bit 7",cycles:2,bytes:2,flags:{z:"Set if result is 0",n:"0",h:"0",c:"Set to old bit 7"}},{name:"sla [hl]",description:"Shifts [hl] left, sets carry to old bit 7",cycles:4,bytes:2,flags:{z:"Set if result is 0",n:"0",h:"0",c:"Set to old bit 7"}},{name:"sra r8",description:"Shifts r8 right keeping bit 7 unchanged, sets carry to old bit 0",cycles:2,bytes:2,flags:{z:"Set if result is 0",n:"0",h:"0",c:"Set to old bit 0"}},{name:"sra [hl]",description:"Shifts [hl] right keeping bit 7 unchanged, sets carry to old bit 0",cycles:4,bytes:2,flags:{z:"Set if result is 0",n:"0",h:"0",c:"Set to old bit 0"}},{name:"srl r8",description:"Shifts r8 right, sets carry to old bit 0",cycles:2,bytes:2,flags:{z:"Set if result is 0",n:"0",h:"0",c:"Set to old bit 0"}},{name:"srl [hl]",description:"Shifts [hl] right, sets carry to old bit 0",cycles:4,bytes:2,flags:{z:"Set if result is 0",n:"0",h:"0",c:"Set to old bit 0"}},{name:"stop",description:"Puts the CPU into very low power mode",cycles:"-",bytes:"2",flags:{}},{name:"sub a, r8",description:"a = a - r8",optionalA:!0,cycles:1,bytes:1,flags:{z:"Set if result is 0 (a == r8)",n:"1",h:"Set if no borrow from bit 4",c:"Set if no borrow (a < r8)"}},{name:"sub a, [hl]",description:"a = a - [hl]",optionalA:!0,cycles:2,bytes:1,flags:{z:"Set if result is 0 (a == [hl])",n:"1",h:"Set if no borrow from bit 4",c:"Set if no borrow (a < [hl])"}},{name:"sub a, n8",description:"a = a - n8",optionalA:!0,cycles:2,bytes:2,flags:{z:"Set if result is 0 (a == n8)",n:"1",h:"Set if no borrow from bit 4",c:"Set if no borrow (a < n8)"}},{name:"swap r8",description:"Swaps the upper and lower 4 bits in r8",cycles:2,bytes:2,flags:{z:"Set if result is 0",n:"0",h:"0",c:"0"}},{name:"swap [hl]",description:"Swaps the upper and lower 4 bits in [hl]",cycles:4,bytes:2,flags:{z:"Set if result is 0",n:"0",h:"0",c:"0"}},{name:"xor a, r8",description:"a = a ^ r8",optionalA:!0,cycles:1,bytes:1,flags:{z:"Set if result is 0",n:"0",h:"0",c:"0"}},{name:"xor a, [hl]",description:"a = a ^ [hl]",optionalA:!0,cycles:2,bytes:1,flags:{z:"Set if result is 0",n:"0",h:"0",c:"0"}},{name:"xor a, n8",description:"a = a ^ n8",optionalA:!0,cycles:2,bytes:2,flags:{z:"Set if result is 0",n:"0",h:"0",c:"0"}}],Er=[];Rr.forEach(function(A){var T="<table><tr><td colspan=2>"+A.description;T+="<tr><td>cycles:<td>"+A.cycles,T+="<tr><td>size:<td>"+A.bytes,T+="<tr><td>Flag Z:<td>"+A.flags.z,T+="<tr><td>Flag N:<td>"+A.flags.n,T+="<tr><td>Flag H:<td>"+A.flags.H,T+="<tr><td>Flag C:<td>"+A.flags.C;var b={caption:A.name,value:A.name,meta:"",docHTML:T};b.completer={insertMatch:function(E,R){}},Er.push(b)});var Cr=[];for(var pr in _t){var Pt=_t[pr],ur="";if(Pt.description&&(ur=Pt.description.replace(`
`,"<br>")),Pt.value&&(ur+="<br><b>Value:</b> "+Pt.value),Pt.flags)for(var Sr in Pt.flags)ur+="<br><b>"+Sr+":</b> "+Pt.flags[Sr].description;Pt.alias&&(ur+="<br><b>Alias:</b> "+Pt.alias);var Lr={caption:pr,value:pr,meta:"",docHTML:ur};Cr.push(Lr)}var Tr={getCompletions:function(A,T,b,E,R){var d=T.getLine(b.row),c=d.substr(0,b.column-1).trim();c.trim()==""||c.trim().endsWith(":")?R(null,Er.filter(function(a){return a.value.startsWith(E.toLowerCase())})):R(null,Cr.filter(function(a){return a.value.toLowerCase().startsWith(E.toLowerCase())}))}};globalThis.Tooltip=require("ace/tooltip").Tooltip;var mr=require("ace/lib/event");globalThis.TokenTooltip=function(T){T.tokenTooltip||(Tooltip.call(this,T.container),T.tokenTooltip=this,this.editor=T,this.update=this.update.bind(this),this.onMouseMove=this.onMouseMove.bind(this),this.onMouseOut=this.onMouseOut.bind(this),mr.addListener(T.renderer.scroller,"mousemove",this.onMouseMove),mr.addListener(T.renderer.content,"mouseout",this.onMouseOut))};require("ace/lib/oop").inherits(TokenTooltip,Tooltip);(function(){this.token={},this.range=new Range,this.update=function(){this.$timer=null;var A=this.editor.renderer;this.lastT-(A.timeStamp||0)>1e3&&(A.rect=null,A.timeStamp=this.lastT,this.maxHeight=window.innerHeight,this.maxWidth=window.innerWidth);var T=A.rect||(A.rect=A.scroller.getBoundingClientRect()),b=(this.x+A.scrollLeft-T.left-A.$padding)/A.characterWidth,E=Math.floor((this.y+A.scrollTop-T.top)/A.lineHeight),R=Math.round(b),d={row:E,column:R,side:b-R>0?1:-1},c=this.editor.session,a=c.screenToDocumentPosition(d.row,d.column),t=c.getTokenAt(a.row,a.column);if(!t&&!c.getLine(a.row)&&(t={type:"",value:"",state:c.bgTokenizer.getState(0)}),!t){this.hide();return}var e="";if(t.type=="variable.constant"&&t.value in gameboy_hardware_constants){var n=gameboy_hardware_constants[t.value];if(e=n.description,n.value&&(e+=`
Value: `+n.value),n.flags){e+=`
`;for(var r in n.flags)e+=`
`+r+": "+n.flags[r].description}}else{this.hide();return}this.tokenText!=e&&(this.setText(e),this.width=this.getWidth(),this.height=this.getHeight(),this.tokenText=e),this.show(null,this.x,this.y),this.token=t},this.onMouseMove=function(A){this.x=A.clientX,this.y=A.clientY,this.isOpen&&(this.lastT=A.timeStamp,this.setPosition(this.x,this.y)),this.$timer||(this.$timer=setTimeout(this.update,100))},this.onMouseOut=function(A){A&&A.currentTarget.contains(A.relatedTarget)||(this.hide(),this.$timer=clearTimeout(this.$timer))},this.setPosition=function(A,T){A+10+this.width>this.maxWidth&&(A=window.innerWidth-this.width-10),(T>window.innerHeight*.75||T+20+this.height>this.maxHeight)&&(T=T-this.height-30),Tooltip.prototype.setPosition.call(this,A+10,T+20)},this.destroy=function(){this.onMouseOut(),mr.removeListener(this.editor.renderer.scroller,"mousemove",this.onMouseMove),mr.removeListener(this.editor.renderer.content,"mouseout",this.onMouseOut),delete this.editor.tokenTooltip}}).call(TokenTooltip.prototype);var Mr=(()=>{var A=import.meta.url;return function(T={}){var b=T,E,R;b.ready=new Promise((C,D)=>{E=C,R=D});var d=Object.assign({},b),c=[],a="./this.program",t=(C,D)=>{throw D},e=!0,n="";function r(C){return b.locateFile?b.locateFile(C,n):n+C}var i,o;typeof document<"u"&&document.currentScript&&(n=document.currentScript.src),A&&(n=A),n.indexOf("blob:")!==0?n=n.substr(0,n.replace(/[?#].*/,"").lastIndexOf("/")+1):n="",i=C=>{var D=new XMLHttpRequest;return D.open("GET",C,!1),D.send(null),D.responseText},o=(C,D,P)=>{var V=new XMLHttpRequest;V.open("GET",C,!0),V.responseType="arraybuffer",V.onload=()=>{if(V.status==200||V.status==0&&V.response){D(V.response);return}P()},V.onerror=P,V.send(null)};var h=b.print||console.log.bind(console),p=b.printErr||console.error.bind(console);Object.assign(b,d),d=null,b.arguments&&(c=b.arguments),b.thisProgram&&(a=b.thisProgram),b.quit&&(t=b.quit);var y;b.wasmBinary&&(y=b.wasmBinary);var L=b.noExitRuntime||!0;typeof WebAssembly!="object"&&Ve("no native wasm support detected");var m,s=!1,g;function _(C,D){C||Ve(D)}var f,v,l,w,k;function F(){var C=m.buffer;b.HEAP8=f=new Int8Array(C),b.HEAP16=l=new Int16Array(C),b.HEAPU8=v=new Uint8Array(C),b.HEAPU16=new Uint16Array(C),b.HEAP32=w=new Int32Array(C),b.HEAPU32=k=new Uint32Array(C),b.HEAPF32=new Float32Array(C),b.HEAPF64=new Float64Array(C)}var x=[],N=[],G=[],q=[],ne=0;function X(){return L||ne>0}function j(){if(b.preRun)for(typeof b.preRun=="function"&&(b.preRun=[b.preRun]);b.preRun.length;)ae(b.preRun.shift());ke(x)}function Y(){!b.noFSInit&&!z.init.initialized&&z.init(),z.ignorePermissions=!1,ke(N)}function ee(){ke(G)}function ie(){if(b.postRun)for(typeof b.postRun=="function"&&(b.postRun=[b.postRun]);b.postRun.length;)ye(b.postRun.shift());ke(q)}function ae(C){x.unshift(C)}function ce(C){N.unshift(C)}function ye(C){q.unshift(C)}var me=0,Se=null;function Le(C){return C}function Ee(C){me++,b.monitorRunDependencies&&b.monitorRunDependencies(me)}function Fe(C){if(me--,b.monitorRunDependencies&&b.monitorRunDependencies(me),me==0&&Se){var D=Se;Se=null,D()}}function Ve(C){b.onAbort&&b.onAbort(C),C="Aborted("+C+")",p(C),s=!0,g=1,C+=". Build with -sASSERTIONS for more info.";var D=new WebAssembly.RuntimeError(C);throw R(D),D}var Je="data:application/octet-stream;base64,";function I(C){return C.startsWith(Je)}var ge;b.locateFile?(ge="rgbasm.wasm",I(ge)||(ge=r(ge))):ge=new URL("/assets/rgbasm-442999d8.wasm",self.location).href;function fe(C){if(C==ge&&y)return new Uint8Array(y);throw"both async and sync fetching of the wasm failed"}function te(C){return!y&&e&&typeof fetch=="function"?fetch(C,{credentials:"same-origin"}).then(D=>{if(!D.ok)throw"failed to load wasm binary file at '"+C+"'";return D.arrayBuffer()}).catch(()=>fe(C)):Promise.resolve().then(()=>fe(C))}function J(C,D,P){return te(C).then(V=>WebAssembly.instantiate(V,D)).then(V=>V).then(P,V=>{p(`failed to asynchronously prepare wasm: ${V}`),Ve(V)})}function he(C,D,P,V){return!C&&typeof WebAssembly.instantiateStreaming=="function"&&!I(D)&&typeof fetch=="function"?fetch(D,{credentials:"same-origin"}).then(Q=>{var le=WebAssembly.instantiateStreaming(Q,P);return le.then(V,function(ue){return p(`wasm streaming compile failed: ${ue}`),p("falling back to ArrayBuffer instantiation"),J(D,P,V)})}):J(D,P,V)}function pe(){var C={a:ut};function D(V,Q){var le=V.exports;return lt=le,m=lt.v,F(),lt.z,ce(lt.w),Fe(),le}Ee();function P(V){D(V.instance)}if(b.instantiateWasm)try{return b.instantiateWasm(C,D)}catch(V){p(`Module.instantiateWasm callback failed with error: ${V}`),R(V)}return he(y,ge,C,P).catch(R),{}}var Z,re;function we(C){this.name="ExitStatus",this.message=`Program terminated with exit(${C})`,this.status=C}var ke=C=>{for(;C.length>0;)C.shift()(b)},be=typeof TextDecoder<"u"?new TextDecoder("utf8"):void 0,xe=(C,D,P)=>{for(var V=D+P,Q=D;C[Q]&&!(Q>=V);)++Q;if(Q-D>16&&C.buffer&&be)return be.decode(C.subarray(D,Q));for(var le="";D<Q;){var ue=C[D++];if(!(ue&128)){le+=String.fromCharCode(ue);continue}var ve=C[D++]&63;if((ue&224)==192){le+=String.fromCharCode((ue&31)<<6|ve);continue}var Me=C[D++]&63;if((ue&240)==224?ue=(ue&15)<<12|ve<<6|Me:ue=(ue&7)<<18|ve<<12|Me<<6|C[D++]&63,ue<65536)le+=String.fromCharCode(ue);else{var Ye=ue-65536;le+=String.fromCharCode(55296|Ye>>10,56320|Ye&1023)}}return le},Pe=(C,D)=>C?xe(v,C,D):"",Re=(C,D,P,V)=>{Ve(`Assertion failed: ${Pe(C)}, at: `+[D?Pe(D):"unknown filename",P,V?Pe(V):"unknown function"])},Xe=C=>(w[St()>>2]=C,C),Ce={isAbs:C=>C.charAt(0)==="/",splitPath:C=>{var D=/^(\/?|)([\s\S]*?)((?:\.{1,2}|[^\/]+?|)(\.[^.\/]*|))(?:[\/]*)$/;return D.exec(C).slice(1)},normalizeArray:(C,D)=>{for(var P=0,V=C.length-1;V>=0;V--){var Q=C[V];Q==="."?C.splice(V,1):Q===".."?(C.splice(V,1),P++):P&&(C.splice(V,1),P--)}if(D)for(;P;P--)C.unshift("..");return C},normalize:C=>{var D=Ce.isAbs(C),P=C.substr(-1)==="/";return C=Ce.normalizeArray(C.split("/").filter(V=>!!V),!D).join("/"),!C&&!D&&(C="."),C&&P&&(C+="/"),(D?"/":"")+C},dirname:C=>{var D=Ce.splitPath(C),P=D[0],V=D[1];return!P&&!V?".":(V&&(V=V.substr(0,V.length-1)),P+V)},basename:C=>{if(C==="/")return"/";C=Ce.normalize(C),C=C.replace(/\/$/,"");var D=C.lastIndexOf("/");return D===-1?C:C.substr(D+1)},join:function(){var C=Array.prototype.slice.call(arguments);return Ce.normalize(C.join("/"))},join2:(C,D)=>Ce.normalize(C+"/"+D)},Qe=()=>{if(typeof crypto=="object"&&typeof crypto.getRandomValues=="function")return C=>crypto.getRandomValues(C);Ve("initRandomDevice")},Te=C=>(Te=Qe())(C),Ke={resolve:function(){for(var C="",D=!1,P=arguments.length-1;P>=-1&&!D;P--){var V=P>=0?arguments[P]:z.cwd();if(typeof V!="string")throw new TypeError("Arguments to path.resolve must be strings");if(!V)return"";C=V+"/"+C,D=Ce.isAbs(V)}return C=Ce.normalizeArray(C.split("/").filter(Q=>!!Q),!D).join("/"),(D?"/":"")+C||"."},relative:(C,D)=>{C=Ke.resolve(C).substr(1),D=Ke.resolve(D).substr(1);function P(Ye){for(var tt=0;tt<Ye.length&&Ye[tt]==="";tt++);for(var it=Ye.length-1;it>=0&&Ye[it]==="";it--);return tt>it?[]:Ye.slice(tt,it-tt+1)}for(var V=P(C.split("/")),Q=P(D.split("/")),le=Math.min(V.length,Q.length),ue=le,ve=0;ve<le;ve++)if(V[ve]!==Q[ve]){ue=ve;break}for(var Me=[],ve=ue;ve<V.length;ve++)Me.push("..");return Me=Me.concat(Q.slice(ue)),Me.join("/")}},pt=[],oe=C=>{for(var D=0,P=0;P<C.length;++P){var V=C.charCodeAt(P);V<=127?D++:V<=2047?D+=2:V>=55296&&V<=57343?(D+=4,++P):D+=3}return D},_e=(C,D,P,V)=>{if(!(V>0))return 0;for(var Q=P,le=P+V-1,ue=0;ue<C.length;++ue){var ve=C.charCodeAt(ue);if(ve>=55296&&ve<=57343){var Me=C.charCodeAt(++ue);ve=65536+((ve&1023)<<10)|Me&1023}if(ve<=127){if(P>=le)break;D[P++]=ve}else if(ve<=2047){if(P+1>=le)break;D[P++]=192|ve>>6,D[P++]=128|ve&63}else if(ve<=65535){if(P+2>=le)break;D[P++]=224|ve>>12,D[P++]=128|ve>>6&63,D[P++]=128|ve&63}else{if(P+3>=le)break;D[P++]=240|ve>>18,D[P++]=128|ve>>12&63,D[P++]=128|ve>>6&63,D[P++]=128|ve&63}}return D[P]=0,P-Q};function He(C,D,P){var V=P>0?P:oe(C)+1,Q=new Array(V),le=_e(C,Q,0,Q.length);return D&&(Q.length=le),Q}var et=()=>{if(!pt.length){var C=null;if(typeof window<"u"&&typeof window.prompt=="function"?(C=window.prompt("Input: "),C!==null&&(C+=`
`)):typeof readline=="function"&&(C=readline(),C!==null&&(C+=`
`)),!C)return null;pt=He(C,!0)}return pt.shift()},De={ttys:[],init(){},shutdown(){},register(C,D){De.ttys[C]={input:[],output:[],ops:D},z.registerDevice(C,De.stream_ops)},stream_ops:{open(C){var D=De.ttys[C.node.rdev];if(!D)throw new z.ErrnoError(43);C.tty=D,C.seekable=!1},close(C){C.tty.ops.fsync(C.tty)},fsync(C){C.tty.ops.fsync(C.tty)},read(C,D,P,V,Q){if(!C.tty||!C.tty.ops.get_char)throw new z.ErrnoError(60);for(var le=0,ue=0;ue<V;ue++){var ve;try{ve=C.tty.ops.get_char(C.tty)}catch{throw new z.ErrnoError(29)}if(ve===void 0&&le===0)throw new z.ErrnoError(6);if(ve==null)break;le++,D[P+ue]=ve}return le&&(C.node.timestamp=Date.now()),le},write(C,D,P,V,Q){if(!C.tty||!C.tty.ops.put_char)throw new z.ErrnoError(60);try{for(var le=0;le<V;le++)C.tty.ops.put_char(C.tty,D[P+le])}catch{throw new z.ErrnoError(29)}return V&&(C.node.timestamp=Date.now()),le}},default_tty_ops:{get_char(C){return et()},put_char(C,D){D===null||D===10?(h(xe(C.output,0)),C.output=[]):D!=0&&C.output.push(D)},fsync(C){C.output&&C.output.length>0&&(h(xe(C.output,0)),C.output=[])},ioctl_tcgets(C){return{c_iflag:25856,c_oflag:5,c_cflag:191,c_lflag:35387,c_cc:[3,28,127,21,4,0,1,0,17,19,26,0,18,15,23,22,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0]}},ioctl_tcsets(C,D,P){return 0},ioctl_tiocgwinsz(C){return[24,80]}},default_tty1_ops:{put_char(C,D){D===null||D===10?(p(xe(C.output,0)),C.output=[]):D!=0&&C.output.push(D)},fsync(C){C.output&&C.output.length>0&&(p(xe(C.output,0)),C.output=[])}}},gt=(C,D)=>(v.fill(0,C,C+D),C),Ie=(C,D)=>Math.ceil(C/D)*D,vt=C=>{C=Ie(C,65536);var D=It(65536,C);return D?gt(D,C):0},Ue={ops_table:null,mount(C){return Ue.createNode(null,"/",16895,0)},createNode(C,D,P,V){if(z.isBlkdev(P)||z.isFIFO(P))throw new z.ErrnoError(63);Ue.ops_table||(Ue.ops_table={dir:{node:{getattr:Ue.node_ops.getattr,setattr:Ue.node_ops.setattr,lookup:Ue.node_ops.lookup,mknod:Ue.node_ops.mknod,rename:Ue.node_ops.rename,unlink:Ue.node_ops.unlink,rmdir:Ue.node_ops.rmdir,readdir:Ue.node_ops.readdir,symlink:Ue.node_ops.symlink},stream:{llseek:Ue.stream_ops.llseek}},file:{node:{getattr:Ue.node_ops.getattr,setattr:Ue.node_ops.setattr},stream:{llseek:Ue.stream_ops.llseek,read:Ue.stream_ops.read,write:Ue.stream_ops.write,allocate:Ue.stream_ops.allocate,mmap:Ue.stream_ops.mmap,msync:Ue.stream_ops.msync}},link:{node:{getattr:Ue.node_ops.getattr,setattr:Ue.node_ops.setattr,readlink:Ue.node_ops.readlink},stream:{}},chrdev:{node:{getattr:Ue.node_ops.getattr,setattr:Ue.node_ops.setattr},stream:z.chrdev_stream_ops}});var Q=z.createNode(C,D,P,V);return z.isDir(Q.mode)?(Q.node_ops=Ue.ops_table.dir.node,Q.stream_ops=Ue.ops_table.dir.stream,Q.contents={}):z.isFile(Q.mode)?(Q.node_ops=Ue.ops_table.file.node,Q.stream_ops=Ue.ops_table.file.stream,Q.usedBytes=0,Q.contents=null):z.isLink(Q.mode)?(Q.node_ops=Ue.ops_table.link.node,Q.stream_ops=Ue.ops_table.link.stream):z.isChrdev(Q.mode)&&(Q.node_ops=Ue.ops_table.chrdev.node,Q.stream_ops=Ue.ops_table.chrdev.stream),Q.timestamp=Date.now(),C&&(C.contents[D]=Q,C.timestamp=Q.timestamp),Q},getFileDataAsTypedArray(C){return C.contents?C.contents.subarray?C.contents.subarray(0,C.usedBytes):new Uint8Array(C.contents):new Uint8Array(0)},expandFileStorage(C,D){var P=C.contents?C.contents.length:0;if(!(P>=D)){var V=1024*1024;D=Math.max(D,P*(P<V?2:1.125)>>>0),P!=0&&(D=Math.max(D,256));var Q=C.contents;C.contents=new Uint8Array(D),C.usedBytes>0&&C.contents.set(Q.subarray(0,C.usedBytes),0)}},resizeFileStorage(C,D){if(C.usedBytes!=D)if(D==0)C.contents=null,C.usedBytes=0;else{var P=C.contents;C.contents=new Uint8Array(D),P&&C.contents.set(P.subarray(0,Math.min(D,C.usedBytes))),C.usedBytes=D}},node_ops:{getattr(C){var D={};return D.dev=z.isChrdev(C.mode)?C.id:1,D.ino=C.id,D.mode=C.mode,D.nlink=1,D.uid=0,D.gid=0,D.rdev=C.rdev,z.isDir(C.mode)?D.size=4096:z.isFile(C.mode)?D.size=C.usedBytes:z.isLink(C.mode)?D.size=C.link.length:D.size=0,D.atime=new Date(C.timestamp),D.mtime=new Date(C.timestamp),D.ctime=new Date(C.timestamp),D.blksize=4096,D.blocks=Math.ceil(D.size/D.blksize),D},setattr(C,D){D.mode!==void 0&&(C.mode=D.mode),D.timestamp!==void 0&&(C.timestamp=D.timestamp),D.size!==void 0&&Ue.resizeFileStorage(C,D.size)},lookup(C,D){throw z.genericErrors[44]},mknod(C,D,P,V){return Ue.createNode(C,D,P,V)},rename(C,D,P){if(z.isDir(C.mode)){var V;try{V=z.lookupNode(D,P)}catch{}if(V)for(var Q in V.contents)throw new z.ErrnoError(55)}delete C.parent.contents[C.name],C.parent.timestamp=Date.now(),C.name=P,D.contents[P]=C,D.timestamp=C.parent.timestamp,C.parent=D},unlink(C,D){delete C.contents[D],C.timestamp=Date.now()},rmdir(C,D){var P=z.lookupNode(C,D);for(var V in P.contents)throw new z.ErrnoError(55);delete C.contents[D],C.timestamp=Date.now()},readdir(C){var D=[".",".."];for(var P in C.contents)C.contents.hasOwnProperty(P)&&D.push(P);return D},symlink(C,D,P){var V=Ue.createNode(C,D,41471,0);return V.link=P,V},readlink(C){if(!z.isLink(C.mode))throw new z.ErrnoError(28);return C.link}},stream_ops:{read(C,D,P,V,Q){var le=C.node.contents;if(Q>=C.node.usedBytes)return 0;var ue=Math.min(C.node.usedBytes-Q,V);if(ue>8&&le.subarray)D.set(le.subarray(Q,Q+ue),P);else for(var ve=0;ve<ue;ve++)D[P+ve]=le[Q+ve];return ue},write(C,D,P,V,Q,le){if(!V)return 0;var ue=C.node;if(ue.timestamp=Date.now(),D.subarray&&(!ue.contents||ue.contents.subarray)){if(le)return ue.contents=D.subarray(P,P+V),ue.usedBytes=V,V;if(ue.usedBytes===0&&Q===0)return ue.contents=D.slice(P,P+V),ue.usedBytes=V,V;if(Q+V<=ue.usedBytes)return ue.contents.set(D.subarray(P,P+V),Q),V}if(Ue.expandFileStorage(ue,Q+V),ue.contents.subarray&&D.subarray)ue.contents.set(D.subarray(P,P+V),Q);else for(var ve=0;ve<V;ve++)ue.contents[Q+ve]=D[P+ve];return ue.usedBytes=Math.max(ue.usedBytes,Q+V),V},llseek(C,D,P){var V=D;if(P===1?V+=C.position:P===2&&z.isFile(C.node.mode)&&(V+=C.node.usedBytes),V<0)throw new z.ErrnoError(28);return V},allocate(C,D,P){Ue.expandFileStorage(C.node,D+P),C.node.usedBytes=Math.max(C.node.usedBytes,D+P)},mmap(C,D,P,V,Q){if(!z.isFile(C.node.mode))throw new z.ErrnoError(43);var le,ue,ve=C.node.contents;if(!(Q&2)&&ve.buffer===f.buffer)ue=!1,le=ve.byteOffset;else{if((P>0||P+D<ve.length)&&(ve.subarray?ve=ve.subarray(P,P+D):ve=Array.prototype.slice.call(ve,P,P+D)),ue=!0,le=vt(D),!le)throw new z.ErrnoError(48);f.set(ve,le)}return{ptr:le,allocated:ue}},msync(C,D,P,V,Q){return Ue.stream_ops.write(C,D,0,V,P,!1),0}}},zt=(C,D,P,V)=>{var Q=V?"":`al ${C}`;o(C,le=>{_(le,`Loading data file "${C}" failed (no arrayBuffer).`),D(new Uint8Array(le)),Q&&Fe()},le=>{if(P)P();else throw`Loading data file "${C}" failed.`}),Q&&Ee()},Ht=b.preloadPlugins||[],W=(C,D,P,V)=>{typeof Browser<"u"&&Browser.init();var Q=!1;return Ht.forEach(le=>{Q||le.canHandle(D)&&(le.handle(C,D,P,V),Q=!0)}),Q},ht=(C,D,P,V,Q,le,ue,ve,Me,Ye)=>{var tt=D?Ke.resolve(Ce.join2(C,D)):C;function it(je){function qe(rt){Ye&&Ye(),ve||z.createDataFile(C,D,rt,V,Q,Me),le&&le(),Fe()}W(je,tt,qe,()=>{ue&&ue(),Fe()})||qe(je)}Ee(),typeof P=="string"?zt(P,je=>it(je),ue):it(P)},H=C=>{var D={r:0,"r+":2,w:577,"w+":578,a:1089,"a+":1090},P=D[C];if(typeof P>"u")throw new Error(`Unknown file open mode: ${C}`);return P},st=(C,D)=>{var P=0;return C&&(P|=365),D&&(P|=146),P},z={root:null,mounts:[],devices:{},streams:[],nextInode:1,nameTable:null,currentPath:"/",initialized:!1,ignorePermissions:!0,ErrnoError:null,genericErrors:{},filesystems:null,syncFSRequests:0,lookupPath(C,D={}){if(C=Ke.resolve(C),!C)return{path:"",node:null};var P={follow_mount:!0,recurse_count:0};if(D=Object.assign(P,D),D.recurse_count>8)throw new z.ErrnoError(32);for(var V=C.split("/").filter(it=>!!it),Q=z.root,le="/",ue=0;ue<V.length;ue++){var ve=ue===V.length-1;if(ve&&D.parent)break;if(Q=z.lookupNode(Q,V[ue]),le=Ce.join2(le,V[ue]),z.isMountpoint(Q)&&(!ve||ve&&D.follow_mount)&&(Q=Q.mounted.root),!ve||D.follow)for(var Me=0;z.isLink(Q.mode);){var Ye=z.readlink(le);le=Ke.resolve(Ce.dirname(le),Ye);var tt=z.lookupPath(le,{recurse_count:D.recurse_count+1});if(Q=tt.node,Me++>40)throw new z.ErrnoError(32)}}return{path:le,node:Q}},getPath(C){for(var D;;){if(z.isRoot(C)){var P=C.mount.mountpoint;return D?P[P.length-1]!=="/"?`${P}/${D}`:P+D:P}D=D?`${C.name}/${D}`:C.name,C=C.parent}},hashName(C,D){for(var P=0,V=0;V<D.length;V++)P=(P<<5)-P+D.charCodeAt(V)|0;return(C+P>>>0)%z.nameTable.length},hashAddNode(C){var D=z.hashName(C.parent.id,C.name);C.name_next=z.nameTable[D],z.nameTable[D]=C},hashRemoveNode(C){var D=z.hashName(C.parent.id,C.name);if(z.nameTable[D]===C)z.nameTable[D]=C.name_next;else for(var P=z.nameTable[D];P;){if(P.name_next===C){P.name_next=C.name_next;break}P=P.name_next}},lookupNode(C,D){var P=z.mayLookup(C);if(P)throw new z.ErrnoError(P,C);for(var V=z.hashName(C.id,D),Q=z.nameTable[V];Q;Q=Q.name_next){var le=Q.name;if(Q.parent.id===C.id&&le===D)return Q}return z.lookup(C,D)},createNode(C,D,P,V){var Q=new z.FSNode(C,D,P,V);return z.hashAddNode(Q),Q},destroyNode(C){z.hashRemoveNode(C)},isRoot(C){return C===C.parent},isMountpoint(C){return!!C.mounted},isFile(C){return(C&61440)===32768},isDir(C){return(C&61440)===16384},isLink(C){return(C&61440)===40960},isChrdev(C){return(C&61440)===8192},isBlkdev(C){return(C&61440)===24576},isFIFO(C){return(C&61440)===4096},isSocket(C){return(C&49152)===49152},flagsToPermissionString(C){var D=["r","w","rw"][C&3];return C&512&&(D+="w"),D},nodePermissions(C,D){return z.ignorePermissions?0:D.includes("r")&&!(C.mode&292)||D.includes("w")&&!(C.mode&146)||D.includes("x")&&!(C.mode&73)?2:0},mayLookup(C){var D=z.nodePermissions(C,"x");return D||(C.node_ops.lookup?0:2)},mayCreate(C,D){try{var P=z.lookupNode(C,D);return 20}catch{}return z.nodePermissions(C,"wx")},mayDelete(C,D,P){var V;try{V=z.lookupNode(C,D)}catch(le){return le.errno}var Q=z.nodePermissions(C,"wx");if(Q)return Q;if(P){if(!z.isDir(V.mode))return 54;if(z.isRoot(V)||z.getPath(V)===z.cwd())return 10}else if(z.isDir(V.mode))return 31;return 0},mayOpen(C,D){return C?z.isLink(C.mode)?32:z.isDir(C.mode)&&(z.flagsToPermissionString(D)!=="r"||D&512)?31:z.nodePermissions(C,z.flagsToPermissionString(D)):44},MAX_OPEN_FDS:4096,nextfd(){for(var C=0;C<=z.MAX_OPEN_FDS;C++)if(!z.streams[C])return C;throw new z.ErrnoError(33)},getStreamChecked(C){var D=z.getStream(C);if(!D)throw new z.ErrnoError(8);return D},getStream:C=>z.streams[C],createStream(C,D=-1){return z.FSStream||(z.FSStream=function(){this.shared={}},z.FSStream.prototype={},Object.defineProperties(z.FSStream.prototype,{object:{get(){return this.node},set(P){this.node=P}},isRead:{get(){return(this.flags&2097155)!==1}},isWrite:{get(){return(this.flags&2097155)!==0}},isAppend:{get(){return this.flags&1024}},flags:{get(){return this.shared.flags},set(P){this.shared.flags=P}},position:{get(){return this.shared.position},set(P){this.shared.position=P}}})),C=Object.assign(new z.FSStream,C),D==-1&&(D=z.nextfd()),C.fd=D,z.streams[D]=C,C},closeStream(C){z.streams[C]=null},chrdev_stream_ops:{open(C){var D=z.getDevice(C.node.rdev);C.stream_ops=D.stream_ops,C.stream_ops.open&&C.stream_ops.open(C)},llseek(){throw new z.ErrnoError(70)}},major:C=>C>>8,minor:C=>C&255,makedev:(C,D)=>C<<8|D,registerDevice(C,D){z.devices[C]={stream_ops:D}},getDevice:C=>z.devices[C],getMounts(C){for(var D=[],P=[C];P.length;){var V=P.pop();D.push(V),P.push.apply(P,V.mounts)}return D},syncfs(C,D){typeof C=="function"&&(D=C,C=!1),z.syncFSRequests++,z.syncFSRequests>1&&p(`warning: ${z.syncFSRequests} FS.syncfs operations in flight at once, probably just doing extra work`);var P=z.getMounts(z.root.mount),V=0;function Q(ue){return z.syncFSRequests--,D(ue)}function le(ue){if(ue)return le.errored?void 0:(le.errored=!0,Q(ue));++V>=P.length&&Q(null)}P.forEach(ue=>{if(!ue.type.syncfs)return le(null);ue.type.syncfs(ue,C,le)})},mount(C,D,P){var V=P==="/",Q=!P,le;if(V&&z.root)throw new z.ErrnoError(10);if(!V&&!Q){var ue=z.lookupPath(P,{follow_mount:!1});if(P=ue.path,le=ue.node,z.isMountpoint(le))throw new z.ErrnoError(10);if(!z.isDir(le.mode))throw new z.ErrnoError(54)}var ve={type:C,opts:D,mountpoint:P,mounts:[]},Me=C.mount(ve);return Me.mount=ve,ve.root=Me,V?z.root=Me:le&&(le.mounted=ve,le.mount&&le.mount.mounts.push(ve)),Me},unmount(C){var D=z.lookupPath(C,{follow_mount:!1});if(!z.isMountpoint(D.node))throw new z.ErrnoError(28);var P=D.node,V=P.mounted,Q=z.getMounts(V);Object.keys(z.nameTable).forEach(ue=>{for(var ve=z.nameTable[ue];ve;){var Me=ve.name_next;Q.includes(ve.mount)&&z.destroyNode(ve),ve=Me}}),P.mounted=null;var le=P.mount.mounts.indexOf(V);P.mount.mounts.splice(le,1)},lookup(C,D){return C.node_ops.lookup(C,D)},mknod(C,D,P){var V=z.lookupPath(C,{parent:!0}),Q=V.node,le=Ce.basename(C);if(!le||le==="."||le==="..")throw new z.ErrnoError(28);var ue=z.mayCreate(Q,le);if(ue)throw new z.ErrnoError(ue);if(!Q.node_ops.mknod)throw new z.ErrnoError(63);return Q.node_ops.mknod(Q,le,D,P)},create(C,D){return D=D!==void 0?D:438,D&=4095,D|=32768,z.mknod(C,D,0)},mkdir(C,D){return D=D!==void 0?D:511,D&=1023,D|=16384,z.mknod(C,D,0)},mkdirTree(C,D){for(var P=C.split("/"),V="",Q=0;Q<P.length;++Q)if(P[Q]){V+="/"+P[Q];try{z.mkdir(V,D)}catch(le){if(le.errno!=20)throw le}}},mkdev(C,D,P){return typeof P>"u"&&(P=D,D=438),D|=8192,z.mknod(C,D,P)},symlink(C,D){if(!Ke.resolve(C))throw new z.ErrnoError(44);var P=z.lookupPath(D,{parent:!0}),V=P.node;if(!V)throw new z.ErrnoError(44);var Q=Ce.basename(D),le=z.mayCreate(V,Q);if(le)throw new z.ErrnoError(le);if(!V.node_ops.symlink)throw new z.ErrnoError(63);return V.node_ops.symlink(V,Q,C)},rename(C,D){var P=Ce.dirname(C),V=Ce.dirname(D),Q=Ce.basename(C),le=Ce.basename(D),ue,ve,Me;if(ue=z.lookupPath(C,{parent:!0}),ve=ue.node,ue=z.lookupPath(D,{parent:!0}),Me=ue.node,!ve||!Me)throw new z.ErrnoError(44);if(ve.mount!==Me.mount)throw new z.ErrnoError(75);var Ye=z.lookupNode(ve,Q),tt=Ke.relative(C,V);if(tt.charAt(0)!==".")throw new z.ErrnoError(28);if(tt=Ke.relative(D,P),tt.charAt(0)!==".")throw new z.ErrnoError(55);var it;try{it=z.lookupNode(Me,le)}catch{}if(Ye!==it){var je=z.isDir(Ye.mode),qe=z.mayDelete(ve,Q,je);if(qe)throw new z.ErrnoError(qe);if(qe=it?z.mayDelete(Me,le,je):z.mayCreate(Me,le),qe)throw new z.ErrnoError(qe);if(!ve.node_ops.rename)throw new z.ErrnoError(63);if(z.isMountpoint(Ye)||it&&z.isMountpoint(it))throw new z.ErrnoError(10);if(Me!==ve&&(qe=z.nodePermissions(ve,"w"),qe))throw new z.ErrnoError(qe);z.hashRemoveNode(Ye);try{ve.node_ops.rename(Ye,Me,le)}catch(rt){throw rt}finally{z.hashAddNode(Ye)}}},rmdir(C){var D=z.lookupPath(C,{parent:!0}),P=D.node,V=Ce.basename(C),Q=z.lookupNode(P,V),le=z.mayDelete(P,V,!0);if(le)throw new z.ErrnoError(le);if(!P.node_ops.rmdir)throw new z.ErrnoError(63);if(z.isMountpoint(Q))throw new z.ErrnoError(10);P.node_ops.rmdir(P,V),z.destroyNode(Q)},readdir(C){var D=z.lookupPath(C,{follow:!0}),P=D.node;if(!P.node_ops.readdir)throw new z.ErrnoError(54);return P.node_ops.readdir(P)},unlink(C){var D=z.lookupPath(C,{parent:!0}),P=D.node;if(!P)throw new z.ErrnoError(44);var V=Ce.basename(C),Q=z.lookupNode(P,V),le=z.mayDelete(P,V,!1);if(le)throw new z.ErrnoError(le);if(!P.node_ops.unlink)throw new z.ErrnoError(63);if(z.isMountpoint(Q))throw new z.ErrnoError(10);P.node_ops.unlink(P,V),z.destroyNode(Q)},readlink(C){var D=z.lookupPath(C),P=D.node;if(!P)throw new z.ErrnoError(44);if(!P.node_ops.readlink)throw new z.ErrnoError(28);return Ke.resolve(z.getPath(P.parent),P.node_ops.readlink(P))},stat(C,D){var P=z.lookupPath(C,{follow:!D}),V=P.node;if(!V)throw new z.ErrnoError(44);if(!V.node_ops.getattr)throw new z.ErrnoError(63);return V.node_ops.getattr(V)},lstat(C){return z.stat(C,!0)},chmod(C,D,P){var V;if(typeof C=="string"){var Q=z.lookupPath(C,{follow:!P});V=Q.node}else V=C;if(!V.node_ops.setattr)throw new z.ErrnoError(63);V.node_ops.setattr(V,{mode:D&4095|V.mode&-4096,timestamp:Date.now()})},lchmod(C,D){z.chmod(C,D,!0)},fchmod(C,D){var P=z.getStreamChecked(C);z.chmod(P.node,D)},chown(C,D,P,V){var Q;if(typeof C=="string"){var le=z.lookupPath(C,{follow:!V});Q=le.node}else Q=C;if(!Q.node_ops.setattr)throw new z.ErrnoError(63);Q.node_ops.setattr(Q,{timestamp:Date.now()})},lchown(C,D,P){z.chown(C,D,P,!0)},fchown(C,D,P){var V=z.getStreamChecked(C);z.chown(V.node,D,P)},truncate(C,D){if(D<0)throw new z.ErrnoError(28);var P;if(typeof C=="string"){var V=z.lookupPath(C,{follow:!0});P=V.node}else P=C;if(!P.node_ops.setattr)throw new z.ErrnoError(63);if(z.isDir(P.mode))throw new z.ErrnoError(31);if(!z.isFile(P.mode))throw new z.ErrnoError(28);var Q=z.nodePermissions(P,"w");if(Q)throw new z.ErrnoError(Q);P.node_ops.setattr(P,{size:D,timestamp:Date.now()})},ftruncate(C,D){var P=z.getStreamChecked(C);if(!(P.flags&2097155))throw new z.ErrnoError(28);z.truncate(P.node,D)},utime(C,D,P){var V=z.lookupPath(C,{follow:!0}),Q=V.node;Q.node_ops.setattr(Q,{timestamp:Math.max(D,P)})},open(C,D,P){if(C==="")throw new z.ErrnoError(44);D=typeof D=="string"?H(D):D,P=typeof P>"u"?438:P,D&64?P=P&4095|32768:P=0;var V;if(typeof C=="object")V=C;else{C=Ce.normalize(C);try{var Q=z.lookupPath(C,{follow:!(D&131072)});V=Q.node}catch{}}var le=!1;if(D&64)if(V){if(D&128)throw new z.ErrnoError(20)}else V=z.mknod(C,P,0),le=!0;if(!V)throw new z.ErrnoError(44);if(z.isChrdev(V.mode)&&(D&=-513),D&65536&&!z.isDir(V.mode))throw new z.ErrnoError(54);if(!le){var ue=z.mayOpen(V,D);if(ue)throw new z.ErrnoError(ue)}D&512&&!le&&z.truncate(V,0),D&=-131713;var ve=z.createStream({node:V,path:z.getPath(V),flags:D,seekable:!0,position:0,stream_ops:V.stream_ops,ungotten:[],error:!1});return ve.stream_ops.open&&ve.stream_ops.open(ve),b.logReadFiles&&!(D&1)&&(z.readFiles||(z.readFiles={}),C in z.readFiles||(z.readFiles[C]=1)),ve},close(C){if(z.isClosed(C))throw new z.ErrnoError(8);C.getdents&&(C.getdents=null);try{C.stream_ops.close&&C.stream_ops.close(C)}catch(D){throw D}finally{z.closeStream(C.fd)}C.fd=null},isClosed(C){return C.fd===null},llseek(C,D,P){if(z.isClosed(C))throw new z.ErrnoError(8);if(!C.seekable||!C.stream_ops.llseek)throw new z.ErrnoError(70);if(P!=0&&P!=1&&P!=2)throw new z.ErrnoError(28);return C.position=C.stream_ops.llseek(C,D,P),C.ungotten=[],C.position},read(C,D,P,V,Q){if(V<0||Q<0)throw new z.ErrnoError(28);if(z.isClosed(C))throw new z.ErrnoError(8);if((C.flags&2097155)===1)throw new z.ErrnoError(8);if(z.isDir(C.node.mode))throw new z.ErrnoError(31);if(!C.stream_ops.read)throw new z.ErrnoError(28);var le=typeof Q<"u";if(!le)Q=C.position;else if(!C.seekable)throw new z.ErrnoError(70);var ue=C.stream_ops.read(C,D,P,V,Q);return le||(C.position+=ue),ue},write(C,D,P,V,Q,le){if(V<0||Q<0)throw new z.ErrnoError(28);if(z.isClosed(C))throw new z.ErrnoError(8);if(!(C.flags&2097155))throw new z.ErrnoError(8);if(z.isDir(C.node.mode))throw new z.ErrnoError(31);if(!C.stream_ops.write)throw new z.ErrnoError(28);C.seekable&&C.flags&1024&&z.llseek(C,0,2);var ue=typeof Q<"u";if(!ue)Q=C.position;else if(!C.seekable)throw new z.ErrnoError(70);var ve=C.stream_ops.write(C,D,P,V,Q,le);return ue||(C.position+=ve),ve},allocate(C,D,P){if(z.isClosed(C))throw new z.ErrnoError(8);if(D<0||P<=0)throw new z.ErrnoError(28);if(!(C.flags&2097155))throw new z.ErrnoError(8);if(!z.isFile(C.node.mode)&&!z.isDir(C.node.mode))throw new z.ErrnoError(43);if(!C.stream_ops.allocate)throw new z.ErrnoError(138);C.stream_ops.allocate(C,D,P)},mmap(C,D,P,V,Q){if(V&2&&!(Q&2)&&(C.flags&2097155)!==2)throw new z.ErrnoError(2);if((C.flags&2097155)===1)throw new z.ErrnoError(2);if(!C.stream_ops.mmap)throw new z.ErrnoError(43);return C.stream_ops.mmap(C,D,P,V,Q)},msync(C,D,P,V,Q){return C.stream_ops.msync?C.stream_ops.msync(C,D,P,V,Q):0},munmap:C=>0,ioctl(C,D,P){if(!C.stream_ops.ioctl)throw new z.ErrnoError(59);return C.stream_ops.ioctl(C,D,P)},readFile(C,D={}){if(D.flags=D.flags||0,D.encoding=D.encoding||"binary",D.encoding!=="utf8"&&D.encoding!=="binary")throw new Error(`Invalid encoding type "${D.encoding}"`);var P,V=z.open(C,D.flags),Q=z.stat(C),le=Q.size,ue=new Uint8Array(le);return z.read(V,ue,0,le,0),D.encoding==="utf8"?P=xe(ue,0):D.encoding==="binary"&&(P=ue),z.close(V),P},writeFile(C,D,P={}){P.flags=P.flags||577;var V=z.open(C,P.flags,P.mode);if(typeof D=="string"){var Q=new Uint8Array(oe(D)+1),le=_e(D,Q,0,Q.length);z.write(V,Q,0,le,void 0,P.canOwn)}else if(ArrayBuffer.isView(D))z.write(V,D,0,D.byteLength,void 0,P.canOwn);else throw new Error("Unsupported data type");z.close(V)},cwd:()=>z.currentPath,chdir(C){var D=z.lookupPath(C,{follow:!0});if(D.node===null)throw new z.ErrnoError(44);if(!z.isDir(D.node.mode))throw new z.ErrnoError(54);var P=z.nodePermissions(D.node,"x");if(P)throw new z.ErrnoError(P);z.currentPath=D.path},createDefaultDirectories(){z.mkdir("/tmp"),z.mkdir("/home"),z.mkdir("/home/web_user")},createDefaultDevices(){z.mkdir("/dev"),z.registerDevice(z.makedev(1,3),{read:()=>0,write:(V,Q,le,ue,ve)=>ue}),z.mkdev("/dev/null",z.makedev(1,3)),De.register(z.makedev(5,0),De.default_tty_ops),De.register(z.makedev(6,0),De.default_tty1_ops),z.mkdev("/dev/tty",z.makedev(5,0)),z.mkdev("/dev/tty1",z.makedev(6,0));var C=new Uint8Array(1024),D=0,P=()=>(D===0&&(D=Te(C).byteLength),C[--D]);z.createDevice("/dev","random",P),z.createDevice("/dev","urandom",P),z.mkdir("/dev/shm"),z.mkdir("/dev/shm/tmp")},createSpecialDirectories(){z.mkdir("/proc");var C=z.mkdir("/proc/self");z.mkdir("/proc/self/fd"),z.mount({mount(){var D=z.createNode(C,"fd",16895,73);return D.node_ops={lookup(P,V){var Q=+V,le=z.getStreamChecked(Q),ue={parent:null,mount:{mountpoint:"fake"},node_ops:{readlink:()=>le.path}};return ue.parent=ue,ue}},D}},{},"/proc/self/fd")},createStandardStreams(){b.stdin?z.createDevice("/dev","stdin",b.stdin):z.symlink("/dev/tty","/dev/stdin"),b.stdout?z.createDevice("/dev","stdout",null,b.stdout):z.symlink("/dev/tty","/dev/stdout"),b.stderr?z.createDevice("/dev","stderr",null,b.stderr):z.symlink("/dev/tty1","/dev/stderr"),z.open("/dev/stdin",0),z.open("/dev/stdout",1),z.open("/dev/stderr",1)},ensureErrnoError(){z.ErrnoError||(z.ErrnoError=function(D,P){this.name="ErrnoError",this.node=P,this.setErrno=function(V){this.errno=V},this.setErrno(D),this.message="FS error"},z.ErrnoError.prototype=new Error,z.ErrnoError.prototype.constructor=z.ErrnoError,[44].forEach(C=>{z.genericErrors[C]=new z.ErrnoError(C),z.genericErrors[C].stack="<generic error, no stack>"}))},staticInit(){z.ensureErrnoError(),z.nameTable=new Array(4096),z.mount(Ue,{},"/"),z.createDefaultDirectories(),z.createDefaultDevices(),z.createSpecialDirectories(),z.filesystems={MEMFS:Ue}},init(C,D,P){z.init.initialized=!0,z.ensureErrnoError(),b.stdin=C||b.stdin,b.stdout=D||b.stdout,b.stderr=P||b.stderr,z.createStandardStreams()},quit(){z.init.initialized=!1;for(var C=0;C<z.streams.length;C++){var D=z.streams[C];D&&z.close(D)}},findObject(C,D){var P=z.analyzePath(C,D);return P.exists?P.object:null},analyzePath(C,D){try{var P=z.lookupPath(C,{follow:!D});C=P.path}catch{}var V={isRoot:!1,exists:!1,error:0,name:null,path:null,object:null,parentExists:!1,parentPath:null,parentObject:null};try{var P=z.lookupPath(C,{parent:!0});V.parentExists=!0,V.parentPath=P.path,V.parentObject=P.node,V.name=Ce.basename(C),P=z.lookupPath(C,{follow:!D}),V.exists=!0,V.path=P.path,V.object=P.node,V.name=P.node.name,V.isRoot=P.path==="/"}catch(Q){V.error=Q.errno}return V},createPath(C,D,P,V){C=typeof C=="string"?C:z.getPath(C);for(var Q=D.split("/").reverse();Q.length;){var le=Q.pop();if(le){var ue=Ce.join2(C,le);try{z.mkdir(ue)}catch{}C=ue}}return ue},createFile(C,D,P,V,Q){var le=Ce.join2(typeof C=="string"?C:z.getPath(C),D),ue=st(V,Q);return z.create(le,ue)},createDataFile(C,D,P,V,Q,le){var ue=D;C&&(C=typeof C=="string"?C:z.getPath(C),ue=D?Ce.join2(C,D):C);var ve=st(V,Q),Me=z.create(ue,ve);if(P){if(typeof P=="string"){for(var Ye=new Array(P.length),tt=0,it=P.length;tt<it;++tt)Ye[tt]=P.charCodeAt(tt);P=Ye}z.chmod(Me,ve|146);var je=z.open(Me,577);z.write(je,P,0,P.length,0,le),z.close(je),z.chmod(Me,ve)}return Me},createDevice(C,D,P,V){var Q=Ce.join2(typeof C=="string"?C:z.getPath(C),D),le=st(!!P,!!V);z.createDevice.major||(z.createDevice.major=64);var ue=z.makedev(z.createDevice.major++,0);return z.registerDevice(ue,{open(ve){ve.seekable=!1},close(ve){V&&V.buffer&&V.buffer.length&&V(10)},read(ve,Me,Ye,tt,it){for(var je=0,qe=0;qe<tt;qe++){var rt;try{rt=P()}catch{throw new z.ErrnoError(29)}if(rt===void 0&&je===0)throw new z.ErrnoError(6);if(rt==null)break;je++,Me[Ye+qe]=rt}return je&&(ve.node.timestamp=Date.now()),je},write(ve,Me,Ye,tt,it){for(var je=0;je<tt;je++)try{V(Me[Ye+je])}catch{throw new z.ErrnoError(29)}return tt&&(ve.node.timestamp=Date.now()),je}}),z.mkdev(Q,le,ue)},forceLoadFile(C){if(C.isDevice||C.isFolder||C.link||C.contents)return!0;if(typeof XMLHttpRequest<"u")throw new Error("Lazy loading should have been performed (contents set) in createLazyFile, but it was not. Lazy loading only works in web workers. Use --embed-file or --preload-file in emcc on the main thread.");if(i)try{C.contents=He(i(C.url),!0),C.usedBytes=C.contents.length}catch{throw new z.ErrnoError(29)}else throw new Error("Cannot load without read() or XMLHttpRequest.")},createLazyFile(C,D,P,V,Q){function le(){this.lengthKnown=!1,this.chunks=[]}if(le.prototype.get=function(qe){if(!(qe>this.length-1||qe<0)){var rt=qe%this.chunkSize,yt=qe/this.chunkSize|0;return this.getter(yt)[rt]}},le.prototype.setDataGetter=function(qe){this.getter=qe},le.prototype.cacheLength=function(){var qe=new XMLHttpRequest;if(qe.open("HEAD",P,!1),qe.send(null),!(qe.status>=200&&qe.status<300||qe.status===304))throw new Error("Couldn't load "+P+". Status: "+qe.status);var rt=Number(qe.getResponseHeader("Content-length")),yt,$t=(yt=qe.getResponseHeader("Accept-Ranges"))&&yt==="bytes",kt=(yt=qe.getResponseHeader("Content-Encoding"))&&yt==="gzip",Ae=1024*1024;$t||(Ae=rt);var Ge=(ft,Lt)=>{if(ft>Lt)throw new Error("invalid range ("+ft+", "+Lt+") or no bytes requested!");if(Lt>rt-1)throw new Error("only "+rt+" bytes available! programmer error!");var wt=new XMLHttpRequest;if(wt.open("GET",P,!1),rt!==Ae&&wt.setRequestHeader("Range","bytes="+ft+"-"+Lt),wt.responseType="arraybuffer",wt.overrideMimeType&&wt.overrideMimeType("text/plain; charset=x-user-defined"),wt.send(null),!(wt.status>=200&&wt.status<300||wt.status===304))throw new Error("Couldn't load "+P+". Status: "+wt.status);return wt.response!==void 0?new Uint8Array(wt.response||[]):He(wt.responseText||"",!0)},bt=this;bt.setDataGetter(ft=>{var Lt=ft*Ae,wt=(ft+1)*Ae-1;if(wt=Math.min(wt,rt-1),typeof bt.chunks[ft]>"u"&&(bt.chunks[ft]=Ge(Lt,wt)),typeof bt.chunks[ft]>"u")throw new Error("doXHR failed!");return bt.chunks[ft]}),(kt||!rt)&&(Ae=rt=1,rt=this.getter(0).length,Ae=rt,h("LazyFiles on gzip forces download of the whole file when length is accessed")),this._length=rt,this._chunkSize=Ae,this.lengthKnown=!0},typeof XMLHttpRequest<"u"){throw"Cannot do synchronous binary XHRs outside webworkers in modern browsers. Use --embed-file or --preload-file in emcc";var ue,ve}else var ve={isDevice:!1,url:P};var Me=z.createFile(C,D,ve,V,Q);ve.contents?Me.contents=ve.contents:ve.url&&(Me.contents=null,Me.url=ve.url),Object.defineProperties(Me,{usedBytes:{get:function(){return this.contents.length}}});var Ye={},tt=Object.keys(Me.stream_ops);tt.forEach(je=>{var qe=Me.stream_ops[je];Ye[je]=function(){return z.forceLoadFile(Me),qe.apply(null,arguments)}});function it(je,qe,rt,yt,$t){var kt=je.node.contents;if($t>=kt.length)return 0;var Ae=Math.min(kt.length-$t,yt);if(kt.slice)for(var Ge=0;Ge<Ae;Ge++)qe[rt+Ge]=kt[$t+Ge];else for(var Ge=0;Ge<Ae;Ge++)qe[rt+Ge]=kt.get($t+Ge);return Ae}return Ye.read=(je,qe,rt,yt,$t)=>(z.forceLoadFile(Me),it(je,qe,rt,yt,$t)),Ye.mmap=(je,qe,rt,yt,$t)=>{z.forceLoadFile(Me);var kt=vt(qe);if(!kt)throw new z.ErrnoError(48);return it(je,f,kt,qe,rt),{ptr:kt,allocated:!0}},Me.stream_ops=Ye,Me}},nt={DEFAULT_POLLMASK:5,calculateAt(C,D,P){if(Ce.isAbs(D))return D;var V;if(C===-100)V=z.cwd();else{var Q=nt.getStreamFromFD(C);V=Q.path}if(D.length==0){if(!P)throw new z.ErrnoError(44);return V}return Ce.join2(V,D)},doStat(C,D,P){try{var V=C(D)}catch(ve){if(ve&&ve.node&&Ce.normalize(D)!==Ce.normalize(z.getPath(ve.node)))return-54;throw ve}w[P>>2]=V.dev,w[P+4>>2]=V.mode,k[P+8>>2]=V.nlink,w[P+12>>2]=V.uid,w[P+16>>2]=V.gid,w[P+20>>2]=V.rdev,re=[V.size>>>0,(Z=V.size,+Math.abs(Z)>=1?Z>0?+Math.floor(Z/4294967296)>>>0:~~+Math.ceil((Z-+(~~Z>>>0))/4294967296)>>>0:0)],w[P+24>>2]=re[0],w[P+28>>2]=re[1],w[P+32>>2]=4096,w[P+36>>2]=V.blocks;var Q=V.atime.getTime(),le=V.mtime.getTime(),ue=V.ctime.getTime();return re=[Math.floor(Q/1e3)>>>0,(Z=Math.floor(Q/1e3),+Math.abs(Z)>=1?Z>0?+Math.floor(Z/4294967296)>>>0:~~+Math.ceil((Z-+(~~Z>>>0))/4294967296)>>>0:0)],w[P+40>>2]=re[0],w[P+44>>2]=re[1],k[P+48>>2]=Q%1e3*1e3,re=[Math.floor(le/1e3)>>>0,(Z=Math.floor(le/1e3),+Math.abs(Z)>=1?Z>0?+Math.floor(Z/4294967296)>>>0:~~+Math.ceil((Z-+(~~Z>>>0))/4294967296)>>>0:0)],w[P+56>>2]=re[0],w[P+60>>2]=re[1],k[P+64>>2]=le%1e3*1e3,re=[Math.floor(ue/1e3)>>>0,(Z=Math.floor(ue/1e3),+Math.abs(Z)>=1?Z>0?+Math.floor(Z/4294967296)>>>0:~~+Math.ceil((Z-+(~~Z>>>0))/4294967296)>>>0:0)],w[P+72>>2]=re[0],w[P+76>>2]=re[1],k[P+80>>2]=ue%1e3*1e3,re=[V.ino>>>0,(Z=V.ino,+Math.abs(Z)>=1?Z>0?+Math.floor(Z/4294967296)>>>0:~~+Math.ceil((Z-+(~~Z>>>0))/4294967296)>>>0:0)],w[P+88>>2]=re[0],w[P+92>>2]=re[1],0},doMsync(C,D,P,V,Q){if(!z.isFile(D.node.mode))throw new z.ErrnoError(43);if(V&2)return 0;var le=v.slice(C,C+P);z.msync(D,le,Q,P,V)},varargs:void 0,get(){var C=w[nt.varargs>>2];return nt.varargs+=4,C},getp(){return nt.get()},getStr(C){var D=Pe(C);return D},getStreamFromFD(C){var D=z.getStreamChecked(C);return D}};function er(C,D,P){nt.varargs=P;try{var V=nt.getStreamFromFD(C);switch(D){case 0:{var Q=nt.get();if(Q<0)return-28;for(;z.streams[Q];)Q++;var le;return le=z.createStream(V,Q),le.fd}case 1:case 2:return 0;case 3:return V.flags;case 4:{var Q=nt.get();return V.flags|=Q,0}case 5:{var Q=nt.getp(),ue=0;return l[Q+ue>>1]=2,0}case 6:case 7:return 0;case 16:case 8:return-28;case 9:return Xe(28),-1;default:return-28}}catch(ve){if(typeof z>"u"||ve.name!=="ErrnoError")throw ve;return-ve.errno}}function tr(C,D,P){nt.varargs=P;try{var V=nt.getStreamFromFD(C);switch(D){case 21509:return V.tty?0:-59;case 21505:{if(!V.tty)return-59;if(V.tty.ops.ioctl_tcgets){var Q=V.tty.ops.ioctl_tcgets(V),le=nt.getp();w[le>>2]=Q.c_iflag||0,w[le+4>>2]=Q.c_oflag||0,w[le+8>>2]=Q.c_cflag||0,w[le+12>>2]=Q.c_lflag||0;for(var ue=0;ue<32;ue++)f[le+ue+17>>0]=Q.c_cc[ue]||0;return 0}return 0}case 21510:case 21511:case 21512:return V.tty?0:-59;case 21506:case 21507:case 21508:{if(!V.tty)return-59;if(V.tty.ops.ioctl_tcsets){for(var le=nt.getp(),ve=w[le>>2],Me=w[le+4>>2],Ye=w[le+8>>2],tt=w[le+12>>2],it=[],ue=0;ue<32;ue++)it.push(f[le+ue+17>>0]);return V.tty.ops.ioctl_tcsets(V.tty,D,{c_iflag:ve,c_oflag:Me,c_cflag:Ye,c_lflag:tt,c_cc:it})}return 0}case 21519:{if(!V.tty)return-59;var le=nt.getp();return w[le>>2]=0,0}case 21520:return V.tty?-28:-59;case 21531:{var le=nt.getp();return z.ioctl(V,D,le)}case 21523:{if(!V.tty)return-59;if(V.tty.ops.ioctl_tiocgwinsz){var je=V.tty.ops.ioctl_tiocgwinsz(V.tty),le=nt.getp();l[le>>1]=je[0],l[le+2>>1]=je[1]}return 0}case 21524:return V.tty?0:-59;case 21515:return V.tty?0:-59;default:return-28}}catch(qe){if(typeof z>"u"||qe.name!=="ErrnoError")throw qe;return-qe.errno}}function rr(C,D,P,V){nt.varargs=V;try{D=nt.getStr(D),D=nt.calculateAt(C,D);var Q=V?nt.get():0;return z.open(D,P,Q).fd}catch(le){if(typeof z>"u"||le.name!=="ErrnoError")throw le;return-le.errno}}function nr(C,D){try{return C=nt.getStr(C),nt.doStat(z.stat,C,D)}catch(P){if(typeof z>"u"||P.name!=="ErrnoError")throw P;return-P.errno}}var Mt=(C,D)=>D+2097152>>>0<4194305-!!C?(C>>>0)+D*4294967296:NaN;function jt(C,D,P){var V=Mt(C,D),Q=new Date(V*1e3);w[P>>2]=Q.getUTCSeconds(),w[P+4>>2]=Q.getUTCMinutes(),w[P+8>>2]=Q.getUTCHours(),w[P+12>>2]=Q.getUTCDate(),w[P+16>>2]=Q.getUTCMonth(),w[P+20>>2]=Q.getUTCFullYear()-1900,w[P+24>>2]=Q.getUTCDay();var le=Date.UTC(Q.getUTCFullYear(),0,1,0,0,0,0),ue=(Q.getTime()-le)/(1e3*60*60*24)|0;w[P+28>>2]=ue}var Ft=C=>C%4===0&&(C%100!==0||C%400===0),ir=[0,31,60,91,121,152,182,213,244,274,305,335],or=[0,31,59,90,120,151,181,212,243,273,304,334],sr=C=>{var D=Ft(C.getFullYear()),P=D?ir:or,V=P[C.getMonth()]+C.getDate()-1;return V};function ar(C,D,P){var V=Mt(C,D),Q=new Date(V*1e3);w[P>>2]=Q.getSeconds(),w[P+4>>2]=Q.getMinutes(),w[P+8>>2]=Q.getHours(),w[P+12>>2]=Q.getDate(),w[P+16>>2]=Q.getMonth(),w[P+20>>2]=Q.getFullYear()-1900,w[P+24>>2]=Q.getDay();var le=sr(Q)|0;w[P+28>>2]=le,w[P+36>>2]=-(Q.getTimezoneOffset()*60);var ue=new Date(Q.getFullYear(),0,1),ve=new Date(Q.getFullYear(),6,1).getTimezoneOffset(),Me=ue.getTimezoneOffset(),Ye=(ve!=Me&&Q.getTimezoneOffset()==Math.min(Me,ve))|0;w[P+32>>2]=Ye}function lr(C,D,P,V,Q,le,ue,ve){var Me=Mt(Q,le);try{if(isNaN(Me))return 61;var Ye=nt.getStreamFromFD(V),tt=z.mmap(Ye,C,Me,D,P),it=tt.ptr;return w[ue>>2]=tt.allocated,k[ve>>2]=it,0}catch(je){if(typeof z>"u"||je.name!=="ErrnoError")throw je;return-je.errno}}function cr(C,D,P,V,Q,le,ue){var ve=Mt(le,ue);try{if(isNaN(ve))return 61;var Me=nt.getStreamFromFD(Q);P&2&&nt.doMsync(C,Me,D,V,ve),z.munmap(Me)}catch(Ye){if(typeof z>"u"||Ye.name!=="ErrnoError")throw Ye;return-Ye.errno}}var Kt=(C,D,P)=>_e(C,v,D,P),qt=C=>{var D=oe(C)+1,P=dt(D);return P&&Kt(C,P,D),P},hr=(C,D,P)=>{var V=new Date().getFullYear(),Q=new Date(V,0,1),le=new Date(V,6,1),ue=Q.getTimezoneOffset(),ve=le.getTimezoneOffset(),Me=Math.max(ue,ve);k[C>>2]=Me*60,w[D>>2]=+(ue!=ve);function Ye(rt){var yt=rt.toTimeString().match(/\(([A-Za-z ]+)\)$/);return yt?yt[1]:"GMT"}var tt=Ye(Q),it=Ye(le),je=qt(tt),qe=qt(it);ve<ue?(k[P>>2]=je,k[P+4>>2]=qe):(k[P>>2]=qe,k[P+4>>2]=je)},Yt=()=>Date.now(),Dt=(C,D,P)=>v.copyWithin(C,D,D+P),Rt=C=>{Ve("OOM")},Wt=C=>{v.length,Rt()},Ct={},At=()=>a||"./this.program",xt=()=>{if(!xt.strings){var C=(typeof navigator=="object"&&navigator.languages&&navigator.languages[0]||"C").replace("-","_")+".UTF-8",D={USER:"web_user",LOGNAME:"web_user",PATH:"/",PWD:"/",HOME:"/home/web_user",LANG:C,_:At()};for(var P in Ct)Ct[P]===void 0?delete D[P]:D[P]=Ct[P];var V=[];for(var P in D)V.push(`${P}=${D[P]}`);xt.strings=V}return xt.strings},Ot=(C,D)=>{for(var P=0;P<C.length;++P)f[D++>>0]=C.charCodeAt(P);f[D>>0]=0},Ut=(C,D)=>{var P=0;return xt().forEach((V,Q)=>{var le=D+P;k[C+Q*4>>2]=le,Ot(V,le),P+=V.length+1}),0},Bt=(C,D)=>{var P=xt();k[C>>2]=P.length;var V=0;return P.forEach(Q=>V+=Q.length+1),k[D>>2]=V,0},Xt=C=>{g=C,X()||(b.onExit&&b.onExit(C),s=!0),t(C,new we(C))},$=(C,D)=>{g=C,Xt(C)},O=$;function u(C){try{var D=nt.getStreamFromFD(C);return z.close(D),0}catch(P){if(typeof z>"u"||P.name!=="ErrnoError")throw P;return P.errno}}var S=(C,D,P,V)=>{for(var Q=0,le=0;le<P;le++){var ue=k[D>>2],ve=k[D+4>>2];D+=8;var Me=z.read(C,f,ue,ve,V);if(Me<0)return-1;if(Q+=Me,Me<ve)break;typeof V<"u"&&(V+=Me)}return Q};function M(C,D,P,V){try{var Q=nt.getStreamFromFD(C),le=S(Q,D,P);return k[V>>2]=le,0}catch(ue){if(typeof z>"u"||ue.name!=="ErrnoError")throw ue;return ue.errno}}function B(C,D,P,V,Q){var le=Mt(D,P);try{if(isNaN(le))return 61;var ue=nt.getStreamFromFD(C);return z.llseek(ue,le,V),re=[ue.position>>>0,(Z=ue.position,+Math.abs(Z)>=1?Z>0?+Math.floor(Z/4294967296)>>>0:~~+Math.ceil((Z-+(~~Z>>>0))/4294967296)>>>0:0)],w[Q>>2]=re[0],w[Q+4>>2]=re[1],ue.getdents&&le===0&&V===0&&(ue.getdents=null),0}catch(ve){if(typeof z>"u"||ve.name!=="ErrnoError")throw ve;return ve.errno}}var U=(C,D,P,V)=>{for(var Q=0,le=0;le<P;le++){var ue=k[D>>2],ve=k[D+4>>2];D+=8;var Me=z.write(C,f,ue,ve,V);if(Me<0)return-1;Q+=Me,typeof V<"u"&&(V+=Me)}return Q};function K(C,D,P,V){try{var Q=nt.getStreamFromFD(C),le=U(Q,D,P);return k[V>>2]=le,0}catch(ue){if(typeof z>"u"||ue.name!=="ErrnoError")throw ue;return ue.errno}}var se=(C,D)=>{for(var P=0,V=0;V<=D;P+=C[V++]);return P},de=[31,29,31,30,31,30,31,31,30,31,30,31],$e=[31,28,31,30,31,30,31,31,30,31,30,31],We=(C,D)=>{for(var P=new Date(C.getTime());D>0;){var V=Ft(P.getFullYear()),Q=P.getMonth(),le=(V?de:$e)[Q];if(D>le-P.getDate())D-=le-P.getDate()+1,P.setDate(1),Q<11?P.setMonth(Q+1):(P.setMonth(0),P.setFullYear(P.getFullYear()+1));else return P.setDate(P.getDate()+D),P}return P},Ne=(C,D)=>{f.set(C,D)},Oe=(C,D,P,V)=>{var Q=k[V+40>>2],le={tm_sec:w[V>>2],tm_min:w[V+4>>2],tm_hour:w[V+8>>2],tm_mday:w[V+12>>2],tm_mon:w[V+16>>2],tm_year:w[V+20>>2],tm_wday:w[V+24>>2],tm_yday:w[V+28>>2],tm_isdst:w[V+32>>2],tm_gmtoff:w[V+36>>2],tm_zone:Q?Pe(Q):""},ue=Pe(P),ve={"%c":"%a %b %d %H:%M:%S %Y","%D":"%m/%d/%y","%F":"%Y-%m-%d","%h":"%b","%r":"%I:%M:%S %p","%R":"%H:%M","%T":"%H:%M:%S","%x":"%m/%d/%y","%X":"%H:%M:%S","%Ec":"%c","%EC":"%C","%Ex":"%m/%d/%y","%EX":"%H:%M:%S","%Ey":"%y","%EY":"%Y","%Od":"%d","%Oe":"%e","%OH":"%H","%OI":"%I","%Om":"%m","%OM":"%M","%OS":"%S","%Ou":"%u","%OU":"%U","%OV":"%V","%Ow":"%w","%OW":"%W","%Oy":"%y"};for(var Me in ve)ue=ue.replace(new RegExp(Me,"g"),ve[Me]);var Ye=["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],tt=["January","February","March","April","May","June","July","August","September","October","November","December"];function it(Ae,Ge,bt){for(var ft=typeof Ae=="number"?Ae.toString():Ae||"";ft.length<Ge;)ft=bt[0]+ft;return ft}function je(Ae,Ge){return it(Ae,Ge,"0")}function qe(Ae,Ge){function bt(Lt){return Lt<0?-1:Lt>0?1:0}var ft;return(ft=bt(Ae.getFullYear()-Ge.getFullYear()))===0&&(ft=bt(Ae.getMonth()-Ge.getMonth()))===0&&(ft=bt(Ae.getDate()-Ge.getDate())),ft}function rt(Ae){switch(Ae.getDay()){case 0:return new Date(Ae.getFullYear()-1,11,29);case 1:return Ae;case 2:return new Date(Ae.getFullYear(),0,3);case 3:return new Date(Ae.getFullYear(),0,2);case 4:return new Date(Ae.getFullYear(),0,1);case 5:return new Date(Ae.getFullYear()-1,11,31);case 6:return new Date(Ae.getFullYear()-1,11,30)}}function yt(Ae){var Ge=We(new Date(Ae.tm_year+1900,0,1),Ae.tm_yday),bt=new Date(Ge.getFullYear(),0,4),ft=new Date(Ge.getFullYear()+1,0,4),Lt=rt(bt),wt=rt(ft);return qe(Lt,Ge)<=0?qe(wt,Ge)<=0?Ge.getFullYear()+1:Ge.getFullYear():Ge.getFullYear()-1}var $t={"%a":Ae=>Ye[Ae.tm_wday].substring(0,3),"%A":Ae=>Ye[Ae.tm_wday],"%b":Ae=>tt[Ae.tm_mon].substring(0,3),"%B":Ae=>tt[Ae.tm_mon],"%C":Ae=>{var Ge=Ae.tm_year+1900;return je(Ge/100|0,2)},"%d":Ae=>je(Ae.tm_mday,2),"%e":Ae=>it(Ae.tm_mday,2," "),"%g":Ae=>yt(Ae).toString().substring(2),"%G":Ae=>yt(Ae),"%H":Ae=>je(Ae.tm_hour,2),"%I":Ae=>{var Ge=Ae.tm_hour;return Ge==0?Ge=12:Ge>12&&(Ge-=12),je(Ge,2)},"%j":Ae=>je(Ae.tm_mday+se(Ft(Ae.tm_year+1900)?de:$e,Ae.tm_mon-1),3),"%m":Ae=>je(Ae.tm_mon+1,2),"%M":Ae=>je(Ae.tm_min,2),"%n":()=>`
`,"%p":Ae=>Ae.tm_hour>=0&&Ae.tm_hour<12?"AM":"PM","%S":Ae=>je(Ae.tm_sec,2),"%t":()=>"	","%u":Ae=>Ae.tm_wday||7,"%U":Ae=>{var Ge=Ae.tm_yday+7-Ae.tm_wday;return je(Math.floor(Ge/7),2)},"%V":Ae=>{var Ge=Math.floor((Ae.tm_yday+7-(Ae.tm_wday+6)%7)/7);if((Ae.tm_wday+371-Ae.tm_yday-2)%7<=2&&Ge++,Ge){if(Ge==53){var ft=(Ae.tm_wday+371-Ae.tm_yday)%7;ft!=4&&(ft!=3||!Ft(Ae.tm_year))&&(Ge=1)}}else{Ge=52;var bt=(Ae.tm_wday+7-Ae.tm_yday-1)%7;(bt==4||bt==5&&Ft(Ae.tm_year%400-1))&&Ge++}return je(Ge,2)},"%w":Ae=>Ae.tm_wday,"%W":Ae=>{var Ge=Ae.tm_yday+7-(Ae.tm_wday+6)%7;return je(Math.floor(Ge/7),2)},"%y":Ae=>(Ae.tm_year+1900).toString().substring(2),"%Y":Ae=>Ae.tm_year+1900,"%z":Ae=>{var Ge=Ae.tm_gmtoff,bt=Ge>=0;return Ge=Math.abs(Ge)/60,Ge=Ge/60*100+Ge%60,(bt?"+":"-")+("0000"+Ge).slice(-4)},"%Z":Ae=>Ae.tm_zone,"%%":()=>"%"};ue=ue.replace(/%%/g,"\0\0");for(var Me in $t)ue.includes(Me)&&(ue=ue.replace(new RegExp(Me,"g"),$t[Me](le)));ue=ue.replace(/\0\0/g,"%");var kt=He(ue,!1);return kt.length>D?0:(Ne(kt,C),kt.length-1)},Be=C=>{if(C instanceof we||C=="unwind")return g;t(1,C)},ze=C=>{var D=oe(C)+1,P=mt(D);return Kt(C,P,D),P},Ze=function(C,D,P,V){C||(C=this),this.parent=C,this.mount=C.mount,this.mounted=null,this.id=z.nextInode++,this.name=D,this.mode=P,this.node_ops={},this.stream_ops={},this.rdev=V},at=365,ct=146;Object.defineProperties(Ze.prototype,{read:{get:function(){return(this.mode&at)===at},set:function(C){C?this.mode|=at:this.mode&=~at}},write:{get:function(){return(this.mode&ct)===ct},set:function(C){C?this.mode|=ct:this.mode&=~ct}},isFolder:{get:function(){return z.isDir(this.mode)}},isDevice:{get:function(){return z.isChrdev(this.mode)}}}),z.FSNode=Ze,z.createPreloadedFile=ht,z.staticInit();var ut={a:Re,g:er,k:tr,h:rr,s:nr,n:jt,o:ar,l:lr,m:cr,r:hr,i:Yt,j:Dt,q:Wt,t:Ut,u:Bt,b:O,d:u,f:M,p:B,e:K,c:Oe},lt=pe(),dt=C=>(dt=lt.x)(C),St=()=>(St=lt.y)(),ot=b._main=(C,D)=>(ot=b._main=lt.A)(C,D),It=(C,D)=>(It=lt.B)(C,D),mt=C=>(mt=lt.C)(C);b.FS=z;var fr;Se=function C(){fr||wr(),fr||(Se=C)};function $r(C=[]){var D=ot;C.unshift(a);var P=C.length,V=mt((P+1)*4),Q=V;C.forEach(ue=>{k[Q>>2]=ze(ue),Q+=4}),k[Q>>2]=0;try{var le=D(P,V);return $(le,!0),le}catch(ue){return Be(ue)}}function wr(C=c){if(me>0||(j(),me>0))return;function D(){fr||(fr=!0,b.calledRun=!0,!s&&(Y(),ee(),E(b),b.onRuntimeInitialized&&b.onRuntimeInitialized(),yr&&$r(C),ie()))}b.setStatus?(b.setStatus("Running..."),setTimeout(function(){setTimeout(function(){b.setStatus("")},1),D()},1)):D()}if(b.preInit)for(typeof b.preInit=="function"&&(b.preInit=[b.preInit]);b.preInit.length>0;)b.preInit.pop()();var yr=!0;return b.noInitialRun&&(yr=!1),wr(),T.ready}})(),Fr=(()=>{var A=import.meta.url;return function(T={}){var b=T,E,R;b.ready=new Promise((u,S)=>{E=u,R=S});var d=Object.assign({},b),c=[],a="./this.program",t=(u,S)=>{throw S},e=!0,n="";function r(u){return b.locateFile?b.locateFile(u,n):n+u}var i,o;typeof document<"u"&&document.currentScript&&(n=document.currentScript.src),A&&(n=A),n.indexOf("blob:")!==0?n=n.substr(0,n.replace(/[?#].*/,"").lastIndexOf("/")+1):n="",i=u=>{var S=new XMLHttpRequest;return S.open("GET",u,!1),S.send(null),S.responseText},o=(u,S,M)=>{var B=new XMLHttpRequest;B.open("GET",u,!0),B.responseType="arraybuffer",B.onload=()=>{if(B.status==200||B.status==0&&B.response){S(B.response);return}M()},B.onerror=M,B.send(null)};var h=b.print||console.log.bind(console),p=b.printErr||console.error.bind(console);Object.assign(b,d),d=null,b.arguments&&(c=b.arguments),b.thisProgram&&(a=b.thisProgram),b.quit&&(t=b.quit);var y;b.wasmBinary&&(y=b.wasmBinary);var L=b.noExitRuntime||!0;typeof WebAssembly!="object"&&Ve("no native wasm support detected");var m,s=!1,g;function _(u,S){u||Ve(S)}var f,v,l,w,k;function F(){var u=m.buffer;b.HEAP8=f=new Int8Array(u),b.HEAP16=l=new Int16Array(u),b.HEAPU8=v=new Uint8Array(u),b.HEAPU16=new Uint16Array(u),b.HEAP32=w=new Int32Array(u),b.HEAPU32=k=new Uint32Array(u),b.HEAPF32=new Float32Array(u),b.HEAPF64=new Float64Array(u)}var x=[],N=[],G=[],q=[],ne=0;function X(){return L||ne>0}function j(){if(b.preRun)for(typeof b.preRun=="function"&&(b.preRun=[b.preRun]);b.preRun.length;)ae(b.preRun.shift());ke(x)}function Y(){!b.noFSInit&&!H.init.initialized&&H.init(),H.ignorePermissions=!1,ke(N)}function ee(){ke(G)}function ie(){if(b.postRun)for(typeof b.postRun=="function"&&(b.postRun=[b.postRun]);b.postRun.length;)ye(b.postRun.shift());ke(q)}function ae(u){x.unshift(u)}function ce(u){N.unshift(u)}function ye(u){q.unshift(u)}var me=0,Se=null;function Le(u){return u}function Ee(u){me++,b.monitorRunDependencies&&b.monitorRunDependencies(me)}function Fe(u){if(me--,b.monitorRunDependencies&&b.monitorRunDependencies(me),me==0&&Se){var S=Se;Se=null,S()}}function Ve(u){b.onAbort&&b.onAbort(u),u="Aborted("+u+")",p(u),s=!0,g=1,u+=". Build with -sASSERTIONS for more info.";var S=new WebAssembly.RuntimeError(u);throw R(S),S}var Je="data:application/octet-stream;base64,";function I(u){return u.startsWith(Je)}var ge;b.locateFile?(ge="rgblink.wasm",I(ge)||(ge=r(ge))):ge=new URL("/assets/rgblink-72e120c5.wasm",self.location).href;function fe(u){if(u==ge&&y)return new Uint8Array(y);throw"both async and sync fetching of the wasm failed"}function te(u){return!y&&e&&typeof fetch=="function"?fetch(u,{credentials:"same-origin"}).then(S=>{if(!S.ok)throw"failed to load wasm binary file at '"+u+"'";return S.arrayBuffer()}).catch(()=>fe(u)):Promise.resolve().then(()=>fe(u))}function J(u,S,M){return te(u).then(B=>WebAssembly.instantiate(B,S)).then(B=>B).then(M,B=>{p(`failed to asynchronously prepare wasm: ${B}`),Ve(B)})}function he(u,S,M,B){return!u&&typeof WebAssembly.instantiateStreaming=="function"&&!I(S)&&typeof fetch=="function"?fetch(S,{credentials:"same-origin"}).then(U=>{var K=WebAssembly.instantiateStreaming(U,M);return K.then(B,function(se){return p(`wasm streaming compile failed: ${se}`),p("falling back to ArrayBuffer instantiation"),J(S,M,B)})}):J(S,M,B)}function pe(){var u={a:Ct};function S(B,U){var K=B.exports;return At=K,m=At.l,F(),At.n,ce(At.m),Fe(),K}Ee();function M(B){S(B.instance)}if(b.instantiateWasm)try{return b.instantiateWasm(u,S)}catch(B){p(`Module.instantiateWasm callback failed with error: ${B}`),R(B)}return he(y,ge,u,M).catch(R),{}}var Z,re;function we(u){this.name="ExitStatus",this.message=`Program terminated with exit(${u})`,this.status=u}var ke=u=>{for(;u.length>0;)u.shift()(b)},be=typeof TextDecoder<"u"?new TextDecoder("utf8"):void 0,xe=(u,S,M)=>{for(var B=S+M,U=S;u[U]&&!(U>=B);)++U;if(U-S>16&&u.buffer&&be)return be.decode(u.subarray(S,U));for(var K="";S<U;){var se=u[S++];if(!(se&128)){K+=String.fromCharCode(se);continue}var de=u[S++]&63;if((se&224)==192){K+=String.fromCharCode((se&31)<<6|de);continue}var $e=u[S++]&63;if((se&240)==224?se=(se&15)<<12|de<<6|$e:se=(se&7)<<18|de<<12|$e<<6|u[S++]&63,se<65536)K+=String.fromCharCode(se);else{var We=se-65536;K+=String.fromCharCode(55296|We>>10,56320|We&1023)}}return K},Pe=(u,S)=>u?xe(v,u,S):"",Re=(u,S,M,B)=>{Ve(`Assertion failed: ${Pe(u)}, at: `+[S?Pe(S):"unknown filename",M,B?Pe(B):"unknown function"])},Xe=u=>(w[Ot()>>2]=u,u),Ce={isAbs:u=>u.charAt(0)==="/",splitPath:u=>{var S=/^(\/?|)([\s\S]*?)((?:\.{1,2}|[^\/]+?|)(\.[^.\/]*|))(?:[\/]*)$/;return S.exec(u).slice(1)},normalizeArray:(u,S)=>{for(var M=0,B=u.length-1;B>=0;B--){var U=u[B];U==="."?u.splice(B,1):U===".."?(u.splice(B,1),M++):M&&(u.splice(B,1),M--)}if(S)for(;M;M--)u.unshift("..");return u},normalize:u=>{var S=Ce.isAbs(u),M=u.substr(-1)==="/";return u=Ce.normalizeArray(u.split("/").filter(B=>!!B),!S).join("/"),!u&&!S&&(u="."),u&&M&&(u+="/"),(S?"/":"")+u},dirname:u=>{var S=Ce.splitPath(u),M=S[0],B=S[1];return!M&&!B?".":(B&&(B=B.substr(0,B.length-1)),M+B)},basename:u=>{if(u==="/")return"/";u=Ce.normalize(u),u=u.replace(/\/$/,"");var S=u.lastIndexOf("/");return S===-1?u:u.substr(S+1)},join:function(){var u=Array.prototype.slice.call(arguments);return Ce.normalize(u.join("/"))},join2:(u,S)=>Ce.normalize(u+"/"+S)},Qe=()=>{if(typeof crypto=="object"&&typeof crypto.getRandomValues=="function")return u=>crypto.getRandomValues(u);Ve("initRandomDevice")},Te=u=>(Te=Qe())(u),Ke={resolve:function(){for(var u="",S=!1,M=arguments.length-1;M>=-1&&!S;M--){var B=M>=0?arguments[M]:H.cwd();if(typeof B!="string")throw new TypeError("Arguments to path.resolve must be strings");if(!B)return"";u=B+"/"+u,S=Ce.isAbs(B)}return u=Ce.normalizeArray(u.split("/").filter(U=>!!U),!S).join("/"),(S?"/":"")+u||"."},relative:(u,S)=>{u=Ke.resolve(u).substr(1),S=Ke.resolve(S).substr(1);function M(We){for(var Ne=0;Ne<We.length&&We[Ne]==="";Ne++);for(var Oe=We.length-1;Oe>=0&&We[Oe]==="";Oe--);return Ne>Oe?[]:We.slice(Ne,Oe-Ne+1)}for(var B=M(u.split("/")),U=M(S.split("/")),K=Math.min(B.length,U.length),se=K,de=0;de<K;de++)if(B[de]!==U[de]){se=de;break}for(var $e=[],de=se;de<B.length;de++)$e.push("..");return $e=$e.concat(U.slice(se)),$e.join("/")}},pt=[],oe=u=>{for(var S=0,M=0;M<u.length;++M){var B=u.charCodeAt(M);B<=127?S++:B<=2047?S+=2:B>=55296&&B<=57343?(S+=4,++M):S+=3}return S},_e=(u,S,M,B)=>{if(!(B>0))return 0;for(var U=M,K=M+B-1,se=0;se<u.length;++se){var de=u.charCodeAt(se);if(de>=55296&&de<=57343){var $e=u.charCodeAt(++se);de=65536+((de&1023)<<10)|$e&1023}if(de<=127){if(M>=K)break;S[M++]=de}else if(de<=2047){if(M+1>=K)break;S[M++]=192|de>>6,S[M++]=128|de&63}else if(de<=65535){if(M+2>=K)break;S[M++]=224|de>>12,S[M++]=128|de>>6&63,S[M++]=128|de&63}else{if(M+3>=K)break;S[M++]=240|de>>18,S[M++]=128|de>>12&63,S[M++]=128|de>>6&63,S[M++]=128|de&63}}return S[M]=0,M-U};function He(u,S,M){var B=M>0?M:oe(u)+1,U=new Array(B),K=_e(u,U,0,U.length);return S&&(U.length=K),U}var et=()=>{if(!pt.length){var u=null;if(typeof window<"u"&&typeof window.prompt=="function"?(u=window.prompt("Input: "),u!==null&&(u+=`
`)):typeof readline=="function"&&(u=readline(),u!==null&&(u+=`
`)),!u)return null;pt=He(u,!0)}return pt.shift()},De={ttys:[],init(){},shutdown(){},register(u,S){De.ttys[u]={input:[],output:[],ops:S},H.registerDevice(u,De.stream_ops)},stream_ops:{open(u){var S=De.ttys[u.node.rdev];if(!S)throw new H.ErrnoError(43);u.tty=S,u.seekable=!1},close(u){u.tty.ops.fsync(u.tty)},fsync(u){u.tty.ops.fsync(u.tty)},read(u,S,M,B,U){if(!u.tty||!u.tty.ops.get_char)throw new H.ErrnoError(60);for(var K=0,se=0;se<B;se++){var de;try{de=u.tty.ops.get_char(u.tty)}catch{throw new H.ErrnoError(29)}if(de===void 0&&K===0)throw new H.ErrnoError(6);if(de==null)break;K++,S[M+se]=de}return K&&(u.node.timestamp=Date.now()),K},write(u,S,M,B,U){if(!u.tty||!u.tty.ops.put_char)throw new H.ErrnoError(60);try{for(var K=0;K<B;K++)u.tty.ops.put_char(u.tty,S[M+K])}catch{throw new H.ErrnoError(29)}return B&&(u.node.timestamp=Date.now()),K}},default_tty_ops:{get_char(u){return et()},put_char(u,S){S===null||S===10?(h(xe(u.output,0)),u.output=[]):S!=0&&u.output.push(S)},fsync(u){u.output&&u.output.length>0&&(h(xe(u.output,0)),u.output=[])},ioctl_tcgets(u){return{c_iflag:25856,c_oflag:5,c_cflag:191,c_lflag:35387,c_cc:[3,28,127,21,4,0,1,0,17,19,26,0,18,15,23,22,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0]}},ioctl_tcsets(u,S,M){return 0},ioctl_tiocgwinsz(u){return[24,80]}},default_tty1_ops:{put_char(u,S){S===null||S===10?(p(xe(u.output,0)),u.output=[]):S!=0&&u.output.push(S)},fsync(u){u.output&&u.output.length>0&&(p(xe(u.output,0)),u.output=[])}}},gt=u=>{Ve()},Ie={ops_table:null,mount(u){return Ie.createNode(null,"/",16895,0)},createNode(u,S,M,B){if(H.isBlkdev(M)||H.isFIFO(M))throw new H.ErrnoError(63);Ie.ops_table||(Ie.ops_table={dir:{node:{getattr:Ie.node_ops.getattr,setattr:Ie.node_ops.setattr,lookup:Ie.node_ops.lookup,mknod:Ie.node_ops.mknod,rename:Ie.node_ops.rename,unlink:Ie.node_ops.unlink,rmdir:Ie.node_ops.rmdir,readdir:Ie.node_ops.readdir,symlink:Ie.node_ops.symlink},stream:{llseek:Ie.stream_ops.llseek}},file:{node:{getattr:Ie.node_ops.getattr,setattr:Ie.node_ops.setattr},stream:{llseek:Ie.stream_ops.llseek,read:Ie.stream_ops.read,write:Ie.stream_ops.write,allocate:Ie.stream_ops.allocate,mmap:Ie.stream_ops.mmap,msync:Ie.stream_ops.msync}},link:{node:{getattr:Ie.node_ops.getattr,setattr:Ie.node_ops.setattr,readlink:Ie.node_ops.readlink},stream:{}},chrdev:{node:{getattr:Ie.node_ops.getattr,setattr:Ie.node_ops.setattr},stream:H.chrdev_stream_ops}});var U=H.createNode(u,S,M,B);return H.isDir(U.mode)?(U.node_ops=Ie.ops_table.dir.node,U.stream_ops=Ie.ops_table.dir.stream,U.contents={}):H.isFile(U.mode)?(U.node_ops=Ie.ops_table.file.node,U.stream_ops=Ie.ops_table.file.stream,U.usedBytes=0,U.contents=null):H.isLink(U.mode)?(U.node_ops=Ie.ops_table.link.node,U.stream_ops=Ie.ops_table.link.stream):H.isChrdev(U.mode)&&(U.node_ops=Ie.ops_table.chrdev.node,U.stream_ops=Ie.ops_table.chrdev.stream),U.timestamp=Date.now(),u&&(u.contents[S]=U,u.timestamp=U.timestamp),U},getFileDataAsTypedArray(u){return u.contents?u.contents.subarray?u.contents.subarray(0,u.usedBytes):new Uint8Array(u.contents):new Uint8Array(0)},expandFileStorage(u,S){var M=u.contents?u.contents.length:0;if(!(M>=S)){var B=1024*1024;S=Math.max(S,M*(M<B?2:1.125)>>>0),M!=0&&(S=Math.max(S,256));var U=u.contents;u.contents=new Uint8Array(S),u.usedBytes>0&&u.contents.set(U.subarray(0,u.usedBytes),0)}},resizeFileStorage(u,S){if(u.usedBytes!=S)if(S==0)u.contents=null,u.usedBytes=0;else{var M=u.contents;u.contents=new Uint8Array(S),M&&u.contents.set(M.subarray(0,Math.min(S,u.usedBytes))),u.usedBytes=S}},node_ops:{getattr(u){var S={};return S.dev=H.isChrdev(u.mode)?u.id:1,S.ino=u.id,S.mode=u.mode,S.nlink=1,S.uid=0,S.gid=0,S.rdev=u.rdev,H.isDir(u.mode)?S.size=4096:H.isFile(u.mode)?S.size=u.usedBytes:H.isLink(u.mode)?S.size=u.link.length:S.size=0,S.atime=new Date(u.timestamp),S.mtime=new Date(u.timestamp),S.ctime=new Date(u.timestamp),S.blksize=4096,S.blocks=Math.ceil(S.size/S.blksize),S},setattr(u,S){S.mode!==void 0&&(u.mode=S.mode),S.timestamp!==void 0&&(u.timestamp=S.timestamp),S.size!==void 0&&Ie.resizeFileStorage(u,S.size)},lookup(u,S){throw H.genericErrors[44]},mknod(u,S,M,B){return Ie.createNode(u,S,M,B)},rename(u,S,M){if(H.isDir(u.mode)){var B;try{B=H.lookupNode(S,M)}catch{}if(B)for(var U in B.contents)throw new H.ErrnoError(55)}delete u.parent.contents[u.name],u.parent.timestamp=Date.now(),u.name=M,S.contents[M]=u,S.timestamp=u.parent.timestamp,u.parent=S},unlink(u,S){delete u.contents[S],u.timestamp=Date.now()},rmdir(u,S){var M=H.lookupNode(u,S);for(var B in M.contents)throw new H.ErrnoError(55);delete u.contents[S],u.timestamp=Date.now()},readdir(u){var S=[".",".."];for(var M in u.contents)u.contents.hasOwnProperty(M)&&S.push(M);return S},symlink(u,S,M){var B=Ie.createNode(u,S,41471,0);return B.link=M,B},readlink(u){if(!H.isLink(u.mode))throw new H.ErrnoError(28);return u.link}},stream_ops:{read(u,S,M,B,U){var K=u.node.contents;if(U>=u.node.usedBytes)return 0;var se=Math.min(u.node.usedBytes-U,B);if(se>8&&K.subarray)S.set(K.subarray(U,U+se),M);else for(var de=0;de<se;de++)S[M+de]=K[U+de];return se},write(u,S,M,B,U,K){if(!B)return 0;var se=u.node;if(se.timestamp=Date.now(),S.subarray&&(!se.contents||se.contents.subarray)){if(K)return se.contents=S.subarray(M,M+B),se.usedBytes=B,B;if(se.usedBytes===0&&U===0)return se.contents=S.slice(M,M+B),se.usedBytes=B,B;if(U+B<=se.usedBytes)return se.contents.set(S.subarray(M,M+B),U),B}if(Ie.expandFileStorage(se,U+B),se.contents.subarray&&S.subarray)se.contents.set(S.subarray(M,M+B),U);else for(var de=0;de<B;de++)se.contents[U+de]=S[M+de];return se.usedBytes=Math.max(se.usedBytes,U+B),B},llseek(u,S,M){var B=S;if(M===1?B+=u.position:M===2&&H.isFile(u.node.mode)&&(B+=u.node.usedBytes),B<0)throw new H.ErrnoError(28);return B},allocate(u,S,M){Ie.expandFileStorage(u.node,S+M),u.node.usedBytes=Math.max(u.node.usedBytes,S+M)},mmap(u,S,M,B,U){if(!H.isFile(u.node.mode))throw new H.ErrnoError(43);var K,se,de=u.node.contents;if(!(U&2)&&de.buffer===f.buffer)se=!1,K=de.byteOffset;else{if((M>0||M+S<de.length)&&(de.subarray?de=de.subarray(M,M+S):de=Array.prototype.slice.call(de,M,M+S)),se=!0,K=gt(),!K)throw new H.ErrnoError(48);f.set(de,K)}return{ptr:K,allocated:se}},msync(u,S,M,B,U){return Ie.stream_ops.write(u,S,0,B,M,!1),0}}},vt=(u,S,M,B)=>{var U=B?"":`al ${u}`;o(u,K=>{_(K,`Loading data file "${u}" failed (no arrayBuffer).`),S(new Uint8Array(K)),U&&Fe()},K=>{if(M)M();else throw`Loading data file "${u}" failed.`}),U&&Ee()},Ue=b.preloadPlugins||[],zt=(u,S,M,B)=>{typeof Browser<"u"&&Browser.init();var U=!1;return Ue.forEach(K=>{U||K.canHandle(S)&&(K.handle(u,S,M,B),U=!0)}),U},Ht=(u,S,M,B,U,K,se,de,$e,We)=>{var Ne=S?Ke.resolve(Ce.join2(u,S)):u;function Oe(Be){function ze(Ze){We&&We(),de||H.createDataFile(u,S,Ze,B,U,$e),K&&K(),Fe()}zt(Be,Ne,ze,()=>{se&&se(),Fe()})||ze(Be)}Ee(),typeof M=="string"?vt(M,Be=>Oe(Be),se):Oe(M)},W=u=>{var S={r:0,"r+":2,w:577,"w+":578,a:1089,"a+":1090},M=S[u];if(typeof M>"u")throw new Error(`Unknown file open mode: ${u}`);return M},ht=(u,S)=>{var M=0;return u&&(M|=365),S&&(M|=146),M},H={root:null,mounts:[],devices:{},streams:[],nextInode:1,nameTable:null,currentPath:"/",initialized:!1,ignorePermissions:!0,ErrnoError:null,genericErrors:{},filesystems:null,syncFSRequests:0,lookupPath(u,S={}){if(u=Ke.resolve(u),!u)return{path:"",node:null};var M={follow_mount:!0,recurse_count:0};if(S=Object.assign(M,S),S.recurse_count>8)throw new H.ErrnoError(32);for(var B=u.split("/").filter(Oe=>!!Oe),U=H.root,K="/",se=0;se<B.length;se++){var de=se===B.length-1;if(de&&S.parent)break;if(U=H.lookupNode(U,B[se]),K=Ce.join2(K,B[se]),H.isMountpoint(U)&&(!de||de&&S.follow_mount)&&(U=U.mounted.root),!de||S.follow)for(var $e=0;H.isLink(U.mode);){var We=H.readlink(K);K=Ke.resolve(Ce.dirname(K),We);var Ne=H.lookupPath(K,{recurse_count:S.recurse_count+1});if(U=Ne.node,$e++>40)throw new H.ErrnoError(32)}}return{path:K,node:U}},getPath(u){for(var S;;){if(H.isRoot(u)){var M=u.mount.mountpoint;return S?M[M.length-1]!=="/"?`${M}/${S}`:M+S:M}S=S?`${u.name}/${S}`:u.name,u=u.parent}},hashName(u,S){for(var M=0,B=0;B<S.length;B++)M=(M<<5)-M+S.charCodeAt(B)|0;return(u+M>>>0)%H.nameTable.length},hashAddNode(u){var S=H.hashName(u.parent.id,u.name);u.name_next=H.nameTable[S],H.nameTable[S]=u},hashRemoveNode(u){var S=H.hashName(u.parent.id,u.name);if(H.nameTable[S]===u)H.nameTable[S]=u.name_next;else for(var M=H.nameTable[S];M;){if(M.name_next===u){M.name_next=u.name_next;break}M=M.name_next}},lookupNode(u,S){var M=H.mayLookup(u);if(M)throw new H.ErrnoError(M,u);for(var B=H.hashName(u.id,S),U=H.nameTable[B];U;U=U.name_next){var K=U.name;if(U.parent.id===u.id&&K===S)return U}return H.lookup(u,S)},createNode(u,S,M,B){var U=new H.FSNode(u,S,M,B);return H.hashAddNode(U),U},destroyNode(u){H.hashRemoveNode(u)},isRoot(u){return u===u.parent},isMountpoint(u){return!!u.mounted},isFile(u){return(u&61440)===32768},isDir(u){return(u&61440)===16384},isLink(u){return(u&61440)===40960},isChrdev(u){return(u&61440)===8192},isBlkdev(u){return(u&61440)===24576},isFIFO(u){return(u&61440)===4096},isSocket(u){return(u&49152)===49152},flagsToPermissionString(u){var S=["r","w","rw"][u&3];return u&512&&(S+="w"),S},nodePermissions(u,S){return H.ignorePermissions?0:S.includes("r")&&!(u.mode&292)||S.includes("w")&&!(u.mode&146)||S.includes("x")&&!(u.mode&73)?2:0},mayLookup(u){var S=H.nodePermissions(u,"x");return S||(u.node_ops.lookup?0:2)},mayCreate(u,S){try{var M=H.lookupNode(u,S);return 20}catch{}return H.nodePermissions(u,"wx")},mayDelete(u,S,M){var B;try{B=H.lookupNode(u,S)}catch(K){return K.errno}var U=H.nodePermissions(u,"wx");if(U)return U;if(M){if(!H.isDir(B.mode))return 54;if(H.isRoot(B)||H.getPath(B)===H.cwd())return 10}else if(H.isDir(B.mode))return 31;return 0},mayOpen(u,S){return u?H.isLink(u.mode)?32:H.isDir(u.mode)&&(H.flagsToPermissionString(S)!=="r"||S&512)?31:H.nodePermissions(u,H.flagsToPermissionString(S)):44},MAX_OPEN_FDS:4096,nextfd(){for(var u=0;u<=H.MAX_OPEN_FDS;u++)if(!H.streams[u])return u;throw new H.ErrnoError(33)},getStreamChecked(u){var S=H.getStream(u);if(!S)throw new H.ErrnoError(8);return S},getStream:u=>H.streams[u],createStream(u,S=-1){return H.FSStream||(H.FSStream=function(){this.shared={}},H.FSStream.prototype={},Object.defineProperties(H.FSStream.prototype,{object:{get(){return this.node},set(M){this.node=M}},isRead:{get(){return(this.flags&2097155)!==1}},isWrite:{get(){return(this.flags&2097155)!==0}},isAppend:{get(){return this.flags&1024}},flags:{get(){return this.shared.flags},set(M){this.shared.flags=M}},position:{get(){return this.shared.position},set(M){this.shared.position=M}}})),u=Object.assign(new H.FSStream,u),S==-1&&(S=H.nextfd()),u.fd=S,H.streams[S]=u,u},closeStream(u){H.streams[u]=null},chrdev_stream_ops:{open(u){var S=H.getDevice(u.node.rdev);u.stream_ops=S.stream_ops,u.stream_ops.open&&u.stream_ops.open(u)},llseek(){throw new H.ErrnoError(70)}},major:u=>u>>8,minor:u=>u&255,makedev:(u,S)=>u<<8|S,registerDevice(u,S){H.devices[u]={stream_ops:S}},getDevice:u=>H.devices[u],getMounts(u){for(var S=[],M=[u];M.length;){var B=M.pop();S.push(B),M.push.apply(M,B.mounts)}return S},syncfs(u,S){typeof u=="function"&&(S=u,u=!1),H.syncFSRequests++,H.syncFSRequests>1&&p(`warning: ${H.syncFSRequests} FS.syncfs operations in flight at once, probably just doing extra work`);var M=H.getMounts(H.root.mount),B=0;function U(se){return H.syncFSRequests--,S(se)}function K(se){if(se)return K.errored?void 0:(K.errored=!0,U(se));++B>=M.length&&U(null)}M.forEach(se=>{if(!se.type.syncfs)return K(null);se.type.syncfs(se,u,K)})},mount(u,S,M){var B=M==="/",U=!M,K;if(B&&H.root)throw new H.ErrnoError(10);if(!B&&!U){var se=H.lookupPath(M,{follow_mount:!1});if(M=se.path,K=se.node,H.isMountpoint(K))throw new H.ErrnoError(10);if(!H.isDir(K.mode))throw new H.ErrnoError(54)}var de={type:u,opts:S,mountpoint:M,mounts:[]},$e=u.mount(de);return $e.mount=de,de.root=$e,B?H.root=$e:K&&(K.mounted=de,K.mount&&K.mount.mounts.push(de)),$e},unmount(u){var S=H.lookupPath(u,{follow_mount:!1});if(!H.isMountpoint(S.node))throw new H.ErrnoError(28);var M=S.node,B=M.mounted,U=H.getMounts(B);Object.keys(H.nameTable).forEach(se=>{for(var de=H.nameTable[se];de;){var $e=de.name_next;U.includes(de.mount)&&H.destroyNode(de),de=$e}}),M.mounted=null;var K=M.mount.mounts.indexOf(B);M.mount.mounts.splice(K,1)},lookup(u,S){return u.node_ops.lookup(u,S)},mknod(u,S,M){var B=H.lookupPath(u,{parent:!0}),U=B.node,K=Ce.basename(u);if(!K||K==="."||K==="..")throw new H.ErrnoError(28);var se=H.mayCreate(U,K);if(se)throw new H.ErrnoError(se);if(!U.node_ops.mknod)throw new H.ErrnoError(63);return U.node_ops.mknod(U,K,S,M)},create(u,S){return S=S!==void 0?S:438,S&=4095,S|=32768,H.mknod(u,S,0)},mkdir(u,S){return S=S!==void 0?S:511,S&=1023,S|=16384,H.mknod(u,S,0)},mkdirTree(u,S){for(var M=u.split("/"),B="",U=0;U<M.length;++U)if(M[U]){B+="/"+M[U];try{H.mkdir(B,S)}catch(K){if(K.errno!=20)throw K}}},mkdev(u,S,M){return typeof M>"u"&&(M=S,S=438),S|=8192,H.mknod(u,S,M)},symlink(u,S){if(!Ke.resolve(u))throw new H.ErrnoError(44);var M=H.lookupPath(S,{parent:!0}),B=M.node;if(!B)throw new H.ErrnoError(44);var U=Ce.basename(S),K=H.mayCreate(B,U);if(K)throw new H.ErrnoError(K);if(!B.node_ops.symlink)throw new H.ErrnoError(63);return B.node_ops.symlink(B,U,u)},rename(u,S){var M=Ce.dirname(u),B=Ce.dirname(S),U=Ce.basename(u),K=Ce.basename(S),se,de,$e;if(se=H.lookupPath(u,{parent:!0}),de=se.node,se=H.lookupPath(S,{parent:!0}),$e=se.node,!de||!$e)throw new H.ErrnoError(44);if(de.mount!==$e.mount)throw new H.ErrnoError(75);var We=H.lookupNode(de,U),Ne=Ke.relative(u,B);if(Ne.charAt(0)!==".")throw new H.ErrnoError(28);if(Ne=Ke.relative(S,M),Ne.charAt(0)!==".")throw new H.ErrnoError(55);var Oe;try{Oe=H.lookupNode($e,K)}catch{}if(We!==Oe){var Be=H.isDir(We.mode),ze=H.mayDelete(de,U,Be);if(ze)throw new H.ErrnoError(ze);if(ze=Oe?H.mayDelete($e,K,Be):H.mayCreate($e,K),ze)throw new H.ErrnoError(ze);if(!de.node_ops.rename)throw new H.ErrnoError(63);if(H.isMountpoint(We)||Oe&&H.isMountpoint(Oe))throw new H.ErrnoError(10);if($e!==de&&(ze=H.nodePermissions(de,"w"),ze))throw new H.ErrnoError(ze);H.hashRemoveNode(We);try{de.node_ops.rename(We,$e,K)}catch(Ze){throw Ze}finally{H.hashAddNode(We)}}},rmdir(u){var S=H.lookupPath(u,{parent:!0}),M=S.node,B=Ce.basename(u),U=H.lookupNode(M,B),K=H.mayDelete(M,B,!0);if(K)throw new H.ErrnoError(K);if(!M.node_ops.rmdir)throw new H.ErrnoError(63);if(H.isMountpoint(U))throw new H.ErrnoError(10);M.node_ops.rmdir(M,B),H.destroyNode(U)},readdir(u){var S=H.lookupPath(u,{follow:!0}),M=S.node;if(!M.node_ops.readdir)throw new H.ErrnoError(54);return M.node_ops.readdir(M)},unlink(u){var S=H.lookupPath(u,{parent:!0}),M=S.node;if(!M)throw new H.ErrnoError(44);var B=Ce.basename(u),U=H.lookupNode(M,B),K=H.mayDelete(M,B,!1);if(K)throw new H.ErrnoError(K);if(!M.node_ops.unlink)throw new H.ErrnoError(63);if(H.isMountpoint(U))throw new H.ErrnoError(10);M.node_ops.unlink(M,B),H.destroyNode(U)},readlink(u){var S=H.lookupPath(u),M=S.node;if(!M)throw new H.ErrnoError(44);if(!M.node_ops.readlink)throw new H.ErrnoError(28);return Ke.resolve(H.getPath(M.parent),M.node_ops.readlink(M))},stat(u,S){var M=H.lookupPath(u,{follow:!S}),B=M.node;if(!B)throw new H.ErrnoError(44);if(!B.node_ops.getattr)throw new H.ErrnoError(63);return B.node_ops.getattr(B)},lstat(u){return H.stat(u,!0)},chmod(u,S,M){var B;if(typeof u=="string"){var U=H.lookupPath(u,{follow:!M});B=U.node}else B=u;if(!B.node_ops.setattr)throw new H.ErrnoError(63);B.node_ops.setattr(B,{mode:S&4095|B.mode&-4096,timestamp:Date.now()})},lchmod(u,S){H.chmod(u,S,!0)},fchmod(u,S){var M=H.getStreamChecked(u);H.chmod(M.node,S)},chown(u,S,M,B){var U;if(typeof u=="string"){var K=H.lookupPath(u,{follow:!B});U=K.node}else U=u;if(!U.node_ops.setattr)throw new H.ErrnoError(63);U.node_ops.setattr(U,{timestamp:Date.now()})},lchown(u,S,M){H.chown(u,S,M,!0)},fchown(u,S,M){var B=H.getStreamChecked(u);H.chown(B.node,S,M)},truncate(u,S){if(S<0)throw new H.ErrnoError(28);var M;if(typeof u=="string"){var B=H.lookupPath(u,{follow:!0});M=B.node}else M=u;if(!M.node_ops.setattr)throw new H.ErrnoError(63);if(H.isDir(M.mode))throw new H.ErrnoError(31);if(!H.isFile(M.mode))throw new H.ErrnoError(28);var U=H.nodePermissions(M,"w");if(U)throw new H.ErrnoError(U);M.node_ops.setattr(M,{size:S,timestamp:Date.now()})},ftruncate(u,S){var M=H.getStreamChecked(u);if(!(M.flags&2097155))throw new H.ErrnoError(28);H.truncate(M.node,S)},utime(u,S,M){var B=H.lookupPath(u,{follow:!0}),U=B.node;U.node_ops.setattr(U,{timestamp:Math.max(S,M)})},open(u,S,M){if(u==="")throw new H.ErrnoError(44);S=typeof S=="string"?W(S):S,M=typeof M>"u"?438:M,S&64?M=M&4095|32768:M=0;var B;if(typeof u=="object")B=u;else{u=Ce.normalize(u);try{var U=H.lookupPath(u,{follow:!(S&131072)});B=U.node}catch{}}var K=!1;if(S&64)if(B){if(S&128)throw new H.ErrnoError(20)}else B=H.mknod(u,M,0),K=!0;if(!B)throw new H.ErrnoError(44);if(H.isChrdev(B.mode)&&(S&=-513),S&65536&&!H.isDir(B.mode))throw new H.ErrnoError(54);if(!K){var se=H.mayOpen(B,S);if(se)throw new H.ErrnoError(se)}S&512&&!K&&H.truncate(B,0),S&=-131713;var de=H.createStream({node:B,path:H.getPath(B),flags:S,seekable:!0,position:0,stream_ops:B.stream_ops,ungotten:[],error:!1});return de.stream_ops.open&&de.stream_ops.open(de),b.logReadFiles&&!(S&1)&&(H.readFiles||(H.readFiles={}),u in H.readFiles||(H.readFiles[u]=1)),de},close(u){if(H.isClosed(u))throw new H.ErrnoError(8);u.getdents&&(u.getdents=null);try{u.stream_ops.close&&u.stream_ops.close(u)}catch(S){throw S}finally{H.closeStream(u.fd)}u.fd=null},isClosed(u){return u.fd===null},llseek(u,S,M){if(H.isClosed(u))throw new H.ErrnoError(8);if(!u.seekable||!u.stream_ops.llseek)throw new H.ErrnoError(70);if(M!=0&&M!=1&&M!=2)throw new H.ErrnoError(28);return u.position=u.stream_ops.llseek(u,S,M),u.ungotten=[],u.position},read(u,S,M,B,U){if(B<0||U<0)throw new H.ErrnoError(28);if(H.isClosed(u))throw new H.ErrnoError(8);if((u.flags&2097155)===1)throw new H.ErrnoError(8);if(H.isDir(u.node.mode))throw new H.ErrnoError(31);if(!u.stream_ops.read)throw new H.ErrnoError(28);var K=typeof U<"u";if(!K)U=u.position;else if(!u.seekable)throw new H.ErrnoError(70);var se=u.stream_ops.read(u,S,M,B,U);return K||(u.position+=se),se},write(u,S,M,B,U,K){if(B<0||U<0)throw new H.ErrnoError(28);if(H.isClosed(u))throw new H.ErrnoError(8);if(!(u.flags&2097155))throw new H.ErrnoError(8);if(H.isDir(u.node.mode))throw new H.ErrnoError(31);if(!u.stream_ops.write)throw new H.ErrnoError(28);u.seekable&&u.flags&1024&&H.llseek(u,0,2);var se=typeof U<"u";if(!se)U=u.position;else if(!u.seekable)throw new H.ErrnoError(70);var de=u.stream_ops.write(u,S,M,B,U,K);return se||(u.position+=de),de},allocate(u,S,M){if(H.isClosed(u))throw new H.ErrnoError(8);if(S<0||M<=0)throw new H.ErrnoError(28);if(!(u.flags&2097155))throw new H.ErrnoError(8);if(!H.isFile(u.node.mode)&&!H.isDir(u.node.mode))throw new H.ErrnoError(43);if(!u.stream_ops.allocate)throw new H.ErrnoError(138);u.stream_ops.allocate(u,S,M)},mmap(u,S,M,B,U){if(B&2&&!(U&2)&&(u.flags&2097155)!==2)throw new H.ErrnoError(2);if((u.flags&2097155)===1)throw new H.ErrnoError(2);if(!u.stream_ops.mmap)throw new H.ErrnoError(43);return u.stream_ops.mmap(u,S,M,B,U)},msync(u,S,M,B,U){return u.stream_ops.msync?u.stream_ops.msync(u,S,M,B,U):0},munmap:u=>0,ioctl(u,S,M){if(!u.stream_ops.ioctl)throw new H.ErrnoError(59);return u.stream_ops.ioctl(u,S,M)},readFile(u,S={}){if(S.flags=S.flags||0,S.encoding=S.encoding||"binary",S.encoding!=="utf8"&&S.encoding!=="binary")throw new Error(`Invalid encoding type "${S.encoding}"`);var M,B=H.open(u,S.flags),U=H.stat(u),K=U.size,se=new Uint8Array(K);return H.read(B,se,0,K,0),S.encoding==="utf8"?M=xe(se,0):S.encoding==="binary"&&(M=se),H.close(B),M},writeFile(u,S,M={}){M.flags=M.flags||577;var B=H.open(u,M.flags,M.mode);if(typeof S=="string"){var U=new Uint8Array(oe(S)+1),K=_e(S,U,0,U.length);H.write(B,U,0,K,void 0,M.canOwn)}else if(ArrayBuffer.isView(S))H.write(B,S,0,S.byteLength,void 0,M.canOwn);else throw new Error("Unsupported data type");H.close(B)},cwd:()=>H.currentPath,chdir(u){var S=H.lookupPath(u,{follow:!0});if(S.node===null)throw new H.ErrnoError(44);if(!H.isDir(S.node.mode))throw new H.ErrnoError(54);var M=H.nodePermissions(S.node,"x");if(M)throw new H.ErrnoError(M);H.currentPath=S.path},createDefaultDirectories(){H.mkdir("/tmp"),H.mkdir("/home"),H.mkdir("/home/web_user")},createDefaultDevices(){H.mkdir("/dev"),H.registerDevice(H.makedev(1,3),{read:()=>0,write:(B,U,K,se,de)=>se}),H.mkdev("/dev/null",H.makedev(1,3)),De.register(H.makedev(5,0),De.default_tty_ops),De.register(H.makedev(6,0),De.default_tty1_ops),H.mkdev("/dev/tty",H.makedev(5,0)),H.mkdev("/dev/tty1",H.makedev(6,0));var u=new Uint8Array(1024),S=0,M=()=>(S===0&&(S=Te(u).byteLength),u[--S]);H.createDevice("/dev","random",M),H.createDevice("/dev","urandom",M),H.mkdir("/dev/shm"),H.mkdir("/dev/shm/tmp")},createSpecialDirectories(){H.mkdir("/proc");var u=H.mkdir("/proc/self");H.mkdir("/proc/self/fd"),H.mount({mount(){var S=H.createNode(u,"fd",16895,73);return S.node_ops={lookup(M,B){var U=+B,K=H.getStreamChecked(U),se={parent:null,mount:{mountpoint:"fake"},node_ops:{readlink:()=>K.path}};return se.parent=se,se}},S}},{},"/proc/self/fd")},createStandardStreams(){b.stdin?H.createDevice("/dev","stdin",b.stdin):H.symlink("/dev/tty","/dev/stdin"),b.stdout?H.createDevice("/dev","stdout",null,b.stdout):H.symlink("/dev/tty","/dev/stdout"),b.stderr?H.createDevice("/dev","stderr",null,b.stderr):H.symlink("/dev/tty1","/dev/stderr"),H.open("/dev/stdin",0),H.open("/dev/stdout",1),H.open("/dev/stderr",1)},ensureErrnoError(){H.ErrnoError||(H.ErrnoError=function(S,M){this.name="ErrnoError",this.node=M,this.setErrno=function(B){this.errno=B},this.setErrno(S),this.message="FS error"},H.ErrnoError.prototype=new Error,H.ErrnoError.prototype.constructor=H.ErrnoError,[44].forEach(u=>{H.genericErrors[u]=new H.ErrnoError(u),H.genericErrors[u].stack="<generic error, no stack>"}))},staticInit(){H.ensureErrnoError(),H.nameTable=new Array(4096),H.mount(Ie,{},"/"),H.createDefaultDirectories(),H.createDefaultDevices(),H.createSpecialDirectories(),H.filesystems={MEMFS:Ie}},init(u,S,M){H.init.initialized=!0,H.ensureErrnoError(),b.stdin=u||b.stdin,b.stdout=S||b.stdout,b.stderr=M||b.stderr,H.createStandardStreams()},quit(){H.init.initialized=!1;for(var u=0;u<H.streams.length;u++){var S=H.streams[u];S&&H.close(S)}},findObject(u,S){var M=H.analyzePath(u,S);return M.exists?M.object:null},analyzePath(u,S){try{var M=H.lookupPath(u,{follow:!S});u=M.path}catch{}var B={isRoot:!1,exists:!1,error:0,name:null,path:null,object:null,parentExists:!1,parentPath:null,parentObject:null};try{var M=H.lookupPath(u,{parent:!0});B.parentExists=!0,B.parentPath=M.path,B.parentObject=M.node,B.name=Ce.basename(u),M=H.lookupPath(u,{follow:!S}),B.exists=!0,B.path=M.path,B.object=M.node,B.name=M.node.name,B.isRoot=M.path==="/"}catch(U){B.error=U.errno}return B},createPath(u,S,M,B){u=typeof u=="string"?u:H.getPath(u);for(var U=S.split("/").reverse();U.length;){var K=U.pop();if(K){var se=Ce.join2(u,K);try{H.mkdir(se)}catch{}u=se}}return se},createFile(u,S,M,B,U){var K=Ce.join2(typeof u=="string"?u:H.getPath(u),S),se=ht(B,U);return H.create(K,se)},createDataFile(u,S,M,B,U,K){var se=S;u&&(u=typeof u=="string"?u:H.getPath(u),se=S?Ce.join2(u,S):u);var de=ht(B,U),$e=H.create(se,de);if(M){if(typeof M=="string"){for(var We=new Array(M.length),Ne=0,Oe=M.length;Ne<Oe;++Ne)We[Ne]=M.charCodeAt(Ne);M=We}H.chmod($e,de|146);var Be=H.open($e,577);H.write(Be,M,0,M.length,0,K),H.close(Be),H.chmod($e,de)}return $e},createDevice(u,S,M,B){var U=Ce.join2(typeof u=="string"?u:H.getPath(u),S),K=ht(!!M,!!B);H.createDevice.major||(H.createDevice.major=64);var se=H.makedev(H.createDevice.major++,0);return H.registerDevice(se,{open(de){de.seekable=!1},close(de){B&&B.buffer&&B.buffer.length&&B(10)},read(de,$e,We,Ne,Oe){for(var Be=0,ze=0;ze<Ne;ze++){var Ze;try{Ze=M()}catch{throw new H.ErrnoError(29)}if(Ze===void 0&&Be===0)throw new H.ErrnoError(6);if(Ze==null)break;Be++,$e[We+ze]=Ze}return Be&&(de.node.timestamp=Date.now()),Be},write(de,$e,We,Ne,Oe){for(var Be=0;Be<Ne;Be++)try{B($e[We+Be])}catch{throw new H.ErrnoError(29)}return Ne&&(de.node.timestamp=Date.now()),Be}}),H.mkdev(U,K,se)},forceLoadFile(u){if(u.isDevice||u.isFolder||u.link||u.contents)return!0;if(typeof XMLHttpRequest<"u")throw new Error("Lazy loading should have been performed (contents set) in createLazyFile, but it was not. Lazy loading only works in web workers. Use --embed-file or --preload-file in emcc on the main thread.");if(i)try{u.contents=He(i(u.url),!0),u.usedBytes=u.contents.length}catch{throw new H.ErrnoError(29)}else throw new Error("Cannot load without read() or XMLHttpRequest.")},createLazyFile(u,S,M,B,U){function K(){this.lengthKnown=!1,this.chunks=[]}if(K.prototype.get=function(ze){if(!(ze>this.length-1||ze<0)){var Ze=ze%this.chunkSize,at=ze/this.chunkSize|0;return this.getter(at)[Ze]}},K.prototype.setDataGetter=function(ze){this.getter=ze},K.prototype.cacheLength=function(){var ze=new XMLHttpRequest;if(ze.open("HEAD",M,!1),ze.send(null),!(ze.status>=200&&ze.status<300||ze.status===304))throw new Error("Couldn't load "+M+". Status: "+ze.status);var Ze=Number(ze.getResponseHeader("Content-length")),at,ct=(at=ze.getResponseHeader("Accept-Ranges"))&&at==="bytes",ut=(at=ze.getResponseHeader("Content-Encoding"))&&at==="gzip",lt=1024*1024;ct||(lt=Ze);var dt=(ot,It)=>{if(ot>It)throw new Error("invalid range ("+ot+", "+It+") or no bytes requested!");if(It>Ze-1)throw new Error("only "+Ze+" bytes available! programmer error!");var mt=new XMLHttpRequest;if(mt.open("GET",M,!1),Ze!==lt&&mt.setRequestHeader("Range","bytes="+ot+"-"+It),mt.responseType="arraybuffer",mt.overrideMimeType&&mt.overrideMimeType("text/plain; charset=x-user-defined"),mt.send(null),!(mt.status>=200&&mt.status<300||mt.status===304))throw new Error("Couldn't load "+M+". Status: "+mt.status);return mt.response!==void 0?new Uint8Array(mt.response||[]):He(mt.responseText||"",!0)},St=this;St.setDataGetter(ot=>{var It=ot*lt,mt=(ot+1)*lt-1;if(mt=Math.min(mt,Ze-1),typeof St.chunks[ot]>"u"&&(St.chunks[ot]=dt(It,mt)),typeof St.chunks[ot]>"u")throw new Error("doXHR failed!");return St.chunks[ot]}),(ut||!Ze)&&(lt=Ze=1,Ze=this.getter(0).length,lt=Ze,h("LazyFiles on gzip forces download of the whole file when length is accessed")),this._length=Ze,this._chunkSize=lt,this.lengthKnown=!0},typeof XMLHttpRequest<"u"){throw"Cannot do synchronous binary XHRs outside webworkers in modern browsers. Use --embed-file or --preload-file in emcc";var se,de}else var de={isDevice:!1,url:M};var $e=H.createFile(u,S,de,B,U);de.contents?$e.contents=de.contents:de.url&&($e.contents=null,$e.url=de.url),Object.defineProperties($e,{usedBytes:{get:function(){return this.contents.length}}});var We={},Ne=Object.keys($e.stream_ops);Ne.forEach(Be=>{var ze=$e.stream_ops[Be];We[Be]=function(){return H.forceLoadFile($e),ze.apply(null,arguments)}});function Oe(Be,ze,Ze,at,ct){var ut=Be.node.contents;if(ct>=ut.length)return 0;var lt=Math.min(ut.length-ct,at);if(ut.slice)for(var dt=0;dt<lt;dt++)ze[Ze+dt]=ut[ct+dt];else for(var dt=0;dt<lt;dt++)ze[Ze+dt]=ut.get(ct+dt);return lt}return We.read=(Be,ze,Ze,at,ct)=>(H.forceLoadFile($e),Oe(Be,ze,Ze,at,ct)),We.mmap=(Be,ze,Ze,at,ct)=>{H.forceLoadFile($e);var ut=gt();if(!ut)throw new H.ErrnoError(48);return Oe(Be,f,ut,ze,Ze),{ptr:ut,allocated:!0}},$e.stream_ops=We,$e}},st={DEFAULT_POLLMASK:5,calculateAt(u,S,M){if(Ce.isAbs(S))return S;var B;if(u===-100)B=H.cwd();else{var U=st.getStreamFromFD(u);B=U.path}if(S.length==0){if(!M)throw new H.ErrnoError(44);return B}return Ce.join2(B,S)},doStat(u,S,M){try{var B=u(S)}catch(de){if(de&&de.node&&Ce.normalize(S)!==Ce.normalize(H.getPath(de.node)))return-54;throw de}w[M>>2]=B.dev,w[M+4>>2]=B.mode,k[M+8>>2]=B.nlink,w[M+12>>2]=B.uid,w[M+16>>2]=B.gid,w[M+20>>2]=B.rdev,re=[B.size>>>0,(Z=B.size,+Math.abs(Z)>=1?Z>0?+Math.floor(Z/4294967296)>>>0:~~+Math.ceil((Z-+(~~Z>>>0))/4294967296)>>>0:0)],w[M+24>>2]=re[0],w[M+28>>2]=re[1],w[M+32>>2]=4096,w[M+36>>2]=B.blocks;var U=B.atime.getTime(),K=B.mtime.getTime(),se=B.ctime.getTime();return re=[Math.floor(U/1e3)>>>0,(Z=Math.floor(U/1e3),+Math.abs(Z)>=1?Z>0?+Math.floor(Z/4294967296)>>>0:~~+Math.ceil((Z-+(~~Z>>>0))/4294967296)>>>0:0)],w[M+40>>2]=re[0],w[M+44>>2]=re[1],k[M+48>>2]=U%1e3*1e3,re=[Math.floor(K/1e3)>>>0,(Z=Math.floor(K/1e3),+Math.abs(Z)>=1?Z>0?+Math.floor(Z/4294967296)>>>0:~~+Math.ceil((Z-+(~~Z>>>0))/4294967296)>>>0:0)],w[M+56>>2]=re[0],w[M+60>>2]=re[1],k[M+64>>2]=K%1e3*1e3,re=[Math.floor(se/1e3)>>>0,(Z=Math.floor(se/1e3),+Math.abs(Z)>=1?Z>0?+Math.floor(Z/4294967296)>>>0:~~+Math.ceil((Z-+(~~Z>>>0))/4294967296)>>>0:0)],w[M+72>>2]=re[0],w[M+76>>2]=re[1],k[M+80>>2]=se%1e3*1e3,re=[B.ino>>>0,(Z=B.ino,+Math.abs(Z)>=1?Z>0?+Math.floor(Z/4294967296)>>>0:~~+Math.ceil((Z-+(~~Z>>>0))/4294967296)>>>0:0)],w[M+88>>2]=re[0],w[M+92>>2]=re[1],0},doMsync(u,S,M,B,U){if(!H.isFile(S.node.mode))throw new H.ErrnoError(43);if(B&2)return 0;var K=v.slice(u,u+M);H.msync(S,K,U,M,B)},varargs:void 0,get(){var u=w[st.varargs>>2];return st.varargs+=4,u},getp(){return st.get()},getStr(u){var S=Pe(u);return S},getStreamFromFD(u){var S=H.getStreamChecked(u);return S}};function z(u,S,M){st.varargs=M;try{var B=st.getStreamFromFD(u);switch(S){case 0:{var U=st.get();if(U<0)return-28;for(;H.streams[U];)U++;var K;return K=H.createStream(B,U),K.fd}case 1:case 2:return 0;case 3:return B.flags;case 4:{var U=st.get();return B.flags|=U,0}case 5:{var U=st.getp(),se=0;return l[U+se>>1]=2,0}case 6:case 7:return 0;case 16:case 8:return-28;case 9:return Xe(28),-1;default:return-28}}catch(de){if(typeof H>"u"||de.name!=="ErrnoError")throw de;return-de.errno}}function nt(u,S,M){st.varargs=M;try{var B=st.getStreamFromFD(u);switch(S){case 21509:return B.tty?0:-59;case 21505:{if(!B.tty)return-59;if(B.tty.ops.ioctl_tcgets){var U=B.tty.ops.ioctl_tcgets(B),K=st.getp();w[K>>2]=U.c_iflag||0,w[K+4>>2]=U.c_oflag||0,w[K+8>>2]=U.c_cflag||0,w[K+12>>2]=U.c_lflag||0;for(var se=0;se<32;se++)f[K+se+17>>0]=U.c_cc[se]||0;return 0}return 0}case 21510:case 21511:case 21512:return B.tty?0:-59;case 21506:case 21507:case 21508:{if(!B.tty)return-59;if(B.tty.ops.ioctl_tcsets){for(var K=st.getp(),de=w[K>>2],$e=w[K+4>>2],We=w[K+8>>2],Ne=w[K+12>>2],Oe=[],se=0;se<32;se++)Oe.push(f[K+se+17>>0]);return B.tty.ops.ioctl_tcsets(B.tty,S,{c_iflag:de,c_oflag:$e,c_cflag:We,c_lflag:Ne,c_cc:Oe})}return 0}case 21519:{if(!B.tty)return-59;var K=st.getp();return w[K>>2]=0,0}case 21520:return B.tty?-28:-59;case 21531:{var K=st.getp();return H.ioctl(B,S,K)}case 21523:{if(!B.tty)return-59;if(B.tty.ops.ioctl_tiocgwinsz){var Be=B.tty.ops.ioctl_tiocgwinsz(B.tty),K=st.getp();l[K>>1]=Be[0],l[K+2>>1]=Be[1]}return 0}case 21524:return B.tty?0:-59;case 21515:return B.tty?0:-59;default:return-28}}catch(ze){if(typeof H>"u"||ze.name!=="ErrnoError")throw ze;return-ze.errno}}function er(u,S,M,B){st.varargs=B;try{S=st.getStr(S),S=st.calculateAt(u,S);var U=B?st.get():0;return H.open(S,M,U).fd}catch(K){if(typeof H>"u"||K.name!=="ErrnoError")throw K;return-K.errno}}var tr=(u,S,M)=>v.copyWithin(u,S,S+M),rr=u=>{Ve("OOM")},nr=u=>{v.length,rr()},Mt=u=>{g=u,X()||(b.onExit&&b.onExit(u),s=!0),t(u,new we(u))},jt=(u,S)=>{g=u,Mt(u)},Ft=jt;function ir(u){try{var S=st.getStreamFromFD(u);return H.close(S),0}catch(M){if(typeof H>"u"||M.name!=="ErrnoError")throw M;return M.errno}}var or=(u,S,M,B)=>{for(var U=0,K=0;K<M;K++){var se=k[S>>2],de=k[S+4>>2];S+=8;var $e=H.read(u,f,se,de,B);if($e<0)return-1;if(U+=$e,$e<de)break;typeof B<"u"&&(B+=$e)}return U};function sr(u,S,M,B){try{var U=st.getStreamFromFD(u),K=or(U,S,M);return k[B>>2]=K,0}catch(se){if(typeof H>"u"||se.name!=="ErrnoError")throw se;return se.errno}}var ar=(u,S)=>S+2097152>>>0<4194305-!!u?(u>>>0)+S*4294967296:NaN;function lr(u,S,M,B,U){var K=ar(S,M);try{if(isNaN(K))return 61;var se=st.getStreamFromFD(u);return H.llseek(se,K,B),re=[se.position>>>0,(Z=se.position,+Math.abs(Z)>=1?Z>0?+Math.floor(Z/4294967296)>>>0:~~+Math.ceil((Z-+(~~Z>>>0))/4294967296)>>>0:0)],w[U>>2]=re[0],w[U+4>>2]=re[1],se.getdents&&K===0&&B===0&&(se.getdents=null),0}catch(de){if(typeof H>"u"||de.name!=="ErrnoError")throw de;return de.errno}}var cr=(u,S,M,B)=>{for(var U=0,K=0;K<M;K++){var se=k[S>>2],de=k[S+4>>2];S+=8;var $e=H.write(u,f,se,de,B);if($e<0)return-1;U+=$e,typeof B<"u"&&(B+=$e)}return U};function Kt(u,S,M,B){try{var U=st.getStreamFromFD(u),K=cr(U,S,M);return k[B>>2]=K,0}catch(se){if(typeof H>"u"||se.name!=="ErrnoError")throw se;return se.errno}}var qt=u=>{if(u instanceof we||u=="unwind")return g;t(1,u)},hr=(u,S,M)=>_e(u,v,S,M),Yt=u=>{var S=oe(u)+1,M=Ut(S);return hr(u,M,S),M},Dt=function(u,S,M,B){u||(u=this),this.parent=u,this.mount=u.mount,this.mounted=null,this.id=H.nextInode++,this.name=S,this.mode=M,this.node_ops={},this.stream_ops={},this.rdev=B},Rt=365,Wt=146;Object.defineProperties(Dt.prototype,{read:{get:function(){return(this.mode&Rt)===Rt},set:function(u){u?this.mode|=Rt:this.mode&=~Rt}},write:{get:function(){return(this.mode&Wt)===Wt},set:function(u){u?this.mode|=Wt:this.mode&=~Wt}},isFolder:{get:function(){return H.isDir(this.mode)}},isDevice:{get:function(){return H.isChrdev(this.mode)}}}),H.FSNode=Dt,H.createPreloadedFile=Ht,H.staticInit();var Ct={a:Re,e:z,j:nt,g:er,h:tr,f:nr,b:Ft,d:ir,i:sr,k:lr,c:Kt},At=pe(),xt=b._main=(u,S)=>(xt=b._main=At.o)(u,S),Ot=()=>(Ot=At.p)(),Ut=u=>(Ut=At.q)(u);b.FS=H;var Bt;Se=function u(){Bt||$(),Bt||(Se=u)};function Xt(u=[]){var S=xt;u.unshift(a);var M=u.length,B=Ut((M+1)*4),U=B;u.forEach(se=>{k[U>>2]=Yt(se),U+=4}),k[U>>2]=0;try{var K=S(M,B);return jt(K,!0),K}catch(se){return qt(se)}}function $(u=c){if(me>0||(j(),me>0))return;function S(){Bt||(Bt=!0,b.calledRun=!0,!s&&(Y(),ee(),E(b),b.onRuntimeInitialized&&b.onRuntimeInitialized(),O&&Xt(u),ie()))}b.setStatus?(b.setStatus("Running..."),setTimeout(function(){setTimeout(function(){b.setStatus("")},1),S()},1)):S()}if(b.preInit)for(typeof b.preInit=="function"&&(b.preInit=[b.preInit]);b.preInit.length>0;)b.preInit.pop()();var O=!0;return b.noInitialRun&&(O=!1),$(),T.ready}})(),Dr=(()=>{var A=import.meta.url;return function(T={}){var b=T,E,R;b.ready=new Promise(($,O)=>{E=$,R=O});var d=Object.assign({},b),c=[],a="./this.program",t=($,O)=>{throw O},e=!0,n="";function r($){return b.locateFile?b.locateFile($,n):n+$}var i,o;typeof document<"u"&&document.currentScript&&(n=document.currentScript.src),A&&(n=A),n.indexOf("blob:")!==0?n=n.substr(0,n.replace(/[?#].*/,"").lastIndexOf("/")+1):n="",i=$=>{var O=new XMLHttpRequest;return O.open("GET",$,!1),O.send(null),O.responseText},o=($,O,u)=>{var S=new XMLHttpRequest;S.open("GET",$,!0),S.responseType="arraybuffer",S.onload=()=>{if(S.status==200||S.status==0&&S.response){O(S.response);return}u()},S.onerror=u,S.send(null)};var h=b.print||console.log.bind(console),p=b.printErr||console.error.bind(console);Object.assign(b,d),d=null,b.arguments&&(c=b.arguments),b.thisProgram&&(a=b.thisProgram),b.quit&&(t=b.quit);var y;b.wasmBinary&&(y=b.wasmBinary);var L=b.noExitRuntime||!0;typeof WebAssembly!="object"&&Fe("no native wasm support detected");var m,s=!1,g;function _($,O){$||Fe(O)}var f,v,l,w;function k(){var $=m.buffer;b.HEAP8=f=new Int8Array($),b.HEAP16=new Int16Array($),b.HEAPU8=v=new Uint8Array($),b.HEAPU16=new Uint16Array($),b.HEAP32=l=new Int32Array($),b.HEAPU32=w=new Uint32Array($),b.HEAPF32=new Float32Array($),b.HEAPF64=new Float64Array($)}var F=[],x=[],N=[],G=[],q=0;function ne(){return L||q>0}function X(){if(b.preRun)for(typeof b.preRun=="function"&&(b.preRun=[b.preRun]);b.preRun.length;)ie(b.preRun.shift());we(F)}function j(){!b.noFSInit&&!W.init.initialized&&W.init(),W.ignorePermissions=!1,we(x)}function Y(){we(N)}function ee(){if(b.postRun)for(typeof b.postRun=="function"&&(b.postRun=[b.postRun]);b.postRun.length;)ce(b.postRun.shift());we(G)}function ie($){F.unshift($)}function ae($){x.unshift($)}function ce($){G.unshift($)}var ye=0,me=null;function Se($){return $}function Le($){ye++,b.monitorRunDependencies&&b.monitorRunDependencies(ye)}function Ee($){if(ye--,b.monitorRunDependencies&&b.monitorRunDependencies(ye),ye==0&&me){var O=me;me=null,O()}}function Fe($){b.onAbort&&b.onAbort($),$="Aborted("+$+")",p($),s=!0,g=1,$+=". Build with -sASSERTIONS for more info.";var O=new WebAssembly.RuntimeError($);throw R(O),O}var Ve="data:application/octet-stream;base64,";function Je($){return $.startsWith(Ve)}var I;b.locateFile?(I="rgbfix.wasm",Je(I)||(I=r(I))):I=new URL("/assets/rgbfix-e7c7aa35.wasm",self.location).href;function ge($){if($==I&&y)return new Uint8Array(y);throw"both async and sync fetching of the wasm failed"}function fe($){return!y&&e&&typeof fetch=="function"?fetch($,{credentials:"same-origin"}).then(O=>{if(!O.ok)throw"failed to load wasm binary file at '"+$+"'";return O.arrayBuffer()}).catch(()=>ge($)):Promise.resolve().then(()=>ge($))}function te($,O,u){return fe($).then(S=>WebAssembly.instantiate(S,O)).then(S=>S).then(u,S=>{p(`failed to asynchronously prepare wasm: ${S}`),Fe(S)})}function J($,O,u,S){return!$&&typeof WebAssembly.instantiateStreaming=="function"&&!Je(O)&&typeof fetch=="function"?fetch(O,{credentials:"same-origin"}).then(M=>{var B=WebAssembly.instantiateStreaming(M,u);return B.then(S,function(U){return p(`wasm streaming compile failed: ${U}`),p("falling back to ArrayBuffer instantiation"),te(O,u,S)})}):te(O,u,S)}function he(){var $={a:Wt};function O(S,M){var B=S.exports;return Ct=B,m=Ct.m,k(),Ct.p,ae(Ct.n),Ee(),B}Le();function u(S){O(S.instance)}if(b.instantiateWasm)try{return b.instantiateWasm($,O)}catch(S){p(`Module.instantiateWasm callback failed with error: ${S}`),R(S)}return J(y,I,$,u).catch(R),{}}var pe,Z;function re($){this.name="ExitStatus",this.message=`Program terminated with exit(${$})`,this.status=$}var we=$=>{for(;$.length>0;)$.shift()(b)},ke=typeof TextDecoder<"u"?new TextDecoder("utf8"):void 0,be=($,O,u)=>{for(var S=O+u,M=O;$[M]&&!(M>=S);)++M;if(M-O>16&&$.buffer&&ke)return ke.decode($.subarray(O,M));for(var B="";O<M;){var U=$[O++];if(!(U&128)){B+=String.fromCharCode(U);continue}var K=$[O++]&63;if((U&224)==192){B+=String.fromCharCode((U&31)<<6|K);continue}var se=$[O++]&63;if((U&240)==224?U=(U&15)<<12|K<<6|se:U=(U&7)<<18|K<<12|se<<6|$[O++]&63,U<65536)B+=String.fromCharCode(U);else{var de=U-65536;B+=String.fromCharCode(55296|de>>10,56320|de&1023)}}return B},xe=($,O)=>$?be(v,$,O):"",Pe=($,O,u,S)=>{Fe(`Assertion failed: ${xe($)}, at: `+[O?xe(O):"unknown filename",u,S?xe(S):"unknown function"])},Re={isAbs:$=>$.charAt(0)==="/",splitPath:$=>{var O=/^(\/?|)([\s\S]*?)((?:\.{1,2}|[^\/]+?|)(\.[^.\/]*|))(?:[\/]*)$/;return O.exec($).slice(1)},normalizeArray:($,O)=>{for(var u=0,S=$.length-1;S>=0;S--){var M=$[S];M==="."?$.splice(S,1):M===".."?($.splice(S,1),u++):u&&($.splice(S,1),u--)}if(O)for(;u;u--)$.unshift("..");return $},normalize:$=>{var O=Re.isAbs($),u=$.substr(-1)==="/";return $=Re.normalizeArray($.split("/").filter(S=>!!S),!O).join("/"),!$&&!O&&($="."),$&&u&&($+="/"),(O?"/":"")+$},dirname:$=>{var O=Re.splitPath($),u=O[0],S=O[1];return!u&&!S?".":(S&&(S=S.substr(0,S.length-1)),u+S)},basename:$=>{if($==="/")return"/";$=Re.normalize($),$=$.replace(/\/$/,"");var O=$.lastIndexOf("/");return O===-1?$:$.substr(O+1)},join:function(){var $=Array.prototype.slice.call(arguments);return Re.normalize($.join("/"))},join2:($,O)=>Re.normalize($+"/"+O)},Xe=()=>{if(typeof crypto=="object"&&typeof crypto.getRandomValues=="function")return $=>crypto.getRandomValues($);Fe("initRandomDevice")},Ce=$=>(Ce=Xe())($),Qe={resolve:function(){for(var $="",O=!1,u=arguments.length-1;u>=-1&&!O;u--){var S=u>=0?arguments[u]:W.cwd();if(typeof S!="string")throw new TypeError("Arguments to path.resolve must be strings");if(!S)return"";$=S+"/"+$,O=Re.isAbs(S)}return $=Re.normalizeArray($.split("/").filter(M=>!!M),!O).join("/"),(O?"/":"")+$||"."},relative:($,O)=>{$=Qe.resolve($).substr(1),O=Qe.resolve(O).substr(1);function u(de){for(var $e=0;$e<de.length&&de[$e]==="";$e++);for(var We=de.length-1;We>=0&&de[We]==="";We--);return $e>We?[]:de.slice($e,We-$e+1)}for(var S=u($.split("/")),M=u(O.split("/")),B=Math.min(S.length,M.length),U=B,K=0;K<B;K++)if(S[K]!==M[K]){U=K;break}for(var se=[],K=U;K<S.length;K++)se.push("..");return se=se.concat(M.slice(U)),se.join("/")}},Te=[],Ke=$=>{for(var O=0,u=0;u<$.length;++u){var S=$.charCodeAt(u);S<=127?O++:S<=2047?O+=2:S>=55296&&S<=57343?(O+=4,++u):O+=3}return O},pt=($,O,u,S)=>{if(!(S>0))return 0;for(var M=u,B=u+S-1,U=0;U<$.length;++U){var K=$.charCodeAt(U);if(K>=55296&&K<=57343){var se=$.charCodeAt(++U);K=65536+((K&1023)<<10)|se&1023}if(K<=127){if(u>=B)break;O[u++]=K}else if(K<=2047){if(u+1>=B)break;O[u++]=192|K>>6,O[u++]=128|K&63}else if(K<=65535){if(u+2>=B)break;O[u++]=224|K>>12,O[u++]=128|K>>6&63,O[u++]=128|K&63}else{if(u+3>=B)break;O[u++]=240|K>>18,O[u++]=128|K>>12&63,O[u++]=128|K>>6&63,O[u++]=128|K&63}}return O[u]=0,u-M};function oe($,O,u){var S=u>0?u:Ke($)+1,M=new Array(S),B=pt($,M,0,M.length);return O&&(M.length=B),M}var _e=()=>{if(!Te.length){var $=null;if(typeof window<"u"&&typeof window.prompt=="function"?($=window.prompt("Input: "),$!==null&&($+=`
`)):typeof readline=="function"&&($=readline(),$!==null&&($+=`
`)),!$)return null;Te=oe($,!0)}return Te.shift()},He={ttys:[],init(){},shutdown(){},register($,O){He.ttys[$]={input:[],output:[],ops:O},W.registerDevice($,He.stream_ops)},stream_ops:{open($){var O=He.ttys[$.node.rdev];if(!O)throw new W.ErrnoError(43);$.tty=O,$.seekable=!1},close($){$.tty.ops.fsync($.tty)},fsync($){$.tty.ops.fsync($.tty)},read($,O,u,S,M){if(!$.tty||!$.tty.ops.get_char)throw new W.ErrnoError(60);for(var B=0,U=0;U<S;U++){var K;try{K=$.tty.ops.get_char($.tty)}catch{throw new W.ErrnoError(29)}if(K===void 0&&B===0)throw new W.ErrnoError(6);if(K==null)break;B++,O[u+U]=K}return B&&($.node.timestamp=Date.now()),B},write($,O,u,S,M){if(!$.tty||!$.tty.ops.put_char)throw new W.ErrnoError(60);try{for(var B=0;B<S;B++)$.tty.ops.put_char($.tty,O[u+B])}catch{throw new W.ErrnoError(29)}return S&&($.node.timestamp=Date.now()),B}},default_tty_ops:{get_char($){return _e()},put_char($,O){O===null||O===10?(h(be($.output,0)),$.output=[]):O!=0&&$.output.push(O)},fsync($){$.output&&$.output.length>0&&(h(be($.output,0)),$.output=[])},ioctl_tcgets($){return{c_iflag:25856,c_oflag:5,c_cflag:191,c_lflag:35387,c_cc:[3,28,127,21,4,0,1,0,17,19,26,0,18,15,23,22,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0]}},ioctl_tcsets($,O,u){return 0},ioctl_tiocgwinsz($){return[24,80]}},default_tty1_ops:{put_char($,O){O===null||O===10?(p(be($.output,0)),$.output=[]):O!=0&&$.output.push(O)},fsync($){$.output&&$.output.length>0&&(p(be($.output,0)),$.output=[])}}},et=$=>{Fe()},De={ops_table:null,mount($){return De.createNode(null,"/",16895,0)},createNode($,O,u,S){if(W.isBlkdev(u)||W.isFIFO(u))throw new W.ErrnoError(63);De.ops_table||(De.ops_table={dir:{node:{getattr:De.node_ops.getattr,setattr:De.node_ops.setattr,lookup:De.node_ops.lookup,mknod:De.node_ops.mknod,rename:De.node_ops.rename,unlink:De.node_ops.unlink,rmdir:De.node_ops.rmdir,readdir:De.node_ops.readdir,symlink:De.node_ops.symlink},stream:{llseek:De.stream_ops.llseek}},file:{node:{getattr:De.node_ops.getattr,setattr:De.node_ops.setattr},stream:{llseek:De.stream_ops.llseek,read:De.stream_ops.read,write:De.stream_ops.write,allocate:De.stream_ops.allocate,mmap:De.stream_ops.mmap,msync:De.stream_ops.msync}},link:{node:{getattr:De.node_ops.getattr,setattr:De.node_ops.setattr,readlink:De.node_ops.readlink},stream:{}},chrdev:{node:{getattr:De.node_ops.getattr,setattr:De.node_ops.setattr},stream:W.chrdev_stream_ops}});var M=W.createNode($,O,u,S);return W.isDir(M.mode)?(M.node_ops=De.ops_table.dir.node,M.stream_ops=De.ops_table.dir.stream,M.contents={}):W.isFile(M.mode)?(M.node_ops=De.ops_table.file.node,M.stream_ops=De.ops_table.file.stream,M.usedBytes=0,M.contents=null):W.isLink(M.mode)?(M.node_ops=De.ops_table.link.node,M.stream_ops=De.ops_table.link.stream):W.isChrdev(M.mode)&&(M.node_ops=De.ops_table.chrdev.node,M.stream_ops=De.ops_table.chrdev.stream),M.timestamp=Date.now(),$&&($.contents[O]=M,$.timestamp=M.timestamp),M},getFileDataAsTypedArray($){return $.contents?$.contents.subarray?$.contents.subarray(0,$.usedBytes):new Uint8Array($.contents):new Uint8Array(0)},expandFileStorage($,O){var u=$.contents?$.contents.length:0;if(!(u>=O)){var S=1024*1024;O=Math.max(O,u*(u<S?2:1.125)>>>0),u!=0&&(O=Math.max(O,256));var M=$.contents;$.contents=new Uint8Array(O),$.usedBytes>0&&$.contents.set(M.subarray(0,$.usedBytes),0)}},resizeFileStorage($,O){if($.usedBytes!=O)if(O==0)$.contents=null,$.usedBytes=0;else{var u=$.contents;$.contents=new Uint8Array(O),u&&$.contents.set(u.subarray(0,Math.min(O,$.usedBytes))),$.usedBytes=O}},node_ops:{getattr($){var O={};return O.dev=W.isChrdev($.mode)?$.id:1,O.ino=$.id,O.mode=$.mode,O.nlink=1,O.uid=0,O.gid=0,O.rdev=$.rdev,W.isDir($.mode)?O.size=4096:W.isFile($.mode)?O.size=$.usedBytes:W.isLink($.mode)?O.size=$.link.length:O.size=0,O.atime=new Date($.timestamp),O.mtime=new Date($.timestamp),O.ctime=new Date($.timestamp),O.blksize=4096,O.blocks=Math.ceil(O.size/O.blksize),O},setattr($,O){O.mode!==void 0&&($.mode=O.mode),O.timestamp!==void 0&&($.timestamp=O.timestamp),O.size!==void 0&&De.resizeFileStorage($,O.size)},lookup($,O){throw W.genericErrors[44]},mknod($,O,u,S){return De.createNode($,O,u,S)},rename($,O,u){if(W.isDir($.mode)){var S;try{S=W.lookupNode(O,u)}catch{}if(S)for(var M in S.contents)throw new W.ErrnoError(55)}delete $.parent.contents[$.name],$.parent.timestamp=Date.now(),$.name=u,O.contents[u]=$,O.timestamp=$.parent.timestamp,$.parent=O},unlink($,O){delete $.contents[O],$.timestamp=Date.now()},rmdir($,O){var u=W.lookupNode($,O);for(var S in u.contents)throw new W.ErrnoError(55);delete $.contents[O],$.timestamp=Date.now()},readdir($){var O=[".",".."];for(var u in $.contents)$.contents.hasOwnProperty(u)&&O.push(u);return O},symlink($,O,u){var S=De.createNode($,O,41471,0);return S.link=u,S},readlink($){if(!W.isLink($.mode))throw new W.ErrnoError(28);return $.link}},stream_ops:{read($,O,u,S,M){var B=$.node.contents;if(M>=$.node.usedBytes)return 0;var U=Math.min($.node.usedBytes-M,S);if(U>8&&B.subarray)O.set(B.subarray(M,M+U),u);else for(var K=0;K<U;K++)O[u+K]=B[M+K];return U},write($,O,u,S,M,B){if(!S)return 0;var U=$.node;if(U.timestamp=Date.now(),O.subarray&&(!U.contents||U.contents.subarray)){if(B)return U.contents=O.subarray(u,u+S),U.usedBytes=S,S;if(U.usedBytes===0&&M===0)return U.contents=O.slice(u,u+S),U.usedBytes=S,S;if(M+S<=U.usedBytes)return U.contents.set(O.subarray(u,u+S),M),S}if(De.expandFileStorage(U,M+S),U.contents.subarray&&O.subarray)U.contents.set(O.subarray(u,u+S),M);else for(var K=0;K<S;K++)U.contents[M+K]=O[u+K];return U.usedBytes=Math.max(U.usedBytes,M+S),S},llseek($,O,u){var S=O;if(u===1?S+=$.position:u===2&&W.isFile($.node.mode)&&(S+=$.node.usedBytes),S<0)throw new W.ErrnoError(28);return S},allocate($,O,u){De.expandFileStorage($.node,O+u),$.node.usedBytes=Math.max($.node.usedBytes,O+u)},mmap($,O,u,S,M){if(!W.isFile($.node.mode))throw new W.ErrnoError(43);var B,U,K=$.node.contents;if(!(M&2)&&K.buffer===f.buffer)U=!1,B=K.byteOffset;else{if((u>0||u+O<K.length)&&(K.subarray?K=K.subarray(u,u+O):K=Array.prototype.slice.call(K,u,u+O)),U=!0,B=et(),!B)throw new W.ErrnoError(48);f.set(K,B)}return{ptr:B,allocated:U}},msync($,O,u,S,M){return De.stream_ops.write($,O,0,S,u,!1),0}}},gt=($,O,u,S)=>{var M=S?"":`al ${$}`;o($,B=>{_(B,`Loading data file "${$}" failed (no arrayBuffer).`),O(new Uint8Array(B)),M&&Ee()},B=>{if(u)u();else throw`Loading data file "${$}" failed.`}),M&&Le()},Ie=b.preloadPlugins||[],vt=($,O,u,S)=>{typeof Browser<"u"&&Browser.init();var M=!1;return Ie.forEach(B=>{M||B.canHandle(O)&&(B.handle($,O,u,S),M=!0)}),M},Ue=($,O,u,S,M,B,U,K,se,de)=>{var $e=O?Qe.resolve(Re.join2($,O)):$;function We(Ne){function Oe(Be){de&&de(),K||W.createDataFile($,O,Be,S,M,se),B&&B(),Ee()}vt(Ne,$e,Oe,()=>{U&&U(),Ee()})||Oe(Ne)}Le(),typeof u=="string"?gt(u,Ne=>We(Ne),U):We(u)},zt=$=>{var O={r:0,"r+":2,w:577,"w+":578,a:1089,"a+":1090},u=O[$];if(typeof u>"u")throw new Error(`Unknown file open mode: ${$}`);return u},Ht=($,O)=>{var u=0;return $&&(u|=365),O&&(u|=146),u},W={root:null,mounts:[],devices:{},streams:[],nextInode:1,nameTable:null,currentPath:"/",initialized:!1,ignorePermissions:!0,ErrnoError:null,genericErrors:{},filesystems:null,syncFSRequests:0,lookupPath($,O={}){if($=Qe.resolve($),!$)return{path:"",node:null};var u={follow_mount:!0,recurse_count:0};if(O=Object.assign(u,O),O.recurse_count>8)throw new W.ErrnoError(32);for(var S=$.split("/").filter(We=>!!We),M=W.root,B="/",U=0;U<S.length;U++){var K=U===S.length-1;if(K&&O.parent)break;if(M=W.lookupNode(M,S[U]),B=Re.join2(B,S[U]),W.isMountpoint(M)&&(!K||K&&O.follow_mount)&&(M=M.mounted.root),!K||O.follow)for(var se=0;W.isLink(M.mode);){var de=W.readlink(B);B=Qe.resolve(Re.dirname(B),de);var $e=W.lookupPath(B,{recurse_count:O.recurse_count+1});if(M=$e.node,se++>40)throw new W.ErrnoError(32)}}return{path:B,node:M}},getPath($){for(var O;;){if(W.isRoot($)){var u=$.mount.mountpoint;return O?u[u.length-1]!=="/"?`${u}/${O}`:u+O:u}O=O?`${$.name}/${O}`:$.name,$=$.parent}},hashName($,O){for(var u=0,S=0;S<O.length;S++)u=(u<<5)-u+O.charCodeAt(S)|0;return($+u>>>0)%W.nameTable.length},hashAddNode($){var O=W.hashName($.parent.id,$.name);$.name_next=W.nameTable[O],W.nameTable[O]=$},hashRemoveNode($){var O=W.hashName($.parent.id,$.name);if(W.nameTable[O]===$)W.nameTable[O]=$.name_next;else for(var u=W.nameTable[O];u;){if(u.name_next===$){u.name_next=$.name_next;break}u=u.name_next}},lookupNode($,O){var u=W.mayLookup($);if(u)throw new W.ErrnoError(u,$);for(var S=W.hashName($.id,O),M=W.nameTable[S];M;M=M.name_next){var B=M.name;if(M.parent.id===$.id&&B===O)return M}return W.lookup($,O)},createNode($,O,u,S){var M=new W.FSNode($,O,u,S);return W.hashAddNode(M),M},destroyNode($){W.hashRemoveNode($)},isRoot($){return $===$.parent},isMountpoint($){return!!$.mounted},isFile($){return($&61440)===32768},isDir($){return($&61440)===16384},isLink($){return($&61440)===40960},isChrdev($){return($&61440)===8192},isBlkdev($){return($&61440)===24576},isFIFO($){return($&61440)===4096},isSocket($){return($&49152)===49152},flagsToPermissionString($){var O=["r","w","rw"][$&3];return $&512&&(O+="w"),O},nodePermissions($,O){return W.ignorePermissions?0:O.includes("r")&&!($.mode&292)||O.includes("w")&&!($.mode&146)||O.includes("x")&&!($.mode&73)?2:0},mayLookup($){var O=W.nodePermissions($,"x");return O||($.node_ops.lookup?0:2)},mayCreate($,O){try{var u=W.lookupNode($,O);return 20}catch{}return W.nodePermissions($,"wx")},mayDelete($,O,u){var S;try{S=W.lookupNode($,O)}catch(B){return B.errno}var M=W.nodePermissions($,"wx");if(M)return M;if(u){if(!W.isDir(S.mode))return 54;if(W.isRoot(S)||W.getPath(S)===W.cwd())return 10}else if(W.isDir(S.mode))return 31;return 0},mayOpen($,O){return $?W.isLink($.mode)?32:W.isDir($.mode)&&(W.flagsToPermissionString(O)!=="r"||O&512)?31:W.nodePermissions($,W.flagsToPermissionString(O)):44},MAX_OPEN_FDS:4096,nextfd(){for(var $=0;$<=W.MAX_OPEN_FDS;$++)if(!W.streams[$])return $;throw new W.ErrnoError(33)},getStreamChecked($){var O=W.getStream($);if(!O)throw new W.ErrnoError(8);return O},getStream:$=>W.streams[$],createStream($,O=-1){return W.FSStream||(W.FSStream=function(){this.shared={}},W.FSStream.prototype={},Object.defineProperties(W.FSStream.prototype,{object:{get(){return this.node},set(u){this.node=u}},isRead:{get(){return(this.flags&2097155)!==1}},isWrite:{get(){return(this.flags&2097155)!==0}},isAppend:{get(){return this.flags&1024}},flags:{get(){return this.shared.flags},set(u){this.shared.flags=u}},position:{get(){return this.shared.position},set(u){this.shared.position=u}}})),$=Object.assign(new W.FSStream,$),O==-1&&(O=W.nextfd()),$.fd=O,W.streams[O]=$,$},closeStream($){W.streams[$]=null},chrdev_stream_ops:{open($){var O=W.getDevice($.node.rdev);$.stream_ops=O.stream_ops,$.stream_ops.open&&$.stream_ops.open($)},llseek(){throw new W.ErrnoError(70)}},major:$=>$>>8,minor:$=>$&255,makedev:($,O)=>$<<8|O,registerDevice($,O){W.devices[$]={stream_ops:O}},getDevice:$=>W.devices[$],getMounts($){for(var O=[],u=[$];u.length;){var S=u.pop();O.push(S),u.push.apply(u,S.mounts)}return O},syncfs($,O){typeof $=="function"&&(O=$,$=!1),W.syncFSRequests++,W.syncFSRequests>1&&p(`warning: ${W.syncFSRequests} FS.syncfs operations in flight at once, probably just doing extra work`);var u=W.getMounts(W.root.mount),S=0;function M(U){return W.syncFSRequests--,O(U)}function B(U){if(U)return B.errored?void 0:(B.errored=!0,M(U));++S>=u.length&&M(null)}u.forEach(U=>{if(!U.type.syncfs)return B(null);U.type.syncfs(U,$,B)})},mount($,O,u){var S=u==="/",M=!u,B;if(S&&W.root)throw new W.ErrnoError(10);if(!S&&!M){var U=W.lookupPath(u,{follow_mount:!1});if(u=U.path,B=U.node,W.isMountpoint(B))throw new W.ErrnoError(10);if(!W.isDir(B.mode))throw new W.ErrnoError(54)}var K={type:$,opts:O,mountpoint:u,mounts:[]},se=$.mount(K);return se.mount=K,K.root=se,S?W.root=se:B&&(B.mounted=K,B.mount&&B.mount.mounts.push(K)),se},unmount($){var O=W.lookupPath($,{follow_mount:!1});if(!W.isMountpoint(O.node))throw new W.ErrnoError(28);var u=O.node,S=u.mounted,M=W.getMounts(S);Object.keys(W.nameTable).forEach(U=>{for(var K=W.nameTable[U];K;){var se=K.name_next;M.includes(K.mount)&&W.destroyNode(K),K=se}}),u.mounted=null;var B=u.mount.mounts.indexOf(S);u.mount.mounts.splice(B,1)},lookup($,O){return $.node_ops.lookup($,O)},mknod($,O,u){var S=W.lookupPath($,{parent:!0}),M=S.node,B=Re.basename($);if(!B||B==="."||B==="..")throw new W.ErrnoError(28);var U=W.mayCreate(M,B);if(U)throw new W.ErrnoError(U);if(!M.node_ops.mknod)throw new W.ErrnoError(63);return M.node_ops.mknod(M,B,O,u)},create($,O){return O=O!==void 0?O:438,O&=4095,O|=32768,W.mknod($,O,0)},mkdir($,O){return O=O!==void 0?O:511,O&=1023,O|=16384,W.mknod($,O,0)},mkdirTree($,O){for(var u=$.split("/"),S="",M=0;M<u.length;++M)if(u[M]){S+="/"+u[M];try{W.mkdir(S,O)}catch(B){if(B.errno!=20)throw B}}},mkdev($,O,u){return typeof u>"u"&&(u=O,O=438),O|=8192,W.mknod($,O,u)},symlink($,O){if(!Qe.resolve($))throw new W.ErrnoError(44);var u=W.lookupPath(O,{parent:!0}),S=u.node;if(!S)throw new W.ErrnoError(44);var M=Re.basename(O),B=W.mayCreate(S,M);if(B)throw new W.ErrnoError(B);if(!S.node_ops.symlink)throw new W.ErrnoError(63);return S.node_ops.symlink(S,M,$)},rename($,O){var u=Re.dirname($),S=Re.dirname(O),M=Re.basename($),B=Re.basename(O),U,K,se;if(U=W.lookupPath($,{parent:!0}),K=U.node,U=W.lookupPath(O,{parent:!0}),se=U.node,!K||!se)throw new W.ErrnoError(44);if(K.mount!==se.mount)throw new W.ErrnoError(75);var de=W.lookupNode(K,M),$e=Qe.relative($,S);if($e.charAt(0)!==".")throw new W.ErrnoError(28);if($e=Qe.relative(O,u),$e.charAt(0)!==".")throw new W.ErrnoError(55);var We;try{We=W.lookupNode(se,B)}catch{}if(de!==We){var Ne=W.isDir(de.mode),Oe=W.mayDelete(K,M,Ne);if(Oe)throw new W.ErrnoError(Oe);if(Oe=We?W.mayDelete(se,B,Ne):W.mayCreate(se,B),Oe)throw new W.ErrnoError(Oe);if(!K.node_ops.rename)throw new W.ErrnoError(63);if(W.isMountpoint(de)||We&&W.isMountpoint(We))throw new W.ErrnoError(10);if(se!==K&&(Oe=W.nodePermissions(K,"w"),Oe))throw new W.ErrnoError(Oe);W.hashRemoveNode(de);try{K.node_ops.rename(de,se,B)}catch(Be){throw Be}finally{W.hashAddNode(de)}}},rmdir($){var O=W.lookupPath($,{parent:!0}),u=O.node,S=Re.basename($),M=W.lookupNode(u,S),B=W.mayDelete(u,S,!0);if(B)throw new W.ErrnoError(B);if(!u.node_ops.rmdir)throw new W.ErrnoError(63);if(W.isMountpoint(M))throw new W.ErrnoError(10);u.node_ops.rmdir(u,S),W.destroyNode(M)},readdir($){var O=W.lookupPath($,{follow:!0}),u=O.node;if(!u.node_ops.readdir)throw new W.ErrnoError(54);return u.node_ops.readdir(u)},unlink($){var O=W.lookupPath($,{parent:!0}),u=O.node;if(!u)throw new W.ErrnoError(44);var S=Re.basename($),M=W.lookupNode(u,S),B=W.mayDelete(u,S,!1);if(B)throw new W.ErrnoError(B);if(!u.node_ops.unlink)throw new W.ErrnoError(63);if(W.isMountpoint(M))throw new W.ErrnoError(10);u.node_ops.unlink(u,S),W.destroyNode(M)},readlink($){var O=W.lookupPath($),u=O.node;if(!u)throw new W.ErrnoError(44);if(!u.node_ops.readlink)throw new W.ErrnoError(28);return Qe.resolve(W.getPath(u.parent),u.node_ops.readlink(u))},stat($,O){var u=W.lookupPath($,{follow:!O}),S=u.node;if(!S)throw new W.ErrnoError(44);if(!S.node_ops.getattr)throw new W.ErrnoError(63);return S.node_ops.getattr(S)},lstat($){return W.stat($,!0)},chmod($,O,u){var S;if(typeof $=="string"){var M=W.lookupPath($,{follow:!u});S=M.node}else S=$;if(!S.node_ops.setattr)throw new W.ErrnoError(63);S.node_ops.setattr(S,{mode:O&4095|S.mode&-4096,timestamp:Date.now()})},lchmod($,O){W.chmod($,O,!0)},fchmod($,O){var u=W.getStreamChecked($);W.chmod(u.node,O)},chown($,O,u,S){var M;if(typeof $=="string"){var B=W.lookupPath($,{follow:!S});M=B.node}else M=$;if(!M.node_ops.setattr)throw new W.ErrnoError(63);M.node_ops.setattr(M,{timestamp:Date.now()})},lchown($,O,u){W.chown($,O,u,!0)},fchown($,O,u){var S=W.getStreamChecked($);W.chown(S.node,O,u)},truncate($,O){if(O<0)throw new W.ErrnoError(28);var u;if(typeof $=="string"){var S=W.lookupPath($,{follow:!0});u=S.node}else u=$;if(!u.node_ops.setattr)throw new W.ErrnoError(63);if(W.isDir(u.mode))throw new W.ErrnoError(31);if(!W.isFile(u.mode))throw new W.ErrnoError(28);var M=W.nodePermissions(u,"w");if(M)throw new W.ErrnoError(M);u.node_ops.setattr(u,{size:O,timestamp:Date.now()})},ftruncate($,O){var u=W.getStreamChecked($);if(!(u.flags&2097155))throw new W.ErrnoError(28);W.truncate(u.node,O)},utime($,O,u){var S=W.lookupPath($,{follow:!0}),M=S.node;M.node_ops.setattr(M,{timestamp:Math.max(O,u)})},open($,O,u){if($==="")throw new W.ErrnoError(44);O=typeof O=="string"?zt(O):O,u=typeof u>"u"?438:u,O&64?u=u&4095|32768:u=0;var S;if(typeof $=="object")S=$;else{$=Re.normalize($);try{var M=W.lookupPath($,{follow:!(O&131072)});S=M.node}catch{}}var B=!1;if(O&64)if(S){if(O&128)throw new W.ErrnoError(20)}else S=W.mknod($,u,0),B=!0;if(!S)throw new W.ErrnoError(44);if(W.isChrdev(S.mode)&&(O&=-513),O&65536&&!W.isDir(S.mode))throw new W.ErrnoError(54);if(!B){var U=W.mayOpen(S,O);if(U)throw new W.ErrnoError(U)}O&512&&!B&&W.truncate(S,0),O&=-131713;var K=W.createStream({node:S,path:W.getPath(S),flags:O,seekable:!0,position:0,stream_ops:S.stream_ops,ungotten:[],error:!1});return K.stream_ops.open&&K.stream_ops.open(K),b.logReadFiles&&!(O&1)&&(W.readFiles||(W.readFiles={}),$ in W.readFiles||(W.readFiles[$]=1)),K},close($){if(W.isClosed($))throw new W.ErrnoError(8);$.getdents&&($.getdents=null);try{$.stream_ops.close&&$.stream_ops.close($)}catch(O){throw O}finally{W.closeStream($.fd)}$.fd=null},isClosed($){return $.fd===null},llseek($,O,u){if(W.isClosed($))throw new W.ErrnoError(8);if(!$.seekable||!$.stream_ops.llseek)throw new W.ErrnoError(70);if(u!=0&&u!=1&&u!=2)throw new W.ErrnoError(28);return $.position=$.stream_ops.llseek($,O,u),$.ungotten=[],$.position},read($,O,u,S,M){if(S<0||M<0)throw new W.ErrnoError(28);if(W.isClosed($))throw new W.ErrnoError(8);if(($.flags&2097155)===1)throw new W.ErrnoError(8);if(W.isDir($.node.mode))throw new W.ErrnoError(31);if(!$.stream_ops.read)throw new W.ErrnoError(28);var B=typeof M<"u";if(!B)M=$.position;else if(!$.seekable)throw new W.ErrnoError(70);var U=$.stream_ops.read($,O,u,S,M);return B||($.position+=U),U},write($,O,u,S,M,B){if(S<0||M<0)throw new W.ErrnoError(28);if(W.isClosed($))throw new W.ErrnoError(8);if(!($.flags&2097155))throw new W.ErrnoError(8);if(W.isDir($.node.mode))throw new W.ErrnoError(31);if(!$.stream_ops.write)throw new W.ErrnoError(28);$.seekable&&$.flags&1024&&W.llseek($,0,2);var U=typeof M<"u";if(!U)M=$.position;else if(!$.seekable)throw new W.ErrnoError(70);var K=$.stream_ops.write($,O,u,S,M,B);return U||($.position+=K),K},allocate($,O,u){if(W.isClosed($))throw new W.ErrnoError(8);if(O<0||u<=0)throw new W.ErrnoError(28);if(!($.flags&2097155))throw new W.ErrnoError(8);if(!W.isFile($.node.mode)&&!W.isDir($.node.mode))throw new W.ErrnoError(43);if(!$.stream_ops.allocate)throw new W.ErrnoError(138);$.stream_ops.allocate($,O,u)},mmap($,O,u,S,M){if(S&2&&!(M&2)&&($.flags&2097155)!==2)throw new W.ErrnoError(2);if(($.flags&2097155)===1)throw new W.ErrnoError(2);if(!$.stream_ops.mmap)throw new W.ErrnoError(43);return $.stream_ops.mmap($,O,u,S,M)},msync($,O,u,S,M){return $.stream_ops.msync?$.stream_ops.msync($,O,u,S,M):0},munmap:$=>0,ioctl($,O,u){if(!$.stream_ops.ioctl)throw new W.ErrnoError(59);return $.stream_ops.ioctl($,O,u)},readFile($,O={}){if(O.flags=O.flags||0,O.encoding=O.encoding||"binary",O.encoding!=="utf8"&&O.encoding!=="binary")throw new Error(`Invalid encoding type "${O.encoding}"`);var u,S=W.open($,O.flags),M=W.stat($),B=M.size,U=new Uint8Array(B);return W.read(S,U,0,B,0),O.encoding==="utf8"?u=be(U,0):O.encoding==="binary"&&(u=U),W.close(S),u},writeFile($,O,u={}){u.flags=u.flags||577;var S=W.open($,u.flags,u.mode);if(typeof O=="string"){var M=new Uint8Array(Ke(O)+1),B=pt(O,M,0,M.length);W.write(S,M,0,B,void 0,u.canOwn)}else if(ArrayBuffer.isView(O))W.write(S,O,0,O.byteLength,void 0,u.canOwn);else throw new Error("Unsupported data type");W.close(S)},cwd:()=>W.currentPath,chdir($){var O=W.lookupPath($,{follow:!0});if(O.node===null)throw new W.ErrnoError(44);if(!W.isDir(O.node.mode))throw new W.ErrnoError(54);var u=W.nodePermissions(O.node,"x");if(u)throw new W.ErrnoError(u);W.currentPath=O.path},createDefaultDirectories(){W.mkdir("/tmp"),W.mkdir("/home"),W.mkdir("/home/web_user")},createDefaultDevices(){W.mkdir("/dev"),W.registerDevice(W.makedev(1,3),{read:()=>0,write:(S,M,B,U,K)=>U}),W.mkdev("/dev/null",W.makedev(1,3)),He.register(W.makedev(5,0),He.default_tty_ops),He.register(W.makedev(6,0),He.default_tty1_ops),W.mkdev("/dev/tty",W.makedev(5,0)),W.mkdev("/dev/tty1",W.makedev(6,0));var $=new Uint8Array(1024),O=0,u=()=>(O===0&&(O=Ce($).byteLength),$[--O]);W.createDevice("/dev","random",u),W.createDevice("/dev","urandom",u),W.mkdir("/dev/shm"),W.mkdir("/dev/shm/tmp")},createSpecialDirectories(){W.mkdir("/proc");var $=W.mkdir("/proc/self");W.mkdir("/proc/self/fd"),W.mount({mount(){var O=W.createNode($,"fd",16895,73);return O.node_ops={lookup(u,S){var M=+S,B=W.getStreamChecked(M),U={parent:null,mount:{mountpoint:"fake"},node_ops:{readlink:()=>B.path}};return U.parent=U,U}},O}},{},"/proc/self/fd")},createStandardStreams(){b.stdin?W.createDevice("/dev","stdin",b.stdin):W.symlink("/dev/tty","/dev/stdin"),b.stdout?W.createDevice("/dev","stdout",null,b.stdout):W.symlink("/dev/tty","/dev/stdout"),b.stderr?W.createDevice("/dev","stderr",null,b.stderr):W.symlink("/dev/tty1","/dev/stderr"),W.open("/dev/stdin",0),W.open("/dev/stdout",1),W.open("/dev/stderr",1)},ensureErrnoError(){W.ErrnoError||(W.ErrnoError=function(O,u){this.name="ErrnoError",this.node=u,this.setErrno=function(S){this.errno=S},this.setErrno(O),this.message="FS error"},W.ErrnoError.prototype=new Error,W.ErrnoError.prototype.constructor=W.ErrnoError,[44].forEach($=>{W.genericErrors[$]=new W.ErrnoError($),W.genericErrors[$].stack="<generic error, no stack>"}))},staticInit(){W.ensureErrnoError(),W.nameTable=new Array(4096),W.mount(De,{},"/"),W.createDefaultDirectories(),W.createDefaultDevices(),W.createSpecialDirectories(),W.filesystems={MEMFS:De}},init($,O,u){W.init.initialized=!0,W.ensureErrnoError(),b.stdin=$||b.stdin,b.stdout=O||b.stdout,b.stderr=u||b.stderr,W.createStandardStreams()},quit(){W.init.initialized=!1;for(var $=0;$<W.streams.length;$++){var O=W.streams[$];O&&W.close(O)}},findObject($,O){var u=W.analyzePath($,O);return u.exists?u.object:null},analyzePath($,O){try{var u=W.lookupPath($,{follow:!O});$=u.path}catch{}var S={isRoot:!1,exists:!1,error:0,name:null,path:null,object:null,parentExists:!1,parentPath:null,parentObject:null};try{var u=W.lookupPath($,{parent:!0});S.parentExists=!0,S.parentPath=u.path,S.parentObject=u.node,S.name=Re.basename($),u=W.lookupPath($,{follow:!O}),S.exists=!0,S.path=u.path,S.object=u.node,S.name=u.node.name,S.isRoot=u.path==="/"}catch(M){S.error=M.errno}return S},createPath($,O,u,S){$=typeof $=="string"?$:W.getPath($);for(var M=O.split("/").reverse();M.length;){var B=M.pop();if(B){var U=Re.join2($,B);try{W.mkdir(U)}catch{}$=U}}return U},createFile($,O,u,S,M){var B=Re.join2(typeof $=="string"?$:W.getPath($),O),U=Ht(S,M);return W.create(B,U)},createDataFile($,O,u,S,M,B){var U=O;$&&($=typeof $=="string"?$:W.getPath($),U=O?Re.join2($,O):$);var K=Ht(S,M),se=W.create(U,K);if(u){if(typeof u=="string"){for(var de=new Array(u.length),$e=0,We=u.length;$e<We;++$e)de[$e]=u.charCodeAt($e);u=de}W.chmod(se,K|146);var Ne=W.open(se,577);W.write(Ne,u,0,u.length,0,B),W.close(Ne),W.chmod(se,K)}return se},createDevice($,O,u,S){var M=Re.join2(typeof $=="string"?$:W.getPath($),O),B=Ht(!!u,!!S);W.createDevice.major||(W.createDevice.major=64);var U=W.makedev(W.createDevice.major++,0);return W.registerDevice(U,{open(K){K.seekable=!1},close(K){S&&S.buffer&&S.buffer.length&&S(10)},read(K,se,de,$e,We){for(var Ne=0,Oe=0;Oe<$e;Oe++){var Be;try{Be=u()}catch{throw new W.ErrnoError(29)}if(Be===void 0&&Ne===0)throw new W.ErrnoError(6);if(Be==null)break;Ne++,se[de+Oe]=Be}return Ne&&(K.node.timestamp=Date.now()),Ne},write(K,se,de,$e,We){for(var Ne=0;Ne<$e;Ne++)try{S(se[de+Ne])}catch{throw new W.ErrnoError(29)}return $e&&(K.node.timestamp=Date.now()),Ne}}),W.mkdev(M,B,U)},forceLoadFile($){if($.isDevice||$.isFolder||$.link||$.contents)return!0;if(typeof XMLHttpRequest<"u")throw new Error("Lazy loading should have been performed (contents set) in createLazyFile, but it was not. Lazy loading only works in web workers. Use --embed-file or --preload-file in emcc on the main thread.");if(i)try{$.contents=oe(i($.url),!0),$.usedBytes=$.contents.length}catch{throw new W.ErrnoError(29)}else throw new Error("Cannot load without read() or XMLHttpRequest.")},createLazyFile($,O,u,S,M){function B(){this.lengthKnown=!1,this.chunks=[]}if(B.prototype.get=function(Oe){if(!(Oe>this.length-1||Oe<0)){var Be=Oe%this.chunkSize,ze=Oe/this.chunkSize|0;return this.getter(ze)[Be]}},B.prototype.setDataGetter=function(Oe){this.getter=Oe},B.prototype.cacheLength=function(){var Oe=new XMLHttpRequest;if(Oe.open("HEAD",u,!1),Oe.send(null),!(Oe.status>=200&&Oe.status<300||Oe.status===304))throw new Error("Couldn't load "+u+". Status: "+Oe.status);var Be=Number(Oe.getResponseHeader("Content-length")),ze,Ze=(ze=Oe.getResponseHeader("Accept-Ranges"))&&ze==="bytes",at=(ze=Oe.getResponseHeader("Content-Encoding"))&&ze==="gzip",ct=1024*1024;Ze||(ct=Be);var ut=(dt,St)=>{if(dt>St)throw new Error("invalid range ("+dt+", "+St+") or no bytes requested!");if(St>Be-1)throw new Error("only "+Be+" bytes available! programmer error!");var ot=new XMLHttpRequest;if(ot.open("GET",u,!1),Be!==ct&&ot.setRequestHeader("Range","bytes="+dt+"-"+St),ot.responseType="arraybuffer",ot.overrideMimeType&&ot.overrideMimeType("text/plain; charset=x-user-defined"),ot.send(null),!(ot.status>=200&&ot.status<300||ot.status===304))throw new Error("Couldn't load "+u+". Status: "+ot.status);return ot.response!==void 0?new Uint8Array(ot.response||[]):oe(ot.responseText||"",!0)},lt=this;lt.setDataGetter(dt=>{var St=dt*ct,ot=(dt+1)*ct-1;if(ot=Math.min(ot,Be-1),typeof lt.chunks[dt]>"u"&&(lt.chunks[dt]=ut(St,ot)),typeof lt.chunks[dt]>"u")throw new Error("doXHR failed!");return lt.chunks[dt]}),(at||!Be)&&(ct=Be=1,Be=this.getter(0).length,ct=Be,h("LazyFiles on gzip forces download of the whole file when length is accessed")),this._length=Be,this._chunkSize=ct,this.lengthKnown=!0},typeof XMLHttpRequest<"u"){throw"Cannot do synchronous binary XHRs outside webworkers in modern browsers. Use --embed-file or --preload-file in emcc";var U,K}else var K={isDevice:!1,url:u};var se=W.createFile($,O,K,S,M);K.contents?se.contents=K.contents:K.url&&(se.contents=null,se.url=K.url),Object.defineProperties(se,{usedBytes:{get:function(){return this.contents.length}}});var de={},$e=Object.keys(se.stream_ops);$e.forEach(Ne=>{var Oe=se.stream_ops[Ne];de[Ne]=function(){return W.forceLoadFile(se),Oe.apply(null,arguments)}});function We(Ne,Oe,Be,ze,Ze){var at=Ne.node.contents;if(Ze>=at.length)return 0;var ct=Math.min(at.length-Ze,ze);if(at.slice)for(var ut=0;ut<ct;ut++)Oe[Be+ut]=at[Ze+ut];else for(var ut=0;ut<ct;ut++)Oe[Be+ut]=at.get(Ze+ut);return ct}return de.read=(Ne,Oe,Be,ze,Ze)=>(W.forceLoadFile(se),We(Ne,Oe,Be,ze,Ze)),de.mmap=(Ne,Oe,Be,ze,Ze)=>{W.forceLoadFile(se);var at=et();if(!at)throw new W.ErrnoError(48);return We(Ne,f,at,Oe,Be),{ptr:at,allocated:!0}},se.stream_ops=de,se}},ht={DEFAULT_POLLMASK:5,calculateAt($,O,u){if(Re.isAbs(O))return O;var S;if($===-100)S=W.cwd();else{var M=ht.getStreamFromFD($);S=M.path}if(O.length==0){if(!u)throw new W.ErrnoError(44);return S}return Re.join2(S,O)},doStat($,O,u){try{var S=$(O)}catch(K){if(K&&K.node&&Re.normalize(O)!==Re.normalize(W.getPath(K.node)))return-54;throw K}l[u>>2]=S.dev,l[u+4>>2]=S.mode,w[u+8>>2]=S.nlink,l[u+12>>2]=S.uid,l[u+16>>2]=S.gid,l[u+20>>2]=S.rdev,Z=[S.size>>>0,(pe=S.size,+Math.abs(pe)>=1?pe>0?+Math.floor(pe/4294967296)>>>0:~~+Math.ceil((pe-+(~~pe>>>0))/4294967296)>>>0:0)],l[u+24>>2]=Z[0],l[u+28>>2]=Z[1],l[u+32>>2]=4096,l[u+36>>2]=S.blocks;var M=S.atime.getTime(),B=S.mtime.getTime(),U=S.ctime.getTime();return Z=[Math.floor(M/1e3)>>>0,(pe=Math.floor(M/1e3),+Math.abs(pe)>=1?pe>0?+Math.floor(pe/4294967296)>>>0:~~+Math.ceil((pe-+(~~pe>>>0))/4294967296)>>>0:0)],l[u+40>>2]=Z[0],l[u+44>>2]=Z[1],w[u+48>>2]=M%1e3*1e3,Z=[Math.floor(B/1e3)>>>0,(pe=Math.floor(B/1e3),+Math.abs(pe)>=1?pe>0?+Math.floor(pe/4294967296)>>>0:~~+Math.ceil((pe-+(~~pe>>>0))/4294967296)>>>0:0)],l[u+56>>2]=Z[0],l[u+60>>2]=Z[1],w[u+64>>2]=B%1e3*1e3,Z=[Math.floor(U/1e3)>>>0,(pe=Math.floor(U/1e3),+Math.abs(pe)>=1?pe>0?+Math.floor(pe/4294967296)>>>0:~~+Math.ceil((pe-+(~~pe>>>0))/4294967296)>>>0:0)],l[u+72>>2]=Z[0],l[u+76>>2]=Z[1],w[u+80>>2]=U%1e3*1e3,Z=[S.ino>>>0,(pe=S.ino,+Math.abs(pe)>=1?pe>0?+Math.floor(pe/4294967296)>>>0:~~+Math.ceil((pe-+(~~pe>>>0))/4294967296)>>>0:0)],l[u+88>>2]=Z[0],l[u+92>>2]=Z[1],0},doMsync($,O,u,S,M){if(!W.isFile(O.node.mode))throw new W.ErrnoError(43);if(S&2)return 0;var B=v.slice($,$+u);W.msync(O,B,M,u,S)},varargs:void 0,get(){var $=l[ht.varargs>>2];return ht.varargs+=4,$},getp(){return ht.get()},getStr($){var O=xe($);return O},getStreamFromFD($){var O=W.getStreamChecked($);return O}};function H($,O){try{var u=ht.getStreamFromFD($);return ht.doStat(W.stat,u.path,O)}catch(S){if(typeof W>"u"||S.name!=="ErrnoError")throw S;return-S.errno}}function st($,O,u,S){try{O=ht.getStr(O);var M=S&256,B=S&4096;return S=S&-6401,O=ht.calculateAt($,O,B),ht.doStat(M?W.lstat:W.stat,O,u)}catch(U){if(typeof W>"u"||U.name!=="ErrnoError")throw U;return-U.errno}}function z($,O,u,S){ht.varargs=S;try{O=ht.getStr(O),O=ht.calculateAt($,O);var M=S?ht.get():0;return W.open(O,u,M).fd}catch(B){if(typeof W>"u"||B.name!=="ErrnoError")throw B;return-B.errno}}function nt($,O){try{return $=ht.getStr($),ht.doStat(W.stat,$,O)}catch(u){if(typeof W>"u"||u.name!=="ErrnoError")throw u;return-u.errno}}var er=($,O,u)=>v.copyWithin($,O,O+u),tr=$=>{Fe("OOM")},rr=$=>{v.length,tr()},nr=$=>{g=$,ne()||(b.onExit&&b.onExit($),s=!0),t($,new re($))},Mt=($,O)=>{g=$,nr($)},jt=Mt;function Ft($){try{var O=ht.getStreamFromFD($);return W.close(O),0}catch(u){if(typeof W>"u"||u.name!=="ErrnoError")throw u;return u.errno}}var ir=($,O,u,S)=>{for(var M=0,B=0;B<u;B++){var U=w[O>>2],K=w[O+4>>2];O+=8;var se=W.read($,f,U,K,S);if(se<0)return-1;if(M+=se,se<K)break;typeof S<"u"&&(S+=se)}return M};function or($,O,u,S){try{var M=ht.getStreamFromFD($),B=ir(M,O,u);return w[S>>2]=B,0}catch(U){if(typeof W>"u"||U.name!=="ErrnoError")throw U;return U.errno}}var sr=($,O)=>O+2097152>>>0<4194305-!!$?($>>>0)+O*4294967296:NaN;function ar($,O,u,S,M){var B=sr(O,u);try{if(isNaN(B))return 61;var U=ht.getStreamFromFD($);return W.llseek(U,B,S),Z=[U.position>>>0,(pe=U.position,+Math.abs(pe)>=1?pe>0?+Math.floor(pe/4294967296)>>>0:~~+Math.ceil((pe-+(~~pe>>>0))/4294967296)>>>0:0)],l[M>>2]=Z[0],l[M+4>>2]=Z[1],U.getdents&&B===0&&S===0&&(U.getdents=null),0}catch(K){if(typeof W>"u"||K.name!=="ErrnoError")throw K;return K.errno}}var lr=($,O,u,S)=>{for(var M=0,B=0;B<u;B++){var U=w[O>>2],K=w[O+4>>2];O+=8;var se=W.write($,f,U,K,S);if(se<0)return-1;M+=se,typeof S<"u"&&(S+=se)}return M};function cr($,O,u,S){try{var M=ht.getStreamFromFD($),B=lr(M,O,u);return w[S>>2]=B,0}catch(U){if(typeof W>"u"||U.name!=="ErrnoError")throw U;return U.errno}}var Kt=$=>{if($ instanceof re||$=="unwind")return g;t(1,$)},qt=($,O,u)=>pt($,v,O,u),hr=$=>{var O=Ke($)+1,u=xt(O);return qt($,u,O),u},Yt=function($,O,u,S){$||($=this),this.parent=$,this.mount=$.mount,this.mounted=null,this.id=W.nextInode++,this.name=O,this.mode=u,this.node_ops={},this.stream_ops={},this.rdev=S},Dt=365,Rt=146;Object.defineProperties(Yt.prototype,{read:{get:function(){return(this.mode&Dt)===Dt},set:function($){$?this.mode|=Dt:this.mode&=~Dt}},write:{get:function(){return(this.mode&Rt)===Rt},set:function($){$?this.mode|=Rt:this.mode&=~Rt}},isFolder:{get:function(){return W.isDir(this.mode)}},isDevice:{get:function(){return W.isChrdev(this.mode)}}}),W.FSNode=Yt,W.createPreloadedFile=Ue,W.staticInit();var Wt={a:Pe,i:H,g:st,f:z,h:nt,j:er,l:rr,c:jt,d:Ft,e:or,k:ar,b:cr},Ct=he(),At=b._main=($,O)=>(At=b._main=Ct.o)($,O),xt=$=>(xt=Ct.q)($);b.FS=W;var Ot;me=function $(){Ot||Bt(),Ot||(me=$)};function Ut($=[]){var O=At;$.unshift(a);var u=$.length,S=xt((u+1)*4),M=S;$.forEach(U=>{w[M>>2]=hr(U),M+=4}),w[M>>2]=0;try{var B=O(u,S);return Mt(B,!0),B}catch(U){return Kt(U)}}function Bt($=c){if(ye>0||(X(),ye>0))return;function O(){Ot||(Ot=!0,b.calledRun=!0,!s&&(j(),Y(),E(b),b.onRuntimeInitialized&&b.onRuntimeInitialized(),Xt&&Ut($),ee()))}b.setStatus?(b.setStatus("Running..."),setTimeout(function(){setTimeout(function(){b.setStatus("")},1),O()},1)):O()}if(b.preInit)for(typeof b.preInit=="function"&&(b.preInit=[b.preInit]);b.preInit.length>0;)b.preInit.pop()();var Xt=!0;return b.noInitialRun&&(Xt=!1),Bt(),T.ready}})();globalThis.compiler=new Object;(function(A){var T=!1,b=!1,E,R,d,c=[],a=[],t=[],e=[],n=/([\w\.]+)[\w\.\:~]*\(([0-9]+)\)/gi,r="";function i(f){/^[^:\s]+:/.test(f)?(o(),r=f.trim()):r+=" "+f.trim()}function o(){h(r),r=""}function h(f){if(d&&d(f),f.startsWith("error: ")||f.startsWith("ERROR: ")||f.startsWith("warning: ")){var v="error";f.startsWith("warning: ")&&(v="warning");var l=f.matchAll(n);for(var w of l){var k=parseInt(w[2]);c.push([v,w[1],k,f])}}}A.setLogCallback=function(f){d=f},A.compile=function(f){R=f,T?b=!0:(T=!0,p())},A.getErrors=function(){return c},A.getRomSymbols=function(){return a},A.getRamSymbols=function(){return t},A.setLinkOptions=function(f){e=f};function p(){typeof E<"u"&&clearTimeout(E),E=setTimeout(y,500)}function y(){d&&d(null),c=[],a=[],t=[];var f=[];for(const v of Object.keys(storage.getFiles()))v.endsWith(".asm")&&f.push(v);L(f,{})}function L(f,v){var l=f.pop();i("Running: rgbasm "+l+" -o "+l+".o -Wall"),Mr({arguments:[l,"-o","output.o","-Wall"],preRun:function(w){var k=w.FS;for(const[F,x]of Object.entries(storage.getFiles()))k.writeFile(F,x)},print:i,printErr:i}).then(function(w){if(o(),b){g();return}var k=w.FS;try{var F=k.readFile("output.o")}catch{g();return}v[l]=F,f.length>0?L(f,v):m(v)})}function m(f){var v=["-o","output.gb","--map","output.map"].concat(e);for(var l in f)v.push(l+".o");i("Running: rgblink "+v.join(" ")),Fr({arguments:v,preRun:function(w){var k=w.FS;for(var F in f)k.writeFile(F+".o",f[F])},print:i,printErr:i}).then(function(w){if(o(),b){g();return}var k=w.FS;try{var F=k.readFile("output.gb")}catch{g();return}try{var x=k.readFile("output.map",{encoding:"utf8"})}catch{g();return}s(F,x)})}function s(f,v){i("Running: rgbfix -v output.gb -p 0xff"),Dr({arguments:["-v","output.gb","-p","0xff"],preRun:function(l){var w=l.FS;w.writeFile("output.gb",f)},print:i,printErr:i}).then(function(l){o();var w=l.FS;try{var k=w.readFile("output.gb")}catch{g();return}_(k,v)})}function g(){i("Build failed"),b?(b=!1,p()):(T=!1,R())}function _(f,v){if(b)b=!1,p();else{T=!1;var l=256,w={},k=/^\s*\$([0-9a-f]+) = ([\w\.]+)/,F=/^\s*(\w+) bank #(\d+)/,x=/^\s*SECTION: \$([0-9a-f]+)-\$([0-9a-f]+)/,N=/^\s*SLACK: \$([0-9a-f]+) bytes/,G="",q=0;for(var ne of v.split(`
`)){var X;if(X=k.exec(ne)){var j=parseInt(X[1],16),Y=X[2];if(Y.startsWith("__SEC_")){Y=Y.substr(6);var ee=Y.substr(Y.indexOf("_")+1);ee=ee.substr(ee.indexOf("_")+1);var ie=parseInt(Y.split("_")[1],16);j=j&16383|q<<14,w[j]=[ee,ie]}else Y=="emustart"||Y=="emuStart"||Y=="emu_start"?l=j:j<32768?(j=j&16383|q<<14,a[j]=Y):t[j]=Y}else if(X=x.exec(ne)){var ae=parseInt(X[1],16),ce=parseInt(X[2],16)+1;ae<32768?(ae=ae&16383|q<<14,ce=ce&16383|q<<14,a[ae]=null,a[ce]=null):(t[ae]=null,t[ce]=null)}else if(X=F.exec(ne))G=X[1],q=parseInt(X[2]);else if(X=N.exec(ne)){var ye=parseInt(X[1],16),me=16384;G.startsWith("WRAM")?me=4096:G.startsWith("HRAM")&&(me=127),i("Space left: "+G+"["+q+"]: "+ye+"  ("+(ye/me*100).toFixed(1)+"%)")}}i("Build done"),o(),R(f,l,w)}}})(globalThis.compiler);var Or=(()=>{var A=import.meta.url;return function(T={}){var b=T,E,R;b.ready=new Promise((oe,_e)=>{E=oe,R=_e});var d=Object.assign({},b),c=(oe,_e)=>{throw _e},a=!0,t="";function e(oe){return b.locateFile?b.locateFile(oe,t):t+oe}typeof document<"u"&&document.currentScript&&(t=document.currentScript.src),A&&(t=A),t.indexOf("blob:")!==0?t=t.substr(0,t.replace(/[?#].*/,"").lastIndexOf("/")+1):t="";var n=b.print||console.log.bind(console),r=b.printErr||console.error.bind(console);Object.assign(b,d),d=null,b.arguments&&b.arguments,b.thisProgram&&b.thisProgram,b.quit&&(c=b.quit);var i;b.wasmBinary&&(i=b.wasmBinary);var o=b.noExitRuntime||!0;typeof WebAssembly!="object"&&ee("no native wasm support detected");var h,p=!1,y,L,m,s;function g(){var oe=h.buffer;b.HEAP8=new Int8Array(oe),b.HEAP16=new Int16Array(oe),b.HEAPU8=y=new Uint8Array(oe),b.HEAPU16=new Uint16Array(oe),b.HEAP32=L=new Int32Array(oe),b.HEAPU32=m=new Uint32Array(oe),b.HEAPF32=new Float32Array(oe),b.HEAPF64=s=new Float64Array(oe)}var _=[],f=[],v=[],l=0;function w(){return o||l>0}function k(){if(b.preRun)for(typeof b.preRun=="function"&&(b.preRun=[b.preRun]);b.preRun.length;)N(b.preRun.shift());Je(_)}function F(){Je(f)}function x(){if(b.postRun)for(typeof b.postRun=="function"&&(b.postRun=[b.postRun]);b.postRun.length;)q(b.postRun.shift());Je(v)}function N(oe){_.unshift(oe)}function G(oe){f.unshift(oe)}function q(oe){v.unshift(oe)}var ne=0,X=null;function j(oe){ne++,b.monitorRunDependencies&&b.monitorRunDependencies(ne)}function Y(oe){if(ne--,b.monitorRunDependencies&&b.monitorRunDependencies(ne),ne==0&&X){var _e=X;X=null,_e()}}function ee(oe){b.onAbort&&b.onAbort(oe),oe="Aborted("+oe+")",r(oe),p=!0,oe+=". Build with -sASSERTIONS for more info.";var _e=new WebAssembly.RuntimeError(oe);throw R(_e),_e}var ie="data:application/octet-stream;base64,";function ae(oe){return oe.startsWith(ie)}var ce;b.locateFile?(ce="binjgb.wasm",ae(ce)||(ce=e(ce))):ce=new URL("/assets/binjgb-7302efab.wasm",self.location).href;function ye(oe){if(oe==ce&&i)return new Uint8Array(i);throw"both async and sync fetching of the wasm failed"}function me(oe){return!i&&a&&typeof fetch=="function"?fetch(oe,{credentials:"same-origin"}).then(_e=>{if(!_e.ok)throw"failed to load wasm binary file at '"+oe+"'";return _e.arrayBuffer()}).catch(()=>ye(oe)):Promise.resolve().then(()=>ye(oe))}function Se(oe,_e,He){return me(oe).then(et=>WebAssembly.instantiate(et,_e)).then(et=>et).then(He,et=>{r(`failed to asynchronously prepare wasm: ${et}`),ee(et)})}function Le(oe,_e,He,et){return!oe&&typeof WebAssembly.instantiateStreaming=="function"&&!ae(_e)&&typeof fetch=="function"?fetch(_e,{credentials:"same-origin"}).then(De=>{var gt=WebAssembly.instantiateStreaming(De,He);return gt.then(et,function(Ie){return r(`wasm streaming compile failed: ${Ie}`),r("falling back to ArrayBuffer instantiation"),Se(_e,He,et)})}):Se(_e,He,et)}function Ee(){var oe={a:Qe};function _e(et,De){var gt=et.exports;return Te=gt,h=Te.h,g(),Te.G,G(Te.i),Y(),gt}j();function He(et){_e(et.instance)}if(b.instantiateWasm)try{return b.instantiateWasm(oe,_e)}catch(et){r(`Module.instantiateWasm callback failed with error: ${et}`),R(et)}return Le(i,ce,oe,He).catch(R),{}}var Fe={13604:oe=>{emulator.serialCallback(oe)}};function Ve(oe){this.name="ExitStatus",this.message=`Program terminated with exit(${oe})`,this.status=oe}var Je=oe=>{for(;oe.length>0;)oe.shift()(b)},I=[],ge=(oe,_e)=>{I.length=0;for(var He;He=y[oe++];)_e+=He!=105&&_e%8?4:0,I.push(He==105?L[_e>>2]:s[_e>>3]),_e+=He==105?4:8;return I},fe=(oe,_e,He)=>{var et=ge(_e,He);return Fe[oe].apply(null,et)},te=(oe,_e,He)=>fe(oe,_e,He),J=(oe,_e,He)=>y.copyWithin(oe,_e,_e+He),he=oe=>{ee("OOM")},pe=oe=>{y.length,he()},Z=typeof TextDecoder<"u"?new TextDecoder("utf8"):void 0,re=(oe,_e,He)=>{for(var et=_e+He,De=_e;oe[De]&&!(De>=et);)++De;if(De-_e>16&&oe.buffer&&Z)return Z.decode(oe.subarray(_e,De));for(var gt="";_e<De;){var Ie=oe[_e++];if(!(Ie&128)){gt+=String.fromCharCode(Ie);continue}var vt=oe[_e++]&63;if((Ie&224)==192){gt+=String.fromCharCode((Ie&31)<<6|vt);continue}var Ue=oe[_e++]&63;if((Ie&240)==224?Ie=(Ie&15)<<12|vt<<6|Ue:Ie=(Ie&7)<<18|vt<<12|Ue<<6|oe[_e++]&63,Ie<65536)gt+=String.fromCharCode(Ie);else{var zt=Ie-65536;gt+=String.fromCharCode(55296|zt>>10,56320|zt&1023)}}return gt},we=oe=>{w()||(b.onExit&&b.onExit(oe),p=!0),c(oe,new Ve(oe))},ke=(oe,_e)=>{we(oe)},be=ke,xe=oe=>52;function Pe(oe,_e,He,et,De){return 70}var Re=[null,[],[]],Xe=(oe,_e)=>{var He=Re[oe];_e===0||_e===10?((oe===1?n:r)(re(He,0)),He.length=0):He.push(_e)},Ce=(oe,_e,He,et)=>{for(var De=0,gt=0;gt<He;gt++){var Ie=m[_e>>2],vt=m[_e+4>>2];_e+=8;for(var Ue=0;Ue<vt;Ue++)Xe(oe,y[Ie+Ue]);De+=vt}return m[et>>2]=De,0},Qe={g:te,f:J,d:pe,b:be,e:xe,c:Pe,a:Ce},Te=Ee();b._malloc=oe=>(b._malloc=Te.j)(oe),b._emulator_set_builtin_palette=(oe,_e)=>(b._emulator_set_builtin_palette=Te.k)(oe,_e),b._emulator_was_ext_ram_updated=oe=>(b._emulator_was_ext_ram_updated=Te.l)(oe),b._emulator_read_ext_ram=(oe,_e)=>(b._emulator_read_ext_ram=Te.m)(oe,_e),b._emulator_write_ext_ram=(oe,_e)=>(b._emulator_write_ext_ram=Te.n)(oe,_e),b._file_data_delete=oe=>(b._file_data_delete=Te.o)(oe),b._emulator_delete=oe=>(b._emulator_delete=Te.p)(oe),b._emulator_get_PC=oe=>(b._emulator_get_PC=Te.q)(oe),b._emulator_get_A=oe=>(b._emulator_get_A=Te.r)(oe),b._emulator_get_BC=oe=>(b._emulator_get_BC=Te.s)(oe),b._emulator_get_DE=oe=>(b._emulator_get_DE=Te.t)(oe),b._emulator_get_HL=oe=>(b._emulator_get_HL=Te.u)(oe),b._emulator_get_F=oe=>(b._emulator_get_F=Te.v)(oe),b._emulator_get_SP=oe=>(b._emulator_get_SP=Te.w)(oe),b._emulator_set_PC=(oe,_e)=>(b._emulator_set_PC=Te.x)(oe,_e),b._emulator_get_wram_ptr=oe=>(b._emulator_get_wram_ptr=Te.y)(oe),b._emulator_get_hram_ptr=oe=>(b._emulator_get_hram_ptr=Te.z)(oe),b._emulator_read_mem=(oe,_e)=>(b._emulator_read_mem=Te.A)(oe,_e),b._emulator_write_mem=(oe,_e,He)=>(b._emulator_write_mem=Te.B)(oe,_e,He),b._emulator_set_breakpoint=(oe,_e)=>(b._emulator_set_breakpoint=Te.C)(oe,_e),b._emulator_clear_breakpoints=oe=>(b._emulator_clear_breakpoints=Te.D)(oe),b._emulator_render_vram=(oe,_e)=>(b._emulator_render_vram=Te.E)(oe,_e),b._emulator_render_background=(oe,_e,He)=>(b._emulator_render_background=Te.F)(oe,_e,He),b._joypad_new=()=>(b._joypad_new=Te.H)(),b._joypad_delete=oe=>(b._joypad_delete=Te.I)(oe),b._rewind_append=(oe,_e)=>(b._rewind_append=Te.J)(oe,_e),b._rewind_delete=oe=>(b._rewind_delete=Te.K)(oe),b._emulator_new_simple=(oe,_e,He,et,De)=>(b._emulator_new_simple=Te.L)(oe,_e,He,et,De),b._emulator_get_ticks_f64=oe=>(b._emulator_get_ticks_f64=Te.M)(oe),b._emulator_run_until_f64=(oe,_e)=>(b._emulator_run_until_f64=Te.N)(oe,_e),b._rewind_get_newest_ticks_f64=oe=>(b._rewind_get_newest_ticks_f64=Te.O)(oe),b._rewind_get_oldest_ticks_f64=oe=>(b._rewind_get_oldest_ticks_f64=Te.P)(oe),b._emulator_set_default_joypad_callback=(oe,_e)=>(b._emulator_set_default_joypad_callback=Te.Q)(oe,_e),b._emulator_set_bw_palette_simple=(oe,_e,He,et,De,gt)=>(b._emulator_set_bw_palette_simple=Te.R)(oe,_e,He,et,De,gt),b._rewind_new_simple=(oe,_e,He)=>(b._rewind_new_simple=Te.S)(oe,_e,He),b._rewind_begin=(oe,_e,He)=>(b._rewind_begin=Te.T)(oe,_e,He),b._emulator_set_rewind_joypad_callback=oe=>(b._emulator_set_rewind_joypad_callback=Te.U)(oe),b._rewind_to_ticks_wrapper=(oe,_e)=>(b._rewind_to_ticks_wrapper=Te.V)(oe,_e),b._rewind_end=oe=>(b._rewind_end=Te.W)(oe),b._set_joyp_up=(oe,_e)=>(b._set_joyp_up=Te.X)(oe,_e),b._set_joyp_down=(oe,_e)=>(b._set_joyp_down=Te.Y)(oe,_e),b._set_joyp_left=(oe,_e)=>(b._set_joyp_left=Te.Z)(oe,_e),b._set_joyp_right=(oe,_e)=>(b._set_joyp_right=Te._)(oe,_e),b._set_joyp_B=(oe,_e)=>(b._set_joyp_B=Te.$)(oe,_e),b._set_joyp_A=(oe,_e)=>(b._set_joyp_A=Te.aa)(oe,_e),b._set_joyp_start=(oe,_e)=>(b._set_joyp_start=Te.ba)(oe,_e),b._set_joyp_select=(oe,_e)=>(b._set_joyp_select=Te.ca)(oe,_e),b._get_frame_buffer_ptr=oe=>(b._get_frame_buffer_ptr=Te.da)(oe),b._get_frame_buffer_size=oe=>(b._get_frame_buffer_size=Te.ea)(oe),b._get_sgb_frame_buffer_ptr=oe=>(b._get_sgb_frame_buffer_ptr=Te.fa)(oe),b._get_sgb_frame_buffer_size=oe=>(b._get_sgb_frame_buffer_size=Te.ga)(oe),b._get_audio_buffer_ptr=oe=>(b._get_audio_buffer_ptr=Te.ha)(oe),b._get_audio_buffer_capacity=oe=>(b._get_audio_buffer_capacity=Te.ia)(oe),b._ext_ram_file_data_new=oe=>(b._ext_ram_file_data_new=Te.ja)(oe),b._get_file_data_ptr=oe=>(b._get_file_data_ptr=Te.ka)(oe),b._get_file_data_size=oe=>(b._get_file_data_size=Te.la)(oe),b._set_log_apu_writes=(oe,_e)=>(b._set_log_apu_writes=Te.ma)(oe,_e),b._get_apu_log_data_size=oe=>(b._get_apu_log_data_size=Te.na)(oe),b._get_apu_log_data_ptr=oe=>(b._get_apu_log_data_ptr=Te.oa)(oe),b._reset_apu_log=oe=>(b._reset_apu_log=Te.pa)(oe);var Ke;X=function oe(){Ke||pt(),Ke||(X=oe)};function pt(){if(ne>0||(k(),ne>0))return;function oe(){Ke||(Ke=!0,b.calledRun=!0,!p&&(F(),E(b),b.onRuntimeInitialized&&b.onRuntimeInitialized(),x()))}b.setStatus?(b.setStatus("Running..."),setTimeout(function(){setTimeout(function(){b.setStatus("")},1),oe()},1)):oe()}if(b.preInit)for(typeof b.preInit=="function"&&(b.preInit=[b.preInit]);b.preInit.length>0;)b.preInit.pop()();return pt(),T.ready}})();globalThis.emulator=new Object;Or().then(A=>globalThis.Module=A);(function(A){var T,b,E=0,R,d,c,a,t=null,e=2048;A.init=function(r,i){A.isAvailable()&&A.destroy(),typeof c>"u"&&(c=new AudioContext);var o=(i.length-1|16383)+1;o<32768&&(o=32768),E<o&&(typeof b<"u"&&Module._free(b),b=Module._malloc(o),E=o);for(var h=0;h<E;h++)Module.HEAP8[b+h]=0;for(var h=0;h<i.length;h++)Module.HEAP8[b+h]=i[h];T=Module._emulator_new_simple(b,E,c.sampleRate,e),Module._emulator_set_bw_palette_simple(T,0,4290965700,4289247578,4285423646,4278197037),Module._emulator_set_bw_palette_simple(T,1,4290965700,4289247578,4285423646,4278197037),Module._emulator_set_bw_palette_simple(T,2,4290965700,4289247578,4285423646,4278197037),Module._emulator_set_default_joypad_callback(T,0),r&&(R=r.getContext("2d"),d=R.createImageData(r.width,r.height)),c.resume(),a=c.currentTime},A.updateRom=function(r){if(!A.isAvailable())return!1;var i=(r.length-1|16383)+1;if(i<32768&&(i=32768),E<i)return!1;for(var o=0;o<E;o++)Module.HEAP8[b+o]=0;for(var o=0;o<r.length;o++)Module.HEAP8[b+o]=r[o];return!0},A.destroy=function(){A.isAvailable()&&(Module._emulator_delete(T),T=void 0)},A.isAvailable=function(){return typeof T<"u"},A.step=function(r){if(A.isAvailable()){var i=Module._emulator_get_ticks_f64(T);for(r=="single"?i+=1:r=="frame"&&(i+=70224);;){var o=Module._emulator_run_until_f64(T,i);if(o&2&&n(),o&8||o&16)return!0;if(o!=2&&r!="run")return!1;if(r=="run"&&o&4)if(a<c.currentTime+.1)i+=70224;else return!1}}},A.renderScreen=function(){if(A.isAvailable()){var r=new Uint8Array(Module.HEAP8.buffer,Module._get_frame_buffer_ptr(T),Module._get_frame_buffer_size(T));d.data.set(r),R.putImageData(d,0,0)}},A.renderVRam=function(r){if(A.isAvailable()){var i=r.getContext("2d"),o=R.createImageData(256,256),h=Module._malloc(4*256*256);Module._emulator_render_vram(T,h);var p=new Uint8Array(Module.HEAP8.buffer,h,4*256*256);o.data.set(p),i.putImageData(o,0,0),Module._free(h)}},A.renderBackground=function(r,i){if(A.isAvailable()){var o=r.getContext("2d"),h=R.createImageData(256,256),p=Module._malloc(4*256*256);Module._emulator_render_background(T,p,i);var y=new Uint8Array(Module.HEAP8.buffer,p,4*256*256);h.data.set(y),o.putImageData(h,0,0),Module._free(p)}},A.getWRam=function(){if(A.isAvailable()){var r=Module._emulator_get_wram_ptr(T);return new Uint8Array(Module.HEAP8.buffer,r,32768)}},A.getHRam=function(){if(A.isAvailable()){var r=Module._emulator_get_hram_ptr(T);return new Uint8Array(Module.HEAP8.buffer,r,127)}},A.getPC=function(){return Module._emulator_get_PC(T)},A.setPC=function(r){Module._emulator_set_PC(T,r)},A.getSP=function(){return Module._emulator_get_SP(T)},A.getA=function(){return Module._emulator_get_A(T)},A.getBC=function(){return Module._emulator_get_BC(T)},A.getDE=function(){return Module._emulator_get_DE(T)},A.getHL=function(){return Module._emulator_get_HL(T)},A.getFlags=function(){var r=Module._emulator_get_F(T),i="";return r&128&&(i+="Z "),r&16&&(i+="C "),r&32&&(i+="H "),r&64&&(i+="N "),i},A.readMem=function(r){return A.isAvailable()?Module._emulator_read_mem(T,r):255},A.writeMem=function(r,i){if(A.isAvailable())return Module._emulator_write_mem(T,r,i)},A.setBreakpoint=function(r){A.isAvailable()&&Module._emulator_set_breakpoint(T,r)},A.clearBreakpoints=function(){A.isAvailable()&&Module._emulator_clear_breakpoints(T)},A.setKeyPad=function(r,i){A.isAvailable()&&(r=="right"&&Module._set_joyp_right(T,i),r=="left"&&Module._set_joyp_left(T,i),r=="up"&&Module._set_joyp_up(T,i),r=="down"&&Module._set_joyp_down(T,i),r=="a"&&Module._set_joyp_A(T,i),r=="b"&&Module._set_joyp_B(T,i),r=="select"&&Module._set_joyp_select(T,i),r=="start"&&Module._set_joyp_start(T,i))},A.setSerialCallback=function(r){t=r},A.serialCallback=function(r){t&&t(r)};function n(){a<c.currentTime&&(a=c.currentTime);var r=new Uint8Array(Module.HEAP8.buffer,Module._get_audio_buffer_ptr(T),Module._get_audio_buffer_capacity(T));const i=.5,o=c.createBuffer(2,e,c.sampleRate),h=o.getChannelData(0),p=o.getChannelData(1);for(let m=0;m<e;m++)h[m]=r[2*m]*i/255,p[m]=r[2*m+1]*i/255;const y=c.createBufferSource();y.buffer=o,y.connect(c.destination),y.start(a);const L=e/c.sampleRate;a+=L}})(globalThis.emulator);globalThis.storage=new Object;(function(A){var T=new XMLHttpRequest;T.open("GET",new URL("/assets/hardware-ffcf3094.inc",self.location),!1),T.send();var b=new XMLHttpRequest;b.open("GET",new URL("/assets/main-d5a35e56.asm",self.location),!1),b.send();var E={"hardware.inc":T.response,"main.asm":b.response};A.autoUrl=!1,A.autoLocalStorage=!1,A.reset=function(){var c=new XMLHttpRequest;c.open("GET",new URL("/assets/hardware-ffcf3094.inc",self.location),!1),c.send();var a=new XMLHttpRequest;a.open("GET",new URL("/assets/main-d5a35e56.asm",self.location),!1),a.send(),c.response,a.response},A.autoLoad=function(){if(location.hash.length>1)location.hash.startsWith("#https://gist.github.com/")?(A.loadGithubGist(location.hash.slice(1)),location.hash=""):location.hash.startsWith("#http://")||location.hash.startsWith("#https://")?(A.loadSingleUrl(location.hash.slice(1)),location.hash=""):(A.loadUrlHash(),A.autoUrl=!0);else if("rgbds_storage"in localStorage){E={"hardware.inc":T};for(var[c,a]of Object.entries(JSON.parse(localStorage.rgbds_storage)))a instanceof Object&&(a=Uint8Array.from(Object.values(a))),E[c]=a;A.autoLocalStorage=!0}},A.getFiles=function(){return E},A.update=function(c,a){typeof c<"u"&&(a instanceof ArrayBuffer&&(a=new Uint8Array(a)),a===null?delete E[c]:E[c]=a),A.autoUrl&&(document.location.hash=new URL(A.getHashUrl()).hash),A.autoLocalStorage&&(localStorage.rgbds_storage=JSON.stringify(E))},A.loadUrlHash=function(){var c=LZString.decompressFromEncodedURIComponent(location.hash.slice(1));if(c==null)return!1;if(c.indexOf("\0")<0)return E["main.asm"]=c,!0;c=c.split("\0"),E={"hardware.inc":T};for(var a=0;a<c.length-1;a+=2)E[c[a]]=c[a+1];return!0},A.getHashUrl=function(){var c="";for(var[a,t]of Object.entries(E))a=="hardware.inc"&&t==T||(c+=a+"\0"+t+"\0");var e=new URL(document.location);return e.hash=LZString.compressToEncodedURIComponent(c),e.hash.length>1024*2?"Sorry, code too large for direct URL generation":e.toString()};function R(c){var a=/https:\/\/gist\.github\.com\/\w+\/(\w+)/.exec(c);return a?a[1]:null}A.loadGithubGist=function(c){var a=R(c);if(a!=null){var t=new XMLHttpRequest;t.open("GET","https://api.github.com/gists/"+a,!1),t.send(),JSON.parse(t.response);var e=JSON.parse(t.responseText);E={"hardware.inc":T};for(var[n,r]of Object.entries(e.files))E[n]=r.content;d()}},A.saveGithubGist=function(c,a,t){var e={};for(var[n,r]of Object.entries(E))e[n]={content:r};if(t==""){var o=new XMLHttpRequest;return o.open("POST","https://api.github.com/gists",!1),o.setRequestHeader("Authorization","Basic "+btoa(c+":"+a)),o.send(JSON.stringify({files:e})),o.status>=400?null:JSON.parse(o.response).html_url}var i=R(t);if(i==null)return null;var o=new XMLHttpRequest;return o.open("PATCH","https://api.github.com/gists/"+i,!1),o.setRequestHeader("Authorization","Basic "+btoa(c+":"+a)),o.send(JSON.stringify({files:e})),o.status>=400?null:t},A.downloadZip=function(){var c=new JSZip;for(var[a,t]of Object.entries(E))c.file(a,t);c.generateAsync({type:"blob"}).then(function(e){var n=document.createElement("a"),r=window.URL.createObjectURL(e,{type:"application/octet-stream"});n.setAttribute("href",r),n.setAttribute("download","source.zip"),n.style.display="none",document.body.appendChild(n),n.click(),document.body.removeChild(n),window.URL.revokeObjectURL(r)})},A.loadZip=function(c){E={"hardware.inc":T},JSZip.loadAsync(c).then(function(a){var t=Object.values(a.files);function e(){if(!(t.length<1)){var n=t.pop(),r=editors.getFileType(n.name)=="text"?"string":"uint8array";n.async(r).then(function(i){E[n.name]=i,e(),d()})}}e()})},A.loadSingleUrl=function(c){E={"hardware.inc":T};var a=new XMLHttpRequest;a.open("GET",c,!1),a.send(),E["main.asm"]=a.response,d()};function d(){editors.setCurrentFile(Object.keys(E)[0]),updateFileList()}})(globalThis.storage);globalThis.editors=new Object;(function(A){var T={hide:function(){document.getElementById("nullEditorDiv").style.display="none"},show:function(){document.getElementById("nullEditorDiv").style.display=""},setCurrentFile:function(){}},b=T,E="";A.getCurrentFilename=function(){return E},A.setCurrentFile=function(R){E=R;var d=b;return typeof storage.getFiles()[R]=="string"?b=textEditor:b=gfxEditor,d!=b&&(d.hide(),b.show()),b.setCurrentFile(R)},A.getFileType=function(R){var d=R.lastIndexOf(".");if(d<0)return"binary";var c=R.substr(d+1).toLowerCase();return c=="inc"||c=="asm"||c=="z80"||c=="h"||c=="c"||c=="cpp"||c=="hpp"||c=="txt"?"text":"binary"}})(globalThis.editors);globalThis.textEditor=new Object;(function(A){var T=[],b=null,E=null,R=null,d=null,c=[],a={};A.register=function(o){var h=ace.edit(o);new TokenTooltip(h),h.setTheme("ace/theme/tomorrow"),h.session.setMode("ace/mode/gbz80"),h.setOptions({tabSize:2,useSoftTabs:!0,navigateWithinSoftTabs:!0,enableLiveAutocompletion:!0,enableSnippets:!0}),h.completers=[Tr],h.session.on("change",function(p){h.curOp&&h.curOp.command.name&&(storage.update(b,h.getValue()),compileCode())}),h.on("guttermousedown",function(p){var y=p.domEvent.target;if(y.className.indexOf("ace_gutter-cell")!=-1){var L=p.getDocumentPosition().row;n(b,L+1),p.stop()}}),T.push(h)},A.setCurrentFile=function(o){b!=null&&(a[b]=T[0].selection.getCursor()),b=o,T[0].setValue(storage.getFiles()[o]),T[0].selection.clearSelection(),T[0].session.getUndoManager().reset(),b in a?T[0].selection.moveCursorToPosition(a[b]):T[0].selection.moveCursorTo(0,0),T[0].scrollToLine(T[0].selection.getCursor().row,!0),T[0].focus(),A.updateErrors(),i()},A.updateErrors=function(){var o=[];for(var[h,p,y,L]of compiler.getErrors())p==b&&o.push({row:y-1,column:0,type:h,text:L});T[0].session.setAnnotations(o)},A.setCpuLine=function(o,h,p){E=o,R=h,i(p)};function t(o,h){c.push([o,h]),window.updateBreakpoints(),r()}function e(o,h){c=c.filter(p=>p[0]!=o||p[1]!=h),window.updateBreakpoints(),r()}function n(o,h){var p=c.findIndex(y=>y[0]==o&&y[1]==h);p>-1?e(o,h):t(o,h)}function r(){T[0].session.clearBreakpoints();for(var[o,h,p]of c)o==b&&T[0].session.setBreakpoint(h-1,p?"ace_breakpoint":"ace_invalid_breakpoint")}function i(o){o&&b!=null&&b!=E&&A.setCurrentFile(E),d!=null&&(T[0].session.removeMarker(d),d=null),E==b&&(d=T[0].session.addMarker(new ace.Range(R-1,0,R-1,1),"cpuLineMarker","fullLine"),o&&T[0].scrollToLine(R-1,!0,!1,function(){}))}A.getCurrentFilename=function(){return b},A.getBreakpoints=function(){return c},A.hide=function(){T[0].renderer.getContainerElement().style.display="none"},A.show=function(){T[0].renderer.getContainerElement().style.display="",T[0].resize(),T[0].renderer.updateFull()}})(globalThis.textEditor);globalThis.gfxEditor=new Object;(function(A){var T=[4290965700,4289247578,4285423646,4278197037],b,E,R,d,c,a,t=0;A.register=function(i){R=document.getElementById(i),d=document.getElementById("gfxEditorTilesCanvas"),c=document.getElementById("gfxEditorDrawCanvas"),a=document.getElementById("gfxEditorPalette"),new ResizeObserver(function(){d.parentElement.style.maxWidth=R.clientWidth,d.parentElement.style.maxHeight=R.clientHeight-300,d.parentElement.style.display=""}).observe(R),c.onmousemove=function(o){var h=o.target.getBoundingClientRect(),p=~~((o.clientX-h.left)/h.width*o.target.width),y=~~((o.clientY-h.top)/h.height*o.target.height);o.preventDefault(),o.buttons!=0&&n(p,y,t)},c.onmousedown=c.onmousemove,c.oncontextmenu=function(){return!1},a.onmousedown=function(o){var h=o.target.getBoundingClientRect();~~((o.clientX-h.left)/h.width*o.target.width/16);var p=~~((o.clientY-h.top)/h.height*o.target.height/16);o.preventDefault(),t=p,r()},r(),d.onmousedown=function(o){var h=o.target.getBoundingClientRect(),p=~~((o.clientX-h.left)/h.width*o.target.width/8),y=~~((o.clientY-h.top)/h.height*o.target.height/8);o.preventDefault(),A.setTileIndex(p+y*16)}},A.setCurrentFile=function(i){b=i,this.setTileIndex(0);var o=storage.getFiles()[i],h=~~(o.length/16),p=~~((h+15)/16);d.width=16*8,d.height=p*8,d.style.width=d.width*4;for(var y=d.getContext("2d"),L=y.getImageData(0,0,d.width,d.height),m=new Uint32Array(L.data.buffer),s=d.width,g=0;g<h;g++){var _=g%16,f=~~(g/16),v=_*8+f*8*s;e(new Uint8Array(o.buffer,g*16,16),m,v,s)}y.putImageData(L,0,0)},A.hide=function(){R.style.display="none"},A.show=function(){R.style.display=""},A.setTileIndex=function(i){var o=storage.getFiles()[b];i>=o.length/16&&(i=o.length/16-1),E=i;var h=c.getContext("2d"),p=h.getImageData(0,0,c.width,c.height),y=new Uint32Array(p.data.buffer);e(new Uint8Array(o.buffer,i*16,16),y,0,8),h.putImageData(p,0,0)};function e(i,o,h,p){for(var y=0;y<8;y++)for(var L=i[y*2],m=i[y*2+1],s=0;s<8;s++){var g=0;L&128>>s&&(g|=1),m&128>>s&&(g|=2),o[h+s+y*p]=T[g]}}function n(i,o,h){var p=storage.getFiles()[b];h&1?p[E*16+o*2+0]|=128>>i:p[E*16+o*2+0]&=~(128>>i),h&2?p[E*16+o*2+1]|=128>>i:p[E*16+o*2+1]&=~(128>>i),A.setTileIndex(E),storage.update(b,p);var y=d.getContext("2d"),L=y.getImageData(0,0,d.width,d.height),m=new Uint32Array(L.data.buffer),s=d.width,g=E%16,_=~~(E/16),f=g*8+_*8*s;e(new Uint8Array(p.buffer,E*16,16),m,f,s),y.putImageData(L,0,0)}function r(){for(var i=a.getContext("2d"),o=0;o<4;o++)i.fillStyle="rgb("+(T[o]&255)+", "+(T[o]>>8&255)+", "+(T[o]>>16&255)+")",i.fillRect(0,o*16,16,16);i.strokeStyle="#FFF",i.beginPath(),i.rect(2.5,t*16+2.5,11,11),i.stroke(),i.strokeStyle="#000",i.beginPath(),i.rect(1.5,t*16+1.5,13,13),i.stroke()}})(globalThis.gfxEditor);var Ar,Gt,Qt={},Nt={},Et="";compiler.setLogCallback(function(A){var T=document.getElementById("output");if(A===null){T.value="";return}T.value+=A+`
`,T.scrollTop=T.clientHeight});emulator.setSerialCallback(function(A){var T=document.getElementById("output");A>=32&&A<128||A==13?T.value+=String.fromCharCode(A):T.value+="["+("00"+A.toString(16)).slice(-2)+"]",T.scrollTop=T.clientHeight});function Br(){compiler.compile(function(A,T,b){if(textEditor.updateErrors(),Vt(),Ir(),!(typeof A>"u")){Gt=A,Ar=T,Qt=b;for(var E in Qt){var[R,d]=Qt[E];typeof Nt[R]>"u"&&(Nt[R]={}),typeof Nt[R][d]>"u"&&(Nt[R][d]=[]),Nt[R][d].push(E)}Jt()}})}function Ir(){emulator.destroy(),Qt={},Nt={},Gt=void 0,textEditor.setCpuLine(null,null)}function xr(A){typeof Gt>"u"||(emulator.init(document.getElementById("emulator_screen_canvas"),Gt),emulator.setPC(Ar),vr(A),Pr())}function dr(A){if(!emulator.isAvailable())return xr(A=="single"||A=="frame"),!1;var T=emulator.step(A);return vr(A=="single"||A=="frame"),T}function Pr(){emulator.clearBreakpoints();var A=textEditor.getBreakpoints();for(var T of A){var[b,E,R]=T;if(T[2]=!1,!(typeof Nt[b]>"u"||typeof Nt[b][E]>"u")){T[2]=!0;for(var d of Nt[b][E])emulator.setBreakpoint(d)}}}function kr(A,T){A==39&&emulator.setKeyPad("right",T),A==37&&emulator.setKeyPad("left",T),A==38&&emulator.setKeyPad("up",T),A==40&&emulator.setKeyPad("down",T),A==83&&emulator.setKeyPad("a",T),A==65&&emulator.setKeyPad("b",T),A==16&&emulator.setKeyPad("select",T),A==13&&emulator.setKeyPad("start",T),A==27&&(document.getElementById("cpu_run_check").checked=!1,document.getElementById("cpu_run_check").onclick())}function Zt(A,T){return"$"+("0000"+A.toString(16)).slice(-T)}function vr(A){emulator.renderScreen();var T=emulator.getPC();document.getElementById("cpu_pc").innerHTML=Zt(T,4),document.getElementById("cpu_sp").innerHTML=Zt(emulator.getSP(),4),document.getElementById("cpu_a").innerHTML=Zt(emulator.getA(),2),document.getElementById("cpu_bc").innerHTML=Zt(emulator.getBC(),4),document.getElementById("cpu_de").innerHTML=Zt(emulator.getDE(),4),document.getElementById("cpu_hl").innerHTML=Zt(emulator.getHL(),4),document.getElementById("cpu_flags").innerHTML=emulator.getFlags();var b=Qt[T];typeof b>"u"&&(b=Qt[T-1]),typeof b<"u"?textEditor.setCpuLine(b[0],b[1],A):textEditor.setCpuLine(null,null),gr(),Jt()}function gr(){var A=document.getElementById("emulator_vram_canvas");A.style.display==""&&(Et=="vram"&&emulator.renderVRam(A),Et=="bg0"&&emulator.renderBackground(A,0),Et=="bg1"&&emulator.renderBackground(A,1))}function Jt(){var A=document.getElementById("emulator_display_text");if(A.style.display==""){var T=Gt,b=16384,E=0,R=compiler.getRomSymbols();if(Et=="wram"&&(T=emulator.getWRam(),b=4096,E=49152,R=compiler.getRamSymbols()),Et=="hram"&&(T=emulator.getHRam(),b=4096,E=65408,R=compiler.getRamSymbols()),Et=="io"){var a="",d=[{name:"P1",value:65280},{name:"SB",value:65281},{name:"SC",value:65282},{name:"DIV",value:65284},{name:"TIMA",value:65285},{name:"TMA",value:65286},{name:"TAC",value:65287},{name:"IF",value:65295},{name:"LCDC",value:65344},{name:"STAT",value:65345},{name:"SCY",value:65346},{name:"SCX",value:65347},{name:"LY",value:65348},{name:"LYC",value:65349},{name:"DMA",value:65350},{name:"BGP",value:65351},{name:"OBP0",value:65352},{name:"OBP1",value:65353},{name:"WY",value:65354},{name:"WX",value:65355},{name:"KEY1",value:65357},{name:"VBK",value:65359},{name:"RP",value:65366},{name:"BCPS",value:65384},{name:"BCPD",value:65385},{name:"OCPS",value:65386},{name:"OCPD",value:65387},{name:"SVBK",value:65392},{name:"IE",value:65535}];for(var c of d)a+="<span style='float: left; width: 50px'>"+c.name+":</span>"+("00"+emulator.readMem(c.value).toString(16)).slice(-2)+"<br/>";A.innerHTML=a;return}if(!(typeof T>"u")){for(var a="<div style='position: fixed; background-color: #fff'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; 0&nbsp; 1&nbsp; 2&nbsp; 3&nbsp; 4&nbsp; 5&nbsp; 6&nbsp; 7&nbsp; 8&nbsp; 9&nbsp; a&nbsp; b&nbsp; c&nbsp; d&nbsp; e&nbsp; f</div><br/>",t=null,e=!1,n=0,r=0;r<T.length;r+=16){var i=Array.prototype.map.call(T.slice(r,r+16),L=>("00"+L.toString(16)).slice(-2)),o=~~(r/b),h=r&b-1;o>0&&(h+=b),a+=("00"+o.toString(16)).slice(-2)+":"+("0000"+(h+E).toString(16)).slice(-4);for(var p=0;p<i.length;p++){a+=" ";var y=R[r+p+E];y?(t=y,e&&(a+="</span>"),e=!1,n=(n+71)%360):y===null&&(t=null,e&&(a+="</span>"),e=!1),t&&!e&&(a+="<span title='"+t+"' style='background-color: hsl("+n+", 50%, 50%)'>",e=!0),a+=i[p]}e&&(a+="</span>"),e=!1,a+="<br/>"}A.innerHTML=a}}}function Vt(){var A=document.getElementById("filelist");A.textContent="";for(const c of Object.keys(storage.getFiles()).sort()){var T=document.createElement("li");T.textContent=c,A.appendChild(T),c==editors.getCurrentFilename()&&T.classList.add("active");for(var[b,E,R,d]of compiler.getErrors())if(E==c&&(T.classList.add(b),b=="error")){T.classList.remove("warning");break}}}function Nr(A){Object.keys(storage.getFiles()).length<2||(storage.update(A,null),editors.getCurrentFilename()==A&&editors.setCurrentFile(Object.keys(storage.getFiles()).sort()[0]),Vt())}window.addEventListener("DOMContentLoaded",A=>{textEditor.register("textEditorDiv"),gfxEditor.register("gfxEditorDiv"),storage.autoLoad(),editors.setCurrentFile(Object.keys(storage.getFiles()).pop()),Vt(),document.getElementById("filelist").onclick=function(b){b.target.childNodes[0].wholeText&&(editors.setCurrentFile(b.target.childNodes[0].wholeText),Vt(),vr())},document.getElementById("newfile").onclick=function(){document.getElementById("newfiledialog").style.display="block"},document.getElementById("newfiledialog").onclick=function(b){b.target==document.getElementById("newfiledialog")&&(document.getElementById("newfiledialog").style.display="none")},document.getElementById("newfiledialogclose").onclick=function(){document.getElementById("newfiledialog").style.display="none"},document.getElementById("newfile_empty_create").onclick=function(){var b=document.getElementById("newfile_name").value;b&&(b.indexOf(".")<0&&(b+=".asm"),!(b in storage.getFiles())&&(editors.getFileType(b)==="text"?storage.update(b,""):storage.update(b,new Uint8Array(16)),editors.setCurrentFile(b),Vt(),document.getElementById("newfiledialog").style.display="none"))},document.getElementById("newfile_upload").onchange=function(b){if(b.target.files.length>0){var E=b.target.files[0].name,R=editors.getFileType(E)=="text"?b.target.files[0].text():b.target.files[0].arrayBuffer();R.then(function(d){storage.update(E,d),editors.setCurrentFile(E),Vt()}),b.target.value="",document.getElementById("newfiledialog").style.display="none"}},document.getElementById("delfile").onclick=function(){confirm("Are you sure you want to delete: "+editors.getCurrentFilename()+"?")&&Nr(editors.getCurrentFilename())},document.getElementById("newproject").onclick=function(){confirm("Are you sure to clear the current project?")&&(storage.reset(),editors.setCurrentFile("main.asm"),Vt())},Br(),document.getElementById("cpu_single_step").onclick=function(){dr("single")},document.getElementById("cpu_frame_step").onclick=function(){dr("frame")},document.getElementById("cpu_reset").onclick=function(){xr(!0)},document.getElementById("cpu_run_check").onclick=function(){if(document.getElementById("cpu_run_check").checked){let b=function(){document.hidden||dr("run")&&(document.getElementById("cpu_run_check").checked=!1),document.getElementById("cpu_run_check").checked&&requestAnimationFrame(b)};requestAnimationFrame(b)}};var T=document.getElementById("emulator_screen_canvas");T.tabIndex=-1,T.onkeydown=function(b){kr(b.keyCode,!0),b.preventDefault()},T.onkeyup=function(b){kr(b.keyCode,!1),b.preventDefault()},document.onkeydown=function(b){b.code=="F8"&&(dr("single"),b.preventDefault()),b.code=="F9"&&(dr("frame"),b.preventDefault())},document.getElementById("emulator_display_screen").onclick=function(){document.getElementById("emulator_screen_canvas").style.display="",document.getElementById("emulator_vram_canvas").style.display="none",document.getElementById("emulator_display_text").style.display="none",Et="display"},document.getElementById("emulator_display_vram").onclick=function(){document.getElementById("emulator_screen_canvas").style.display="none",document.getElementById("emulator_vram_canvas").style.display="",document.getElementById("emulator_display_text").style.display="none",Et="vram",gr()},document.getElementById("emulator_display_bg0").onclick=function(){document.getElementById("emulator_screen_canvas").style.display="none",document.getElementById("emulator_vram_canvas").style.display="",document.getElementById("emulator_display_text").style.display="none",Et="bg0",gr()},document.getElementById("emulator_display_bg1").onclick=function(){document.getElementById("emulator_screen_canvas").style.display="none",document.getElementById("emulator_vram_canvas").style.display="",document.getElementById("emulator_display_text").style.display="none",Et="bg1",gr()},document.getElementById("emulator_display_rom").onclick=function(){document.getElementById("emulator_screen_canvas").style.display="none",document.getElementById("emulator_vram_canvas").style.display="none",document.getElementById("emulator_display_text").style.display="",Et="rom",Jt()},document.getElementById("emulator_display_wram").onclick=function(){document.getElementById("emulator_screen_canvas").style.display="none",document.getElementById("emulator_vram_canvas").style.display="none",document.getElementById("emulator_display_text").style.display="",Et="wram",Jt()},document.getElementById("emulator_display_hram").onclick=function(){document.getElementById("emulator_screen_canvas").style.display="none",document.getElementById("emulator_vram_canvas").style.display="none",document.getElementById("emulator_display_text").style.display="",Et="hram",Jt()},document.getElementById("emulator_display_io").onclick=function(){document.getElementById("emulator_screen_canvas").style.display="none",document.getElementById("emulator_vram_canvas").style.display="none",document.getElementById("emulator_display_text").style.display="",Et="io",Jt()},document.getElementById("download_rom").onclick=function(){if(!(typeof Gt>"u")){var b=document.createElement("a"),E=window.URL.createObjectURL(new Blob([Gt.buffer],{type:"application/octet-stream"}));b.setAttribute("href",E),b.setAttribute("download","rom.gb"),b.style.display="none",document.body.appendChild(b),b.click(),document.body.removeChild(b),window.URL.revokeObjectURL(E)}},document.getElementById("importmenu").onclick=function(){document.getElementById("importdialog").style.display="block"},document.getElementById("importdialog").onclick=function(b){b.target==document.getElementById("importdialog")&&(document.getElementById("importdialog").style.display="none")},document.getElementById("importdialogclose").onclick=function(){document.getElementById("importdialog").style.display="none"},document.getElementById("import_gist").onclick=function(){storage.loadGithubGist(document.getElementById("import_gist_url").value),document.getElementById("importdialog").style.display="none"},document.getElementById("import_zipfile").onchange=function(b){b.target.files.length>0&&(storage.loadZip(b.target.files[0]),b.target.value="",document.getElementById("importdialog").style.display="none")},document.getElementById("exportmenu").onclick=function(){document.getElementById("exportdialog").style.display="block",document.getElementById("export_hash_url").value=storage.getHashUrl()},document.getElementById("exportdialog").onclick=function(b){b.target==document.getElementById("exportdialog")&&(document.getElementById("exportdialog").style.display="none")},document.getElementById("exportdialogclose").onclick=function(){document.getElementById("exportdialog").style.display="none"},document.getElementById("export_gist").onclick=function(){var b=document.getElementById("export_gist_url").value,E=document.getElementById("export_gist_username").value,R=document.getElementById("export_gist_token").value;if(b=storage.saveGithubGist(E,R,b),b==null)document.getElementById("export_gist_import_url").value="Gist create/update failed. Incorrect token?";else{document.getElementById("export_gist_url").value=b;var d=new URL(document.location);d.hash=b,document.getElementById("export_gist_import_url").value=d.toString()}},document.getElementById("export_zip").onclick=function(){storage.downloadZip()},document.getElementById("infomenu").onclick=function(){document.getElementById("infodialog").style.display="block"},document.getElementById("infodialog").onclick=function(b){b.target==document.getElementById("infodialog")&&(document.getElementById("infodialog").style.display="none")},document.getElementById("infodialogclose").onclick=function(){document.getElementById("infodialog").style.display="none"},document.getElementById("auto_url_update").checked=storage.autoUrl,document.getElementById("auto_url_update").onclick=function(){storage.autoUrl=document.getElementById("auto_url_update").checked,storage.autoUrl?storage.update():document.location.hash=""},document.getElementById("auto_local_storage_update").checked=storage.autoLocalStorage,document.getElementById("auto_local_storage_update").onclick=function(){storage.autoLocalStorage=document.getElementById("auto_local_storage_update").checked,storage.update()}});
