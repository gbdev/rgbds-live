function Bi(te,Q){for(var f=0;f<Q.length;f++){const D=Q[f];if(typeof D!="string"&&!Array.isArray(D)){for(const z in D)if(z!=="default"&&!(z in te)){const M=Object.getOwnPropertyDescriptor(D,z);M&&Object.defineProperty(te,z,M.get?M:{enumerable:!0,get:()=>D[z]})}}}return Object.freeze(Object.defineProperty(te,Symbol.toStringTag,{value:"Module"}))}(function(){const Q=document.createElement("link").relList;if(Q&&Q.supports&&Q.supports("modulepreload"))return;for(const z of document.querySelectorAll('link[rel="modulepreload"]'))D(z);new MutationObserver(z=>{for(const M of z)if(M.type==="childList")for(const A of M.addedNodes)A.tagName==="LINK"&&A.rel==="modulepreload"&&D(A)}).observe(document,{childList:!0,subtree:!0});function f(z){const M={};return z.integrity&&(M.integrity=z.integrity),z.referrerPolicy&&(M.referrerPolicy=z.referrerPolicy),z.crossOrigin==="use-credentials"?M.credentials="include":z.crossOrigin==="anonymous"?M.credentials="omit":M.credentials="same-origin",M}function D(z){if(z.ep)return;z.ep=!0;const M=f(z);fetch(z.href,M)}})();var Hr=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function bn(te){return te&&te.__esModule&&Object.prototype.hasOwnProperty.call(te,"default")?te.default:te}function Ur(te){throw new Error('Could not dynamically require "'+te+'". Please configure the dynamicRequireTargets or/and ignoreDynamicRequires option of @rollup/plugin-commonjs appropriately for this require call to work.')}var rn={exports:{}};/*!

JSZip v3.10.1 - A JavaScript class for generating and reading zip files
<http://stuartk.com/jszip>

(c) 2009-2016 Stuart Knightley <stuart [at] stuartk.com>
Dual licenced under the MIT license or GPLv3. See https://raw.github.com/Stuk/jszip/main/LICENSE.markdown.

JSZip uses the library pako released under the MIT license :
https://github.com/nodeca/pako/blob/main/LICENSE
*/var Bn;function Ii(){return Bn||(Bn=1,function(te,Q){(function(f){te.exports=f()})(function(){return function f(D,z,M){function A(h,o){if(!z[h]){if(!D[h]){var r=typeof Ur=="function"&&Ur;if(!o&&r)return r(h,!0);if(y)return y(h,!0);var i=new Error("Cannot find module '"+h+"'");throw i.code="MODULE_NOT_FOUND",i}var t=z[h]={exports:{}};D[h][0].call(t.exports,function(e){var n=D[h][1][e];return A(n||e)},t,t.exports,f,D,z,M)}return z[h].exports}for(var y=typeof Ur=="function"&&Ur,s=0;s<M.length;s++)A(M[s]);return A}({1:[function(f,D,z){var M=f("./utils"),A=f("./support"),y="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=";z.encode=function(s){for(var h,o,r,i,t,e,n,a=[],c=0,d=s.length,k=d,v=M.getTypeOf(s)!=="string";c<s.length;)k=d-c,r=v?(h=s[c++],o=c<d?s[c++]:0,c<d?s[c++]:0):(h=s.charCodeAt(c++),o=c<d?s.charCodeAt(c++):0,c<d?s.charCodeAt(c++):0),i=h>>2,t=(3&h)<<4|o>>4,e=1<k?(15&o)<<2|r>>6:64,n=2<k?63&r:64,a.push(y.charAt(i)+y.charAt(t)+y.charAt(e)+y.charAt(n));return a.join("")},z.decode=function(s){var h,o,r,i,t,e,n=0,a=0,c="data:";if(s.substr(0,c.length)===c)throw new Error("Invalid base64 input, it looks like a data url.");var d,k=3*(s=s.replace(/[^A-Za-z0-9+/=]/g,"")).length/4;if(s.charAt(s.length-1)===y.charAt(64)&&k--,s.charAt(s.length-2)===y.charAt(64)&&k--,k%1!=0)throw new Error("Invalid base64 input, bad content length.");for(d=A.uint8array?new Uint8Array(0|k):new Array(0|k);n<s.length;)h=y.indexOf(s.charAt(n++))<<2|(i=y.indexOf(s.charAt(n++)))>>4,o=(15&i)<<4|(t=y.indexOf(s.charAt(n++)))>>2,r=(3&t)<<6|(e=y.indexOf(s.charAt(n++))),d[a++]=h,t!==64&&(d[a++]=o),e!==64&&(d[a++]=r);return d}},{"./support":30,"./utils":32}],2:[function(f,D,z){var M=f("./external"),A=f("./stream/DataWorker"),y=f("./stream/Crc32Probe"),s=f("./stream/DataLengthProbe");function h(o,r,i,t,e){this.compressedSize=o,this.uncompressedSize=r,this.crc32=i,this.compression=t,this.compressedContent=e}h.prototype={getContentWorker:function(){var o=new A(M.Promise.resolve(this.compressedContent)).pipe(this.compression.uncompressWorker()).pipe(new s("data_length")),r=this;return o.on("end",function(){if(this.streamInfo.data_length!==r.uncompressedSize)throw new Error("Bug : uncompressed data size mismatch")}),o},getCompressedWorker:function(){return new A(M.Promise.resolve(this.compressedContent)).withStreamInfo("compressedSize",this.compressedSize).withStreamInfo("uncompressedSize",this.uncompressedSize).withStreamInfo("crc32",this.crc32).withStreamInfo("compression",this.compression)}},h.createWorkerFrom=function(o,r,i){return o.pipe(new y).pipe(new s("uncompressedSize")).pipe(r.compressWorker(i)).pipe(new s("compressedSize")).withStreamInfo("compression",r)},D.exports=h},{"./external":6,"./stream/Crc32Probe":25,"./stream/DataLengthProbe":26,"./stream/DataWorker":27}],3:[function(f,D,z){var M=f("./stream/GenericWorker");z.STORE={magic:"\0\0",compressWorker:function(){return new M("STORE compression")},uncompressWorker:function(){return new M("STORE decompression")}},z.DEFLATE=f("./flate")},{"./flate":7,"./stream/GenericWorker":28}],4:[function(f,D,z){var M=f("./utils"),A=function(){for(var y,s=[],h=0;h<256;h++){y=h;for(var o=0;o<8;o++)y=1&y?3988292384^y>>>1:y>>>1;s[h]=y}return s}();D.exports=function(y,s){return y!==void 0&&y.length?M.getTypeOf(y)!=="string"?function(h,o,r,i){var t=A,e=i+r;h^=-1;for(var n=i;n<e;n++)h=h>>>8^t[255&(h^o[n])];return-1^h}(0|s,y,y.length,0):function(h,o,r,i){var t=A,e=i+r;h^=-1;for(var n=i;n<e;n++)h=h>>>8^t[255&(h^o.charCodeAt(n))];return-1^h}(0|s,y,y.length,0):0}},{"./utils":32}],5:[function(f,D,z){z.base64=!1,z.binary=!1,z.dir=!1,z.createFolders=!0,z.date=null,z.compression=null,z.compressionOptions=null,z.comment=null,z.unixPermissions=null,z.dosPermissions=null},{}],6:[function(f,D,z){var M=null;M=typeof Promise<"u"?Promise:f("lie"),D.exports={Promise:M}},{lie:37}],7:[function(f,D,z){var M=typeof Uint8Array<"u"&&typeof Uint16Array<"u"&&typeof Uint32Array<"u",A=f("pako"),y=f("./utils"),s=f("./stream/GenericWorker"),h=M?"uint8array":"array";function o(r,i){s.call(this,"FlateWorker/"+r),this._pako=null,this._pakoAction=r,this._pakoOptions=i,this.meta={}}z.magic="\b\0",y.inherits(o,s),o.prototype.processChunk=function(r){this.meta=r.meta,this._pako===null&&this._createPako(),this._pako.push(y.transformTo(h,r.data),!1)},o.prototype.flush=function(){s.prototype.flush.call(this),this._pako===null&&this._createPako(),this._pako.push([],!0)},o.prototype.cleanUp=function(){s.prototype.cleanUp.call(this),this._pako=null},o.prototype._createPako=function(){this._pako=new A[this._pakoAction]({raw:!0,level:this._pakoOptions.level||-1});var r=this;this._pako.onData=function(i){r.push({data:i,meta:r.meta})}},z.compressWorker=function(r){return new o("Deflate",r)},z.uncompressWorker=function(){return new o("Inflate",{})}},{"./stream/GenericWorker":28,"./utils":32,pako:38}],8:[function(f,D,z){function M(t,e){var n,a="";for(n=0;n<e;n++)a+=String.fromCharCode(255&t),t>>>=8;return a}function A(t,e,n,a,c,d){var k,v,p=t.file,u=t.compression,m=d!==h.utf8encode,E=y.transformTo("string",d(p.name)),S=y.transformTo("string",h.utf8encode(p.name)),$=p.comment,R=y.transformTo("string",d($)),g=y.transformTo("string",h.utf8encode($)),w=S.length!==p.name.length,l=g.length!==$.length,_="",L="",I="",W=p.dir,H=p.date,J={crc32:0,compressedSize:0,uncompressedSize:0};e&&!n||(J.crc32=t.crc32,J.compressedSize=t.compressedSize,J.uncompressedSize=t.uncompressedSize);var q=0;e&&(q|=8),m||!w&&!l||(q|=2048);var Z=0,oe=0;W&&(Z|=16),c==="UNIX"?(oe=798,Z|=function(se,fe){var Ce=se;return se||(Ce=fe?16893:33204),(65535&Ce)<<16}(p.unixPermissions,W)):(oe=20,Z|=function(se){return 63&(se||0)}(p.dosPermissions)),k=H.getUTCHours(),k<<=6,k|=H.getUTCMinutes(),k<<=5,k|=H.getUTCSeconds()/2,v=H.getUTCFullYear()-1980,v<<=4,v|=H.getUTCMonth()+1,v<<=5,v|=H.getUTCDate(),w&&(L=M(1,1)+M(o(E),4)+S,_+="up"+M(L.length,2)+L),l&&(I=M(1,1)+M(o(R),4)+g,_+="uc"+M(I.length,2)+I);var ee="";return ee+=`
\0`,ee+=M(q,2),ee+=u.magic,ee+=M(k,2),ee+=M(v,2),ee+=M(J.crc32,4),ee+=M(J.compressedSize,4),ee+=M(J.uncompressedSize,4),ee+=M(E.length,2),ee+=M(_.length,2),{fileRecord:r.LOCAL_FILE_HEADER+ee+E+_,dirRecord:r.CENTRAL_FILE_HEADER+M(oe,2)+ee+M(R.length,2)+"\0\0\0\0"+M(Z,4)+M(a,4)+E+_+R}}var y=f("../utils"),s=f("../stream/GenericWorker"),h=f("../utf8"),o=f("../crc32"),r=f("../signature");function i(t,e,n,a){s.call(this,"ZipFileWorker"),this.bytesWritten=0,this.zipComment=e,this.zipPlatform=n,this.encodeFileName=a,this.streamFiles=t,this.accumulate=!1,this.contentBuffer=[],this.dirRecords=[],this.currentSourceOffset=0,this.entriesCount=0,this.currentFile=null,this._sources=[]}y.inherits(i,s),i.prototype.push=function(t){var e=t.meta.percent||0,n=this.entriesCount,a=this._sources.length;this.accumulate?this.contentBuffer.push(t):(this.bytesWritten+=t.data.length,s.prototype.push.call(this,{data:t.data,meta:{currentFile:this.currentFile,percent:n?(e+100*(n-a-1))/n:100}}))},i.prototype.openedSource=function(t){this.currentSourceOffset=this.bytesWritten,this.currentFile=t.file.name;var e=this.streamFiles&&!t.file.dir;if(e){var n=A(t,e,!1,this.currentSourceOffset,this.zipPlatform,this.encodeFileName);this.push({data:n.fileRecord,meta:{percent:0}})}else this.accumulate=!0},i.prototype.closedSource=function(t){this.accumulate=!1;var e=this.streamFiles&&!t.file.dir,n=A(t,e,!0,this.currentSourceOffset,this.zipPlatform,this.encodeFileName);if(this.dirRecords.push(n.dirRecord),e)this.push({data:function(a){return r.DATA_DESCRIPTOR+M(a.crc32,4)+M(a.compressedSize,4)+M(a.uncompressedSize,4)}(t),meta:{percent:100}});else for(this.push({data:n.fileRecord,meta:{percent:0}});this.contentBuffer.length;)this.push(this.contentBuffer.shift());this.currentFile=null},i.prototype.flush=function(){for(var t=this.bytesWritten,e=0;e<this.dirRecords.length;e++)this.push({data:this.dirRecords[e],meta:{percent:100}});var n=this.bytesWritten-t,a=function(c,d,k,v,p){var u=y.transformTo("string",p(v));return r.CENTRAL_DIRECTORY_END+"\0\0\0\0"+M(c,2)+M(c,2)+M(d,4)+M(k,4)+M(u.length,2)+u}(this.dirRecords.length,n,t,this.zipComment,this.encodeFileName);this.push({data:a,meta:{percent:100}})},i.prototype.prepareNextSource=function(){this.previous=this._sources.shift(),this.openedSource(this.previous.streamInfo),this.isPaused?this.previous.pause():this.previous.resume()},i.prototype.registerPrevious=function(t){this._sources.push(t);var e=this;return t.on("data",function(n){e.processChunk(n)}),t.on("end",function(){e.closedSource(e.previous.streamInfo),e._sources.length?e.prepareNextSource():e.end()}),t.on("error",function(n){e.error(n)}),this},i.prototype.resume=function(){return!!s.prototype.resume.call(this)&&(!this.previous&&this._sources.length?(this.prepareNextSource(),!0):this.previous||this._sources.length||this.generatedError?void 0:(this.end(),!0))},i.prototype.error=function(t){var e=this._sources;if(!s.prototype.error.call(this,t))return!1;for(var n=0;n<e.length;n++)try{e[n].error(t)}catch{}return!0},i.prototype.lock=function(){s.prototype.lock.call(this);for(var t=this._sources,e=0;e<t.length;e++)t[e].lock()},D.exports=i},{"../crc32":4,"../signature":23,"../stream/GenericWorker":28,"../utf8":31,"../utils":32}],9:[function(f,D,z){var M=f("../compressions"),A=f("./ZipFileWorker");z.generateWorker=function(y,s,h){var o=new A(s.streamFiles,h,s.platform,s.encodeFileName),r=0;try{y.forEach(function(i,t){r++;var e=function(d,k){var v=d||k,p=M[v];if(!p)throw new Error(v+" is not a valid compression method !");return p}(t.options.compression,s.compression),n=t.options.compressionOptions||s.compressionOptions||{},a=t.dir,c=t.date;t._compressWorker(e,n).withStreamInfo("file",{name:i,dir:a,date:c,comment:t.comment||"",unixPermissions:t.unixPermissions,dosPermissions:t.dosPermissions}).pipe(o)}),o.entriesCount=r}catch(i){o.error(i)}return o}},{"../compressions":3,"./ZipFileWorker":8}],10:[function(f,D,z){function M(){if(!(this instanceof M))return new M;if(arguments.length)throw new Error("The constructor with parameters has been removed in JSZip 3.0, please check the upgrade guide.");this.files=Object.create(null),this.comment=null,this.root="",this.clone=function(){var A=new M;for(var y in this)typeof this[y]!="function"&&(A[y]=this[y]);return A}}(M.prototype=f("./object")).loadAsync=f("./load"),M.support=f("./support"),M.defaults=f("./defaults"),M.version="3.10.1",M.loadAsync=function(A,y){return new M().loadAsync(A,y)},M.external=f("./external"),D.exports=M},{"./defaults":5,"./external":6,"./load":11,"./object":15,"./support":30}],11:[function(f,D,z){var M=f("./utils"),A=f("./external"),y=f("./utf8"),s=f("./zipEntries"),h=f("./stream/Crc32Probe"),o=f("./nodejsUtils");function r(i){return new A.Promise(function(t,e){var n=i.decompressed.getContentWorker().pipe(new h);n.on("error",function(a){e(a)}).on("end",function(){n.streamInfo.crc32!==i.decompressed.crc32?e(new Error("Corrupted zip : CRC32 mismatch")):t()}).resume()})}D.exports=function(i,t){var e=this;return t=M.extend(t||{},{base64:!1,checkCRC32:!1,optimizedBinaryString:!1,createFolders:!1,decodeFileName:y.utf8decode}),o.isNode&&o.isStream(i)?A.Promise.reject(new Error("JSZip can't accept a stream when loading a zip file.")):M.prepareContent("the loaded zip file",i,!0,t.optimizedBinaryString,t.base64).then(function(n){var a=new s(t);return a.load(n),a}).then(function(n){var a=[A.Promise.resolve(n)],c=n.files;if(t.checkCRC32)for(var d=0;d<c.length;d++)a.push(r(c[d]));return A.Promise.all(a)}).then(function(n){for(var a=n.shift(),c=a.files,d=0;d<c.length;d++){var k=c[d],v=k.fileNameStr,p=M.resolve(k.fileNameStr);e.file(p,k.decompressed,{binary:!0,optimizedBinaryString:!0,date:k.date,dir:k.dir,comment:k.fileCommentStr.length?k.fileCommentStr:null,unixPermissions:k.unixPermissions,dosPermissions:k.dosPermissions,createFolders:t.createFolders}),k.dir||(e.file(p).unsafeOriginalName=v)}return a.zipComment.length&&(e.comment=a.zipComment),e})}},{"./external":6,"./nodejsUtils":14,"./stream/Crc32Probe":25,"./utf8":31,"./utils":32,"./zipEntries":33}],12:[function(f,D,z){var M=f("../utils"),A=f("../stream/GenericWorker");function y(s,h){A.call(this,"Nodejs stream input adapter for "+s),this._upstreamEnded=!1,this._bindStream(h)}M.inherits(y,A),y.prototype._bindStream=function(s){var h=this;(this._stream=s).pause(),s.on("data",function(o){h.push({data:o,meta:{percent:0}})}).on("error",function(o){h.isPaused?this.generatedError=o:h.error(o)}).on("end",function(){h.isPaused?h._upstreamEnded=!0:h.end()})},y.prototype.pause=function(){return!!A.prototype.pause.call(this)&&(this._stream.pause(),!0)},y.prototype.resume=function(){return!!A.prototype.resume.call(this)&&(this._upstreamEnded?this.end():this._stream.resume(),!0)},D.exports=y},{"../stream/GenericWorker":28,"../utils":32}],13:[function(f,D,z){var M=f("readable-stream").Readable;function A(y,s,h){M.call(this,s),this._helper=y;var o=this;y.on("data",function(r,i){o.push(r)||o._helper.pause(),h&&h(i)}).on("error",function(r){o.emit("error",r)}).on("end",function(){o.push(null)})}f("../utils").inherits(A,M),A.prototype._read=function(){this._helper.resume()},D.exports=A},{"../utils":32,"readable-stream":16}],14:[function(f,D,z){D.exports={isNode:typeof Buffer<"u",newBufferFrom:function(M,A){if(Buffer.from&&Buffer.from!==Uint8Array.from)return Buffer.from(M,A);if(typeof M=="number")throw new Error('The "data" argument must not be a number');return new Buffer(M,A)},allocBuffer:function(M){if(Buffer.alloc)return Buffer.alloc(M);var A=new Buffer(M);return A.fill(0),A},isBuffer:function(M){return Buffer.isBuffer(M)},isStream:function(M){return M&&typeof M.on=="function"&&typeof M.pause=="function"&&typeof M.resume=="function"}}},{}],15:[function(f,D,z){function M(p,u,m){var E,S=y.getTypeOf(u),$=y.extend(m||{},o);$.date=$.date||new Date,$.compression!==null&&($.compression=$.compression.toUpperCase()),typeof $.unixPermissions=="string"&&($.unixPermissions=parseInt($.unixPermissions,8)),$.unixPermissions&&16384&$.unixPermissions&&($.dir=!0),$.dosPermissions&&16&$.dosPermissions&&($.dir=!0),$.dir&&(p=c(p)),$.createFolders&&(E=a(p))&&d.call(this,E,!0);var R=S==="string"&&$.binary===!1&&$.base64===!1;m&&m.binary!==void 0||($.binary=!R),(u instanceof r&&u.uncompressedSize===0||$.dir||!u||u.length===0)&&($.base64=!1,$.binary=!0,u="",$.compression="STORE",S="string");var g=null;g=u instanceof r||u instanceof s?u:e.isNode&&e.isStream(u)?new n(p,u):y.prepareContent(p,u,$.binary,$.optimizedBinaryString,$.base64);var w=new i(p,g,$);this.files[p]=w}var A=f("./utf8"),y=f("./utils"),s=f("./stream/GenericWorker"),h=f("./stream/StreamHelper"),o=f("./defaults"),r=f("./compressedObject"),i=f("./zipObject"),t=f("./generate"),e=f("./nodejsUtils"),n=f("./nodejs/NodejsStreamInputAdapter"),a=function(p){p.slice(-1)==="/"&&(p=p.substring(0,p.length-1));var u=p.lastIndexOf("/");return 0<u?p.substring(0,u):""},c=function(p){return p.slice(-1)!=="/"&&(p+="/"),p},d=function(p,u){return u=u!==void 0?u:o.createFolders,p=c(p),this.files[p]||M.call(this,p,null,{dir:!0,createFolders:u}),this.files[p]};function k(p){return Object.prototype.toString.call(p)==="[object RegExp]"}var v={load:function(){throw new Error("This method has been removed in JSZip 3.0, please check the upgrade guide.")},forEach:function(p){var u,m,E;for(u in this.files)E=this.files[u],(m=u.slice(this.root.length,u.length))&&u.slice(0,this.root.length)===this.root&&p(m,E)},filter:function(p){var u=[];return this.forEach(function(m,E){p(m,E)&&u.push(E)}),u},file:function(p,u,m){if(arguments.length!==1)return p=this.root+p,M.call(this,p,u,m),this;if(k(p)){var E=p;return this.filter(function($,R){return!R.dir&&E.test($)})}var S=this.files[this.root+p];return S&&!S.dir?S:null},folder:function(p){if(!p)return this;if(k(p))return this.filter(function(S,$){return $.dir&&p.test(S)});var u=this.root+p,m=d.call(this,u),E=this.clone();return E.root=m.name,E},remove:function(p){p=this.root+p;var u=this.files[p];if(u||(p.slice(-1)!=="/"&&(p+="/"),u=this.files[p]),u&&!u.dir)delete this.files[p];else for(var m=this.filter(function(S,$){return $.name.slice(0,p.length)===p}),E=0;E<m.length;E++)delete this.files[m[E].name];return this},generate:function(){throw new Error("This method has been removed in JSZip 3.0, please check the upgrade guide.")},generateInternalStream:function(p){var u,m={};try{if((m=y.extend(p||{},{streamFiles:!1,compression:"STORE",compressionOptions:null,type:"",platform:"DOS",comment:null,mimeType:"application/zip",encodeFileName:A.utf8encode})).type=m.type.toLowerCase(),m.compression=m.compression.toUpperCase(),m.type==="binarystring"&&(m.type="string"),!m.type)throw new Error("No output type specified.");y.checkSupport(m.type),m.platform!=="darwin"&&m.platform!=="freebsd"&&m.platform!=="linux"&&m.platform!=="sunos"||(m.platform="UNIX"),m.platform==="win32"&&(m.platform="DOS");var E=m.comment||this.comment||"";u=t.generateWorker(this,m,E)}catch(S){(u=new s("error")).error(S)}return new h(u,m.type||"string",m.mimeType)},generateAsync:function(p,u){return this.generateInternalStream(p).accumulate(u)},generateNodeStream:function(p,u){return(p=p||{}).type||(p.type="nodebuffer"),this.generateInternalStream(p).toNodejsStream(u)}};D.exports=v},{"./compressedObject":2,"./defaults":5,"./generate":9,"./nodejs/NodejsStreamInputAdapter":12,"./nodejsUtils":14,"./stream/GenericWorker":28,"./stream/StreamHelper":29,"./utf8":31,"./utils":32,"./zipObject":35}],16:[function(f,D,z){D.exports=f("stream")},{stream:void 0}],17:[function(f,D,z){var M=f("./DataReader");function A(y){M.call(this,y);for(var s=0;s<this.data.length;s++)y[s]=255&y[s]}f("../utils").inherits(A,M),A.prototype.byteAt=function(y){return this.data[this.zero+y]},A.prototype.lastIndexOfSignature=function(y){for(var s=y.charCodeAt(0),h=y.charCodeAt(1),o=y.charCodeAt(2),r=y.charCodeAt(3),i=this.length-4;0<=i;--i)if(this.data[i]===s&&this.data[i+1]===h&&this.data[i+2]===o&&this.data[i+3]===r)return i-this.zero;return-1},A.prototype.readAndCheckSignature=function(y){var s=y.charCodeAt(0),h=y.charCodeAt(1),o=y.charCodeAt(2),r=y.charCodeAt(3),i=this.readData(4);return s===i[0]&&h===i[1]&&o===i[2]&&r===i[3]},A.prototype.readData=function(y){if(this.checkOffset(y),y===0)return[];var s=this.data.slice(this.zero+this.index,this.zero+this.index+y);return this.index+=y,s},D.exports=A},{"../utils":32,"./DataReader":18}],18:[function(f,D,z){var M=f("../utils");function A(y){this.data=y,this.length=y.length,this.index=0,this.zero=0}A.prototype={checkOffset:function(y){this.checkIndex(this.index+y)},checkIndex:function(y){if(this.length<this.zero+y||y<0)throw new Error("End of data reached (data length = "+this.length+", asked index = "+y+"). Corrupted zip ?")},setIndex:function(y){this.checkIndex(y),this.index=y},skip:function(y){this.setIndex(this.index+y)},byteAt:function(){},readInt:function(y){var s,h=0;for(this.checkOffset(y),s=this.index+y-1;s>=this.index;s--)h=(h<<8)+this.byteAt(s);return this.index+=y,h},readString:function(y){return M.transformTo("string",this.readData(y))},readData:function(){},lastIndexOfSignature:function(){},readAndCheckSignature:function(){},readDate:function(){var y=this.readInt(4);return new Date(Date.UTC(1980+(y>>25&127),(y>>21&15)-1,y>>16&31,y>>11&31,y>>5&63,(31&y)<<1))}},D.exports=A},{"../utils":32}],19:[function(f,D,z){var M=f("./Uint8ArrayReader");function A(y){M.call(this,y)}f("../utils").inherits(A,M),A.prototype.readData=function(y){this.checkOffset(y);var s=this.data.slice(this.zero+this.index,this.zero+this.index+y);return this.index+=y,s},D.exports=A},{"../utils":32,"./Uint8ArrayReader":21}],20:[function(f,D,z){var M=f("./DataReader");function A(y){M.call(this,y)}f("../utils").inherits(A,M),A.prototype.byteAt=function(y){return this.data.charCodeAt(this.zero+y)},A.prototype.lastIndexOfSignature=function(y){return this.data.lastIndexOf(y)-this.zero},A.prototype.readAndCheckSignature=function(y){return y===this.readData(4)},A.prototype.readData=function(y){this.checkOffset(y);var s=this.data.slice(this.zero+this.index,this.zero+this.index+y);return this.index+=y,s},D.exports=A},{"../utils":32,"./DataReader":18}],21:[function(f,D,z){var M=f("./ArrayReader");function A(y){M.call(this,y)}f("../utils").inherits(A,M),A.prototype.readData=function(y){if(this.checkOffset(y),y===0)return new Uint8Array(0);var s=this.data.subarray(this.zero+this.index,this.zero+this.index+y);return this.index+=y,s},D.exports=A},{"../utils":32,"./ArrayReader":17}],22:[function(f,D,z){var M=f("../utils"),A=f("../support"),y=f("./ArrayReader"),s=f("./StringReader"),h=f("./NodeBufferReader"),o=f("./Uint8ArrayReader");D.exports=function(r){var i=M.getTypeOf(r);return M.checkSupport(i),i!=="string"||A.uint8array?i==="nodebuffer"?new h(r):A.uint8array?new o(M.transformTo("uint8array",r)):new y(M.transformTo("array",r)):new s(r)}},{"../support":30,"../utils":32,"./ArrayReader":17,"./NodeBufferReader":19,"./StringReader":20,"./Uint8ArrayReader":21}],23:[function(f,D,z){z.LOCAL_FILE_HEADER="PK",z.CENTRAL_FILE_HEADER="PK",z.CENTRAL_DIRECTORY_END="PK",z.ZIP64_CENTRAL_DIRECTORY_LOCATOR="PK\x07",z.ZIP64_CENTRAL_DIRECTORY_END="PK",z.DATA_DESCRIPTOR="PK\x07\b"},{}],24:[function(f,D,z){var M=f("./GenericWorker"),A=f("../utils");function y(s){M.call(this,"ConvertWorker to "+s),this.destType=s}A.inherits(y,M),y.prototype.processChunk=function(s){this.push({data:A.transformTo(this.destType,s.data),meta:s.meta})},D.exports=y},{"../utils":32,"./GenericWorker":28}],25:[function(f,D,z){var M=f("./GenericWorker"),A=f("../crc32");function y(){M.call(this,"Crc32Probe"),this.withStreamInfo("crc32",0)}f("../utils").inherits(y,M),y.prototype.processChunk=function(s){this.streamInfo.crc32=A(s.data,this.streamInfo.crc32||0),this.push(s)},D.exports=y},{"../crc32":4,"../utils":32,"./GenericWorker":28}],26:[function(f,D,z){var M=f("../utils"),A=f("./GenericWorker");function y(s){A.call(this,"DataLengthProbe for "+s),this.propName=s,this.withStreamInfo(s,0)}M.inherits(y,A),y.prototype.processChunk=function(s){if(s){var h=this.streamInfo[this.propName]||0;this.streamInfo[this.propName]=h+s.data.length}A.prototype.processChunk.call(this,s)},D.exports=y},{"../utils":32,"./GenericWorker":28}],27:[function(f,D,z){var M=f("../utils"),A=f("./GenericWorker");function y(s){A.call(this,"DataWorker");var h=this;this.dataIsReady=!1,this.index=0,this.max=0,this.data=null,this.type="",this._tickScheduled=!1,s.then(function(o){h.dataIsReady=!0,h.data=o,h.max=o&&o.length||0,h.type=M.getTypeOf(o),h.isPaused||h._tickAndRepeat()},function(o){h.error(o)})}M.inherits(y,A),y.prototype.cleanUp=function(){A.prototype.cleanUp.call(this),this.data=null},y.prototype.resume=function(){return!!A.prototype.resume.call(this)&&(!this._tickScheduled&&this.dataIsReady&&(this._tickScheduled=!0,M.delay(this._tickAndRepeat,[],this)),!0)},y.prototype._tickAndRepeat=function(){this._tickScheduled=!1,this.isPaused||this.isFinished||(this._tick(),this.isFinished||(M.delay(this._tickAndRepeat,[],this),this._tickScheduled=!0))},y.prototype._tick=function(){if(this.isPaused||this.isFinished)return!1;var s=null,h=Math.min(this.max,this.index+16384);if(this.index>=this.max)return this.end();switch(this.type){case"string":s=this.data.substring(this.index,h);break;case"uint8array":s=this.data.subarray(this.index,h);break;case"array":case"nodebuffer":s=this.data.slice(this.index,h)}return this.index=h,this.push({data:s,meta:{percent:this.max?this.index/this.max*100:0}})},D.exports=y},{"../utils":32,"./GenericWorker":28}],28:[function(f,D,z){function M(A){this.name=A||"default",this.streamInfo={},this.generatedError=null,this.extraStreamInfo={},this.isPaused=!0,this.isFinished=!1,this.isLocked=!1,this._listeners={data:[],end:[],error:[]},this.previous=null}M.prototype={push:function(A){this.emit("data",A)},end:function(){if(this.isFinished)return!1;this.flush();try{this.emit("end"),this.cleanUp(),this.isFinished=!0}catch(A){this.emit("error",A)}return!0},error:function(A){return!this.isFinished&&(this.isPaused?this.generatedError=A:(this.isFinished=!0,this.emit("error",A),this.previous&&this.previous.error(A),this.cleanUp()),!0)},on:function(A,y){return this._listeners[A].push(y),this},cleanUp:function(){this.streamInfo=this.generatedError=this.extraStreamInfo=null,this._listeners=[]},emit:function(A,y){if(this._listeners[A])for(var s=0;s<this._listeners[A].length;s++)this._listeners[A][s].call(this,y)},pipe:function(A){return A.registerPrevious(this)},registerPrevious:function(A){if(this.isLocked)throw new Error("The stream '"+this+"' has already been used.");this.streamInfo=A.streamInfo,this.mergeStreamInfo(),this.previous=A;var y=this;return A.on("data",function(s){y.processChunk(s)}),A.on("end",function(){y.end()}),A.on("error",function(s){y.error(s)}),this},pause:function(){return!this.isPaused&&!this.isFinished&&(this.isPaused=!0,this.previous&&this.previous.pause(),!0)},resume:function(){if(!this.isPaused||this.isFinished)return!1;var A=this.isPaused=!1;return this.generatedError&&(this.error(this.generatedError),A=!0),this.previous&&this.previous.resume(),!A},flush:function(){},processChunk:function(A){this.push(A)},withStreamInfo:function(A,y){return this.extraStreamInfo[A]=y,this.mergeStreamInfo(),this},mergeStreamInfo:function(){for(var A in this.extraStreamInfo)Object.prototype.hasOwnProperty.call(this.extraStreamInfo,A)&&(this.streamInfo[A]=this.extraStreamInfo[A])},lock:function(){if(this.isLocked)throw new Error("The stream '"+this+"' has already been used.");this.isLocked=!0,this.previous&&this.previous.lock()},toString:function(){var A="Worker "+this.name;return this.previous?this.previous+" -> "+A:A}},D.exports=M},{}],29:[function(f,D,z){var M=f("../utils"),A=f("./ConvertWorker"),y=f("./GenericWorker"),s=f("../base64"),h=f("../support"),o=f("../external"),r=null;if(h.nodestream)try{r=f("../nodejs/NodejsStreamOutputAdapter")}catch{}function i(e,n){return new o.Promise(function(a,c){var d=[],k=e._internalType,v=e._outputType,p=e._mimeType;e.on("data",function(u,m){d.push(u),n&&n(m)}).on("error",function(u){d=[],c(u)}).on("end",function(){try{var u=function(m,E,S){switch(m){case"blob":return M.newBlob(M.transformTo("arraybuffer",E),S);case"base64":return s.encode(E);default:return M.transformTo(m,E)}}(v,function(m,E){var S,$=0,R=null,g=0;for(S=0;S<E.length;S++)g+=E[S].length;switch(m){case"string":return E.join("");case"array":return Array.prototype.concat.apply([],E);case"uint8array":for(R=new Uint8Array(g),S=0;S<E.length;S++)R.set(E[S],$),$+=E[S].length;return R;case"nodebuffer":return Buffer.concat(E);default:throw new Error("concat : unsupported type '"+m+"'")}}(k,d),p);a(u)}catch(m){c(m)}d=[]}).resume()})}function t(e,n,a){var c=n;switch(n){case"blob":case"arraybuffer":c="uint8array";break;case"base64":c="string"}try{this._internalType=c,this._outputType=n,this._mimeType=a,M.checkSupport(c),this._worker=e.pipe(new A(c)),e.lock()}catch(d){this._worker=new y("error"),this._worker.error(d)}}t.prototype={accumulate:function(e){return i(this,e)},on:function(e,n){var a=this;return e==="data"?this._worker.on(e,function(c){n.call(a,c.data,c.meta)}):this._worker.on(e,function(){M.delay(n,arguments,a)}),this},resume:function(){return M.delay(this._worker.resume,[],this._worker),this},pause:function(){return this._worker.pause(),this},toNodejsStream:function(e){if(M.checkSupport("nodestream"),this._outputType!=="nodebuffer")throw new Error(this._outputType+" is not supported by this method");return new r(this,{objectMode:this._outputType!=="nodebuffer"},e)}},D.exports=t},{"../base64":1,"../external":6,"../nodejs/NodejsStreamOutputAdapter":13,"../support":30,"../utils":32,"./ConvertWorker":24,"./GenericWorker":28}],30:[function(f,D,z){if(z.base64=!0,z.array=!0,z.string=!0,z.arraybuffer=typeof ArrayBuffer<"u"&&typeof Uint8Array<"u",z.nodebuffer=typeof Buffer<"u",z.uint8array=typeof Uint8Array<"u",typeof ArrayBuffer>"u")z.blob=!1;else{var M=new ArrayBuffer(0);try{z.blob=new Blob([M],{type:"application/zip"}).size===0}catch{try{var A=new(self.BlobBuilder||self.WebKitBlobBuilder||self.MozBlobBuilder||self.MSBlobBuilder);A.append(M),z.blob=A.getBlob("application/zip").size===0}catch{z.blob=!1}}}try{z.nodestream=!!f("readable-stream").Readable}catch{z.nodestream=!1}},{"readable-stream":16}],31:[function(f,D,z){for(var M=f("./utils"),A=f("./support"),y=f("./nodejsUtils"),s=f("./stream/GenericWorker"),h=new Array(256),o=0;o<256;o++)h[o]=252<=o?6:248<=o?5:240<=o?4:224<=o?3:192<=o?2:1;h[254]=h[254]=1;function r(){s.call(this,"utf-8 decode"),this.leftOver=null}function i(){s.call(this,"utf-8 encode")}z.utf8encode=function(t){return A.nodebuffer?y.newBufferFrom(t,"utf-8"):function(e){var n,a,c,d,k,v=e.length,p=0;for(d=0;d<v;d++)(64512&(a=e.charCodeAt(d)))==55296&&d+1<v&&(64512&(c=e.charCodeAt(d+1)))==56320&&(a=65536+(a-55296<<10)+(c-56320),d++),p+=a<128?1:a<2048?2:a<65536?3:4;for(n=A.uint8array?new Uint8Array(p):new Array(p),d=k=0;k<p;d++)(64512&(a=e.charCodeAt(d)))==55296&&d+1<v&&(64512&(c=e.charCodeAt(d+1)))==56320&&(a=65536+(a-55296<<10)+(c-56320),d++),a<128?n[k++]=a:(a<2048?n[k++]=192|a>>>6:(a<65536?n[k++]=224|a>>>12:(n[k++]=240|a>>>18,n[k++]=128|a>>>12&63),n[k++]=128|a>>>6&63),n[k++]=128|63&a);return n}(t)},z.utf8decode=function(t){return A.nodebuffer?M.transformTo("nodebuffer",t).toString("utf-8"):function(e){var n,a,c,d,k=e.length,v=new Array(2*k);for(n=a=0;n<k;)if((c=e[n++])<128)v[a++]=c;else if(4<(d=h[c]))v[a++]=65533,n+=d-1;else{for(c&=d===2?31:d===3?15:7;1<d&&n<k;)c=c<<6|63&e[n++],d--;1<d?v[a++]=65533:c<65536?v[a++]=c:(c-=65536,v[a++]=55296|c>>10&1023,v[a++]=56320|1023&c)}return v.length!==a&&(v.subarray?v=v.subarray(0,a):v.length=a),M.applyFromCharCode(v)}(t=M.transformTo(A.uint8array?"uint8array":"array",t))},M.inherits(r,s),r.prototype.processChunk=function(t){var e=M.transformTo(A.uint8array?"uint8array":"array",t.data);if(this.leftOver&&this.leftOver.length){if(A.uint8array){var n=e;(e=new Uint8Array(n.length+this.leftOver.length)).set(this.leftOver,0),e.set(n,this.leftOver.length)}else e=this.leftOver.concat(e);this.leftOver=null}var a=function(d,k){var v;for((k=k||d.length)>d.length&&(k=d.length),v=k-1;0<=v&&(192&d[v])==128;)v--;return v<0||v===0?k:v+h[d[v]]>k?v:k}(e),c=e;a!==e.length&&(A.uint8array?(c=e.subarray(0,a),this.leftOver=e.subarray(a,e.length)):(c=e.slice(0,a),this.leftOver=e.slice(a,e.length))),this.push({data:z.utf8decode(c),meta:t.meta})},r.prototype.flush=function(){this.leftOver&&this.leftOver.length&&(this.push({data:z.utf8decode(this.leftOver),meta:{}}),this.leftOver=null)},z.Utf8DecodeWorker=r,M.inherits(i,s),i.prototype.processChunk=function(t){this.push({data:z.utf8encode(t.data),meta:t.meta})},z.Utf8EncodeWorker=i},{"./nodejsUtils":14,"./stream/GenericWorker":28,"./support":30,"./utils":32}],32:[function(f,D,z){var M=f("./support"),A=f("./base64"),y=f("./nodejsUtils"),s=f("./external");function h(n){return n}function o(n,a){for(var c=0;c<n.length;++c)a[c]=255&n.charCodeAt(c);return a}f("setimmediate"),z.newBlob=function(n,a){z.checkSupport("blob");try{return new Blob([n],{type:a})}catch{try{var c=new(self.BlobBuilder||self.WebKitBlobBuilder||self.MozBlobBuilder||self.MSBlobBuilder);return c.append(n),c.getBlob(a)}catch{throw new Error("Bug : can't construct the Blob.")}}};var r={stringifyByChunk:function(n,a,c){var d=[],k=0,v=n.length;if(v<=c)return String.fromCharCode.apply(null,n);for(;k<v;)a==="array"||a==="nodebuffer"?d.push(String.fromCharCode.apply(null,n.slice(k,Math.min(k+c,v)))):d.push(String.fromCharCode.apply(null,n.subarray(k,Math.min(k+c,v)))),k+=c;return d.join("")},stringifyByChar:function(n){for(var a="",c=0;c<n.length;c++)a+=String.fromCharCode(n[c]);return a},applyCanBeUsed:{uint8array:function(){try{return M.uint8array&&String.fromCharCode.apply(null,new Uint8Array(1)).length===1}catch{return!1}}(),nodebuffer:function(){try{return M.nodebuffer&&String.fromCharCode.apply(null,y.allocBuffer(1)).length===1}catch{return!1}}()}};function i(n){var a=65536,c=z.getTypeOf(n),d=!0;if(c==="uint8array"?d=r.applyCanBeUsed.uint8array:c==="nodebuffer"&&(d=r.applyCanBeUsed.nodebuffer),d)for(;1<a;)try{return r.stringifyByChunk(n,c,a)}catch{a=Math.floor(a/2)}return r.stringifyByChar(n)}function t(n,a){for(var c=0;c<n.length;c++)a[c]=n[c];return a}z.applyFromCharCode=i;var e={};e.string={string:h,array:function(n){return o(n,new Array(n.length))},arraybuffer:function(n){return e.string.uint8array(n).buffer},uint8array:function(n){return o(n,new Uint8Array(n.length))},nodebuffer:function(n){return o(n,y.allocBuffer(n.length))}},e.array={string:i,array:h,arraybuffer:function(n){return new Uint8Array(n).buffer},uint8array:function(n){return new Uint8Array(n)},nodebuffer:function(n){return y.newBufferFrom(n)}},e.arraybuffer={string:function(n){return i(new Uint8Array(n))},array:function(n){return t(new Uint8Array(n),new Array(n.byteLength))},arraybuffer:h,uint8array:function(n){return new Uint8Array(n)},nodebuffer:function(n){return y.newBufferFrom(new Uint8Array(n))}},e.uint8array={string:i,array:function(n){return t(n,new Array(n.length))},arraybuffer:function(n){return n.buffer},uint8array:h,nodebuffer:function(n){return y.newBufferFrom(n)}},e.nodebuffer={string:i,array:function(n){return t(n,new Array(n.length))},arraybuffer:function(n){return e.nodebuffer.uint8array(n).buffer},uint8array:function(n){return t(n,new Uint8Array(n.length))},nodebuffer:h},z.transformTo=function(n,a){if(a=a||"",!n)return a;z.checkSupport(n);var c=z.getTypeOf(a);return e[c][n](a)},z.resolve=function(n){for(var a=n.split("/"),c=[],d=0;d<a.length;d++){var k=a[d];k==="."||k===""&&d!==0&&d!==a.length-1||(k===".."?c.pop():c.push(k))}return c.join("/")},z.getTypeOf=function(n){return typeof n=="string"?"string":Object.prototype.toString.call(n)==="[object Array]"?"array":M.nodebuffer&&y.isBuffer(n)?"nodebuffer":M.uint8array&&n instanceof Uint8Array?"uint8array":M.arraybuffer&&n instanceof ArrayBuffer?"arraybuffer":void 0},z.checkSupport=function(n){if(!M[n.toLowerCase()])throw new Error(n+" is not supported by this platform")},z.MAX_VALUE_16BITS=65535,z.MAX_VALUE_32BITS=-1,z.pretty=function(n){var a,c,d="";for(c=0;c<(n||"").length;c++)d+="\\x"+((a=n.charCodeAt(c))<16?"0":"")+a.toString(16).toUpperCase();return d},z.delay=function(n,a,c){setImmediate(function(){n.apply(c||null,a||[])})},z.inherits=function(n,a){function c(){}c.prototype=a.prototype,n.prototype=new c},z.extend=function(){var n,a,c={};for(n=0;n<arguments.length;n++)for(a in arguments[n])Object.prototype.hasOwnProperty.call(arguments[n],a)&&c[a]===void 0&&(c[a]=arguments[n][a]);return c},z.prepareContent=function(n,a,c,d,k){return s.Promise.resolve(a).then(function(v){return M.blob&&(v instanceof Blob||["[object File]","[object Blob]"].indexOf(Object.prototype.toString.call(v))!==-1)&&typeof FileReader<"u"?new s.Promise(function(p,u){var m=new FileReader;m.onload=function(E){p(E.target.result)},m.onerror=function(E){u(E.target.error)},m.readAsArrayBuffer(v)}):v}).then(function(v){var p=z.getTypeOf(v);return p?(p==="arraybuffer"?v=z.transformTo("uint8array",v):p==="string"&&(k?v=A.decode(v):c&&d!==!0&&(v=function(u){return o(u,M.uint8array?new Uint8Array(u.length):new Array(u.length))}(v))),v):s.Promise.reject(new Error("Can't read the data of '"+n+"'. Is it in a supported JavaScript type (String, Blob, ArrayBuffer, etc) ?"))})}},{"./base64":1,"./external":6,"./nodejsUtils":14,"./support":30,setimmediate:54}],33:[function(f,D,z){var M=f("./reader/readerFor"),A=f("./utils"),y=f("./signature"),s=f("./zipEntry"),h=f("./support");function o(r){this.files=[],this.loadOptions=r}o.prototype={checkSignature:function(r){if(!this.reader.readAndCheckSignature(r)){this.reader.index-=4;var i=this.reader.readString(4);throw new Error("Corrupted zip or bug: unexpected signature ("+A.pretty(i)+", expected "+A.pretty(r)+")")}},isSignature:function(r,i){var t=this.reader.index;this.reader.setIndex(r);var e=this.reader.readString(4)===i;return this.reader.setIndex(t),e},readBlockEndOfCentral:function(){this.diskNumber=this.reader.readInt(2),this.diskWithCentralDirStart=this.reader.readInt(2),this.centralDirRecordsOnThisDisk=this.reader.readInt(2),this.centralDirRecords=this.reader.readInt(2),this.centralDirSize=this.reader.readInt(4),this.centralDirOffset=this.reader.readInt(4),this.zipCommentLength=this.reader.readInt(2);var r=this.reader.readData(this.zipCommentLength),i=h.uint8array?"uint8array":"array",t=A.transformTo(i,r);this.zipComment=this.loadOptions.decodeFileName(t)},readBlockZip64EndOfCentral:function(){this.zip64EndOfCentralSize=this.reader.readInt(8),this.reader.skip(4),this.diskNumber=this.reader.readInt(4),this.diskWithCentralDirStart=this.reader.readInt(4),this.centralDirRecordsOnThisDisk=this.reader.readInt(8),this.centralDirRecords=this.reader.readInt(8),this.centralDirSize=this.reader.readInt(8),this.centralDirOffset=this.reader.readInt(8),this.zip64ExtensibleData={};for(var r,i,t,e=this.zip64EndOfCentralSize-44;0<e;)r=this.reader.readInt(2),i=this.reader.readInt(4),t=this.reader.readData(i),this.zip64ExtensibleData[r]={id:r,length:i,value:t}},readBlockZip64EndOfCentralLocator:function(){if(this.diskWithZip64CentralDirStart=this.reader.readInt(4),this.relativeOffsetEndOfZip64CentralDir=this.reader.readInt(8),this.disksCount=this.reader.readInt(4),1<this.disksCount)throw new Error("Multi-volumes zip are not supported")},readLocalFiles:function(){var r,i;for(r=0;r<this.files.length;r++)i=this.files[r],this.reader.setIndex(i.localHeaderOffset),this.checkSignature(y.LOCAL_FILE_HEADER),i.readLocalPart(this.reader),i.handleUTF8(),i.processAttributes()},readCentralDir:function(){var r;for(this.reader.setIndex(this.centralDirOffset);this.reader.readAndCheckSignature(y.CENTRAL_FILE_HEADER);)(r=new s({zip64:this.zip64},this.loadOptions)).readCentralPart(this.reader),this.files.push(r);if(this.centralDirRecords!==this.files.length&&this.centralDirRecords!==0&&this.files.length===0)throw new Error("Corrupted zip or bug: expected "+this.centralDirRecords+" records in central dir, got "+this.files.length)},readEndOfCentral:function(){var r=this.reader.lastIndexOfSignature(y.CENTRAL_DIRECTORY_END);if(r<0)throw this.isSignature(0,y.LOCAL_FILE_HEADER)?new Error("Corrupted zip: can't find end of central directory"):new Error("Can't find end of central directory : is this a zip file ? If it is, see https://stuk.github.io/jszip/documentation/howto/read_zip.html");this.reader.setIndex(r);var i=r;if(this.checkSignature(y.CENTRAL_DIRECTORY_END),this.readBlockEndOfCentral(),this.diskNumber===A.MAX_VALUE_16BITS||this.diskWithCentralDirStart===A.MAX_VALUE_16BITS||this.centralDirRecordsOnThisDisk===A.MAX_VALUE_16BITS||this.centralDirRecords===A.MAX_VALUE_16BITS||this.centralDirSize===A.MAX_VALUE_32BITS||this.centralDirOffset===A.MAX_VALUE_32BITS){if(this.zip64=!0,(r=this.reader.lastIndexOfSignature(y.ZIP64_CENTRAL_DIRECTORY_LOCATOR))<0)throw new Error("Corrupted zip: can't find the ZIP64 end of central directory locator");if(this.reader.setIndex(r),this.checkSignature(y.ZIP64_CENTRAL_DIRECTORY_LOCATOR),this.readBlockZip64EndOfCentralLocator(),!this.isSignature(this.relativeOffsetEndOfZip64CentralDir,y.ZIP64_CENTRAL_DIRECTORY_END)&&(this.relativeOffsetEndOfZip64CentralDir=this.reader.lastIndexOfSignature(y.ZIP64_CENTRAL_DIRECTORY_END),this.relativeOffsetEndOfZip64CentralDir<0))throw new Error("Corrupted zip: can't find the ZIP64 end of central directory");this.reader.setIndex(this.relativeOffsetEndOfZip64CentralDir),this.checkSignature(y.ZIP64_CENTRAL_DIRECTORY_END),this.readBlockZip64EndOfCentral()}var t=this.centralDirOffset+this.centralDirSize;this.zip64&&(t+=20,t+=12+this.zip64EndOfCentralSize);var e=i-t;if(0<e)this.isSignature(i,y.CENTRAL_FILE_HEADER)||(this.reader.zero=e);else if(e<0)throw new Error("Corrupted zip: missing "+Math.abs(e)+" bytes.")},prepareReader:function(r){this.reader=M(r)},load:function(r){this.prepareReader(r),this.readEndOfCentral(),this.readCentralDir(),this.readLocalFiles()}},D.exports=o},{"./reader/readerFor":22,"./signature":23,"./support":30,"./utils":32,"./zipEntry":34}],34:[function(f,D,z){var M=f("./reader/readerFor"),A=f("./utils"),y=f("./compressedObject"),s=f("./crc32"),h=f("./utf8"),o=f("./compressions"),r=f("./support");function i(t,e){this.options=t,this.loadOptions=e}i.prototype={isEncrypted:function(){return(1&this.bitFlag)==1},useUTF8:function(){return(2048&this.bitFlag)==2048},readLocalPart:function(t){var e,n;if(t.skip(22),this.fileNameLength=t.readInt(2),n=t.readInt(2),this.fileName=t.readData(this.fileNameLength),t.skip(n),this.compressedSize===-1||this.uncompressedSize===-1)throw new Error("Bug or corrupted zip : didn't get enough information from the central directory (compressedSize === -1 || uncompressedSize === -1)");if((e=function(a){for(var c in o)if(Object.prototype.hasOwnProperty.call(o,c)&&o[c].magic===a)return o[c];return null}(this.compressionMethod))===null)throw new Error("Corrupted zip : compression "+A.pretty(this.compressionMethod)+" unknown (inner file : "+A.transformTo("string",this.fileName)+")");this.decompressed=new y(this.compressedSize,this.uncompressedSize,this.crc32,e,t.readData(this.compressedSize))},readCentralPart:function(t){this.versionMadeBy=t.readInt(2),t.skip(2),this.bitFlag=t.readInt(2),this.compressionMethod=t.readString(2),this.date=t.readDate(),this.crc32=t.readInt(4),this.compressedSize=t.readInt(4),this.uncompressedSize=t.readInt(4);var e=t.readInt(2);if(this.extraFieldsLength=t.readInt(2),this.fileCommentLength=t.readInt(2),this.diskNumberStart=t.readInt(2),this.internalFileAttributes=t.readInt(2),this.externalFileAttributes=t.readInt(4),this.localHeaderOffset=t.readInt(4),this.isEncrypted())throw new Error("Encrypted zip are not supported");t.skip(e),this.readExtraFields(t),this.parseZIP64ExtraField(t),this.fileComment=t.readData(this.fileCommentLength)},processAttributes:function(){this.unixPermissions=null,this.dosPermissions=null;var t=this.versionMadeBy>>8;this.dir=!!(16&this.externalFileAttributes),t==0&&(this.dosPermissions=63&this.externalFileAttributes),t==3&&(this.unixPermissions=this.externalFileAttributes>>16&65535),this.dir||this.fileNameStr.slice(-1)!=="/"||(this.dir=!0)},parseZIP64ExtraField:function(){if(this.extraFields[1]){var t=M(this.extraFields[1].value);this.uncompressedSize===A.MAX_VALUE_32BITS&&(this.uncompressedSize=t.readInt(8)),this.compressedSize===A.MAX_VALUE_32BITS&&(this.compressedSize=t.readInt(8)),this.localHeaderOffset===A.MAX_VALUE_32BITS&&(this.localHeaderOffset=t.readInt(8)),this.diskNumberStart===A.MAX_VALUE_32BITS&&(this.diskNumberStart=t.readInt(4))}},readExtraFields:function(t){var e,n,a,c=t.index+this.extraFieldsLength;for(this.extraFields||(this.extraFields={});t.index+4<c;)e=t.readInt(2),n=t.readInt(2),a=t.readData(n),this.extraFields[e]={id:e,length:n,value:a};t.setIndex(c)},handleUTF8:function(){var t=r.uint8array?"uint8array":"array";if(this.useUTF8())this.fileNameStr=h.utf8decode(this.fileName),this.fileCommentStr=h.utf8decode(this.fileComment);else{var e=this.findExtraFieldUnicodePath();if(e!==null)this.fileNameStr=e;else{var n=A.transformTo(t,this.fileName);this.fileNameStr=this.loadOptions.decodeFileName(n)}var a=this.findExtraFieldUnicodeComment();if(a!==null)this.fileCommentStr=a;else{var c=A.transformTo(t,this.fileComment);this.fileCommentStr=this.loadOptions.decodeFileName(c)}}},findExtraFieldUnicodePath:function(){var t=this.extraFields[28789];if(t){var e=M(t.value);return e.readInt(1)!==1||s(this.fileName)!==e.readInt(4)?null:h.utf8decode(e.readData(t.length-5))}return null},findExtraFieldUnicodeComment:function(){var t=this.extraFields[25461];if(t){var e=M(t.value);return e.readInt(1)!==1||s(this.fileComment)!==e.readInt(4)?null:h.utf8decode(e.readData(t.length-5))}return null}},D.exports=i},{"./compressedObject":2,"./compressions":3,"./crc32":4,"./reader/readerFor":22,"./support":30,"./utf8":31,"./utils":32}],35:[function(f,D,z){function M(e,n,a){this.name=e,this.dir=a.dir,this.date=a.date,this.comment=a.comment,this.unixPermissions=a.unixPermissions,this.dosPermissions=a.dosPermissions,this._data=n,this._dataBinary=a.binary,this.options={compression:a.compression,compressionOptions:a.compressionOptions}}var A=f("./stream/StreamHelper"),y=f("./stream/DataWorker"),s=f("./utf8"),h=f("./compressedObject"),o=f("./stream/GenericWorker");M.prototype={internalStream:function(e){var n=null,a="string";try{if(!e)throw new Error("No output type specified.");var c=(a=e.toLowerCase())==="string"||a==="text";a!=="binarystring"&&a!=="text"||(a="string"),n=this._decompressWorker();var d=!this._dataBinary;d&&!c&&(n=n.pipe(new s.Utf8EncodeWorker)),!d&&c&&(n=n.pipe(new s.Utf8DecodeWorker))}catch(k){(n=new o("error")).error(k)}return new A(n,a,"")},async:function(e,n){return this.internalStream(e).accumulate(n)},nodeStream:function(e,n){return this.internalStream(e||"nodebuffer").toNodejsStream(n)},_compressWorker:function(e,n){if(this._data instanceof h&&this._data.compression.magic===e.magic)return this._data.getCompressedWorker();var a=this._decompressWorker();return this._dataBinary||(a=a.pipe(new s.Utf8EncodeWorker)),h.createWorkerFrom(a,e,n)},_decompressWorker:function(){return this._data instanceof h?this._data.getContentWorker():this._data instanceof o?this._data:new y(this._data)}};for(var r=["asText","asBinary","asNodeBuffer","asUint8Array","asArrayBuffer"],i=function(){throw new Error("This method has been removed in JSZip 3.0, please check the upgrade guide.")},t=0;t<r.length;t++)M.prototype[r[t]]=i;D.exports=M},{"./compressedObject":2,"./stream/DataWorker":27,"./stream/GenericWorker":28,"./stream/StreamHelper":29,"./utf8":31}],36:[function(f,D,z){(function(M){var A,y,s=M.MutationObserver||M.WebKitMutationObserver;if(s){var h=0,o=new s(e),r=M.document.createTextNode("");o.observe(r,{characterData:!0}),A=function(){r.data=h=++h%2}}else if(M.setImmediate||M.MessageChannel===void 0)A="document"in M&&"onreadystatechange"in M.document.createElement("script")?function(){var n=M.document.createElement("script");n.onreadystatechange=function(){e(),n.onreadystatechange=null,n.parentNode.removeChild(n),n=null},M.document.documentElement.appendChild(n)}:function(){setTimeout(e,0)};else{var i=new M.MessageChannel;i.port1.onmessage=e,A=function(){i.port2.postMessage(0)}}var t=[];function e(){var n,a;y=!0;for(var c=t.length;c;){for(a=t,t=[],n=-1;++n<c;)a[n]();c=t.length}y=!1}D.exports=function(n){t.push(n)!==1||y||A()}}).call(this,typeof Hr<"u"?Hr:typeof self<"u"?self:typeof window<"u"?window:{})},{}],37:[function(f,D,z){var M=f("immediate");function A(){}var y={},s=["REJECTED"],h=["FULFILLED"],o=["PENDING"];function r(c){if(typeof c!="function")throw new TypeError("resolver must be a function");this.state=o,this.queue=[],this.outcome=void 0,c!==A&&n(this,c)}function i(c,d,k){this.promise=c,typeof d=="function"&&(this.onFulfilled=d,this.callFulfilled=this.otherCallFulfilled),typeof k=="function"&&(this.onRejected=k,this.callRejected=this.otherCallRejected)}function t(c,d,k){M(function(){var v;try{v=d(k)}catch(p){return y.reject(c,p)}v===c?y.reject(c,new TypeError("Cannot resolve promise with itself")):y.resolve(c,v)})}function e(c){var d=c&&c.then;if(c&&(typeof c=="object"||typeof c=="function")&&typeof d=="function")return function(){d.apply(c,arguments)}}function n(c,d){var k=!1;function v(m){k||(k=!0,y.reject(c,m))}function p(m){k||(k=!0,y.resolve(c,m))}var u=a(function(){d(p,v)});u.status==="error"&&v(u.value)}function a(c,d){var k={};try{k.value=c(d),k.status="success"}catch(v){k.status="error",k.value=v}return k}(D.exports=r).prototype.finally=function(c){if(typeof c!="function")return this;var d=this.constructor;return this.then(function(k){return d.resolve(c()).then(function(){return k})},function(k){return d.resolve(c()).then(function(){throw k})})},r.prototype.catch=function(c){return this.then(null,c)},r.prototype.then=function(c,d){if(typeof c!="function"&&this.state===h||typeof d!="function"&&this.state===s)return this;var k=new this.constructor(A);return this.state!==o?t(k,this.state===h?c:d,this.outcome):this.queue.push(new i(k,c,d)),k},i.prototype.callFulfilled=function(c){y.resolve(this.promise,c)},i.prototype.otherCallFulfilled=function(c){t(this.promise,this.onFulfilled,c)},i.prototype.callRejected=function(c){y.reject(this.promise,c)},i.prototype.otherCallRejected=function(c){t(this.promise,this.onRejected,c)},y.resolve=function(c,d){var k=a(e,d);if(k.status==="error")return y.reject(c,k.value);var v=k.value;if(v)n(c,v);else{c.state=h,c.outcome=d;for(var p=-1,u=c.queue.length;++p<u;)c.queue[p].callFulfilled(d)}return c},y.reject=function(c,d){c.state=s,c.outcome=d;for(var k=-1,v=c.queue.length;++k<v;)c.queue[k].callRejected(d);return c},r.resolve=function(c){return c instanceof this?c:y.resolve(new this(A),c)},r.reject=function(c){var d=new this(A);return y.reject(d,c)},r.all=function(c){var d=this;if(Object.prototype.toString.call(c)!=="[object Array]")return this.reject(new TypeError("must be an array"));var k=c.length,v=!1;if(!k)return this.resolve([]);for(var p=new Array(k),u=0,m=-1,E=new this(A);++m<k;)S(c[m],m);return E;function S($,R){d.resolve($).then(function(g){p[R]=g,++u!==k||v||(v=!0,y.resolve(E,p))},function(g){v||(v=!0,y.reject(E,g))})}},r.race=function(c){var d=this;if(Object.prototype.toString.call(c)!=="[object Array]")return this.reject(new TypeError("must be an array"));var k=c.length,v=!1;if(!k)return this.resolve([]);for(var p=-1,u=new this(A);++p<k;)m=c[p],d.resolve(m).then(function(E){v||(v=!0,y.resolve(u,E))},function(E){v||(v=!0,y.reject(u,E))});var m;return u}},{immediate:36}],38:[function(f,D,z){var M={};(0,f("./lib/utils/common").assign)(M,f("./lib/deflate"),f("./lib/inflate"),f("./lib/zlib/constants")),D.exports=M},{"./lib/deflate":39,"./lib/inflate":40,"./lib/utils/common":41,"./lib/zlib/constants":44}],39:[function(f,D,z){var M=f("./zlib/deflate"),A=f("./utils/common"),y=f("./utils/strings"),s=f("./zlib/messages"),h=f("./zlib/zstream"),o=Object.prototype.toString,r=0,i=-1,t=0,e=8;function n(c){if(!(this instanceof n))return new n(c);this.options=A.assign({level:i,method:e,chunkSize:16384,windowBits:15,memLevel:8,strategy:t,to:""},c||{});var d=this.options;d.raw&&0<d.windowBits?d.windowBits=-d.windowBits:d.gzip&&0<d.windowBits&&d.windowBits<16&&(d.windowBits+=16),this.err=0,this.msg="",this.ended=!1,this.chunks=[],this.strm=new h,this.strm.avail_out=0;var k=M.deflateInit2(this.strm,d.level,d.method,d.windowBits,d.memLevel,d.strategy);if(k!==r)throw new Error(s[k]);if(d.header&&M.deflateSetHeader(this.strm,d.header),d.dictionary){var v;if(v=typeof d.dictionary=="string"?y.string2buf(d.dictionary):o.call(d.dictionary)==="[object ArrayBuffer]"?new Uint8Array(d.dictionary):d.dictionary,(k=M.deflateSetDictionary(this.strm,v))!==r)throw new Error(s[k]);this._dict_set=!0}}function a(c,d){var k=new n(d);if(k.push(c,!0),k.err)throw k.msg||s[k.err];return k.result}n.prototype.push=function(c,d){var k,v,p=this.strm,u=this.options.chunkSize;if(this.ended)return!1;v=d===~~d?d:d===!0?4:0,typeof c=="string"?p.input=y.string2buf(c):o.call(c)==="[object ArrayBuffer]"?p.input=new Uint8Array(c):p.input=c,p.next_in=0,p.avail_in=p.input.length;do{if(p.avail_out===0&&(p.output=new A.Buf8(u),p.next_out=0,p.avail_out=u),(k=M.deflate(p,v))!==1&&k!==r)return this.onEnd(k),!(this.ended=!0);p.avail_out!==0&&(p.avail_in!==0||v!==4&&v!==2)||(this.options.to==="string"?this.onData(y.buf2binstring(A.shrinkBuf(p.output,p.next_out))):this.onData(A.shrinkBuf(p.output,p.next_out)))}while((0<p.avail_in||p.avail_out===0)&&k!==1);return v===4?(k=M.deflateEnd(this.strm),this.onEnd(k),this.ended=!0,k===r):v!==2||(this.onEnd(r),!(p.avail_out=0))},n.prototype.onData=function(c){this.chunks.push(c)},n.prototype.onEnd=function(c){c===r&&(this.options.to==="string"?this.result=this.chunks.join(""):this.result=A.flattenChunks(this.chunks)),this.chunks=[],this.err=c,this.msg=this.strm.msg},z.Deflate=n,z.deflate=a,z.deflateRaw=function(c,d){return(d=d||{}).raw=!0,a(c,d)},z.gzip=function(c,d){return(d=d||{}).gzip=!0,a(c,d)}},{"./utils/common":41,"./utils/strings":42,"./zlib/deflate":46,"./zlib/messages":51,"./zlib/zstream":53}],40:[function(f,D,z){var M=f("./zlib/inflate"),A=f("./utils/common"),y=f("./utils/strings"),s=f("./zlib/constants"),h=f("./zlib/messages"),o=f("./zlib/zstream"),r=f("./zlib/gzheader"),i=Object.prototype.toString;function t(n){if(!(this instanceof t))return new t(n);this.options=A.assign({chunkSize:16384,windowBits:0,to:""},n||{});var a=this.options;a.raw&&0<=a.windowBits&&a.windowBits<16&&(a.windowBits=-a.windowBits,a.windowBits===0&&(a.windowBits=-15)),!(0<=a.windowBits&&a.windowBits<16)||n&&n.windowBits||(a.windowBits+=32),15<a.windowBits&&a.windowBits<48&&(15&a.windowBits)==0&&(a.windowBits|=15),this.err=0,this.msg="",this.ended=!1,this.chunks=[],this.strm=new o,this.strm.avail_out=0;var c=M.inflateInit2(this.strm,a.windowBits);if(c!==s.Z_OK)throw new Error(h[c]);this.header=new r,M.inflateGetHeader(this.strm,this.header)}function e(n,a){var c=new t(a);if(c.push(n,!0),c.err)throw c.msg||h[c.err];return c.result}t.prototype.push=function(n,a){var c,d,k,v,p,u,m=this.strm,E=this.options.chunkSize,S=this.options.dictionary,$=!1;if(this.ended)return!1;d=a===~~a?a:a===!0?s.Z_FINISH:s.Z_NO_FLUSH,typeof n=="string"?m.input=y.binstring2buf(n):i.call(n)==="[object ArrayBuffer]"?m.input=new Uint8Array(n):m.input=n,m.next_in=0,m.avail_in=m.input.length;do{if(m.avail_out===0&&(m.output=new A.Buf8(E),m.next_out=0,m.avail_out=E),(c=M.inflate(m,s.Z_NO_FLUSH))===s.Z_NEED_DICT&&S&&(u=typeof S=="string"?y.string2buf(S):i.call(S)==="[object ArrayBuffer]"?new Uint8Array(S):S,c=M.inflateSetDictionary(this.strm,u)),c===s.Z_BUF_ERROR&&$===!0&&(c=s.Z_OK,$=!1),c!==s.Z_STREAM_END&&c!==s.Z_OK)return this.onEnd(c),!(this.ended=!0);m.next_out&&(m.avail_out!==0&&c!==s.Z_STREAM_END&&(m.avail_in!==0||d!==s.Z_FINISH&&d!==s.Z_SYNC_FLUSH)||(this.options.to==="string"?(k=y.utf8border(m.output,m.next_out),v=m.next_out-k,p=y.buf2string(m.output,k),m.next_out=v,m.avail_out=E-v,v&&A.arraySet(m.output,m.output,k,v,0),this.onData(p)):this.onData(A.shrinkBuf(m.output,m.next_out)))),m.avail_in===0&&m.avail_out===0&&($=!0)}while((0<m.avail_in||m.avail_out===0)&&c!==s.Z_STREAM_END);return c===s.Z_STREAM_END&&(d=s.Z_FINISH),d===s.Z_FINISH?(c=M.inflateEnd(this.strm),this.onEnd(c),this.ended=!0,c===s.Z_OK):d!==s.Z_SYNC_FLUSH||(this.onEnd(s.Z_OK),!(m.avail_out=0))},t.prototype.onData=function(n){this.chunks.push(n)},t.prototype.onEnd=function(n){n===s.Z_OK&&(this.options.to==="string"?this.result=this.chunks.join(""):this.result=A.flattenChunks(this.chunks)),this.chunks=[],this.err=n,this.msg=this.strm.msg},z.Inflate=t,z.inflate=e,z.inflateRaw=function(n,a){return(a=a||{}).raw=!0,e(n,a)},z.ungzip=e},{"./utils/common":41,"./utils/strings":42,"./zlib/constants":44,"./zlib/gzheader":47,"./zlib/inflate":49,"./zlib/messages":51,"./zlib/zstream":53}],41:[function(f,D,z){var M=typeof Uint8Array<"u"&&typeof Uint16Array<"u"&&typeof Int32Array<"u";z.assign=function(s){for(var h=Array.prototype.slice.call(arguments,1);h.length;){var o=h.shift();if(o){if(typeof o!="object")throw new TypeError(o+"must be non-object");for(var r in o)o.hasOwnProperty(r)&&(s[r]=o[r])}}return s},z.shrinkBuf=function(s,h){return s.length===h?s:s.subarray?s.subarray(0,h):(s.length=h,s)};var A={arraySet:function(s,h,o,r,i){if(h.subarray&&s.subarray)s.set(h.subarray(o,o+r),i);else for(var t=0;t<r;t++)s[i+t]=h[o+t]},flattenChunks:function(s){var h,o,r,i,t,e;for(h=r=0,o=s.length;h<o;h++)r+=s[h].length;for(e=new Uint8Array(r),h=i=0,o=s.length;h<o;h++)t=s[h],e.set(t,i),i+=t.length;return e}},y={arraySet:function(s,h,o,r,i){for(var t=0;t<r;t++)s[i+t]=h[o+t]},flattenChunks:function(s){return[].concat.apply([],s)}};z.setTyped=function(s){s?(z.Buf8=Uint8Array,z.Buf16=Uint16Array,z.Buf32=Int32Array,z.assign(z,A)):(z.Buf8=Array,z.Buf16=Array,z.Buf32=Array,z.assign(z,y))},z.setTyped(M)},{}],42:[function(f,D,z){var M=f("./common"),A=!0,y=!0;try{String.fromCharCode.apply(null,[0])}catch{A=!1}try{String.fromCharCode.apply(null,new Uint8Array(1))}catch{y=!1}for(var s=new M.Buf8(256),h=0;h<256;h++)s[h]=252<=h?6:248<=h?5:240<=h?4:224<=h?3:192<=h?2:1;function o(r,i){if(i<65537&&(r.subarray&&y||!r.subarray&&A))return String.fromCharCode.apply(null,M.shrinkBuf(r,i));for(var t="",e=0;e<i;e++)t+=String.fromCharCode(r[e]);return t}s[254]=s[254]=1,z.string2buf=function(r){var i,t,e,n,a,c=r.length,d=0;for(n=0;n<c;n++)(64512&(t=r.charCodeAt(n)))==55296&&n+1<c&&(64512&(e=r.charCodeAt(n+1)))==56320&&(t=65536+(t-55296<<10)+(e-56320),n++),d+=t<128?1:t<2048?2:t<65536?3:4;for(i=new M.Buf8(d),n=a=0;a<d;n++)(64512&(t=r.charCodeAt(n)))==55296&&n+1<c&&(64512&(e=r.charCodeAt(n+1)))==56320&&(t=65536+(t-55296<<10)+(e-56320),n++),t<128?i[a++]=t:(t<2048?i[a++]=192|t>>>6:(t<65536?i[a++]=224|t>>>12:(i[a++]=240|t>>>18,i[a++]=128|t>>>12&63),i[a++]=128|t>>>6&63),i[a++]=128|63&t);return i},z.buf2binstring=function(r){return o(r,r.length)},z.binstring2buf=function(r){for(var i=new M.Buf8(r.length),t=0,e=i.length;t<e;t++)i[t]=r.charCodeAt(t);return i},z.buf2string=function(r,i){var t,e,n,a,c=i||r.length,d=new Array(2*c);for(t=e=0;t<c;)if((n=r[t++])<128)d[e++]=n;else if(4<(a=s[n]))d[e++]=65533,t+=a-1;else{for(n&=a===2?31:a===3?15:7;1<a&&t<c;)n=n<<6|63&r[t++],a--;1<a?d[e++]=65533:n<65536?d[e++]=n:(n-=65536,d[e++]=55296|n>>10&1023,d[e++]=56320|1023&n)}return o(d,e)},z.utf8border=function(r,i){var t;for((i=i||r.length)>r.length&&(i=r.length),t=i-1;0<=t&&(192&r[t])==128;)t--;return t<0||t===0?i:t+s[r[t]]>i?t:i}},{"./common":41}],43:[function(f,D,z){D.exports=function(M,A,y,s){for(var h=65535&M|0,o=M>>>16&65535|0,r=0;y!==0;){for(y-=r=2e3<y?2e3:y;o=o+(h=h+A[s++]|0)|0,--r;);h%=65521,o%=65521}return h|o<<16|0}},{}],44:[function(f,D,z){D.exports={Z_NO_FLUSH:0,Z_PARTIAL_FLUSH:1,Z_SYNC_FLUSH:2,Z_FULL_FLUSH:3,Z_FINISH:4,Z_BLOCK:5,Z_TREES:6,Z_OK:0,Z_STREAM_END:1,Z_NEED_DICT:2,Z_ERRNO:-1,Z_STREAM_ERROR:-2,Z_DATA_ERROR:-3,Z_BUF_ERROR:-5,Z_NO_COMPRESSION:0,Z_BEST_SPEED:1,Z_BEST_COMPRESSION:9,Z_DEFAULT_COMPRESSION:-1,Z_FILTERED:1,Z_HUFFMAN_ONLY:2,Z_RLE:3,Z_FIXED:4,Z_DEFAULT_STRATEGY:0,Z_BINARY:0,Z_TEXT:1,Z_UNKNOWN:2,Z_DEFLATED:8}},{}],45:[function(f,D,z){var M=function(){for(var A,y=[],s=0;s<256;s++){A=s;for(var h=0;h<8;h++)A=1&A?3988292384^A>>>1:A>>>1;y[s]=A}return y}();D.exports=function(A,y,s,h){var o=M,r=h+s;A^=-1;for(var i=h;i<r;i++)A=A>>>8^o[255&(A^y[i])];return-1^A}},{}],46:[function(f,D,z){var M,A=f("../utils/common"),y=f("./trees"),s=f("./adler32"),h=f("./crc32"),o=f("./messages"),r=0,i=4,t=0,e=-2,n=-1,a=4,c=2,d=8,k=9,v=286,p=30,u=19,m=2*v+1,E=15,S=3,$=258,R=$+S+1,g=42,w=113,l=1,_=2,L=3,I=4;function W(F,be){return F.msg=o[be],be}function H(F){return(F<<1)-(4<F?9:0)}function J(F){for(var be=F.length;0<=--be;)F[be]=0}function q(F){var be=F.state,he=be.pending;he>F.avail_out&&(he=F.avail_out),he!==0&&(A.arraySet(F.output,be.pending_buf,be.pending_out,he,F.next_out),F.next_out+=he,be.pending_out+=he,F.total_out+=he,F.avail_out-=he,be.pending-=he,be.pending===0&&(be.pending_out=0))}function Z(F,be){y._tr_flush_block(F,0<=F.block_start?F.block_start:-1,F.strstart-F.block_start,be),F.block_start=F.strstart,q(F.strm)}function oe(F,be){F.pending_buf[F.pending++]=be}function ee(F,be){F.pending_buf[F.pending++]=be>>>8&255,F.pending_buf[F.pending++]=255&be}function se(F,be){var he,ae,ne=F.max_chain_length,de=F.strstart,Me=F.prev_length,ke=F.nice_match,we=F.strstart>F.w_size-R?F.strstart-(F.w_size-R):0,De=F.window,Ne=F.w_mask,Be=F.prev,ye=F.strstart+$,Ee=De[de+Me-1],Ie=De[de+Me];F.prev_length>=F.good_match&&(ne>>=2),ke>F.lookahead&&(ke=F.lookahead);do if(De[(he=be)+Me]===Ie&&De[he+Me-1]===Ee&&De[he]===De[de]&&De[++he]===De[de+1]){de+=2,he++;do;while(De[++de]===De[++he]&&De[++de]===De[++he]&&De[++de]===De[++he]&&De[++de]===De[++he]&&De[++de]===De[++he]&&De[++de]===De[++he]&&De[++de]===De[++he]&&De[++de]===De[++he]&&de<ye);if(ae=$-(ye-de),de=ye-$,Me<ae){if(F.match_start=be,ke<=(Me=ae))break;Ee=De[de+Me-1],Ie=De[de+Me]}}while((be=Be[be&Ne])>we&&--ne!=0);return Me<=F.lookahead?Me:F.lookahead}function fe(F){var be,he,ae,ne,de,Me,ke,we,De,Ne,Be=F.w_size;do{if(ne=F.window_size-F.lookahead-F.strstart,F.strstart>=Be+(Be-R)){for(A.arraySet(F.window,F.window,Be,Be,0),F.match_start-=Be,F.strstart-=Be,F.block_start-=Be,be=he=F.hash_size;ae=F.head[--be],F.head[be]=Be<=ae?ae-Be:0,--he;);for(be=he=Be;ae=F.prev[--be],F.prev[be]=Be<=ae?ae-Be:0,--he;);ne+=Be}if(F.strm.avail_in===0)break;if(Me=F.strm,ke=F.window,we=F.strstart+F.lookahead,De=ne,Ne=void 0,Ne=Me.avail_in,De<Ne&&(Ne=De),he=Ne===0?0:(Me.avail_in-=Ne,A.arraySet(ke,Me.input,Me.next_in,Ne,we),Me.state.wrap===1?Me.adler=s(Me.adler,ke,Ne,we):Me.state.wrap===2&&(Me.adler=h(Me.adler,ke,Ne,we)),Me.next_in+=Ne,Me.total_in+=Ne,Ne),F.lookahead+=he,F.lookahead+F.insert>=S)for(de=F.strstart-F.insert,F.ins_h=F.window[de],F.ins_h=(F.ins_h<<F.hash_shift^F.window[de+1])&F.hash_mask;F.insert&&(F.ins_h=(F.ins_h<<F.hash_shift^F.window[de+S-1])&F.hash_mask,F.prev[de&F.w_mask]=F.head[F.ins_h],F.head[F.ins_h]=de,de++,F.insert--,!(F.lookahead+F.insert<S)););}while(F.lookahead<R&&F.strm.avail_in!==0)}function Ce(F,be){for(var he,ae;;){if(F.lookahead<R){if(fe(F),F.lookahead<R&&be===r)return l;if(F.lookahead===0)break}if(he=0,F.lookahead>=S&&(F.ins_h=(F.ins_h<<F.hash_shift^F.window[F.strstart+S-1])&F.hash_mask,he=F.prev[F.strstart&F.w_mask]=F.head[F.ins_h],F.head[F.ins_h]=F.strstart),he!==0&&F.strstart-he<=F.w_size-R&&(F.match_length=se(F,he)),F.match_length>=S)if(ae=y._tr_tally(F,F.strstart-F.match_start,F.match_length-S),F.lookahead-=F.match_length,F.match_length<=F.max_lazy_match&&F.lookahead>=S){for(F.match_length--;F.strstart++,F.ins_h=(F.ins_h<<F.hash_shift^F.window[F.strstart+S-1])&F.hash_mask,he=F.prev[F.strstart&F.w_mask]=F.head[F.ins_h],F.head[F.ins_h]=F.strstart,--F.match_length!=0;);F.strstart++}else F.strstart+=F.match_length,F.match_length=0,F.ins_h=F.window[F.strstart],F.ins_h=(F.ins_h<<F.hash_shift^F.window[F.strstart+1])&F.hash_mask;else ae=y._tr_tally(F,0,F.window[F.strstart]),F.lookahead--,F.strstart++;if(ae&&(Z(F,!1),F.strm.avail_out===0))return l}return F.insert=F.strstart<S-1?F.strstart:S-1,be===i?(Z(F,!0),F.strm.avail_out===0?L:I):F.last_lit&&(Z(F,!1),F.strm.avail_out===0)?l:_}function Se(F,be){for(var he,ae,ne;;){if(F.lookahead<R){if(fe(F),F.lookahead<R&&be===r)return l;if(F.lookahead===0)break}if(he=0,F.lookahead>=S&&(F.ins_h=(F.ins_h<<F.hash_shift^F.window[F.strstart+S-1])&F.hash_mask,he=F.prev[F.strstart&F.w_mask]=F.head[F.ins_h],F.head[F.ins_h]=F.strstart),F.prev_length=F.match_length,F.prev_match=F.match_start,F.match_length=S-1,he!==0&&F.prev_length<F.max_lazy_match&&F.strstart-he<=F.w_size-R&&(F.match_length=se(F,he),F.match_length<=5&&(F.strategy===1||F.match_length===S&&4096<F.strstart-F.match_start)&&(F.match_length=S-1)),F.prev_length>=S&&F.match_length<=F.prev_length){for(ne=F.strstart+F.lookahead-S,ae=y._tr_tally(F,F.strstart-1-F.prev_match,F.prev_length-S),F.lookahead-=F.prev_length-1,F.prev_length-=2;++F.strstart<=ne&&(F.ins_h=(F.ins_h<<F.hash_shift^F.window[F.strstart+S-1])&F.hash_mask,he=F.prev[F.strstart&F.w_mask]=F.head[F.ins_h],F.head[F.ins_h]=F.strstart),--F.prev_length!=0;);if(F.match_available=0,F.match_length=S-1,F.strstart++,ae&&(Z(F,!1),F.strm.avail_out===0))return l}else if(F.match_available){if((ae=y._tr_tally(F,0,F.window[F.strstart-1]))&&Z(F,!1),F.strstart++,F.lookahead--,F.strm.avail_out===0)return l}else F.match_available=1,F.strstart++,F.lookahead--}return F.match_available&&(ae=y._tr_tally(F,0,F.window[F.strstart-1]),F.match_available=0),F.insert=F.strstart<S-1?F.strstart:S-1,be===i?(Z(F,!0),F.strm.avail_out===0?L:I):F.last_lit&&(Z(F,!1),F.strm.avail_out===0)?l:_}function $e(F,be,he,ae,ne){this.good_length=F,this.max_lazy=be,this.nice_length=he,this.max_chain=ae,this.func=ne}function xe(){this.strm=null,this.status=0,this.pending_buf=null,this.pending_buf_size=0,this.pending_out=0,this.pending=0,this.wrap=0,this.gzhead=null,this.gzindex=0,this.method=d,this.last_flush=-1,this.w_size=0,this.w_bits=0,this.w_mask=0,this.window=null,this.window_size=0,this.prev=null,this.head=null,this.ins_h=0,this.hash_size=0,this.hash_bits=0,this.hash_mask=0,this.hash_shift=0,this.block_start=0,this.match_length=0,this.prev_match=0,this.match_available=0,this.strstart=0,this.match_start=0,this.lookahead=0,this.prev_length=0,this.max_chain_length=0,this.max_lazy_match=0,this.level=0,this.strategy=0,this.good_match=0,this.nice_match=0,this.dyn_ltree=new A.Buf16(2*m),this.dyn_dtree=new A.Buf16(2*(2*p+1)),this.bl_tree=new A.Buf16(2*(2*u+1)),J(this.dyn_ltree),J(this.dyn_dtree),J(this.bl_tree),this.l_desc=null,this.d_desc=null,this.bl_desc=null,this.bl_count=new A.Buf16(E+1),this.heap=new A.Buf16(2*v+1),J(this.heap),this.heap_len=0,this.heap_max=0,this.depth=new A.Buf16(2*v+1),J(this.depth),this.l_buf=0,this.lit_bufsize=0,this.last_lit=0,this.d_buf=0,this.opt_len=0,this.static_len=0,this.matches=0,this.insert=0,this.bi_buf=0,this.bi_valid=0}function Pe(F){var be;return F&&F.state?(F.total_in=F.total_out=0,F.data_type=c,(be=F.state).pending=0,be.pending_out=0,be.wrap<0&&(be.wrap=-be.wrap),be.status=be.wrap?g:w,F.adler=be.wrap===2?0:1,be.last_flush=r,y._tr_init(be),t):W(F,e)}function ze(F){var be=Pe(F);return be===t&&function(he){he.window_size=2*he.w_size,J(he.head),he.max_lazy_match=M[he.level].max_lazy,he.good_match=M[he.level].good_length,he.nice_match=M[he.level].nice_length,he.max_chain_length=M[he.level].max_chain,he.strstart=0,he.block_start=0,he.lookahead=0,he.insert=0,he.match_length=he.prev_length=S-1,he.match_available=0,he.ins_h=0}(F.state),be}function Je(F,be,he,ae,ne,de){if(!F)return e;var Me=1;if(be===n&&(be=6),ae<0?(Me=0,ae=-ae):15<ae&&(Me=2,ae-=16),ne<1||k<ne||he!==d||ae<8||15<ae||be<0||9<be||de<0||a<de)return W(F,e);ae===8&&(ae=9);var ke=new xe;return(F.state=ke).strm=F,ke.wrap=Me,ke.gzhead=null,ke.w_bits=ae,ke.w_size=1<<ke.w_bits,ke.w_mask=ke.w_size-1,ke.hash_bits=ne+7,ke.hash_size=1<<ke.hash_bits,ke.hash_mask=ke.hash_size-1,ke.hash_shift=~~((ke.hash_bits+S-1)/S),ke.window=new A.Buf8(2*ke.w_size),ke.head=new A.Buf16(ke.hash_size),ke.prev=new A.Buf16(ke.w_size),ke.lit_bufsize=1<<ne+6,ke.pending_buf_size=4*ke.lit_bufsize,ke.pending_buf=new A.Buf8(ke.pending_buf_size),ke.d_buf=1*ke.lit_bufsize,ke.l_buf=3*ke.lit_bufsize,ke.level=be,ke.strategy=de,ke.method=he,ze(F)}M=[new $e(0,0,0,0,function(F,be){var he=65535;for(he>F.pending_buf_size-5&&(he=F.pending_buf_size-5);;){if(F.lookahead<=1){if(fe(F),F.lookahead===0&&be===r)return l;if(F.lookahead===0)break}F.strstart+=F.lookahead,F.lookahead=0;var ae=F.block_start+he;if((F.strstart===0||F.strstart>=ae)&&(F.lookahead=F.strstart-ae,F.strstart=ae,Z(F,!1),F.strm.avail_out===0)||F.strstart-F.block_start>=F.w_size-R&&(Z(F,!1),F.strm.avail_out===0))return l}return F.insert=0,be===i?(Z(F,!0),F.strm.avail_out===0?L:I):(F.strstart>F.block_start&&(Z(F,!1),F.strm.avail_out),l)}),new $e(4,4,8,4,Ce),new $e(4,5,16,8,Ce),new $e(4,6,32,32,Ce),new $e(4,4,16,16,Se),new $e(8,16,32,32,Se),new $e(8,16,128,128,Se),new $e(8,32,128,256,Se),new $e(32,128,258,1024,Se),new $e(32,258,258,4096,Se)],z.deflateInit=function(F,be){return Je(F,be,d,15,8,0)},z.deflateInit2=Je,z.deflateReset=ze,z.deflateResetKeep=Pe,z.deflateSetHeader=function(F,be){return F&&F.state?F.state.wrap!==2?e:(F.state.gzhead=be,t):e},z.deflate=function(F,be){var he,ae,ne,de;if(!F||!F.state||5<be||be<0)return F?W(F,e):e;if(ae=F.state,!F.output||!F.input&&F.avail_in!==0||ae.status===666&&be!==i)return W(F,F.avail_out===0?-5:e);if(ae.strm=F,he=ae.last_flush,ae.last_flush=be,ae.status===g)if(ae.wrap===2)F.adler=0,oe(ae,31),oe(ae,139),oe(ae,8),ae.gzhead?(oe(ae,(ae.gzhead.text?1:0)+(ae.gzhead.hcrc?2:0)+(ae.gzhead.extra?4:0)+(ae.gzhead.name?8:0)+(ae.gzhead.comment?16:0)),oe(ae,255&ae.gzhead.time),oe(ae,ae.gzhead.time>>8&255),oe(ae,ae.gzhead.time>>16&255),oe(ae,ae.gzhead.time>>24&255),oe(ae,ae.level===9?2:2<=ae.strategy||ae.level<2?4:0),oe(ae,255&ae.gzhead.os),ae.gzhead.extra&&ae.gzhead.extra.length&&(oe(ae,255&ae.gzhead.extra.length),oe(ae,ae.gzhead.extra.length>>8&255)),ae.gzhead.hcrc&&(F.adler=h(F.adler,ae.pending_buf,ae.pending,0)),ae.gzindex=0,ae.status=69):(oe(ae,0),oe(ae,0),oe(ae,0),oe(ae,0),oe(ae,0),oe(ae,ae.level===9?2:2<=ae.strategy||ae.level<2?4:0),oe(ae,3),ae.status=w);else{var Me=d+(ae.w_bits-8<<4)<<8;Me|=(2<=ae.strategy||ae.level<2?0:ae.level<6?1:ae.level===6?2:3)<<6,ae.strstart!==0&&(Me|=32),Me+=31-Me%31,ae.status=w,ee(ae,Me),ae.strstart!==0&&(ee(ae,F.adler>>>16),ee(ae,65535&F.adler)),F.adler=1}if(ae.status===69)if(ae.gzhead.extra){for(ne=ae.pending;ae.gzindex<(65535&ae.gzhead.extra.length)&&(ae.pending!==ae.pending_buf_size||(ae.gzhead.hcrc&&ae.pending>ne&&(F.adler=h(F.adler,ae.pending_buf,ae.pending-ne,ne)),q(F),ne=ae.pending,ae.pending!==ae.pending_buf_size));)oe(ae,255&ae.gzhead.extra[ae.gzindex]),ae.gzindex++;ae.gzhead.hcrc&&ae.pending>ne&&(F.adler=h(F.adler,ae.pending_buf,ae.pending-ne,ne)),ae.gzindex===ae.gzhead.extra.length&&(ae.gzindex=0,ae.status=73)}else ae.status=73;if(ae.status===73)if(ae.gzhead.name){ne=ae.pending;do{if(ae.pending===ae.pending_buf_size&&(ae.gzhead.hcrc&&ae.pending>ne&&(F.adler=h(F.adler,ae.pending_buf,ae.pending-ne,ne)),q(F),ne=ae.pending,ae.pending===ae.pending_buf_size)){de=1;break}de=ae.gzindex<ae.gzhead.name.length?255&ae.gzhead.name.charCodeAt(ae.gzindex++):0,oe(ae,de)}while(de!==0);ae.gzhead.hcrc&&ae.pending>ne&&(F.adler=h(F.adler,ae.pending_buf,ae.pending-ne,ne)),de===0&&(ae.gzindex=0,ae.status=91)}else ae.status=91;if(ae.status===91)if(ae.gzhead.comment){ne=ae.pending;do{if(ae.pending===ae.pending_buf_size&&(ae.gzhead.hcrc&&ae.pending>ne&&(F.adler=h(F.adler,ae.pending_buf,ae.pending-ne,ne)),q(F),ne=ae.pending,ae.pending===ae.pending_buf_size)){de=1;break}de=ae.gzindex<ae.gzhead.comment.length?255&ae.gzhead.comment.charCodeAt(ae.gzindex++):0,oe(ae,de)}while(de!==0);ae.gzhead.hcrc&&ae.pending>ne&&(F.adler=h(F.adler,ae.pending_buf,ae.pending-ne,ne)),de===0&&(ae.status=103)}else ae.status=103;if(ae.status===103&&(ae.gzhead.hcrc?(ae.pending+2>ae.pending_buf_size&&q(F),ae.pending+2<=ae.pending_buf_size&&(oe(ae,255&F.adler),oe(ae,F.adler>>8&255),F.adler=0,ae.status=w)):ae.status=w),ae.pending!==0){if(q(F),F.avail_out===0)return ae.last_flush=-1,t}else if(F.avail_in===0&&H(be)<=H(he)&&be!==i)return W(F,-5);if(ae.status===666&&F.avail_in!==0)return W(F,-5);if(F.avail_in!==0||ae.lookahead!==0||be!==r&&ae.status!==666){var ke=ae.strategy===2?function(we,De){for(var Ne;;){if(we.lookahead===0&&(fe(we),we.lookahead===0)){if(De===r)return l;break}if(we.match_length=0,Ne=y._tr_tally(we,0,we.window[we.strstart]),we.lookahead--,we.strstart++,Ne&&(Z(we,!1),we.strm.avail_out===0))return l}return we.insert=0,De===i?(Z(we,!0),we.strm.avail_out===0?L:I):we.last_lit&&(Z(we,!1),we.strm.avail_out===0)?l:_}(ae,be):ae.strategy===3?function(we,De){for(var Ne,Be,ye,Ee,Ie=we.window;;){if(we.lookahead<=$){if(fe(we),we.lookahead<=$&&De===r)return l;if(we.lookahead===0)break}if(we.match_length=0,we.lookahead>=S&&0<we.strstart&&(Be=Ie[ye=we.strstart-1])===Ie[++ye]&&Be===Ie[++ye]&&Be===Ie[++ye]){Ee=we.strstart+$;do;while(Be===Ie[++ye]&&Be===Ie[++ye]&&Be===Ie[++ye]&&Be===Ie[++ye]&&Be===Ie[++ye]&&Be===Ie[++ye]&&Be===Ie[++ye]&&Be===Ie[++ye]&&ye<Ee);we.match_length=$-(Ee-ye),we.match_length>we.lookahead&&(we.match_length=we.lookahead)}if(we.match_length>=S?(Ne=y._tr_tally(we,1,we.match_length-S),we.lookahead-=we.match_length,we.strstart+=we.match_length,we.match_length=0):(Ne=y._tr_tally(we,0,we.window[we.strstart]),we.lookahead--,we.strstart++),Ne&&(Z(we,!1),we.strm.avail_out===0))return l}return we.insert=0,De===i?(Z(we,!0),we.strm.avail_out===0?L:I):we.last_lit&&(Z(we,!1),we.strm.avail_out===0)?l:_}(ae,be):M[ae.level].func(ae,be);if(ke!==L&&ke!==I||(ae.status=666),ke===l||ke===L)return F.avail_out===0&&(ae.last_flush=-1),t;if(ke===_&&(be===1?y._tr_align(ae):be!==5&&(y._tr_stored_block(ae,0,0,!1),be===3&&(J(ae.head),ae.lookahead===0&&(ae.strstart=0,ae.block_start=0,ae.insert=0))),q(F),F.avail_out===0))return ae.last_flush=-1,t}return be!==i?t:ae.wrap<=0?1:(ae.wrap===2?(oe(ae,255&F.adler),oe(ae,F.adler>>8&255),oe(ae,F.adler>>16&255),oe(ae,F.adler>>24&255),oe(ae,255&F.total_in),oe(ae,F.total_in>>8&255),oe(ae,F.total_in>>16&255),oe(ae,F.total_in>>24&255)):(ee(ae,F.adler>>>16),ee(ae,65535&F.adler)),q(F),0<ae.wrap&&(ae.wrap=-ae.wrap),ae.pending!==0?t:1)},z.deflateEnd=function(F){var be;return F&&F.state?(be=F.state.status)!==g&&be!==69&&be!==73&&be!==91&&be!==103&&be!==w&&be!==666?W(F,e):(F.state=null,be===w?W(F,-3):t):e},z.deflateSetDictionary=function(F,be){var he,ae,ne,de,Me,ke,we,De,Ne=be.length;if(!F||!F.state||(de=(he=F.state).wrap)===2||de===1&&he.status!==g||he.lookahead)return e;for(de===1&&(F.adler=s(F.adler,be,Ne,0)),he.wrap=0,Ne>=he.w_size&&(de===0&&(J(he.head),he.strstart=0,he.block_start=0,he.insert=0),De=new A.Buf8(he.w_size),A.arraySet(De,be,Ne-he.w_size,he.w_size,0),be=De,Ne=he.w_size),Me=F.avail_in,ke=F.next_in,we=F.input,F.avail_in=Ne,F.next_in=0,F.input=be,fe(he);he.lookahead>=S;){for(ae=he.strstart,ne=he.lookahead-(S-1);he.ins_h=(he.ins_h<<he.hash_shift^he.window[ae+S-1])&he.hash_mask,he.prev[ae&he.w_mask]=he.head[he.ins_h],he.head[he.ins_h]=ae,ae++,--ne;);he.strstart=ae,he.lookahead=S-1,fe(he)}return he.strstart+=he.lookahead,he.block_start=he.strstart,he.insert=he.lookahead,he.lookahead=0,he.match_length=he.prev_length=S-1,he.match_available=0,F.next_in=ke,F.input=we,F.avail_in=Me,he.wrap=de,t},z.deflateInfo="pako deflate (from Nodeca project)"},{"../utils/common":41,"./adler32":43,"./crc32":45,"./messages":51,"./trees":52}],47:[function(f,D,z){D.exports=function(){this.text=0,this.time=0,this.xflags=0,this.os=0,this.extra=null,this.extra_len=0,this.name="",this.comment="",this.hcrc=0,this.done=!1}},{}],48:[function(f,D,z){D.exports=function(M,A){var y,s,h,o,r,i,t,e,n,a,c,d,k,v,p,u,m,E,S,$,R,g,w,l,_;y=M.state,s=M.next_in,l=M.input,h=s+(M.avail_in-5),o=M.next_out,_=M.output,r=o-(A-M.avail_out),i=o+(M.avail_out-257),t=y.dmax,e=y.wsize,n=y.whave,a=y.wnext,c=y.window,d=y.hold,k=y.bits,v=y.lencode,p=y.distcode,u=(1<<y.lenbits)-1,m=(1<<y.distbits)-1;e:do{k<15&&(d+=l[s++]<<k,k+=8,d+=l[s++]<<k,k+=8),E=v[d&u];t:for(;;){if(d>>>=S=E>>>24,k-=S,(S=E>>>16&255)===0)_[o++]=65535&E;else{if(!(16&S)){if((64&S)==0){E=v[(65535&E)+(d&(1<<S)-1)];continue t}if(32&S){y.mode=12;break e}M.msg="invalid literal/length code",y.mode=30;break e}$=65535&E,(S&=15)&&(k<S&&(d+=l[s++]<<k,k+=8),$+=d&(1<<S)-1,d>>>=S,k-=S),k<15&&(d+=l[s++]<<k,k+=8,d+=l[s++]<<k,k+=8),E=p[d&m];r:for(;;){if(d>>>=S=E>>>24,k-=S,!(16&(S=E>>>16&255))){if((64&S)==0){E=p[(65535&E)+(d&(1<<S)-1)];continue r}M.msg="invalid distance code",y.mode=30;break e}if(R=65535&E,k<(S&=15)&&(d+=l[s++]<<k,(k+=8)<S&&(d+=l[s++]<<k,k+=8)),t<(R+=d&(1<<S)-1)){M.msg="invalid distance too far back",y.mode=30;break e}if(d>>>=S,k-=S,(S=o-r)<R){if(n<(S=R-S)&&y.sane){M.msg="invalid distance too far back",y.mode=30;break e}if(w=c,(g=0)===a){if(g+=e-S,S<$){for($-=S;_[o++]=c[g++],--S;);g=o-R,w=_}}else if(a<S){if(g+=e+a-S,(S-=a)<$){for($-=S;_[o++]=c[g++],--S;);if(g=0,a<$){for($-=S=a;_[o++]=c[g++],--S;);g=o-R,w=_}}}else if(g+=a-S,S<$){for($-=S;_[o++]=c[g++],--S;);g=o-R,w=_}for(;2<$;)_[o++]=w[g++],_[o++]=w[g++],_[o++]=w[g++],$-=3;$&&(_[o++]=w[g++],1<$&&(_[o++]=w[g++]))}else{for(g=o-R;_[o++]=_[g++],_[o++]=_[g++],_[o++]=_[g++],2<($-=3););$&&(_[o++]=_[g++],1<$&&(_[o++]=_[g++]))}break}}break}}while(s<h&&o<i);s-=$=k>>3,d&=(1<<(k-=$<<3))-1,M.next_in=s,M.next_out=o,M.avail_in=s<h?h-s+5:5-(s-h),M.avail_out=o<i?i-o+257:257-(o-i),y.hold=d,y.bits=k}},{}],49:[function(f,D,z){var M=f("../utils/common"),A=f("./adler32"),y=f("./crc32"),s=f("./inffast"),h=f("./inftrees"),o=1,r=2,i=0,t=-2,e=1,n=852,a=592;function c(g){return(g>>>24&255)+(g>>>8&65280)+((65280&g)<<8)+((255&g)<<24)}function d(){this.mode=0,this.last=!1,this.wrap=0,this.havedict=!1,this.flags=0,this.dmax=0,this.check=0,this.total=0,this.head=null,this.wbits=0,this.wsize=0,this.whave=0,this.wnext=0,this.window=null,this.hold=0,this.bits=0,this.length=0,this.offset=0,this.extra=0,this.lencode=null,this.distcode=null,this.lenbits=0,this.distbits=0,this.ncode=0,this.nlen=0,this.ndist=0,this.have=0,this.next=null,this.lens=new M.Buf16(320),this.work=new M.Buf16(288),this.lendyn=null,this.distdyn=null,this.sane=0,this.back=0,this.was=0}function k(g){var w;return g&&g.state?(w=g.state,g.total_in=g.total_out=w.total=0,g.msg="",w.wrap&&(g.adler=1&w.wrap),w.mode=e,w.last=0,w.havedict=0,w.dmax=32768,w.head=null,w.hold=0,w.bits=0,w.lencode=w.lendyn=new M.Buf32(n),w.distcode=w.distdyn=new M.Buf32(a),w.sane=1,w.back=-1,i):t}function v(g){var w;return g&&g.state?((w=g.state).wsize=0,w.whave=0,w.wnext=0,k(g)):t}function p(g,w){var l,_;return g&&g.state?(_=g.state,w<0?(l=0,w=-w):(l=1+(w>>4),w<48&&(w&=15)),w&&(w<8||15<w)?t:(_.window!==null&&_.wbits!==w&&(_.window=null),_.wrap=l,_.wbits=w,v(g))):t}function u(g,w){var l,_;return g?(_=new d,(g.state=_).window=null,(l=p(g,w))!==i&&(g.state=null),l):t}var m,E,S=!0;function $(g){if(S){var w;for(m=new M.Buf32(512),E=new M.Buf32(32),w=0;w<144;)g.lens[w++]=8;for(;w<256;)g.lens[w++]=9;for(;w<280;)g.lens[w++]=7;for(;w<288;)g.lens[w++]=8;for(h(o,g.lens,0,288,m,0,g.work,{bits:9}),w=0;w<32;)g.lens[w++]=5;h(r,g.lens,0,32,E,0,g.work,{bits:5}),S=!1}g.lencode=m,g.lenbits=9,g.distcode=E,g.distbits=5}function R(g,w,l,_){var L,I=g.state;return I.window===null&&(I.wsize=1<<I.wbits,I.wnext=0,I.whave=0,I.window=new M.Buf8(I.wsize)),_>=I.wsize?(M.arraySet(I.window,w,l-I.wsize,I.wsize,0),I.wnext=0,I.whave=I.wsize):(_<(L=I.wsize-I.wnext)&&(L=_),M.arraySet(I.window,w,l-_,L,I.wnext),(_-=L)?(M.arraySet(I.window,w,l-_,_,0),I.wnext=_,I.whave=I.wsize):(I.wnext+=L,I.wnext===I.wsize&&(I.wnext=0),I.whave<I.wsize&&(I.whave+=L))),0}z.inflateReset=v,z.inflateReset2=p,z.inflateResetKeep=k,z.inflateInit=function(g){return u(g,15)},z.inflateInit2=u,z.inflate=function(g,w){var l,_,L,I,W,H,J,q,Z,oe,ee,se,fe,Ce,Se,$e,xe,Pe,ze,Je,F,be,he,ae,ne=0,de=new M.Buf8(4),Me=[16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15];if(!g||!g.state||!g.output||!g.input&&g.avail_in!==0)return t;(l=g.state).mode===12&&(l.mode=13),W=g.next_out,L=g.output,J=g.avail_out,I=g.next_in,_=g.input,H=g.avail_in,q=l.hold,Z=l.bits,oe=H,ee=J,be=i;e:for(;;)switch(l.mode){case e:if(l.wrap===0){l.mode=13;break}for(;Z<16;){if(H===0)break e;H--,q+=_[I++]<<Z,Z+=8}if(2&l.wrap&&q===35615){de[l.check=0]=255&q,de[1]=q>>>8&255,l.check=y(l.check,de,2,0),Z=q=0,l.mode=2;break}if(l.flags=0,l.head&&(l.head.done=!1),!(1&l.wrap)||(((255&q)<<8)+(q>>8))%31){g.msg="incorrect header check",l.mode=30;break}if((15&q)!=8){g.msg="unknown compression method",l.mode=30;break}if(Z-=4,F=8+(15&(q>>>=4)),l.wbits===0)l.wbits=F;else if(F>l.wbits){g.msg="invalid window size",l.mode=30;break}l.dmax=1<<F,g.adler=l.check=1,l.mode=512&q?10:12,Z=q=0;break;case 2:for(;Z<16;){if(H===0)break e;H--,q+=_[I++]<<Z,Z+=8}if(l.flags=q,(255&l.flags)!=8){g.msg="unknown compression method",l.mode=30;break}if(57344&l.flags){g.msg="unknown header flags set",l.mode=30;break}l.head&&(l.head.text=q>>8&1),512&l.flags&&(de[0]=255&q,de[1]=q>>>8&255,l.check=y(l.check,de,2,0)),Z=q=0,l.mode=3;case 3:for(;Z<32;){if(H===0)break e;H--,q+=_[I++]<<Z,Z+=8}l.head&&(l.head.time=q),512&l.flags&&(de[0]=255&q,de[1]=q>>>8&255,de[2]=q>>>16&255,de[3]=q>>>24&255,l.check=y(l.check,de,4,0)),Z=q=0,l.mode=4;case 4:for(;Z<16;){if(H===0)break e;H--,q+=_[I++]<<Z,Z+=8}l.head&&(l.head.xflags=255&q,l.head.os=q>>8),512&l.flags&&(de[0]=255&q,de[1]=q>>>8&255,l.check=y(l.check,de,2,0)),Z=q=0,l.mode=5;case 5:if(1024&l.flags){for(;Z<16;){if(H===0)break e;H--,q+=_[I++]<<Z,Z+=8}l.length=q,l.head&&(l.head.extra_len=q),512&l.flags&&(de[0]=255&q,de[1]=q>>>8&255,l.check=y(l.check,de,2,0)),Z=q=0}else l.head&&(l.head.extra=null);l.mode=6;case 6:if(1024&l.flags&&(H<(se=l.length)&&(se=H),se&&(l.head&&(F=l.head.extra_len-l.length,l.head.extra||(l.head.extra=new Array(l.head.extra_len)),M.arraySet(l.head.extra,_,I,se,F)),512&l.flags&&(l.check=y(l.check,_,se,I)),H-=se,I+=se,l.length-=se),l.length))break e;l.length=0,l.mode=7;case 7:if(2048&l.flags){if(H===0)break e;for(se=0;F=_[I+se++],l.head&&F&&l.length<65536&&(l.head.name+=String.fromCharCode(F)),F&&se<H;);if(512&l.flags&&(l.check=y(l.check,_,se,I)),H-=se,I+=se,F)break e}else l.head&&(l.head.name=null);l.length=0,l.mode=8;case 8:if(4096&l.flags){if(H===0)break e;for(se=0;F=_[I+se++],l.head&&F&&l.length<65536&&(l.head.comment+=String.fromCharCode(F)),F&&se<H;);if(512&l.flags&&(l.check=y(l.check,_,se,I)),H-=se,I+=se,F)break e}else l.head&&(l.head.comment=null);l.mode=9;case 9:if(512&l.flags){for(;Z<16;){if(H===0)break e;H--,q+=_[I++]<<Z,Z+=8}if(q!==(65535&l.check)){g.msg="header crc mismatch",l.mode=30;break}Z=q=0}l.head&&(l.head.hcrc=l.flags>>9&1,l.head.done=!0),g.adler=l.check=0,l.mode=12;break;case 10:for(;Z<32;){if(H===0)break e;H--,q+=_[I++]<<Z,Z+=8}g.adler=l.check=c(q),Z=q=0,l.mode=11;case 11:if(l.havedict===0)return g.next_out=W,g.avail_out=J,g.next_in=I,g.avail_in=H,l.hold=q,l.bits=Z,2;g.adler=l.check=1,l.mode=12;case 12:if(w===5||w===6)break e;case 13:if(l.last){q>>>=7&Z,Z-=7&Z,l.mode=27;break}for(;Z<3;){if(H===0)break e;H--,q+=_[I++]<<Z,Z+=8}switch(l.last=1&q,Z-=1,3&(q>>>=1)){case 0:l.mode=14;break;case 1:if($(l),l.mode=20,w!==6)break;q>>>=2,Z-=2;break e;case 2:l.mode=17;break;case 3:g.msg="invalid block type",l.mode=30}q>>>=2,Z-=2;break;case 14:for(q>>>=7&Z,Z-=7&Z;Z<32;){if(H===0)break e;H--,q+=_[I++]<<Z,Z+=8}if((65535&q)!=(q>>>16^65535)){g.msg="invalid stored block lengths",l.mode=30;break}if(l.length=65535&q,Z=q=0,l.mode=15,w===6)break e;case 15:l.mode=16;case 16:if(se=l.length){if(H<se&&(se=H),J<se&&(se=J),se===0)break e;M.arraySet(L,_,I,se,W),H-=se,I+=se,J-=se,W+=se,l.length-=se;break}l.mode=12;break;case 17:for(;Z<14;){if(H===0)break e;H--,q+=_[I++]<<Z,Z+=8}if(l.nlen=257+(31&q),q>>>=5,Z-=5,l.ndist=1+(31&q),q>>>=5,Z-=5,l.ncode=4+(15&q),q>>>=4,Z-=4,286<l.nlen||30<l.ndist){g.msg="too many length or distance symbols",l.mode=30;break}l.have=0,l.mode=18;case 18:for(;l.have<l.ncode;){for(;Z<3;){if(H===0)break e;H--,q+=_[I++]<<Z,Z+=8}l.lens[Me[l.have++]]=7&q,q>>>=3,Z-=3}for(;l.have<19;)l.lens[Me[l.have++]]=0;if(l.lencode=l.lendyn,l.lenbits=7,he={bits:l.lenbits},be=h(0,l.lens,0,19,l.lencode,0,l.work,he),l.lenbits=he.bits,be){g.msg="invalid code lengths set",l.mode=30;break}l.have=0,l.mode=19;case 19:for(;l.have<l.nlen+l.ndist;){for(;$e=(ne=l.lencode[q&(1<<l.lenbits)-1])>>>16&255,xe=65535&ne,!((Se=ne>>>24)<=Z);){if(H===0)break e;H--,q+=_[I++]<<Z,Z+=8}if(xe<16)q>>>=Se,Z-=Se,l.lens[l.have++]=xe;else{if(xe===16){for(ae=Se+2;Z<ae;){if(H===0)break e;H--,q+=_[I++]<<Z,Z+=8}if(q>>>=Se,Z-=Se,l.have===0){g.msg="invalid bit length repeat",l.mode=30;break}F=l.lens[l.have-1],se=3+(3&q),q>>>=2,Z-=2}else if(xe===17){for(ae=Se+3;Z<ae;){if(H===0)break e;H--,q+=_[I++]<<Z,Z+=8}Z-=Se,F=0,se=3+(7&(q>>>=Se)),q>>>=3,Z-=3}else{for(ae=Se+7;Z<ae;){if(H===0)break e;H--,q+=_[I++]<<Z,Z+=8}Z-=Se,F=0,se=11+(127&(q>>>=Se)),q>>>=7,Z-=7}if(l.have+se>l.nlen+l.ndist){g.msg="invalid bit length repeat",l.mode=30;break}for(;se--;)l.lens[l.have++]=F}}if(l.mode===30)break;if(l.lens[256]===0){g.msg="invalid code -- missing end-of-block",l.mode=30;break}if(l.lenbits=9,he={bits:l.lenbits},be=h(o,l.lens,0,l.nlen,l.lencode,0,l.work,he),l.lenbits=he.bits,be){g.msg="invalid literal/lengths set",l.mode=30;break}if(l.distbits=6,l.distcode=l.distdyn,he={bits:l.distbits},be=h(r,l.lens,l.nlen,l.ndist,l.distcode,0,l.work,he),l.distbits=he.bits,be){g.msg="invalid distances set",l.mode=30;break}if(l.mode=20,w===6)break e;case 20:l.mode=21;case 21:if(6<=H&&258<=J){g.next_out=W,g.avail_out=J,g.next_in=I,g.avail_in=H,l.hold=q,l.bits=Z,s(g,ee),W=g.next_out,L=g.output,J=g.avail_out,I=g.next_in,_=g.input,H=g.avail_in,q=l.hold,Z=l.bits,l.mode===12&&(l.back=-1);break}for(l.back=0;$e=(ne=l.lencode[q&(1<<l.lenbits)-1])>>>16&255,xe=65535&ne,!((Se=ne>>>24)<=Z);){if(H===0)break e;H--,q+=_[I++]<<Z,Z+=8}if($e&&(240&$e)==0){for(Pe=Se,ze=$e,Je=xe;$e=(ne=l.lencode[Je+((q&(1<<Pe+ze)-1)>>Pe)])>>>16&255,xe=65535&ne,!(Pe+(Se=ne>>>24)<=Z);){if(H===0)break e;H--,q+=_[I++]<<Z,Z+=8}q>>>=Pe,Z-=Pe,l.back+=Pe}if(q>>>=Se,Z-=Se,l.back+=Se,l.length=xe,$e===0){l.mode=26;break}if(32&$e){l.back=-1,l.mode=12;break}if(64&$e){g.msg="invalid literal/length code",l.mode=30;break}l.extra=15&$e,l.mode=22;case 22:if(l.extra){for(ae=l.extra;Z<ae;){if(H===0)break e;H--,q+=_[I++]<<Z,Z+=8}l.length+=q&(1<<l.extra)-1,q>>>=l.extra,Z-=l.extra,l.back+=l.extra}l.was=l.length,l.mode=23;case 23:for(;$e=(ne=l.distcode[q&(1<<l.distbits)-1])>>>16&255,xe=65535&ne,!((Se=ne>>>24)<=Z);){if(H===0)break e;H--,q+=_[I++]<<Z,Z+=8}if((240&$e)==0){for(Pe=Se,ze=$e,Je=xe;$e=(ne=l.distcode[Je+((q&(1<<Pe+ze)-1)>>Pe)])>>>16&255,xe=65535&ne,!(Pe+(Se=ne>>>24)<=Z);){if(H===0)break e;H--,q+=_[I++]<<Z,Z+=8}q>>>=Pe,Z-=Pe,l.back+=Pe}if(q>>>=Se,Z-=Se,l.back+=Se,64&$e){g.msg="invalid distance code",l.mode=30;break}l.offset=xe,l.extra=15&$e,l.mode=24;case 24:if(l.extra){for(ae=l.extra;Z<ae;){if(H===0)break e;H--,q+=_[I++]<<Z,Z+=8}l.offset+=q&(1<<l.extra)-1,q>>>=l.extra,Z-=l.extra,l.back+=l.extra}if(l.offset>l.dmax){g.msg="invalid distance too far back",l.mode=30;break}l.mode=25;case 25:if(J===0)break e;if(se=ee-J,l.offset>se){if((se=l.offset-se)>l.whave&&l.sane){g.msg="invalid distance too far back",l.mode=30;break}fe=se>l.wnext?(se-=l.wnext,l.wsize-se):l.wnext-se,se>l.length&&(se=l.length),Ce=l.window}else Ce=L,fe=W-l.offset,se=l.length;for(J<se&&(se=J),J-=se,l.length-=se;L[W++]=Ce[fe++],--se;);l.length===0&&(l.mode=21);break;case 26:if(J===0)break e;L[W++]=l.length,J--,l.mode=21;break;case 27:if(l.wrap){for(;Z<32;){if(H===0)break e;H--,q|=_[I++]<<Z,Z+=8}if(ee-=J,g.total_out+=ee,l.total+=ee,ee&&(g.adler=l.check=l.flags?y(l.check,L,ee,W-ee):A(l.check,L,ee,W-ee)),ee=J,(l.flags?q:c(q))!==l.check){g.msg="incorrect data check",l.mode=30;break}Z=q=0}l.mode=28;case 28:if(l.wrap&&l.flags){for(;Z<32;){if(H===0)break e;H--,q+=_[I++]<<Z,Z+=8}if(q!==(4294967295&l.total)){g.msg="incorrect length check",l.mode=30;break}Z=q=0}l.mode=29;case 29:be=1;break e;case 30:be=-3;break e;case 31:return-4;case 32:default:return t}return g.next_out=W,g.avail_out=J,g.next_in=I,g.avail_in=H,l.hold=q,l.bits=Z,(l.wsize||ee!==g.avail_out&&l.mode<30&&(l.mode<27||w!==4))&&R(g,g.output,g.next_out,ee-g.avail_out)?(l.mode=31,-4):(oe-=g.avail_in,ee-=g.avail_out,g.total_in+=oe,g.total_out+=ee,l.total+=ee,l.wrap&&ee&&(g.adler=l.check=l.flags?y(l.check,L,ee,g.next_out-ee):A(l.check,L,ee,g.next_out-ee)),g.data_type=l.bits+(l.last?64:0)+(l.mode===12?128:0)+(l.mode===20||l.mode===15?256:0),(oe==0&&ee===0||w===4)&&be===i&&(be=-5),be)},z.inflateEnd=function(g){if(!g||!g.state)return t;var w=g.state;return w.window&&(w.window=null),g.state=null,i},z.inflateGetHeader=function(g,w){var l;return g&&g.state?(2&(l=g.state).wrap)==0?t:((l.head=w).done=!1,i):t},z.inflateSetDictionary=function(g,w){var l,_=w.length;return g&&g.state?(l=g.state).wrap!==0&&l.mode!==11?t:l.mode===11&&A(1,w,_,0)!==l.check?-3:R(g,w,_,_)?(l.mode=31,-4):(l.havedict=1,i):t},z.inflateInfo="pako inflate (from Nodeca project)"},{"../utils/common":41,"./adler32":43,"./crc32":45,"./inffast":48,"./inftrees":50}],50:[function(f,D,z){var M=f("../utils/common"),A=[3,4,5,6,7,8,9,10,11,13,15,17,19,23,27,31,35,43,51,59,67,83,99,115,131,163,195,227,258,0,0],y=[16,16,16,16,16,16,16,16,17,17,17,17,18,18,18,18,19,19,19,19,20,20,20,20,21,21,21,21,16,72,78],s=[1,2,3,4,5,7,9,13,17,25,33,49,65,97,129,193,257,385,513,769,1025,1537,2049,3073,4097,6145,8193,12289,16385,24577,0,0],h=[16,16,16,16,17,17,18,18,19,19,20,20,21,21,22,22,23,23,24,24,25,25,26,26,27,27,28,28,29,29,64,64];D.exports=function(o,r,i,t,e,n,a,c){var d,k,v,p,u,m,E,S,$,R=c.bits,g=0,w=0,l=0,_=0,L=0,I=0,W=0,H=0,J=0,q=0,Z=null,oe=0,ee=new M.Buf16(16),se=new M.Buf16(16),fe=null,Ce=0;for(g=0;g<=15;g++)ee[g]=0;for(w=0;w<t;w++)ee[r[i+w]]++;for(L=R,_=15;1<=_&&ee[_]===0;_--);if(_<L&&(L=_),_===0)return e[n++]=20971520,e[n++]=20971520,c.bits=1,0;for(l=1;l<_&&ee[l]===0;l++);for(L<l&&(L=l),g=H=1;g<=15;g++)if(H<<=1,(H-=ee[g])<0)return-1;if(0<H&&(o===0||_!==1))return-1;for(se[1]=0,g=1;g<15;g++)se[g+1]=se[g]+ee[g];for(w=0;w<t;w++)r[i+w]!==0&&(a[se[r[i+w]]++]=w);if(m=o===0?(Z=fe=a,19):o===1?(Z=A,oe-=257,fe=y,Ce-=257,256):(Z=s,fe=h,-1),g=l,u=n,W=w=q=0,v=-1,p=(J=1<<(I=L))-1,o===1&&852<J||o===2&&592<J)return 1;for(;;){for(E=g-W,$=a[w]<m?(S=0,a[w]):a[w]>m?(S=fe[Ce+a[w]],Z[oe+a[w]]):(S=96,0),d=1<<g-W,l=k=1<<I;e[u+(q>>W)+(k-=d)]=E<<24|S<<16|$|0,k!==0;);for(d=1<<g-1;q&d;)d>>=1;if(d!==0?(q&=d-1,q+=d):q=0,w++,--ee[g]==0){if(g===_)break;g=r[i+a[w]]}if(L<g&&(q&p)!==v){for(W===0&&(W=L),u+=l,H=1<<(I=g-W);I+W<_&&!((H-=ee[I+W])<=0);)I++,H<<=1;if(J+=1<<I,o===1&&852<J||o===2&&592<J)return 1;e[v=q&p]=L<<24|I<<16|u-n|0}}return q!==0&&(e[u+q]=g-W<<24|64<<16|0),c.bits=L,0}},{"../utils/common":41}],51:[function(f,D,z){D.exports={2:"need dictionary",1:"stream end",0:"","-1":"file error","-2":"stream error","-3":"data error","-4":"insufficient memory","-5":"buffer error","-6":"incompatible version"}},{}],52:[function(f,D,z){var M=f("../utils/common"),A=0,y=1;function s(ne){for(var de=ne.length;0<=--de;)ne[de]=0}var h=0,o=29,r=256,i=r+1+o,t=30,e=19,n=2*i+1,a=15,c=16,d=7,k=256,v=16,p=17,u=18,m=[0,0,0,0,0,0,0,0,1,1,1,1,2,2,2,2,3,3,3,3,4,4,4,4,5,5,5,5,0],E=[0,0,0,0,1,1,2,2,3,3,4,4,5,5,6,6,7,7,8,8,9,9,10,10,11,11,12,12,13,13],S=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,2,3,7],$=[16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15],R=new Array(2*(i+2));s(R);var g=new Array(2*t);s(g);var w=new Array(512);s(w);var l=new Array(256);s(l);var _=new Array(o);s(_);var L,I,W,H=new Array(t);function J(ne,de,Me,ke,we){this.static_tree=ne,this.extra_bits=de,this.extra_base=Me,this.elems=ke,this.max_length=we,this.has_stree=ne&&ne.length}function q(ne,de){this.dyn_tree=ne,this.max_code=0,this.stat_desc=de}function Z(ne){return ne<256?w[ne]:w[256+(ne>>>7)]}function oe(ne,de){ne.pending_buf[ne.pending++]=255&de,ne.pending_buf[ne.pending++]=de>>>8&255}function ee(ne,de,Me){ne.bi_valid>c-Me?(ne.bi_buf|=de<<ne.bi_valid&65535,oe(ne,ne.bi_buf),ne.bi_buf=de>>c-ne.bi_valid,ne.bi_valid+=Me-c):(ne.bi_buf|=de<<ne.bi_valid&65535,ne.bi_valid+=Me)}function se(ne,de,Me){ee(ne,Me[2*de],Me[2*de+1])}function fe(ne,de){for(var Me=0;Me|=1&ne,ne>>>=1,Me<<=1,0<--de;);return Me>>>1}function Ce(ne,de,Me){var ke,we,De=new Array(a+1),Ne=0;for(ke=1;ke<=a;ke++)De[ke]=Ne=Ne+Me[ke-1]<<1;for(we=0;we<=de;we++){var Be=ne[2*we+1];Be!==0&&(ne[2*we]=fe(De[Be]++,Be))}}function Se(ne){var de;for(de=0;de<i;de++)ne.dyn_ltree[2*de]=0;for(de=0;de<t;de++)ne.dyn_dtree[2*de]=0;for(de=0;de<e;de++)ne.bl_tree[2*de]=0;ne.dyn_ltree[2*k]=1,ne.opt_len=ne.static_len=0,ne.last_lit=ne.matches=0}function $e(ne){8<ne.bi_valid?oe(ne,ne.bi_buf):0<ne.bi_valid&&(ne.pending_buf[ne.pending++]=ne.bi_buf),ne.bi_buf=0,ne.bi_valid=0}function xe(ne,de,Me,ke){var we=2*de,De=2*Me;return ne[we]<ne[De]||ne[we]===ne[De]&&ke[de]<=ke[Me]}function Pe(ne,de,Me){for(var ke=ne.heap[Me],we=Me<<1;we<=ne.heap_len&&(we<ne.heap_len&&xe(de,ne.heap[we+1],ne.heap[we],ne.depth)&&we++,!xe(de,ke,ne.heap[we],ne.depth));)ne.heap[Me]=ne.heap[we],Me=we,we<<=1;ne.heap[Me]=ke}function ze(ne,de,Me){var ke,we,De,Ne,Be=0;if(ne.last_lit!==0)for(;ke=ne.pending_buf[ne.d_buf+2*Be]<<8|ne.pending_buf[ne.d_buf+2*Be+1],we=ne.pending_buf[ne.l_buf+Be],Be++,ke===0?se(ne,we,de):(se(ne,(De=l[we])+r+1,de),(Ne=m[De])!==0&&ee(ne,we-=_[De],Ne),se(ne,De=Z(--ke),Me),(Ne=E[De])!==0&&ee(ne,ke-=H[De],Ne)),Be<ne.last_lit;);se(ne,k,de)}function Je(ne,de){var Me,ke,we,De=de.dyn_tree,Ne=de.stat_desc.static_tree,Be=de.stat_desc.has_stree,ye=de.stat_desc.elems,Ee=-1;for(ne.heap_len=0,ne.heap_max=n,Me=0;Me<ye;Me++)De[2*Me]!==0?(ne.heap[++ne.heap_len]=Ee=Me,ne.depth[Me]=0):De[2*Me+1]=0;for(;ne.heap_len<2;)De[2*(we=ne.heap[++ne.heap_len]=Ee<2?++Ee:0)]=1,ne.depth[we]=0,ne.opt_len--,Be&&(ne.static_len-=Ne[2*we+1]);for(de.max_code=Ee,Me=ne.heap_len>>1;1<=Me;Me--)Pe(ne,De,Me);for(we=ye;Me=ne.heap[1],ne.heap[1]=ne.heap[ne.heap_len--],Pe(ne,De,1),ke=ne.heap[1],ne.heap[--ne.heap_max]=Me,ne.heap[--ne.heap_max]=ke,De[2*we]=De[2*Me]+De[2*ke],ne.depth[we]=(ne.depth[Me]>=ne.depth[ke]?ne.depth[Me]:ne.depth[ke])+1,De[2*Me+1]=De[2*ke+1]=we,ne.heap[1]=we++,Pe(ne,De,1),2<=ne.heap_len;);ne.heap[--ne.heap_max]=ne.heap[1],function(Ie,_e){var Ke,Fe,Te,Le,He,U,Ve=_e.dyn_tree,G=_e.max_code,nt=_e.stat_desc.static_tree,V=_e.stat_desc.has_stree,lt=_e.stat_desc.extra_bits,rt=_e.stat_desc.extra_base,bt=_e.stat_desc.max_length,Tt=0;for(Le=0;Le<=a;Le++)Ie.bl_count[Le]=0;for(Ve[2*Ie.heap[Ie.heap_max]+1]=0,Ke=Ie.heap_max+1;Ke<n;Ke++)bt<(Le=Ve[2*Ve[2*(Fe=Ie.heap[Ke])+1]+1]+1)&&(Le=bt,Tt++),Ve[2*Fe+1]=Le,G<Fe||(Ie.bl_count[Le]++,He=0,rt<=Fe&&(He=lt[Fe-rt]),U=Ve[2*Fe],Ie.opt_len+=U*(Le+He),V&&(Ie.static_len+=U*(nt[2*Fe+1]+He)));if(Tt!==0){do{for(Le=bt-1;Ie.bl_count[Le]===0;)Le--;Ie.bl_count[Le]--,Ie.bl_count[Le+1]+=2,Ie.bl_count[bt]--,Tt-=2}while(0<Tt);for(Le=bt;Le!==0;Le--)for(Fe=Ie.bl_count[Le];Fe!==0;)G<(Te=Ie.heap[--Ke])||(Ve[2*Te+1]!==Le&&(Ie.opt_len+=(Le-Ve[2*Te+1])*Ve[2*Te],Ve[2*Te+1]=Le),Fe--)}}(ne,de),Ce(De,Ee,ne.bl_count)}function F(ne,de,Me){var ke,we,De=-1,Ne=de[1],Be=0,ye=7,Ee=4;for(Ne===0&&(ye=138,Ee=3),de[2*(Me+1)+1]=65535,ke=0;ke<=Me;ke++)we=Ne,Ne=de[2*(ke+1)+1],++Be<ye&&we===Ne||(Be<Ee?ne.bl_tree[2*we]+=Be:we!==0?(we!==De&&ne.bl_tree[2*we]++,ne.bl_tree[2*v]++):Be<=10?ne.bl_tree[2*p]++:ne.bl_tree[2*u]++,De=we,Ee=(Be=0)===Ne?(ye=138,3):we===Ne?(ye=6,3):(ye=7,4))}function be(ne,de,Me){var ke,we,De=-1,Ne=de[1],Be=0,ye=7,Ee=4;for(Ne===0&&(ye=138,Ee=3),ke=0;ke<=Me;ke++)if(we=Ne,Ne=de[2*(ke+1)+1],!(++Be<ye&&we===Ne)){if(Be<Ee)for(;se(ne,we,ne.bl_tree),--Be!=0;);else we!==0?(we!==De&&(se(ne,we,ne.bl_tree),Be--),se(ne,v,ne.bl_tree),ee(ne,Be-3,2)):Be<=10?(se(ne,p,ne.bl_tree),ee(ne,Be-3,3)):(se(ne,u,ne.bl_tree),ee(ne,Be-11,7));De=we,Ee=(Be=0)===Ne?(ye=138,3):we===Ne?(ye=6,3):(ye=7,4)}}s(H);var he=!1;function ae(ne,de,Me,ke){ee(ne,(h<<1)+(ke?1:0),3),function(we,De,Ne,Be){$e(we),oe(we,Ne),oe(we,~Ne),M.arraySet(we.pending_buf,we.window,De,Ne,we.pending),we.pending+=Ne}(ne,de,Me)}z._tr_init=function(ne){he||(function(){var de,Me,ke,we,De,Ne=new Array(a+1);for(we=ke=0;we<o-1;we++)for(_[we]=ke,de=0;de<1<<m[we];de++)l[ke++]=we;for(l[ke-1]=we,we=De=0;we<16;we++)for(H[we]=De,de=0;de<1<<E[we];de++)w[De++]=we;for(De>>=7;we<t;we++)for(H[we]=De<<7,de=0;de<1<<E[we]-7;de++)w[256+De++]=we;for(Me=0;Me<=a;Me++)Ne[Me]=0;for(de=0;de<=143;)R[2*de+1]=8,de++,Ne[8]++;for(;de<=255;)R[2*de+1]=9,de++,Ne[9]++;for(;de<=279;)R[2*de+1]=7,de++,Ne[7]++;for(;de<=287;)R[2*de+1]=8,de++,Ne[8]++;for(Ce(R,i+1,Ne),de=0;de<t;de++)g[2*de+1]=5,g[2*de]=fe(de,5);L=new J(R,m,r+1,i,a),I=new J(g,E,0,t,a),W=new J(new Array(0),S,0,e,d)}(),he=!0),ne.l_desc=new q(ne.dyn_ltree,L),ne.d_desc=new q(ne.dyn_dtree,I),ne.bl_desc=new q(ne.bl_tree,W),ne.bi_buf=0,ne.bi_valid=0,Se(ne)},z._tr_stored_block=ae,z._tr_flush_block=function(ne,de,Me,ke){var we,De,Ne=0;0<ne.level?(ne.strm.data_type===2&&(ne.strm.data_type=function(Be){var ye,Ee=4093624447;for(ye=0;ye<=31;ye++,Ee>>>=1)if(1&Ee&&Be.dyn_ltree[2*ye]!==0)return A;if(Be.dyn_ltree[18]!==0||Be.dyn_ltree[20]!==0||Be.dyn_ltree[26]!==0)return y;for(ye=32;ye<r;ye++)if(Be.dyn_ltree[2*ye]!==0)return y;return A}(ne)),Je(ne,ne.l_desc),Je(ne,ne.d_desc),Ne=function(Be){var ye;for(F(Be,Be.dyn_ltree,Be.l_desc.max_code),F(Be,Be.dyn_dtree,Be.d_desc.max_code),Je(Be,Be.bl_desc),ye=e-1;3<=ye&&Be.bl_tree[2*$[ye]+1]===0;ye--);return Be.opt_len+=3*(ye+1)+5+5+4,ye}(ne),we=ne.opt_len+3+7>>>3,(De=ne.static_len+3+7>>>3)<=we&&(we=De)):we=De=Me+5,Me+4<=we&&de!==-1?ae(ne,de,Me,ke):ne.strategy===4||De===we?(ee(ne,2+(ke?1:0),3),ze(ne,R,g)):(ee(ne,4+(ke?1:0),3),function(Be,ye,Ee,Ie){var _e;for(ee(Be,ye-257,5),ee(Be,Ee-1,5),ee(Be,Ie-4,4),_e=0;_e<Ie;_e++)ee(Be,Be.bl_tree[2*$[_e]+1],3);be(Be,Be.dyn_ltree,ye-1),be(Be,Be.dyn_dtree,Ee-1)}(ne,ne.l_desc.max_code+1,ne.d_desc.max_code+1,Ne+1),ze(ne,ne.dyn_ltree,ne.dyn_dtree)),Se(ne),ke&&$e(ne)},z._tr_tally=function(ne,de,Me){return ne.pending_buf[ne.d_buf+2*ne.last_lit]=de>>>8&255,ne.pending_buf[ne.d_buf+2*ne.last_lit+1]=255&de,ne.pending_buf[ne.l_buf+ne.last_lit]=255&Me,ne.last_lit++,de===0?ne.dyn_ltree[2*Me]++:(ne.matches++,de--,ne.dyn_ltree[2*(l[Me]+r+1)]++,ne.dyn_dtree[2*Z(de)]++),ne.last_lit===ne.lit_bufsize-1},z._tr_align=function(ne){ee(ne,2,3),se(ne,k,R),function(de){de.bi_valid===16?(oe(de,de.bi_buf),de.bi_buf=0,de.bi_valid=0):8<=de.bi_valid&&(de.pending_buf[de.pending++]=255&de.bi_buf,de.bi_buf>>=8,de.bi_valid-=8)}(ne)}},{"../utils/common":41}],53:[function(f,D,z){D.exports=function(){this.input=null,this.next_in=0,this.avail_in=0,this.total_in=0,this.output=null,this.next_out=0,this.avail_out=0,this.total_out=0,this.msg="",this.state=null,this.data_type=2,this.adler=0}},{}],54:[function(f,D,z){(function(M){(function(A,y){if(!A.setImmediate){var s,h,o,r,i=1,t={},e=!1,n=A.document,a=Object.getPrototypeOf&&Object.getPrototypeOf(A);a=a&&a.setTimeout?a:A,s={}.toString.call(A.process)==="[object process]"?function(v){process.nextTick(function(){d(v)})}:function(){if(A.postMessage&&!A.importScripts){var v=!0,p=A.onmessage;return A.onmessage=function(){v=!1},A.postMessage("","*"),A.onmessage=p,v}}()?(r="setImmediate$"+Math.random()+"$",A.addEventListener?A.addEventListener("message",k,!1):A.attachEvent("onmessage",k),function(v){A.postMessage(r+v,"*")}):A.MessageChannel?((o=new MessageChannel).port1.onmessage=function(v){d(v.data)},function(v){o.port2.postMessage(v)}):n&&"onreadystatechange"in n.createElement("script")?(h=n.documentElement,function(v){var p=n.createElement("script");p.onreadystatechange=function(){d(v),p.onreadystatechange=null,h.removeChild(p),p=null},h.appendChild(p)}):function(v){setTimeout(d,0,v)},a.setImmediate=function(v){typeof v!="function"&&(v=new Function(""+v));for(var p=new Array(arguments.length-1),u=0;u<p.length;u++)p[u]=arguments[u+1];var m={callback:v,args:p};return t[i]=m,s(i),i++},a.clearImmediate=c}function c(v){delete t[v]}function d(v){if(e)setTimeout(d,0,v);else{var p=t[v];if(p){e=!0;try{(function(u){var m=u.callback,E=u.args;switch(E.length){case 0:m();break;case 1:m(E[0]);break;case 2:m(E[0],E[1]);break;case 3:m(E[0],E[1],E[2]);break;default:m.apply(y,E)}})(p)}finally{c(v),e=!1}}}}function k(v){v.source===A&&typeof v.data=="string"&&v.data.indexOf(r)===0&&d(+v.data.slice(r.length))}})(typeof self>"u"?M===void 0?this:M:self)}).call(this,typeof Hr<"u"?Hr:typeof self<"u"?self:typeof window<"u"?window:{})},{}]},{},[10])(10)})}(rn)),rn.exports}var Oi=Ii();const Yn=bn(Oi);var nn={exports:{}},In;function Fi(){return In||(In=1,function(te){var Q=function(){var f=String.fromCharCode,D="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=",z="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+-$",M={};function A(s,h){if(!M[s]){M[s]={};for(var o=0;o<s.length;o++)M[s][s.charAt(o)]=o}return M[s][h]}var y={compressToBase64:function(s){if(s==null)return"";var h=y._compress(s,6,function(o){return D.charAt(o)});switch(h.length%4){default:case 0:return h;case 1:return h+"===";case 2:return h+"==";case 3:return h+"="}},decompressFromBase64:function(s){return s==null?"":s==""?null:y._decompress(s.length,32,function(h){return A(D,s.charAt(h))})},compressToUTF16:function(s){return s==null?"":y._compress(s,15,function(h){return f(h+32)})+" "},decompressFromUTF16:function(s){return s==null?"":s==""?null:y._decompress(s.length,16384,function(h){return s.charCodeAt(h)-32})},compressToUint8Array:function(s){for(var h=y.compress(s),o=new Uint8Array(h.length*2),r=0,i=h.length;r<i;r++){var t=h.charCodeAt(r);o[r*2]=t>>>8,o[r*2+1]=t%256}return o},decompressFromUint8Array:function(s){if(s==null)return y.decompress(s);for(var h=new Array(s.length/2),o=0,r=h.length;o<r;o++)h[o]=s[o*2]*256+s[o*2+1];var i=[];return h.forEach(function(t){i.push(f(t))}),y.decompress(i.join(""))},compressToEncodedURIComponent:function(s){return s==null?"":y._compress(s,6,function(h){return z.charAt(h)})},decompressFromEncodedURIComponent:function(s){return s==null?"":s==""?null:(s=s.replace(/ /g,"+"),y._decompress(s.length,32,function(h){return A(z,s.charAt(h))}))},compress:function(s){return y._compress(s,16,function(h){return f(h)})},_compress:function(s,h,o){if(s==null)return"";var r,i,t={},e={},n="",a="",c="",d=2,k=3,v=2,p=[],u=0,m=0,E;for(E=0;E<s.length;E+=1)if(n=s.charAt(E),Object.prototype.hasOwnProperty.call(t,n)||(t[n]=k++,e[n]=!0),a=c+n,Object.prototype.hasOwnProperty.call(t,a))c=a;else{if(Object.prototype.hasOwnProperty.call(e,c)){if(c.charCodeAt(0)<256){for(r=0;r<v;r++)u=u<<1,m==h-1?(m=0,p.push(o(u)),u=0):m++;for(i=c.charCodeAt(0),r=0;r<8;r++)u=u<<1|i&1,m==h-1?(m=0,p.push(o(u)),u=0):m++,i=i>>1}else{for(i=1,r=0;r<v;r++)u=u<<1|i,m==h-1?(m=0,p.push(o(u)),u=0):m++,i=0;for(i=c.charCodeAt(0),r=0;r<16;r++)u=u<<1|i&1,m==h-1?(m=0,p.push(o(u)),u=0):m++,i=i>>1}d--,d==0&&(d=Math.pow(2,v),v++),delete e[c]}else for(i=t[c],r=0;r<v;r++)u=u<<1|i&1,m==h-1?(m=0,p.push(o(u)),u=0):m++,i=i>>1;d--,d==0&&(d=Math.pow(2,v),v++),t[a]=k++,c=String(n)}if(c!==""){if(Object.prototype.hasOwnProperty.call(e,c)){if(c.charCodeAt(0)<256){for(r=0;r<v;r++)u=u<<1,m==h-1?(m=0,p.push(o(u)),u=0):m++;for(i=c.charCodeAt(0),r=0;r<8;r++)u=u<<1|i&1,m==h-1?(m=0,p.push(o(u)),u=0):m++,i=i>>1}else{for(i=1,r=0;r<v;r++)u=u<<1|i,m==h-1?(m=0,p.push(o(u)),u=0):m++,i=0;for(i=c.charCodeAt(0),r=0;r<16;r++)u=u<<1|i&1,m==h-1?(m=0,p.push(o(u)),u=0):m++,i=i>>1}d--,d==0&&(d=Math.pow(2,v),v++),delete e[c]}else for(i=t[c],r=0;r<v;r++)u=u<<1|i&1,m==h-1?(m=0,p.push(o(u)),u=0):m++,i=i>>1;d--,d==0&&(d=Math.pow(2,v),v++)}for(i=2,r=0;r<v;r++)u=u<<1|i&1,m==h-1?(m=0,p.push(o(u)),u=0):m++,i=i>>1;for(;;)if(u=u<<1,m==h-1){p.push(o(u));break}else m++;return p.join("")},decompress:function(s){return s==null?"":s==""?null:y._decompress(s.length,32768,function(h){return s.charCodeAt(h)})},_decompress:function(s,h,o){var r=[],i=4,t=4,e=3,n="",a=[],c,d,k,v,p,u,m,E={val:o(0),position:h,index:1};for(c=0;c<3;c+=1)r[c]=c;for(k=0,p=Math.pow(2,2),u=1;u!=p;)v=E.val&E.position,E.position>>=1,E.position==0&&(E.position=h,E.val=o(E.index++)),k|=(v>0?1:0)*u,u<<=1;switch(k){case 0:for(k=0,p=Math.pow(2,8),u=1;u!=p;)v=E.val&E.position,E.position>>=1,E.position==0&&(E.position=h,E.val=o(E.index++)),k|=(v>0?1:0)*u,u<<=1;m=f(k);break;case 1:for(k=0,p=Math.pow(2,16),u=1;u!=p;)v=E.val&E.position,E.position>>=1,E.position==0&&(E.position=h,E.val=o(E.index++)),k|=(v>0?1:0)*u,u<<=1;m=f(k);break;case 2:return""}for(r[3]=m,d=m,a.push(m);;){if(E.index>s)return"";for(k=0,p=Math.pow(2,e),u=1;u!=p;)v=E.val&E.position,E.position>>=1,E.position==0&&(E.position=h,E.val=o(E.index++)),k|=(v>0?1:0)*u,u<<=1;switch(m=k){case 0:for(k=0,p=Math.pow(2,8),u=1;u!=p;)v=E.val&E.position,E.position>>=1,E.position==0&&(E.position=h,E.val=o(E.index++)),k|=(v>0?1:0)*u,u<<=1;r[t++]=f(k),m=t-1,i--;break;case 1:for(k=0,p=Math.pow(2,16),u=1;u!=p;)v=E.val&E.position,E.position>>=1,E.position==0&&(E.position=h,E.val=o(E.index++)),k|=(v>0?1:0)*u,u<<=1;r[t++]=f(k),m=t-1,i--;break;case 2:return a.join("")}if(i==0&&(i=Math.pow(2,e),e++),r[m])n=r[m];else if(m===t)n=d+d.charAt(0);else return null;a.push(n),r[t++]=d+n.charAt(0),i--,d=n,i==0&&(i=Math.pow(2,e),e++)}}};return y}();te!=null?te.exports=Q:typeof angular<"u"&&angular!=null&&angular.module("LZString",[]).factory("LZString",function(){return Q})}(nn)),nn.exports}var Ni=Fi();const Kn=bn(Ni);var on={exports:{}},On;function Pi(){return On||(On=1,function(te,Q){(function(){var f="ace",D=function(){return this}();!D&&typeof window<"u"&&(D=window);var z=function(o,r,i){if(typeof o!="string"){z.original?z.original.apply(this,arguments):(console.error("dropping module because define wasn't a string."),console.trace());return}arguments.length==2&&(i=r),z.modules[o]||(z.payloads[o]=i,z.modules[o]=null)};z.modules={},z.payloads={};var M=function(o,r,i){if(typeof r=="string"){var t=s(o,r);if(t!=null)return i&&i(),t}else if(Object.prototype.toString.call(r)==="[object Array]"){for(var e=[],n=0,a=r.length;n<a;++n){var c=s(o,r[n]);if(c==null&&A.original)return;e.push(c)}return i&&i.apply(null,e)||!0}},A=function(o,r){var i=M("",o,r);return i==null&&A.original?A.original.apply(this,arguments):i},y=function(o,r){if(r.indexOf("!")!==-1){var i=r.split("!");return y(o,i[0])+"!"+y(o,i[1])}if(r.charAt(0)=="."){var t=o.split("/").slice(0,-1).join("/");for(r=t+"/"+r;r.indexOf(".")!==-1&&e!=r;){var e=r;r=r.replace(/\/\.\//,"/").replace(/[^\/]+\/\.\.\//,"")}}return r},s=function(o,r){r=y(o,r);var i=z.modules[r];if(!i){if(i=z.payloads[r],typeof i=="function"){var t={},e={id:r,uri:"",exports:t,packaged:!0},n=function(c,d){return M(r,c,d)},a=i(n,t,e);t=a||e.exports,z.modules[r]=t,delete z.payloads[r]}i=z.modules[r]=t||i}return i};function h(o){var r=D;D[o]||(D[o]={}),r=D[o],(!r.define||!r.define.packaged)&&(z.original=r.define,r.define=z,r.define.packaged=!0),(!r.require||!r.require.packaged)&&(A.original=r.require,r.require=A,r.require.packaged=!0)}h(f)})(),ace.define("ace/lib/es6-shim",["require","exports","module"],function(f,D,z){function M(A,y,s){Object.defineProperty(A,y,{value:s,enumerable:!1,writable:!0,configurable:!0})}String.prototype.startsWith||M(String.prototype,"startsWith",function(A,y){return y=y||0,this.lastIndexOf(A,y)===y}),String.prototype.endsWith||M(String.prototype,"endsWith",function(A,y){var s=this;(y===void 0||y>s.length)&&(y=s.length),y-=A.length;var h=s.indexOf(A,y);return h!==-1&&h===y}),String.prototype.repeat||M(String.prototype,"repeat",function(A){for(var y="",s=this;A>0;)A&1&&(y+=s),(A>>=1)&&(s+=s);return y}),String.prototype.includes||M(String.prototype,"includes",function(A,y){return this.indexOf(A,y)!=-1}),Object.assign||(Object.assign=function(A){if(A==null)throw new TypeError("Cannot convert undefined or null to object");for(var y=Object(A),s=1;s<arguments.length;s++){var h=arguments[s];h!=null&&Object.keys(h).forEach(function(o){y[o]=h[o]})}return y}),Object.values||(Object.values=function(A){return Object.keys(A).map(function(y){return A[y]})}),Array.prototype.find||M(Array.prototype,"find",function(A){for(var y=this.length,s=arguments[1],h=0;h<y;h++){var o=this[h];if(A.call(s,o,h,this))return o}}),Array.prototype.findIndex||M(Array.prototype,"findIndex",function(A){for(var y=this.length,s=arguments[1],h=0;h<y;h++){var o=this[h];if(A.call(s,o,h,this))return h}}),Array.prototype.includes||M(Array.prototype,"includes",function(A,y){return this.indexOf(A,y)!=-1}),Array.prototype.fill||M(Array.prototype,"fill",function(A){for(var y=this,s=y.length>>>0,h=arguments[1],o=h>>0,r=o<0?Math.max(s+o,0):Math.min(o,s),i=arguments[2],t=i===void 0?s:i>>0,e=t<0?Math.max(s+t,0):Math.min(t,s);r<e;)y[r]=A,r++;return y}),Array.of||M(Array,"of",function(){return Array.prototype.slice.call(arguments)})}),ace.define("ace/lib/fixoldbrowsers",["require","exports","module","ace/lib/es6-shim"],function(f,D,z){f("./es6-shim")}),ace.define("ace/lib/deep_copy",["require","exports","module"],function(f,D,z){D.deepCopy=function M(A){if(typeof A!="object"||!A)return A;var y;if(Array.isArray(A)){y=[];for(var s=0;s<A.length;s++)y[s]=M(A[s]);return y}if(Object.prototype.toString.call(A)!=="[object Object]")return A;y={};for(var s in A)y[s]=M(A[s]);return y}}),ace.define("ace/lib/lang",["require","exports","module","ace/lib/deep_copy"],function(f,D,z){D.last=function(y){return y[y.length-1]},D.stringReverse=function(y){return y.split("").reverse().join("")},D.stringRepeat=function(y,s){for(var h="";s>0;)s&1&&(h+=y),(s>>=1)&&(y+=y);return h};var M=/^\s\s*/,A=/\s\s*$/;D.stringTrimLeft=function(y){return y.replace(M,"")},D.stringTrimRight=function(y){return y.replace(A,"")},D.copyObject=function(y){var s={};for(var h in y)s[h]=y[h];return s},D.copyArray=function(y){for(var s=[],h=0,o=y.length;h<o;h++)y[h]&&typeof y[h]=="object"?s[h]=this.copyObject(y[h]):s[h]=y[h];return s},D.deepCopy=f("./deep_copy").deepCopy,D.arrayToMap=function(y){for(var s={},h=0;h<y.length;h++)s[y[h]]=1;return s},D.createMap=function(y){var s=Object.create(null);for(var h in y)s[h]=y[h];return s},D.arrayRemove=function(y,s){for(var h=0;h<=y.length;h++)s===y[h]&&y.splice(h,1)},D.escapeRegExp=function(y){return y.replace(/([.*+?^${}()|[\]\/\\])/g,"\\$1")},D.escapeHTML=function(y){return(""+y).replace(/&/g,"&#38;").replace(/"/g,"&#34;").replace(/'/g,"&#39;").replace(/</g,"&#60;")},D.getMatchOffsets=function(y,s){var h=[];return y.replace(s,function(o){h.push({offset:arguments[arguments.length-2],length:o.length})}),h},D.deferredCall=function(y){var s=null,h=function(){s=null,y()},o=function(r){return o.cancel(),s=setTimeout(h,r||0),o};return o.schedule=o,o.call=function(){return this.cancel(),y(),o},o.cancel=function(){return clearTimeout(s),s=null,o},o.isPending=function(){return s},o},D.delayedCall=function(y,s){var h=null,o=function(){h=null,y()},r=function(i){h==null&&(h=setTimeout(o,i||s))};return r.delay=function(i){h&&clearTimeout(h),h=setTimeout(o,i||s)},r.schedule=r,r.call=function(){this.cancel(),y()},r.cancel=function(){h&&clearTimeout(h),h=null},r.isPending=function(){return h},r},D.supportsLookbehind=function(){try{new RegExp("(?<=.)")}catch{return!1}return!0},D.skipEmptyMatch=function(y,s,h){return h&&y.codePointAt(s)>65535?2:1}}),ace.define("ace/lib/useragent",["require","exports","module"],function(f,D,z){D.OS={LINUX:"LINUX",MAC:"MAC",WINDOWS:"WINDOWS"},D.getOS=function(){return D.isMac?D.OS.MAC:D.isLinux?D.OS.LINUX:D.OS.WINDOWS};var M=typeof navigator=="object"?navigator:{},A=(/mac|win|linux/i.exec(M.platform)||["other"])[0].toLowerCase(),y=M.userAgent||"",s=M.appName||"";D.isWin=A=="win",D.isMac=A=="mac",D.isLinux=A=="linux",D.isIE=s=="Microsoft Internet Explorer"||s.indexOf("MSAppHost")>=0?parseFloat((y.match(/(?:MSIE |Trident\/[0-9]+[\.0-9]+;.*rv:)([0-9]+[\.0-9]+)/)||[])[1]):parseFloat((y.match(/(?:Trident\/[0-9]+[\.0-9]+;.*rv:)([0-9]+[\.0-9]+)/)||[])[1]),D.isOldIE=D.isIE&&D.isIE<9,D.isGecko=D.isMozilla=y.match(/ Gecko\/\d+/),D.isOpera=typeof opera=="object"&&Object.prototype.toString.call(window.opera)=="[object Opera]",D.isWebKit=parseFloat(y.split("WebKit/")[1])||void 0,D.isChrome=parseFloat(y.split(" Chrome/")[1])||void 0,D.isSafari=parseFloat(y.split(" Safari/")[1])&&!D.isChrome||void 0,D.isEdge=parseFloat(y.split(" Edge/")[1])||void 0,D.isAIR=y.indexOf("AdobeAIR")>=0,D.isAndroid=y.indexOf("Android")>=0,D.isChromeOS=y.indexOf(" CrOS ")>=0,D.isIOS=/iPad|iPhone|iPod/.test(y)&&!window.MSStream,D.isIOS&&(D.isMac=!0),D.isMobile=D.isIOS||D.isAndroid}),ace.define("ace/lib/dom",["require","exports","module","ace/lib/useragent"],function(f,D,z){var M=f("./useragent"),A="http://www.w3.org/1999/xhtml";D.buildDom=function i(t,e,n){if(typeof t=="string"&&t){var a=document.createTextNode(t);return e&&e.appendChild(a),a}if(!Array.isArray(t))return t&&t.appendChild&&e&&e.appendChild(t),t;if(typeof t[0]!="string"||!t[0]){for(var c=[],d=0;d<t.length;d++){var k=i(t[d],e,n);k&&c.push(k)}return c}var v=document.createElement(t[0]),p=t[1],u=1;p&&typeof p=="object"&&!Array.isArray(p)&&(u=2);for(var d=u;d<t.length;d++)i(t[d],v,n);return u==2&&Object.keys(p).forEach(function(m){var E=p[m];m==="class"?v.className=Array.isArray(E)?E.join(" "):E:typeof E=="function"||m=="value"||m[0]=="$"?v[m]=E:m==="ref"?n&&(n[E]=v):m==="style"?typeof E=="string"&&(v.style.cssText=E):E!=null&&v.setAttribute(m,E)}),e&&e.appendChild(v),v},D.getDocumentHead=function(i){return i||(i=document),i.head||i.getElementsByTagName("head")[0]||i.documentElement},D.createElement=function(i,t){return document.createElementNS?document.createElementNS(t||A,i):document.createElement(i)},D.removeChildren=function(i){i.innerHTML=""},D.createTextNode=function(i,t){var e=t?t.ownerDocument:document;return e.createTextNode(i)},D.createFragment=function(i){var t=i?i.ownerDocument:document;return t.createDocumentFragment()},D.hasCssClass=function(i,t){var e=(i.className+"").split(/\s+/g);return e.indexOf(t)!==-1},D.addCssClass=function(i,t){D.hasCssClass(i,t)||(i.className+=" "+t)},D.removeCssClass=function(i,t){for(var e=i.className.split(/\s+/g);;){var n=e.indexOf(t);if(n==-1)break;e.splice(n,1)}i.className=e.join(" ")},D.toggleCssClass=function(i,t){for(var e=i.className.split(/\s+/g),n=!0;;){var a=e.indexOf(t);if(a==-1)break;n=!1,e.splice(a,1)}return n&&e.push(t),i.className=e.join(" "),n},D.setCssClass=function(i,t,e){e?D.addCssClass(i,t):D.removeCssClass(i,t)},D.hasCssString=function(i,t){var e=0,n;if(t=t||document,n=t.querySelectorAll("style")){for(;e<n.length;)if(n[e++].id===i)return!0}},D.removeElementById=function(i,t){t=t||document,t.getElementById(i)&&t.getElementById(i).remove()};var y,s=[];D.useStrictCSP=function(i){y=i,i==!1?h():s||(s=[])};function h(){var i=s;s=null,i&&i.forEach(function(t){o(t[0],t[1])})}function o(i,t,e){if(!(typeof document>"u")){if(s){if(e)h();else if(e===!1)return s.push([i,t])}if(!y){var n=e;!e||!e.getRootNode?n=document:(n=e.getRootNode(),(!n||n==e)&&(n=document));var a=n.ownerDocument||n;if(t&&D.hasCssString(t,n))return null;t&&(i+=`
/*# sourceURL=ace/css/`+t+" */");var c=D.createElement("style");c.appendChild(a.createTextNode(i)),t&&(c.id=t),n==a&&(n=D.getDocumentHead(a)),n.insertBefore(c,n.firstChild)}}}if(D.importCssString=o,D.importCssStylsheet=function(i,t){D.buildDom(["link",{rel:"stylesheet",href:i}],D.getDocumentHead(t))},D.scrollbarWidth=function(i){var t=D.createElement("ace_inner");t.style.width="100%",t.style.minWidth="0px",t.style.height="200px",t.style.display="block";var e=D.createElement("ace_outer"),n=e.style;n.position="absolute",n.left="-10000px",n.overflow="hidden",n.width="200px",n.minWidth="0px",n.height="150px",n.display="block",e.appendChild(t);var a=i&&i.documentElement||document&&document.documentElement;if(!a)return 0;a.appendChild(e);var c=t.offsetWidth;n.overflow="scroll";var d=t.offsetWidth;return c===d&&(d=e.clientWidth),a.removeChild(e),c-d},D.computedStyle=function(i,t){return window.getComputedStyle(i,"")||{}},D.setStyle=function(i,t,e){i[t]!==e&&(i[t]=e)},D.HAS_CSS_ANIMATION=!1,D.HAS_CSS_TRANSFORMS=!1,D.HI_DPI=M.isWin?typeof window<"u"&&window.devicePixelRatio>=1.5:!0,M.isChromeOS&&(D.HI_DPI=!1),typeof document<"u"){var r=document.createElement("div");D.HI_DPI&&r.style.transform!==void 0&&(D.HAS_CSS_TRANSFORMS=!0),!M.isEdge&&typeof r.style.animationName<"u"&&(D.HAS_CSS_ANIMATION=!0),r=null}D.HAS_CSS_TRANSFORMS?D.translate=function(i,t,e){i.style.transform="translate("+Math.round(t)+"px, "+Math.round(e)+"px)"}:D.translate=function(i,t,e){i.style.top=Math.round(e)+"px",i.style.left=Math.round(t)+"px"}}),ace.define("ace/lib/net",["require","exports","module","ace/lib/dom"],function(f,D,z){/*
* based on code from:
*
* @license RequireJS text 0.25.0 Copyright (c) 2010-2011, The Dojo Foundation All Rights Reserved.
* Available via the MIT or new BSD license.
* see: http://github.com/jrburke/requirejs for details
*/var M=f("./dom");D.get=function(A,y){var s=new XMLHttpRequest;s.open("GET",A,!0),s.onreadystatechange=function(){s.readyState===4&&y(s.responseText)},s.send(null)},D.loadScript=function(A,y){var s=M.getDocumentHead(),h=document.createElement("script");h.src=A,s.appendChild(h),h.onload=h.onreadystatechange=function(o,r){(r||!h.readyState||h.readyState=="loaded"||h.readyState=="complete")&&(h=h.onload=h.onreadystatechange=null,r||y())}},D.qualifyURL=function(A){var y=document.createElement("a");return y.href=A,y.href}}),ace.define("ace/lib/oop",["require","exports","module"],function(f,D,z){D.inherits=function(M,A){M.super_=A,M.prototype=Object.create(A.prototype,{constructor:{value:M,enumerable:!1,writable:!0,configurable:!0}})},D.mixin=function(M,A){for(var y in A)M[y]=A[y];return M},D.implement=function(M,A){D.mixin(M,A)}}),ace.define("ace/lib/event_emitter",["require","exports","module"],function(f,D,z){var M={},A=function(){this.propagationStopped=!0},y=function(){this.defaultPrevented=!0};M._emit=M._dispatchEvent=function(s,h){this._eventRegistry||(this._eventRegistry={}),this._defaultHandlers||(this._defaultHandlers={});var o=this._eventRegistry[s]||[],r=this._defaultHandlers[s];if(!(!o.length&&!r)){(typeof h!="object"||!h)&&(h={}),h.type||(h.type=s),h.stopPropagation||(h.stopPropagation=A),h.preventDefault||(h.preventDefault=y),o=o.slice();for(var i=0;i<o.length&&(o[i](h,this),!h.propagationStopped);i++);if(r&&!h.defaultPrevented)return r(h,this)}},M._signal=function(s,h){var o=(this._eventRegistry||{})[s];if(o){o=o.slice();for(var r=0;r<o.length;r++)o[r](h,this)}},M.once=function(s,h){var o=this;if(this.on(s,function r(){o.off(s,r),h.apply(null,arguments)}),!h)return new Promise(function(r){h=r})},M.setDefaultHandler=function(s,h){var o=this._defaultHandlers;if(o||(o=this._defaultHandlers={_disabled_:{}}),o[s]){var r=o[s],i=o._disabled_[s];i||(o._disabled_[s]=i=[]),i.push(r);var t=i.indexOf(h);t!=-1&&i.splice(t,1)}o[s]=h},M.removeDefaultHandler=function(s,h){var o=this._defaultHandlers;if(o){var r=o._disabled_[s];if(o[s]==h)r&&this.setDefaultHandler(s,r.pop());else if(r){var i=r.indexOf(h);i!=-1&&r.splice(i,1)}}},M.on=M.addEventListener=function(s,h,o){this._eventRegistry=this._eventRegistry||{};var r=this._eventRegistry[s];return r||(r=this._eventRegistry[s]=[]),r.indexOf(h)==-1&&r[o?"unshift":"push"](h),h},M.off=M.removeListener=M.removeEventListener=function(s,h){this._eventRegistry=this._eventRegistry||{};var o=this._eventRegistry[s];if(o){var r=o.indexOf(h);r!==-1&&o.splice(r,1)}},M.removeAllListeners=function(s){s||(this._eventRegistry=this._defaultHandlers=void 0),this._eventRegistry&&(this._eventRegistry[s]=void 0),this._defaultHandlers&&(this._defaultHandlers[s]=void 0)},D.EventEmitter=M}),ace.define("ace/lib/report_error",["require","exports","module"],function(f,D,z){D.reportError=function(A,y){var s=new Error(A);s.data=y,typeof console=="object"&&console.error&&console.error(s),setTimeout(function(){throw s})}}),ace.define("ace/lib/default_english_messages",["require","exports","module"],function(f,D,z){var M={"autocomplete.popup.aria-roledescription":"Autocomplete suggestions","autocomplete.popup.aria-label":"Autocomplete suggestions","autocomplete.popup.item.aria-roledescription":"item","autocomplete.loading":"Loading...","editor.scroller.aria-roledescription":"editor","editor.scroller.aria-label":"Editor content, press Enter to start editing, press Escape to exit","editor.gutter.aria-roledescription":"editor","editor.gutter.aria-label":"Editor gutter, press Enter to interact with controls using arrow keys, press Escape to exit","error-marker.good-state":"Looks good!","prompt.recently-used":"Recently used","prompt.other-commands":"Other commands","prompt.no-matching-commands":"No matching commands","search-box.find.placeholder":"Search for","search-box.find-all.text":"All","search-box.replace.placeholder":"Replace with","search-box.replace-next.text":"Replace","search-box.replace-all.text":"All","search-box.toggle-replace.title":"Toggle Replace mode","search-box.toggle-regexp.title":"RegExp Search","search-box.toggle-case.title":"CaseSensitive Search","search-box.toggle-whole-word.title":"Whole Word Search","search-box.toggle-in-selection.title":"Search In Selection","search-box.search-counter":"$0 of $1","text-input.aria-roledescription":"editor","text-input.aria-label":"Cursor at row $0","gutter.code-folding.range.aria-label":"Toggle code folding, rows $0 through $1","gutter.code-folding.closed.aria-label":"Toggle code folding, rows $0 through $1","gutter.code-folding.open.aria-label":"Toggle code folding, row $0","gutter.code-folding.closed.title":"Unfold code","gutter.code-folding.open.title":"Fold code","gutter.annotation.aria-label.error":"Error, read annotations row $0","gutter.annotation.aria-label.warning":"Warning, read annotations row $0","gutter.annotation.aria-label.info":"Info, read annotations row $0","inline-fold.closed.title":"Unfold code","gutter-tooltip.aria-label.error.singular":"error","gutter-tooltip.aria-label.error.plural":"errors","gutter-tooltip.aria-label.warning.singular":"warning","gutter-tooltip.aria-label.warning.plural":"warnings","gutter-tooltip.aria-label.info.singular":"information message","gutter-tooltip.aria-label.info.plural":"information messages","gutter.annotation.aria-label.security":"Security finding, read annotations row $0","gutter.annotation.aria-label.hint":"Suggestion, read annotations row $0","gutter-tooltip.aria-label.security.singular":"security finding","gutter-tooltip.aria-label.security.plural":"security findings","gutter-tooltip.aria-label.hint.singular":"suggestion","gutter-tooltip.aria-label.hint.plural":"suggestions"};D.defaultEnglishMessages=M}),ace.define("ace/lib/app_config",["require","exports","module","ace/lib/oop","ace/lib/event_emitter","ace/lib/report_error","ace/lib/default_english_messages"],function(f,D,z){"no use strict";var M=f("./oop"),A=f("./event_emitter").EventEmitter,y=f("./report_error").reportError,s=f("./default_english_messages").defaultEnglishMessages,h={setOptions:function(e){Object.keys(e).forEach(function(n){this.setOption(n,e[n])},this)},getOptions:function(e){var n={};if(e)Array.isArray(e)||(n=e,e=Object.keys(n));else{var a=this.$options;e=Object.keys(a).filter(function(c){return!a[c].hidden})}return e.forEach(function(c){n[c]=this.getOption(c)},this),n},setOption:function(e,n){if(this["$"+e]!==n){var a=this.$options[e];if(!a)return o('misspelled option "'+e+'"');if(a.forwardTo)return this[a.forwardTo]&&this[a.forwardTo].setOption(e,n);a.handlesSet||(this["$"+e]=n),a&&a.set&&a.set.call(this,n)}},getOption:function(e){var n=this.$options[e];return n?n.forwardTo?this[n.forwardTo]&&this[n.forwardTo].getOption(e):n&&n.get?n.get.call(this):this["$"+e]:o('misspelled option "'+e+'"')}};function o(e){typeof console<"u"&&console.warn&&console.warn.apply(console,arguments)}var r,i,t=function(){function e(){this.$defaultOptions={},r=s,i="dollarSigns"}return e.prototype.defineOptions=function(n,a,c){return n.$options||(this.$defaultOptions[a]=n.$options={}),Object.keys(c).forEach(function(d){var k=c[d];typeof k=="string"&&(k={forwardTo:k}),k.name||(k.name=d),n.$options[k.name]=k,"initialValue"in k&&(n["$"+k.name]=k.initialValue)}),M.implement(n,h),this},e.prototype.resetOptions=function(n){Object.keys(n.$options).forEach(function(a){var c=n.$options[a];"value"in c&&n.setOption(a,c.value)})},e.prototype.setDefaultValue=function(n,a,c){if(!n){for(n in this.$defaultOptions)if(this.$defaultOptions[n][a])break;if(!this.$defaultOptions[n][a])return!1}var d=this.$defaultOptions[n]||(this.$defaultOptions[n]={});d[a]&&(d.forwardTo?this.setDefaultValue(d.forwardTo,a,c):d[a].value=c)},e.prototype.setDefaultValues=function(n,a){Object.keys(a).forEach(function(c){this.setDefaultValue(n,c,a[c])},this)},e.prototype.setMessages=function(n,a){r=n,a&&a.placeholders&&(i=a.placeholders)},e.prototype.nls=function(n,a,c){r[n]||(o("No message found for the key '"+n+"' in the provided messages, trying to find a translation for the default string '"+a+"'."),r[a]||o("No message found for the default string '"+a+"' in the provided messages. Falling back to the default English message."));var d=r[n]||r[a]||a;return c&&(i==="dollarSigns"&&(d=d.replace(/\$(\$|[\d]+)/g,function(k,v){return v=="$"?"$":c[v]})),i==="curlyBrackets"&&(d=d.replace(/\{([^\}]+)\}/g,function(k,v){return c[v]}))),d},e}();t.prototype.warn=o,t.prototype.reportError=y,M.implement(t.prototype,A),D.AppConfig=t}),ace.define("ace/theme/textmate-css",["require","exports","module"],function(f,D,z){z.exports=`.ace-tm .ace_gutter {
  background: #f0f0f0;
  color: #333;
}

.ace-tm .ace_print-margin {
  width: 1px;
  background: #e8e8e8;
}

.ace-tm .ace_fold {
    background-color: #6B72E6;
}

.ace-tm {
  background-color: #FFFFFF;
  color: black;
}

.ace-tm .ace_cursor {
  color: black;
}
        
.ace-tm .ace_invisible {
  color: rgb(191, 191, 191);
}

.ace-tm .ace_storage,
.ace-tm .ace_keyword {
  color: blue;
}

.ace-tm .ace_constant {
  color: rgb(197, 6, 11);
}

.ace-tm .ace_constant.ace_buildin {
  color: rgb(88, 72, 246);
}

.ace-tm .ace_constant.ace_language {
  color: rgb(88, 92, 246);
}

.ace-tm .ace_constant.ace_library {
  color: rgb(6, 150, 14);
}

.ace-tm .ace_invalid {
  background-color: rgba(255, 0, 0, 0.1);
  color: red;
}

.ace-tm .ace_support.ace_function {
  color: rgb(60, 76, 114);
}

.ace-tm .ace_support.ace_constant {
  color: rgb(6, 150, 14);
}

.ace-tm .ace_support.ace_type,
.ace-tm .ace_support.ace_class {
  color: rgb(109, 121, 222);
}

.ace-tm .ace_keyword.ace_operator {
  color: rgb(104, 118, 135);
}

.ace-tm .ace_string {
  color: rgb(3, 106, 7);
}

.ace-tm .ace_comment {
  color: rgb(76, 136, 107);
}

.ace-tm .ace_comment.ace_doc {
  color: rgb(0, 102, 255);
}

.ace-tm .ace_comment.ace_doc.ace_tag {
  color: rgb(128, 159, 191);
}

.ace-tm .ace_constant.ace_numeric {
  color: rgb(0, 0, 205);
}

.ace-tm .ace_variable {
  color: rgb(49, 132, 149);
}

.ace-tm .ace_xml-pe {
  color: rgb(104, 104, 91);
}

.ace-tm .ace_entity.ace_name.ace_function {
  color: #0000A2;
}


.ace-tm .ace_heading {
  color: rgb(12, 7, 255);
}

.ace-tm .ace_list {
  color:rgb(185, 6, 144);
}

.ace-tm .ace_meta.ace_tag {
  color:rgb(0, 22, 142);
}

.ace-tm .ace_string.ace_regex {
  color: rgb(255, 0, 0)
}

.ace-tm .ace_marker-layer .ace_selection {
  background: rgb(181, 213, 255);
}
.ace-tm.ace_multiselect .ace_selection.ace_start {
  box-shadow: 0 0 3px 0px white;
}
.ace-tm .ace_marker-layer .ace_step {
  background: rgb(252, 255, 0);
}

.ace-tm .ace_marker-layer .ace_stack {
  background: rgb(164, 229, 101);
}

.ace-tm .ace_marker-layer .ace_bracket {
  margin: -1px 0 0 -1px;
  border: 1px solid rgb(192, 192, 192);
}

.ace-tm .ace_marker-layer .ace_active-line {
  background: rgba(0, 0, 0, 0.07);
}

.ace-tm .ace_gutter-active-line {
    background-color : #dcdcdc;
}

.ace-tm .ace_marker-layer .ace_selected-word {
  background: rgb(250, 250, 255);
  border: 1px solid rgb(200, 200, 250);
}

.ace-tm .ace_indent-guide {
  background: url("data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAEAAAACCAYAAACZgbYnAAAAE0lEQVQImWP4////f4bLly//BwAmVgd1/w11/gAAAABJRU5ErkJggg==") right repeat-y;
}

.ace-tm .ace_indent-guide-active {
  background: url("data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAEAAAACCAYAAACZgbYnAAAACXBIWXMAAAsTAAALEwEAmpwYAAAAIGNIUk0AAHolAACAgwAA+f8AAIDpAAB1MAAA6mAAADqYAAAXb5JfxUYAAAAZSURBVHjaYvj///9/hivKyv8BAAAA//8DACLqBhbvk+/eAAAAAElFTkSuQmCC") right repeat-y;
}
`}),ace.define("ace/theme/textmate",["require","exports","module","ace/theme/textmate-css","ace/lib/dom"],function(f,D,z){D.isDark=!1,D.cssClass="ace-tm",D.cssText=f("./textmate-css"),D.$id="ace/theme/textmate";var M=f("../lib/dom");M.importCssString(D.cssText,D.cssClass,!1)}),ace.define("ace/config",["require","exports","module","ace/lib/lang","ace/lib/net","ace/lib/dom","ace/lib/app_config","ace/theme/textmate"],function(f,D,z){"no use strict";var M=f("./lib/lang"),A=f("./lib/net"),y=f("./lib/dom"),s=f("./lib/app_config").AppConfig;z.exports=D=new s;var h={packaged:!1,workerPath:null,modePath:null,themePath:null,basePath:"",suffix:".js",$moduleUrls:{},loadWorkerFromBlob:!0,sharedPopups:!1,useStrictCSP:null};D.get=function(t){if(!h.hasOwnProperty(t))throw new Error("Unknown config key: "+t);return h[t]},D.set=function(t,e){if(h.hasOwnProperty(t))h[t]=e;else if(this.setDefaultValue("",t,e)==!1)throw new Error("Unknown config key: "+t);t=="useStrictCSP"&&y.useStrictCSP(e)},D.all=function(){return M.copyObject(h)},D.$modes={},D.moduleUrl=function(t,e){if(h.$moduleUrls[t])return h.$moduleUrls[t];var n=t.split("/");e=e||n[n.length-2]||"";var a=e=="snippets"?"/":"-",c=n[n.length-1];if(e=="worker"&&a=="-"){var d=new RegExp("^"+e+"[\\-_]|[\\-_]"+e+"$","g");c=c.replace(d,"")}(!c||c==e)&&n.length>1&&(c=n[n.length-2]);var k=h[e+"Path"];return k==null?k=h.basePath:a=="/"&&(e=a=""),k&&k.slice(-1)!="/"&&(k+="/"),k+e+a+c+this.get("suffix")},D.setModuleUrl=function(t,e){return h.$moduleUrls[t]=e};var o=function(t,e){if(t==="ace/theme/textmate"||t==="./theme/textmate")return e(null,f("./theme/textmate"));if(r)return r(t,e);console.error("loader is not configured")},r;D.setLoader=function(t){r=t},D.dynamicModules=Object.create(null),D.$loading={},D.$loaded={},D.loadModule=function(t,e){var n;if(Array.isArray(t))var a=t[0],c=t[1];else if(typeof t=="string")var c=t;var d=function(k){if(k&&!D.$loading[c])return e&&e(k);if(D.$loading[c]||(D.$loading[c]=[]),D.$loading[c].push(e),!(D.$loading[c].length>1)){var v=function(){o(c,function(p,u){u&&(D.$loaded[c]=u),D._emit("load.module",{name:c,module:u});var m=D.$loading[c];D.$loading[c]=null,m.forEach(function(E){E&&E(u)})})};if(!D.get("packaged"))return v();A.loadScript(D.moduleUrl(c,a),v),i()}};if(D.dynamicModules[c])D.dynamicModules[c]().then(function(k){k.default?d(k.default):d(k)});else{try{n=this.$require(c)}catch{}d(n||D.$loaded[c])}},D.$require=function(t){if(typeof z.require=="function"){var e="require";return z[e](t)}},D.setModuleLoader=function(t,e){D.dynamicModules[t]=e};var i=function(){!h.basePath&&!h.workerPath&&!h.modePath&&!h.themePath&&!Object.keys(h.$moduleUrls).length&&(console.error("Unable to infer path to ace from script src,","use ace.config.set('basePath', 'path') to enable dynamic loading of modes and themes","or with webpack use ace/webpack-resolver"),i=function(){})};D.version="1.36.2"}),ace.define("ace/loader_build",["require","exports","module","ace/lib/fixoldbrowsers","ace/config"],function(f,D,z){f("./lib/fixoldbrowsers");var M=f("./config");M.setLoader(function(h,o){f([h],function(r){o(null,r)})});var A=function(){return this||typeof window<"u"&&window}();z.exports=function(h){M.init=y,M.$require=f,h.require=f},y(!0);function y(h){if(!(!A||!A.document)){M.set("packaged",h||f.packaged||z.packaged||A.define&&(void 0).packaged);var o={},r="",i=document.currentScript||document._currentScript,t=i&&i.ownerDocument||document;i&&i.src&&(r=i.src.split(/[?#]/)[0].split("/").slice(0,-1).join("/")||"");for(var e=t.getElementsByTagName("script"),n=0;n<e.length;n++){var a=e[n],c=a.src||a.getAttribute("src");if(c){for(var d=a.attributes,k=0,v=d.length;k<v;k++){var p=d[k];p.name.indexOf("data-ace-")===0&&(o[s(p.name.replace(/^data-ace-/,""))]=p.value)}var u=c.match(/^(.*)\/ace([\-.]\w+)?\.js(\?|$)/);u&&(r=u[1])}}r&&(o.base=o.base||r,o.packaged=!0),o.basePath=o.base,o.workerPath=o.workerPath||o.base,o.modePath=o.modePath||o.base,o.themePath=o.themePath||o.base,delete o.base;for(var m in o)typeof o[m]<"u"&&M.set(m,o[m])}}function s(h){return h.replace(/-(.)/g,function(o,r){return r.toUpperCase()})}}),ace.define("ace/range",["require","exports","module"],function(f,D,z){var M=function(){function A(y,s,h,o){this.start={row:y,column:s},this.end={row:h,column:o}}return A.prototype.isEqual=function(y){return this.start.row===y.start.row&&this.end.row===y.end.row&&this.start.column===y.start.column&&this.end.column===y.end.column},A.prototype.toString=function(){return"Range: ["+this.start.row+"/"+this.start.column+"] -> ["+this.end.row+"/"+this.end.column+"]"},A.prototype.contains=function(y,s){return this.compare(y,s)==0},A.prototype.compareRange=function(y){var s,h=y.end,o=y.start;return s=this.compare(h.row,h.column),s==1?(s=this.compare(o.row,o.column),s==1?2:s==0?1:0):s==-1?-2:(s=this.compare(o.row,o.column),s==-1?-1:s==1?42:0)},A.prototype.comparePoint=function(y){return this.compare(y.row,y.column)},A.prototype.containsRange=function(y){return this.comparePoint(y.start)==0&&this.comparePoint(y.end)==0},A.prototype.intersects=function(y){var s=this.compareRange(y);return s==-1||s==0||s==1},A.prototype.isEnd=function(y,s){return this.end.row==y&&this.end.column==s},A.prototype.isStart=function(y,s){return this.start.row==y&&this.start.column==s},A.prototype.setStart=function(y,s){typeof y=="object"?(this.start.column=y.column,this.start.row=y.row):(this.start.row=y,this.start.column=s)},A.prototype.setEnd=function(y,s){typeof y=="object"?(this.end.column=y.column,this.end.row=y.row):(this.end.row=y,this.end.column=s)},A.prototype.inside=function(y,s){return this.compare(y,s)==0?!(this.isEnd(y,s)||this.isStart(y,s)):!1},A.prototype.insideStart=function(y,s){return this.compare(y,s)==0?!this.isEnd(y,s):!1},A.prototype.insideEnd=function(y,s){return this.compare(y,s)==0?!this.isStart(y,s):!1},A.prototype.compare=function(y,s){return!this.isMultiLine()&&y===this.start.row?s<this.start.column?-1:s>this.end.column?1:0:y<this.start.row?-1:y>this.end.row?1:this.start.row===y?s>=this.start.column?0:-1:this.end.row===y?s<=this.end.column?0:1:0},A.prototype.compareStart=function(y,s){return this.start.row==y&&this.start.column==s?-1:this.compare(y,s)},A.prototype.compareEnd=function(y,s){return this.end.row==y&&this.end.column==s?1:this.compare(y,s)},A.prototype.compareInside=function(y,s){return this.end.row==y&&this.end.column==s?1:this.start.row==y&&this.start.column==s?-1:this.compare(y,s)},A.prototype.clipRows=function(y,s){if(this.end.row>s)var h={row:s+1,column:0};else if(this.end.row<y)var h={row:y,column:0};if(this.start.row>s)var o={row:s+1,column:0};else if(this.start.row<y)var o={row:y,column:0};return A.fromPoints(o||this.start,h||this.end)},A.prototype.extend=function(y,s){var h=this.compare(y,s);if(h==0)return this;if(h==-1)var o={row:y,column:s};else var r={row:y,column:s};return A.fromPoints(o||this.start,r||this.end)},A.prototype.isEmpty=function(){return this.start.row===this.end.row&&this.start.column===this.end.column},A.prototype.isMultiLine=function(){return this.start.row!==this.end.row},A.prototype.clone=function(){return A.fromPoints(this.start,this.end)},A.prototype.collapseRows=function(){return this.end.column==0?new A(this.start.row,0,Math.max(this.start.row,this.end.row-1),0):new A(this.start.row,0,this.end.row,0)},A.prototype.toScreenRange=function(y){var s=y.documentToScreenPosition(this.start),h=y.documentToScreenPosition(this.end);return new A(s.row,s.column,h.row,h.column)},A.prototype.moveBy=function(y,s){this.start.row+=y,this.start.column+=s,this.end.row+=y,this.end.column+=s},A}();M.fromPoints=function(A,y){return new M(A.row,A.column,y.row,y.column)},M.comparePoints=function(A,y){return A.row-y.row||A.column-y.column},D.Range=M}),ace.define("ace/lib/keys",["require","exports","module","ace/lib/oop"],function(f,D,z){for(var M=f("./oop"),A={MODIFIER_KEYS:{16:"Shift",17:"Ctrl",18:"Alt",224:"Meta",91:"MetaLeft",92:"MetaRight",93:"ContextMenu"},KEY_MODS:{ctrl:1,alt:2,option:2,shift:4,super:8,meta:8,command:8,cmd:8,control:1},FUNCTION_KEYS:{8:"Backspace",9:"Tab",13:"Return",19:"Pause",27:"Esc",32:"Space",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"Left",38:"Up",39:"Right",40:"Down",44:"Print",45:"Insert",46:"Delete","-13":"NumpadEnter",144:"Numlock",145:"Scrolllock"},PRINTABLE_KEYS:{32:" ",59:";",61:"=",107:"+",109:"-",110:".",186:";",187:"=",188:",",189:"-",190:".",191:"/",192:"`",219:"[",220:"\\",221:"]",222:"'",111:"/",106:"*"}},y={Command:224,Backspace:8,Tab:9,Return:13,Enter:13,Pause:19,Escape:27,PageUp:33,PageDown:34,End:35,Home:36,Insert:45,Delete:46,ArrowLeft:37,ArrowUp:38,ArrowRight:39,ArrowDown:40,Backquote:192,Minus:189,Equal:187,BracketLeft:219,Backslash:220,BracketRight:221,Semicolon:186,Quote:222,Comma:188,Period:190,Slash:191,Space:32,NumpadAdd:107,NumpadDecimal:110,NumpadSubtract:109,NumpadDivide:111,NumpadMultiply:106},s=0;s<10;s++)y["Digit"+s]=48+s,y["Numpad"+s]=96+s,A.PRINTABLE_KEYS[48+s]=""+s,A.FUNCTION_KEYS[96+s]="Numpad"+s;for(var s=65;s<91;s++){var h=String.fromCharCode(s+32);y["Key"+h.toUpperCase()]=s,A.PRINTABLE_KEYS[s]=h}for(var s=1;s<13;s++)y["F"+s]=111+s,A.FUNCTION_KEYS[111+s]="F"+s;var o={Shift:16,Control:17,Alt:18,Meta:224};for(var r in o)y[r]=y[r+"Left"]=y[r+"Right"]=o[r];D.$codeToKeyCode=y,A.PRINTABLE_KEYS[173]="-";for(var i in A.FUNCTION_KEYS){var t=A.FUNCTION_KEYS[i].toLowerCase();A[t]=parseInt(i,10)}for(var i in A.PRINTABLE_KEYS){var t=A.PRINTABLE_KEYS[i].toLowerCase();A[t]=parseInt(i,10)}M.mixin(A,A.MODIFIER_KEYS),M.mixin(A,A.PRINTABLE_KEYS),M.mixin(A,A.FUNCTION_KEYS),A.enter=A.return,A.escape=A.esc,A.del=A.delete,function(){for(var e=["cmd","ctrl","alt","shift"],n=Math.pow(2,e.length);n--;)A.KEY_MODS[n]=e.filter(function(a){return n&A.KEY_MODS[a]}).join("-")+"-"}(),A.KEY_MODS[0]="",A.KEY_MODS[-1]="input-",M.mixin(D,A),D.default=D,D.keyCodeToString=function(e){var n=A[e];return typeof n!="string"&&(n=String.fromCharCode(e)),n.toLowerCase()}}),ace.define("ace/lib/event",["require","exports","module","ace/lib/keys","ace/lib/useragent"],function(f,D,z){var M=f("./keys"),A=f("./useragent"),y=null,s=0,h;function o(){h=!1;try{document.createComment("").addEventListener("test",function(){},{get passive(){return h={passive:!1},!0}})}catch{}}function r(){return h==null&&o(),h}function i(k,v,p){this.elem=k,this.type=v,this.callback=p}i.prototype.destroy=function(){e(this.elem,this.type,this.callback),this.elem=this.type=this.callback=void 0};var t=D.addListener=function(k,v,p,u){k.addEventListener(v,p,r()),u&&u.$toDestroy.push(new i(k,v,p))},e=D.removeListener=function(k,v,p){k.removeEventListener(v,p,r())};D.stopEvent=function(k){return D.stopPropagation(k),D.preventDefault(k),!1},D.stopPropagation=function(k){k.stopPropagation&&k.stopPropagation()},D.preventDefault=function(k){k.preventDefault&&k.preventDefault()},D.getButton=function(k){return k.type=="dblclick"?0:k.type=="contextmenu"||A.isMac&&k.ctrlKey&&!k.altKey&&!k.shiftKey?2:k.button},D.capture=function(k,v,p){var u=k&&k.ownerDocument||document;function m(E){v&&v(E),p&&p(E),e(u,"mousemove",v),e(u,"mouseup",m),e(u,"dragstart",m)}return t(u,"mousemove",v),t(u,"mouseup",m),t(u,"dragstart",m),m},D.addMouseWheelListener=function(k,v,p){t(k,"wheel",function(u){var m=.15,E=u.deltaX||0,S=u.deltaY||0;switch(u.deltaMode){case u.DOM_DELTA_PIXEL:u.wheelX=E*m,u.wheelY=S*m;break;case u.DOM_DELTA_LINE:var $=15;u.wheelX=E*$,u.wheelY=S*$;break;case u.DOM_DELTA_PAGE:var R=150;u.wheelX=E*R,u.wheelY=S*R;break}v(u)},p)},D.addMultiMouseDownListener=function(k,v,p,u,m){var E=0,S,$,R,g={2:"dblclick",3:"tripleclick",4:"quadclick"};function w(l){if(D.getButton(l)!==0?E=0:l.detail>1?(E++,E>4&&(E=1)):E=1,A.isIE){var _=Math.abs(l.clientX-S)>5||Math.abs(l.clientY-$)>5;(!R||_)&&(E=1),R&&clearTimeout(R),R=setTimeout(function(){R=null},v[E-1]||600),E==1&&(S=l.clientX,$=l.clientY)}if(l._clicks=E,p[u]("mousedown",l),E>4)E=0;else if(E>1)return p[u](g[E],l)}Array.isArray(k)||(k=[k]),k.forEach(function(l){t(l,"mousedown",w,m)})};function n(k){return 0|(k.ctrlKey?1:0)|(k.altKey?2:0)|(k.shiftKey?4:0)|(k.metaKey?8:0)}D.getModifierString=function(k){return M.KEY_MODS[n(k)]};function a(k,v,p){var u=n(v);if(!p&&v.code&&(p=M.$codeToKeyCode[v.code]||p),!A.isMac&&y){if(v.getModifierState&&(v.getModifierState("OS")||v.getModifierState("Win"))&&(u|=8),y.altGr)if((3&u)!=3)y.altGr=0;else return;if(p===18||p===17){var m=v.location;if(p===17&&m===1)y[p]==1&&(s=v.timeStamp);else if(p===18&&u===3&&m===2){var E=v.timeStamp-s;E<50&&(y.altGr=!0)}}}if(p in M.MODIFIER_KEYS&&(p=-1),!(!u&&p===13&&v.location===3&&(k(v,u,-p),v.defaultPrevented))){if(A.isChromeOS&&u&8){if(k(v,u,p),v.defaultPrevented)return;u&=-9}return!u&&!(p in M.FUNCTION_KEYS)&&!(p in M.PRINTABLE_KEYS)?!1:k(v,u,p)}}D.addCommandKeyListener=function(k,v,p){var u=null;t(k,"keydown",function(m){y[m.keyCode]=(y[m.keyCode]||0)+1;var E=a(v,m,m.keyCode);return u=m.defaultPrevented,E},p),t(k,"keypress",function(m){u&&(m.ctrlKey||m.altKey||m.shiftKey||m.metaKey)&&(D.stopEvent(m),u=null)},p),t(k,"keyup",function(m){y[m.keyCode]=null},p),y||(c(),t(window,"focus",c))};function c(){y=Object.create(null)}if(typeof window=="object"&&window.postMessage&&!A.isOldIE){var d=1;D.nextTick=function(k,v){v=v||window;var p="zero-timeout-message-"+d++,u=function(m){m.data==p&&(D.stopPropagation(m),e(v,"message",u),k())};t(v,"message",u),v.postMessage(p,"*")}}D.$idleBlocked=!1,D.onIdle=function(k,v){return setTimeout(function p(){D.$idleBlocked?setTimeout(p,100):k()},v)},D.$idleBlockId=null,D.blockIdle=function(k){D.$idleBlockId&&clearTimeout(D.$idleBlockId),D.$idleBlocked=!0,D.$idleBlockId=setTimeout(function(){D.$idleBlocked=!1},k||100)},D.nextFrame=typeof window=="object"&&(window.requestAnimationFrame||window.mozRequestAnimationFrame||window.webkitRequestAnimationFrame||window.msRequestAnimationFrame||window.oRequestAnimationFrame),D.nextFrame?D.nextFrame=D.nextFrame.bind(window):D.nextFrame=function(k){setTimeout(k,17)}}),ace.define("ace/clipboard",["require","exports","module"],function(f,D,z){var M;z.exports={lineMode:!1,pasteCancelled:function(){return M&&M>Date.now()-50?!0:M=!1},cancel:function(){M=Date.now()}}}),ace.define("ace/keyboard/textinput",["require","exports","module","ace/lib/event","ace/config","ace/lib/useragent","ace/lib/dom","ace/lib/lang","ace/clipboard","ace/lib/keys"],function(f,D,z){var M=f("../lib/event"),A=f("../config").nls,y=f("../lib/useragent"),s=f("../lib/dom"),h=f("../lib/lang"),o=f("../clipboard"),r=y.isChrome<18,i=y.isIE,t=y.isChrome>63,e=400,n=f("../lib/keys"),a=n.KEY_MODS,c=y.isIOS,d=c?/\s/:/\n/,k=y.isMobile,v;v=function(p,u){var m=s.createElement("textarea");m.className="ace_text-input",m.setAttribute("wrap","off"),m.setAttribute("autocorrect","off"),m.setAttribute("autocapitalize","off"),m.setAttribute("spellcheck","false"),m.style.opacity="0",p.insertBefore(m,p.firstChild);var E=!1,S=!1,$=!1,R=!1,g="";k||(m.style.fontSize="1px");var w=!1,l=!1,_="",L=0,I=0,W=0,H=Number.MAX_SAFE_INTEGER,J=Number.MIN_SAFE_INTEGER,q=0;try{var Z=document.activeElement===m}catch{}this.setNumberOfExtraLines=function(ye){if(H=Number.MAX_SAFE_INTEGER,J=Number.MIN_SAFE_INTEGER,ye<0){q=0;return}q=ye},this.setAriaOptions=function(ye){if(ye.activeDescendant?(m.setAttribute("aria-haspopup","true"),m.setAttribute("aria-autocomplete",ye.inline?"both":"list"),m.setAttribute("aria-activedescendant",ye.activeDescendant)):(m.setAttribute("aria-haspopup","false"),m.setAttribute("aria-autocomplete","both"),m.removeAttribute("aria-activedescendant")),ye.role&&m.setAttribute("role",ye.role),ye.setLabel){m.setAttribute("aria-roledescription",A("text-input.aria-roledescription","editor"));var Ee="";if(u.$textInputAriaLabel&&(Ee+="".concat(u.$textInputAriaLabel,", ")),u.session){var Ie=u.session.selection.cursor.row;Ee+=A("text-input.aria-label","Cursor at row $0",[Ie+1])}m.setAttribute("aria-label",Ee)}},this.setAriaOptions({role:"textbox"}),M.addListener(m,"blur",function(ye){l||(u.onBlur(ye),Z=!1)},u),M.addListener(m,"focus",function(ye){if(!l){if(Z=!0,y.isEdge)try{if(!document.hasFocus())return}catch{}u.onFocus(ye),y.isEdge?setTimeout(ee):ee()}},u),this.$focusScroll=!1,this.focus=function(){if(this.setAriaOptions({setLabel:u.renderer.enableKeyboardAccessibility}),g||t||this.$focusScroll=="browser")return m.focus({preventScroll:!0});var ye=m.style.top;m.style.position="fixed",m.style.top="0px";try{var Ee=m.getBoundingClientRect().top!=0}catch{return}var Ie=[];if(Ee)for(var _e=m.parentElement;_e&&_e.nodeType==1;)Ie.push(_e),_e.setAttribute("ace_nocontext","true"),!_e.parentElement&&_e.getRootNode?_e=_e.getRootNode().host:_e=_e.parentElement;m.focus({preventScroll:!0}),Ee&&Ie.forEach(function(Ke){Ke.removeAttribute("ace_nocontext")}),setTimeout(function(){m.style.position="",m.style.top=="0px"&&(m.style.top=ye)},0)},this.blur=function(){m.blur()},this.isFocused=function(){return Z},u.on("beforeEndOperation",function(){var ye=u.curOp,Ee=ye&&ye.command&&ye.command.name;if(Ee!="insertstring"){var Ie=Ee&&(ye.docChanged||ye.selectionChanged);$&&Ie&&(_=m.value="",ne()),ee()}});var oe=function(ye,Ee){for(var Ie=Ee,_e=1;_e<=ye-H&&_e<2*q+1;_e++)Ie+=u.session.getLine(ye-_e).length+1;return Ie},ee=c?function(ye){if(!(!Z||E&&!ye||R)){ye||(ye="");var Ee=`
 ab`+ye+`cde fg
`;Ee!=m.value&&(m.value=_=Ee);var Ie=4,_e=4+(ye.length||(u.selection.isEmpty()?0:1));(L!=Ie||I!=_e)&&m.setSelectionRange(Ie,_e),L=Ie,I=_e}}:function(){if(!($||R)&&!(!Z&&!Se)){$=!0;var ye=0,Ee=0,Ie="";if(u.session){var _e=u.selection,Ke=_e.getRange(),Fe=_e.cursor.row;Fe===J+1?(H=J+1,J=H+2*q):Fe===H-1?(J=H-1,H=J-2*q):(Fe<H-1||Fe>J+1)&&(H=Fe>q?Fe-q:0,J=Fe>q?Fe+q:2*q);for(var Te=[],Le=H;Le<=J;Le++)Te.push(u.session.getLine(Le));if(Ie=Te.join(`
`),ye=oe(Ke.start.row,Ke.start.column),Ee=oe(Ke.end.row,Ke.end.column),Ke.start.row<H){var He=u.session.getLine(H-1);ye=Ke.start.row<H-1?0:ye,Ee+=He.length+1,Ie=He+`
`+Ie}else if(Ke.end.row>J){var U=u.session.getLine(J+1);Ee=Ke.end.row>J+1?U.length:Ke.end.column,Ee+=Ie.length+1,Ie=Ie+`
`+U}else k&&Fe>0&&(Ie=`
`+Ie,Ee+=1,ye+=1);Ie.length>e&&(ye<e&&Ee<e?Ie=Ie.slice(0,e):(Ie=`
`,ye==Ee?ye=Ee=0:(ye=0,Ee=1)));var Ve=Ie+`

`;Ve!=_&&(m.value=_=Ve,L=I=Ve.length)}if(Se&&(L=m.selectionStart,I=m.selectionEnd),I!=Ee||L!=ye||m.selectionEnd!=I)try{m.setSelectionRange(ye,Ee),L=ye,I=Ee}catch{}$=!1}};this.resetSelection=ee,Z&&u.onFocus();var se=function(ye){return ye.selectionStart===0&&ye.selectionEnd>=_.length&&ye.value===_&&_&&ye.selectionEnd!==I},fe=function(ye){$||(E?E=!1:se(m)?(u.selectAll(),ee()):k&&m.selectionStart!=L&&ee())},Ce=null;this.setInputHandler=function(ye){Ce=ye},this.getInputHandler=function(){return Ce};var Se=!1,$e=function(ye,Ee){if(Se&&(Se=!1),S)return ee(),ye&&u.onPaste(ye),S=!1,"";for(var Ie=m.selectionStart,_e=m.selectionEnd,Ke=L,Fe=_.length-I,Te=ye,Le=ye.length-Ie,He=ye.length-_e,U=0;Ke>0&&_[U]==ye[U];)U++,Ke--;for(Te=Te.slice(U),U=1;Fe>0&&_.length-U>L-1&&_[_.length-U]==ye[ye.length-U];)U++,Fe--;Le-=U-1,He-=U-1;var Ve=Te.length-U+1;if(Ve<0&&(Ke=-Ve,Ve=0),Te=Te.slice(0,Ve),!Ee&&!Te&&!Le&&!Ke&&!Fe&&!He)return"";R=!0;var G=!1;return y.isAndroid&&Te==". "&&(Te="  ",G=!0),Te&&!Ke&&!Fe&&!Le&&!He||w?u.onTextInput(Te):u.onTextInput(Te,{extendLeft:Ke,extendRight:Fe,restoreStart:Le,restoreEnd:He}),R=!1,_=ye,L=Ie,I=_e,W=He,G?`
`:Te},xe=function(ye){if($)return ae();if(ye&&ye.inputType){if(ye.inputType=="historyUndo")return u.execCommand("undo");if(ye.inputType=="historyRedo")return u.execCommand("redo")}var Ee=m.value,Ie=$e(Ee,!0);(Ee.length>e+100||d.test(Ie)||k&&L<1&&L==I)&&ee()},Pe=function(ye,Ee,Ie){var _e=ye.clipboardData||window.clipboardData;if(!(!_e||r)){var Ke=i||Ie?"Text":"text/plain";try{return Ee?_e.setData(Ke,Ee)!==!1:_e.getData(Ke)}catch(Fe){if(!Ie)return Pe(Fe,Ee,!0)}}},ze=function(ye,Ee){var Ie=u.getCopyText();if(!Ie)return M.preventDefault(ye);Pe(ye,Ie)?(c&&(ee(Ie),E=Ie,setTimeout(function(){E=!1},10)),Ee?u.onCut():u.onCopy(),M.preventDefault(ye)):(E=!0,m.value=Ie,m.select(),setTimeout(function(){E=!1,ee(),Ee?u.onCut():u.onCopy()}))},Je=function(ye){ze(ye,!0)},F=function(ye){ze(ye,!1)},be=function(ye){var Ee=Pe(ye);o.pasteCancelled()||(typeof Ee=="string"?(Ee&&u.onPaste(Ee,ye),y.isIE&&setTimeout(ee),M.preventDefault(ye)):(m.value="",S=!0))};M.addCommandKeyListener(m,function(ye,Ee,Ie){if(!$)return u.onCommandKey(ye,Ee,Ie)},u),M.addListener(m,"select",fe,u),M.addListener(m,"input",xe,u),M.addListener(m,"cut",Je,u),M.addListener(m,"copy",F,u),M.addListener(m,"paste",be,u),(!("oncut"in m)||!("oncopy"in m)||!("onpaste"in m))&&M.addListener(p,"keydown",function(ye){if(!(y.isMac&&!ye.metaKey||!ye.ctrlKey))switch(ye.keyCode){case 67:F(ye);break;case 86:be(ye);break;case 88:Je(ye);break}},u);var he=function(ye){if(!($||!u.onCompositionStart||u.$readOnly)&&($={},!w)){ye.data&&($.useTextareaForIME=!1),setTimeout(ae,0),u._signal("compositionStart"),u.on("mousedown",de);var Ee=u.getSelectionRange();Ee.end.row=Ee.start.row,Ee.end.column=Ee.start.column,$.markerRange=Ee,$.selectionStart=L,u.onCompositionStart($),$.useTextareaForIME?(_=m.value="",L=0,I=0):(m.msGetInputContext&&($.context=m.msGetInputContext()),m.getInputContext&&($.context=m.getInputContext()))}},ae=function(){if(!(!$||!u.onCompositionUpdate||u.$readOnly)){if(w)return de();if($.useTextareaForIME)u.onCompositionUpdate(m.value);else{var ye=m.value;$e(ye),$.markerRange&&($.context&&($.markerRange.start.column=$.selectionStart=$.context.compositionStartOffset),$.markerRange.end.column=$.markerRange.start.column+I-$.selectionStart+W)}}},ne=function(ye){!u.onCompositionEnd||u.$readOnly||($=!1,u.onCompositionEnd(),u.off("mousedown",de),ye&&xe())};function de(){l=!0,m.blur(),m.focus(),l=!1}var Me=h.delayedCall(ae,50).schedule.bind(null,null);function ke(ye){ye.keyCode==27&&m.value.length<m.selectionStart&&($||(_=m.value),L=I=-1,ee()),Me()}M.addListener(m,"compositionstart",he,u),M.addListener(m,"compositionupdate",ae,u),M.addListener(m,"keyup",ke,u),M.addListener(m,"keydown",Me,u),M.addListener(m,"compositionend",ne,u),this.getElement=function(){return m},this.setCommandMode=function(ye){w=ye,m.readOnly=!1},this.setReadOnly=function(ye){w||(m.readOnly=ye)},this.setCopyWithEmptySelection=function(ye){},this.onContextMenu=function(ye){Se=!0,ee(),u._emit("nativecontextmenu",{target:u,domEvent:ye}),this.moveToMouse(ye,!0)},this.moveToMouse=function(ye,Ee){g||(g=m.style.cssText),m.style.cssText=(Ee?"z-index:100000;":"")+(y.isIE?"opacity:0.1;":"")+"text-indent: -"+(L+I)*u.renderer.characterWidth*.5+"px;";var Ie=u.container.getBoundingClientRect(),_e=s.computedStyle(u.container),Ke=Ie.top+(parseInt(_e.borderTopWidth)||0),Fe=Ie.left+(parseInt(Ie.borderLeftWidth)||0),Te=Ie.bottom-Ke-m.clientHeight-2,Le=function(He){s.translate(m,He.clientX-Fe-2,Math.min(He.clientY-Ke-2,Te))};Le(ye),ye.type=="mousedown"&&(u.renderer.$isMousePressed=!0,clearTimeout(we),y.isWin&&M.capture(u.container,Le,De))},this.onContextMenuClose=De;var we;function De(){clearTimeout(we),we=setTimeout(function(){g&&(m.style.cssText=g,g=""),u.renderer.$isMousePressed=!1,u.renderer.$keepTextAreaAtCursor&&u.renderer.$moveTextAreaToCursor()},0)}var Ne=function(ye){u.textInput.onContextMenu(ye),De()};M.addListener(m,"mouseup",Ne,u),M.addListener(m,"mousedown",function(ye){ye.preventDefault(),De()},u),M.addListener(u.renderer.scroller,"contextmenu",Ne,u),M.addListener(m,"contextmenu",Ne,u),c&&Be(p,u,m);function Be(ye,Ee,Ie){var _e=null,Ke=!1;Ie.addEventListener("keydown",function(Te){_e&&clearTimeout(_e),Ke=!0},!0),Ie.addEventListener("keyup",function(Te){_e=setTimeout(function(){Ke=!1},100)},!0);var Fe=function(Te){if(document.activeElement===Ie&&!(Ke||$||Ee.$mouseHandler.isMousePressed)&&!E){var Le=Ie.selectionStart,He=Ie.selectionEnd,U=null,Ve=0;if(Le==0?U=n.up:Le==1?U=n.home:He>I&&_[He]==`
`?U=n.end:Le<L&&_[Le-1]==" "?(U=n.left,Ve=a.option):Le<L||Le==L&&I!=L&&Le==He?U=n.left:He>I&&_.slice(0,He).split(`
`).length>2?U=n.down:He>I&&_[He-1]==" "?(U=n.right,Ve=a.option):(He>I||He==I&&I!=L&&Le==He)&&(U=n.right),Le!==He&&(Ve|=a.shift),U){var G=Ee.onCommandKey({},Ve,U);if(!G&&Ee.commands){U=n.keyCodeToString(U);var nt=Ee.commands.findKeyCommand(Ve,U);nt&&Ee.execCommand(nt)}L=Le,I=He,ee("")}}};document.addEventListener("selectionchange",Fe),Ee.on("destroy",function(){document.removeEventListener("selectionchange",Fe)})}this.destroy=function(){m.parentElement&&m.parentElement.removeChild(m)}},D.TextInput=v,D.$setUserAgentForTests=function(p,u){k=p,c=u}}),ace.define("ace/mouse/default_handlers",["require","exports","module","ace/lib/useragent"],function(f,D,z){var M=f("../lib/useragent"),A=0,y=550,s=function(){function r(i){i.$clickSelection=null;var t=i.editor;t.setDefaultHandler("mousedown",this.onMouseDown.bind(i)),t.setDefaultHandler("dblclick",this.onDoubleClick.bind(i)),t.setDefaultHandler("tripleclick",this.onTripleClick.bind(i)),t.setDefaultHandler("quadclick",this.onQuadClick.bind(i)),t.setDefaultHandler("mousewheel",this.onMouseWheel.bind(i));var e=["select","startSelect","selectEnd","selectAllEnd","selectByWordsEnd","selectByLinesEnd","dragWait","dragWaitEnd","focusWait"];e.forEach(function(n){i[n]=this[n]},this),i.selectByLines=this.extendSelectionBy.bind(i,"getLineRange"),i.selectByWords=this.extendSelectionBy.bind(i,"getWordRange")}return r.prototype.onMouseDown=function(i){var t=i.inSelection(),e=i.getDocumentPosition();this.mousedownEvent=i;var n=this.editor,a=i.getButton();if(a!==0){var c=n.getSelectionRange(),d=c.isEmpty();(d||a==1)&&n.selection.moveToPosition(e),a==2&&(n.textInput.onContextMenu(i.domEvent),M.isMozilla||i.preventDefault());return}if(this.mousedownEvent.time=Date.now(),t&&!n.isFocused()&&(n.focus(),this.$focusTimeout&&!this.$clickSelection&&!n.inMultiSelectMode)){this.setState("focusWait"),this.captureMouse(i);return}return this.captureMouse(i),this.startSelect(e,i.domEvent._clicks>1),i.preventDefault()},r.prototype.startSelect=function(i,t){i=i||this.editor.renderer.screenToTextCoordinates(this.x,this.y);var e=this.editor;this.mousedownEvent&&(this.mousedownEvent.getShiftKey()?e.selection.selectToPosition(i):t||e.selection.moveToPosition(i),t||this.select(),e.setStyle("ace_selecting"),this.setState("select"))},r.prototype.select=function(){var i,t=this.editor,e=t.renderer.screenToTextCoordinates(this.x,this.y);if(this.$clickSelection){var n=this.$clickSelection.comparePoint(e);if(n==-1)i=this.$clickSelection.end;else if(n==1)i=this.$clickSelection.start;else{var a=o(this.$clickSelection,e);e=a.cursor,i=a.anchor}t.selection.setSelectionAnchor(i.row,i.column)}t.selection.selectToPosition(e),t.renderer.scrollCursorIntoView()},r.prototype.extendSelectionBy=function(i){var t,e=this.editor,n=e.renderer.screenToTextCoordinates(this.x,this.y),a=e.selection[i](n.row,n.column);if(this.$clickSelection){var c=this.$clickSelection.comparePoint(a.start),d=this.$clickSelection.comparePoint(a.end);if(c==-1&&d<=0)t=this.$clickSelection.end,(a.end.row!=n.row||a.end.column!=n.column)&&(n=a.start);else if(d==1&&c>=0)t=this.$clickSelection.start,(a.start.row!=n.row||a.start.column!=n.column)&&(n=a.end);else if(c==-1&&d==1)n=a.end,t=a.start;else{var k=o(this.$clickSelection,n);n=k.cursor,t=k.anchor}e.selection.setSelectionAnchor(t.row,t.column)}e.selection.selectToPosition(n),e.renderer.scrollCursorIntoView()},r.prototype.selectByLinesEnd=function(){this.$clickSelection=null,this.editor.unsetStyle("ace_selecting")},r.prototype.focusWait=function(){var i=h(this.mousedownEvent.x,this.mousedownEvent.y,this.x,this.y),t=Date.now();(i>A||t-this.mousedownEvent.time>this.$focusTimeout)&&this.startSelect(this.mousedownEvent.getDocumentPosition())},r.prototype.onDoubleClick=function(i){var t=i.getDocumentPosition(),e=this.editor,n=e.session,a=n.getBracketRange(t);a?(a.isEmpty()&&(a.start.column--,a.end.column++),this.setState("select")):(a=e.selection.getWordRange(t.row,t.column),this.setState("selectByWords")),this.$clickSelection=a,this.select()},r.prototype.onTripleClick=function(i){var t=i.getDocumentPosition(),e=this.editor;this.setState("selectByLines");var n=e.getSelectionRange();n.isMultiLine()&&n.contains(t.row,t.column)?(this.$clickSelection=e.selection.getLineRange(n.start.row),this.$clickSelection.end=e.selection.getLineRange(n.end.row).end):this.$clickSelection=e.selection.getLineRange(t.row),this.select()},r.prototype.onQuadClick=function(i){var t=this.editor;t.selectAll(),this.$clickSelection=t.getSelectionRange(),this.setState("selectAll")},r.prototype.onMouseWheel=function(i){if(!i.getAccelKey()){i.getShiftKey()&&i.wheelY&&!i.wheelX&&(i.wheelX=i.wheelY,i.wheelY=0);var t=this.editor;this.$lastScroll||(this.$lastScroll={t:0,vx:0,vy:0,allowed:0});var e=this.$lastScroll,n=i.domEvent.timeStamp,a=n-e.t,c=a?i.wheelX/a:e.vx,d=a?i.wheelY/a:e.vy;a<y&&(c=(c+e.vx)/2,d=(d+e.vy)/2);var k=Math.abs(c/d),v=!1;if(k>=1&&t.renderer.isScrollableBy(i.wheelX*i.speed,0)&&(v=!0),k<=1&&t.renderer.isScrollableBy(0,i.wheelY*i.speed)&&(v=!0),v)e.allowed=n;else if(n-e.allowed<y){var p=Math.abs(c)<=1.5*Math.abs(e.vx)&&Math.abs(d)<=1.5*Math.abs(e.vy);p?(v=!0,e.allowed=n):e.allowed=0}if(e.t=n,e.vx=c,e.vy=d,v)return t.renderer.scrollBy(i.wheelX*i.speed,i.wheelY*i.speed),i.stop()}},r}();s.prototype.selectEnd=s.prototype.selectByLinesEnd,s.prototype.selectAllEnd=s.prototype.selectByLinesEnd,s.prototype.selectByWordsEnd=s.prototype.selectByLinesEnd,D.DefaultHandlers=s;function h(r,i,t,e){return Math.sqrt(Math.pow(t-r,2)+Math.pow(e-i,2))}function o(r,i){if(r.start.row==r.end.row)var t=2*i.column-r.start.column-r.end.column;else if(r.start.row==r.end.row-1&&!r.start.column&&!r.end.column)var t=i.column-4;else var t=2*i.row-r.start.row-r.end.row;return t<0?{cursor:r.start,anchor:r.end}:{cursor:r.end,anchor:r.start}}}),ace.define("ace/lib/scroll",["require","exports","module"],function(f,D,z){D.preventParentScroll=function(A){A.stopPropagation();var y=A.currentTarget,s=y.scrollHeight>y.clientHeight;s||A.preventDefault()}}),ace.define("ace/tooltip",["require","exports","module","ace/lib/dom","ace/lib/event","ace/range","ace/lib/scroll"],function(f,D,z){var M=this&&this.__extends||function(){var n=function(a,c){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(d,k){d.__proto__=k}||function(d,k){for(var v in k)Object.prototype.hasOwnProperty.call(k,v)&&(d[v]=k[v])},n(a,c)};return function(a,c){if(typeof c!="function"&&c!==null)throw new TypeError("Class extends value "+String(c)+" is not a constructor or null");n(a,c);function d(){this.constructor=a}a.prototype=c===null?Object.create(c):(d.prototype=c.prototype,new d)}}(),A=this&&this.__values||function(n){var a=typeof Symbol=="function"&&Symbol.iterator,c=a&&n[a],d=0;if(c)return c.call(n);if(n&&typeof n.length=="number")return{next:function(){return n&&d>=n.length&&(n=void 0),{value:n&&n[d++],done:!n}}};throw new TypeError(a?"Object is not iterable.":"Symbol.iterator is not defined.")},y=f("./lib/dom");f("./lib/event");var s=f("./range").Range,h=f("./lib/scroll").preventParentScroll,o="ace_tooltip",r=function(){function n(a){this.isOpen=!1,this.$element=null,this.$parentNode=a}return n.prototype.$init=function(){return this.$element=y.createElement("div"),this.$element.className=o,this.$element.style.display="none",this.$parentNode.appendChild(this.$element),this.$element},n.prototype.getElement=function(){return this.$element||this.$init()},n.prototype.setText=function(a){this.getElement().textContent=a},n.prototype.setHtml=function(a){this.getElement().innerHTML=a},n.prototype.setPosition=function(a,c){this.getElement().style.left=a+"px",this.getElement().style.top=c+"px"},n.prototype.setClassName=function(a){y.addCssClass(this.getElement(),a)},n.prototype.setTheme=function(a){this.$element.className=o+" "+(a.isDark?"ace_dark ":"")+(a.cssClass||"")},n.prototype.show=function(a,c,d){a!=null&&this.setText(a),c!=null&&d!=null&&this.setPosition(c,d),this.isOpen||(this.getElement().style.display="block",this.isOpen=!0)},n.prototype.hide=function(a){this.isOpen&&(this.getElement().style.display="none",this.getElement().className=o,this.isOpen=!1)},n.prototype.getHeight=function(){return this.getElement().offsetHeight},n.prototype.getWidth=function(){return this.getElement().offsetWidth},n.prototype.destroy=function(){this.isOpen=!1,this.$element&&this.$element.parentNode&&this.$element.parentNode.removeChild(this.$element)},n}(),i=function(){function n(){this.popups=[]}return n.prototype.addPopup=function(a){this.popups.push(a),this.updatePopups()},n.prototype.removePopup=function(a){var c=this.popups.indexOf(a);c!==-1&&(this.popups.splice(c,1),this.updatePopups())},n.prototype.updatePopups=function(){var a,c,d,k;this.popups.sort(function(g,w){return w.priority-g.priority});var v=[];try{for(var p=A(this.popups),u=p.next();!u.done;u=p.next()){var m=u.value,E=!0;try{for(var S=(d=void 0,A(v)),$=S.next();!$.done;$=S.next()){var R=$.value;if(this.doPopupsOverlap(R,m)){E=!1;break}}}catch(g){d={error:g}}finally{try{$&&!$.done&&(k=S.return)&&k.call(S)}finally{if(d)throw d.error}}E?v.push(m):m.hide()}}catch(g){a={error:g}}finally{try{u&&!u.done&&(c=p.return)&&c.call(p)}finally{if(a)throw a.error}}},n.prototype.doPopupsOverlap=function(a,c){var d=a.getElement().getBoundingClientRect(),k=c.getElement().getBoundingClientRect();return d.left<k.right&&d.right>k.left&&d.top<k.bottom&&d.bottom>k.top},n}(),t=new i;D.popupManager=t,D.Tooltip=r;var e=function(n){M(a,n);function a(c){c===void 0&&(c=document.body);var d=n.call(this,c)||this;d.timeout=void 0,d.lastT=0,d.idleTime=350,d.lastEvent=void 0,d.onMouseOut=d.onMouseOut.bind(d),d.onMouseMove=d.onMouseMove.bind(d),d.waitForHover=d.waitForHover.bind(d),d.hide=d.hide.bind(d);var k=d.getElement();return k.style.whiteSpace="pre-wrap",k.style.pointerEvents="auto",k.addEventListener("mouseout",d.onMouseOut),k.tabIndex=-1,k.addEventListener("blur",(function(){k.contains(document.activeElement)||this.hide()}).bind(d)),k.addEventListener("wheel",h),d}return a.prototype.addToEditor=function(c){c.on("mousemove",this.onMouseMove),c.on("mousedown",this.hide),c.renderer.getMouseEventTarget().addEventListener("mouseout",this.onMouseOut,!0)},a.prototype.removeFromEditor=function(c){c.off("mousemove",this.onMouseMove),c.off("mousedown",this.hide),c.renderer.getMouseEventTarget().removeEventListener("mouseout",this.onMouseOut,!0),this.timeout&&(clearTimeout(this.timeout),this.timeout=null)},a.prototype.onMouseMove=function(c,d){this.lastEvent=c,this.lastT=Date.now();var k=d.$mouseHandler.isMousePressed;if(this.isOpen){var v=this.lastEvent&&this.lastEvent.getDocumentPosition();(!this.range||!this.range.contains(v.row,v.column)||k||this.isOutsideOfText(this.lastEvent))&&this.hide()}this.timeout||k||(this.lastEvent=c,this.timeout=setTimeout(this.waitForHover,this.idleTime))},a.prototype.waitForHover=function(){this.timeout&&clearTimeout(this.timeout);var c=Date.now()-this.lastT;if(this.idleTime-c>10){this.timeout=setTimeout(this.waitForHover,this.idleTime-c);return}this.timeout=null,this.lastEvent&&!this.isOutsideOfText(this.lastEvent)&&this.$gatherData(this.lastEvent,this.lastEvent.editor)},a.prototype.isOutsideOfText=function(c){var d=c.editor,k=c.getDocumentPosition(),v=d.session.getLine(k.row);if(k.column==v.length){var p=d.renderer.pixelToScreenCoordinates(c.clientX,c.clientY),u=d.session.documentToScreenPosition(k.row,k.column);if(u.column!=p.column||u.row!=p.row)return!0}return!1},a.prototype.setDataProvider=function(c){this.$gatherData=c},a.prototype.showForRange=function(c,d,k,v){var p=10;if(!(v&&v!=this.lastEvent)&&!(this.isOpen&&document.activeElement==this.getElement())){var u=c.renderer;this.isOpen||(t.addPopup(this),this.$registerCloseEvents(),this.setTheme(u.theme)),this.isOpen=!0,this.addMarker(d,c.session),this.range=s.fromPoints(d.start,d.end);var m=u.textToScreenCoordinates(d.start.row,d.start.column),E=u.scroller.getBoundingClientRect();m.pageX<E.left&&(m.pageX=E.left);var S=this.getElement();S.innerHTML="",S.appendChild(k),S.style.maxHeight="",S.style.display="block";var $=S.clientHeight,R=S.clientWidth,g=window.innerHeight-m.pageY-u.lineHeight,w=!0;m.pageY-$<0&&m.pageY<g&&(w=!1),S.style.maxHeight=(w?m.pageY:g)-p+"px",S.style.top=w?"":m.pageY+u.lineHeight+"px",S.style.bottom=w?window.innerHeight-m.pageY+"px":"",S.style.left=Math.min(m.pageX,window.innerWidth-R-p)+"px"}},a.prototype.addMarker=function(c,d){this.marker&&this.$markerSession.removeMarker(this.marker),this.$markerSession=d,this.marker=d&&d.addMarker(c,"ace_highlight-marker","text")},a.prototype.hide=function(c){!c&&document.activeElement==this.getElement()||c&&c.target&&(c.type!="keydown"||c.ctrlKey||c.metaKey)&&this.$element.contains(c.target)||(this.lastEvent=null,this.timeout&&clearTimeout(this.timeout),this.timeout=null,this.addMarker(null),this.isOpen&&(this.$removeCloseEvents(),this.getElement().style.display="none",this.isOpen=!1,t.removePopup(this)))},a.prototype.$registerCloseEvents=function(){window.addEventListener("keydown",this.hide,!0),window.addEventListener("wheel",this.hide,!0),window.addEventListener("mousedown",this.hide,!0)},a.prototype.$removeCloseEvents=function(){window.removeEventListener("keydown",this.hide,!0),window.removeEventListener("wheel",this.hide,!0),window.removeEventListener("mousedown",this.hide,!0)},a.prototype.onMouseOut=function(c){this.timeout&&(clearTimeout(this.timeout),this.timeout=null),this.lastEvent=null,this.isOpen&&(!c.relatedTarget||this.getElement().contains(c.relatedTarget)||c&&c.currentTarget.contains(c.relatedTarget)||c.relatedTarget.classList.contains("ace_content")||this.hide())},a}(r);D.HoverTooltip=e}),ace.define("ace/mouse/default_gutter_handler",["require","exports","module","ace/lib/dom","ace/lib/event","ace/tooltip","ace/config","ace/lib/lang"],function(f,D,z){var M=this&&this.__extends||function(){var t=function(e,n){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(a,c){a.__proto__=c}||function(a,c){for(var d in c)Object.prototype.hasOwnProperty.call(c,d)&&(a[d]=c[d])},t(e,n)};return function(e,n){if(typeof n!="function"&&n!==null)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");t(e,n);function a(){this.constructor=e}e.prototype=n===null?Object.create(n):(a.prototype=n.prototype,new a)}}(),A=this&&this.__values||function(t){var e=typeof Symbol=="function"&&Symbol.iterator,n=e&&t[e],a=0;if(n)return n.call(t);if(t&&typeof t.length=="number")return{next:function(){return t&&a>=t.length&&(t=void 0),{value:t&&t[a++],done:!t}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")},y=f("../lib/dom"),s=f("../lib/event"),h=f("../tooltip").Tooltip,o=f("../config").nls;f("../lib/lang");function r(t){var e=t.editor,n=e.renderer.$gutterLayer,a=new i(e);t.editor.setDefaultHandler("guttermousedown",function(u){if(!(!e.isFocused()||u.getButton()!=0)){var m=n.getRegion(u);if(m!="foldWidgets"){var E=u.getDocumentPosition().row,S=e.session.selection;if(u.getShiftKey())S.selectTo(E,0);else{if(u.domEvent.detail==2)return e.selectAll(),u.preventDefault();t.$clickSelection=e.selection.getLineRange(E)}return t.setState("selectByLines"),t.captureMouse(u),u.preventDefault()}}});var c,d;function k(){var u=d.getDocumentPosition().row,m=e.session.getLength();if(u==m){var E=e.renderer.pixelToScreenCoordinates(0,d.y).row,S=d.$pos;if(E>e.session.documentToScreenRow(S.row,S.column))return v()}if(a.showTooltip(u),!!a.isOpen)if(e.on("mousewheel",v),t.$tooltipFollowsMouse)p(d);else{var $=d.getGutterRow(),R=n.$lines.get($);if(R){var g=R.element.querySelector(".ace_gutter_annotation"),w=g.getBoundingClientRect(),l=a.getElement().style;l.left=w.right+"px",l.top=w.bottom+"px"}else p(d)}}function v(){c&&(c=clearTimeout(c)),a.isOpen&&(a.hideTooltip(),e.off("mousewheel",v))}function p(u){a.setPosition(u.x,u.y)}t.editor.setDefaultHandler("guttermousemove",function(u){var m=u.domEvent.target||u.domEvent.srcElement;if(y.hasCssClass(m,"ace_fold-widget"))return v();a.isOpen&&t.$tooltipFollowsMouse&&p(u),d=u,!c&&(c=setTimeout(function(){c=null,d&&!t.isMousePressed?k():v()},50))}),s.addListener(e.renderer.$gutter,"mouseout",function(u){d=null,!(!a.isOpen||c)&&(c=setTimeout(function(){c=null,v()},50))},e),e.on("changeSession",v),e.on("input",v)}D.GutterHandler=r;var i=function(t){M(e,t);function e(n){var a=t.call(this,n.container)||this;return a.editor=n,a}return e.prototype.setPosition=function(n,a){var c=window.innerWidth||document.documentElement.clientWidth,d=window.innerHeight||document.documentElement.clientHeight,k=this.getWidth(),v=this.getHeight();n+=15,a+=15,n+k>c&&(n-=n+k-c),a+v>d&&(a-=20+v),h.prototype.setPosition.call(this,n,a)},Object.defineProperty(e,"annotationLabels",{get:function(){return{error:{singular:o("gutter-tooltip.aria-label.error.singular","error"),plural:o("gutter-tooltip.aria-label.error.plural","errors")},security:{singular:o("gutter-tooltip.aria-label.security.singular","security finding"),plural:o("gutter-tooltip.aria-label.security.plural","security findings")},warning:{singular:o("gutter-tooltip.aria-label.warning.singular","warning"),plural:o("gutter-tooltip.aria-label.warning.plural","warnings")},info:{singular:o("gutter-tooltip.aria-label.info.singular","information message"),plural:o("gutter-tooltip.aria-label.info.plural","information messages")},hint:{singular:o("gutter-tooltip.aria-label.hint.singular","suggestion"),plural:o("gutter-tooltip.aria-label.hint.plural","suggestions")}}},enumerable:!1,configurable:!0}),e.prototype.showTooltip=function(n){var a,c=this.editor.renderer.$gutterLayer,d=c.$annotations[n],k;d?k={displayText:Array.from(d.displayText),type:Array.from(d.type)}:k={displayText:[],type:[]};var v=c.session.getFoldLine(n);if(v&&c.$showFoldedAnnotations){for(var p={error:[],security:[],warning:[],info:[],hint:[]},u={error:1,security:2,warning:3,info:4,hint:5},m,E=n+1;E<=v.end.row;E++)if(c.$annotations[E])for(var S=0;S<c.$annotations[E].text.length;S++){var $=c.$annotations[E].type[S];p[$].push(c.$annotations[E].text[S]),(!m||u[$]<u[m])&&(m=$)}if(["error","security","warning"].includes(m)){var R="".concat(e.annotationsToSummaryString(p)," in folded code.");k.displayText.push(R),k.type.push(m+"_fold")}}if(k.displayText.length===0)return this.hide();for(var g={error:[],security:[],warning:[],info:[],hint:[]},w=c.$useSvgGutterIcons?"ace_icon_svg":"ace_icon",E=0;E<k.displayText.length;E++){var l=y.createElement("span"),_=y.createElement("span");(a=_.classList).add.apply(a,["ace_".concat(k.type[E]),w]),_.setAttribute("aria-label","".concat(e.annotationLabels[k.type[E].replace("_fold","")].singular)),_.setAttribute("role","img"),_.appendChild(y.createTextNode(" ")),l.appendChild(_),l.appendChild(y.createTextNode(k.displayText[E])),l.appendChild(y.createElement("br")),g[k.type[E].replace("_fold","")].push(l)}var L=this.getElement();y.removeChildren(L),g.error.forEach(function(I){return L.appendChild(I)}),g.security.forEach(function(I){return L.appendChild(I)}),g.warning.forEach(function(I){return L.appendChild(I)}),g.info.forEach(function(I){return L.appendChild(I)}),g.hint.forEach(function(I){return L.appendChild(I)}),L.setAttribute("aria-live","polite"),this.isOpen||(this.setTheme(this.editor.renderer.theme),this.setClassName("ace_gutter-tooltip")),this.show(),this.editor._signal("showGutterTooltip",this)},e.prototype.hideTooltip=function(){this.$element.removeAttribute("aria-live"),this.hide(),this.editor._signal("hideGutterTooltip",this)},e.annotationsToSummaryString=function(n){var a,c,d=[],k=["error","security","warning","info","hint"];try{for(var v=A(k),p=v.next();!p.done;p=v.next()){var u=p.value;if(n[u].length){var m=n[u].length===1?e.annotationLabels[u].singular:e.annotationLabels[u].plural;d.push("".concat(n[u].length," ").concat(m))}}}catch(E){a={error:E}}finally{try{p&&!p.done&&(c=v.return)&&c.call(v)}finally{if(a)throw a.error}}return d.join(", ")},e}(h);D.GutterTooltip=i}),ace.define("ace/mouse/mouse_event",["require","exports","module","ace/lib/event","ace/lib/useragent"],function(f,D,z){var M=f("../lib/event"),A=f("../lib/useragent"),y=function(){function s(h,o){this.speed,this.wheelX,this.wheelY,this.domEvent=h,this.editor=o,this.x=this.clientX=h.clientX,this.y=this.clientY=h.clientY,this.$pos=null,this.$inSelection=null,this.propagationStopped=!1,this.defaultPrevented=!1}return s.prototype.stopPropagation=function(){M.stopPropagation(this.domEvent),this.propagationStopped=!0},s.prototype.preventDefault=function(){M.preventDefault(this.domEvent),this.defaultPrevented=!0},s.prototype.stop=function(){this.stopPropagation(),this.preventDefault()},s.prototype.getDocumentPosition=function(){return this.$pos?this.$pos:(this.$pos=this.editor.renderer.screenToTextCoordinates(this.clientX,this.clientY),this.$pos)},s.prototype.getGutterRow=function(){var h=this.getDocumentPosition().row,o=this.editor.session.documentToScreenRow(h,0),r=this.editor.session.documentToScreenRow(this.editor.renderer.$gutterLayer.$lines.get(0).row,0);return o-r},s.prototype.inSelection=function(){if(this.$inSelection!==null)return this.$inSelection;var h=this.editor,o=h.getSelectionRange();if(o.isEmpty())this.$inSelection=!1;else{var r=this.getDocumentPosition();this.$inSelection=o.contains(r.row,r.column)}return this.$inSelection},s.prototype.getButton=function(){return M.getButton(this.domEvent)},s.prototype.getShiftKey=function(){return this.domEvent.shiftKey},s.prototype.getAccelKey=function(){return A.isMac?this.domEvent.metaKey:this.domEvent.ctrlKey},s}();D.MouseEvent=y}),ace.define("ace/mouse/dragdrop_handler",["require","exports","module","ace/lib/dom","ace/lib/event","ace/lib/useragent"],function(f,D,z){var M=f("../lib/dom"),A=f("../lib/event"),y=f("../lib/useragent"),s=200,h=200,o=5;function r(t){var e=t.editor,n=M.createElement("div");n.style.cssText="top:-100px;position:absolute;z-index:2147483647;opacity:0.5",n.textContent="";var a=["dragWait","dragWaitEnd","startDrag","dragReadyEnd","onMouseDrag"];a.forEach(function(oe){t[oe]=this[oe]},this),e.on("mousedown",this.onMouseDown.bind(t));var c=e.container,d,k,v,p,u,m,E=0,S,$,R,g,w;this.onDragStart=function(oe){if(this.cancelDrag||!c.draggable){var ee=this;return setTimeout(function(){ee.startSelect(),ee.captureMouse(oe)},0),oe.preventDefault()}u=e.getSelectionRange();var se=oe.dataTransfer;se.effectAllowed=e.getReadOnly()?"copy":"copyMove",e.container.appendChild(n),se.setDragImage&&se.setDragImage(n,0,0),setTimeout(function(){e.container.removeChild(n)}),se.clearData(),se.setData("Text",e.session.getTextRange()),$=!0,this.setState("drag")},this.onDragEnd=function(oe){if(c.draggable=!1,$=!1,this.setState(null),!e.getReadOnly()){var ee=oe.dataTransfer.dropEffect;!S&&ee=="move"&&e.session.remove(e.getSelectionRange()),e.$resetCursorStyle()}this.editor.unsetStyle("ace_dragging"),this.editor.renderer.setCursorStyle("")},this.onDragEnter=function(oe){if(!(e.getReadOnly()||!q(oe.dataTransfer)))return k=oe.clientX,v=oe.clientY,d||I(),E++,oe.dataTransfer.dropEffect=S=Z(oe),A.preventDefault(oe)},this.onDragOver=function(oe){if(!(e.getReadOnly()||!q(oe.dataTransfer)))return k=oe.clientX,v=oe.clientY,d||(I(),E++),H!==null&&(H=null),oe.dataTransfer.dropEffect=S=Z(oe),A.preventDefault(oe)},this.onDragLeave=function(oe){if(E--,E<=0&&d)return W(),S=null,A.preventDefault(oe)},this.onDrop=function(oe){if(m){var ee=oe.dataTransfer;if($)switch(S){case"move":u.contains(m.row,m.column)?u={start:m,end:m}:u=e.moveText(u,m);break;case"copy":u=e.moveText(u,m,!0);break}else{var se=ee.getData("Text");u={start:m,end:e.session.insert(m,se)},e.focus(),S=null}return W(),A.preventDefault(oe)}},A.addListener(c,"dragstart",this.onDragStart.bind(t),e),A.addListener(c,"dragend",this.onDragEnd.bind(t),e),A.addListener(c,"dragenter",this.onDragEnter.bind(t),e),A.addListener(c,"dragover",this.onDragOver.bind(t),e),A.addListener(c,"dragleave",this.onDragLeave.bind(t),e),A.addListener(c,"drop",this.onDrop.bind(t),e);function l(oe,ee){var se=Date.now(),fe=!ee||oe.row!=ee.row,Ce=!ee||oe.column!=ee.column;if(!g||fe||Ce)e.moveCursorToPosition(oe),g=se,w={x:k,y:v};else{var Se=i(w.x,w.y,k,v);Se>o?g=null:se-g>=h&&(e.renderer.scrollCursorIntoView(),g=null)}}function _(oe,ee){var se=Date.now(),fe=e.renderer.layerConfig.lineHeight,Ce=e.renderer.layerConfig.characterWidth,Se=e.renderer.scroller.getBoundingClientRect(),$e={x:{left:k-Se.left,right:Se.right-k},y:{top:v-Se.top,bottom:Se.bottom-v}},xe=Math.min($e.x.left,$e.x.right),Pe=Math.min($e.y.top,$e.y.bottom),ze={row:oe.row,column:oe.column};xe/Ce<=2&&(ze.column+=$e.x.left<$e.x.right?-3:2),Pe/fe<=1&&(ze.row+=$e.y.top<$e.y.bottom?-1:1);var Je=oe.row!=ze.row,F=oe.column!=ze.column,be=!ee||oe.row!=ee.row;Je||F&&!be?R?se-R>=s&&e.renderer.scrollCursorIntoView(ze):R=se:R=null}function L(){var oe=m;m=e.renderer.screenToTextCoordinates(k,v),l(m,oe),_(m,oe)}function I(){u=e.selection.toOrientedRange(),d=e.session.addMarker(u,"ace_selection",e.getSelectionStyle()),e.clearSelection(),e.isFocused()&&e.renderer.$cursorLayer.setBlinking(!1),clearInterval(p),L(),p=setInterval(L,20),E=0,A.addListener(document,"mousemove",J)}function W(){clearInterval(p),e.session.removeMarker(d),d=null,e.selection.fromOrientedRange(u),e.isFocused()&&!$&&e.$resetCursorStyle(),u=null,m=null,E=0,R=null,g=null,A.removeListener(document,"mousemove",J)}var H=null;function J(){H==null&&(H=setTimeout(function(){H!=null&&d&&W()},20))}function q(oe){var ee=oe.types;return!ee||Array.prototype.some.call(ee,function(se){return se=="text/plain"||se=="Text"})}function Z(oe){var ee=["copy","copymove","all","uninitialized"],se=["move","copymove","linkmove","all","uninitialized"],fe=y.isMac?oe.altKey:oe.ctrlKey,Ce="uninitialized";try{Ce=oe.dataTransfer.effectAllowed.toLowerCase()}catch{}var Se="none";return fe&&ee.indexOf(Ce)>=0?Se="copy":se.indexOf(Ce)>=0?Se="move":ee.indexOf(Ce)>=0&&(Se="copy"),Se}}(function(){this.dragWait=function(){var t=Date.now()-this.mousedownEvent.time;t>this.editor.getDragDelay()&&this.startDrag()},this.dragWaitEnd=function(){var t=this.editor.container;t.draggable=!1,this.startSelect(this.mousedownEvent.getDocumentPosition()),this.selectEnd()},this.dragReadyEnd=function(t){this.editor.$resetCursorStyle(),this.editor.unsetStyle("ace_dragging"),this.editor.renderer.setCursorStyle(""),this.dragWaitEnd()},this.startDrag=function(){this.cancelDrag=!1;var t=this.editor,e=t.container;e.draggable=!0,t.renderer.$cursorLayer.setBlinking(!1),t.setStyle("ace_dragging");var n=y.isWin?"default":"move";t.renderer.setCursorStyle(n),this.setState("dragReady")},this.onMouseDrag=function(t){var e=this.editor.container;if(y.isIE&&this.state=="dragReady"){var n=i(this.mousedownEvent.x,this.mousedownEvent.y,this.x,this.y);n>3&&e.dragDrop()}if(this.state==="dragWait"){var n=i(this.mousedownEvent.x,this.mousedownEvent.y,this.x,this.y);n>0&&(e.draggable=!1,this.startSelect(this.mousedownEvent.getDocumentPosition()))}},this.onMouseDown=function(t){if(this.$dragEnabled){this.mousedownEvent=t;var e=this.editor,n=t.inSelection(),a=t.getButton(),c=t.domEvent.detail||1;if(c===1&&a===0&&n){if(t.editor.inMultiSelectMode&&(t.getAccelKey()||t.getShiftKey()))return;this.mousedownEvent.time=Date.now();var d=t.domEvent.target||t.domEvent.srcElement;if("unselectable"in d&&(d.unselectable="on"),e.getDragDelay()){if(y.isWebKit){this.cancelDrag=!0;var k=e.container;k.draggable=!0}this.setState("dragWait")}else this.startDrag();this.captureMouse(t,this.onMouseDrag.bind(this)),t.defaultPrevented=!0}}}}).call(r.prototype);function i(t,e,n,a){return Math.sqrt(Math.pow(n-t,2)+Math.pow(a-e,2))}D.DragdropHandler=r}),ace.define("ace/mouse/touch_handler",["require","exports","module","ace/mouse/mouse_event","ace/lib/event","ace/lib/dom"],function(f,D,z){var M=f("./mouse_event").MouseEvent,A=f("../lib/event"),y=f("../lib/dom");D.addTouchListeners=function(s,h){var o="scroll",r,i,t,e,n,a,c=0,d,k=0,v=0,p=0,u,m;function E(){var l=window.navigator&&window.navigator.clipboard,_=!1,L=function(){var H=h.getCopyText(),J=h.session.getUndoManager().hasUndo();m.replaceChild(y.buildDom(_?["span",!H&&I("selectall")&&["span",{class:"ace_mobile-button",action:"selectall"},"Select All"],H&&I("copy")&&["span",{class:"ace_mobile-button",action:"copy"},"Copy"],H&&I("cut")&&["span",{class:"ace_mobile-button",action:"cut"},"Cut"],l&&I("paste")&&["span",{class:"ace_mobile-button",action:"paste"},"Paste"],J&&I("undo")&&["span",{class:"ace_mobile-button",action:"undo"},"Undo"],I("find")&&["span",{class:"ace_mobile-button",action:"find"},"Find"],I("openCommandPalette")&&["span",{class:"ace_mobile-button",action:"openCommandPalette"},"Palette"]]:["span"]),m.firstChild)},I=function(H){return h.commands.canExecute(H,h)},W=function(H){var J=H.target.getAttribute("action");if(J=="more"||!_)return _=!_,L();J=="paste"?l.readText().then(function(q){h.execCommand(J,q)}):J&&((J=="cut"||J=="copy")&&(l?l.writeText(h.getCopyText()):document.execCommand("copy")),h.execCommand(J)),m.firstChild.style.display="none",_=!1,J!="openCommandPalette"&&h.focus()};m=y.buildDom(["div",{class:"ace_mobile-menu",ontouchstart:function(H){o="menu",H.stopPropagation(),H.preventDefault(),h.textInput.focus()},ontouchend:function(H){H.stopPropagation(),H.preventDefault(),W(H)},onclick:W},["span"],["span",{class:"ace_mobile-button",action:"more"},"..."]],h.container)}function S(){if(!h.getOption("enableMobileMenu")){m&&$();return}m||E();var l=h.selection.cursor,_=h.renderer.textToScreenCoordinates(l.row,l.column),L=h.renderer.textToScreenCoordinates(0,0).pageX,I=h.renderer.scrollLeft,W=h.container.getBoundingClientRect();m.style.top=_.pageY-W.top-3+"px",_.pageX-W.left<W.width-70?(m.style.left="",m.style.right="10px"):(m.style.right="",m.style.left=L+I-W.left+"px"),m.style.display="",m.firstChild.style.display="none",h.on("input",$)}function $(l){m&&(m.style.display="none"),h.off("input",$)}function R(){n=null,clearTimeout(n);var l=h.selection.getRange(),_=l.contains(d.row,d.column);(l.isEmpty()||!_)&&(h.selection.moveToPosition(d),h.selection.selectWord()),o="wait",S()}function g(){n=null,clearTimeout(n),h.selection.moveToPosition(d);var l=k>=2?h.selection.getLineRange(d.row):h.session.getBracketRange(d);l&&!l.isEmpty()?h.selection.setRange(l):h.selection.selectWord(),o="wait"}A.addListener(s,"contextmenu",function(l){if(u){var _=h.textInput.getElement();_.focus()}},h),A.addListener(s,"touchstart",function(l){var _=l.touches;if(n||_.length>1){clearTimeout(n),n=null,t=-1,o="zoom";return}u=h.$mouseHandler.isMousePressed=!0;var L=h.renderer.layerConfig.lineHeight,I=h.renderer.layerConfig.lineHeight,W=l.timeStamp;e=W;var H=_[0],J=H.clientX,q=H.clientY;Math.abs(r-J)+Math.abs(i-q)>L&&(t=-1),r=l.clientX=J,i=l.clientY=q,v=p=0;var Z=new M(l,h);if(d=Z.getDocumentPosition(),W-t<500&&_.length==1&&!c)k++,l.preventDefault(),l.button=0,g();else{k=0;var oe=h.selection.cursor,ee=h.selection.isEmpty()?oe:h.selection.anchor,se=h.renderer.$cursorLayer.getPixelPosition(oe,!0),fe=h.renderer.$cursorLayer.getPixelPosition(ee,!0),Ce=h.renderer.scroller.getBoundingClientRect(),Se=h.renderer.layerConfig.offset,$e=h.renderer.scrollLeft,xe=function(Je,F){return Je=Je/I,F=F/L-.75,Je*Je+F*F};if(l.clientX<Ce.left){o="zoom";return}var Pe=xe(l.clientX-Ce.left-se.left+$e,l.clientY-Ce.top-se.top+Se),ze=xe(l.clientX-Ce.left-fe.left+$e,l.clientY-Ce.top-fe.top+Se);Pe<3.5&&ze<3.5&&(o=Pe>ze?"cursor":"anchor"),ze<3.5?o="anchor":Pe<3.5?o="cursor":o="scroll",n=setTimeout(R,450)}t=W},h),A.addListener(s,"touchend",function(l){u=h.$mouseHandler.isMousePressed=!1,a&&clearInterval(a),o=="zoom"?(o="",c=0):n?(h.selection.moveToPosition(d),c=0,S()):o=="scroll"?(w(),$()):S(),clearTimeout(n),n=null},h),A.addListener(s,"touchmove",function(l){n&&(clearTimeout(n),n=null);var _=l.touches;if(!(_.length>1||o=="zoom")){var L=_[0],I=r-L.clientX,W=i-L.clientY;if(o=="wait")if(I*I+W*W>4)o="cursor";else return l.preventDefault();r=L.clientX,i=L.clientY,l.clientX=L.clientX,l.clientY=L.clientY;var H=l.timeStamp,J=H-e;if(e=H,o=="scroll"){var q=new M(l,h);q.speed=1,q.wheelX=I,q.wheelY=W,10*Math.abs(I)<Math.abs(W)&&(I=0),10*Math.abs(W)<Math.abs(I)&&(W=0),J!=0&&(v=I/J,p=W/J),h._emit("mousewheel",q),q.propagationStopped||(v=p=0)}else{var Z=new M(l,h),oe=Z.getDocumentPosition();o=="cursor"?h.selection.moveCursorToPosition(oe):o=="anchor"&&h.selection.setSelectionAnchor(oe.row,oe.column),h.renderer.scrollCursorIntoView(oe),l.preventDefault()}}},h);function w(){c+=60,a=setInterval(function(){c--<=0&&(clearInterval(a),a=null),Math.abs(v)<.01&&(v=0),Math.abs(p)<.01&&(p=0),c<20&&(v=.9*v),c<20&&(p=.9*p);var l=h.session.getScrollTop();h.renderer.scrollBy(10*v,10*p),l==h.session.getScrollTop()&&(c=0)},10)}}}),ace.define("ace/mouse/mouse_handler",["require","exports","module","ace/lib/event","ace/lib/useragent","ace/mouse/default_handlers","ace/mouse/default_gutter_handler","ace/mouse/mouse_event","ace/mouse/dragdrop_handler","ace/mouse/touch_handler","ace/config"],function(f,D,z){var M=f("../lib/event"),A=f("../lib/useragent"),y=f("./default_handlers").DefaultHandlers,s=f("./default_gutter_handler").GutterHandler,h=f("./mouse_event").MouseEvent,o=f("./dragdrop_handler").DragdropHandler,r=f("./touch_handler").addTouchListeners,i=f("../config"),t=function(){function e(n){this.$dragDelay,this.$dragEnabled,this.$mouseMoved,this.mouseEvent,this.$focusTimeout;var a=this;this.editor=n,new y(this),new s(this),new o(this);var c=function(v){var p=!document.hasFocus||!document.hasFocus()||!n.isFocused()&&document.activeElement==(n.textInput&&n.textInput.getElement());p&&window.focus(),n.focus(),setTimeout(function(){n.isFocused()||n.focus()})},d=n.renderer.getMouseEventTarget();M.addListener(d,"click",this.onMouseEvent.bind(this,"click"),n),M.addListener(d,"mousemove",this.onMouseMove.bind(this,"mousemove"),n),M.addMultiMouseDownListener([d,n.renderer.scrollBarV&&n.renderer.scrollBarV.inner,n.renderer.scrollBarH&&n.renderer.scrollBarH.inner,n.textInput&&n.textInput.getElement()].filter(Boolean),[400,300,250],this,"onMouseEvent",n),M.addMouseWheelListener(n.container,this.onMouseWheel.bind(this,"mousewheel"),n),r(n.container,n);var k=n.renderer.$gutter;M.addListener(k,"mousedown",this.onMouseEvent.bind(this,"guttermousedown"),n),M.addListener(k,"click",this.onMouseEvent.bind(this,"gutterclick"),n),M.addListener(k,"dblclick",this.onMouseEvent.bind(this,"gutterdblclick"),n),M.addListener(k,"mousemove",this.onMouseEvent.bind(this,"guttermousemove"),n),M.addListener(d,"mousedown",c,n),M.addListener(k,"mousedown",c,n),A.isIE&&n.renderer.scrollBarV&&(M.addListener(n.renderer.scrollBarV.element,"mousedown",c,n),M.addListener(n.renderer.scrollBarH.element,"mousedown",c,n)),n.on("mousemove",function(v){if(!(a.state||a.$dragDelay||!a.$dragEnabled)){var p=n.renderer.screenToTextCoordinates(v.x,v.y),u=n.session.selection.getRange(),m=n.renderer;!u.isEmpty()&&u.insideStart(p.row,p.column)?m.setCursorStyle("default"):m.setCursorStyle("")}},n)}return e.prototype.onMouseEvent=function(n,a){this.editor.session&&this.editor._emit(n,new h(a,this.editor))},e.prototype.onMouseMove=function(n,a){var c=this.editor._eventRegistry&&this.editor._eventRegistry.mousemove;!c||!c.length||this.editor._emit(n,new h(a,this.editor))},e.prototype.onMouseWheel=function(n,a){var c=new h(a,this.editor);c.speed=this.$scrollSpeed*2,c.wheelX=a.wheelX,c.wheelY=a.wheelY,this.editor._emit(n,c)},e.prototype.setState=function(n){this.state=n},e.prototype.captureMouse=function(n,a){this.x=n.x,this.y=n.y,this.isMousePressed=!0;var c=this.editor,d=this.editor.renderer;d.$isMousePressed=!0;var k=this,v=function(S){if(S){if(A.isWebKit&&!S.which&&k.releaseMouse)return k.releaseMouse();k.x=S.clientX,k.y=S.clientY,a&&a(S),k.mouseEvent=new h(S,k.editor),k.$mouseMoved=!0}},p=function(S){c.off("beforeEndOperation",m),clearInterval(E),c.session&&u(),k[k.state+"End"]&&k[k.state+"End"](S),k.state="",k.isMousePressed=d.$isMousePressed=!1,d.$keepTextAreaAtCursor&&d.$moveTextAreaToCursor(),k.$onCaptureMouseMove=k.releaseMouse=null,S&&k.onMouseEvent("mouseup",S),c.endOperation()},u=function(){k[k.state]&&k[k.state](),k.$mouseMoved=!1};if(A.isOldIE&&n.domEvent.type=="dblclick")return setTimeout(function(){p(n)});var m=function(S){k.releaseMouse&&c.curOp.command.name&&c.curOp.selectionChanged&&(k[k.state+"End"]&&k[k.state+"End"](),k.state="",k.releaseMouse())};c.on("beforeEndOperation",m),c.startOperation({command:{name:"mouse"}}),k.$onCaptureMouseMove=v,k.releaseMouse=M.capture(this.editor.container,v,p);var E=setInterval(u,20)},e.prototype.cancelContextMenu=function(){var n=(function(a){a&&a.domEvent&&a.domEvent.type!="contextmenu"||(this.editor.off("nativecontextmenu",n),a&&a.domEvent&&M.stopEvent(a.domEvent))}).bind(this);setTimeout(n,10),this.editor.on("nativecontextmenu",n)},e.prototype.destroy=function(){this.releaseMouse&&this.releaseMouse()},e}();t.prototype.releaseMouse=null,i.defineOptions(t.prototype,"mouseHandler",{scrollSpeed:{initialValue:2},dragDelay:{initialValue:A.isMac?150:0},dragEnabled:{initialValue:!0},focusTimeout:{initialValue:0},tooltipFollowsMouse:{initialValue:!0}}),D.MouseHandler=t}),ace.define("ace/mouse/fold_handler",["require","exports","module","ace/lib/dom"],function(f,D,z){var M=f("../lib/dom"),A=function(){function y(s){s.on("click",function(h){var o=h.getDocumentPosition(),r=s.session,i=r.getFoldAt(o.row,o.column,1);i&&(h.getAccelKey()?r.removeFold(i):r.expandFold(i),h.stop());var t=h.domEvent&&h.domEvent.target;t&&M.hasCssClass(t,"ace_inline_button")&&M.hasCssClass(t,"ace_toggle_wrap")&&(r.setOption("wrap",!r.getUseWrapMode()),s.renderer.scrollCursorIntoView())}),s.on("gutterclick",function(h){var o=s.renderer.$gutterLayer.getRegion(h);if(o=="foldWidgets"){var r=h.getDocumentPosition().row,i=s.session;i.foldWidgets&&i.foldWidgets[r]&&s.session.onFoldWidgetClick(r,h),s.isFocused()||s.focus(),h.stop()}}),s.on("gutterdblclick",function(h){var o=s.renderer.$gutterLayer.getRegion(h);if(o=="foldWidgets"){var r=h.getDocumentPosition().row,i=s.session,t=i.getParentFoldRangeData(r,!0),e=t.range||t.firstRange;if(e){r=e.start.row;var n=i.getFoldAt(r,i.getLine(r).length,1);n?i.removeFold(n):(i.addFold("...",e),s.renderer.scrollCursorIntoView({row:e.start.row,column:0}))}h.stop()}})}return y}();D.FoldHandler=A}),ace.define("ace/keyboard/keybinding",["require","exports","module","ace/lib/keys","ace/lib/event"],function(f,D,z){var M=f("../lib/keys"),A=f("../lib/event"),y=function(){function s(h){this.$editor=h,this.$data={editor:h},this.$handlers=[],this.setDefaultHandler(h.commands)}return s.prototype.setDefaultHandler=function(h){this.removeKeyboardHandler(this.$defaultHandler),this.$defaultHandler=h,this.addKeyboardHandler(h,0)},s.prototype.setKeyboardHandler=function(h){var o=this.$handlers;if(o[o.length-1]!=h){for(;o[o.length-1]&&o[o.length-1]!=this.$defaultHandler;)this.removeKeyboardHandler(o[o.length-1]);this.addKeyboardHandler(h,1)}},s.prototype.addKeyboardHandler=function(h,o){if(h){typeof h=="function"&&!h.handleKeyboard&&(h.handleKeyboard=h);var r=this.$handlers.indexOf(h);r!=-1&&this.$handlers.splice(r,1),o==null?this.$handlers.push(h):this.$handlers.splice(o,0,h),r==-1&&h.attach&&h.attach(this.$editor)}},s.prototype.removeKeyboardHandler=function(h){var o=this.$handlers.indexOf(h);return o==-1?!1:(this.$handlers.splice(o,1),h.detach&&h.detach(this.$editor),!0)},s.prototype.getKeyboardHandler=function(){return this.$handlers[this.$handlers.length-1]},s.prototype.getStatusText=function(){var h=this.$data,o=h.editor;return this.$handlers.map(function(r){return r.getStatusText&&r.getStatusText(o,h)||""}).filter(Boolean).join(" ")},s.prototype.$callKeyboardHandlers=function(h,o,r,i){for(var t,e=!1,n=this.$editor.commands,a=this.$handlers.length;a--&&(t=this.$handlers[a].handleKeyboard(this.$data,h,o,r,i),!(!(!t||!t.command)&&(t.command=="null"?e=!0:e=n.exec(t.command,this.$editor,t.args,i),e&&i&&h!=-1&&t.passEvent!=!0&&t.command.passEvent!=!0&&A.stopEvent(i),e))););return!e&&h==-1&&(t={command:"insertstring"},e=n.exec("insertstring",this.$editor,o)),e&&this.$editor._signal&&this.$editor._signal("keyboardActivity",t),e},s.prototype.onCommandKey=function(h,o,r){var i=M.keyCodeToString(r);return this.$callKeyboardHandlers(o,i,r,h)},s.prototype.onTextInput=function(h){return this.$callKeyboardHandlers(-1,h)},s}();D.KeyBinding=y}),ace.define("ace/lib/bidiutil",["require","exports","module"],function(f,D,z){var M=0,A=0,y=!1,s=!1,h=!1,o=[[0,3,0,1,0,0,0],[0,3,0,1,2,2,0],[0,3,0,17,2,0,1],[0,3,5,5,4,1,0],[0,3,21,21,4,0,1],[0,3,5,5,4,2,0]],r=[[2,0,1,1,0,1,0],[2,0,1,1,0,2,0],[2,0,2,1,3,2,0],[2,0,2,33,3,1,1]],i=0,t=1,e=0,n=1,a=2,c=3,d=4,k=5,v=6,p=7,u=8,m=9,E=10,S=11,$=12,R=13,g=14,w=15,l=16,_=17,L=18,I=[L,L,L,L,L,L,L,L,L,v,k,v,u,k,L,L,L,L,L,L,L,L,L,L,L,L,L,L,k,k,k,v,u,d,d,S,S,S,d,d,d,d,d,E,m,E,m,m,a,a,a,a,a,a,a,a,a,a,m,d,d,d,d,d,d,e,e,e,e,e,e,e,e,e,e,e,e,e,e,e,e,e,e,e,e,e,e,e,e,e,e,d,d,d,d,d,d,e,e,e,e,e,e,e,e,e,e,e,e,e,e,e,e,e,e,e,e,e,e,e,e,e,e,d,d,d,d,L,L,L,L,L,L,k,L,L,L,L,L,L,L,L,L,L,L,L,L,L,L,L,L,L,L,L,L,L,L,L,L,L,m,d,S,S,S,S,d,d,d,d,e,d,d,L,d,d,S,S,a,a,d,e,d,d,d,a,e,d,d,d,d,d],W=[u,u,u,u,u,u,u,u,u,u,u,L,L,L,e,n,d,d,d,d,d,d,d,d,d,d,d,d,d,d,d,d,d,d,d,d,d,d,d,d,u,k,R,g,w,l,_,m,S,S,S,S,S,d,d,d,d,d,d,d,d,d,d,d,d,d,d,d,m,d,d,d,d,d,d,d,d,d,d,d,d,d,d,d,d,d,d,d,d,d,d,d,d,d,d,u];function H(oe,ee,se,fe){var Ce=M?r:o,Se=null,$e=null,xe=null,Pe=0,ze=null,Je=null,F=-1,be=null,he=null,ae=[];if(!fe)for(be=0,fe=[];be<se;be++)fe[be]=Z(oe[be]);for(A=M,y=!1,s=!1,h=!1,he=0;he<se;he++){if(Se=Pe,ae[he]=$e=q(oe,fe,ae,he),Pe=Ce[Se][$e],ze=Pe&240,Pe&=15,ee[he]=xe=Ce[Pe][5],ze>0)if(ze==16){for(be=F;be<he;be++)ee[be]=1;F=-1}else F=-1;if(Je=Ce[Pe][6],Je)F==-1&&(F=he);else if(F>-1){for(be=F;be<he;be++)ee[be]=xe;F=-1}fe[he]==k&&(ee[he]=0),A|=xe}if(h){for(be=0;be<se;be++)if(fe[be]==v){ee[be]=M;for(var ne=be-1;ne>=0&&fe[ne]==u;ne--)ee[ne]=M}}}function J(oe,ee,se){if(!(A<oe)){if(oe==1&&M==t&&!s){se.reverse();return}for(var fe=se.length,Ce=0,Se,$e,xe,Pe;Ce<fe;){if(ee[Ce]>=oe){for(Se=Ce+1;Se<fe&&ee[Se]>=oe;)Se++;for($e=Ce,xe=Se-1;$e<xe;$e++,xe--)Pe=se[$e],se[$e]=se[xe],se[xe]=Pe;Ce=Se}Ce++}}}function q(oe,ee,se,fe){var Ce=ee[fe],Se,$e,xe,Pe;switch(Ce){case e:case n:y=!1;case d:case c:return Ce;case a:return y?c:a;case p:return y=!0,n;case u:return d;case m:return fe<1||fe+1>=ee.length||(Se=se[fe-1])!=a&&Se!=c||($e=ee[fe+1])!=a&&$e!=c?d:(y&&($e=c),$e==Se?$e:d);case E:return Se=fe>0?se[fe-1]:k,Se==a&&fe+1<ee.length&&ee[fe+1]==a?a:d;case S:if(fe>0&&se[fe-1]==a)return a;if(y)return d;for(Pe=fe+1,xe=ee.length;Pe<xe&&ee[Pe]==S;)Pe++;return Pe<xe&&ee[Pe]==a?a:d;case $:for(xe=ee.length,Pe=fe+1;Pe<xe&&ee[Pe]==$;)Pe++;if(Pe<xe){var ze=oe[fe],Je=ze>=1425&&ze<=2303||ze==64286;if(Se=ee[Pe],Je&&(Se==n||Se==p))return n}return fe<1||(Se=ee[fe-1])==k?d:se[fe-1];case k:return y=!1,s=!0,M;case v:return h=!0,d;case R:case g:case l:case _:case w:y=!1;case L:return d}}function Z(oe){var ee=oe.charCodeAt(0),se=ee>>8;return se==0?ee>191?e:I[ee]:se==5?/[\u0591-\u05f4]/.test(oe)?n:e:se==6?/[\u0610-\u061a\u064b-\u065f\u06d6-\u06e4\u06e7-\u06ed]/.test(oe)?$:/[\u0660-\u0669\u066b-\u066c]/.test(oe)?c:ee==1642?S:/[\u06f0-\u06f9]/.test(oe)?a:p:se==32&&ee<=8287?W[ee&255]:se==254&&ee>=65136?p:d}D.L=e,D.R=n,D.EN=a,D.ON_R=3,D.AN=4,D.R_H=5,D.B=6,D.RLE=7,D.DOT="",D.doBidiReorder=function(oe,ee,se){if(oe.length<2)return{};var fe=oe.split(""),Ce=new Array(fe.length),Se=new Array(fe.length),$e=[];M=se?t:i,H(fe,$e,fe.length,ee);for(var xe=0;xe<Ce.length;Ce[xe]=xe,xe++);J(2,$e,Ce),J(1,$e,Ce);for(var xe=0;xe<Ce.length-1;xe++)ee[xe]===c?$e[xe]=D.AN:$e[xe]===n&&(ee[xe]>p&&ee[xe]<R||ee[xe]===d||ee[xe]===L)?$e[xe]=D.ON_R:xe>0&&fe[xe-1]===""&&/\u0622|\u0623|\u0625|\u0627/.test(fe[xe])&&($e[xe-1]=$e[xe]=D.R_H,xe++);fe[fe.length-1]===D.DOT&&($e[fe.length-1]=D.B),fe[0]===""&&($e[0]=D.RLE);for(var xe=0;xe<Ce.length;xe++)Se[xe]=$e[Ce[xe]];return{logicalFromVisual:Ce,bidiLevels:Se}},D.hasBidiCharacters=function(oe,ee){for(var se=!1,fe=0;fe<oe.length;fe++)ee[fe]=Z(oe.charAt(fe)),!se&&(ee[fe]==n||ee[fe]==p||ee[fe]==c)&&(se=!0);return se},D.getVisualFromLogicalIdx=function(oe,ee){for(var se=0;se<ee.logicalFromVisual.length;se++)if(ee.logicalFromVisual[se]==oe)return se;return 0}}),ace.define("ace/bidihandler",["require","exports","module","ace/lib/bidiutil","ace/lib/lang"],function(f,D,z){var M=f("./lib/bidiutil"),A=f("./lib/lang"),y=/[\u0590-\u05f4\u0600-\u06ff\u0700-\u08ac\u202B]/,s=function(){function h(o){this.session=o,this.bidiMap={},this.currentRow=null,this.bidiUtil=M,this.charWidths=[],this.EOL="",this.showInvisibles=!0,this.isRtlDir=!1,this.$isRtl=!1,this.line="",this.wrapIndent=0,this.EOF="",this.RLE="",this.contentWidth=0,this.fontMetrics=null,this.rtlLineOffset=0,this.wrapOffset=0,this.isMoveLeftOperation=!1,this.seenBidi=y.test(o.getValue())}return h.prototype.isBidiRow=function(o,r,i){return this.seenBidi?(o!==this.currentRow&&(this.currentRow=o,this.updateRowLine(r,i),this.updateBidiMap()),this.bidiMap.bidiLevels):!1},h.prototype.onChange=function(o){this.seenBidi?this.currentRow=null:o.action=="insert"&&y.test(o.lines.join(`
`))&&(this.seenBidi=!0,this.currentRow=null)},h.prototype.getDocumentRow=function(){var o=0,r=this.session.$screenRowCache;if(r.length){var i=this.session.$getRowCacheIndex(r,this.currentRow);i>=0&&(o=this.session.$docRowCache[i])}return o},h.prototype.getSplitIndex=function(){var o=0,r=this.session.$screenRowCache;if(r.length)for(var i,t=this.session.$getRowCacheIndex(r,this.currentRow);this.currentRow-o>0&&(i=this.session.$getRowCacheIndex(r,this.currentRow-o-1),i===t);)t=i,o++;else o=this.currentRow;return o},h.prototype.updateRowLine=function(o,r){o===void 0&&(o=this.getDocumentRow());var i=o===this.session.getLength()-1,t=i?this.EOF:this.EOL;if(this.wrapIndent=0,this.line=this.session.getLine(o),this.isRtlDir=this.$isRtl||this.line.charAt(0)===this.RLE,this.session.$useWrapMode){var e=this.session.$wrapData[o];e&&(r===void 0&&(r=this.getSplitIndex()),r>0&&e.length?(this.wrapIndent=e.indent,this.wrapOffset=this.wrapIndent*this.charWidths[M.L],this.line=r<e.length?this.line.substring(e[r-1],e[r]):this.line.substring(e[e.length-1])):this.line=this.line.substring(0,e[r]),r==e.length&&(this.line+=this.showInvisibles?t:M.DOT))}else this.line+=this.showInvisibles?t:M.DOT;var n=this.session,a=0,c;this.line=this.line.replace(/\t|[\u1100-\u2029, \u202F-\uFFE6]/g,function(d,k){return d==="	"||n.isFullWidth(d.charCodeAt(0))?(c=d==="	"?n.getScreenTabSize(k+a):2,a+=c-1,A.stringRepeat(M.DOT,c)):d}),this.isRtlDir&&(this.fontMetrics.$main.textContent=this.line.charAt(this.line.length-1)==M.DOT?this.line.substr(0,this.line.length-1):this.line,this.rtlLineOffset=this.contentWidth-this.fontMetrics.$main.getBoundingClientRect().width)},h.prototype.updateBidiMap=function(){var o=[];M.hasBidiCharacters(this.line,o)||this.isRtlDir?this.bidiMap=M.doBidiReorder(this.line,o,this.isRtlDir):this.bidiMap={}},h.prototype.markAsDirty=function(){this.currentRow=null},h.prototype.updateCharacterWidths=function(o){if(this.characterWidth!==o.$characterSize.width){this.fontMetrics=o;var r=this.characterWidth=o.$characterSize.width,i=o.$measureCharWidth("");this.charWidths[M.L]=this.charWidths[M.EN]=this.charWidths[M.ON_R]=r,this.charWidths[M.R]=this.charWidths[M.AN]=i,this.charWidths[M.R_H]=i*.45,this.charWidths[M.B]=this.charWidths[M.RLE]=0,this.currentRow=null}},h.prototype.setShowInvisibles=function(o){this.showInvisibles=o,this.currentRow=null},h.prototype.setEolChar=function(o){this.EOL=o},h.prototype.setContentWidth=function(o){this.contentWidth=o},h.prototype.isRtlLine=function(o){return this.$isRtl?!0:o!=null?this.session.getLine(o).charAt(0)==this.RLE:this.isRtlDir},h.prototype.setRtlDirection=function(o,r){for(var i=o.getCursorPosition(),t=o.selection.getSelectionAnchor().row;t<=i.row;t++)!r&&o.session.getLine(t).charAt(0)===o.session.$bidiHandler.RLE?o.session.doc.removeInLine(t,0,1):r&&o.session.getLine(t).charAt(0)!==o.session.$bidiHandler.RLE&&o.session.doc.insert({column:0,row:t},o.session.$bidiHandler.RLE)},h.prototype.getPosLeft=function(o){o-=this.wrapIndent;var r=this.line.charAt(0)===this.RLE?1:0,i=o>r?this.session.getOverwrite()?o:o-1:r,t=M.getVisualFromLogicalIdx(i,this.bidiMap),e=this.bidiMap.bidiLevels,n=0;!this.session.getOverwrite()&&o<=r&&e[t]%2!==0&&t++;for(var a=0;a<t;a++)n+=this.charWidths[e[a]];return!this.session.getOverwrite()&&o>r&&e[t]%2===0&&(n+=this.charWidths[e[t]]),this.wrapIndent&&(n+=this.isRtlDir?-1*this.wrapOffset:this.wrapOffset),this.isRtlDir&&(n+=this.rtlLineOffset),n},h.prototype.getSelections=function(o,r){var i=this.bidiMap,t=i.bidiLevels,e,n=[],a=0,c=Math.min(o,r)-this.wrapIndent,d=Math.max(o,r)-this.wrapIndent,k=!1,v=!1,p=0;this.wrapIndent&&(a+=this.isRtlDir?-1*this.wrapOffset:this.wrapOffset);for(var u,m=0;m<t.length;m++)u=i.logicalFromVisual[m],e=t[m],k=u>=c&&u<d,k&&!v?p=a:!k&&v&&n.push({left:p,width:a-p}),a+=this.charWidths[e],v=k;if(k&&m===t.length&&n.push({left:p,width:a-p}),this.isRtlDir)for(var E=0;E<n.length;E++)n[E].left+=this.rtlLineOffset;return n},h.prototype.offsetToCol=function(i){this.isRtlDir&&(i-=this.rtlLineOffset);var r=0,i=Math.max(i,0),t=0,e=0,n=this.bidiMap.bidiLevels,a=this.charWidths[n[e]];for(this.wrapIndent&&(i-=this.isRtlDir?-1*this.wrapOffset:this.wrapOffset);i>t+a/2;){if(t+=a,e===n.length-1){a=0;break}a=this.charWidths[n[++e]]}return e>0&&n[e-1]%2!==0&&n[e]%2===0?(i<t&&e--,r=this.bidiMap.logicalFromVisual[e]):e>0&&n[e-1]%2===0&&n[e]%2!==0?r=1+(i>t?this.bidiMap.logicalFromVisual[e]:this.bidiMap.logicalFromVisual[e-1]):this.isRtlDir&&e===n.length-1&&a===0&&n[e-1]%2===0||!this.isRtlDir&&e===0&&n[e]%2!==0?r=1+this.bidiMap.logicalFromVisual[e]:(e>0&&n[e-1]%2!==0&&a!==0&&e--,r=this.bidiMap.logicalFromVisual[e]),r===0&&this.isRtlDir&&r++,r+this.wrapIndent},h}();D.BidiHandler=s}),ace.define("ace/selection",["require","exports","module","ace/lib/oop","ace/lib/lang","ace/lib/event_emitter","ace/range"],function(f,D,z){var M=f("./lib/oop"),A=f("./lib/lang"),y=f("./lib/event_emitter").EventEmitter,s=f("./range").Range,h=function(){function o(r){this.session=r,this.doc=r.getDocument(),this.clearSelection(),this.cursor=this.lead=this.doc.createAnchor(0,0),this.anchor=this.doc.createAnchor(0,0),this.$silent=!1;var i=this;this.cursor.on("change",function(t){i.$cursorChanged=!0,i.$silent||i._emit("changeCursor"),!i.$isEmpty&&!i.$silent&&i._emit("changeSelection"),!i.$keepDesiredColumnOnChange&&t.old.column!=t.value.column&&(i.$desiredColumn=null)}),this.anchor.on("change",function(){i.$anchorChanged=!0,!i.$isEmpty&&!i.$silent&&i._emit("changeSelection")})}return o.prototype.isEmpty=function(){return this.$isEmpty||this.anchor.row==this.lead.row&&this.anchor.column==this.lead.column},o.prototype.isMultiLine=function(){return!this.$isEmpty&&this.anchor.row!=this.cursor.row},o.prototype.getCursor=function(){return this.lead.getPosition()},o.prototype.setAnchor=function(r,i){this.$isEmpty=!1,this.anchor.setPosition(r,i)},o.prototype.getAnchor=function(){return this.$isEmpty?this.getSelectionLead():this.anchor.getPosition()},o.prototype.getSelectionLead=function(){return this.lead.getPosition()},o.prototype.isBackwards=function(){var r=this.anchor,i=this.lead;return r.row>i.row||r.row==i.row&&r.column>i.column},o.prototype.getRange=function(){var r=this.anchor,i=this.lead;return this.$isEmpty?s.fromPoints(i,i):this.isBackwards()?s.fromPoints(i,r):s.fromPoints(r,i)},o.prototype.clearSelection=function(){this.$isEmpty||(this.$isEmpty=!0,this._emit("changeSelection"))},o.prototype.selectAll=function(){this.$setSelection(0,0,Number.MAX_VALUE,Number.MAX_VALUE)},o.prototype.setRange=function(r,i){var t=i?r.end:r.start,e=i?r.start:r.end;this.$setSelection(t.row,t.column,e.row,e.column)},o.prototype.$setSelection=function(r,i,t,e){if(!this.$silent){var n=this.$isEmpty,a=this.inMultiSelectMode;this.$silent=!0,this.$cursorChanged=this.$anchorChanged=!1,this.anchor.setPosition(r,i),this.cursor.setPosition(t,e),this.$isEmpty=!s.comparePoints(this.anchor,this.cursor),this.$silent=!1,this.$cursorChanged&&this._emit("changeCursor"),(this.$cursorChanged||this.$anchorChanged||n!=this.$isEmpty||a)&&this._emit("changeSelection")}},o.prototype.$moveSelection=function(r){var i=this.lead;this.$isEmpty&&this.setSelectionAnchor(i.row,i.column),r.call(this)},o.prototype.selectTo=function(r,i){this.$moveSelection(function(){this.moveCursorTo(r,i)})},o.prototype.selectToPosition=function(r){this.$moveSelection(function(){this.moveCursorToPosition(r)})},o.prototype.moveTo=function(r,i){this.clearSelection(),this.moveCursorTo(r,i)},o.prototype.moveToPosition=function(r){this.clearSelection(),this.moveCursorToPosition(r)},o.prototype.selectUp=function(){this.$moveSelection(this.moveCursorUp)},o.prototype.selectDown=function(){this.$moveSelection(this.moveCursorDown)},o.prototype.selectRight=function(){this.$moveSelection(this.moveCursorRight)},o.prototype.selectLeft=function(){this.$moveSelection(this.moveCursorLeft)},o.prototype.selectLineStart=function(){this.$moveSelection(this.moveCursorLineStart)},o.prototype.selectLineEnd=function(){this.$moveSelection(this.moveCursorLineEnd)},o.prototype.selectFileEnd=function(){this.$moveSelection(this.moveCursorFileEnd)},o.prototype.selectFileStart=function(){this.$moveSelection(this.moveCursorFileStart)},o.prototype.selectWordRight=function(){this.$moveSelection(this.moveCursorWordRight)},o.prototype.selectWordLeft=function(){this.$moveSelection(this.moveCursorWordLeft)},o.prototype.getWordRange=function(r,i){if(typeof i>"u"){var t=r||this.lead;r=t.row,i=t.column}return this.session.getWordRange(r,i)},o.prototype.selectWord=function(){this.setSelectionRange(this.getWordRange())},o.prototype.selectAWord=function(){var r=this.getCursor(),i=this.session.getAWordRange(r.row,r.column);this.setSelectionRange(i)},o.prototype.getLineRange=function(r,i){var t=typeof r=="number"?r:this.lead.row,e,n=this.session.getFoldLine(t);return n?(t=n.start.row,e=n.end.row):e=t,i===!0?new s(t,0,e,this.session.getLine(e).length):new s(t,0,e+1,0)},o.prototype.selectLine=function(){this.setSelectionRange(this.getLineRange())},o.prototype.moveCursorUp=function(){this.moveCursorBy(-1,0)},o.prototype.moveCursorDown=function(){this.moveCursorBy(1,0)},o.prototype.wouldMoveIntoSoftTab=function(r,i,t){var e=r.column,n=r.column+i;return t<0&&(e=r.column-i,n=r.column),this.session.isTabStop(r)&&this.doc.getLine(r.row).slice(e,n).split(" ").length-1==i},o.prototype.moveCursorLeft=function(){var r=this.lead.getPosition(),i;if(i=this.session.getFoldAt(r.row,r.column,-1))this.moveCursorTo(i.start.row,i.start.column);else if(r.column===0)r.row>0&&this.moveCursorTo(r.row-1,this.doc.getLine(r.row-1).length);else{var t=this.session.getTabSize();this.wouldMoveIntoSoftTab(r,t,-1)&&!this.session.getNavigateWithinSoftTabs()?this.moveCursorBy(0,-t):this.moveCursorBy(0,-1)}},o.prototype.moveCursorRight=function(){var r=this.lead.getPosition(),i;if(i=this.session.getFoldAt(r.row,r.column,1))this.moveCursorTo(i.end.row,i.end.column);else if(this.lead.column==this.doc.getLine(this.lead.row).length)this.lead.row<this.doc.getLength()-1&&this.moveCursorTo(this.lead.row+1,0);else{var t=this.session.getTabSize(),r=this.lead;this.wouldMoveIntoSoftTab(r,t,1)&&!this.session.getNavigateWithinSoftTabs()?this.moveCursorBy(0,t):this.moveCursorBy(0,1)}},o.prototype.moveCursorLineStart=function(){var r=this.lead.row,i=this.lead.column,t=this.session.documentToScreenRow(r,i),e=this.session.screenToDocumentPosition(t,0),n=this.session.getDisplayLine(r,null,e.row,e.column),a=n.match(/^\s*/);a[0].length!=i&&!this.session.$useEmacsStyleLineStart&&(e.column+=a[0].length),this.moveCursorToPosition(e)},o.prototype.moveCursorLineEnd=function(){var r=this.lead,i=this.session.getDocumentLastRowColumnPosition(r.row,r.column);if(this.lead.column==i.column){var t=this.session.getLine(i.row);if(i.column==t.length){var e=t.search(/\s+$/);e>0&&(i.column=e)}}this.moveCursorTo(i.row,i.column)},o.prototype.moveCursorFileEnd=function(){var r=this.doc.getLength()-1,i=this.doc.getLine(r).length;this.moveCursorTo(r,i)},o.prototype.moveCursorFileStart=function(){this.moveCursorTo(0,0)},o.prototype.moveCursorLongWordRight=function(){var r=this.lead.row,i=this.lead.column,t=this.doc.getLine(r),e=t.substring(i);this.session.nonTokenRe.lastIndex=0,this.session.tokenRe.lastIndex=0;var n=this.session.getFoldAt(r,i,1);if(n){this.moveCursorTo(n.end.row,n.end.column);return}if(this.session.nonTokenRe.exec(e)&&(i+=this.session.nonTokenRe.lastIndex,this.session.nonTokenRe.lastIndex=0,e=t.substring(i)),i>=t.length){this.moveCursorTo(r,t.length),this.moveCursorRight(),r<this.doc.getLength()-1&&this.moveCursorWordRight();return}this.session.tokenRe.exec(e)&&(i+=this.session.tokenRe.lastIndex,this.session.tokenRe.lastIndex=0),this.moveCursorTo(r,i)},o.prototype.moveCursorLongWordLeft=function(){var r=this.lead.row,i=this.lead.column,t;if(t=this.session.getFoldAt(r,i,-1)){this.moveCursorTo(t.start.row,t.start.column);return}var e=this.session.getFoldStringAt(r,i,-1);e==null&&(e=this.doc.getLine(r).substring(0,i));var n=A.stringReverse(e);if(this.session.nonTokenRe.lastIndex=0,this.session.tokenRe.lastIndex=0,this.session.nonTokenRe.exec(n)&&(i-=this.session.nonTokenRe.lastIndex,n=n.slice(this.session.nonTokenRe.lastIndex),this.session.nonTokenRe.lastIndex=0),i<=0){this.moveCursorTo(r,0),this.moveCursorLeft(),r>0&&this.moveCursorWordLeft();return}this.session.tokenRe.exec(n)&&(i-=this.session.tokenRe.lastIndex,this.session.tokenRe.lastIndex=0),this.moveCursorTo(r,i)},o.prototype.$shortWordEndIndex=function(r){var i=0,t,e=/\s/,n=this.session.tokenRe;if(n.lastIndex=0,this.session.tokenRe.exec(r))i=this.session.tokenRe.lastIndex;else{for(;(t=r[i])&&e.test(t);)i++;if(i<1){for(n.lastIndex=0;(t=r[i])&&!n.test(t);)if(n.lastIndex=0,i++,e.test(t))if(i>2){i--;break}else{for(;(t=r[i])&&e.test(t);)i++;if(i>2)break}}}return n.lastIndex=0,i},o.prototype.moveCursorShortWordRight=function(){var r=this.lead.row,i=this.lead.column,t=this.doc.getLine(r),e=t.substring(i),n=this.session.getFoldAt(r,i,1);if(n)return this.moveCursorTo(n.end.row,n.end.column);if(i==t.length){var a=this.doc.getLength();do r++,e=this.doc.getLine(r);while(r<a&&/^\s*$/.test(e));/^\s+/.test(e)||(e=""),i=0}var c=this.$shortWordEndIndex(e);this.moveCursorTo(r,i+c)},o.prototype.moveCursorShortWordLeft=function(){var r=this.lead.row,i=this.lead.column,t;if(t=this.session.getFoldAt(r,i,-1))return this.moveCursorTo(t.start.row,t.start.column);var e=this.session.getLine(r).substring(0,i);if(i===0){do r--,e=this.doc.getLine(r);while(r>0&&/^\s*$/.test(e));i=e.length,/\s+$/.test(e)||(e="")}var n=A.stringReverse(e),a=this.$shortWordEndIndex(n);return this.moveCursorTo(r,i-a)},o.prototype.moveCursorWordRight=function(){this.session.$selectLongWords?this.moveCursorLongWordRight():this.moveCursorShortWordRight()},o.prototype.moveCursorWordLeft=function(){this.session.$selectLongWords?this.moveCursorLongWordLeft():this.moveCursorShortWordLeft()},o.prototype.moveCursorBy=function(r,i){var t=this.session.documentToScreenPosition(this.lead.row,this.lead.column),e;if(i===0&&(r!==0&&(this.session.$bidiHandler.isBidiRow(t.row,this.lead.row)?(e=this.session.$bidiHandler.getPosLeft(t.column),t.column=Math.round(e/this.session.$bidiHandler.charWidths[0])):e=t.column*this.session.$bidiHandler.charWidths[0]),this.$desiredColumn?t.column=this.$desiredColumn:this.$desiredColumn=t.column),r!=0&&this.session.lineWidgets&&this.session.lineWidgets[this.lead.row]){var n=this.session.lineWidgets[this.lead.row];r<0?r-=n.rowsAbove||0:r>0&&(r+=n.rowCount-(n.rowsAbove||0))}var a=this.session.screenToDocumentPosition(t.row+r,t.column,e);r!==0&&i===0&&a.row===this.lead.row&&(a.column,this.lead.column),this.moveCursorTo(a.row,a.column+i,i===0)},o.prototype.moveCursorToPosition=function(r){this.moveCursorTo(r.row,r.column)},o.prototype.moveCursorTo=function(r,i,t){var e=this.session.getFoldAt(r,i,1);e&&(r=e.start.row,i=e.start.column),this.$keepDesiredColumnOnChange=!0;var n=this.session.getLine(r);/[\uDC00-\uDFFF]/.test(n.charAt(i))&&n.charAt(i-1)&&(this.lead.row==r&&this.lead.column==i+1?i=i-1:i=i+1),this.lead.setPosition(r,i),this.$keepDesiredColumnOnChange=!1,t||(this.$desiredColumn=null)},o.prototype.moveCursorToScreen=function(r,i,t){var e=this.session.screenToDocumentPosition(r,i);this.moveCursorTo(e.row,e.column,t)},o.prototype.detach=function(){this.lead.detach(),this.anchor.detach()},o.prototype.fromOrientedRange=function(r){this.setSelectionRange(r,r.cursor==r.start),this.$desiredColumn=r.desiredColumn||this.$desiredColumn},o.prototype.toOrientedRange=function(r){var i=this.getRange();return r?(r.start.column=i.start.column,r.start.row=i.start.row,r.end.column=i.end.column,r.end.row=i.end.row):r=i,r.cursor=this.isBackwards()?r.start:r.end,r.desiredColumn=this.$desiredColumn,r},o.prototype.getRangeOfMovements=function(r){var i=this.getCursor();try{r(this);var t=this.getCursor();return s.fromPoints(i,t)}catch{return s.fromPoints(i,i)}finally{this.moveCursorToPosition(i)}},o.prototype.toJSON=function(){if(this.rangeCount)var r=this.ranges.map(function(i){var t=i.clone();return t.isBackwards=i.cursor==i.start,t});else{var r=this.getRange();r.isBackwards=this.isBackwards()}return r},o.prototype.fromJSON=function(r){if(r.start==null)if(this.rangeList&&r.length>1){this.toSingleRange(r[0]);for(var i=r.length;i--;){var t=s.fromPoints(r[i].start,r[i].end);r[i].isBackwards&&(t.cursor=t.start),this.addRange(t,!0)}return}else r=r[0];this.rangeList&&this.toSingleRange(r),this.setSelectionRange(r,r.isBackwards)},o.prototype.isEqual=function(r){if((r.length||this.rangeCount)&&r.length!=this.rangeCount)return!1;if(!r.length||!this.ranges)return this.getRange().isEqual(r);for(var i=this.ranges.length;i--;)if(!this.ranges[i].isEqual(r[i]))return!1;return!0},o}();h.prototype.setSelectionAnchor=h.prototype.setAnchor,h.prototype.getSelectionAnchor=h.prototype.getAnchor,h.prototype.setSelectionRange=h.prototype.setRange,M.implement(h.prototype,y),D.Selection=h}),ace.define("ace/tokenizer",["require","exports","module","ace/lib/report_error"],function(f,D,z){var M=f("./lib/report_error").reportError,A=2e3,y=function(){function s(h){this.splitRegex,this.states=h,this.regExps={},this.matchMappings={};for(var o in this.states){for(var r=this.states[o],i=[],t=0,e=this.matchMappings[o]={defaultToken:"text"},n="g",a=[],c=0;c<r.length;c++){var d=r[c];if(d.defaultToken&&(e.defaultToken=d.defaultToken),d.caseInsensitive&&n.indexOf("i")===-1&&(n+="i"),d.unicode&&n.indexOf("u")===-1&&(n+="u"),d.regex!=null){d.regex instanceof RegExp&&(d.regex=d.regex.toString().slice(1,-1));var k=d.regex,v=new RegExp("(?:("+k+")|(.))").exec("a").length-2;Array.isArray(d.token)?d.token.length==1||v==1?d.token=d.token[0]:v-1!=d.token.length?(this.reportError("number of classes and regexp groups doesn't match",{rule:d,groupCount:v-1}),d.token=d.token[0]):(d.tokenArray=d.token,d.token=null,d.onMatch=this.$arrayTokens):typeof d.token=="function"&&!d.onMatch&&(v>1?d.onMatch=this.$applyToken:d.onMatch=d.token),v>1&&(/\\\d/.test(d.regex)?k=d.regex.replace(/\\([0-9]+)/g,function(p,u){return"\\"+(parseInt(u,10)+t+1)}):(v=1,k=this.removeCapturingGroups(d.regex)),!d.splitRegex&&typeof d.token!="string"&&a.push(d)),e[t]=c,t+=v,i.push(k),d.onMatch||(d.onMatch=null)}}i.length||(e[0]=0,i.push("$")),a.forEach(function(p){p.splitRegex=this.createSplitterRegexp(p.regex,n)},this),this.regExps[o]=new RegExp("("+i.join(")|(")+")|($)",n)}}return s.prototype.$setMaxTokenCount=function(h){A=h|0},s.prototype.$applyToken=function(h){var o=this.splitRegex.exec(h).slice(1),r=this.token.apply(this,o);if(typeof r=="string")return[{type:r,value:h}];for(var i=[],t=0,e=r.length;t<e;t++)o[t]&&(i[i.length]={type:r[t],value:o[t]});return i},s.prototype.$arrayTokens=function(h){if(!h)return[];var o=this.splitRegex.exec(h);if(!o)return"text";for(var r=[],i=this.tokenArray,t=0,e=i.length;t<e;t++)o[t+1]&&(r[r.length]={type:i[t],value:o[t+1]});return r},s.prototype.removeCapturingGroups=function(h){var o=h.replace(/\\.|\[(?:\\.|[^\\\]])*|\(\?[:=!<]|(\()/g,function(r,i){return i?"(?:":r});return o},s.prototype.createSplitterRegexp=function(h,o){if(h.indexOf("(?=")!=-1){var r=0,i=!1,t={};h.replace(/(\\.)|(\((?:\?[=!])?)|(\))|([\[\]])/g,function(e,n,a,c,d,k){return i?i=d!="]":d?i=!0:c?(r==t.stack&&(t.end=k+1,t.stack=-1),r--):a&&(r++,a.length!=1&&(t.stack=r,t.start=k)),e}),t.end!=null&&/^\)*$/.test(h.substr(t.end))&&(h=h.substring(0,t.start)+h.substr(t.end))}return h.charAt(0)!="^"&&(h="^"+h),h.charAt(h.length-1)!="$"&&(h+="$"),new RegExp(h,(o||"").replace("g",""))},s.prototype.getLineTokens=function(h,o){if(o&&typeof o!="string"){var r=o.slice(0);o=r[0],o==="#tmp"&&(r.shift(),o=r.shift())}else var r=[];var i=o||"start",t=this.states[i];t||(i="start",t=this.states[i]);var e=this.matchMappings[i],n=this.regExps[i];n.lastIndex=0;for(var a,c=[],d=0,k=0,v={type:null,value:""};a=n.exec(h);){var p=e.defaultToken,u=null,m=a[0],E=n.lastIndex;if(E-m.length>d){var S=h.substring(d,E-m.length);v.type==p?v.value+=S:(v.type&&c.push(v),v={type:p,value:S})}for(var $=0;$<a.length-2;$++)if(a[$+1]!==void 0){u=t[e[$]],u.onMatch?p=u.onMatch(m,i,r,h):p=u.token,u.next&&(typeof u.next=="string"?i=u.next:i=u.next(i,r),t=this.states[i],t||(this.reportError("state doesn't exist",i),i="start",t=this.states[i]),e=this.matchMappings[i],d=E,n=this.regExps[i],n.lastIndex=E),u.consumeLineEnd&&(d=E);break}if(m){if(typeof p=="string")(!u||u.merge!==!1)&&v.type===p?v.value+=m:(v.type&&c.push(v),v={type:p,value:m});else if(p){v.type&&c.push(v),v={type:null,value:""};for(var $=0;$<p.length;$++)c.push(p[$])}}if(d==h.length)break;if(d=E,k++>A){for(k>2*h.length&&this.reportError("infinite loop with in ace tokenizer",{startState:o,line:h});d<h.length;)v.type&&c.push(v),v={value:h.substring(d,d+=500),type:"overflow"};i="start",r=[];break}}return v.type&&c.push(v),r.length>1&&r[0]!==i&&r.unshift("#tmp",i),{tokens:c,state:r.length?r:i}},s}();y.prototype.reportError=M,D.Tokenizer=y}),ace.define("ace/mode/text_highlight_rules",["require","exports","module","ace/lib/deep_copy"],function(f,D,z){var M=f("../lib/deep_copy").deepCopy,A;A=function(){this.$rules={start:[{token:"empty_line",regex:"^$"},{defaultToken:"text"}]}},(function(){this.addRules=function(h,o){if(!o){for(var r in h)this.$rules[r]=h[r];return}for(var r in h){for(var i=h[r],t=0;t<i.length;t++){var e=i[t];(e.next||e.onMatch)&&(typeof e.next=="string"&&e.next.indexOf(o)!==0&&(e.next=o+e.next),e.nextState&&e.nextState.indexOf(o)!==0&&(e.nextState=o+e.nextState))}this.$rules[o+r]=i}},this.getRules=function(){return this.$rules},this.embedRules=function(h,o,r,i,t){var e=typeof h=="function"?new h().getRules():h;if(i)for(var n=0;n<i.length;n++)i[n]=o+i[n];else{i=[];for(var a in e)i.push(o+a)}if(this.addRules(e,o),r)for(var c=Array.prototype[t?"push":"unshift"],n=0;n<i.length;n++)c.apply(this.$rules[i[n]],M(r));this.$embeds||(this.$embeds=[]),this.$embeds.push(o)},this.getEmbeds=function(){return this.$embeds};var y=function(h,o){return(h!="start"||o.length)&&o.unshift(this.nextState,h),this.nextState},s=function(h,o){return o.shift(),o.shift()||"start"};this.normalizeRules=function(){var h=0,o=this.$rules;function r(i){var t=o[i];t.processed=!0;for(var e=0;e<t.length;e++){var n=t[e],a=null;Array.isArray(n)&&(a=n,n={}),!n.regex&&n.start&&(n.regex=n.start,n.next||(n.next=[]),n.next.push({defaultToken:n.token},{token:n.token+".end",regex:n.end||n.start,next:"pop"}),n.token=n.token+".start",n.push=!0);var c=n.next||n.push;if(c&&Array.isArray(c)){var d=n.stateName;d||(d=n.token,typeof d!="string"&&(d=d[0]||""),o[d]&&(d+=h++)),o[d]=c,n.next=d,r(d)}else c=="pop"&&(n.next=s);if(n.push&&(n.nextState=n.next||n.push,n.next=y,delete n.push),n.rules)for(var k in n.rules)o[k]?o[k].push&&o[k].push.apply(o[k],n.rules[k]):o[k]=n.rules[k];var v=typeof n=="string"?n:n.include;if(v&&(v==="$self"&&(v="start"),Array.isArray(v)?a=v.map(function(u){return o[u]}):a=o[v]),a){var p=[e,1].concat(a);n.noEscape&&(p=p.filter(function(u){return!u.next})),t.splice.apply(t,p),e--}n.keywordMap&&(n.token=this.createKeywordMapper(n.keywordMap,n.defaultToken||"text",n.caseInsensitive),delete n.defaultToken)}}Object.keys(o).forEach(r,this)},this.createKeywordMapper=function(h,o,r,i){var t=Object.create(null);return this.$keywordList=[],Object.keys(h).forEach(function(e){for(var n=h[e],a=n.split(i||"|"),c=a.length;c--;){var d=a[c];this.$keywordList.push(d),r&&(d=d.toLowerCase()),t[d]=e}},this),h=null,r?function(e){return t[e.toLowerCase()]||o}:function(e){return t[e]||o}},this.getKeywords=function(){return this.$keywords}}).call(A.prototype),D.TextHighlightRules=A}),ace.define("ace/mode/behaviour",["require","exports","module"],function(f,D,z){var M;M=function(){this.$behaviours={}},(function(){this.add=function(A,y,s){switch(void 0){case this.$behaviours:this.$behaviours={};case this.$behaviours[A]:this.$behaviours[A]={}}this.$behaviours[A][y]=s},this.addBehaviours=function(A){for(var y in A)for(var s in A[y])this.add(y,s,A[y][s])},this.remove=function(A){this.$behaviours&&this.$behaviours[A]&&delete this.$behaviours[A]},this.inherit=function(A,y){if(typeof A=="function")var s=new A().getBehaviours(y);else var s=A.getBehaviours(y);this.addBehaviours(s)},this.getBehaviours=function(A){if(A){for(var y={},s=0;s<A.length;s++)this.$behaviours[A[s]]&&(y[A[s]]=this.$behaviours[A[s]]);return y}else return this.$behaviours}}).call(M.prototype),D.Behaviour=M}),ace.define("ace/token_iterator",["require","exports","module","ace/range"],function(f,D,z){var M=f("./range").Range,A=function(){function y(s,h,o){this.$session=s,this.$row=h,this.$rowTokens=s.getTokens(h);var r=s.getTokenAt(h,o);this.$tokenIndex=r?r.index:-1}return y.prototype.stepBackward=function(){for(this.$tokenIndex-=1;this.$tokenIndex<0;){if(this.$row-=1,this.$row<0)return this.$row=0,null;this.$rowTokens=this.$session.getTokens(this.$row),this.$tokenIndex=this.$rowTokens.length-1}return this.$rowTokens[this.$tokenIndex]},y.prototype.stepForward=function(){this.$tokenIndex+=1;for(var s;this.$tokenIndex>=this.$rowTokens.length;){if(this.$row+=1,s||(s=this.$session.getLength()),this.$row>=s)return this.$row=s-1,null;this.$rowTokens=this.$session.getTokens(this.$row),this.$tokenIndex=0}return this.$rowTokens[this.$tokenIndex]},y.prototype.getCurrentToken=function(){return this.$rowTokens[this.$tokenIndex]},y.prototype.getCurrentTokenRow=function(){return this.$row},y.prototype.getCurrentTokenColumn=function(){var s=this.$rowTokens,h=this.$tokenIndex,o=s[h].start;if(o!==void 0)return o;for(o=0;h>0;)h-=1,o+=s[h].value.length;return o},y.prototype.getCurrentTokenPosition=function(){return{row:this.$row,column:this.getCurrentTokenColumn()}},y.prototype.getCurrentTokenRange=function(){var s=this.$rowTokens[this.$tokenIndex],h=this.getCurrentTokenColumn();return new M(this.$row,h,this.$row,h+s.value.length)},y}();D.TokenIterator=A}),ace.define("ace/mode/behaviour/cstyle",["require","exports","module","ace/lib/oop","ace/mode/behaviour","ace/token_iterator","ace/lib/lang"],function(f,D,z){var M=f("../../lib/oop"),A=f("../behaviour").Behaviour,y=f("../../token_iterator").TokenIterator,s=f("../../lib/lang"),h=["text","paren.rparen","rparen","paren","punctuation.operator"],o=["text","paren.rparen","rparen","paren","punctuation.operator","comment"],r,i={},t={'"':'"',"'":"'"},e=function(c){var d=-1;if(c.multiSelect&&(d=c.selection.index,i.rangeCount!=c.multiSelect.rangeCount&&(i={rangeCount:c.multiSelect.rangeCount})),i[d])return r=i[d];r=i[d]={autoInsertedBrackets:0,autoInsertedRow:-1,autoInsertedLineEnd:"",maybeInsertedBrackets:0,maybeInsertedRow:-1,maybeInsertedLineStart:"",maybeInsertedLineEnd:""}},n=function(c,d,k,v){var p=c.end.row-c.start.row;return{text:k+d+v,selection:[0,c.start.column+1,p,c.end.column+(p?0:1)]}},a;a=function(c){c=c||{},this.add("braces","insertion",function(d,k,v,p,u){var m=v.getCursorPosition(),E=p.doc.getLine(m.row);if(u=="{"){e(v);var S=v.getSelectionRange(),$=p.doc.getTextRange(S),R=p.getTokenAt(m.row,m.column);if($!==""&&$!=="{"&&v.getWrapBehavioursEnabled())return n(S,$,"{","}");if(R&&/(?:string)\.quasi|\.xml/.test(R.type)){var g=[/tag\-(?:open|name)/,/attribute\-name/];return g.some(function(H){return H.test(R.type)})||/(string)\.quasi/.test(R.type)&&R.value[m.column-R.start-1]!=="$"?void 0:(a.recordAutoInsert(v,p,"}"),{text:"{}",selection:[1,1]})}else if(a.isSaneInsertion(v,p))return/[\]\}\)]/.test(E[m.column])||v.inMultiSelectMode||c.braces?(a.recordAutoInsert(v,p,"}"),{text:"{}",selection:[1,1]}):(a.recordMaybeInsert(v,p,"{"),{text:"{",selection:[1,1]})}else if(u=="}"){e(v);var w=E.substring(m.column,m.column+1);if(w=="}"){var l=p.$findOpeningBracket("}",{column:m.column+1,row:m.row});if(l!==null&&a.isAutoInsertedClosing(m,E,u))return a.popAutoInsertedClosing(),{text:"",selection:[1,1]}}}else if(u==`
`||u==`\r
`){e(v);var _="";a.isMaybeInsertedClosing(m,E)&&(_=s.stringRepeat("}",r.maybeInsertedBrackets),a.clearMaybeInsertedClosing());var w=E.substring(m.column,m.column+1);if(w==="}"){var L=p.findMatchingBracket({row:m.row,column:m.column+1},"}");if(!L)return null;var I=this.$getIndent(p.getLine(L.row))}else if(_)var I=this.$getIndent(E);else{a.clearMaybeInsertedClosing();return}var W=I+p.getTabString();return{text:`
`+W+`
`+I+_,selection:[1,W.length,1,W.length]}}else a.clearMaybeInsertedClosing()}),this.add("braces","deletion",function(d,k,v,p,u){var m=p.doc.getTextRange(u);if(!u.isMultiLine()&&m=="{"){e(v);var E=p.doc.getLine(u.start.row),S=E.substring(u.end.column,u.end.column+1);if(S=="}")return u.end.column++,u;r.maybeInsertedBrackets--}}),this.add("parens","insertion",function(d,k,v,p,u){if(u=="("){e(v);var m=v.getSelectionRange(),E=p.doc.getTextRange(m);if(E!==""&&v.getWrapBehavioursEnabled())return n(m,E,"(",")");if(a.isSaneInsertion(v,p))return a.recordAutoInsert(v,p,")"),{text:"()",selection:[1,1]}}else if(u==")"){e(v);var S=v.getCursorPosition(),$=p.doc.getLine(S.row),R=$.substring(S.column,S.column+1);if(R==")"){var g=p.$findOpeningBracket(")",{column:S.column+1,row:S.row});if(g!==null&&a.isAutoInsertedClosing(S,$,u))return a.popAutoInsertedClosing(),{text:"",selection:[1,1]}}}}),this.add("parens","deletion",function(d,k,v,p,u){var m=p.doc.getTextRange(u);if(!u.isMultiLine()&&m=="("){e(v);var E=p.doc.getLine(u.start.row),S=E.substring(u.start.column+1,u.start.column+2);if(S==")")return u.end.column++,u}}),this.add("brackets","insertion",function(d,k,v,p,u){if(u=="["){e(v);var m=v.getSelectionRange(),E=p.doc.getTextRange(m);if(E!==""&&v.getWrapBehavioursEnabled())return n(m,E,"[","]");if(a.isSaneInsertion(v,p))return a.recordAutoInsert(v,p,"]"),{text:"[]",selection:[1,1]}}else if(u=="]"){e(v);var S=v.getCursorPosition(),$=p.doc.getLine(S.row),R=$.substring(S.column,S.column+1);if(R=="]"){var g=p.$findOpeningBracket("]",{column:S.column+1,row:S.row});if(g!==null&&a.isAutoInsertedClosing(S,$,u))return a.popAutoInsertedClosing(),{text:"",selection:[1,1]}}}}),this.add("brackets","deletion",function(d,k,v,p,u){var m=p.doc.getTextRange(u);if(!u.isMultiLine()&&m=="["){e(v);var E=p.doc.getLine(u.start.row),S=E.substring(u.start.column+1,u.start.column+2);if(S=="]")return u.end.column++,u}}),this.add("string_dquotes","insertion",function(d,k,v,p,u){var m=p.$mode.$quotes||t;if(u.length==1&&m[u]){if(this.lineCommentStart&&this.lineCommentStart.indexOf(u)!=-1)return;e(v);var E=u,S=v.getSelectionRange(),$=p.doc.getTextRange(S);if($!==""&&($.length!=1||!m[$])&&v.getWrapBehavioursEnabled())return n(S,$,E,E);if(!$){var R=v.getCursorPosition(),g=p.doc.getLine(R.row),w=g.substring(R.column-1,R.column),l=g.substring(R.column,R.column+1),_=p.getTokenAt(R.row,R.column),L=p.getTokenAt(R.row,R.column+1);if(w=="\\"&&_&&/escape/.test(_.type))return null;var I=_&&/string|escape/.test(_.type),W=!L||/string|escape/.test(L.type),H;if(l==E)H=I!==W,H&&/string\.end/.test(L.type)&&(H=!1);else{if(I&&!W||I&&W)return null;var J=p.$mode.tokenRe;J.lastIndex=0;var q=J.test(w);J.lastIndex=0;var Z=J.test(l),oe=p.$mode.$pairQuotesAfter,ee=oe&&oe[E]&&oe[E].test(w);if(!ee&&q||Z||l&&!/[\s;,.})\]\\]/.test(l))return null;var se=g[R.column-2];if(w==E&&(se==E||J.test(se)))return null;H=!0}return{text:H?E+E:"",selection:[1,1]}}}}),this.add("string_dquotes","deletion",function(d,k,v,p,u){var m=p.$mode.$quotes||t,E=p.doc.getTextRange(u);if(!u.isMultiLine()&&m.hasOwnProperty(E)){e(v);var S=p.doc.getLine(u.start.row),$=S.substring(u.start.column+1,u.start.column+2);if($==E)return u.end.column++,u}}),c.closeDocComment!==!1&&this.add("doc comment end","insertion",function(d,k,v,p,u){if(d==="doc-start"&&(u===`
`||u===`\r
`)&&v.selection.isEmpty()){var m=v.getCursorPosition();if(m.column===0)return;for(var E=p.doc.getLine(m.row),S=p.doc.getLine(m.row+1),$=p.getTokens(m.row),R=0,g=0;g<$.length;g++){R+=$[g].value.length;var w=$[g];if(R>=m.column){if(R===m.column){if(!/\.doc/.test(w.type))return;if(/\*\//.test(w.value)){var l=$[g+1];if(!l||!/\.doc/.test(l.type))return}}var _=m.column-(R-w.value.length),L=w.value.indexOf("*/"),I=w.value.indexOf("/**",L>-1?L+2:0);if(I!==-1&&_>I&&_<I+3||L!==-1&&I!==-1&&_>=L&&_<=I||!/\.doc/.test(w.type))return;break}}var W=this.$getIndent(E);if(/\s*\*/.test(S))return/^\s*\*/.test(E)?{text:u+W+"* ",selection:[1,2+W.length,1,2+W.length]}:{text:u+W+" * ",selection:[1,3+W.length,1,3+W.length]};if(/\/\*\*/.test(E.substring(0,m.column)))return{text:u+W+" * "+u+" "+W+"*/",selection:[1,4+W.length,1,4+W.length]}}})},a.isSaneInsertion=function(c,d){var k=c.getCursorPosition(),v=new y(d,k.row,k.column);if(!this.$matchTokenType(v.getCurrentToken()||"text",h)){if(/[)}\]]/.test(c.session.getLine(k.row)[k.column]))return!0;var p=new y(d,k.row,k.column+1);if(!this.$matchTokenType(p.getCurrentToken()||"text",h))return!1}return v.stepForward(),v.getCurrentTokenRow()!==k.row||this.$matchTokenType(v.getCurrentToken()||"text",o)},a.$matchTokenType=function(c,d){return d.indexOf(c.type||c)>-1},a.recordAutoInsert=function(c,d,k){var v=c.getCursorPosition(),p=d.doc.getLine(v.row);this.isAutoInsertedClosing(v,p,r.autoInsertedLineEnd[0])||(r.autoInsertedBrackets=0),r.autoInsertedRow=v.row,r.autoInsertedLineEnd=k+p.substr(v.column),r.autoInsertedBrackets++},a.recordMaybeInsert=function(c,d,k){var v=c.getCursorPosition(),p=d.doc.getLine(v.row);this.isMaybeInsertedClosing(v,p)||(r.maybeInsertedBrackets=0),r.maybeInsertedRow=v.row,r.maybeInsertedLineStart=p.substr(0,v.column)+k,r.maybeInsertedLineEnd=p.substr(v.column),r.maybeInsertedBrackets++},a.isAutoInsertedClosing=function(c,d,k){return r.autoInsertedBrackets>0&&c.row===r.autoInsertedRow&&k===r.autoInsertedLineEnd[0]&&d.substr(c.column)===r.autoInsertedLineEnd},a.isMaybeInsertedClosing=function(c,d){return r.maybeInsertedBrackets>0&&c.row===r.maybeInsertedRow&&d.substr(c.column)===r.maybeInsertedLineEnd&&d.substr(0,c.column)==r.maybeInsertedLineStart},a.popAutoInsertedClosing=function(){r.autoInsertedLineEnd=r.autoInsertedLineEnd.substr(1),r.autoInsertedBrackets--},a.clearMaybeInsertedClosing=function(){r&&(r.maybeInsertedBrackets=0,r.maybeInsertedRow=-1)},M.inherits(a,A),D.CstyleBehaviour=a}),ace.define("ace/unicode",["require","exports","module"],function(f,D,z){for(var M=[48,9,8,25,5,0,2,25,48,0,11,0,5,0,6,22,2,30,2,457,5,11,15,4,8,0,2,0,18,116,2,1,3,3,9,0,2,2,2,0,2,19,2,82,2,138,2,4,3,155,12,37,3,0,8,38,10,44,2,0,2,1,2,1,2,0,9,26,6,2,30,10,7,61,2,9,5,101,2,7,3,9,2,18,3,0,17,58,3,100,15,53,5,0,6,45,211,57,3,18,2,5,3,11,3,9,2,1,7,6,2,2,2,7,3,1,3,21,2,6,2,0,4,3,3,8,3,1,3,3,9,0,5,1,2,4,3,11,16,2,2,5,5,1,3,21,2,6,2,1,2,1,2,1,3,0,2,4,5,1,3,2,4,0,8,3,2,0,8,15,12,2,2,8,2,2,2,21,2,6,2,1,2,4,3,9,2,2,2,2,3,0,16,3,3,9,18,2,2,7,3,1,3,21,2,6,2,1,2,4,3,8,3,1,3,2,9,1,5,1,2,4,3,9,2,0,17,1,2,5,4,2,2,3,4,1,2,0,2,1,4,1,4,2,4,11,5,4,4,2,2,3,3,0,7,0,15,9,18,2,2,7,2,2,2,22,2,9,2,4,4,7,2,2,2,3,8,1,2,1,7,3,3,9,19,1,2,7,2,2,2,22,2,9,2,4,3,8,2,2,2,3,8,1,8,0,2,3,3,9,19,1,2,7,2,2,2,22,2,15,4,7,2,2,2,3,10,0,9,3,3,9,11,5,3,1,2,17,4,23,2,8,2,0,3,6,4,0,5,5,2,0,2,7,19,1,14,57,6,14,2,9,40,1,2,0,3,1,2,0,3,0,7,3,2,6,2,2,2,0,2,0,3,1,2,12,2,2,3,4,2,0,2,5,3,9,3,1,35,0,24,1,7,9,12,0,2,0,2,0,5,9,2,35,5,19,2,5,5,7,2,35,10,0,58,73,7,77,3,37,11,42,2,0,4,328,2,3,3,6,2,0,2,3,3,40,2,3,3,32,2,3,3,6,2,0,2,3,3,14,2,56,2,3,3,66,5,0,33,15,17,84,13,619,3,16,2,25,6,74,22,12,2,6,12,20,12,19,13,12,2,2,2,1,13,51,3,29,4,0,5,1,3,9,34,2,3,9,7,87,9,42,6,69,11,28,4,11,5,11,11,39,3,4,12,43,5,25,7,10,38,27,5,62,2,28,3,10,7,9,14,0,89,75,5,9,18,8,13,42,4,11,71,55,9,9,4,48,83,2,2,30,14,230,23,280,3,5,3,37,3,5,3,7,2,0,2,0,2,0,2,30,3,52,2,6,2,0,4,2,2,6,4,3,3,5,5,12,6,2,2,6,67,1,20,0,29,0,14,0,17,4,60,12,5,0,4,11,18,0,5,0,3,9,2,0,4,4,7,0,2,0,2,0,2,3,2,10,3,3,6,4,5,0,53,1,2684,46,2,46,2,132,7,6,15,37,11,53,10,0,17,22,10,6,2,6,2,6,2,6,2,6,2,6,2,6,2,6,2,31,48,0,470,1,36,5,2,4,6,1,5,85,3,1,3,2,2,89,2,3,6,40,4,93,18,23,57,15,513,6581,75,20939,53,1164,68,45,3,268,4,27,21,31,3,13,13,1,2,24,9,69,11,1,38,8,3,102,3,1,111,44,25,51,13,68,12,9,7,23,4,0,5,45,3,35,13,28,4,64,15,10,39,54,10,13,3,9,7,22,4,1,5,66,25,2,227,42,2,1,3,9,7,11171,13,22,5,48,8453,301,3,61,3,105,39,6,13,4,6,11,2,12,2,4,2,0,2,1,2,1,2,107,34,362,19,63,3,53,41,11,5,15,17,6,13,1,25,2,33,4,2,134,20,9,8,25,5,0,2,25,12,88,4,5,3,5,3,5,3,2],A=0,y=[],s=0;s<M.length;s+=2)y.push(A+=M[s]),M[s+1]&&y.push(45,A+=M[s+1]);D.wordChars=String.fromCharCode.apply(null,y)}),ace.define("ace/mode/text",["require","exports","module","ace/config","ace/tokenizer","ace/mode/text_highlight_rules","ace/mode/behaviour/cstyle","ace/unicode","ace/lib/lang","ace/token_iterator","ace/range"],function(f,D,z){var M=f("../config"),A=f("../tokenizer").Tokenizer,y=f("./text_highlight_rules").TextHighlightRules,s=f("./behaviour/cstyle").CstyleBehaviour,h=f("../unicode"),o=f("../lib/lang"),r=f("../token_iterator").TokenIterator,i=f("../range").Range,t;t=function(){this.HighlightRules=y},(function(){this.$defaultBehaviour=new s,this.tokenRe=new RegExp("^["+h.wordChars+"\\$_]+","g"),this.nonTokenRe=new RegExp("^(?:[^"+h.wordChars+"\\$_]|\\s])+","g"),this.getTokenizer=function(){return this.$tokenizer||(this.$highlightRules=this.$highlightRules||new this.HighlightRules(this.$highlightRuleConfig),this.$tokenizer=new A(this.$highlightRules.getRules())),this.$tokenizer},this.lineCommentStart="",this.blockComment="",this.toggleCommentLines=function(e,n,a,c){var d=n.doc,k=!0,v=!0,p=1/0,u=n.getTabSize(),m=!1;if(this.lineCommentStart){if(Array.isArray(this.lineCommentStart))var $=this.lineCommentStart.map(o.escapeRegExp).join("|"),E=this.lineCommentStart[0];else var $=o.escapeRegExp(this.lineCommentStart),E=this.lineCommentStart;$=new RegExp("^(\\s*)(?:"+$+") ?"),m=n.getUseSoftTabs();var w=function(Z,oe){var ee=Z.match($);if(ee){var se=ee[1].length,fe=ee[0].length;!L(Z,se,fe)&&ee[0][fe-1]==" "&&fe--,d.removeInLine(oe,se,fe)}},_=E+" ",g=function(Z,oe){(!k||/\S/.test(Z))&&(L(Z,p,p)?d.insertInLine({row:oe,column:p},_):d.insertInLine({row:oe,column:p},E))},l=function(Z,oe){return $.test(Z)},L=function(Z,oe,ee){for(var se=0;oe--&&Z.charAt(oe)==" ";)se++;if(se%u!=0)return!1;for(var se=0;Z.charAt(ee++)==" ";)se++;return u>2?se%u!=u-1:se%u==0}}else{if(!this.blockComment)return!1;var E=this.blockComment.start,S=this.blockComment.end,$=new RegExp("^(\\s*)(?:"+o.escapeRegExp(E)+")"),R=new RegExp("(?:"+o.escapeRegExp(S)+")\\s*$"),g=function(H,J){l(H,J)||(!k||/\S/.test(H))&&(d.insertInLine({row:J,column:H.length},S),d.insertInLine({row:J,column:p},E))},w=function(H,J){var q;(q=H.match(R))&&d.removeInLine(J,H.length-q[0].length,H.length),(q=H.match($))&&d.removeInLine(J,q[1].length,q[0].length)},l=function(H,J){if($.test(H))return!0;for(var q=n.getTokens(J),Z=0;Z<q.length;Z++)if(q[Z].type==="comment")return!0}}function I(H){for(var J=a;J<=c;J++)H(d.getLine(J),J)}var W=1/0;I(function(H,J){var q=H.search(/\S/);q!==-1?(q<p&&(p=q),v&&!l(H,J)&&(v=!1)):W>H.length&&(W=H.length)}),p==1/0&&(p=W,k=!1,v=!1),m&&p%u!=0&&(p=Math.floor(p/u)*u),I(v?w:g)},this.toggleBlockComment=function(e,n,a,c){var d=this.blockComment;if(d){!d.start&&d[0]&&(d=d[0]);var k=new r(n,c.row,c.column),v=k.getCurrentToken();n.selection;var p=n.selection.toOrientedRange(),u,m;if(v&&/comment/.test(v.type)){for(var E,S;v&&/comment/.test(v.type);){var $=v.value.indexOf(d.start);if($!=-1){var R=k.getCurrentTokenRow(),g=k.getCurrentTokenColumn()+$;E=new i(R,g,R,g+d.start.length);break}v=k.stepBackward()}for(var k=new r(n,c.row,c.column),v=k.getCurrentToken();v&&/comment/.test(v.type);){var $=v.value.indexOf(d.end);if($!=-1){var R=k.getCurrentTokenRow(),g=k.getCurrentTokenColumn()+$;S=new i(R,g,R,g+d.end.length);break}v=k.stepForward()}S&&n.remove(S),E&&(n.remove(E),u=E.start.row,m=-d.start.length)}else m=d.start.length,u=a.start.row,n.insert(a.end,d.end),n.insert(a.start,d.start);p.start.row==u&&(p.start.column+=m),p.end.row==u&&(p.end.column+=m),n.selection.fromOrientedRange(p)}},this.getNextLineIndent=function(e,n,a){return this.$getIndent(n)},this.checkOutdent=function(e,n,a){return!1},this.autoOutdent=function(e,n,a){},this.$getIndent=function(e){return e.match(/^\s*/)[0]},this.createWorker=function(e){return null},this.createModeDelegates=function(e){this.$embeds=[],this.$modes={};for(var n in e)if(e[n]){var a=e[n],c=a.prototype.$id,d=M.$modes[c];d||(M.$modes[c]=d=new a),M.$modes[n]||(M.$modes[n]=d),this.$embeds.push(n),this.$modes[n]=d}for(var k=["toggleBlockComment","toggleCommentLines","getNextLineIndent","checkOutdent","autoOutdent","transformAction","getCompletions"],v=function(u){(function(m){var E=k[u],S=m[E];m[k[u]]=function(){return this.$delegator(E,arguments,S)}})(p)},p=this,n=0;n<k.length;n++)v(n)},this.$delegator=function(e,n,a){var c=n[0]||"start";if(typeof c!="string"){if(Array.isArray(c[2])){var d=c[2][c[2].length-1],k=this.$modes[d];if(k)return k[e].apply(k,[c[1]].concat([].slice.call(n,1)))}c=c[0]||"start"}for(var v=0;v<this.$embeds.length;v++)if(this.$modes[this.$embeds[v]]){var p=c.split(this.$embeds[v]);if(!p[0]&&p[1]){n[0]=p[1];var k=this.$modes[this.$embeds[v]];return k[e].apply(k,n)}}var u=a.apply(this,n);return a?u:void 0},this.transformAction=function(e,n,a,c,d){if(this.$behaviour){var k=this.$behaviour.getBehaviours();for(var v in k)if(k[v][n]){var p=k[v][n].apply(this,arguments);if(p)return p}}},this.getKeywords=function(e){if(!this.completionKeywords){var n=this.$tokenizer.rules,a=[];for(var c in n)for(var d=n[c],k=0,v=d.length;k<v;k++)if(typeof d[k].token=="string")/keyword|support|storage/.test(d[k].token)&&a.push(d[k].regex);else if(typeof d[k].token=="object"){for(var p=0,u=d[k].token.length;p<u;p++)if(/keyword|support|storage/.test(d[k].token[p])){var c=d[k].regex.match(/\(.+?\)/g)[p];a.push(c.substr(1,c.length-2))}}this.completionKeywords=a}return e?a.concat(this.$keywordList||[]):this.$keywordList},this.$createKeywordList=function(){return this.$highlightRules||this.getTokenizer(),this.$keywordList=this.$highlightRules.$keywordList||[]},this.getCompletions=function(e,n,a,c){var d=this.$keywordList||this.$createKeywordList();return d.map(function(k){return{name:k,value:k,score:0,meta:"keyword"}})},this.$id="ace/mode/text"}).call(t.prototype),D.Mode=t}),ace.define("ace/apply_delta",["require","exports","module"],function(f,D,z){D.applyDelta=function(M,A,y){var s=A.start.row,h=A.start.column,o=M[s]||"";switch(A.action){case"insert":var r=A.lines;if(r.length===1)M[s]=o.substring(0,h)+A.lines[0]+o.substring(h);else{var i=[s,1].concat(A.lines);M.splice.apply(M,i),M[s]=o.substring(0,h)+M[s],M[s+A.lines.length-1]+=o.substring(h)}break;case"remove":var t=A.end.column,e=A.end.row;s===e?M[s]=o.substring(0,h)+o.substring(t):M.splice(s,e-s+1,o.substring(0,h)+M[e].substring(t));break}}}),ace.define("ace/anchor",["require","exports","module","ace/lib/oop","ace/lib/event_emitter"],function(f,D,z){var M=f("./lib/oop"),A=f("./lib/event_emitter").EventEmitter,y=function(){function o(r,i,t){this.$onChange=this.onChange.bind(this),this.attach(r),typeof i!="number"?this.setPosition(i.row,i.column):this.setPosition(i,t)}return o.prototype.getPosition=function(){return this.$clipPositionToDocument(this.row,this.column)},o.prototype.getDocument=function(){return this.document},o.prototype.onChange=function(r){if(!(r.start.row==r.end.row&&r.start.row!=this.row)&&!(r.start.row>this.row)){var i=h(r,{row:this.row,column:this.column},this.$insertRight);this.setPosition(i.row,i.column,!0)}},o.prototype.setPosition=function(r,i,t){var e;if(t?e={row:r,column:i}:e=this.$clipPositionToDocument(r,i),!(this.row==e.row&&this.column==e.column)){var n={row:this.row,column:this.column};this.row=e.row,this.column=e.column,this._signal("change",{old:n,value:e})}},o.prototype.detach=function(){this.document.off("change",this.$onChange)},o.prototype.attach=function(r){this.document=r||this.document,this.document.on("change",this.$onChange)},o.prototype.$clipPositionToDocument=function(r,i){var t={};return r>=this.document.getLength()?(t.row=Math.max(0,this.document.getLength()-1),t.column=this.document.getLine(t.row).length):r<0?(t.row=0,t.column=0):(t.row=r,t.column=Math.min(this.document.getLine(t.row).length,Math.max(0,i))),i<0&&(t.column=0),t},o}();y.prototype.$insertRight=!1,M.implement(y.prototype,A);function s(o,r,i){var t=i?o.column<=r.column:o.column<r.column;return o.row<r.row||o.row==r.row&&t}function h(o,r,i){var t=o.action=="insert",e=(t?1:-1)*(o.end.row-o.start.row),n=(t?1:-1)*(o.end.column-o.start.column),a=o.start,c=t?a:o.end;return s(r,a,i)?{row:r.row,column:r.column}:s(c,r,!i)?{row:r.row+e,column:r.column+(r.row==c.row?n:0)}:{row:a.row,column:a.column}}D.Anchor=y}),ace.define("ace/document",["require","exports","module","ace/lib/oop","ace/apply_delta","ace/lib/event_emitter","ace/range","ace/anchor"],function(f,D,z){var M=f("./lib/oop"),A=f("./apply_delta").applyDelta,y=f("./lib/event_emitter").EventEmitter,s=f("./range").Range,h=f("./anchor").Anchor,o=function(){function r(i){this.$lines=[""],i.length===0?this.$lines=[""]:Array.isArray(i)?this.insertMergedLines({row:0,column:0},i):this.insert({row:0,column:0},i)}return r.prototype.setValue=function(i){var t=this.getLength()-1;this.remove(new s(0,0,t,this.getLine(t).length)),this.insert({row:0,column:0},i||"")},r.prototype.getValue=function(){return this.getAllLines().join(this.getNewLineCharacter())},r.prototype.createAnchor=function(i,t){return new h(this,i,t)},r.prototype.$detectNewLine=function(i){var t=i.match(/^.*?(\r\n|\r|\n)/m);this.$autoNewLine=t?t[1]:`
`,this._signal("changeNewLineMode")},r.prototype.getNewLineCharacter=function(){switch(this.$newLineMode){case"windows":return`\r
`;case"unix":return`
`;default:return this.$autoNewLine||`
`}},r.prototype.setNewLineMode=function(i){this.$newLineMode!==i&&(this.$newLineMode=i,this._signal("changeNewLineMode"))},r.prototype.getNewLineMode=function(){return this.$newLineMode},r.prototype.isNewLine=function(i){return i==`\r
`||i=="\r"||i==`
`},r.prototype.getLine=function(i){return this.$lines[i]||""},r.prototype.getLines=function(i,t){return this.$lines.slice(i,t+1)},r.prototype.getAllLines=function(){return this.getLines(0,this.getLength())},r.prototype.getLength=function(){return this.$lines.length},r.prototype.getTextRange=function(i){return this.getLinesForRange(i).join(this.getNewLineCharacter())},r.prototype.getLinesForRange=function(i){var t;if(i.start.row===i.end.row)t=[this.getLine(i.start.row).substring(i.start.column,i.end.column)];else{t=this.getLines(i.start.row,i.end.row),t[0]=(t[0]||"").substring(i.start.column);var e=t.length-1;i.end.row-i.start.row==e&&(t[e]=t[e].substring(0,i.end.column))}return t},r.prototype.insertLines=function(i,t){return console.warn("Use of document.insertLines is deprecated. Use the insertFullLines method instead."),this.insertFullLines(i,t)},r.prototype.removeLines=function(i,t){return console.warn("Use of document.removeLines is deprecated. Use the removeFullLines method instead."),this.removeFullLines(i,t)},r.prototype.insertNewLine=function(i){return console.warn("Use of document.insertNewLine is deprecated. Use insertMergedLines(position, ['', '']) instead."),this.insertMergedLines(i,["",""])},r.prototype.insert=function(i,t){return this.getLength()<=1&&this.$detectNewLine(t),this.insertMergedLines(i,this.$split(t))},r.prototype.insertInLine=function(i,t){var e=this.clippedPos(i.row,i.column),n=this.pos(i.row,i.column+t.length);return this.applyDelta({start:e,end:n,action:"insert",lines:[t]},!0),this.clonePos(n)},r.prototype.clippedPos=function(i,t){var e=this.getLength();i===void 0?i=e:i<0?i=0:i>=e&&(i=e-1,t=void 0);var n=this.getLine(i);return t==null&&(t=n.length),t=Math.min(Math.max(t,0),n.length),{row:i,column:t}},r.prototype.clonePos=function(i){return{row:i.row,column:i.column}},r.prototype.pos=function(i,t){return{row:i,column:t}},r.prototype.$clipPosition=function(i){var t=this.getLength();return i.row>=t?(i.row=Math.max(0,t-1),i.column=this.getLine(t-1).length):(i.row=Math.max(0,i.row),i.column=Math.min(Math.max(i.column,0),this.getLine(i.row).length)),i},r.prototype.insertFullLines=function(i,t){i=Math.min(Math.max(i,0),this.getLength());var e=0;i<this.getLength()?(t=t.concat([""]),e=0):(t=[""].concat(t),i--,e=this.$lines[i].length),this.insertMergedLines({row:i,column:e},t)},r.prototype.insertMergedLines=function(i,t){var e=this.clippedPos(i.row,i.column),n={row:e.row+t.length-1,column:(t.length==1?e.column:0)+t[t.length-1].length};return this.applyDelta({start:e,end:n,action:"insert",lines:t}),this.clonePos(n)},r.prototype.remove=function(i){var t=this.clippedPos(i.start.row,i.start.column),e=this.clippedPos(i.end.row,i.end.column);return this.applyDelta({start:t,end:e,action:"remove",lines:this.getLinesForRange({start:t,end:e})}),this.clonePos(t)},r.prototype.removeInLine=function(i,t,e){var n=this.clippedPos(i,t),a=this.clippedPos(i,e);return this.applyDelta({start:n,end:a,action:"remove",lines:this.getLinesForRange({start:n,end:a})},!0),this.clonePos(n)},r.prototype.removeFullLines=function(i,t){i=Math.min(Math.max(0,i),this.getLength()-1),t=Math.min(Math.max(0,t),this.getLength()-1);var e=t==this.getLength()-1&&i>0,n=t<this.getLength()-1,a=e?i-1:i,c=e?this.getLine(a).length:0,d=n?t+1:t,k=n?0:this.getLine(d).length,v=new s(a,c,d,k),p=this.$lines.slice(i,t+1);return this.applyDelta({start:v.start,end:v.end,action:"remove",lines:this.getLinesForRange(v)}),p},r.prototype.removeNewLine=function(i){i<this.getLength()-1&&i>=0&&this.applyDelta({start:this.pos(i,this.getLine(i).length),end:this.pos(i+1,0),action:"remove",lines:["",""]})},r.prototype.replace=function(i,t){if(i instanceof s||(i=s.fromPoints(i.start,i.end)),t.length===0&&i.isEmpty())return i.start;if(t==this.getTextRange(i))return i.end;this.remove(i);var e;return t?e=this.insert(i.start,t):e=i.start,e},r.prototype.applyDeltas=function(i){for(var t=0;t<i.length;t++)this.applyDelta(i[t])},r.prototype.revertDeltas=function(i){for(var t=i.length-1;t>=0;t--)this.revertDelta(i[t])},r.prototype.applyDelta=function(i,t){var e=i.action=="insert";(e?i.lines.length<=1&&!i.lines[0]:!s.comparePoints(i.start,i.end))||(e&&i.lines.length>2e4?this.$splitAndapplyLargeDelta(i,2e4):(A(this.$lines,i,t),this._signal("change",i)))},r.prototype.$safeApplyDelta=function(i){var t=this.$lines.length;(i.action=="remove"&&i.start.row<t&&i.end.row<t||i.action=="insert"&&i.start.row<=t)&&this.applyDelta(i)},r.prototype.$splitAndapplyLargeDelta=function(i,t){for(var e=i.lines,n=e.length-t+1,a=i.start.row,c=i.start.column,d=0,k=0;d<n;d=k){k+=t-1;var v=e.slice(d,k);v.push(""),this.applyDelta({start:this.pos(a+d,c),end:this.pos(a+k,c=0),action:i.action,lines:v},!0)}i.lines=e.slice(d),i.start.row=a+d,i.start.column=c,this.applyDelta(i,!0)},r.prototype.revertDelta=function(i){this.$safeApplyDelta({start:this.clonePos(i.start),end:this.clonePos(i.end),action:i.action=="insert"?"remove":"insert",lines:i.lines.slice()})},r.prototype.indexToPosition=function(i,t){for(var e=this.$lines||this.getAllLines(),n=this.getNewLineCharacter().length,a=t||0,c=e.length;a<c;a++)if(i-=e[a].length+n,i<0)return{row:a,column:i+e[a].length+n};return{row:c-1,column:i+e[c-1].length+n}},r.prototype.positionToIndex=function(i,t){for(var e=this.$lines||this.getAllLines(),n=this.getNewLineCharacter().length,a=0,c=Math.min(i.row,e.length),d=t||0;d<c;++d)a+=e[d].length+n;return a+i.column},r.prototype.$split=function(i){return i.split(/\r\n|\r|\n/)},r}();o.prototype.$autoNewLine="",o.prototype.$newLineMode="auto",M.implement(o.prototype,y),D.Document=o}),ace.define("ace/background_tokenizer",["require","exports","module","ace/lib/oop","ace/lib/event_emitter"],function(f,D,z){var M=f("./lib/oop"),A=f("./lib/event_emitter").EventEmitter,y=function(){function s(h,o){this.running=!1,this.lines=[],this.states=[],this.currentLine=0,this.tokenizer=h;var r=this;this.$worker=function(){if(r.running){for(var i=new Date,t=r.currentLine,e=-1,n=r.doc,a=t;r.lines[t];)t++;var c=n.getLength(),d=0;for(r.running=!1;t<c;){r.$tokenizeRow(t),e=t;do t++;while(r.lines[t]);if(d++,d%5===0&&new Date-i>20){r.running=setTimeout(r.$worker,20);break}}r.currentLine=t,e==-1&&(e=t),a<=e&&r.fireUpdateEvent(a,e)}}}return s.prototype.setTokenizer=function(h){this.tokenizer=h,this.lines=[],this.states=[],this.start(0)},s.prototype.setDocument=function(h){this.doc=h,this.lines=[],this.states=[],this.stop()},s.prototype.fireUpdateEvent=function(h,o){var r={first:h,last:o};this._signal("update",{data:r})},s.prototype.start=function(h){this.currentLine=Math.min(h||0,this.currentLine,this.doc.getLength()),this.lines.splice(this.currentLine,this.lines.length),this.states.splice(this.currentLine,this.states.length),this.stop(),this.running=setTimeout(this.$worker,700)},s.prototype.scheduleStart=function(){this.running||(this.running=setTimeout(this.$worker,700))},s.prototype.$updateOnChange=function(h){var o=h.start.row,r=h.end.row-o;if(r===0)this.lines[o]=null;else if(h.action=="remove")this.lines.splice(o,r+1,null),this.states.splice(o,r+1,null);else{var i=Array(r+1);i.unshift(o,1),this.lines.splice.apply(this.lines,i),this.states.splice.apply(this.states,i)}this.currentLine=Math.min(o,this.currentLine,this.doc.getLength()),this.stop()},s.prototype.stop=function(){this.running&&clearTimeout(this.running),this.running=!1},s.prototype.getTokens=function(h){return this.lines[h]||this.$tokenizeRow(h)},s.prototype.getState=function(h){return this.currentLine==h&&this.$tokenizeRow(h),this.states[h]||"start"},s.prototype.$tokenizeRow=function(h){var o=this.doc.getLine(h),r=this.states[h-1],i=this.tokenizer.getLineTokens(o,r,h);return this.states[h]+""!=i.state+""?(this.states[h]=i.state,this.lines[h+1]=null,this.currentLine>h+1&&(this.currentLine=h+1)):this.currentLine==h&&(this.currentLine=h+1),this.lines[h]=i.tokens},s.prototype.cleanup=function(){this.running=!1,this.lines=[],this.states=[],this.currentLine=0,this.removeAllListeners()},s}();M.implement(y.prototype,A),D.BackgroundTokenizer=y}),ace.define("ace/search_highlight",["require","exports","module","ace/lib/lang","ace/range"],function(f,D,z){var M=f("./lib/lang"),A=f("./range").Range,y=function(){function s(h,o,r){r===void 0&&(r="text"),this.setRegexp(h),this.clazz=o,this.type=r}return s.prototype.setRegexp=function(h){this.regExp+""!=h+""&&(this.regExp=h,this.cache=[])},s.prototype.update=function(h,o,r,i){if(this.regExp)for(var t=i.firstRow,e=i.lastRow,n={},a=t;a<=e;a++){var c=this.cache[a];c==null&&(c=M.getMatchOffsets(r.getLine(a),this.regExp),c.length>this.MAX_RANGES&&(c=c.slice(0,this.MAX_RANGES)),c=c.map(function(p){return new A(a,p.offset,a,p.offset+p.length)}),this.cache[a]=c.length?c:"");for(var d=c.length;d--;){var k=c[d].toScreenRange(r),v=k.toString();n[v]||(n[v]=!0,o.drawSingleLineMarker(h,k,this.clazz,i))}}},s}();y.prototype.MAX_RANGES=500,D.SearchHighlight=y}),ace.define("ace/undomanager",["require","exports","module","ace/range"],function(f,D,z){var M=function(){function p(){this.$keepRedoStack,this.$maxRev=0,this.$fromUndo=!1,this.$undoDepth=1/0,this.reset()}return p.prototype.addSession=function(u){this.$session=u},p.prototype.add=function(u,m,E){if(!this.$fromUndo&&u!=this.$lastDelta){if(this.$keepRedoStack||(this.$redoStack.length=0),m===!1||!this.lastDeltas){this.lastDeltas=[];var S=this.$undoStack.length;S>this.$undoDepth-1&&this.$undoStack.splice(0,S-this.$undoDepth+1),this.$undoStack.push(this.lastDeltas),u.id=this.$rev=++this.$maxRev}(u.action=="remove"||u.action=="insert")&&(this.$lastDelta=u),this.lastDeltas.push(u)}},p.prototype.addSelection=function(u,m){this.selections.push({value:u,rev:m||this.$rev})},p.prototype.startNewGroup=function(){return this.lastDeltas=null,this.$rev},p.prototype.markIgnored=function(u,m){m==null&&(m=this.$rev+1);for(var E=this.$undoStack,S=E.length;S--;){var $=E[S][0];if($.id<=u)break;$.id<m&&($.ignore=!0)}this.lastDeltas=null},p.prototype.getSelection=function(u,m){for(var E=this.selections,S=E.length;S--;){var $=E[S];if($.rev<u)return m&&($=E[S+1]),$}},p.prototype.getRevision=function(){return this.$rev},p.prototype.getDeltas=function(u,m){m==null&&(m=this.$rev+1);for(var E=this.$undoStack,S=null,$=0,R=E.length;R--;){var g=E[R][0];if(g.id<m&&!S&&(S=R+1),g.id<=u){$=R+1;break}}return E.slice($,S)},p.prototype.getChangedRanges=function(u,m){m==null&&(m=this.$rev+1)},p.prototype.getChangedLines=function(u,m){m==null&&(m=this.$rev+1)},p.prototype.undo=function(u,m){this.lastDeltas=null;var E=this.$undoStack;if(A(E,E.length)){u||(u=this.$session),this.$redoStackBaseRev!==this.$rev&&this.$redoStack.length&&(this.$redoStack=[]),this.$fromUndo=!0;var S=E.pop(),$=null;return S&&($=u.undoChanges(S,m),this.$redoStack.push(S),this.$syncRev()),this.$fromUndo=!1,$}},p.prototype.redo=function(u,m){if(this.lastDeltas=null,u||(u=this.$session),this.$fromUndo=!0,this.$redoStackBaseRev!=this.$rev){var E=this.getDeltas(this.$redoStackBaseRev,this.$rev+1);v(this.$redoStack,E),this.$redoStackBaseRev=this.$rev,this.$redoStack.forEach(function(R){R[0].id=++this.$maxRev},this)}var S=this.$redoStack.pop(),$=null;return S&&($=u.redoChanges(S,m),this.$undoStack.push(S),this.$syncRev()),this.$fromUndo=!1,$},p.prototype.$syncRev=function(){var u=this.$undoStack,m=u[u.length-1],E=m&&m[0].id||0;this.$redoStackBaseRev=E,this.$rev=E},p.prototype.reset=function(){this.lastDeltas=null,this.$lastDelta=null,this.$undoStack=[],this.$redoStack=[],this.$rev=0,this.mark=0,this.$redoStackBaseRev=this.$rev,this.selections=[]},p.prototype.canUndo=function(){return this.$undoStack.length>0},p.prototype.canRedo=function(){return this.$redoStack.length>0},p.prototype.bookmark=function(u){u==null&&(u=this.$rev),this.mark=u},p.prototype.isAtBookmark=function(){return this.$rev===this.mark},p.prototype.toJSON=function(){return{$redoStack:this.$redoStack,$undoStack:this.$undoStack}},p.prototype.fromJSON=function(u){this.reset(),this.$undoStack=u.$undoStack,this.$redoStack=u.$redoStack},p.prototype.$prettyPrint=function(u){return u?r(u):r(this.$undoStack)+`
---
`+r(this.$redoStack)},p}();M.prototype.hasUndo=M.prototype.canUndo,M.prototype.hasRedo=M.prototype.canRedo,M.prototype.isClean=M.prototype.isAtBookmark,M.prototype.markClean=M.prototype.bookmark;function A(p,u){for(var m=u;m--;){var E=p[m];if(E&&!E[0].ignore){for(;m<u-1;){var S=e(p[m],p[m+1]);p[m]=S[0],p[m+1]=S[1],m++}return!0}}}var y=f("./range").Range,s=y.comparePoints;y.comparePoints;function h(p){return{row:p.row,column:p.column}}function o(p){return{start:h(p.start),end:h(p.end),action:p.action,lines:p.lines.slice()}}function r(p){if(p=p||this,Array.isArray(p))return p.map(r).join(`
`);var u="";return p.action?(u=p.action=="insert"?"+":"-",u+="["+p.lines+"]"):p.value&&(Array.isArray(p.value)?u=p.value.map(i).join(`
`):u=i(p.value)),p.start&&(u+=i(p)),(p.id||p.rev)&&(u+="	("+(p.id||p.rev)+")"),u}function i(p){return p.start.row+":"+p.start.column+"=>"+p.end.row+":"+p.end.column}function t(p,u){var m=p.action=="insert",E=u.action=="insert";if(m&&E)if(s(u.start,p.end)>=0)a(u,p,-1);else if(s(u.start,p.start)<=0)a(p,u,1);else return null;else if(m&&!E)if(s(u.start,p.end)>=0)a(u,p,-1);else if(s(u.end,p.start)<=0)a(p,u,-1);else return null;else if(!m&&E)if(s(u.start,p.start)>=0)a(u,p,1);else if(s(u.start,p.start)<=0)a(p,u,1);else return null;else if(!m&&!E)if(s(u.start,p.start)>=0)a(u,p,1);else if(s(u.end,p.start)<=0)a(p,u,-1);else return null;return[u,p]}function e(p,u){for(var m=p.length;m--;)for(var E=0;E<u.length;E++)if(!t(p[m],u[E])){for(;m<p.length;){for(;E--;)t(u[E],p[m]);E=u.length,m++}return[p,u]}return p.selectionBefore=u.selectionBefore=p.selectionAfter=u.selectionAfter=null,[u,p]}function n(p,u){var m=p.action=="insert",E=u.action=="insert";if(m&&E)s(p.start,u.start)<0?a(u,p,1):a(p,u,1);else if(m&&!E)s(p.start,u.end)>=0?a(p,u,-1):(s(p.start,u.start)<=0||a(p,y.fromPoints(u.start,p.start),-1),a(u,p,1));else if(!m&&E)s(u.start,p.end)>=0?a(u,p,-1):(s(u.start,p.start)<=0||a(u,y.fromPoints(p.start,u.start),-1),a(p,u,1));else if(!m&&!E)if(s(u.start,p.end)>=0)a(u,p,-1);else if(s(u.end,p.start)<=0)a(p,u,-1);else{var S,$;return s(p.start,u.start)<0&&(S=p,p=d(p,u.start)),s(p.end,u.end)>0&&($=d(p,u.end)),c(u.end,p.start,p.end,-1),$&&!S&&(p.lines=$.lines,p.start=$.start,p.end=$.end,$=p),[u,S,$].filter(Boolean)}return[u,p]}function a(p,u,m){c(p.start,u.start,u.end,m),c(p.end,u.start,u.end,m)}function c(p,u,m,E){p.row==(E==1?u:m).row&&(p.column+=E*(m.column-u.column)),p.row+=E*(m.row-u.row)}function d(p,u){var m=p.lines,E=p.end;p.end=h(u);var S=p.end.row-p.start.row,$=m.splice(S,m.length),R=S?u.column:u.column-p.start.column;m.push($[0].substring(0,R)),$[0]=$[0].substr(R);var g={start:h(u),end:E,lines:$,action:p.action};return g}function k(p,u){u=o(u);for(var m=p.length;m--;){for(var E=p[m],S=0;S<E.length;S++){var $=E[S],R=n($,u);u=R[0],R.length!=2&&(R[2]?(E.splice(S+1,1,R[1],R[2]),S++):R[1]||(E.splice(S,1),S--))}E.length||p.splice(m,1)}return p}function v(p,u){for(var m=0;m<u.length;m++)for(var E=u[m],S=0;S<E.length;S++)k(p,E[S])}D.UndoManager=M}),ace.define("ace/edit_session/fold_line",["require","exports","module","ace/range"],function(f,D,z){var M=f("../range").Range,A=function(){function y(s,h){this.foldData=s,Array.isArray(h)?this.folds=h:h=this.folds=[h];var o=h[h.length-1];this.range=new M(h[0].start.row,h[0].start.column,o.end.row,o.end.column),this.start=this.range.start,this.end=this.range.end,this.folds.forEach(function(r){r.setFoldLine(this)},this)}return y.prototype.shiftRow=function(s){this.start.row+=s,this.end.row+=s,this.folds.forEach(function(h){h.start.row+=s,h.end.row+=s})},y.prototype.addFold=function(s){if(s.sameRow){if(s.start.row<this.startRow||s.endRow>this.endRow)throw new Error("Can't add a fold to this FoldLine as it has no connection");this.folds.push(s),this.folds.sort(function(h,o){return-h.range.compareEnd(o.start.row,o.start.column)}),this.range.compareEnd(s.start.row,s.start.column)>0?(this.end.row=s.end.row,this.end.column=s.end.column):this.range.compareStart(s.end.row,s.end.column)<0&&(this.start.row=s.start.row,this.start.column=s.start.column)}else if(s.start.row==this.end.row)this.folds.push(s),this.end.row=s.end.row,this.end.column=s.end.column;else if(s.end.row==this.start.row)this.folds.unshift(s),this.start.row=s.start.row,this.start.column=s.start.column;else throw new Error("Trying to add fold to FoldRow that doesn't have a matching row");s.foldLine=this},y.prototype.containsRow=function(s){return s>=this.start.row&&s<=this.end.row},y.prototype.walk=function(s,h,o){var r=0,i=this.folds,t,e,n,a=!0;h==null&&(h=this.end.row,o=this.end.column);for(var c=0;c<i.length;c++){if(t=i[c],e=t.range.compareStart(h,o),e==-1){s(null,h,o,r,a);return}if(n=s(null,t.start.row,t.start.column,r,a),n=!n&&s(t.placeholder,t.start.row,t.start.column,r),n||e===0)return;a=!t.sameRow,r=t.end.column}s(null,h,o,r,a)},y.prototype.getNextFoldTo=function(s,h){for(var o,r,i=0;i<this.folds.length;i++){if(o=this.folds[i],r=o.range.compareEnd(s,h),r==-1)return{fold:o,kind:"after"};if(r===0)return{fold:o,kind:"inside"}}return null},y.prototype.addRemoveChars=function(s,h,o){var r=this.getNextFoldTo(s,h),i,t;if(r){if(i=r.fold,r.kind=="inside"&&i.start.column!=h&&i.start.row!=s)window.console&&window.console.log(s,h,i);else if(i.start.row==s){t=this.folds;var e=t.indexOf(i);for(e===0&&(this.start.column+=o),e;e<t.length;e++){if(i=t[e],i.start.column+=o,!i.sameRow)return;i.end.column+=o}this.end.column+=o}}},y.prototype.split=function(s,h){var o=this.getNextFoldTo(s,h);if(!o||o.kind=="inside")return null;var r=o.fold,i=this.folds,t=this.foldData,e=i.indexOf(r),n=i[e-1];this.end.row=n.end.row,this.end.column=n.end.column,i=i.splice(e,i.length-e);var a=new y(t,i);return t.splice(t.indexOf(this)+1,0,a),a},y.prototype.merge=function(s){for(var h=s.folds,o=0;o<h.length;o++)this.addFold(h[o]);var r=this.foldData;r.splice(r.indexOf(s),1)},y.prototype.toString=function(){var s=[this.range.toString()+": ["];return this.folds.forEach(function(h){s.push("  "+h.toString())}),s.push("]"),s.join(`
`)},y.prototype.idxToPosition=function(s){for(var h=0,o=0;o<this.folds.length;o++){var r=this.folds[o];if(s-=r.start.column-h,s<0)return{row:r.start.row,column:r.start.column+s};if(s-=r.placeholder.length,s<0)return r.start;h=r.end.column}return{row:this.end.row,column:this.end.column+s}},y}();D.FoldLine=A}),ace.define("ace/range_list",["require","exports","module","ace/range"],function(f,D,z){var M=f("./range").Range,A=M.comparePoints,y=function(){function s(){this.ranges=[],this.$bias=1}return s.prototype.pointIndex=function(h,o,r){for(var i=this.ranges,t=r||0;t<i.length;t++){var e=i[t],n=A(h,e.end);if(!(n>0)){var a=A(h,e.start);return n===0?o&&a!==0?-t-2:t:a>0||a===0&&!o?t:-t-1}}return-t-1},s.prototype.add=function(h){var o=!h.isEmpty(),r=this.pointIndex(h.start,o);r<0&&(r=-r-1);var i=this.pointIndex(h.end,o,r);return i<0?i=-i-1:i++,this.ranges.splice(r,i-r,h)},s.prototype.addList=function(h){for(var o=[],r=h.length;r--;)o.push.apply(o,this.add(h[r]));return o},s.prototype.substractPoint=function(h){var o=this.pointIndex(h);if(o>=0)return this.ranges.splice(o,1)},s.prototype.merge=function(){var h=[],o=this.ranges;o=o.sort(function(n,a){return A(n.start,a.start)});for(var r=o[0],i,t=1;t<o.length;t++){i=r,r=o[t];var e=A(i.end,r.start);e<0||e==0&&!i.isEmpty()&&!r.isEmpty()||(A(i.end,r.end)<0&&(i.end.row=r.end.row,i.end.column=r.end.column),o.splice(t,1),h.push(r),r=i,t--)}return this.ranges=o,h},s.prototype.contains=function(h,o){return this.pointIndex({row:h,column:o})>=0},s.prototype.containsPoint=function(h){return this.pointIndex(h)>=0},s.prototype.rangeAtPoint=function(h){var o=this.pointIndex(h);if(o>=0)return this.ranges[o]},s.prototype.clipRows=function(h,o){var r=this.ranges;if(r[0].start.row>o||r[r.length-1].start.row<h)return[];var i=this.pointIndex({row:h,column:0});i<0&&(i=-i-1);var t=this.pointIndex({row:o,column:0},i);t<0&&(t=-t-1);for(var e=[],n=i;n<t;n++)e.push(r[n]);return e},s.prototype.removeAll=function(){return this.ranges.splice(0,this.ranges.length)},s.prototype.attach=function(h){this.session&&this.detach(),this.session=h,this.onChange=this.$onChange.bind(this),this.session.on("change",this.onChange)},s.prototype.detach=function(){this.session&&(this.session.removeListener("change",this.onChange),this.session=null)},s.prototype.$onChange=function(h){for(var o=h.start,r=h.end,i=o.row,t=r.row,e=this.ranges,n=0,a=e.length;n<a;n++){var c=e[n];if(c.end.row>=i)break}if(h.action=="insert")for(var d=t-i,k=-o.column+r.column;n<a;n++){var c=e[n];if(c.start.row>i)break;if(c.start.row==i&&c.start.column>=o.column&&(c.start.column==o.column&&this.$bias<=0||(c.start.column+=k,c.start.row+=d)),c.end.row==i&&c.end.column>=o.column){if(c.end.column==o.column&&this.$bias<0)continue;c.end.column==o.column&&k>0&&n<a-1&&c.end.column>c.start.column&&c.end.column==e[n+1].start.column&&(c.end.column-=k),c.end.column+=k,c.end.row+=d}}else for(var d=i-t,k=o.column-r.column;n<a;n++){var c=e[n];if(c.start.row>t)break;c.end.row<t&&(i<c.end.row||i==c.end.row&&o.column<c.end.column)?(c.end.row=i,c.end.column=o.column):c.end.row==t?c.end.column<=r.column?(d||c.end.column>o.column)&&(c.end.column=o.column,c.end.row=o.row):(c.end.column+=k,c.end.row+=d):c.end.row>t&&(c.end.row+=d),c.start.row<t&&(i<c.start.row||i==c.start.row&&o.column<c.start.column)?(c.start.row=i,c.start.column=o.column):c.start.row==t?c.start.column<=r.column?(d||c.start.column>o.column)&&(c.start.column=o.column,c.start.row=o.row):(c.start.column+=k,c.start.row+=d):c.start.row>t&&(c.start.row+=d)}if(d!=0&&n<a)for(;n<a;n++){var c=e[n];c.start.row+=d,c.end.row+=d}},s}();y.prototype.comparePoints=A,D.RangeList=y}),ace.define("ace/edit_session/fold",["require","exports","module","ace/range_list"],function(f,D,z){var M=this&&this.__extends||function(){var i=function(t,e){return i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,a){n.__proto__=a}||function(n,a){for(var c in a)Object.prototype.hasOwnProperty.call(a,c)&&(n[c]=a[c])},i(t,e)};return function(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");i(t,e);function n(){this.constructor=t}t.prototype=e===null?Object.create(e):(n.prototype=e.prototype,new n)}}(),A=f("../range_list").RangeList,y=function(i){M(t,i);function t(e,n){var a=i.call(this)||this;return a.foldLine=null,a.placeholder=n,a.range=e,a.start=e.start,a.end=e.end,a.sameRow=e.start.row==e.end.row,a.subFolds=a.ranges=[],a}return t.prototype.toString=function(){return'"'+this.placeholder+'" '+this.range.toString()},t.prototype.setFoldLine=function(e){this.foldLine=e,this.subFolds.forEach(function(n){n.setFoldLine(e)})},t.prototype.clone=function(){var e=this.range.clone(),n=new t(e,this.placeholder);return this.subFolds.forEach(function(a){n.subFolds.push(a.clone())}),n.collapseChildren=this.collapseChildren,n},t.prototype.addSubFold=function(e){if(!this.range.isEqual(e)){h(e,this.start);for(var k=e.start.row,v=e.start.column,n=0,a=-1;n<this.subFolds.length&&(a=this.subFolds[n].range.compare(k,v),a==1);n++);var c=this.subFolds[n],d=0;if(a==0){if(c.range.containsRange(e))return c.addSubFold(e);d=1}for(var k=e.range.end.row,v=e.range.end.column,p=n,a=-1;p<this.subFolds.length&&(a=this.subFolds[p].range.compare(k,v),a==1);p++);a==0&&p++;for(var u=this.subFolds.splice(n,p-n,e),m=a==0?u.length-1:u.length,E=d;E<m;E++)e.addSubFold(u[E]);return e.setFoldLine(this.foldLine),e}},t.prototype.restoreRange=function(e){return r(e,this.start)},t}(A);function s(i,t){i.row-=t.row,i.row==0&&(i.column-=t.column)}function h(i,t){s(i.start,t),s(i.end,t)}function o(i,t){i.row==0&&(i.column+=t.column),i.row+=t.row}function r(i,t){o(i.start,t),o(i.end,t)}D.Fold=y}),ace.define("ace/edit_session/folding",["require","exports","module","ace/range","ace/edit_session/fold_line","ace/edit_session/fold","ace/token_iterator","ace/mouse/mouse_event"],function(f,D,z){var M=f("../range").Range,A=f("./fold_line").FoldLine,y=f("./fold").Fold,s=f("../token_iterator").TokenIterator,h=f("../mouse/mouse_event").MouseEvent;function o(){this.getFoldAt=function(r,i,t){var e=this.getFoldLine(r);if(!e)return null;for(var n=e.folds,a=0;a<n.length;a++){var c=n[a].range;if(c.contains(r,i)){if(t==1&&c.isEnd(r,i)&&!c.isEmpty())continue;if(t==-1&&c.isStart(r,i)&&!c.isEmpty())continue;return n[a]}}},this.getFoldsInRange=function(r){var i=r.start,t=r.end,e=this.$foldData,n=[];i.column+=1,t.column-=1;for(var a=0;a<e.length;a++){var c=e[a].range.compareRange(r);if(c!=2){if(c==-2)break;for(var d=e[a].folds,k=0;k<d.length;k++){var v=d[k];if(c=v.range.compareRange(r),c==-2)break;if(c==2)continue;if(c==42)break;n.push(v)}}}return i.column-=1,t.column+=1,n},this.getFoldsInRangeList=function(r){if(Array.isArray(r)){var i=[];r.forEach(function(t){i=i.concat(this.getFoldsInRange(t))},this)}else var i=this.getFoldsInRange(r);return i},this.getAllFolds=function(){for(var r=[],i=this.$foldData,t=0;t<i.length;t++)for(var e=0;e<i[t].folds.length;e++)r.push(i[t].folds[e]);return r},this.getFoldStringAt=function(r,i,t,e){if(e=e||this.getFoldLine(r),!e)return null;for(var n={end:{column:0}},a,c,d=0;d<e.folds.length;d++){c=e.folds[d];var k=c.range.compareEnd(r,i);if(k==-1){a=this.getLine(c.start.row).substring(n.end.column,c.start.column);break}else if(k===0)return null;n=c}return a||(a=this.getLine(c.start.row).substring(n.end.column)),t==-1?a.substring(0,i-n.end.column):t==1?a.substring(i-n.end.column):a},this.getFoldLine=function(r,i){var t=this.$foldData,e=0;for(i&&(e=t.indexOf(i)),e==-1&&(e=0),e;e<t.length;e++){var n=t[e];if(n.start.row<=r&&n.end.row>=r)return n;if(n.end.row>r)return null}return null},this.getNextFoldLine=function(r,i){var t=this.$foldData,e=0;for(i&&(e=t.indexOf(i)),e==-1&&(e=0),e;e<t.length;e++){var n=t[e];if(n.end.row>=r)return n}return null},this.getFoldedRowCount=function(r,i){for(var t=this.$foldData,e=i-r+1,n=0;n<t.length;n++){var a=t[n],c=a.end.row,d=a.start.row;if(c>=i){d<i&&(d>=r?e-=i-d:e=0);break}else c>=r&&(d>=r?e-=c-d:e-=c-r+1)}return e},this.$addFoldLine=function(r){return this.$foldData.push(r),this.$foldData.sort(function(i,t){return i.start.row-t.start.row}),r},this.addFold=function(r,i){var t=this.$foldData,e=!1,n;r instanceof y?n=r:(n=new y(i,r),n.collapseChildren=i.collapseChildren),this.$clipRangeToDocument(n.range);var a=n.start.row,c=n.start.column,d=n.end.row,k=n.end.column,v=this.getFoldAt(a,c,1),p=this.getFoldAt(d,k,-1);if(v&&p==v)return v.addSubFold(n);v&&!v.range.isStart(a,c)&&this.removeFold(v),p&&!p.range.isEnd(d,k)&&this.removeFold(p);var u=this.getFoldsInRange(n.range);u.length>0&&(this.removeFolds(u),n.collapseChildren||u.forEach(function($){n.addSubFold($)}));for(var m=0;m<t.length;m++){var E=t[m];if(d==E.start.row){E.addFold(n),e=!0;break}else if(a==E.end.row){if(E.addFold(n),e=!0,!n.sameRow){var S=t[m+1];if(S&&S.start.row==d){E.merge(S);break}}break}else if(d<=E.start.row)break}return e||(E=this.$addFoldLine(new A(this.$foldData,n))),this.$useWrapMode?this.$updateWrapData(E.start.row,E.start.row):this.$updateRowLengthCache(E.start.row,E.start.row),this.$modified=!0,this._signal("changeFold",{data:n,action:"add"}),n},this.addFolds=function(r){r.forEach(function(i){this.addFold(i)},this)},this.removeFold=function(r){var i=r.foldLine,t=i.start.row,e=i.end.row,n=this.$foldData,a=i.folds;if(a.length==1)n.splice(n.indexOf(i),1);else if(i.range.isEnd(r.end.row,r.end.column))a.pop(),i.end.row=a[a.length-1].end.row,i.end.column=a[a.length-1].end.column;else if(i.range.isStart(r.start.row,r.start.column))a.shift(),i.start.row=a[0].start.row,i.start.column=a[0].start.column;else if(r.sameRow)a.splice(a.indexOf(r),1);else{var c=i.split(r.start.row,r.start.column);a=c.folds,a.shift(),c.start.row=a[0].start.row,c.start.column=a[0].start.column}this.$updating||(this.$useWrapMode?this.$updateWrapData(t,e):this.$updateRowLengthCache(t,e)),this.$modified=!0,this._signal("changeFold",{data:r,action:"remove"})},this.removeFolds=function(r){for(var i=[],t=0;t<r.length;t++)i.push(r[t]);i.forEach(function(e){this.removeFold(e)},this),this.$modified=!0},this.expandFold=function(r){this.removeFold(r),r.subFolds.forEach(function(i){r.restoreRange(i),this.addFold(i)},this),r.collapseChildren>0&&this.foldAll(r.start.row+1,r.end.row,r.collapseChildren-1),r.subFolds=[]},this.expandFolds=function(r){r.forEach(function(i){this.expandFold(i)},this)},this.unfold=function(r,i){var t,e;if(r==null)t=new M(0,0,this.getLength(),0),i==null&&(i=!0);else if(typeof r=="number")t=new M(r,0,r,this.getLine(r).length);else if("row"in r)t=M.fromPoints(r,r);else{if(Array.isArray(r))return e=[],r.forEach(function(a){e=e.concat(this.unfold(a))},this),e;t=r}e=this.getFoldsInRangeList(t);for(var n=e;e.length==1&&M.comparePoints(e[0].start,t.start)<0&&M.comparePoints(e[0].end,t.end)>0;)this.expandFolds(e),e=this.getFoldsInRangeList(t);if(i!=!1?this.removeFolds(e):this.expandFolds(e),n.length)return n},this.isRowFolded=function(r,i){return!!this.getFoldLine(r,i)},this.getRowFoldEnd=function(r,i){var t=this.getFoldLine(r,i);return t?t.end.row:r},this.getRowFoldStart=function(r,i){var t=this.getFoldLine(r,i);return t?t.start.row:r},this.getFoldDisplayLine=function(r,i,t,e,n){e==null&&(e=r.start.row),n==null&&(n=0),i==null&&(i=r.end.row),t==null&&(t=this.getLine(i).length);var a=this.doc,c="";return r.walk(function(d,k,v,p){if(!(k<e)){if(k==e){if(v<n)return;p=Math.max(n,p)}d!=null?c+=d:c+=a.getLine(k).substring(p,v)}},i,t),c},this.getDisplayLine=function(r,i,t,e){var n=this.getFoldLine(r);if(n)return this.getFoldDisplayLine(n,r,i,t,e);var a;return a=this.doc.getLine(r),a.substring(e||0,i||a.length)},this.$cloneFoldData=function(){var r=[];return r=this.$foldData.map(function(i){var t=i.folds.map(function(e){return e.clone()});return new A(r,t)}),r},this.toggleFold=function(r){var i=this.selection,t=i.getRange(),e,n;if(t.isEmpty()){var a=t.start;if(e=this.getFoldAt(a.row,a.column),e){this.expandFold(e);return}else(n=this.findMatchingBracket(a))?t.comparePoint(n)==1?t.end=n:(t.start=n,t.start.column++,t.end.column--):(n=this.findMatchingBracket({row:a.row,column:a.column+1}))?(t.comparePoint(n)==1?t.end=n:t.start=n,t.start.column++):t=this.getCommentFoldRange(a.row,a.column)||t}else{var c=this.getFoldsInRange(t);if(r&&c.length){this.expandFolds(c);return}else c.length==1&&(e=c[0])}if(e||(e=this.getFoldAt(t.start.row,t.start.column)),e&&e.range.toString()==t.toString()){this.expandFold(e);return}var d="...";if(!t.isMultiLine()){if(d=this.getTextRange(t),d.length<4)return;d=d.trim().substring(0,2)+".."}this.addFold(d,t)},this.getCommentFoldRange=function(r,i,t){var e=new s(this,r,i),n=e.getCurrentToken(),a=n&&n.type;if(n&&/^comment|string/.test(a)){a=a.match(/comment|string/)[0],a=="comment"&&(a+="|doc-start|\\.doc");var c=new RegExp(a),d=new M;if(t!=1){do n=e.stepBackward();while(n&&c.test(n.type));n=e.stepForward()}d.start.row=e.getCurrentTokenRow(),d.start.column=e.getCurrentTokenColumn()+n.value.length,e=new s(this,r,i);var k=this.getState(e.$row);if(t!=-1){var v=-1;do if(n=e.stepForward(),v==-1){var p=this.getState(e.$row);k.toString()!==p.toString()&&(v=e.$row)}else if(e.$row>v)break;while(n&&c.test(n.type));n=e.stepBackward()}else n=e.getCurrentToken();return d.end.row=e.getCurrentTokenRow(),d.end.column=e.getCurrentTokenColumn(),d}},this.foldAll=function(r,i,t,e){t==null&&(t=1e5);var n=this.foldWidgets;if(n){i=i||this.getLength(),r=r||0;for(var a=r;a<i;a++)if(n[a]==null&&(n[a]=this.getFoldWidget(a)),n[a]=="start"&&!(e&&!e(a))){var c=this.getFoldWidgetRange(a);c&&c.isMultiLine()&&c.end.row<=i&&c.start.row>=r&&(a=c.end.row,c.collapseChildren=t,this.addFold("...",c))}}},this.foldToLevel=function(r){for(this.foldAll();r-- >0;)this.unfold(null,!1)},this.foldAllComments=function(){var r=this;this.foldAll(null,null,null,function(i){for(var t=r.getTokens(i),e=0;e<t.length;e++){var n=t[e];if(!(n.type=="text"&&/^\s+$/.test(n.value)))return!!/comment/.test(n.type)}})},this.$foldStyles={manual:1,markbegin:1,markbeginend:1},this.$foldStyle="markbegin",this.setFoldStyle=function(r){if(!this.$foldStyles[r])throw new Error("invalid fold style: "+r+"["+Object.keys(this.$foldStyles).join(", ")+"]");if(this.$foldStyle!=r){this.$foldStyle=r,r=="manual"&&this.unfold();var i=this.$foldMode;this.$setFolding(null),this.$setFolding(i)}},this.$setFolding=function(r){if(this.$foldMode!=r){if(this.$foldMode=r,this.off("change",this.$updateFoldWidgets),this.off("tokenizerUpdate",this.$tokenizerUpdateFoldWidgets),this._signal("changeAnnotation"),!r||this.$foldStyle=="manual"){this.foldWidgets=null;return}this.foldWidgets=[],this.getFoldWidget=r.getFoldWidget.bind(r,this,this.$foldStyle),this.getFoldWidgetRange=r.getFoldWidgetRange.bind(r,this,this.$foldStyle),this.$updateFoldWidgets=this.updateFoldWidgets.bind(this),this.$tokenizerUpdateFoldWidgets=this.tokenizerUpdateFoldWidgets.bind(this),this.on("change",this.$updateFoldWidgets),this.on("tokenizerUpdate",this.$tokenizerUpdateFoldWidgets)}},this.getParentFoldRangeData=function(r,i){var t=this.foldWidgets;if(!t||i&&t[r])return{};for(var e=r-1,n;e>=0;){var a=t[e];if(a==null&&(a=t[e]=this.getFoldWidget(e)),a=="start"){var c=this.getFoldWidgetRange(e);if(n||(n=c),c&&c.end.row>=r)break}e--}return{range:e!==-1&&c,firstRange:n}},this.onFoldWidgetClick=function(r,i){i instanceof h&&(i=i.domEvent);var t={children:i.shiftKey,all:i.ctrlKey||i.metaKey,siblings:i.altKey},e=this.$toggleFoldWidget(r,t);if(!e){var n=i.target||i.srcElement;n&&/ace_fold-widget/.test(n.className)&&(n.className+=" ace_invalid")}},this.$toggleFoldWidget=function(r,i){if(this.getFoldWidget){var t=this.getFoldWidget(r),e=this.getLine(r),n=t==="end"?-1:1,a=this.getFoldAt(r,n===-1?0:e.length,n);if(a)return i.children||i.all?this.removeFold(a):this.expandFold(a),a;var c=this.getFoldWidgetRange(r,!0);if(c&&!c.isMultiLine()&&(a=this.getFoldAt(c.start.row,c.start.column,1),a&&c.isEqual(a.range)))return this.removeFold(a),a;if(i.siblings){var d=this.getParentFoldRangeData(r);if(d.range)var k=d.range.start.row+1,v=d.range.end.row;this.foldAll(k,v,i.all?1e4:0)}else i.children?(v=c?c.end.row:this.getLength(),this.foldAll(r+1,v,i.all?1e4:0)):c&&(i.all&&(c.collapseChildren=1e4),this.addFold("...",c));return c}},this.toggleFoldWidget=function(r){var i=this.selection.getCursor().row;i=this.getRowFoldStart(i);var t=this.$toggleFoldWidget(i,{});if(!t){var e=this.getParentFoldRangeData(i,!0);if(t=e.range||e.firstRange,t){i=t.start.row;var n=this.getFoldAt(i,this.getLine(i).length,1);n?this.removeFold(n):this.addFold("...",t)}}},this.updateFoldWidgets=function(r){var i=r.start.row,t=r.end.row-i;if(t===0)this.foldWidgets[i]=null;else if(r.action=="remove")this.foldWidgets.splice(i,t+1,null);else{var e=Array(t+1);e.unshift(i,1),this.foldWidgets.splice.apply(this.foldWidgets,e)}},this.tokenizerUpdateFoldWidgets=function(r){var i=r.data;i.first!=i.last&&this.foldWidgets.length>i.first&&this.foldWidgets.splice(i.first,this.foldWidgets.length)}}D.Folding=o}),ace.define("ace/edit_session/bracket_match",["require","exports","module","ace/token_iterator","ace/range"],function(f,D,z){var M=f("../token_iterator").TokenIterator,A=f("../range").Range;function y(){this.findMatchingBracket=function(s,h){if(s.column==0)return null;var o=h||this.getLine(s.row).charAt(s.column-1);if(o=="")return null;var r=o.match(/([\(\[\{])|([\)\]\}])/);return r?r[1]?this.$findClosingBracket(r[1],s):this.$findOpeningBracket(r[2],s):null},this.getBracketRange=function(s){var h=this.getLine(s.row),o=!0,r,i=h.charAt(s.column-1),t=i&&i.match(/([\(\[\{])|([\)\]\}])/);if(t||(i=h.charAt(s.column),s={row:s.row,column:s.column+1},t=i&&i.match(/([\(\[\{])|([\)\]\}])/),o=!1),!t)return null;if(t[1]){var e=this.$findClosingBracket(t[1],s);if(!e)return null;r=A.fromPoints(s,e),o||(r.end.column++,r.start.column--),r.cursor=r.end}else{var e=this.$findOpeningBracket(t[2],s);if(!e)return null;r=A.fromPoints(e,s),o||(r.start.column++,r.end.column--),r.cursor=r.start}return r},this.getMatchingBracketRanges=function(s,h){var o=this.getLine(s.row),r=/([\(\[\{])|([\)\]\}])/,i=!h&&o.charAt(s.column-1),t=i&&i.match(r);if(t||(i=(h===void 0||h)&&o.charAt(s.column),s={row:s.row,column:s.column+1},t=i&&i.match(r)),!t)return null;var e=new A(s.row,s.column-1,s.row,s.column),n=t[1]?this.$findClosingBracket(t[1],s):this.$findOpeningBracket(t[2],s);if(!n)return[e];var a=new A(n.row,n.column,n.row,n.column+1);return[e,a]},this.$brackets={")":"(","(":")","]":"[","[":"]","{":"}","}":"{","<":">",">":"<"},this.$findOpeningBracket=function(s,h,o){var r=this.$brackets[s],i=1,t=new M(this,h.row,h.column),e=t.getCurrentToken();if(e||(e=t.stepForward()),!!e){o||(o=new RegExp("(\\.?"+e.type.replace(".","\\.").replace("rparen",".paren").replace(/\b(?:end)\b/,"(?:start|begin|end)").replace(/-close\b/,"-(close|open)")+")+"));for(var n=h.column-t.getCurrentTokenColumn()-2,a=e.value;;){for(;n>=0;){var c=a.charAt(n);if(c==r){if(i-=1,i==0)return{row:t.getCurrentTokenRow(),column:n+t.getCurrentTokenColumn()}}else c==s&&(i+=1);n-=1}do e=t.stepBackward();while(e&&!o.test(e.type));if(e==null)break;a=e.value,n=a.length-1}return null}},this.$findClosingBracket=function(s,h,o){var r=this.$brackets[s],i=1,t=new M(this,h.row,h.column),e=t.getCurrentToken();if(e||(e=t.stepForward()),!!e){o||(o=new RegExp("(\\.?"+e.type.replace(".","\\.").replace("lparen",".paren").replace(/\b(?:start|begin)\b/,"(?:start|begin|end)").replace(/-open\b/,"-(close|open)")+")+"));for(var n=h.column-t.getCurrentTokenColumn();;){for(var a=e.value,c=a.length;n<c;){var d=a.charAt(n);if(d==r){if(i-=1,i==0)return{row:t.getCurrentTokenRow(),column:n+t.getCurrentTokenColumn()}}else d==s&&(i+=1);n+=1}do e=t.stepForward();while(e&&!o.test(e.type));if(e==null)break;n=0}return null}},this.getMatchingTags=function(s){var h=new M(this,s.row,s.column),o=this.$findTagName(h);if(o){var r=h.stepBackward();return r.value==="<"?this.$findClosingTag(h,o):this.$findOpeningTag(h,o)}},this.$findTagName=function(s){var h=s.getCurrentToken(),o=!1,r=!1;if(h&&h.type.indexOf("tag-name")===-1)do r?h=s.stepBackward():h=s.stepForward(),h&&(h.value==="/>"?r=!0:h.type.indexOf("tag-name")!==-1&&(o=!0));while(h&&!o);return h},this.$findClosingTag=function(s,h){var o,r=h.value,i=h.value,t=0,e=new A(s.getCurrentTokenRow(),s.getCurrentTokenColumn(),s.getCurrentTokenRow(),s.getCurrentTokenColumn()+1);h=s.stepForward();var n=new A(s.getCurrentTokenRow(),s.getCurrentTokenColumn(),s.getCurrentTokenRow(),s.getCurrentTokenColumn()+h.value.length),a=!1;do{if(o=h,o.type.indexOf("tag-close")!==-1&&!a){var c=new A(s.getCurrentTokenRow(),s.getCurrentTokenColumn(),s.getCurrentTokenRow(),s.getCurrentTokenColumn()+1);a=!0}if(h=s.stepForward(),h){if(h.value===">"&&!a){var c=new A(s.getCurrentTokenRow(),s.getCurrentTokenColumn(),s.getCurrentTokenRow(),s.getCurrentTokenColumn()+1);a=!0}if(h.type.indexOf("tag-name")!==-1){if(r=h.value,i===r){if(o.value==="<")t++;else if(o.value==="</"&&(t--,t<0)){s.stepBackward();var d=new A(s.getCurrentTokenRow(),s.getCurrentTokenColumn(),s.getCurrentTokenRow(),s.getCurrentTokenColumn()+2);h=s.stepForward();var k=new A(s.getCurrentTokenRow(),s.getCurrentTokenColumn(),s.getCurrentTokenRow(),s.getCurrentTokenColumn()+h.value.length);if(h.type.indexOf("tag-close")===-1&&(h=s.stepForward()),h&&h.value===">")var v=new A(s.getCurrentTokenRow(),s.getCurrentTokenColumn(),s.getCurrentTokenRow(),s.getCurrentTokenColumn()+1);else return}}}else if(i===r&&h.value==="/>"&&(t--,t<0))var d=new A(s.getCurrentTokenRow(),s.getCurrentTokenColumn(),s.getCurrentTokenRow(),s.getCurrentTokenColumn()+2),k=d,v=k,c=new A(n.end.row,n.end.column,n.end.row,n.end.column+1)}}while(h&&t>=0);if(e&&c&&d&&v&&n&&k)return{openTag:new A(e.start.row,e.start.column,c.end.row,c.end.column),closeTag:new A(d.start.row,d.start.column,v.end.row,v.end.column),openTagName:n,closeTagName:k}},this.$findOpeningTag=function(s,h){var o=s.getCurrentToken(),r=h.value,i=0,t=s.getCurrentTokenRow(),e=s.getCurrentTokenColumn(),n=e+2,a=new A(t,e,t,n);s.stepForward();var c=new A(s.getCurrentTokenRow(),s.getCurrentTokenColumn(),s.getCurrentTokenRow(),s.getCurrentTokenColumn()+h.value.length);if(h.type.indexOf("tag-close")===-1&&(h=s.stepForward()),!(!h||h.value!==">")){var d=new A(s.getCurrentTokenRow(),s.getCurrentTokenColumn(),s.getCurrentTokenRow(),s.getCurrentTokenColumn()+1);s.stepBackward(),s.stepBackward();do if(h=o,t=s.getCurrentTokenRow(),e=s.getCurrentTokenColumn(),n=e+h.value.length,o=s.stepBackward(),h){if(h.type.indexOf("tag-name")!==-1){if(r===h.value)if(o.value==="<"){if(i++,i>0){var k=new A(t,e,t,n),v=new A(s.getCurrentTokenRow(),s.getCurrentTokenColumn(),s.getCurrentTokenRow(),s.getCurrentTokenColumn()+1);do h=s.stepForward();while(h&&h.value!==">");var p=new A(s.getCurrentTokenRow(),s.getCurrentTokenColumn(),s.getCurrentTokenRow(),s.getCurrentTokenColumn()+1)}}else o.value==="</"&&i--}else if(h.value==="/>"){for(var u=0,m=o;m;){if(m.type.indexOf("tag-name")!==-1&&m.value===r){i--;break}else if(m.value==="<")break;m=s.stepBackward(),u++}for(var E=0;E<u;E++)s.stepForward()}}while(o&&i<=0);if(v&&p&&a&&d&&k&&c)return{openTag:new A(v.start.row,v.start.column,p.end.row,p.end.column),closeTag:new A(a.start.row,a.start.column,d.end.row,d.end.column),openTagName:k,closeTagName:c}}}}D.BracketMatch=y}),ace.define("ace/edit_session",["require","exports","module","ace/lib/oop","ace/lib/lang","ace/bidihandler","ace/config","ace/lib/event_emitter","ace/selection","ace/mode/text","ace/range","ace/document","ace/background_tokenizer","ace/search_highlight","ace/undomanager","ace/edit_session/folding","ace/edit_session/bracket_match"],function(f,D,z){var M=f("./lib/oop"),A=f("./lib/lang"),y=f("./bidihandler").BidiHandler,s=f("./config"),h=f("./lib/event_emitter").EventEmitter,o=f("./selection").Selection,r=f("./mode/text").Mode,i=f("./range").Range,t=f("./document").Document,e=f("./background_tokenizer").BackgroundTokenizer,n=f("./search_highlight").SearchHighlight,a=f("./undomanager").UndoManager,c=function(){function R(g,w){this.doc,this.$breakpoints=[],this.$decorations=[],this.$frontMarkers={},this.$backMarkers={},this.$markerId=1,this.$undoSelect=!0,this.$foldData=[],this.id="session"+ ++R.$uid,this.$foldData.toString=function(){return this.join(`
`)},this.bgTokenizer=new e(new r().getTokenizer(),this);var l=this;this.bgTokenizer.on("update",function(_){l._signal("tokenizerUpdate",_)}),this.on("changeFold",this.onChangeFold.bind(this)),this.$onChange=this.onChange.bind(this),(typeof g!="object"||!g.getLine)&&(g=new t(g)),this.setDocument(g),this.selection=new o(this),this.$bidiHandler=new y(this),s.resetOptions(this),this.setMode(w),s._signal("session",this),this.destroyed=!1}return R.prototype.setDocument=function(g){this.doc&&this.doc.off("change",this.$onChange),this.doc=g,g.on("change",this.$onChange,!0),this.bgTokenizer.setDocument(this.getDocument()),this.resetCaches()},R.prototype.getDocument=function(){return this.doc},R.prototype.$resetRowCache=function(g){if(!g){this.$docRowCache=[],this.$screenRowCache=[];return}var w=this.$docRowCache.length,l=this.$getRowCacheIndex(this.$docRowCache,g)+1;w>l&&(this.$docRowCache.splice(l,w),this.$screenRowCache.splice(l,w))},R.prototype.$getRowCacheIndex=function(g,w){for(var l=0,_=g.length-1;l<=_;){var L=l+_>>1,I=g[L];if(w>I)l=L+1;else if(w<I)_=L-1;else return L}return l-1},R.prototype.resetCaches=function(){this.$modified=!0,this.$wrapData=[],this.$rowLengthCache=[],this.$resetRowCache(0),this.destroyed||this.bgTokenizer.start(0)},R.prototype.onChangeFold=function(g){var w=g.data;this.$resetRowCache(w.start.row)},R.prototype.onChange=function(g){this.$modified=!0,this.$bidiHandler.onChange(g),this.$resetRowCache(g.start.row);var w=this.$updateInternalDataOnChange(g);!this.$fromUndo&&this.$undoManager&&(w&&w.length&&(this.$undoManager.add({action:"removeFolds",folds:w},this.mergeUndoDeltas),this.mergeUndoDeltas=!0),this.$undoManager.add(g,this.mergeUndoDeltas),this.mergeUndoDeltas=!0,this.$informUndoManager.schedule()),this.bgTokenizer.$updateOnChange(g),this._signal("change",g)},R.prototype.setValue=function(g){this.doc.setValue(g),this.selection.moveTo(0,0),this.$resetRowCache(0),this.setUndoManager(this.$undoManager),this.getUndoManager().reset()},R.fromJSON=function(g){typeof g=="string"&&(g=JSON.parse(g));var w=new a;w.$undoStack=g.history.undo,w.$redoStack=g.history.redo,w.mark=g.history.mark,w.$rev=g.history.rev;var l=new R(g.value);return g.folds.forEach(function(_){l.addFold("...",i.fromPoints(_.start,_.end))}),l.setAnnotations(g.annotations),l.setBreakpoints(g.breakpoints),l.setMode(g.mode),l.setScrollLeft(g.scrollLeft),l.setScrollTop(g.scrollTop),l.setUndoManager(w),l.selection.fromJSON(g.selection),l},R.prototype.toJSON=function(){return{annotations:this.$annotations,breakpoints:this.$breakpoints,folds:this.getAllFolds().map(function(g){return g.range}),history:this.getUndoManager(),mode:this.$mode.$id,scrollLeft:this.$scrollLeft,scrollTop:this.$scrollTop,selection:this.selection.toJSON(),value:this.doc.getValue()}},R.prototype.toString=function(){return this.doc.getValue()},R.prototype.getSelection=function(){return this.selection},R.prototype.getState=function(g){return this.bgTokenizer.getState(g)},R.prototype.getTokens=function(g){return this.bgTokenizer.getTokens(g)},R.prototype.getTokenAt=function(g,w){var l=this.bgTokenizer.getTokens(g),_,L=0;if(w==null){var I=l.length-1;L=this.getLine(g).length}else for(var I=0;I<l.length&&(L+=l[I].value.length,!(L>=w));I++);return _=l[I],_?(_.index=I,_.start=L-_.value.length,_):null},R.prototype.setUndoManager=function(g){if(this.$undoManager=g,this.$informUndoManager&&this.$informUndoManager.cancel(),g){var w=this;g.addSession(this),this.$syncInformUndoManager=function(){w.$informUndoManager.cancel(),w.mergeUndoDeltas=!1},this.$informUndoManager=A.delayedCall(this.$syncInformUndoManager)}else this.$syncInformUndoManager=function(){}},R.prototype.markUndoGroup=function(){this.$syncInformUndoManager&&this.$syncInformUndoManager()},R.prototype.getUndoManager=function(){return this.$undoManager||this.$defaultUndoManager},R.prototype.getTabString=function(){return this.getUseSoftTabs()?A.stringRepeat(" ",this.getTabSize()):"	"},R.prototype.setUseSoftTabs=function(g){this.setOption("useSoftTabs",g)},R.prototype.getUseSoftTabs=function(){return this.$useSoftTabs&&!this.$mode.$indentWithTabs},R.prototype.setTabSize=function(g){this.setOption("tabSize",g)},R.prototype.getTabSize=function(){return this.$tabSize},R.prototype.isTabStop=function(g){return this.$useSoftTabs&&g.column%this.$tabSize===0},R.prototype.setNavigateWithinSoftTabs=function(g){this.setOption("navigateWithinSoftTabs",g)},R.prototype.getNavigateWithinSoftTabs=function(){return this.$navigateWithinSoftTabs},R.prototype.setOverwrite=function(g){this.setOption("overwrite",g)},R.prototype.getOverwrite=function(){return this.$overwrite},R.prototype.toggleOverwrite=function(){this.setOverwrite(!this.$overwrite)},R.prototype.addGutterDecoration=function(g,w){this.$decorations[g]||(this.$decorations[g]=""),this.$decorations[g]+=" "+w,this._signal("changeBreakpoint",{})},R.prototype.removeGutterDecoration=function(g,w){this.$decorations[g]=(this.$decorations[g]||"").replace(" "+w,""),this._signal("changeBreakpoint",{})},R.prototype.getBreakpoints=function(){return this.$breakpoints},R.prototype.setBreakpoints=function(g){this.$breakpoints=[];for(var w=0;w<g.length;w++)this.$breakpoints[g[w]]="ace_breakpoint";this._signal("changeBreakpoint",{})},R.prototype.clearBreakpoints=function(){this.$breakpoints=[],this._signal("changeBreakpoint",{})},R.prototype.setBreakpoint=function(g,w){w===void 0&&(w="ace_breakpoint"),w?this.$breakpoints[g]=w:delete this.$breakpoints[g],this._signal("changeBreakpoint",{})},R.prototype.clearBreakpoint=function(g){delete this.$breakpoints[g],this._signal("changeBreakpoint",{})},R.prototype.addMarker=function(g,w,l,_){var L=this.$markerId++,I={range:g,type:l||"line",renderer:typeof l=="function"?l:null,clazz:w,inFront:!!_,id:L};return _?(this.$frontMarkers[L]=I,this._signal("changeFrontMarker")):(this.$backMarkers[L]=I,this._signal("changeBackMarker")),L},R.prototype.addDynamicMarker=function(g,w){if(g.update){var l=this.$markerId++;return g.id=l,g.inFront=!!w,w?(this.$frontMarkers[l]=g,this._signal("changeFrontMarker")):(this.$backMarkers[l]=g,this._signal("changeBackMarker")),g}},R.prototype.removeMarker=function(g){var w=this.$frontMarkers[g]||this.$backMarkers[g];if(w){var l=w.inFront?this.$frontMarkers:this.$backMarkers;delete l[g],this._signal(w.inFront?"changeFrontMarker":"changeBackMarker")}},R.prototype.getMarkers=function(g){return g?this.$frontMarkers:this.$backMarkers},R.prototype.highlight=function(g){if(!this.$searchHighlight){var w=new n(null,"ace_selected-word","text");this.$searchHighlight=this.addDynamicMarker(w)}this.$searchHighlight.setRegexp(g)},R.prototype.highlightLines=function(g,w,l,_){typeof w!="number"&&(l=w,w=g),l||(l="ace_step");var L=new i(g,0,w,1/0);return L.id=this.addMarker(L,l,"fullLine",_),L},R.prototype.setAnnotations=function(g){this.$annotations=g,this._signal("changeAnnotation",{})},R.prototype.getAnnotations=function(){return this.$annotations||[]},R.prototype.clearAnnotations=function(){this.setAnnotations([])},R.prototype.$detectNewLine=function(g){var w=g.match(/^.*?(\r?\n)/m);w?this.$autoNewLine=w[1]:this.$autoNewLine=`
`},R.prototype.getWordRange=function(g,w){var l=this.getLine(g),_=!1;if(w>0&&(_=!!l.charAt(w-1).match(this.tokenRe)),_||(_=!!l.charAt(w).match(this.tokenRe)),_)var L=this.tokenRe;else if(/^\s+$/.test(l.slice(w-1,w+1)))var L=/\s/;else var L=this.nonTokenRe;var I=w;if(I>0){do I--;while(I>=0&&l.charAt(I).match(L));I++}for(var W=w;W<l.length&&l.charAt(W).match(L);)W++;return new i(g,I,g,W)},R.prototype.getAWordRange=function(g,w){for(var l=this.getWordRange(g,w),_=this.getLine(l.end.row);_.charAt(l.end.column).match(/[ \t]/);)l.end.column+=1;return l},R.prototype.setNewLineMode=function(g){this.doc.setNewLineMode(g)},R.prototype.getNewLineMode=function(){return this.doc.getNewLineMode()},R.prototype.setUseWorker=function(g){this.setOption("useWorker",g)},R.prototype.getUseWorker=function(){return this.$useWorker},R.prototype.onReloadTokenizer=function(g){var w=g.data;this.bgTokenizer.start(w.first),this._signal("tokenizerUpdate",g)},R.prototype.setMode=function(g,w){if(g&&typeof g=="object"){if(g.getTokenizer)return this.$onChangeMode(g);var l=g,_=l.path}else _=g||"ace/mode/text";if(this.$modes["ace/mode/text"]||(this.$modes["ace/mode/text"]=new r),this.$modes[_]&&!l){this.$onChangeMode(this.$modes[_]),w&&w();return}this.$modeId=_,s.loadModule(["mode",_],(function(L){if(this.$modeId!==_)return w&&w();this.$modes[_]&&!l?this.$onChangeMode(this.$modes[_]):L&&L.Mode&&(L=new L.Mode(l),l||(this.$modes[_]=L,L.$id=_),this.$onChangeMode(L)),w&&w()}).bind(this)),this.$mode||this.$onChangeMode(this.$modes["ace/mode/text"],!0)},R.prototype.$onChangeMode=function(g,w){if(w||(this.$modeId=g.$id),this.$mode!==g){var l=this.$mode;this.$mode=g,this.$stopWorker(),this.$useWorker&&this.$startWorker();var _=g.getTokenizer();if(_.on!==void 0){var L=this.onReloadTokenizer.bind(this);_.on("update",L)}this.bgTokenizer.setTokenizer(_),this.bgTokenizer.setDocument(this.getDocument()),this.tokenRe=g.tokenRe,this.nonTokenRe=g.nonTokenRe,w||(g.attachToSession&&g.attachToSession(this),this.$options.wrapMethod.set.call(this,this.$wrapMethod),this.$setFolding(g.foldingRules),this.bgTokenizer.start(0),this._emit("changeMode",{oldMode:l,mode:g}))}},R.prototype.$stopWorker=function(){this.$worker&&(this.$worker.terminate(),this.$worker=null)},R.prototype.$startWorker=function(){try{this.$worker=this.$mode.createWorker(this)}catch(g){s.warn("Could not load worker",g),this.$worker=null}},R.prototype.getMode=function(){return this.$mode},R.prototype.setScrollTop=function(g){this.$scrollTop===g||isNaN(g)||(this.$scrollTop=g,this._signal("changeScrollTop",g))},R.prototype.getScrollTop=function(){return this.$scrollTop},R.prototype.setScrollLeft=function(g){this.$scrollLeft===g||isNaN(g)||(this.$scrollLeft=g,this._signal("changeScrollLeft",g))},R.prototype.getScrollLeft=function(){return this.$scrollLeft},R.prototype.getScreenWidth=function(){return this.$computeWidth(),this.lineWidgets?Math.max(this.getLineWidgetMaxWidth(),this.screenWidth):this.screenWidth},R.prototype.getLineWidgetMaxWidth=function(){if(this.lineWidgetsWidth!=null)return this.lineWidgetsWidth;var g=0;return this.lineWidgets.forEach(function(w){w&&w.screenWidth>g&&(g=w.screenWidth)}),this.lineWidgetWidth=g},R.prototype.$computeWidth=function(g){if(this.$modified||g){if(this.$modified=!1,this.$useWrapMode)return this.screenWidth=this.$wrapLimit;for(var w=this.doc.getAllLines(),l=this.$rowLengthCache,_=0,L=0,I=this.$foldData[L],W=I?I.start.row:1/0,H=w.length,J=0;J<H;J++){if(J>W){if(J=I.end.row+1,J>=H)break;I=this.$foldData[L++],W=I?I.start.row:1/0}l[J]==null&&(l[J]=this.$getStringScreenWidth(w[J])[0]),l[J]>_&&(_=l[J])}this.screenWidth=_}},R.prototype.getLine=function(g){return this.doc.getLine(g)},R.prototype.getLines=function(g,w){return this.doc.getLines(g,w)},R.prototype.getLength=function(){return this.doc.getLength()},R.prototype.getTextRange=function(g){return this.doc.getTextRange(g||this.selection.getRange())},R.prototype.insert=function(g,w){return this.doc.insert(g,w)},R.prototype.remove=function(g){return this.doc.remove(g)},R.prototype.removeFullLines=function(g,w){return this.doc.removeFullLines(g,w)},R.prototype.undoChanges=function(g,w){if(g.length){this.$fromUndo=!0;for(var l=g.length-1;l!=-1;l--){var _=g[l];_.action=="insert"||_.action=="remove"?this.doc.revertDelta(_):_.folds&&this.addFolds(_.folds)}!w&&this.$undoSelect&&(g.selectionBefore?this.selection.fromJSON(g.selectionBefore):this.selection.setRange(this.$getUndoSelection(g,!0))),this.$fromUndo=!1}},R.prototype.redoChanges=function(g,w){if(g.length){this.$fromUndo=!0;for(var l=0;l<g.length;l++){var _=g[l];(_.action=="insert"||_.action=="remove")&&this.doc.$safeApplyDelta(_)}!w&&this.$undoSelect&&(g.selectionAfter?this.selection.fromJSON(g.selectionAfter):this.selection.setRange(this.$getUndoSelection(g,!1))),this.$fromUndo=!1}},R.prototype.setUndoSelect=function(g){this.$undoSelect=g},R.prototype.$getUndoSelection=function(g,w){function l(H){return w?H.action!=="insert":H.action==="insert"}for(var _,L,I=0;I<g.length;I++){var W=g[I];if(W.start){if(!_){l(W)?_=i.fromPoints(W.start,W.end):_=i.fromPoints(W.start,W.start);continue}l(W)?(L=W.start,_.compare(L.row,L.column)==-1&&_.setStart(L),L=W.end,_.compare(L.row,L.column)==1&&_.setEnd(L)):(L=W.start,_.compare(L.row,L.column)==-1&&(_=i.fromPoints(W.start,W.start)))}}return _},R.prototype.replace=function(g,w){return this.doc.replace(g,w)},R.prototype.moveText=function(g,w,l){var _=this.getTextRange(g),L=this.getFoldsInRange(g),I=i.fromPoints(w,w);if(!l){this.remove(g);var W=g.start.row-g.end.row,H=W?-g.end.column:g.start.column-g.end.column;H&&(I.start.row==g.end.row&&I.start.column>g.end.column&&(I.start.column+=H),I.end.row==g.end.row&&I.end.column>g.end.column&&(I.end.column+=H)),W&&I.start.row>=g.end.row&&(I.start.row+=W,I.end.row+=W)}if(I.end=this.insert(I.start,_),L.length){var J=g.start,q=I.start,W=q.row-J.row,H=q.column-J.column;this.addFolds(L.map(function(ee){return ee=ee.clone(),ee.start.row==J.row&&(ee.start.column+=H),ee.end.row==J.row&&(ee.end.column+=H),ee.start.row+=W,ee.end.row+=W,ee}))}return I},R.prototype.indentRows=function(g,w,l){l=l.replace(/\t/g,this.getTabString());for(var _=g;_<=w;_++)this.doc.insertInLine({row:_,column:0},l)},R.prototype.outdentRows=function(g){for(var w=g.collapseRows(),l=new i(0,0,0,0),_=this.getTabSize(),L=w.start.row;L<=w.end.row;++L){var I=this.getLine(L);l.start.row=L,l.end.row=L;for(var W=0;W<_&&I.charAt(W)==" ";++W);W<_&&I.charAt(W)=="	"?(l.start.column=W,l.end.column=W+1):(l.start.column=0,l.end.column=W),this.remove(l)}},R.prototype.$moveLines=function(g,w,l){if(g=this.getRowFoldStart(g),w=this.getRowFoldEnd(w),l<0){var _=this.getRowFoldStart(g+l);if(_<0)return 0;var L=_-g}else if(l>0){var _=this.getRowFoldEnd(w+l);if(_>this.doc.getLength()-1)return 0;var L=_-w}else{g=this.$clipRowToDocument(g),w=this.$clipRowToDocument(w);var L=w-g+1}var I=new i(g,0,w,Number.MAX_VALUE),W=this.getFoldsInRange(I).map(function(J){return J=J.clone(),J.start.row+=L,J.end.row+=L,J}),H=l==0?this.doc.getLines(g,w):this.doc.removeFullLines(g,w);return this.doc.insertFullLines(g+L,H),W.length&&this.addFolds(W),L},R.prototype.moveLinesUp=function(g,w){return this.$moveLines(g,w,-1)},R.prototype.moveLinesDown=function(g,w){return this.$moveLines(g,w,1)},R.prototype.duplicateLines=function(g,w){return this.$moveLines(g,w,0)},R.prototype.$clipRowToDocument=function(g){return Math.max(0,Math.min(g,this.doc.getLength()-1))},R.prototype.$clipColumnToRow=function(g,w){return w<0?0:Math.min(this.doc.getLine(g).length,w)},R.prototype.$clipPositionToDocument=function(g,w){if(w=Math.max(0,w),g<0)g=0,w=0;else{var l=this.doc.getLength();g>=l?(g=l-1,w=this.doc.getLine(l-1).length):w=Math.min(this.doc.getLine(g).length,w)}return{row:g,column:w}},R.prototype.$clipRangeToDocument=function(g){g.start.row<0?(g.start.row=0,g.start.column=0):g.start.column=this.$clipColumnToRow(g.start.row,g.start.column);var w=this.doc.getLength()-1;return g.end.row>w?(g.end.row=w,g.end.column=this.doc.getLine(w).length):g.end.column=this.$clipColumnToRow(g.end.row,g.end.column),g},R.prototype.setUseWrapMode=function(g){if(g!=this.$useWrapMode){if(this.$useWrapMode=g,this.$modified=!0,this.$resetRowCache(0),g){var w=this.getLength();this.$wrapData=Array(w),this.$updateWrapData(0,w-1)}this._signal("changeWrapMode")}},R.prototype.getUseWrapMode=function(){return this.$useWrapMode},R.prototype.setWrapLimitRange=function(g,w){(this.$wrapLimitRange.min!==g||this.$wrapLimitRange.max!==w)&&(this.$wrapLimitRange={min:g,max:w},this.$modified=!0,this.$bidiHandler.markAsDirty(),this.$useWrapMode&&this._signal("changeWrapMode"))},R.prototype.adjustWrapLimit=function(g,w){var l=this.$wrapLimitRange;l.max<0&&(l={min:w,max:w});var _=this.$constrainWrapLimit(g,l.min,l.max);return _!=this.$wrapLimit&&_>1?(this.$wrapLimit=_,this.$modified=!0,this.$useWrapMode&&(this.$updateWrapData(0,this.getLength()-1),this.$resetRowCache(0),this._signal("changeWrapLimit")),!0):!1},R.prototype.$constrainWrapLimit=function(g,w,l){return w&&(g=Math.max(w,g)),l&&(g=Math.min(l,g)),g},R.prototype.getWrapLimit=function(){return this.$wrapLimit},R.prototype.setWrapLimit=function(g){this.setWrapLimitRange(g,g)},R.prototype.getWrapLimitRange=function(){return{min:this.$wrapLimitRange.min,max:this.$wrapLimitRange.max}},R.prototype.$updateInternalDataOnChange=function(g){var w=this.$useWrapMode,l=g.action,_=g.start,L=g.end,I=_.row,W=L.row,H=W-I,J=null;if(this.$updating=!0,H!=0)if(l==="remove"){this[w?"$wrapData":"$rowLengthCache"].splice(I,H);var q=this.$foldData;J=this.getFoldsInRange(g),this.removeFolds(J);var Z=this.getFoldLine(L.row),oe=0;if(Z){Z.addRemoveChars(L.row,L.column,_.column-L.column),Z.shiftRow(-H);var ee=this.getFoldLine(I);ee&&ee!==Z&&(ee.merge(Z),Z=ee),oe=q.indexOf(Z)+1}for(oe;oe<q.length;oe++){var Z=q[oe];Z.start.row>=L.row&&Z.shiftRow(-H)}W=I}else{var se=Array(H);se.unshift(I,0);var fe=w?this.$wrapData:this.$rowLengthCache;fe.splice.apply(fe,se);var q=this.$foldData,Z=this.getFoldLine(I),oe=0;if(Z){var Ce=Z.range.compareInside(_.row,_.column);Ce==0?(Z=Z.split(_.row,_.column),Z&&(Z.shiftRow(H),Z.addRemoveChars(W,0,L.column-_.column))):Ce==-1&&(Z.addRemoveChars(I,0,L.column-_.column),Z.shiftRow(H)),oe=q.indexOf(Z)+1}for(oe;oe<q.length;oe++){var Z=q[oe];Z.start.row>=I&&Z.shiftRow(H)}}else{H=Math.abs(g.start.column-g.end.column),l==="remove"&&(J=this.getFoldsInRange(g),this.removeFolds(J),H=-H);var Z=this.getFoldLine(I);Z&&Z.addRemoveChars(I,_.column,H)}return w&&this.$wrapData.length!=this.doc.getLength()&&console.error("doc.getLength() and $wrapData.length have to be the same!"),this.$updating=!1,w?this.$updateWrapData(I,W):this.$updateRowLengthCache(I,W),J},R.prototype.$updateRowLengthCache=function(g,w){this.$rowLengthCache[g]=null,this.$rowLengthCache[w]=null},R.prototype.$updateWrapData=function(g,w){var l=this.doc.getAllLines(),_=this.getTabSize(),L=this.$wrapData,I=this.$wrapLimit,W,H,J=g;for(w=Math.min(w,l.length-1);J<=w;)H=this.getFoldLine(J,H),H?(W=[],H.walk((function(q,Z,oe,ee){var se;if(q!=null){se=this.$getDisplayTokens(q,W.length),se[0]=v;for(var fe=1;fe<se.length;fe++)se[fe]=p}else se=this.$getDisplayTokens(l[Z].substring(ee,oe),W.length);W=W.concat(se)}).bind(this),H.end.row,l[H.end.row].length+1),L[H.start.row]=this.$computeWrapSplits(W,I,_),J=H.end.row+1):(W=this.$getDisplayTokens(l[J]),L[J]=this.$computeWrapSplits(W,I,_),J++)},R.prototype.$computeWrapSplits=function(g,w,l){if(g.length==0)return[];var _=[],L=g.length,I=0,W=0,H=this.$wrapAsCode,J=this.$indentedSoftWrap,q=w<=Math.max(2*l,8)||J===!1?0:Math.floor(w/2);function Z(){var Ce=0;if(q===0)return Ce;if(J)for(var Se=0;Se<g.length;Se++){var $e=g[Se];if($e==m)Ce+=1;else if($e==E)Ce+=l;else{if($e==S)continue;break}}return H&&J!==!1&&(Ce+=l),Math.min(Ce,q)}function oe(Ce){for(var Se=Ce-I,$e=I;$e<Ce;$e++){var xe=g[$e];(xe===12||xe===2)&&(Se-=1)}_.length||(ee=Z(),_.indent=ee),W+=Se,_.push(W),I=Ce}for(var ee=0;L-I>w-ee;){var se=I+w-ee;if(g[se-1]>=m&&g[se]>=m){oe(se);continue}if(g[se]==v||g[se]==p){for(se;se!=I-1&&g[se]!=v;se--);if(se>I){oe(se);continue}for(se=I+w,se;se<g.length&&g[se]==p;se++);if(se==g.length)break;oe(se);continue}for(var fe=Math.max(se-(w-(w>>2)),I-1);se>fe&&g[se]<v;)se--;if(H){for(;se>fe&&g[se]<v;)se--;for(;se>fe&&g[se]==u;)se--}else for(;se>fe&&g[se]<m;)se--;if(se>fe){oe(++se);continue}se=I+w,g[se]==k&&se--,oe(se-ee)}return _},R.prototype.$getDisplayTokens=function(g,w){var l=[],_;w=w||0;for(var L=0;L<g.length;L++){var I=g.charCodeAt(L);if(I==9){_=this.getScreenTabSize(l.length+w),l.push(E);for(var W=1;W<_;W++)l.push(S)}else I==32?l.push(m):I>39&&I<48||I>57&&I<64?l.push(u):I>=4352&&$(I)?l.push(d,k):l.push(d)}return l},R.prototype.$getStringScreenWidth=function(g,w,l){if(w==0)return[0,0];w==null&&(w=1/0),l=l||0;var _,L;for(L=0;L<g.length&&(_=g.charCodeAt(L),_==9?l+=this.getScreenTabSize(l):_>=4352&&$(_)?l+=2:l+=1,!(l>w));L++);return[l,L]},R.prototype.getRowLength=function(g){var w=1;return this.lineWidgets&&(w+=this.lineWidgets[g]&&this.lineWidgets[g].rowCount||0),!this.$useWrapMode||!this.$wrapData[g]?w:this.$wrapData[g].length+w},R.prototype.getRowLineCount=function(g){return!this.$useWrapMode||!this.$wrapData[g]?1:this.$wrapData[g].length+1},R.prototype.getRowWrapIndent=function(g){if(this.$useWrapMode){var w=this.screenToDocumentPosition(g,Number.MAX_VALUE),l=this.$wrapData[w.row];return l.length&&l[0]<w.column?l.indent:0}else return 0},R.prototype.getScreenLastRowColumn=function(g){var w=this.screenToDocumentPosition(g,Number.MAX_VALUE);return this.documentToScreenColumn(w.row,w.column)},R.prototype.getDocumentLastRowColumn=function(g,w){var l=this.documentToScreenRow(g,w);return this.getScreenLastRowColumn(l)},R.prototype.getDocumentLastRowColumnPosition=function(g,w){var l=this.documentToScreenRow(g,w);return this.screenToDocumentPosition(l,Number.MAX_VALUE/10)},R.prototype.getRowSplitData=function(g){if(this.$useWrapMode)return this.$wrapData[g]},R.prototype.getScreenTabSize=function(g){return this.$tabSize-(g%this.$tabSize|0)},R.prototype.screenToDocumentRow=function(g,w){return this.screenToDocumentPosition(g,w).row},R.prototype.screenToDocumentColumn=function(g,w){return this.screenToDocumentPosition(g,w).column},R.prototype.screenToDocumentPosition=function(g,w,l){if(g<0)return{row:0,column:0};var _,L=0,I=0,W,H=0,J=0,q=this.$screenRowCache,Z=this.$getRowCacheIndex(q,g),oe=q.length;if(oe&&Z>=0)var H=q[Z],L=this.$docRowCache[Z],ee=g>q[oe-1];else var ee=!oe;for(var se=this.getLength()-1,fe=this.getNextFoldLine(L),Ce=fe?fe.start.row:1/0;H<=g&&(J=this.getRowLength(L),!(H+J>g||L>=se));)H+=J,L++,L>Ce&&(L=fe.end.row+1,fe=this.getNextFoldLine(L,fe),Ce=fe?fe.start.row:1/0),ee&&(this.$docRowCache.push(L),this.$screenRowCache.push(H));if(fe&&fe.start.row<=L)_=this.getFoldDisplayLine(fe),L=fe.start.row;else{if(H+J<=g||L>se)return{row:se,column:this.getLine(se).length};_=this.getLine(L),fe=null}var Se=0,$e=Math.floor(g-H);if(this.$useWrapMode){var xe=this.$wrapData[L];xe&&(W=xe[$e],$e>0&&xe.length&&(Se=xe.indent,I=xe[$e-1]||xe[xe.length-1],_=_.substring(I)))}return l!==void 0&&this.$bidiHandler.isBidiRow(H+$e,L,$e)&&(w=this.$bidiHandler.offsetToCol(l)),I+=this.$getStringScreenWidth(_,w-Se)[1],this.$useWrapMode&&I>=W&&(I=W-1),fe?fe.idxToPosition(I):{row:L,column:I}},R.prototype.documentToScreenPosition=function(g,w){if(typeof w>"u")var l=this.$clipPositionToDocument(g.row,g.column);else l=this.$clipPositionToDocument(g,w);g=l.row,w=l.column;var _=0,L=null,I=null;I=this.getFoldAt(g,w,1),I&&(g=I.start.row,w=I.start.column);var W,H=0,J=this.$docRowCache,q=this.$getRowCacheIndex(J,g),Z=J.length;if(Z&&q>=0)var H=J[q],_=this.$screenRowCache[q],oe=g>J[Z-1];else var oe=!Z;for(var ee=this.getNextFoldLine(H),se=ee?ee.start.row:1/0;H<g;){if(H>=se){if(W=ee.end.row+1,W>g)break;ee=this.getNextFoldLine(W,ee),se=ee?ee.start.row:1/0}else W=H+1;_+=this.getRowLength(H),H=W,oe&&(this.$docRowCache.push(H),this.$screenRowCache.push(_))}var fe="";ee&&H>=se?(fe=this.getFoldDisplayLine(ee,g,w),L=ee.start.row):(fe=this.getLine(g).substring(0,w),L=g);var Ce=0;if(this.$useWrapMode){var Se=this.$wrapData[L];if(Se){for(var $e=0;fe.length>=Se[$e];)_++,$e++;fe=fe.substring(Se[$e-1]||0,fe.length),Ce=$e>0?Se.indent:0}}return this.lineWidgets&&this.lineWidgets[H]&&this.lineWidgets[H].rowsAbove&&(_+=this.lineWidgets[H].rowsAbove),{row:_,column:Ce+this.$getStringScreenWidth(fe)[0]}},R.prototype.documentToScreenColumn=function(g,w){return this.documentToScreenPosition(g,w).column},R.prototype.documentToScreenRow=function(g,w){return this.documentToScreenPosition(g,w).row},R.prototype.getScreenLength=function(){var g=0,w=null;if(this.$useWrapMode)for(var L=this.$wrapData.length,I=0,_=0,w=this.$foldData[_++],W=w?w.start.row:1/0;I<L;){var H=this.$wrapData[I];g+=H?H.length+1:1,I++,I>W&&(I=w.end.row+1,w=this.$foldData[_++],W=w?w.start.row:1/0)}else{g=this.getLength();for(var l=this.$foldData,_=0;_<l.length;_++)w=l[_],g-=w.end.row-w.start.row}return this.lineWidgets&&(g+=this.$getWidgetScreenLength()),g},R.prototype.$setFontMetrics=function(g){this.$enableVarChar&&(this.$getStringScreenWidth=function(w,l,_){if(l===0)return[0,0];l||(l=1/0),_=_||0;var L,I;for(I=0;I<w.length&&(L=w.charAt(I),L==="	"?_+=this.getScreenTabSize(_):_+=g.getCharacterWidth(L),!(_>l));I++);return[_,I]})},R.prototype.getPrecedingCharacter=function(){var g=this.selection.getCursor();if(g.column===0)return g.row===0?"":this.doc.getNewLineCharacter();var w=this.getLine(g.row);return w[g.column-1]},R.prototype.destroy=function(){this.destroyed||(this.bgTokenizer.setDocument(null),this.bgTokenizer.cleanup(),this.destroyed=!0),this.$stopWorker(),this.removeAllListeners(),this.doc&&this.doc.off("change",this.$onChange),this.selection.detach()},R}();c.$uid=0,c.prototype.$modes=s.$modes,c.prototype.getValue=c.prototype.toString,c.prototype.$defaultUndoManager={undo:function(){},redo:function(){},hasUndo:function(){},hasRedo:function(){},reset:function(){},add:function(){},addSelection:function(){},startNewGroup:function(){},addSession:function(){}},c.prototype.$overwrite=!1,c.prototype.$mode=null,c.prototype.$modeId=null,c.prototype.$scrollTop=0,c.prototype.$scrollLeft=0,c.prototype.$wrapLimit=80,c.prototype.$useWrapMode=!1,c.prototype.$wrapLimitRange={min:null,max:null},c.prototype.lineWidgets=null,c.prototype.isFullWidth=$,M.implement(c.prototype,h);var d=1,k=2,v=3,p=4,u=9,m=10,E=11,S=12;function $(R){return R<4352?!1:R>=4352&&R<=4447||R>=4515&&R<=4519||R>=4602&&R<=4607||R>=9001&&R<=9002||R>=11904&&R<=11929||R>=11931&&R<=12019||R>=12032&&R<=12245||R>=12272&&R<=12283||R>=12288&&R<=12350||R>=12353&&R<=12438||R>=12441&&R<=12543||R>=12549&&R<=12589||R>=12593&&R<=12686||R>=12688&&R<=12730||R>=12736&&R<=12771||R>=12784&&R<=12830||R>=12832&&R<=12871||R>=12880&&R<=13054||R>=13056&&R<=19903||R>=19968&&R<=42124||R>=42128&&R<=42182||R>=43360&&R<=43388||R>=44032&&R<=55203||R>=55216&&R<=55238||R>=55243&&R<=55291||R>=63744&&R<=64255||R>=65040&&R<=65049||R>=65072&&R<=65106||R>=65108&&R<=65126||R>=65128&&R<=65131||R>=65281&&R<=65376||R>=65504&&R<=65510}f("./edit_session/folding").Folding.call(c.prototype),f("./edit_session/bracket_match").BracketMatch.call(c.prototype),s.defineOptions(c.prototype,"session",{wrap:{set:function(R){if(!R||R=="off"?R=!1:R=="free"?R=!0:R=="printMargin"?R=-1:typeof R=="string"&&(R=parseInt(R,10)||!1),this.$wrap!=R)if(this.$wrap=R,!R)this.setUseWrapMode(!1);else{var g=typeof R=="number"?R:null;this.setWrapLimitRange(g,g),this.setUseWrapMode(!0)}},get:function(){return this.getUseWrapMode()?this.$wrap==-1?"printMargin":this.getWrapLimitRange().min?this.$wrap:"free":"off"},handlesSet:!0},wrapMethod:{set:function(R){R=R=="auto"?this.$mode.type!="text":R!="text",R!=this.$wrapAsCode&&(this.$wrapAsCode=R,this.$useWrapMode&&(this.$useWrapMode=!1,this.setUseWrapMode(!0)))},initialValue:"auto"},indentedSoftWrap:{set:function(){this.$useWrapMode&&(this.$useWrapMode=!1,this.setUseWrapMode(!0))},initialValue:!0},firstLineNumber:{set:function(){this._signal("changeBreakpoint")},initialValue:1},useWorker:{set:function(R){this.$useWorker=R,this.$stopWorker(),R&&this.$startWorker()},initialValue:!0},useSoftTabs:{initialValue:!0},tabSize:{set:function(R){R=parseInt(R),R>0&&this.$tabSize!==R&&(this.$modified=!0,this.$rowLengthCache=[],this.$tabSize=R,this._signal("changeTabSize"))},initialValue:4,handlesSet:!0},navigateWithinSoftTabs:{initialValue:!1},foldStyle:{set:function(R){this.setFoldStyle(R)},handlesSet:!0},overwrite:{set:function(R){this._signal("changeOverwrite")},initialValue:!1},newLineMode:{set:function(R){this.doc.setNewLineMode(R)},get:function(){return this.doc.getNewLineMode()},handlesSet:!0},mode:{set:function(R){this.setMode(R)},get:function(){return this.$modeId},handlesSet:!0}}),D.EditSession=c}),ace.define("ace/search",["require","exports","module","ace/lib/lang","ace/lib/oop","ace/range"],function(f,D,z){var M=f("./lib/lang"),A=f("./lib/oop"),y=f("./range").Range,s=function(){function o(){this.$options={}}return o.prototype.set=function(r){return A.mixin(this.$options,r),this},o.prototype.getOptions=function(){return M.copyObject(this.$options)},o.prototype.setOptions=function(r){this.$options=r},o.prototype.find=function(r){var i=this.$options,t=this.$matchIterator(r,i);if(!t)return!1;var e=null;return t.forEach(function(n,a,c,d){return e=new y(n,a,c,d),a==d&&i.start&&i.start.start&&i.skipCurrent!=!1&&e.isEqual(i.start)?(e=null,!1):!0}),e},o.prototype.findAll=function(r){var i=this.$options;if(!i.needle)return[];this.$assembleRegExp(i);var t=i.range,e=t?r.getLines(t.start.row,t.end.row):r.doc.getAllLines(),n=[],a=i.re;if(i.$isMultiLine){var c=a.length,d=e.length-c,k;e:for(var v=a.offset||0;v<=d;v++){for(var p=0;p<c;p++)if(e[v+p].search(a[p])==-1)continue e;var u=e[v],m=e[v+c-1],E=u.length-u.match(a[0])[0].length,S=m.match(a[c-1])[0].length;k&&k.end.row===v&&k.end.column>E||(n.push(k=new y(v,E,v+c-1,S)),c>2&&(v=v+c-2))}}else for(var $=0;$<e.length;$++)for(var R=M.getMatchOffsets(e[$],a),p=0;p<R.length;p++){var g=R[p];n.push(new y($,g.offset,$,g.offset+g.length))}if(t){for(var w=t.start.column,l=t.end.column,$=0,p=n.length-1;$<p&&n[$].start.column<w&&n[$].start.row==0;)$++;for(var _=t.end.row-t.start.row;$<p&&n[p].end.column>l&&n[p].end.row==_;)p--;for(n=n.slice($,p+1),$=0,p=n.length;$<p;$++)n[$].start.row+=t.start.row,n[$].end.row+=t.start.row}return n},o.prototype.replace=function(r,i){var t=this.$options,e=this.$assembleRegExp(t);if(t.$isMultiLine)return i;if(e){var n=e.exec(r);if(!n||n[0].length!=r.length)return null;if(t.regExp||(i=i.replace(/\$/g,"$$$$")),i=r.replace(e,i),t.preserveCase){i=i.split("");for(var a=Math.min(r.length,r.length);a--;){var c=r[a];c&&c.toLowerCase()!=c?i[a]=i[a].toUpperCase():i[a]=i[a].toLowerCase()}i=i.join("")}return i}},o.prototype.$assembleRegExp=function(r,i){if(r.needle instanceof RegExp)return r.re=r.needle;var t=r.needle;if(!r.needle)return r.re=!1;r.regExp||(t=M.escapeRegExp(t));var e=r.caseSensitive?"gm":"gmi";try{new RegExp(t,"u"),r.$supportsUnicodeFlag=!0,e+="u"}catch{r.$supportsUnicodeFlag=!1}if(r.wholeWord&&(t=h(t,r)),r.$isMultiLine=!i&&/[\n\r]/.test(t),r.$isMultiLine)return r.re=this.$assembleMultilineRegExp(t,e);try{var n=new RegExp(t,e)}catch{n=!1}return r.re=n},o.prototype.$assembleMultilineRegExp=function(r,i){for(var t=r.replace(/\r\n|\r|\n/g,`$
^`).split(`
`),e=[],n=0;n<t.length;n++)try{e.push(new RegExp(t[n],i))}catch{return!1}return e},o.prototype.$matchIterator=function(r,i){var t=this.$assembleRegExp(i);if(!t)return!1;var e=i.backwards==!0,n=i.skipCurrent!=!1,a=t.unicode,c=i.range,d=i.start;d||(d=c?c[e?"end":"start"]:r.selection.getRange()),d.start&&(d=d[n!=e?"end":"start"]);var k=c?c.start.row:0,v=c?c.end.row:r.getLength()-1;if(e)var p=function(E){var S=d.row;if(!m(S,d.column,E)){for(S--;S>=k;S--)if(m(S,Number.MAX_VALUE,E))return;if(i.wrap!=!1){for(S=v,k=d.row;S>=k;S--)if(m(S,Number.MAX_VALUE,E))return}}};else var p=function(S){var $=d.row;if(!m($,d.column,S)){for($=$+1;$<=v;$++)if(m($,0,S))return;if(i.wrap!=!1){for($=k,v=d.row;$<=v;$++)if(m($,0,S))return}}};if(i.$isMultiLine)var u=t.length,m=function(E,S,$){var R=e?E-u+1:E;if(!(R<0||R+u>r.getLength())){var g=r.getLine(R),w=g.search(t[0]);if(!(!e&&w<S||w===-1)){for(var l=1;l<u;l++)if(g=r.getLine(R+l),g.search(t[l])==-1)return;var _=g.match(t[u-1])[0].length;if(!(e&&_>S)&&$(R,w,R+u-1,_))return!0}}};else if(e)var m=function(S,$,R){var g=r.getLine(S),w=[],l,_=0;for(t.lastIndex=0;l=t.exec(g);){var L=l[0].length;if(_=l.index,!L){if(_>=g.length)break;t.lastIndex=_+=M.skipEmptyMatch(g,_,a)}if(l.index+L>$)break;w.push(l.index,L)}for(var I=w.length-1;I>=0;I-=2){var W=w[I-1],L=w[I];if(R(S,W,S,W+L))return!0}};else var m=function(S,$,R){var g=r.getLine(S),w,l;for(t.lastIndex=$;l=t.exec(g);){var _=l[0].length;if(w=l.index,R(S,w,S,w+_))return!0;if(!_&&(t.lastIndex=w+=M.skipEmptyMatch(g,w,a),w>=g.length))return!1}};return{forEach:p}},o}();function h(o,r){var i=M.supportsLookbehind();function t(c,d){d===void 0&&(d=!0);var k=i&&r.$supportsUnicodeFlag?new RegExp("[\\p{L}\\p{N}_]","u"):new RegExp("\\w");return k.test(c)||r.regExp?i&&r.$supportsUnicodeFlag?d?"(?<=^|[^\\p{L}\\p{N}_])":"(?=[^\\p{L}\\p{N}_]|$)":"\\b":""}var e=Array.from(o),n=e[0],a=e[e.length-1];return t(n)+o+t(a,!1)}D.Search=s}),ace.define("ace/keyboard/hash_handler",["require","exports","module","ace/lib/keys","ace/lib/useragent"],function(f,D,z){var M=this&&this.__extends||function(){var i=function(t,e){return i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,a){n.__proto__=a}||function(n,a){for(var c in a)Object.prototype.hasOwnProperty.call(a,c)&&(n[c]=a[c])},i(t,e)};return function(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");i(t,e);function n(){this.constructor=t}t.prototype=e===null?Object.create(e):(n.prototype=e.prototype,new n)}}(),A=f("../lib/keys"),y=f("../lib/useragent"),s=A.KEY_MODS,h=function(){function i(t,e){this.$init(t,e,!1)}return i.prototype.$init=function(t,e,n){this.platform=e||(y.isMac?"mac":"win"),this.commands={},this.commandKeyBinding={},this.addCommands(t),this.$singleCommand=n},i.prototype.addCommand=function(t){this.commands[t.name]&&this.removeCommand(t),this.commands[t.name]=t,t.bindKey&&this._buildKeyHash(t)},i.prototype.removeCommand=function(t,e){var n=t&&(typeof t=="string"?t:t.name);t=this.commands[n],e||delete this.commands[n];var a=this.commandKeyBinding;for(var c in a){var d=a[c];if(d==t)delete a[c];else if(Array.isArray(d)){var k=d.indexOf(t);k!=-1&&(d.splice(k,1),d.length==1&&(a[c]=d[0]))}}},i.prototype.bindKey=function(t,e,n){if(typeof t=="object"&&t&&(n==null&&(n=t.position),t=t[this.platform]),!!t){if(typeof e=="function")return this.addCommand({exec:e,bindKey:t,name:e.name||t});t.split("|").forEach(function(a){var c="";if(a.indexOf(" ")!=-1){var d=a.split(/\s+/);a=d.pop(),d.forEach(function(p){var u=this.parseKeys(p),m=s[u.hashId]+u.key;c+=(c?" ":"")+m,this._addCommandToBinding(c,"chainKeys")},this),c+=" "}var k=this.parseKeys(a),v=s[k.hashId]+k.key;this._addCommandToBinding(c+v,e,n)},this)}},i.prototype._addCommandToBinding=function(t,e,n){var a=this.commandKeyBinding,c;if(!e)delete a[t];else if(!a[t]||this.$singleCommand)a[t]=e;else{Array.isArray(a[t])?(c=a[t].indexOf(e))!=-1&&a[t].splice(c,1):a[t]=[a[t]],typeof n!="number"&&(n=o(e));var d=a[t];for(c=0;c<d.length;c++){var k=d[c],v=o(k);if(v>n)break}d.splice(c,0,e)}},i.prototype.addCommands=function(t){t&&Object.keys(t).forEach(function(e){var n=t[e];if(n){if(typeof n=="string")return this.bindKey(n,e);typeof n=="function"&&(n={exec:n}),typeof n=="object"&&(n.name||(n.name=e),this.addCommand(n))}},this)},i.prototype.removeCommands=function(t){Object.keys(t).forEach(function(e){this.removeCommand(t[e])},this)},i.prototype.bindKeys=function(t){Object.keys(t).forEach(function(e){this.bindKey(e,t[e])},this)},i.prototype._buildKeyHash=function(t){this.bindKey(t.bindKey,t)},i.prototype.parseKeys=function(t){var e=t.toLowerCase().split(/[\-\+]([\-\+])?/).filter(function(v){return v}),n=e.pop(),a=A[n];if(A.FUNCTION_KEYS[a])n=A.FUNCTION_KEYS[a].toLowerCase();else if(e.length){if(e.length==1&&e[0]=="shift")return{key:n.toUpperCase(),hashId:-1}}else return{key:n,hashId:-1};for(var c=0,d=e.length;d--;){var k=A.KEY_MODS[e[d]];if(k==null)return typeof console<"u"&&console.error("invalid modifier "+e[d]+" in "+t),!1;c|=k}return{key:n,hashId:c}},i.prototype.findKeyCommand=function(t,e){var n=s[t]+e;return this.commandKeyBinding[n]},i.prototype.handleKeyboard=function(t,e,n,a){if(!(a<0)){var c=s[e]+n,d=this.commandKeyBinding[c];return t.$keyChain&&(t.$keyChain+=" "+c,d=this.commandKeyBinding[t.$keyChain]||d),d&&(d=="chainKeys"||d[d.length-1]=="chainKeys")?(t.$keyChain=t.$keyChain||c,{command:"null"}):(t.$keyChain&&((!e||e==4)&&n.length==1?t.$keyChain=t.$keyChain.slice(0,-c.length-1):(e==-1||a>0)&&(t.$keyChain="")),{command:d})}},i.prototype.getStatusText=function(t,e){return e.$keyChain||""},i}();function o(i){return typeof i=="object"&&i.bindKey&&i.bindKey.position||(i.isDefault?-100:0)}var r=function(i){M(t,i);function t(e,n){var a=i.call(this,e,n)||this;return a.$singleCommand=!0,a}return t}(h);r.call=function(i,t,e){h.prototype.$init.call(i,t,e,!0)},h.call=function(i,t,e){h.prototype.$init.call(i,t,e,!1)},D.HashHandler=r,D.MultiHashHandler=h}),ace.define("ace/commands/command_manager",["require","exports","module","ace/lib/oop","ace/keyboard/hash_handler","ace/lib/event_emitter"],function(f,D,z){var M=this&&this.__extends||function(){var o=function(r,i){return o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])},o(r,i)};return function(r,i){if(typeof i!="function"&&i!==null)throw new TypeError("Class extends value "+String(i)+" is not a constructor or null");o(r,i);function t(){this.constructor=r}r.prototype=i===null?Object.create(i):(t.prototype=i.prototype,new t)}}(),A=f("../lib/oop"),y=f("../keyboard/hash_handler").MultiHashHandler,s=f("../lib/event_emitter").EventEmitter,h=function(o){M(r,o);function r(i,t){var e=o.call(this,t,i)||this;return e.byName=e.commands,e.setDefaultHandler("exec",function(n){return n.args?n.command.exec(n.editor,n.args,n.event,!1):n.command.exec(n.editor,{},n.event,!0)}),e}return r.prototype.exec=function(i,t,e){if(Array.isArray(i)){for(var n=i.length;n--;)if(this.exec(i[n],t,e))return!0;return!1}if(typeof i=="string"&&(i=this.commands[i]),!this.canExecute(i,t))return!1;var a={editor:t,command:i,args:e};return a.returnValue=this._emit("exec",a),this._signal("afterExec",a),a.returnValue!==!1},r.prototype.canExecute=function(i,t){return typeof i=="string"&&(i=this.commands[i]),!(!i||t&&t.$readOnly&&!i.readOnly||this.$checkCommandState!=!1&&i.isAvailable&&!i.isAvailable(t))},r.prototype.toggleRecording=function(i){if(!this.$inReplay)return i&&i._emit("changeStatus"),this.recording?(this.macro.pop(),this.off("exec",this.$addCommandToMacro),this.macro.length||(this.macro=this.oldMacro),this.recording=!1):(this.$addCommandToMacro||(this.$addCommandToMacro=(function(t){this.macro.push([t.command,t.args])}).bind(this)),this.oldMacro=this.macro,this.macro=[],this.on("exec",this.$addCommandToMacro),this.recording=!0)},r.prototype.replay=function(i){if(!(this.$inReplay||!this.macro)){if(this.recording)return this.toggleRecording(i);try{this.$inReplay=!0,this.macro.forEach(function(t){typeof t=="string"?this.exec(t,i):this.exec(t[0],i,t[1])},this)}finally{this.$inReplay=!1}}},r.prototype.trimMacro=function(i){return i.map(function(t){return typeof t[0]!="string"&&(t[0]=t[0].name),t[1]||(t=t[0]),t})},r}(y);A.implement(h.prototype,s),D.CommandManager=h}),ace.define("ace/commands/default_commands",["require","exports","module","ace/lib/lang","ace/config","ace/range"],function(f,D,z){var M=f("../lib/lang"),A=f("../config"),y=f("../range").Range;function s(o,r){return{win:o,mac:r}}D.commands=[{name:"showSettingsMenu",description:"Show settings menu",bindKey:s("Ctrl-,","Command-,"),exec:function(o){A.loadModule("ace/ext/settings_menu",function(r){r.init(o),o.showSettingsMenu()})},readOnly:!0},{name:"goToNextError",description:"Go to next error",bindKey:s("Alt-E","F4"),exec:function(o){A.loadModule("ace/ext/error_marker",function(r){r.showErrorMarker(o,1)})},scrollIntoView:"animate",readOnly:!0},{name:"goToPreviousError",description:"Go to previous error",bindKey:s("Alt-Shift-E","Shift-F4"),exec:function(o){A.loadModule("ace/ext/error_marker",function(r){r.showErrorMarker(o,-1)})},scrollIntoView:"animate",readOnly:!0},{name:"selectall",description:"Select all",bindKey:s("Ctrl-A","Command-A"),exec:function(o){o.selectAll()},readOnly:!0},{name:"centerselection",description:"Center selection",bindKey:s(null,"Ctrl-L"),exec:function(o){o.centerSelection()},readOnly:!0},{name:"gotoline",description:"Go to line...",bindKey:s("Ctrl-L","Command-L"),exec:function(o,r){typeof r=="number"&&!isNaN(r)&&o.gotoLine(r),o.prompt({$type:"gotoLine"})},readOnly:!0},{name:"fold",bindKey:s("Alt-L|Ctrl-F1","Command-Alt-L|Command-F1"),exec:function(o){o.session.toggleFold(!1)},multiSelectAction:"forEach",scrollIntoView:"center",readOnly:!0},{name:"unfold",bindKey:s("Alt-Shift-L|Ctrl-Shift-F1","Command-Alt-Shift-L|Command-Shift-F1"),exec:function(o){o.session.toggleFold(!0)},multiSelectAction:"forEach",scrollIntoView:"center",readOnly:!0},{name:"toggleFoldWidget",description:"Toggle fold widget",bindKey:s("F2","F2"),exec:function(o){o.session.toggleFoldWidget()},multiSelectAction:"forEach",scrollIntoView:"center",readOnly:!0},{name:"toggleParentFoldWidget",description:"Toggle parent fold widget",bindKey:s("Alt-F2","Alt-F2"),exec:function(o){o.session.toggleFoldWidget(!0)},multiSelectAction:"forEach",scrollIntoView:"center",readOnly:!0},{name:"foldall",description:"Fold all",bindKey:s(null,"Ctrl-Command-Option-0"),exec:function(o){o.session.foldAll()},scrollIntoView:"center",readOnly:!0},{name:"foldAllComments",description:"Fold all comments",bindKey:s(null,"Ctrl-Command-Option-0"),exec:function(o){o.session.foldAllComments()},scrollIntoView:"center",readOnly:!0},{name:"foldOther",description:"Fold other",bindKey:s("Alt-0","Command-Option-0"),exec:function(o){o.session.foldAll(),o.session.unfold(o.selection.getAllRanges())},scrollIntoView:"center",readOnly:!0},{name:"unfoldall",description:"Unfold all",bindKey:s("Alt-Shift-0","Command-Option-Shift-0"),exec:function(o){o.session.unfold()},scrollIntoView:"center",readOnly:!0},{name:"findnext",description:"Find next",bindKey:s("Ctrl-K","Command-G"),exec:function(o){o.findNext()},multiSelectAction:"forEach",scrollIntoView:"center",readOnly:!0},{name:"findprevious",description:"Find previous",bindKey:s("Ctrl-Shift-K","Command-Shift-G"),exec:function(o){o.findPrevious()},multiSelectAction:"forEach",scrollIntoView:"center",readOnly:!0},{name:"selectOrFindNext",description:"Select or find next",bindKey:s("Alt-K","Ctrl-G"),exec:function(o){o.selection.isEmpty()?o.selection.selectWord():o.findNext()},readOnly:!0},{name:"selectOrFindPrevious",description:"Select or find previous",bindKey:s("Alt-Shift-K","Ctrl-Shift-G"),exec:function(o){o.selection.isEmpty()?o.selection.selectWord():o.findPrevious()},readOnly:!0},{name:"find",description:"Find",bindKey:s("Ctrl-F","Command-F"),exec:function(o){A.loadModule("ace/ext/searchbox",function(r){r.Search(o)})},readOnly:!0},{name:"overwrite",description:"Overwrite",bindKey:"Insert",exec:function(o){o.toggleOverwrite()},readOnly:!0},{name:"selecttostart",description:"Select to start",bindKey:s("Ctrl-Shift-Home","Command-Shift-Home|Command-Shift-Up"),exec:function(o){o.getSelection().selectFileStart()},multiSelectAction:"forEach",readOnly:!0,scrollIntoView:"animate",aceCommandGroup:"fileJump"},{name:"gotostart",description:"Go to start",bindKey:s("Ctrl-Home","Command-Home|Command-Up"),exec:function(o){o.navigateFileStart()},multiSelectAction:"forEach",readOnly:!0,scrollIntoView:"animate",aceCommandGroup:"fileJump"},{name:"selectup",description:"Select up",bindKey:s("Shift-Up","Shift-Up|Ctrl-Shift-P"),exec:function(o){o.getSelection().selectUp()},multiSelectAction:"forEach",scrollIntoView:"cursor",readOnly:!0},{name:"golineup",description:"Go line up",bindKey:s("Up","Up|Ctrl-P"),exec:function(o,r){o.navigateUp(r.times)},multiSelectAction:"forEach",scrollIntoView:"cursor",readOnly:!0},{name:"selecttoend",description:"Select to end",bindKey:s("Ctrl-Shift-End","Command-Shift-End|Command-Shift-Down"),exec:function(o){o.getSelection().selectFileEnd()},multiSelectAction:"forEach",readOnly:!0,scrollIntoView:"animate",aceCommandGroup:"fileJump"},{name:"gotoend",description:"Go to end",bindKey:s("Ctrl-End","Command-End|Command-Down"),exec:function(o){o.navigateFileEnd()},multiSelectAction:"forEach",readOnly:!0,scrollIntoView:"animate",aceCommandGroup:"fileJump"},{name:"selectdown",description:"Select down",bindKey:s("Shift-Down","Shift-Down|Ctrl-Shift-N"),exec:function(o){o.getSelection().selectDown()},multiSelectAction:"forEach",scrollIntoView:"cursor",readOnly:!0},{name:"golinedown",description:"Go line down",bindKey:s("Down","Down|Ctrl-N"),exec:function(o,r){o.navigateDown(r.times)},multiSelectAction:"forEach",scrollIntoView:"cursor",readOnly:!0},{name:"selectwordleft",description:"Select word left",bindKey:s("Ctrl-Shift-Left","Option-Shift-Left"),exec:function(o){o.getSelection().selectWordLeft()},multiSelectAction:"forEach",scrollIntoView:"cursor",readOnly:!0},{name:"gotowordleft",description:"Go to word left",bindKey:s("Ctrl-Left","Option-Left"),exec:function(o){o.navigateWordLeft()},multiSelectAction:"forEach",scrollIntoView:"cursor",readOnly:!0},{name:"selecttolinestart",description:"Select to line start",bindKey:s("Alt-Shift-Left","Command-Shift-Left|Ctrl-Shift-A"),exec:function(o){o.getSelection().selectLineStart()},multiSelectAction:"forEach",scrollIntoView:"cursor",readOnly:!0},{name:"gotolinestart",description:"Go to line start",bindKey:s("Alt-Left|Home","Command-Left|Home|Ctrl-A"),exec:function(o){o.navigateLineStart()},multiSelectAction:"forEach",scrollIntoView:"cursor",readOnly:!0},{name:"selectleft",description:"Select left",bindKey:s("Shift-Left","Shift-Left|Ctrl-Shift-B"),exec:function(o){o.getSelection().selectLeft()},multiSelectAction:"forEach",scrollIntoView:"cursor",readOnly:!0},{name:"gotoleft",description:"Go to left",bindKey:s("Left","Left|Ctrl-B"),exec:function(o,r){o.navigateLeft(r.times)},multiSelectAction:"forEach",scrollIntoView:"cursor",readOnly:!0},{name:"selectwordright",description:"Select word right",bindKey:s("Ctrl-Shift-Right","Option-Shift-Right"),exec:function(o){o.getSelection().selectWordRight()},multiSelectAction:"forEach",scrollIntoView:"cursor",readOnly:!0},{name:"gotowordright",description:"Go to word right",bindKey:s("Ctrl-Right","Option-Right"),exec:function(o){o.navigateWordRight()},multiSelectAction:"forEach",scrollIntoView:"cursor",readOnly:!0},{name:"selecttolineend",description:"Select to line end",bindKey:s("Alt-Shift-Right","Command-Shift-Right|Shift-End|Ctrl-Shift-E"),exec:function(o){o.getSelection().selectLineEnd()},multiSelectAction:"forEach",scrollIntoView:"cursor",readOnly:!0},{name:"gotolineend",description:"Go to line end",bindKey:s("Alt-Right|End","Command-Right|End|Ctrl-E"),exec:function(o){o.navigateLineEnd()},multiSelectAction:"forEach",scrollIntoView:"cursor",readOnly:!0},{name:"selectright",description:"Select right",bindKey:s("Shift-Right","Shift-Right"),exec:function(o){o.getSelection().selectRight()},multiSelectAction:"forEach",scrollIntoView:"cursor",readOnly:!0},{name:"gotoright",description:"Go to right",bindKey:s("Right","Right|Ctrl-F"),exec:function(o,r){o.navigateRight(r.times)},multiSelectAction:"forEach",scrollIntoView:"cursor",readOnly:!0},{name:"selectpagedown",description:"Select page down",bindKey:"Shift-PageDown",exec:function(o){o.selectPageDown()},readOnly:!0},{name:"pagedown",description:"Page down",bindKey:s(null,"Option-PageDown"),exec:function(o){o.scrollPageDown()},readOnly:!0},{name:"gotopagedown",description:"Go to page down",bindKey:s("PageDown","PageDown|Ctrl-V"),exec:function(o){o.gotoPageDown()},readOnly:!0},{name:"selectpageup",description:"Select page up",bindKey:"Shift-PageUp",exec:function(o){o.selectPageUp()},readOnly:!0},{name:"pageup",description:"Page up",bindKey:s(null,"Option-PageUp"),exec:function(o){o.scrollPageUp()},readOnly:!0},{name:"gotopageup",description:"Go to page up",bindKey:"PageUp",exec:function(o){o.gotoPageUp()},readOnly:!0},{name:"scrollup",description:"Scroll up",bindKey:s("Ctrl-Up",null),exec:function(o){o.renderer.scrollBy(0,-2*o.renderer.layerConfig.lineHeight)},readOnly:!0},{name:"scrolldown",description:"Scroll down",bindKey:s("Ctrl-Down",null),exec:function(o){o.renderer.scrollBy(0,2*o.renderer.layerConfig.lineHeight)},readOnly:!0},{name:"selectlinestart",description:"Select line start",bindKey:"Shift-Home",exec:function(o){o.getSelection().selectLineStart()},multiSelectAction:"forEach",scrollIntoView:"cursor",readOnly:!0},{name:"selectlineend",description:"Select line end",bindKey:"Shift-End",exec:function(o){o.getSelection().selectLineEnd()},multiSelectAction:"forEach",scrollIntoView:"cursor",readOnly:!0},{name:"togglerecording",description:"Toggle recording",bindKey:s("Ctrl-Alt-E","Command-Option-E"),exec:function(o){o.commands.toggleRecording(o)},readOnly:!0},{name:"replaymacro",description:"Replay macro",bindKey:s("Ctrl-Shift-E","Command-Shift-E"),exec:function(o){o.commands.replay(o)},readOnly:!0},{name:"jumptomatching",description:"Jump to matching",bindKey:s("Ctrl-\\|Ctrl-P","Command-\\"),exec:function(o){o.jumpToMatching()},multiSelectAction:"forEach",scrollIntoView:"animate",readOnly:!0},{name:"selecttomatching",description:"Select to matching",bindKey:s("Ctrl-Shift-\\|Ctrl-Shift-P","Command-Shift-\\"),exec:function(o){o.jumpToMatching(!0)},multiSelectAction:"forEach",scrollIntoView:"animate",readOnly:!0},{name:"expandToMatching",description:"Expand to matching",bindKey:s("Ctrl-Shift-M","Ctrl-Shift-M"),exec:function(o){o.jumpToMatching(!0,!0)},multiSelectAction:"forEach",scrollIntoView:"animate",readOnly:!0},{name:"passKeysToBrowser",description:"Pass keys to browser",bindKey:s(null,null),exec:function(){},passEvent:!0,readOnly:!0},{name:"copy",description:"Copy",exec:function(o){},readOnly:!0},{name:"cut",description:"Cut",exec:function(o){var r=o.$copyWithEmptySelection&&o.selection.isEmpty(),i=r?o.selection.getLineRange():o.selection.getRange();o._emit("cut",i),i.isEmpty()||o.session.remove(i),o.clearSelection()},scrollIntoView:"cursor",multiSelectAction:"forEach"},{name:"paste",description:"Paste",exec:function(o,r){o.$handlePaste(r)},scrollIntoView:"cursor"},{name:"removeline",description:"Remove line",bindKey:s("Ctrl-D","Command-D"),exec:function(o){o.removeLines()},scrollIntoView:"cursor",multiSelectAction:"forEachLine"},{name:"duplicateSelection",description:"Duplicate selection",bindKey:s("Ctrl-Shift-D","Command-Shift-D"),exec:function(o){o.duplicateSelection()},scrollIntoView:"cursor",multiSelectAction:"forEach"},{name:"sortlines",description:"Sort lines",bindKey:s("Ctrl-Alt-S","Command-Alt-S"),exec:function(o){o.sortLines()},scrollIntoView:"selection",multiSelectAction:"forEachLine"},{name:"togglecomment",description:"Toggle comment",bindKey:s("Ctrl-/","Command-/"),exec:function(o){o.toggleCommentLines()},multiSelectAction:"forEachLine",scrollIntoView:"selectionPart"},{name:"toggleBlockComment",description:"Toggle block comment",bindKey:s("Ctrl-Shift-/","Command-Shift-/"),exec:function(o){o.toggleBlockComment()},multiSelectAction:"forEach",scrollIntoView:"selectionPart"},{name:"modifyNumberUp",description:"Modify number up",bindKey:s("Ctrl-Shift-Up","Alt-Shift-Up"),exec:function(o){o.modifyNumber(1)},scrollIntoView:"cursor",multiSelectAction:"forEach"},{name:"modifyNumberDown",description:"Modify number down",bindKey:s("Ctrl-Shift-Down","Alt-Shift-Down"),exec:function(o){o.modifyNumber(-1)},scrollIntoView:"cursor",multiSelectAction:"forEach"},{name:"replace",description:"Replace",bindKey:s("Ctrl-H","Command-Option-F"),exec:function(o){A.loadModule("ace/ext/searchbox",function(r){r.Search(o,!0)})}},{name:"undo",description:"Undo",bindKey:s("Ctrl-Z","Command-Z"),exec:function(o){o.undo()}},{name:"redo",description:"Redo",bindKey:s("Ctrl-Shift-Z|Ctrl-Y","Command-Shift-Z|Command-Y"),exec:function(o){o.redo()}},{name:"copylinesup",description:"Copy lines up",bindKey:s("Alt-Shift-Up","Command-Option-Up"),exec:function(o){o.copyLinesUp()},scrollIntoView:"cursor"},{name:"movelinesup",description:"Move lines up",bindKey:s("Alt-Up","Option-Up"),exec:function(o){o.moveLinesUp()},scrollIntoView:"cursor"},{name:"copylinesdown",description:"Copy lines down",bindKey:s("Alt-Shift-Down","Command-Option-Down"),exec:function(o){o.copyLinesDown()},scrollIntoView:"cursor"},{name:"movelinesdown",description:"Move lines down",bindKey:s("Alt-Down","Option-Down"),exec:function(o){o.moveLinesDown()},scrollIntoView:"cursor"},{name:"del",description:"Delete",bindKey:s("Delete","Delete|Ctrl-D|Shift-Delete"),exec:function(o){o.remove("right")},multiSelectAction:"forEach",scrollIntoView:"cursor"},{name:"backspace",description:"Backspace",bindKey:s("Shift-Backspace|Backspace","Ctrl-Backspace|Shift-Backspace|Backspace|Ctrl-H"),exec:function(o){o.remove("left")},multiSelectAction:"forEach",scrollIntoView:"cursor"},{name:"cut_or_delete",description:"Cut or delete",bindKey:s("Shift-Delete",null),exec:function(o){if(o.selection.isEmpty())o.remove("left");else return!1},multiSelectAction:"forEach",scrollIntoView:"cursor"},{name:"removetolinestart",description:"Remove to line start",bindKey:s("Alt-Backspace","Command-Backspace"),exec:function(o){o.removeToLineStart()},multiSelectAction:"forEach",scrollIntoView:"cursor"},{name:"removetolineend",description:"Remove to line end",bindKey:s("Alt-Delete","Ctrl-K|Command-Delete"),exec:function(o){o.removeToLineEnd()},multiSelectAction:"forEach",scrollIntoView:"cursor"},{name:"removetolinestarthard",description:"Remove to line start hard",bindKey:s("Ctrl-Shift-Backspace",null),exec:function(o){var r=o.selection.getRange();r.start.column=0,o.session.remove(r)},multiSelectAction:"forEach",scrollIntoView:"cursor"},{name:"removetolineendhard",description:"Remove to line end hard",bindKey:s("Ctrl-Shift-Delete",null),exec:function(o){var r=o.selection.getRange();r.end.column=Number.MAX_VALUE,o.session.remove(r)},multiSelectAction:"forEach",scrollIntoView:"cursor"},{name:"removewordleft",description:"Remove word left",bindKey:s("Ctrl-Backspace","Alt-Backspace|Ctrl-Alt-Backspace"),exec:function(o){o.removeWordLeft()},multiSelectAction:"forEach",scrollIntoView:"cursor"},{name:"removewordright",description:"Remove word right",bindKey:s("Ctrl-Delete","Alt-Delete"),exec:function(o){o.removeWordRight()},multiSelectAction:"forEach",scrollIntoView:"cursor"},{name:"outdent",description:"Outdent",bindKey:s("Shift-Tab","Shift-Tab"),exec:function(o){o.blockOutdent()},multiSelectAction:"forEach",scrollIntoView:"selectionPart"},{name:"indent",description:"Indent",bindKey:s("Tab","Tab"),exec:function(o){o.indent()},multiSelectAction:"forEach",scrollIntoView:"selectionPart"},{name:"blockoutdent",description:"Block outdent",bindKey:s("Ctrl-[","Ctrl-["),exec:function(o){o.blockOutdent()},multiSelectAction:"forEachLine",scrollIntoView:"selectionPart"},{name:"blockindent",description:"Block indent",bindKey:s("Ctrl-]","Ctrl-]"),exec:function(o){o.blockIndent()},multiSelectAction:"forEachLine",scrollIntoView:"selectionPart"},{name:"insertstring",description:"Insert string",exec:function(o,r){o.insert(r)},multiSelectAction:"forEach",scrollIntoView:"cursor"},{name:"inserttext",description:"Insert text",exec:function(o,r){o.insert(M.stringRepeat(r.text||"",r.times||1))},multiSelectAction:"forEach",scrollIntoView:"cursor"},{name:"splitline",description:"Split line",bindKey:s(null,"Ctrl-O"),exec:function(o){o.splitLine()},multiSelectAction:"forEach",scrollIntoView:"cursor"},{name:"transposeletters",description:"Transpose letters",bindKey:s("Alt-Shift-X","Ctrl-T"),exec:function(o){o.transposeLetters()},multiSelectAction:function(o){o.transposeSelections(1)},scrollIntoView:"cursor"},{name:"touppercase",description:"To uppercase",bindKey:s("Ctrl-U","Ctrl-U"),exec:function(o){o.toUpperCase()},multiSelectAction:"forEach",scrollIntoView:"cursor"},{name:"tolowercase",description:"To lowercase",bindKey:s("Ctrl-Shift-U","Ctrl-Shift-U"),exec:function(o){o.toLowerCase()},multiSelectAction:"forEach",scrollIntoView:"cursor"},{name:"autoindent",description:"Auto Indent",bindKey:s(null,null),exec:function(o){o.autoIndent()},scrollIntoView:"animate"},{name:"expandtoline",description:"Expand to line",bindKey:s("Ctrl-Shift-L","Command-Shift-L"),exec:function(o){var r=o.selection.getRange();r.start.column=r.end.column=0,r.end.row++,o.selection.setRange(r,!1)},multiSelectAction:"forEach",scrollIntoView:"cursor",readOnly:!0},{name:"openlink",bindKey:s("Ctrl+F3","F3"),exec:function(o){o.openLink()}},{name:"joinlines",description:"Join lines",bindKey:s(null,null),exec:function(o){for(var r=o.selection.isBackwards(),i=r?o.selection.getSelectionLead():o.selection.getSelectionAnchor(),t=r?o.selection.getSelectionAnchor():o.selection.getSelectionLead(),e=o.session.doc.getLine(i.row).length,n=o.session.doc.getTextRange(o.selection.getRange()),a=n.replace(/\n\s*/," ").length,c=o.session.doc.getLine(i.row),d=i.row+1;d<=t.row+1;d++){var k=M.stringTrimLeft(M.stringTrimRight(o.session.doc.getLine(d)));k.length!==0&&(k=" "+k),c+=k}t.row+1<o.session.doc.getLength()-1&&(c+=o.session.doc.getNewLineCharacter()),o.clearSelection(),o.session.doc.replace(new y(i.row,0,t.row+2,0),c),a>0?(o.selection.moveCursorTo(i.row,i.column),o.selection.selectTo(i.row,i.column+a)):(e=o.session.doc.getLine(i.row).length>e?e+1:e,o.selection.moveCursorTo(i.row,e))},multiSelectAction:"forEach",readOnly:!0},{name:"invertSelection",description:"Invert selection",bindKey:s(null,null),exec:function(o){var r=o.session.doc.getLength()-1,i=o.session.doc.getLine(r).length,t=o.selection.rangeList.ranges,e=[];t.length<1&&(t=[o.selection.getRange()]);for(var n=0;n<t.length;n++)n==t.length-1&&(t[n].end.row===r&&t[n].end.column===i||e.push(new y(t[n].end.row,t[n].end.column,r,i))),n===0?t[n].start.row===0&&t[n].start.column===0||e.push(new y(0,0,t[n].start.row,t[n].start.column)):e.push(new y(t[n-1].end.row,t[n-1].end.column,t[n].start.row,t[n].start.column));o.exitMultiSelectMode(),o.clearSelection();for(var n=0;n<e.length;n++)o.selection.addRange(e[n],!1)},readOnly:!0,scrollIntoView:"none"},{name:"addLineAfter",description:"Add new line after the current line",exec:function(o){o.selection.clearSelection(),o.navigateLineEnd(),o.insert(`
`)},multiSelectAction:"forEach",scrollIntoView:"cursor"},{name:"addLineBefore",description:"Add new line before the current line",exec:function(o){o.selection.clearSelection();var r=o.getCursorPosition();o.selection.moveTo(r.row-1,Number.MAX_VALUE),o.insert(`
`),r.row===0&&o.navigateUp()},multiSelectAction:"forEach",scrollIntoView:"cursor"},{name:"openCommandPallete",exec:function(o){console.warn("This is an obsolete command. Please use `openCommandPalette` instead."),o.prompt({$type:"commands"})},readOnly:!0},{name:"openCommandPalette",description:"Open command palette",bindKey:s("F1","F1"),exec:function(o){o.prompt({$type:"commands"})},readOnly:!0},{name:"modeSelect",description:"Change language mode...",bindKey:s(null,null),exec:function(o){o.prompt({$type:"modes"})},readOnly:!0}];for(var h=1;h<9;h++)D.commands.push({name:"foldToLevel"+h,description:"Fold To Level "+h,level:h,exec:function(o){o.session.foldToLevel(this.level)},scrollIntoView:"center",readOnly:!0})}),ace.define("ace/line_widgets",["require","exports","module","ace/lib/dom"],function(f,D,z){var M=f("./lib/dom"),A=function(){function y(s){this.session=s,this.session.widgetManager=this,this.session.getRowLength=this.getRowLength,this.session.$getWidgetScreenLength=this.$getWidgetScreenLength,this.updateOnChange=this.updateOnChange.bind(this),this.renderWidgets=this.renderWidgets.bind(this),this.measureWidgets=this.measureWidgets.bind(this),this.session._changedWidgets=[],this.$onChangeEditor=this.$onChangeEditor.bind(this),this.session.on("change",this.updateOnChange),this.session.on("changeFold",this.updateOnFold),this.session.on("changeEditor",this.$onChangeEditor)}return y.prototype.getRowLength=function(s){var h;return this.lineWidgets?h=this.lineWidgets[s]&&this.lineWidgets[s].rowCount||0:h=0,!this.$useWrapMode||!this.$wrapData[s]?1+h:this.$wrapData[s].length+1+h},y.prototype.$getWidgetScreenLength=function(){var s=0;return this.lineWidgets.forEach(function(h){h&&h.rowCount&&!h.hidden&&(s+=h.rowCount)}),s},y.prototype.$onChangeEditor=function(s){this.attach(s.editor)},y.prototype.attach=function(s){s&&s.widgetManager&&s.widgetManager!=this&&s.widgetManager.detach(),this.editor!=s&&(this.detach(),this.editor=s,s&&(s.widgetManager=this,s.renderer.on("beforeRender",this.measureWidgets),s.renderer.on("afterRender",this.renderWidgets)))},y.prototype.detach=function(s){var h=this.editor;if(h){this.editor=null,h.widgetManager=null,h.renderer.off("beforeRender",this.measureWidgets),h.renderer.off("afterRender",this.renderWidgets);var o=this.session.lineWidgets;o&&o.forEach(function(r){r&&r.el&&r.el.parentNode&&(r._inDocument=!1,r.el.parentNode.removeChild(r.el))})}},y.prototype.updateOnFold=function(s,h){var o=h.lineWidgets;if(!(!o||!s.action)){for(var r=s.data,i=r.start.row,t=r.end.row,e=s.action=="add",n=i+1;n<t;n++)o[n]&&(o[n].hidden=e);o[t]&&(e?o[i]?o[t].hidden=e:o[i]=o[t]:(o[i]==o[t]&&(o[i]=void 0),o[t].hidden=e))}},y.prototype.updateOnChange=function(s){var h=this.session.lineWidgets;if(h){var o=s.start.row,r=s.end.row-o;if(r!==0)if(s.action=="remove"){var i=h.splice(o+1,r);!h[o]&&i[i.length-1]&&(h[o]=i.pop()),i.forEach(function(e){e&&this.removeLineWidget(e)},this),this.$updateRows()}else{var t=new Array(r);h[o]&&h[o].column!=null&&s.start.column>h[o].column&&o++,t.unshift(o,0),h.splice.apply(h,t),this.$updateRows()}}},y.prototype.$updateRows=function(){var s=this.session.lineWidgets;if(s){var h=!0;s.forEach(function(o,r){if(o)for(h=!1,o.row=r;o.$oldWidget;)o.$oldWidget.row=r,o=o.$oldWidget}),h&&(this.session.lineWidgets=null)}},y.prototype.$registerLineWidget=function(s){this.session.lineWidgets||(this.session.lineWidgets=new Array(this.session.getLength()));var h=this.session.lineWidgets[s.row];return h&&(s.$oldWidget=h,h.el&&h.el.parentNode&&(h.el.parentNode.removeChild(h.el),h._inDocument=!1)),this.session.lineWidgets[s.row]=s,s},y.prototype.addLineWidget=function(s){if(this.$registerLineWidget(s),s.session=this.session,!this.editor)return s;var h=this.editor.renderer;s.html&&!s.el&&(s.el=M.createElement("div"),s.el.innerHTML=s.html),s.text&&!s.el&&(s.el=M.createElement("div"),s.el.textContent=s.text),s.el&&(M.addCssClass(s.el,"ace_lineWidgetContainer"),s.className&&M.addCssClass(s.el,s.className),s.el.style.position="absolute",s.el.style.zIndex="5",h.container.appendChild(s.el),s._inDocument=!0,s.coverGutter||(s.el.style.zIndex="3"),s.pixelHeight==null&&(s.pixelHeight=s.el.offsetHeight)),s.rowCount==null&&(s.rowCount=s.pixelHeight/h.layerConfig.lineHeight);var o=this.session.getFoldAt(s.row,0);if(s.$fold=o,o){var r=this.session.lineWidgets;s.row==o.end.row&&!r[o.start.row]?r[o.start.row]=s:s.hidden=!0}return this.session._emit("changeFold",{data:{start:{row:s.row}}}),this.$updateRows(),this.renderWidgets(null,h),this.onWidgetChanged(s),s},y.prototype.removeLineWidget=function(s){if(s._inDocument=!1,s.session=null,s.el&&s.el.parentNode&&s.el.parentNode.removeChild(s.el),s.editor&&s.editor.destroy)try{s.editor.destroy()}catch{}if(this.session.lineWidgets){var h=this.session.lineWidgets[s.row];if(h==s)this.session.lineWidgets[s.row]=s.$oldWidget,s.$oldWidget&&this.onWidgetChanged(s.$oldWidget);else for(;h;){if(h.$oldWidget==s){h.$oldWidget=s.$oldWidget;break}h=h.$oldWidget}}this.session._emit("changeFold",{data:{start:{row:s.row}}}),this.$updateRows()},y.prototype.getWidgetsAtRow=function(s){for(var h=this.session.lineWidgets,o=h&&h[s],r=[];o;)r.push(o),o=o.$oldWidget;return r},y.prototype.onWidgetChanged=function(s){this.session._changedWidgets.push(s),this.editor&&this.editor.renderer.updateFull()},y.prototype.measureWidgets=function(s,h){var o=this.session._changedWidgets,r=h.layerConfig;if(!(!o||!o.length)){for(var i=1/0,t=0;t<o.length;t++){var e=o[t];if(!(!e||!e.el)&&e.session==this.session){if(!e._inDocument){if(this.session.lineWidgets[e.row]!=e)continue;e._inDocument=!0,h.container.appendChild(e.el)}e.h=e.el.offsetHeight,e.fixedWidth||(e.w=e.el.offsetWidth,e.screenWidth=Math.ceil(e.w/r.characterWidth));var n=e.h/r.lineHeight;e.coverLine&&(n-=this.session.getRowLineCount(e.row),n<0&&(n=0)),e.rowCount!=n&&(e.rowCount=n,e.row<i&&(i=e.row))}}i!=1/0&&(this.session._emit("changeFold",{data:{start:{row:i}}}),this.session.lineWidgetWidth=null),this.session._changedWidgets=[]}},y.prototype.renderWidgets=function(s,h){var o=h.layerConfig,r=this.session.lineWidgets;if(r){for(var i=Math.min(this.firstRow,o.firstRow),t=Math.max(this.lastRow,o.lastRow,r.length);i>0&&!r[i];)i--;this.firstRow=o.firstRow,this.lastRow=o.lastRow,h.$cursorLayer.config=o;for(var e=i;e<=t;e++){var n=r[e];if(!(!n||!n.el)){if(n.hidden){n.el.style.top=-100-(n.pixelHeight||0)+"px";continue}n._inDocument||(n._inDocument=!0,h.container.appendChild(n.el));var a=h.$cursorLayer.getPixelPosition({row:e,column:0},!0).top;n.coverLine||(a+=o.lineHeight*this.session.getRowLineCount(n.row)),n.el.style.top=a-o.offset+"px";var c=n.coverGutter?0:h.gutterWidth;n.fixedWidth||(c-=h.scrollLeft),n.el.style.left=c+"px",n.fullWidth&&n.screenWidth&&(n.el.style.minWidth=o.width+2*o.padding+"px"),n.fixedWidth?n.el.style.right=h.scrollBar.getWidth()+"px":n.el.style.right=""}}}},y}();D.LineWidgets=A}),ace.define("ace/keyboard/gutter_handler",["require","exports","module","ace/lib/keys","ace/mouse/default_gutter_handler"],function(f,D,z){var M=f("../lib/keys"),A=f("../mouse/default_gutter_handler").GutterTooltip,y=function(){function h(o){this.editor=o,this.gutterLayer=o.renderer.$gutterLayer,this.element=o.renderer.$gutter,this.lines=o.renderer.$gutterLayer.$lines,this.activeRowIndex=null,this.activeLane=null,this.annotationTooltip=new A(this.editor)}return h.prototype.addListener=function(){this.element.addEventListener("keydown",this.$onGutterKeyDown.bind(this)),this.element.addEventListener("focusout",this.$blurGutter.bind(this)),this.editor.on("mousewheel",this.$blurGutter.bind(this))},h.prototype.removeListener=function(){this.element.removeEventListener("keydown",this.$onGutterKeyDown.bind(this)),this.element.removeEventListener("focusout",this.$blurGutter.bind(this)),this.editor.off("mousewheel",this.$blurGutter.bind(this))},h.prototype.$onGutterKeyDown=function(o){if(this.annotationTooltip.isOpen){o.preventDefault(),o.keyCode===M.escape&&this.annotationTooltip.hideTooltip();return}if(o.target===this.element){if(o.keyCode!=M.enter)return;o.preventDefault();var r=this.editor.getCursorPosition().row;this.editor.isRowVisible(r)||this.editor.scrollToLine(r,!0,!0),setTimeout((function(){var i=this.$rowToRowIndex(this.gutterLayer.$cursorCell.row),t=this.$findNearestFoldWidget(i),e=this.$findNearestAnnotation(i);if(!(t===null&&e===null)){if(t===null&&e!==null){this.activeRowIndex=e,this.activeLane="annotation",this.$focusAnnotation(this.activeRowIndex);return}if(t!==null&&e===null){this.activeRowIndex=t,this.activeLane="fold",this.$focusFoldWidget(this.activeRowIndex);return}if(Math.abs(e-i)<Math.abs(t-i)){this.activeRowIndex=e,this.activeLane="annotation",this.$focusAnnotation(this.activeRowIndex);return}else{this.activeRowIndex=t,this.activeLane="fold",this.$focusFoldWidget(this.activeRowIndex);return}}}).bind(this),10);return}this.$handleGutterKeyboardInteraction(o),setTimeout((function(){this.editor._signal("gutterkeydown",new s(o,this))}).bind(this),10)},h.prototype.$handleGutterKeyboardInteraction=function(o){if(o.keyCode===M.tab){o.preventDefault();return}if(o.keyCode===M.escape){o.preventDefault(),this.$blurGutter(),this.element.focus(),this.lane=null;return}if(o.keyCode===M.up){switch(o.preventDefault(),this.activeLane){case"fold":this.$moveFoldWidgetUp();break;case"annotation":this.$moveAnnotationUp();break}return}if(o.keyCode===M.down){switch(o.preventDefault(),this.activeLane){case"fold":this.$moveFoldWidgetDown();break;case"annotation":this.$moveAnnotationDown();break}return}if(o.keyCode===M.left){o.preventDefault(),this.$switchLane("annotation");return}if(o.keyCode===M.right){o.preventDefault(),this.$switchLane("fold");return}if(o.keyCode===M.enter||o.keyCode===M.space){switch(o.preventDefault(),this.activeLane){case"fold":if(this.gutterLayer.session.foldWidgets[this.$rowIndexToRow(this.activeRowIndex)]==="start"){var r=this.$rowIndexToRow(this.activeRowIndex);this.editor.session.onFoldWidgetClick(this.$rowIndexToRow(this.activeRowIndex),o),setTimeout((function(){this.$rowIndexToRow(this.activeRowIndex)!==r&&(this.$blurFoldWidget(this.activeRowIndex),this.activeRowIndex=this.$rowToRowIndex(r),this.$focusFoldWidget(this.activeRowIndex))}).bind(this),10);break}else if(this.gutterLayer.session.foldWidgets[this.$rowIndexToRow(this.activeRowIndex)]==="end")break;return;case"annotation":var i=this.lines.cells[this.activeRowIndex].element.childNodes[2],t=i.getBoundingClientRect(),e=this.annotationTooltip.getElement().style;e.left=t.right+"px",e.top=t.bottom+"px",this.annotationTooltip.showTooltip(this.$rowIndexToRow(this.activeRowIndex));break}return}},h.prototype.$blurGutter=function(){if(this.activeRowIndex!==null)switch(this.activeLane){case"fold":this.$blurFoldWidget(this.activeRowIndex);break;case"annotation":this.$blurAnnotation(this.activeRowIndex);break}this.annotationTooltip.isOpen&&this.annotationTooltip.hideTooltip()},h.prototype.$isFoldWidgetVisible=function(o){var r=this.editor.isRowFullyVisible(this.$rowIndexToRow(o)),i=this.$getFoldWidget(o).style.display!=="none";return r&&i},h.prototype.$isAnnotationVisible=function(o){var r=this.editor.isRowFullyVisible(this.$rowIndexToRow(o)),i=this.$getAnnotation(o).style.display!=="none";return r&&i},h.prototype.$getFoldWidget=function(o){var r=this.lines.get(o),i=r.element;return i.childNodes[1]},h.prototype.$getAnnotation=function(o){var r=this.lines.get(o),i=r.element;return i.childNodes[2]},h.prototype.$findNearestFoldWidget=function(o){if(this.$isFoldWidgetVisible(o))return o;for(var r=0;o-r>0||o+r<this.lines.getLength()-1;){if(r++,o-r>=0&&this.$isFoldWidgetVisible(o-r))return o-r;if(o+r<=this.lines.getLength()-1&&this.$isFoldWidgetVisible(o+r))return o+r}return null},h.prototype.$findNearestAnnotation=function(o){if(this.$isAnnotationVisible(o))return o;for(var r=0;o-r>0||o+r<this.lines.getLength()-1;){if(r++,o-r>=0&&this.$isAnnotationVisible(o-r))return o-r;if(o+r<=this.lines.getLength()-1&&this.$isAnnotationVisible(o+r))return o+r}return null},h.prototype.$focusFoldWidget=function(o){if(o!=null){var r=this.$getFoldWidget(o);r.classList.add(this.editor.renderer.keyboardFocusClassName),r.focus()}},h.prototype.$focusAnnotation=function(o){if(o!=null){var r=this.$getAnnotation(o);r.classList.add(this.editor.renderer.keyboardFocusClassName),r.focus()}},h.prototype.$blurFoldWidget=function(o){var r=this.$getFoldWidget(o);r.classList.remove(this.editor.renderer.keyboardFocusClassName),r.blur()},h.prototype.$blurAnnotation=function(o){var r=this.$getAnnotation(o);r.classList.remove(this.editor.renderer.keyboardFocusClassName),r.blur()},h.prototype.$moveFoldWidgetUp=function(){for(var o=this.activeRowIndex;o>0;)if(o--,this.$isFoldWidgetVisible(o)){this.$blurFoldWidget(this.activeRowIndex),this.activeRowIndex=o,this.$focusFoldWidget(this.activeRowIndex);return}},h.prototype.$moveFoldWidgetDown=function(){for(var o=this.activeRowIndex;o<this.lines.getLength()-1;)if(o++,this.$isFoldWidgetVisible(o)){this.$blurFoldWidget(this.activeRowIndex),this.activeRowIndex=o,this.$focusFoldWidget(this.activeRowIndex);return}},h.prototype.$moveAnnotationUp=function(){for(var o=this.activeRowIndex;o>0;)if(o--,this.$isAnnotationVisible(o)){this.$blurAnnotation(this.activeRowIndex),this.activeRowIndex=o,this.$focusAnnotation(this.activeRowIndex);return}},h.prototype.$moveAnnotationDown=function(){for(var o=this.activeRowIndex;o<this.lines.getLength()-1;)if(o++,this.$isAnnotationVisible(o)){this.$blurAnnotation(this.activeRowIndex),this.activeRowIndex=o,this.$focusAnnotation(this.activeRowIndex);return}},h.prototype.$switchLane=function(o){switch(o){case"annotation":if(this.activeLane==="annotation")break;var r=this.$findNearestAnnotation(this.activeRowIndex);if(r==null)break;this.activeLane="annotation",this.$blurFoldWidget(this.activeRowIndex),this.activeRowIndex=r,this.$focusAnnotation(this.activeRowIndex);break;case"fold":if(this.activeLane==="fold")break;var i=this.$findNearestFoldWidget(this.activeRowIndex);if(i==null)break;this.activeLane="fold",this.$blurAnnotation(this.activeRowIndex),this.activeRowIndex=i,this.$focusFoldWidget(this.activeRowIndex);break}},h.prototype.$rowIndexToRow=function(o){var r=this.lines.get(o);return r?r.row:null},h.prototype.$rowToRowIndex=function(o){for(var r=0;r<this.lines.getLength();r++){var i=this.lines.get(r);if(i.row==o)return r}return null},h}();D.GutterKeyboardHandler=y;var s=function(){function h(o,r){this.gutterKeyboardHandler=r,this.domEvent=o}return h.prototype.getKey=function(){return M.keyCodeToString(this.domEvent.keyCode)},h.prototype.getRow=function(){return this.gutterKeyboardHandler.$rowIndexToRow(this.gutterKeyboardHandler.activeRowIndex)},h.prototype.isInAnnotationLane=function(){return this.gutterKeyboardHandler.activeLane==="annotation"},h.prototype.isInFoldLane=function(){return this.gutterKeyboardHandler.activeLane==="fold"},h}();D.GutterKeyboardEvent=s}),ace.define("ace/editor",["require","exports","module","ace/lib/oop","ace/lib/dom","ace/lib/lang","ace/lib/useragent","ace/keyboard/textinput","ace/mouse/mouse_handler","ace/mouse/fold_handler","ace/keyboard/keybinding","ace/edit_session","ace/search","ace/range","ace/lib/event_emitter","ace/commands/command_manager","ace/commands/default_commands","ace/config","ace/token_iterator","ace/line_widgets","ace/keyboard/gutter_handler","ace/config","ace/clipboard","ace/lib/keys"],function(f,D,z){var M=this&&this.__values||function(w){var l=typeof Symbol=="function"&&Symbol.iterator,_=l&&w[l],L=0;if(_)return _.call(w);if(w&&typeof w.length=="number")return{next:function(){return w&&L>=w.length&&(w=void 0),{value:w&&w[L++],done:!w}}};throw new TypeError(l?"Object is not iterable.":"Symbol.iterator is not defined.")},A=f("./lib/oop"),y=f("./lib/dom"),s=f("./lib/lang"),h=f("./lib/useragent"),o=f("./keyboard/textinput").TextInput,r=f("./mouse/mouse_handler").MouseHandler,i=f("./mouse/fold_handler").FoldHandler,t=f("./keyboard/keybinding").KeyBinding,e=f("./edit_session").EditSession,n=f("./search").Search,a=f("./range").Range,c=f("./lib/event_emitter").EventEmitter,d=f("./commands/command_manager").CommandManager,k=f("./commands/default_commands").commands,v=f("./config"),p=f("./token_iterator").TokenIterator,u=f("./line_widgets").LineWidgets,m=f("./keyboard/gutter_handler").GutterKeyboardHandler,E=f("./config").nls,S=f("./clipboard"),$=f("./lib/keys"),R=function(){function w(l,_,L){this.session,this.$toDestroy=[];var I=l.getContainerElement();this.container=I,this.renderer=l,this.id="editor"+ ++w.$uid,this.commands=new d(h.isMac?"mac":"win",k),typeof document=="object"&&(this.textInput=new o(l.getTextAreaContainer(),this),this.renderer.textarea=this.textInput.getElement(),this.$mouseHandler=new r(this),new i(this)),this.keyBinding=new t(this),this.$search=new n().set({wrap:!0}),this.$historyTracker=this.$historyTracker.bind(this),this.commands.on("exec",this.$historyTracker),this.$initOperationListeners(),this._$emitInputEvent=s.delayedCall((function(){this._signal("input",{}),this.session&&!this.session.destroyed&&this.session.bgTokenizer.scheduleStart()}).bind(this)),this.on("change",function(W,H){H._$emitInputEvent.schedule(31)}),this.setSession(_||L&&L.session||new e("")),v.resetOptions(this),L&&this.setOptions(L),v._signal("editor",this)}return w.prototype.$initOperationListeners=function(){this.commands.on("exec",this.startOperation.bind(this),!0),this.commands.on("afterExec",this.endOperation.bind(this),!0),this.$opResetTimer=s.delayedCall(this.endOperation.bind(this,!0)),this.on("change",(function(){this.curOp||(this.startOperation(),this.curOp.selectionBefore=this.$lastSel),this.curOp.docChanged=!0}).bind(this),!0),this.on("changeSelection",(function(){this.curOp||(this.startOperation(),this.curOp.selectionBefore=this.$lastSel),this.curOp.selectionChanged=!0}).bind(this),!0)},w.prototype.startOperation=function(l){if(this.curOp){if(!l||this.curOp.command)return;this.prevOp=this.curOp}l||(this.previousCommand=null,l={}),this.$opResetTimer.schedule(),this.curOp=this.session.curOp={command:l.command||{},args:l.args,scrollTop:this.renderer.scrollTop},this.curOp.selectionBefore=this.selection.toJSON()},w.prototype.endOperation=function(l){if(this.curOp&&this.session){if(l&&l.returnValue===!1||!this.session)return this.curOp=null;if(l==!0&&this.curOp.command&&this.curOp.command.name=="mouse"||(this._signal("beforeEndOperation"),!this.curOp))return;var _=this.curOp.command,L=_&&_.scrollIntoView;if(L){switch(L){case"center-animate":L="animate";case"center":this.renderer.scrollCursorIntoView(null,.5);break;case"animate":case"cursor":this.renderer.scrollCursorIntoView();break;case"selectionPart":var I=this.selection.getRange(),W=this.renderer.layerConfig;(I.start.row>=W.lastRow||I.end.row<=W.firstRow)&&this.renderer.scrollSelectionIntoView(this.selection.anchor,this.selection.lead);break}L=="animate"&&this.renderer.animateScrolling(this.curOp.scrollTop)}var H=this.selection.toJSON();this.curOp.selectionAfter=H,this.$lastSel=this.selection.toJSON(),this.session.getUndoManager().addSelection(H),this.prevOp=this.curOp,this.curOp=null}},w.prototype.$historyTracker=function(l){if(this.$mergeUndoDeltas){var _=this.prevOp,L=this.$mergeableCommands,I=_.command&&l.command.name==_.command.name;if(l.command.name=="insertstring"){var W=l.args;this.mergeNextCommand===void 0&&(this.mergeNextCommand=!0),I=I&&this.mergeNextCommand&&(!/\s/.test(W)||/\s/.test(_.args)),this.mergeNextCommand=!0}else I=I&&L.indexOf(l.command.name)!==-1;this.$mergeUndoDeltas!="always"&&Date.now()-this.sequenceStartTime>2e3&&(I=!1),I?this.session.mergeUndoDeltas=!0:L.indexOf(l.command.name)!==-1&&(this.sequenceStartTime=Date.now())}},w.prototype.setKeyboardHandler=function(l,_){if(l&&typeof l=="string"&&l!="ace"){this.$keybindingId=l;var L=this;v.loadModule(["keybinding",l],function(I){L.$keybindingId==l&&L.keyBinding.setKeyboardHandler(I&&I.handler),_&&_()})}else this.$keybindingId=null,this.keyBinding.setKeyboardHandler(l),_&&_()},w.prototype.getKeyboardHandler=function(){return this.keyBinding.getKeyboardHandler()},w.prototype.setSession=function(l){if(this.session!=l){this.curOp&&this.endOperation(),this.curOp={};var _=this.session;if(_){this.session.off("change",this.$onDocumentChange),this.session.off("changeMode",this.$onChangeMode),this.session.off("tokenizerUpdate",this.$onTokenizerUpdate),this.session.off("changeTabSize",this.$onChangeTabSize),this.session.off("changeWrapLimit",this.$onChangeWrapLimit),this.session.off("changeWrapMode",this.$onChangeWrapMode),this.session.off("changeFold",this.$onChangeFold),this.session.off("changeFrontMarker",this.$onChangeFrontMarker),this.session.off("changeBackMarker",this.$onChangeBackMarker),this.session.off("changeBreakpoint",this.$onChangeBreakpoint),this.session.off("changeAnnotation",this.$onChangeAnnotation),this.session.off("changeOverwrite",this.$onCursorChange),this.session.off("changeScrollTop",this.$onScrollTopChange),this.session.off("changeScrollLeft",this.$onScrollLeftChange);var L=this.session.getSelection();L.off("changeCursor",this.$onCursorChange),L.off("changeSelection",this.$onSelectionChange)}this.session=l,l?(this.$onDocumentChange=this.onDocumentChange.bind(this),l.on("change",this.$onDocumentChange),this.renderer.setSession(l),this.$onChangeMode=this.onChangeMode.bind(this),l.on("changeMode",this.$onChangeMode),this.$onTokenizerUpdate=this.onTokenizerUpdate.bind(this),l.on("tokenizerUpdate",this.$onTokenizerUpdate),this.$onChangeTabSize=this.renderer.onChangeTabSize.bind(this.renderer),l.on("changeTabSize",this.$onChangeTabSize),this.$onChangeWrapLimit=this.onChangeWrapLimit.bind(this),l.on("changeWrapLimit",this.$onChangeWrapLimit),this.$onChangeWrapMode=this.onChangeWrapMode.bind(this),l.on("changeWrapMode",this.$onChangeWrapMode),this.$onChangeFold=this.onChangeFold.bind(this),l.on("changeFold",this.$onChangeFold),this.$onChangeFrontMarker=this.onChangeFrontMarker.bind(this),this.session.on("changeFrontMarker",this.$onChangeFrontMarker),this.$onChangeBackMarker=this.onChangeBackMarker.bind(this),this.session.on("changeBackMarker",this.$onChangeBackMarker),this.$onChangeBreakpoint=this.onChangeBreakpoint.bind(this),this.session.on("changeBreakpoint",this.$onChangeBreakpoint),this.$onChangeAnnotation=this.onChangeAnnotation.bind(this),this.session.on("changeAnnotation",this.$onChangeAnnotation),this.$onCursorChange=this.onCursorChange.bind(this),this.session.on("changeOverwrite",this.$onCursorChange),this.$onScrollTopChange=this.onScrollTopChange.bind(this),this.session.on("changeScrollTop",this.$onScrollTopChange),this.$onScrollLeftChange=this.onScrollLeftChange.bind(this),this.session.on("changeScrollLeft",this.$onScrollLeftChange),this.selection=l.getSelection(),this.selection.on("changeCursor",this.$onCursorChange),this.$onSelectionChange=this.onSelectionChange.bind(this),this.selection.on("changeSelection",this.$onSelectionChange),this.onChangeMode(),this.onCursorChange(),this.onScrollTopChange(),this.onScrollLeftChange(),this.onSelectionChange(),this.onChangeFrontMarker(),this.onChangeBackMarker(),this.onChangeBreakpoint(),this.onChangeAnnotation(),this.session.getUseWrapMode()&&this.renderer.adjustWrapLimit(),this.renderer.updateFull()):(this.selection=null,this.renderer.setSession(l)),this._signal("changeSession",{session:l,oldSession:_}),this.curOp=null,_&&_._signal("changeEditor",{oldEditor:this}),l&&l._signal("changeEditor",{editor:this}),l&&!l.destroyed&&l.bgTokenizer.scheduleStart()}},w.prototype.getSession=function(){return this.session},w.prototype.setValue=function(l,_){return this.session.doc.setValue(l),_?_==1?this.navigateFileEnd():_==-1&&this.navigateFileStart():this.selectAll(),l},w.prototype.getValue=function(){return this.session.getValue()},w.prototype.getSelection=function(){return this.selection},w.prototype.resize=function(l){this.renderer.onResize(l)},w.prototype.setTheme=function(l,_){this.renderer.setTheme(l,_)},w.prototype.getTheme=function(){return this.renderer.getTheme()},w.prototype.setStyle=function(l){this.renderer.setStyle(l)},w.prototype.unsetStyle=function(l){this.renderer.unsetStyle(l)},w.prototype.getFontSize=function(){return this.getOption("fontSize")||y.computedStyle(this.container).fontSize},w.prototype.setFontSize=function(l){this.setOption("fontSize",l)},w.prototype.$highlightBrackets=function(){if(!this.$highlightPending){var l=this;this.$highlightPending=!0,setTimeout(function(){l.$highlightPending=!1;var _=l.session;if(!(!_||_.destroyed)){_.$bracketHighlight&&(_.$bracketHighlight.markerIds.forEach(function(ee){_.removeMarker(ee)}),_.$bracketHighlight=null);var L=l.getCursorPosition(),I=l.getKeyboardHandler(),W=I&&I.$getDirectionForHighlight&&I.$getDirectionForHighlight(l),H=_.getMatchingBracketRanges(L,W);if(!H){var J=new p(_,L.row,L.column),q=J.getCurrentToken();if(q&&/\b(?:tag-open|tag-name)/.test(q.type)){var Z=_.getMatchingTags(L);Z&&(H=[Z.openTagName.isEmpty()?Z.openTag:Z.openTagName,Z.closeTagName.isEmpty()?Z.closeTag:Z.closeTagName])}}if(!H&&_.$mode.getMatching&&(H=_.$mode.getMatching(l.session)),!H){l.getHighlightIndentGuides()&&l.renderer.$textLayer.$highlightIndentGuide();return}var oe="ace_bracket";Array.isArray(H)?H.length==1&&(oe="ace_error_bracket"):H=[H],H.length==2&&(a.comparePoints(H[0].end,H[1].start)==0?H=[a.fromPoints(H[0].start,H[1].end)]:a.comparePoints(H[0].start,H[1].end)==0&&(H=[a.fromPoints(H[1].start,H[0].end)])),_.$bracketHighlight={ranges:H,markerIds:H.map(function(ee){return _.addMarker(ee,oe,"text")})},l.getHighlightIndentGuides()&&l.renderer.$textLayer.$highlightIndentGuide()}},50)}},w.prototype.focus=function(){this.textInput.focus()},w.prototype.isFocused=function(){return this.textInput.isFocused()},w.prototype.blur=function(){this.textInput.blur()},w.prototype.onFocus=function(l){this.$isFocused||(this.$isFocused=!0,this.renderer.showCursor(),this.renderer.visualizeFocus(),this._emit("focus",l))},w.prototype.onBlur=function(l){this.$isFocused&&(this.$isFocused=!1,this.renderer.hideCursor(),this.renderer.visualizeBlur(),this._emit("blur",l))},w.prototype.$cursorChange=function(){this.renderer.updateCursor(),this.$highlightBrackets(),this.$updateHighlightActiveLine()},w.prototype.onDocumentChange=function(l){var _=this.session.$useWrapMode,L=l.start.row==l.end.row?l.end.row:1/0;this.renderer.updateLines(l.start.row,L,_),this._signal("change",l),this.$cursorChange()},w.prototype.onTokenizerUpdate=function(l){var _=l.data;this.renderer.updateLines(_.first,_.last)},w.prototype.onScrollTopChange=function(){this.renderer.scrollToY(this.session.getScrollTop())},w.prototype.onScrollLeftChange=function(){this.renderer.scrollToX(this.session.getScrollLeft())},w.prototype.onCursorChange=function(){this.$cursorChange(),this._signal("changeSelection")},w.prototype.$updateHighlightActiveLine=function(){var l=this.getSession(),_;if(this.$highlightActiveLine&&((this.$selectionStyle!="line"||!this.selection.isMultiLine())&&(_=this.getCursorPosition()),this.renderer.theme&&this.renderer.theme.$selectionColorConflict&&!this.selection.isEmpty()&&(_=!1),this.renderer.$maxLines&&this.session.getLength()===1&&!(this.renderer.$minLines>1)&&(_=!1)),l.$highlightLineMarker&&!_)l.removeMarker(l.$highlightLineMarker.id),l.$highlightLineMarker=null;else if(!l.$highlightLineMarker&&_){var L=new a(_.row,_.column,_.row,1/0);L.id=l.addMarker(L,"ace_active-line","screenLine"),l.$highlightLineMarker=L}else _&&(l.$highlightLineMarker.start.row=_.row,l.$highlightLineMarker.end.row=_.row,l.$highlightLineMarker.start.column=_.column,l._signal("changeBackMarker"))},w.prototype.onSelectionChange=function(l){var _=this.session;if(_.$selectionMarker&&_.removeMarker(_.$selectionMarker),_.$selectionMarker=null,this.selection.isEmpty())this.$updateHighlightActiveLine();else{var L=this.selection.getRange(),I=this.getSelectionStyle();_.$selectionMarker=_.addMarker(L,"ace_selection",I)}var W=this.$highlightSelectedWord&&this.$getSelectionHighLightRegexp();this.session.highlight(W),this._signal("changeSelection")},w.prototype.$getSelectionHighLightRegexp=function(){var l=this.session,_=this.getSelectionRange();if(!(_.isEmpty()||_.isMultiLine())){var L=_.start.column,I=_.end.column,W=l.getLine(_.start.row),H=W.substring(L,I);if(!(H.length>5e3||!/[\w\d]/.test(H))){var J=this.$search.$assembleRegExp({wholeWord:!0,caseSensitive:!0,needle:H}),q=W.substring(L-1,I+1);if(J.test(q))return J}}},w.prototype.onChangeFrontMarker=function(){this.renderer.updateFrontMarkers()},w.prototype.onChangeBackMarker=function(){this.renderer.updateBackMarkers()},w.prototype.onChangeBreakpoint=function(){this.renderer.updateBreakpoints()},w.prototype.onChangeAnnotation=function(){this.renderer.setAnnotations(this.session.getAnnotations())},w.prototype.onChangeMode=function(l){this.renderer.updateText(),this._emit("changeMode",l)},w.prototype.onChangeWrapLimit=function(){this.renderer.updateFull()},w.prototype.onChangeWrapMode=function(){this.renderer.onResize(!0)},w.prototype.onChangeFold=function(){this.$updateHighlightActiveLine(),this.renderer.updateFull()},w.prototype.getSelectedText=function(){return this.session.getTextRange(this.getSelectionRange())},w.prototype.getCopyText=function(){var l=this.getSelectedText(),_=this.session.doc.getNewLineCharacter(),L=!1;if(!l&&this.$copyWithEmptySelection){L=!0;for(var I=this.selection.getAllRanges(),W=0;W<I.length;W++){var H=I[W];W&&I[W-1].start.row==H.start.row||(l+=this.session.getLine(H.start.row)+_)}}var J={text:l};return this._signal("copy",J),S.lineMode=L?J.text:!1,J.text},w.prototype.onCopy=function(){this.commands.exec("copy",this)},w.prototype.onCut=function(){this.commands.exec("cut",this)},w.prototype.onPaste=function(l,_){var L={text:l,event:_};this.commands.exec("paste",this,L)},w.prototype.$handlePaste=function(l){typeof l=="string"&&(l={text:l}),this._signal("paste",l);var _=l.text,L=_===S.lineMode,I=this.session;if(!this.inMultiSelectMode||this.inVirtualSelectionMode)L?I.insert({row:this.selection.lead.row,column:0},_):this.insert(_);else if(L)this.selection.rangeList.ranges.forEach(function(oe){I.insert({row:oe.start.row,column:0},_)});else{var W=_.split(/\r\n|\r|\n/),H=this.selection.rangeList.ranges,J=W.length==2&&(!W[0]||!W[1]);if(W.length!=H.length||J)return this.commands.exec("insertstring",this,_);for(var q=H.length;q--;){var Z=H[q];Z.isEmpty()||I.remove(Z),I.insert(Z.start,W[q])}}},w.prototype.execCommand=function(l,_){return this.commands.exec(l,this,_)},w.prototype.insert=function(l,_){var L=this.session,I=L.getMode(),W=this.getCursorPosition();if(this.getBehavioursEnabled()&&!_){var H=I.transformAction(L.getState(W.row),"insertion",this,L,l);H&&(l!==H.text&&(this.inVirtualSelectionMode||(this.session.mergeUndoDeltas=!1,this.mergeNextCommand=!1)),l=H.text)}if(l=="	"&&(l=this.session.getTabString()),this.selection.isEmpty()){if(this.session.getOverwrite()&&l.indexOf(`
`)==-1){var J=a.fromPoints(W,W);J.end.column+=l.length,this.session.remove(J)}}else{var J=this.getSelectionRange();W=this.session.remove(J),this.clearSelection()}if(l==`
`||l==`\r
`){var ee=L.getLine(W.row);if(W.column>ee.search(/\S|$/)){var q=ee.substr(W.column).search(/\S|$/);L.doc.removeInLine(W.row,W.column,W.column+q)}}this.clearSelection();var Z=W.column,oe=L.getState(W.row),ee=L.getLine(W.row),se=I.checkOutdent(oe,ee,l);if(L.insert(W,l),H&&H.selection&&(H.selection.length==2?this.selection.setSelectionRange(new a(W.row,Z+H.selection[0],W.row,Z+H.selection[1])):this.selection.setSelectionRange(new a(W.row+H.selection[0],H.selection[1],W.row+H.selection[2],H.selection[3]))),this.$enableAutoIndent){if(L.getDocument().isNewLine(l)){var fe=I.getNextLineIndent(oe,ee.slice(0,W.column),L.getTabString());L.insert({row:W.row+1,column:0},fe)}se&&I.autoOutdent(oe,L,W.row)}},w.prototype.autoIndent=function(){for(var l=this.session,_=l.getMode(),L=this.selection.isEmpty()?[new a(0,0,l.doc.getLength()-1,0)]:this.selection.getAllRanges(),I="",W="",H="",J=l.getTabString(),q=0;q<L.length;q++)for(var Z=L[q].start.row,oe=L[q].end.row,ee=Z;ee<=oe;ee++){ee>0&&(I=l.getState(ee-1),W=l.getLine(ee-1),H=_.getNextLineIndent(I,W,J));var se=l.getLine(ee),fe=_.$getIndent(se);if(H!==fe){if(fe.length>0){var Ce=new a(ee,0,ee,fe.length);l.remove(Ce)}H.length>0&&l.insert({row:ee,column:0},H)}_.autoOutdent(I,l,ee)}},w.prototype.onTextInput=function(l,_){if(!_)return this.keyBinding.onTextInput(l);this.startOperation({command:{name:"insertstring"}});var L=this.applyComposition.bind(this,l,_);this.selection.rangeCount?this.forEachSelection(L):L(),this.endOperation()},w.prototype.applyComposition=function(l,_){if(_.extendLeft||_.extendRight){var L=this.selection.getRange();L.start.column-=_.extendLeft,L.end.column+=_.extendRight,L.start.column<0&&(L.start.row--,L.start.column+=this.session.getLine(L.start.row).length+1),this.selection.setRange(L),!l&&!L.isEmpty()&&this.remove()}if((l||!this.selection.isEmpty())&&this.insert(l,!0),_.restoreStart||_.restoreEnd){var L=this.selection.getRange();L.start.column-=_.restoreStart,L.end.column-=_.restoreEnd,this.selection.setRange(L)}},w.prototype.onCommandKey=function(l,_,L){return this.keyBinding.onCommandKey(l,_,L)},w.prototype.setOverwrite=function(l){this.session.setOverwrite(l)},w.prototype.getOverwrite=function(){return this.session.getOverwrite()},w.prototype.toggleOverwrite=function(){this.session.toggleOverwrite()},w.prototype.setScrollSpeed=function(l){this.setOption("scrollSpeed",l)},w.prototype.getScrollSpeed=function(){return this.getOption("scrollSpeed")},w.prototype.setDragDelay=function(l){this.setOption("dragDelay",l)},w.prototype.getDragDelay=function(){return this.getOption("dragDelay")},w.prototype.setSelectionStyle=function(l){this.setOption("selectionStyle",l)},w.prototype.getSelectionStyle=function(){return this.getOption("selectionStyle")},w.prototype.setHighlightActiveLine=function(l){this.setOption("highlightActiveLine",l)},w.prototype.getHighlightActiveLine=function(){return this.getOption("highlightActiveLine")},w.prototype.setHighlightGutterLine=function(l){this.setOption("highlightGutterLine",l)},w.prototype.getHighlightGutterLine=function(){return this.getOption("highlightGutterLine")},w.prototype.setHighlightSelectedWord=function(l){this.setOption("highlightSelectedWord",l)},w.prototype.getHighlightSelectedWord=function(){return this.$highlightSelectedWord},w.prototype.setAnimatedScroll=function(l){this.renderer.setAnimatedScroll(l)},w.prototype.getAnimatedScroll=function(){return this.renderer.getAnimatedScroll()},w.prototype.setShowInvisibles=function(l){this.renderer.setShowInvisibles(l)},w.prototype.getShowInvisibles=function(){return this.renderer.getShowInvisibles()},w.prototype.setDisplayIndentGuides=function(l){this.renderer.setDisplayIndentGuides(l)},w.prototype.getDisplayIndentGuides=function(){return this.renderer.getDisplayIndentGuides()},w.prototype.setHighlightIndentGuides=function(l){this.renderer.setHighlightIndentGuides(l)},w.prototype.getHighlightIndentGuides=function(){return this.renderer.getHighlightIndentGuides()},w.prototype.setShowPrintMargin=function(l){this.renderer.setShowPrintMargin(l)},w.prototype.getShowPrintMargin=function(){return this.renderer.getShowPrintMargin()},w.prototype.setPrintMarginColumn=function(l){this.renderer.setPrintMarginColumn(l)},w.prototype.getPrintMarginColumn=function(){return this.renderer.getPrintMarginColumn()},w.prototype.setReadOnly=function(l){this.setOption("readOnly",l)},w.prototype.getReadOnly=function(){return this.getOption("readOnly")},w.prototype.setBehavioursEnabled=function(l){this.setOption("behavioursEnabled",l)},w.prototype.getBehavioursEnabled=function(){return this.getOption("behavioursEnabled")},w.prototype.setWrapBehavioursEnabled=function(l){this.setOption("wrapBehavioursEnabled",l)},w.prototype.getWrapBehavioursEnabled=function(){return this.getOption("wrapBehavioursEnabled")},w.prototype.setShowFoldWidgets=function(l){this.setOption("showFoldWidgets",l)},w.prototype.getShowFoldWidgets=function(){return this.getOption("showFoldWidgets")},w.prototype.setFadeFoldWidgets=function(l){this.setOption("fadeFoldWidgets",l)},w.prototype.getFadeFoldWidgets=function(){return this.getOption("fadeFoldWidgets")},w.prototype.remove=function(l){this.selection.isEmpty()&&(l=="left"?this.selection.selectLeft():this.selection.selectRight());var _=this.getSelectionRange();if(this.getBehavioursEnabled()){var L=this.session,I=L.getState(_.start.row),W=L.getMode().transformAction(I,"deletion",this,L,_);if(_.end.column===0){var H=L.getTextRange(_);if(H[H.length-1]==`
`){var J=L.getLine(_.end.row);/^\s+$/.test(J)&&(_.end.column=J.length)}}W&&(_=W)}this.session.remove(_),this.clearSelection()},w.prototype.removeWordRight=function(){this.selection.isEmpty()&&this.selection.selectWordRight(),this.session.remove(this.getSelectionRange()),this.clearSelection()},w.prototype.removeWordLeft=function(){this.selection.isEmpty()&&this.selection.selectWordLeft(),this.session.remove(this.getSelectionRange()),this.clearSelection()},w.prototype.removeToLineStart=function(){this.selection.isEmpty()&&this.selection.selectLineStart(),this.selection.isEmpty()&&this.selection.selectLeft(),this.session.remove(this.getSelectionRange()),this.clearSelection()},w.prototype.removeToLineEnd=function(){this.selection.isEmpty()&&this.selection.selectLineEnd();var l=this.getSelectionRange();l.start.column==l.end.column&&l.start.row==l.end.row&&(l.end.column=0,l.end.row++),this.session.remove(l),this.clearSelection()},w.prototype.splitLine=function(){this.selection.isEmpty()||(this.session.remove(this.getSelectionRange()),this.clearSelection());var l=this.getCursorPosition();this.insert(`
`),this.moveCursorToPosition(l)},w.prototype.setGhostText=function(l,_){this.session.widgetManager||(this.session.widgetManager=new u(this.session),this.session.widgetManager.attach(this)),this.renderer.setGhostText(l,_)},w.prototype.removeGhostText=function(){this.session.widgetManager&&this.renderer.removeGhostText()},w.prototype.transposeLetters=function(){if(this.selection.isEmpty()){var l=this.getCursorPosition(),_=l.column;if(_!==0){var L=this.session.getLine(l.row),I,W;_<L.length?(I=L.charAt(_)+L.charAt(_-1),W=new a(l.row,_-1,l.row,_+1)):(I=L.charAt(_-1)+L.charAt(_-2),W=new a(l.row,_-2,l.row,_)),this.session.replace(W,I),this.session.selection.moveToPosition(W.end)}}},w.prototype.toLowerCase=function(){var l=this.getSelectionRange();this.selection.isEmpty()&&this.selection.selectWord();var _=this.getSelectionRange(),L=this.session.getTextRange(_);this.session.replace(_,L.toLowerCase()),this.selection.setSelectionRange(l)},w.prototype.toUpperCase=function(){var l=this.getSelectionRange();this.selection.isEmpty()&&this.selection.selectWord();var _=this.getSelectionRange(),L=this.session.getTextRange(_);this.session.replace(_,L.toUpperCase()),this.selection.setSelectionRange(l)},w.prototype.indent=function(){var l=this.session,_=this.getSelectionRange();if(_.start.row<_.end.row){var L=this.$getSelectedRows();l.indentRows(L.first,L.last,"	");return}else if(_.start.column<_.end.column){var I=l.getTextRange(_);if(!/^\s+$/.test(I)){var L=this.$getSelectedRows();l.indentRows(L.first,L.last,"	");return}}var W=l.getLine(_.start.row),H=_.start,J=l.getTabSize(),q=l.documentToScreenColumn(H.row,H.column);if(this.session.getUseSoftTabs())var Z=J-q%J,oe=s.stringRepeat(" ",Z);else{for(var Z=q%J;W[_.start.column-1]==" "&&Z;)_.start.column--,Z--;this.selection.setSelectionRange(_),oe="	"}return this.insert(oe)},w.prototype.blockIndent=function(){var l=this.$getSelectedRows();this.session.indentRows(l.first,l.last,"	")},w.prototype.blockOutdent=function(){var l=this.session.getSelection();this.session.outdentRows(l.getRange())},w.prototype.sortLines=function(){for(var l=this.$getSelectedRows(),_=this.session,L=[],I=l.first;I<=l.last;I++)L.push(_.getLine(I));L.sort(function(J,q){return J.toLowerCase()<q.toLowerCase()?-1:J.toLowerCase()>q.toLowerCase()?1:0});for(var W=new a(0,0,0,0),I=l.first;I<=l.last;I++){var H=_.getLine(I);W.start.row=I,W.end.row=I,W.end.column=H.length,_.replace(W,L[I-l.first])}},w.prototype.toggleCommentLines=function(){var l=this.session.getState(this.getCursorPosition().row),_=this.$getSelectedRows();this.session.getMode().toggleCommentLines(l,this.session,_.first,_.last)},w.prototype.toggleBlockComment=function(){var l=this.getCursorPosition(),_=this.session.getState(l.row),L=this.getSelectionRange();this.session.getMode().toggleBlockComment(_,this.session,L,l)},w.prototype.getNumberAt=function(l,_){var L=/[\-]?[0-9]+(?:\.[0-9]+)?/g;L.lastIndex=0;for(var I=this.session.getLine(l);L.lastIndex<_;){var W=L.exec(I);if(W.index<=_&&W.index+W[0].length>=_){var H={value:W[0],start:W.index,end:W.index+W[0].length};return H}}return null},w.prototype.modifyNumber=function(l){var _=this.selection.getCursor().row,L=this.selection.getCursor().column,I=new a(_,L-1,_,L),W=this.session.getTextRange(I);if(!isNaN(parseFloat(W))&&isFinite(W)){var H=this.getNumberAt(_,L);if(H){var J=H.value.indexOf(".")>=0?H.start+H.value.indexOf(".")+1:H.end,q=H.start+H.value.length-J,Z=parseFloat(H.value);Z*=Math.pow(10,q),J!==H.end&&L<J?l*=Math.pow(10,H.end-L-1):l*=Math.pow(10,H.end-L),Z+=l,Z/=Math.pow(10,q);var oe=Z.toFixed(q),ee=new a(_,H.start,_,H.end);this.session.replace(ee,oe),this.moveCursorTo(_,Math.max(H.start+1,L+oe.length-H.value.length))}}else this.toggleWord()},w.prototype.toggleWord=function(){var l=this.selection.getCursor().row,_=this.selection.getCursor().column;this.selection.selectWord();var L=this.getSelectedText(),I=this.selection.getWordRange().start.column,W=L.replace(/([a-z]+|[A-Z]+)(?=[A-Z_]|$)/g,"$1 ").split(/\s/),H=_-I-1;H<0&&(H=0);var J=0,q=0,Z=this;L.match(/[A-Za-z0-9_]+/)&&W.forEach(function(Pe,ze){q=J+Pe.length,H>=J&&H<=q&&(L=Pe,Z.selection.clearSelection(),Z.moveCursorTo(l,J+I),Z.selection.selectTo(l,q+I)),J=q});for(var oe=this.$toggleWordPairs,ee,se=0;se<oe.length;se++)for(var fe=oe[se],Ce=0;Ce<=1;Ce++){var Se=+!Ce,$e=L.match(new RegExp("^\\s?_?("+s.escapeRegExp(fe[Ce])+")\\s?$","i"));if($e){var xe=L.match(new RegExp("([_]|^|\\s)("+s.escapeRegExp($e[1])+")($|\\s)","g"));xe&&(ee=L.replace(new RegExp(s.escapeRegExp(fe[Ce]),"i"),function(Pe){var ze=fe[Se];return Pe.toUpperCase()==Pe?ze=ze.toUpperCase():Pe.charAt(0).toUpperCase()==Pe.charAt(0)&&(ze=ze.substr(0,0)+fe[Se].charAt(0).toUpperCase()+ze.substr(1)),ze}),this.insert(ee),ee="")}}},w.prototype.findLinkAt=function(l,_){var L,I,W=this.session.getLine(l),H=W.split(/((?:https?|ftp):\/\/[\S]+)/),J=_;J<0&&(J=0);var q=0,Z=0,oe;try{for(var ee=M(H),se=ee.next();!se.done;se=ee.next()){var fe=se.value;if(Z=q+fe.length,J>=q&&J<=Z&&fe.match(/((?:https?|ftp):\/\/[\S]+)/)){oe=fe.replace(/[\s:.,'";}\]]+$/,"");break}q=Z}}catch(Ce){L={error:Ce}}finally{try{se&&!se.done&&(I=ee.return)&&I.call(ee)}finally{if(L)throw L.error}}return oe},w.prototype.openLink=function(){var l=this.selection.getCursor(),_=this.findLinkAt(l.row,l.column);return _&&window.open(_,"_blank"),_!=null},w.prototype.removeLines=function(){var l=this.$getSelectedRows();this.session.removeFullLines(l.first,l.last),this.clearSelection()},w.prototype.duplicateSelection=function(){var l=this.selection,_=this.session,L=l.getRange(),I=l.isBackwards();if(L.isEmpty()){var W=L.start.row;_.duplicateLines(W,W)}else{var H=I?L.start:L.end,J=_.insert(H,_.getTextRange(L));L.start=H,L.end=J,l.setSelectionRange(L,I)}},w.prototype.moveLinesDown=function(){this.$moveLines(1,!1)},w.prototype.moveLinesUp=function(){this.$moveLines(-1,!1)},w.prototype.moveText=function(l,_,L){return this.session.moveText(l,_,L)},w.prototype.copyLinesUp=function(){this.$moveLines(-1,!0)},w.prototype.copyLinesDown=function(){this.$moveLines(1,!0)},w.prototype.$moveLines=function(l,_){var L,I,W=this.selection;if(!W.inMultiSelectMode||this.inVirtualSelectionMode){var H=W.toOrientedRange();L=this.$getSelectedRows(H),I=this.session.$moveLines(L.first,L.last,_?0:l),_&&l==-1&&(I=0),H.moveBy(I,0),W.fromOrientedRange(H)}else{var J=W.rangeList.ranges;W.rangeList.detach(this.session),this.inVirtualSelectionMode=!0;for(var q=0,Z=0,oe=J.length,ee=0;ee<oe;ee++){var se=ee;J[ee].moveBy(q,0),L=this.$getSelectedRows(J[ee]);for(var fe=L.first,Ce=L.last;++ee<oe;){Z&&J[ee].moveBy(Z,0);var Se=this.$getSelectedRows(J[ee]);if(_&&Se.first!=Ce)break;if(!_&&Se.first>Ce+1)break;Ce=Se.last}for(ee--,q=this.session.$moveLines(fe,Ce,_?0:l),_&&l==-1&&(se=ee+1);se<=ee;)J[se].moveBy(q,0),se++;_||(q=0),Z+=q}W.fromOrientedRange(W.ranges[0]),W.rangeList.attach(this.session),this.inVirtualSelectionMode=!1}},w.prototype.$getSelectedRows=function(l){return l=(l||this.getSelectionRange()).collapseRows(),{first:this.session.getRowFoldStart(l.start.row),last:this.session.getRowFoldEnd(l.end.row)}},w.prototype.onCompositionStart=function(l){this.renderer.showComposition(l)},w.prototype.onCompositionUpdate=function(l){this.renderer.setCompositionText(l)},w.prototype.onCompositionEnd=function(){this.renderer.hideComposition()},w.prototype.getFirstVisibleRow=function(){return this.renderer.getFirstVisibleRow()},w.prototype.getLastVisibleRow=function(){return this.renderer.getLastVisibleRow()},w.prototype.isRowVisible=function(l){return l>=this.getFirstVisibleRow()&&l<=this.getLastVisibleRow()},w.prototype.isRowFullyVisible=function(l){return l>=this.renderer.getFirstFullyVisibleRow()&&l<=this.renderer.getLastFullyVisibleRow()},w.prototype.$getVisibleRowCount=function(){return this.renderer.getScrollBottomRow()-this.renderer.getScrollTopRow()+1},w.prototype.$moveByPage=function(l,_){var L=this.renderer,I=this.renderer.layerConfig,W=l*Math.floor(I.height/I.lineHeight);_===!0?this.selection.$moveSelection(function(){this.moveCursorBy(W,0)}):_===!1&&(this.selection.moveCursorBy(W,0),this.selection.clearSelection());var H=L.scrollTop;L.scrollBy(0,W*I.lineHeight),_!=null&&L.scrollCursorIntoView(null,.5),L.animateScrolling(H)},w.prototype.selectPageDown=function(){this.$moveByPage(1,!0)},w.prototype.selectPageUp=function(){this.$moveByPage(-1,!0)},w.prototype.gotoPageDown=function(){this.$moveByPage(1,!1)},w.prototype.gotoPageUp=function(){this.$moveByPage(-1,!1)},w.prototype.scrollPageDown=function(){this.$moveByPage(1)},w.prototype.scrollPageUp=function(){this.$moveByPage(-1)},w.prototype.scrollToRow=function(l){this.renderer.scrollToRow(l)},w.prototype.scrollToLine=function(l,_,L,I){this.renderer.scrollToLine(l,_,L,I)},w.prototype.centerSelection=function(){var l=this.getSelectionRange(),_={row:Math.floor(l.start.row+(l.end.row-l.start.row)/2),column:Math.floor(l.start.column+(l.end.column-l.start.column)/2)};this.renderer.alignCursor(_,.5)},w.prototype.getCursorPosition=function(){return this.selection.getCursor()},w.prototype.getCursorPositionScreen=function(){return this.session.documentToScreenPosition(this.getCursorPosition())},w.prototype.getSelectionRange=function(){return this.selection.getRange()},w.prototype.selectAll=function(){this.selection.selectAll()},w.prototype.clearSelection=function(){this.selection.clearSelection()},w.prototype.moveCursorTo=function(l,_){this.selection.moveCursorTo(l,_)},w.prototype.moveCursorToPosition=function(l){this.selection.moveCursorToPosition(l)},w.prototype.jumpToMatching=function(l,_){var L=this.getCursorPosition(),I=new p(this.session,L.row,L.column),W=I.getCurrentToken(),H=0;W&&W.type.indexOf("tag-name")!==-1&&(W=I.stepBackward());var J=W||I.stepForward();if(J){var q,Z=!1,oe={},ee=L.column-J.start,se,fe={")":"(","(":"(","]":"[","[":"[","{":"{","}":"{"};do{if(J.value.match(/[{}()\[\]]/g)){for(;ee<J.value.length&&!Z;ee++)if(fe[J.value[ee]])switch(se=fe[J.value[ee]]+"."+J.type.replace("rparen","lparen"),isNaN(oe[se])&&(oe[se]=0),J.value[ee]){case"(":case"[":case"{":oe[se]++;break;case")":case"]":case"}":oe[se]--,oe[se]===-1&&(q="bracket",Z=!0);break}}else J.type.indexOf("tag-name")!==-1&&(isNaN(oe[J.value])&&(oe[J.value]=0),W.value==="<"&&H>1?oe[J.value]++:W.value==="</"&&oe[J.value]--,oe[J.value]===-1&&(q="tag",Z=!0));Z||(W=J,H++,J=I.stepForward(),ee=0)}while(J&&!Z);if(q){var Ce,Se;if(q==="bracket")Ce=this.session.getBracketRange(L),Ce||(Ce=new a(I.getCurrentTokenRow(),I.getCurrentTokenColumn()+ee-1,I.getCurrentTokenRow(),I.getCurrentTokenColumn()+ee-1),Se=Ce.start,(_||Se.row===L.row&&Math.abs(Se.column-L.column)<2)&&(Ce=this.session.getBracketRange(Se)));else if(q==="tag"){if(!J||J.type.indexOf("tag-name")===-1)return;if(Ce=new a(I.getCurrentTokenRow(),I.getCurrentTokenColumn()-2,I.getCurrentTokenRow(),I.getCurrentTokenColumn()-2),Ce.compare(L.row,L.column)===0){var $e=this.session.getMatchingTags(L);$e&&($e.openTag.contains(L.row,L.column)?(Ce=$e.closeTag,Se=Ce.start):(Ce=$e.openTag,$e.closeTag.start.row===L.row&&$e.closeTag.start.column===L.column?Se=Ce.end:Se=Ce.start))}Se=Se||Ce.start}Se=Ce&&Ce.cursor||Se,Se&&(l?Ce&&_?this.selection.setRange(Ce):Ce&&Ce.isEqual(this.getSelectionRange())?this.clearSelection():this.selection.selectTo(Se.row,Se.column):this.selection.moveTo(Se.row,Se.column))}}},w.prototype.gotoLine=function(l,_,L){this.selection.clearSelection(),this.session.unfold({row:l-1,column:_||0}),this.exitMultiSelectMode&&this.exitMultiSelectMode(),this.moveCursorTo(l-1,_||0),this.isRowFullyVisible(l-1)||this.scrollToLine(l-1,!0,L)},w.prototype.navigateTo=function(l,_){this.selection.moveTo(l,_)},w.prototype.navigateUp=function(l){if(this.selection.isMultiLine()&&!this.selection.isBackwards()){var _=this.selection.anchor.getPosition();return this.moveCursorToPosition(_)}this.selection.clearSelection(),this.selection.moveCursorBy(-l||-1,0)},w.prototype.navigateDown=function(l){if(this.selection.isMultiLine()&&this.selection.isBackwards()){var _=this.selection.anchor.getPosition();return this.moveCursorToPosition(_)}this.selection.clearSelection(),this.selection.moveCursorBy(l||1,0)},w.prototype.navigateLeft=function(l){if(this.selection.isEmpty())for(l=l||1;l--;)this.selection.moveCursorLeft();else{var _=this.getSelectionRange().start;this.moveCursorToPosition(_)}this.clearSelection()},w.prototype.navigateRight=function(l){if(this.selection.isEmpty())for(l=l||1;l--;)this.selection.moveCursorRight();else{var _=this.getSelectionRange().end;this.moveCursorToPosition(_)}this.clearSelection()},w.prototype.navigateLineStart=function(){this.selection.moveCursorLineStart(),this.clearSelection()},w.prototype.navigateLineEnd=function(){this.selection.moveCursorLineEnd(),this.clearSelection()},w.prototype.navigateFileEnd=function(){this.selection.moveCursorFileEnd(),this.clearSelection()},w.prototype.navigateFileStart=function(){this.selection.moveCursorFileStart(),this.clearSelection()},w.prototype.navigateWordRight=function(){this.selection.moveCursorWordRight(),this.clearSelection()},w.prototype.navigateWordLeft=function(){this.selection.moveCursorWordLeft(),this.clearSelection()},w.prototype.replace=function(l,_){_&&this.$search.set(_);var L=this.$search.find(this.session),I=0;return L&&(this.$tryReplace(L,l)&&(I=1),this.selection.setSelectionRange(L),this.renderer.scrollSelectionIntoView(L.start,L.end)),I},w.prototype.replaceAll=function(l,_){_&&this.$search.set(_);var L=this.$search.findAll(this.session),I=0;if(!L.length)return I;var W=this.getSelectionRange();this.selection.moveTo(0,0);for(var H=L.length-1;H>=0;--H)this.$tryReplace(L[H],l)&&I++;return this.selection.setSelectionRange(W),I},w.prototype.$tryReplace=function(l,_){var L=this.session.getTextRange(l);return _=this.$search.replace(L,_),_!==null?(l.end=this.session.replace(l,_),l):null},w.prototype.getLastSearchOptions=function(){return this.$search.getOptions()},w.prototype.find=function(l,_,L){_||(_={}),typeof l=="string"||l instanceof RegExp?_.needle=l:typeof l=="object"&&A.mixin(_,l);var I=this.selection.getRange();_.needle==null&&(l=this.session.getTextRange(I)||this.$search.$options.needle,l||(I=this.session.getWordRange(I.start.row,I.start.column),l=this.session.getTextRange(I)),this.$search.set({needle:l})),this.$search.set(_),_.start||this.$search.set({start:I});var W=this.$search.find(this.session);if(_.preventScroll)return W;if(W)return this.revealRange(W,L),W;_.backwards?I.start=I.end:I.end=I.start,this.selection.setRange(I)},w.prototype.findNext=function(l,_){this.find({skipCurrent:!0,backwards:!1},l,_)},w.prototype.findPrevious=function(l,_){this.find(l,{skipCurrent:!0,backwards:!0},_)},w.prototype.revealRange=function(l,_){this.session.unfold(l),this.selection.setSelectionRange(l);var L=this.renderer.scrollTop;this.renderer.scrollSelectionIntoView(l.start,l.end,.5),_!==!1&&this.renderer.animateScrolling(L)},w.prototype.undo=function(){this.session.getUndoManager().undo(this.session),this.renderer.scrollCursorIntoView(null,.5)},w.prototype.redo=function(){this.session.getUndoManager().redo(this.session),this.renderer.scrollCursorIntoView(null,.5)},w.prototype.destroy=function(){this.$toDestroy&&(this.$toDestroy.forEach(function(l){l.destroy()}),this.$toDestroy=null),this.$mouseHandler&&this.$mouseHandler.destroy(),this.renderer.destroy(),this._signal("destroy",this),this.session&&this.session.destroy(),this._$emitInputEvent&&this._$emitInputEvent.cancel(),this.removeAllListeners()},w.prototype.setAutoScrollEditorIntoView=function(l){if(l){var _,L=this,I=!1;this.$scrollAnchor||(this.$scrollAnchor=document.createElement("div"));var W=this.$scrollAnchor;W.style.cssText="position:absolute",this.container.insertBefore(W,this.container.firstChild);var H=this.on("changeSelection",function(){I=!0}),J=this.renderer.on("beforeRender",function(){I&&(_=L.renderer.container.getBoundingClientRect())}),q=this.renderer.on("afterRender",function(){if(I&&_&&(L.isFocused()||L.searchBox&&L.searchBox.isFocused())){var Z=L.renderer,oe=Z.$cursorLayer.$pixelPos,ee=Z.layerConfig,se=oe.top-ee.offset;oe.top>=0&&se+_.top<0?I=!0:oe.top<ee.height&&oe.top+_.top+ee.lineHeight>window.innerHeight?I=!1:I=null,I!=null&&(W.style.top=se+"px",W.style.left=oe.left+"px",W.style.height=ee.lineHeight+"px",W.scrollIntoView(I)),I=_=null}});this.setAutoScrollEditorIntoView=function(Z){Z||(delete this.setAutoScrollEditorIntoView,this.off("changeSelection",H),this.renderer.off("afterRender",q),this.renderer.off("beforeRender",J))}}},w.prototype.$resetCursorStyle=function(){var l=this.$cursorStyle||"ace",_=this.renderer.$cursorLayer;_&&(_.setSmoothBlinking(/smooth/.test(l)),_.isBlinking=!this.$readOnly&&l!="wide",y.setCssClass(_.element,"ace_slim-cursors",/slim/.test(l)))},w.prototype.prompt=function(l,_,L){var I=this;v.loadModule("ace/ext/prompt",function(W){W.prompt(I,l,_,L)})},w}();R.$uid=0,R.prototype.curOp=null,R.prototype.prevOp={},R.prototype.$mergeableCommands=["backspace","del","insertstring"],R.prototype.$toggleWordPairs=[["first","last"],["true","false"],["yes","no"],["width","height"],["top","bottom"],["right","left"],["on","off"],["x","y"],["get","set"],["max","min"],["horizontal","vertical"],["show","hide"],["add","remove"],["up","down"],["before","after"],["even","odd"],["in","out"],["inside","outside"],["next","previous"],["increase","decrease"],["attach","detach"],["&&","||"],["==","!="]],A.implement(R.prototype,c),v.defineOptions(R.prototype,"editor",{selectionStyle:{set:function(w){this.onSelectionChange(),this._signal("changeSelectionStyle",{data:w})},initialValue:"line"},highlightActiveLine:{set:function(){this.$updateHighlightActiveLine()},initialValue:!0},highlightSelectedWord:{set:function(w){this.$onSelectionChange()},initialValue:!0},readOnly:{set:function(w){this.textInput.setReadOnly(w),this.$resetCursorStyle()},initialValue:!1},copyWithEmptySelection:{set:function(w){this.textInput.setCopyWithEmptySelection(w)},initialValue:!1},cursorStyle:{set:function(w){this.$resetCursorStyle()},values:["ace","slim","smooth","wide"],initialValue:"ace"},mergeUndoDeltas:{values:[!1,!0,"always"],initialValue:!0},behavioursEnabled:{initialValue:!0},wrapBehavioursEnabled:{initialValue:!0},enableAutoIndent:{initialValue:!0},autoScrollEditorIntoView:{set:function(w){this.setAutoScrollEditorIntoView(w)}},keyboardHandler:{set:function(w){this.setKeyboardHandler(w)},get:function(){return this.$keybindingId},handlesSet:!0},value:{set:function(w){this.session.setValue(w)},get:function(){return this.getValue()},handlesSet:!0,hidden:!0},session:{set:function(w){this.setSession(w)},get:function(){return this.session},handlesSet:!0,hidden:!0},showLineNumbers:{set:function(w){this.renderer.$gutterLayer.setShowLineNumbers(w),this.renderer.$loop.schedule(this.renderer.CHANGE_GUTTER),w&&this.$relativeLineNumbers?g.attach(this):g.detach(this)},initialValue:!0},relativeLineNumbers:{set:function(w){this.$showLineNumbers&&w?g.attach(this):g.detach(this)}},placeholder:{set:function(w){this.$updatePlaceholder||(this.$updatePlaceholder=(function(){var l=this.session&&(this.renderer.$composition||this.session.getLength()>1||this.session.getLine(0).length>0);if(l&&this.renderer.placeholderNode)this.renderer.off("afterRender",this.$updatePlaceholder),y.removeCssClass(this.container,"ace_hasPlaceholder"),this.renderer.placeholderNode.remove(),this.renderer.placeholderNode=null;else if(!l&&!this.renderer.placeholderNode){this.renderer.on("afterRender",this.$updatePlaceholder),y.addCssClass(this.container,"ace_hasPlaceholder");var _=y.createElement("div");_.className="ace_placeholder",_.textContent=this.$placeholder||"",this.renderer.placeholderNode=_,this.renderer.content.appendChild(this.renderer.placeholderNode)}else!l&&this.renderer.placeholderNode&&(this.renderer.placeholderNode.textContent=this.$placeholder||"")}).bind(this),this.on("input",this.$updatePlaceholder)),this.$updatePlaceholder()}},enableKeyboardAccessibility:{set:function(w){var l={name:"blurTextInput",description:"Set focus to the editor content div to allow tabbing through the page",bindKey:"Esc",exec:function(I){I.blur(),I.renderer.scroller.focus()},readOnly:!0},_=function(I){if(I.target==this.renderer.scroller&&I.keyCode===$.enter){I.preventDefault();var W=this.getCursorPosition().row;this.isRowVisible(W)||this.scrollToLine(W,!0,!0),this.focus()}},L;w?(this.renderer.enableKeyboardAccessibility=!0,this.renderer.keyboardFocusClassName="ace_keyboard-focus",this.textInput.getElement().setAttribute("tabindex",-1),this.textInput.setNumberOfExtraLines(h.isWin?3:0),this.renderer.scroller.setAttribute("tabindex",0),this.renderer.scroller.setAttribute("role","group"),this.renderer.scroller.setAttribute("aria-roledescription",E("editor.scroller.aria-roledescription","editor")),this.renderer.scroller.classList.add(this.renderer.keyboardFocusClassName),this.renderer.scroller.setAttribute("aria-label",E("editor.scroller.aria-label","Editor content, press Enter to start editing, press Escape to exit")),this.renderer.scroller.addEventListener("keyup",_.bind(this)),this.commands.addCommand(l),this.renderer.$gutter.setAttribute("tabindex",0),this.renderer.$gutter.setAttribute("aria-hidden",!1),this.renderer.$gutter.setAttribute("role","group"),this.renderer.$gutter.setAttribute("aria-roledescription",E("editor.gutter.aria-roledescription","editor")),this.renderer.$gutter.setAttribute("aria-label",E("editor.gutter.aria-label","Editor gutter, press Enter to interact with controls using arrow keys, press Escape to exit")),this.renderer.$gutter.classList.add(this.renderer.keyboardFocusClassName),this.renderer.content.setAttribute("aria-hidden",!0),L||(L=new m(this)),L.addListener(),this.textInput.setAriaOptions({setLabel:!0})):(this.renderer.enableKeyboardAccessibility=!1,this.textInput.getElement().setAttribute("tabindex",0),this.textInput.setNumberOfExtraLines(0),this.renderer.scroller.setAttribute("tabindex",-1),this.renderer.scroller.removeAttribute("role"),this.renderer.scroller.removeAttribute("aria-roledescription"),this.renderer.scroller.classList.remove(this.renderer.keyboardFocusClassName),this.renderer.scroller.removeAttribute("aria-label"),this.renderer.scroller.removeEventListener("keyup",_.bind(this)),this.commands.removeCommand(l),this.renderer.content.removeAttribute("aria-hidden"),this.renderer.$gutter.setAttribute("tabindex",-1),this.renderer.$gutter.setAttribute("aria-hidden",!0),this.renderer.$gutter.removeAttribute("role"),this.renderer.$gutter.removeAttribute("aria-roledescription"),this.renderer.$gutter.removeAttribute("aria-label"),this.renderer.$gutter.classList.remove(this.renderer.keyboardFocusClassName),L&&L.removeListener())},initialValue:!1},textInputAriaLabel:{set:function(w){this.$textInputAriaLabel=w},initialValue:""},enableMobileMenu:{set:function(w){this.$enableMobileMenu=w},initialValue:!0},customScrollbar:"renderer",hScrollBarAlwaysVisible:"renderer",vScrollBarAlwaysVisible:"renderer",highlightGutterLine:"renderer",animatedScroll:"renderer",showInvisibles:"renderer",showPrintMargin:"renderer",printMarginColumn:"renderer",printMargin:"renderer",fadeFoldWidgets:"renderer",showFoldWidgets:"renderer",displayIndentGuides:"renderer",highlightIndentGuides:"renderer",showGutter:"renderer",fontSize:"renderer",fontFamily:"renderer",maxLines:"renderer",minLines:"renderer",scrollPastEnd:"renderer",fixedWidthGutter:"renderer",theme:"renderer",hasCssTransforms:"renderer",maxPixelHeight:"renderer",useTextareaForIME:"renderer",useResizeObserver:"renderer",useSvgGutterIcons:"renderer",showFoldedAnnotations:"renderer",scrollSpeed:"$mouseHandler",dragDelay:"$mouseHandler",dragEnabled:"$mouseHandler",focusTimeout:"$mouseHandler",tooltipFollowsMouse:"$mouseHandler",firstLineNumber:"session",overwrite:"session",newLineMode:"session",useWorker:"session",useSoftTabs:"session",navigateWithinSoftTabs:"session",tabSize:"session",wrap:"session",indentedSoftWrap:"session",foldStyle:"session",mode:"session"});var g={getText:function(w,l){return(Math.abs(w.selection.lead.row-l)||l+1+(l<9?"":""))+""},getWidth:function(w,l,_){return Math.max(l.toString().length,(_.lastRow+1).toString().length,2)*_.characterWidth},update:function(w,l){l.renderer.$loop.schedule(l.renderer.CHANGE_GUTTER)},attach:function(w){w.renderer.$gutterLayer.$renderer=this,w.on("changeSelection",this.update),this.update(null,w)},detach:function(w){w.renderer.$gutterLayer.$renderer==this&&(w.renderer.$gutterLayer.$renderer=null),w.off("changeSelection",this.update),this.update(null,w)}};D.Editor=R}),ace.define("ace/layer/lines",["require","exports","module","ace/lib/dom"],function(f,D,z){var M=f("../lib/dom"),A=function(){function y(s,h){this.element=s,this.canvasHeight=h||5e5,this.element.style.height=this.canvasHeight*2+"px",this.cells=[],this.cellCache=[],this.$offsetCoefficient=0}return y.prototype.moveContainer=function(s){M.translate(this.element,0,-(s.firstRowScreen*s.lineHeight%this.canvasHeight)-s.offset*this.$offsetCoefficient)},y.prototype.pageChanged=function(s,h){return Math.floor(s.firstRowScreen*s.lineHeight/this.canvasHeight)!==Math.floor(h.firstRowScreen*h.lineHeight/this.canvasHeight)},y.prototype.computeLineTop=function(s,h,o){var r=h.firstRowScreen*h.lineHeight,i=Math.floor(r/this.canvasHeight),t=o.documentToScreenRow(s,0)*h.lineHeight;return t-i*this.canvasHeight},y.prototype.computeLineHeight=function(s,h,o){return h.lineHeight*o.getRowLineCount(s)},y.prototype.getLength=function(){return this.cells.length},y.prototype.get=function(s){return this.cells[s]},y.prototype.shift=function(){this.$cacheCell(this.cells.shift())},y.prototype.pop=function(){this.$cacheCell(this.cells.pop())},y.prototype.push=function(s){if(Array.isArray(s)){this.cells.push.apply(this.cells,s);for(var h=M.createFragment(this.element),o=0;o<s.length;o++)h.appendChild(s[o].element);this.element.appendChild(h)}else this.cells.push(s),this.element.appendChild(s.element)},y.prototype.unshift=function(s){if(Array.isArray(s)){this.cells.unshift.apply(this.cells,s);for(var h=M.createFragment(this.element),o=0;o<s.length;o++)h.appendChild(s[o].element);this.element.firstChild?this.element.insertBefore(h,this.element.firstChild):this.element.appendChild(h)}else this.cells.unshift(s),this.element.insertAdjacentElement("afterbegin",s.element)},y.prototype.last=function(){return this.cells.length?this.cells[this.cells.length-1]:null},y.prototype.$cacheCell=function(s){s&&(s.element.remove(),this.cellCache.push(s))},y.prototype.createCell=function(s,h,o,r){var i=this.cellCache.pop();if(!i){var t=M.createElement("div");r&&r(t),this.element.appendChild(t),i={element:t,text:"",row:s}}return i.row=s,i},y}();D.Lines=A}),ace.define("ace/layer/gutter",["require","exports","module","ace/lib/dom","ace/lib/oop","ace/lib/lang","ace/lib/event_emitter","ace/layer/lines","ace/config"],function(f,D,z){var M=f("../lib/dom"),A=f("../lib/oop"),y=f("../lib/lang"),s=f("../lib/event_emitter").EventEmitter,h=f("./lines").Lines,o=f("../config").nls,r=function(){function t(e){this.element=M.createElement("div"),this.element.className="ace_layer ace_gutter-layer",e.appendChild(this.element),this.setShowFoldWidgets(this.$showFoldWidgets),this.gutterWidth=0,this.$annotations=[],this.$updateAnnotations=this.$updateAnnotations.bind(this),this.$lines=new h(this.element),this.$lines.$offsetCoefficient=1}return t.prototype.setSession=function(e){this.session&&this.session.off("change",this.$updateAnnotations),this.session=e,e&&e.on("change",this.$updateAnnotations)},t.prototype.addGutterDecoration=function(e,n){window.console&&console.warn&&console.warn("deprecated use session.addGutterDecoration"),this.session.addGutterDecoration(e,n)},t.prototype.removeGutterDecoration=function(e,n){window.console&&console.warn&&console.warn("deprecated use session.removeGutterDecoration"),this.session.removeGutterDecoration(e,n)},t.prototype.setAnnotations=function(e){this.$annotations=[];for(var n=0;n<e.length;n++){var a=e[n],c=a.row,d=this.$annotations[c];d||(d=this.$annotations[c]={text:[],type:[],displayText:[]});var k=a.text,v=a.text,p=a.type;k=k?y.escapeHTML(k):a.html||"",v=v||a.html||"",d.text.indexOf(k)===-1&&(d.text.push(k),d.type.push(p),d.displayText.push(v));var u=a.className;u?d.className=u:p==="error"?d.className=" ace_error":p==="security"&&!/\bace_error\b/.test(d.className)?d.className=" ace_security":p==="warning"&&!/\bace_(error|security)\b/.test(d.className)?d.className=" ace_warning":p==="info"&&!d.className?d.className=" ace_info":p==="hint"&&!d.className&&(d.className=" ace_hint")}},t.prototype.$updateAnnotations=function(e){if(this.$annotations.length){var n=e.start.row,a=e.end.row-n;if(a!==0)if(e.action=="remove")this.$annotations.splice(n,a+1,null);else{var c=new Array(a+1);c.unshift(n,1),this.$annotations.splice.apply(this.$annotations,c)}}},t.prototype.update=function(e){this.config=e;var n=this.session,a=e.firstRow,c=Math.min(e.lastRow+e.gutterOffset,n.getLength()-1);this.oldLastRow=c,this.config=e,this.$lines.moveContainer(e),this.$updateCursorRow();for(var d=n.getNextFoldLine(a),k=d?d.start.row:1/0,v=null,p=-1,u=a;;){if(u>k&&(u=d.end.row+1,d=n.getNextFoldLine(u,d),k=d?d.start.row:1/0),u>c){for(;this.$lines.getLength()>p+1;)this.$lines.pop();break}v=this.$lines.get(++p),v?v.row=u:(v=this.$lines.createCell(u,e,this.session,i),this.$lines.push(v)),this.$renderCell(v,e,d,u),u++}this._signal("afterRender"),this.$updateGutterWidth(e)},t.prototype.$updateGutterWidth=function(e){var n=this.session,a=n.gutterRenderer||this.$renderer,c=n.$firstLineNumber,d=this.$lines.last()?this.$lines.last().text:"";(this.$fixedWidth||n.$useWrapMode)&&(d=n.getLength()+c-1);var k=a?a.getWidth(n,d,e):d.toString().length*e.characterWidth,v=this.$padding||this.$computePadding();k+=v.left+v.right,k!==this.gutterWidth&&!isNaN(k)&&(this.gutterWidth=k,this.element.parentNode.style.width=this.element.style.width=Math.ceil(this.gutterWidth)+"px",this._signal("changeGutterWidth",k))},t.prototype.$updateCursorRow=function(){if(this.$highlightGutterLine){var e=this.session.selection.getCursor();this.$cursorRow!==e.row&&(this.$cursorRow=e.row)}},t.prototype.updateLineHighlight=function(){if(this.$highlightGutterLine){var e=this.session.selection.cursor.row;if(this.$cursorRow=e,!(this.$cursorCell&&this.$cursorCell.row==e)){this.$cursorCell&&(this.$cursorCell.element.className=this.$cursorCell.element.className.replace("ace_gutter-active-line ",""));var n=this.$lines.cells;this.$cursorCell=null;for(var a=0;a<n.length;a++){var c=n[a];if(c.row>=this.$cursorRow){if(c.row>this.$cursorRow){var d=this.session.getFoldLine(this.$cursorRow);if(a>0&&d&&d.start.row==n[a-1].row)c=n[a-1];else break}c.element.className="ace_gutter-active-line "+c.element.className,this.$cursorCell=c;break}}}}},t.prototype.scrollLines=function(e){var n=this.config;if(this.config=e,this.$updateCursorRow(),this.$lines.pageChanged(n,e))return this.update(e);this.$lines.moveContainer(e);var a=Math.min(e.lastRow+e.gutterOffset,this.session.getLength()-1),c=this.oldLastRow;if(this.oldLastRow=a,!n||c<e.firstRow)return this.update(e);if(a<n.firstRow)return this.update(e);if(n.firstRow<e.firstRow)for(var d=this.session.getFoldedRowCount(n.firstRow,e.firstRow-1);d>0;d--)this.$lines.shift();if(c>a)for(var d=this.session.getFoldedRowCount(a+1,c);d>0;d--)this.$lines.pop();e.firstRow<n.firstRow&&this.$lines.unshift(this.$renderLines(e,e.firstRow,n.firstRow-1)),a>c&&this.$lines.push(this.$renderLines(e,c+1,a)),this.updateLineHighlight(),this._signal("afterRender"),this.$updateGutterWidth(e)},t.prototype.$renderLines=function(e,n,a){for(var c=[],d=n,k=this.session.getNextFoldLine(d),v=k?k.start.row:1/0;d>v&&(d=k.end.row+1,k=this.session.getNextFoldLine(d,k),v=k?k.start.row:1/0),!(d>a);){var p=this.$lines.createCell(d,e,this.session,i);this.$renderCell(p,e,k,d),c.push(p),d++}return c},t.prototype.$renderCell=function(e,n,a,c){var d=e.element,k=this.session,v=d.childNodes[0],p=d.childNodes[1],u=d.childNodes[2],m=u.firstChild,E=k.$firstLineNumber,S=k.$breakpoints,$=k.$decorations,R=k.gutterRenderer||this.$renderer,g=this.$showFoldWidgets&&k.foldWidgets,w=a?a.start.row:Number.MAX_VALUE,l=n.lineHeight+"px",_=this.$useSvgGutterIcons?"ace_gutter-cell_svg-icons ":"ace_gutter-cell ",L=this.$useSvgGutterIcons?"ace_icon_svg":"ace_icon",I=(R?R.getText(k,c):c+E).toString();if(this.$highlightGutterLine&&(c==this.$cursorRow||a&&c<this.$cursorRow&&c>=w&&this.$cursorRow<=a.end.row)&&(_+="ace_gutter-active-line ",this.$cursorCell!=e&&(this.$cursorCell&&(this.$cursorCell.element.className=this.$cursorCell.element.className.replace("ace_gutter-active-line ","")),this.$cursorCell=e)),S[c]&&(_+=S[c]),$[c]&&(_+=$[c]),this.$annotations[c]&&c!==w&&(_+=this.$annotations[c].className),g){var W=g[c];W==null&&(W=g[c]=k.getFoldWidget(c))}if(W){var H="ace_fold-widget ace_"+W,J=W=="start"&&c==w&&c<a.end.row;if(J){H+=" ace_closed";for(var q="",Z=!1,oe=c+1;oe<=a.end.row;oe++)if(this.$annotations[oe]){if(this.$annotations[oe].className===" ace_error"){Z=!0,q=" ace_error_fold";break}this.$annotations[oe].className===" ace_security"?(Z=!0,q=" ace_security_fold"):this.$annotations[oe].className===" ace_warning"&&q!==" ace_security_fold"&&(Z=!0,q=" ace_warning_fold")}_+=q}else H+=" ace_open";p.className!=H&&(p.className=H),M.setStyle(p.style,"height",l),M.setStyle(p.style,"display","inline-block"),p.setAttribute("role","button"),p.setAttribute("tabindex","-1");var ee=k.getFoldWidgetRange(c);ee?p.setAttribute("aria-label",o("gutter.code-folding.range.aria-label","Toggle code folding, rows $0 through $1",[ee.start.row+1,ee.end.row+1])):a?p.setAttribute("aria-label",o("gutter.code-folding.closed.aria-label","Toggle code folding, rows $0 through $1",[a.start.row+1,a.end.row+1])):p.setAttribute("aria-label",o("gutter.code-folding.open.aria-label","Toggle code folding, row $0",[c+1])),J?(p.setAttribute("aria-expanded","false"),p.setAttribute("title",o("gutter.code-folding.closed.title","Unfold code"))):(p.setAttribute("aria-expanded","true"),p.setAttribute("title",o("gutter.code-folding.open.title","Fold code")))}else p&&(M.setStyle(p.style,"display","none"),p.setAttribute("tabindex","0"),p.removeAttribute("role"),p.removeAttribute("aria-label"));if(Z&&this.$showFoldedAnnotations){u.className="ace_gutter_annotation",m.className=L,m.className+=q,M.setStyle(m.style,"height",l),M.setStyle(u.style,"display","block"),M.setStyle(u.style,"height",l);var se;switch(q){case" ace_error_fold":se=o("gutter.annotation.aria-label.error","Error, read annotations row $0",[I]);break;case" ace_security_fold":se=o("gutter.annotation.aria-label.security","Security finding, read annotations row $0",[I]);break;case" ace_warning_fold":se=o("gutter.annotation.aria-label.warning","Warning, read annotations row $0",[I]);break}u.setAttribute("aria-label",se),u.setAttribute("tabindex","-1"),u.setAttribute("role","button")}else if(this.$annotations[c]){u.className="ace_gutter_annotation",m.className=L,this.$useSvgGutterIcons?m.className+=this.$annotations[c].className:d.classList.add(this.$annotations[c].className.replace(" ","")),M.setStyle(m.style,"height",l),M.setStyle(u.style,"display","block"),M.setStyle(u.style,"height",l);var se;switch(this.$annotations[c].className){case" ace_error":se=o("gutter.annotation.aria-label.error","Error, read annotations row $0",[I]);break;case" ace_security":se=o("gutter.annotation.aria-label.security","Security finding, read annotations row $0",[I]);break;case" ace_warning":se=o("gutter.annotation.aria-label.warning","Warning, read annotations row $0",[I]);break;case" ace_info":se=o("gutter.annotation.aria-label.info","Info, read annotations row $0",[I]);break;case" ace_hint":se=o("gutter.annotation.aria-label.hint","Suggestion, read annotations row $0",[I]);break}u.setAttribute("aria-label",se),u.setAttribute("tabindex","-1"),u.setAttribute("role","button")}else M.setStyle(u.style,"display","none"),u.removeAttribute("aria-label"),u.removeAttribute("role"),u.setAttribute("tabindex","0");return I!==v.data&&(v.data=I),d.className!=_&&(d.className=_),M.setStyle(e.element.style,"height",this.$lines.computeLineHeight(c,n,k)+"px"),M.setStyle(e.element.style,"top",this.$lines.computeLineTop(c,n,k)+"px"),e.text=I,u.style.display==="none"&&p.style.display==="none"?e.element.setAttribute("aria-hidden",!0):e.element.setAttribute("aria-hidden",!1),e},t.prototype.setHighlightGutterLine=function(e){this.$highlightGutterLine=e},t.prototype.setShowLineNumbers=function(e){this.$renderer=!e&&{getWidth:function(){return 0},getText:function(){return""}}},t.prototype.getShowLineNumbers=function(){return this.$showLineNumbers},t.prototype.setShowFoldWidgets=function(e){e?M.addCssClass(this.element,"ace_folding-enabled"):M.removeCssClass(this.element,"ace_folding-enabled"),this.$showFoldWidgets=e,this.$padding=null},t.prototype.getShowFoldWidgets=function(){return this.$showFoldWidgets},t.prototype.$computePadding=function(){if(!this.element.firstChild)return{left:0,right:0};var e=M.computedStyle(this.element.firstChild);return this.$padding={},this.$padding.left=(parseInt(e.borderLeftWidth)||0)+(parseInt(e.paddingLeft)||0)+1,this.$padding.right=(parseInt(e.borderRightWidth)||0)+(parseInt(e.paddingRight)||0),this.$padding},t.prototype.getRegion=function(e){var n=this.$padding||this.$computePadding(),a=this.element.getBoundingClientRect();if(e.x<n.left+a.left)return"markers";if(this.$showFoldWidgets&&e.x>a.right-n.right)return"foldWidgets"},t}();r.prototype.$fixedWidth=!1,r.prototype.$highlightGutterLine=!0,r.prototype.$renderer="",r.prototype.$showLineNumbers=!0,r.prototype.$showFoldWidgets=!0,A.implement(r.prototype,s);function i(t){var e=document.createTextNode("");t.appendChild(e);var n=M.createElement("span");t.appendChild(n);var a=M.createElement("span");t.appendChild(a);var c=M.createElement("span");return a.appendChild(c),t}D.Gutter=r}),ace.define("ace/layer/marker",["require","exports","module","ace/range","ace/lib/dom"],function(f,D,z){var M=f("../range").Range,A=f("../lib/dom"),y=function(){function h(o){this.element=A.createElement("div"),this.element.className="ace_layer ace_marker-layer",o.appendChild(this.element)}return h.prototype.setPadding=function(o){this.$padding=o},h.prototype.setSession=function(o){this.session=o},h.prototype.setMarkers=function(o){this.markers=o},h.prototype.elt=function(o,r){var i=this.i!=-1&&this.element.childNodes[this.i];i?this.i++:(i=document.createElement("div"),this.element.appendChild(i),this.i=-1),i.style.cssText=r,i.className=o},h.prototype.update=function(o){if(o){this.config=o,this.i=0;var r;for(var i in this.markers){var t=this.markers[i];if(!t.range){t.update(r,this,this.session,o);continue}var e=t.range.clipRows(o.firstRow,o.lastRow);if(!e.isEmpty())if(e=e.toScreenRange(this.session),t.renderer){var n=this.$getTop(e.start.row,o),a=this.$padding+e.start.column*o.characterWidth;t.renderer(r,e,a,n,o)}else t.type=="fullLine"?this.drawFullLineMarker(r,e,t.clazz,o):t.type=="screenLine"?this.drawScreenLineMarker(r,e,t.clazz,o):e.isMultiLine()?t.type=="text"?this.drawTextMarker(r,e,t.clazz,o):this.drawMultiLineMarker(r,e,t.clazz,o):this.drawSingleLineMarker(r,e,t.clazz+" ace_start ace_br15",o)}if(this.i!=-1)for(;this.i<this.element.childElementCount;)this.element.removeChild(this.element.lastChild)}},h.prototype.$getTop=function(o,r){return(o-r.firstRowScreen)*r.lineHeight},h.prototype.drawTextMarker=function(o,r,i,t,e){for(var n=this.session,a=r.start.row,c=r.end.row,d=a,k=0,v=0,p=n.getScreenLastRowColumn(d),u=new M(d,r.start.column,d,v);d<=c;d++)u.start.row=u.end.row=d,u.start.column=d==a?r.start.column:n.getRowWrapIndent(d),u.end.column=p,k=v,v=p,p=d+1<c?n.getScreenLastRowColumn(d+1):d==c?0:r.end.column,this.drawSingleLineMarker(o,u,i+(d==a?" ace_start":"")+" ace_br"+s(d==a||d==a+1&&r.start.column,k<v,v>p,d==c),t,d==c?0:1,e)},h.prototype.drawMultiLineMarker=function(o,r,i,t,e){var n=this.$padding,a=t.lineHeight,c=this.$getTop(r.start.row,t),d=n+r.start.column*t.characterWidth;if(e=e||"",this.session.$bidiHandler.isBidiRow(r.start.row)){var k=r.clone();k.end.row=k.start.row,k.end.column=this.session.getLine(k.start.row).length,this.drawBidiSingleLineMarker(o,k,i+" ace_br1 ace_start",t,null,e)}else this.elt(i+" ace_br1 ace_start","height:"+a+"px;right:"+n+"px;top:"+c+"px;left:"+d+"px;"+(e||""));if(this.session.$bidiHandler.isBidiRow(r.end.row)){var k=r.clone();k.start.row=k.end.row,k.start.column=0,this.drawBidiSingleLineMarker(o,k,i+" ace_br12",t,null,e)}else{c=this.$getTop(r.end.row,t);var v=r.end.column*t.characterWidth;this.elt(i+" ace_br12","height:"+a+"px;width:"+v+"px;top:"+c+"px;left:"+n+"px;"+(e||""))}if(a=(r.end.row-r.start.row-1)*t.lineHeight,!(a<=0)){c=this.$getTop(r.start.row+1,t);var p=(r.start.column?1:0)|(r.end.column?0:8);this.elt(i+(p?" ace_br"+p:""),"height:"+a+"px;right:"+n+"px;top:"+c+"px;left:"+n+"px;"+(e||""))}},h.prototype.drawSingleLineMarker=function(o,r,i,t,e,n){if(this.session.$bidiHandler.isBidiRow(r.start.row))return this.drawBidiSingleLineMarker(o,r,i,t,e,n);var a=t.lineHeight,c=(r.end.column+(e||0)-r.start.column)*t.characterWidth,d=this.$getTop(r.start.row,t),k=this.$padding+r.start.column*t.characterWidth;this.elt(i,"height:"+a+"px;width:"+c+"px;top:"+d+"px;left:"+k+"px;"+(n||""))},h.prototype.drawBidiSingleLineMarker=function(o,r,i,t,e,n){var a=t.lineHeight,c=this.$getTop(r.start.row,t),d=this.$padding,k=this.session.$bidiHandler.getSelections(r.start.column,r.end.column);k.forEach(function(v){this.elt(i,"height:"+a+"px;width:"+(v.width+(e||0))+"px;top:"+c+"px;left:"+(d+v.left)+"px;"+(n||""))},this)},h.prototype.drawFullLineMarker=function(o,r,i,t,e){var n=this.$getTop(r.start.row,t),a=t.lineHeight;r.start.row!=r.end.row&&(a+=this.$getTop(r.end.row,t)-n),this.elt(i,"height:"+a+"px;top:"+n+"px;left:0;right:0;"+(e||""))},h.prototype.drawScreenLineMarker=function(o,r,i,t,e){var n=this.$getTop(r.start.row,t),a=t.lineHeight;this.elt(i,"height:"+a+"px;top:"+n+"px;left:0;right:0;"+(e||""))},h}();y.prototype.$padding=0;function s(h,o,r,i){return(h?1:0)|(o?2:0)|(r?4:0)|(i?8:0)}D.Marker=y}),ace.define("ace/layer/text_util",["require","exports","module"],function(f,D,z){var M=new Set(["text","rparen","lparen"]);D.isTextToken=function(A){return M.has(A)}}),ace.define("ace/layer/text",["require","exports","module","ace/lib/oop","ace/lib/dom","ace/lib/lang","ace/layer/lines","ace/lib/event_emitter","ace/config","ace/layer/text_util"],function(f,D,z){var M=f("../lib/oop"),A=f("../lib/dom"),y=f("../lib/lang"),s=f("./lines").Lines,h=f("../lib/event_emitter").EventEmitter,o=f("../config").nls,r=f("./text_util").isTextToken,i=function(){function t(e){this.dom=A,this.element=this.dom.createElement("div"),this.element.className="ace_layer ace_text-layer",e.appendChild(this.element),this.$updateEolChar=this.$updateEolChar.bind(this),this.$lines=new s(this.element)}return t.prototype.$updateEolChar=function(){var e=this.session.doc,n=e.getNewLineCharacter()==`
`&&e.getNewLineMode()!="windows",a=n?this.EOL_CHAR_LF:this.EOL_CHAR_CRLF;if(this.EOL_CHAR!=a)return this.EOL_CHAR=a,!0},t.prototype.setPadding=function(e){this.$padding=e,this.element.style.margin="0 "+e+"px"},t.prototype.getLineHeight=function(){return this.$fontMetrics.$characterSize.height||0},t.prototype.getCharacterWidth=function(){return this.$fontMetrics.$characterSize.width||0},t.prototype.$setFontMetrics=function(e){this.$fontMetrics=e,this.$fontMetrics.on("changeCharacterSize",(function(n){this._signal("changeCharacterSize",n)}).bind(this)),this.$pollSizeChanges()},t.prototype.checkForSizeChanges=function(){this.$fontMetrics.checkForSizeChanges()},t.prototype.$pollSizeChanges=function(){return this.$pollSizeChangesTimer=this.$fontMetrics.$pollSizeChanges()},t.prototype.setSession=function(e){this.session=e,e&&this.$computeTabString()},t.prototype.setShowInvisibles=function(e){return this.showInvisibles==e?!1:(this.showInvisibles=e,typeof e=="string"?(this.showSpaces=/tab/i.test(e),this.showTabs=/space/i.test(e),this.showEOL=/eol/i.test(e)):this.showSpaces=this.showTabs=this.showEOL=e,this.$computeTabString(),!0)},t.prototype.setDisplayIndentGuides=function(e){return this.displayIndentGuides==e?!1:(this.displayIndentGuides=e,this.$computeTabString(),!0)},t.prototype.setHighlightIndentGuides=function(e){return this.$highlightIndentGuides===e?!1:(this.$highlightIndentGuides=e,e)},t.prototype.$computeTabString=function(){var e=this.session.getTabSize();this.tabSize=e;for(var n=this.$tabStrings=[0],a=1;a<e+1;a++)if(this.showTabs){var c=this.dom.createElement("span");c.className="ace_invisible ace_invisible_tab",c.textContent=y.stringRepeat(this.TAB_CHAR,a),n.push(c)}else n.push(this.dom.createTextNode(y.stringRepeat(" ",a),this.element));if(this.displayIndentGuides){this.$indentGuideRe=/\s\S| \t|\t |\s$/;var d="ace_indent-guide",k=this.showSpaces?" ace_invisible ace_invisible_space":"",v=this.showSpaces?y.stringRepeat(this.SPACE_CHAR,this.tabSize):y.stringRepeat(" ",this.tabSize),p=this.showTabs?" ace_invisible ace_invisible_tab":"",u=this.showTabs?y.stringRepeat(this.TAB_CHAR,this.tabSize):v,c=this.dom.createElement("span");c.className=d+k,c.textContent=v,this.$tabStrings[" "]=c;var c=this.dom.createElement("span");c.className=d+p,c.textContent=u,this.$tabStrings["	"]=c}},t.prototype.updateLines=function(e,n,a){if(this.config.lastRow!=e.lastRow||this.config.firstRow!=e.firstRow)return this.update(e);this.config=e;for(var c=Math.max(n,e.firstRow),d=Math.min(a,e.lastRow),k=this.element.childNodes,v=0,u=e.firstRow;u<c;u++){var m=this.session.getFoldLine(u);if(m)if(m.containsRow(c)){c=m.start.row;break}else u=m.end.row;v++}for(var p=!1,u=c,m=this.session.getNextFoldLine(u),E=m?m.start.row:1/0;u>E&&(u=m.end.row+1,m=this.session.getNextFoldLine(u,m),E=m?m.start.row:1/0),!(u>d);){var S=k[v++];if(S){this.dom.removeChildren(S),this.$renderLine(S,u,u==E?m:!1),p&&(S.style.top=this.$lines.computeLineTop(u,e,this.session)+"px");var $=e.lineHeight*this.session.getRowLength(u)+"px";S.style.height!=$&&(p=!0,S.style.height=$)}u++}if(p)for(;v<this.$lines.cells.length;){var R=this.$lines.cells[v++];R.element.style.top=this.$lines.computeLineTop(R.row,e,this.session)+"px"}},t.prototype.scrollLines=function(e){var n=this.config;if(this.config=e,this.$lines.pageChanged(n,e))return this.update(e);this.$lines.moveContainer(e);var a=e.lastRow,c=n?n.lastRow:-1;if(!n||c<e.firstRow)return this.update(e);if(a<n.firstRow)return this.update(e);if(!n||n.lastRow<e.firstRow)return this.update(e);if(e.lastRow<n.firstRow)return this.update(e);if(n.firstRow<e.firstRow)for(var d=this.session.getFoldedRowCount(n.firstRow,e.firstRow-1);d>0;d--)this.$lines.shift();if(n.lastRow>e.lastRow)for(var d=this.session.getFoldedRowCount(e.lastRow+1,n.lastRow);d>0;d--)this.$lines.pop();e.firstRow<n.firstRow&&this.$lines.unshift(this.$renderLinesFragment(e,e.firstRow,n.firstRow-1)),e.lastRow>n.lastRow&&this.$lines.push(this.$renderLinesFragment(e,n.lastRow+1,e.lastRow)),this.$highlightIndentGuide()},t.prototype.$renderLinesFragment=function(e,n,a){for(var c=[],d=n,k=this.session.getNextFoldLine(d),v=k?k.start.row:1/0;d>v&&(d=k.end.row+1,k=this.session.getNextFoldLine(d,k),v=k?k.start.row:1/0),!(d>a);){var p=this.$lines.createCell(d,e,this.session),u=p.element;this.dom.removeChildren(u),A.setStyle(u.style,"height",this.$lines.computeLineHeight(d,e,this.session)+"px"),A.setStyle(u.style,"top",this.$lines.computeLineTop(d,e,this.session)+"px"),this.$renderLine(u,d,d==v?k:!1),this.$useLineGroups()?u.className="ace_line_group":u.className="ace_line",c.push(p),d++}return c},t.prototype.update=function(e){this.$lines.moveContainer(e),this.config=e;for(var n=e.firstRow,a=e.lastRow,c=this.$lines;c.getLength();)c.pop();c.push(this.$renderLinesFragment(e,n,a))},t.prototype.$renderToken=function(e,n,a,c){for(var d=this,k=/(\t)|( +)|([\x00-\x1f\x80-\xa0\xad\u1680\u180E\u2000-\u200f\u2028\u2029\u202F\u205F\uFEFF\uFFF9-\uFFFC\u2066\u2067\u2068\u202A\u202B\u202D\u202E\u202C\u2069]+)|(\u3000)|([\u1100-\u115F\u11A3-\u11A7\u11FA-\u11FF\u2329-\u232A\u2E80-\u2E99\u2E9B-\u2EF3\u2F00-\u2FD5\u2FF0-\u2FFB\u3001-\u303E\u3041-\u3096\u3099-\u30FF\u3105-\u312D\u3131-\u318E\u3190-\u31BA\u31C0-\u31E3\u31F0-\u321E\u3220-\u3247\u3250-\u32FE\u3300-\u4DBF\u4E00-\uA48C\uA490-\uA4C6\uA960-\uA97C\uAC00-\uD7A3\uD7B0-\uD7C6\uD7CB-\uD7FB\uF900-\uFAFF\uFE10-\uFE19\uFE30-\uFE52\uFE54-\uFE66\uFE68-\uFE6B\uFF01-\uFF60\uFFE0-\uFFE6]|[\uD800-\uDBFF][\uDC00-\uDFFF])/g,v=this.dom.createFragment(this.element),p,u=0;p=k.exec(c);){var m=p[1],E=p[2],S=p[3],$=p[4],R=p[5];if(!(!d.showSpaces&&E)){var g=u!=p.index?c.slice(u,p.index):"";if(u=p.index+p[0].length,g&&v.appendChild(this.dom.createTextNode(g,this.element)),m){var w=d.session.getScreenTabSize(n+p.index);v.appendChild(d.$tabStrings[w].cloneNode(!0)),n+=w-1}else if(E)if(d.showSpaces){var l=this.dom.createElement("span");l.className="ace_invisible ace_invisible_space",l.textContent=y.stringRepeat(d.SPACE_CHAR,E.length),v.appendChild(l)}else v.appendChild(this.dom.createTextNode(E,this.element));else if(S){var l=this.dom.createElement("span");l.className="ace_invisible ace_invisible_space ace_invalid",l.textContent=y.stringRepeat(d.SPACE_CHAR,S.length),v.appendChild(l)}else if($){n+=1;var l=this.dom.createElement("span");l.style.width=d.config.characterWidth*2+"px",l.className=d.showSpaces?"ace_cjk ace_invisible ace_invisible_space":"ace_cjk",l.textContent=d.showSpaces?d.SPACE_CHAR:$,v.appendChild(l)}else if(R){n+=1;var l=this.dom.createElement("span");l.style.width=d.config.characterWidth*2+"px",l.className="ace_cjk",l.textContent=R,v.appendChild(l)}}}if(v.appendChild(this.dom.createTextNode(u?c.slice(u):c,this.element)),r(a.type))e.appendChild(v);else{var _="ace_"+a.type.replace(/\./g," ace_"),l=this.dom.createElement("span");a.type=="fold"&&(l.style.width=a.value.length*this.config.characterWidth+"px",l.setAttribute("title",o("inline-fold.closed.title","Unfold code"))),l.className=_,l.appendChild(v),e.appendChild(l)}return n+c.length},t.prototype.renderIndentGuide=function(e,n,a){var c=n.search(this.$indentGuideRe);if(c<=0||c>=a)return n;if(n[0]==" "){c-=c%this.tabSize;for(var d=c/this.tabSize,k=0;k<d;k++)e.appendChild(this.$tabStrings[" "].cloneNode(!0));return this.$highlightIndentGuide(),n.substr(c)}else if(n[0]=="	"){for(var k=0;k<c;k++)e.appendChild(this.$tabStrings["	"].cloneNode(!0));return this.$highlightIndentGuide(),n.substr(c)}return this.$highlightIndentGuide(),n},t.prototype.$highlightIndentGuide=function(){if(!(!this.$highlightIndentGuides||!this.displayIndentGuides)){this.$highlightIndentGuideMarker={indentLevel:void 0,start:void 0,end:void 0,dir:void 0};var e=this.session.doc.$lines;if(e){var n=this.session.selection.getCursor(),a=/^\s*/.exec(this.session.doc.getLine(n.row))[0].length,c=Math.floor(a/this.tabSize);this.$highlightIndentGuideMarker={indentLevel:c,start:n.row};var d=this.session.$bracketHighlight;if(d){for(var k=this.session.$bracketHighlight.ranges,v=0;v<k.length;v++)if(n.row!==k[v].start.row){this.$highlightIndentGuideMarker.end=k[v].start.row,n.row>k[v].start.row?this.$highlightIndentGuideMarker.dir=-1:this.$highlightIndentGuideMarker.dir=1;break}}if(!this.$highlightIndentGuideMarker.end&&e[n.row]!==""&&n.column===e[n.row].length){this.$highlightIndentGuideMarker.dir=1;for(var v=n.row+1;v<e.length;v++){var p=e[v],u=/^\s*/.exec(p)[0].length;if(p!==""&&(this.$highlightIndentGuideMarker.end=v,u<=a))break}}this.$renderHighlightIndentGuide()}}},t.prototype.$clearActiveIndentGuide=function(){for(var e=this.$lines.cells,n=0;n<e.length;n++){var a=e[n],c=a.element.childNodes;if(c.length>0){for(var d=0;d<c.length;d++)if(c[d].classList&&c[d].classList.contains("ace_indent-guide-active")){c[d].classList.remove("ace_indent-guide-active");break}}}},t.prototype.$setIndentGuideActive=function(e,n){var a=this.session.doc.getLine(e.row);if(a!==""){var c=e.element.childNodes;if(c){var d=c[n-1];d&&d.classList&&d.classList.contains("ace_indent-guide")&&d.classList.add("ace_indent-guide-active")}}},t.prototype.$renderHighlightIndentGuide=function(){if(this.$lines){var e=this.$lines.cells;this.$clearActiveIndentGuide();var n=this.$highlightIndentGuideMarker.indentLevel;if(n!==0)if(this.$highlightIndentGuideMarker.dir===1)for(var a=0;a<e.length;a++){var c=e[a];if(this.$highlightIndentGuideMarker.end&&c.row>=this.$highlightIndentGuideMarker.start+1){if(c.row>=this.$highlightIndentGuideMarker.end)break;this.$setIndentGuideActive(c,n)}}else for(var a=e.length-1;a>=0;a--){var c=e[a];if(this.$highlightIndentGuideMarker.end&&c.row<this.$highlightIndentGuideMarker.start){if(c.row<=this.$highlightIndentGuideMarker.end)break;this.$setIndentGuideActive(c,n)}}}},t.prototype.$createLineElement=function(e){var n=this.dom.createElement("div");return n.className="ace_line",n.style.height=this.config.lineHeight+"px",n},t.prototype.$renderWrappedLine=function(e,n,a){var c=0,d=0,k=a[0],v=0,p=this.$createLineElement();e.appendChild(p);for(var u=0;u<n.length;u++){var m=n[u],E=m.value;if(u==0&&this.displayIndentGuides){if(c=E.length,E=this.renderIndentGuide(p,E,k),!E)continue;c-=E.length}if(c+E.length<k)v=this.$renderToken(p,v,m,E),c+=E.length;else{for(;c+E.length>=k;)v=this.$renderToken(p,v,m,E.substring(0,k-c)),E=E.substring(k-c),c=k,p=this.$createLineElement(),e.appendChild(p),p.appendChild(this.dom.createTextNode(y.stringRepeat("",a.indent),this.element)),d++,v=0,k=a[d]||Number.MAX_VALUE;E.length!=0&&(c+=E.length,v=this.$renderToken(p,v,m,E))}}a[a.length-1]>this.MAX_LINE_LENGTH&&this.$renderOverflowMessage(p,v,null,"",!0)},t.prototype.$renderSimpleLine=function(e,n){for(var a=0,c=0;c<n.length;c++){var d=n[c],k=d.value;if(!(c==0&&this.displayIndentGuides&&(k=this.renderIndentGuide(e,k),!k))){if(a+k.length>this.MAX_LINE_LENGTH)return this.$renderOverflowMessage(e,a,d,k);a=this.$renderToken(e,a,d,k)}}},t.prototype.$renderOverflowMessage=function(e,n,a,c,d){a&&this.$renderToken(e,n,a,c.slice(0,this.MAX_LINE_LENGTH-n));var k=this.dom.createElement("span");k.className="ace_inline_button ace_keyword ace_toggle_wrap",k.textContent=d?"<hide>":"<click to see more...>",e.appendChild(k)},t.prototype.$renderLine=function(e,n,a){if(!a&&a!=!1&&(a=this.session.getFoldLine(n)),a)var c=this.$getFoldLineTokens(n,a);else var c=this.session.getTokens(n);var d=e;if(c.length){var k=this.session.getRowSplitData(n);if(k&&k.length){this.$renderWrappedLine(e,c,k);var d=e.lastChild}else{var d=e;this.$useLineGroups()&&(d=this.$createLineElement(),e.appendChild(d)),this.$renderSimpleLine(d,c)}}else this.$useLineGroups()&&(d=this.$createLineElement(),e.appendChild(d));if(this.showEOL&&d){a&&(n=a.end.row);var v=this.dom.createElement("span");v.className="ace_invisible ace_invisible_eol",v.textContent=n==this.session.getLength()-1?this.EOF_CHAR:this.EOL_CHAR,d.appendChild(v)}},t.prototype.$getFoldLineTokens=function(e,n){var a=this.session,c=[];function d(v,p,u){for(var m=0,E=0;E+v[m].value.length<p;)if(E+=v[m].value.length,m++,m==v.length)return;if(E!=p){var S=v[m].value.substring(p-E);S.length>u-p&&(S=S.substring(0,u-p)),c.push({type:v[m].type,value:S}),E=p+S.length,m+=1}for(;E<u&&m<v.length;){var S=v[m].value;S.length+E>u?c.push({type:v[m].type,value:S.substring(0,u-E)}):c.push(v[m]),E+=S.length,m+=1}}var k=a.getTokens(e);return n.walk(function(v,p,u,m,E){v!=null?c.push({type:"fold",value:v}):(E&&(k=a.getTokens(p)),k.length&&d(k,m,u))},n.end.row,this.session.getLine(n.end.row).length),c},t.prototype.$useLineGroups=function(){return this.session.getUseWrapMode()},t}();i.prototype.EOF_CHAR="",i.prototype.EOL_CHAR_LF="",i.prototype.EOL_CHAR_CRLF="",i.prototype.EOL_CHAR=i.prototype.EOL_CHAR_LF,i.prototype.TAB_CHAR="",i.prototype.SPACE_CHAR="",i.prototype.$padding=0,i.prototype.MAX_LINE_LENGTH=1e4,i.prototype.showInvisibles=!1,i.prototype.showSpaces=!1,i.prototype.showTabs=!1,i.prototype.showEOL=!1,i.prototype.displayIndentGuides=!0,i.prototype.$highlightIndentGuides=!0,i.prototype.$tabStrings=[],i.prototype.destroy={},i.prototype.onChangeTabSize=i.prototype.$computeTabString,M.implement(i.prototype,h),D.Text=i}),ace.define("ace/layer/cursor",["require","exports","module","ace/lib/dom"],function(f,D,z){var M=f("../lib/dom"),A=function(){function y(s){this.element=M.createElement("div"),this.element.className="ace_layer ace_cursor-layer",s.appendChild(this.element),this.isVisible=!1,this.isBlinking=!0,this.blinkInterval=1e3,this.smoothBlinking=!1,this.cursors=[],this.cursor=this.addCursor(),M.addCssClass(this.element,"ace_hidden-cursors"),this.$updateCursors=this.$updateOpacity.bind(this)}return y.prototype.$updateOpacity=function(s){for(var h=this.cursors,o=h.length;o--;)M.setStyle(h[o].style,"opacity",s?"":"0")},y.prototype.$startCssAnimation=function(){for(var s=this.cursors,h=s.length;h--;)s[h].style.animationDuration=this.blinkInterval+"ms";this.$isAnimating=!0,setTimeout((function(){this.$isAnimating&&M.addCssClass(this.element,"ace_animate-blinking")}).bind(this))},y.prototype.$stopCssAnimation=function(){this.$isAnimating=!1,M.removeCssClass(this.element,"ace_animate-blinking")},y.prototype.setPadding=function(s){this.$padding=s},y.prototype.setSession=function(s){this.session=s},y.prototype.setBlinking=function(s){s!=this.isBlinking&&(this.isBlinking=s,this.restartTimer())},y.prototype.setBlinkInterval=function(s){s!=this.blinkInterval&&(this.blinkInterval=s,this.restartTimer())},y.prototype.setSmoothBlinking=function(s){s!=this.smoothBlinking&&(this.smoothBlinking=s,M.setCssClass(this.element,"ace_smooth-blinking",s),this.$updateCursors(!0),this.restartTimer())},y.prototype.addCursor=function(){var s=M.createElement("div");return s.className="ace_cursor",this.element.appendChild(s),this.cursors.push(s),s},y.prototype.removeCursor=function(){if(this.cursors.length>1){var s=this.cursors.pop();return s.parentNode.removeChild(s),s}},y.prototype.hideCursor=function(){this.isVisible=!1,M.addCssClass(this.element,"ace_hidden-cursors"),this.restartTimer()},y.prototype.showCursor=function(){this.isVisible=!0,M.removeCssClass(this.element,"ace_hidden-cursors"),this.restartTimer()},y.prototype.restartTimer=function(){var s=this.$updateCursors;if(clearInterval(this.intervalId),clearTimeout(this.timeoutId),this.$stopCssAnimation(),this.smoothBlinking&&(this.$isSmoothBlinking=!1,M.removeCssClass(this.element,"ace_smooth-blinking")),s(!0),!this.isBlinking||!this.blinkInterval||!this.isVisible){this.$stopCssAnimation();return}if(this.smoothBlinking&&(this.$isSmoothBlinking=!0,setTimeout((function(){this.$isSmoothBlinking&&M.addCssClass(this.element,"ace_smooth-blinking")}).bind(this))),M.HAS_CSS_ANIMATION)this.$startCssAnimation();else{var h=(function(){this.timeoutId=setTimeout(function(){s(!1)},.6*this.blinkInterval)}).bind(this);this.intervalId=setInterval(function(){s(!0),h()},this.blinkInterval),h()}},y.prototype.getPixelPosition=function(s,h){if(!this.config||!this.session)return{left:0,top:0};s||(s=this.session.selection.getCursor());var o=this.session.documentToScreenPosition(s),r=this.$padding+(this.session.$bidiHandler.isBidiRow(o.row,s.row)?this.session.$bidiHandler.getPosLeft(o.column):o.column*this.config.characterWidth),i=(o.row-(h?this.config.firstRowScreen:0))*this.config.lineHeight;return{left:r,top:i}},y.prototype.isCursorInView=function(s,h){return s.top>=0&&s.top<h.maxHeight},y.prototype.update=function(s){this.config=s;var h=this.session.$selectionMarkers,o=0,r=0;(h===void 0||h.length===0)&&(h=[{cursor:null}]);for(var o=0,i=h.length;o<i;o++){var t=this.getPixelPosition(h[o].cursor,!0);if(!((t.top>s.height+s.offset||t.top<0)&&o>1)){var e=this.cursors[r++]||this.addCursor(),n=e.style;this.drawCursor?this.drawCursor(e,t,s,h[o],this.session):this.isCursorInView(t,s)?(M.setStyle(n,"display","block"),M.translate(e,t.left,t.top),M.setStyle(n,"width",Math.round(s.characterWidth)+"px"),M.setStyle(n,"height",s.lineHeight+"px")):M.setStyle(n,"display","none")}}for(;this.cursors.length>r;)this.removeCursor();var a=this.session.getOverwrite();this.$setOverwrite(a),this.$pixelPos=t,this.restartTimer()},y.prototype.$setOverwrite=function(s){s!=this.overwrite&&(this.overwrite=s,s?M.addCssClass(this.element,"ace_overwrite-cursors"):M.removeCssClass(this.element,"ace_overwrite-cursors"))},y.prototype.destroy=function(){clearInterval(this.intervalId),clearTimeout(this.timeoutId)},y}();A.prototype.$padding=0,A.prototype.drawCursor=null,D.Cursor=A}),ace.define("ace/scrollbar",["require","exports","module","ace/lib/oop","ace/lib/dom","ace/lib/event","ace/lib/event_emitter"],function(f,D,z){var M=this&&this.__extends||function(){var e=function(n,a){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(c,d){c.__proto__=d}||function(c,d){for(var k in d)Object.prototype.hasOwnProperty.call(d,k)&&(c[k]=d[k])},e(n,a)};return function(n,a){if(typeof a!="function"&&a!==null)throw new TypeError("Class extends value "+String(a)+" is not a constructor or null");e(n,a);function c(){this.constructor=n}n.prototype=a===null?Object.create(a):(c.prototype=a.prototype,new c)}}(),A=f("./lib/oop"),y=f("./lib/dom"),s=f("./lib/event"),h=f("./lib/event_emitter").EventEmitter,o=32768,r=function(){function e(n,a){this.element=y.createElement("div"),this.element.className="ace_scrollbar ace_scrollbar"+a,this.inner=y.createElement("div"),this.inner.className="ace_scrollbar-inner",this.inner.textContent="",this.element.appendChild(this.inner),n.appendChild(this.element),this.setVisible(!1),this.skipEvent=!1,s.addListener(this.element,"scroll",this.onScroll.bind(this)),s.addListener(this.element,"mousedown",s.preventDefault)}return e.prototype.setVisible=function(n){this.element.style.display=n?"":"none",this.isVisible=n,this.coeff=1},e}();A.implement(r.prototype,h);var i=function(e){M(n,e);function n(a,c){var d=e.call(this,a,"-v")||this;return d.scrollTop=0,d.scrollHeight=0,c.$scrollbarWidth=d.width=y.scrollbarWidth(a.ownerDocument),d.inner.style.width=d.element.style.width=(d.width||15)+5+"px",d.$minWidth=0,d}return n.prototype.onScroll=function(){if(!this.skipEvent){if(this.scrollTop=this.element.scrollTop,this.coeff!=1){var a=this.element.clientHeight/this.scrollHeight;this.scrollTop=this.scrollTop*(1-a)/(this.coeff-a)}this._emit("scroll",{data:this.scrollTop})}this.skipEvent=!1},n.prototype.getWidth=function(){return Math.max(this.isVisible?this.width:0,this.$minWidth||0)},n.prototype.setHeight=function(a){this.element.style.height=a+"px"},n.prototype.setScrollHeight=function(a){this.scrollHeight=a,a>o?(this.coeff=o/a,a=o):this.coeff!=1&&(this.coeff=1),this.inner.style.height=a+"px"},n.prototype.setScrollTop=function(a){this.scrollTop!=a&&(this.skipEvent=!0,this.scrollTop=a,this.element.scrollTop=a*this.coeff)},n}(r);i.prototype.setInnerHeight=i.prototype.setScrollHeight;var t=function(e){M(n,e);function n(a,c){var d=e.call(this,a,"-h")||this;return d.scrollLeft=0,d.height=c.$scrollbarWidth,d.inner.style.height=d.element.style.height=(d.height||15)+5+"px",d}return n.prototype.onScroll=function(){this.skipEvent||(this.scrollLeft=this.element.scrollLeft,this._emit("scroll",{data:this.scrollLeft})),this.skipEvent=!1},n.prototype.getHeight=function(){return this.isVisible?this.height:0},n.prototype.setWidth=function(a){this.element.style.width=a+"px"},n.prototype.setInnerWidth=function(a){this.inner.style.width=a+"px"},n.prototype.setScrollWidth=function(a){this.inner.style.width=a+"px"},n.prototype.setScrollLeft=function(a){this.scrollLeft!=a&&(this.skipEvent=!0,this.scrollLeft=this.element.scrollLeft=a)},n}(r);D.ScrollBar=i,D.ScrollBarV=i,D.ScrollBarH=t,D.VScrollBar=i,D.HScrollBar=t}),ace.define("ace/scrollbar_custom",["require","exports","module","ace/lib/oop","ace/lib/dom","ace/lib/event","ace/lib/event_emitter"],function(f,D,z){var M=this&&this.__extends||function(){var t=function(e,n){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(a,c){a.__proto__=c}||function(a,c){for(var d in c)Object.prototype.hasOwnProperty.call(c,d)&&(a[d]=c[d])},t(e,n)};return function(e,n){if(typeof n!="function"&&n!==null)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");t(e,n);function a(){this.constructor=e}e.prototype=n===null?Object.create(n):(a.prototype=n.prototype,new a)}}(),A=f("./lib/oop"),y=f("./lib/dom"),s=f("./lib/event"),h=f("./lib/event_emitter").EventEmitter;y.importCssString(`.ace_editor>.ace_sb-v div, .ace_editor>.ace_sb-h div{
  position: absolute;
  background: rgba(128, 128, 128, 0.6);
  -moz-box-sizing: border-box;
  box-sizing: border-box;
  border: 1px solid #bbb;
  border-radius: 2px;
  z-index: 8;
}
.ace_editor>.ace_sb-v, .ace_editor>.ace_sb-h {
  position: absolute;
  z-index: 6;
  background: none;
  overflow: hidden!important;
}
.ace_editor>.ace_sb-v {
  z-index: 6;
  right: 0;
  top: 0;
  width: 12px;
}
.ace_editor>.ace_sb-v div {
  z-index: 8;
  right: 0;
  width: 100%;
}
.ace_editor>.ace_sb-h {
  bottom: 0;
  left: 0;
  height: 12px;
}
.ace_editor>.ace_sb-h div {
  bottom: 0;
  height: 100%;
}
.ace_editor>.ace_sb_grabbed {
  z-index: 8;
  background: #000;
}`,"ace_scrollbar.css",!1);var o=function(){function t(e,n){this.element=y.createElement("div"),this.element.className="ace_sb"+n,this.inner=y.createElement("div"),this.inner.className="",this.element.appendChild(this.inner),this.VScrollWidth=12,this.HScrollHeight=12,e.appendChild(this.element),this.setVisible(!1),this.skipEvent=!1,s.addMultiMouseDownListener(this.element,[500,300,300],this,"onMouseDown")}return t.prototype.setVisible=function(e){this.element.style.display=e?"":"none",this.isVisible=e,this.coeff=1},t}();A.implement(o.prototype,h);var r=function(t){M(e,t);function e(n,a){var c=t.call(this,n,"-v")||this;return c.scrollTop=0,c.scrollHeight=0,c.parent=n,c.width=c.VScrollWidth,c.renderer=a,c.inner.style.width=c.element.style.width=(c.width||15)+"px",c.$minWidth=0,c}return e.prototype.onMouseDown=function(n,a){if(n==="mousedown"&&!(s.getButton(a)!==0||a.detail===2)){if(a.target===this.inner){var c=this,d=a.clientY,k=function($){d=$.clientY},v=function(){clearInterval(E)},p=a.clientY,u=this.thumbTop,m=function(){if(d!==void 0){var $=c.scrollTopFromThumbTop(u+d-p);$!==c.scrollTop&&c._emit("scroll",{data:$})}};s.capture(this.inner,k,v);var E=setInterval(m,20);return s.preventDefault(a)}var S=a.clientY-this.element.getBoundingClientRect().top-this.thumbHeight/2;return this._emit("scroll",{data:this.scrollTopFromThumbTop(S)}),s.preventDefault(a)}},e.prototype.getHeight=function(){return this.height},e.prototype.scrollTopFromThumbTop=function(n){var a=n*(this.pageHeight-this.viewHeight)/(this.slideHeight-this.thumbHeight);return a=a>>0,a<0?a=0:a>this.pageHeight-this.viewHeight&&(a=this.pageHeight-this.viewHeight),a},e.prototype.getWidth=function(){return Math.max(this.isVisible?this.width:0,this.$minWidth||0)},e.prototype.setHeight=function(n){this.height=Math.max(0,n),this.slideHeight=this.height,this.viewHeight=this.height,this.setScrollHeight(this.pageHeight,!0)},e.prototype.setScrollHeight=function(n,a){this.pageHeight===n&&!a||(this.pageHeight=n,this.thumbHeight=this.slideHeight*this.viewHeight/this.pageHeight,this.thumbHeight>this.slideHeight&&(this.thumbHeight=this.slideHeight),this.thumbHeight<15&&(this.thumbHeight=15),this.inner.style.height=this.thumbHeight+"px",this.scrollTop>this.pageHeight-this.viewHeight&&(this.scrollTop=this.pageHeight-this.viewHeight,this.scrollTop<0&&(this.scrollTop=0),this._emit("scroll",{data:this.scrollTop})))},e.prototype.setScrollTop=function(n){this.scrollTop=n,n<0&&(n=0),this.thumbTop=n*(this.slideHeight-this.thumbHeight)/(this.pageHeight-this.viewHeight),this.inner.style.top=this.thumbTop+"px"},e}(o);r.prototype.setInnerHeight=r.prototype.setScrollHeight;var i=function(t){M(e,t);function e(n,a){var c=t.call(this,n,"-h")||this;return c.scrollLeft=0,c.scrollWidth=0,c.height=c.HScrollHeight,c.inner.style.height=c.element.style.height=(c.height||12)+"px",c.renderer=a,c}return e.prototype.onMouseDown=function(n,a){if(n==="mousedown"&&!(s.getButton(a)!==0||a.detail===2)){if(a.target===this.inner){var c=this,d=a.clientX,k=function($){d=$.clientX},v=function(){clearInterval(E)},p=a.clientX,u=this.thumbLeft,m=function(){if(d!==void 0){var $=c.scrollLeftFromThumbLeft(u+d-p);$!==c.scrollLeft&&c._emit("scroll",{data:$})}};s.capture(this.inner,k,v);var E=setInterval(m,20);return s.preventDefault(a)}var S=a.clientX-this.element.getBoundingClientRect().left-this.thumbWidth/2;return this._emit("scroll",{data:this.scrollLeftFromThumbLeft(S)}),s.preventDefault(a)}},e.prototype.getHeight=function(){return this.isVisible?this.height:0},e.prototype.scrollLeftFromThumbLeft=function(n){var a=n*(this.pageWidth-this.viewWidth)/(this.slideWidth-this.thumbWidth);return a=a>>0,a<0?a=0:a>this.pageWidth-this.viewWidth&&(a=this.pageWidth-this.viewWidth),a},e.prototype.setWidth=function(n){this.width=Math.max(0,n),this.element.style.width=this.width+"px",this.slideWidth=this.width,this.viewWidth=this.width,this.setScrollWidth(this.pageWidth,!0)},e.prototype.setScrollWidth=function(n,a){this.pageWidth===n&&!a||(this.pageWidth=n,this.thumbWidth=this.slideWidth*this.viewWidth/this.pageWidth,this.thumbWidth>this.slideWidth&&(this.thumbWidth=this.slideWidth),this.thumbWidth<15&&(this.thumbWidth=15),this.inner.style.width=this.thumbWidth+"px",this.scrollLeft>this.pageWidth-this.viewWidth&&(this.scrollLeft=this.pageWidth-this.viewWidth,this.scrollLeft<0&&(this.scrollLeft=0),this._emit("scroll",{data:this.scrollLeft})))},e.prototype.setScrollLeft=function(n){this.scrollLeft=n,n<0&&(n=0),this.thumbLeft=n*(this.slideWidth-this.thumbWidth)/(this.pageWidth-this.viewWidth),this.inner.style.left=this.thumbLeft+"px"},e}(o);i.prototype.setInnerWidth=i.prototype.setScrollWidth,D.ScrollBar=r,D.ScrollBarV=r,D.ScrollBarH=i,D.VScrollBar=r,D.HScrollBar=i}),ace.define("ace/renderloop",["require","exports","module","ace/lib/event"],function(f,D,z){var M=f("./lib/event"),A=function(){function y(s,h){this.onRender=s,this.pending=!1,this.changes=0,this.$recursionLimit=2,this.window=h||window;var o=this;this._flush=function(r){o.pending=!1;var i=o.changes;if(i&&(M.blockIdle(100),o.changes=0,o.onRender(i)),o.changes){if(o.$recursionLimit--<0)return;o.schedule()}else o.$recursionLimit=2}}return y.prototype.schedule=function(s){this.changes=this.changes|s,this.changes&&!this.pending&&(M.nextFrame(this._flush),this.pending=!0)},y.prototype.clear=function(s){var h=this.changes;return this.changes=0,h},y}();D.RenderLoop=A}),ace.define("ace/layer/font_metrics",["require","exports","module","ace/lib/oop","ace/lib/dom","ace/lib/lang","ace/lib/event","ace/lib/useragent","ace/lib/event_emitter"],function(f,D,z){var M=f("../lib/oop"),A=f("../lib/dom"),y=f("../lib/lang"),s=f("../lib/event"),h=f("../lib/useragent"),o=f("../lib/event_emitter").EventEmitter,r=512,i=typeof ResizeObserver=="function",t=200,e=function(){function n(a){this.el=A.createElement("div"),this.$setMeasureNodeStyles(this.el.style,!0),this.$main=A.createElement("div"),this.$setMeasureNodeStyles(this.$main.style),this.$measureNode=A.createElement("div"),this.$setMeasureNodeStyles(this.$measureNode.style),this.el.appendChild(this.$main),this.el.appendChild(this.$measureNode),a.appendChild(this.el),this.$measureNode.textContent=y.stringRepeat("X",r),this.$characterSize={width:0,height:0},i?this.$addObserver():this.checkForSizeChanges()}return n.prototype.$setMeasureNodeStyles=function(a,c){a.width=a.height="auto",a.left=a.top="0px",a.visibility="hidden",a.position="absolute",a.whiteSpace="pre",h.isIE<8?a["font-family"]="inherit":a.font="inherit",a.overflow=c?"hidden":"visible"},n.prototype.checkForSizeChanges=function(a){if(a===void 0&&(a=this.$measureSizes()),a&&(this.$characterSize.width!==a.width||this.$characterSize.height!==a.height)){this.$measureNode.style.fontWeight="bold";var c=this.$measureSizes();this.$measureNode.style.fontWeight="",this.$characterSize=a,this.charSizes=Object.create(null),this.allowBoldFonts=c&&c.width===a.width&&c.height===a.height,this._emit("changeCharacterSize",{data:a})}},n.prototype.$addObserver=function(){var a=this;this.$observer=new window.ResizeObserver(function(c){a.checkForSizeChanges()}),this.$observer.observe(this.$measureNode)},n.prototype.$pollSizeChanges=function(){if(this.$pollSizeChangesTimer||this.$observer)return this.$pollSizeChangesTimer;var a=this;return this.$pollSizeChangesTimer=s.onIdle(function c(){a.checkForSizeChanges(),s.onIdle(c,500)},500)},n.prototype.setPolling=function(a){a?this.$pollSizeChanges():this.$pollSizeChangesTimer&&(clearInterval(this.$pollSizeChangesTimer),this.$pollSizeChangesTimer=0)},n.prototype.$measureSizes=function(a){var c={height:(a||this.$measureNode).clientHeight,width:(a||this.$measureNode).clientWidth/r};return c.width===0||c.height===0?null:c},n.prototype.$measureCharWidth=function(a){this.$main.textContent=y.stringRepeat(a,r);var c=this.$main.getBoundingClientRect();return c.width/r},n.prototype.getCharacterWidth=function(a){var c=this.charSizes[a];return c===void 0&&(c=this.charSizes[a]=this.$measureCharWidth(a)/this.$characterSize.width),c},n.prototype.destroy=function(){clearInterval(this.$pollSizeChangesTimer),this.$observer&&this.$observer.disconnect(),this.el&&this.el.parentNode&&this.el.parentNode.removeChild(this.el)},n.prototype.$getZoom=function(a){return!a||!a.parentElement?1:(Number(window.getComputedStyle(a).zoom)||1)*this.$getZoom(a.parentElement)},n.prototype.$initTransformMeasureNodes=function(){var a=function(c,d){return["div",{style:"position: absolute;top:"+c+"px;left:"+d+"px;"}]};this.els=A.buildDom([a(0,0),a(t,0),a(0,t),a(t,t)],this.el)},n.prototype.transformCoordinates=function(a,c){if(a){var d=this.$getZoom(this.el);a=u(1/d,a)}function k(J,q,Z){var oe=J[1]*q[0]-J[0]*q[1];return[(-q[1]*Z[0]+q[0]*Z[1])/oe,(+J[1]*Z[0]-J[0]*Z[1])/oe]}function v(J,q){return[J[0]-q[0],J[1]-q[1]]}function p(J,q){return[J[0]+q[0],J[1]+q[1]]}function u(J,q){return[J*q[0],J*q[1]]}this.els||this.$initTransformMeasureNodes();function m(J){var q=J.getBoundingClientRect();return[q.left,q.top]}var E=m(this.els[0]),S=m(this.els[1]),$=m(this.els[2]),R=m(this.els[3]),g=k(v(R,S),v(R,$),v(p(S,$),p(R,E))),w=u(1+g[0],v(S,E)),l=u(1+g[1],v($,E));if(c){var _=c,L=g[0]*_[0]/t+g[1]*_[1]/t+1,I=p(u(_[0],w),u(_[1],l));return p(u(1/L/t,I),E)}var W=v(a,E),H=k(v(w,u(g[0],W)),v(l,u(g[1],W)),W);return u(t,H)},n}();e.prototype.$characterSize={width:0,height:0},M.implement(e.prototype,o),D.FontMetrics=e}),ace.define("ace/css/editor-css",["require","exports","module"],function(f,D,z){z.exports=`
.ace_br1 {border-top-left-radius    : 3px;}
.ace_br2 {border-top-right-radius   : 3px;}
.ace_br3 {border-top-left-radius    : 3px; border-top-right-radius:    3px;}
.ace_br4 {border-bottom-right-radius: 3px;}
.ace_br5 {border-top-left-radius    : 3px; border-bottom-right-radius: 3px;}
.ace_br6 {border-top-right-radius   : 3px; border-bottom-right-radius: 3px;}
.ace_br7 {border-top-left-radius    : 3px; border-top-right-radius:    3px; border-bottom-right-radius: 3px;}
.ace_br8 {border-bottom-left-radius : 3px;}
.ace_br9 {border-top-left-radius    : 3px; border-bottom-left-radius:  3px;}
.ace_br10{border-top-right-radius   : 3px; border-bottom-left-radius:  3px;}
.ace_br11{border-top-left-radius    : 3px; border-top-right-radius:    3px; border-bottom-left-radius:  3px;}
.ace_br12{border-bottom-right-radius: 3px; border-bottom-left-radius:  3px;}
.ace_br13{border-top-left-radius    : 3px; border-bottom-right-radius: 3px; border-bottom-left-radius:  3px;}
.ace_br14{border-top-right-radius   : 3px; border-bottom-right-radius: 3px; border-bottom-left-radius:  3px;}
.ace_br15{border-top-left-radius    : 3px; border-top-right-radius:    3px; border-bottom-right-radius: 3px; border-bottom-left-radius: 3px;}


.ace_editor {
    position: relative;
    overflow: hidden;
    padding: 0;
    font: 12px/normal 'Monaco', 'Menlo', 'Ubuntu Mono', 'Consolas', 'Source Code Pro', 'source-code-pro', monospace;
    direction: ltr;
    text-align: left;
    -webkit-tap-highlight-color: rgba(0, 0, 0, 0);
    forced-color-adjust: none;
}

.ace_scroller {
    position: absolute;
    overflow: hidden;
    top: 0;
    bottom: 0;
    background-color: inherit;
    -ms-user-select: none;
    -moz-user-select: none;
    -webkit-user-select: none;
    user-select: none;
    cursor: text;
}

.ace_content {
    position: absolute;
    box-sizing: border-box;
    min-width: 100%;
    contain: style size layout;
    font-variant-ligatures: no-common-ligatures;
}

.ace_keyboard-focus:focus {
    box-shadow: inset 0 0 0 2px #5E9ED6;
    outline: none;
}

.ace_dragging .ace_scroller:before{
    position: absolute;
    top: 0;
    left: 0;
    right: 0;
    bottom: 0;
    content: '';
    background: rgba(250, 250, 250, 0.01);
    z-index: 1000;
}
.ace_dragging.ace_dark .ace_scroller:before{
    background: rgba(0, 0, 0, 0.01);
}

.ace_gutter {
    position: absolute;
    overflow : hidden;
    width: auto;
    top: 0;
    bottom: 0;
    left: 0;
    cursor: default;
    z-index: 4;
    -ms-user-select: none;
    -moz-user-select: none;
    -webkit-user-select: none;
    user-select: none;
    contain: style size layout;
}

.ace_gutter-active-line {
    position: absolute;
    left: 0;
    right: 0;
}

.ace_scroller.ace_scroll-left:after {
    content: "";
    position: absolute;
    top: 0;
    right: 0;
    bottom: 0;
    left: 0;
    box-shadow: 17px 0 16px -16px rgba(0, 0, 0, 0.4) inset;
    pointer-events: none;
}

.ace_gutter-cell, .ace_gutter-cell_svg-icons {
    position: absolute;
    top: 0;
    left: 0;
    right: 0;
    padding-left: 19px;
    padding-right: 6px;
    background-repeat: no-repeat;
}

.ace_gutter-cell_svg-icons .ace_gutter_annotation {
    margin-left: -14px;
    float: left;
}

.ace_gutter-cell .ace_gutter_annotation {
    margin-left: -19px;
    float: left;
}

.ace_gutter-cell.ace_error, .ace_icon.ace_error, .ace_icon.ace_error_fold, .ace_gutter-cell.ace_security, .ace_icon.ace_security, .ace_icon.ace_security_fold {
    background-image: url("data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABAAAAAQCAMAAAAoLQ9TAAABOFBMVEX/////////QRswFAb/Ui4wFAYwFAYwFAaWGAfDRymzOSH/PxswFAb/SiUwFAYwFAbUPRvjQiDllog5HhHdRybsTi3/Tyv9Tir+Syj/UC3////XurebMBIwFAb/RSHbPx/gUzfdwL3kzMivKBAwFAbbvbnhPx66NhowFAYwFAaZJg8wFAaxKBDZurf/RB6mMxb/SCMwFAYwFAbxQB3+RB4wFAb/Qhy4Oh+4QifbNRcwFAYwFAYwFAb/QRzdNhgwFAYwFAbav7v/Uy7oaE68MBK5LxLewr/r2NXewLswFAaxJw4wFAbkPRy2PyYwFAaxKhLm1tMwFAazPiQwFAaUGAb/QBrfOx3bvrv/VC/maE4wFAbRPBq6MRO8Qynew8Dp2tjfwb0wFAbx6eju5+by6uns4uH9/f36+vr/GkHjAAAAYnRSTlMAGt+64rnWu/bo8eAA4InH3+DwoN7j4eLi4xP99Nfg4+b+/u9B/eDs1MD1mO7+4PHg2MXa347g7vDizMLN4eG+Pv7i5evs/v79yu7S3/DV7/498Yv24eH+4ufQ3Ozu/v7+y13sRqwAAADLSURBVHjaZc/XDsFgGIBhtDrshlitmk2IrbHFqL2pvXf/+78DPokj7+Fz9qpU/9UXJIlhmPaTaQ6QPaz0mm+5gwkgovcV6GZzd5JtCQwgsxoHOvJO15kleRLAnMgHFIESUEPmawB9ngmelTtipwwfASilxOLyiV5UVUyVAfbG0cCPHig+GBkzAENHS0AstVF6bacZIOzgLmxsHbt2OecNgJC83JERmePUYq8ARGkJx6XtFsdddBQgZE2nPR6CICZhawjA4Fb/chv+399kfR+MMMDGOQAAAABJRU5ErkJggg==");
    background-repeat: no-repeat;
    background-position: 2px center;
}

.ace_gutter-cell.ace_warning, .ace_icon.ace_warning, .ace_icon.ace_warning_fold {
    background-image: url("data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABAAAAAQCAMAAAAoLQ9TAAAAmVBMVEX///8AAAD///8AAAAAAABPSzb/5sAAAAB/blH/73z/ulkAAAAAAAD85pkAAAAAAAACAgP/vGz/rkDerGbGrV7/pkQICAf////e0IsAAAD/oED/qTvhrnUAAAD/yHD/njcAAADuv2r/nz//oTj/p064oGf/zHAAAAA9Nir/tFIAAAD/tlTiuWf/tkIAAACynXEAAAAAAAAtIRW7zBpBAAAAM3RSTlMAABR1m7RXO8Ln31Z36zT+neXe5OzooRDfn+TZ4p3h2hTf4t3k3ucyrN1K5+Xaks52Sfs9CXgrAAAAjklEQVR42o3PbQ+CIBQFYEwboPhSYgoYunIqqLn6/z8uYdH8Vmdnu9vz4WwXgN/xTPRD2+sgOcZjsge/whXZgUaYYvT8QnuJaUrjrHUQreGczuEafQCO/SJTufTbroWsPgsllVhq3wJEk2jUSzX3CUEDJC84707djRc5MTAQxoLgupWRwW6UB5fS++NV8AbOZgnsC7BpEAAAAABJRU5ErkJggg==");
    background-repeat: no-repeat;
    background-position: 2px center;
}

.ace_gutter-cell.ace_info, .ace_icon.ace_info, .ace_gutter-cell.ace_hint, .ace_icon.ace_hint {
    background-image: url("data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABAAAAAQCAAAAAA6mKC9AAAAGXRFWHRTb2Z0d2FyZQBBZG9iZSBJbWFnZVJlYWR5ccllPAAAAAJ0Uk5TAAB2k804AAAAPklEQVQY02NgIB68QuO3tiLznjAwpKTgNyDbMegwisCHZUETUZV0ZqOquBpXj2rtnpSJT1AEnnRmL2OgGgAAIKkRQap2htgAAAAASUVORK5CYII=");
    background-repeat: no-repeat;
    background-position: 2px center;
}

.ace_dark .ace_gutter-cell.ace_info, .ace_dark .ace_icon.ace_info, .ace_dark .ace_gutter-cell.ace_hint, .ace_dark .ace_icon.ace_hint {
    background-image: url("data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABAAAAAQBAMAAADt3eJSAAAAJFBMVEUAAAChoaGAgIAqKiq+vr6tra1ZWVmUlJSbm5s8PDxubm56enrdgzg3AAAAAXRSTlMAQObYZgAAAClJREFUeNpjYMAPdsMYHegyJZFQBlsUlMFVCWUYKkAZMxZAGdxlDMQBAG+TBP4B6RyJAAAAAElFTkSuQmCC");
}

.ace_icon_svg.ace_error {
    -webkit-mask-image: url("data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHZpZXdCb3g9IjAgMCAyMCAxNiI+CjxnIHN0cm9rZS13aWR0aD0iMiIgc3Ryb2tlPSJyZWQiIHNoYXBlLXJlbmRlcmluZz0iZ2VvbWV0cmljUHJlY2lzaW9uIj4KPGNpcmNsZSBmaWxsPSJub25lIiBjeD0iOCIgY3k9IjgiIHI9IjciIHN0cm9rZS1saW5lam9pbj0icm91bmQiLz4KPGxpbmUgeDE9IjExIiB5MT0iNSIgeDI9IjUiIHkyPSIxMSIvPgo8bGluZSB4MT0iMTEiIHkxPSIxMSIgeDI9IjUiIHkyPSI1Ii8+CjwvZz4KPC9zdmc+");
    background-color: crimson;
}
.ace_icon_svg.ace_security {
    -webkit-mask-image: url("data:image/svg+xml;base64,PHN2ZyB2aWV3Qm94PSIwIDAgMjAgMTYiIHhtbG5zPSJodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2ZyI+CiAgICA8ZyBzdHJva2Utd2lkdGg9IjIiIHN0cm9rZT0iZGFya29yYW5nZSIgZmlsbD0ibm9uZSIgc2hhcGUtcmVuZGVyaW5nPSJnZW9tZXRyaWNQcmVjaXNpb24iPgogICAgICAgIDxwYXRoIGNsYXNzPSJzdHJva2UtbGluZWpvaW4tcm91bmQiIGQ9Ik04IDE0LjgzMDdDOCAxNC44MzA3IDIgMTIuOTA0NyAyIDguMDg5OTJWMy4yNjU0OEM1LjMxIDMuMjY1NDggNy45ODk5OSAxLjM0OTE4IDcuOTg5OTkgMS4zNDkxOEM3Ljk4OTk5IDEuMzQ5MTggMTAuNjkgMy4yNjU0OCAxNCAzLjI2NTQ4VjguMDg5OTJDMTQgMTIuOTA0NyA4IDE0LjgzMDcgOCAxNC44MzA3WiIvPgogICAgICAgIDxwYXRoIGQ9Ik0yIDguMDg5OTJWMy4yNjU0OEM1LjMxIDMuMjY1NDggNy45ODk5OSAxLjM0OTE4IDcuOTg5OTkgMS4zNDkxOCIvPgogICAgICAgIDxwYXRoIGQ9Ik0xMy45OSA4LjA4OTkyVjMuMjY1NDhDMTAuNjggMy4yNjU0OCA4IDEuMzQ5MTggOCAxLjM0OTE4Ii8+CiAgICAgICAgPHBhdGggY2xhc3M9InN0cm9rZS1saW5lam9pbi1yb3VuZCIgZD0iTTggNFY5Ii8+CiAgICAgICAgPHBhdGggY2xhc3M9InN0cm9rZS1saW5lam9pbi1yb3VuZCIgZD0iTTggMTBWMTIiLz4KICAgIDwvZz4KPC9zdmc+");
    background-color: crimson;
}
.ace_icon_svg.ace_warning {
    -webkit-mask-image: url("data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHZpZXdCb3g9IjAgMCAyMCAxNiI+CjxnIHN0cm9rZS13aWR0aD0iMiIgc3Ryb2tlPSJkYXJrb3JhbmdlIiBzaGFwZS1yZW5kZXJpbmc9Imdlb21ldHJpY1ByZWNpc2lvbiI+Cjxwb2x5Z29uIHN0cm9rZS1saW5lam9pbj0icm91bmQiIGZpbGw9Im5vbmUiIHBvaW50cz0iOCAxIDE1IDE1IDEgMTUgOCAxIi8+CjxyZWN0IHg9IjgiIHk9IjEyIiB3aWR0aD0iMC4wMSIgaGVpZ2h0PSIwLjAxIi8+CjxsaW5lIHgxPSI4IiB5MT0iNiIgeDI9IjgiIHkyPSIxMCIvPgo8L2c+Cjwvc3ZnPg==");
    background-color: darkorange;
}
.ace_icon_svg.ace_info {
    -webkit-mask-image: url("data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHZpZXdCb3g9IjAgMCAyMCAxNiI+CjxnIHN0cm9rZS13aWR0aD0iMiIgc3Ryb2tlPSJibHVlIiBzaGFwZS1yZW5kZXJpbmc9Imdlb21ldHJpY1ByZWNpc2lvbiI+CjxjaXJjbGUgZmlsbD0ibm9uZSIgY3g9IjgiIGN5PSI4IiByPSI3IiBzdHJva2UtbGluZWpvaW49InJvdW5kIi8+Cjxwb2x5bGluZSBwb2ludHM9IjggMTEgOCA4Ii8+Cjxwb2x5bGluZSBwb2ludHM9IjkgOCA2IDgiLz4KPGxpbmUgeDE9IjEwIiB5MT0iMTEiIHgyPSI2IiB5Mj0iMTEiLz4KPHJlY3QgeD0iOCIgeT0iNSIgd2lkdGg9IjAuMDEiIGhlaWdodD0iMC4wMSIvPgo8L2c+Cjwvc3ZnPg==");
    background-color: royalblue;
}
.ace_icon_svg.ace_hint {
    -webkit-mask-image: url("data:image/svg+xml;base64,PHN2ZyB2aWV3Qm94PSIwIDAgMjAgMTYiIHhtbG5zPSJodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2ZyI+CiAgICA8ZyBzdHJva2Utd2lkdGg9IjIiIHN0cm9rZT0ic2lsdmVyIiBmaWxsPSJub25lIiBzaGFwZS1yZW5kZXJpbmc9Imdlb21ldHJpY1ByZWNpc2lvbiI+CiAgICAgICAgPHBhdGggY2xhc3M9InN0cm9rZS1saW5lam9pbi1yb3VuZCIgZD0iTTYgMTRIMTAiLz4KICAgICAgICA8cGF0aCBkPSJNOCAxMUg5QzkgOS40NzAwMiAxMiA4LjU0MDAyIDEyIDUuNzYwMDJDMTIuMDIgNC40MDAwMiAxMS4zOSAzLjM2MDAyIDEwLjQzIDIuNjcwMDJDOSAxLjY0MDAyIDcuMDAwMDEgMS42NDAwMiA1LjU3MDAxIDIuNjcwMDJDNC42MTAwMSAzLjM2MDAyIDMuOTggNC40MDAwMiA0IDUuNzYwMDJDNCA4LjU0MDAyIDcuMDAwMDEgOS40NzAwMiA3LjAwMDAxIDExSDhaIi8+CiAgICA8L2c+Cjwvc3ZnPg==");
    background-color: silver;
}

.ace_icon_svg.ace_error_fold {
    -webkit-mask-image: url("data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHZpZXdCb3g9IjAgMCAyMCAxNiIgZmlsbD0ibm9uZSI+CiAgPHBhdGggZD0ibSAxOC45Mjk4NTEsNy44Mjk4MDc2IGMgMC4xNDYzNTMsNi4zMzc0NjA0IC02LjMyMzE0Nyw3Ljc3Nzg0NDQgLTcuNDc3OTEyLDcuNzc3ODQ0NCAtMi4xMDcyNzI2LC0wLjEyODc1IDUuMTE3Njc4LDAuMzU2MjQ5IDUuMDUxNjk4LC03Ljg3MDA2MTggLTAuNjA0NjcyLC04LjAwMzk3MzQ5IC03LjA3NzI3MDYsLTcuNTYzMTE4OSAtNC44NTczLC03LjQzMDM5NTU2IDEuNjA2LC0wLjExNTE0MjI1IDYuODk3NDg1LDEuMjYyNTQ1OTYgNy4yODM1MTQsNy41MjI2MTI5NiB6IiBmaWxsPSJjcmltc29uIiBzdHJva2Utd2lkdGg9IjIiLz4KICA8cGF0aCBmaWxsLXJ1bGU9ImV2ZW5vZGQiIGNsaXAtcnVsZT0iZXZlbm9kZCIgZD0ibSA4LjExNDc1NjIsMi4wNTI5ODI4IGMgMy4zNDkxNjk4LDAgNi4wNjQxMzI4LDIuNjc2ODYyNyA2LjA2NDEzMjgsNS45Nzg5NTMgMCwzLjMwMjExMjIgLTIuNzE0OTYzLDUuOTc4OTIwMiAtNi4wNjQxMzI4LDUuOTc4OTIwMiAtMy4zNDkxNDczLDAgLTYuMDY0MTc3MiwtMi42NzY4MDggLTYuMDY0MTc3MiwtNS45Nzg5MjAyIDAuMDA1MzksLTMuMjk5ODg2MSAyLjcxNzI2NTYsLTUuOTczNjQwOCA2LjA2NDE3NzIsLTUuOTc4OTUzIHogbSAwLC0xLjczNTgyNzE5IGMgLTQuMzIxNDgzNiwwIC03LjgyNDc0MDM4LDMuNDU0MDE4NDkgLTcuODI0NzQwMzgsNy43MTQ3ODAxOSAwLDQuMjYwNzI4MiAzLjUwMzI1Njc4LDcuNzE0NzQ1MiA3LjgyNDc0MDM4LDcuNzE0NzQ1MiA0LjMyMTQ0OTgsMCA3LjgyNDY5OTgsLTMuNDU0MDE3IDcuODI0Njk5OCwtNy43MTQ3NDUyIDAsLTIuMDQ2MDkxNCAtMC44MjQzOTIsLTQuMDA4MzY3MiAtMi4yOTE3NTYsLTUuNDU1MTc0NiBDIDEyLjE4MDIyNSwxLjEyOTk2NDggMTAuMTkwMDEzLDAuMzE3MTU1NjEgOC4xMTQ3NTYyLDAuMzE3MTU1NjEgWiBNIDYuOTM3NDU2Myw4LjI0MDU5ODUgNC42NzE4Njg1LDEwLjQ4NTg1MiA2LjAwODY4MTQsMTEuODc2NzI4IDguMzE3MDAzNSw5LjYwMDc5MTEgMTAuNjI1MzM3LDExLjg3NjcyOCAxMS45NjIxMzgsMTAuNDg1ODUyIDkuNjk2NTUwOCw4LjI0MDU5ODUgMTEuOTYyMTM4LDYuMDA2ODA2NiAxMC41NzMyNDYsNC42Mzc0MzM1IDguMzE3MDAzNSw2Ljg3MzQyOTcgNi4wNjA3NjA3LDQuNjM3NDMzNSA0LjY3MTg2ODUsNi4wMDY4MDY2IFoiIGZpbGw9ImNyaW1zb24iIHN0cm9rZS13aWR0aD0iMiIvPgo8L3N2Zz4=");
    background-color: crimson;
}
.ace_icon_svg.ace_security_fold {
    -webkit-mask-image: url("data:image/svg+xml;base64,CjxzdmcgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIiB2aWV3Qm94PSIwIDAgMTcgMTQiIGZpbGw9Im5vbmUiPgogICAgPHBhdGggZD0iTTEwLjAwMDEgMTMuNjk5MkMxMC4wMDAxIDEzLjY5OTIgMTEuOTI0MSAxMy40NzYzIDEzIDEyLjY5OTJDMTQuNDEzOSAxMS42NzgxIDE2IDEwLjUgMTYuMTI1MSA2LjgxMTI2VjIuNTg5ODdDMTYuMTI1MSAyLjU0NzY4IDE2LjEyMjEgMi41MDYxOSAxNi4xMTY0IDIuNDY1NTlWMS43MTQ4NUgxNS4yNDE0TDE1LjIzMDcgMS43MTQ4NEwxNC42MjUxIDEuNjk5MjJWNi44MTEyM0MxNC42MjUxIDguNTEwNjEgMTQuNjI1MSA5LjQ2NDYxIDEyLjc4MjQgMTEuNzIxQzEyLjE1ODYgMTIuNDg0OCAxMC4wMDAxIDEzLjY5OTIgMTAuMDAwMSAxMy42OTkyWiIgZmlsbD0iY3JpbXNvbiIgc3Ryb2tlLXdpZHRoPSIyIi8+CiAgICA8cGF0aCBmaWxsLXJ1bGU9ImV2ZW5vZGQiIGNsaXAtcnVsZT0iZXZlbm9kZCIgZD0iTTcuMzM2MDkgMC4zNjc0NzVDNy4wMzIxNCAwLjE1MjY1MiA2LjYyNTQ4IDAuMTUzNjE0IDYuMzIyNTMgMC4zNjk5OTdMNi4zMDg2OSAwLjM3OTU1NEM2LjI5NTUzIDAuMzg4NTg4IDYuMjczODggMC40MDMyNjYgNi4yNDQxNyAwLjQyMjc4OUM2LjE4NDcxIDAuNDYxODYgNi4wOTMyMSAwLjUyMDE3MSA1Ljk3MzEzIDAuNTkxMzczQzUuNzMyNTEgMC43MzQwNTkgNS4zNzk5IDAuOTI2ODY0IDQuOTQyNzkgMS4xMjAwOUM0LjA2MTQ0IDEuNTA5NyAyLjg3NTQxIDEuODgzNzcgMS41ODk4NCAxLjg4Mzc3SDAuNzE0ODQ0VjIuNzU4NzdWNi45ODAxNUMwLjcxNDg0NCA5LjQ5Mzc0IDIuMjg4NjYgMTEuMTk3MyAzLjcwMjU0IDEyLjIxODVDNC40MTg0NSAxMi43MzU1IDUuMTI4NzQgMTMuMTA1MyA1LjY1NzMzIDEzLjM0NTdDNS45MjI4NCAxMy40NjY0IDYuMTQ1NjYgMTMuNTU1OSA2LjMwNDY1IDEzLjYxNjFDNi4zODQyMyAxMy42NDYyIDYuNDQ4MDUgMTMuNjY5IDYuNDkzNDkgMTMuNjg0OEM2LjUxNjIyIDEzLjY5MjcgNi41MzQzOCAxMy42OTg5IDYuNTQ3NjQgMTMuNzAzM0w2LjU2MzgyIDEzLjcwODdMNi41NjkwOCAxMy43MTA0TDYuNTcwOTkgMTMuNzExTDYuODM5ODQgMTMuNzUzM0w2LjU3MjQyIDEzLjcxMTVDNi43NDYzMyAxMy43NjczIDYuOTMzMzUgMTMuNzY3MyA3LjEwNzI3IDEzLjcxMTVMNy4xMDg3IDEzLjcxMUw3LjExMDYxIDEzLjcxMDRMNy4xMTU4NyAxMy43MDg3TDcuMTMyMDUgMTMuNzAzM0M3LjE0NTMxIDEzLjY5ODkgNy4xNjM0NiAxMy42OTI3IDcuMTg2MTkgMTMuNjg0OEM3LjIzMTY0IDEzLjY2OSA3LjI5NTQ2IDEzLjY0NjIgNy4zNzUwMyAxMy42MTYxQzcuNTM0MDMgMTMuNTU1OSA3Ljc1Njg1IDEzLjQ2NjQgOC4wMjIzNiAxMy4zNDU3QzguNTUwOTUgMTMuMTA1MyA5LjI2MTIzIDEyLjczNTUgOS45NzcxNSAxMi4yMTg1QzExLjM5MSAxMS4xOTczIDEyLjk2NDggOS40OTM3NyAxMi45NjQ4IDYuOTgwMThWMi43NTg4QzEyLjk2NDggMi43MTY2IDEyLjk2MTkgMi42NzUxMSAxMi45NTYxIDIuNjM0NTFWMS44ODM3N0gxMi4wODExQzEyLjA3NzUgMS44ODM3NyAxMi4wNzQgMS44ODM3NyAxMi4wNzA0IDEuODgzNzdDMTAuNzk3OSAxLjg4MDA0IDkuNjE5NjIgMS41MTEwMiA4LjczODk0IDEuMTI0ODZDOC43MzUzNCAxLjEyMzI3IDguNzMxNzQgMS4xMjE2OCA4LjcyODE0IDEuMTIwMDlDOC4yOTEwMyAwLjkyNjg2NCA3LjkzODQyIDAuNzM0MDU5IDcuNjk3NzkgMC41OTEzNzNDNy41Nzc3MiAwLjUyMDE3MSA3LjQ4NjIyIDAuNDYxODYgNy40MjY3NiAwLjQyMjc4OUM3LjM5NzA1IDAuNDAzMjY2IDcuMzc1MzkgMC4zODg1ODggNy4zNjIyNCAwLjM3OTU1NEw3LjM0ODk2IDAuMzcwMzVDNy4zNDg5NiAwLjM3MDM1IDcuMzQ4NDcgMC4zNzAwMiA3LjM0NTYzIDAuMzc0MDU0TDcuMzM3NzkgMC4zNjg2NTlMNy4zMzYwOSAwLjM2NzQ3NVpNOC4wMzQ3MSAyLjcyNjkxQzguODYwNCAzLjA5MDYzIDkuOTYwNjYgMy40NjMwOSAxMS4yMDYxIDMuNTg5MDdWNi45ODAxNUgxMS4yMTQ4QzExLjIxNDggOC42Nzk1MyAxMC4xNjM3IDkuOTI1MDcgOC45NTI1NCAxMC43OTk4QzguMzU1OTUgMTEuMjMwNiA3Ljc1Mzc0IDExLjU0NTQgNy4yOTc5NiAxMS43NTI3QzcuMTE2NzEgMTEuODM1MSA2Ljk2MDYyIDExLjg5OTYgNi44Mzk4NCAxMS45NDY5QzYuNzE5MDYgMTEuODk5NiA2LjU2Mjk3IDExLjgzNTEgNi4zODE3MyAxMS43NTI3QzUuOTI1OTUgMTEuNTQ1NCA1LjMyMzczIDExLjIzMDYgNC43MjcxNSAxMC43OTk4QzMuNTE2MDMgOS45MjUwNyAyLjQ2NDg0IDguNjc5NTUgMi40NjQ4NCA2Ljk4MDE4VjMuNTg5MDlDMy43MTczOCAzLjQ2MjM5IDQuODIzMDggMy4wODYzOSA1LjY1MDMzIDIuNzIwNzFDNi4xNDIyOCAyLjUwMzI0IDYuNTQ0ODUgMi4yODUzNyA2LjgzMjU0IDIuMTE2MjRDNy4xMjE4MSAyLjI4NTM1IDcuNTI3IDIuNTAzNTIgOC4wMjE5NiAyLjcyMTMxQzguMDI2MiAyLjcyMzE3IDguMDMwNDUgMi43MjUwNCA4LjAzNDcxIDIuNzI2OTFaTTUuOTY0ODQgMy40MDE0N1Y3Ljc3NjQ3SDcuNzE0ODRWMy40MDE0N0g1Ljk2NDg0Wk01Ljk2NDg0IDEwLjQwMTVWOC42NTE0N0g3LjcxNDg0VjEwLjQwMTVINS45NjQ4NFoiIGZpbGw9ImNyaW1zb24iIHN0cm9rZS13aWR0aD0iMiIvPgo8L3N2Zz4=");
    background-color: crimson;
}
.ace_icon_svg.ace_warning_fold {
    -webkit-mask-image: url("data:image/svg+xml;base64,PHN2ZyB3aWR0aD0iMjAiIGhlaWdodD0iMTYiIHZpZXdCb3g9IjAgMCAyMCAxNiIgZmlsbD0ibm9uZSIgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIj4KPHBhdGggZmlsbC1ydWxlPSJldmVub2RkIiBjbGlwLXJ1bGU9ImV2ZW5vZGQiIGQ9Ik0xNC43NzY5IDE0LjczMzdMOC42NTE5MiAyLjQ4MzY5QzguMzI5NDYgMS44Mzg3NyA3LjQwOTEzIDEuODM4NzcgNy4wODY2NyAyLjQ4MzY5TDAuOTYxNjY5IDE0LjczMzdDMC42NzA3NzUgMTUuMzE1NSAxLjA5MzgzIDE2IDEuNzQ0MjkgMTZIMTMuOTk0M0MxNC42NDQ4IDE2IDE1LjA2NzggMTUuMzE1NSAxNC43NzY5IDE0LjczMzdaTTMuMTYwMDcgMTQuMjVMNy44NjkyOSA0LjgzMTU2TDEyLjU3ODUgMTQuMjVIMy4xNjAwN1pNOC43NDQyOSAxMS42MjVWMTMuMzc1SDYuOTk0MjlWMTEuNjI1SDguNzQ0MjlaTTYuOTk0MjkgMTAuNzVWNy4yNUg4Ljc0NDI5VjEwLjc1SDYuOTk0MjlaIiBmaWxsPSIjRUM3MjExIi8+CjxwYXRoIGQ9Ik0xMS4xOTkxIDIuOTUyMzhDMTAuODgwOSAyLjMxNDY3IDEwLjM1MzcgMS44MDUyNiA5LjcwNTUgMS41MDlMMTEuMDQxIDEuMDY5NzhDMTEuNjg4MyAwLjk0OTgxNCAxMi4zMzcgMS4yNzI2MyAxMi42MzE3IDEuODYxNDFMMTcuNjEzNiAxMS44MTYxQzE4LjM1MjcgMTMuMjkyOSAxNy41OTM4IDE1LjA4MDQgMTYuMDE4IDE1LjU3NDVDMTYuNDA0NCAxNC40NTA3IDE2LjMyMzEgMTMuMjE4OCAxNS43OTI0IDEyLjE1NTVMMTEuMTk5MSAyLjk1MjM4WiIgZmlsbD0iI0VDNzIxMSIvPgo8L3N2Zz4=");
    background-color: darkorange;
}

.ace_scrollbar {
    contain: strict;
    position: absolute;
    right: 0;
    bottom: 0;
    z-index: 6;
}

.ace_scrollbar-inner {
    position: absolute;
    cursor: text;
    left: 0;
    top: 0;
}

.ace_scrollbar-v{
    overflow-x: hidden;
    overflow-y: scroll;
    top: 0;
}

.ace_scrollbar-h {
    overflow-x: scroll;
    overflow-y: hidden;
    left: 0;
}

.ace_print-margin {
    position: absolute;
    height: 100%;
}

.ace_text-input {
    position: absolute;
    z-index: 0;
    width: 0.5em;
    height: 1em;
    opacity: 0;
    background: transparent;
    -moz-appearance: none;
    appearance: none;
    border: none;
    resize: none;
    outline: none;
    overflow: hidden;
    font: inherit;
    padding: 0 1px;
    margin: 0 -1px;
    contain: strict;
    -ms-user-select: text;
    -moz-user-select: text;
    -webkit-user-select: text;
    user-select: text;
    /*with \`pre-line\` chrome inserts &nbsp; instead of space*/
    white-space: pre!important;
}
.ace_text-input.ace_composition {
    background: transparent;
    color: inherit;
    z-index: 1000;
    opacity: 1;
}
.ace_composition_placeholder { color: transparent }
.ace_composition_marker { 
    border-bottom: 1px solid;
    position: absolute;
    border-radius: 0;
    margin-top: 1px;
}

[ace_nocontext=true] {
    transform: none!important;
    filter: none!important;
    clip-path: none!important;
    mask : none!important;
    contain: none!important;
    perspective: none!important;
    mix-blend-mode: initial!important;
    z-index: auto;
}

.ace_layer {
    z-index: 1;
    position: absolute;
    overflow: hidden;
    /* workaround for chrome bug https://github.com/ajaxorg/ace/issues/2312*/
    word-wrap: normal;
    white-space: pre;
    height: 100%;
    width: 100%;
    box-sizing: border-box;
    /* setting pointer-events: auto; on node under the mouse, which changes
        during scroll, will break mouse wheel scrolling in Safari */
    pointer-events: none;
}

.ace_gutter-layer {
    position: relative;
    width: auto;
    text-align: right;
    pointer-events: auto;
    height: 1000000px;
    contain: style size layout;
}

.ace_text-layer {
    font: inherit !important;
    position: absolute;
    height: 1000000px;
    width: 1000000px;
    contain: style size layout;
}

.ace_text-layer > .ace_line, .ace_text-layer > .ace_line_group {
    contain: style size layout;
    position: absolute;
    top: 0;
    left: 0;
    right: 0;
}

.ace_hidpi .ace_text-layer,
.ace_hidpi .ace_gutter-layer,
.ace_hidpi .ace_content,
.ace_hidpi .ace_gutter {
    contain: strict;
}
.ace_hidpi .ace_text-layer > .ace_line, 
.ace_hidpi .ace_text-layer > .ace_line_group {
    contain: strict;
}

.ace_cjk {
    display: inline-block;
    text-align: center;
}

.ace_cursor-layer {
    z-index: 4;
}

.ace_cursor {
    z-index: 4;
    position: absolute;
    box-sizing: border-box;
    border-left: 2px solid;
    /* workaround for smooth cursor repaintng whole screen in chrome */
    transform: translatez(0);
}

.ace_multiselect .ace_cursor {
    border-left-width: 1px;
}

.ace_slim-cursors .ace_cursor {
    border-left-width: 1px;
}

.ace_overwrite-cursors .ace_cursor {
    border-left-width: 0;
    border-bottom: 1px solid;
}

.ace_hidden-cursors .ace_cursor {
    opacity: 0.2;
}

.ace_hasPlaceholder .ace_hidden-cursors .ace_cursor {
    opacity: 0;
}

.ace_smooth-blinking .ace_cursor {
    transition: opacity 0.18s;
}

.ace_animate-blinking .ace_cursor {
    animation-duration: 1000ms;
    animation-timing-function: step-end;
    animation-name: blink-ace-animate;
    animation-iteration-count: infinite;
}

.ace_animate-blinking.ace_smooth-blinking .ace_cursor {
    animation-duration: 1000ms;
    animation-timing-function: ease-in-out;
    animation-name: blink-ace-animate-smooth;
}
    
@keyframes blink-ace-animate {
    from, to { opacity: 1; }
    60% { opacity: 0; }
}

@keyframes blink-ace-animate-smooth {
    from, to { opacity: 1; }
    45% { opacity: 1; }
    60% { opacity: 0; }
    85% { opacity: 0; }
}

.ace_marker-layer .ace_step, .ace_marker-layer .ace_stack {
    position: absolute;
    z-index: 3;
}

.ace_marker-layer .ace_selection {
    position: absolute;
    z-index: 5;
}

.ace_marker-layer .ace_bracket {
    position: absolute;
    z-index: 6;
}

.ace_marker-layer .ace_error_bracket {
    position: absolute;
    border-bottom: 1px solid #DE5555;
    border-radius: 0;
}

.ace_marker-layer .ace_active-line {
    position: absolute;
    z-index: 2;
}

.ace_marker-layer .ace_selected-word {
    position: absolute;
    z-index: 4;
    box-sizing: border-box;
}

.ace_line .ace_fold {
    box-sizing: border-box;

    display: inline-block;
    height: 11px;
    margin-top: -2px;
    vertical-align: middle;

    background-image:
        url("data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABEAAAAJCAYAAADU6McMAAAAGXRFWHRTb2Z0d2FyZQBBZG9iZSBJbWFnZVJlYWR5ccllPAAAAJpJREFUeNpi/P//PwOlgAXGYGRklAVSokD8GmjwY1wasKljQpYACtpCFeADcHVQfQyMQAwzwAZI3wJKvCLkfKBaMSClBlR7BOQikCFGQEErIH0VqkabiGCAqwUadAzZJRxQr/0gwiXIal8zQQPnNVTgJ1TdawL0T5gBIP1MUJNhBv2HKoQHHjqNrA4WO4zY0glyNKLT2KIfIMAAQsdgGiXvgnYAAAAASUVORK5CYII="),
        url("data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAEAAAA3CAYAAADNNiA5AAAAGXRFWHRTb2Z0d2FyZQBBZG9iZSBJbWFnZVJlYWR5ccllPAAAACJJREFUeNpi+P//fxgTAwPDBxDxD078RSX+YeEyDFMCIMAAI3INmXiwf2YAAAAASUVORK5CYII=");
    background-repeat: no-repeat, repeat-x;
    background-position: center center, top left;
    color: transparent;

    border: 1px solid black;
    border-radius: 2px;

    cursor: pointer;
    pointer-events: auto;
}

.ace_dark .ace_fold {
}

.ace_fold:hover{
    background-image:
        url("data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABEAAAAJCAYAAADU6McMAAAAGXRFWHRTb2Z0d2FyZQBBZG9iZSBJbWFnZVJlYWR5ccllPAAAAJpJREFUeNpi/P//PwOlgAXGYGRklAVSokD8GmjwY1wasKljQpYACtpCFeADcHVQfQyMQAwzwAZI3wJKvCLkfKBaMSClBlR7BOQikCFGQEErIH0VqkabiGCAqwUadAzZJRxQr/0gwiXIal8zQQPnNVTgJ1TdawL0T5gBIP1MUJNhBv2HKoQHHjqNrA4WO4zY0glyNKLT2KIfIMAAQsdgGiXvgnYAAAAASUVORK5CYII="),
        url("data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAEAAAA3CAYAAADNNiA5AAAAGXRFWHRTb2Z0d2FyZQBBZG9iZSBJbWFnZVJlYWR5ccllPAAAACBJREFUeNpi+P//fz4TAwPDZxDxD5X4i5fLMEwJgAADAEPVDbjNw87ZAAAAAElFTkSuQmCC");
}

.ace_tooltip {
    background-color: #f5f5f5;
    border: 1px solid gray;
    border-radius: 1px;
    box-shadow: 0 1px 2px rgba(0, 0, 0, 0.3);
    color: black;
    max-width: 100%;
    padding: 3px 4px;
    position: fixed;
    z-index: 999999;
    box-sizing: border-box;
    cursor: default;
    white-space: pre-wrap;
    word-wrap: break-word;
    line-height: normal;
    font-style: normal;
    font-weight: normal;
    letter-spacing: normal;
    pointer-events: none;
    overflow: auto;
    max-width: min(60em, 66vw);
    overscroll-behavior: contain;
}
.ace_tooltip pre {
    white-space: pre-wrap;
}

.ace_tooltip.ace_dark {
    background-color: #636363;
    color: #fff;
}

.ace_tooltip:focus {
    outline: 1px solid #5E9ED6;
}

.ace_icon {
    display: inline-block;
    width: 18px;
    vertical-align: top;
}

.ace_icon_svg {
    display: inline-block;
    width: 12px;
    vertical-align: top;
    -webkit-mask-repeat: no-repeat;
    -webkit-mask-size: 12px;
    -webkit-mask-position: center;
}

.ace_folding-enabled > .ace_gutter-cell, .ace_folding-enabled > .ace_gutter-cell_svg-icons {
    padding-right: 13px;
}

.ace_fold-widget {
    box-sizing: border-box;

    margin: 0 -12px 0 1px;
    display: none;
    width: 11px;
    vertical-align: top;

    background-image: url("data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAUAAAAFCAYAAACNbyblAAAANElEQVR42mWKsQ0AMAzC8ixLlrzQjzmBiEjp0A6WwBCSPgKAXoLkqSot7nN3yMwR7pZ32NzpKkVoDBUxKAAAAABJRU5ErkJggg==");
    background-repeat: no-repeat;
    background-position: center;

    border-radius: 3px;
    
    border: 1px solid transparent;
    cursor: pointer;
}

.ace_folding-enabled .ace_fold-widget {
    display: inline-block;   
}

.ace_fold-widget.ace_end {
    background-image: url("data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAUAAAAFCAYAAACNbyblAAAANElEQVR42m3HwQkAMAhD0YzsRchFKI7sAikeWkrxwScEB0nh5e7KTPWimZki4tYfVbX+MNl4pyZXejUO1QAAAABJRU5ErkJggg==");
}

.ace_fold-widget.ace_closed {
    background-image: url("data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAMAAAAGCAYAAAAG5SQMAAAAOUlEQVR42jXKwQkAMAgDwKwqKD4EwQ26sSOkVWjgIIHAzPiCgaqiqnJHZnKICBERHN194O5b9vbLuAVRL+l0YWnZAAAAAElFTkSuQmCCXA==");
}

.ace_fold-widget:hover {
    border: 1px solid rgba(0, 0, 0, 0.3);
    background-color: rgba(255, 255, 255, 0.2);
    box-shadow: 0 1px 1px rgba(255, 255, 255, 0.7);
}

.ace_fold-widget:active {
    border: 1px solid rgba(0, 0, 0, 0.4);
    background-color: rgba(0, 0, 0, 0.05);
    box-shadow: 0 1px 1px rgba(255, 255, 255, 0.8);
}
/**
 * Dark version for fold widgets
 */
.ace_dark .ace_fold-widget {
    background-image: url("data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAUAAAAFCAYAAACNbyblAAAAHklEQVQIW2P4//8/AzoGEQ7oGCaLLAhWiSwB146BAQCSTPYocqT0AAAAAElFTkSuQmCC");
}
.ace_dark .ace_fold-widget.ace_end {
    background-image: url("data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAUAAAAFCAYAAACNbyblAAAAH0lEQVQIW2P4//8/AxQ7wNjIAjDMgC4AxjCVKBirIAAF0kz2rlhxpAAAAABJRU5ErkJggg==");
}
.ace_dark .ace_fold-widget.ace_closed {
    background-image: url("data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAMAAAAFCAYAAACAcVaiAAAAHElEQVQIW2P4//+/AxAzgDADlOOAznHAKgPWAwARji8UIDTfQQAAAABJRU5ErkJggg==");
}
.ace_dark .ace_fold-widget:hover {
    box-shadow: 0 1px 1px rgba(255, 255, 255, 0.2);
    background-color: rgba(255, 255, 255, 0.1);
}
.ace_dark .ace_fold-widget:active {
    box-shadow: 0 1px 1px rgba(255, 255, 255, 0.2);
}

.ace_inline_button {
    border: 1px solid lightgray;
    display: inline-block;
    margin: -1px 8px;
    padding: 0 5px;
    pointer-events: auto;
    cursor: pointer;
}
.ace_inline_button:hover {
    border-color: gray;
    background: rgba(200,200,200,0.2);
    display: inline-block;
    pointer-events: auto;
}

.ace_fold-widget.ace_invalid {
    background-color: #FFB4B4;
    border-color: #DE5555;
}

.ace_fade-fold-widgets .ace_fold-widget {
    transition: opacity 0.4s ease 0.05s;
    opacity: 0;
}

.ace_fade-fold-widgets:hover .ace_fold-widget {
    transition: opacity 0.05s ease 0.05s;
    opacity:1;
}

.ace_underline {
    text-decoration: underline;
}

.ace_bold {
    font-weight: bold;
}

.ace_nobold .ace_bold {
    font-weight: normal;
}

.ace_italic {
    font-style: italic;
}


.ace_error-marker {
    background-color: rgba(255, 0, 0,0.2);
    position: absolute;
    z-index: 9;
}

.ace_highlight-marker {
    background-color: rgba(255, 255, 0,0.2);
    position: absolute;
    z-index: 8;
}

.ace_mobile-menu {
    position: absolute;
    line-height: 1.5;
    border-radius: 4px;
    -ms-user-select: none;
    -moz-user-select: none;
    -webkit-user-select: none;
    user-select: none;
    background: white;
    box-shadow: 1px 3px 2px grey;
    border: 1px solid #dcdcdc;
    color: black;
}
.ace_dark > .ace_mobile-menu {
    background: #333;
    color: #ccc;
    box-shadow: 1px 3px 2px grey;
    border: 1px solid #444;

}
.ace_mobile-button {
    padding: 2px;
    cursor: pointer;
    overflow: hidden;
}
.ace_mobile-button:hover {
    background-color: #eee;
    opacity:1;
}
.ace_mobile-button:active {
    background-color: #ddd;
}

.ace_placeholder {
    position: relative;
    font-family: arial;
    transform: scale(0.9);
    transform-origin: left;
    white-space: pre;
    opacity: 0.7;
    margin: 0 10px;
    z-index: 1;
}

.ace_ghost_text {
    opacity: 0.5;
    font-style: italic;
}

.ace_ghost_text_container > div {
    white-space: pre;
}

.ghost_text_line_wrapped::after {
    content: "";
    position: absolute;
}

.ace_lineWidgetContainer.ace_ghost_text {
    margin: 0px 4px
}

.ace_screenreader-only {
    position:absolute;
    left:-10000px;
    top:auto;
    width:1px;
    height:1px;
    overflow:hidden;
}

.ace_hidden_token {
    display: none;
}`}),ace.define("ace/layer/decorators",["require","exports","module","ace/lib/dom","ace/lib/oop","ace/lib/event_emitter"],function(f,D,z){var M=f("../lib/dom"),A=f("../lib/oop"),y=f("../lib/event_emitter").EventEmitter,s=function(){function h(o,r){this.canvas=M.createElement("canvas"),this.renderer=r,this.pixelRatio=1,this.maxHeight=r.layerConfig.maxHeight,this.lineHeight=r.layerConfig.lineHeight,this.canvasHeight=o.parent.scrollHeight,this.heightRatio=this.canvasHeight/this.maxHeight,this.canvasWidth=o.width,this.minDecorationHeight=2*this.pixelRatio|0,this.halfMinDecorationHeight=this.minDecorationHeight/2|0,this.canvas.width=this.canvasWidth,this.canvas.height=this.canvasHeight,this.canvas.style.top="0px",this.canvas.style.right="0px",this.canvas.style.zIndex="7px",this.canvas.style.position="absolute",this.colors={},this.colors.dark={error:"rgba(255, 18, 18, 1)",warning:"rgba(18, 136, 18, 1)",info:"rgba(18, 18, 136, 1)"},this.colors.light={error:"rgb(255,51,51)",warning:"rgb(32,133,72)",info:"rgb(35,68,138)"},o.element.appendChild(this.canvas)}return h.prototype.$updateDecorators=function(o){var r=this.renderer.theme.isDark===!0?this.colors.dark:this.colors.light;if(o){this.maxHeight=o.maxHeight,this.lineHeight=o.lineHeight,this.canvasHeight=o.height;var i=(o.lastRow+1)*this.lineHeight;i<this.canvasHeight?this.heightRatio=1:this.heightRatio=this.canvasHeight/this.maxHeight}var t=this.canvas.getContext("2d");function e(R,g){return R.priority<g.priority?-1:R.priority>g.priority?1:0}var n=this.renderer.session.$annotations;if(t.clearRect(0,0,this.canvas.width,this.canvas.height),n){var a={info:1,warning:2,error:3};n.forEach(function(R){R.priority=a[R.type]||null}),n=n.sort(e);for(var c=this.renderer.session.$foldData,d=0;d<n.length;d++){var k=n[d].row,v=this.compensateFoldRows(k,c),p=Math.round((k-v)*this.lineHeight*this.heightRatio),u=Math.round((k-v)*this.lineHeight*this.heightRatio),m=Math.round(((k-v)*this.lineHeight+this.lineHeight)*this.heightRatio),E=m-u;if(E<this.minDecorationHeight){var S=(u+m)/2|0;S<this.halfMinDecorationHeight?S=this.halfMinDecorationHeight:S+this.halfMinDecorationHeight>this.canvasHeight&&(S=this.canvasHeight-this.halfMinDecorationHeight),u=Math.round(S-this.halfMinDecorationHeight),m=Math.round(S+this.halfMinDecorationHeight)}t.fillStyle=r[n[d].type]||null,t.fillRect(0,p,this.canvasWidth,m-u)}}var $=this.renderer.session.selection.getCursor();if($){var v=this.compensateFoldRows($.row,c),p=Math.round(($.row-v)*this.lineHeight*this.heightRatio);t.fillStyle="rgba(0, 0, 0, 0.5)",t.fillRect(0,p,this.canvasWidth,2)}},h.prototype.compensateFoldRows=function(o,r){var i=0;if(r&&r.length>0)for(var t=0;t<r.length;t++)o>r[t].start.row&&o<r[t].end.row?i+=o-r[t].start.row:o>=r[t].end.row&&(i+=r[t].end.row-r[t].start.row);return i},h}();A.implement(s.prototype,y),D.Decorator=s}),ace.define("ace/virtual_renderer",["require","exports","module","ace/lib/oop","ace/lib/dom","ace/lib/lang","ace/config","ace/layer/gutter","ace/layer/marker","ace/layer/text","ace/layer/cursor","ace/scrollbar","ace/scrollbar","ace/scrollbar_custom","ace/scrollbar_custom","ace/renderloop","ace/layer/font_metrics","ace/lib/event_emitter","ace/css/editor-css","ace/layer/decorators","ace/lib/useragent","ace/layer/text_util"],function(f,D,z){var M=f("./lib/oop"),A=f("./lib/dom"),y=f("./lib/lang"),s=f("./config"),h=f("./layer/gutter").Gutter,o=f("./layer/marker").Marker,r=f("./layer/text").Text,i=f("./layer/cursor").Cursor,t=f("./scrollbar").HScrollBar,e=f("./scrollbar").VScrollBar,n=f("./scrollbar_custom").HScrollBar,a=f("./scrollbar_custom").VScrollBar,c=f("./renderloop").RenderLoop,d=f("./layer/font_metrics").FontMetrics,k=f("./lib/event_emitter").EventEmitter,v=f("./css/editor-css"),p=f("./layer/decorators").Decorator,u=f("./lib/useragent"),m=f("./layer/text_util").isTextToken;A.importCssString(v,"ace_editor.css",!1);var E=function(){function S($,R){var g=this;this.container=$||A.createElement("div"),A.addCssClass(this.container,"ace_editor"),A.HI_DPI&&A.addCssClass(this.container,"ace_hidpi"),this.setTheme(R),s.get("useStrictCSP")==null&&s.set("useStrictCSP",!1),this.$gutter=A.createElement("div"),this.$gutter.className="ace_gutter",this.container.appendChild(this.$gutter),this.$gutter.setAttribute("aria-hidden","true"),this.scroller=A.createElement("div"),this.scroller.className="ace_scroller",this.container.appendChild(this.scroller),this.content=A.createElement("div"),this.content.className="ace_content",this.scroller.appendChild(this.content),this.$gutterLayer=new h(this.$gutter),this.$gutterLayer.on("changeGutterWidth",this.onGutterResize.bind(this)),this.$markerBack=new o(this.content);var w=this.$textLayer=new r(this.content);this.canvas=w.element,this.$markerFront=new o(this.content),this.$cursorLayer=new i(this.content),this.$horizScroll=!1,this.$vScroll=!1,this.scrollBar=this.scrollBarV=new e(this.container,this),this.scrollBarH=new t(this.container,this),this.scrollBarV.on("scroll",function(l){g.$scrollAnimation||g.session.setScrollTop(l.data-g.scrollMargin.top)}),this.scrollBarH.on("scroll",function(l){g.$scrollAnimation||g.session.setScrollLeft(l.data-g.scrollMargin.left)}),this.scrollTop=0,this.scrollLeft=0,this.cursorPos={row:0,column:0},this.$fontMetrics=new d(this.container),this.$textLayer.$setFontMetrics(this.$fontMetrics),this.$textLayer.on("changeCharacterSize",function(l){g.updateCharacterSize(),g.onResize(!0,g.gutterWidth,g.$size.width,g.$size.height),g._signal("changeCharacterSize",l)}),this.$size={width:0,height:0,scrollerHeight:0,scrollerWidth:0,$dirty:!0},this.layerConfig={width:1,padding:0,firstRow:0,firstRowScreen:0,lastRow:0,lineHeight:0,characterWidth:0,minHeight:1,maxHeight:1,offset:0,height:1,gutterOffset:1},this.scrollMargin={left:0,right:0,top:0,bottom:0,v:0,h:0},this.margin={left:0,right:0,top:0,bottom:0,v:0,h:0},this.$keepTextAreaAtCursor=!u.isIOS,this.$loop=new c(this.$renderChanges.bind(this),this.container.ownerDocument.defaultView),this.$loop.schedule(this.CHANGE_FULL),this.updateCharacterSize(),this.setPadding(4),this.$addResizeObserver(),s.resetOptions(this),s._signal("renderer",this)}return S.prototype.updateCharacterSize=function(){this.$textLayer.allowBoldFonts!=this.$allowBoldFonts&&(this.$allowBoldFonts=this.$textLayer.allowBoldFonts,this.setStyle("ace_nobold",!this.$allowBoldFonts)),this.layerConfig.characterWidth=this.characterWidth=this.$textLayer.getCharacterWidth(),this.layerConfig.lineHeight=this.lineHeight=this.$textLayer.getLineHeight(),this.$updatePrintMargin(),A.setStyle(this.scroller.style,"line-height",this.lineHeight+"px")},S.prototype.setSession=function($){this.session&&this.session.doc.off("changeNewLineMode",this.onChangeNewLineMode),this.session=$,$&&this.scrollMargin.top&&$.getScrollTop()<=0&&$.setScrollTop(-this.scrollMargin.top),this.$cursorLayer.setSession($),this.$markerBack.setSession($),this.$markerFront.setSession($),this.$gutterLayer.setSession($),this.$textLayer.setSession($),$&&(this.$loop.schedule(this.CHANGE_FULL),this.session.$setFontMetrics(this.$fontMetrics),this.scrollBarH.scrollLeft=this.scrollBarV.scrollTop=null,this.onChangeNewLineMode=this.onChangeNewLineMode.bind(this),this.onChangeNewLineMode(),this.session.doc.on("changeNewLineMode",this.onChangeNewLineMode))},S.prototype.updateLines=function($,R,g){if(R===void 0&&(R=1/0),this.$changedLines?(this.$changedLines.firstRow>$&&(this.$changedLines.firstRow=$),this.$changedLines.lastRow<R&&(this.$changedLines.lastRow=R)):this.$changedLines={firstRow:$,lastRow:R},this.$changedLines.lastRow<this.layerConfig.firstRow)if(g)this.$changedLines.lastRow=this.layerConfig.lastRow;else return;this.$changedLines.firstRow>this.layerConfig.lastRow||this.$loop.schedule(this.CHANGE_LINES)},S.prototype.onChangeNewLineMode=function(){this.$loop.schedule(this.CHANGE_TEXT),this.$textLayer.$updateEolChar(),this.session.$bidiHandler.setEolChar(this.$textLayer.EOL_CHAR)},S.prototype.onChangeTabSize=function(){this.$loop.schedule(this.CHANGE_TEXT|this.CHANGE_MARKER),this.$textLayer.onChangeTabSize()},S.prototype.updateText=function(){this.$loop.schedule(this.CHANGE_TEXT)},S.prototype.updateFull=function($){$?this.$renderChanges(this.CHANGE_FULL,!0):this.$loop.schedule(this.CHANGE_FULL)},S.prototype.updateFontSize=function(){this.$textLayer.checkForSizeChanges()},S.prototype.$updateSizeAsync=function(){this.$loop.pending?this.$size.$dirty=!0:this.onResize()},S.prototype.onResize=function($,R,g,w){if(!(this.resizing>2)){this.resizing>0?this.resizing++:this.resizing=$?1:0;var l=this.container;w||(w=l.clientHeight||l.scrollHeight),!w&&this.$maxLines&&this.lineHeight>1&&(!l.style.height||l.style.height=="0px")&&(l.style.height="1px",w=l.clientHeight||l.scrollHeight),g||(g=l.clientWidth||l.scrollWidth);var _=this.$updateCachedSize($,R,g,w);if(this.$resizeTimer&&this.$resizeTimer.cancel(),!this.$size.scrollerHeight||!g&&!w)return this.resizing=0;$&&(this.$gutterLayer.$padding=null),$?this.$renderChanges(_|this.$changes,!0):this.$loop.schedule(_|this.$changes),this.resizing&&(this.resizing=0),this.scrollBarH.scrollLeft=this.scrollBarV.scrollTop=null,this.$customScrollbar&&this.$updateCustomScrollbar(!0)}},S.prototype.$updateCachedSize=function($,R,g,w){w-=this.$extraHeight||0;var l=0,_=this.$size,L={width:_.width,height:_.height,scrollerHeight:_.scrollerHeight,scrollerWidth:_.scrollerWidth};if(w&&($||_.height!=w)&&(_.height=w,l|=this.CHANGE_SIZE,_.scrollerHeight=_.height,this.$horizScroll&&(_.scrollerHeight-=this.scrollBarH.getHeight()),this.scrollBarV.setHeight(_.scrollerHeight),this.scrollBarV.element.style.bottom=this.scrollBarH.getHeight()+"px",l=l|this.CHANGE_SCROLL),g&&($||_.width!=g)){l|=this.CHANGE_SIZE,_.width=g,R==null&&(R=this.$showGutter?this.$gutter.offsetWidth:0),this.gutterWidth=R,A.setStyle(this.scrollBarH.element.style,"left",R+"px"),A.setStyle(this.scroller.style,"left",R+this.margin.left+"px"),_.scrollerWidth=Math.max(0,g-R-this.scrollBarV.getWidth()-this.margin.h),A.setStyle(this.$gutter.style,"left",this.margin.left+"px");var I=this.scrollBarV.getWidth()+"px";A.setStyle(this.scrollBarH.element.style,"right",I),A.setStyle(this.scroller.style,"right",I),A.setStyle(this.scroller.style,"bottom",this.scrollBarH.getHeight()),this.scrollBarH.setWidth(_.scrollerWidth),(this.session&&this.session.getUseWrapMode()&&this.adjustWrapLimit()||$)&&(l|=this.CHANGE_FULL)}return _.$dirty=!g||!w,l&&this._signal("resize",L),l},S.prototype.onGutterResize=function($){var R=this.$showGutter?$:0;R!=this.gutterWidth&&(this.$changes|=this.$updateCachedSize(!0,R,this.$size.width,this.$size.height)),this.session.getUseWrapMode()&&this.adjustWrapLimit()?this.$loop.schedule(this.CHANGE_FULL):this.$size.$dirty?this.$loop.schedule(this.CHANGE_FULL):this.$computeLayerConfig()},S.prototype.adjustWrapLimit=function(){var $=this.$size.scrollerWidth-this.$padding*2,R=Math.floor($/this.characterWidth);return this.session.adjustWrapLimit(R,this.$showPrintMargin&&this.$printMarginColumn)},S.prototype.setAnimatedScroll=function($){this.setOption("animatedScroll",$)},S.prototype.getAnimatedScroll=function(){return this.$animatedScroll},S.prototype.setShowInvisibles=function($){this.setOption("showInvisibles",$),this.session.$bidiHandler.setShowInvisibles($)},S.prototype.getShowInvisibles=function(){return this.getOption("showInvisibles")},S.prototype.getDisplayIndentGuides=function(){return this.getOption("displayIndentGuides")},S.prototype.setDisplayIndentGuides=function($){this.setOption("displayIndentGuides",$)},S.prototype.getHighlightIndentGuides=function(){return this.getOption("highlightIndentGuides")},S.prototype.setHighlightIndentGuides=function($){this.setOption("highlightIndentGuides",$)},S.prototype.setShowPrintMargin=function($){this.setOption("showPrintMargin",$)},S.prototype.getShowPrintMargin=function(){return this.getOption("showPrintMargin")},S.prototype.setPrintMarginColumn=function($){this.setOption("printMarginColumn",$)},S.prototype.getPrintMarginColumn=function(){return this.getOption("printMarginColumn")},S.prototype.getShowGutter=function(){return this.getOption("showGutter")},S.prototype.setShowGutter=function($){return this.setOption("showGutter",$)},S.prototype.getFadeFoldWidgets=function(){return this.getOption("fadeFoldWidgets")},S.prototype.setFadeFoldWidgets=function($){this.setOption("fadeFoldWidgets",$)},S.prototype.setHighlightGutterLine=function($){this.setOption("highlightGutterLine",$)},S.prototype.getHighlightGutterLine=function(){return this.getOption("highlightGutterLine")},S.prototype.$updatePrintMargin=function(){if(!(!this.$showPrintMargin&&!this.$printMarginEl)){if(!this.$printMarginEl){var $=A.createElement("div");$.className="ace_layer ace_print-margin-layer",this.$printMarginEl=A.createElement("div"),this.$printMarginEl.className="ace_print-margin",$.appendChild(this.$printMarginEl),this.content.insertBefore($,this.content.firstChild)}var R=this.$printMarginEl.style;R.left=Math.round(this.characterWidth*this.$printMarginColumn+this.$padding)+"px",R.visibility=this.$showPrintMargin?"visible":"hidden",this.session&&this.session.$wrap==-1&&this.adjustWrapLimit()}},S.prototype.getContainerElement=function(){return this.container},S.prototype.getMouseEventTarget=function(){return this.scroller},S.prototype.getTextAreaContainer=function(){return this.container},S.prototype.$moveTextAreaToCursor=function(){if(!this.$isMousePressed){var $=this.textarea.style,R=this.$composition;if(!this.$keepTextAreaAtCursor&&!R){A.translate(this.textarea,-100,0);return}var g=this.$cursorLayer.$pixelPos;if(g){R&&R.markerRange&&(g=this.$cursorLayer.getPixelPosition(R.markerRange.start,!0));var w=this.layerConfig,l=g.top,_=g.left;l-=w.offset;var L=R&&R.useTextareaForIME||u.isMobile?this.lineHeight:1;if(l<0||l>w.height-L){A.translate(this.textarea,0,0);return}var I=1,W=this.$size.height-L;if(!R)l+=this.lineHeight;else if(R.useTextareaForIME){var H=this.textarea.value;I=this.characterWidth*this.session.$getStringScreenWidth(H)[0]}else l+=this.lineHeight+2;_-=this.scrollLeft,_>this.$size.scrollerWidth-I&&(_=this.$size.scrollerWidth-I),_+=this.gutterWidth+this.margin.left,A.setStyle($,"height",L+"px"),A.setStyle($,"width",I+"px"),A.translate(this.textarea,Math.min(_,this.$size.scrollerWidth-I),Math.min(l,W))}}},S.prototype.getFirstVisibleRow=function(){return this.layerConfig.firstRow},S.prototype.getFirstFullyVisibleRow=function(){return this.layerConfig.firstRow+(this.layerConfig.offset===0?0:1)},S.prototype.getLastFullyVisibleRow=function(){var $=this.layerConfig,R=$.lastRow,g=this.session.documentToScreenRow(R,0)*$.lineHeight;return g-this.session.getScrollTop()>$.height-$.lineHeight?R-1:R},S.prototype.getLastVisibleRow=function(){return this.layerConfig.lastRow},S.prototype.setPadding=function($){this.$padding=$,this.$textLayer.setPadding($),this.$cursorLayer.setPadding($),this.$markerFront.setPadding($),this.$markerBack.setPadding($),this.$loop.schedule(this.CHANGE_FULL),this.$updatePrintMargin()},S.prototype.setScrollMargin=function($,R,g,w){var l=this.scrollMargin;l.top=$|0,l.bottom=R|0,l.right=w|0,l.left=g|0,l.v=l.top+l.bottom,l.h=l.left+l.right,l.top&&this.scrollTop<=0&&this.session&&this.session.setScrollTop(-l.top),this.updateFull()},S.prototype.setMargin=function($,R,g,w){var l=this.margin;l.top=$|0,l.bottom=R|0,l.right=w|0,l.left=g|0,l.v=l.top+l.bottom,l.h=l.left+l.right,this.$updateCachedSize(!0,this.gutterWidth,this.$size.width,this.$size.height),this.updateFull()},S.prototype.getHScrollBarAlwaysVisible=function(){return this.$hScrollBarAlwaysVisible},S.prototype.setHScrollBarAlwaysVisible=function($){this.setOption("hScrollBarAlwaysVisible",$)},S.prototype.getVScrollBarAlwaysVisible=function(){return this.$vScrollBarAlwaysVisible},S.prototype.setVScrollBarAlwaysVisible=function($){this.setOption("vScrollBarAlwaysVisible",$)},S.prototype.$updateScrollBarV=function(){var $=this.layerConfig.maxHeight,R=this.$size.scrollerHeight;!this.$maxLines&&this.$scrollPastEnd&&($-=(R-this.lineHeight)*this.$scrollPastEnd,this.scrollTop>$-R&&($=this.scrollTop+R,this.scrollBarV.scrollTop=null)),this.scrollBarV.setScrollHeight($+this.scrollMargin.v),this.scrollBarV.setScrollTop(this.scrollTop+this.scrollMargin.top)},S.prototype.$updateScrollBarH=function(){this.scrollBarH.setScrollWidth(this.layerConfig.width+2*this.$padding+this.scrollMargin.h),this.scrollBarH.setScrollLeft(this.scrollLeft+this.scrollMargin.left)},S.prototype.freeze=function(){this.$frozen=!0},S.prototype.unfreeze=function(){this.$frozen=!1},S.prototype.$renderChanges=function($,R){if(this.$changes&&($|=this.$changes,this.$changes=0),!this.session||!this.container.offsetWidth||this.$frozen||!$&&!R){this.$changes|=$;return}if(this.$size.$dirty)return this.$changes|=$,this.onResize(!0);this.lineHeight||this.$textLayer.checkForSizeChanges(),this._signal("beforeRender",$),this.session&&this.session.$bidiHandler&&this.session.$bidiHandler.updateCharacterWidths(this.$fontMetrics);var g=this.layerConfig;if($&this.CHANGE_FULL||$&this.CHANGE_SIZE||$&this.CHANGE_TEXT||$&this.CHANGE_LINES||$&this.CHANGE_SCROLL||$&this.CHANGE_H_SCROLL){if($|=this.$computeLayerConfig()|this.$loop.clear(),g.firstRow!=this.layerConfig.firstRow&&g.firstRowScreen==this.layerConfig.firstRowScreen){var w=this.scrollTop+(g.firstRow-Math.max(this.layerConfig.firstRow,0))*this.lineHeight;w>0&&(this.scrollTop=w,$=$|this.CHANGE_SCROLL,$|=this.$computeLayerConfig()|this.$loop.clear())}g=this.layerConfig,this.$updateScrollBarV(),$&this.CHANGE_H_SCROLL&&this.$updateScrollBarH(),A.translate(this.content,-this.scrollLeft,-g.offset);var l=g.width+2*this.$padding+"px",_=g.minHeight+"px";A.setStyle(this.content.style,"width",l),A.setStyle(this.content.style,"height",_)}if($&this.CHANGE_H_SCROLL&&(A.translate(this.content,-this.scrollLeft,-g.offset),this.scroller.className=this.scrollLeft<=0?"ace_scroller ":"ace_scroller ace_scroll-left ",this.enableKeyboardAccessibility&&(this.scroller.className+=this.keyboardFocusClassName)),$&this.CHANGE_FULL){this.$changedLines=null,this.$textLayer.update(g),this.$showGutter&&this.$gutterLayer.update(g),this.$customScrollbar&&this.$scrollDecorator.$updateDecorators(g),this.$markerBack.update(g),this.$markerFront.update(g),this.$cursorLayer.update(g),this.$moveTextAreaToCursor(),this._signal("afterRender",$);return}if($&this.CHANGE_SCROLL){this.$changedLines=null,$&this.CHANGE_TEXT||$&this.CHANGE_LINES?this.$textLayer.update(g):this.$textLayer.scrollLines(g),this.$showGutter&&($&this.CHANGE_GUTTER||$&this.CHANGE_LINES?this.$gutterLayer.update(g):this.$gutterLayer.scrollLines(g)),this.$customScrollbar&&this.$scrollDecorator.$updateDecorators(g),this.$markerBack.update(g),this.$markerFront.update(g),this.$cursorLayer.update(g),this.$moveTextAreaToCursor(),this._signal("afterRender",$);return}$&this.CHANGE_TEXT?(this.$changedLines=null,this.$textLayer.update(g),this.$showGutter&&this.$gutterLayer.update(g),this.$customScrollbar&&this.$scrollDecorator.$updateDecorators(g)):$&this.CHANGE_LINES?((this.$updateLines()||$&this.CHANGE_GUTTER&&this.$showGutter)&&this.$gutterLayer.update(g),this.$customScrollbar&&this.$scrollDecorator.$updateDecorators(g)):$&this.CHANGE_TEXT||$&this.CHANGE_GUTTER?(this.$showGutter&&this.$gutterLayer.update(g),this.$customScrollbar&&this.$scrollDecorator.$updateDecorators(g)):$&this.CHANGE_CURSOR&&(this.$highlightGutterLine&&this.$gutterLayer.updateLineHighlight(g),this.$customScrollbar&&this.$scrollDecorator.$updateDecorators(g)),$&this.CHANGE_CURSOR&&(this.$cursorLayer.update(g),this.$moveTextAreaToCursor()),$&(this.CHANGE_MARKER|this.CHANGE_MARKER_FRONT)&&this.$markerFront.update(g),$&(this.CHANGE_MARKER|this.CHANGE_MARKER_BACK)&&this.$markerBack.update(g),this._signal("afterRender",$)},S.prototype.$autosize=function(){var $=this.session.getScreenLength()*this.lineHeight,R=this.$maxLines*this.lineHeight,g=Math.min(R,Math.max((this.$minLines||1)*this.lineHeight,$))+this.scrollMargin.v+(this.$extraHeight||0);this.$horizScroll&&(g+=this.scrollBarH.getHeight()),this.$maxPixelHeight&&g>this.$maxPixelHeight&&(g=this.$maxPixelHeight);var w=g<=2*this.lineHeight,l=!w&&$>R;if(g!=this.desiredHeight||this.$size.height!=this.desiredHeight||l!=this.$vScroll){l!=this.$vScroll&&(this.$vScroll=l,this.scrollBarV.setVisible(l));var _=this.container.clientWidth;this.container.style.height=g+"px",this.$updateCachedSize(!0,this.$gutterWidth,_,g),this.desiredHeight=g,this._signal("autosize")}},S.prototype.$computeLayerConfig=function(){var $=this.session,R=this.$size,g=R.height<=2*this.lineHeight,w=this.session.getScreenLength(),l=w*this.lineHeight,_=this.$getLongestLine(),L=!g&&(this.$hScrollBarAlwaysVisible||R.scrollerWidth-_-2*this.$padding<0),I=this.$horizScroll!==L;I&&(this.$horizScroll=L,this.scrollBarH.setVisible(L));var W=this.$vScroll;this.$maxLines&&this.lineHeight>1&&this.$autosize();var H=R.scrollerHeight+this.lineHeight,J=!this.$maxLines&&this.$scrollPastEnd?(R.scrollerHeight-this.lineHeight)*this.$scrollPastEnd:0;l+=J;var q=this.scrollMargin;this.session.setScrollTop(Math.max(-q.top,Math.min(this.scrollTop,l-R.scrollerHeight+q.bottom))),this.session.setScrollLeft(Math.max(-q.left,Math.min(this.scrollLeft,_+2*this.$padding-R.scrollerWidth+q.right)));var Z=!g&&(this.$vScrollBarAlwaysVisible||R.scrollerHeight-l+J<0||this.scrollTop>q.top),oe=W!==Z;oe&&(this.$vScroll=Z,this.scrollBarV.setVisible(Z));var ee=this.scrollTop%this.lineHeight,se=Math.ceil(H/this.lineHeight)-1,fe=Math.max(0,Math.round((this.scrollTop-ee)/this.lineHeight)),Ce=fe+se,Se,$e,xe=this.lineHeight;fe=$.screenToDocumentRow(fe,0);var Pe=$.getFoldLine(fe);Pe&&(fe=Pe.start.row),Se=$.documentToScreenRow(fe,0),$e=$.getRowLength(fe)*xe,Ce=Math.min($.screenToDocumentRow(Ce,0),$.getLength()-1),H=R.scrollerHeight+$.getRowLength(Ce)*xe+$e,ee=this.scrollTop-Se*xe;var ze=0;return(this.layerConfig.width!=_||I)&&(ze=this.CHANGE_H_SCROLL),(I||oe)&&(ze|=this.$updateCachedSize(!0,this.gutterWidth,R.width,R.height),this._signal("scrollbarVisibilityChanged"),oe&&(_=this.$getLongestLine())),this.layerConfig={width:_,padding:this.$padding,firstRow:fe,firstRowScreen:Se,lastRow:Ce,lineHeight:xe,characterWidth:this.characterWidth,minHeight:H,maxHeight:l,offset:ee,gutterOffset:xe?Math.max(0,Math.ceil((ee+R.height-R.scrollerHeight)/xe)):0,height:this.$size.scrollerHeight},this.session.$bidiHandler&&this.session.$bidiHandler.setContentWidth(_-this.$padding),ze},S.prototype.$updateLines=function(){if(this.$changedLines){var $=this.$changedLines.firstRow,R=this.$changedLines.lastRow;this.$changedLines=null;var g=this.layerConfig;if(!($>g.lastRow+1)&&!(R<g.firstRow)){if(R===1/0){this.$showGutter&&this.$gutterLayer.update(g),this.$textLayer.update(g);return}return this.$textLayer.updateLines(g,$,R),!0}}},S.prototype.$getLongestLine=function(){var $=this.session.getScreenWidth();return this.showInvisibles&&!this.session.$useWrapMode&&($+=1),this.$textLayer&&$>this.$textLayer.MAX_LINE_LENGTH&&($=this.$textLayer.MAX_LINE_LENGTH+30),Math.max(this.$size.scrollerWidth-2*this.$padding,Math.round($*this.characterWidth))},S.prototype.updateFrontMarkers=function(){this.$markerFront.setMarkers(this.session.getMarkers(!0)),this.$loop.schedule(this.CHANGE_MARKER_FRONT)},S.prototype.updateBackMarkers=function(){this.$markerBack.setMarkers(this.session.getMarkers()),this.$loop.schedule(this.CHANGE_MARKER_BACK)},S.prototype.addGutterDecoration=function($,R){this.$gutterLayer.addGutterDecoration($,R)},S.prototype.removeGutterDecoration=function($,R){this.$gutterLayer.removeGutterDecoration($,R)},S.prototype.updateBreakpoints=function($){this._rows=$,this.$loop.schedule(this.CHANGE_GUTTER)},S.prototype.setAnnotations=function($){this.$gutterLayer.setAnnotations($),this.$loop.schedule(this.CHANGE_GUTTER)},S.prototype.updateCursor=function(){this.$loop.schedule(this.CHANGE_CURSOR)},S.prototype.hideCursor=function(){this.$cursorLayer.hideCursor()},S.prototype.showCursor=function(){this.$cursorLayer.showCursor()},S.prototype.scrollSelectionIntoView=function($,R,g){this.scrollCursorIntoView($,g),this.scrollCursorIntoView(R,g)},S.prototype.scrollCursorIntoView=function($,R,g){if(this.$size.scrollerHeight!==0){var w=this.$cursorLayer.getPixelPosition($),l=w.left,_=w.top,L=g&&g.top||0,I=g&&g.bottom||0;this.$scrollAnimation&&(this.$stopAnimation=!0);var W=this.$scrollAnimation?this.session.getScrollTop():this.scrollTop;W+L>_?(R&&W+L>_+this.lineHeight&&(_-=R*this.$size.scrollerHeight),_===0&&(_=-this.scrollMargin.top),this.session.setScrollTop(_)):W+this.$size.scrollerHeight-I<_+this.lineHeight&&(R&&W+this.$size.scrollerHeight-I<_-this.lineHeight&&(_+=R*this.$size.scrollerHeight),this.session.setScrollTop(_+this.lineHeight+I-this.$size.scrollerHeight));var H=this.scrollLeft,J=2*this.layerConfig.characterWidth;l-J<H?(l-=J,l<this.$padding+J&&(l=-this.scrollMargin.left),this.session.setScrollLeft(l)):(l+=J,H+this.$size.scrollerWidth<l+this.characterWidth?this.session.setScrollLeft(Math.round(l+this.characterWidth-this.$size.scrollerWidth)):H<=this.$padding&&l-H<this.characterWidth&&this.session.setScrollLeft(0))}},S.prototype.getScrollTop=function(){return this.session.getScrollTop()},S.prototype.getScrollLeft=function(){return this.session.getScrollLeft()},S.prototype.getScrollTopRow=function(){return this.scrollTop/this.lineHeight},S.prototype.getScrollBottomRow=function(){return Math.max(0,Math.floor((this.scrollTop+this.$size.scrollerHeight)/this.lineHeight)-1)},S.prototype.scrollToRow=function($){this.session.setScrollTop($*this.lineHeight)},S.prototype.alignCursor=function($,R){typeof $=="number"&&($={row:$,column:0});var g=this.$cursorLayer.getPixelPosition($),w=this.$size.scrollerHeight-this.lineHeight,l=g.top-w*(R||0);return this.session.setScrollTop(l),l},S.prototype.$calcSteps=function($,R){var g=0,w=this.STEPS,l=[],_=function(L,I,W){return W*(Math.pow(L-1,3)+1)+I};for(g=0;g<w;++g)l.push(_(g/this.STEPS,$,R-$));return l},S.prototype.scrollToLine=function($,R,g,w){var l=this.$cursorLayer.getPixelPosition({row:$,column:0}),_=l.top;R&&(_-=this.$size.scrollerHeight/2);var L=this.scrollTop;this.session.setScrollTop(_),g!==!1&&this.animateScrolling(L,w)},S.prototype.animateScrolling=function($,R){var g=this.scrollTop;if(!this.$animatedScroll)return;var w=this;if($==g)return;if(this.$scrollAnimation){var l=this.$scrollAnimation.steps;if(l.length&&($=l[0],$==g))return}var _=w.$calcSteps($,g);this.$scrollAnimation={from:$,to:g,steps:_},clearInterval(this.$timer),w.session.setScrollTop(_.shift()),w.session.$scrollTop=g;function L(){w.$timer=clearInterval(w.$timer),w.$scrollAnimation=null,w.$stopAnimation=!1,R&&R()}this.$timer=setInterval(function(){if(w.$stopAnimation){L();return}if(!w.session)return clearInterval(w.$timer);_.length?(w.session.setScrollTop(_.shift()),w.session.$scrollTop=g):g!=null?(w.session.$scrollTop=-1,w.session.setScrollTop(g),g=null):L()},10)},S.prototype.scrollToY=function($){this.scrollTop!==$&&(this.$loop.schedule(this.CHANGE_SCROLL),this.scrollTop=$)},S.prototype.scrollToX=function($){this.scrollLeft!==$&&(this.scrollLeft=$),this.$loop.schedule(this.CHANGE_H_SCROLL)},S.prototype.scrollTo=function($,R){this.session.setScrollTop(R),this.session.setScrollLeft($)},S.prototype.scrollBy=function($,R){R&&this.session.setScrollTop(this.session.getScrollTop()+R),$&&this.session.setScrollLeft(this.session.getScrollLeft()+$)},S.prototype.isScrollableBy=function($,R){if(R<0&&this.session.getScrollTop()>=1-this.scrollMargin.top||R>0&&this.session.getScrollTop()+this.$size.scrollerHeight-this.layerConfig.maxHeight<-1+this.scrollMargin.bottom||$<0&&this.session.getScrollLeft()>=1-this.scrollMargin.left||$>0&&this.session.getScrollLeft()+this.$size.scrollerWidth-this.layerConfig.width<-1+this.scrollMargin.right)return!0},S.prototype.pixelToScreenCoordinates=function($,R){var g;if(this.$hasCssTransforms){g={top:0,left:0};var w=this.$fontMetrics.transformCoordinates([$,R]);$=w[1]-this.gutterWidth-this.margin.left,R=w[0]}else g=this.scroller.getBoundingClientRect();var l=$+this.scrollLeft-g.left-this.$padding,_=l/this.characterWidth,L=Math.floor((R+this.scrollTop-g.top)/this.lineHeight),I=this.$blockCursor?Math.floor(_):Math.round(_);return{row:L,column:I,side:_-I>0?1:-1,offsetX:l}},S.prototype.screenToTextCoordinates=function($,R){var g;if(this.$hasCssTransforms){g={top:0,left:0};var w=this.$fontMetrics.transformCoordinates([$,R]);$=w[1]-this.gutterWidth-this.margin.left,R=w[0]}else g=this.scroller.getBoundingClientRect();var l=$+this.scrollLeft-g.left-this.$padding,_=l/this.characterWidth,L=this.$blockCursor?Math.floor(_):Math.round(_),I=Math.floor((R+this.scrollTop-g.top)/this.lineHeight);return this.session.screenToDocumentPosition(I,Math.max(L,0),l)},S.prototype.textToScreenCoordinates=function($,R){var g=this.scroller.getBoundingClientRect(),w=this.session.documentToScreenPosition($,R),l=this.$padding+(this.session.$bidiHandler.isBidiRow(w.row,$)?this.session.$bidiHandler.getPosLeft(w.column):Math.round(w.column*this.characterWidth)),_=w.row*this.lineHeight;return{pageX:g.left+l-this.scrollLeft,pageY:g.top+_-this.scrollTop}},S.prototype.visualizeFocus=function(){A.addCssClass(this.container,"ace_focus")},S.prototype.visualizeBlur=function(){A.removeCssClass(this.container,"ace_focus")},S.prototype.showComposition=function($){this.$composition=$,$.cssText||($.cssText=this.textarea.style.cssText),$.useTextareaForIME==null&&($.useTextareaForIME=this.$useTextareaForIME),this.$useTextareaForIME?(A.addCssClass(this.textarea,"ace_composition"),this.textarea.style.cssText="",this.$moveTextAreaToCursor(),this.$cursorLayer.element.style.display="none"):$.markerId=this.session.addMarker($.markerRange,"ace_composition_marker","text")},S.prototype.setCompositionText=function($){var R=this.session.selection.cursor;this.addToken($,"composition_placeholder",R.row,R.column),this.$moveTextAreaToCursor()},S.prototype.hideComposition=function(){if(this.$composition){this.$composition.markerId&&this.session.removeMarker(this.$composition.markerId),A.removeCssClass(this.textarea,"ace_composition"),this.textarea.style.cssText=this.$composition.cssText;var $=this.session.selection.cursor;this.removeExtraToken($.row,$.column),this.$composition=null,this.$cursorLayer.element.style.display=""}},S.prototype.setGhostText=function($,R){var g=this.session.selection.cursor,w=R||{row:g.row,column:g.column};this.removeGhostText();var l=this.$calculateWrappedTextChunks($,w);this.addToken(l[0].text,"ghost_text",w.row,w.column),this.$ghostText={text:$,position:{row:w.row,column:w.column}};var _=A.createElement("div");if(l.length>1){var L=this.hideTokensAfterPosition(w.row,w.column),I;l.slice(1).forEach(function(oe){var ee=A.createElement("div"),se=A.createElement("span");se.className="ace_ghost_text",oe.wrapped&&(ee.className="ghost_text_line_wrapped"),oe.text.length===0&&(oe.text=" "),se.appendChild(A.createTextNode(oe.text)),ee.appendChild(se),_.appendChild(ee),I=ee}),L.forEach(function(oe){var ee=A.createElement("span");m(oe.type)||(ee.className="ace_"+oe.type.replace(/\./g," ace_")),ee.appendChild(A.createTextNode(oe.value)),I.appendChild(ee)}),this.$ghostTextWidget={el:_,row:w.row,column:w.column,className:"ace_ghost_text_container"},this.session.widgetManager.addLineWidget(this.$ghostTextWidget);var W=this.$cursorLayer.getPixelPosition(w,!0),H=this.container,J=H.getBoundingClientRect().height,q=l.length*this.lineHeight,Z=q<J-W.top;if(Z)return;q<J?this.scrollBy(0,(l.length-1)*this.lineHeight):this.scrollToRow(w.row)}},S.prototype.$calculateWrappedTextChunks=function($,R){var g=this.$size.scrollerWidth-this.$padding*2,w=Math.floor(g/this.characterWidth)-2;w=w<=0?60:w;for(var l=$.split(/\r?\n/),_=[],L=0;L<l.length;L++){var I=this.session.$getDisplayTokens(l[L],R.column),W=this.session.$computeWrapSplits(I,w,this.session.$tabSize);if(W.length>0){var H=0;W.push(l[L].length);for(var J=0;J<W.length;J++){var q=l[L].slice(H,W[J]);_.push({text:q,wrapped:!0}),H=W[J]}}else _.push({text:l[L],wrapped:!1})}return _},S.prototype.removeGhostText=function(){if(this.$ghostText){var $=this.$ghostText.position;this.removeExtraToken($.row,$.column),this.$ghostTextWidget&&(this.session.widgetManager.removeLineWidget(this.$ghostTextWidget),this.$ghostTextWidget=null),this.$ghostText=null}},S.prototype.addToken=function($,R,g,w){var l=this.session;l.bgTokenizer.lines[g]=null;var _={type:R,value:$},L=l.getTokens(g);if(w==null||!L.length)L.push(_);else for(var I=0,W=0;W<L.length;W++){var H=L[W];if(I+=H.value.length,w<=I){var J=H.value.length-(I-w),q=H.value.slice(0,J),Z=H.value.slice(J);L.splice(W,1,{type:H.type,value:q},_,{type:H.type,value:Z});break}}this.updateLines(g,g)},S.prototype.hideTokensAfterPosition=function($,R){for(var g=this.session.getTokens($),w=0,l=!1,_=[],L=0;L<g.length;L++){var I=g[L];if(w+=I.value.length,I.type!=="ghost_text"){if(l){_.push({type:I.type,value:I.value}),I.type="hidden_token";continue}w===R&&(l=!0)}}return this.updateLines($,$),_},S.prototype.removeExtraToken=function($,R){this.session.bgTokenizer.lines[$]=null,this.updateLines($,$)},S.prototype.setTheme=function($,R){var g=this;if(this.$themeId=$,g._dispatchEvent("themeChange",{theme:$}),!$||typeof $=="string"){var w=$||this.$options.theme.initialValue;s.loadModule(["theme",w],l)}else l($);function l(_){if(g.$themeId!=$)return R&&R();if(!_||!_.cssClass)throw new Error("couldn't load module "+$+" or it didn't call define");_.$id&&(g.$themeId=_.$id),A.importCssString(_.cssText,_.cssClass,g.container),g.theme&&A.removeCssClass(g.container,g.theme.cssClass);var L="padding"in _?_.padding:"padding"in(g.theme||{})?4:g.$padding;g.$padding&&L!=g.$padding&&g.setPadding(L),g.$theme=_.cssClass,g.theme=_,A.addCssClass(g.container,_.cssClass),A.setCssClass(g.container,"ace_dark",_.isDark),g.$size&&(g.$size.width=0,g.$updateSizeAsync()),g._dispatchEvent("themeLoaded",{theme:_}),R&&R(),u.isSafari&&g.scroller&&(g.scroller.style.background="red",g.scroller.style.background="")}},S.prototype.getTheme=function(){return this.$themeId},S.prototype.setStyle=function($,R){A.setCssClass(this.container,$,R!==!1)},S.prototype.unsetStyle=function($){A.removeCssClass(this.container,$)},S.prototype.setCursorStyle=function($){A.setStyle(this.scroller.style,"cursor",$)},S.prototype.setMouseCursor=function($){A.setStyle(this.scroller.style,"cursor",$)},S.prototype.attachToShadowRoot=function(){A.importCssString(v,"ace_editor.css",this.container)},S.prototype.destroy=function(){this.freeze(),this.$fontMetrics.destroy(),this.$cursorLayer.destroy(),this.removeAllListeners(),this.container.textContent="",this.setOption("useResizeObserver",!1)},S.prototype.$updateCustomScrollbar=function($){var R=this;this.$horizScroll=this.$vScroll=null,this.scrollBarV.element.remove(),this.scrollBarH.element.remove(),this.$scrollDecorator&&delete this.$scrollDecorator,$===!0?(this.scrollBarV=new a(this.container,this),this.scrollBarH=new n(this.container,this),this.scrollBarV.setHeight(this.$size.scrollerHeight),this.scrollBarH.setWidth(this.$size.scrollerWidth),this.scrollBarV.addEventListener("scroll",function(g){R.$scrollAnimation||R.session.setScrollTop(g.data-R.scrollMargin.top)}),this.scrollBarH.addEventListener("scroll",function(g){R.$scrollAnimation||R.session.setScrollLeft(g.data-R.scrollMargin.left)}),this.$scrollDecorator=new p(this.scrollBarV,this),this.$scrollDecorator.$updateDecorators()):(this.scrollBarV=new e(this.container,this),this.scrollBarH=new t(this.container,this),this.scrollBarV.addEventListener("scroll",function(g){R.$scrollAnimation||R.session.setScrollTop(g.data-R.scrollMargin.top)}),this.scrollBarH.addEventListener("scroll",function(g){R.$scrollAnimation||R.session.setScrollLeft(g.data-R.scrollMargin.left)}))},S.prototype.$addResizeObserver=function(){if(!(!window.ResizeObserver||this.$resizeObserver)){var $=this;this.$resizeTimer=y.delayedCall(function(){$.destroyed||$.onResize()},50),this.$resizeObserver=new window.ResizeObserver(function(R){var g=R[0].contentRect.width,w=R[0].contentRect.height;Math.abs($.$size.width-g)>1||Math.abs($.$size.height-w)>1?$.$resizeTimer.delay():$.$resizeTimer.cancel()}),this.$resizeObserver.observe(this.container)}},S}();E.prototype.CHANGE_CURSOR=1,E.prototype.CHANGE_MARKER=2,E.prototype.CHANGE_GUTTER=4,E.prototype.CHANGE_SCROLL=8,E.prototype.CHANGE_LINES=16,E.prototype.CHANGE_TEXT=32,E.prototype.CHANGE_SIZE=64,E.prototype.CHANGE_MARKER_BACK=128,E.prototype.CHANGE_MARKER_FRONT=256,E.prototype.CHANGE_FULL=512,E.prototype.CHANGE_H_SCROLL=1024,E.prototype.$changes=0,E.prototype.$padding=null,E.prototype.$frozen=!1,E.prototype.STEPS=8,M.implement(E.prototype,k),s.defineOptions(E.prototype,"renderer",{useResizeObserver:{set:function(S){!S&&this.$resizeObserver?(this.$resizeObserver.disconnect(),this.$resizeTimer.cancel(),this.$resizeTimer=this.$resizeObserver=null):S&&!this.$resizeObserver&&this.$addResizeObserver()}},animatedScroll:{initialValue:!1},showInvisibles:{set:function(S){this.$textLayer.setShowInvisibles(S)&&this.$loop.schedule(this.CHANGE_TEXT)},initialValue:!1},showPrintMargin:{set:function(){this.$updatePrintMargin()},initialValue:!0},printMarginColumn:{set:function(){this.$updatePrintMargin()},initialValue:80},printMargin:{set:function(S){typeof S=="number"&&(this.$printMarginColumn=S),this.$showPrintMargin=!!S,this.$updatePrintMargin()},get:function(){return this.$showPrintMargin&&this.$printMarginColumn}},showGutter:{set:function(S){this.$gutter.style.display=S?"block":"none",this.$loop.schedule(this.CHANGE_FULL),this.onGutterResize()},initialValue:!0},useSvgGutterIcons:{set:function(S){this.$gutterLayer.$useSvgGutterIcons=S},initialValue:!1},showFoldedAnnotations:{set:function(S){this.$gutterLayer.$showFoldedAnnotations=S},initialValue:!1},fadeFoldWidgets:{set:function(S){A.setCssClass(this.$gutter,"ace_fade-fold-widgets",S)},initialValue:!1},showFoldWidgets:{set:function(S){this.$gutterLayer.setShowFoldWidgets(S),this.$loop.schedule(this.CHANGE_GUTTER)},initialValue:!0},displayIndentGuides:{set:function(S){this.$textLayer.setDisplayIndentGuides(S)&&this.$loop.schedule(this.CHANGE_TEXT)},initialValue:!0},highlightIndentGuides:{set:function(S){this.$textLayer.setHighlightIndentGuides(S)==!0?this.$textLayer.$highlightIndentGuide():this.$textLayer.$clearActiveIndentGuide(this.$textLayer.$lines.cells)},initialValue:!0},highlightGutterLine:{set:function(S){this.$gutterLayer.setHighlightGutterLine(S),this.$loop.schedule(this.CHANGE_GUTTER)},initialValue:!0},hScrollBarAlwaysVisible:{set:function(S){(!this.$hScrollBarAlwaysVisible||!this.$horizScroll)&&this.$loop.schedule(this.CHANGE_SCROLL)},initialValue:!1},vScrollBarAlwaysVisible:{set:function(S){(!this.$vScrollBarAlwaysVisible||!this.$vScroll)&&this.$loop.schedule(this.CHANGE_SCROLL)},initialValue:!1},fontSize:{set:function(S){typeof S=="number"&&(S=S+"px"),this.container.style.fontSize=S,this.updateFontSize()},initialValue:12},fontFamily:{set:function(S){this.container.style.fontFamily=S,this.updateFontSize()}},maxLines:{set:function(S){this.updateFull()}},minLines:{set:function(S){this.$minLines<562949953421311||(this.$minLines=0),this.updateFull()}},maxPixelHeight:{set:function(S){this.updateFull()},initialValue:0},scrollPastEnd:{set:function(S){S=+S||0,this.$scrollPastEnd!=S&&(this.$scrollPastEnd=S,this.$loop.schedule(this.CHANGE_SCROLL))},initialValue:0,handlesSet:!0},fixedWidthGutter:{set:function(S){this.$gutterLayer.$fixedWidth=!!S,this.$loop.schedule(this.CHANGE_GUTTER)}},customScrollbar:{set:function(S){this.$updateCustomScrollbar(S)},initialValue:!1},theme:{set:function(S){this.setTheme(S)},get:function(){return this.$themeId||this.theme},initialValue:"./theme/textmate",handlesSet:!0},hasCssTransforms:{},useTextareaForIME:{initialValue:!u.isMobile&&!u.isIE}}),D.VirtualRenderer=E}),ace.define("ace/worker/worker_client",["require","exports","module","ace/lib/oop","ace/lib/net","ace/lib/event_emitter","ace/config"],function(f,D,z){var M=f("../lib/oop"),A=f("../lib/net"),y=f("../lib/event_emitter").EventEmitter,s=f("../config");function h(t){var e="importScripts('"+A.qualifyURL(t)+"');";try{return new Blob([e],{type:"application/javascript"})}catch{var n=window.BlobBuilder||window.WebKitBlobBuilder||window.MozBlobBuilder,a=new n;return a.append(e),a.getBlob("application/javascript")}}function o(t){if(typeof Worker>"u")return{postMessage:function(){},terminate:function(){}};if(s.get("loadWorkerFromBlob")){var e=h(t),n=window.URL||window.webkitURL,a=n.createObjectURL(e);return new Worker(a)}return new Worker(t)}var r=function(t){t.postMessage||(t=this.$createWorkerFromOldConfig.apply(this,arguments)),this.$worker=t,this.$sendDeltaQueue=this.$sendDeltaQueue.bind(this),this.changeListener=this.changeListener.bind(this),this.onMessage=this.onMessage.bind(this),this.callbackId=1,this.callbacks={},this.$worker.onmessage=this.onMessage};(function(){M.implement(this,y),this.$createWorkerFromOldConfig=function(t,e,n,a,c){if(f.nameToUrl&&!f.toUrl&&(f.toUrl=f.nameToUrl),s.get("packaged")||!f.toUrl)a=a||s.moduleUrl(e,"worker");else{var d=this.$normalizePath;a=a||d(f.toUrl("ace/worker/worker.js",null,"_"));var k={};t.forEach(function(v){k[v]=d(f.toUrl(v,null,"_").replace(/(\.js)?(\?.*)?$/,""))})}return this.$worker=o(a),c&&this.send("importScripts",c),this.$worker.postMessage({init:!0,tlns:k,module:e,classname:n}),this.$worker},this.onMessage=function(t){var e=t.data;switch(e.type){case"event":this._signal(e.name,{data:e.data});break;case"call":var n=this.callbacks[e.id];n&&(n(e.data),delete this.callbacks[e.id]);break;case"error":this.reportError(e.data);break;case"log":window.console&&console.log&&console.log.apply(console,e.data);break}},this.reportError=function(t){window.console&&console.error&&console.error(t)},this.$normalizePath=function(t){return A.qualifyURL(t)},this.terminate=function(){this._signal("terminate",{}),this.deltaQueue=null,this.$worker.terminate(),this.$worker.onerror=function(t){t.preventDefault()},this.$worker=null,this.$doc&&this.$doc.off("change",this.changeListener),this.$doc=null},this.send=function(t,e){this.$worker.postMessage({command:t,args:e})},this.call=function(t,e,n){if(n){var a=this.callbackId++;this.callbacks[a]=n,e.push(a)}this.send(t,e)},this.emit=function(t,e){try{e.data&&e.data.err&&(e.data.err={message:e.data.err.message,stack:e.data.err.stack,code:e.data.err.code}),this.$worker&&this.$worker.postMessage({event:t,data:{data:e.data}})}catch(n){console.error(n.stack)}},this.attachToDocument=function(t){this.$doc&&this.terminate(),this.$doc=t,this.call("setValue",[t.getValue()]),t.on("change",this.changeListener,!0)},this.changeListener=function(t){this.deltaQueue||(this.deltaQueue=[],setTimeout(this.$sendDeltaQueue,0)),t.action=="insert"?this.deltaQueue.push(t.start,t.lines):this.deltaQueue.push(t.start,t.end)},this.$sendDeltaQueue=function(){var t=this.deltaQueue;t&&(this.deltaQueue=null,t.length>50&&t.length>this.$doc.getLength()>>1?this.call("setValue",[this.$doc.getValue()]):this.emit("change",{data:t}))}}).call(r.prototype);var i=function(t,e,n){var a=null,c=!1,d=Object.create(y),k=[],v=new r({messageBuffer:k,terminate:function(){},postMessage:function(u){k.push(u),a&&(c?setTimeout(p):p())}});v.setEmitSync=function(u){c=u};var p=function(){var u=k.shift();u.command?a[u.command].apply(a,u.args):u.event&&d._signal(u.event,u.data)};return d.postMessage=function(u){v.onMessage({data:u})},d.callback=function(u,m){this.postMessage({type:"call",id:m,data:u})},d.emit=function(u,m){this.postMessage({type:"event",name:u,data:m})},s.loadModule(["worker",e],function(u){for(a=new u[n](d);k.length;)p()}),v};D.UIWorkerClient=i,D.WorkerClient=r,D.createWorker=o}),ace.define("ace/placeholder",["require","exports","module","ace/range","ace/lib/event_emitter","ace/lib/oop"],function(f,D,z){var M=f("./range").Range,A=f("./lib/event_emitter").EventEmitter,y=f("./lib/oop"),s=function(){function h(o,r,i,t,e,n){var a=this;this.length=r,this.session=o,this.doc=o.getDocument(),this.mainClass=e,this.othersClass=n,this.$onUpdate=this.onUpdate.bind(this),this.doc.on("change",this.$onUpdate,!0),this.$others=t,this.$onCursorChange=function(){setTimeout(function(){a.onCursorChange()})},this.$pos=i;var c=o.getUndoManager().$undoStack||o.getUndoManager().$undostack||{length:-1};this.$undoStackDepth=c.length,this.setup(),o.selection.on("changeCursor",this.$onCursorChange)}return h.prototype.setup=function(){var o=this,r=this.doc,i=this.session;this.selectionBefore=i.selection.toJSON(),i.selection.inMultiSelectMode&&i.selection.toSingleRange(),this.pos=r.createAnchor(this.$pos.row,this.$pos.column);var t=this.pos;t.$insertRight=!0,t.detach(),t.markerId=i.addMarker(new M(t.row,t.column,t.row,t.column+this.length),this.mainClass,null,!1),this.others=[],this.$others.forEach(function(e){var n=r.createAnchor(e.row,e.column);n.$insertRight=!0,n.detach(),o.others.push(n)}),i.setUndoSelect(!1)},h.prototype.showOtherMarkers=function(){if(!this.othersActive){var o=this.session,r=this;this.othersActive=!0,this.others.forEach(function(i){i.markerId=o.addMarker(new M(i.row,i.column,i.row,i.column+r.length),r.othersClass,null,!1)})}},h.prototype.hideOtherMarkers=function(){if(this.othersActive){this.othersActive=!1;for(var o=0;o<this.others.length;o++)this.session.removeMarker(this.others[o].markerId)}},h.prototype.onUpdate=function(o){if(this.$updating)return this.updateAnchors(o);var r=o;if(r.start.row===r.end.row&&r.start.row===this.pos.row){this.$updating=!0;var i=o.action==="insert"?r.end.column-r.start.column:r.start.column-r.end.column,t=r.start.column>=this.pos.column&&r.start.column<=this.pos.column+this.length+1,e=r.start.column-this.pos.column;if(this.updateAnchors(o),t&&(this.length+=i),t&&!this.session.$fromUndo){if(o.action==="insert")for(var n=this.others.length-1;n>=0;n--){var a=this.others[n],c={row:a.row,column:a.column+e};this.doc.insertMergedLines(c,o.lines)}else if(o.action==="remove")for(var n=this.others.length-1;n>=0;n--){var a=this.others[n],c={row:a.row,column:a.column+e};this.doc.remove(new M(c.row,c.column,c.row,c.column-i))}}this.$updating=!1,this.updateMarkers()}},h.prototype.updateAnchors=function(o){this.pos.onChange(o);for(var r=this.others.length;r--;)this.others[r].onChange(o);this.updateMarkers()},h.prototype.updateMarkers=function(){if(!this.$updating){var o=this,r=this.session,i=function(e,n){r.removeMarker(e.markerId),e.markerId=r.addMarker(new M(e.row,e.column,e.row,e.column+o.length),n,null,!1)};i(this.pos,this.mainClass);for(var t=this.others.length;t--;)i(this.others[t],this.othersClass)}},h.prototype.onCursorChange=function(o){if(!(this.$updating||!this.session)){var r=this.session.selection.getCursor();r.row===this.pos.row&&r.column>=this.pos.column&&r.column<=this.pos.column+this.length?(this.showOtherMarkers(),this._emit("cursorEnter",o)):(this.hideOtherMarkers(),this._emit("cursorLeave",o))}},h.prototype.detach=function(){this.session.removeMarker(this.pos&&this.pos.markerId),this.hideOtherMarkers(),this.doc.off("change",this.$onUpdate),this.session.selection.off("changeCursor",this.$onCursorChange),this.session.setUndoSelect(!0),this.session=null},h.prototype.cancel=function(){if(this.$undoStackDepth!==-1){for(var o=this.session.getUndoManager(),r=(o.$undoStack||o.$undostack).length-this.$undoStackDepth,i=0;i<r;i++)o.undo(this.session,!0);this.selectionBefore&&this.session.selection.fromJSON(this.selectionBefore)}},h}();y.implement(s.prototype,A),D.PlaceHolder=s}),ace.define("ace/mouse/multi_select_handler",["require","exports","module","ace/lib/event","ace/lib/useragent"],function(f,D,z){var M=f("../lib/event"),A=f("../lib/useragent");function y(h,o){return h.row==o.row&&h.column==o.column}function s(h){var o=h.domEvent,r=o.altKey,i=o.shiftKey,t=o.ctrlKey,e=h.getAccelKey(),n=h.getButton();if(t&&A.isMac&&(n=o.button),h.editor.inMultiSelectMode&&n==2){h.editor.textInput.onContextMenu(h.domEvent);return}if(!t&&!r&&!e){n===0&&h.editor.inMultiSelectMode&&h.editor.exitMultiSelectMode();return}if(n===0){var a=h.editor,c=a.selection,d=a.inMultiSelectMode,k=h.getDocumentPosition(),v=c.getCursor(),p=h.inSelection()||c.isEmpty()&&y(k,v),u=h.x,m=h.y,E=function(q){u=q.clientX,m=q.clientY},S=a.session,$=a.renderer.pixelToScreenCoordinates(u,m),R=$,g;if(a.$mouseHandler.$enableJumpToDef)t&&r||e&&r?g=i?"block":"add":r&&a.$blockSelectEnabled&&(g="block");else if(e&&!r){if(g="add",!d&&i)return}else r&&a.$blockSelectEnabled&&(g="block");if(g&&A.isMac&&o.ctrlKey&&a.$mouseHandler.cancelContextMenu(),g=="add"){if(!d&&p)return;if(!d){var w=c.toOrientedRange();a.addSelectionMarker(w)}var l=c.rangeList.rangeAtPoint(k);a.inVirtualSelectionMode=!0,i&&(l=null,w=c.ranges[0]||w,a.removeSelectionMarker(w)),a.once("mouseup",function(){var q=c.toOrientedRange();l&&q.isEmpty()&&y(l.cursor,q.cursor)?c.substractPoint(q.cursor):(i?c.substractPoint(w.cursor):w&&(a.removeSelectionMarker(w),c.addRange(w)),c.addRange(q)),a.inVirtualSelectionMode=!1})}else if(g=="block"){h.stop(),a.inVirtualSelectionMode=!0;var _,L=[],I=function(){var q=a.renderer.pixelToScreenCoordinates(u,m),Z=S.screenToDocumentPosition(q.row,q.column,q.offsetX);y(R,q)&&y(Z,c.lead)||(R=q,a.selection.moveToPosition(Z),a.renderer.scrollCursorIntoView(),a.removeSelectionMarkers(L),L=c.rectangularRangeBlock(R,$),a.$mouseHandler.$clickSelection&&L.length==1&&L[0].isEmpty()&&(L[0]=a.$mouseHandler.$clickSelection.clone()),L.forEach(a.addSelectionMarker,a),a.updateSelectionMarkers())};d&&!e?c.toSingleRange():!d&&e&&(_=c.toOrientedRange(),a.addSelectionMarker(_)),i?$=S.documentToScreenPosition(c.lead):c.moveToPosition(k),R={row:-1,column:-1};var W=function(q){I(),clearInterval(J),a.removeSelectionMarkers(L),L.length||(L=[c.toOrientedRange()]),_&&(a.removeSelectionMarker(_),c.toSingleRange(_));for(var Z=0;Z<L.length;Z++)c.addRange(L[Z]);a.inVirtualSelectionMode=!1,a.$mouseHandler.$clickSelection=null},H=I;M.capture(a.container,E,W);var J=setInterval(function(){H()},20);return h.preventDefault()}}}D.onMouseDown=s}),ace.define("ace/commands/multi_select_commands",["require","exports","module","ace/keyboard/hash_handler"],function(f,D,z){D.defaultCommands=[{name:"addCursorAbove",description:"Add cursor above",exec:function(A){A.selectMoreLines(-1)},bindKey:{win:"Ctrl-Alt-Up",mac:"Ctrl-Alt-Up"},scrollIntoView:"cursor",readOnly:!0},{name:"addCursorBelow",description:"Add cursor below",exec:function(A){A.selectMoreLines(1)},bindKey:{win:"Ctrl-Alt-Down",mac:"Ctrl-Alt-Down"},scrollIntoView:"cursor",readOnly:!0},{name:"addCursorAboveSkipCurrent",description:"Add cursor above (skip current)",exec:function(A){A.selectMoreLines(-1,!0)},bindKey:{win:"Ctrl-Alt-Shift-Up",mac:"Ctrl-Alt-Shift-Up"},scrollIntoView:"cursor",readOnly:!0},{name:"addCursorBelowSkipCurrent",description:"Add cursor below (skip current)",exec:function(A){A.selectMoreLines(1,!0)},bindKey:{win:"Ctrl-Alt-Shift-Down",mac:"Ctrl-Alt-Shift-Down"},scrollIntoView:"cursor",readOnly:!0},{name:"selectMoreBefore",description:"Select more before",exec:function(A){A.selectMore(-1)},bindKey:{win:"Ctrl-Alt-Left",mac:"Ctrl-Alt-Left"},scrollIntoView:"cursor",readOnly:!0},{name:"selectMoreAfter",description:"Select more after",exec:function(A){A.selectMore(1)},bindKey:{win:"Ctrl-Alt-Right",mac:"Ctrl-Alt-Right"},scrollIntoView:"cursor",readOnly:!0},{name:"selectNextBefore",description:"Select next before",exec:function(A){A.selectMore(-1,!0)},bindKey:{win:"Ctrl-Alt-Shift-Left",mac:"Ctrl-Alt-Shift-Left"},scrollIntoView:"cursor",readOnly:!0},{name:"selectNextAfter",description:"Select next after",exec:function(A){A.selectMore(1,!0)},bindKey:{win:"Ctrl-Alt-Shift-Right",mac:"Ctrl-Alt-Shift-Right"},scrollIntoView:"cursor",readOnly:!0},{name:"toggleSplitSelectionIntoLines",description:"Split selection into lines",exec:function(A){A.multiSelect.rangeCount>1?A.multiSelect.joinSelections():A.multiSelect.splitIntoLines()},bindKey:{win:"Ctrl-Alt-L",mac:"Ctrl-Alt-L"},readOnly:!0},{name:"splitSelectionIntoLines",description:"Split into lines",exec:function(A){A.multiSelect.splitIntoLines()},readOnly:!0},{name:"alignCursors",description:"Align cursors",exec:function(A){A.alignCursors()},bindKey:{win:"Ctrl-Alt-A",mac:"Ctrl-Alt-A"},scrollIntoView:"cursor"},{name:"findAll",description:"Find all",exec:function(A){A.findAll()},bindKey:{win:"Ctrl-Alt-K",mac:"Ctrl-Alt-G"},scrollIntoView:"cursor",readOnly:!0}],D.multiSelectCommands=[{name:"singleSelection",description:"Single selection",bindKey:"esc",exec:function(A){A.exitMultiSelectMode()},scrollIntoView:"cursor",readOnly:!0,isAvailable:function(A){return A&&A.inMultiSelectMode}}];var M=f("../keyboard/hash_handler").HashHandler;D.keyboardHandler=new M(D.multiSelectCommands)}),ace.define("ace/multi_select",["require","exports","module","ace/range_list","ace/range","ace/selection","ace/mouse/multi_select_handler","ace/lib/event","ace/lib/lang","ace/commands/multi_select_commands","ace/search","ace/edit_session","ace/editor","ace/config"],function(f,D,z){var M=f("./range_list").RangeList,A=f("./range").Range,y=f("./selection").Selection,s=f("./mouse/multi_select_handler").onMouseDown,h=f("./lib/event"),o=f("./lib/lang"),r=f("./commands/multi_select_commands");D.commands=r.defaultCommands.concat(r.multiSelectCommands);var i=f("./search").Search,t=new i;function e(v,p,u){return t.$options.wrap=!0,t.$options.needle=p,t.$options.backwards=u==-1,t.find(v)}var n=f("./edit_session").EditSession;(function(){this.getSelectionMarkers=function(){return this.$selectionMarkers}}).call(n.prototype),(function(){this.ranges=null,this.rangeList=null,this.addRange=function(v,p){if(v){if(!this.inMultiSelectMode&&this.rangeCount===0){var u=this.toOrientedRange();if(this.rangeList.add(u),this.rangeList.add(v),this.rangeList.ranges.length!=2)return this.rangeList.removeAll(),p||this.fromOrientedRange(v);this.rangeList.removeAll(),this.rangeList.add(u),this.$onAddRange(u)}v.cursor||(v.cursor=v.end);var m=this.rangeList.add(v);return this.$onAddRange(v),m.length&&this.$onRemoveRange(m),this.rangeCount>1&&!this.inMultiSelectMode&&(this._signal("multiSelect"),this.inMultiSelectMode=!0,this.session.$undoSelect=!1,this.rangeList.attach(this.session)),p||this.fromOrientedRange(v)}},this.toSingleRange=function(v){v=v||this.ranges[0];var p=this.rangeList.removeAll();p.length&&this.$onRemoveRange(p),v&&this.fromOrientedRange(v)},this.substractPoint=function(v){var p=this.rangeList.substractPoint(v);if(p)return this.$onRemoveRange(p),p[0]},this.mergeOverlappingRanges=function(){var v=this.rangeList.merge();v.length&&this.$onRemoveRange(v)},this.$onAddRange=function(v){this.rangeCount=this.rangeList.ranges.length,this.ranges.unshift(v),this._signal("addRange",{range:v})},this.$onRemoveRange=function(v){if(this.rangeCount=this.rangeList.ranges.length,this.rangeCount==1&&this.inMultiSelectMode){var p=this.rangeList.ranges.pop();v.push(p),this.rangeCount=0}for(var u=v.length;u--;){var m=this.ranges.indexOf(v[u]);this.ranges.splice(m,1)}this._signal("removeRange",{ranges:v}),this.rangeCount===0&&this.inMultiSelectMode&&(this.inMultiSelectMode=!1,this._signal("singleSelect"),this.session.$undoSelect=!0,this.rangeList.detach(this.session)),p=p||this.ranges[0],p&&!p.isEqual(this.getRange())&&this.fromOrientedRange(p)},this.$initRangeList=function(){this.rangeList||(this.rangeList=new M,this.ranges=[],this.rangeCount=0)},this.getAllRanges=function(){return this.rangeCount?this.rangeList.ranges.concat():[this.getRange()]},this.splitIntoLines=function(){for(var v=this.ranges.length?this.ranges:[this.getRange()],p=[],u=0;u<v.length;u++){var m=v[u],E=m.start.row,S=m.end.row;if(E===S)p.push(m.clone());else{for(p.push(new A(E,m.start.column,E,this.session.getLine(E).length));++E<S;)p.push(this.getLineRange(E,!0));p.push(new A(S,0,S,m.end.column))}u==0&&!this.isBackwards()&&(p=p.reverse())}this.toSingleRange();for(var u=p.length;u--;)this.addRange(p[u])},this.joinSelections=function(){var v=this.rangeList.ranges,p=v[v.length-1],u=A.fromPoints(v[0].start,p.end);this.toSingleRange(),this.setSelectionRange(u,p.cursor==p.start)},this.toggleBlockSelection=function(){if(this.rangeCount>1){var v=this.rangeList.ranges,p=v[v.length-1],u=A.fromPoints(v[0].start,p.end);this.toSingleRange(),this.setSelectionRange(u,p.cursor==p.start)}else{var m=this.session.documentToScreenPosition(this.cursor),E=this.session.documentToScreenPosition(this.anchor),S=this.rectangularRangeBlock(m,E);S.forEach(this.addRange,this)}},this.rectangularRangeBlock=function(v,p,u){var m=[],E=v.column<p.column;if(E)var S=v.column,$=p.column,R=v.offsetX,g=p.offsetX;else var S=p.column,$=v.column,R=p.offsetX,g=v.offsetX;var w=v.row<p.row;if(w)var l=v.row,_=p.row;else var l=p.row,_=v.row;S<0&&(S=0),l<0&&(l=0),l==_&&(u=!0);for(var L,I=l;I<=_;I++){var W=A.fromPoints(this.session.screenToDocumentPosition(I,S,R),this.session.screenToDocumentPosition(I,$,g));if(W.isEmpty()){if(L&&c(W.end,L))break;L=W.end}W.cursor=E?W.start:W.end,m.push(W)}if(w&&m.reverse(),!u){for(var H=m.length-1;m[H].isEmpty()&&H>0;)H--;if(H>0)for(var J=0;m[J].isEmpty();)J++;for(var q=H;q>=J;q--)m[q].isEmpty()&&m.splice(q,1)}return m}}).call(y.prototype);var a=f("./editor").Editor;(function(){this.updateSelectionMarkers=function(){this.renderer.updateCursor(),this.renderer.updateBackMarkers()},this.addSelectionMarker=function(v){v.cursor||(v.cursor=v.end);var p=this.getSelectionStyle();return v.marker=this.session.addMarker(v,"ace_selection",p),this.session.$selectionMarkers.push(v),this.session.selectionMarkerCount=this.session.$selectionMarkers.length,v},this.removeSelectionMarker=function(v){if(v.marker){this.session.removeMarker(v.marker);var p=this.session.$selectionMarkers.indexOf(v);p!=-1&&this.session.$selectionMarkers.splice(p,1),this.session.selectionMarkerCount=this.session.$selectionMarkers.length}},this.removeSelectionMarkers=function(v){for(var p=this.session.$selectionMarkers,u=v.length;u--;){var m=v[u];if(m.marker){this.session.removeMarker(m.marker);var E=p.indexOf(m);E!=-1&&p.splice(E,1)}}this.session.selectionMarkerCount=p.length},this.$onAddRange=function(v){this.addSelectionMarker(v.range),this.renderer.updateCursor(),this.renderer.updateBackMarkers()},this.$onRemoveRange=function(v){this.removeSelectionMarkers(v.ranges),this.renderer.updateCursor(),this.renderer.updateBackMarkers()},this.$onMultiSelect=function(v){this.inMultiSelectMode||(this.inMultiSelectMode=!0,this.setStyle("ace_multiselect"),this.keyBinding.addKeyboardHandler(r.keyboardHandler),this.commands.setDefaultHandler("exec",this.$onMultiSelectExec),this.renderer.updateCursor(),this.renderer.updateBackMarkers())},this.$onSingleSelect=function(v){this.session.multiSelect.inVirtualMode||(this.inMultiSelectMode=!1,this.unsetStyle("ace_multiselect"),this.keyBinding.removeKeyboardHandler(r.keyboardHandler),this.commands.removeDefaultHandler("exec",this.$onMultiSelectExec),this.renderer.updateCursor(),this.renderer.updateBackMarkers(),this._emit("changeSelection"))},this.$onMultiSelectExec=function(v){var p=v.command,u=v.editor;if(u.multiSelect){if(p.multiSelectAction)p.multiSelectAction=="forEach"?m=u.forEachSelection(p,v.args):p.multiSelectAction=="forEachLine"?m=u.forEachSelection(p,v.args,!0):p.multiSelectAction=="single"?(u.exitMultiSelectMode(),m=p.exec(u,v.args||{})):m=p.multiSelectAction(u,v.args||{});else{var m=p.exec(u,v.args||{});u.multiSelect.addRange(u.multiSelect.toOrientedRange()),u.multiSelect.mergeOverlappingRanges()}return m}},this.forEachSelection=function(v,p,u){if(!this.inVirtualSelectionMode){var m=u&&u.keepOrder,E=u==!0||u&&u.$byLines,S=this.session,$=this.selection,R=$.rangeList,g=(m?$:R).ranges,w;if(!g.length)return v.exec?v.exec(this,p||{}):v(this,p||{});var l=$._eventRegistry;$._eventRegistry={};var _=new y(S);this.inVirtualSelectionMode=!0;for(var L=g.length;L--;){if(E)for(;L>0&&g[L].start.row==g[L-1].end.row;)L--;_.fromOrientedRange(g[L]),_.index=L,this.selection=S.selection=_;var I=v.exec?v.exec(this,p||{}):v(this,p||{});!w&&I!==void 0&&(w=I),_.toOrientedRange(g[L])}_.detach(),this.selection=S.selection=$,this.inVirtualSelectionMode=!1,$._eventRegistry=l,$.mergeOverlappingRanges(),$.ranges[0]&&$.fromOrientedRange($.ranges[0]);var W=this.renderer.$scrollAnimation;return this.onCursorChange(),this.onSelectionChange(),W&&W.from==W.to&&this.renderer.animateScrolling(W.from),w}},this.exitMultiSelectMode=function(){!this.inMultiSelectMode||this.inVirtualSelectionMode||this.multiSelect.toSingleRange()},this.getSelectedText=function(){var v="";if(this.inMultiSelectMode&&!this.inVirtualSelectionMode){for(var p=this.multiSelect.rangeList.ranges,u=[],m=0;m<p.length;m++)u.push(this.session.getTextRange(p[m]));var E=this.session.getDocument().getNewLineCharacter();v=u.join(E),v.length==(u.length-1)*E.length&&(v="")}else this.selection.isEmpty()||(v=this.session.getTextRange(this.getSelectionRange()));return v},this.$checkMultiselectChange=function(v,p){if(this.inMultiSelectMode&&!this.inVirtualSelectionMode){var u=this.multiSelect.ranges[0];if(this.multiSelect.isEmpty()&&p==this.multiSelect.anchor)return;var m=p==this.multiSelect.anchor?u.cursor==u.start?u.end:u.start:u.cursor;m.row!=p.row||this.session.$clipPositionToDocument(m.row,m.column).column!=p.column?this.multiSelect.toSingleRange(this.multiSelect.toOrientedRange()):this.multiSelect.mergeOverlappingRanges()}},this.findAll=function(v,p,u){if(p=p||{},p.needle=v||p.needle,p.needle==null){var m=this.selection.isEmpty()?this.selection.getWordRange():this.selection.getRange();p.needle=this.session.getTextRange(m)}this.$search.set(p);var E=this.$search.findAll(this.session);if(!E.length)return 0;var S=this.multiSelect;u||S.toSingleRange(E[0]);for(var $=E.length;$--;)S.addRange(E[$],!0);return m&&S.rangeList.rangeAtPoint(m.start)&&S.addRange(m,!0),E.length},this.selectMoreLines=function(v,p){var u=this.selection.toOrientedRange(),m=u.cursor==u.end,E=this.session.documentToScreenPosition(u.cursor);this.selection.$desiredColumn&&(E.column=this.selection.$desiredColumn);var S=this.session.screenToDocumentPosition(E.row+v,E.column);if(u.isEmpty())var R=S;else var $=this.session.documentToScreenPosition(m?u.end:u.start),R=this.session.screenToDocumentPosition($.row+v,$.column);if(m){var g=A.fromPoints(S,R);g.cursor=g.start}else{var g=A.fromPoints(R,S);g.cursor=g.end}if(g.desiredColumn=E.column,!this.selection.inMultiSelectMode)this.selection.addRange(u);else if(p)var w=u.cursor;this.selection.addRange(g),w&&this.selection.substractPoint(w)},this.transposeSelections=function(v){for(var p=this.session,u=p.multiSelect,m=u.ranges,E=m.length;E--;){var S=m[E];if(S.isEmpty()){var $=p.getWordRange(S.start.row,S.start.column);S.start.row=$.start.row,S.start.column=$.start.column,S.end.row=$.end.row,S.end.column=$.end.column}}u.mergeOverlappingRanges();for(var R=[],E=m.length;E--;){var S=m[E];R.unshift(p.getTextRange(S))}v<0?R.unshift(R.pop()):R.push(R.shift());for(var E=m.length;E--;){var S=m[E],g=S.clone();p.replace(S,R[E]),S.start.row=g.start.row,S.start.column=g.start.column}u.fromOrientedRange(u.ranges[0])},this.selectMore=function(v,p,u){var m=this.session,E=m.multiSelect,S=E.toOrientedRange();if(!(S.isEmpty()&&(S=m.getWordRange(S.start.row,S.start.column),S.cursor=v==-1?S.start:S.end,this.multiSelect.addRange(S),u))){var $=m.getTextRange(S),R=e(m,$,v);R&&(R.cursor=v==-1?R.start:R.end,this.session.unfold(R),this.multiSelect.addRange(R),this.renderer.scrollCursorIntoView(null,.5)),p&&this.multiSelect.substractPoint(S.cursor)}},this.alignCursors=function(){var v=this.session,p=v.multiSelect,u=p.ranges,m=-1,E=u.filter(function(H){if(H.cursor.row==m)return!0;m=H.cursor.row});if(!u.length||E.length==u.length-1){var S=this.selection.getRange(),$=S.start.row,R=S.end.row,g=$==R;if(g){var w=this.session.getLength(),l;do l=this.session.getLine(R);while(/[=:]/.test(l)&&++R<w);do l=this.session.getLine($);while(/[=:]/.test(l)&&--$>0);$<0&&($=0),R>=w&&(R=w-1)}var _=this.session.removeFullLines($,R);_=this.$reAlignText(_,g),this.session.insert({row:$,column:0},_.join(`
`)+`
`),g||(S.start.column=0,S.end.column=_[_.length-1].length),this.selection.setRange(S)}else{E.forEach(function(H){p.substractPoint(H.cursor)});var L=0,I=1/0,W=u.map(function(H){var J=H.cursor,q=v.getLine(J.row),Z=q.substr(J.column).search(/\S/g);return Z==-1&&(Z=0),J.column>L&&(L=J.column),Z<I&&(I=Z),Z});u.forEach(function(H,J){var q=H.cursor,Z=L-q.column,oe=W[J]-I;Z>oe?v.insert(q,o.stringRepeat(" ",Z-oe)):v.remove(new A(q.row,q.column,q.row,q.column-Z+oe)),H.start.column=H.end.column=L,H.start.row=H.end.row=q.row,H.cursor=H.end}),p.fromOrientedRange(u[0]),this.renderer.updateCursor(),this.renderer.updateBackMarkers()}},this.$reAlignText=function(v,p){var u=!0,m=!0,E,S,$;return v.map(function(_){var L=_.match(/(\s*)(.*?)(\s*)([=:].*)/);return L?E==null?(E=L[1].length,S=L[2].length,$=L[3].length,L):(E+S+$!=L[1].length+L[2].length+L[3].length&&(m=!1),E!=L[1].length&&(u=!1),E>L[1].length&&(E=L[1].length),S<L[2].length&&(S=L[2].length),$>L[3].length&&($=L[3].length),L):[_]}).map(p?g:u?m?w:g:l);function R(_){return o.stringRepeat(" ",_)}function g(_){return _[2]?R(E)+_[2]+R(S-_[2].length+$)+_[4].replace(/^([=:])\s+/,"$1 "):_[0]}function w(_){return _[2]?R(E+S-_[2].length)+_[2]+R($)+_[4].replace(/^([=:])\s+/,"$1 "):_[0]}function l(_){return _[2]?R(E)+_[2]+R($)+_[4].replace(/^([=:])\s+/,"$1 "):_[0]}}}).call(a.prototype);function c(v,p){return v.row==p.row&&v.column==p.column}D.onSessionChange=function(v){var p=v.session;p&&!p.multiSelect&&(p.$selectionMarkers=[],p.selection.$initRangeList(),p.multiSelect=p.selection),this.multiSelect=p&&p.multiSelect;var u=v.oldSession;u&&(u.multiSelect.off("addRange",this.$onAddRange),u.multiSelect.off("removeRange",this.$onRemoveRange),u.multiSelect.off("multiSelect",this.$onMultiSelect),u.multiSelect.off("singleSelect",this.$onSingleSelect),u.multiSelect.lead.off("change",this.$checkMultiselectChange),u.multiSelect.anchor.off("change",this.$checkMultiselectChange)),p&&(p.multiSelect.on("addRange",this.$onAddRange),p.multiSelect.on("removeRange",this.$onRemoveRange),p.multiSelect.on("multiSelect",this.$onMultiSelect),p.multiSelect.on("singleSelect",this.$onSingleSelect),p.multiSelect.lead.on("change",this.$checkMultiselectChange),p.multiSelect.anchor.on("change",this.$checkMultiselectChange)),p&&this.inMultiSelectMode!=p.selection.inMultiSelectMode&&(p.selection.inMultiSelectMode?this.$onMultiSelect():this.$onSingleSelect())};function d(v){v.$multiselectOnSessionChange||(v.$onAddRange=v.$onAddRange.bind(v),v.$onRemoveRange=v.$onRemoveRange.bind(v),v.$onMultiSelect=v.$onMultiSelect.bind(v),v.$onSingleSelect=v.$onSingleSelect.bind(v),v.$multiselectOnSessionChange=D.onSessionChange.bind(v),v.$checkMultiselectChange=v.$checkMultiselectChange.bind(v),v.$multiselectOnSessionChange(v),v.on("changeSession",v.$multiselectOnSessionChange),v.on("mousedown",s),v.commands.addCommands(r.defaultCommands),k(v))}function k(v){if(!v.textInput)return;var p=v.textInput.getElement(),u=!1;h.addListener(p,"keydown",function(E){var S=E.keyCode==18&&!(E.ctrlKey||E.shiftKey||E.metaKey);v.$blockSelectEnabled&&S?u||(v.renderer.setMouseCursor("crosshair"),u=!0):u&&m()},v),h.addListener(p,"keyup",m,v),h.addListener(p,"blur",m,v);function m(E){u&&(v.renderer.setMouseCursor(""),u=!1)}}D.MultiSelect=d,f("./config").defineOptions(a.prototype,"editor",{enableMultiselect:{set:function(v){d(this),v?this.on("mousedown",s):this.off("mousedown",s)},value:!0},enableBlockSelect:{set:function(v){this.$blockSelectEnabled=v},value:!0}})}),ace.define("ace/mode/folding/fold_mode",["require","exports","module","ace/range"],function(f,D,z){var M=f("../../range").Range,A=D.FoldMode=function(){};(function(){this.foldingStartMarker=null,this.foldingStopMarker=null,this.getFoldWidget=function(y,s,h){var o=y.getLine(h);return this.foldingStartMarker.test(o)?"start":s=="markbeginend"&&this.foldingStopMarker&&this.foldingStopMarker.test(o)?"end":""},this.getFoldWidgetRange=function(y,s,h){return null},this.indentationBlock=function(y,s,h){var o=/\S/,r=y.getLine(s),i=r.search(o);if(i!=-1){for(var t=h||r.length,e=y.getLength(),n=s,a=s;++s<e;){var c=y.getLine(s).search(o);if(c!=-1){if(c<=i){var d=y.getTokenAt(s,0);if(!d||d.type!=="string")break}a=s}}if(a>n){var k=y.getLine(a).length;return new M(n,t,a,k)}}},this.openingBracketBlock=function(y,s,h,o,r){var i={row:h,column:o+1},t=y.$findClosingBracket(s,i,r);if(t){var e=y.foldWidgets[t.row];return e==null&&(e=y.getFoldWidget(t.row)),e=="start"&&t.row>i.row&&(t.row--,t.column=y.getLine(t.row).length),M.fromPoints(i,t)}},this.closingBracketBlock=function(y,s,h,o,r){var i={row:h,column:o},t=y.$findOpeningBracket(s,i);if(t)return t.column++,i.column--,M.fromPoints(t,i)}}).call(A.prototype)}),ace.define("ace/ext/error_marker",["require","exports","module","ace/line_widgets","ace/lib/dom","ace/range","ace/config"],function(f,D,z){var M=f("../line_widgets").LineWidgets,A=f("../lib/dom"),y=f("../range").Range,s=f("../config").nls;function h(r,i,t){for(var e=0,n=r.length-1;e<=n;){var a=e+n>>1,c=t(i,r[a]);if(c>0)e=a+1;else if(c<0)n=a-1;else return a}return-(e+1)}function o(r,i,t){var e=r.getAnnotations().sort(y.comparePoints);if(e.length){var n=h(e,{row:i,column:-1},y.comparePoints);n<0&&(n=-n-1),n>=e.length?n=t>0?0:e.length-1:n===0&&t<0&&(n=e.length-1);var a=e[n];if(!(!a||!t)){if(a.row===i){do a=e[n+=t];while(a&&a.row===i);if(!a)return e.slice()}var c=[];i=a.row;do c[t<0?"unshift":"push"](a),a=e[n+=t];while(a&&a.row==i);return c.length&&c}}}D.showErrorMarker=function(r,i){var t=r.session;t.widgetManager||(t.widgetManager=new M(t),t.widgetManager.attach(r));var e=r.getCursorPosition(),n=e.row,a=t.widgetManager.getWidgetsAtRow(n).filter(function(S){return S.type=="errorMarker"})[0];a?a.destroy():n-=i;var c=o(t,n,i),d;if(c){var k=c[0];e.column=(k.pos&&typeof k.column!="number"?k.pos.sc:k.column)||0,e.row=k.row,d=r.renderer.$gutterLayer.$annotations[e.row]}else{if(a)return;d={displayText:[s("error-marker.good-state","Looks good!")],className:"ace_ok"}}r.session.unfold(e.row),r.selection.moveToPosition(e);var v={row:e.row,fixedWidth:!0,coverGutter:!0,el:A.createElement("div"),type:"errorMarker"},p=v.el.appendChild(A.createElement("div")),u=v.el.appendChild(A.createElement("div"));u.className="error_widget_arrow "+d.className;var m=r.renderer.$cursorLayer.getPixelPosition(e).left;u.style.left=m+r.renderer.gutterWidth-5+"px",v.el.className="error_widget_wrapper",p.className="error_widget "+d.className,d.displayText.forEach(function(S,$){p.appendChild(A.createTextNode(S)),$<d.displayText.length-1&&p.appendChild(A.createElement("br"))}),p.appendChild(A.createElement("div"));var E=function(S,$,R){if($===0&&(R==="esc"||R==="return"))return v.destroy(),{command:"null"}};v.destroy=function(){r.$mouseHandler.isMousePressed||(r.keyBinding.removeKeyboardHandler(E),t.widgetManager.removeLineWidget(v),r.off("changeSelection",v.destroy),r.off("changeSession",v.destroy),r.off("mouseup",v.destroy),r.off("change",v.destroy))},r.keyBinding.addKeyboardHandler(E),r.on("changeSelection",v.destroy),r.on("changeSession",v.destroy),r.on("mouseup",v.destroy),r.on("change",v.destroy),r.session.widgetManager.addLineWidget(v),v.el.onmousedown=r.focus.bind(r),r.renderer.scrollCursorIntoView(null,.5,{bottom:v.el.offsetHeight})},A.importCssString(`
    .error_widget_wrapper {
        background: inherit;
        color: inherit;
        border:none
    }
    .error_widget {
        border-top: solid 2px;
        border-bottom: solid 2px;
        margin: 5px 0;
        padding: 10px 40px;
        white-space: pre-wrap;
    }
    .error_widget.ace_error, .error_widget_arrow.ace_error{
        border-color: #ff5a5a
    }
    .error_widget.ace_warning, .error_widget_arrow.ace_warning{
        border-color: #F1D817
    }
    .error_widget.ace_info, .error_widget_arrow.ace_info{
        border-color: #5a5a5a
    }
    .error_widget.ace_ok, .error_widget_arrow.ace_ok{
        border-color: #5aaa5a
    }
    .error_widget_arrow {
        position: absolute;
        border: solid 5px;
        border-top-color: transparent!important;
        border-right-color: transparent!important;
        border-left-color: transparent!important;
        top: -5px;
    }
`,"error_marker.css",!1)}),ace.define("ace/ace",["require","exports","module","ace/lib/dom","ace/range","ace/editor","ace/edit_session","ace/undomanager","ace/virtual_renderer","ace/worker/worker_client","ace/keyboard/hash_handler","ace/placeholder","ace/multi_select","ace/mode/folding/fold_mode","ace/theme/textmate","ace/ext/error_marker","ace/config","ace/loader_build"],function(f,D,z){f("./loader_build")(D);var M=f("./lib/dom"),A=f("./range").Range,y=f("./editor").Editor,s=f("./edit_session").EditSession,h=f("./undomanager").UndoManager,o=f("./virtual_renderer").VirtualRenderer;f("./worker/worker_client"),f("./keyboard/hash_handler"),f("./placeholder"),f("./multi_select"),f("./mode/folding/fold_mode"),f("./theme/textmate"),f("./ext/error_marker"),D.config=f("./config"),D.edit=function(r,i){if(typeof r=="string"){var t=r;if(r=document.getElementById(t),!r)throw new Error("ace.edit can't find div #"+t)}if(r&&r.env&&r.env.editor instanceof y)return r.env.editor;var e="";if(r&&/input|textarea/i.test(r.tagName)){var n=r;e=n.value,r=M.createElement("pre"),n.parentNode.replaceChild(r,n)}else r&&(e=r.textContent,r.innerHTML="");var a=D.createEditSession(e),c=new y(new o(r),a,i),d={document:a,editor:c,onResize:c.resize.bind(c,null)};return n&&(d.textarea=n),c.on("destroy",function(){d.editor.container.env=null}),c.container.env=c.env=d,c},D.createEditSession=function(r,i){var t=new s(r,i);return t.setUndoManager(new h),t},D.Range=A,D.Editor=y,D.EditSession=s,D.UndoManager=h,D.VirtualRenderer=o,D.version=D.config.version}),function(){ace.require(["ace/ace"],function(f){f&&(f.config.init(!0),f.define=ace.define);var D=function(){return this}();!D&&typeof window<"u"&&(D=window),!D&&typeof self<"u"&&(D=self),D.ace||(D.ace=f);for(var z in f)f.hasOwnProperty(z)&&(D.ace[z]=f[z]);D.ace.default=D.ace,te&&(te.exports=D.ace)})}()}(on)),on.exports}var en=Pi();const Hi=bn(en),Nr=Bi({__proto__:null,default:Hi},[en]);var sn={exports:{}},Fn;function Ui(){return Fn||(Fn=1,function(te,Q){ace.define("ace/mode/coffee_highlight_rules",["require","exports","module","ace/lib/oop","ace/mode/text_highlight_rules"],function(f,D,z){var M=f("../lib/oop"),A=f("./text_highlight_rules").TextHighlightRules;M.inherits(y,A);function y(){var s="[$A-Za-z_\\x7f-\\uffff][$\\w\\x7f-\\uffff]*",h="this|throw|then|try|typeof|super|switch|return|break|by|continue|catch|class|in|instanceof|is|isnt|if|else|extends|for|own|finally|function|while|when|new|no|not|delete|debugger|do|loop|of|off|or|on|unless|until|and|yes|yield|export|import|default",o="true|false|null|undefined|NaN|Infinity",r="case|const|function|var|void|with|enum|implements|interface|let|package|private|protected|public|static",i="Array|Boolean|Date|Function|Number|Object|RegExp|ReferenceError|String|Error|EvalError|InternalError|RangeError|ReferenceError|StopIteration|SyntaxError|TypeError|URIError|ArrayBuffer|Float32Array|Float64Array|Int16Array|Int32Array|Int8Array|Uint16Array|Uint32Array|Uint8Array|Uint8ClampedArray",t="Math|JSON|isNaN|isFinite|parseInt|parseFloat|encodeURI|encodeURIComponent|decodeURI|decodeURIComponent|String|",e="window|arguments|prototype|document",n=this.createKeywordMapper({keyword:h,"constant.language":o,"invalid.illegal":r,"language.support.class":i,"language.support.function":t,"variable.language":e},"identifier"),a={token:["paren.lparen","variable.parameter","paren.rparen","text","storage.type"],regex:/(?:(\()((?:"[^")]*?"|'[^')]*?'|\/[^\/)]*?\/|[^()"'\/])*?)(\))(\s*))?([\-=]>)/.source},c=/\\(?:x[0-9a-fA-F]{2}|u[0-9a-fA-F]{4}|[0-2][0-7]{0,2}|3[0-6][0-7]?|37[0-7]?|[4-7][0-7]?|.)/;this.$rules={start:[{token:"constant.numeric",regex:"(?:0x[\\da-fA-F]+|(?:\\d+(?:\\.\\d+)?|\\.\\d+)(?:[eE][+-]?\\d+)?)"},{stateName:"qdoc",token:"string",regex:"'''",next:[{token:"string",regex:"'''",next:"start"},{token:"constant.language.escape",regex:c},{defaultToken:"string"}]},{stateName:"qqdoc",token:"string",regex:'"""',next:[{token:"string",regex:'"""',next:"start"},{token:"paren.string",regex:"#{",push:"start"},{token:"constant.language.escape",regex:c},{defaultToken:"string"}]},{stateName:"qstring",token:"string",regex:"'",next:[{token:"string",regex:"'",next:"start"},{token:"constant.language.escape",regex:c},{defaultToken:"string"}]},{stateName:"qqstring",token:"string.start",regex:'"',next:[{token:"string.end",regex:'"',next:"start"},{token:"paren.string",regex:"#{",push:"start"},{token:"constant.language.escape",regex:c},{defaultToken:"string"}]},{stateName:"js",token:"string",regex:"`",next:[{token:"string",regex:"`",next:"start"},{token:"constant.language.escape",regex:c},{defaultToken:"string"}]},{regex:"[{}]",onMatch:function(d,k,v){return this.next="",d=="{"&&v.length?(v.unshift("start",k),"paren"):d=="}"&&v.length&&(v.shift(),this.next=v.shift()||"",this.next.indexOf("string")!=-1)?"paren.string":"paren"}},{token:"string.regex",regex:"///",next:"heregex"},{token:"string.regex",regex:/(?:\/(?![\s=])[^[\/\n\\]*(?:(?:\\[\s\S]|\[[^\]\n\\]*(?:\\[\s\S][^\]\n\\]*)*])[^[\/\n\\]*)*\/)(?:[imgy]{0,4})(?!\w)/},{token:"comment",regex:"###(?!#)",next:"comment"},{token:"comment",regex:"#.*"},{token:["punctuation.operator","text","identifier"],regex:"(\\.)(\\s*)("+r+")"},{token:"punctuation.operator",regex:"\\.{1,3}"},{token:["keyword","text","language.support.class","text","keyword","text","language.support.class"],regex:"(class)(\\s+)("+s+")(?:(\\s+)(extends)(\\s+)("+s+"))?"},{token:["entity.name.function","text","keyword.operator","text"].concat(a.token),regex:"("+s+")(\\s*)([=:])(\\s*)"+a.regex},a,{token:"variable",regex:"@(?:"+s+")?"},{token:n,regex:s},{token:"punctuation.operator",regex:"\\,|\\."},{token:"storage.type",regex:"[\\-=]>"},{token:"keyword.operator",regex:"(?:[-+*/%<>&|^!?=]=|>>>=?|\\-\\-|\\+\\+|::|&&=|\\|\\|=|<<=|>>=|\\?\\.|\\.{2,3}|[!*+-=><])"},{token:"paren.lparen",regex:"[({[]"},{token:"paren.rparen",regex:"[\\]})]"},{token:"text",regex:"\\s+"}],heregex:[{token:"string.regex",regex:".*?///[imgy]{0,4}",next:"start"},{token:"comment.regex",regex:"\\s+(?:#.*)?"},{token:"string.regex",regex:"\\S+"}],comment:[{token:"comment",regex:"###",next:"start"},{defaultToken:"comment"}]},this.normalizeRules()}D.CoffeeHighlightRules=y}),ace.define("ace/mode/matching_brace_outdent",["require","exports","module","ace/range"],function(f,D,z){var M=f("../range").Range,A=function(){};(function(){this.checkOutdent=function(y,s){return/^\s+$/.test(y)?/^\s*\}/.test(s):!1},this.autoOutdent=function(y,s){var h=y.getLine(s),o=h.match(/^(\s*\})/);if(!o)return 0;var r=o[1].length,i=y.findMatchingBracket({row:s,column:r});if(!i||i.row==s)return 0;var t=this.$getIndent(y.getLine(i.row));y.replace(new M(s,0,s,r-1),t)},this.$getIndent=function(y){return y.match(/^\s*/)[0]}}).call(A.prototype),D.MatchingBraceOutdent=A}),ace.define("ace/mode/folding/coffee",["require","exports","module","ace/lib/oop","ace/mode/folding/fold_mode","ace/range"],function(f,D,z){var M=f("../../lib/oop"),A=f("./fold_mode").FoldMode,y=f("../../range").Range,s=D.FoldMode=function(){};M.inherits(s,A),(function(){this.commentBlock=function(h,o){var r=/\S/,i=h.getLine(o),t=i.search(r);if(!(t==-1||i[t]!="#")){for(var e=i.length,n=h.getLength(),a=o,c=o;++o<n;){i=h.getLine(o);var d=i.search(r);if(d!=-1){if(i[d]!="#")break;c=o}}if(c>a){var k=h.getLine(c).length;return new y(a,e,c,k)}}},this.getFoldWidgetRange=function(h,o,r){var i=this.indentationBlock(h,r);if(i||(i=this.commentBlock(h,r),i))return i},this.getFoldWidget=function(h,o,r){var i=h.getLine(r),t=i.search(/\S/),e=h.getLine(r+1),n=h.getLine(r-1),a=n.search(/\S/),c=e.search(/\S/);if(t==-1)return h.foldWidgets[r-1]=a!=-1&&a<c?"start":"","";if(a==-1){if(t==c&&i[t]=="#"&&e[t]=="#")return h.foldWidgets[r-1]="",h.foldWidgets[r+1]="","start"}else if(a==t&&i[t]=="#"&&n[t]=="#"&&h.getLine(r-2).search(/\S/)==-1)return h.foldWidgets[r-1]="start",h.foldWidgets[r+1]="","";return a!=-1&&a<t?h.foldWidgets[r-1]="start":h.foldWidgets[r-1]="",t<c?"start":""}}).call(s.prototype)}),ace.define("ace/mode/coffee",["require","exports","module","ace/mode/coffee_highlight_rules","ace/mode/matching_brace_outdent","ace/mode/folding/coffee","ace/range","ace/mode/text","ace/worker/worker_client","ace/lib/oop"],function(f,D,z){var M=f("./coffee_highlight_rules").CoffeeHighlightRules,A=f("./matching_brace_outdent").MatchingBraceOutdent,y=f("./folding/coffee").FoldMode;f("../range").Range;var s=f("./text").Mode,h=f("../worker/worker_client").WorkerClient,o=f("../lib/oop");function r(){this.HighlightRules=M,this.$outdent=new A,this.foldingRules=new y}o.inherits(r,s),(function(){var i=/(?:[({[=:]|[-=]>|\b(?:else|try|(?:swi|ca)tch(?:\s+[$A-Za-z_\x7f-\uffff][$\w\x7f-\uffff]*)?|finally))\s*$|^\s*(else\b\s*)?(?:if|for|while|loop)\b(?!.*\bthen\b)/;this.lineCommentStart="#",this.blockComment={start:"###",end:"###"},this.getNextLineIndent=function(t,e,n){var a=this.$getIndent(e),c=this.getTokenizer().getLineTokens(e,t).tokens;return!(c.length&&c[c.length-1].type==="comment")&&t==="start"&&i.test(e)&&(a+=n),a},this.checkOutdent=function(t,e,n){return this.$outdent.checkOutdent(e,n)},this.autoOutdent=function(t,e,n){this.$outdent.autoOutdent(e,n)},this.createWorker=function(t){var e=new h(["ace"],"ace/mode/coffee_worker","Worker");return e.attachToDocument(t.getDocument()),e.on("annotate",function(n){t.setAnnotations(n.data)}),e.on("terminate",function(){t.clearAnnotations()}),e},this.$id="ace/mode/coffee",this.snippetFileId="ace/snippets/coffee"}).call(r.prototype),D.Mode=r}),function(){ace.require(["ace/mode/coffee"],function(f){te&&(te.exports=f)})}()}(sn)),sn.exports}Ui();var an={exports:{}},Nn;function zi(){return Nn||(Nn=1,function(te,Q){ace.define("ace/theme/tomorrow-css",["require","exports","module"],function(f,D,z){z.exports=`.ace-tomorrow .ace_gutter {
  background: #f6f6f6;
  color: #4D4D4C
}

.ace-tomorrow .ace_print-margin {
  width: 1px;
  background: #f6f6f6
}

.ace-tomorrow {
  background-color: #FFFFFF;
  color: #4D4D4C
}

.ace-tomorrow .ace_cursor {
  color: #AEAFAD
}

.ace-tomorrow .ace_marker-layer .ace_selection {
  background: #D6D6D6
}

.ace-tomorrow.ace_multiselect .ace_selection.ace_start {
  box-shadow: 0 0 3px 0px #FFFFFF;
}

.ace-tomorrow .ace_marker-layer .ace_step {
  background: rgb(255, 255, 0)
}

.ace-tomorrow .ace_marker-layer .ace_bracket {
  margin: -1px 0 0 -1px;
  border: 1px solid #D1D1D1
}

.ace-tomorrow .ace_marker-layer .ace_active-line {
  background: #EFEFEF
}

.ace-tomorrow .ace_gutter-active-line {
  background-color : #dcdcdc
}

.ace-tomorrow .ace_marker-layer .ace_selected-word {
  border: 1px solid #D6D6D6
}

.ace-tomorrow .ace_invisible {
  color: #D1D1D1
}

.ace-tomorrow .ace_keyword,
.ace-tomorrow .ace_meta,
.ace-tomorrow .ace_storage,
.ace-tomorrow .ace_storage.ace_type,
.ace-tomorrow .ace_support.ace_type {
  color: #8959A8
}

.ace-tomorrow .ace_keyword.ace_operator {
  color: #3E999F
}

.ace-tomorrow .ace_constant.ace_character,
.ace-tomorrow .ace_constant.ace_language,
.ace-tomorrow .ace_constant.ace_numeric,
.ace-tomorrow .ace_keyword.ace_other.ace_unit,
.ace-tomorrow .ace_support.ace_constant,
.ace-tomorrow .ace_variable.ace_parameter {
  color: #F5871F
}

.ace-tomorrow .ace_constant.ace_other {
  color: #666969
}

.ace-tomorrow .ace_invalid {
  color: #FFFFFF;
  background-color: #C82829
}

.ace-tomorrow .ace_invalid.ace_deprecated {
  color: #FFFFFF;
  background-color: #8959A8
}

.ace-tomorrow .ace_fold {
  background-color: #4271AE;
  border-color: #4D4D4C
}

.ace-tomorrow .ace_entity.ace_name.ace_function,
.ace-tomorrow .ace_support.ace_function,
.ace-tomorrow .ace_variable {
  color: #4271AE
}

.ace-tomorrow .ace_support.ace_class,
.ace-tomorrow .ace_support.ace_type {
  color: #C99E00
}

.ace-tomorrow .ace_heading,
.ace-tomorrow .ace_markup.ace_heading,
.ace-tomorrow .ace_string {
  color: #718C00
}

.ace-tomorrow .ace_entity.ace_name.ace_tag,
.ace-tomorrow .ace_entity.ace_other.ace_attribute-name,
.ace-tomorrow .ace_meta.ace_tag,
.ace-tomorrow .ace_string.ace_regexp,
.ace-tomorrow .ace_variable {
  color: #C82829
}

.ace-tomorrow .ace_comment {
  color: #8E908C
}

.ace-tomorrow .ace_indent-guide {
  background: url(data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAEAAAACCAYAAACZgbYnAAAAE0lEQVQImWP4////f4bdu3f/BwAlfgctduB85QAAAABJRU5ErkJggg==) right repeat-y
}

.ace-tomorrow .ace_indent-guide-active {
  background: url("data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAEAAAACCAYAAACZgbYnAAAACXBIWXMAAAsTAAALEwEAmpwYAAAAIGNIUk0AAHolAACAgwAA+f8AAIDpAAB1MAAA6mAAADqYAAAXb5JfxUYAAAAZSURBVHjaYvj///9/hivKyv8BAAAA//8DACLqBhbvk+/eAAAAAElFTkSuQmCC") right repeat-y;
} 
`}),ace.define("ace/theme/tomorrow",["require","exports","module","ace/theme/tomorrow-css","ace/lib/dom"],function(f,D,z){D.isDark=!1,D.cssClass="ace-tomorrow",D.cssText=f("./tomorrow-css");var M=f("../lib/dom");M.importCssString(D.cssText,D.cssClass,!1)}),function(){ace.require(["ace/theme/tomorrow"],function(f){te&&(te.exports=f)})}()}(an)),an.exports}zi();var ln={exports:{}},Pn;function Wi(){return Pn||(Pn=1,function(te,Q){ace.define("ace/snippets",["require","exports","module","ace/lib/dom","ace/lib/oop","ace/lib/event_emitter","ace/lib/lang","ace/range","ace/range_list","ace/keyboard/hash_handler","ace/tokenizer","ace/clipboard","ace/editor"],function(f,D,z){var M=f("./lib/dom"),A=f("./lib/oop"),y=f("./lib/event_emitter").EventEmitter,s=f("./lib/lang"),h=f("./range").Range,o=f("./range_list").RangeList,r=f("./keyboard/hash_handler").HashHandler,i=f("./tokenizer").Tokenizer,t=f("./clipboard"),e={CURRENT_WORD:function(u){return u.session.getTextRange(u.session.getWordRange())},SELECTION:function(u,m,E){var S=u.session.getTextRange();return E?S.replace(/\n\r?([ \t]*\S)/g,`
`+E+"$1"):S},CURRENT_LINE:function(u){return u.session.getLine(u.getCursorPosition().row)},PREV_LINE:function(u){return u.session.getLine(u.getCursorPosition().row-1)},LINE_INDEX:function(u){return u.getCursorPosition().row},LINE_NUMBER:function(u){return u.getCursorPosition().row+1},SOFT_TABS:function(u){return u.session.getUseSoftTabs()?"YES":"NO"},TAB_SIZE:function(u){return u.session.getTabSize()},CLIPBOARD:function(u){return t.getText&&t.getText()},FILENAME:function(u){return/[^/\\]*$/.exec(this.FILEPATH(u))[0]},FILENAME_BASE:function(u){return/[^/\\]*$/.exec(this.FILEPATH(u))[0].replace(/\.[^.]*$/,"")},DIRECTORY:function(u){return this.FILEPATH(u).replace(/[^/\\]*$/,"")},FILEPATH:function(u){return"/not implemented.txt"},WORKSPACE_NAME:function(){return"Unknown"},FULLNAME:function(){return"Unknown"},BLOCK_COMMENT_START:function(u){var m=u.session.$mode||{};return m.blockComment&&m.blockComment.start||""},BLOCK_COMMENT_END:function(u){var m=u.session.$mode||{};return m.blockComment&&m.blockComment.end||""},LINE_COMMENT:function(u){var m=u.session.$mode||{};return m.lineCommentStart||""},CURRENT_YEAR:n.bind(null,{year:"numeric"}),CURRENT_YEAR_SHORT:n.bind(null,{year:"2-digit"}),CURRENT_MONTH:n.bind(null,{month:"numeric"}),CURRENT_MONTH_NAME:n.bind(null,{month:"long"}),CURRENT_MONTH_NAME_SHORT:n.bind(null,{month:"short"}),CURRENT_DATE:n.bind(null,{day:"2-digit"}),CURRENT_DAY_NAME:n.bind(null,{weekday:"long"}),CURRENT_DAY_NAME_SHORT:n.bind(null,{weekday:"short"}),CURRENT_HOUR:n.bind(null,{hour:"2-digit",hour12:!1}),CURRENT_MINUTE:n.bind(null,{minute:"2-digit"}),CURRENT_SECOND:n.bind(null,{second:"2-digit"})};e.SELECTED_TEXT=e.SELECTION;function n(u){var m=new Date().toLocaleString("en-us",u);return m.length==1?"0"+m:m}var a=function(){function u(){this.snippetMap={},this.snippetNameMap={},this.variables=e}return u.prototype.getTokenizer=function(){return u.$tokenizer||this.createTokenizer()},u.prototype.createTokenizer=function(){function m($){return $=$.substr(1),/^\d+$/.test($)?[{tabstopId:parseInt($,10)}]:[{text:$}]}function E($){return"(?:[^\\\\"+$+"]|\\\\.)"}var S={regex:"/("+E("/")+"+)/",onMatch:function($,R,g){var w=g[0];return w.fmtString=!0,w.guard=$.slice(1,-1),w.flag="",""},next:"formatString"};return u.$tokenizer=new i({start:[{regex:/\\./,onMatch:function($,R,g){var w=$[1];return(w=="}"&&g.length||"`$\\".indexOf(w)!=-1)&&($=w),[$]}},{regex:/}/,onMatch:function($,R,g){return[g.length?g.shift():$]}},{regex:/\$(?:\d+|\w+)/,onMatch:m},{regex:/\$\{[\dA-Z_a-z]+/,onMatch:function($,R,g){var w=m($.substr(1));return g.unshift(w[0]),w},next:"snippetVar"},{regex:/\n/,token:"newline",merge:!1}],snippetVar:[{regex:"\\|"+E("\\|")+"*\\|",onMatch:function($,R,g){var w=$.slice(1,-1).replace(/\\[,|\\]|,/g,function(l){return l.length==2?l[1]:"\0"}).split("\0").map(function(l){return{value:l}});return g[0].choices=w,[w[0]]},next:"start"},S,{regex:"([^:}\\\\]|\\\\.)*:?",token:"",next:"start"}],formatString:[{regex:/:/,onMatch:function($,R,g){return g.length&&g[0].expectElse?(g[0].expectElse=!1,g[0].ifEnd={elseEnd:g[0]},[g[0].ifEnd]):":"}},{regex:/\\./,onMatch:function($,R,g){var w=$[1];return w=="}"&&g.length||"`$\\".indexOf(w)!=-1?$=w:w=="n"?$=`
`:w=="t"?$="	":"ulULE".indexOf(w)!=-1&&($={changeCase:w,local:w>"a"}),[$]}},{regex:"/\\w*}",onMatch:function($,R,g){var w=g.shift();return w&&(w.flag=$.slice(1,-1)),this.next=w&&w.tabstopId?"start":"",[w||$]},next:"start"},{regex:/\$(?:\d+|\w+)/,onMatch:function($,R,g){return[{text:$.slice(1)}]}},{regex:/\${\w+/,onMatch:function($,R,g){var w={text:$.slice(2)};return g.unshift(w),[w]},next:"formatStringVar"},{regex:/\n/,token:"newline",merge:!1},{regex:/}/,onMatch:function($,R,g){var w=g.shift();return this.next=w&&w.tabstopId?"start":"",[w||$]},next:"start"}],formatStringVar:[{regex:/:\/\w+}/,onMatch:function($,R,g){var w=g[0];return w.formatFunction=$.slice(2,-1),[g.shift()]},next:"formatString"},S,{regex:/:[\?\-+]?/,onMatch:function($,R,g){$[1]=="+"&&(g[0].ifEnd=g[0]),$[1]=="?"&&(g[0].expectElse=!0)},next:"formatString"},{regex:"([^:}\\\\]|\\\\.)*:?",token:"",next:"formatString"}]}),u.$tokenizer},u.prototype.tokenizeTmSnippet=function(m,E){return this.getTokenizer().getLineTokens(m,E).tokens.map(function(S){return S.value||S})},u.prototype.getVariableValue=function(m,E,S){if(/^\d+$/.test(E))return(this.variables.__||{})[E]||"";if(/^[A-Z]\d+$/.test(E))return(this.variables[E[0]+"__"]||{})[E.substr(1)]||"";if(E=E.replace(/^TM_/,""),!this.variables.hasOwnProperty(E))return"";var $=this.variables[E];return typeof $=="function"&&($=this.variables[E](m,E,S)),$??""},u.prototype.tmStrFormat=function(m,E,S){if(!E.fmt)return m;var $=E.flag||"",R=E.guard;R=new RegExp(R,$.replace(/[^gim]/g,""));var g=typeof E.fmt=="string"?this.tokenizeTmSnippet(E.fmt,"formatString"):E.fmt,w=this,l=m.replace(R,function(){var _=w.variables.__;w.variables.__=[].slice.call(arguments);for(var L=w.resolveVariables(g,S),I="E",W=0;W<L.length;W++){var H=L[W];if(typeof H=="object")if(L[W]="",H.changeCase&&H.local){var J=L[W+1];J&&typeof J=="string"&&(H.changeCase=="u"?L[W]=J[0].toUpperCase():L[W]=J[0].toLowerCase(),L[W+1]=J.substr(1))}else H.changeCase&&(I=H.changeCase);else I=="U"?L[W]=H.toUpperCase():I=="L"&&(L[W]=H.toLowerCase())}return w.variables.__=_,L.join("")});return l},u.prototype.tmFormatFunction=function(m,E,S){return E.formatFunction=="upcase"?m.toUpperCase():E.formatFunction=="downcase"?m.toLowerCase():m},u.prototype.resolveVariables=function(m,E){for(var S=[],$="",R=!0,g=0;g<m.length;g++){var w=m[g];if(typeof w=="string"){S.push(w),w==`
`?(R=!0,$=""):R&&($=/^\t*/.exec(w)[0],R=/\S/.test(w));continue}if(w){if(R=!1,w.fmtString){var l=m.indexOf(w,g+1);l==-1&&(l=m.length),w.fmt=m.slice(g+1,l),g=l}if(w.text){var _=this.getVariableValue(E,w.text,$)+"";w.fmtString&&(_=this.tmStrFormat(_,w,E)),w.formatFunction&&(_=this.tmFormatFunction(_,w,E)),_&&!w.ifEnd?(S.push(_),L(w)):!_&&w.ifEnd&&L(w.ifEnd)}else w.elseEnd?L(w.elseEnd):(w.tabstopId!=null||w.changeCase!=null)&&S.push(w)}}function L(I){var W=m.indexOf(I,g+1);W!=-1&&(g=W)}return S},u.prototype.getDisplayTextForSnippet=function(m,E){var S=c.call(this,m,E);return S.text},u.prototype.insertSnippetForSelection=function(m,E,S){S===void 0&&(S={});var $=c.call(this,m,E,S),R=m.getSelectionRange(),g=m.session.replace(R,$.text),w=new d(m),l=m.inVirtualSelectionMode&&m.selection.index;w.addTabstops($.tabstops,R.start,g,l)},u.prototype.insertSnippet=function(m,E,S){S===void 0&&(S={});var $=this;if(m.inVirtualSelectionMode)return $.insertSnippetForSelection(m,E,S);m.forEachSelection(function(){$.insertSnippetForSelection(m,E,S)},null,{keepOrder:!0}),m.tabstopManager&&m.tabstopManager.tabNext()},u.prototype.$getScope=function(m){var E=m.session.$mode.$id||"";if(E=E.split("/").pop(),E==="html"||E==="php"){E==="php"&&!m.session.$mode.inlinePhp&&(E="html");var S=m.getCursorPosition(),$=m.session.getState(S.row);typeof $=="object"&&($=$[0]),$.substring&&($.substring(0,3)=="js-"?E="javascript":$.substring(0,4)=="css-"?E="css":$.substring(0,4)=="php-"&&(E="php"))}return E},u.prototype.getActiveScopes=function(m){var E=this.$getScope(m),S=[E],$=this.snippetMap;return $[E]&&$[E].includeScopes&&S.push.apply(S,$[E].includeScopes),S.push("_"),S},u.prototype.expandWithTab=function(m,E){var S=this,$=m.forEachSelection(function(){return S.expandSnippetForSelection(m,E)},null,{keepOrder:!0});return $&&m.tabstopManager&&m.tabstopManager.tabNext(),$},u.prototype.expandSnippetForSelection=function(m,E){var S=m.getCursorPosition(),$=m.session.getLine(S.row),R=$.substring(0,S.column),g=$.substr(S.column),w=this.snippetMap,l;return this.getActiveScopes(m).some(function(_){var L=w[_];return L&&(l=this.findMatchingSnippet(L,R,g)),!!l},this),l?(E&&E.dryRun||(m.session.doc.removeInLine(S.row,S.column-l.replaceBefore.length,S.column+l.replaceAfter.length),this.variables.M__=l.matchBefore,this.variables.T__=l.matchAfter,this.insertSnippetForSelection(m,l.content),this.variables.M__=this.variables.T__=null),!0):!1},u.prototype.findMatchingSnippet=function(m,E,S){for(var $=m.length;$--;){var R=m[$];if(!(R.startRe&&!R.startRe.test(E))&&!(R.endRe&&!R.endRe.test(S))&&!(!R.startRe&&!R.endRe))return R.matchBefore=R.startRe?R.startRe.exec(E):[""],R.matchAfter=R.endRe?R.endRe.exec(S):[""],R.replaceBefore=R.triggerRe?R.triggerRe.exec(E)[0]:"",R.replaceAfter=R.endTriggerRe?R.endTriggerRe.exec(S)[0]:"",R}},u.prototype.register=function(m,E){var S=this.snippetMap,$=this.snippetNameMap,R=this;m||(m=[]);function g(_){return _&&!/^\^?\(.*\)\$?$|^\\b$/.test(_)&&(_="(?:"+_+")"),_||""}function w(_,L,I){return _=g(_),L=g(L),_=L+_,_&&_[_.length-1]!="$"&&(_=_+"$"),new RegExp(_)}function l(_){_.scope||(_.scope=E||"_"),E=_.scope,S[E]||(S[E]=[],$[E]={});var L=$[E];if(_.name){var I=L[_.name];I&&R.unregister(I),L[_.name]=_}S[E].push(_),_.prefix&&(_.tabTrigger=_.prefix),!_.content&&_.body&&(_.content=Array.isArray(_.body)?_.body.join(`
`):_.body),_.tabTrigger&&!_.trigger&&(!_.guard&&/^\w/.test(_.tabTrigger)&&(_.guard="\\b"),_.trigger=s.escapeRegExp(_.tabTrigger)),!(!_.trigger&&!_.guard&&!_.endTrigger&&!_.endGuard)&&(_.startRe=w(_.trigger,_.guard),_.triggerRe=new RegExp(_.trigger),_.endRe=w(_.endTrigger,_.endGuard),_.endTriggerRe=new RegExp(_.endTrigger))}Array.isArray(m)?m.forEach(l):Object.keys(m).forEach(function(_){l(m[_])}),this._signal("registerSnippets",{scope:E})},u.prototype.unregister=function(m,E){var S=this.snippetMap,$=this.snippetNameMap;function R(g){var w=$[g.scope||E];if(w&&w[g.name]){delete w[g.name];var l=S[g.scope||E],_=l&&l.indexOf(g);_>=0&&l.splice(_,1)}}m.content?R(m):Array.isArray(m)&&m.forEach(R)},u.prototype.parseSnippetFile=function(m){m=m.replace(/\r/g,"");for(var E=[],S={},$=/^#.*|^({[\s\S]*})\s*$|^(\S+) (.*)$|^((?:\n*\t.*)+)/gm,R;R=$.exec(m);){if(R[1])try{S=JSON.parse(R[1]),E.push(S)}catch{}if(R[4])S.content=R[4].replace(/^\t/gm,""),E.push(S),S={};else{var g=R[2],w=R[3];if(g=="regex"){var l=/\/((?:[^\/\\]|\\.)*)|$/g;S.guard=l.exec(w)[1],S.trigger=l.exec(w)[1],S.endTrigger=l.exec(w)[1],S.endGuard=l.exec(w)[1]}else g=="snippet"?(S.tabTrigger=w.match(/^\S*/)[0],S.name||(S.name=w)):g&&(S[g]=w)}}return E},u.prototype.getSnippetByName=function(m,E){var S=this.snippetNameMap,$;return this.getActiveScopes(E).some(function(R){var g=S[R];return g&&($=g[m]),!!$},this),$},u}();A.implement(a.prototype,y);var c=function(u,m,E){E===void 0&&(E={});var S=u.getCursorPosition(),$=u.session.getLine(S.row),R=u.session.getTabString(),g=$.match(/^\s*/)[0];S.column<g.length&&(g=g.slice(0,S.column)),m=m.replace(/\r/g,"");var w=this.tokenizeTmSnippet(m);w=this.resolveVariables(w,u),w=w.map(function(fe){return fe==`
`&&!E.excludeExtraIndent?fe+g:typeof fe=="string"?fe.replace(/\t/g,R):fe});var l=[];w.forEach(function(fe,Ce){if(typeof fe=="object"){var Se=fe.tabstopId,$e=l[Se];if($e||($e=l[Se]=[],$e.index=Se,$e.value="",$e.parents={}),$e.indexOf(fe)===-1){fe.choices&&!$e.choices&&($e.choices=fe.choices),$e.push(fe);var xe=w.indexOf(fe,Ce+1);if(xe!==-1){var Pe=w.slice(Ce+1,xe),ze=Pe.some(function(Je){return typeof Je=="object"});ze&&!$e.value?$e.value=Pe:Pe.length&&(!$e.value||typeof $e.value!="string")&&($e.value=Pe.join(""))}}}}),l.forEach(function(fe){fe.length=0});var _={};function L(fe){for(var Ce=[],Se=0;Se<fe.length;Se++){var $e=fe[Se];if(typeof $e=="object"){if(_[$e.tabstopId])continue;var xe=fe.lastIndexOf($e,Se-1);$e=Ce[xe]||{tabstopId:$e.tabstopId}}Ce[Se]=$e}return Ce}for(var I=0;I<w.length;I++){var W=w[I];if(typeof W=="object"){var H=W.tabstopId,J=l[H],q=w.indexOf(W,I+1);if(_[H]){_[H]===W&&(delete _[H],Object.keys(_).forEach(function(fe){J.parents[fe]=!0}));continue}_[H]=W;var Z=J.value;typeof Z!="string"?Z=L(Z):W.fmt&&(Z=this.tmStrFormat(Z,W,u)),w.splice.apply(w,[I+1,Math.max(0,q-I)].concat(Z,W)),J.indexOf(W)===-1&&J.push(W)}}var oe=0,ee=0,se="";return w.forEach(function(fe){if(typeof fe=="string"){var Ce=fe.split(`
`);Ce.length>1?(ee=Ce[Ce.length-1].length,oe+=Ce.length-1):ee+=fe.length,se+=fe}else fe&&(fe.start?fe.end={row:oe,column:ee}:fe.start={row:oe,column:ee})}),{text:se,tabstops:l,tokens:w}},d=function(){function u(m){if(this.index=0,this.ranges=[],this.tabstops=[],m.tabstopManager)return m.tabstopManager;m.tabstopManager=this,this.$onChange=this.onChange.bind(this),this.$onChangeSelection=s.delayedCall(this.onChangeSelection.bind(this)).schedule,this.$onChangeSession=this.onChangeSession.bind(this),this.$onAfterExec=this.onAfterExec.bind(this),this.attach(m)}return u.prototype.attach=function(m){this.$openTabstops=null,this.selectedTabstop=null,this.editor=m,this.session=m.session,this.editor.on("change",this.$onChange),this.editor.on("changeSelection",this.$onChangeSelection),this.editor.on("changeSession",this.$onChangeSession),this.editor.commands.on("afterExec",this.$onAfterExec),this.editor.keyBinding.addKeyboardHandler(this.keyboardHandler)},u.prototype.detach=function(){this.tabstops.forEach(this.removeTabstopMarkers,this),this.ranges.length=0,this.tabstops.length=0,this.selectedTabstop=null,this.editor.off("change",this.$onChange),this.editor.off("changeSelection",this.$onChangeSelection),this.editor.off("changeSession",this.$onChangeSession),this.editor.commands.off("afterExec",this.$onAfterExec),this.editor.keyBinding.removeKeyboardHandler(this.keyboardHandler),this.editor.tabstopManager=null,this.session=null,this.editor=null},u.prototype.onChange=function(m){for(var E=m.action[0]=="r",S=this.selectedTabstop||{},$=S.parents||{},R=this.tabstops.slice(),g=0;g<R.length;g++){var w=R[g],l=w==S||$[w.index];if(w.rangeList.$bias=l?0:1,m.action=="remove"&&w!==S){var _=w.parents&&w.parents[S.index],L=w.rangeList.pointIndex(m.start,_);L=L<0?-L-1:L+1;var I=w.rangeList.pointIndex(m.end,_);I=I<0?-I-1:I-1;for(var W=w.rangeList.ranges.slice(L,I),H=0;H<W.length;H++)this.removeRange(W[H])}w.rangeList.$onChange(m)}var J=this.session;!this.$inChange&&E&&J.getLength()==1&&!J.getValue()&&this.detach()},u.prototype.updateLinkedFields=function(){var m=this.selectedTabstop;if(!(!m||!m.hasLinkedRanges||!m.firstNonLinked)){this.$inChange=!0;for(var E=this.session,S=E.getTextRange(m.firstNonLinked),$=0;$<m.length;$++){var R=m[$];if(R.linked){var g=R.original,w=D.snippetManager.tmStrFormat(S,g,this.editor);E.replace(R,w)}}this.$inChange=!1}},u.prototype.onAfterExec=function(m){m.command&&!m.command.readOnly&&this.updateLinkedFields()},u.prototype.onChangeSelection=function(){if(this.editor){for(var m=this.editor.selection.lead,E=this.editor.selection.anchor,S=this.editor.selection.isEmpty(),$=0;$<this.ranges.length;$++)if(!this.ranges[$].linked){var R=this.ranges[$].contains(m.row,m.column),g=S||this.ranges[$].contains(E.row,E.column);if(R&&g)return}this.detach()}},u.prototype.onChangeSession=function(){this.detach()},u.prototype.tabNext=function(m){var E=this.tabstops.length,S=this.index+(m||1);S=Math.min(Math.max(S,1),E),S==E&&(S=0),this.selectTabstop(S),this.updateTabstopMarkers(),S===0&&this.detach()},u.prototype.selectTabstop=function(m){this.$openTabstops=null;var E=this.tabstops[this.index];if(E&&this.addTabstopMarkers(E),this.index=m,E=this.tabstops[this.index],!(!E||!E.length)){this.selectedTabstop=E;var S=E.firstNonLinked||E;if(E.choices&&(S.cursor=S.start),this.editor.inVirtualSelectionMode)this.editor.selection.fromOrientedRange(S);else{var $=this.editor.multiSelect;$.toSingleRange(S);for(var R=0;R<E.length;R++)E.hasLinkedRanges&&E[R].linked||$.addRange(E[R].clone(),!0)}this.editor.keyBinding.addKeyboardHandler(this.keyboardHandler),this.selectedTabstop&&this.selectedTabstop.choices&&this.editor.execCommand("startAutocomplete",{matches:this.selectedTabstop.choices})}},u.prototype.addTabstops=function(m,E,S){var $=this.useLink||!this.editor.getOption("enableMultiselect");if(this.$openTabstops||(this.$openTabstops=[]),!m[0]){var R=h.fromPoints(S,S);v(R.start,E),v(R.end,E),m[0]=[R],m[0].index=0}var g=this.index,w=[g+1,0],l=this.ranges,_=this.snippetId=(this.snippetId||0)+1;m.forEach(function(L,I){var W=this.$openTabstops[I]||L;W.snippetId=_;for(var H=0;H<L.length;H++){var J=L[H],q=h.fromPoints(J.start,J.end||J.start);k(q.start,E),k(q.end,E),q.original=J,q.tabstop=W,l.push(q),W!=L?W.unshift(q):W[H]=q,J.fmtString||W.firstNonLinked&&$?(q.linked=!0,W.hasLinkedRanges=!0):W.firstNonLinked||(W.firstNonLinked=q)}W.firstNonLinked||(W.hasLinkedRanges=!1),W===L&&(w.push(W),this.$openTabstops[I]=W),this.addTabstopMarkers(W),W.rangeList=W.rangeList||new o,W.rangeList.$bias=0,W.rangeList.addList(W)},this),w.length>2&&(this.tabstops.length&&w.push(w.splice(2,1)[0]),this.tabstops.splice.apply(this.tabstops,w))},u.prototype.addTabstopMarkers=function(m){var E=this.session;m.forEach(function(S){S.markerId||(S.markerId=E.addMarker(S,"ace_snippet-marker","text"))})},u.prototype.removeTabstopMarkers=function(m){var E=this.session;m.forEach(function(S){E.removeMarker(S.markerId),S.markerId=null})},u.prototype.updateTabstopMarkers=function(){if(this.selectedTabstop){var m=this.selectedTabstop.snippetId;this.selectedTabstop.index===0&&m--,this.tabstops.forEach(function(E){E.snippetId===m?this.addTabstopMarkers(E):this.removeTabstopMarkers(E)},this)}},u.prototype.removeRange=function(m){var E=m.tabstop.indexOf(m);E!=-1&&m.tabstop.splice(E,1),E=this.ranges.indexOf(m),E!=-1&&this.ranges.splice(E,1),E=m.tabstop.rangeList.ranges.indexOf(m),E!=-1&&m.tabstop.splice(E,1),this.session.removeMarker(m.markerId),m.tabstop.length||(E=this.tabstops.indexOf(m.tabstop),E!=-1&&this.tabstops.splice(E,1),this.tabstops.length||this.detach())},u}();d.prototype.keyboardHandler=new r,d.prototype.keyboardHandler.bindKeys({Tab:function(u){D.snippetManager&&D.snippetManager.expandWithTab(u)||(u.tabstopManager.tabNext(1),u.renderer.scrollCursorIntoView())},"Shift-Tab":function(u){u.tabstopManager.tabNext(-1),u.renderer.scrollCursorIntoView()},Esc:function(u){u.tabstopManager.detach()}});var k=function(u,m){u.row==0&&(u.column+=m.column),u.row+=m.row},v=function(u,m){u.row==m.row&&(u.column-=m.column),u.row-=m.row};M.importCssString(`
.ace_snippet-marker {
    -moz-box-sizing: border-box;
    box-sizing: border-box;
    background: rgba(194, 193, 208, 0.09);
    border: 1px dotted rgba(211, 208, 235, 0.62);
    position: absolute;
}`,"snippets.css",!1),D.snippetManager=new a;var p=f("./editor").Editor;(function(){this.insertSnippet=function(u,m){return D.snippetManager.insertSnippet(this,u,m)},this.expandSnippet=function(u){return D.snippetManager.expandWithTab(this,u)}}).call(p.prototype)}),ace.define("ace/autocomplete/popup",["require","exports","module","ace/virtual_renderer","ace/editor","ace/range","ace/lib/event","ace/lib/lang","ace/lib/dom","ace/config","ace/lib/useragent"],function(f,D,z){var M=f("../virtual_renderer").VirtualRenderer,A=f("../editor").Editor,y=f("../range").Range,s=f("../lib/event"),h=f("../lib/lang"),o=f("../lib/dom"),r=f("../config").nls,i=f("./../lib/useragent"),t=function(k){return"suggest-aria-id:".concat(k)},e=i.isSafari?"menu":"listbox",n=i.isSafari?"menuitem":"option",a=i.isSafari?"aria-current":"aria-selected",c=function(k){var v=new M(k);v.$maxLines=4;var p=new A(v);return p.setHighlightActiveLine(!1),p.setShowPrintMargin(!1),p.renderer.setShowGutter(!1),p.renderer.setHighlightGutterLine(!1),p.$mouseHandler.$focusTimeout=0,p.$highlightTagPending=!0,p},d=function(){function k(v){var p=o.createElement("div"),u=c(p);v&&v.appendChild(p),p.style.display="none",u.renderer.content.style.cursor="default",u.renderer.setStyle("ace_autocomplete"),u.renderer.$textLayer.element.setAttribute("role",e),u.renderer.$textLayer.element.setAttribute("aria-roledescription",r("autocomplete.popup.aria-roledescription","Autocomplete suggestions")),u.renderer.$textLayer.element.setAttribute("aria-label",r("autocomplete.popup.aria-label","Autocomplete suggestions")),u.renderer.textarea.setAttribute("aria-hidden","true"),u.setOption("displayIndentGuides",!1),u.setOption("dragDelay",150);var m=function(){};u.focus=m,u.$isFocused=!0,u.renderer.$cursorLayer.restartTimer=m,u.renderer.$cursorLayer.element.style.opacity="0",u.renderer.$maxLines=8,u.renderer.$keepTextAreaAtCursor=!1,u.setHighlightActiveLine(!1),u.session.highlight(""),u.session.$searchHighlight.clazz="ace_highlight-marker",u.on("mousedown",function(l){var _=l.getDocumentPosition();u.selection.moveToPosition(_),$.start.row=$.end.row=_.row,l.stop()});var E,S=new y(-1,0,-1,1/0),$=new y(-1,0,-1,1/0);$.id=u.session.addMarker($,"ace_active-line","fullLine"),u.setSelectOnHover=function(l){l?S.id&&(u.session.removeMarker(S.id),S.id=null):S.id=u.session.addMarker(S,"ace_line-hover","fullLine")},u.setSelectOnHover(!1),u.on("mousemove",function(l){if(!E){E=l;return}if(!(E.x==l.x&&E.y==l.y)){E=l,E.scrollTop=u.renderer.scrollTop,u.isMouseOver=!0;var _=E.getDocumentPosition().row;S.start.row!=_&&(S.id||u.setRow(_),g(_))}}),u.renderer.on("beforeRender",function(){if(E&&S.start.row!=-1){E.$pos=null;var l=E.getDocumentPosition().row;S.id||u.setRow(l),g(l,!0)}}),u.renderer.on("afterRender",function(){var l=u.getRow(),_=u.renderer.$textLayer,L=_.element.childNodes[l-_.config.firstRow],I=document.activeElement;if(L!==u.selectedNode&&u.selectedNode&&(o.removeCssClass(u.selectedNode,"ace_selected"),I.removeAttribute("aria-activedescendant"),u.selectedNode.removeAttribute(a),u.selectedNode.removeAttribute("id")),u.selectedNode=L,L){o.addCssClass(L,"ace_selected");var W=t(l);L.id=W,_.element.setAttribute("aria-activedescendant",W),I.setAttribute("aria-activedescendant",W),L.setAttribute("role",n),L.setAttribute("aria-roledescription",r("autocomplete.popup.item.aria-roledescription","item")),L.setAttribute("aria-label",u.getData(l).caption||u.getData(l).value),L.setAttribute("aria-setsize",u.data.length),L.setAttribute("aria-posinset",l+1),L.setAttribute("aria-describedby","doc-tooltip"),L.setAttribute(a,"true")}});var R=function(){g(-1)},g=function(l,_){l!==S.start.row&&(S.start.row=S.end.row=l,_||u.session._emit("changeBackMarker"),u._emit("changeHoverMarker"))};u.getHoveredRow=function(){return S.start.row},s.addListener(u.container,"mouseout",function(){u.isMouseOver=!1,R()}),u.on("hide",R),u.on("changeSelection",R),u.session.doc.getLength=function(){return u.data.length},u.session.doc.getLine=function(l){var _=u.data[l];return typeof _=="string"?_:_&&_.value||""};var w=u.session.bgTokenizer;return w.$tokenizeRow=function(l){var _=u.data[l],L=[];if(!_)return L;typeof _=="string"&&(_={value:_});var I=_.caption||_.value||_.name;function W(fe,Ce){fe&&L.push({type:(_.className||"")+(Ce||""),value:fe})}for(var H=I.toLowerCase(),J=(u.filterText||"").toLowerCase(),q=0,Z=0,oe=0;oe<=J.length;oe++)if(oe!=Z&&(_.matchMask&1<<oe||oe==J.length)){var ee=J.slice(Z,oe);Z=oe;var se=H.indexOf(ee,q);if(se==-1)continue;W(I.slice(q,se),""),q=se+ee.length,W(I.slice(se,q),"completion-highlight")}return W(I.slice(q,I.length),""),L.push({type:"completion-spacer",value:" "}),_.meta&&L.push({type:"completion-meta",value:_.meta}),_.message&&L.push({type:"completion-message",value:_.message}),L},w.$updateOnChange=m,w.start=m,u.session.$computeWidth=function(){return this.screenWidth=0},u.isOpen=!1,u.isTopdown=!1,u.autoSelect=!0,u.filterText="",u.isMouseOver=!1,u.data=[],u.setData=function(l,_){u.filterText=_||"",u.setValue(h.stringRepeat(`
`,l.length),-1),u.data=l||[],u.setRow(0)},u.getData=function(l){return u.data[l]},u.getRow=function(){return $.start.row},u.setRow=function(l){l=Math.max(this.autoSelect?0:-1,Math.min(this.data.length-1,l)),$.start.row!=l&&(u.selection.clearSelection(),$.start.row=$.end.row=l||0,u.session._emit("changeBackMarker"),u.moveCursorTo(l||0,0),u.isOpen&&u._signal("select"))},u.on("changeSelection",function(){u.isOpen&&u.setRow(u.selection.lead.row),u.renderer.scrollCursorIntoView()}),u.hide=function(){this.container.style.display="none",u.anchorPos=null,u.anchor=null,u.isOpen&&(u.isOpen=!1,this._signal("hide"))},u.tryShow=function(l,_,L,I){if(!I&&u.isOpen&&u.anchorPos&&u.anchor&&u.anchorPos.top===l.top&&u.anchorPos.left===l.left&&u.anchor===L)return!0;var W=this.container,H=window.innerHeight,J=window.innerWidth,q=this.renderer,Z=q.$maxLines*_*1.4,oe={top:0,bottom:0},ee=H-l.top-3*this.$borderSize-_,se=l.top-3*this.$borderSize;L||(se<=ee||ee>=Z?L="bottom":L="top"),L==="top"?(oe.bottom=l.top-this.$borderSize,oe.top=oe.bottom-Z):L==="bottom"&&(oe.top=l.top+_+this.$borderSize,oe.bottom=oe.top+Z);var fe=oe.top>=0&&oe.bottom<=H;if(!I&&!fe)return!1;fe?q.$maxPixelHeight=null:L==="top"?q.$maxPixelHeight=se:q.$maxPixelHeight=ee,L==="top"?(W.style.top="",W.style.bottom=H-oe.bottom+"px",u.isTopdown=!1):(W.style.top=oe.top+"px",W.style.bottom="",u.isTopdown=!0),W.style.display="";var Ce=l.left;return Ce+W.offsetWidth>J&&(Ce=J-W.offsetWidth),W.style.left=Ce+"px",W.style.right="",u.isOpen||(u.isOpen=!0,this._signal("show"),E=null),u.anchorPos=l,u.anchor=L,!0},u.show=function(l,_,L){this.tryShow(l,_,L?"bottom":void 0,!0)},u.goTo=function(l){var _=this.getRow(),L=this.session.getLength()-1;switch(l){case"up":_=_<=0?L:_-1;break;case"down":_=_>=L?-1:_+1;break;case"start":_=0;break;case"end":_=L;break}this.setRow(_)},u.getTextLeftOffset=function(){return this.$borderSize+this.renderer.$padding+this.$imageSize},u.$imageSize=0,u.$borderSize=1,u}return k}();o.importCssString(`
.ace_editor.ace_autocomplete .ace_marker-layer .ace_active-line {
    background-color: #CAD6FA;
    z-index: 1;
}
.ace_dark.ace_editor.ace_autocomplete .ace_marker-layer .ace_active-line {
    background-color: #3a674e;
}
.ace_editor.ace_autocomplete .ace_line-hover {
    border: 1px solid #abbffe;
    margin-top: -1px;
    background: rgba(233,233,253,0.4);
    position: absolute;
    z-index: 2;
}
.ace_dark.ace_editor.ace_autocomplete .ace_line-hover {
    border: 1px solid rgba(109, 150, 13, 0.8);
    background: rgba(58, 103, 78, 0.62);
}
.ace_completion-meta {
    opacity: 0.5;
    margin-left: 0.9em;
}
.ace_completion-message {
    margin-left: 0.9em;
    color: blue;
}
.ace_editor.ace_autocomplete .ace_completion-highlight{
    color: #2d69c7;
}
.ace_dark.ace_editor.ace_autocomplete .ace_completion-highlight{
    color: #93ca12;
}
.ace_editor.ace_autocomplete {
    width: 300px;
    z-index: 200000;
    border: 1px lightgray solid;
    position: fixed;
    box-shadow: 2px 3px 5px rgba(0,0,0,.2);
    line-height: 1.4;
    background: #fefefe;
    color: #111;
}
.ace_dark.ace_editor.ace_autocomplete {
    border: 1px #484747 solid;
    box-shadow: 2px 3px 5px rgba(0, 0, 0, 0.51);
    line-height: 1.4;
    background: #25282c;
    color: #c1c1c1;
}
.ace_autocomplete .ace_text-layer  {
    width: calc(100% - 8px);
}
.ace_autocomplete .ace_line {
    display: flex;
    align-items: center;
}
.ace_autocomplete .ace_line > * {
    min-width: 0;
    flex: 0 0 auto;
}
.ace_autocomplete .ace_line .ace_ {
    flex: 0 1 auto;
    overflow: hidden;
    text-overflow: ellipsis;
}
.ace_autocomplete .ace_completion-spacer {
    flex: 1;
}
.ace_autocomplete.ace_loading:after  {
    content: "";
    position: absolute;
    top: 0px;
    height: 2px;
    width: 8%;
    background: blue;
    z-index: 100;
    animation: ace_progress 3s infinite linear;
    animation-delay: 300ms;
    transform: translateX(-100%) scaleX(1);
}
@keyframes ace_progress {
    0% { transform: translateX(-100%) scaleX(1) }
    50% { transform: translateX(625%) scaleX(2) } 
    100% { transform: translateX(1500%) scaleX(3) } 
}
@media (prefers-reduced-motion) {
    .ace_autocomplete.ace_loading:after {
        transform: translateX(625%) scaleX(2);
        animation: none;
     }
}
`,"autocompletion.css",!1),D.AcePopup=d,D.$singleLineEditor=c,D.getAriaId=t}),ace.define("ace/autocomplete/inline_screenreader",["require","exports","module"],function(f,D,z){var M=function(){function A(y){this.editor=y,this.screenReaderDiv=document.createElement("div"),this.screenReaderDiv.classList.add("ace_screenreader-only"),this.editor.container.appendChild(this.screenReaderDiv)}return A.prototype.setScreenReaderContent=function(y){for(!this.popup&&this.editor.completer&&this.editor.completer.popup&&(this.popup=this.editor.completer.popup,this.popup.renderer.on("afterRender",(function(){var h=this.popup.getRow(),o=this.popup.renderer.$textLayer,r=o.element.childNodes[h-o.config.firstRow];if(r){for(var i="doc-tooltip ",t=0;t<this._lines.length;t++)i+="ace-inline-screenreader-line-".concat(t," ");r.setAttribute("aria-describedby",i)}}).bind(this)));this.screenReaderDiv.firstChild;)this.screenReaderDiv.removeChild(this.screenReaderDiv.firstChild);this._lines=y.split(/\r\n|\r|\n/);var s=this.createCodeBlock();this.screenReaderDiv.appendChild(s)},A.prototype.destroy=function(){this.screenReaderDiv.remove()},A.prototype.createCodeBlock=function(){var y=document.createElement("pre");y.setAttribute("id","ace-inline-screenreader");for(var s=0;s<this._lines.length;s++){var h=document.createElement("code");h.setAttribute("id","ace-inline-screenreader-line-".concat(s));var o=document.createTextNode(this._lines[s]);h.appendChild(o),y.appendChild(h)}return y},A}();D.AceInlineScreenReader=M}),ace.define("ace/autocomplete/inline",["require","exports","module","ace/snippets","ace/autocomplete/inline_screenreader"],function(f,D,z){var M=f("../snippets").snippetManager,A=f("./inline_screenreader").AceInlineScreenReader,y=function(){function s(){this.editor=null}return s.prototype.show=function(h,o,r){if(r=r||"",h&&this.editor&&this.editor!==h&&(this.hide(),this.editor=null,this.inlineScreenReader=null),!h||!o)return!1;this.inlineScreenReader||(this.inlineScreenReader=new A(h));var i=o.snippet?M.getDisplayTextForSnippet(h,o.snippet):o.value;return o.hideInlinePreview||!i||!i.startsWith(r)?!1:(this.editor=h,this.inlineScreenReader.setScreenReaderContent(i),i=i.slice(r.length),i===""?h.removeGhostText():h.setGhostText(i),!0)},s.prototype.isOpen=function(){return this.editor?!!this.editor.renderer.$ghostText:!1},s.prototype.hide=function(){return this.editor?(this.editor.removeGhostText(),!0):!1},s.prototype.destroy=function(){this.hide(),this.editor=null,this.inlineScreenReader&&(this.inlineScreenReader.destroy(),this.inlineScreenReader=null)},s}();D.AceInline=y}),ace.define("ace/autocomplete/util",["require","exports","module"],function(f,D,z){D.parForEach=function(A,y,s){var h=0,o=A.length;o===0&&s();for(var r=0;r<o;r++)y(A[r],function(i,t){h++,h===o&&s(i,t)})};var M=/[a-zA-Z_0-9\$\-\u00A2-\u2000\u2070-\uFFFF]/;D.retrievePrecedingIdentifier=function(A,y,s){s=s||M;for(var h=[],o=y-1;o>=0&&s.test(A[o]);o--)h.push(A[o]);return h.reverse().join("")},D.retrieveFollowingIdentifier=function(A,y,s){s=s||M;for(var h=[],o=y;o<A.length&&s.test(A[o]);o++)h.push(A[o]);return h},D.getCompletionPrefix=function(A){var y=A.getCursorPosition(),s=A.session.getLine(y.row),h;return A.completers.forEach((function(o){o.identifierRegexps&&o.identifierRegexps.forEach((function(r){!h&&r&&(h=this.retrievePrecedingIdentifier(s,y.column,r))}).bind(this))}).bind(this)),h||this.retrievePrecedingIdentifier(s,y.column)},D.triggerAutocomplete=function(A,s){var s=s??A.session.getPrecedingCharacter();return A.completers.some(function(h){if(h.triggerCharacters&&Array.isArray(h.triggerCharacters))return h.triggerCharacters.includes(s)})}}),ace.define("ace/autocomplete",["require","exports","module","ace/keyboard/hash_handler","ace/autocomplete/popup","ace/autocomplete/inline","ace/autocomplete/popup","ace/autocomplete/util","ace/lib/lang","ace/lib/dom","ace/snippets","ace/config","ace/lib/event","ace/lib/scroll"],function(f,D,z){var M=f("./keyboard/hash_handler").HashHandler,A=f("./autocomplete/popup").AcePopup,y=f("./autocomplete/inline").AceInline,s=f("./autocomplete/popup").getAriaId,h=f("./autocomplete/util"),o=f("./lib/lang"),r=f("./lib/dom"),i=f("./snippets").snippetManager,t=f("./config"),e=f("./lib/event"),n=f("./lib/scroll").preventParentScroll,a=function(v,p){p.completer&&p.completer.destroy()},c=function(){function v(){this.autoInsert=!1,this.autoSelect=!0,this.autoShown=!1,this.exactMatch=!1,this.inlineEnabled=!1,this.keyboardHandler=new M,this.keyboardHandler.bindKeys(this.commands),this.parentNode=null,this.setSelectOnHover=!1,this.hasSeen=new Set,this.showLoadingState=!1,this.stickySelectionDelay=500,this.blurListener=this.blurListener.bind(this),this.changeListener=this.changeListener.bind(this),this.mousedownListener=this.mousedownListener.bind(this),this.mousewheelListener=this.mousewheelListener.bind(this),this.onLayoutChange=this.onLayoutChange.bind(this),this.changeTimer=o.delayedCall((function(){this.updateCompletions(!0)}).bind(this)),this.tooltipTimer=o.delayedCall(this.updateDocTooltip.bind(this),50),this.popupTimer=o.delayedCall(this.$updatePopupPosition.bind(this),50),this.stickySelectionTimer=o.delayedCall((function(){this.stickySelection=!0}).bind(this),this.stickySelectionDelay),this.$firstOpenTimer=o.delayedCall((function(){var p=this.completionProvider&&this.completionProvider.initialPosition;this.autoShown||this.popup&&this.popup.isOpen||!p||this.editor.completers.length===0||(this.completions=new k(v.completionsForLoading),this.openPopup(this.editor,p.prefix,!1),this.popup.renderer.setStyle("ace_loading",!0))}).bind(this),this.stickySelectionDelay)}return Object.defineProperty(v,"completionsForLoading",{get:function(){return[{caption:t.nls("autocomplete.loading","Loading..."),value:""}]},enumerable:!1,configurable:!0}),v.prototype.$init=function(){return this.popup=new A(this.parentNode||document.body||document.documentElement),this.popup.on("click",(function(p){this.insertMatch(),p.stop()}).bind(this)),this.popup.focus=this.editor.focus.bind(this.editor),this.popup.on("show",this.$onPopupShow.bind(this)),this.popup.on("hide",this.$onHidePopup.bind(this)),this.popup.on("select",this.$onPopupChange.bind(this)),e.addListener(this.popup.container,"mouseout",this.mouseOutListener.bind(this)),this.popup.on("changeHoverMarker",this.tooltipTimer.bind(null,null)),this.popup.renderer.on("afterRender",this.$onPopupRender.bind(this)),this.popup},v.prototype.$initInline=function(){if(!(!this.inlineEnabled||this.inlineRenderer))return this.inlineRenderer=new y,this.inlineRenderer},v.prototype.getPopup=function(){return this.popup||this.$init()},v.prototype.$onHidePopup=function(){this.inlineRenderer&&this.inlineRenderer.hide(),this.hideDocTooltip(),this.stickySelectionTimer.cancel(),this.popupTimer.cancel(),this.stickySelection=!1},v.prototype.$seen=function(p){!this.hasSeen.has(p)&&p&&p.completer&&p.completer.onSeen&&typeof p.completer.onSeen=="function"&&(p.completer.onSeen(this.editor,p),this.hasSeen.add(p))},v.prototype.$onPopupChange=function(p){if(this.inlineRenderer&&this.inlineEnabled){var u=p?null:this.popup.getData(this.popup.getRow());if(this.$updateGhostText(u),this.popup.isMouseOver&&this.setSelectOnHover){this.tooltipTimer.call(null,null);return}this.popupTimer.schedule(),this.tooltipTimer.schedule()}else this.popupTimer.call(null,null),this.tooltipTimer.call(null,null)},v.prototype.$updateGhostText=function(p){var u=this.base.row,m=this.base.column,E=this.editor.getCursorPosition().column,S=this.editor.session.getLine(u).slice(m,E);this.inlineRenderer.show(this.editor,p,S)?this.$seen(p):this.inlineRenderer.hide()},v.prototype.$onPopupRender=function(){var p=this.inlineRenderer&&this.inlineEnabled;if(this.completions&&this.completions.filtered&&this.completions.filtered.length>0)for(var u=this.popup.getFirstVisibleRow();u<=this.popup.getLastVisibleRow();u++){var m=this.popup.getData(u);m&&(!p||m.hideInlinePreview)&&this.$seen(m)}},v.prototype.$onPopupShow=function(p){this.$onPopupChange(p),this.stickySelection=!1,this.stickySelectionDelay>=0&&this.stickySelectionTimer.schedule(this.stickySelectionDelay)},v.prototype.observeLayoutChanges=function(){if(!(this.$elements||!this.editor)){window.addEventListener("resize",this.onLayoutChange,{passive:!0}),window.addEventListener("wheel",this.mousewheelListener);for(var p=this.editor.container.parentNode,u=[];p;)u.push(p),p.addEventListener("scroll",this.onLayoutChange,{passive:!0}),p=p.parentNode;this.$elements=u}},v.prototype.unObserveLayoutChanges=function(){var p=this;window.removeEventListener("resize",this.onLayoutChange,{passive:!0}),window.removeEventListener("wheel",this.mousewheelListener),this.$elements&&this.$elements.forEach(function(u){u.removeEventListener("scroll",p.onLayoutChange,{passive:!0})}),this.$elements=null},v.prototype.onLayoutChange=function(){if(!this.popup.isOpen)return this.unObserveLayoutChanges();this.$updatePopupPosition(),this.updateDocTooltip()},v.prototype.$updatePopupPosition=function(){var p=this.editor,u=p.renderer,m=u.layerConfig.lineHeight,E=u.$cursorLayer.getPixelPosition(this.base,!0);E.left-=this.popup.getTextLeftOffset();var S=p.container.getBoundingClientRect();E.top+=S.top-u.layerConfig.offset,E.left+=S.left-p.renderer.scrollLeft,E.left+=u.gutterWidth;var $={top:E.top,left:E.left};u.$ghostText&&u.$ghostTextWidget&&this.base.row===u.$ghostText.position.row&&($.top+=u.$ghostTextWidget.el.offsetHeight);var R=p.container.getBoundingClientRect().bottom-m,g=R<$.top?{top:R,left:$.left}:$;this.popup.tryShow(g,m,"bottom")||this.popup.tryShow(E,m,"top")||this.popup.show(E,m)},v.prototype.openPopup=function(p,u,m){this.$firstOpenTimer.cancel(),this.popup||this.$init(),this.inlineEnabled&&!this.inlineRenderer&&this.$initInline(),this.popup.autoSelect=this.autoSelect,this.popup.setSelectOnHover(this.setSelectOnHover);var E=this.popup.getRow(),S=this.popup.data[E];this.popup.setData(this.completions.filtered,this.completions.filterText),this.editor.textInput.setAriaOptions&&this.editor.textInput.setAriaOptions({activeDescendant:s(this.popup.getRow()),inline:this.inlineEnabled}),p.keyBinding.addKeyboardHandler(this.keyboardHandler);var $;this.stickySelection&&($=this.popup.data.indexOf(S)),(!$||$===-1)&&($=0),this.popup.setRow(this.autoSelect?$:-1),$===E&&S!==this.completions.filtered[$]&&this.$onPopupChange();var R=this.inlineRenderer&&this.inlineEnabled;if($===E&&R){var g=this.popup.getData(this.popup.getRow());this.$updateGhostText(g)}m||(this.popup.setTheme(p.getTheme()),this.popup.setFontSize(p.getFontSize()),this.$updatePopupPosition(),this.tooltipNode&&this.updateDocTooltip()),this.changeTimer.cancel(),this.observeLayoutChanges()},v.prototype.detach=function(){this.editor&&(this.editor.keyBinding.removeKeyboardHandler(this.keyboardHandler),this.editor.off("changeSelection",this.changeListener),this.editor.off("blur",this.blurListener),this.editor.off("mousedown",this.mousedownListener),this.editor.off("mousewheel",this.mousewheelListener)),this.$firstOpenTimer.cancel(),this.changeTimer.cancel(),this.hideDocTooltip(),this.completionProvider&&this.completionProvider.detach(),this.popup&&this.popup.isOpen&&this.popup.hide(),this.popup&&this.popup.renderer&&this.popup.renderer.off("afterRender",this.$onPopupRender),this.base&&this.base.detach(),this.activated=!1,this.completionProvider=this.completions=this.base=null,this.unObserveLayoutChanges()},v.prototype.changeListener=function(p){var u=this.editor.selection.lead;(u.row!=this.base.row||u.column<this.base.column)&&this.detach(),this.activated?this.changeTimer.schedule():this.detach()},v.prototype.blurListener=function(p){var u=document.activeElement,m=this.editor.textInput.getElement(),E=p.relatedTarget&&this.tooltipNode&&this.tooltipNode.contains(p.relatedTarget),S=this.popup&&this.popup.container;u!=m&&u.parentNode!=S&&!E&&u!=this.tooltipNode&&p.relatedTarget!=m&&this.detach()},v.prototype.mousedownListener=function(p){this.detach()},v.prototype.mousewheelListener=function(p){this.popup&&!this.popup.isMouseOver&&this.detach()},v.prototype.mouseOutListener=function(p){this.popup.isOpen&&this.$updatePopupPosition()},v.prototype.goTo=function(p){this.popup.goTo(p)},v.prototype.insertMatch=function(p,u){if(p||(p=this.popup.getData(this.popup.getRow())),!p)return!1;if(p.value==="")return this.detach();var m=this.completions,E=this.getCompletionProvider().insertMatch(this.editor,p,m.filterText,u);return this.completions==m&&this.detach(),E},v.prototype.showPopup=function(p,u){this.editor&&this.detach(),this.activated=!0,this.editor=p,p.completer!=this&&(p.completer&&p.completer.detach(),p.completer=this),p.on("changeSelection",this.changeListener),p.on("blur",this.blurListener),p.on("mousedown",this.mousedownListener),p.on("mousewheel",this.mousewheelListener),this.updateCompletions(!1,u)},v.prototype.getCompletionProvider=function(p){return this.completionProvider||(this.completionProvider=new d(p)),this.completionProvider},v.prototype.gatherCompletions=function(p,u){return this.getCompletionProvider().gatherCompletions(p,u)},v.prototype.updateCompletions=function(p,u){if(p&&this.base&&this.completions){var E=this.editor.getCursorPosition(),S=this.editor.session.getTextRange({start:this.base,end:E});if(S==this.completions.filterText)return;if(this.completions.setFilter(S),!this.completions.filtered.length)return this.detach();if(this.completions.filtered.length==1&&this.completions.filtered[0].value==S&&!this.completions.filtered[0].snippet)return this.detach();this.openPopup(this.editor,S,p);return}if(u&&u.matches){var E=this.editor.getSelectionRange().start;return this.base=this.editor.session.doc.createAnchor(E.row,E.column),this.base.$insertRight=!0,this.completions=new k(u.matches),this.getCompletionProvider().completions=this.completions,this.openPopup(this.editor,"",p)}var m=this.editor.getSession(),E=this.editor.getCursorPosition(),S=h.getCompletionPrefix(this.editor);this.base=m.doc.createAnchor(E.row,E.column-S.length),this.base.$insertRight=!0;var $={exactMatch:this.exactMatch,ignoreCaption:this.ignoreCaption};this.getCompletionProvider({prefix:S,pos:E}).provideCompletions(this.editor,$,(function(R,g,w){var l=g.filtered,_=h.getCompletionPrefix(this.editor);if(this.$firstOpenTimer.cancel(),w){if(!l.length){var L=!this.autoShown&&this.emptyMessage;if(typeof L=="function"&&(L=this.emptyMessage(_)),L){var I=[{caption:L,value:""}];this.completions=new k(I),this.openPopup(this.editor,_,p),this.popup.renderer.setStyle("ace_loading",!1),this.popup.renderer.setStyle("ace_empty-message",!0);return}return this.detach()}if(l.length==1&&l[0].value==_&&!l[0].snippet)return this.detach();if(this.autoInsert&&!this.autoShown&&l.length==1)return this.insertMatch(l[0])}this.completions=!w&&this.showLoadingState?new k(v.completionsForLoading.concat(l),g.filterText):g,this.openPopup(this.editor,_,p),this.popup.renderer.setStyle("ace_empty-message",!1),this.popup.renderer.setStyle("ace_loading",!w)}).bind(this)),this.showLoadingState&&!this.autoShown&&!(this.popup&&this.popup.isOpen)&&this.$firstOpenTimer.delay(this.stickySelectionDelay/2)},v.prototype.cancelContextMenu=function(){this.editor.$mouseHandler.cancelContextMenu()},v.prototype.updateDocTooltip=function(){var p=this.popup,u=this.completions.filtered,m=u&&(u[p.getHoveredRow()]||u[p.getRow()]),E=null;if(!m||!this.editor||!this.popup.isOpen)return this.hideDocTooltip();for(var S=this.editor.completers.length,$=0;$<S;$++){var R=this.editor.completers[$];if(R.getDocTooltip&&m.completerId===R.id){E=R.getDocTooltip(m);break}}if(!E&&typeof m!="string"&&(E=m),typeof E=="string"&&(E={docText:E}),!E||!(E.docHTML||E.docText))return this.hideDocTooltip();this.showDocTooltip(E)},v.prototype.showDocTooltip=function(p){this.tooltipNode||(this.tooltipNode=r.createElement("div"),this.tooltipNode.style.margin="0",this.tooltipNode.style.pointerEvents="auto",this.tooltipNode.style.overscrollBehavior="contain",this.tooltipNode.tabIndex=-1,this.tooltipNode.onblur=this.blurListener.bind(this),this.tooltipNode.onclick=this.onTooltipClick.bind(this),this.tooltipNode.id="doc-tooltip",this.tooltipNode.setAttribute("role","tooltip"),this.tooltipNode.addEventListener("wheel",n));var u=this.editor.renderer.theme;this.tooltipNode.className="ace_tooltip ace_doc-tooltip "+(u.isDark?"ace_dark ":"")+(u.cssClass||"");var m=this.tooltipNode;p.docHTML?m.innerHTML=p.docHTML:p.docText&&(m.textContent=p.docText),m.parentNode||this.popup.container.appendChild(this.tooltipNode);var E=this.popup,S=E.container.getBoundingClientRect();m.style.top=E.container.style.top,m.style.bottom=E.container.style.bottom,m.style.display="block",window.innerWidth-S.right<320?S.left<320?E.isTopdown?(m.style.top=S.bottom+"px",m.style.left=S.left+"px",m.style.right="",m.style.bottom=""):(m.style.top=E.container.offsetTop-m.offsetHeight+"px",m.style.left=S.left+"px",m.style.right="",m.style.bottom=""):(m.style.right=window.innerWidth-S.left+"px",m.style.left=""):(m.style.left=S.right+1+"px",m.style.right="")},v.prototype.hideDocTooltip=function(){if(this.tooltipTimer.cancel(),!!this.tooltipNode){var p=this.tooltipNode;!this.editor.isFocused()&&document.activeElement==p&&this.editor.focus(),this.tooltipNode=null,p.parentNode&&p.parentNode.removeChild(p)}},v.prototype.onTooltipClick=function(p){for(var u=p.target;u&&u!=this.tooltipNode;){if(u.nodeName=="A"&&u.href){u.rel="noreferrer",u.target="_blank";break}u=u.parentNode}},v.prototype.destroy=function(){if(this.detach(),this.popup){this.popup.destroy();var p=this.popup.container;p&&p.parentNode&&p.parentNode.removeChild(p)}this.editor&&this.editor.completer==this&&(this.editor.off("destroy",a),this.editor.completer=null),this.inlineRenderer=this.popup=this.editor=null},v}();c.prototype.commands={Up:function(v){v.completer.goTo("up")},Down:function(v){v.completer.goTo("down")},"Ctrl-Up|Ctrl-Home":function(v){v.completer.goTo("start")},"Ctrl-Down|Ctrl-End":function(v){v.completer.goTo("end")},Esc:function(v){v.completer.detach()},Return:function(v){return v.completer.insertMatch()},"Shift-Return":function(v){v.completer.insertMatch(null,{deleteSuffix:!0})},Tab:function(v){var p=v.completer.insertMatch();if(!p&&!v.tabstopManager)v.completer.goTo("down");else return p},Backspace:function(v){v.execCommand("backspace");var p=h.getCompletionPrefix(v);!p&&v.completer&&v.completer.detach()},PageUp:function(v){v.completer.popup.gotoPageUp()},PageDown:function(v){v.completer.popup.gotoPageDown()}},c.for=function(v){return v.completer instanceof c||(v.completer&&(v.completer.destroy(),v.completer=null),t.get("sharedPopups")?(c.$sharedInstance||(c.$sharedInstance=new c),v.completer=c.$sharedInstance):(v.completer=new c,v.once("destroy",a))),v.completer},c.startCommand={name:"startAutocomplete",exec:function(v,p){var u=c.for(v);u.autoInsert=!1,u.autoSelect=!0,u.autoShown=!1,u.showPopup(v,p),u.cancelContextMenu()},bindKey:"Ctrl-Space|Ctrl-Shift-Space|Alt-Space"};var d=function(){function v(p){this.initialPosition=p,this.active=!0}return v.prototype.insertByIndex=function(p,u,m){return!this.completions||!this.completions.filtered?!1:this.insertMatch(p,this.completions.filtered[u],m)},v.prototype.insertMatch=function(p,u,m){if(!u)return!1;if(p.startOperation({command:{name:"insertMatch"}}),u.completer&&u.completer.insertMatch)u.completer.insertMatch(p,u);else{if(!this.completions)return!1;var E=this.completions.filterText.length,S=0;if(u.range&&u.range.start.row===u.range.end.row&&(E-=this.initialPosition.prefix.length,E+=this.initialPosition.pos.column-u.range.start.column,S+=u.range.end.column-this.initialPosition.pos.column),E||S){var $;p.selection.getAllRanges?$=p.selection.getAllRanges():$=[p.getSelectionRange()];for(var R=0,g;g=$[R];R++)g.start.column-=E,g.end.column+=S,p.session.remove(g)}u.snippet?i.insertSnippet(p,u.snippet):this.$insertString(p,u),u.completer&&u.completer.onInsert&&typeof u.completer.onInsert=="function"&&u.completer.onInsert(p,u),u.command&&u.command==="startAutocomplete"&&p.execCommand(u.command)}return p.endOperation(),!0},v.prototype.$insertString=function(p,u){var m=u.value||u;p.execCommand("insertstring",m)},v.prototype.gatherCompletions=function(p,u){var m=p.getSession(),E=p.getCursorPosition(),S=h.getCompletionPrefix(p),$=[];this.completers=p.completers;var R=p.completers.length;return p.completers.forEach(function(g,w){g.getCompletions(p,m,E,S,function(l,_){g.hideInlinePreview&&(_=_.map(function(L){return Object.assign(L,{hideInlinePreview:g.hideInlinePreview})})),!l&&_&&($=$.concat(_)),u(null,{prefix:h.getCompletionPrefix(p),matches:$,finished:--R===0})})}),!0},v.prototype.provideCompletions=function(p,u,m){var E=(function(g){var w=g.prefix,l=g.matches;this.completions=new k(l),u.exactMatch&&(this.completions.exactMatch=!0),u.ignoreCaption&&(this.completions.ignoreCaption=!0),this.completions.setFilter(w),(g.finished||this.completions.filtered.length)&&m(null,this.completions,g.finished)}).bind(this),S=!0,$=null;if(this.gatherCompletions(p,(function(g,w){if(this.active){g&&(m(g,[],!0),this.detach());var l=w.prefix;if(l.indexOf(w.prefix)===0){if(S){$=w;return}E(w)}}}).bind(this)),S=!1,$){var R=$;$=null,E(R)}},v.prototype.detach=function(){this.active=!1,this.completers&&this.completers.forEach(function(p){typeof p.cancel=="function"&&p.cancel()})},v}(),k=function(){function v(p,u){this.all=p,this.filtered=p,this.filterText=u||"",this.exactMatch=!1,this.ignoreCaption=!1}return v.prototype.setFilter=function(p){if(p.length>this.filterText&&p.lastIndexOf(this.filterText,0)===0)var u=this.filtered;else var u=this.all;this.filterText=p,u=this.filterCompletions(u,this.filterText),u=u.sort(function(E,S){return S.exactMatch-E.exactMatch||S.$score-E.$score||(E.caption||E.value).localeCompare(S.caption||S.value)});var m=null;u=u.filter(function(E){var S=E.snippet||E.caption||E.value;return S===m?!1:(m=S,!0)}),this.filtered=u},v.prototype.filterCompletions=function(p,u){var m=[],E=u.toUpperCase(),S=u.toLowerCase();e:for(var $=0,R;R=p[$];$++){var g=!this.ignoreCaption&&R.caption||R.value||R.snippet;if(g){var w=-1,l=0,_=0,L,I;if(this.exactMatch){if(u!==g.substr(0,u.length))continue e}else{var W=g.toLowerCase().indexOf(S);if(W>-1)_=W;else for(var H=0;H<u.length;H++){var J=g.indexOf(S[H],w+1),q=g.indexOf(E[H],w+1);if(L=J>=0&&(q<0||J<q)?J:q,L<0)continue e;I=L-w-1,I>0&&(w===-1&&(_+=10),_+=I,l=l|1<<H),w=L}}R.matchMask=l,R.exactMatch=_?0:1,R.$score=(R.score||0)-_,m.push(R)}}return m},v}();D.Autocomplete=c,D.CompletionProvider=d,D.FilteredList=k}),ace.define("ace/autocomplete/text_completer",["require","exports","module","ace/range"],function(f,D,z){var M=f("../range").Range,A=/[^a-zA-Z_0-9\$\-\u00C0-\u1FFF\u2C00-\uD7FF\w]+/;function y(h,o){var r=h.getTextRange(M.fromPoints({row:0,column:0},o));return r.split(A).length-1}function s(h,o){var r=y(h,o),i=h.getValue().split(A),t=Object.create(null),e=i[r];return i.forEach(function(n,a){if(!(!n||n===e)){var c=Math.abs(r-a),d=i.length-c;t[n]?t[n]=Math.max(d,t[n]):t[n]=d}}),t}D.getCompletions=function(h,o,r,i,t){var e=s(o,r),n=Object.keys(e);t(null,n.map(function(a){return{caption:a,value:a,score:e[a],meta:"local"}}))}}),ace.define("ace/ext/language_tools",["require","exports","module","ace/snippets","ace/autocomplete","ace/config","ace/lib/lang","ace/autocomplete/util","ace/autocomplete/text_completer","ace/editor","ace/config"],function(f,D,z){var M=f("../snippets").snippetManager,A=f("../autocomplete").Autocomplete,y=f("../config"),s=f("../lib/lang"),h=f("../autocomplete/util"),o=f("../autocomplete/text_completer"),r={getCompletions:function(E,S,$,R,g){if(S.$mode.completer)return S.$mode.completer.getCompletions(E,S,$,R,g);var w=E.session.getState($.row),l=S.$mode.getCompletions(w,S,$,R);l=l.map(function(_){return _.completerId=r.id,_}),g(null,l)},id:"keywordCompleter"},i=function(E){var S={};return E.replace(/\${(\d+)(:(.*?))?}/g,function($,R,g,w){return S[R]=w||""}).replace(/\$(\d+?)/g,function($,R){return S[R]})},t={getCompletions:function(E,S,$,R,g){var w=[],l=S.getTokenAt($.row,$.column);l&&l.type.match(/(tag-name|tag-open|tag-whitespace|attribute-name|attribute-value)\.xml$/)?w.push("html-tag"):w=M.getActiveScopes(E);var _=M.snippetMap,L=[];w.forEach(function(I){for(var W=_[I]||[],H=W.length;H--;){var J=W[H],q=J.name||J.tabTrigger;q&&L.push({caption:q,snippet:J.content,meta:J.tabTrigger&&!J.name?J.tabTrigger+" ":"snippet",completerId:t.id})}},this),g(null,L)},getDocTooltip:function(E){E.snippet&&!E.docHTML&&(E.docHTML=["<b>",s.escapeHTML(E.caption),"</b>","<hr></hr>",s.escapeHTML(i(E.snippet))].join(""))},id:"snippetCompleter"},e=[t,o,r];D.setCompleters=function(E){e.length=0,E&&e.push.apply(e,E)},D.addCompleter=function(E){e.push(E)},D.textCompleter=o,D.keyWordCompleter=r,D.snippetCompleter=t;var n={name:"expandSnippet",exec:function(E){return M.expandWithTab(E)},bindKey:"Tab"},a=function(E,S){c(S.session.$mode)},c=function(E){typeof E=="string"&&(E=y.$modes[E]),E&&(M.files||(M.files={}),d(E.$id,E.snippetFileId),E.modes&&E.modes.forEach(c))},d=function(E,S){!S||!E||M.files[E]||(M.files[E]={},y.loadModule(S,function($){$&&(M.files[E]=$,!$.snippets&&$.snippetText&&($.snippets=M.parseSnippetFile($.snippetText)),M.register($.snippets||[],$.scope),$.includeScopes&&(M.snippetMap[$.scope].includeScopes=$.includeScopes,$.includeScopes.forEach(function(R){c("ace/mode/"+R)})))}))},k=function(E){var S=E.editor,$=S.completer&&S.completer.activated;if(E.command.name==="backspace")$&&!h.getCompletionPrefix(S)&&S.completer.detach();else if(E.command.name==="insertstring"&&!$){v=E;var R=E.editor.$liveAutocompletionDelay;R?p.delay(R):u(E)}},v,p=s.delayedCall(function(){u(v)},0),u=function(E){var S=E.editor,$=h.getCompletionPrefix(S),R=E.args,g=h.triggerAutocomplete(S,R);if($&&$.length>=S.$liveAutocompletionThreshold||g){var w=A.for(S);w.autoShown=!0,w.showPopup(S)}},m=f("../editor").Editor;f("../config").defineOptions(m.prototype,"editor",{enableBasicAutocompletion:{set:function(E){E?(this.completers||(this.completers=Array.isArray(E)?E:e),this.commands.addCommand(A.startCommand)):this.commands.removeCommand(A.startCommand)},value:!1},enableLiveAutocompletion:{set:function(E){E?(this.completers||(this.completers=Array.isArray(E)?E:e),this.commands.on("afterExec",k)):this.commands.off("afterExec",k)},value:!1},liveAutocompletionDelay:{initialValue:0},liveAutocompletionThreshold:{initialValue:0},enableSnippets:{set:function(E){E?(this.commands.addCommand(n),this.on("changeMode",a),a(null,this)):(this.commands.removeCommand(n),this.off("changeMode",a))},value:!1}})}),function(){ace.require(["ace/ext/language_tools"],function(f){te&&(te.exports=f)})}()}(ln)),ln.exports}Wi();en.config.set("basePath","assets/ace");globalThis.ace=Nr;function Pr(te){return new Promise((Q,f)=>{en.require([te],D=>{D||f(Error(`Could not load ${te}`)),Q(D)})})}const ot={rJOYP:{value:"$FF00",alias:"rP1",description:"Joypad face buttons",flags:{B_JOYP_GET_BUTTONS:{description:"0 = reading buttons [r/w]",value:"5"},B_JOYP_GET_CTRL_PAD:{description:"0 = reading Control Pad [r/w]",value:"4"},JOYP_GET:{description:"select which inputs to read from the lower nybble",value:"%00_11_0000"},JOYP_GET_BUTTONS:{description:"reading A/B/Select/Start buttons",value:"%00_01_0000"},JOYP_GET_CTRL_PAD:{description:"reading Control Pad directions",value:"%00_10_0000"},JOYP_GET_NONE:{description:"reading nothing",value:"%00_11_0000"},B_JOYP_START:{description:"0 = Start is pressed (if reading buttons) [ro]",value:"3"},B_JOYP_SELECT:{description:"0 = Select is pressed (if reading buttons) [ro]",value:"2"},B_JOYP_B:{description:"0 = B is pressed (if reading buttons) [ro]",value:"1"},B_JOYP_A:{description:"0 = A is pressed (if reading buttons) [ro]",value:"0"},B_JOYP_DOWN:{description:"0 = Down is pressed (if reading Control Pad) [ro]",value:"3"},B_JOYP_UP:{description:"0 = Up is pressed (if reading Control Pad) [ro]",value:"2"},B_JOYP_LEFT:{description:"0 = Left is pressed (if reading Control Pad) [ro]",value:"1"},B_JOYP_RIGHT:{description:"0 = Right is pressed (if reading Control Pad) [ro]",value:"0"},JOYP_INPUTS:{description:"0 bits are pressed (if reading inputs)",value:"%0000_1111"},JOYP_START:{description:"Start is pressed (if reading buttons)",value:"%00001000"},JOYP_SELECT:{description:"Select is pressed (if reading buttons)",value:"%00000100"},JOYP_B:{description:"B is pressed (if reading buttons)",value:"%00000010"},JOYP_A:{description:"A is pressed (if reading buttons)",value:"%00000001"},JOYP_DOWN:{description:"Down is pressed (if reading Control Pad)",value:"%00001000"},JOYP_UP:{description:"Up is pressed (if reading Control Pad)",value:"%00000100"},JOYP_LEFT:{description:"Left is pressed (if reading Control Pad)",value:"%00000010"},JOYP_RIGHT:{description:"Right is pressed (if reading Control Pad)",value:"%00000001"}}},rSB:{value:"$FF01",description:"Serial transfer data [r/w]"},rSC:{value:"$FF02",description:"Serial transfer control",flags:{B_SC_START:{description:"reading 1 = transfer in progress, writing 1 = start transfer [r/w]",value:"7"},B_SC_SPEED:{description:"(CGB only) 1 = use faster internal clock [r/w]",value:"1"},B_SC_SOURCE:{description:'0 = use external clock ("slave"), 1 = use internal clock ("master") [r/w]',value:"0"},SC_START:{description:"reading 1 = transfer in progress, writing 1 = start transfer [r/w]",value:"%10000000"},SC_SPEED:{description:"(CGB only) 1 = use faster internal clock [r/w]",value:"%00000010"},SC_SLOW:{description:"use slower internal clock",value:"%00000000"},SC_FAST:{description:"use faster internal clock",value:"%00000010"},SC_SOURCE:{description:'0 = use external clock ("slave"), 1 = use internal clock ("master") [r/w]',value:"%00000001"},SC_EXTERNAL:{description:'use external clock ("slave")',value:"%00000000"},SC_INTERNAL:{description:'use internal clock ("master")',value:"%00000001"}}},rDIV:{value:"$FF04",description:"Divider register [r/w]"},rTIMA:{value:"$FF05",description:"Timer counter [r/w]"},rTMA:{value:"$FF06",description:"Timer modulo [r/w]"},rTAC:{value:"$FF07",description:"Timer control",flags:{B_TAC_START:{description:"enable incrementing TIMA [r/w]",value:"2"},TAC_STOP:{description:"disable incrementing TIMA",value:"%00000000"},TAC_START:{description:"enable incrementing TIMA",value:"%00000100"},TAC_CLOCK:{description:"the frequency at which TIMA increments [r/w]",value:"%000000_11"},TAC_4KHZ:{description:"every 256 M-cycles = ~4 KHz on DMG",value:"%000000_00"},TAC_262KHZ:{description:"every 4 M-cycles = ~262 KHz on DMG",value:"%000000_01"},TAC_65KHZ:{description:"every 16 M-cycles = ~65 KHz on DMG",value:"%000000_10"},TAC_16KHZ:{description:"every 64 M-cycles = ~16 KHz on DMG",value:"%000000_11"}}},rIF:{value:"$FF0F",description:"Pending interrupts",flags:{B_IF_JOYPAD:{description:"1 = joypad interrupt is pending [r/w]",value:"4"},B_IF_SERIAL:{description:"1 = serial interrupt is pending [r/w]",value:"3"},B_IF_TIMER:{description:"1 = timer interrupt is pending [r/w]",value:"2"},B_IF_STAT:{description:"1 = STAT interrupt is pending [r/w]",value:"1"},B_IF_VBLANK:{description:"1 = VBlank interrupt is pending [r/w]",value:"0"},IF_JOYPAD:{description:"1 = joypad interrupt is pending [r/w]",value:"%00010000"},IF_SERIAL:{description:"1 = serial interrupt is pending [r/w]",value:"%00001000"},IF_TIMER:{description:"1 = timer interrupt is pending [r/w]",value:"%00000100"},IF_STAT:{description:"1 = STAT interrupt is pending [r/w]",value:"%00000010"},IF_VBLANK:{description:"1 = VBlank interrupt is pending [r/w]",value:"%00000001"}}},rAUD1SWEEP:{value:"$FF10",alias:"rNR10",description:"Audio channel 1 sweep",flags:{AUD1SWEEP_TIME:{description:"how long between sweep iterations (in 128 Hz ticks, ~7.8 ms apart) [r/w]",value:"%0_111_0000"},B_AUD1SWEEP_DIR:{description:"sweep direction [r/w]",value:"3"},AUD1SWEEP_DIR:{description:"sweep direction [r/w]",value:"%00001000"},AUD1SWEEP_UP:{description:"sweep up",value:"%00000000"},AUD1SWEEP_DOWN:{description:"sweep down",value:"%00001000"},AUD1SWEEP_SHIFT:{description:"how much the period increases/decreases per iteration [r/w]",value:"%00000_111"}}},rAUD1LEN:{value:"$FF11",alias:"rNR11",description:"Audio channel 1 length timer and duty cycle",flags:{AUD1LEN_DUTY:{description:"ratio of time spent high vs. time spent low [r/w]",value:"%11_000000"},AUD1LEN_DUTY_12_5:{description:"12.5%",value:"%00_000000"},AUD1LEN_DUTY_25:{description:"25%",value:"%01_000000"},AUD1LEN_DUTY_50:{description:"50%",value:"%10_000000"},AUD1LEN_DUTY_75:{description:"75%",value:"%11_000000"},AUD1LEN_TIMER:{description:"initial length timer (0-63) [wo]",value:"%00_111111"}}},rAUD1ENV:{value:"$FF12",alias:"rNR12",description:"Audio channel 1 volume and envelope",flags:{AUD1ENV_INIT_VOLUME:{description:"initial volume [r/w]",value:"%1111_0000"},B_AUD1ENV_DIR:{description:"direction of volume envelope [r/w]",value:"3"},AUD1ENV_DIR:{description:"direction of volume envelope [r/w]",value:"%00001000"},AUD1ENV_DOWN:{description:"volume envelope down",value:"%00000000"},AUD1ENV_UP:{description:"volume envelope up",value:"%00001000"},AUD1ENV_PACE:{description:"how long between envelope iterations (in 64 Hz ticks, ~15.6 ms apart) [r/w]",value:"%00000_111"}}},rAUD1LOW:{value:"$FF13",alias:"rNR13",description:"Audio channel 1 period (low 8 bits) [r/w]"},rAUD1HIGH:{value:"$FF14",alias:"rNR14",description:"Audio channel 1 period (high 3 bits) and control",flags:{B_AUD1HIGH_RESTART:{description:"1 = restart the channel [wo]",value:"7"},B_AUD1HIGH_LEN_ENABLE:{description:"1 = reset the channel after the length timer expires [r/w]",value:"6"},AUD1HIGH_RESTART:{description:"restart the channel",value:"%10000000"},AUD1HIGH_LENGTH_OFF:{description:"do not reset the channel after the length timer expires",value:"%00000000"},AUD1HIGH_LENGTH_ON:{description:"reset the channel after the length timer expires",value:"%01000000"},AUD1HIGH_PERIOD_HIGH:{description:"upper 3 bits of the channel's period [r/w]",value:"%00000_111"}}},rAUD2LEN:{value:"$FF16",alias:"rNR21",description:"Audio channel 2 length timer and duty cycle",flags:{AUD2LEN_DUTY:{description:"ratio of time spent high vs. time spent low [r/w]",value:"%11_000000"},AUD2LEN_DUTY_12_5:{description:"12.5%",value:"%00_000000"},AUD2LEN_DUTY_25:{description:"25%",value:"%01_000000"},AUD2LEN_DUTY_50:{description:"50%",value:"%10_000000"},AUD2LEN_DUTY_75:{description:"75%",value:"%11_000000"},AUD2LEN_TIMER:{description:"initial length timer (0-63) [wo]",value:"%00_111111"}}},rAUD2ENV:{value:"$FF17",alias:"rNR22",description:"Audio channel 2 volume and envelope",flags:{AUD2ENV_INIT_VOLUME:{description:"initial volume [r/w]",value:"%1111_0000"},B_AUD2ENV_DIR:{description:"direction of volume envelope [r/w]",value:"3"},AUD2ENV_DIR:{description:"direction of volume envelope [r/w]",value:"%00001000"},AUD2ENV_DOWN:{description:"volume envelope down",value:"%00000000"},AUD2ENV_UP:{description:"volume envelope up",value:"%00001000"},AUD2ENV_PACE:{description:"how long between envelope iterations (in 64 Hz ticks, ~15.6 ms apart) [r/w]",value:"%00000_111"}}},rAUD2LOW:{value:"$FF18",alias:"rNR23",description:"Audio channel 2 period (low 8 bits) [r/w]"},rAUD2HIGH:{value:"$FF19",alias:"rNR24",description:"Audio channel 2 period (high 3 bits) and control",flags:{B_AUD2HIGH_RESTART:{description:"1 = restart the channel [wo]",value:"7"},B_AUD2HIGH_LEN_ENABLE:{description:"1 = reset the channel after the length timer expires [r/w]",value:"6"},AUD2HIGH_RESTART:{description:"1 = restart the channel [wo]",value:"%10000000"},AUD2HIGH_LENGTH_OFF:{description:"do not reset the channel after the length timer expires",value:"%00000000"},AUD2HIGH_LENGTH_ON:{description:"reset the channel after the length timer expires",value:"%01000000"},AUD2HIGH_PERIOD_HIGH:{description:"upper 3 bits of the channel's period [r/w]",value:"%00000_111"}}},rAUD3ENA:{value:"$FF1A",alias:"rNR30",description:"Audio channel 3 enable",flags:{B_AUD3ENA_ENABLE:{description:"1 = channel is active [r/w]",value:"7"},AUD3ENA_OFF:{description:"channel is inactive",value:"%00000000"},AUD3ENA_ON:{description:"channel is active",value:"%10000000"}}},rAUD3LEN:{value:"$FF1B",alias:"rNR31",description:"Audio channel 3 length timer [wo]"},rAUD3LEVEL:{value:"$FF1C",alias:"rNR32",description:"Audio channel 3 volume",flags:{AUD3LEVEL_VOLUME:{description:"volume level [r/w]",value:"%0_11_00000"},AUD3LEVEL_MUTE:{description:"0% (muted)",value:"%0_00_00000"},AUD3LEVEL_100:{description:"100%",value:"%0_01_00000"},AUD3LEVEL_50:{description:"50%",value:"%0_10_00000"},AUD3LEVEL_25:{description:"25%",value:"%0_11_00000"}}},rAUD3LOW:{value:"$FF1D",alias:"rNR33",description:"Audio channel 3 period (low 8 bits) [r/w]"},rAUD3HIGH:{value:"$FF1E",alias:"rNR34",description:"Audio channel 3 period (high 3 bits) and control",flags:{B_AUD3HIGH_RESTART:{description:"1 = restart the channel [wo]",value:"7"},B_AUD3HIGH_LEN_ENABLE:{description:"1 = reset the channel after the length timer expires [r/w]",value:"6"},AUD3HIGH_RESTART:{description:"1 = restart the channel [wo]",value:"%10000000"},AUD3HIGH_LENGTH_OFF:{description:"do not reset the channel after the length timer expires",value:"%00000000"},AUD3HIGH_LENGTH_ON:{description:"reset the channel after the length timer expires",value:"%01000000"},AUD3HIGH_PERIOD_HIGH:{description:"upper 3 bits of the channel's period [r/w]",value:"%00000_111"}}},rAUD4LEN:{value:"$FF20",alias:"rNR41",description:"Audio channel 4 length timer",flags:{AUD4LEN_TIMER:{description:"initial length timer (0-63) [wo]",value:"%00_111111"}}},rAUD4ENV:{value:"$FF21",alias:"rNR42",description:"Audio channel 4 volume and envelope",flags:{AUD4ENV_INIT_VOLUME:{description:"initial volume [r/w]",value:"%1111_0000"},B_AUD4ENV_DIR:{description:"direction of volume envelope [r/w]",value:"3"},AUD4ENV_DIR:{description:"direction of volume envelope [r/w]",value:"%00001000"},AUD4ENV_DOWN:{description:"volume envelope down",value:"%00000000"},AUD4ENV_UP:{description:"volume envelope up",value:"%00001000"},AUD4ENV_PACE:{description:"how long between envelope iterations (in 64 Hz ticks, ~15.6 ms apart) [r/w]",value:"%00000_111"}}},rAUD4POLY:{value:"$FF22",alias:"rNR43",description:"Audio channel 4 period and randomness",flags:{AUD4POLY_SHIFT:{description:"coarse control of the channel's period [r/w]",value:"%1111_0000"},B_AUD4POLY_WIDTH:{description:"controls the noise generator (LFSR)'s step width [r/w]",value:"3"},AUD4POLY_15STEP:{description:"15-bit step width",value:"%00000000"},AUD4POLY_7STEP:{description:"7-bit step width",value:"%00001000"},AUD4POLY_DIV:{description:"fine control of the channel's period [r/w]",value:"%00000_111"}}},rAUD4GO:{value:"$FF23",alias:"rNR44",description:"Audio channel 4 control",flags:{B_AUD4GO_RESTART:{description:"1 = restart the channel [wo]",value:"7"},B_AUD4GO_LEN_ENABLE:{description:"1 = reset the channel after the length timer expires [r/w]",value:"6"},AUD4GO_RESTART:{description:"1 = restart the channel [wo]",value:"%10000000"},AUD4GO_LENGTH_OFF:{description:"do not reset the channel after the length timer expires",value:"%00000000"},AUD4GO_LENGTH_ON:{description:"reset the channel after the length timer expires",value:"%01000000"}}},rAUDVOL:{value:"$FF24",alias:"rNR50",description:"Audio master volume and VIN mixer",flags:{B_AUDVOL_VIN_LEFT:{description:"1 = output VIN to left ear (SO2, speaker 2) [r/w]",value:"7"},AUDVOL_VIN_LEFT:{description:"1 = output VIN to left ear (SO2, speaker 2) [r/w]",value:"%10000000"},AUDVOL_LEFT:{description:"0 = barely audible, 7 = full volume [r/w]",value:"%0_111_0000"},B_AUDVOL_VIN_RIGHT:{description:"1 = output VIN to right ear (SO1, speaker 1) [r/w]",value:"3"},AUDVOL_VIN_RIGHT:{description:"1 = output VIN to right ear (SO1, speaker 1) [r/w]",value:"%00001000"},AUDVOL_RIGHT:{description:"0 = barely audible, 7 = full volume [r/w]",value:"%00000_111"}}},rAUDTERM:{value:"$FF25",alias:"rNR51",description:"Audio channel mixer",flags:{B_AUDTERM_4_LEFT:{description:"1 = output channel 4 to left ear [r/w]",value:"7"},B_AUDTERM_3_LEFT:{description:"1 = output channel 3 to left ear [r/w]",value:"6"},B_AUDTERM_2_LEFT:{description:"1 = output channel 2 to left ear [r/w]",value:"5"},B_AUDTERM_1_LEFT:{description:"1 = output channel 1 to left ear [r/w]",value:"4"},B_AUDTERM_4_RIGHT:{description:"1 = output channel 4 to right ear [r/w]",value:"3"},B_AUDTERM_3_RIGHT:{description:"1 = output channel 3 to right ear [r/w]",value:"2"},B_AUDTERM_2_RIGHT:{description:"1 = output channel 2 to right ear [r/w]",value:"1"},B_AUDTERM_1_RIGHT:{description:"1 = output channel 1 to right ear [r/w]",value:"0"},AUDTERM_4_LEFT:{description:"1 = output channel 4 to left ear [r/w]",value:"%10000000"},AUDTERM_3_LEFT:{description:"1 = output channel 3 to left ear [r/w]",value:"%01000000"},AUDTERM_2_LEFT:{description:"1 = output channel 2 to left ear [r/w]",value:"%00100000"},AUDTERM_1_LEFT:{description:"1 = output channel 1 to left ear [r/w]",value:"%00010000"},AUDTERM_4_RIGHT:{description:"1 = output channel 4 to right ear [r/w]",value:"%00001000"},AUDTERM_3_RIGHT:{description:"1 = output channel 3 to right ear [r/w]",value:"%00000100"},AUDTERM_2_RIGHT:{description:"1 = output channel 2 to right ear [r/w]",value:"%00000010"},AUDTERM_1_RIGHT:{description:"1 = output channel 1 to right ear [r/w]",value:"%00000001"}}},rAUDENA:{value:"$FF26",alias:"rNR52",description:"Audio master enable",flags:{B_AUDENA_ENABLE:{description:"0 = disable the APU (resets all audio registers to 0!) [r/w]",value:"7"},B_AUDENA_ENABLE_CH4:{description:"1 = channel 4 is running [ro]",value:"3"},B_AUDENA_ENABLE_CH3:{description:"1 = channel 3 is running [ro]",value:"2"},B_AUDENA_ENABLE_CH2:{description:"1 = channel 2 is running [ro]",value:"1"},B_AUDENA_ENABLE_CH1:{description:"1 = channel 1 is running [ro]",value:"0"},AUDENA_OFF:{description:"disable the APU (resets all audio registers to 0!)",value:"%00000000"},AUDENA_ON:{description:"enable the APU",value:"%10000000"},AUDENA_CH4_OFF:{description:"channel 4 is not running",value:"%00000000"},AUDENA_CH4_ON:{description:"channel 4 is running",value:"%00001000"},AUDENA_CH3_OFF:{description:"channel 3 is not running",value:"%00000000"},AUDENA_CH3_ON:{description:"channel 3 is running",value:"%00000100"},AUDENA_CH2_OFF:{description:"channel 2 is not running",value:"%00000000"},AUDENA_CH2_ON:{description:"channel 2 is running",value:"%00000010"},AUDENA_CH1_OFF:{description:"channel 1 is not running",value:"%00000000"},AUDENA_CH1_ON:{description:"channel 1 is running",value:"%00000001"}}},_AUD3WAVERAM:{value:"$FF30",description:"Audio channel 3 wave pattern RAM [r/w]",flags:{rAUD3WAVE_0:{description:"wave pattern RAM byte 0",value:"$FF30"},rAUD3WAVE_1:{description:"wave pattern RAM byte 1",value:"$FF31"},rAUD3WAVE_2:{description:"wave pattern RAM byte 2",value:"$FF32"},rAUD3WAVE_3:{description:"wave pattern RAM byte 3",value:"$FF33"},rAUD3WAVE_4:{description:"wave pattern RAM byte 4",value:"$FF34"},rAUD3WAVE_5:{description:"wave pattern RAM byte 5",value:"$FF35"},rAUD3WAVE_6:{description:"wave pattern RAM byte 6",value:"$FF36"},rAUD3WAVE_7:{description:"wave pattern RAM byte 7",value:"$FF37"},rAUD3WAVE_8:{description:"wave pattern RAM byte 8",value:"$FF38"},rAUD3WAVE_9:{description:"wave pattern RAM byte 9",value:"$FF39"},rAUD3WAVE_A:{description:"wave pattern RAM byte 10",value:"$FF3A"},rAUD3WAVE_B:{description:"wave pattern RAM byte 11",value:"$FF3B"},rAUD3WAVE_C:{description:"wave pattern RAM byte 12",value:"$FF3C"},rAUD3WAVE_D:{description:"wave pattern RAM byte 13",value:"$FF3D"},rAUD3WAVE_E:{description:"wave pattern RAM byte 14",value:"$FF3E"},rAUD3WAVE_F:{description:"wave pattern RAM byte 15",value:"$FF3F"},AUD3WAVE_SIZE:{description:"wave pattern RAM size in bytes",value:"16"}}},rLCDC:{value:"$FF40",description:"PPU graphics control",flags:{B_LCDC_ENABLE:{description:"whether the PPU (and LCD) are turned on [r/w]",value:"7"},B_LCDC_WIN_MAP:{description:"which tilemap the Window reads from [r/w]",value:"6"},B_LCDC_WINDOW:{description:"whether the Window is enabled [r/w]",value:"5"},B_LCDC_BLOCKS:{description:'which "tile blocks" the BG and Window use [r/w]',value:"4"},B_LCDC_BG_MAP:{description:"which tilemap the BG reads from [r/w]",value:"3"},B_LCDC_OBJ_SIZE:{description:"how many pixels tall each OBJ is [r/w]",value:"2"},B_LCDC_OBJS:{description:"whether OBJs are enabled [r/w]",value:"1"},B_LCDC_BG:{description:"(DMG only) whether the BG is enabled [r/w]",value:"0"},B_LCDC_PRIO:{description:"(CGB only) whether OBJ priority bits are enabled [r/w]",value:"0"},LCDC_ENABLE:{description:"whether the PPU (and LCD) are turned on [r/w]",value:"%10000000"},LCDC_OFF:{description:"the PPU (and LCD) are turned off",value:"%00000000"},LCDC_ON:{description:"the PPU (and LCD) are turned on",value:"%10000000"},LCDC_WIN_MAP:{description:"which tilemap the Window reads from [r/w]",value:"%01000000"},LCDC_WIN_9800:{description:"the Window reads from TILEMAP0 ($9800)",value:"%00000000"},LCDC_WIN_9C00:{description:"the Window reads from TILEMAP1 ($9C00)",value:"%01000000"},LCDC_WINDOW:{description:"whether the Window is enabled [r/w]",value:"%00100000"},LCDC_WIN_OFF:{description:"the Window is disabled",value:"%00000000"},LCDC_WIN_ON:{description:"the Window is enabled",value:"%00100000"},LCDC_BLOCKS:{description:'which "tile blocks" the BG and Window use [r/w]',value:"%00010000"},LCDC_BLOCK21:{description:'the BG and Window use "tile blocks" 2 and 1',value:"%00000000"},LCDC_BLOCK01:{description:'the BG and Window use "tile blocks" 0 and 1',value:"%00010000"},LCDC_BG_MAP:{description:"which tilemap the BG reads from [r/w]",value:"%00001000"},LCDC_BG_9800:{description:"the BG reads from TILEMAP0 ($9800)",value:"%00000000"},LCDC_BG_9C00:{description:"the BG reads from TILEMAP1 ($9C00)",value:"%00001000"},LCDC_OBJ_SIZE:{description:"how many pixels tall each OBJ is [r/w]",value:"%00000100"},LCDC_OBJ_8:{description:"each OBJ is 8 pixels tall",value:"%00000000"},LCDC_OBJ_16:{description:"each OBJ is 16 pixels tall",value:"%00000100"},LCDC_OBJS:{description:"whether OBJs are enabled [r/w]",value:"%00000010"},LCDC_OBJ_OFF:{description:"OBJs are disabled",value:"%00000000"},LCDC_OBJ_ON:{description:"OBJs are enabled",value:"%00000010"},LCDC_BG:{description:"(DMG only) whether the BG is enabled [r/w]",value:"%00000001"},LCDC_BG_OFF:{description:"the BG is disabled",value:"%00000000"},LCDC_BG_ON:{description:"the BG is enabled",value:"%00000001"},LCDC_PRIO:{description:"(CGB only) whether OBJ priority bits are enabled [r/w]",value:"%00000001"},LCDC_PRIO_OFF:{description:"OBJ priority bits are disabled",value:"%00000000"},LCDC_PRIO_ON:{description:"OBJ priority bits are enabled",value:"%00000001"}}},rSTAT:{value:"$FF41",description:"Graphics status and interrupt control",flags:{B_STAT_LYC:{description:"1 = LY match triggers the STAT interrupt [r/w]",value:"6"},B_STAT_MODE_2:{description:"1 = OAM Scan triggers the PPU interrupt [r/w]",value:"5"},B_STAT_MODE_1:{description:"1 = VBlank triggers the PPU interrupt [r/w]",value:"4"},B_STAT_MODE_0:{description:"1 = HBlank triggers the PPU interrupt [r/w]",value:"3"},B_STAT_LYCF:{description:"1 = LY is currently equal to LYC [ro]",value:"2"},B_STAT_BUSY:{description:"1 = the PPU is currently accessing VRAM [ro]",value:"1"},STAT_LYC:{description:"1 = LY match triggers the STAT interrupt [r/w]",value:"%01000000"},STAT_MODE_2:{description:"1 = OAM Scan triggers the PPU interrupt [r/w]",value:"%00100000"},STAT_MODE_1:{description:"1 = VBlank triggers the PPU interrupt [r/w]",value:"%00010000"},STAT_MODE_0:{description:"1 = HBlank triggers the PPU interrupt [r/w]",value:"%00001000"},STAT_LYCF:{description:"1 = LY is currently equal to LYC [ro]",value:"%00000100"},STAT_BUSY:{description:"1 = the PPU is currently accessing VRAM [ro]",value:"%00000010"},STAT_MODE:{description:"PPU's current status [ro]",value:"%000000_11"},STAT_HBLANK:{description:"waiting after a line's rendering (HBlank)",value:"%000000_00"},STAT_VBLANK:{description:"waiting between frames (VBlank)",value:"%000000_01"},STAT_OAM:{description:"checking which OBJs will be rendered on this line (OAM scan)",value:"%000000_10"},STAT_LCD:{description:"pushing pixels to the LCD",value:"%000000_11"}}},rSCY:{value:"$FF42",description:"Background Y scroll offset (in pixels) [r/w]"},rSCX:{value:"$FF43",description:"Background X scroll offset (in pixels) [r/w]"},rLY:{value:"$FF44",description:"Y coordinate of the line currently processed by the PPU (0-153) [ro]",flags:{LY_VBLANK:{description:"144-153 is the VBlank period",value:"144"}}},rLYC:{value:"$FF45",description:"Value that LY is constantly compared to [r/w]"},rDMA:{value:"$FF46",description:"OAM DMA start address (high 8 bits) and start [wo]"},rBGP:{value:"$FF47",description:"(DMG only) Background color mapping [r/w]",flags:{BGP_SGB_TRANSFER:{description:"set BGP to this value before SGB VRAM transfer",value:"%11_10_01_00"}}},rOBP0:{value:"$FF48",description:"(DMG only) OBJ color mapping #0 [r/w]"},rOBP1:{value:"$FF49",description:"(DMG only) OBJ color mapping #1 [r/w]"},rWY:{value:"$FF4A",description:"Y coordinate of the Window's top-left pixel (0-143) [r/w]"},rWX:{value:"$FF4B",description:"X coordinate of the Window's top-left pixel, plus 7 (7-166) [r/w]",flags:{WX_OFS:{description:"subtract this to get the actual Window Y coordinate",value:"7"}}},rSYS:{value:"$FF4C",alias:"rKEY0",description:"(CGB boot ROM only) CPU mode select",flags:{SYS_MODE:{description:"current system mode [r/w]",value:"%0000_11_00"},SYS_CGB:{description:"CGB mode",value:"%0000_00_00"},SYS_DMG:{description:"DMG compatibility mode",value:"%0000_01_00"},SYS_PGB1:{description:"LCD is driven externally, CPU is stopped",value:"%0000_10_00"},SYS_PGB2:{description:"LCD is driven externally, CPU is running",value:"%0000_11_00"}}},rSPD:{value:"$FF4D",alias:"rKEY1",description:"(CGB only) Double-speed mode control",flags:{B_SPD_DOUBLE:{description:"current clock speed [ro]",value:"7"},B_SPD_PREPARE:{description:"1 = next `stop` instruction will switch clock speeds [r/w]",value:"0"},SPD_SINGLE:{description:"single-speed clock",value:"%00000000"},SPD_DOUBLE:{description:"double-speed clock",value:"%10000000"},SPD_PREPARE:{description:"1 = next `stop` instruction will switch clock speeds [r/w]",value:"%00000001"}}},rVBK:{value:"$FF4F",description:"(CGB only) VRAM bank number (0 or 1)",flags:{VBK_BANK:{description:"mapped VRAM bank [r/w]",value:"%0000000_1"}}},rBANK:{value:"$FF50",description:"(boot ROM only) Boot ROM mapping control",flags:{B_BANK_ON:{description:"whether the boot ROM is mapped [wo]",value:"0"},BANK_ON:{description:"the boot ROM is mapped",value:"%00000000"},BANK_OFF:{description:"the boot ROM is not mapped",value:"%00000001"}}},rVDMA_SRC_HIGH:{value:"$FF51",alias:"rHDMA1",description:"(CGB only) VRAM DMA source address (high 8 bits) [wo]"},rVDMA_SRC_LOW:{value:"$FF52",alias:"rHDMA2",description:"(CGB only) VRAM DMA source address (low 8 bits) [wo]"},rVDMA_DEST_HIGH:{value:"$FF53",alias:"rHDMA3",description:"(CGB only) VRAM DMA destination address (high 8 bits) [wo]"},rVDMA_DEST_LOW:{value:"$FF54",alias:"rHDMA4",description:"(CGB only) VRAM DMA destination address (low 8 bits) [wo]"},rVDMA_LEN:{value:"$FF55",alias:"rHDMA5",description:"(CGB only) VRAM DMA length, mode, and start",flags:{B_VDMA_LEN_MODE:{description:"on write: VRAM DMA mode [wo]",value:"7"},VDMA_LEN_MODE:{description:"on write: VRAM DMA mode [wo]",value:"%10000000"},VDMA_LEN_MODE_GENERAL:{description:"GDMA (general-purpose)",value:"%00000000"},VDMA_LEN_MODE_HBLANK:{description:"HDMA (HBlank)",value:"%10000000"},B_VDMA_LEN_BUSY:{description:"on read: is a VRAM DMA active?",value:"7"},VDMA_LEN_BUSY:{description:"on read: is a VRAM DMA active?",value:"%10000000"},VDMA_LEN_NO:{description:"a VRAM DMA is not active",value:"%00000000"},VDMA_LEN_YES:{description:"a VRAM DMA is active",value:"%10000000"},VDMA_LEN_SIZE:{description:"how many 16-byte blocks (minus 1) to transfer [r/w]",value:"%0_1111111"}}},rRP:{value:"$FF56",description:"(CGB only) Infrared communications port",flags:{RP_READ:{description:"whether the IR read is enabled [r/w]",value:"%11_000000"},RP_DISABLE:{description:"the IR read is disabled",value:"%00_000000"},RP_ENABLE:{description:"the IR read is enabled",value:"%11_000000"},B_RP_DATA_IN:{description:"0 = IR light is being received [ro]",value:"1"},B_RP_LED_ON:{description:"1 = IR light is being sent [r/w]",value:"0"},RP_DATA_IN:{description:"0 = IR light is being received [ro]",value:"%00000010"},RP_LED_ON:{description:"1 = IR light is being sent [r/w]",value:"%00000001"},RP_WRITE_LOW:{description:"IR light is not being sent",value:"%00000000"},RP_WRITE_HIGH:{description:"IR light is being sent",value:"%00000001"}}},rBGPI:{value:"$FF68",alias:"rBCPS",description:"(CGB only) Background palette I/O index",flags:{B_BGPI_AUTOINC:{description:"whether the index field is incremented after each write to BCPD [r/w]",value:"7"},BGPI_AUTOINC:{description:"whether the index field is incremented after each write to BCPD [r/w]",value:"%10000000"},BGPI_INDEX:{description:"the index within Palette RAM accessed via BCPD [r/w]",value:"%00_111111"}}},rBGPD:{value:"$FF69",alias:"rBCPD",description:"(CGB only) Background palette I/O access [r/w]"},rOBPI:{value:"$FF6A",alias:"rOCPS",description:"(CGB only) OBJ palette I/O index",flags:{B_OBPI_AUTOINC:{description:"whether the index field is incremented after each write to OBPD [r/w]",value:"7"},OBPI_AUTOINC:{description:"whether the index field is incremented after each write to OBPD [r/w]",value:"%10000000"},OBPI_INDEX:{description:"the index within Palette RAM accessed via OBPD [r/w]",value:"%00_111111"}}},rOBPD:{value:"$FF6B",alias:"rOCPD",description:"(CGB only) OBJ palette I/O access [r/w]"},rOPRI:{value:"$FF6C",description:"(CGB boot ROM only) OBJ draw priority mode",flags:{B_OPRI_PRIORITY:{description:"which drawing priority is used for OBJs [r/w]",value:"0"},OPRI_PRIORITY:{description:"which drawing priority is used for OBJs [r/w]",value:"%00000001"},OPRI_OAM:{description:"CGB mode default: earliest OBJ in OAM wins",value:"%00000000"},OPRI_COORD:{description:"DMG mode default: leftmost OBJ wins",value:"%00000001"}}},rWBK:{value:"$FF70",alias:"rSVBK",description:"(CGB only) WRAM bank number",flags:{WBK_BANK:{description:"mapped WRAM bank (0-7) [r/w]",value:"%00000_111"}}},rPCM12:{value:"$FF76",description:"Audio channels 1 and 2 output",flags:{PCM12_CH2:{description:"audio channel 2 output [ro]",value:"%1111_0000"},PCM12_CH1:{description:"audio channel 1 output [ro]",value:"%0000_1111"}}},rPCM34:{value:"$FF77",description:"Audio channels 3 and 4 output",flags:{PCM34_CH4:{description:"audio channel 4 output [ro]",value:"%1111_0000"},PCM34_CH3:{description:"audio channel 3 output [ro]",value:"%0000_1111"}}},rIE:{value:"$FFFF",description:"Interrupt enable",flags:{B_IE_JOYPAD:{description:"1 = joypad interrupt is enabled [r/w]",value:"4"},B_IE_SERIAL:{description:"1 = serial interrupt is enabled [r/w]",value:"3"},B_IE_TIMER:{description:"1 = timer interrupt is enabled [r/w]",value:"2"},B_IE_STAT:{description:"1 = STAT interrupt is enabled [r/w]",value:"1"},B_IE_VBLANK:{description:"1 = VBlank interrupt is enabled [r/w]",value:"0"},IE_JOYPAD:{description:"1 = joypad interrupt is enabled [r/w]",value:"%00010000"},IE_SERIAL:{description:"1 = serial interrupt is enabled [r/w]",value:"%00001000"},IE_TIMER:{description:"1 = timer interrupt is enabled [r/w]",value:"%00000100"},IE_STAT:{description:"1 = STAT interrupt is enabled [r/w]",value:"%00000010"},IE_VBLANK:{description:"1 = VBlank interrupt is enabled [r/w]",value:"%00000001"}}},rRAMG:{value:"$0000",description:"Whether SRAM can be accessed [wo]",flags:{RAMG_SRAM_DISABLE:{description:"SRAM cannot be accessed (not for HuC1 or HuC-3)",value:"$00"},RAMG_SRAM_ENABLE:{description:"SRAM can be accessed (not for HuC1 or HuC-3)",value:"$0A"},RAMG_CART_RAM_RO:{description:"(HuC-3 only) select cartridge RAM [ro]",value:"$00"},RAMG_CART_RAM:{description:"(HuC-3 only) select cartridge RAM [r/w]",value:"$0A"},RAMG_RTC_IN:{description:"(HuC-3 only) select RTC command/argument [wo]",value:"$0B"},RAMG_RTC_IN_CMD:{description:"(HuC-3 only) RTC command",value:"%0_111_0000"},RAMG_RTC_IN_ARG:{description:"(HuC-3 only) RTC argument",value:"%0_000_1111"},RAMG_RTC_OUT:{description:"(HuC-3 only) select RTC command/response [ro]",value:"$0C"},RAMG_RTC_OUT_CMD:{description:"(HuC-3 only) RTC command",value:"%0_111_0000"},RAMG_RTC_OUT_RESULT:{description:"(HuC-3 only) RTC result",value:"%0_000_1111"},RAMG_RTC_SEMAPHORE:{description:"(HuC-3 only) select RTC semaphore [r/w]",value:"$0D"},RAMG_IR:{description:"(HuC1 and HuC-3 only) select IR [r/w]",value:"$0E"}}},rROMB:{value:"$2000",description:"ROM bank number (not for MBC5 or MBC6) [wo]"},rRAMB:{value:"$4000",description:"SRAM bank number (not for MBC2, MBC6, or MBC7) [wo]",flags:{RAMB_RTC_S:{description:"(MBC3 only) seconds counter (0-59)",value:"$08"},RAMB_RTC_M:{description:"(MBC3 only) minutes counter (0-59)",value:"$09"},RAMB_RTC_H:{description:"(MBC3 only) hours counter (0-23)",value:"$0A"},RAMB_RTC_DL:{description:"(MBC3 only) days counter, low byte (0-255)",value:"$0B"},RAMB_RTC_DH:{description:"(MBC3 only) days counter, high bit and other flags",value:"$0C"},B_RAMB_RTC_DH_CARRY:{description:"(MBC3 only) 1 = days counter overflowed [wo]",value:"7"},B_RAMB_RTC_DH_HALT:{description:"(MBC3 only) 0 = run timer, 1 = stop timer [wo]",value:"6"},B_RAMB_RTC_DH_HIGH:{description:"(MBC3 only) days counter, high bit (bit 8) [wo]",value:"0"},RAMB_RTC_DH_CARRY:{description:"(MBC3 only) 1 = days counter overflowed [wo]",value:"%10000000"},RAMB_RTC_DH_HALT:{description:"(MBC3 only) 0 = run timer, 1 = stop timer [wo]",value:"%01000000"},RAMB_RTC_DH_HIGH:{description:"(MBC3 only) days counter, high bit (bit 8) [wo]",value:"%00000001"},B_RAMB_RUMBLE:{description:"(MBC5 and MBC7 only) enable the rumble motor (if any)",value:"3"},RAMB_RUMBLE:{description:"(MBC5 and MBC7 only) enable the rumble motor (if any)",value:"%00001000"},RAMB_RUMBLE_OFF:{description:"(MBC5 and MBC7 only) disable the rumble motor (if any)",value:"%00000000"},RAMB_RUMBLE_ON:{description:"(MBC5 and MBC7 only) enable the rumble motor (if any)",value:"%00001000"}}},rBMODE:{value:"$6000",description:"(MBC1 and MMM01 only) Banking mode select [wo]",flags:{BMODE_SIMPLE:{description:"locks ROMB and RAMB to bank 0",value:"$00"},BMODE_ADVANCED:{description:"allows bank-switching with RAMB",value:"$01"}}},rROM2B:{value:"$2100",description:"(MBC2 only) ROM bank number [wo]"},rRTCLATCH:{value:"$6000",description:"(MBC3 only) RTC latch clock data [wo]",flags:{RTCLATCH_START:{description:"Write $00 then $01 to latch the current time into RTCREG",value:"$00"},RTCLATCH_FINISH:{description:"Write $00 then $01 to latch the current time into RTCREG",value:"$01"}}},rRTCREG:{value:"$A000",description:"(MBC3 only) RTC register [r/w]"},rROMB0:{value:"$2000",description:"(MBC5 only) ROM bank number low byte (bits 0-7) [wo]"},rROMB1:{value:"$3000",description:"(MBC5 only) ROM bank number high bit (bit 8) [wo]"},rRAMBA:{value:"$0400",description:"(MBC6 only) RAM bank A number [wo]"},rRAMBB:{value:"$0800",description:"(MBC6 only) RAM bank B number [wo]"},rFLASH:{value:"$0C00",description:"(MBC6 only) Whether the flash chip can be accessed [wo]"},rFMODE:{value:"$1000",description:"(MBC6 only) Write mode select for the flash chip"},rROMBA:{value:"$2000",description:"(MBC6 only) ROM/Flash bank A number [wo]"},rFLASHA:{value:"$2800",description:"(MBC6 only) ROM/Flash bank A select [wo]"},rROMBB:{value:"$3000",description:"(MBC6 only) ROM/Flash bank B number [wo]"},rFLASHB:{value:"$3800",description:"(MBC6 only) ROM/Flash bank B select [wo]"},rRAMREG:{value:"$4000",description:"(MBC7 only) Enable RAM register access [wo]",flags:{RAMREG_ENABLE:{description:"Enable RAM register access",value:"$40"}}},rACCLATCH0:{value:"$A000",description:"(MBC7 only) Latch accelerometer start [wo]",flags:{ACCLATCH0_START:{description:"Write $55 to ACCLATCH0 to erase the latched data",value:"$55"}}},rACCLATCH1:{value:"$A010",description:"(MBC7 only) Latch accelerometer finish [wo]",flags:{ACCLATCH1_FINISH:{description:"Write $AA to ACCLATCH1 to latch the accelerometer and update ACCEL*",value:"$AA"}}},rACCELX0:{value:"$A020",description:"(MBC7 only) Accelerometer X value low byte [ro]"},rACCELX1:{value:"$A030",description:"(MBC7 only) Accelerometer X value high byte [ro]"},rACCELY0:{value:"$A040",description:"(MBC7 only) Accelerometer Y value low byte [ro]"},rACCELY1:{value:"$A050",description:"(MBC7 only) Accelerometer Y value high byte [ro]"},rEEPROM:{value:"$A080",description:"(MBC7 only) EEPROM access [r/w]"},rIRREG:{value:"$A000",description:"(HuC1 only) IR register [r/w]",flags:{IR_LED_OFF:{description:"(HuC1 only) the IR transmitter does not see light",value:"$C0"},IR_LED_ON:{description:"(HuC1 only) the IR transmitter sees light",value:"$C1"}}},SCREEN_WIDTH_PX:{description:"width of screen in pixels",value:"160"},SCREEN_HEIGHT_PX:{description:"height of screen in pixels",value:"144"},SCREEN_WIDTH:{description:"width of screen in bytes",value:"20"},SCREEN_HEIGHT:{description:"height of screen in bytes",value:"18"},SCREEN_AREA:{description:"size of screen in bytes",value:"360"},TILEMAP_WIDTH_PX:{description:"width of tilemap in pixels",value:"256"},TILEMAP_HEIGHT_PX:{description:"height of tilemap in pixels",value:"256"},TILEMAP_WIDTH:{description:"width of tilemap in bytes",value:"32"},TILEMAP_HEIGHT:{description:"height of tilemap in bytes",value:"32"},TILEMAP_AREA:{description:"size of tilemap in bytes",value:"1024"},TILE_WIDTH:{description:"width of tile in pixels",value:"8"},TILE_HEIGHT:{description:"height of tile in pixels",value:"8"},TILE_SIZE:{description:"size of tile in bytes (2 bits/pixel)",value:"16"},COLOR_SIZE:{description:"size of color in bytes (little-endian BGR555)",value:"2"},B_COLOR_RED:{description:"color bits 4-0",value:"0"},B_COLOR_GREEN:{description:"color bits 9-5",value:"5"},B_COLOR_BLUE:{description:"color bits 14-10",value:"10"},COLOR_RED:{description:"for the low color byte",value:"%000_11111"},COLOR_GREEN_LOW:{description:"for the low color byte",value:"%111_00000"},COLOR_GREEN_HIGH:{description:"for the high color byte",value:"%0_00000_11"},COLOR_BLUE:{description:"for the high color byte",value:"%0_11111_00"},PAL_COLORS:{description:"colors per palette",value:"4"},PAL_SIZE:{description:"size of palette in bytes",value:"8"},TILEMAP0:{description:"$9800-$9BFF",value:"$9800"},TILEMAP1:{description:"$9C00-$9FFF",value:"$9C00"},B_BG_PRIO:{description:"(CGB only) whether the BG tile colors 1-3 are drawn above OBJs",value:"7"},B_BG_YFLIP:{description:"(CGB only) whether the whole BG tile is flipped vertically",value:"6"},B_BG_XFLIP:{description:"(CGB only) whether the whole BG tile is flipped horizontally",value:"5"},B_BG_BANK1:{description:"(CGB only) which VRAM bank the BG tile is taken from",value:"3"},BG_PALETTE:{description:"(CGB only) which palette the BG tile uses",value:"%00000_111"},BG_PRIO:{description:"(CGB only) whether the BG tile colors 1-3 are drawn above OBJs",value:"%10000000"},BG_YFLIP:{description:"(CGB only) whether the whole BG tile is flipped vertically",value:"%01000000"},BG_XFLIP:{description:"(CGB only) whether the whole BG tile is flipped horizontally",value:"%00100000"},BG_BANK0:{description:"(CGB only) the BG tile is taken from VRAM bank 0",value:"%00000000"},BG_BANK1:{description:"(CGB only) the BG tile is taken from VRAM bank 1",value:"%00001000"},OAMA_Y:{description:"OAM attribute field offset for OBJ Y coordinate",value:"0",flags:{OAM_Y_OFS:{description:"subtract 16 from what's written to OAM to get the real Y position",value:"16"}}},OAMA_X:{description:"OAM attribute field offset for OBJ X coordinate",value:"1",flags:{OAM_X_OFS:{description:"subtract 8 from what's written to OAM to get the real X position",value:"8"}}},OAMA_TILEID:{description:"OAM attribute field offset for OBJ tile ID",value:"2"},OAMA_FLAGS:{description:"OAM attribute field offset for OBJ attribute flags",value:"3",flags:{B_OAM_PRIO:{description:"whether the OBJ is drawn below BG colors 1-3",value:"7"},B_OAM_YFLIP:{description:"whether the whole OBJ is flipped vertically",value:"6"},B_OAM_XFLIP:{description:"whether the whole OBJ is flipped horizontally",value:"5"},B_OAM_PAL1:{description:"(DMG only) which of the two palettes the OBJ uses",value:"4"},B_OAM_BANK1:{description:"(CGB only) which VRAM bank the OBJ takes its tile(s) from",value:"3"},OAM_PALETTE:{description:"(CGB only) which palette the OBJ uses",value:"%00000_111"},OAM_PRIO:{description:"whether the OBJ is drawn below BG colors 1-3",value:"%10000000"},OAM_YFLIP:{description:"whether the whole OBJ is flipped vertically",value:"%01000000"},OAM_XFLIP:{description:"whether the whole OBJ is flipped horizontally",value:"%00100000"},OAM_PAL0:{description:"(DMG only) which of the two palettes the OBJ uses",value:"%00000000"},OAM_PAL1:{description:"(DMG only) which of the two palettes the OBJ uses",value:"%00010000"},OAM_BANK0:{description:"(CGB only) which VRAM bank the OBJ takes its tile(s) from",value:"%00000000"},OAM_BANK1:{description:"(CGB only) which VRAM bank the OBJ takes its tile(s) from",value:"%00001000"}}},OBJ_SIZE:{description:"size of OBJ in bytes",value:"4"},OAM_COUNT:{description:"how many OBJs there are room for in OAM",value:"40"},OAM_SIZE:{description:"size of OAM RAM in bytes",value:"160"},INT_HANDLER_VBLANK:{description:"VBlank interrupt handler address",value:"$0040"},INT_HANDLER_STAT:{description:"STAT interrupt handler address",value:"$0048"},INT_HANDLER_TIMER:{description:"timer interrupt handler address",value:"$0050"},INT_HANDLER_SERIAL:{description:"serial interrupt handler address",value:"$0058"},INT_HANDLER_JOYPAD:{description:"joypad interrupt handler address",value:"$0060"},BOOTUP_A_DMG:{description:"Register A = CPU type",value:"$01"},BOOTUP_A_CGB:{description:"Register A = CPU type",value:"$11"},BOOTUP_A_MGB:{description:"Register A = CPU type",value:"$FF"},BOOTUP_A_SGB:{description:"Register A = CPU type",value:"$01"},BOOTUP_A_SGB2:{description:"Register A = CPU type",value:"$FF"},B_BOOTUP_B_AGB:{description:"Register B = CPU qualifier (if A is BOOTUP_A_CGB)",value:"0"},BOOTUP_B_CGB:{description:"Register B = CPU qualifier (if A is BOOTUP_A_CGB)",value:"%00000000"},BOOTUP_B_AGB:{description:"Register B = CPU qualifier (if A is BOOTUP_A_CGB)",value:"%00000001"},B_PAD_DOWN:{description:"whether Down is pressed",value:"7"},B_PAD_UP:{description:"whether Up is pressed",value:"6"},B_PAD_LEFT:{description:"whether Left is pressed",value:"5"},B_PAD_RIGHT:{description:"whether Right is pressed",value:"4"},B_PAD_START:{description:"whether Start is pressed",value:"3"},B_PAD_SELECT:{description:"whether Select is pressed",value:"2"},B_PAD_B:{description:"whether B is pressed",value:"1"},B_PAD_A:{description:"whether A is pressed",value:"0"},PAD_CTRL_PAD:{description:"whether any Control Pad directions are pressed",value:"%1111_0000"},PAD_BUTTONS:{description:"whether any buttons are pressed",value:"%0000_1111"},PAD_DOWN:{description:"whether Down is pressed",value:"%10000000"},PAD_UP:{description:"whether Up is pressed",value:"%01000000"},PAD_LEFT:{description:"whether Left is pressed",value:"%00100000"},PAD_RIGHT:{description:"whether Right is pressed",value:"%00010000"},PAD_START:{description:"whether Start is pressed",value:"%00001000"},PAD_SELECT:{description:"whether Select is pressed",value:"%00000100"},PAD_B:{description:"whether B is pressed",value:"%00000010"},PAD_A:{description:"whether A is pressed",value:"%00000001"},B_PAD_SWAP_START:{description:"whether Start is pressed",value:"7"},B_PAD_SWAP_SELECT:{description:"whether Select is pressed",value:"6"},B_PAD_SWAP_B:{description:"whether B is pressed",value:"5"},B_PAD_SWAP_A:{description:"whether A is pressed",value:"4"},B_PAD_SWAP_DOWN:{description:"whether Down is pressed",value:"3"},B_PAD_SWAP_UP:{description:"whether Up is pressed",value:"2"},B_PAD_SWAP_LEFT:{description:"whether Left is pressed",value:"1"},B_PAD_SWAP_RIGHT:{description:"whether Right is pressed",value:"0"},PAD_SWAP_CTRL_PAD:{description:"whether any Control Pad directions are pressed",value:"%0000_1111"},PAD_SWAP_BUTTONS:{description:"whether any buttons are pressed",value:"%1111_0000"},PAD_SWAP_START:{description:"whether Start is pressed",value:"%10000000"},PAD_SWAP_SELECT:{description:"whether Select is pressed",value:"%01000000"},PAD_SWAP_B:{description:"whether B is pressed",value:"%00100000"},PAD_SWAP_A:{description:"whether A is pressed",value:"%00010000"},PAD_SWAP_DOWN:{description:"whether Down is pressed",value:"%00001000"},PAD_SWAP_UP:{description:"whether Up is pressed",value:"%00000100"},PAD_SWAP_LEFT:{description:"whether Left is pressed",value:"%00000010"},PAD_SWAP_RIGHT:{description:"whether Right is pressed",value:"%00000001"}};for(var Mt in ot){if(typeof ot[Mt].flags=="string"&&(ot[Mt].flags=ot[ot[Mt].flags].flags),ot[Mt].flags)for(var Hn in ot[Mt].flags)ot[Hn]=ot[Mt].flags[Hn];ot[Mt].alias&&(ot[ot[Mt].alias]=Object.assign({},ot[Mt]),ot[ot[Mt].alias].alias=Mt)}const{TextHighlightRules:Gi}=await Pr("ace/mode/text_highlight_rules"),Vi="\\b(?:"+Object.keys(ot).join("|")+")\\b";class ji extends Gi{constructor(){super(),this.$rules={start:[{token:"keyword.control.assembly",regex:"\\b(?:ADC|ADD|AND|BIT|CALL|CCF|CP|CPL|DAA|DEC|DI|EI|HALT|INC|JP|JR|LD|LDD|LDH|LDI|LDIO|NOP|OR|POP|PUSH|RES|RET|RETI|RL|RLA|RLC|RLCA|RR|RRA|RRC|RRCA|RST|SBC|SCF|SET|SLA|SRA|SRL|STOP|SUB|SWAP|XOR)\\b",caseInsensitive:!0},{token:"keyword.control.sections",regex:"\\b(?:HRAM|OAM|ROM0|ROMX|SRAM|VRAM|WRAM0|WRAMX)\\b",caseInsensitive:!0},{token:"keyword.control.reserved",regex:"\\b(?:ACOS|ALIGN|ASIN|ASSERT|ATAN|ATAN2|BANK|BITWIDTH|BREAK|CEIL|CHARCMP|CHARLEN|CHARMAP|CHARSIZE|CHARSUB|CHARVAL|COS|DB|DEF|DIV|DL|DS|DW|ELIF|ELSE|ENDC|ENDL|ENDM|ENDR|ENDSECTION|ENDU|EQU|EQUS|EXPORT|FAIL|FATAL|FLOOR|FMOD|FOR|FRAGMENT|HIGH|IF|INCBIN|INCHARMAP|INCLUDE|ISCONST|LOAD|LOG|LOW|MACRO|MUL|NEWCHARMAP|NEXTU|OPT|POPC|POPO|POPS|POW|PRINT|PRINTLN|PURGE|PUSHC|PUSHO|PUSHS|RB|REDEF|REPT|REVCHAR|ROUND|RSRESET|RSSET|RW|SECTION|SETCHARMAP|SHIFT|SIN|SIZEOF|STARTOF|STATIC_ASSERT|STRCAT|STRCHAR|STRCMP|STRFIND|STRFMT|STRIN|STRLEN|STRLWR|STRRFIND|STRRIN|STRRPL|STRSLICE|STRSUB|STRUPR|TAN|TZCOUNT|UNION|WARN)\\b",caseInsensitive:!0},{token:"variable.constant",regex:Vi,caseInsensitive:!0},{token:"variable.parameter.register.assembly",regex:"\\b(?:A|B|C|D|E|H|L|AF|BC|DE|HL|HLD|HLI|SP)\\b",caseInsensitive:!0},{token:"variable.parameter.condition.assembly",regex:"\\b(?:Z|NZ|NC)\\b",caseInsensitive:!0},{token:"constant.numeric.decimal.assembly",regex:"\\b[0-9]+\\b"},{token:"constant.numeric.binary.assembly",regex:"\\%[0-1]+\\b"},{token:"constant.numeric.binary.assembly",regex:"\\b0b[0-1]+\\b",caseInsensitive:!0},{token:"constant.numeric.quaternary.assembly",regex:"\\`[0-3]+\\b"},{token:"constant.numeric.octal.assembly",regex:"\\&[0-7]+\\b"},{token:"constant.numeric.octal.assembly",regex:"\\b0o[0-7]+\\b",caseInsensitive:!0},{token:"constant.numeric.hexadecimal.assembly",regex:"\\$[0-9A-F]+\\b",caseInsensitive:!0},{token:"constant.numeric.hexadecimal.assembly",regex:"\\b0x[0-9A-F]+\\b",caseInsensitive:!0},{token:"string.assembly",regex:/"([^\\"]|\\.)*"/},{token:"entity.name.function.assembly",regex:"^\\s*%%[\\w.]+?:$"},{token:"entity.name.function.assembly",regex:"^\\s*%\\$[\\w.]+?:$"},{token:"entity.name.function.assembly",regex:"^[\\w.]+?:"},{token:"comment.assembly",regex:";.*$"}]},this.normalizeRules()}static metaData={fileTypes:["asm"],name:"Game Boy SM83",scopeName:"source.assembly"}}const{FoldMode:qi}=await Pr("ace/mode/folding/coffee");class Yi extends qi{constructor(){super()}getFoldWidgetRange(Q,f,D){var z=this.indentationBlock(Q,D);if(z)return z;var M=/\S/,A=Q.getLine(D),y=A.search(M);if(!(y==-1||A[y]!="#")){for(var s=A.length,h=Q.getLength(),o=D,r=D;++D<h;){A=Q.getLine(D);var i=A.search(M);if(i!=-1){if(A[i]!="#")break;r=D}}if(r>o){var t=Q.getLine(r).length;return new ace.Range(o,s,r,t)}}}getFoldWidget(Q,f,D){var z=Q.getLine(D),M=z.search(/\S/),A=Q.getLine(D+1),y=Q.getLine(D-1),s=y.search(/\S/),h=A.search(/\S/);if(M==-1)return Q.foldWidgets[D-1]=s!=-1&&s<h?"start":"","";if(s==-1){if(M==h&&z[M]=="#"&&A[M]=="#")return Q.foldWidgets[D-1]="",Q.foldWidgets[D+1]="","start"}else if(s==M&&z[M]=="#"&&y[M]=="#"&&Q.getLine(D-2).search(/\S/)==-1)return Q.foldWidgets[D-1]="start",Q.foldWidgets[D+1]="","";return s!=-1&&s<M?Q.foldWidgets[D-1]="start":Q.foldWidgets[D-1]="",M<h?"start":""}}const{Mode:Ki}=await Pr("ace/mode/text");class Zi extends Ki{static lineCommentStart=[";"];static $id="ace/mode/gbz80";constructor(){super(),this.HighlightRules=ji,this.foldingRules=new Yi,this.$behaviour=this.$defaultBehaviour}}ace.define("ace/mode/gbz80",["exports"],te=>Object.assign(te,{Mode:Zi}));const{Tooltip:Un}=await Pr("ace/tooltip"),zn=await Pr("ace/lib/event");class Ji extends Un{token={};range=new Nr.Range;constructor(Q){super(Q.container),!Q.tokenTooltip&&(Q.tokenTooltip=this,this.editor=Q,this.update=this.update.bind(this),this.onMouseMove=this.onMouseMove.bind(this),this.onMouseOut=this.onMouseOut.bind(this),zn.addListener(Q.renderer.scroller,"mousemove",this.onMouseMove),zn.addListener(Q.renderer.content,"mouseout",this.onMouseOut))}update(){this.$timer=null;var Q=this.editor.renderer;this.lastT-(Q.timeStamp||0)>1e3&&(Q.rect=null,Q.timeStamp=this.lastT,this.maxHeight=window.innerHeight,this.maxWidth=window.innerWidth);var f=Q.rect||(Q.rect=Q.scroller.getBoundingClientRect()),D=(this.x+Q.scrollLeft-f.left-Q.$padding)/Q.characterWidth,z=Math.floor((this.y+Q.scrollTop-f.top)/Q.lineHeight),M=Math.round(D),A={row:z,column:M},y=this.editor.session,s=y.screenToDocumentPosition(A.row,A.column),h=y.getTokenAt(s.row,s.column);if(!h&&!y.getLine(s.row)&&(h={type:"",value:"",state:y.bgTokenizer.getState(0)}),!h){this.hide();return}var o="";if(h.type=="variable.constant"&&h.value in ot){var r=ot[h.value];if(o=r.description,r.value&&(o+=`
Value: `+r.value),r.flags){o+=`
`;for(var i in r.flags)o+=`
`+i+": "+r.flags[i].description}}else{this.hide();return}this.tokenText!=o&&(this.setText(o),this.width=this.getWidth(),this.height=this.getHeight(),this.tokenText=o),this.show(null,this.x,this.y),this.token=h}onMouseMove(Q){this.x=Q.clientX,this.y=Q.clientY,this.isOpen&&(this.lastT=Q.timeStamp,this.setPosition(this.x,this.y)),this.$timer||(this.$timer=setTimeout(this.update,100))}onMouseOut(Q){Q&&Q.currentTarget.contains(Q.relatedTarget)||(this.hide(),this.$timer=clearTimeout(this.$timer))}setPosition(Q,f){Q+10+this.width>this.maxWidth&&(Q=window.innerWidth-this.width-10),(f>window.innerHeight*.75||f+20+this.height>this.maxHeight)&&(f=f-this.height-30),Un.prototype.setPosition.call(this,Q+10,f+20)}destroy(){this.onMouseOut(),event.removeListener(this.editor.renderer.scroller,"mousemove",this.onMouseMove),event.removeListener(this.editor.renderer.content,"mouseout",this.onMouseOut),delete this.editor.tokenTooltip}}var Xi=[{name:"adc a, r8",description:"a = a + r8 + carry",optionalA:!0,cycles:1,bytes:1,flags:{z:"Set if result is 0",n:"0",h:"Set if overflow from bit 3",c:"Set if overflow from bit 7"}},{name:"adc a, [hl]",description:"a = a + [hl] + carry",optionalA:!0,cycles:2,bytes:1,flags:{z:"Set if result is 0",n:"0",h:"Set if overflow from bit 3",c:"Set if overflow from bit 7"}},{name:"adc a, n8",description:"a = a + n8 + carry",optionalA:!0,cycles:2,bytes:2,flags:{z:"Set if result is 0",n:"0",h:"Set if overflow from bit 3",c:"Set if overflow from bit 7"}},{name:"add a, r8",description:"a = a + r8",optionalA:!0,cycles:1,bytes:1,flags:{z:"Set if result is 0",n:"0",h:"Set if overflow from bit 3",c:"Set if overflow from bit 7"}},{name:"add a, [hl]",description:"a = a + [hl]",optionalA:!0,cycles:2,bytes:1,flags:{z:"Set if result is 0",n:"0",h:"Set if overflow from bit 3",c:"Set if overflow from bit 7"}},{name:"add a, n8",description:"a = a + n8",optionalA:!0,cycles:2,bytes:2,flags:{z:"Set if result is 0",n:"0",h:"Set if overflow from bit 3",c:"Set if overflow from bit 7"}},{name:"add hl, r16",description:"hl = hl + r16",cycles:2,bytes:1,flags:{n:"0",h:"Set if overflow from bit 11",c:"Set if overflow from bit 15"}},{name:"add hl, sp",description:"hl = hl + sp",cycles:2,bytes:1,flags:{n:"0",h:"Set if overflow from bit 11",c:"Set if overflow from bit 15"}},{name:"add sp, e8",description:"sp = sp + e8",cycles:4,bytes:2,flags:{z:"0",n:"0",h:"Set if overflow from bit 3",c:"Set if overflow from bit 7"}},{name:"and a, r8",description:"a = a & r8",optionalA:!0,cycles:1,bytes:1,flags:{z:"Set if result is 0",n:"0",h:"1",c:"0"}},{name:"and a, [hl]",description:"a = a & [hl]",optionalA:!0,cycles:2,bytes:1,flags:{z:"Set if result is 0",n:"0",h:"1",c:"0"}},{name:"and a, n8",description:"a = a & n8",optionalA:!0,cycles:2,bytes:2,flags:{z:"Set if result is 0",n:"0",h:"1",c:"0"}},{name:"bit u3, r8",description:"Sets Z if bit u3 in r8 is 0",cycles:2,bytes:2,flags:{z:"Set if selected bit is 0",n:"0",h:"1"}},{name:"bit u3, [hl]",description:"Sets Z if bit u3 in [hl] is 0",cycles:3,bytes:2,flags:{z:"Set if selected bit is 0",n:"0",h:"1"}},{name:"call n16",description:"Calls address n16",cycles:6,bytes:3,flags:{}},{name:"call cc, n16",description:"Calls address n16 if condition cc is met",cycles:"6/3",bytes:3,flags:{}},{name:"ccf",description:"Complements the carry flag",cycles:1,bytes:1,flags:{n:"0",h:"0",c:"Complemented"}},{name:"cp a, r8",description:"flags = a - r8",optionalA:!0,cycles:1,bytes:1,flags:{z:"Set if result is 0 (a == r8)",n:"1",h:"Set if no borrow from bit 4",c:"Set if no borrow (a < r8)"}},{name:"cp a, [hl]",description:"flags = a - [hl]",optionalA:!0,cycles:2,bytes:1,flags:{z:"Set if result is 0 (a == [hl])",n:"1",h:"Set if no borrow from bit 4",c:"Set if no borrow (a < [hl])"}},{name:"cp a, n8",description:"flags = a - n8",optionalA:!0,cycles:2,bytes:2,flags:{z:"Set if result is 0 (a == n8)",n:"1",h:"Set if no borrow from bit 4",c:"Set if no borrow (a < n8)"}},{name:"cpl",description:"a = ~a",cycles:1,bytes:1,flags:{n:"1",h:"1"}},{name:"daa",description:"Decimal adjusts a to correct BCD value after arithmetic",cycles:1,bytes:1,flags:{z:"Set if result is 0",h:"0",c:"Set or reset based on operation"}},{name:"dec r8",description:"r8 -= 1",cycles:1,bytes:1,flags:{z:"Set if result is 0",n:"1",h:"Set if no borrow from bit 4"}},{name:"dec [hl]",description:"[hl] -= 1",cycles:3,bytes:1,flags:{z:"Set if result is 0",n:"1",h:"Set if no borrow from bit 4"}},{name:"dec r16",description:"r16 -= 1",cycles:2,bytes:1,flags:{}},{name:"dec sp",description:"sp -= 1",cycles:2,bytes:1,flags:{}},{name:"di",description:"Disables interrupts",cycles:1,bytes:1,flags:{}},{name:"ei",description:"Enables interrupts",cycles:1,bytes:1,flags:{}},{name:"halt",description:"Puts the CPU into low power mode",cycles:"-",bytes:1,flags:{}},{name:"inc r8",description:"r8 += 1",cycles:1,bytes:1,flags:{z:"Set if result is 0",n:"0",h:"Set if overflow from bit 3"}},{name:"inc [hl]",description:"[hl] += 1",cycles:3,bytes:1,flags:{z:"Set if result is 0",n:"0",h:"Set if overflow from bit 3"}},{name:"inc r16",description:"r16 += 1",cycles:2,bytes:1,flags:{}},{name:"inc sp",description:"sp += 1",cycles:2,bytes:1,flags:{}},{name:"jp n16",description:"Jumps to address n16",cycles:4,bytes:3,flags:{}},{name:"jp cc, n16",description:"Jumps to address n16 if condition cc is met",cycles:"4/3",bytes:3,flags:{}},{name:"jp hl",description:"Jumps to address in hl",cycles:1,bytes:1,flags:{}},{name:"jr e8",description:"Relative jumps by adding e8 to pc",cycles:3,bytes:2,flags:{}},{name:"jr cc, e8",description:"Relative jumps by adding e8 to pc if condition cc is met",cycles:"3/2",bytes:2,flags:{}},{name:"ld r8, r8",description:"Copies the value from the right register into the left",cycles:1,bytes:1,flags:{}},{name:"ld r8, n8",description:"r8 = n8",cycles:2,bytes:2,flags:{}},{name:"ld r16, n16",description:"r16 = n16",cycles:3,bytes:3,flags:{}},{name:"ld [hl], r8",description:"[hl] = r8",cycles:2,bytes:1,flags:{}},{name:"ld [hl], n8",description:"[hl] = n8",cycles:3,bytes:2,flags:{}},{name:"ld r8, [hl]",description:"r8 = [hl]",cycles:2,bytes:1,flags:{}},{name:"ld [r16], a",description:"[r16] = a",cycles:2,bytes:1,flags:{}},{name:"ld [n16], a",description:"[n16] = a",cycles:4,bytes:3,flags:{}},{name:"ldh [$ff00+n8], a",description:"[$ff00+n8] = a",cycles:3,bytes:2,flags:{}},{name:"ld [$ff00+c], a",description:"[$ff00+c] = a",cycles:2,bytes:1,flags:{}},{name:"ld a, [r16]",description:"a = [r16]",cycles:2,bytes:1,flags:{}},{name:"ld a, [n16]",description:"a = [n16]",cycles:4,bytes:3,flags:{}},{name:"ldh a, [$ff00+n8]",description:"a = [$ff00+n8]",cycles:3,bytes:2,flags:{}},{name:"ld a, [$ff00+c]",description:"a = [$ff00+c]",cycles:2,bytes:1,flags:{}},{name:"ld [hl+], a",description:"[hl] = a, hl += 1",aliasHLI:!0,cycles:2,bytes:1,flags:{}},{name:"ld [hl-], a",description:"[hl] = a, hl -= 1",aliasHLD:!0,cycles:2,bytes:1,flags:{}},{name:"ld a, [hl+]",description:"a = [hl], hl += 1",aliasHLI:!0,cycles:2,bytes:1,flags:{}},{name:"ld a, [hl-]",description:"a = [hl], hl -= 1",aliasHLD:!0,cycles:2,bytes:1,flags:{}},{name:"ld sp, n16",description:"sp = n16",cycles:3,bytes:3,flags:{}},{name:"ld [n16], sp",description:"[n16, n16 + 1] = sp",cycles:5,bytes:3,flags:{}},{name:"ld hl, sp+e8",description:"hl = sp + e8",cycles:3,bytes:2,flags:{z:"0",n:"0",h:"Set if overflow from bit 3",c:"Set if overflow from bit 7"}},{name:"ld sp, hl",description:"sp = hl",cycles:2,bytes:1,flags:{}},{name:"nop",description:"No operation",cycles:1,bytes:1,flags:{}},{name:"or a, r8",description:"a = a | r8",optionalA:!0,cycles:1,bytes:1,flags:{z:"Set if result is 0",n:"0",h:"0",c:"0"}},{name:"or a, [hl]",description:"a = a | [hl]",optionalA:!0,cycles:2,bytes:1,flags:{z:"Set if result is 0",n:"0",h:"0",c:"0"}},{name:"or a, n8",description:"a = a | n8",optionalA:!0,cycles:2,bytes:2,flags:{z:"Set if result is 0",n:"0",h:"0",c:"0"}},{name:"pop af",description:"Pops the stack into af",cycles:3,bytes:1,flags:{}},{name:"pop r16",description:"Pops the stack into r16",cycles:3,bytes:1,flags:{}},{name:"push af",description:"Pushes af onto the stack",cycles:4,bytes:1,flags:{}},{name:"push r16",description:"Pushes r16 onto the stack",cycles:4,bytes:1,flags:{}},{name:"res u3, r8",description:"Sets the bit u3 in r8 to 0",cycles:2,bytes:2,flags:{}},{name:"res u3, [hl]",description:"Sets the bit u3 in [hl] to 0",cycles:4,bytes:2,flags:{}},{name:"ret",description:"Returns from the current subroutine",cycles:4,bytes:1,flags:{}},{name:"ret cc",description:"Returns from the current subroutine if condition cc is met",cycles:"5/2",bytes:1,flags:{}},{name:"reti",description:"Returns from the current subroutine and enables interrupts",cycles:4,bytes:1,flags:{}},{name:"rl r8",description:"Rotates r8 left, sets bit 0 to carry, sets carry to old bit 7",cycles:2,bytes:2,flags:{z:"Set if result is 0",n:"0",h:"0",c:"Set to old bit 7"}},{name:"rl [hl]",description:"Rotates [hl] left, sets bit 0 to carry, sets carry to old bit 7",cycles:4,bytes:2,flags:{z:"Set if result is 0",n:"0",h:"0",c:"Set to old bit 7"}},{name:"rla",description:"Rotates a left, sets bit 0 to carry, sets carry to old bit 7",cycles:1,bytes:1,flags:{z:"0",n:"0",h:"0",c:"Set to old bit 7"}},{name:"rlc r8",description:"Rotates r8 left, sets bit 0 and carry to old bit 7",cycles:2,bytes:2,flags:{z:"Set if result is 0",n:"0",h:"0",c:"Set to old bit 7"}},{name:"rlc [hl]",description:"Rotates [hl] left, sets bit 0 and carry to old bit 7",cycles:4,bytes:2,flags:{z:"Set if result is 0",n:"0",h:"0",c:"Set to old bit 7"}},{name:"rlca",description:"Rotates a left, sets bit 0 and carry to old bit 7",cycles:1,bytes:1,flags:{z:"0",n:"0",h:"0",c:"Set to old bit 7"}},{name:"rr r8",description:"Rotates r8 right, sets bit 7 to carry, sets carry to old bit 0",cycles:2,bytes:2,flags:{z:"Set if result is 0",n:"0",h:"0",c:"Set to old bit 0"}},{name:"rr [hl]",description:"Rotates [hl] right, sets bit 7 to carry, sets carry to old bit 0",cycles:4,bytes:2,flags:{z:"Set if result is 0",n:"0",h:"0",c:"Set to old bit 0"}},{name:"rra",description:"Rotates a right, sets bit 7 to carry, sets carry to old bit 0",cycles:1,bytes:1,flags:{z:"0",n:"0",h:"0",c:"Set to old bit 0"}},{name:"rrc r8",description:"Rotates r8 right, sets bit 7 and carry to old bit 0",cycles:2,bytes:2,flags:{z:"Set if result is 0",n:"0",h:"0",c:"Set to old bit 0"}},{name:"rrc [hl]",description:"Rotates [hl] right, sets bit 7 and carry to old bit 0",cycles:4,bytes:2,flags:{z:"Set if result is 0",n:"0",h:"0",c:"Set to old bit 0"}},{name:"rrca",description:"Rotates a right, sets bit 7 and carry to old bit 0",cycles:1,bytes:1,flags:{z:"0",n:"0",h:"0",c:"Set to old bit 0"}},{name:"rst vec",description:"Calls given reset vector",cycles:4,bytes:1,flags:{}},{name:"sbc a, r8",description:"a = a - r8 - c",optionalA:!0,cycles:1,bytes:1,flags:{z:"Set if result is 0",n:"1",h:"Set if no borrow from bit 4",c:"Set if no borrow"}},{name:"sbc a, [hl]",description:"a = a - [hl] - c",optionalA:!0,cycles:2,bytes:1,flags:{z:"Set if result is 0",n:"1",h:"Set if no borrow from bit 4",c:"Set if no borrow"}},{name:"sbc a, n8",description:"a = a - n8 - c",optionalA:!0,cycles:2,bytes:2,flags:{z:"Set if result is 0",n:"1",h:"Set if no borrow from bit 4",c:"Set if no borrow"}},{name:"scf",description:"Sets the carry flag to 1",cycles:1,bytes:1,flags:{n:"0",h:"0",c:"1"}},{name:"set u3, r8",description:"Sets the bit u3 in r8 to 1",cycles:2,bytes:2,flags:{}},{name:"set u3, [hl]",description:"Sets the bit u3 in [hl] to 1",cycles:4,bytes:2,flags:{}},{name:"sla r8",description:"Shifts r8 left, sets carry to old bit 7",cycles:2,bytes:2,flags:{z:"Set if result is 0",n:"0",h:"0",c:"Set to old bit 7"}},{name:"sla [hl]",description:"Shifts [hl] left, sets carry to old bit 7",cycles:4,bytes:2,flags:{z:"Set if result is 0",n:"0",h:"0",c:"Set to old bit 7"}},{name:"sra r8",description:"Shifts r8 right keeping bit 7 unchanged, sets carry to old bit 0",cycles:2,bytes:2,flags:{z:"Set if result is 0",n:"0",h:"0",c:"Set to old bit 0"}},{name:"sra [hl]",description:"Shifts [hl] right keeping bit 7 unchanged, sets carry to old bit 0",cycles:4,bytes:2,flags:{z:"Set if result is 0",n:"0",h:"0",c:"Set to old bit 0"}},{name:"srl r8",description:"Shifts r8 right, sets carry to old bit 0",cycles:2,bytes:2,flags:{z:"Set if result is 0",n:"0",h:"0",c:"Set to old bit 0"}},{name:"srl [hl]",description:"Shifts [hl] right, sets carry to old bit 0",cycles:4,bytes:2,flags:{z:"Set if result is 0",n:"0",h:"0",c:"Set to old bit 0"}},{name:"stop",description:"Puts the CPU into very low power mode",cycles:"-",bytes:"2",flags:{}},{name:"sub a, r8",description:"a = a - r8",optionalA:!0,cycles:1,bytes:1,flags:{z:"Set if result is 0 (a == r8)",n:"1",h:"Set if no borrow from bit 4",c:"Set if no borrow (a < r8)"}},{name:"sub a, [hl]",description:"a = a - [hl]",optionalA:!0,cycles:2,bytes:1,flags:{z:"Set if result is 0 (a == [hl])",n:"1",h:"Set if no borrow from bit 4",c:"Set if no borrow (a < [hl])"}},{name:"sub a, n8",description:"a = a - n8",optionalA:!0,cycles:2,bytes:2,flags:{z:"Set if result is 0 (a == n8)",n:"1",h:"Set if no borrow from bit 4",c:"Set if no borrow (a < n8)"}},{name:"swap r8",description:"Swaps the upper and lower 4 bits in r8",cycles:2,bytes:2,flags:{z:"Set if result is 0",n:"0",h:"0",c:"0"}},{name:"swap [hl]",description:"Swaps the upper and lower 4 bits in [hl]",cycles:4,bytes:2,flags:{z:"Set if result is 0",n:"0",h:"0",c:"0"}},{name:"xor a, r8",description:"a = a ^ r8",optionalA:!0,cycles:1,bytes:1,flags:{z:"Set if result is 0",n:"0",h:"0",c:"0"}},{name:"xor a, [hl]",description:"a = a ^ [hl]",optionalA:!0,cycles:2,bytes:1,flags:{z:"Set if result is 0",n:"0",h:"0",c:"0"}},{name:"xor a, n8",description:"a = a ^ n8",optionalA:!0,cycles:2,bytes:2,flags:{z:"Set if result is 0",n:"0",h:"0",c:"0"}}],Zn=[];Xi.forEach(function(te){var Q="<table><tr><td colspan=2>"+te.description;Q+="<tr><td>cycles:<td>"+te.cycles,Q+="<tr><td>size:<td>"+te.bytes,Q+="<tr><td>Flag Z:<td>"+te.flags.z,Q+="<tr><td>Flag N:<td>"+te.flags.n,Q+="<tr><td>Flag H:<td>"+te.flags.H,Q+="<tr><td>Flag C:<td>"+te.flags.C;var f={caption:te.name,value:te.name,meta:"",docHTML:Q};f.completer={insertMatch:function(D,z){}},Zn.push(f)});var Jn=[];for(var cn in ot){var It=ot[cn],Lr="";if(It.description&&(Lr=It.description.replace(`
`,"<br>")),It.value&&(Lr+="<br><b>Value:</b> "+It.value),It.flags)for(var Wn in It.flags)Lr+="<br><b>"+Wn+":</b> "+It.flags[Wn].description;It.alias&&(Lr+="<br><b>Alias:</b> "+It.alias);var Qi={caption:cn,value:cn,meta:"",docHTML:Lr};Jn.push(Qi)}var eo={getCompletions:function(te,Q,f,D,z){var M=Q.getLine(f.row),A=M.substr(0,f.column-1).trim();A.trim()==""||A.trim().endsWith(":")?z(null,Zn.filter(function(y){return y.value.startsWith(D.toLowerCase())})):z(null,Jn.filter(function(y){return y.value.toLowerCase().startsWith(D.toLowerCase())}))}};Nr.config.set("basePath","assets/ace");var st=[],vt=null,Wr=null,Gr=null,zr=null,hr=[],un={};const to=te=>{if(!window.matchMedia)return;const Q=window.matchMedia("(prefers-color-scheme: dark)");te(Q.matches),Q.addEventListener("change",f=>te(f.matches))};function Xn(te,Q){var f=Nr.edit(te);new Ji(f),to(D=>{f.setTheme(D?"ace/theme/tomorrow_night_eighties":"ace/theme/tomorrow")}),f.session.setMode("ace/mode/gbz80"),f.setOptions({tabSize:2,useSoftTabs:!0,navigateWithinSoftTabs:!0,enableLiveAutocompletion:!0,enableSnippets:!0}),f.completers=[eo],f.session.on("change",function(D){f.curOp&&f.curOp.command.name&&(Gt(vt,f.getValue()),Q())}),f.on("guttermousedown",function(D){var z=D.domEvent.target;if(z.className.indexOf("ace_gutter-cell")!=-1){var M=D.getDocumentPosition().row;io(vt,M+1),D.stop()}}),st.push(f)}function Qn(te){vt!=null&&(un[vt]=st[0].selection.getCursor()),vt=te,st[0].setValue(_t()[te]),st[0].selection.clearSelection(),st[0].session.getUndoManager().reset(),vt in un?st[0].selection.moveCursorToPosition(un[vt]):st[0].selection.moveCursorTo(0,0),st[0].scrollToLine(st[0].selection.getCursor().row,!0),st[0].focus(),An(),ti()}function An(){var te=[];for(var[Q,f,D,z]of di())f==vt&&te.push({row:D-1,column:0,type:Q,text:z});st[0].session.setAnnotations(te)}function Kr(te,Q,f){Wr=te,Gr=Q,ti(f)}function ro(te,Q){hr.push([te,Q]),Dn(),ei()}function no(te,Q){hr=hr.filter(f=>f[0]!=te||f[1]!=Q),Dn(),ei()}function io(te,Q){var f=hr.findIndex(D=>D[0]==te&&D[1]==Q);f>-1?no(te,Q):ro(te,Q)}function ei(){st[0].session.clearBreakpoints();for(var[te,Q,f]of hr)te==vt&&st[0].session.setBreakpoint(Q-1,f?"ace_breakpoint":"ace_invalid_breakpoint")}function ti(te){te&&vt!=null&&vt!=Wr&&Qn(Wr),zr!=null&&(st[0].session.removeMarker(zr),zr=null),Wr==vt&&(zr=st[0].session.addMarker(new Nr.Range(Gr-1,0,Gr-1,1),"cpuLineMarker","fullLine"),te&&st[0].scrollToLine(Gr-1,!0,!1,function(){}))}function oo(){return vt}function ri(){return hr}function so(){st[0].renderer.getContainerElement().style.display="none"}function ao(){st[0].renderer.getContainerElement().style.display="",st[0].resize(),st[0].renderer.updateFull()}const lo=Object.freeze(Object.defineProperty({__proto__:null,getBreakpoints:ri,getCurrentFilename:oo,hide:so,register:Xn,setCpuLine:Kr,setCurrentFile:Qn,show:ao,updateErrors:An},Symbol.toStringTag,{value:"Module"}));var Vr=[4290965700,4289247578,4285423646,4278197037],Zr,Ft,ar,ut,Wt,mn,Jr=0;function ni(te){ar=document.getElementById(te),ut=document.getElementById("gfxEditorTilesCanvas"),Wt=document.getElementById("gfxEditorDrawCanvas"),mn=document.getElementById("gfxEditorPalette"),new ResizeObserver(function(){ut.parentElement.style.maxWidth=ar.clientWidth,ut.parentElement.style.maxHeight=ar.clientHeight-300,ut.parentElement.style.display=""}).observe(ar),Wt.onmousemove=function(Q){var f=Q.target.getBoundingClientRect(),D=~~((Q.clientX-f.left)/f.width*Q.target.width),z=~~((Q.clientY-f.top)/f.height*Q.target.height);Q.preventDefault(),Q.buttons!=0&&fo(D,z,Jr)},Wt.onmousedown=Wt.onmousemove,Wt.oncontextmenu=function(){return!1},mn.onmousedown=function(Q){var f=Q.target.getBoundingClientRect();~~((Q.clientX-f.left)/f.width*Q.target.width/16);var D=~~((Q.clientY-f.top)/f.height*Q.target.height/16);Q.preventDefault(),Jr=D,Gn()},Gn(),ut.onmousedown=function(Q){var f=Q.target.getBoundingClientRect(),D=~~((Q.clientX-f.left)/f.width*Q.target.width/8),z=~~((Q.clientY-f.top)/f.height*Q.target.height/8);Q.preventDefault(),tn(D+z*16)}}function co(te){Zr=te,tn(0);var Q=_t()[te],f=~~(Q.length/16),D=~~((f+15)/16);ut.width=16*8,ut.height=D*8,ut.style.width=ut.width*4;for(var z=ut.getContext("2d"),M=z.getImageData(0,0,ut.width,ut.height),A=new Uint32Array(M.data.buffer),y=ut.width,s=0;s<f;s++){var h=s%16,o=~~(s/16),r=h*8+o*8*y;En(new Uint8Array(Q.buffer,s*16,16),A,r,y)}z.putImageData(M,0,0)}function uo(){ar.style.display="none"}function ho(){ar.style.display=""}function tn(te){var Q=_t()[Zr];te>=Q.length/16&&(te=Q.length/16-1),Ft=te;var f=Wt.getContext("2d"),D=f.getImageData(0,0,Wt.width,Wt.height),z=new Uint32Array(D.data.buffer);En(new Uint8Array(Q.buffer,te*16,16),z,0,8),f.putImageData(D,0,0)}function En(te,Q,f,D){for(var z=0;z<8;z++)for(var M=te[z*2],A=te[z*2+1],y=0;y<8;y++){var s=0;M&128>>y&&(s|=1),A&128>>y&&(s|=2),Q[f+y+z*D]=Vr[s]}}function fo(te,Q,f){var D=_t()[Zr];f&1?D[Ft*16+Q*2+0]|=128>>te:D[Ft*16+Q*2+0]&=~(128>>te),f&2?D[Ft*16+Q*2+1]|=128>>te:D[Ft*16+Q*2+1]&=~(128>>te),tn(Ft),Gt(Zr,D);var z=ut.getContext("2d"),M=z.getImageData(0,0,ut.width,ut.height),A=new Uint32Array(M.data.buffer),y=ut.width,s=Ft%16,h=~~(Ft/16),o=s*8+h*8*y;En(new Uint8Array(D.buffer,Ft*16,16),A,o,y),z.putImageData(M,0,0)}function Gn(){for(var te=mn.getContext("2d"),Q=0;Q<4;Q++)te.fillStyle="rgb("+(Vr[Q]&255)+", "+(Vr[Q]>>8&255)+", "+(Vr[Q]>>16&255)+")",te.fillRect(0,Q*16,16,16);te.strokeStyle="#FFF",te.beginPath(),te.rect(2.5,Jr*16+2.5,11,11),te.stroke(),te.strokeStyle="#000",te.beginPath(),te.rect(1.5,Jr*16+1.5,13,13),te.stroke()}const po=Object.freeze(Object.defineProperty({__proto__:null,hide:uo,register:ni,setCurrentFile:co,setTileIndex:tn,show:ho},Symbol.toStringTag,{value:"Module"}));var go={hide:function(){document.getElementById("nullEditorDiv").style.display="none"},show:function(){document.getElementById("nullEditorDiv").style.display=""},setCurrentFile:function(){}},or=go,ii="";function Xr(){return ii}function Jt(te){ii=te;var Q=or;return typeof _t()[te]=="string"?or=lo:or=po,Q!=or&&(Q.hide(),or.show()),or.setCurrentFile(te)}function vn(te){var Q=te.lastIndexOf(".");if(Q<0)return"binary";var f=te.substr(Q+1).toLowerCase();return f=="inc"||f=="asm"||f=="z80"||f=="h"||f=="c"||f=="cpp"||f=="hpp"||f=="txt"?"text":"binary"}const tr=`;******************************************************************************
; Game Boy hardware constant definitions
; https://github.com/gbdev/hardware.inc
;******************************************************************************

; To the extent possible under law, the authors of this work have
; waived all copyright and related or neighboring rights to the work.
; See https://creativecommons.org/publicdomain/zero/1.0/ for details.
; SPDX-License-Identifier: CC0-1.0

; If this file was already included, don't do it again
if !def(HARDWARE_INC)

; Check for the minimum supported RGBDS version
if !def(__RGBDS_MAJOR__) || !def(__RGBDS_MINOR__) || !def(__RGBDS_PATCH__)
    fail "This version of 'hardware.inc' requires RGBDS version 0.5.0 or later"
endc
if __RGBDS_MAJOR__ == 0 && __RGBDS_MINOR__ < 5
    fail "This version of 'hardware.inc' requires RGBDS version 0.5.0 or later."
endc

; Define the include guard and the current hardware.inc version
; (do this after the RGBDS version check since the \`def\` syntax depends on it)
def HARDWARE_INC equ 1
def HARDWARE_INC_VERSION equs "5.1.0"

; Usage: rev_Check_hardware_inc <min_ver>
; Examples:
;     rev_Check_hardware_inc 1.2.3
;     rev_Check_hardware_inc 1.2   (equivalent to 1.2.0)
;     rev_Check_hardware_inc 1     (equivalent to 1.0.0)
MACRO rev_Check_hardware_inc
    if _NARG == 1 ; Actual invocation by the user
        def hw_inc_cur_ver\\@ equs strrpl("{HARDWARE_INC_VERSION}", ".", ",")
        def hw_inc_min_ver\\@ equs strrpl("\\1", ".", ",")
        rev_Check_hardware_inc {hw_inc_cur_ver\\@}, {hw_inc_min_ver\\@}, 0, 0
        purge hw_inc_cur_ver\\@, hw_inc_min_ver\\@
    else ; Recursive invocation
        if \\1 != \\4 || (\\2 < \\5 || (\\2 == \\5 && \\3 < \\6))
            fail "Version \\1.\\2.\\3 of 'hardware.inc' is incompatible with requested version \\4.\\5.\\6"
        endc
    endc
ENDM


;******************************************************************************
; Memory-mapped registers ($FFxx range)
;******************************************************************************

; -- JOYP / P1 ($FF00) --------------------------------------------------------
; Joypad face buttons
def rJOYP equ $FF00

def B_JOYP_GET_BUTTONS  equ 5 ; 0 = reading buttons     [r/w]
def B_JOYP_GET_CTRL_PAD equ 4 ; 0 = reading Control Pad [r/w]
    def JOYP_GET equ %00_11_0000 ; select which inputs to read from the lower nybble
        def JOYP_GET_BUTTONS  equ %00_01_0000 ; reading A/B/Select/Start buttons
        def JOYP_GET_CTRL_PAD equ %00_10_0000 ; reading Control Pad directions
        def JOYP_GET_NONE     equ %00_11_0000 ; reading nothing

def B_JOYP_START  equ 3 ; 0 = Start is pressed  (if reading buttons)     [ro]
def B_JOYP_SELECT equ 2 ; 0 = Select is pressed (if reading buttons)     [ro]
def B_JOYP_B      equ 1 ; 0 = B is pressed      (if reading buttons)     [ro]
def B_JOYP_A      equ 0 ; 0 = A is pressed      (if reading buttons)     [ro]
def B_JOYP_DOWN   equ 3 ; 0 = Down is pressed   (if reading Control Pad) [ro]
def B_JOYP_UP     equ 2 ; 0 = Up is pressed     (if reading Control Pad) [ro]
def B_JOYP_LEFT   equ 1 ; 0 = Left is pressed   (if reading Control Pad) [ro]
def B_JOYP_RIGHT  equ 0 ; 0 = Right is pressed  (if reading Control Pad) [ro]
    def JOYP_INPUTS equ %0000_1111
    def JOYP_START  equ 1 << B_JOYP_START
    def JOYP_SELECT equ 1 << B_JOYP_SELECT
    def JOYP_B      equ 1 << B_JOYP_B
    def JOYP_A      equ 1 << B_JOYP_A
    def JOYP_DOWN   equ 1 << B_JOYP_DOWN
    def JOYP_UP     equ 1 << B_JOYP_UP
    def JOYP_LEFT   equ 1 << B_JOYP_LEFT
    def JOYP_RIGHT  equ 1 << B_JOYP_RIGHT

; Combined input byte, with Control Pad in high nybble (conventional order)
def B_PAD_DOWN   equ 7
def B_PAD_UP     equ 6
def B_PAD_LEFT   equ 5
def B_PAD_RIGHT  equ 4
def B_PAD_START  equ 3
def B_PAD_SELECT equ 2
def B_PAD_B      equ 1
def B_PAD_A      equ 0
    def PAD_CTRL_PAD equ %1111_0000
    def PAD_BUTTONS  equ %0000_1111
    def PAD_DOWN     equ 1 << B_PAD_DOWN
    def PAD_UP       equ 1 << B_PAD_UP
    def PAD_LEFT     equ 1 << B_PAD_LEFT
    def PAD_RIGHT    equ 1 << B_PAD_RIGHT
    def PAD_START    equ 1 << B_PAD_START
    def PAD_SELECT   equ 1 << B_PAD_SELECT
    def PAD_B        equ 1 << B_PAD_B
    def PAD_A        equ 1 << B_PAD_A


; Combined input byte, with Control Pad in low nybble (swapped order)
def B_PAD_SWAP_START  equ 7
def B_PAD_SWAP_SELECT equ 6
def B_PAD_SWAP_B      equ 5
def B_PAD_SWAP_A      equ 4
def B_PAD_SWAP_DOWN   equ 3
def B_PAD_SWAP_UP     equ 2
def B_PAD_SWAP_LEFT   equ 1
def B_PAD_SWAP_RIGHT  equ 0
    def PAD_SWAP_CTRL_PAD equ %0000_1111
    def PAD_SWAP_BUTTONS  equ %1111_0000
    def PAD_SWAP_START    equ 1 << B_PAD_SWAP_START
    def PAD_SWAP_SELECT   equ 1 << B_PAD_SWAP_SELECT
    def PAD_SWAP_B        equ 1 << B_PAD_SWAP_B
    def PAD_SWAP_A        equ 1 << B_PAD_SWAP_A
    def PAD_SWAP_DOWN     equ 1 << B_PAD_SWAP_DOWN
    def PAD_SWAP_UP       equ 1 << B_PAD_SWAP_UP
    def PAD_SWAP_LEFT     equ 1 << B_PAD_SWAP_LEFT
    def PAD_SWAP_RIGHT    equ 1 << B_PAD_SWAP_RIGHT

; -- SB ($FF01) ---------------------------------------------------------------
; Serial transfer data [r/w]
def rSB equ $FF01

; -- SC ($FF02) ---------------------------------------------------------------
; Serial transfer control
def rSC equ $FF02

def B_SC_START  equ 7 ; reading 1 = transfer in progress, writing 1 = start transfer        [r/w]
def B_SC_SPEED  equ 1 ; (CGB only) 1 = use faster internal clock                            [r/w]
def B_SC_SOURCE equ 0 ; 0 = use external clock ("slave"), 1 = use internal clock ("master") [r/w]
    def SC_START  equ 1 << B_SC_START
    def SC_SPEED  equ 1 << B_SC_SPEED
        def SC_SLOW equ 0 << B_SC_SPEED
        def SC_FAST equ 1 << B_SC_SPEED
    def SC_SOURCE equ 1 << B_SC_SOURCE
        def SC_EXTERNAL equ 0 << B_SC_SOURCE
        def SC_INTERNAL equ 1 << B_SC_SOURCE

; -- $FF03 is unused ----------------------------------------------------------

; -- DIV ($FF04) --------------------------------------------------------------
; Divider register [r/w]
def rDIV equ $FF04

; -- TIMA ($FF05) -------------------------------------------------------------
; Timer counter [r/w]
def rTIMA equ $FF05

; -- TMA ($FF06) --------------------------------------------------------------
; Timer modulo [r/w]
def rTMA equ $FF06

; -- TAC ($FF07) --------------------------------------------------------------
; Timer control
def rTAC equ $FF07

def B_TAC_START equ 2 ; enable incrementing TIMA [r/w]
    def TAC_STOP  equ 0 << B_TAC_START
    def TAC_START equ 1 << B_TAC_START

def TAC_CLOCK equ %000000_11 ; the frequency at which TIMA increments [r/w]
    def TAC_4KHZ   equ %000000_00 ; every 256 M-cycles = ~4 KHz on DMG
    def TAC_262KHZ equ %000000_01 ; every 4 M-cycles = ~262 KHz on DMG
    def TAC_65KHZ  equ %000000_10 ; every 16 M-cycles = ~65 KHz on DMG
    def TAC_16KHZ  equ %000000_11 ; every 64 M-cycles = ~16 KHz on DMG

; -- $FF08-$FF0E are unused ---------------------------------------------------

; -- IF ($FF0F) ---------------------------------------------------------------
; Pending interrupts
def rIF equ $FF0F

def B_IF_JOYPAD equ 4 ; 1 = joypad interrupt is pending [r/w]
def B_IF_SERIAL equ 3 ; 1 = serial interrupt is pending [r/w]
def B_IF_TIMER  equ 2 ; 1 = timer  interrupt is pending [r/w]
def B_IF_STAT   equ 1 ; 1 = STAT   interrupt is pending [r/w]
def B_IF_VBLANK equ 0 ; 1 = VBlank interrupt is pending [r/w]
    def IF_JOYPAD equ 1 << B_IF_JOYPAD
    def IF_SERIAL equ 1 << B_IF_SERIAL
    def IF_TIMER  equ 1 << B_IF_TIMER
    def IF_STAT   equ 1 << B_IF_STAT
    def IF_VBLANK equ 1 << B_IF_VBLANK

; -- AUD1SWEEP / NR10 ($FF10) -------------------------------------------------
; Audio channel 1 sweep
def rAUD1SWEEP equ $FF10

def AUD1SWEEP_TIME equ %0_111_0000 ; how long between sweep iterations
                                   ; (in 128 Hz ticks, ~7.8 ms apart) [r/w]

def B_AUD1SWEEP_DIR equ 3 ; sweep direction [r/w]
    def AUD1SWEEP_DIR equ 1 << B_AUD1SWEEP_DIR
        def AUD1SWEEP_UP   equ 0 << B_AUD1SWEEP_DIR
        def AUD1SWEEP_DOWN equ 1 << B_AUD1SWEEP_DIR

def AUD1SWEEP_SHIFT equ %00000_111 ; how much the period increases/decreases per iteration [r/w]

; -- AUD1LEN / NR11 ($FF11) ---------------------------------------------------
; Audio channel 1 length timer and duty cycle
def rAUD1LEN equ $FF11

def AUD1LEN_DUTY equ %11_000000 ; ratio of time spent high vs. time spent low [r/w]
    def AUD1LEN_DUTY_12_5 equ %00_000000 ; 12.5%
    def AUD1LEN_DUTY_25   equ %01_000000 ; 25%
    def AUD1LEN_DUTY_50   equ %10_000000 ; 50%
    def AUD1LEN_DUTY_75   equ %11_000000 ; 75%

def AUD1LEN_TIMER equ %00_111111 ; initial length timer (0-63) [wo]

; -- AUD1ENV / NR12 ($FF12) ---------------------------------------------------
; Audio channel 1 volume and envelope
def rAUD1ENV equ $FF12

def AUD1ENV_INIT_VOLUME equ %1111_0000 ; initial volume [r/w]

def B_AUD1ENV_DIR equ 3 ; direction of volume envelope [r/w]
    def AUD1ENV_DIR equ 1 << B_AUD1ENV_DIR
        def AUD1ENV_DOWN equ 0 << B_AUD1ENV_DIR
        def AUD1ENV_UP   equ 1 << B_AUD1ENV_DIR

def AUD1ENV_PACE equ %00000_111 ; how long between envelope iterations
                                ; (in 64 Hz ticks, ~15.6 ms apart) [r/w]

; -- AUD1LOW / NR13 ($FF13) ---------------------------------------------------
; Audio channel 1 period (low 8 bits) [r/w]
def rAUD1LOW equ $FF13

; -- AUD1HIGH / NR14 ($FF14) --------------------------------------------------
; Audio channel 1 period (high 3 bits) and control
def rAUD1HIGH equ $FF14

def B_AUD1HIGH_RESTART    equ 7 ; 1 = restart the channel [wo]
def B_AUD1HIGH_LEN_ENABLE equ 6 ; 1 = reset the channel after the length timer expires [r/w]
    def AUD1HIGH_RESTART    equ 1 << B_AUD1HIGH_RESTART
    def AUD1HIGH_LENGTH_OFF equ 0 << B_AUD1HIGH_LEN_ENABLE
    def AUD1HIGH_LENGTH_ON  equ 1 << B_AUD1HIGH_LEN_ENABLE

def AUD1HIGH_PERIOD_HIGH equ %00000_111 ; upper 3 bits of the channel's period [r/w]

; -- $FF15 is unused ----------------------------------------------------------

; -- AUD2LEN / NR21 ($FF16) ---------------------------------------------------
; Audio channel 2 length timer and duty cycle
def rAUD2LEN equ $FF16

def AUD2LEN_DUTY equ %11_000000 ; ratio of time spent high vs. time spent low [r/w]
    def AUD2LEN_DUTY_12_5 equ %00_000000 ; 12.5%
    def AUD2LEN_DUTY_25   equ %01_000000 ; 25%
    def AUD2LEN_DUTY_50   equ %10_000000 ; 50%
    def AUD2LEN_DUTY_75   equ %11_000000 ; 75%

def AUD2LEN_TIMER equ %00_111111 ; initial length timer (0-63) [wo]

; -- AUD2ENV / NR22 ($FF17) ---------------------------------------------------
; Audio channel 2 volume and envelope
def rAUD2ENV equ $FF17

def AUD2ENV_INIT_VOLUME equ %1111_0000 ; initial volume [r/w]

def B_AUD2ENV_DIR equ 3 ; direction of volume envelope [r/w]
    def AUD2ENV_DIR equ 1 << B_AUD2ENV_DIR
        def AUD2ENV_DOWN equ 0 << B_AUD2ENV_DIR
        def AUD2ENV_UP   equ 1 << B_AUD2ENV_DIR

def AUD2ENV_PACE equ %00000_111 ; how long between envelope iterations
                                ; (in 64 Hz ticks, ~15.6 ms apart) [r/w]

; -- AUD2LOW / NR23 ($FF18) ---------------------------------------------------
; Audio channel 2 period (low 8 bits) [r/w]
def rAUD2LOW equ $FF18

; -- AUD2HIGH / NR24 ($FF19) --------------------------------------------------
; Audio channel 2 period (high 3 bits) and control
def rAUD2HIGH equ $FF19

def B_AUD2HIGH_RESTART    equ 7 ; 1 = restart the channel [wo]
def B_AUD2HIGH_LEN_ENABLE equ 6 ; 1 = reset the channel after the length timer expires [r/w]
    def AUD2HIGH_RESTART    equ 1 << B_AUD2HIGH_RESTART
    def AUD2HIGH_LENGTH_OFF equ 0 << B_AUD2HIGH_LEN_ENABLE
    def AUD2HIGH_LENGTH_ON  equ 1 << B_AUD2HIGH_LEN_ENABLE

def AUD2HIGH_PERIOD_HIGH equ %00000_111 ; upper 3 bits of the channel's period [r/w]

; -- AUD3ENA / NR30 ($FF1A) ---------------------------------------------------
; Audio channel 3 enable
def rAUD3ENA equ $FF1A

def B_AUD3ENA_ENABLE equ 7 ; 1 = channel is active [r/w]
    def AUD3ENA_OFF equ 0 << B_AUD3ENA_ENABLE
    def AUD3ENA_ON  equ 1 << B_AUD3ENA_ENABLE

; -- AUD3LEN / NR31 ($FF1B) ---------------------------------------------------
; Audio channel 3 length timer [wo]
def rAUD3LEN equ $FF1B

; -- AUD3LEVEL / NR32 ($FF1C) -------------------------------------------------
; Audio channel 3 volume
def rAUD3LEVEL equ $FF1C

def AUD3LEVEL_VOLUME equ %0_11_00000 ; volume level [r/w]
    def AUD3LEVEL_MUTE equ %0_00_00000 ; 0% (muted)
    def AUD3LEVEL_100  equ %0_01_00000 ; 100%
    def AUD3LEVEL_50   equ %0_10_00000 ; 50%
    def AUD3LEVEL_25   equ %0_11_00000 ; 25%

; -- AUD3LOW / NR33 ($FF1D) ---------------------------------------------------
; Audio channel 3 period (low 8 bits) [r/w]
def rAUD3LOW equ $FF1D

; -- AUD3HIGH / NR34 ($FF1E) --------------------------------------------------
; Audio channel 3 period (high 3 bits) and control
def rAUD3HIGH equ $FF1E

def B_AUD3HIGH_RESTART    equ 7 ; 1 = restart the channel [wo]
def B_AUD3HIGH_LEN_ENABLE equ 6 ; 1 = reset the channel after the length timer expires [r/w]
    def AUD3HIGH_RESTART    equ 1 << B_AUD3HIGH_RESTART
    def AUD3HIGH_LENGTH_OFF equ 0 << B_AUD3HIGH_LEN_ENABLE
    def AUD3HIGH_LENGTH_ON  equ 1 << B_AUD3HIGH_LEN_ENABLE

def AUD3HIGH_PERIOD_HIGH equ %00000_111 ; upper 3 bits of the channel's period [r/w]

; -- $FF1F is unused ----------------------------------------------------------

; -- AUD4LEN / NR41 ($FF20) ---------------------------------------------------
; Audio channel 4 length timer
def rAUD4LEN equ $FF20

def AUD4LEN_TIMER equ %00_111111 ; initial length timer (0-63) [wo]

; -- AUD4ENV / NR42 ($FF21) ---------------------------------------------------
; Audio channel 4 volume and envelope
def rAUD4ENV equ $FF21

def AUD4ENV_INIT_VOLUME equ %1111_0000 ; initial volume [r/w]

def B_AUD4ENV_DIR equ 3 ; direction of volume envelope [r/w]
    def AUD4ENV_DIR equ 1 << B_AUD4ENV_DIR
        def AUD4ENV_DOWN equ 0 << B_AUD4ENV_DIR
        def AUD4ENV_UP   equ 1 << B_AUD4ENV_DIR

def AUD4ENV_PACE equ %00000_111 ; how long between envelope iterations
                                ; (in 64 Hz ticks, ~15.6 ms apart) [r/w]

; -- AUD4POLY / NR43 ($FF22) --------------------------------------------------
; Audio channel 4 period and randomness
def rAUD4POLY equ $FF22

def AUD4POLY_SHIFT equ %1111_0000 ; coarse control of the channel's period [r/w]

def B_AUD4POLY_WIDTH equ 3 ; controls the noise generator (LFSR)'s step width [r/w]
    def AUD4POLY_15STEP equ 0 << B_AUD4POLY_WIDTH
    def AUD4POLY_7STEP  equ 1 << B_AUD4POLY_WIDTH

def AUD4POLY_DIV equ %00000_111 ; fine control of the channel's period [r/w]

; -- AUD4GO / NR44 ($FF23) ----------------------------------------------------
; Audio channel 4 control
def rAUD4GO equ $FF23

def B_AUD4GO_RESTART    equ 7 ; 1 = restart the channel [wo]
def B_AUD4GO_LEN_ENABLE equ 6 ; 1 = reset the channel after the length timer expires [r/w]
    def AUD4GO_RESTART    equ 1 << B_AUD4GO_RESTART
    def AUD4GO_LENGTH_OFF equ 0 << B_AUD4GO_LEN_ENABLE
    def AUD4GO_LENGTH_ON  equ 1 << B_AUD4GO_LEN_ENABLE

; -- AUDVOL / NR50 ($FF24) ----------------------------------------------------
; Audio master volume and VIN mixer
def rAUDVOL equ $FF24

def B_AUDVOL_VIN_LEFT  equ 7 ; 1 = output VIN to left ear (SO2, speaker 2) [r/w]
    def AUDVOL_VIN_LEFT equ 1 << B_AUDVOL_VIN_LEFT

def AUDVOL_LEFT equ %0_111_0000 ; 0 = barely audible, 7 = full volume [r/w]

def B_AUDVOL_VIN_RIGHT equ 3 ; 1 = output VIN to right ear (SO1, speaker 1) [r/w]
    def AUDVOL_VIN_RIGHT equ 1 << B_AUDVOL_VIN_RIGHT

def AUDVOL_RIGHT equ %00000_111 ; 0 = barely audible, 7 = full volume [r/w]

; -- AUDTERM / NR51 ($FF25) ---------------------------------------------------
; Audio channel mixer
def rAUDTERM equ $FF25

def B_AUDTERM_4_LEFT  equ 7 ; 1 = output channel 4 to left  ear [r/w]
def B_AUDTERM_3_LEFT  equ 6 ; 1 = output channel 3 to left  ear [r/w]
def B_AUDTERM_2_LEFT  equ 5 ; 1 = output channel 2 to left  ear [r/w]
def B_AUDTERM_1_LEFT  equ 4 ; 1 = output channel 1 to left  ear [r/w]
def B_AUDTERM_4_RIGHT equ 3 ; 1 = output channel 4 to right ear [r/w]
def B_AUDTERM_3_RIGHT equ 2 ; 1 = output channel 3 to right ear [r/w]
def B_AUDTERM_2_RIGHT equ 1 ; 1 = output channel 2 to right ear [r/w]
def B_AUDTERM_1_RIGHT equ 0 ; 1 = output channel 1 to right ear [r/w]
    def AUDTERM_4_LEFT  equ 1 << B_AUDTERM_4_LEFT
    def AUDTERM_3_LEFT  equ 1 << B_AUDTERM_3_LEFT
    def AUDTERM_2_LEFT  equ 1 << B_AUDTERM_2_LEFT
    def AUDTERM_1_LEFT  equ 1 << B_AUDTERM_1_LEFT
    def AUDTERM_4_RIGHT equ 1 << B_AUDTERM_4_RIGHT
    def AUDTERM_3_RIGHT equ 1 << B_AUDTERM_3_RIGHT
    def AUDTERM_2_RIGHT equ 1 << B_AUDTERM_2_RIGHT
    def AUDTERM_1_RIGHT equ 1 << B_AUDTERM_1_RIGHT

; -- AUDENA / NR52 ($FF26) ----------------------------------------------------
; Audio master enable
def rAUDENA equ $FF26

def B_AUDENA_ENABLE     equ 7 ; 0 = disable the APU (resets all audio registers to 0!) [r/w]
def B_AUDENA_ENABLE_CH4 equ 3 ; 1 = channel 4 is running [ro]
def B_AUDENA_ENABLE_CH3 equ 2 ; 1 = channel 3 is running [ro]
def B_AUDENA_ENABLE_CH2 equ 1 ; 1 = channel 2 is running [ro]
def B_AUDENA_ENABLE_CH1 equ 0 ; 1 = channel 1 is running [ro]
    def AUDENA_OFF     equ 0 << B_AUDENA_ENABLE
    def AUDENA_ON      equ 1 << B_AUDENA_ENABLE
    def AUDENA_CH4_OFF equ 0 << B_AUDENA_ENABLE_CH4
    def AUDENA_CH4_ON  equ 1 << B_AUDENA_ENABLE_CH4
    def AUDENA_CH3_OFF equ 0 << B_AUDENA_ENABLE_CH3
    def AUDENA_CH3_ON  equ 1 << B_AUDENA_ENABLE_CH3
    def AUDENA_CH2_OFF equ 0 << B_AUDENA_ENABLE_CH2
    def AUDENA_CH2_ON  equ 1 << B_AUDENA_ENABLE_CH2
    def AUDENA_CH1_OFF equ 0 << B_AUDENA_ENABLE_CH1
    def AUDENA_CH1_ON  equ 1 << B_AUDENA_ENABLE_CH1

; -- $FF27-$FF2F are unused ---------------------------------------------------

; -- AUD3WAVE ($FF30-$FF3F) ---------------------------------------------------
; Audio channel 3 wave pattern RAM [r/w]
def _AUD3WAVERAM equ $FF30 ; $FF30-$FF3F

def rAUD3WAVE_0 equ $FF30
def rAUD3WAVE_1 equ $FF31
def rAUD3WAVE_2 equ $FF32
def rAUD3WAVE_3 equ $FF33
def rAUD3WAVE_4 equ $FF34
def rAUD3WAVE_5 equ $FF35
def rAUD3WAVE_6 equ $FF36
def rAUD3WAVE_7 equ $FF37
def rAUD3WAVE_8 equ $FF38
def rAUD3WAVE_9 equ $FF39
def rAUD3WAVE_A equ $FF3A
def rAUD3WAVE_B equ $FF3B
def rAUD3WAVE_C equ $FF3C
def rAUD3WAVE_D equ $FF3D
def rAUD3WAVE_E equ $FF3E
def rAUD3WAVE_F equ $FF3F

def AUD3WAVE_SIZE equ 16

; -- LCDC ($FF40) -------------------------------------------------------------
; PPU graphics control
def rLCDC equ $FF40

def B_LCDC_ENABLE   equ 7 ; whether the PPU (and LCD) are turned on          [r/w]
def B_LCDC_WIN_MAP  equ 6 ; which tilemap the Window reads from              [r/w]
def B_LCDC_WINDOW   equ 5 ; whether the Window is enabled                    [r/w]
def B_LCDC_BLOCKS   equ 4 ; which "tile blocks" the BG and Window use        [r/w]
def B_LCDC_BG_MAP   equ 3 ; which tilemap the BG reads from                  [r/w]
def B_LCDC_OBJ_SIZE equ 2 ; how many pixels tall each OBJ is                 [r/w]
def B_LCDC_OBJS     equ 1 ; whether OBJs are enabled                         [r/w]
def B_LCDC_BG       equ 0 ; (DMG only) whether the BG is enabled             [r/w]
def B_LCDC_PRIO     equ 0 ; (CGB only) whether OBJ priority bits are enabled [r/w]
    def LCDC_ENABLE   equ 1 << B_LCDC_ENABLE
        def LCDC_OFF equ 0 << B_LCDC_ENABLE
        def LCDC_ON  equ 1 << B_LCDC_ENABLE
    def LCDC_WIN_MAP  equ 1 << B_LCDC_WIN_MAP
        def LCDC_WIN_9800 equ 0 << B_LCDC_WIN_MAP
        def LCDC_WIN_9C00 equ 1 << B_LCDC_WIN_MAP
    def LCDC_WINDOW   equ 1 << B_LCDC_WINDOW
        def LCDC_WIN_OFF equ 0 << B_LCDC_WINDOW
        def LCDC_WIN_ON  equ 1 << B_LCDC_WINDOW
    def LCDC_BLOCKS   equ 1 << B_LCDC_BLOCKS
        def LCDC_BLOCK21 equ 0 << B_LCDC_BLOCKS
        def LCDC_BLOCK01 equ 1 << B_LCDC_BLOCKS
    def LCDC_BG_MAP   equ 1 << B_LCDC_BG_MAP
        def LCDC_BG_9800 equ 0 << B_LCDC_BG_MAP
        def LCDC_BG_9C00 equ 1 << B_LCDC_BG_MAP
    def LCDC_OBJ_SIZE equ 1 << B_LCDC_OBJ_SIZE
        def LCDC_OBJ_8  equ 0 << B_LCDC_OBJ_SIZE
        def LCDC_OBJ_16 equ 1 << B_LCDC_OBJ_SIZE
    def LCDC_OBJS     equ 1 << B_LCDC_OBJS
        def LCDC_OBJ_OFF equ 0 << B_LCDC_OBJS
        def LCDC_OBJ_ON  equ 1 << B_LCDC_OBJS
    def LCDC_BG       equ 1 << B_LCDC_BG
        def LCDC_BG_OFF equ 0 << B_LCDC_BG
        def LCDC_BG_ON  equ 1 << B_LCDC_BG
    def LCDC_PRIO     equ 1 << B_LCDC_PRIO
        def LCDC_PRIO_OFF equ 0 << B_LCDC_PRIO
        def LCDC_PRIO_ON  equ 1 << B_LCDC_PRIO

; -- STAT ($FF41) -------------------------------------------------------------
; Graphics status and interrupt control
def rSTAT equ $FF41

def B_STAT_LYC    equ 6 ; 1 = LY match triggers the STAT interrupt [r/w]
def B_STAT_MODE_2 equ 5 ; 1 = OAM Scan triggers the PPU interrupt  [r/w]
def B_STAT_MODE_1 equ 4 ; 1 = VBlank triggers the PPU interrupt    [r/w]
def B_STAT_MODE_0 equ 3 ; 1 = HBlank triggers the PPU interrupt    [r/w]
def B_STAT_LYCF   equ 2 ; 1 = LY is currently equal to LYC         [ro]
def B_STAT_BUSY   equ 1 ; 1 = the PPU is currently accessing VRAM  [ro]
    def STAT_LYC    equ 1 << B_STAT_LYC
    def STAT_MODE_2 equ 1 << B_STAT_MODE_2
    def STAT_MODE_1 equ 1 << B_STAT_MODE_1
    def STAT_MODE_0 equ 1 << B_STAT_MODE_0
    def STAT_LYCF   equ 1 << B_STAT_LYCF
    def STAT_BUSY   equ 1 << B_STAT_BUSY

def STAT_MODE equ %000000_11 ; PPU's current status [ro]
    def STAT_HBLANK equ %000000_00 ; waiting after a line's rendering (HBlank)
    def STAT_VBLANK equ %000000_01 ; waiting between frames (VBlank)
    def STAT_OAM    equ %000000_10 ; checking which OBJs will be rendered on this line (OAM scan)
    def STAT_LCD    equ %000000_11 ; pushing pixels to the LCD

; -- SCY ($FF42) --------------------------------------------------------------
; Background Y scroll offset (in pixels) [r/w]
def rSCY equ $FF42

; -- SCX ($FF43) --------------------------------------------------------------
; Background X scroll offset (in pixels) [r/w]
def rSCX equ $FF43

; -- LY ($FF44) ---------------------------------------------------------------
; Y coordinate of the line currently processed by the PPU (0-153) [ro]
def rLY equ $FF44

def LY_VBLANK equ 144 ; 144-153 is the VBlank period

; -- LYC ($FF45) --------------------------------------------------------------
; Value that LY is constantly compared to [r/w]
def rLYC equ $FF45

; -- DMA ($FF46) --------------------------------------------------------------
; OAM DMA start address (high 8 bits) and start [wo]
def rDMA equ $FF46

; -- BGP ($FF47) --------------------------------------------------------------
; (DMG only) Background color mapping [r/w]
def rBGP equ $FF47

def BGP_SGB_TRANSFER equ %11_10_01_00 ; set BGP to this value before SGB VRAM transfer

; -- OBP0 ($FF48) -------------------------------------------------------------
; (DMG only) OBJ color mapping #0 [r/w]
def rOBP0 equ $FF48

; -- OBP1 ($FF49) -------------------------------------------------------------
; (DMG only) OBJ color mapping #1 [r/w]
def rOBP1 equ $FF49

; -- WY ($FF4A) ---------------------------------------------------------------
; Y coordinate of the Window's top-left pixel (0-143) [r/w]
def rWY equ $FF4A

; -- WX ($FF4B) ---------------------------------------------------------------
; X coordinate of the Window's top-left pixel, plus 7 (7-166) [r/w]
def rWX equ $FF4B

def WX_OFS equ 7 ; subtract this to get the actual Window Y coordinate

; -- SYS / KEY0 ($FF4C) -------------------------------------------------------
; (CGB boot ROM only) CPU mode select
def rSYS equ $FF4C

; This is known as the "CPU mode register" in Fig. 11 of this patent:
; https://patents.google.com/patent/US6322447B1/en?oq=US6322447bi
; "OBJ priority mode designating register" in the same patent
; Credit to @mattcurrie for this finding!

def SYS_MODE equ %0000_11_00 ; current system mode [r/w]
    def SYS_CGB  equ %0000_00_00 ; CGB mode
    def SYS_DMG  equ %0000_01_00 ; DMG compatibility mode
    def SYS_PGB1 equ %0000_10_00 ; LCD is driven externally, CPU is stopped
    def SYS_PGB2 equ %0000_11_00 ; LCD is driven externally, CPU is running

; -- SPD / KEY1 ($FF4D) -------------------------------------------------------
; (CGB only) Double-speed mode control
def rSPD equ $FF4D

def B_SPD_DOUBLE  equ 7 ; current clock speed                                  [ro]
def B_SPD_PREPARE equ 0 ; 1 = next \`stop\` instruction will switch clock speeds [r/w]
    def SPD_SINGLE  equ 0 << B_SPD_DOUBLE
    def SPD_DOUBLE  equ 1 << B_SPD_DOUBLE
    def SPD_PREPARE equ 1 << B_SPD_PREPARE

; -- $FF4E is unused ----------------------------------------------------------

; -- VBK ($FF4F) --------------------------------------------------------------
; (CGB only) VRAM bank number (0 or 1)
def rVBK equ $FF4F

def VBK_BANK equ %0000000_1 ; mapped VRAM bank [r/w]

; -- BANK ($FF50) -------------------------------------------------------------
; (boot ROM only) Boot ROM mapping control
def rBANK equ $FF50

def B_BANK_ON equ 0 ; whether the boot ROM is mapped [wo]
    def BANK_ON  equ 0 << B_BANK_ON
    def BANK_OFF equ 1 << B_BANK_ON

; -- VDMA_SRC_HIGH / HDMA1 ($FF51) --------------------------------------------
; (CGB only) VRAM DMA source address (high 8 bits) [wo]
def rVDMA_SRC_HIGH equ $FF51

; -- VDMA_SRC_LOW / HDMA2 ($FF52) ---------------------------------------------
; (CGB only) VRAM DMA source address (low 8 bits) [wo]
def rVDMA_SRC_LOW equ $FF52

; -- VDMA_DEST_HIGH / HDMA3 ($FF53) -------------------------------------------
; (CGB only) VRAM DMA destination address (high 8 bits) [wo]
def rVDMA_DEST_HIGH equ $FF53

; -- VDMA_DEST_LOW / HDMA3 ($FF54) --------------------------------------------
; (CGB only) VRAM DMA destination address (low 8 bits) [wo]
def rVDMA_DEST_LOW equ $FF54

; -- VDMA_LEN / HDMA5 ($FF55) -------------------------------------------------
; (CGB only) VRAM DMA length, mode, and start
def rVDMA_LEN equ $FF55

def B_VDMA_LEN_MODE equ 7 ; on write: VRAM DMA mode [wo]
    def VDMA_LEN_MODE equ 1 << B_VDMA_LEN_MODE
        def VDMA_LEN_MODE_GENERAL equ 0 << B_VDMA_LEN_MODE ; GDMA (general-purpose)
        def VDMA_LEN_MODE_HBLANK  equ 1 << B_VDMA_LEN_MODE ; HDMA (HBlank)

def B_VDMA_LEN_BUSY equ 7 ; on read: is a VRAM DMA active?
    def VDMA_LEN_BUSY equ 1 << B_VDMA_LEN_BUSY
        def VDMA_LEN_NO  equ 0 << B_VDMA_LEN_BUSY
        def VDMA_LEN_YES equ 1 << B_VDMA_LEN_BUSY

def VDMA_LEN_SIZE equ %0_1111111 ; how many 16-byte blocks (minus 1) to transfer [r/w]

; -- RP ($FF56) ---------------------------------------------------------------
; (CGB only) Infrared communications port
def rRP equ $FF56

def RP_READ equ %11_000000 ; whether the IR read is enabled [r/w]
    def RP_DISABLE equ %00_000000
    def RP_ENABLE  equ %11_000000

def B_RP_DATA_IN equ 1 ; 0 = IR light is being received [ro]
def B_RP_LED_ON  equ 0 ; 1 = IR light is being sent     [r/w]
    def RP_DATA_IN equ 1 << B_RP_DATA_IN
    def RP_LED_ON  equ 1 << B_RP_LED_ON
        def RP_WRITE_LOW  equ 0 << B_RP_LED_ON
        def RP_WRITE_HIGH equ 1 << B_RP_LED_ON

; -- $FF57-$FF67 are unused ---------------------------------------------------

; -- BGPI / BCPS ($FF68) ------------------------------------------------------
; (CGB only) Background palette I/O index
def rBGPI equ $FF68

def B_BGPI_AUTOINC equ 7 ; whether the index field is incremented after each write to BCPD [r/w]
    def BGPI_AUTOINC equ 1 << B_BGPI_AUTOINC

def BGPI_INDEX equ %00_111111 ; the index within Palette RAM accessed via BCPD [r/w]

; -- BGPD / BCPD ($FF69) ------------------------------------------------------
; (CGB only) Background palette I/O access [r/w]
def rBGPD equ $FF69

; -- OBPI / OCPS ($FF6A) ------------------------------------------------------
; (CGB only) OBJ palette I/O index
def rOBPI equ $FF6A

def B_OBPI_AUTOINC equ 7 ; whether the index field is incremented after each write to OBPD [r/w]
    def OBPI_AUTOINC equ 1 << B_OBPI_AUTOINC

def OBPI_INDEX equ %00_111111 ; the index within Palette RAM accessed via OBPD [r/w]

; -- OBPD / OCPD ($FF6B) ------------------------------------------------------
; (CGB only) OBJ palette I/O access [r/w]
def rOBPD equ $FF6B

; -- OPRI ($FF6C) -------------------------------------------------------------
; (CGB boot ROM only) OBJ draw priority mode
def rOPRI equ $FF6C

def B_OPRI_PRIORITY equ 0 ; which drawing priority is used for OBJs [r/w]
    def OPRI_PRIORITY equ 1 << B_OPRI_PRIORITY
        def OPRI_OAM   equ 0 << B_OPRI_PRIORITY ; CGB mode default: earliest OBJ in OAM wins
        def OPRI_COORD equ 1 << B_OPRI_PRIORITY ; DMG mode default: leftmost OBJ wins

; -- $FF6D-$FF6F are unused ---------------------------------------------------

; -- WBK / SVBK ($FF70) -------------------------------------------------------
; (CGB only) WRAM bank number
def rWBK equ $FF70

def WBK_BANK equ %00000_111 ; mapped WRAM bank (0-7) [r/w]

; -- $FF71-$FF75 are unused ---------------------------------------------------

; -- PCM12 ($FF76) ------------------------------------------------------------
; Audio channels 1 and 2 output
def rPCM12 equ $FF76

def PCM12_CH2 equ %1111_0000 ; audio channel 2 output [ro]
def PCM12_CH1 equ %0000_1111 ; audio channel 1 output [ro]

; -- PCM34 ($FF77) ------------------------------------------------------------
; Audio channels 3 and 4 output
def rPCM34 equ $FF77

def PCM34_CH4 equ %1111_0000 ; audio channel 4 output [ro]
def PCM34_CH3 equ %0000_1111 ; audio channel 3 output [ro]

; -- $FF78-$FF7F are unused ---------------------------------------------------

; -- IE ($FFFF) ---------------------------------------------------------------
; Interrupt enable
def rIE equ $FFFF

def B_IE_JOYPAD equ 4 ; 1 = joypad interrupt is enabled [r/w]
def B_IE_SERIAL equ 3 ; 1 = serial interrupt is enabled [r/w]
def B_IE_TIMER  equ 2 ; 1 = timer  interrupt is enabled [r/w]
def B_IE_STAT   equ 1 ; 1 = STAT   interrupt is enabled [r/w]
def B_IE_VBLANK equ 0 ; 1 = VBlank interrupt is enabled [r/w]
    def IE_JOYPAD equ 1 << B_IE_JOYPAD
    def IE_SERIAL equ 1 << B_IE_SERIAL
    def IE_TIMER  equ 1 << B_IE_TIMER
    def IE_STAT   equ 1 << B_IE_STAT
    def IE_VBLANK equ 1 << B_IE_VBLANK


;******************************************************************************
; Cartridge registers (MBC)
;******************************************************************************

; Note that these "registers" are each actually accessible at an entire address range;
; however, one address for each of these ranges is considered the "canonical" one, and
; these addresses are what's provided here.


; ** Common to most MBCs ******************************************************

; -- RAMG ($0000-$1FFF) -------------------------------------------------------
; Whether SRAM can be accessed [wo]
def rRAMG equ $0000

; Common values (not for HuC1 or HuC-3)
def RAMG_SRAM_DISABLE equ $00
def RAMG_SRAM_ENABLE  equ $0A ; some MBCs accept any value whose low nybble is $A

; (HuC-3 only) switch SRAM to map cartridge RAM, RTC, or IR
def RAMG_CART_RAM_RO   equ $00 ; select cartridge RAM [ro]
def RAMG_CART_RAM      equ $0A ; select cartridge RAM [r/w]
def RAMG_RTC_IN        equ $0B ; select RTC command/argument [wo]
    def RAMG_RTC_IN_CMD equ %0_111_0000 ; command
    def RAMG_RTC_IN_ARG equ %0_000_1111 ; argument
def RAMG_RTC_OUT       equ $0C ; select RTC command/response [ro]
    def RAMG_RTC_OUT_CMD    equ %0_111_0000 ; command
    def RAMG_RTC_OUT_RESULT equ %0_000_1111 ; result
def RAMG_RTC_SEMAPHORE equ $0D ; select RTC semaphore [r/w]
def RAMG_IR            equ $0E ; (HuC1 and HuC-3 only) select IR [r/w]

; -- ROMB ($2000-$3FFF) -------------------------------------------------------
; ROM bank number (not for MBC5 or MBC6) [wo]
def rROMB equ $2000

; -- RAMB ($4000-$5FFF) -------------------------------------------------------
; SRAM bank number (not for MBC2, MBC6, or MBC7) [wo]
def rRAMB equ $4000

; (MBC3 only) Special RAM bank numbers that actually map values into RTCREG
def RAMB_RTC_S  equ $08 ; seconds counter (0-59)
def RAMB_RTC_M  equ $09 ; minutes counter (0-59)
def RAMB_RTC_H  equ $0A ; hours counter (0-23)
def RAMB_RTC_DL equ $0B ; days counter, low byte (0-255)
def RAMB_RTC_DH equ $0C ; days counter, high bit and other flags
    def B_RAMB_RTC_DH_CARRY equ 7 ; 1 = days counter overflowed    [wo]
    def B_RAMB_RTC_DH_HALT  equ 6 ; 0 = run timer, 1 = stop timer  [wo]
    def B_RAMB_RTC_DH_HIGH  equ 0 ; days counter, high bit (bit 8) [wo]
        def RAMB_RTC_DH_CARRY equ 1 << B_RAMB_RTC_DH_CARRY
        def RAMB_RTC_DH_HALT  equ 1 << B_RAMB_RTC_DH_HALT
        def RAMB_RTC_DH_HIGH  equ 1 << B_RAMB_RTC_DH_HIGH

def B_RAMB_RUMBLE equ 3 ; (MBC5 and MBC7 only) enable the rumble motor (if any)
    def RAMB_RUMBLE equ 1 << B_RAMB_RUMBLE
        def RAMB_RUMBLE_OFF equ 0 << B_RAMB_RUMBLE
        def RAMB_RUMBLE_ON  equ 1 << B_RAMB_RUMBLE


; ** MBC1 and MMM01 only ******************************************************

; -- BMODE ($6000-$7FFF) ------------------------------------------------------
; Banking mode select [wo]
def rBMODE equ $6000

def BMODE_SIMPLE   equ $00 ; locks ROMB and RAMB to bank 0
def BMODE_ADVANCED equ $01 ; allows bank-switching with RAMB


; ** MBC2 only ****************************************************************

; -- ROM2B ($0000-$3FFF with bit 8 set) ---------------------------------------
; ROM bank number [wo]
def rROM2B equ $2100


; ** MBC3 only ****************************************************************

; -- RTCLATCH ($6000-$7FFF) ---------------------------------------------------
; RTC latch clock data [wo]
def rRTCLATCH equ $6000

; Write $00 then $01 to latch the current time into RTCREG
def RTCLATCH_START  equ $00
def RTCLATCH_FINISH equ $01

; -- RTCREG ($A000-$BFFF) -----------------------------------------------------
; RTC register [r/w]
def rRTCREG equ $A000


; ** MBC5 only ****************************************************************

; -- ROMB0 ($2000-$3FFF) ------------------------------------------------------
; ROM bank number low byte (bits 0-7) [wo]
def rROMB0 equ $2000

; -- ROMB1 ($3000-$3FFF) ------------------------------------------------------
; ROM bank number high bit (bit 8) [wo]
def rROMB1 equ $3000


; ** MBC6 only ****************************************************************

; -- RAMBA ($0400-$07FF) ------------------------------------------------------
; RAM bank A number [wo]
def rRAMBA equ $0400

; -- RAMBB ($0800-$0BFF) ------------------------------------------------------
; RAM bank B number [wo]
def rRAMBB equ $0800

; -- FLASH ($0C00-$0FFF) ------------------------------------------------------
; Whether the flash chip can be accessed [wo]
def rFLASH equ $0C00

; -- FMODE ($1000) ------------------------------------------------------------
; Write mode select for the flash chip
def rFMODE equ $1000

; -- ROMBA ($2000-$27FF) ------------------------------------------------------
; ROM/Flash bank A number [wo]
def rROMBA equ $2000

; -- FLASHA ($2800-$2FFF) -----------------------------------------------------
; ROM/Flash bank A select [wo]
def rFLASHA equ $2800

; -- ROMBB ($3000-$37FF) ------------------------------------------------------
; ROM/Flash bank B number [wo]
def rROMBB equ $3000

; -- FLASHB ($3800-$3FFF) -----------------------------------------------------
; ROM/Flash bank B select [wo]
def rFLASHB equ $3800


; ** MBC7 only ****************************************************************

; -- RAMREG ($4000-$5FFF) -----------------------------------------------------
; Enable RAM register access [wo]
def rRAMREG equ $4000

def RAMREG_ENABLE equ $40

; -- ACCLATCH0 ($Ax0x) --------------------------------------------------------
; Latch accelerometer start [wo]
def rACCLATCH0 equ $A000

def ACCLATCH0_START equ $55

; -- ACCLATCH1 ($Ax1x) --------------------------------------------------------
; Latch accelerometer finish [wo]
def rACCLATCH1 equ $A010

def ACCLATCH1_FINISH equ $AA

; -- ACCELX0 ($Ax2x) ----------------------------------------------------------
; Accelerometer X value low byte [ro]
def rACCELX0 equ $A020

; -- ACCELX1 ($Ax3x) ----------------------------------------------------------
; Accelerometer X value high byte [ro]
def rACCELX1 equ $A030

; -- ACCELY0 ($Ax4x) ----------------------------------------------------------
; Accelerometer Y value low byte [ro]
def rACCELY0 equ $A040

; -- ACCELY1 ($Ax5x) ----------------------------------------------------------
; Accelerometer Y value high byte [ro]
def rACCELY1 equ $A050

; -- EEPROM ($Ax8x) -----------------------------------------------------------
; EEPROM access [r/w]
def rEEPROM equ $A080


; ** HuC1 only ****************************************************************

; -- IRREG ($A000-$BFFF) ------------------------------------------------------
; IR register [r/w]
def rIRREG equ $A000

def IR_LED_OFF equ $C0
def IR_LED_ON  equ $C1


;******************************************************************************
; Screen-related constants
;******************************************************************************

def SCREEN_WIDTH_PX  equ 160 ; width of screen in pixels
def SCREEN_HEIGHT_PX equ 144 ; height of screen in pixels
def SCREEN_WIDTH     equ  20 ; width of screen in bytes
def SCREEN_HEIGHT    equ  18 ; height of screen in bytes
def SCREEN_AREA      equ SCREEN_WIDTH * SCREEN_HEIGHT ; size of screen in bytes

def TILEMAP_WIDTH_PX  equ 256 ; width of tilemap in pixels
def TILEMAP_HEIGHT_PX equ 256 ; height of tilemap in pixels
def TILEMAP_WIDTH     equ  32 ; width of tilemap in bytes
def TILEMAP_HEIGHT    equ  32 ; height of tilemap in bytes
def TILEMAP_AREA      equ TILEMAP_WIDTH * TILEMAP_HEIGHT ; size of tilemap in bytes

def TILE_WIDTH  equ  8 ; width of tile in pixels
def TILE_HEIGHT equ  8 ; height of tile in pixels
def TILE_SIZE   equ 16 ; size of tile in bytes (2 bits/pixel)

def COLOR_SIZE equ 2 ; size of color in bytes (little-endian BGR555)
    def B_COLOR_RED   equ  0 ; bits 4-0
    def B_COLOR_GREEN equ  5 ; bits 9-5
    def B_COLOR_BLUE  equ 10 ; bits 14-10
        def COLOR_RED        equ %000_11111  ; for the low byte
        def COLOR_GREEN_LOW  equ %111_00000  ; for the low byte
        def COLOR_GREEN_HIGH equ %0_00000_11 ; for the high byte
        def COLOR_BLUE       equ %0_11111_00 ; for the high byte
def PAL_COLORS equ 4 ; colors per palette
def PAL_SIZE   equ COLOR_SIZE * PAL_COLORS ; size of palette in bytes

; Tilemaps the BG or Window can read from (controlled by LCDC)
def TILEMAP0 equ $9800 ; $9800-$9BFF
def TILEMAP1 equ $9C00 ; $9C00-$9FFF

; (CGB only) BG tile attribute fields
def B_BG_PRIO  equ 7 ; whether the BG tile colors 1-3 are drawn above OBJs
def B_BG_YFLIP equ 6 ; whether the whole BG tile is flipped vertically
def B_BG_XFLIP equ 5 ; whether the whole BG tile is flipped horizontally
def B_BG_BANK1 equ 3 ; which VRAM bank the BG tile is taken from
def BG_PALETTE equ %00000_111 ; which palette the BG tile uses
    def BG_PRIO  equ 1 << B_BG_PRIO
    def BG_YFLIP equ 1 << B_BG_YFLIP
    def BG_XFLIP equ 1 << B_BG_XFLIP
    def BG_BANK0 equ 0 << B_BG_BANK1
    def BG_BANK1 equ 1 << B_BG_BANK1


;******************************************************************************
; OBJ-related constants
;******************************************************************************

; OAM attribute field offsets
rsreset
def OAMA_Y      rb ; 0
    def OAM_Y_OFS equ 16 ; subtract 16 from what's written to OAM to get the real Y position
def OAMA_X      rb ; 1
    def OAM_X_OFS equ  8 ; subtract 8 from what's written to OAM to get the real X position
def OAMA_TILEID rb ; 2
def OAMA_FLAGS  rb ; 3
    def B_OAM_PRIO  equ 7 ; whether the OBJ is drawn below BG colors 1-3
    def B_OAM_YFLIP equ 6 ; whether the whole OBJ is flipped vertically
    def B_OAM_XFLIP equ 5 ; whether the whole OBJ is flipped horizontally
    def B_OAM_PAL1  equ 4 ; (DMG only) which of the two palettes the OBJ uses
    def B_OAM_BANK1 equ 3 ; (CGB only) which VRAM bank the OBJ takes its tile(s) from
    def OAM_PALETTE equ %00000_111 ; (CGB only) which palette the OBJ uses
        def OAM_PRIO  equ 1 << B_OAM_PRIO
        def OAM_YFLIP equ 1 << B_OAM_YFLIP
        def OAM_XFLIP equ 1 << B_OAM_XFLIP
        def OAM_PAL0  equ 0 << B_OAM_PAL1
        def OAM_PAL1  equ 1 << B_OAM_PAL1
        def OAM_BANK0 equ 0 << B_OAM_BANK1
        def OAM_BANK1 equ 1 << B_OAM_BANK1
def OBJ_SIZE    rb 0 ; size of OBJ in bytes = 4

def OAM_COUNT equ 40 ; how many OBJs there are room for in OAM
def OAM_SIZE  equ OBJ_SIZE * OAM_COUNT


;******************************************************************************
; Interrupt vector addresses
;******************************************************************************

def INT_HANDLER_VBLANK equ $0040 ; VBlank interrupt handler address
def INT_HANDLER_STAT   equ $0048 ; STAT   interrupt handler address
def INT_HANDLER_TIMER  equ $0050 ; timer  interrupt handler address
def INT_HANDLER_SERIAL equ $0058 ; serial interrupt handler address
def INT_HANDLER_JOYPAD equ $0060 ; joypad interrupt handler address


;******************************************************************************
; Boot-up register values
;******************************************************************************

; Register A = CPU type
def BOOTUP_A_DMG equ $01
def BOOTUP_A_CGB equ $11 ; CGB or AGB
def BOOTUP_A_MGB equ $FF
    def BOOTUP_A_SGB  equ BOOTUP_A_DMG
    def BOOTUP_A_SGB2 equ BOOTUP_A_MGB

; Register B = CPU qualifier (if A is BOOTUP_A_CGB)
def B_BOOTUP_B_AGB equ 0
    def BOOTUP_B_CGB equ 0 << B_BOOTUP_B_AGB
    def BOOTUP_B_AGB equ 1 << B_BOOTUP_B_AGB


;******************************************************************************
; Aliases
;******************************************************************************

; Prefer the standard names to these aliases, which may be official but are
; less directly meaningful or human-readable.

def rP1 equ rJOYP

def rNR10 equ rAUD1SWEEP
def rNR11 equ rAUD1LEN
def rNR12 equ rAUD1ENV
def rNR13 equ rAUD1LOW
def rNR14 equ rAUD1HIGH
def rNR21 equ rAUD2LEN
def rNR22 equ rAUD2ENV
def rNR23 equ rAUD2LOW
def rNR24 equ rAUD2HIGH
def rNR30 equ rAUD3ENA
def rNR31 equ rAUD3LEN
def rNR32 equ rAUD3LEVEL
def rNR33 equ rAUD3LOW
def rNR34 equ rAUD3HIGH
def rNR41 equ rAUD4LEN
def rNR42 equ rAUD4ENV
def rNR43 equ rAUD4POLY
def rNR44 equ rAUD4GO
def rNR50 equ rAUDVOL
def rNR51 equ rAUDTERM
def rNR52 equ rAUDENA

def rKEY0 equ rSYS
def rKEY1 equ rSPD

def rHDMA1 equ rVDMA_SRC_HIGH
def rHDMA2 equ rVDMA_SRC_LOW
def rHDMA3 equ rVDMA_DEST_HIGH
def rHDMA4 equ rVDMA_DEST_LOW
def rHDMA5 equ rVDMA_LEN

def rBCPS equ rBGPI
def rBCPD equ rBGPD

def rOCPS equ rOBPI
def rOCPD equ rOBPD

def rSVBK equ rWBK

endc ; HARDWARE_INC
`,mo='; Adapted from https://gbdev.io/gb-asm-tutorial/part1/hello_world.html\n\nINCLUDE "hardware.inc"\n\nSECTION "Header", ROM0[$100]\n\n  jp EntryPoint\n\n  ds $150 - @, 0 ; Make room for the header\n\nEntryPoint:\n  ; Shut down audio circuitry\n  xor a\n  ldh [rAUDENA], a\n\n  ; Do not turn the LCD off outside of VBlank\n.wait_vblank\n  ldh a, [rLY]\n  cp LY_VBLANK\n  jr c, .wait_vblank\n\n  ; Turn the LCD off\n  ld a, LCDC_OFF\n  ldh [rLCDC], a\n\n  ; Copy the tile data\n  ld de, Tiles\n  ld hl, STARTOF(VRAM) + $100 * TILE_SIZE\n  ld bc, Tiles.end - Tiles\n  call Copy\n\n  ; Copy the tilemap\n  ld de, Tilemap\n  ld hl, TILEMAP0\n  ld bc, Tilemap.end - Tilemap\n  call Copy\n\n  ; Turn the LCD on\n  ld a, LCDC_ON | LCDC_BG_ON\n  ldh [rLCDC], a\n\n  ; During the first (blank) frame, initialize display registers\n  ld a, %11_10_01_00\n  ldh [rBGP], a\n\n.done\n  jr .done\n\n; Subroutine to copy bc bytes from de to hl\nCopy:\n  ld a, [de]\n  ld [hli], a\n  inc de\n  dec bc\n  ld a, b\n  or a, c\n  jr nz, Copy\n  ret\n\nSECTION "Tile data", ROM0\n\nTiles:\n  dw `22222222, `22222222, `22222222, `22222222, `22222222, `22222222, `22222222, `22222222 ; $00\n  dw `22222222, `20000000, `20000000, `20000000, `20000000, `20000000, `20000000, `20000000 ; $01\n  dw `22222222, `02222220, `02222220, `02222220, `02222220, `02222220, `02222220, `02222220 ; $02\n  dw `22222222, `00000002, `00000002, `00000002, `00000002, `00000002, `00000002, `00000002 ; $03\n  dw `22222222, `00000000, `00000000, `00000000, `00000000, `00000000, `00000000, `00000000 ; $04\n  dw `22222222, `02222222, `02222222, `02222222, `02222222, `02222222, `02222222, `02222222 ; $05\n  dw `22222222, `22222211, `22222000, `22220000, `22200000, `22100000, `22000000, `21000000 ; $06\n  dw `22222222, `11222222, `00022222, `00002222, `00000222, `00000122, `00000022, `00000012 ; $07\n  dw `20000000, `20000000, `21111111, `20000000, `20000000, `21111111, `21111111, `20000000 ; $08\n  dw `02222220, `02323230, `13232321, `02323230, `03232320, `11111111, `11111111, `00000000 ; $09\n  dw `00000002, `00000002, `11111113, `00000002, `00000003, `11111112, `11111113, `00000002 ; $0a\n  dw `20000000, `30000000, `21111111, `30000000, `20000000, `31111111, `21111111, `30000000 ; $0b\n  dw `02222222, `02323232, `13232323, `02323232, `03232323, `11111111, `11111111, `00000000 ; $0c\n  dw `22222222, `32323232, `23232323, `32323232, `23232323, `11111232, `11111323, `00000232 ; $0d\n  dw `02222222, `02323232, `13232323, `02323232, `03232323, `12323232, `13232323, `02323232 ; $0e\n  dw `22222222, `32222222, `22222222, `32222222, `22222222, `32222222, `22222222, `32222222 ; $0f\n  dw `21000000, `20000000, `21111111, `20000000, `20000000, `21111111, `21111111, `20000000 ; $10\n  dw `00222200, `02222230, `12222321, `02223230, `02232320, `12323231, `12232321, `02323230 ; $11\n  dw `00000012, `00000002, `11111113, `00000002, `00000003, `11111112, `11111113, `00000002 ; $12\n  dw `22222222, `32222222, `23232222, `32323222, `23232222, `32323222, `23232322, `32323222 ; $13\n  dw `21111111, `21111111, `21111111, `21111111, `21111111, `21111111, `21111111, `21111111 ; $14\n  dw `11111111, `11111111, `11111111, `12323231, `13232321, `12323231, `13232321, `12323231 ; $15\n  dw `11111113, `11111112, `11111113, `11111112, `11111113, `11111112, `11111113, `11111112 ; $16\n  dw `21111111, `31111111, `21111111, `31111111, `21111111, `31111111, `21111111, `31111111 ; $17\n  dw `11111111, `11111111, `11111111, `12323232, `13232323, `12323232, `13232323, `12323232 ; $18\n  dw `11111222, `11111222, `11111222, `32222222, `22222222, `32323232, `23232323, `32323232 ; $19\n  dw `21111111, `21111111, `21111111, `21111111, `21111111, `31111111, `21111111, `31111111 ; $1a\n  dw `13232323, `12323232, `13232323, `12323232, `13232323, `12323232, `13232323, `12323232 ; $1b\n  dw `13232321, `12323231, `13232321, `12323231, `13232321, `12323231, `13232321, `11323211 ; $1c\n  dw `23232322, `32323232, `23232322, `32323232, `23232322, `32323232, `23232322, `32323232 ; $1d\n  dw `21111111, `21111111, `21111111, `21111111, `21111111, `21111111, `21111111, `22222222 ; $1e\n  dw `13232321, `12323231, `13232321, `12323231, `13232321, `12323231, `13232321, `22323232 ; $1f\n  dw `11111113, `11111112, `11111113, `11111112, `11111113, `11111112, `11111113, `32222222 ; $20\n  dw `21111111, `31111111, `21111111, `31111111, `21111111, `31111111, `21111111, `32323232 ; $21\n  dw `11111111, `11111111, `11111111, `11111111, `11111111, `11111111, `11111111, `22323232 ; $22\n  dw `11111113, `11111112, `11111113, `11111112, `11111112, `11111112, `11111112, `32222222 ; $23\n  dw `21111111, `31111111, `21111111, `21111111, `21111111, `21111111, `21111111, `22222222 ; $24\n  dw `11111112, `11111112, `11111112, `11111112, `11111112, `11111112, `11111112, `32222222 ; $25\n  dw `22111111, `22111111, `22111111, `22211111, `22211111, `22221111, `22222211, `22222222 ; $26\n  dw `11111123, `11111122, `11111123, `11111222, `11111223, `11112222, `11222223, `32222232 ; $27\n  dw `23232323, `02323230, `03232320, `02323230, `03232320, `02323230, `03232320, `02222220 ; $28\n  dw `22222223, `00000002, `00000003, `00000002, `00000003, `00000002, `00000003, `00000002 ; $29\n  dw `23232322, `32323110, `23230000, `32300000, `23100000, `32000000, `21000000, `21000000 ; $2a\n  dw `23232323, `00000000, `00000000, `00000000, `00000000, `00000000, `00000000, `00000000 ; $2b\n  dw `23232323, `01123232, `00002323, `00000232, `00000323, `00000032, `00000013, `00000012 ; $2c\n  dw `23232322, `30000000, `20000000, `30000000, `20000000, `30000000, `20000000, `20000000 ; $2d\n  dw `23232323, `00123232, `00001323, `00000132, `00000023, `00000012, `00000003, `00000002 ; $2e\n  dw `23232323, `02323232, `03232323, `02323232, `03232323, `02323232, `03232323, `02222222 ; $2f\n  dw `23232323, `32323232, `23232323, `32323232, `23232323, `32323232, `23232323, `22222222 ; $30\n  dw `22232323, `00000000, `00000000, `00000000, `00000000, `00000000, `00000000, `00000000 ; $31\n  dw `23232323, `01123232, `00001323, `00000132, `00000023, `00000012, `00000013, `00000002 ; $32\n  dw `23232322, `32323222, `23232322, `32323222, `23232222, `32322222, `23222222, `22222222 ; $33\n  dw `02222220, `02323230, `13232321, `02323230, `03232320, `12321231, `13211321, `02300230 ; $34\n  dw `02222200, `02323230, `13232321, `02323230, `03232300, `11111111, `11111111, `00000000 ; $35\n  dw `00000002, `00000002, `11111113, `00000012, `00000113, `11111132, `11111323, `00003232 ; $36\n  dw `02222200, `02323230, `13232321, `02323230, `03232320, `12323231, `13232321, `02323230 ; $37\n  dw `22222222, `32322222, `23232222, `32323222, `23232322, `32323222, `23232322, `32323232 ; $38\n  dw `13211121, `12111131, `13111121, `12111111, `11111111, `11111111, `11112111, `11123111 ; $39\n  dw `11111111, `11111111, `11111111, `12323211, `13232321, `12323231, `13232321, `12323231 ; $3a\n  dw `11111223, `11111122, `11111123, `11111112, `11111113, `11111112, `11111113, `11111112 ; $3b\n  dw `13232321, `12323231, `13232321, `12323231, `13232321, `12323231, `13232321, `12323211 ; $3c\n  dw `11132111, `11123211, `11232311, `11323211, `11232321, `12323231, `13232321, `22323232 ; $3d\n  dw `11111113, `11111112, `11111113, `11111112, `11111113, `11111112, `11111113, `32322232 ; $3e\n  dw `23111111, `32111111, `23111111, `32311111, `23211111, `32321111, `23232311, `32323232 ; $3f\n  dw `11111113, `11111122, `11111123, `11111122, `11111223, `11112222, `11222223, `32222232 ; $40\n  dw `23232323, `22323232, `23232323, `22323232, `23232323, `22323232, `23232323, `22222222 ; $41\n  dw `23222323, `32322232, `23222223, `32222232, `23222223, `32222222, `22222223, `22222222 ; $42\n  dw `23232322, `32323232, `23232322, `32323232, `23232322, `32323232, `23232322, `22222222 ; $43\n  dw `22232323, `22323232, `22232323, `22223232, `22232323, `22223232, `22222223, `22222222 ; $44\n  dw `22222223, `32222222, `22222223, `32222222, `22222223, `32222222, `22222223, `22222222 ; $45\n.end\n\nSECTION "Tilemap", ROM0\n\nTilemap:\n  db $00, $00, $00, $00, $00, $00, $00, $00, $00, $00, $00, $00, $00, $00, $00, $00, $00, $00, $00, $00,  0,0,0,0,0,0,0,0,0,0,0,0\n  db $00, $00, $00, $00, $00, $00, $00, $00, $00, $00, $00, $00, $00, $00, $00, $00, $00, $00, $00, $00,  0,0,0,0,0,0,0,0,0,0,0,0\n  db $00, $00, $00, $00, $00, $00, $00, $00, $00, $00, $00, $00, $00, $00, $00, $00, $00, $00, $00, $00,  0,0,0,0,0,0,0,0,0,0,0,0\n  db $00, $00, $00, $00, $00, $00, $00, $00, $00, $00, $00, $00, $00, $00, $00, $00, $00, $00, $00, $00,  0,0,0,0,0,0,0,0,0,0,0,0\n  db $00, $00, $01, $02, $03, $01, $04, $03, $01, $05, $00, $01, $05, $00, $06, $04, $07, $00, $00, $00,  0,0,0,0,0,0,0,0,0,0,0,0\n  db $00, $00, $08, $09, $0a, $0b, $0c, $0d, $0b, $0e, $0f, $08, $0e, $0f, $10, $11, $12, $13, $00, $00,  0,0,0,0,0,0,0,0,0,0,0,0\n  db $00, $00, $14, $15, $16, $17, $18, $19, $1a, $1b, $0f, $14, $1b, $0f, $14, $1c, $16, $1d, $00, $00,  0,0,0,0,0,0,0,0,0,0,0,0\n  db $00, $00, $1e, $1f, $20, $21, $22, $23, $24, $22, $25, $1e, $22, $25, $26, $22, $27, $1d, $00, $00,  0,0,0,0,0,0,0,0,0,0,0,0\n  db $00, $00, $01, $28, $29, $2a, $2b, $2c, $2d, $2b, $2e, $2d, $2f, $30, $2d, $31, $32, $33, $00, $00,  0,0,0,0,0,0,0,0,0,0,0,0\n  db $00, $00, $08, $34, $0a, $0b, $11, $0a, $0b, $35, $36, $0b, $0e, $0f, $08, $37, $0a, $38, $00, $00,  0,0,0,0,0,0,0,0,0,0,0,0\n  db $00, $00, $14, $39, $16, $17, $1c, $16, $17, $3a, $3b, $17, $1b, $0f, $14, $3c, $16, $1d, $00, $00,  0,0,0,0,0,0,0,0,0,0,0,0\n  db $00, $00, $1e, $3d, $3e, $3f, $22, $27, $21, $1f, $20, $21, $22, $25, $1e, $22, $40, $1d, $00, $00,  0,0,0,0,0,0,0,0,0,0,0,0\n  db $00, $00, $00, $41, $42, $43, $44, $30, $33, $41, $45, $43, $41, $30, $43, $41, $30, $33, $00, $00,  0,0,0,0,0,0,0,0,0,0,0,0\n  db $00, $00, $00, $00, $00, $00, $00, $00, $00, $00, $00, $00, $00, $00, $00, $00, $00, $00, $00, $00,  0,0,0,0,0,0,0,0,0,0,0,0\n  db $00, $00, $00, $00, $00, $00, $00, $00, $00, $00, $00, $00, $00, $00, $00, $00, $00, $00, $00, $00,  0,0,0,0,0,0,0,0,0,0,0,0\n  db $00, $00, $00, $00, $00, $00, $00, $00, $00, $00, $00, $00, $00, $00, $00, $00, $00, $00, $00, $00,  0,0,0,0,0,0,0,0,0,0,0,0\n  db $00, $00, $00, $00, $00, $00, $00, $00, $00, $00, $00, $00, $00, $00, $00, $00, $00, $00, $00, $00,  0,0,0,0,0,0,0,0,0,0,0,0\n  db $00, $00, $00, $00, $00, $00, $00, $00, $00, $00, $00, $00, $00, $00, $00, $00, $00, $00, $00, $00,  0,0,0,0,0,0,0,0,0,0,0,0\n.end\n',Pt={autoUrl:!1,autoLocalStorage:!1};let at;oi();function oi(){at={"hardware.inc":tr,"main.asm":mo}}function vo(){if(location.hash.length>1)location.hash.startsWith("#https://gist.github.com/")?(li(location.hash.slice(1)),location.hash=""):location.hash.startsWith("#http://")||location.hash.startsWith("#https://")?(Ao(location.hash.slice(1)),location.hash=""):(yo(),Pt.autoUrl=!0);else if("rgbds_storage"in localStorage){at={"hardware.inc":tr};for(var[te,Q]of Object.entries(JSON.parse(localStorage.rgbds_storage)))Q instanceof Object&&(Q=Uint8Array.from(Object.values(Q))),at[te]=Q;Pt.autoLocalStorage=!0}}function _t(){return at}function Gt(te,Q){typeof te<"u"&&(Q instanceof ArrayBuffer&&(Q=new Uint8Array(Q)),Q===null?delete at[te]:at[te]=Q),Pt.autoUrl&&(document.location.hash=new URL(si()).hash),Pt.autoLocalStorage&&(localStorage.rgbds_storage=JSON.stringify(at))}function yo(){var te=Kn.decompressFromEncodedURIComponent(location.hash.slice(1));if(te==null)return!1;if(te.indexOf("\0")<0)return at["main.asm"]=te,!0;te=te.split("\0"),at={"hardware.inc":tr};for(var Q=0;Q<te.length-1;Q+=2)at[te[Q]]=te[Q+1];return!0}function si(){var te="";for(var[Q,f]of Object.entries(at))Q=="hardware.inc"&&f==tr||(te+=Q+"\0"+f+"\0");var D=new URL(document.location);return D.hash=Kn.compressToEncodedURIComponent(te),D.hash.length>1024*2?"Sorry, code too large for direct URL generation":D.toString()}function ai(te){var Q=/https:\/\/gist\.github\.com\/\w+\/(\w+)/.exec(te);return Q?Q[1]:null}function li(te){var Q=ai(te);if(Q!=null){var f=new XMLHttpRequest;f.open("GET","https://api.github.com/gists/"+Q,!1),f.send(),JSON.parse(f.response);var D=JSON.parse(f.responseText);at={"hardware.inc":tr};for(var[z,M]of Object.entries(D.files))at[z]=M.content;Cn()}}function wo(te,Q,f){var D={};for(var[z,M]of Object.entries(at))D[z]={content:M};if(f==""){var y=new XMLHttpRequest;return y.open("POST","https://api.github.com/gists",!1),y.setRequestHeader("Authorization","Basic "+btoa(te+":"+Q)),y.send(JSON.stringify({files:D})),y.status>=400?null:JSON.parse(y.response).html_url}var A=ai(f);if(A==null)return null;var y=new XMLHttpRequest;return y.open("PATCH","https://api.github.com/gists/"+A,!1),y.setRequestHeader("Authorization","Basic "+btoa(te+":"+Q)),y.send(JSON.stringify({files:D})),y.status>=400?null:f}function _o(){var te=new Yn;for(var[Q,f]of Object.entries(at))te.file(Q,f);te.generateAsync({type:"blob"}).then(function(D){var z=document.createElement("a"),M=window.URL.createObjectURL(D,{type:"application/octet-stream"});z.setAttribute("href",M),z.setAttribute("download","source.zip"),z.style.display="none",document.body.appendChild(z),z.click(),document.body.removeChild(z),window.URL.revokeObjectURL(M)})}function bo(te){at={"hardware.inc":tr},Yn.loadAsync(te).then(function(Q){var f=Object.values(Q.files);function D(){if(!(f.length<1)){var z=f.pop(),M=vn(z.name)=="text"?"string":"uint8array";z.async(M).then(function(A){at[z.name]=A,D(),Cn()})}}D()})}function Ao(te){at={"hardware.inc":tr};var Q=new XMLHttpRequest;Q.open("GET",te,!1),Q.send(),at["main.asm"]=Q.response,Cn()}function Cn(){Jt(Object.keys(at)[0]),Vt(),qr()}var Eo=async function(te={}){var Q,f=te,D,z,M=new Promise((C,B)=>{D=C,z=B}),A=[],y="./this.program",s=(C,B)=>{throw B},h=import.meta.url,o="";function r(C){return f.locateFile?f.locateFile(C,o):o+C}var i,t;{try{o=new URL(".",h).href}catch{}i=async C=>{var B=await fetch(C,{credentials:"same-origin"});if(B.ok)return B.arrayBuffer();throw new Error(B.status+" : "+B.url)}}var e=console.log.bind(console),n=console.error.bind(console),a,c,d=!1,k,v,p,u,m,E,S;function $(){var C=c.buffer;v=new Int8Array(C),u=new Int16Array(C),p=new Uint8Array(C),m=new Int32Array(C),E=new Uint32Array(C),S=new BigInt64Array(C),new BigUint64Array(C)}function R(){if(f.preRun)for(typeof f.preRun=="function"&&(f.preRun=[f.preRun]);f.preRun.length;)ze(f.preRun.shift());Se(Pe)}function g(){!f.noFSInit&&!V.initialized&&V.init(),ce.y(),V.ignorePermissions=!1}function w(){if(f.postRun)for(typeof f.postRun=="function"&&(f.postRun=[f.postRun]);f.postRun.length;)xe(f.postRun.shift());Se($e)}var l=0,_=null;function L(C){l++,f.monitorRunDependencies?.(l)}function I(C){if(l--,f.monitorRunDependencies?.(l),l==0&&_){var B=_;_=null,B()}}function W(C){f.onAbort?.(C),C="Aborted("+C+")",n(C),d=!0,C+=". Build with -sASSERTIONS for more info.";var B=new WebAssembly.RuntimeError(C);throw z(B),B}var H;function J(){return f.locateFile?r("rgbasm.wasm"):new URL(""+new URL("rgbasm-rnEzaw7F.wasm",import.meta.url).href,import.meta.url).href}function q(C){if(C==H&&a)return new Uint8Array(a);throw"both async and sync fetching of the wasm failed"}async function Z(C){if(!a)try{var B=await i(C);return new Uint8Array(B)}catch{}return q(C)}async function oe(C,B){try{var P=await Z(C),K=await WebAssembly.instantiate(P,B);return K}catch(re){n(`failed to asynchronously prepare wasm: ${re}`),W(re)}}async function ee(C,B,P){if(!C&&typeof WebAssembly.instantiateStreaming=="function")try{var K=fetch(B,{credentials:"same-origin"}),re=await WebAssembly.instantiateStreaming(K,P);return re}catch(ue){n(`wasm streaming compile failed: ${ue}`),n("falling back to ArrayBuffer instantiation")}return oe(B,P)}function se(){return{a:ie}}async function fe(){function C(ue,ve){return ce=ue.exports,c=ce.x,$(),I(),ce}L();function B(ue){return C(ue.instance)}var P=se();if(f.instantiateWasm)return new Promise((ue,ve)=>{f.instantiateWasm(P,(Ae,Oe)=>{ue(C(Ae))})});H??=J();try{var K=await ee(a,H,P),re=B(K);return re}catch(ue){return z(ue),Promise.reject(ue)}}class Ce{name="ExitStatus";constructor(B){this.message=`Program terminated with exit(${B})`,this.status=B}}var Se=C=>{for(;C.length>0;)C.shift()(f)},$e=[],xe=C=>$e.push(C),Pe=[],ze=C=>Pe.push(C),Je=!0,F=()=>{var C=m[+rt.varargs>>2];return rt.varargs+=4,C},be=F,he={isAbs:C=>C.charAt(0)==="/",splitPath:C=>{var B=/^(\/?|)([\s\S]*?)((?:\.{1,2}|[^\/]+?|)(\.[^.\/]*|))(?:[\/]*)$/;return B.exec(C).slice(1)},normalizeArray:(C,B)=>{for(var P=0,K=C.length-1;K>=0;K--){var re=C[K];re==="."?C.splice(K,1):re===".."?(C.splice(K,1),P++):P&&(C.splice(K,1),P--)}if(B)for(;P;P--)C.unshift("..");return C},normalize:C=>{var B=he.isAbs(C),P=C.slice(-1)==="/";return C=he.normalizeArray(C.split("/").filter(K=>!!K),!B).join("/"),!C&&!B&&(C="."),C&&P&&(C+="/"),(B?"/":"")+C},dirname:C=>{var B=he.splitPath(C),P=B[0],K=B[1];return!P&&!K?".":(K&&(K=K.slice(0,-1)),P+K)},basename:C=>C&&C.match(/([^\/]+|\/)\/*$/)[1],join:(...C)=>he.normalize(C.join("/")),join2:(C,B)=>he.normalize(C+"/"+B)},ae=()=>C=>crypto.getRandomValues(C),ne=C=>{(ne=ae())(C)},de={resolve:(...C)=>{for(var B="",P=!1,K=C.length-1;K>=-1&&!P;K--){var re=K>=0?C[K]:V.cwd();if(typeof re!="string")throw new TypeError("Arguments to path.resolve must be strings");if(!re)return"";B=re+"/"+B,P=he.isAbs(re)}return B=he.normalizeArray(B.split("/").filter(ue=>!!ue),!P).join("/"),(P?"/":"")+B||"."},relative:(C,B)=>{C=de.resolve(C).slice(1),B=de.resolve(B).slice(1);function P(qe){for(var We=0;We<qe.length&&qe[We]==="";We++);for(var it=qe.length-1;it>=0&&qe[it]==="";it--);return We>it?[]:qe.slice(We,it-We+1)}for(var K=P(C.split("/")),re=P(B.split("/")),ue=Math.min(K.length,re.length),ve=ue,Ae=0;Ae<ue;Ae++)if(K[Ae]!==re[Ae]){ve=Ae;break}for(var Oe=[],Ae=ve;Ae<K.length;Ae++)Oe.push("..");return Oe=Oe.concat(re.slice(ve)),Oe.join("/")}},Me=typeof TextDecoder<"u"?new TextDecoder:void 0,ke=(C,B=0,P=NaN)=>{for(var K=B+P,re=B;C[re]&&!(re>=K);)++re;if(re-B>16&&C.buffer&&Me)return Me.decode(C.subarray(B,re));for(var ue="";B<re;){var ve=C[B++];if(!(ve&128)){ue+=String.fromCharCode(ve);continue}var Ae=C[B++]&63;if((ve&224)==192){ue+=String.fromCharCode((ve&31)<<6|Ae);continue}var Oe=C[B++]&63;if((ve&240)==224?ve=(ve&15)<<12|Ae<<6|Oe:ve=(ve&7)<<18|Ae<<12|Oe<<6|C[B++]&63,ve<65536)ue+=String.fromCharCode(ve);else{var qe=ve-65536;ue+=String.fromCharCode(55296|qe>>10,56320|qe&1023)}}return ue},we=[],De=C=>{for(var B=0,P=0;P<C.length;++P){var K=C.charCodeAt(P);K<=127?B++:K<=2047?B+=2:K>=55296&&K<=57343?(B+=4,++P):B+=3}return B},Ne=(C,B,P,K)=>{if(!(K>0))return 0;for(var re=P,ue=P+K-1,ve=0;ve<C.length;++ve){var Ae=C.charCodeAt(ve);if(Ae>=55296&&Ae<=57343){var Oe=C.charCodeAt(++ve);Ae=65536+((Ae&1023)<<10)|Oe&1023}if(Ae<=127){if(P>=ue)break;B[P++]=Ae}else if(Ae<=2047){if(P+1>=ue)break;B[P++]=192|Ae>>6,B[P++]=128|Ae&63}else if(Ae<=65535){if(P+2>=ue)break;B[P++]=224|Ae>>12,B[P++]=128|Ae>>6&63,B[P++]=128|Ae&63}else{if(P+3>=ue)break;B[P++]=240|Ae>>18,B[P++]=128|Ae>>12&63,B[P++]=128|Ae>>6&63,B[P++]=128|Ae&63}}return B[P]=0,P-re},Be=(C,B,P)=>{var K=De(C)+1,re=new Array(K),ue=Ne(C,re,0,re.length);return re.length=ue,re},ye=()=>{if(!we.length){var C=null;if(typeof window<"u"&&typeof window.prompt=="function"&&(C=window.prompt("Input: "),C!==null&&(C+=`
`)),!C)return null;we=Be(C)}return we.shift()},Ee={ttys:[],init(){},shutdown(){},register(C,B){Ee.ttys[C]={input:[],output:[],ops:B},V.registerDevice(C,Ee.stream_ops)},stream_ops:{open(C){var B=Ee.ttys[C.node.rdev];if(!B)throw new V.ErrnoError(43);C.tty=B,C.seekable=!1},close(C){C.tty.ops.fsync(C.tty)},fsync(C){C.tty.ops.fsync(C.tty)},read(C,B,P,K,re){if(!C.tty||!C.tty.ops.get_char)throw new V.ErrnoError(60);for(var ue=0,ve=0;ve<K;ve++){var Ae;try{Ae=C.tty.ops.get_char(C.tty)}catch{throw new V.ErrnoError(29)}if(Ae===void 0&&ue===0)throw new V.ErrnoError(6);if(Ae==null)break;ue++,B[P+ve]=Ae}return ue&&(C.node.atime=Date.now()),ue},write(C,B,P,K,re){if(!C.tty||!C.tty.ops.put_char)throw new V.ErrnoError(60);try{for(var ue=0;ue<K;ue++)C.tty.ops.put_char(C.tty,B[P+ue])}catch{throw new V.ErrnoError(29)}return K&&(C.node.mtime=C.node.ctime=Date.now()),ue}},default_tty_ops:{get_char(C){return ye()},put_char(C,B){B===null||B===10?(e(ke(C.output)),C.output=[]):B!=0&&C.output.push(B)},fsync(C){C.output?.length>0&&(e(ke(C.output)),C.output=[])},ioctl_tcgets(C){return{c_iflag:25856,c_oflag:5,c_cflag:191,c_lflag:35387,c_cc:[3,28,127,21,4,0,1,0,17,19,26,0,18,15,23,22,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0]}},ioctl_tcsets(C,B,P){return 0},ioctl_tiocgwinsz(C){return[24,80]}},default_tty1_ops:{put_char(C,B){B===null||B===10?(n(ke(C.output)),C.output=[]):B!=0&&C.output.push(B)},fsync(C){C.output?.length>0&&(n(ke(C.output)),C.output=[])}}},Ie=(C,B)=>p.fill(0,C,C+B),_e=(C,B)=>Math.ceil(C/B)*B,Ke=C=>{C=_e(C,65536);var B=me(65536,C);return B&&Ie(B,C),B},Fe={ops_table:null,mount(C){return Fe.createNode(null,"/",16895,0)},createNode(C,B,P,K){if(V.isBlkdev(P)||V.isFIFO(P))throw new V.ErrnoError(63);Fe.ops_table||={dir:{node:{getattr:Fe.node_ops.getattr,setattr:Fe.node_ops.setattr,lookup:Fe.node_ops.lookup,mknod:Fe.node_ops.mknod,rename:Fe.node_ops.rename,unlink:Fe.node_ops.unlink,rmdir:Fe.node_ops.rmdir,readdir:Fe.node_ops.readdir,symlink:Fe.node_ops.symlink},stream:{llseek:Fe.stream_ops.llseek}},file:{node:{getattr:Fe.node_ops.getattr,setattr:Fe.node_ops.setattr},stream:{llseek:Fe.stream_ops.llseek,read:Fe.stream_ops.read,write:Fe.stream_ops.write,mmap:Fe.stream_ops.mmap,msync:Fe.stream_ops.msync}},link:{node:{getattr:Fe.node_ops.getattr,setattr:Fe.node_ops.setattr,readlink:Fe.node_ops.readlink},stream:{}},chrdev:{node:{getattr:Fe.node_ops.getattr,setattr:Fe.node_ops.setattr},stream:V.chrdev_stream_ops}};var re=V.createNode(C,B,P,K);return V.isDir(re.mode)?(re.node_ops=Fe.ops_table.dir.node,re.stream_ops=Fe.ops_table.dir.stream,re.contents={}):V.isFile(re.mode)?(re.node_ops=Fe.ops_table.file.node,re.stream_ops=Fe.ops_table.file.stream,re.usedBytes=0,re.contents=null):V.isLink(re.mode)?(re.node_ops=Fe.ops_table.link.node,re.stream_ops=Fe.ops_table.link.stream):V.isChrdev(re.mode)&&(re.node_ops=Fe.ops_table.chrdev.node,re.stream_ops=Fe.ops_table.chrdev.stream),re.atime=re.mtime=re.ctime=Date.now(),C&&(C.contents[B]=re,C.atime=C.mtime=C.ctime=re.atime),re},getFileDataAsTypedArray(C){return C.contents?C.contents.subarray?C.contents.subarray(0,C.usedBytes):new Uint8Array(C.contents):new Uint8Array(0)},expandFileStorage(C,B){var P=C.contents?C.contents.length:0;if(!(P>=B)){var K=1024*1024;B=Math.max(B,P*(P<K?2:1.125)>>>0),P!=0&&(B=Math.max(B,256));var re=C.contents;C.contents=new Uint8Array(B),C.usedBytes>0&&C.contents.set(re.subarray(0,C.usedBytes),0)}},resizeFileStorage(C,B){if(C.usedBytes!=B)if(B==0)C.contents=null,C.usedBytes=0;else{var P=C.contents;C.contents=new Uint8Array(B),P&&C.contents.set(P.subarray(0,Math.min(B,C.usedBytes))),C.usedBytes=B}},node_ops:{getattr(C){var B={};return B.dev=V.isChrdev(C.mode)?C.id:1,B.ino=C.id,B.mode=C.mode,B.nlink=1,B.uid=0,B.gid=0,B.rdev=C.rdev,V.isDir(C.mode)?B.size=4096:V.isFile(C.mode)?B.size=C.usedBytes:V.isLink(C.mode)?B.size=C.link.length:B.size=0,B.atime=new Date(C.atime),B.mtime=new Date(C.mtime),B.ctime=new Date(C.ctime),B.blksize=4096,B.blocks=Math.ceil(B.size/B.blksize),B},setattr(C,B){for(const P of["mode","atime","mtime","ctime"])B[P]!=null&&(C[P]=B[P]);B.size!==void 0&&Fe.resizeFileStorage(C,B.size)},lookup(C,B){throw Fe.doesNotExistError},mknod(C,B,P,K){return Fe.createNode(C,B,P,K)},rename(C,B,P){var K;try{K=V.lookupNode(B,P)}catch{}if(K){if(V.isDir(C.mode))for(var re in K.contents)throw new V.ErrnoError(55);V.hashRemoveNode(K)}delete C.parent.contents[C.name],B.contents[P]=C,C.name=P,B.ctime=B.mtime=C.parent.ctime=C.parent.mtime=Date.now()},unlink(C,B){delete C.contents[B],C.ctime=C.mtime=Date.now()},rmdir(C,B){var P=V.lookupNode(C,B);for(var K in P.contents)throw new V.ErrnoError(55);delete C.contents[B],C.ctime=C.mtime=Date.now()},readdir(C){return[".","..",...Object.keys(C.contents)]},symlink(C,B,P){var K=Fe.createNode(C,B,41471,0);return K.link=P,K},readlink(C){if(!V.isLink(C.mode))throw new V.ErrnoError(28);return C.link}},stream_ops:{read(C,B,P,K,re){var ue=C.node.contents;if(re>=C.node.usedBytes)return 0;var ve=Math.min(C.node.usedBytes-re,K);if(ve>8&&ue.subarray)B.set(ue.subarray(re,re+ve),P);else for(var Ae=0;Ae<ve;Ae++)B[P+Ae]=ue[re+Ae];return ve},write(C,B,P,K,re,ue){if(B.buffer===v.buffer&&(ue=!1),!K)return 0;var ve=C.node;if(ve.mtime=ve.ctime=Date.now(),B.subarray&&(!ve.contents||ve.contents.subarray)){if(ue)return ve.contents=B.subarray(P,P+K),ve.usedBytes=K,K;if(ve.usedBytes===0&&re===0)return ve.contents=B.slice(P,P+K),ve.usedBytes=K,K;if(re+K<=ve.usedBytes)return ve.contents.set(B.subarray(P,P+K),re),K}if(Fe.expandFileStorage(ve,re+K),ve.contents.subarray&&B.subarray)ve.contents.set(B.subarray(P,P+K),re);else for(var Ae=0;Ae<K;Ae++)ve.contents[re+Ae]=B[P+Ae];return ve.usedBytes=Math.max(ve.usedBytes,re+K),K},llseek(C,B,P){var K=B;if(P===1?K+=C.position:P===2&&V.isFile(C.node.mode)&&(K+=C.node.usedBytes),K<0)throw new V.ErrnoError(28);return K},mmap(C,B,P,K,re){if(!V.isFile(C.node.mode))throw new V.ErrnoError(43);var ue,ve,Ae=C.node.contents;if(!(re&2)&&Ae&&Ae.buffer===v.buffer)ve=!1,ue=Ae.byteOffset;else{if(ve=!0,ue=Ke(B),!ue)throw new V.ErrnoError(48);Ae&&((P>0||P+B<Ae.length)&&(Ae.subarray?Ae=Ae.subarray(P,P+B):Ae=Array.prototype.slice.call(Ae,P,P+B)),v.set(Ae,ue))}return{ptr:ue,allocated:ve}},msync(C,B,P,K,re){return Fe.stream_ops.write(C,B,0,K,P,!1),0}}},Te=async C=>{var B=await i(C);return new Uint8Array(B)},Le=(...C)=>V.createDataFile(...C),He=[],U=(C,B,P,K)=>{typeof Browser<"u"&&Browser.init();var re=!1;return He.forEach(ue=>{re||ue.canHandle(B)&&(ue.handle(C,B,P,K),re=!0)}),re},Ve=(C,B,P,K,re,ue,ve,Ae,Oe,qe)=>{var We=B?de.resolve(he.join2(C,B)):C;function it(et){function Ge(tt){qe?.(),Ae||Le(C,B,tt,K,re,Oe),ue?.(),I()}U(et,We,Ge,()=>{ve?.(),I()})||Ge(et)}L(),typeof P=="string"?Te(P).then(it,ve):it(P)},G=C=>{var B={r:0,"r+":2,w:577,"w+":578,a:1089,"a+":1090},P=B[C];if(typeof P>"u")throw new Error(`Unknown file open mode: ${C}`);return P},nt=(C,B)=>{var P=0;return C&&(P|=365),B&&(P|=146),P},V={root:null,mounts:[],devices:{},streams:[],nextInode:1,nameTable:null,currentPath:"/",initialized:!1,ignorePermissions:!0,filesystems:null,syncFSRequests:0,readFiles:{},ErrnoError:class{name="ErrnoError";constructor(C){this.errno=C}},FSStream:class{shared={};get object(){return this.node}set object(C){this.node=C}get isRead(){return(this.flags&2097155)!==1}get isWrite(){return(this.flags&2097155)!==0}get isAppend(){return this.flags&1024}get flags(){return this.shared.flags}set flags(C){this.shared.flags=C}get position(){return this.shared.position}set position(C){this.shared.position=C}},FSNode:class{node_ops={};stream_ops={};readMode=365;writeMode=146;mounted=null;constructor(C,B,P,K){C||(C=this),this.parent=C,this.mount=C.mount,this.id=V.nextInode++,this.name=B,this.mode=P,this.rdev=K,this.atime=this.mtime=this.ctime=Date.now()}get read(){return(this.mode&this.readMode)===this.readMode}set read(C){C?this.mode|=this.readMode:this.mode&=~this.readMode}get write(){return(this.mode&this.writeMode)===this.writeMode}set write(C){C?this.mode|=this.writeMode:this.mode&=~this.writeMode}get isFolder(){return V.isDir(this.mode)}get isDevice(){return V.isChrdev(this.mode)}},lookupPath(C,B={}){if(!C)throw new V.ErrnoError(44);B.follow_mount??=!0,he.isAbs(C)||(C=V.cwd()+"/"+C);e:for(var P=0;P<40;P++){for(var K=C.split("/").filter(qe=>!!qe),re=V.root,ue="/",ve=0;ve<K.length;ve++){var Ae=ve===K.length-1;if(Ae&&B.parent)break;if(K[ve]!=="."){if(K[ve]===".."){if(ue=he.dirname(ue),V.isRoot(re)){C=ue+"/"+K.slice(ve+1).join("/");continue e}else re=re.parent;continue}ue=he.join2(ue,K[ve]);try{re=V.lookupNode(re,K[ve])}catch(qe){if(qe?.errno===44&&Ae&&B.noent_okay)return{path:ue};throw qe}if(V.isMountpoint(re)&&(!Ae||B.follow_mount)&&(re=re.mounted.root),V.isLink(re.mode)&&(!Ae||B.follow)){if(!re.node_ops.readlink)throw new V.ErrnoError(52);var Oe=re.node_ops.readlink(re);he.isAbs(Oe)||(Oe=he.dirname(ue)+"/"+Oe),C=Oe+"/"+K.slice(ve+1).join("/");continue e}}}return{path:ue,node:re}}throw new V.ErrnoError(32)},getPath(C){for(var B;;){if(V.isRoot(C)){var P=C.mount.mountpoint;return B?P[P.length-1]!=="/"?`${P}/${B}`:P+B:P}B=B?`${C.name}/${B}`:C.name,C=C.parent}},hashName(C,B){for(var P=0,K=0;K<B.length;K++)P=(P<<5)-P+B.charCodeAt(K)|0;return(C+P>>>0)%V.nameTable.length},hashAddNode(C){var B=V.hashName(C.parent.id,C.name);C.name_next=V.nameTable[B],V.nameTable[B]=C},hashRemoveNode(C){var B=V.hashName(C.parent.id,C.name);if(V.nameTable[B]===C)V.nameTable[B]=C.name_next;else for(var P=V.nameTable[B];P;){if(P.name_next===C){P.name_next=C.name_next;break}P=P.name_next}},lookupNode(C,B){var P=V.mayLookup(C);if(P)throw new V.ErrnoError(P);for(var K=V.hashName(C.id,B),re=V.nameTable[K];re;re=re.name_next){var ue=re.name;if(re.parent.id===C.id&&ue===B)return re}return V.lookup(C,B)},createNode(C,B,P,K){var re=new V.FSNode(C,B,P,K);return V.hashAddNode(re),re},destroyNode(C){V.hashRemoveNode(C)},isRoot(C){return C===C.parent},isMountpoint(C){return!!C.mounted},isFile(C){return(C&61440)===32768},isDir(C){return(C&61440)===16384},isLink(C){return(C&61440)===40960},isChrdev(C){return(C&61440)===8192},isBlkdev(C){return(C&61440)===24576},isFIFO(C){return(C&61440)===4096},isSocket(C){return(C&49152)===49152},flagsToPermissionString(C){var B=["r","w","rw"][C&3];return C&512&&(B+="w"),B},nodePermissions(C,B){return V.ignorePermissions?0:B.includes("r")&&!(C.mode&292)||B.includes("w")&&!(C.mode&146)||B.includes("x")&&!(C.mode&73)?2:0},mayLookup(C){if(!V.isDir(C.mode))return 54;var B=V.nodePermissions(C,"x");return B||(C.node_ops.lookup?0:2)},mayCreate(C,B){if(!V.isDir(C.mode))return 54;try{var P=V.lookupNode(C,B);return 20}catch{}return V.nodePermissions(C,"wx")},mayDelete(C,B,P){var K;try{K=V.lookupNode(C,B)}catch(ue){return ue.errno}var re=V.nodePermissions(C,"wx");if(re)return re;if(P){if(!V.isDir(K.mode))return 54;if(V.isRoot(K)||V.getPath(K)===V.cwd())return 10}else if(V.isDir(K.mode))return 31;return 0},mayOpen(C,B){return C?V.isLink(C.mode)?32:V.isDir(C.mode)&&(V.flagsToPermissionString(B)!=="r"||B&576)?31:V.nodePermissions(C,V.flagsToPermissionString(B)):44},checkOpExists(C,B){if(!C)throw new V.ErrnoError(B);return C},MAX_OPEN_FDS:4096,nextfd(){for(var C=0;C<=V.MAX_OPEN_FDS;C++)if(!V.streams[C])return C;throw new V.ErrnoError(33)},getStreamChecked(C){var B=V.getStream(C);if(!B)throw new V.ErrnoError(8);return B},getStream:C=>V.streams[C],createStream(C,B=-1){return C=Object.assign(new V.FSStream,C),B==-1&&(B=V.nextfd()),C.fd=B,V.streams[B]=C,C},closeStream(C){V.streams[C]=null},dupStream(C,B=-1){var P=V.createStream(C,B);return P.stream_ops?.dup?.(P),P},doSetAttr(C,B,P){var K=C?.stream_ops.setattr,re=K?C:B;K??=B.node_ops.setattr,V.checkOpExists(K,63),K(re,P)},chrdev_stream_ops:{open(C){var B=V.getDevice(C.node.rdev);C.stream_ops=B.stream_ops,C.stream_ops.open?.(C)},llseek(){throw new V.ErrnoError(70)}},major:C=>C>>8,minor:C=>C&255,makedev:(C,B)=>C<<8|B,registerDevice(C,B){V.devices[C]={stream_ops:B}},getDevice:C=>V.devices[C],getMounts(C){for(var B=[],P=[C];P.length;){var K=P.pop();B.push(K),P.push(...K.mounts)}return B},syncfs(C,B){typeof C=="function"&&(B=C,C=!1),V.syncFSRequests++,V.syncFSRequests>1&&n(`warning: ${V.syncFSRequests} FS.syncfs operations in flight at once, probably just doing extra work`);var P=V.getMounts(V.root.mount),K=0;function re(ve){return V.syncFSRequests--,B(ve)}function ue(ve){if(ve)return ue.errored?void 0:(ue.errored=!0,re(ve));++K>=P.length&&re(null)}P.forEach(ve=>{if(!ve.type.syncfs)return ue(null);ve.type.syncfs(ve,C,ue)})},mount(C,B,P){var K=P==="/",re=!P,ue;if(K&&V.root)throw new V.ErrnoError(10);if(!K&&!re){var ve=V.lookupPath(P,{follow_mount:!1});if(P=ve.path,ue=ve.node,V.isMountpoint(ue))throw new V.ErrnoError(10);if(!V.isDir(ue.mode))throw new V.ErrnoError(54)}var Ae={type:C,opts:B,mountpoint:P,mounts:[]},Oe=C.mount(Ae);return Oe.mount=Ae,Ae.root=Oe,K?V.root=Oe:ue&&(ue.mounted=Ae,ue.mount&&ue.mount.mounts.push(Ae)),Oe},unmount(C){var B=V.lookupPath(C,{follow_mount:!1});if(!V.isMountpoint(B.node))throw new V.ErrnoError(28);var P=B.node,K=P.mounted,re=V.getMounts(K);Object.keys(V.nameTable).forEach(ve=>{for(var Ae=V.nameTable[ve];Ae;){var Oe=Ae.name_next;re.includes(Ae.mount)&&V.destroyNode(Ae),Ae=Oe}}),P.mounted=null;var ue=P.mount.mounts.indexOf(K);P.mount.mounts.splice(ue,1)},lookup(C,B){return C.node_ops.lookup(C,B)},mknod(C,B,P){var K=V.lookupPath(C,{parent:!0}),re=K.node,ue=he.basename(C);if(!ue)throw new V.ErrnoError(28);if(ue==="."||ue==="..")throw new V.ErrnoError(20);var ve=V.mayCreate(re,ue);if(ve)throw new V.ErrnoError(ve);if(!re.node_ops.mknod)throw new V.ErrnoError(63);return re.node_ops.mknod(re,ue,B,P)},statfs(C){return V.statfsNode(V.lookupPath(C,{follow:!0}).node)},statfsStream(C){return V.statfsNode(C.node)},statfsNode(C){var B={bsize:4096,frsize:4096,blocks:1e6,bfree:5e5,bavail:5e5,files:V.nextInode,ffree:V.nextInode-1,fsid:42,flags:2,namelen:255};return C.node_ops.statfs&&Object.assign(B,C.node_ops.statfs(C.mount.opts.root)),B},create(C,B=438){return B&=4095,B|=32768,V.mknod(C,B,0)},mkdir(C,B=511){return B&=1023,B|=16384,V.mknod(C,B,0)},mkdirTree(C,B){var P=C.split("/"),K="";for(var re of P)if(re){(K||he.isAbs(C))&&(K+="/"),K+=re;try{V.mkdir(K,B)}catch(ue){if(ue.errno!=20)throw ue}}},mkdev(C,B,P){return typeof P>"u"&&(P=B,B=438),B|=8192,V.mknod(C,B,P)},symlink(C,B){if(!de.resolve(C))throw new V.ErrnoError(44);var P=V.lookupPath(B,{parent:!0}),K=P.node;if(!K)throw new V.ErrnoError(44);var re=he.basename(B),ue=V.mayCreate(K,re);if(ue)throw new V.ErrnoError(ue);if(!K.node_ops.symlink)throw new V.ErrnoError(63);return K.node_ops.symlink(K,re,C)},rename(C,B){var P=he.dirname(C),K=he.dirname(B),re=he.basename(C),ue=he.basename(B),ve,Ae,Oe;if(ve=V.lookupPath(C,{parent:!0}),Ae=ve.node,ve=V.lookupPath(B,{parent:!0}),Oe=ve.node,!Ae||!Oe)throw new V.ErrnoError(44);if(Ae.mount!==Oe.mount)throw new V.ErrnoError(75);var qe=V.lookupNode(Ae,re),We=de.relative(C,K);if(We.charAt(0)!==".")throw new V.ErrnoError(28);if(We=de.relative(B,P),We.charAt(0)!==".")throw new V.ErrnoError(55);var it;try{it=V.lookupNode(Oe,ue)}catch{}if(qe!==it){var et=V.isDir(qe.mode),Ge=V.mayDelete(Ae,re,et);if(Ge)throw new V.ErrnoError(Ge);if(Ge=it?V.mayDelete(Oe,ue,et):V.mayCreate(Oe,ue),Ge)throw new V.ErrnoError(Ge);if(!Ae.node_ops.rename)throw new V.ErrnoError(63);if(V.isMountpoint(qe)||it&&V.isMountpoint(it))throw new V.ErrnoError(10);if(Oe!==Ae&&(Ge=V.nodePermissions(Ae,"w"),Ge))throw new V.ErrnoError(Ge);V.hashRemoveNode(qe);try{Ae.node_ops.rename(qe,Oe,ue),qe.parent=Oe}catch(tt){throw tt}finally{V.hashAddNode(qe)}}},rmdir(C){var B=V.lookupPath(C,{parent:!0}),P=B.node,K=he.basename(C),re=V.lookupNode(P,K),ue=V.mayDelete(P,K,!0);if(ue)throw new V.ErrnoError(ue);if(!P.node_ops.rmdir)throw new V.ErrnoError(63);if(V.isMountpoint(re))throw new V.ErrnoError(10);P.node_ops.rmdir(P,K),V.destroyNode(re)},readdir(C){var B=V.lookupPath(C,{follow:!0}),P=B.node,K=V.checkOpExists(P.node_ops.readdir,54);return K(P)},unlink(C){var B=V.lookupPath(C,{parent:!0}),P=B.node;if(!P)throw new V.ErrnoError(44);var K=he.basename(C),re=V.lookupNode(P,K),ue=V.mayDelete(P,K,!1);if(ue)throw new V.ErrnoError(ue);if(!P.node_ops.unlink)throw new V.ErrnoError(63);if(V.isMountpoint(re))throw new V.ErrnoError(10);P.node_ops.unlink(P,K),V.destroyNode(re)},readlink(C){var B=V.lookupPath(C),P=B.node;if(!P)throw new V.ErrnoError(44);if(!P.node_ops.readlink)throw new V.ErrnoError(28);return P.node_ops.readlink(P)},stat(C,B){var P=V.lookupPath(C,{follow:!B}),K=P.node,re=V.checkOpExists(K.node_ops.getattr,63);return re(K)},fstat(C){var B=V.getStreamChecked(C),P=B.node,K=B.stream_ops.getattr,re=K?B:P;return K??=P.node_ops.getattr,V.checkOpExists(K,63),K(re)},lstat(C){return V.stat(C,!0)},doChmod(C,B,P,K){V.doSetAttr(C,B,{mode:P&4095|B.mode&-4096,ctime:Date.now(),dontFollow:K})},chmod(C,B,P){var K;if(typeof C=="string"){var re=V.lookupPath(C,{follow:!P});K=re.node}else K=C;V.doChmod(null,K,B,P)},lchmod(C,B){V.chmod(C,B,!0)},fchmod(C,B){var P=V.getStreamChecked(C);V.doChmod(P,P.node,B,!1)},doChown(C,B,P){V.doSetAttr(C,B,{timestamp:Date.now(),dontFollow:P})},chown(C,B,P,K){var re;if(typeof C=="string"){var ue=V.lookupPath(C,{follow:!K});re=ue.node}else re=C;V.doChown(null,re,K)},lchown(C,B,P){V.chown(C,B,P,!0)},fchown(C,B,P){var K=V.getStreamChecked(C);V.doChown(K,K.node,!1)},doTruncate(C,B,P){if(V.isDir(B.mode))throw new V.ErrnoError(31);if(!V.isFile(B.mode))throw new V.ErrnoError(28);var K=V.nodePermissions(B,"w");if(K)throw new V.ErrnoError(K);V.doSetAttr(C,B,{size:P,timestamp:Date.now()})},truncate(C,B){if(B<0)throw new V.ErrnoError(28);var P;if(typeof C=="string"){var K=V.lookupPath(C,{follow:!0});P=K.node}else P=C;V.doTruncate(null,P,B)},ftruncate(C,B){var P=V.getStreamChecked(C);if(B<0||(P.flags&2097155)===0)throw new V.ErrnoError(28);V.doTruncate(P,P.node,B)},utime(C,B,P){var K=V.lookupPath(C,{follow:!0}),re=K.node,ue=V.checkOpExists(re.node_ops.setattr,63);ue(re,{atime:B,mtime:P})},open(C,B,P=438){if(C==="")throw new V.ErrnoError(44);B=typeof B=="string"?G(B):B,B&64?P=P&4095|32768:P=0;var K,re;if(typeof C=="object")K=C;else{re=C.endsWith("/");var ue=V.lookupPath(C,{follow:!(B&131072),noent_okay:!0});K=ue.node,C=ue.path}var ve=!1;if(B&64)if(K){if(B&128)throw new V.ErrnoError(20)}else{if(re)throw new V.ErrnoError(31);K=V.mknod(C,P|511,0),ve=!0}if(!K)throw new V.ErrnoError(44);if(V.isChrdev(K.mode)&&(B&=-513),B&65536&&!V.isDir(K.mode))throw new V.ErrnoError(54);if(!ve){var Ae=V.mayOpen(K,B);if(Ae)throw new V.ErrnoError(Ae)}B&512&&!ve&&V.truncate(K,0),B&=-131713;var Oe=V.createStream({node:K,path:V.getPath(K),flags:B,seekable:!0,position:0,stream_ops:K.stream_ops,ungotten:[],error:!1});return Oe.stream_ops.open&&Oe.stream_ops.open(Oe),ve&&V.chmod(K,P&511),f.logReadFiles&&!(B&1)&&(C in V.readFiles||(V.readFiles[C]=1)),Oe},close(C){if(V.isClosed(C))throw new V.ErrnoError(8);C.getdents&&(C.getdents=null);try{C.stream_ops.close&&C.stream_ops.close(C)}catch(B){throw B}finally{V.closeStream(C.fd)}C.fd=null},isClosed(C){return C.fd===null},llseek(C,B,P){if(V.isClosed(C))throw new V.ErrnoError(8);if(!C.seekable||!C.stream_ops.llseek)throw new V.ErrnoError(70);if(P!=0&&P!=1&&P!=2)throw new V.ErrnoError(28);return C.position=C.stream_ops.llseek(C,B,P),C.ungotten=[],C.position},read(C,B,P,K,re){if(K<0||re<0)throw new V.ErrnoError(28);if(V.isClosed(C))throw new V.ErrnoError(8);if((C.flags&2097155)===1)throw new V.ErrnoError(8);if(V.isDir(C.node.mode))throw new V.ErrnoError(31);if(!C.stream_ops.read)throw new V.ErrnoError(28);var ue=typeof re<"u";if(!ue)re=C.position;else if(!C.seekable)throw new V.ErrnoError(70);var ve=C.stream_ops.read(C,B,P,K,re);return ue||(C.position+=ve),ve},write(C,B,P,K,re,ue){if(K<0||re<0)throw new V.ErrnoError(28);if(V.isClosed(C))throw new V.ErrnoError(8);if((C.flags&2097155)===0)throw new V.ErrnoError(8);if(V.isDir(C.node.mode))throw new V.ErrnoError(31);if(!C.stream_ops.write)throw new V.ErrnoError(28);C.seekable&&C.flags&1024&&V.llseek(C,0,2);var ve=typeof re<"u";if(!ve)re=C.position;else if(!C.seekable)throw new V.ErrnoError(70);var Ae=C.stream_ops.write(C,B,P,K,re,ue);return ve||(C.position+=Ae),Ae},mmap(C,B,P,K,re){if((K&2)!==0&&(re&2)===0&&(C.flags&2097155)!==2)throw new V.ErrnoError(2);if((C.flags&2097155)===1)throw new V.ErrnoError(2);if(!C.stream_ops.mmap)throw new V.ErrnoError(43);if(!B)throw new V.ErrnoError(28);return C.stream_ops.mmap(C,B,P,K,re)},msync(C,B,P,K,re){return C.stream_ops.msync?C.stream_ops.msync(C,B,P,K,re):0},ioctl(C,B,P){if(!C.stream_ops.ioctl)throw new V.ErrnoError(59);return C.stream_ops.ioctl(C,B,P)},readFile(C,B={}){if(B.flags=B.flags||0,B.encoding=B.encoding||"binary",B.encoding!=="utf8"&&B.encoding!=="binary")throw new Error(`Invalid encoding type "${B.encoding}"`);var P,K=V.open(C,B.flags),re=V.stat(C),ue=re.size,ve=new Uint8Array(ue);return V.read(K,ve,0,ue,0),B.encoding==="utf8"?P=ke(ve):B.encoding==="binary"&&(P=ve),V.close(K),P},writeFile(C,B,P={}){P.flags=P.flags||577;var K=V.open(C,P.flags,P.mode);if(typeof B=="string"){var re=new Uint8Array(De(B)+1),ue=Ne(B,re,0,re.length);V.write(K,re,0,ue,void 0,P.canOwn)}else if(ArrayBuffer.isView(B))V.write(K,B,0,B.byteLength,void 0,P.canOwn);else throw new Error("Unsupported data type");V.close(K)},cwd:()=>V.currentPath,chdir(C){var B=V.lookupPath(C,{follow:!0});if(B.node===null)throw new V.ErrnoError(44);if(!V.isDir(B.node.mode))throw new V.ErrnoError(54);var P=V.nodePermissions(B.node,"x");if(P)throw new V.ErrnoError(P);V.currentPath=B.path},createDefaultDirectories(){V.mkdir("/tmp"),V.mkdir("/home"),V.mkdir("/home/web_user")},createDefaultDevices(){V.mkdir("/dev"),V.registerDevice(V.makedev(1,3),{read:()=>0,write:(K,re,ue,ve,Ae)=>ve,llseek:()=>0}),V.mkdev("/dev/null",V.makedev(1,3)),Ee.register(V.makedev(5,0),Ee.default_tty_ops),Ee.register(V.makedev(6,0),Ee.default_tty1_ops),V.mkdev("/dev/tty",V.makedev(5,0)),V.mkdev("/dev/tty1",V.makedev(6,0));var C=new Uint8Array(1024),B=0,P=()=>(B===0&&(ne(C),B=C.byteLength),C[--B]);V.createDevice("/dev","random",P),V.createDevice("/dev","urandom",P),V.mkdir("/dev/shm"),V.mkdir("/dev/shm/tmp")},createSpecialDirectories(){V.mkdir("/proc");var C=V.mkdir("/proc/self");V.mkdir("/proc/self/fd"),V.mount({mount(){var B=V.createNode(C,"fd",16895,73);return B.stream_ops={llseek:Fe.stream_ops.llseek},B.node_ops={lookup(P,K){var re=+K,ue=V.getStreamChecked(re),ve={parent:null,mount:{mountpoint:"fake"},node_ops:{readlink:()=>ue.path},id:re+1};return ve.parent=ve,ve},readdir(){return Array.from(V.streams.entries()).filter(([P,K])=>K).map(([P,K])=>P.toString())}},B}},{},"/proc/self/fd")},createStandardStreams(C,B,P){C?V.createDevice("/dev","stdin",C):V.symlink("/dev/tty","/dev/stdin"),B?V.createDevice("/dev","stdout",null,B):V.symlink("/dev/tty","/dev/stdout"),P?V.createDevice("/dev","stderr",null,P):V.symlink("/dev/tty1","/dev/stderr"),V.open("/dev/stdin",0),V.open("/dev/stdout",1),V.open("/dev/stderr",1)},staticInit(){V.nameTable=new Array(4096),V.mount(Fe,{},"/"),V.createDefaultDirectories(),V.createDefaultDevices(),V.createSpecialDirectories(),V.filesystems={MEMFS:Fe}},init(C,B,P){V.initialized=!0,C??=f.stdin,B??=f.stdout,P??=f.stderr,V.createStandardStreams(C,B,P)},quit(){V.initialized=!1;for(var C of V.streams)C&&V.close(C)},findObject(C,B){var P=V.analyzePath(C,B);return P.exists?P.object:null},analyzePath(C,B){try{var P=V.lookupPath(C,{follow:!B});C=P.path}catch{}var K={isRoot:!1,exists:!1,error:0,name:null,path:null,object:null,parentExists:!1,parentPath:null,parentObject:null};try{var P=V.lookupPath(C,{parent:!0});K.parentExists=!0,K.parentPath=P.path,K.parentObject=P.node,K.name=he.basename(C),P=V.lookupPath(C,{follow:!B}),K.exists=!0,K.path=P.path,K.object=P.node,K.name=P.node.name,K.isRoot=P.path==="/"}catch(re){K.error=re.errno}return K},createPath(C,B,P,K){C=typeof C=="string"?C:V.getPath(C);for(var re=B.split("/").reverse();re.length;){var ue=re.pop();if(ue){var ve=he.join2(C,ue);try{V.mkdir(ve)}catch(Ae){if(Ae.errno!=20)throw Ae}C=ve}}return ve},createFile(C,B,P,K,re){var ue=he.join2(typeof C=="string"?C:V.getPath(C),B),ve=nt(K,re);return V.create(ue,ve)},createDataFile(C,B,P,K,re,ue){var ve=B;C&&(C=typeof C=="string"?C:V.getPath(C),ve=B?he.join2(C,B):C);var Ae=nt(K,re),Oe=V.create(ve,Ae);if(P){if(typeof P=="string"){for(var qe=new Array(P.length),We=0,it=P.length;We<it;++We)qe[We]=P.charCodeAt(We);P=qe}V.chmod(Oe,Ae|146);var et=V.open(Oe,577);V.write(et,P,0,P.length,0,ue),V.close(et),V.chmod(Oe,Ae)}},createDevice(C,B,P,K){var re=he.join2(typeof C=="string"?C:V.getPath(C),B),ue=nt(!!P,!!K);V.createDevice.major??=64;var ve=V.makedev(V.createDevice.major++,0);return V.registerDevice(ve,{open(Ae){Ae.seekable=!1},close(Ae){K?.buffer?.length&&K(10)},read(Ae,Oe,qe,We,it){for(var et=0,Ge=0;Ge<We;Ge++){var tt;try{tt=P()}catch{throw new V.ErrnoError(29)}if(tt===void 0&&et===0)throw new V.ErrnoError(6);if(tt==null)break;et++,Oe[qe+Ge]=tt}return et&&(Ae.node.atime=Date.now()),et},write(Ae,Oe,qe,We,it){for(var et=0;et<We;et++)try{K(Oe[qe+et])}catch{throw new V.ErrnoError(29)}return We&&(Ae.node.mtime=Ae.node.ctime=Date.now()),et}}),V.mkdev(re,ue,ve)},forceLoadFile(C){if(C.isDevice||C.isFolder||C.link||C.contents)return!0;if(typeof XMLHttpRequest<"u")throw new Error("Lazy loading should have been performed (contents set) in createLazyFile, but it was not. Lazy loading only works in web workers. Use --embed-file or --preload-file in emcc on the main thread.");try{C.contents=t(C.url),C.usedBytes=C.contents.length}catch{throw new V.ErrnoError(29)}},createLazyFile(C,B,P,K,re){class ue{lengthKnown=!1;chunks=[];get(Ge){if(!(Ge>this.length-1||Ge<0)){var tt=Ge%this.chunkSize,dt=Ge/this.chunkSize|0;return this.getter(dt)[tt]}}setDataGetter(Ge){this.getter=Ge}cacheLength(){var Ge=new XMLHttpRequest;if(Ge.open("HEAD",P,!1),Ge.send(null),!(Ge.status>=200&&Ge.status<300||Ge.status===304))throw new Error("Couldn't load "+P+". Status: "+Ge.status);var tt=Number(Ge.getResponseHeader("Content-length")),dt,St=(dt=Ge.getResponseHeader("Accept-Ranges"))&&dt==="bytes",gt=(dt=Ge.getResponseHeader("Content-Encoding"))&&dt==="gzip",$t=1024*1024;St||($t=tt);var kt=(xt,ir)=>{if(xt>ir)throw new Error("invalid range ("+xt+", "+ir+") or no bytes requested!");if(ir>tt-1)throw new Error("only "+tt+" bytes available! programmer error!");var ct=new XMLHttpRequest;if(ct.open("GET",P,!1),tt!==$t&&ct.setRequestHeader("Range","bytes="+xt+"-"+ir),ct.responseType="arraybuffer",ct.overrideMimeType&&ct.overrideMimeType("text/plain; charset=x-user-defined"),ct.send(null),!(ct.status>=200&&ct.status<300||ct.status===304))throw new Error("Couldn't load "+P+". Status: "+ct.status);return ct.response!==void 0?new Uint8Array(ct.response||[]):Be(ct.responseText||"")},Rr=this;Rr.setDataGetter(xt=>{var ir=xt*$t,ct=(xt+1)*$t-1;if(ct=Math.min(ct,tt-1),typeof Rr.chunks[xt]>"u"&&(Rr.chunks[xt]=kt(ir,ct)),typeof Rr.chunks[xt]>"u")throw new Error("doXHR failed!");return Rr.chunks[xt]}),(gt||!tt)&&($t=tt=1,tt=this.getter(0).length,$t=tt,e("LazyFiles on gzip forces download of the whole file when length is accessed")),this._length=tt,this._chunkSize=$t,this.lengthKnown=!0}get length(){return this.lengthKnown||this.cacheLength(),this._length}get chunkSize(){return this.lengthKnown||this.cacheLength(),this._chunkSize}}if(typeof XMLHttpRequest<"u"){throw"Cannot do synchronous binary XHRs outside webworkers in modern browsers. Use --embed-file or --preload-file in emcc";var ve,Ae}else var Ae={isDevice:!1,url:P};var Oe=V.createFile(C,B,Ae,K,re);Ae.contents?Oe.contents=Ae.contents:Ae.url&&(Oe.contents=null,Oe.url=Ae.url),Object.defineProperties(Oe,{usedBytes:{get:function(){return this.contents.length}}});var qe={},We=Object.keys(Oe.stream_ops);We.forEach(et=>{var Ge=Oe.stream_ops[et];qe[et]=(...tt)=>(V.forceLoadFile(Oe),Ge(...tt))});function it(et,Ge,tt,dt,St){var gt=et.node.contents;if(St>=gt.length)return 0;var $t=Math.min(gt.length-St,dt);if(gt.slice)for(var kt=0;kt<$t;kt++)Ge[tt+kt]=gt[St+kt];else for(var kt=0;kt<$t;kt++)Ge[tt+kt]=gt.get(St+kt);return $t}return qe.read=(et,Ge,tt,dt,St)=>(V.forceLoadFile(Oe),it(et,Ge,tt,dt,St)),qe.mmap=(et,Ge,tt,dt,St)=>{V.forceLoadFile(Oe);var gt=Ke(Ge);if(!gt)throw new V.ErrnoError(48);return it(et,v,gt,Ge,tt),{ptr:gt,allocated:!0}},Oe.stream_ops=qe,Oe}},lt=(C,B)=>C?ke(p,C,B):"",rt={DEFAULT_POLLMASK:5,calculateAt(C,B,P){if(he.isAbs(B))return B;var K;if(C===-100)K=V.cwd();else{var re=rt.getStreamFromFD(C);K=re.path}if(B.length==0){if(!P)throw new V.ErrnoError(44);return K}return K+"/"+B},writeStat(C,B){m[C>>2]=B.dev,m[C+4>>2]=B.mode,E[C+8>>2]=B.nlink,m[C+12>>2]=B.uid,m[C+16>>2]=B.gid,m[C+20>>2]=B.rdev,S[C+24>>3]=BigInt(B.size),m[C+32>>2]=4096,m[C+36>>2]=B.blocks;var P=B.atime.getTime(),K=B.mtime.getTime(),re=B.ctime.getTime();return S[C+40>>3]=BigInt(Math.floor(P/1e3)),E[C+48>>2]=P%1e3*1e3*1e3,S[C+56>>3]=BigInt(Math.floor(K/1e3)),E[C+64>>2]=K%1e3*1e3*1e3,S[C+72>>3]=BigInt(Math.floor(re/1e3)),E[C+80>>2]=re%1e3*1e3*1e3,S[C+88>>3]=BigInt(B.ino),0},writeStatFs(C,B){m[C+4>>2]=B.bsize,m[C+40>>2]=B.bsize,m[C+8>>2]=B.blocks,m[C+12>>2]=B.bfree,m[C+16>>2]=B.bavail,m[C+20>>2]=B.files,m[C+24>>2]=B.ffree,m[C+28>>2]=B.fsid,m[C+44>>2]=B.flags,m[C+36>>2]=B.namelen},doMsync(C,B,P,K,re){if(!V.isFile(B.node.mode))throw new V.ErrnoError(43);if(K&2)return 0;var ue=p.slice(C,C+P);V.msync(B,ue,re,P,K)},getStreamFromFD(C){var B=V.getStreamChecked(C);return B},varargs:void 0,getStr(C){var B=lt(C);return B}};function bt(C,B,P){rt.varargs=P;try{var K=rt.getStreamFromFD(C);switch(B){case 0:{var re=F();if(re<0)return-28;for(;V.streams[re];)re++;var ue;return ue=V.dupStream(K,re),ue.fd}case 1:case 2:return 0;case 3:return K.flags;case 4:{var re=F();return K.flags|=re,0}case 12:{var re=be(),ve=0;return u[re+ve>>1]=2,0}case 13:case 14:return 0}return-28}catch(Ae){if(typeof V>"u"||Ae.name!=="ErrnoError")throw Ae;return-Ae.errno}}function Tt(C,B,P){rt.varargs=P;try{var K=rt.getStreamFromFD(C);switch(B){case 21509:return K.tty?0:-59;case 21505:{if(!K.tty)return-59;if(K.tty.ops.ioctl_tcgets){var re=K.tty.ops.ioctl_tcgets(K),ue=be();m[ue>>2]=re.c_iflag||0,m[ue+4>>2]=re.c_oflag||0,m[ue+8>>2]=re.c_cflag||0,m[ue+12>>2]=re.c_lflag||0;for(var ve=0;ve<32;ve++)v[ue+ve+17]=re.c_cc[ve]||0;return 0}return 0}case 21510:case 21511:case 21512:return K.tty?0:-59;case 21506:case 21507:case 21508:{if(!K.tty)return-59;if(K.tty.ops.ioctl_tcsets){for(var ue=be(),Ae=m[ue>>2],Oe=m[ue+4>>2],qe=m[ue+8>>2],We=m[ue+12>>2],it=[],ve=0;ve<32;ve++)it.push(v[ue+ve+17]);return K.tty.ops.ioctl_tcsets(K.tty,B,{c_iflag:Ae,c_oflag:Oe,c_cflag:qe,c_lflag:We,c_cc:it})}return 0}case 21519:{if(!K.tty)return-59;var ue=be();return m[ue>>2]=0,0}case 21520:return K.tty?-28:-59;case 21531:{var ue=be();return V.ioctl(K,B,ue)}case 21523:{if(!K.tty)return-59;if(K.tty.ops.ioctl_tiocgwinsz){var et=K.tty.ops.ioctl_tiocgwinsz(K.tty),ue=be();u[ue>>1]=et[0],u[ue+2>>1]=et[1]}return 0}case 21524:return K.tty?0:-59;case 21515:return K.tty?0:-59;default:return-28}}catch(Ge){if(typeof V>"u"||Ge.name!=="ErrnoError")throw Ge;return-Ge.errno}}function jt(C,B,P,K){rt.varargs=K;try{B=rt.getStr(B),B=rt.calculateAt(C,B);var re=K?F():0;return V.open(B,P,re).fd}catch(ue){if(typeof V>"u"||ue.name!=="ErrnoError")throw ue;return-ue.errno}}function fr(C,B){try{return C=rt.getStr(C),rt.writeStat(B,V.stat(C))}catch(P){if(typeof V>"u"||P.name!=="ErrnoError")throw P;return-P.errno}}var pt=()=>W(""),Rt=0,qt=()=>{Je=!1,Rt=0},Yt=9007199254740992,Kt=-9007199254740992,At=C=>C<Kt||C>Yt?NaN:Number(C);function pr(C,B){C=At(C);var P=new Date(C*1e3);m[B>>2]=P.getUTCSeconds(),m[B+4>>2]=P.getUTCMinutes(),m[B+8>>2]=P.getUTCHours(),m[B+12>>2]=P.getUTCDate(),m[B+16>>2]=P.getUTCMonth(),m[B+20>>2]=P.getUTCFullYear()-1900,m[B+24>>2]=P.getUTCDay();var K=Date.UTC(P.getUTCFullYear(),0,1,0,0,0,0),re=(P.getTime()-K)/(1e3*60*60*24)|0;m[B+28>>2]=re}var gr=C=>C%4===0&&(C%100!==0||C%400===0),mr=[0,31,60,91,121,152,182,213,244,274,305,335],vr=[0,31,59,90,120,151,181,212,243,273,304,334],Lt=C=>{var B=gr(C.getFullYear()),P=B?mr:vr,K=P[C.getMonth()]+C.getDate()-1;return K};function yr(C,B){C=At(C);var P=new Date(C*1e3);m[B>>2]=P.getSeconds(),m[B+4>>2]=P.getMinutes(),m[B+8>>2]=P.getHours(),m[B+12>>2]=P.getDate(),m[B+16>>2]=P.getMonth(),m[B+20>>2]=P.getFullYear()-1900,m[B+24>>2]=P.getDay();var K=Lt(P)|0;m[B+28>>2]=K,m[B+36>>2]=-(P.getTimezoneOffset()*60);var re=new Date(P.getFullYear(),0,1),ue=new Date(P.getFullYear(),6,1).getTimezoneOffset(),ve=re.getTimezoneOffset(),Ae=(ue!=ve&&P.getTimezoneOffset()==Math.min(ve,ue))|0;m[B+32>>2]=Ae}function wr(C,B,P,K,re,ue,ve){re=At(re);try{if(isNaN(re))return 61;var Ae=rt.getStreamFromFD(K),Oe=V.mmap(Ae,C,re,B,P),qe=Oe.ptr;return m[ue>>2]=Oe.allocated,E[ve>>2]=qe,0}catch(We){if(typeof V>"u"||We.name!=="ErrnoError")throw We;return-We.errno}}function _r(C,B,P,K,re,ue){ue=At(ue);try{var ve=rt.getStreamFromFD(re);P&2&&rt.doMsync(C,ve,B,K,ue)}catch(Ae){if(typeof V>"u"||Ae.name!=="ErrnoError")throw Ae;return-Ae.errno}}var Bt={},Zt=C=>{if(C instanceof Ce||C=="unwind")return k;s(1,C)},Ut=()=>Je||Rt>0,rr=C=>{k=C,Ut()||(f.onExit?.(C),d=!0),s(C,new Ce(C))},Dt=(C,B)=>{k=C,rr(C)},nr=Dt,br=()=>{if(!Ut())try{nr(k)}catch(C){Zt(C)}},Ar=C=>{if(!d)try{C(),br()}catch(B){Zt(B)}},Er=()=>performance.now(),Cr=(C,B)=>{if(Bt[C]&&(clearTimeout(Bt[C].id),delete Bt[C]),!B)return 0;var P=setTimeout(()=>{delete Bt[C],Ar(()=>Re(C,Er()))},B);return Bt[C]={id:P,timeout_ms:B},0},Et=(C,B,P)=>Ne(C,p,B,P),Sr=(C,B,P,K)=>{var re=new Date().getFullYear(),ue=new Date(re,0,1),ve=new Date(re,6,1),Ae=ue.getTimezoneOffset(),Oe=ve.getTimezoneOffset(),qe=Math.max(Ae,Oe);E[C>>2]=qe*60,m[B>>2]=+(Ae!=Oe);var We=Ge=>{var tt=Ge>=0?"-":"+",dt=Math.abs(Ge),St=String(Math.floor(dt/60)).padStart(2,"0"),gt=String(dt%60).padStart(2,"0");return`UTC${tt}${St}${gt}`},it=We(Ae),et=We(Oe);Oe<Ae?(Et(it,P,17),Et(et,K,17)):(Et(it,K,17),Et(et,P,17))},$r=()=>Date.now(),yt=()=>2147483648,kr=C=>{var B=c.buffer,P=(C-B.byteLength+65535)/65536|0;try{return c.grow(P),$(),1}catch{}},Mr=C=>{var B=p.length;C>>>=0;var P=yt();if(C>P)return!1;for(var K=1;K<=4;K*=2){var re=B*(1+.2/K);re=Math.min(re,C+100663296);var ue=Math.min(P,_e(Math.max(C,re),65536)),ve=kr(ue);if(ve)return!0}return!1},zt={},Tr=()=>y||"./this.program",Ct=()=>{if(!Ct.strings){var C=(typeof navigator=="object"&&navigator.languages&&navigator.languages[0]||"C").replace("-","_")+".UTF-8",B={USER:"web_user",LOGNAME:"web_user",PATH:"/",PWD:"/",HOME:"/home/web_user",LANG:C,_:Tr()};for(var P in zt)zt[P]===void 0?delete B[P]:B[P]=zt[P];var K=[];for(var P in B)K.push(`${P}=${B[P]}`);Ct.strings=K}return Ct.strings},wt=(C,B)=>{var P=0,K=0;for(var re of Ct()){var ue=B+P;E[C+K>>2]=ue,P+=Et(re,ue,1/0)+1,K+=4}return 0},T=(C,B)=>{var P=Ct();E[C>>2]=P.length;var K=0;for(var re of P)K+=De(re)+1;return E[B>>2]=K,0};function O(C){try{var B=rt.getStreamFromFD(C);return V.close(B),0}catch(P){if(typeof V>"u"||P.name!=="ErrnoError")throw P;return P.errno}}function j(C,B){try{var P=0,K=0,re=0,ue=rt.getStreamFromFD(C),ve=ue.tty?2:V.isDir(ue.mode)?3:V.isLink(ue.mode)?7:4;return v[B]=ve,u[B+2>>1]=re,S[B+8>>3]=BigInt(P),S[B+16>>3]=BigInt(K),0}catch(Ae){if(typeof V>"u"||Ae.name!=="ErrnoError")throw Ae;return Ae.errno}}var X=(C,B,P,K)=>{for(var re=0,ue=0;ue<P;ue++){var ve=E[B>>2],Ae=E[B+4>>2];B+=8;var Oe=V.read(C,v,ve,Ae,K);if(Oe<0)return-1;if(re+=Oe,Oe<Ae)break}return re};function le(C,B,P,K){try{var re=rt.getStreamFromFD(C),ue=X(re,B,P);return E[K>>2]=ue,0}catch(ve){if(typeof V>"u"||ve.name!=="ErrnoError")throw ve;return ve.errno}}function ge(C,B,P,K){B=At(B);try{if(isNaN(B))return 61;var re=rt.getStreamFromFD(C);return V.llseek(re,B,P),S[K>>3]=BigInt(re.position),re.getdents&&B===0&&P===0&&(re.getdents=null),0}catch(ue){if(typeof V>"u"||ue.name!=="ErrnoError")throw ue;return ue.errno}}var b=(C,B,P,K)=>{for(var re=0,ue=0;ue<P;ue++){var ve=E[B>>2],Ae=E[B+4>>2];B+=8;var Oe=V.write(C,v,ve,Ae,K);if(Oe<0)return-1;if(re+=Oe,Oe<Ae)break}return re};function x(C,B,P,K){try{var re=rt.getStreamFromFD(C),ue=b(re,B,P);return E[K>>2]=ue,0}catch(ve){if(typeof V>"u"||ve.name!=="ErrnoError")throw ve;return ve.errno}}var N=C=>Ue(C),Y=C=>{var B=De(C)+1,P=N(B);return Et(C,P,B),P};V.createPreloadedFile=Ve,V.staticInit(),Fe.doesNotExistError=new V.ErrnoError(44),Fe.doesNotExistError.stack="<generic error, no stack>",f.noExitRuntime&&(Je=f.noExitRuntime),f.preloadPlugins&&(He=f.preloadPlugins),f.print&&(e=f.print),f.printErr&&(n=f.printErr),f.wasmBinary&&(a=f.wasmBinary),f.arguments&&(A=f.arguments),f.thisProgram&&(y=f.thisProgram),f.FS=V;var ie={d:bt,h:Tt,e:jt,n:fr,w:pt,k:qt,q:pr,r:yr,o:wr,p:_r,l:Cr,s:Sr,i:$r,m:Mr,v:wt,f:T,a:nr,b:O,u:j,c:le,t:ge,g:x,j:rr},ce=await fe();ce.y;var pe=f._main=ce.z,me=ce.A,Re=ce.B,Ue=ce.C;function Xe(C=[]){var B=pe;C.unshift(y);var P=C.length,K=N((P+1)*4),re=K;C.forEach(ve=>{E[re>>2]=Y(ve),re+=4}),E[re>>2]=0;try{var ue=B(P,K);return Dt(ue,!0),ue}catch(ve){return Zt(ve)}}function Ze(C=A){if(l>0){_=Ze;return}if(R(),l>0){_=Ze;return}function B(){if(f.calledRun=!0,!d){g(),D(f),f.onRuntimeInitialized?.();var P=f.noInitialRun||!1;P||Xe(C),w()}}f.setStatus?(f.setStatus("Running..."),setTimeout(()=>{setTimeout(()=>f.setStatus(""),1),B()},1)):B()}function je(){if(f.preInit)for(typeof f.preInit=="function"&&(f.preInit=[f.preInit]);f.preInit.length>0;)f.preInit.shift()()}return je(),Ze(),Q=M,Q},Co=async function(te={}){var Q,f=te,D,z,M=new Promise((b,x)=>{D=b,z=x}),A=[],y="./this.program",s=(b,x)=>{throw x},h=import.meta.url,o="";function r(b){return f.locateFile?f.locateFile(b,o):o+b}var i,t;{try{o=new URL(".",h).href}catch{}i=async b=>{var x=await fetch(b,{credentials:"same-origin"});if(x.ok)return x.arrayBuffer();throw new Error(x.status+" : "+x.url)}}var e=console.log.bind(console),n=console.error.bind(console),a,c,d=!1,k,v,p,u,m,E,S;function $(){var b=c.buffer;v=new Int8Array(b),u=new Int16Array(b),p=new Uint8Array(b),m=new Int32Array(b),E=new Uint32Array(b),S=new BigInt64Array(b),new BigUint64Array(b)}function R(){if(f.preRun)for(typeof f.preRun=="function"&&(f.preRun=[f.preRun]);f.preRun.length;)ze(f.preRun.shift());Se(Pe)}function g(){!f.noFSInit&&!G.initialized&&G.init(),wt.r(),G.ignorePermissions=!1}function w(){if(f.postRun)for(typeof f.postRun=="function"&&(f.postRun=[f.postRun]);f.postRun.length;)xe(f.postRun.shift());Se($e)}var l=0,_=null;function L(b){l++,f.monitorRunDependencies?.(l)}function I(b){if(l--,f.monitorRunDependencies?.(l),l==0&&_){var x=_;_=null,x()}}function W(b){f.onAbort?.(b),b="Aborted("+b+")",n(b),d=!0,b+=". Build with -sASSERTIONS for more info.";var x=new WebAssembly.RuntimeError(b);throw z(x),x}var H;function J(){return f.locateFile?r("rgblink.wasm"):new URL(""+new URL("rgblink-DrFO1tkU.wasm",import.meta.url).href,import.meta.url).href}function q(b){if(b==H&&a)return new Uint8Array(a);throw"both async and sync fetching of the wasm failed"}async function Z(b){if(!a)try{var x=await i(b);return new Uint8Array(x)}catch{}return q(b)}async function oe(b,x){try{var N=await Z(b),Y=await WebAssembly.instantiate(N,x);return Y}catch(ie){n(`failed to asynchronously prepare wasm: ${ie}`),W(ie)}}async function ee(b,x,N){if(!b&&typeof WebAssembly.instantiateStreaming=="function")try{var Y=fetch(x,{credentials:"same-origin"}),ie=await WebAssembly.instantiateStreaming(Y,N);return ie}catch(ce){n(`wasm streaming compile failed: ${ce}`),n("falling back to ArrayBuffer instantiation")}return oe(x,N)}function se(){return{a:Ct}}async function fe(){function b(ce,pe){return wt=ce.exports,c=wt.q,$(),I(),wt}L();function x(ce){return b(ce.instance)}var N=se();if(f.instantiateWasm)return new Promise((ce,pe)=>{f.instantiateWasm(N,(me,Re)=>{ce(b(me))})});H??=J();try{var Y=await ee(a,H,N),ie=x(Y);return ie}catch(ce){return z(ce),Promise.reject(ce)}}class Ce{name="ExitStatus";constructor(x){this.message=`Program terminated with exit(${x})`,this.status=x}}var Se=b=>{for(;b.length>0;)b.shift()(f)},$e=[],xe=b=>$e.push(b),Pe=[],ze=b=>Pe.push(b),Je=!0,F=()=>{var b=m[+V.varargs>>2];return V.varargs+=4,b},be=F,he={isAbs:b=>b.charAt(0)==="/",splitPath:b=>{var x=/^(\/?|)([\s\S]*?)((?:\.{1,2}|[^\/]+?|)(\.[^.\/]*|))(?:[\/]*)$/;return x.exec(b).slice(1)},normalizeArray:(b,x)=>{for(var N=0,Y=b.length-1;Y>=0;Y--){var ie=b[Y];ie==="."?b.splice(Y,1):ie===".."?(b.splice(Y,1),N++):N&&(b.splice(Y,1),N--)}if(x)for(;N;N--)b.unshift("..");return b},normalize:b=>{var x=he.isAbs(b),N=b.slice(-1)==="/";return b=he.normalizeArray(b.split("/").filter(Y=>!!Y),!x).join("/"),!b&&!x&&(b="."),b&&N&&(b+="/"),(x?"/":"")+b},dirname:b=>{var x=he.splitPath(b),N=x[0],Y=x[1];return!N&&!Y?".":(Y&&(Y=Y.slice(0,-1)),N+Y)},basename:b=>b&&b.match(/([^\/]+|\/)\/*$/)[1],join:(...b)=>he.normalize(b.join("/")),join2:(b,x)=>he.normalize(b+"/"+x)},ae=()=>b=>crypto.getRandomValues(b),ne=b=>{(ne=ae())(b)},de={resolve:(...b)=>{for(var x="",N=!1,Y=b.length-1;Y>=-1&&!N;Y--){var ie=Y>=0?b[Y]:G.cwd();if(typeof ie!="string")throw new TypeError("Arguments to path.resolve must be strings");if(!ie)return"";x=ie+"/"+x,N=he.isAbs(ie)}return x=he.normalizeArray(x.split("/").filter(ce=>!!ce),!N).join("/"),(N?"/":"")+x||"."},relative:(b,x)=>{b=de.resolve(b).slice(1),x=de.resolve(x).slice(1);function N(Ue){for(var Xe=0;Xe<Ue.length&&Ue[Xe]==="";Xe++);for(var Ze=Ue.length-1;Ze>=0&&Ue[Ze]==="";Ze--);return Xe>Ze?[]:Ue.slice(Xe,Ze-Xe+1)}for(var Y=N(b.split("/")),ie=N(x.split("/")),ce=Math.min(Y.length,ie.length),pe=ce,me=0;me<ce;me++)if(Y[me]!==ie[me]){pe=me;break}for(var Re=[],me=pe;me<Y.length;me++)Re.push("..");return Re=Re.concat(ie.slice(pe)),Re.join("/")}},Me=typeof TextDecoder<"u"?new TextDecoder:void 0,ke=(b,x=0,N=NaN)=>{for(var Y=x+N,ie=x;b[ie]&&!(ie>=Y);)++ie;if(ie-x>16&&b.buffer&&Me)return Me.decode(b.subarray(x,ie));for(var ce="";x<ie;){var pe=b[x++];if(!(pe&128)){ce+=String.fromCharCode(pe);continue}var me=b[x++]&63;if((pe&224)==192){ce+=String.fromCharCode((pe&31)<<6|me);continue}var Re=b[x++]&63;if((pe&240)==224?pe=(pe&15)<<12|me<<6|Re:pe=(pe&7)<<18|me<<12|Re<<6|b[x++]&63,pe<65536)ce+=String.fromCharCode(pe);else{var Ue=pe-65536;ce+=String.fromCharCode(55296|Ue>>10,56320|Ue&1023)}}return ce},we=[],De=b=>{for(var x=0,N=0;N<b.length;++N){var Y=b.charCodeAt(N);Y<=127?x++:Y<=2047?x+=2:Y>=55296&&Y<=57343?(x+=4,++N):x+=3}return x},Ne=(b,x,N,Y)=>{if(!(Y>0))return 0;for(var ie=N,ce=N+Y-1,pe=0;pe<b.length;++pe){var me=b.charCodeAt(pe);if(me>=55296&&me<=57343){var Re=b.charCodeAt(++pe);me=65536+((me&1023)<<10)|Re&1023}if(me<=127){if(N>=ce)break;x[N++]=me}else if(me<=2047){if(N+1>=ce)break;x[N++]=192|me>>6,x[N++]=128|me&63}else if(me<=65535){if(N+2>=ce)break;x[N++]=224|me>>12,x[N++]=128|me>>6&63,x[N++]=128|me&63}else{if(N+3>=ce)break;x[N++]=240|me>>18,x[N++]=128|me>>12&63,x[N++]=128|me>>6&63,x[N++]=128|me&63}}return x[N]=0,N-ie},Be=(b,x,N)=>{var Y=De(b)+1,ie=new Array(Y),ce=Ne(b,ie,0,ie.length);return ie.length=ce,ie},ye=()=>{if(!we.length){var b=null;if(typeof window<"u"&&typeof window.prompt=="function"&&(b=window.prompt("Input: "),b!==null&&(b+=`
`)),!b)return null;we=Be(b)}return we.shift()},Ee={ttys:[],init(){},shutdown(){},register(b,x){Ee.ttys[b]={input:[],output:[],ops:x},G.registerDevice(b,Ee.stream_ops)},stream_ops:{open(b){var x=Ee.ttys[b.node.rdev];if(!x)throw new G.ErrnoError(43);b.tty=x,b.seekable=!1},close(b){b.tty.ops.fsync(b.tty)},fsync(b){b.tty.ops.fsync(b.tty)},read(b,x,N,Y,ie){if(!b.tty||!b.tty.ops.get_char)throw new G.ErrnoError(60);for(var ce=0,pe=0;pe<Y;pe++){var me;try{me=b.tty.ops.get_char(b.tty)}catch{throw new G.ErrnoError(29)}if(me===void 0&&ce===0)throw new G.ErrnoError(6);if(me==null)break;ce++,x[N+pe]=me}return ce&&(b.node.atime=Date.now()),ce},write(b,x,N,Y,ie){if(!b.tty||!b.tty.ops.put_char)throw new G.ErrnoError(60);try{for(var ce=0;ce<Y;ce++)b.tty.ops.put_char(b.tty,x[N+ce])}catch{throw new G.ErrnoError(29)}return Y&&(b.node.mtime=b.node.ctime=Date.now()),ce}},default_tty_ops:{get_char(b){return ye()},put_char(b,x){x===null||x===10?(e(ke(b.output)),b.output=[]):x!=0&&b.output.push(x)},fsync(b){b.output?.length>0&&(e(ke(b.output)),b.output=[])},ioctl_tcgets(b){return{c_iflag:25856,c_oflag:5,c_cflag:191,c_lflag:35387,c_cc:[3,28,127,21,4,0,1,0,17,19,26,0,18,15,23,22,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0]}},ioctl_tcsets(b,x,N){return 0},ioctl_tiocgwinsz(b){return[24,80]}},default_tty1_ops:{put_char(b,x){x===null||x===10?(n(ke(b.output)),b.output=[]):x!=0&&b.output.push(x)},fsync(b){b.output?.length>0&&(n(ke(b.output)),b.output=[])}}},Ie=b=>{W()},_e={ops_table:null,mount(b){return _e.createNode(null,"/",16895,0)},createNode(b,x,N,Y){if(G.isBlkdev(N)||G.isFIFO(N))throw new G.ErrnoError(63);_e.ops_table||={dir:{node:{getattr:_e.node_ops.getattr,setattr:_e.node_ops.setattr,lookup:_e.node_ops.lookup,mknod:_e.node_ops.mknod,rename:_e.node_ops.rename,unlink:_e.node_ops.unlink,rmdir:_e.node_ops.rmdir,readdir:_e.node_ops.readdir,symlink:_e.node_ops.symlink},stream:{llseek:_e.stream_ops.llseek}},file:{node:{getattr:_e.node_ops.getattr,setattr:_e.node_ops.setattr},stream:{llseek:_e.stream_ops.llseek,read:_e.stream_ops.read,write:_e.stream_ops.write,mmap:_e.stream_ops.mmap,msync:_e.stream_ops.msync}},link:{node:{getattr:_e.node_ops.getattr,setattr:_e.node_ops.setattr,readlink:_e.node_ops.readlink},stream:{}},chrdev:{node:{getattr:_e.node_ops.getattr,setattr:_e.node_ops.setattr},stream:G.chrdev_stream_ops}};var ie=G.createNode(b,x,N,Y);return G.isDir(ie.mode)?(ie.node_ops=_e.ops_table.dir.node,ie.stream_ops=_e.ops_table.dir.stream,ie.contents={}):G.isFile(ie.mode)?(ie.node_ops=_e.ops_table.file.node,ie.stream_ops=_e.ops_table.file.stream,ie.usedBytes=0,ie.contents=null):G.isLink(ie.mode)?(ie.node_ops=_e.ops_table.link.node,ie.stream_ops=_e.ops_table.link.stream):G.isChrdev(ie.mode)&&(ie.node_ops=_e.ops_table.chrdev.node,ie.stream_ops=_e.ops_table.chrdev.stream),ie.atime=ie.mtime=ie.ctime=Date.now(),b&&(b.contents[x]=ie,b.atime=b.mtime=b.ctime=ie.atime),ie},getFileDataAsTypedArray(b){return b.contents?b.contents.subarray?b.contents.subarray(0,b.usedBytes):new Uint8Array(b.contents):new Uint8Array(0)},expandFileStorage(b,x){var N=b.contents?b.contents.length:0;if(!(N>=x)){var Y=1024*1024;x=Math.max(x,N*(N<Y?2:1.125)>>>0),N!=0&&(x=Math.max(x,256));var ie=b.contents;b.contents=new Uint8Array(x),b.usedBytes>0&&b.contents.set(ie.subarray(0,b.usedBytes),0)}},resizeFileStorage(b,x){if(b.usedBytes!=x)if(x==0)b.contents=null,b.usedBytes=0;else{var N=b.contents;b.contents=new Uint8Array(x),N&&b.contents.set(N.subarray(0,Math.min(x,b.usedBytes))),b.usedBytes=x}},node_ops:{getattr(b){var x={};return x.dev=G.isChrdev(b.mode)?b.id:1,x.ino=b.id,x.mode=b.mode,x.nlink=1,x.uid=0,x.gid=0,x.rdev=b.rdev,G.isDir(b.mode)?x.size=4096:G.isFile(b.mode)?x.size=b.usedBytes:G.isLink(b.mode)?x.size=b.link.length:x.size=0,x.atime=new Date(b.atime),x.mtime=new Date(b.mtime),x.ctime=new Date(b.ctime),x.blksize=4096,x.blocks=Math.ceil(x.size/x.blksize),x},setattr(b,x){for(const N of["mode","atime","mtime","ctime"])x[N]!=null&&(b[N]=x[N]);x.size!==void 0&&_e.resizeFileStorage(b,x.size)},lookup(b,x){throw _e.doesNotExistError},mknod(b,x,N,Y){return _e.createNode(b,x,N,Y)},rename(b,x,N){var Y;try{Y=G.lookupNode(x,N)}catch{}if(Y){if(G.isDir(b.mode))for(var ie in Y.contents)throw new G.ErrnoError(55);G.hashRemoveNode(Y)}delete b.parent.contents[b.name],x.contents[N]=b,b.name=N,x.ctime=x.mtime=b.parent.ctime=b.parent.mtime=Date.now()},unlink(b,x){delete b.contents[x],b.ctime=b.mtime=Date.now()},rmdir(b,x){var N=G.lookupNode(b,x);for(var Y in N.contents)throw new G.ErrnoError(55);delete b.contents[x],b.ctime=b.mtime=Date.now()},readdir(b){return[".","..",...Object.keys(b.contents)]},symlink(b,x,N){var Y=_e.createNode(b,x,41471,0);return Y.link=N,Y},readlink(b){if(!G.isLink(b.mode))throw new G.ErrnoError(28);return b.link}},stream_ops:{read(b,x,N,Y,ie){var ce=b.node.contents;if(ie>=b.node.usedBytes)return 0;var pe=Math.min(b.node.usedBytes-ie,Y);if(pe>8&&ce.subarray)x.set(ce.subarray(ie,ie+pe),N);else for(var me=0;me<pe;me++)x[N+me]=ce[ie+me];return pe},write(b,x,N,Y,ie,ce){if(x.buffer===v.buffer&&(ce=!1),!Y)return 0;var pe=b.node;if(pe.mtime=pe.ctime=Date.now(),x.subarray&&(!pe.contents||pe.contents.subarray)){if(ce)return pe.contents=x.subarray(N,N+Y),pe.usedBytes=Y,Y;if(pe.usedBytes===0&&ie===0)return pe.contents=x.slice(N,N+Y),pe.usedBytes=Y,Y;if(ie+Y<=pe.usedBytes)return pe.contents.set(x.subarray(N,N+Y),ie),Y}if(_e.expandFileStorage(pe,ie+Y),pe.contents.subarray&&x.subarray)pe.contents.set(x.subarray(N,N+Y),ie);else for(var me=0;me<Y;me++)pe.contents[ie+me]=x[N+me];return pe.usedBytes=Math.max(pe.usedBytes,ie+Y),Y},llseek(b,x,N){var Y=x;if(N===1?Y+=b.position:N===2&&G.isFile(b.node.mode)&&(Y+=b.node.usedBytes),Y<0)throw new G.ErrnoError(28);return Y},mmap(b,x,N,Y,ie){if(!G.isFile(b.node.mode))throw new G.ErrnoError(43);var ce,pe,me=b.node.contents;if(!(ie&2)&&me&&me.buffer===v.buffer)pe=!1,ce=me.byteOffset;else{if(pe=!0,ce=Ie(),!ce)throw new G.ErrnoError(48);me&&((N>0||N+x<me.length)&&(me.subarray?me=me.subarray(N,N+x):me=Array.prototype.slice.call(me,N,N+x)),v.set(me,ce))}return{ptr:ce,allocated:pe}},msync(b,x,N,Y,ie){return _e.stream_ops.write(b,x,0,Y,N,!1),0}}},Ke=async b=>{var x=await i(b);return new Uint8Array(x)},Fe=(...b)=>G.createDataFile(...b),Te=[],Le=(b,x,N,Y)=>{typeof Browser<"u"&&Browser.init();var ie=!1;return Te.forEach(ce=>{ie||ce.canHandle(x)&&(ce.handle(b,x,N,Y),ie=!0)}),ie},He=(b,x,N,Y,ie,ce,pe,me,Re,Ue)=>{var Xe=x?de.resolve(he.join2(b,x)):b;function Ze(je){function C(B){Ue?.(),me||Fe(b,x,B,Y,ie,Re),ce?.(),I()}Le(je,Xe,C,()=>{pe?.(),I()})||C(je)}L(),typeof N=="string"?Ke(N).then(Ze,pe):Ze(N)},U=b=>{var x={r:0,"r+":2,w:577,"w+":578,a:1089,"a+":1090},N=x[b];if(typeof N>"u")throw new Error(`Unknown file open mode: ${b}`);return N},Ve=(b,x)=>{var N=0;return b&&(N|=365),x&&(N|=146),N},G={root:null,mounts:[],devices:{},streams:[],nextInode:1,nameTable:null,currentPath:"/",initialized:!1,ignorePermissions:!0,filesystems:null,syncFSRequests:0,readFiles:{},ErrnoError:class{name="ErrnoError";constructor(b){this.errno=b}},FSStream:class{shared={};get object(){return this.node}set object(b){this.node=b}get isRead(){return(this.flags&2097155)!==1}get isWrite(){return(this.flags&2097155)!==0}get isAppend(){return this.flags&1024}get flags(){return this.shared.flags}set flags(b){this.shared.flags=b}get position(){return this.shared.position}set position(b){this.shared.position=b}},FSNode:class{node_ops={};stream_ops={};readMode=365;writeMode=146;mounted=null;constructor(b,x,N,Y){b||(b=this),this.parent=b,this.mount=b.mount,this.id=G.nextInode++,this.name=x,this.mode=N,this.rdev=Y,this.atime=this.mtime=this.ctime=Date.now()}get read(){return(this.mode&this.readMode)===this.readMode}set read(b){b?this.mode|=this.readMode:this.mode&=~this.readMode}get write(){return(this.mode&this.writeMode)===this.writeMode}set write(b){b?this.mode|=this.writeMode:this.mode&=~this.writeMode}get isFolder(){return G.isDir(this.mode)}get isDevice(){return G.isChrdev(this.mode)}},lookupPath(b,x={}){if(!b)throw new G.ErrnoError(44);x.follow_mount??=!0,he.isAbs(b)||(b=G.cwd()+"/"+b);e:for(var N=0;N<40;N++){for(var Y=b.split("/").filter(Ue=>!!Ue),ie=G.root,ce="/",pe=0;pe<Y.length;pe++){var me=pe===Y.length-1;if(me&&x.parent)break;if(Y[pe]!=="."){if(Y[pe]===".."){if(ce=he.dirname(ce),G.isRoot(ie)){b=ce+"/"+Y.slice(pe+1).join("/");continue e}else ie=ie.parent;continue}ce=he.join2(ce,Y[pe]);try{ie=G.lookupNode(ie,Y[pe])}catch(Ue){if(Ue?.errno===44&&me&&x.noent_okay)return{path:ce};throw Ue}if(G.isMountpoint(ie)&&(!me||x.follow_mount)&&(ie=ie.mounted.root),G.isLink(ie.mode)&&(!me||x.follow)){if(!ie.node_ops.readlink)throw new G.ErrnoError(52);var Re=ie.node_ops.readlink(ie);he.isAbs(Re)||(Re=he.dirname(ce)+"/"+Re),b=Re+"/"+Y.slice(pe+1).join("/");continue e}}}return{path:ce,node:ie}}throw new G.ErrnoError(32)},getPath(b){for(var x;;){if(G.isRoot(b)){var N=b.mount.mountpoint;return x?N[N.length-1]!=="/"?`${N}/${x}`:N+x:N}x=x?`${b.name}/${x}`:b.name,b=b.parent}},hashName(b,x){for(var N=0,Y=0;Y<x.length;Y++)N=(N<<5)-N+x.charCodeAt(Y)|0;return(b+N>>>0)%G.nameTable.length},hashAddNode(b){var x=G.hashName(b.parent.id,b.name);b.name_next=G.nameTable[x],G.nameTable[x]=b},hashRemoveNode(b){var x=G.hashName(b.parent.id,b.name);if(G.nameTable[x]===b)G.nameTable[x]=b.name_next;else for(var N=G.nameTable[x];N;){if(N.name_next===b){N.name_next=b.name_next;break}N=N.name_next}},lookupNode(b,x){var N=G.mayLookup(b);if(N)throw new G.ErrnoError(N);for(var Y=G.hashName(b.id,x),ie=G.nameTable[Y];ie;ie=ie.name_next){var ce=ie.name;if(ie.parent.id===b.id&&ce===x)return ie}return G.lookup(b,x)},createNode(b,x,N,Y){var ie=new G.FSNode(b,x,N,Y);return G.hashAddNode(ie),ie},destroyNode(b){G.hashRemoveNode(b)},isRoot(b){return b===b.parent},isMountpoint(b){return!!b.mounted},isFile(b){return(b&61440)===32768},isDir(b){return(b&61440)===16384},isLink(b){return(b&61440)===40960},isChrdev(b){return(b&61440)===8192},isBlkdev(b){return(b&61440)===24576},isFIFO(b){return(b&61440)===4096},isSocket(b){return(b&49152)===49152},flagsToPermissionString(b){var x=["r","w","rw"][b&3];return b&512&&(x+="w"),x},nodePermissions(b,x){return G.ignorePermissions?0:x.includes("r")&&!(b.mode&292)||x.includes("w")&&!(b.mode&146)||x.includes("x")&&!(b.mode&73)?2:0},mayLookup(b){if(!G.isDir(b.mode))return 54;var x=G.nodePermissions(b,"x");return x||(b.node_ops.lookup?0:2)},mayCreate(b,x){if(!G.isDir(b.mode))return 54;try{var N=G.lookupNode(b,x);return 20}catch{}return G.nodePermissions(b,"wx")},mayDelete(b,x,N){var Y;try{Y=G.lookupNode(b,x)}catch(ce){return ce.errno}var ie=G.nodePermissions(b,"wx");if(ie)return ie;if(N){if(!G.isDir(Y.mode))return 54;if(G.isRoot(Y)||G.getPath(Y)===G.cwd())return 10}else if(G.isDir(Y.mode))return 31;return 0},mayOpen(b,x){return b?G.isLink(b.mode)?32:G.isDir(b.mode)&&(G.flagsToPermissionString(x)!=="r"||x&576)?31:G.nodePermissions(b,G.flagsToPermissionString(x)):44},checkOpExists(b,x){if(!b)throw new G.ErrnoError(x);return b},MAX_OPEN_FDS:4096,nextfd(){for(var b=0;b<=G.MAX_OPEN_FDS;b++)if(!G.streams[b])return b;throw new G.ErrnoError(33)},getStreamChecked(b){var x=G.getStream(b);if(!x)throw new G.ErrnoError(8);return x},getStream:b=>G.streams[b],createStream(b,x=-1){return b=Object.assign(new G.FSStream,b),x==-1&&(x=G.nextfd()),b.fd=x,G.streams[x]=b,b},closeStream(b){G.streams[b]=null},dupStream(b,x=-1){var N=G.createStream(b,x);return N.stream_ops?.dup?.(N),N},doSetAttr(b,x,N){var Y=b?.stream_ops.setattr,ie=Y?b:x;Y??=x.node_ops.setattr,G.checkOpExists(Y,63),Y(ie,N)},chrdev_stream_ops:{open(b){var x=G.getDevice(b.node.rdev);b.stream_ops=x.stream_ops,b.stream_ops.open?.(b)},llseek(){throw new G.ErrnoError(70)}},major:b=>b>>8,minor:b=>b&255,makedev:(b,x)=>b<<8|x,registerDevice(b,x){G.devices[b]={stream_ops:x}},getDevice:b=>G.devices[b],getMounts(b){for(var x=[],N=[b];N.length;){var Y=N.pop();x.push(Y),N.push(...Y.mounts)}return x},syncfs(b,x){typeof b=="function"&&(x=b,b=!1),G.syncFSRequests++,G.syncFSRequests>1&&n(`warning: ${G.syncFSRequests} FS.syncfs operations in flight at once, probably just doing extra work`);var N=G.getMounts(G.root.mount),Y=0;function ie(pe){return G.syncFSRequests--,x(pe)}function ce(pe){if(pe)return ce.errored?void 0:(ce.errored=!0,ie(pe));++Y>=N.length&&ie(null)}N.forEach(pe=>{if(!pe.type.syncfs)return ce(null);pe.type.syncfs(pe,b,ce)})},mount(b,x,N){var Y=N==="/",ie=!N,ce;if(Y&&G.root)throw new G.ErrnoError(10);if(!Y&&!ie){var pe=G.lookupPath(N,{follow_mount:!1});if(N=pe.path,ce=pe.node,G.isMountpoint(ce))throw new G.ErrnoError(10);if(!G.isDir(ce.mode))throw new G.ErrnoError(54)}var me={type:b,opts:x,mountpoint:N,mounts:[]},Re=b.mount(me);return Re.mount=me,me.root=Re,Y?G.root=Re:ce&&(ce.mounted=me,ce.mount&&ce.mount.mounts.push(me)),Re},unmount(b){var x=G.lookupPath(b,{follow_mount:!1});if(!G.isMountpoint(x.node))throw new G.ErrnoError(28);var N=x.node,Y=N.mounted,ie=G.getMounts(Y);Object.keys(G.nameTable).forEach(pe=>{for(var me=G.nameTable[pe];me;){var Re=me.name_next;ie.includes(me.mount)&&G.destroyNode(me),me=Re}}),N.mounted=null;var ce=N.mount.mounts.indexOf(Y);N.mount.mounts.splice(ce,1)},lookup(b,x){return b.node_ops.lookup(b,x)},mknod(b,x,N){var Y=G.lookupPath(b,{parent:!0}),ie=Y.node,ce=he.basename(b);if(!ce)throw new G.ErrnoError(28);if(ce==="."||ce==="..")throw new G.ErrnoError(20);var pe=G.mayCreate(ie,ce);if(pe)throw new G.ErrnoError(pe);if(!ie.node_ops.mknod)throw new G.ErrnoError(63);return ie.node_ops.mknod(ie,ce,x,N)},statfs(b){return G.statfsNode(G.lookupPath(b,{follow:!0}).node)},statfsStream(b){return G.statfsNode(b.node)},statfsNode(b){var x={bsize:4096,frsize:4096,blocks:1e6,bfree:5e5,bavail:5e5,files:G.nextInode,ffree:G.nextInode-1,fsid:42,flags:2,namelen:255};return b.node_ops.statfs&&Object.assign(x,b.node_ops.statfs(b.mount.opts.root)),x},create(b,x=438){return x&=4095,x|=32768,G.mknod(b,x,0)},mkdir(b,x=511){return x&=1023,x|=16384,G.mknod(b,x,0)},mkdirTree(b,x){var N=b.split("/"),Y="";for(var ie of N)if(ie){(Y||he.isAbs(b))&&(Y+="/"),Y+=ie;try{G.mkdir(Y,x)}catch(ce){if(ce.errno!=20)throw ce}}},mkdev(b,x,N){return typeof N>"u"&&(N=x,x=438),x|=8192,G.mknod(b,x,N)},symlink(b,x){if(!de.resolve(b))throw new G.ErrnoError(44);var N=G.lookupPath(x,{parent:!0}),Y=N.node;if(!Y)throw new G.ErrnoError(44);var ie=he.basename(x),ce=G.mayCreate(Y,ie);if(ce)throw new G.ErrnoError(ce);if(!Y.node_ops.symlink)throw new G.ErrnoError(63);return Y.node_ops.symlink(Y,ie,b)},rename(b,x){var N=he.dirname(b),Y=he.dirname(x),ie=he.basename(b),ce=he.basename(x),pe,me,Re;if(pe=G.lookupPath(b,{parent:!0}),me=pe.node,pe=G.lookupPath(x,{parent:!0}),Re=pe.node,!me||!Re)throw new G.ErrnoError(44);if(me.mount!==Re.mount)throw new G.ErrnoError(75);var Ue=G.lookupNode(me,ie),Xe=de.relative(b,Y);if(Xe.charAt(0)!==".")throw new G.ErrnoError(28);if(Xe=de.relative(x,N),Xe.charAt(0)!==".")throw new G.ErrnoError(55);var Ze;try{Ze=G.lookupNode(Re,ce)}catch{}if(Ue!==Ze){var je=G.isDir(Ue.mode),C=G.mayDelete(me,ie,je);if(C)throw new G.ErrnoError(C);if(C=Ze?G.mayDelete(Re,ce,je):G.mayCreate(Re,ce),C)throw new G.ErrnoError(C);if(!me.node_ops.rename)throw new G.ErrnoError(63);if(G.isMountpoint(Ue)||Ze&&G.isMountpoint(Ze))throw new G.ErrnoError(10);if(Re!==me&&(C=G.nodePermissions(me,"w"),C))throw new G.ErrnoError(C);G.hashRemoveNode(Ue);try{me.node_ops.rename(Ue,Re,ce),Ue.parent=Re}catch(B){throw B}finally{G.hashAddNode(Ue)}}},rmdir(b){var x=G.lookupPath(b,{parent:!0}),N=x.node,Y=he.basename(b),ie=G.lookupNode(N,Y),ce=G.mayDelete(N,Y,!0);if(ce)throw new G.ErrnoError(ce);if(!N.node_ops.rmdir)throw new G.ErrnoError(63);if(G.isMountpoint(ie))throw new G.ErrnoError(10);N.node_ops.rmdir(N,Y),G.destroyNode(ie)},readdir(b){var x=G.lookupPath(b,{follow:!0}),N=x.node,Y=G.checkOpExists(N.node_ops.readdir,54);return Y(N)},unlink(b){var x=G.lookupPath(b,{parent:!0}),N=x.node;if(!N)throw new G.ErrnoError(44);var Y=he.basename(b),ie=G.lookupNode(N,Y),ce=G.mayDelete(N,Y,!1);if(ce)throw new G.ErrnoError(ce);if(!N.node_ops.unlink)throw new G.ErrnoError(63);if(G.isMountpoint(ie))throw new G.ErrnoError(10);N.node_ops.unlink(N,Y),G.destroyNode(ie)},readlink(b){var x=G.lookupPath(b),N=x.node;if(!N)throw new G.ErrnoError(44);if(!N.node_ops.readlink)throw new G.ErrnoError(28);return N.node_ops.readlink(N)},stat(b,x){var N=G.lookupPath(b,{follow:!x}),Y=N.node,ie=G.checkOpExists(Y.node_ops.getattr,63);return ie(Y)},fstat(b){var x=G.getStreamChecked(b),N=x.node,Y=x.stream_ops.getattr,ie=Y?x:N;return Y??=N.node_ops.getattr,G.checkOpExists(Y,63),Y(ie)},lstat(b){return G.stat(b,!0)},doChmod(b,x,N,Y){G.doSetAttr(b,x,{mode:N&4095|x.mode&-4096,ctime:Date.now(),dontFollow:Y})},chmod(b,x,N){var Y;if(typeof b=="string"){var ie=G.lookupPath(b,{follow:!N});Y=ie.node}else Y=b;G.doChmod(null,Y,x,N)},lchmod(b,x){G.chmod(b,x,!0)},fchmod(b,x){var N=G.getStreamChecked(b);G.doChmod(N,N.node,x,!1)},doChown(b,x,N){G.doSetAttr(b,x,{timestamp:Date.now(),dontFollow:N})},chown(b,x,N,Y){var ie;if(typeof b=="string"){var ce=G.lookupPath(b,{follow:!Y});ie=ce.node}else ie=b;G.doChown(null,ie,Y)},lchown(b,x,N){G.chown(b,x,N,!0)},fchown(b,x,N){var Y=G.getStreamChecked(b);G.doChown(Y,Y.node,!1)},doTruncate(b,x,N){if(G.isDir(x.mode))throw new G.ErrnoError(31);if(!G.isFile(x.mode))throw new G.ErrnoError(28);var Y=G.nodePermissions(x,"w");if(Y)throw new G.ErrnoError(Y);G.doSetAttr(b,x,{size:N,timestamp:Date.now()})},truncate(b,x){if(x<0)throw new G.ErrnoError(28);var N;if(typeof b=="string"){var Y=G.lookupPath(b,{follow:!0});N=Y.node}else N=b;G.doTruncate(null,N,x)},ftruncate(b,x){var N=G.getStreamChecked(b);if(x<0||(N.flags&2097155)===0)throw new G.ErrnoError(28);G.doTruncate(N,N.node,x)},utime(b,x,N){var Y=G.lookupPath(b,{follow:!0}),ie=Y.node,ce=G.checkOpExists(ie.node_ops.setattr,63);ce(ie,{atime:x,mtime:N})},open(b,x,N=438){if(b==="")throw new G.ErrnoError(44);x=typeof x=="string"?U(x):x,x&64?N=N&4095|32768:N=0;var Y,ie;if(typeof b=="object")Y=b;else{ie=b.endsWith("/");var ce=G.lookupPath(b,{follow:!(x&131072),noent_okay:!0});Y=ce.node,b=ce.path}var pe=!1;if(x&64)if(Y){if(x&128)throw new G.ErrnoError(20)}else{if(ie)throw new G.ErrnoError(31);Y=G.mknod(b,N|511,0),pe=!0}if(!Y)throw new G.ErrnoError(44);if(G.isChrdev(Y.mode)&&(x&=-513),x&65536&&!G.isDir(Y.mode))throw new G.ErrnoError(54);if(!pe){var me=G.mayOpen(Y,x);if(me)throw new G.ErrnoError(me)}x&512&&!pe&&G.truncate(Y,0),x&=-131713;var Re=G.createStream({node:Y,path:G.getPath(Y),flags:x,seekable:!0,position:0,stream_ops:Y.stream_ops,ungotten:[],error:!1});return Re.stream_ops.open&&Re.stream_ops.open(Re),pe&&G.chmod(Y,N&511),f.logReadFiles&&!(x&1)&&(b in G.readFiles||(G.readFiles[b]=1)),Re},close(b){if(G.isClosed(b))throw new G.ErrnoError(8);b.getdents&&(b.getdents=null);try{b.stream_ops.close&&b.stream_ops.close(b)}catch(x){throw x}finally{G.closeStream(b.fd)}b.fd=null},isClosed(b){return b.fd===null},llseek(b,x,N){if(G.isClosed(b))throw new G.ErrnoError(8);if(!b.seekable||!b.stream_ops.llseek)throw new G.ErrnoError(70);if(N!=0&&N!=1&&N!=2)throw new G.ErrnoError(28);return b.position=b.stream_ops.llseek(b,x,N),b.ungotten=[],b.position},read(b,x,N,Y,ie){if(Y<0||ie<0)throw new G.ErrnoError(28);if(G.isClosed(b))throw new G.ErrnoError(8);if((b.flags&2097155)===1)throw new G.ErrnoError(8);if(G.isDir(b.node.mode))throw new G.ErrnoError(31);if(!b.stream_ops.read)throw new G.ErrnoError(28);var ce=typeof ie<"u";if(!ce)ie=b.position;else if(!b.seekable)throw new G.ErrnoError(70);var pe=b.stream_ops.read(b,x,N,Y,ie);return ce||(b.position+=pe),pe},write(b,x,N,Y,ie,ce){if(Y<0||ie<0)throw new G.ErrnoError(28);if(G.isClosed(b))throw new G.ErrnoError(8);if((b.flags&2097155)===0)throw new G.ErrnoError(8);if(G.isDir(b.node.mode))throw new G.ErrnoError(31);if(!b.stream_ops.write)throw new G.ErrnoError(28);b.seekable&&b.flags&1024&&G.llseek(b,0,2);var pe=typeof ie<"u";if(!pe)ie=b.position;else if(!b.seekable)throw new G.ErrnoError(70);var me=b.stream_ops.write(b,x,N,Y,ie,ce);return pe||(b.position+=me),me},mmap(b,x,N,Y,ie){if((Y&2)!==0&&(ie&2)===0&&(b.flags&2097155)!==2)throw new G.ErrnoError(2);if((b.flags&2097155)===1)throw new G.ErrnoError(2);if(!b.stream_ops.mmap)throw new G.ErrnoError(43);if(!x)throw new G.ErrnoError(28);return b.stream_ops.mmap(b,x,N,Y,ie)},msync(b,x,N,Y,ie){return b.stream_ops.msync?b.stream_ops.msync(b,x,N,Y,ie):0},ioctl(b,x,N){if(!b.stream_ops.ioctl)throw new G.ErrnoError(59);return b.stream_ops.ioctl(b,x,N)},readFile(b,x={}){if(x.flags=x.flags||0,x.encoding=x.encoding||"binary",x.encoding!=="utf8"&&x.encoding!=="binary")throw new Error(`Invalid encoding type "${x.encoding}"`);var N,Y=G.open(b,x.flags),ie=G.stat(b),ce=ie.size,pe=new Uint8Array(ce);return G.read(Y,pe,0,ce,0),x.encoding==="utf8"?N=ke(pe):x.encoding==="binary"&&(N=pe),G.close(Y),N},writeFile(b,x,N={}){N.flags=N.flags||577;var Y=G.open(b,N.flags,N.mode);if(typeof x=="string"){var ie=new Uint8Array(De(x)+1),ce=Ne(x,ie,0,ie.length);G.write(Y,ie,0,ce,void 0,N.canOwn)}else if(ArrayBuffer.isView(x))G.write(Y,x,0,x.byteLength,void 0,N.canOwn);else throw new Error("Unsupported data type");G.close(Y)},cwd:()=>G.currentPath,chdir(b){var x=G.lookupPath(b,{follow:!0});if(x.node===null)throw new G.ErrnoError(44);if(!G.isDir(x.node.mode))throw new G.ErrnoError(54);var N=G.nodePermissions(x.node,"x");if(N)throw new G.ErrnoError(N);G.currentPath=x.path},createDefaultDirectories(){G.mkdir("/tmp"),G.mkdir("/home"),G.mkdir("/home/web_user")},createDefaultDevices(){G.mkdir("/dev"),G.registerDevice(G.makedev(1,3),{read:()=>0,write:(Y,ie,ce,pe,me)=>pe,llseek:()=>0}),G.mkdev("/dev/null",G.makedev(1,3)),Ee.register(G.makedev(5,0),Ee.default_tty_ops),Ee.register(G.makedev(6,0),Ee.default_tty1_ops),G.mkdev("/dev/tty",G.makedev(5,0)),G.mkdev("/dev/tty1",G.makedev(6,0));var b=new Uint8Array(1024),x=0,N=()=>(x===0&&(ne(b),x=b.byteLength),b[--x]);G.createDevice("/dev","random",N),G.createDevice("/dev","urandom",N),G.mkdir("/dev/shm"),G.mkdir("/dev/shm/tmp")},createSpecialDirectories(){G.mkdir("/proc");var b=G.mkdir("/proc/self");G.mkdir("/proc/self/fd"),G.mount({mount(){var x=G.createNode(b,"fd",16895,73);return x.stream_ops={llseek:_e.stream_ops.llseek},x.node_ops={lookup(N,Y){var ie=+Y,ce=G.getStreamChecked(ie),pe={parent:null,mount:{mountpoint:"fake"},node_ops:{readlink:()=>ce.path},id:ie+1};return pe.parent=pe,pe},readdir(){return Array.from(G.streams.entries()).filter(([N,Y])=>Y).map(([N,Y])=>N.toString())}},x}},{},"/proc/self/fd")},createStandardStreams(b,x,N){b?G.createDevice("/dev","stdin",b):G.symlink("/dev/tty","/dev/stdin"),x?G.createDevice("/dev","stdout",null,x):G.symlink("/dev/tty","/dev/stdout"),N?G.createDevice("/dev","stderr",null,N):G.symlink("/dev/tty1","/dev/stderr"),G.open("/dev/stdin",0),G.open("/dev/stdout",1),G.open("/dev/stderr",1)},staticInit(){G.nameTable=new Array(4096),G.mount(_e,{},"/"),G.createDefaultDirectories(),G.createDefaultDevices(),G.createSpecialDirectories(),G.filesystems={MEMFS:_e}},init(b,x,N){G.initialized=!0,b??=f.stdin,x??=f.stdout,N??=f.stderr,G.createStandardStreams(b,x,N)},quit(){G.initialized=!1;for(var b of G.streams)b&&G.close(b)},findObject(b,x){var N=G.analyzePath(b,x);return N.exists?N.object:null},analyzePath(b,x){try{var N=G.lookupPath(b,{follow:!x});b=N.path}catch{}var Y={isRoot:!1,exists:!1,error:0,name:null,path:null,object:null,parentExists:!1,parentPath:null,parentObject:null};try{var N=G.lookupPath(b,{parent:!0});Y.parentExists=!0,Y.parentPath=N.path,Y.parentObject=N.node,Y.name=he.basename(b),N=G.lookupPath(b,{follow:!x}),Y.exists=!0,Y.path=N.path,Y.object=N.node,Y.name=N.node.name,Y.isRoot=N.path==="/"}catch(ie){Y.error=ie.errno}return Y},createPath(b,x,N,Y){b=typeof b=="string"?b:G.getPath(b);for(var ie=x.split("/").reverse();ie.length;){var ce=ie.pop();if(ce){var pe=he.join2(b,ce);try{G.mkdir(pe)}catch(me){if(me.errno!=20)throw me}b=pe}}return pe},createFile(b,x,N,Y,ie){var ce=he.join2(typeof b=="string"?b:G.getPath(b),x),pe=Ve(Y,ie);return G.create(ce,pe)},createDataFile(b,x,N,Y,ie,ce){var pe=x;b&&(b=typeof b=="string"?b:G.getPath(b),pe=x?he.join2(b,x):b);var me=Ve(Y,ie),Re=G.create(pe,me);if(N){if(typeof N=="string"){for(var Ue=new Array(N.length),Xe=0,Ze=N.length;Xe<Ze;++Xe)Ue[Xe]=N.charCodeAt(Xe);N=Ue}G.chmod(Re,me|146);var je=G.open(Re,577);G.write(je,N,0,N.length,0,ce),G.close(je),G.chmod(Re,me)}},createDevice(b,x,N,Y){var ie=he.join2(typeof b=="string"?b:G.getPath(b),x),ce=Ve(!!N,!!Y);G.createDevice.major??=64;var pe=G.makedev(G.createDevice.major++,0);return G.registerDevice(pe,{open(me){me.seekable=!1},close(me){Y?.buffer?.length&&Y(10)},read(me,Re,Ue,Xe,Ze){for(var je=0,C=0;C<Xe;C++){var B;try{B=N()}catch{throw new G.ErrnoError(29)}if(B===void 0&&je===0)throw new G.ErrnoError(6);if(B==null)break;je++,Re[Ue+C]=B}return je&&(me.node.atime=Date.now()),je},write(me,Re,Ue,Xe,Ze){for(var je=0;je<Xe;je++)try{Y(Re[Ue+je])}catch{throw new G.ErrnoError(29)}return Xe&&(me.node.mtime=me.node.ctime=Date.now()),je}}),G.mkdev(ie,ce,pe)},forceLoadFile(b){if(b.isDevice||b.isFolder||b.link||b.contents)return!0;if(typeof XMLHttpRequest<"u")throw new Error("Lazy loading should have been performed (contents set) in createLazyFile, but it was not. Lazy loading only works in web workers. Use --embed-file or --preload-file in emcc on the main thread.");try{b.contents=t(b.url),b.usedBytes=b.contents.length}catch{throw new G.ErrnoError(29)}},createLazyFile(b,x,N,Y,ie){class ce{lengthKnown=!1;chunks=[];get(C){if(!(C>this.length-1||C<0)){var B=C%this.chunkSize,P=C/this.chunkSize|0;return this.getter(P)[B]}}setDataGetter(C){this.getter=C}cacheLength(){var C=new XMLHttpRequest;if(C.open("HEAD",N,!1),C.send(null),!(C.status>=200&&C.status<300||C.status===304))throw new Error("Couldn't load "+N+". Status: "+C.status);var B=Number(C.getResponseHeader("Content-length")),P,K=(P=C.getResponseHeader("Accept-Ranges"))&&P==="bytes",re=(P=C.getResponseHeader("Content-Encoding"))&&P==="gzip",ue=1024*1024;K||(ue=B);var ve=(Oe,qe)=>{if(Oe>qe)throw new Error("invalid range ("+Oe+", "+qe+") or no bytes requested!");if(qe>B-1)throw new Error("only "+B+" bytes available! programmer error!");var We=new XMLHttpRequest;if(We.open("GET",N,!1),B!==ue&&We.setRequestHeader("Range","bytes="+Oe+"-"+qe),We.responseType="arraybuffer",We.overrideMimeType&&We.overrideMimeType("text/plain; charset=x-user-defined"),We.send(null),!(We.status>=200&&We.status<300||We.status===304))throw new Error("Couldn't load "+N+". Status: "+We.status);return We.response!==void 0?new Uint8Array(We.response||[]):Be(We.responseText||"")},Ae=this;Ae.setDataGetter(Oe=>{var qe=Oe*ue,We=(Oe+1)*ue-1;if(We=Math.min(We,B-1),typeof Ae.chunks[Oe]>"u"&&(Ae.chunks[Oe]=ve(qe,We)),typeof Ae.chunks[Oe]>"u")throw new Error("doXHR failed!");return Ae.chunks[Oe]}),(re||!B)&&(ue=B=1,B=this.getter(0).length,ue=B,e("LazyFiles on gzip forces download of the whole file when length is accessed")),this._length=B,this._chunkSize=ue,this.lengthKnown=!0}get length(){return this.lengthKnown||this.cacheLength(),this._length}get chunkSize(){return this.lengthKnown||this.cacheLength(),this._chunkSize}}if(typeof XMLHttpRequest<"u"){throw"Cannot do synchronous binary XHRs outside webworkers in modern browsers. Use --embed-file or --preload-file in emcc";var pe,me}else var me={isDevice:!1,url:N};var Re=G.createFile(b,x,me,Y,ie);me.contents?Re.contents=me.contents:me.url&&(Re.contents=null,Re.url=me.url),Object.defineProperties(Re,{usedBytes:{get:function(){return this.contents.length}}});var Ue={},Xe=Object.keys(Re.stream_ops);Xe.forEach(je=>{var C=Re.stream_ops[je];Ue[je]=(...B)=>(G.forceLoadFile(Re),C(...B))});function Ze(je,C,B,P,K){var re=je.node.contents;if(K>=re.length)return 0;var ue=Math.min(re.length-K,P);if(re.slice)for(var ve=0;ve<ue;ve++)C[B+ve]=re[K+ve];else for(var ve=0;ve<ue;ve++)C[B+ve]=re.get(K+ve);return ue}return Ue.read=(je,C,B,P,K)=>(G.forceLoadFile(Re),Ze(je,C,B,P,K)),Ue.mmap=(je,C,B,P,K)=>{G.forceLoadFile(Re);var re=Ie();if(!re)throw new G.ErrnoError(48);return Ze(je,v,re,C,B),{ptr:re,allocated:!0}},Re.stream_ops=Ue,Re}},nt=(b,x)=>b?ke(p,b,x):"",V={DEFAULT_POLLMASK:5,calculateAt(b,x,N){if(he.isAbs(x))return x;var Y;if(b===-100)Y=G.cwd();else{var ie=V.getStreamFromFD(b);Y=ie.path}if(x.length==0){if(!N)throw new G.ErrnoError(44);return Y}return Y+"/"+x},writeStat(b,x){m[b>>2]=x.dev,m[b+4>>2]=x.mode,E[b+8>>2]=x.nlink,m[b+12>>2]=x.uid,m[b+16>>2]=x.gid,m[b+20>>2]=x.rdev,S[b+24>>3]=BigInt(x.size),m[b+32>>2]=4096,m[b+36>>2]=x.blocks;var N=x.atime.getTime(),Y=x.mtime.getTime(),ie=x.ctime.getTime();return S[b+40>>3]=BigInt(Math.floor(N/1e3)),E[b+48>>2]=N%1e3*1e3*1e3,S[b+56>>3]=BigInt(Math.floor(Y/1e3)),E[b+64>>2]=Y%1e3*1e3*1e3,S[b+72>>3]=BigInt(Math.floor(ie/1e3)),E[b+80>>2]=ie%1e3*1e3*1e3,S[b+88>>3]=BigInt(x.ino),0},writeStatFs(b,x){m[b+4>>2]=x.bsize,m[b+40>>2]=x.bsize,m[b+8>>2]=x.blocks,m[b+12>>2]=x.bfree,m[b+16>>2]=x.bavail,m[b+20>>2]=x.files,m[b+24>>2]=x.ffree,m[b+28>>2]=x.fsid,m[b+44>>2]=x.flags,m[b+36>>2]=x.namelen},doMsync(b,x,N,Y,ie){if(!G.isFile(x.node.mode))throw new G.ErrnoError(43);if(Y&2)return 0;var ce=p.slice(b,b+N);G.msync(x,ce,ie,N,Y)},getStreamFromFD(b){var x=G.getStreamChecked(b);return x},varargs:void 0,getStr(b){var x=nt(b);return x}};function lt(b,x,N){V.varargs=N;try{var Y=V.getStreamFromFD(b);switch(x){case 0:{var ie=F();if(ie<0)return-28;for(;G.streams[ie];)ie++;var ce;return ce=G.dupStream(Y,ie),ce.fd}case 1:case 2:return 0;case 3:return Y.flags;case 4:{var ie=F();return Y.flags|=ie,0}case 12:{var ie=be(),pe=0;return u[ie+pe>>1]=2,0}case 13:case 14:return 0}return-28}catch(me){if(typeof G>"u"||me.name!=="ErrnoError")throw me;return-me.errno}}function rt(b,x,N){V.varargs=N;try{var Y=V.getStreamFromFD(b);switch(x){case 21509:return Y.tty?0:-59;case 21505:{if(!Y.tty)return-59;if(Y.tty.ops.ioctl_tcgets){var ie=Y.tty.ops.ioctl_tcgets(Y),ce=be();m[ce>>2]=ie.c_iflag||0,m[ce+4>>2]=ie.c_oflag||0,m[ce+8>>2]=ie.c_cflag||0,m[ce+12>>2]=ie.c_lflag||0;for(var pe=0;pe<32;pe++)v[ce+pe+17]=ie.c_cc[pe]||0;return 0}return 0}case 21510:case 21511:case 21512:return Y.tty?0:-59;case 21506:case 21507:case 21508:{if(!Y.tty)return-59;if(Y.tty.ops.ioctl_tcsets){for(var ce=be(),me=m[ce>>2],Re=m[ce+4>>2],Ue=m[ce+8>>2],Xe=m[ce+12>>2],Ze=[],pe=0;pe<32;pe++)Ze.push(v[ce+pe+17]);return Y.tty.ops.ioctl_tcsets(Y.tty,x,{c_iflag:me,c_oflag:Re,c_cflag:Ue,c_lflag:Xe,c_cc:Ze})}return 0}case 21519:{if(!Y.tty)return-59;var ce=be();return m[ce>>2]=0,0}case 21520:return Y.tty?-28:-59;case 21531:{var ce=be();return G.ioctl(Y,x,ce)}case 21523:{if(!Y.tty)return-59;if(Y.tty.ops.ioctl_tiocgwinsz){var je=Y.tty.ops.ioctl_tiocgwinsz(Y.tty),ce=be();u[ce>>1]=je[0],u[ce+2>>1]=je[1]}return 0}case 21524:return Y.tty?0:-59;case 21515:return Y.tty?0:-59;default:return-28}}catch(C){if(typeof G>"u"||C.name!=="ErrnoError")throw C;return-C.errno}}function bt(b,x,N,Y){V.varargs=Y;try{x=V.getStr(x),x=V.calculateAt(b,x);var ie=Y?F():0;return G.open(x,N,ie).fd}catch(ce){if(typeof G>"u"||ce.name!=="ErrnoError")throw ce;return-ce.errno}}var Tt=()=>W(""),jt=0,fr=()=>{Je=!1,jt=0},pt={},Rt=b=>{if(b instanceof Ce||b=="unwind")return k;s(1,b)},qt=()=>Je||jt>0,Yt=b=>{k=b,qt()||(f.onExit?.(b),d=!0),s(b,new Ce(b))},Kt=(b,x)=>{k=b,Yt(b)},At=Kt,pr=()=>{if(!qt())try{At(k)}catch(b){Rt(b)}},gr=b=>{if(!d)try{b(),pr()}catch(x){Rt(x)}},mr=()=>performance.now(),vr=(b,x)=>{if(pt[b]&&(clearTimeout(pt[b].id),delete pt[b]),!x)return 0;var N=setTimeout(()=>{delete pt[b],gr(()=>O(b,mr()))},x);return pt[b]={id:N,timeout_ms:x},0},Lt=(b,x,N)=>Ne(b,p,x,N),yr=(b,x,N,Y)=>{var ie=new Date().getFullYear(),ce=new Date(ie,0,1),pe=new Date(ie,6,1),me=ce.getTimezoneOffset(),Re=pe.getTimezoneOffset(),Ue=Math.max(me,Re);E[b>>2]=Ue*60,m[x>>2]=+(me!=Re);var Xe=C=>{var B=C>=0?"-":"+",P=Math.abs(C),K=String(Math.floor(P/60)).padStart(2,"0"),re=String(P%60).padStart(2,"0");return`UTC${B}${K}${re}`},Ze=Xe(me),je=Xe(Re);Re<me?(Lt(Ze,N,17),Lt(je,Y,17)):(Lt(Ze,Y,17),Lt(je,N,17))},wr=()=>2147483648,_r=(b,x)=>Math.ceil(b/x)*x,Bt=b=>{var x=c.buffer,N=(b-x.byteLength+65535)/65536|0;try{return c.grow(N),$(),1}catch{}},Zt=b=>{var x=p.length;b>>>=0;var N=wr();if(b>N)return!1;for(var Y=1;Y<=4;Y*=2){var ie=x*(1+.2/Y);ie=Math.min(ie,b+100663296);var ce=Math.min(N,_r(Math.max(b,ie),65536)),pe=Bt(ce);if(pe)return!0}return!1},Ut={},rr=()=>y||"./this.program",Dt=()=>{if(!Dt.strings){var b=(typeof navigator=="object"&&navigator.languages&&navigator.languages[0]||"C").replace("-","_")+".UTF-8",x={USER:"web_user",LOGNAME:"web_user",PATH:"/",PWD:"/",HOME:"/home/web_user",LANG:b,_:rr()};for(var N in Ut)Ut[N]===void 0?delete x[N]:x[N]=Ut[N];var Y=[];for(var N in x)Y.push(`${N}=${x[N]}`);Dt.strings=Y}return Dt.strings},nr=(b,x)=>{var N=0,Y=0;for(var ie of Dt()){var ce=x+N;E[b+Y>>2]=ce,N+=Lt(ie,ce,1/0)+1,Y+=4}return 0},br=(b,x)=>{var N=Dt();E[b>>2]=N.length;var Y=0;for(var ie of N)Y+=De(ie)+1;return E[x>>2]=Y,0};function Ar(b){try{var x=V.getStreamFromFD(b);return G.close(x),0}catch(N){if(typeof G>"u"||N.name!=="ErrnoError")throw N;return N.errno}}var Er=(b,x,N,Y)=>{for(var ie=0,ce=0;ce<N;ce++){var pe=E[x>>2],me=E[x+4>>2];x+=8;var Re=G.read(b,v,pe,me,Y);if(Re<0)return-1;if(ie+=Re,Re<me)break}return ie};function Cr(b,x,N,Y){try{var ie=V.getStreamFromFD(b),ce=Er(ie,x,N);return E[Y>>2]=ce,0}catch(pe){if(typeof G>"u"||pe.name!=="ErrnoError")throw pe;return pe.errno}}var Et=9007199254740992,Sr=-9007199254740992,$r=b=>b<Sr||b>Et?NaN:Number(b);function yt(b,x,N,Y){x=$r(x);try{if(isNaN(x))return 61;var ie=V.getStreamFromFD(b);return G.llseek(ie,x,N),S[Y>>3]=BigInt(ie.position),ie.getdents&&x===0&&N===0&&(ie.getdents=null),0}catch(ce){if(typeof G>"u"||ce.name!=="ErrnoError")throw ce;return ce.errno}}var kr=(b,x,N,Y)=>{for(var ie=0,ce=0;ce<N;ce++){var pe=E[x>>2],me=E[x+4>>2];x+=8;var Re=G.write(b,v,pe,me,Y);if(Re<0)return-1;if(ie+=Re,Re<me)break}return ie};function Mr(b,x,N,Y){try{var ie=V.getStreamFromFD(b),ce=kr(ie,x,N);return E[Y>>2]=ce,0}catch(pe){if(typeof G>"u"||pe.name!=="ErrnoError")throw pe;return pe.errno}}var zt=b=>j(b),Tr=b=>{var x=De(b)+1,N=zt(x);return Lt(b,N,x),N};G.createPreloadedFile=He,G.staticInit(),_e.doesNotExistError=new G.ErrnoError(44),_e.doesNotExistError.stack="<generic error, no stack>",f.noExitRuntime&&(Je=f.noExitRuntime),f.preloadPlugins&&(Te=f.preloadPlugins),f.print&&(e=f.print),f.printErr&&(n=f.printErr),f.wasmBinary&&(a=f.wasmBinary),f.arguments&&(A=f.arguments),f.thisProgram&&(y=f.thisProgram),f.FS=G;var Ct={c:lt,h:rt,i:bt,p:Tt,k:fr,l:vr,m:yr,d:Zt,n:nr,o:br,a:At,b:Ar,g:Cr,e:yt,f:Mr,j:Yt},wt=await fe();wt.r;var T=f._main=wt.s,O=wt.t,j=wt.u;function X(b=[]){var x=T;b.unshift(y);var N=b.length,Y=zt((N+1)*4),ie=Y;b.forEach(pe=>{E[ie>>2]=Tr(pe),ie+=4}),E[ie>>2]=0;try{var ce=x(N,Y);return Kt(ce,!0),ce}catch(pe){return Rt(pe)}}function le(b=A){if(l>0){_=le;return}if(R(),l>0){_=le;return}function x(){if(f.calledRun=!0,!d){g(),D(f),f.onRuntimeInitialized?.();var N=f.noInitialRun||!1;N||X(b),w()}}f.setStatus?(f.setStatus("Running..."),setTimeout(()=>{setTimeout(()=>f.setStatus(""),1),x()},1)):x()}function ge(){if(f.preInit)for(typeof f.preInit=="function"&&(f.preInit=[f.preInit]);f.preInit.length>0;)f.preInit.shift()()}return ge(),le(),Q=M,Q},So=async function(te={}){var Q,f=te,D,z,M=new Promise((T,O)=>{D=T,z=O}),A=[],y="./this.program",s=(T,O)=>{throw O},h=import.meta.url,o="";function r(T){return f.locateFile?f.locateFile(T,o):o+T}var i,t;{try{o=new URL(".",h).href}catch{}i=async T=>{var O=await fetch(T,{credentials:"same-origin"});if(O.ok)return O.arrayBuffer();throw new Error(O.status+" : "+O.url)}}var e=console.log.bind(console),n=console.error.bind(console),a,c,d=!1,k,v,p,u,m,E,S;function $(){var T=c.buffer;v=new Int8Array(T),u=new Int16Array(T),p=new Uint8Array(T),m=new Int32Array(T),E=new Uint32Array(T),S=new BigInt64Array(T),new BigUint64Array(T)}function R(){if(f.preRun)for(typeof f.preRun=="function"&&(f.preRun=[f.preRun]);f.preRun.length;)ze(f.preRun.shift());Se(Pe)}function g(){!f.noFSInit&&!U.initialized&&U.init(),yt.o(),U.ignorePermissions=!1}function w(){if(f.postRun)for(typeof f.postRun=="function"&&(f.postRun=[f.postRun]);f.postRun.length;)xe(f.postRun.shift());Se($e)}var l=0,_=null;function L(T){l++,f.monitorRunDependencies?.(l)}function I(T){if(l--,f.monitorRunDependencies?.(l),l==0&&_){var O=_;_=null,O()}}function W(T){f.onAbort?.(T),T="Aborted("+T+")",n(T),d=!0,T+=". Build with -sASSERTIONS for more info.";var O=new WebAssembly.RuntimeError(T);throw z(O),O}var H;function J(){return f.locateFile?r("rgbfix.wasm"):new URL(""+new URL("rgbfix-BaTj6V6I.wasm",import.meta.url).href,import.meta.url).href}function q(T){if(T==H&&a)return new Uint8Array(a);throw"both async and sync fetching of the wasm failed"}async function Z(T){if(!a)try{var O=await i(T);return new Uint8Array(O)}catch{}return q(T)}async function oe(T,O){try{var j=await Z(T),X=await WebAssembly.instantiate(j,O);return X}catch(le){n(`failed to asynchronously prepare wasm: ${le}`),W(le)}}async function ee(T,O,j){if(!T&&typeof WebAssembly.instantiateStreaming=="function")try{var X=fetch(O,{credentials:"same-origin"}),le=await WebAssembly.instantiateStreaming(X,j);return le}catch(ge){n(`wasm streaming compile failed: ${ge}`),n("falling back to ArrayBuffer instantiation")}return oe(O,j)}function se(){return{a:$r}}async function fe(){function T(ge,b){return yt=ge.exports,c=yt.n,$(),I(),yt}L();function O(ge){return T(ge.instance)}var j=se();if(f.instantiateWasm)return new Promise((ge,b)=>{f.instantiateWasm(j,(x,N)=>{ge(T(x))})});H??=J();try{var X=await ee(a,H,j),le=O(X);return le}catch(ge){return z(ge),Promise.reject(ge)}}class Ce{name="ExitStatus";constructor(O){this.message=`Program terminated with exit(${O})`,this.status=O}}var Se=T=>{for(;T.length>0;)T.shift()(f)},$e=[],xe=T=>$e.push(T),Pe=[],ze=T=>Pe.push(T),Je=!0,F={isAbs:T=>T.charAt(0)==="/",splitPath:T=>{var O=/^(\/?|)([\s\S]*?)((?:\.{1,2}|[^\/]+?|)(\.[^.\/]*|))(?:[\/]*)$/;return O.exec(T).slice(1)},normalizeArray:(T,O)=>{for(var j=0,X=T.length-1;X>=0;X--){var le=T[X];le==="."?T.splice(X,1):le===".."?(T.splice(X,1),j++):j&&(T.splice(X,1),j--)}if(O)for(;j;j--)T.unshift("..");return T},normalize:T=>{var O=F.isAbs(T),j=T.slice(-1)==="/";return T=F.normalizeArray(T.split("/").filter(X=>!!X),!O).join("/"),!T&&!O&&(T="."),T&&j&&(T+="/"),(O?"/":"")+T},dirname:T=>{var O=F.splitPath(T),j=O[0],X=O[1];return!j&&!X?".":(X&&(X=X.slice(0,-1)),j+X)},basename:T=>T&&T.match(/([^\/]+|\/)\/*$/)[1],join:(...T)=>F.normalize(T.join("/")),join2:(T,O)=>F.normalize(T+"/"+O)},be=()=>T=>crypto.getRandomValues(T),he=T=>{(he=be())(T)},ae={resolve:(...T)=>{for(var O="",j=!1,X=T.length-1;X>=-1&&!j;X--){var le=X>=0?T[X]:U.cwd();if(typeof le!="string")throw new TypeError("Arguments to path.resolve must be strings");if(!le)return"";O=le+"/"+O,j=F.isAbs(le)}return O=F.normalizeArray(O.split("/").filter(ge=>!!ge),!j).join("/"),(j?"/":"")+O||"."},relative:(T,O)=>{T=ae.resolve(T).slice(1),O=ae.resolve(O).slice(1);function j(Y){for(var ie=0;ie<Y.length&&Y[ie]==="";ie++);for(var ce=Y.length-1;ce>=0&&Y[ce]==="";ce--);return ie>ce?[]:Y.slice(ie,ce-ie+1)}for(var X=j(T.split("/")),le=j(O.split("/")),ge=Math.min(X.length,le.length),b=ge,x=0;x<ge;x++)if(X[x]!==le[x]){b=x;break}for(var N=[],x=b;x<X.length;x++)N.push("..");return N=N.concat(le.slice(b)),N.join("/")}},ne=typeof TextDecoder<"u"?new TextDecoder:void 0,de=(T,O=0,j=NaN)=>{for(var X=O+j,le=O;T[le]&&!(le>=X);)++le;if(le-O>16&&T.buffer&&ne)return ne.decode(T.subarray(O,le));for(var ge="";O<le;){var b=T[O++];if(!(b&128)){ge+=String.fromCharCode(b);continue}var x=T[O++]&63;if((b&224)==192){ge+=String.fromCharCode((b&31)<<6|x);continue}var N=T[O++]&63;if((b&240)==224?b=(b&15)<<12|x<<6|N:b=(b&7)<<18|x<<12|N<<6|T[O++]&63,b<65536)ge+=String.fromCharCode(b);else{var Y=b-65536;ge+=String.fromCharCode(55296|Y>>10,56320|Y&1023)}}return ge},Me=[],ke=T=>{for(var O=0,j=0;j<T.length;++j){var X=T.charCodeAt(j);X<=127?O++:X<=2047?O+=2:X>=55296&&X<=57343?(O+=4,++j):O+=3}return O},we=(T,O,j,X)=>{if(!(X>0))return 0;for(var le=j,ge=j+X-1,b=0;b<T.length;++b){var x=T.charCodeAt(b);if(x>=55296&&x<=57343){var N=T.charCodeAt(++b);x=65536+((x&1023)<<10)|N&1023}if(x<=127){if(j>=ge)break;O[j++]=x}else if(x<=2047){if(j+1>=ge)break;O[j++]=192|x>>6,O[j++]=128|x&63}else if(x<=65535){if(j+2>=ge)break;O[j++]=224|x>>12,O[j++]=128|x>>6&63,O[j++]=128|x&63}else{if(j+3>=ge)break;O[j++]=240|x>>18,O[j++]=128|x>>12&63,O[j++]=128|x>>6&63,O[j++]=128|x&63}}return O[j]=0,j-le},De=(T,O,j)=>{var X=ke(T)+1,le=new Array(X),ge=we(T,le,0,le.length);return le.length=ge,le},Ne=()=>{if(!Me.length){var T=null;if(typeof window<"u"&&typeof window.prompt=="function"&&(T=window.prompt("Input: "),T!==null&&(T+=`
`)),!T)return null;Me=De(T)}return Me.shift()},Be={ttys:[],init(){},shutdown(){},register(T,O){Be.ttys[T]={input:[],output:[],ops:O},U.registerDevice(T,Be.stream_ops)},stream_ops:{open(T){var O=Be.ttys[T.node.rdev];if(!O)throw new U.ErrnoError(43);T.tty=O,T.seekable=!1},close(T){T.tty.ops.fsync(T.tty)},fsync(T){T.tty.ops.fsync(T.tty)},read(T,O,j,X,le){if(!T.tty||!T.tty.ops.get_char)throw new U.ErrnoError(60);for(var ge=0,b=0;b<X;b++){var x;try{x=T.tty.ops.get_char(T.tty)}catch{throw new U.ErrnoError(29)}if(x===void 0&&ge===0)throw new U.ErrnoError(6);if(x==null)break;ge++,O[j+b]=x}return ge&&(T.node.atime=Date.now()),ge},write(T,O,j,X,le){if(!T.tty||!T.tty.ops.put_char)throw new U.ErrnoError(60);try{for(var ge=0;ge<X;ge++)T.tty.ops.put_char(T.tty,O[j+ge])}catch{throw new U.ErrnoError(29)}return X&&(T.node.mtime=T.node.ctime=Date.now()),ge}},default_tty_ops:{get_char(T){return Ne()},put_char(T,O){O===null||O===10?(e(de(T.output)),T.output=[]):O!=0&&T.output.push(O)},fsync(T){T.output?.length>0&&(e(de(T.output)),T.output=[])},ioctl_tcgets(T){return{c_iflag:25856,c_oflag:5,c_cflag:191,c_lflag:35387,c_cc:[3,28,127,21,4,0,1,0,17,19,26,0,18,15,23,22,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0]}},ioctl_tcsets(T,O,j){return 0},ioctl_tiocgwinsz(T){return[24,80]}},default_tty1_ops:{put_char(T,O){O===null||O===10?(n(de(T.output)),T.output=[]):O!=0&&T.output.push(O)},fsync(T){T.output?.length>0&&(n(de(T.output)),T.output=[])}}},ye=T=>{W()},Ee={ops_table:null,mount(T){return Ee.createNode(null,"/",16895,0)},createNode(T,O,j,X){if(U.isBlkdev(j)||U.isFIFO(j))throw new U.ErrnoError(63);Ee.ops_table||={dir:{node:{getattr:Ee.node_ops.getattr,setattr:Ee.node_ops.setattr,lookup:Ee.node_ops.lookup,mknod:Ee.node_ops.mknod,rename:Ee.node_ops.rename,unlink:Ee.node_ops.unlink,rmdir:Ee.node_ops.rmdir,readdir:Ee.node_ops.readdir,symlink:Ee.node_ops.symlink},stream:{llseek:Ee.stream_ops.llseek}},file:{node:{getattr:Ee.node_ops.getattr,setattr:Ee.node_ops.setattr},stream:{llseek:Ee.stream_ops.llseek,read:Ee.stream_ops.read,write:Ee.stream_ops.write,mmap:Ee.stream_ops.mmap,msync:Ee.stream_ops.msync}},link:{node:{getattr:Ee.node_ops.getattr,setattr:Ee.node_ops.setattr,readlink:Ee.node_ops.readlink},stream:{}},chrdev:{node:{getattr:Ee.node_ops.getattr,setattr:Ee.node_ops.setattr},stream:U.chrdev_stream_ops}};var le=U.createNode(T,O,j,X);return U.isDir(le.mode)?(le.node_ops=Ee.ops_table.dir.node,le.stream_ops=Ee.ops_table.dir.stream,le.contents={}):U.isFile(le.mode)?(le.node_ops=Ee.ops_table.file.node,le.stream_ops=Ee.ops_table.file.stream,le.usedBytes=0,le.contents=null):U.isLink(le.mode)?(le.node_ops=Ee.ops_table.link.node,le.stream_ops=Ee.ops_table.link.stream):U.isChrdev(le.mode)&&(le.node_ops=Ee.ops_table.chrdev.node,le.stream_ops=Ee.ops_table.chrdev.stream),le.atime=le.mtime=le.ctime=Date.now(),T&&(T.contents[O]=le,T.atime=T.mtime=T.ctime=le.atime),le},getFileDataAsTypedArray(T){return T.contents?T.contents.subarray?T.contents.subarray(0,T.usedBytes):new Uint8Array(T.contents):new Uint8Array(0)},expandFileStorage(T,O){var j=T.contents?T.contents.length:0;if(!(j>=O)){var X=1024*1024;O=Math.max(O,j*(j<X?2:1.125)>>>0),j!=0&&(O=Math.max(O,256));var le=T.contents;T.contents=new Uint8Array(O),T.usedBytes>0&&T.contents.set(le.subarray(0,T.usedBytes),0)}},resizeFileStorage(T,O){if(T.usedBytes!=O)if(O==0)T.contents=null,T.usedBytes=0;else{var j=T.contents;T.contents=new Uint8Array(O),j&&T.contents.set(j.subarray(0,Math.min(O,T.usedBytes))),T.usedBytes=O}},node_ops:{getattr(T){var O={};return O.dev=U.isChrdev(T.mode)?T.id:1,O.ino=T.id,O.mode=T.mode,O.nlink=1,O.uid=0,O.gid=0,O.rdev=T.rdev,U.isDir(T.mode)?O.size=4096:U.isFile(T.mode)?O.size=T.usedBytes:U.isLink(T.mode)?O.size=T.link.length:O.size=0,O.atime=new Date(T.atime),O.mtime=new Date(T.mtime),O.ctime=new Date(T.ctime),O.blksize=4096,O.blocks=Math.ceil(O.size/O.blksize),O},setattr(T,O){for(const j of["mode","atime","mtime","ctime"])O[j]!=null&&(T[j]=O[j]);O.size!==void 0&&Ee.resizeFileStorage(T,O.size)},lookup(T,O){throw Ee.doesNotExistError},mknod(T,O,j,X){return Ee.createNode(T,O,j,X)},rename(T,O,j){var X;try{X=U.lookupNode(O,j)}catch{}if(X){if(U.isDir(T.mode))for(var le in X.contents)throw new U.ErrnoError(55);U.hashRemoveNode(X)}delete T.parent.contents[T.name],O.contents[j]=T,T.name=j,O.ctime=O.mtime=T.parent.ctime=T.parent.mtime=Date.now()},unlink(T,O){delete T.contents[O],T.ctime=T.mtime=Date.now()},rmdir(T,O){var j=U.lookupNode(T,O);for(var X in j.contents)throw new U.ErrnoError(55);delete T.contents[O],T.ctime=T.mtime=Date.now()},readdir(T){return[".","..",...Object.keys(T.contents)]},symlink(T,O,j){var X=Ee.createNode(T,O,41471,0);return X.link=j,X},readlink(T){if(!U.isLink(T.mode))throw new U.ErrnoError(28);return T.link}},stream_ops:{read(T,O,j,X,le){var ge=T.node.contents;if(le>=T.node.usedBytes)return 0;var b=Math.min(T.node.usedBytes-le,X);if(b>8&&ge.subarray)O.set(ge.subarray(le,le+b),j);else for(var x=0;x<b;x++)O[j+x]=ge[le+x];return b},write(T,O,j,X,le,ge){if(O.buffer===v.buffer&&(ge=!1),!X)return 0;var b=T.node;if(b.mtime=b.ctime=Date.now(),O.subarray&&(!b.contents||b.contents.subarray)){if(ge)return b.contents=O.subarray(j,j+X),b.usedBytes=X,X;if(b.usedBytes===0&&le===0)return b.contents=O.slice(j,j+X),b.usedBytes=X,X;if(le+X<=b.usedBytes)return b.contents.set(O.subarray(j,j+X),le),X}if(Ee.expandFileStorage(b,le+X),b.contents.subarray&&O.subarray)b.contents.set(O.subarray(j,j+X),le);else for(var x=0;x<X;x++)b.contents[le+x]=O[j+x];return b.usedBytes=Math.max(b.usedBytes,le+X),X},llseek(T,O,j){var X=O;if(j===1?X+=T.position:j===2&&U.isFile(T.node.mode)&&(X+=T.node.usedBytes),X<0)throw new U.ErrnoError(28);return X},mmap(T,O,j,X,le){if(!U.isFile(T.node.mode))throw new U.ErrnoError(43);var ge,b,x=T.node.contents;if(!(le&2)&&x&&x.buffer===v.buffer)b=!1,ge=x.byteOffset;else{if(b=!0,ge=ye(),!ge)throw new U.ErrnoError(48);x&&((j>0||j+O<x.length)&&(x.subarray?x=x.subarray(j,j+O):x=Array.prototype.slice.call(x,j,j+O)),v.set(x,ge))}return{ptr:ge,allocated:b}},msync(T,O,j,X,le){return Ee.stream_ops.write(T,O,0,X,j,!1),0}}},Ie=async T=>{var O=await i(T);return new Uint8Array(O)},_e=(...T)=>U.createDataFile(...T),Ke=[],Fe=(T,O,j,X)=>{typeof Browser<"u"&&Browser.init();var le=!1;return Ke.forEach(ge=>{le||ge.canHandle(O)&&(ge.handle(T,O,j,X),le=!0)}),le},Te=(T,O,j,X,le,ge,b,x,N,Y)=>{var ie=O?ae.resolve(F.join2(T,O)):T;function ce(pe){function me(Re){Y?.(),x||_e(T,O,Re,X,le,N),ge?.(),I()}Fe(pe,ie,me,()=>{b?.(),I()})||me(pe)}L(),typeof j=="string"?Ie(j).then(ce,b):ce(j)},Le=T=>{var O={r:0,"r+":2,w:577,"w+":578,a:1089,"a+":1090},j=O[T];if(typeof j>"u")throw new Error(`Unknown file open mode: ${T}`);return j},He=(T,O)=>{var j=0;return T&&(j|=365),O&&(j|=146),j},U={root:null,mounts:[],devices:{},streams:[],nextInode:1,nameTable:null,currentPath:"/",initialized:!1,ignorePermissions:!0,filesystems:null,syncFSRequests:0,readFiles:{},ErrnoError:class{name="ErrnoError";constructor(T){this.errno=T}},FSStream:class{shared={};get object(){return this.node}set object(T){this.node=T}get isRead(){return(this.flags&2097155)!==1}get isWrite(){return(this.flags&2097155)!==0}get isAppend(){return this.flags&1024}get flags(){return this.shared.flags}set flags(T){this.shared.flags=T}get position(){return this.shared.position}set position(T){this.shared.position=T}},FSNode:class{node_ops={};stream_ops={};readMode=365;writeMode=146;mounted=null;constructor(T,O,j,X){T||(T=this),this.parent=T,this.mount=T.mount,this.id=U.nextInode++,this.name=O,this.mode=j,this.rdev=X,this.atime=this.mtime=this.ctime=Date.now()}get read(){return(this.mode&this.readMode)===this.readMode}set read(T){T?this.mode|=this.readMode:this.mode&=~this.readMode}get write(){return(this.mode&this.writeMode)===this.writeMode}set write(T){T?this.mode|=this.writeMode:this.mode&=~this.writeMode}get isFolder(){return U.isDir(this.mode)}get isDevice(){return U.isChrdev(this.mode)}},lookupPath(T,O={}){if(!T)throw new U.ErrnoError(44);O.follow_mount??=!0,F.isAbs(T)||(T=U.cwd()+"/"+T);e:for(var j=0;j<40;j++){for(var X=T.split("/").filter(Y=>!!Y),le=U.root,ge="/",b=0;b<X.length;b++){var x=b===X.length-1;if(x&&O.parent)break;if(X[b]!=="."){if(X[b]===".."){if(ge=F.dirname(ge),U.isRoot(le)){T=ge+"/"+X.slice(b+1).join("/");continue e}else le=le.parent;continue}ge=F.join2(ge,X[b]);try{le=U.lookupNode(le,X[b])}catch(Y){if(Y?.errno===44&&x&&O.noent_okay)return{path:ge};throw Y}if(U.isMountpoint(le)&&(!x||O.follow_mount)&&(le=le.mounted.root),U.isLink(le.mode)&&(!x||O.follow)){if(!le.node_ops.readlink)throw new U.ErrnoError(52);var N=le.node_ops.readlink(le);F.isAbs(N)||(N=F.dirname(ge)+"/"+N),T=N+"/"+X.slice(b+1).join("/");continue e}}}return{path:ge,node:le}}throw new U.ErrnoError(32)},getPath(T){for(var O;;){if(U.isRoot(T)){var j=T.mount.mountpoint;return O?j[j.length-1]!=="/"?`${j}/${O}`:j+O:j}O=O?`${T.name}/${O}`:T.name,T=T.parent}},hashName(T,O){for(var j=0,X=0;X<O.length;X++)j=(j<<5)-j+O.charCodeAt(X)|0;return(T+j>>>0)%U.nameTable.length},hashAddNode(T){var O=U.hashName(T.parent.id,T.name);T.name_next=U.nameTable[O],U.nameTable[O]=T},hashRemoveNode(T){var O=U.hashName(T.parent.id,T.name);if(U.nameTable[O]===T)U.nameTable[O]=T.name_next;else for(var j=U.nameTable[O];j;){if(j.name_next===T){j.name_next=T.name_next;break}j=j.name_next}},lookupNode(T,O){var j=U.mayLookup(T);if(j)throw new U.ErrnoError(j);for(var X=U.hashName(T.id,O),le=U.nameTable[X];le;le=le.name_next){var ge=le.name;if(le.parent.id===T.id&&ge===O)return le}return U.lookup(T,O)},createNode(T,O,j,X){var le=new U.FSNode(T,O,j,X);return U.hashAddNode(le),le},destroyNode(T){U.hashRemoveNode(T)},isRoot(T){return T===T.parent},isMountpoint(T){return!!T.mounted},isFile(T){return(T&61440)===32768},isDir(T){return(T&61440)===16384},isLink(T){return(T&61440)===40960},isChrdev(T){return(T&61440)===8192},isBlkdev(T){return(T&61440)===24576},isFIFO(T){return(T&61440)===4096},isSocket(T){return(T&49152)===49152},flagsToPermissionString(T){var O=["r","w","rw"][T&3];return T&512&&(O+="w"),O},nodePermissions(T,O){return U.ignorePermissions?0:O.includes("r")&&!(T.mode&292)||O.includes("w")&&!(T.mode&146)||O.includes("x")&&!(T.mode&73)?2:0},mayLookup(T){if(!U.isDir(T.mode))return 54;var O=U.nodePermissions(T,"x");return O||(T.node_ops.lookup?0:2)},mayCreate(T,O){if(!U.isDir(T.mode))return 54;try{var j=U.lookupNode(T,O);return 20}catch{}return U.nodePermissions(T,"wx")},mayDelete(T,O,j){var X;try{X=U.lookupNode(T,O)}catch(ge){return ge.errno}var le=U.nodePermissions(T,"wx");if(le)return le;if(j){if(!U.isDir(X.mode))return 54;if(U.isRoot(X)||U.getPath(X)===U.cwd())return 10}else if(U.isDir(X.mode))return 31;return 0},mayOpen(T,O){return T?U.isLink(T.mode)?32:U.isDir(T.mode)&&(U.flagsToPermissionString(O)!=="r"||O&576)?31:U.nodePermissions(T,U.flagsToPermissionString(O)):44},checkOpExists(T,O){if(!T)throw new U.ErrnoError(O);return T},MAX_OPEN_FDS:4096,nextfd(){for(var T=0;T<=U.MAX_OPEN_FDS;T++)if(!U.streams[T])return T;throw new U.ErrnoError(33)},getStreamChecked(T){var O=U.getStream(T);if(!O)throw new U.ErrnoError(8);return O},getStream:T=>U.streams[T],createStream(T,O=-1){return T=Object.assign(new U.FSStream,T),O==-1&&(O=U.nextfd()),T.fd=O,U.streams[O]=T,T},closeStream(T){U.streams[T]=null},dupStream(T,O=-1){var j=U.createStream(T,O);return j.stream_ops?.dup?.(j),j},doSetAttr(T,O,j){var X=T?.stream_ops.setattr,le=X?T:O;X??=O.node_ops.setattr,U.checkOpExists(X,63),X(le,j)},chrdev_stream_ops:{open(T){var O=U.getDevice(T.node.rdev);T.stream_ops=O.stream_ops,T.stream_ops.open?.(T)},llseek(){throw new U.ErrnoError(70)}},major:T=>T>>8,minor:T=>T&255,makedev:(T,O)=>T<<8|O,registerDevice(T,O){U.devices[T]={stream_ops:O}},getDevice:T=>U.devices[T],getMounts(T){for(var O=[],j=[T];j.length;){var X=j.pop();O.push(X),j.push(...X.mounts)}return O},syncfs(T,O){typeof T=="function"&&(O=T,T=!1),U.syncFSRequests++,U.syncFSRequests>1&&n(`warning: ${U.syncFSRequests} FS.syncfs operations in flight at once, probably just doing extra work`);var j=U.getMounts(U.root.mount),X=0;function le(b){return U.syncFSRequests--,O(b)}function ge(b){if(b)return ge.errored?void 0:(ge.errored=!0,le(b));++X>=j.length&&le(null)}j.forEach(b=>{if(!b.type.syncfs)return ge(null);b.type.syncfs(b,T,ge)})},mount(T,O,j){var X=j==="/",le=!j,ge;if(X&&U.root)throw new U.ErrnoError(10);if(!X&&!le){var b=U.lookupPath(j,{follow_mount:!1});if(j=b.path,ge=b.node,U.isMountpoint(ge))throw new U.ErrnoError(10);if(!U.isDir(ge.mode))throw new U.ErrnoError(54)}var x={type:T,opts:O,mountpoint:j,mounts:[]},N=T.mount(x);return N.mount=x,x.root=N,X?U.root=N:ge&&(ge.mounted=x,ge.mount&&ge.mount.mounts.push(x)),N},unmount(T){var O=U.lookupPath(T,{follow_mount:!1});if(!U.isMountpoint(O.node))throw new U.ErrnoError(28);var j=O.node,X=j.mounted,le=U.getMounts(X);Object.keys(U.nameTable).forEach(b=>{for(var x=U.nameTable[b];x;){var N=x.name_next;le.includes(x.mount)&&U.destroyNode(x),x=N}}),j.mounted=null;var ge=j.mount.mounts.indexOf(X);j.mount.mounts.splice(ge,1)},lookup(T,O){return T.node_ops.lookup(T,O)},mknod(T,O,j){var X=U.lookupPath(T,{parent:!0}),le=X.node,ge=F.basename(T);if(!ge)throw new U.ErrnoError(28);if(ge==="."||ge==="..")throw new U.ErrnoError(20);var b=U.mayCreate(le,ge);if(b)throw new U.ErrnoError(b);if(!le.node_ops.mknod)throw new U.ErrnoError(63);return le.node_ops.mknod(le,ge,O,j)},statfs(T){return U.statfsNode(U.lookupPath(T,{follow:!0}).node)},statfsStream(T){return U.statfsNode(T.node)},statfsNode(T){var O={bsize:4096,frsize:4096,blocks:1e6,bfree:5e5,bavail:5e5,files:U.nextInode,ffree:U.nextInode-1,fsid:42,flags:2,namelen:255};return T.node_ops.statfs&&Object.assign(O,T.node_ops.statfs(T.mount.opts.root)),O},create(T,O=438){return O&=4095,O|=32768,U.mknod(T,O,0)},mkdir(T,O=511){return O&=1023,O|=16384,U.mknod(T,O,0)},mkdirTree(T,O){var j=T.split("/"),X="";for(var le of j)if(le){(X||F.isAbs(T))&&(X+="/"),X+=le;try{U.mkdir(X,O)}catch(ge){if(ge.errno!=20)throw ge}}},mkdev(T,O,j){return typeof j>"u"&&(j=O,O=438),O|=8192,U.mknod(T,O,j)},symlink(T,O){if(!ae.resolve(T))throw new U.ErrnoError(44);var j=U.lookupPath(O,{parent:!0}),X=j.node;if(!X)throw new U.ErrnoError(44);var le=F.basename(O),ge=U.mayCreate(X,le);if(ge)throw new U.ErrnoError(ge);if(!X.node_ops.symlink)throw new U.ErrnoError(63);return X.node_ops.symlink(X,le,T)},rename(T,O){var j=F.dirname(T),X=F.dirname(O),le=F.basename(T),ge=F.basename(O),b,x,N;if(b=U.lookupPath(T,{parent:!0}),x=b.node,b=U.lookupPath(O,{parent:!0}),N=b.node,!x||!N)throw new U.ErrnoError(44);if(x.mount!==N.mount)throw new U.ErrnoError(75);var Y=U.lookupNode(x,le),ie=ae.relative(T,X);if(ie.charAt(0)!==".")throw new U.ErrnoError(28);if(ie=ae.relative(O,j),ie.charAt(0)!==".")throw new U.ErrnoError(55);var ce;try{ce=U.lookupNode(N,ge)}catch{}if(Y!==ce){var pe=U.isDir(Y.mode),me=U.mayDelete(x,le,pe);if(me)throw new U.ErrnoError(me);if(me=ce?U.mayDelete(N,ge,pe):U.mayCreate(N,ge),me)throw new U.ErrnoError(me);if(!x.node_ops.rename)throw new U.ErrnoError(63);if(U.isMountpoint(Y)||ce&&U.isMountpoint(ce))throw new U.ErrnoError(10);if(N!==x&&(me=U.nodePermissions(x,"w"),me))throw new U.ErrnoError(me);U.hashRemoveNode(Y);try{x.node_ops.rename(Y,N,ge),Y.parent=N}catch(Re){throw Re}finally{U.hashAddNode(Y)}}},rmdir(T){var O=U.lookupPath(T,{parent:!0}),j=O.node,X=F.basename(T),le=U.lookupNode(j,X),ge=U.mayDelete(j,X,!0);if(ge)throw new U.ErrnoError(ge);if(!j.node_ops.rmdir)throw new U.ErrnoError(63);if(U.isMountpoint(le))throw new U.ErrnoError(10);j.node_ops.rmdir(j,X),U.destroyNode(le)},readdir(T){var O=U.lookupPath(T,{follow:!0}),j=O.node,X=U.checkOpExists(j.node_ops.readdir,54);return X(j)},unlink(T){var O=U.lookupPath(T,{parent:!0}),j=O.node;if(!j)throw new U.ErrnoError(44);var X=F.basename(T),le=U.lookupNode(j,X),ge=U.mayDelete(j,X,!1);if(ge)throw new U.ErrnoError(ge);if(!j.node_ops.unlink)throw new U.ErrnoError(63);if(U.isMountpoint(le))throw new U.ErrnoError(10);j.node_ops.unlink(j,X),U.destroyNode(le)},readlink(T){var O=U.lookupPath(T),j=O.node;if(!j)throw new U.ErrnoError(44);if(!j.node_ops.readlink)throw new U.ErrnoError(28);return j.node_ops.readlink(j)},stat(T,O){var j=U.lookupPath(T,{follow:!O}),X=j.node,le=U.checkOpExists(X.node_ops.getattr,63);return le(X)},fstat(T){var O=U.getStreamChecked(T),j=O.node,X=O.stream_ops.getattr,le=X?O:j;return X??=j.node_ops.getattr,U.checkOpExists(X,63),X(le)},lstat(T){return U.stat(T,!0)},doChmod(T,O,j,X){U.doSetAttr(T,O,{mode:j&4095|O.mode&-4096,ctime:Date.now(),dontFollow:X})},chmod(T,O,j){var X;if(typeof T=="string"){var le=U.lookupPath(T,{follow:!j});X=le.node}else X=T;U.doChmod(null,X,O,j)},lchmod(T,O){U.chmod(T,O,!0)},fchmod(T,O){var j=U.getStreamChecked(T);U.doChmod(j,j.node,O,!1)},doChown(T,O,j){U.doSetAttr(T,O,{timestamp:Date.now(),dontFollow:j})},chown(T,O,j,X){var le;if(typeof T=="string"){var ge=U.lookupPath(T,{follow:!X});le=ge.node}else le=T;U.doChown(null,le,X)},lchown(T,O,j){U.chown(T,O,j,!0)},fchown(T,O,j){var X=U.getStreamChecked(T);U.doChown(X,X.node,!1)},doTruncate(T,O,j){if(U.isDir(O.mode))throw new U.ErrnoError(31);if(!U.isFile(O.mode))throw new U.ErrnoError(28);var X=U.nodePermissions(O,"w");if(X)throw new U.ErrnoError(X);U.doSetAttr(T,O,{size:j,timestamp:Date.now()})},truncate(T,O){if(O<0)throw new U.ErrnoError(28);var j;if(typeof T=="string"){var X=U.lookupPath(T,{follow:!0});j=X.node}else j=T;U.doTruncate(null,j,O)},ftruncate(T,O){var j=U.getStreamChecked(T);if(O<0||(j.flags&2097155)===0)throw new U.ErrnoError(28);U.doTruncate(j,j.node,O)},utime(T,O,j){var X=U.lookupPath(T,{follow:!0}),le=X.node,ge=U.checkOpExists(le.node_ops.setattr,63);ge(le,{atime:O,mtime:j})},open(T,O,j=438){if(T==="")throw new U.ErrnoError(44);O=typeof O=="string"?Le(O):O,O&64?j=j&4095|32768:j=0;var X,le;if(typeof T=="object")X=T;else{le=T.endsWith("/");var ge=U.lookupPath(T,{follow:!(O&131072),noent_okay:!0});X=ge.node,T=ge.path}var b=!1;if(O&64)if(X){if(O&128)throw new U.ErrnoError(20)}else{if(le)throw new U.ErrnoError(31);X=U.mknod(T,j|511,0),b=!0}if(!X)throw new U.ErrnoError(44);if(U.isChrdev(X.mode)&&(O&=-513),O&65536&&!U.isDir(X.mode))throw new U.ErrnoError(54);if(!b){var x=U.mayOpen(X,O);if(x)throw new U.ErrnoError(x)}O&512&&!b&&U.truncate(X,0),O&=-131713;var N=U.createStream({node:X,path:U.getPath(X),flags:O,seekable:!0,position:0,stream_ops:X.stream_ops,ungotten:[],error:!1});return N.stream_ops.open&&N.stream_ops.open(N),b&&U.chmod(X,j&511),f.logReadFiles&&!(O&1)&&(T in U.readFiles||(U.readFiles[T]=1)),N},close(T){if(U.isClosed(T))throw new U.ErrnoError(8);T.getdents&&(T.getdents=null);try{T.stream_ops.close&&T.stream_ops.close(T)}catch(O){throw O}finally{U.closeStream(T.fd)}T.fd=null},isClosed(T){return T.fd===null},llseek(T,O,j){if(U.isClosed(T))throw new U.ErrnoError(8);if(!T.seekable||!T.stream_ops.llseek)throw new U.ErrnoError(70);if(j!=0&&j!=1&&j!=2)throw new U.ErrnoError(28);return T.position=T.stream_ops.llseek(T,O,j),T.ungotten=[],T.position},read(T,O,j,X,le){if(X<0||le<0)throw new U.ErrnoError(28);if(U.isClosed(T))throw new U.ErrnoError(8);if((T.flags&2097155)===1)throw new U.ErrnoError(8);if(U.isDir(T.node.mode))throw new U.ErrnoError(31);if(!T.stream_ops.read)throw new U.ErrnoError(28);var ge=typeof le<"u";if(!ge)le=T.position;else if(!T.seekable)throw new U.ErrnoError(70);var b=T.stream_ops.read(T,O,j,X,le);return ge||(T.position+=b),b},write(T,O,j,X,le,ge){if(X<0||le<0)throw new U.ErrnoError(28);if(U.isClosed(T))throw new U.ErrnoError(8);if((T.flags&2097155)===0)throw new U.ErrnoError(8);if(U.isDir(T.node.mode))throw new U.ErrnoError(31);if(!T.stream_ops.write)throw new U.ErrnoError(28);T.seekable&&T.flags&1024&&U.llseek(T,0,2);var b=typeof le<"u";if(!b)le=T.position;else if(!T.seekable)throw new U.ErrnoError(70);var x=T.stream_ops.write(T,O,j,X,le,ge);return b||(T.position+=x),x},mmap(T,O,j,X,le){if((X&2)!==0&&(le&2)===0&&(T.flags&2097155)!==2)throw new U.ErrnoError(2);if((T.flags&2097155)===1)throw new U.ErrnoError(2);if(!T.stream_ops.mmap)throw new U.ErrnoError(43);if(!O)throw new U.ErrnoError(28);return T.stream_ops.mmap(T,O,j,X,le)},msync(T,O,j,X,le){return T.stream_ops.msync?T.stream_ops.msync(T,O,j,X,le):0},ioctl(T,O,j){if(!T.stream_ops.ioctl)throw new U.ErrnoError(59);return T.stream_ops.ioctl(T,O,j)},readFile(T,O={}){if(O.flags=O.flags||0,O.encoding=O.encoding||"binary",O.encoding!=="utf8"&&O.encoding!=="binary")throw new Error(`Invalid encoding type "${O.encoding}"`);var j,X=U.open(T,O.flags),le=U.stat(T),ge=le.size,b=new Uint8Array(ge);return U.read(X,b,0,ge,0),O.encoding==="utf8"?j=de(b):O.encoding==="binary"&&(j=b),U.close(X),j},writeFile(T,O,j={}){j.flags=j.flags||577;var X=U.open(T,j.flags,j.mode);if(typeof O=="string"){var le=new Uint8Array(ke(O)+1),ge=we(O,le,0,le.length);U.write(X,le,0,ge,void 0,j.canOwn)}else if(ArrayBuffer.isView(O))U.write(X,O,0,O.byteLength,void 0,j.canOwn);else throw new Error("Unsupported data type");U.close(X)},cwd:()=>U.currentPath,chdir(T){var O=U.lookupPath(T,{follow:!0});if(O.node===null)throw new U.ErrnoError(44);if(!U.isDir(O.node.mode))throw new U.ErrnoError(54);var j=U.nodePermissions(O.node,"x");if(j)throw new U.ErrnoError(j);U.currentPath=O.path},createDefaultDirectories(){U.mkdir("/tmp"),U.mkdir("/home"),U.mkdir("/home/web_user")},createDefaultDevices(){U.mkdir("/dev"),U.registerDevice(U.makedev(1,3),{read:()=>0,write:(X,le,ge,b,x)=>b,llseek:()=>0}),U.mkdev("/dev/null",U.makedev(1,3)),Be.register(U.makedev(5,0),Be.default_tty_ops),Be.register(U.makedev(6,0),Be.default_tty1_ops),U.mkdev("/dev/tty",U.makedev(5,0)),U.mkdev("/dev/tty1",U.makedev(6,0));var T=new Uint8Array(1024),O=0,j=()=>(O===0&&(he(T),O=T.byteLength),T[--O]);U.createDevice("/dev","random",j),U.createDevice("/dev","urandom",j),U.mkdir("/dev/shm"),U.mkdir("/dev/shm/tmp")},createSpecialDirectories(){U.mkdir("/proc");var T=U.mkdir("/proc/self");U.mkdir("/proc/self/fd"),U.mount({mount(){var O=U.createNode(T,"fd",16895,73);return O.stream_ops={llseek:Ee.stream_ops.llseek},O.node_ops={lookup(j,X){var le=+X,ge=U.getStreamChecked(le),b={parent:null,mount:{mountpoint:"fake"},node_ops:{readlink:()=>ge.path},id:le+1};return b.parent=b,b},readdir(){return Array.from(U.streams.entries()).filter(([j,X])=>X).map(([j,X])=>j.toString())}},O}},{},"/proc/self/fd")},createStandardStreams(T,O,j){T?U.createDevice("/dev","stdin",T):U.symlink("/dev/tty","/dev/stdin"),O?U.createDevice("/dev","stdout",null,O):U.symlink("/dev/tty","/dev/stdout"),j?U.createDevice("/dev","stderr",null,j):U.symlink("/dev/tty1","/dev/stderr"),U.open("/dev/stdin",0),U.open("/dev/stdout",1),U.open("/dev/stderr",1)},staticInit(){U.nameTable=new Array(4096),U.mount(Ee,{},"/"),U.createDefaultDirectories(),U.createDefaultDevices(),U.createSpecialDirectories(),U.filesystems={MEMFS:Ee}},init(T,O,j){U.initialized=!0,T??=f.stdin,O??=f.stdout,j??=f.stderr,U.createStandardStreams(T,O,j)},quit(){U.initialized=!1;for(var T of U.streams)T&&U.close(T)},findObject(T,O){var j=U.analyzePath(T,O);return j.exists?j.object:null},analyzePath(T,O){try{var j=U.lookupPath(T,{follow:!O});T=j.path}catch{}var X={isRoot:!1,exists:!1,error:0,name:null,path:null,object:null,parentExists:!1,parentPath:null,parentObject:null};try{var j=U.lookupPath(T,{parent:!0});X.parentExists=!0,X.parentPath=j.path,X.parentObject=j.node,X.name=F.basename(T),j=U.lookupPath(T,{follow:!O}),X.exists=!0,X.path=j.path,X.object=j.node,X.name=j.node.name,X.isRoot=j.path==="/"}catch(le){X.error=le.errno}return X},createPath(T,O,j,X){T=typeof T=="string"?T:U.getPath(T);for(var le=O.split("/").reverse();le.length;){var ge=le.pop();if(ge){var b=F.join2(T,ge);try{U.mkdir(b)}catch(x){if(x.errno!=20)throw x}T=b}}return b},createFile(T,O,j,X,le){var ge=F.join2(typeof T=="string"?T:U.getPath(T),O),b=He(X,le);return U.create(ge,b)},createDataFile(T,O,j,X,le,ge){var b=O;T&&(T=typeof T=="string"?T:U.getPath(T),b=O?F.join2(T,O):T);var x=He(X,le),N=U.create(b,x);if(j){if(typeof j=="string"){for(var Y=new Array(j.length),ie=0,ce=j.length;ie<ce;++ie)Y[ie]=j.charCodeAt(ie);j=Y}U.chmod(N,x|146);var pe=U.open(N,577);U.write(pe,j,0,j.length,0,ge),U.close(pe),U.chmod(N,x)}},createDevice(T,O,j,X){var le=F.join2(typeof T=="string"?T:U.getPath(T),O),ge=He(!!j,!!X);U.createDevice.major??=64;var b=U.makedev(U.createDevice.major++,0);return U.registerDevice(b,{open(x){x.seekable=!1},close(x){X?.buffer?.length&&X(10)},read(x,N,Y,ie,ce){for(var pe=0,me=0;me<ie;me++){var Re;try{Re=j()}catch{throw new U.ErrnoError(29)}if(Re===void 0&&pe===0)throw new U.ErrnoError(6);if(Re==null)break;pe++,N[Y+me]=Re}return pe&&(x.node.atime=Date.now()),pe},write(x,N,Y,ie,ce){for(var pe=0;pe<ie;pe++)try{X(N[Y+pe])}catch{throw new U.ErrnoError(29)}return ie&&(x.node.mtime=x.node.ctime=Date.now()),pe}}),U.mkdev(le,ge,b)},forceLoadFile(T){if(T.isDevice||T.isFolder||T.link||T.contents)return!0;if(typeof XMLHttpRequest<"u")throw new Error("Lazy loading should have been performed (contents set) in createLazyFile, but it was not. Lazy loading only works in web workers. Use --embed-file or --preload-file in emcc on the main thread.");try{T.contents=t(T.url),T.usedBytes=T.contents.length}catch{throw new U.ErrnoError(29)}},createLazyFile(T,O,j,X,le){class ge{lengthKnown=!1;chunks=[];get(me){if(!(me>this.length-1||me<0)){var Re=me%this.chunkSize,Ue=me/this.chunkSize|0;return this.getter(Ue)[Re]}}setDataGetter(me){this.getter=me}cacheLength(){var me=new XMLHttpRequest;if(me.open("HEAD",j,!1),me.send(null),!(me.status>=200&&me.status<300||me.status===304))throw new Error("Couldn't load "+j+". Status: "+me.status);var Re=Number(me.getResponseHeader("Content-length")),Ue,Xe=(Ue=me.getResponseHeader("Accept-Ranges"))&&Ue==="bytes",Ze=(Ue=me.getResponseHeader("Content-Encoding"))&&Ue==="gzip",je=1024*1024;Xe||(je=Re);var C=(P,K)=>{if(P>K)throw new Error("invalid range ("+P+", "+K+") or no bytes requested!");if(K>Re-1)throw new Error("only "+Re+" bytes available! programmer error!");var re=new XMLHttpRequest;if(re.open("GET",j,!1),Re!==je&&re.setRequestHeader("Range","bytes="+P+"-"+K),re.responseType="arraybuffer",re.overrideMimeType&&re.overrideMimeType("text/plain; charset=x-user-defined"),re.send(null),!(re.status>=200&&re.status<300||re.status===304))throw new Error("Couldn't load "+j+". Status: "+re.status);return re.response!==void 0?new Uint8Array(re.response||[]):De(re.responseText||"")},B=this;B.setDataGetter(P=>{var K=P*je,re=(P+1)*je-1;if(re=Math.min(re,Re-1),typeof B.chunks[P]>"u"&&(B.chunks[P]=C(K,re)),typeof B.chunks[P]>"u")throw new Error("doXHR failed!");return B.chunks[P]}),(Ze||!Re)&&(je=Re=1,Re=this.getter(0).length,je=Re,e("LazyFiles on gzip forces download of the whole file when length is accessed")),this._length=Re,this._chunkSize=je,this.lengthKnown=!0}get length(){return this.lengthKnown||this.cacheLength(),this._length}get chunkSize(){return this.lengthKnown||this.cacheLength(),this._chunkSize}}if(typeof XMLHttpRequest<"u"){throw"Cannot do synchronous binary XHRs outside webworkers in modern browsers. Use --embed-file or --preload-file in emcc";var b,x}else var x={isDevice:!1,url:j};var N=U.createFile(T,O,x,X,le);x.contents?N.contents=x.contents:x.url&&(N.contents=null,N.url=x.url),Object.defineProperties(N,{usedBytes:{get:function(){return this.contents.length}}});var Y={},ie=Object.keys(N.stream_ops);ie.forEach(pe=>{var me=N.stream_ops[pe];Y[pe]=(...Re)=>(U.forceLoadFile(N),me(...Re))});function ce(pe,me,Re,Ue,Xe){var Ze=pe.node.contents;if(Xe>=Ze.length)return 0;var je=Math.min(Ze.length-Xe,Ue);if(Ze.slice)for(var C=0;C<je;C++)me[Re+C]=Ze[Xe+C];else for(var C=0;C<je;C++)me[Re+C]=Ze.get(Xe+C);return je}return Y.read=(pe,me,Re,Ue,Xe)=>(U.forceLoadFile(N),ce(pe,me,Re,Ue,Xe)),Y.mmap=(pe,me,Re,Ue,Xe)=>{U.forceLoadFile(N);var Ze=ye();if(!Ze)throw new U.ErrnoError(48);return ce(pe,v,Ze,me,Re),{ptr:Ze,allocated:!0}},N.stream_ops=Y,N}},Ve=(T,O)=>T?de(p,T,O):"",G={DEFAULT_POLLMASK:5,calculateAt(T,O,j){if(F.isAbs(O))return O;var X;if(T===-100)X=U.cwd();else{var le=G.getStreamFromFD(T);X=le.path}if(O.length==0){if(!j)throw new U.ErrnoError(44);return X}return X+"/"+O},writeStat(T,O){m[T>>2]=O.dev,m[T+4>>2]=O.mode,E[T+8>>2]=O.nlink,m[T+12>>2]=O.uid,m[T+16>>2]=O.gid,m[T+20>>2]=O.rdev,S[T+24>>3]=BigInt(O.size),m[T+32>>2]=4096,m[T+36>>2]=O.blocks;var j=O.atime.getTime(),X=O.mtime.getTime(),le=O.ctime.getTime();return S[T+40>>3]=BigInt(Math.floor(j/1e3)),E[T+48>>2]=j%1e3*1e3*1e3,S[T+56>>3]=BigInt(Math.floor(X/1e3)),E[T+64>>2]=X%1e3*1e3*1e3,S[T+72>>3]=BigInt(Math.floor(le/1e3)),E[T+80>>2]=le%1e3*1e3*1e3,S[T+88>>3]=BigInt(O.ino),0},writeStatFs(T,O){m[T+4>>2]=O.bsize,m[T+40>>2]=O.bsize,m[T+8>>2]=O.blocks,m[T+12>>2]=O.bfree,m[T+16>>2]=O.bavail,m[T+20>>2]=O.files,m[T+24>>2]=O.ffree,m[T+28>>2]=O.fsid,m[T+44>>2]=O.flags,m[T+36>>2]=O.namelen},doMsync(T,O,j,X,le){if(!U.isFile(O.node.mode))throw new U.ErrnoError(43);if(X&2)return 0;var ge=p.slice(T,T+j);U.msync(O,ge,le,j,X)},getStreamFromFD(T){var O=U.getStreamChecked(T);return O},varargs:void 0,getStr(T){var O=Ve(T);return O}};function nt(T,O){try{return G.writeStat(O,U.fstat(T))}catch(j){if(typeof U>"u"||j.name!=="ErrnoError")throw j;return-j.errno}}var V=()=>{var T=m[+G.varargs>>2];return G.varargs+=4,T},lt=V;function rt(T,O,j){G.varargs=j;try{var X=G.getStreamFromFD(T);switch(O){case 21509:return X.tty?0:-59;case 21505:{if(!X.tty)return-59;if(X.tty.ops.ioctl_tcgets){var le=X.tty.ops.ioctl_tcgets(X),ge=lt();m[ge>>2]=le.c_iflag||0,m[ge+4>>2]=le.c_oflag||0,m[ge+8>>2]=le.c_cflag||0,m[ge+12>>2]=le.c_lflag||0;for(var b=0;b<32;b++)v[ge+b+17]=le.c_cc[b]||0;return 0}return 0}case 21510:case 21511:case 21512:return X.tty?0:-59;case 21506:case 21507:case 21508:{if(!X.tty)return-59;if(X.tty.ops.ioctl_tcsets){for(var ge=lt(),x=m[ge>>2],N=m[ge+4>>2],Y=m[ge+8>>2],ie=m[ge+12>>2],ce=[],b=0;b<32;b++)ce.push(v[ge+b+17]);return X.tty.ops.ioctl_tcsets(X.tty,O,{c_iflag:x,c_oflag:N,c_cflag:Y,c_lflag:ie,c_cc:ce})}return 0}case 21519:{if(!X.tty)return-59;var ge=lt();return m[ge>>2]=0,0}case 21520:return X.tty?-28:-59;case 21531:{var ge=lt();return U.ioctl(X,O,ge)}case 21523:{if(!X.tty)return-59;if(X.tty.ops.ioctl_tiocgwinsz){var pe=X.tty.ops.ioctl_tiocgwinsz(X.tty),ge=lt();u[ge>>1]=pe[0],u[ge+2>>1]=pe[1]}return 0}case 21524:return X.tty?0:-59;case 21515:return X.tty?0:-59;default:return-28}}catch(me){if(typeof U>"u"||me.name!=="ErrnoError")throw me;return-me.errno}}function bt(T,O,j,X){G.varargs=X;try{O=G.getStr(O),O=G.calculateAt(T,O);var le=X?V():0;return U.open(O,j,le).fd}catch(ge){if(typeof U>"u"||ge.name!=="ErrnoError")throw ge;return-ge.errno}}var Tt=()=>W(""),jt=0,fr=()=>{Je=!1,jt=0},pt={},Rt=T=>{if(T instanceof Ce||T=="unwind")return k;s(1,T)},qt=()=>Je||jt>0,Yt=T=>{k=T,qt()||(f.onExit?.(T),d=!0),s(T,new Ce(T))},Kt=(T,O)=>{k=T,Yt(T)},At=Kt,pr=()=>{if(!qt())try{At(k)}catch(T){Rt(T)}},gr=T=>{if(!d)try{T(),pr()}catch(O){Rt(O)}},mr=()=>performance.now(),vr=(T,O)=>{if(pt[T]&&(clearTimeout(pt[T].id),delete pt[T]),!O)return 0;var j=setTimeout(()=>{delete pt[T],gr(()=>Mr(T,mr()))},O);return pt[T]={id:j,timeout_ms:O},0},Lt=()=>2147483648,yr=(T,O)=>Math.ceil(T/O)*O,wr=T=>{var O=c.buffer,j=(T-O.byteLength+65535)/65536|0;try{return c.grow(j),$(),1}catch{}},_r=T=>{var O=p.length;T>>>=0;var j=Lt();if(T>j)return!1;for(var X=1;X<=4;X*=2){var le=O*(1+.2/X);le=Math.min(le,T+100663296);var ge=Math.min(j,yr(Math.max(T,le),65536)),b=wr(ge);if(b)return!0}return!1};function Bt(T){try{var O=G.getStreamFromFD(T);return U.close(O),0}catch(j){if(typeof U>"u"||j.name!=="ErrnoError")throw j;return j.errno}}var Zt=(T,O,j,X)=>{for(var le=0,ge=0;ge<j;ge++){var b=E[O>>2],x=E[O+4>>2];O+=8;var N=U.read(T,v,b,x,X);if(N<0)return-1;if(le+=N,N<x)break}return le};function Ut(T,O,j,X){try{var le=G.getStreamFromFD(T),ge=Zt(le,O,j);return E[X>>2]=ge,0}catch(b){if(typeof U>"u"||b.name!=="ErrnoError")throw b;return b.errno}}var rr=9007199254740992,Dt=-9007199254740992,nr=T=>T<Dt||T>rr?NaN:Number(T);function br(T,O,j,X){O=nr(O);try{if(isNaN(O))return 61;var le=G.getStreamFromFD(T);return U.llseek(le,O,j),S[X>>3]=BigInt(le.position),le.getdents&&O===0&&j===0&&(le.getdents=null),0}catch(ge){if(typeof U>"u"||ge.name!=="ErrnoError")throw ge;return ge.errno}}var Ar=(T,O,j,X)=>{for(var le=0,ge=0;ge<j;ge++){var b=E[O>>2],x=E[O+4>>2];O+=8;var N=U.write(T,v,b,x,X);if(N<0)return-1;if(le+=N,N<x)break}return le};function Er(T,O,j,X){try{var le=G.getStreamFromFD(T),ge=Ar(le,O,j);return E[X>>2]=ge,0}catch(b){if(typeof U>"u"||b.name!=="ErrnoError")throw b;return b.errno}}var Cr=(T,O,j)=>we(T,p,O,j),Et=T=>zt(T),Sr=T=>{var O=ke(T)+1,j=Et(O);return Cr(T,j,O),j};U.createPreloadedFile=Te,U.staticInit(),Ee.doesNotExistError=new U.ErrnoError(44),Ee.doesNotExistError.stack="<generic error, no stack>",f.noExitRuntime&&(Je=f.noExitRuntime),f.preloadPlugins&&(Ke=f.preloadPlugins),f.print&&(e=f.print),f.printErr&&(n=f.printErr),f.wasmBinary&&(a=f.wasmBinary),f.arguments&&(A=f.arguments),f.thisProgram&&(y=f.thisProgram),f.FS=U;var $r={i:nt,j:rt,e:bt,f:Tt,l:fr,m:vr,g:_r,a:At,b:Bt,d:Ut,h:br,c:Er,k:Yt},yt=await fe();yt.o;var kr=f._main=yt.p,Mr=yt.q,zt=yt.r;function Tr(T=[]){var O=kr;T.unshift(y);var j=T.length,X=Et((j+1)*4),le=X;T.forEach(b=>{E[le>>2]=Sr(b),le+=4}),E[le>>2]=0;try{var ge=O(j,X);return Kt(ge,!0),ge}catch(b){return Rt(b)}}function Ct(T=A){if(l>0){_=Ct;return}if(R(),l>0){_=Ct;return}function O(){if(f.calledRun=!0,!d){g(),D(f),f.onRuntimeInitialized?.();var j=f.noInitialRun||!1;j||Tr(T),w()}}f.setStatus?(f.setStatus("Running..."),setTimeout(()=>{setTimeout(()=>f.setStatus(""),1),O()},1)):O()}function wt(){if(f.preInit)for(typeof f.preInit=="function"&&(f.preInit=[f.preInit]);f.preInit.length>0;)f.preInit.shift()()}return wt(),Ct(),Q=M,Q},Qr=!1,Qt=!1,hn,Sn,Or,$n=[],xr=[],Br=[],ci=[],ui=[],hi=[],$o=/([\w\.]+)[\w\.\:~]*\(([0-9]+)\)/gi;function kn(te,Q){if(Or&&Or(te,Q),Q=="stderr"&&(te.startsWith("error: ")||te.startsWith("ERROR: ")||te.startsWith("warning: "))){var f="error";te.startsWith("warning: ")&&(f="warning");var D=te.matchAll($o);for(var z of D){var M=parseInt(z[2]);$n.push([f,z[1],M,te])}}}function dr(te){kn(te,"info")}function Mn(te){kn(te,"stdout")}function Tn(te){kn(te,"stderr")}function ko(te){Or=te}function Mo(te){Sn=te,Qr?Qt=!0:(Qr=!0,Rn())}function di(){return $n}function To(){return xr}function Vn(){return Br}function dn(te){ci=te}function fn(te){hi=te}function pn(te){ui=te}function Rn(){typeof hn<"u"&&clearTimeout(hn),hn=setTimeout(Ro,500)}function Ro(){Or&&Or(null,null),$n=[],xr=[],Br=[];var te=[];for(const Q of Object.keys(_t()))Q.endsWith(".asm")&&te.push(Q);fi(te,{})}function fi(te,Q){var f=te.pop(),D=[f,"-o","output.o","-Wall"].concat(ci);dr("Running: rgbasm "+D.join(" ")),Eo({arguments:D,preRun:function(z){var M=z.FS;for(const[A,y]of Object.entries(_t()))M.writeFile(A,y)},print:Mn,printErr:Tn}).then(function(z){if(Qt){cr();return}var M=z.FS;try{var A=M.readFile("output.o")}catch{cr();return}Q[f]=A,te.length>0?fi(te,Q):Lo(Q)})}function Lo(te){var Q=["-o","output.gb","--map","output.map"].concat(hi);for(var f in te)Q.push(f+".o");dr("Running: rgblink "+Q.join(" ")),Co({arguments:Q,preRun:function(D){var z=D.FS;for(var M in te)z.writeFile(M+".o",te[M])},print:Mn,printErr:Tn}).then(function(D){if(Qt){cr();return}var z=D.FS;try{var M=z.readFile("output.gb")}catch{cr();return}try{var A=z.readFile("output.map",{encoding:"utf8"})}catch{cr();return}Do(M,A)})}function Do(te,Q){var f=["-v","output.gb","-p","0xff"].concat(ui);dr("Running: rgbfix "+f.join(" ")),So({arguments:f,preRun:function(D){var z=D.FS;z.writeFile("output.gb",te)},print:Mn,printErr:Tn}).then(function(D){var z=D.FS;try{var M=z.readFile("output.gb")}catch{cr();return}xo(M,Q)})}function cr(){dr("Build failed"),Qt?(Qt=!1,Rn()):(Qr=!1,Sn())}function xo(te,Q){if(Qt)Qt=!1,Rn();else{Qr=!1;var f=256,D={},z=/^\s*\$([0-9a-f]+) = ([\w\.]+)/,M=/^\s*(\w+) bank #(\d+)/,A=/^\s*SECTION: \$([0-9a-f]+)-\$([0-9a-f]+)/,y=/^\s*SLACK: \$([0-9a-f]+) bytes/,s="",h=0;for(var o of Q.split(`
`)){var r;if(r=z.exec(o)){var i=parseInt(r[1],16),t=r[2];if(t.startsWith("__SEC_")){t=t.substr(6);var e=t.substr(t.indexOf("_")+1);e=e.substr(e.indexOf("_")+1);var n=parseInt(t.split("_")[1],16);i=i&16383|h<<14,D[i]=[e,n]}else t=="emustart"||t=="emuStart"||t=="emu_start"?f=i:i<32768?(i=i&16383|h<<14,xr[i]=t):Br[i]=t}else if(r=A.exec(o)){var a=parseInt(r[1],16),c=parseInt(r[2],16)+1;a<32768?(a=a&16383|h<<14,c=c&16383|h<<14,xr[a]=null,xr[c]=null):(Br[a]=null,Br[c]=null)}else if(r=M.exec(o))s=r[1],h=parseInt(r[2]);else if(r=y.exec(o)){var d=parseInt(r[1],16),k=16384;s.startsWith("WRAM")?k=4096:s.startsWith("HRAM")&&(k=127),dr("Space left: "+s+"["+h+"]: "+d+"  ("+(d/k*100).toFixed(1)+"%)")}}dr("Build done"),Sn(te,f,D)}}var Bo=async function(te={}){var Q,f=te,D,z,M=new Promise((Te,Le)=>{D=Te,z=Le}),A=(Te,Le)=>{throw Le},y=import.meta.url,s="";function h(Te){return f.locateFile?f.locateFile(Te,s):s+Te}var o;{try{s=new URL(".",y).href}catch{}o=async Te=>{var Le=await fetch(Te,{credentials:"same-origin"});if(Le.ok)return Le.arrayBuffer();throw new Error(Le.status+" : "+Le.url)}}var r=console.log.bind(console),i=console.error.bind(console),t,e,n=!1,a,c,d,k,v;function p(){var Te=e.buffer;f.HEAP8=new Int8Array(Te),a=new Uint8Array(Te),c=new Int32Array(Te),d=new Uint32Array(Te),v=new Float64Array(Te),k=new BigInt64Array(Te),new BigUint64Array(Te)}function u(){if(f.preRun)for(typeof f.preRun=="function"&&(f.preRun=[f.preRun]);f.preRun.length;)Ce(f.preRun.shift());oe(fe)}function m(){_e.h()}function E(){if(f.postRun)for(typeof f.postRun=="function"&&(f.postRun=[f.postRun]);f.postRun.length;)se(f.postRun.shift());oe(ee)}var S=0,$=null;function R(Te){S++,f.monitorRunDependencies?.(S)}function g(Te){if(S--,f.monitorRunDependencies?.(S),S==0&&$){var Le=$;$=null,Le()}}function w(Te){f.onAbort?.(Te),Te="Aborted("+Te+")",i(Te),n=!0,Te+=". Build with -sASSERTIONS for more info.";var Le=new WebAssembly.RuntimeError(Te);throw z(Le),Le}var l;function _(){return f.locateFile?h("binjgb.wasm"):new URL(""+new URL("binjgb-mTIQAJBc.wasm",import.meta.url).href,import.meta.url).href}function L(Te){if(Te==l&&t)return new Uint8Array(t);throw"both async and sync fetching of the wasm failed"}async function I(Te){if(!t)try{var Le=await o(Te);return new Uint8Array(Le)}catch{}return L(Te)}async function W(Te,Le){try{var He=await I(Te),U=await WebAssembly.instantiate(He,Le);return U}catch(Ve){i(`failed to asynchronously prepare wasm: ${Ve}`),w(Ve)}}async function H(Te,Le,He){if(!Te&&typeof WebAssembly.instantiateStreaming=="function")try{var U=fetch(Le,{credentials:"same-origin"}),Ve=await WebAssembly.instantiateStreaming(U,He);return Ve}catch(G){i(`wasm streaming compile failed: ${G}`),i("falling back to ArrayBuffer instantiation")}return W(Le,He)}function J(){return{a:Ie}}async function q(){function Te(G,nt){return _e=G.exports,e=_e.g,p(),g(),_e}R();function Le(G){return Te(G.instance)}var He=J();if(f.instantiateWasm)return new Promise((G,nt)=>{f.instantiateWasm(He,(V,lt)=>{G(Te(V))})});l??=_();try{var U=await H(t,l,He),Ve=Le(U);return Ve}catch(G){return z(G),Promise.reject(G)}}class Z{name="ExitStatus";constructor(Le){this.message=`Program terminated with exit(${Le})`,this.status=Le}}var oe=Te=>{for(;Te.length>0;)Te.shift()(f)},ee=[],se=Te=>ee.push(Te),fe=[],Ce=Te=>fe.push(Te),Se=!0,$e=[],xe=(Te,Le)=>{$e.length=0;for(var He;He=a[Te++];){var U=He!=105;U&=He!=112,Le+=U&&Le%8?4:0,$e.push(He==112?d[Le>>2]:He==106?k[Le>>3]:He==105?c[Le>>2]:v[Le>>3]),Le+=U?8:4}return $e},Pe=(Te,Le,He)=>{var U=xe(Le,He);return Ee[Te](...U)},ze=(Te,Le,He)=>Pe(Te,Le,He),Je=Te=>{w("OOM")},F=Te=>{a.length,Je()},be=0,he=()=>Se||be>0,ae=Te=>{he()||(f.onExit?.(Te),n=!0),A(Te,new Z(Te))},ne=(Te,Le)=>{ae(Te)},de=ne,Me=Te=>52;function ke(Te,Le,He,U){return 70}var we=[null,[],[]],De=typeof TextDecoder<"u"?new TextDecoder:void 0,Ne=(Te,Le=0,He=NaN)=>{for(var U=Le+He,Ve=Le;Te[Ve]&&!(Ve>=U);)++Ve;if(Ve-Le>16&&Te.buffer&&De)return De.decode(Te.subarray(Le,Ve));for(var G="";Le<Ve;){var nt=Te[Le++];if(!(nt&128)){G+=String.fromCharCode(nt);continue}var V=Te[Le++]&63;if((nt&224)==192){G+=String.fromCharCode((nt&31)<<6|V);continue}var lt=Te[Le++]&63;if((nt&240)==224?nt=(nt&15)<<12|V<<6|lt:nt=(nt&7)<<18|V<<12|lt<<6|Te[Le++]&63,nt<65536)G+=String.fromCharCode(nt);else{var rt=nt-65536;G+=String.fromCharCode(55296|rt>>10,56320|rt&1023)}}return G},Be=(Te,Le)=>{var He=we[Te];Le===0||Le===10?((Te===1?r:i)(Ne(He)),He.length=0):He.push(Le)},ye=(Te,Le,He,U)=>{for(var Ve=0,G=0;G<He;G++){var nt=d[Le>>2],V=d[Le+4>>2];Le+=8;for(var lt=0;lt<V;lt++)Be(Te,a[nt+lt]);Ve+=V}return d[U>>2]=Ve,0};f.noExitRuntime&&(Se=f.noExitRuntime),f.print&&(r=f.print),f.printErr&&(i=f.printErr),f.wasmBinary&&(t=f.wasmBinary),f.arguments&&f.arguments,f.thisProgram&&f.thisProgram;var Ee={13560:Te=>{emulator.serialCallback(Te)}},Ie={f:ze,c:F,b:de,e:Me,d:ke,a:ye},_e=await q();_e.h,f._malloc=_e.i,f._file_data_delete=_e.j,f._free=_e.k,f._emulator_set_builtin_palette=_e.l,f._emulator_was_ext_ram_updated=_e.m,f._emulator_read_ext_ram=_e.n,f._emulator_write_ext_ram=_e.o,f._emulator_delete=_e.p,f._emulator_get_PC=_e.q,f._emulator_get_A=_e.r,f._emulator_get_BC=_e.s,f._emulator_get_DE=_e.t,f._emulator_get_HL=_e.u,f._emulator_get_F=_e.v,f._emulator_get_SP=_e.w,f._emulator_set_PC=_e.x,f._emulator_get_wram_ptr=_e.y,f._emulator_get_hram_ptr=_e.z,f._emulator_read_mem=_e.A,f._emulator_write_mem=_e.B,f._emulator_set_breakpoint=_e.C,f._emulator_clear_breakpoints=_e.D,f._emulator_render_vram=_e.E,f._emulator_render_background=_e.F,f._set_audio_channel_mute=_e.G,f._joypad_new=_e.H,f._joypad_delete=_e.I,f._rewind_append=_e.J,f._rewind_delete=_e.K,f._emulator_new_simple=_e.L,f._emulator_get_ticks_f64=_e.M,f._emulator_run_until_f64=_e.N,f._rewind_get_newest_ticks_f64=_e.O,f._rewind_get_oldest_ticks_f64=_e.P,f._emulator_set_default_joypad_callback=_e.Q,f._emulator_set_bw_palette_simple=_e.R,f._rewind_new_simple=_e.S,f._rewind_begin=_e.T,f._emulator_set_rewind_joypad_callback=_e.U,f._rewind_to_ticks_wrapper=_e.V,f._rewind_end=_e.W,f._set_joyp_up=_e.X,f._set_joyp_down=_e.Y,f._set_joyp_left=_e.Z,f._set_joyp_right=_e._,f._set_joyp_B=_e.$,f._set_joyp_A=_e.aa,f._set_joyp_start=_e.ba,f._set_joyp_select=_e.ca,f._get_frame_buffer_ptr=_e.da,f._get_frame_buffer_size=_e.ea,f._get_sgb_frame_buffer_ptr=_e.fa,f._get_sgb_frame_buffer_size=_e.ga,f._get_audio_buffer_ptr=_e.ha,f._get_audio_buffer_capacity=_e.ia,f._ext_ram_file_data_new=_e.ja,f._get_file_data_ptr=_e.ka,f._get_file_data_size=_e.la,f._set_log_apu_writes=_e.ma,f._get_apu_log_data_size=_e.na,f._get_apu_log_data_ptr=_e.oa,f._reset_apu_log=_e.pa;function Ke(){if(S>0){$=Ke;return}if(u(),S>0){$=Ke;return}function Te(){f.calledRun=!0,!n&&(m(),D(f),f.onRuntimeInitialized?.(),E())}f.setStatus?(f.setStatus("Running..."),setTimeout(()=>{setTimeout(()=>f.setStatus(""),1),Te()},1)):Te()}function Fe(){if(f.preInit)for(typeof f.preInit=="function"&&(f.preInit=[f.preInit]);f.preInit.length>0;)f.preInit.shift()()}return Fe(),Ke(),Q=M,Q};const Ye=await Bo();var Qe,gn=0,Fr,yn,mt,lr,wn=null,jr=2048;function pi(te,Q){ft()&&Ln(),typeof mt>"u"&&(mt=new AudioContext);var f=(Q.length-1|16383)+1;f<32768&&(f=32768);var D=Ye._malloc(f);gn=f;const z=Ye.HEAP8.subarray(D,D+gn);z.fill(0),z.set(Q),Qe=Ye._emulator_new_simple(D,gn,mt.sampleRate,jr),Ye._emulator_set_bw_palette_simple(Qe,0,4290965700,4289247578,4285423646,4278197037),Ye._emulator_set_bw_palette_simple(Qe,1,4290965700,4289247578,4285423646,4278197037),Ye._emulator_set_bw_palette_simple(Qe,2,4290965700,4289247578,4285423646,4278197037),Ye._emulator_set_default_joypad_callback(Qe,0),te&&(Fr=te.getContext("2d"),yn=Fr.createImageData(te.width,te.height)),mt.resume(),lr=mt.currentTime}function Ln(){ft()&&(Ye._emulator_delete(Qe),Qe=void 0)}function ft(){return typeof Qe<"u"}function gi(te){if(ft()){var Q=Ye._emulator_get_ticks_f64(Qe);for(te=="single"?Q+=1:te=="frame"&&(Q+=70224);;){var f=Ye._emulator_run_until_f64(Qe,Q);if(f&2&&Fo(),f&8||f&16)return!0;if(f!=2&&te!="run")return!1;if(te=="run"&&f&4)if(lr<mt.currentTime+.1)Q+=70224;else return!1}}}function mi(){if(ft()){var te=new Uint8Array(Ye.HEAP8.buffer,Ye._get_frame_buffer_ptr(Qe),Ye._get_frame_buffer_size(Qe));yn.data.set(te),Fr.putImageData(yn,0,0)}}function vi(te){if(ft()){var Q=te.getContext("2d"),f=Fr.createImageData(256,256),D=Ye._malloc(4*256*256);Ye._emulator_render_vram(Qe,D);var z=new Uint8Array(Ye.HEAP8.buffer,D,4*256*256);f.data.set(z),Q.putImageData(f,0,0),Ye._free(D)}}function _n(te,Q){if(ft()){var f=te.getContext("2d"),D=Fr.createImageData(256,256),z=Ye._malloc(4*256*256);Ye._emulator_render_background(Qe,z,Q);var M=new Uint8Array(Ye.HEAP8.buffer,z,4*256*256);D.data.set(M),f.putImageData(D,0,0),Ye._free(z)}}function yi(){if(ft()){var te=Ye._emulator_get_wram_ptr(Qe);return new Uint8Array(Ye.HEAP8.buffer,te,32768)}}function wi(){if(ft()){var te=Ye._emulator_get_hram_ptr(Qe);return new Uint8Array(Ye.HEAP8.buffer,te,127)}}function _i(){return Ye._emulator_get_PC(Qe)}function bi(te){Ye._emulator_set_PC(Qe,te)}function Ai(){return Ye._emulator_get_SP(Qe)}function Ei(){return Ye._emulator_get_A(Qe)}function Ci(){return Ye._emulator_get_BC(Qe)}function Si(){return Ye._emulator_get_DE(Qe)}function $i(){return Ye._emulator_get_HL(Qe)}function ki(){var te=Ye._emulator_get_F(Qe),Q="";return te&128&&(Q+="Z "),te&16&&(Q+="C "),te&32&&(Q+="H "),te&64&&(Q+="N "),Q}function Mi(te){return ft()?Ye._emulator_read_mem(Qe,te):255}function Io(te,Q){if(ft())return Ye._emulator_write_mem(Qe,te,Q)}function Ti(te){ft()&&Ye._emulator_set_breakpoint(Qe,te)}function Ri(){ft()&&Ye._emulator_clear_breakpoints(Qe)}function Nt(te,Q){ft()&&(te=="right"&&Ye._set_joyp_right(Qe,Q),te=="left"&&Ye._set_joyp_left(Qe,Q),te=="up"&&Ye._set_joyp_up(Qe,Q),te=="down"&&Ye._set_joyp_down(Qe,Q),te=="a"&&Ye._set_joyp_A(Qe,Q),te=="b"&&Ye._set_joyp_B(Qe,Q),te=="select"&&Ye._set_joyp_select(Qe,Q),te=="start"&&Ye._set_joyp_start(Qe,Q))}function Li(te){wn=te}function Oo(te){wn&&wn(te)}function Fo(){lr<mt.currentTime&&(lr=mt.currentTime);var te=new Uint8Array(Ye.HEAP8.buffer,Ye._get_audio_buffer_ptr(Qe),Ye._get_audio_buffer_capacity(Qe));const Q=.5,f=mt.createBuffer(2,jr,mt.sampleRate),D=f.getChannelData(0),z=f.getChannelData(1);for(let y=0;y<jr;y++)D[y]=te[2*y]*Q/255,z[y]=te[2*y+1]*Q/255;const M=mt.createBufferSource();M.buffer=f,M.connect(mt.destination),M.start(lr);const A=jr/mt.sampleRate;lr+=A}const No=Object.freeze(Object.defineProperty({__proto__:null,clearBreakpoints:Ri,destroy:Ln,getA:Ei,getBC:Ci,getDE:Si,getFlags:ki,getHL:$i,getHRam:wi,getPC:_i,getSP:Ai,getWRam:yi,init:pi,isAvailable:ft,readMem:Mi,renderBackground:_n,renderScreen:mi,renderVRam:vi,serialCallback:Oo,setBreakpoint:Ti,setKeyPad:Nt,setPC:bi,setSerialCallback:Li,step:gi,writeMem:Io},Symbol.toStringTag,{value:"Module"}));globalThis.emulator=No;var Di,er,ur={},Ht={},ht="";function Po(){return window.matchMedia&&window.matchMedia("(prefers-color-scheme: dark)").matches}function Ho(te){var Q=document.createElement("div");return Q.innerText=te,Q.innerHTML}ko(function(te,Q){var f=document.getElementById("output");if(te==null&&Q==null){f.innerHTML="";return}f.innerHTML+='<span class="'+Q+'">'+Ho(te)+`</span>
`,f.scrollTop=f.scrollHeight});const Ir=[],jn=256;Li(function(te){var Q=("00"+te.toString(16)).slice(-2);document.getElementById("serial_log").innerText="$"+Q,Ir.unshift(Q),Ir.length>jn&&(Ir.length=jn)});function qr(){Mo(function(te,Q,f){if(An(),Vt(),Uo(),!(typeof te>"u")){er=te,Di=Q,ur=f;for(var D in ur){var[z,M]=ur[D];typeof Ht[z]>"u"&&(Ht[z]={}),typeof Ht[z][M]>"u"&&(Ht[z][M]=[]),Ht[z][M].push(D)}Xt()}})}function Uo(){Ln(),ur={},Ht={},er=void 0,Kr(null,null)}function xi(te){typeof er>"u"||(pi(document.getElementById("emulator_screen_canvas"),er),bi(Di),xn(te),Dn())}function Dr(te){if(!ft())return xi(te=="single"||te=="frame"),!1;var Q=gi(te);return xn(te=="single"||te=="frame"),Q}function Dn(){Ri();var te=ri();for(var Q of te){var[f,D,z]=Q;if(Q[2]=!1,!(typeof Ht[f]>"u"||typeof Ht[f][D]>"u")){Q[2]=!0;for(var M of Ht[f][D])Ti(M)}}}function qn(te,Q){te=="ArrowRight"&&Nt("right",Q),te=="ArrowLeft"&&Nt("left",Q),te=="ArrowUp"&&Nt("up",Q),te=="ArrowDown"&&Nt("down",Q),te=="KeyS"&&Nt("a",Q),te=="KeyA"&&Nt("b",Q),te=="ShiftRight"&&Nt("select",Q),te=="Enter"&&Nt("start",Q),te=="Escape"&&(document.getElementById("cpu_run_check").checked=!1,document.getElementById("cpu_run_check").onclick())}function sr(te,Q){return"$"+("0000"+te.toString(16)).slice(-Q)}function xn(te){mi();var Q=_i();document.getElementById("cpu_pc").innerHTML=sr(Q,4),document.getElementById("cpu_sp").innerHTML=sr(Ai(),4),document.getElementById("cpu_a").innerHTML=sr(Ei(),2),document.getElementById("cpu_bc").innerHTML=sr(Ci(),4),document.getElementById("cpu_de").innerHTML=sr(Si(),4),document.getElementById("cpu_hl").innerHTML=sr($i(),4),document.getElementById("cpu_flags").innerHTML=ki();var f=ur[Q];typeof f>"u"&&(f=ur[Q-1]),typeof f<"u"?Kr(f[0],f[1],te):Kr(null,null),Yr(),Xt()}function Yr(){var te=document.getElementById("emulator_vram_canvas");te.style.display==""&&(ht=="vram"&&vi(te),ht=="bg0"&&_n(te,0),ht=="bg1"&&_n(te,1))}function Xt(){var te=document.getElementById("emulator_display_text");if(te.style.display==""){var Q=er,f=16384,D=0,z=To();if(ht=="wram"&&(Q=yi(),f=4096,D=49152,z=Vn()),ht=="hram"&&(Q=wi(),f=4096,D=65408,z=Vn()),ht=="io"){var s="",M=[{name:"P1",value:65280},{name:"SB",value:65281},{name:"SC",value:65282},{name:"DIV",value:65284},{name:"TIMA",value:65285},{name:"TMA",value:65286},{name:"TAC",value:65287},{name:"IF",value:65295},{name:"LCDC",value:65344},{name:"STAT",value:65345},{name:"SCY",value:65346},{name:"SCX",value:65347},{name:"LY",value:65348},{name:"LYC",value:65349},{name:"DMA",value:65350},{name:"BGP",value:65351},{name:"OBP0",value:65352},{name:"OBP1",value:65353},{name:"WY",value:65354},{name:"WX",value:65355},{name:"KEY1",value:65357},{name:"VBK",value:65359},{name:"RP",value:65366},{name:"BCPS",value:65384},{name:"BCPD",value:65385},{name:"OCPS",value:65386},{name:"OCPD",value:65387},{name:"SVBK",value:65392},{name:"IE",value:65535}];for(var A of M)s+="<span style='float: left; width: 50px'>"+A.name+":</span>"+("00"+Mi(A.value).toString(16)).slice(-2)+"<br/>";te.innerHTML=s;return}if(ht=="serial"){for(var s="",y=0;y<Ir.length;y+=16)s+=Ir.slice(y,y+16).join(" ")+`
`;te.textContent=s;return}if(!(typeof Q>"u")){for(var s="<div class='emulator_display_header'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; 0&nbsp; 1&nbsp; 2&nbsp; 3&nbsp; 4&nbsp; 5&nbsp; 6&nbsp; 7&nbsp; 8&nbsp; 9&nbsp; a&nbsp; b&nbsp; c&nbsp; d&nbsp; e&nbsp; f</div>",h=null,o=!1,r=0,y=0;y<Q.length;y+=16){var i=Array.prototype.map.call(Q.slice(y,y+16),d=>("00"+d.toString(16)).slice(-2)),t=~~(y/f),e=y&f-1;t>0&&(e+=f),s+=("00"+t.toString(16)).slice(-2)+":"+("0000"+(e+D).toString(16)).slice(-4);for(var n=0;n<i.length;n++){s+=" ";var a=z[y+n+D];a?(h=a,o&&(s+="</span>"),o=!1,r=(r+71)%360):a===null&&(h=null,o&&(s+="</span>"),o=!1),h&&!o&&(s+="<span title='"+h+"' style='background-color: hsl("+r+(Po()?", 30%, 30%)'>":", 50%, 50%)'>"),o=!0),s+=i[n]}o&&(s+="</span>"),o=!1,s+="<br/>"}te.innerHTML=s}}}function Vt(){var te=document.getElementById("filelist");te.textContent="";for(const A of Object.keys(_t()).sort()){var Q=document.createElement("li");Q.textContent=A,te.appendChild(Q),A==Xr()&&Q.classList.add("active");for(var[f,D,z,M]of di())if(D==A&&(Q.classList.add(f),f=="error")){Q.classList.remove("warning");break}}}function zo(te){Object.keys(_t()).length<2||(Gt(te,null),Xr()==te&&Jt(Object.keys(_t()).sort()[0]),Vt())}function Ot(te){["emulator_screen_canvas","emulator_vram_canvas","emulator_display_text"].forEach(f=>{document.getElementById(f).style.display=te==f?"":"none"})}function Wo(te){Xn("textEditorDiv",qr),ni("gfxEditorDiv");var Q=new URLSearchParams(window.location.search);const f=(Q.get("asm")??"").trim();f!=""&&(document.getElementById("compiler_settings_asm").value=f,dn(f.split(" ")));const D=(Q.get("link")??"").trim();D!=""&&(document.getElementById("compiler_settings_link").value=D,fn(D.split(" ")));const z=(Q.get("fix")??"").trim();z!=""&&(document.getElementById("compiler_settings_fix").value=z,pn(z.split(" "))),vo(),Jt(Object.keys(_t()).pop()),Vt(),document.getElementById("filelist").onclick=function(A){A.target.childNodes[0].wholeText&&(Jt(A.target.childNodes[0].wholeText),Vt(),xn())},document.getElementById("newfile").onclick=function(){document.getElementById("newfiledialog").style.display="block"},document.getElementById("newfiledialog").onclick=function(A){A.target==document.getElementById("newfiledialog")&&(document.getElementById("newfiledialog").style.display="none")},document.getElementById("newfiledialogclose").onclick=function(){document.getElementById("newfiledialog").style.display="none"},document.getElementById("newfile_empty_create").onclick=function(){var A=document.getElementById("newfile_name").value;A&&(A.indexOf(".")<0&&(A+=".asm"),!(A in _t())&&(vn(A)==="text"?Gt(A,""):Gt(A,new Uint8Array(16)),Jt(A),Vt(),document.getElementById("newfiledialog").style.display="none"))},document.getElementById("newfile_upload").onchange=function(A){if(A.target.files.length>0){var y=A.target.files[0].name,s=vn(y)=="text"?A.target.files[0].text():A.target.files[0].arrayBuffer();s.then(function(h){Gt(y,h),Jt(y),Vt()}),A.target.value="",document.getElementById("newfiledialog").style.display="none"}},document.getElementById("delfile").onclick=function(){confirm("Are you sure you want to delete: "+Xr()+"?")&&zo(Xr())},document.getElementById("newproject").onclick=function(){confirm("Are you sure to clear the current project?")&&(oi(),Jt("main.asm"),Vt())},qr(),document.getElementById("cpu_single_step").onclick=function(){Dr("single")},document.getElementById("cpu_frame_step").onclick=function(){Dr("frame")},document.getElementById("cpu_reset").onclick=function(){xi(!0)},document.getElementById("cpu_run_check").onclick=function(){if(document.getElementById("cpu_run_check").checked){let A=function(){document.hidden||Dr("run")&&(document.getElementById("cpu_run_check").checked=!1),document.getElementById("cpu_run_check").checked&&requestAnimationFrame(A)};requestAnimationFrame(A)}};var M=document.getElementById("emulator_screen_canvas");M.tabIndex=-1,M.onkeydown=function(A){qn(A.code,!0),A.preventDefault()},M.onkeyup=function(A){qn(A.code,!1),A.preventDefault()},document.onkeydown=function(A){A.code=="F8"&&(Dr("single"),A.preventDefault()),A.code=="F9"&&(Dr("frame"),A.preventDefault())},document.getElementById("emulator_display_screen").onclick=function(){Ot("emulator_screen_canvas"),ht="display"},document.getElementById("emulator_display_vram").onclick=function(){Ot("emulator_vram_canvas"),ht="vram",Yr()},document.getElementById("emulator_display_bg0").onclick=function(){Ot("emulator_vram_canvas"),ht="bg0",Yr()},document.getElementById("emulator_display_bg1").onclick=function(){Ot("emulator_vram_canvas"),ht="bg1",Yr()},document.getElementById("emulator_display_rom").onclick=function(){Ot("emulator_display_text"),ht="rom",Xt()},document.getElementById("emulator_display_wram").onclick=function(){Ot("emulator_display_text"),ht="wram",Xt()},document.getElementById("emulator_display_hram").onclick=function(){Ot("emulator_display_text"),ht="hram",Xt()},document.getElementById("emulator_display_io").onclick=function(){Ot("emulator_display_text"),ht="io",Xt()},document.getElementById("emulator_display_serial").onclick=function(){Ot("emulator_display_text"),ht="serial",Xt()},document.getElementById("download_rom").onclick=function(){if(!(typeof er>"u")){var A=document.createElement("a"),y=window.URL.createObjectURL(new Blob([er.buffer],{type:"application/octet-stream"}));A.setAttribute("href",y),A.setAttribute("download","rom.gb"),A.style.display="none",document.body.appendChild(A),A.click(),document.body.removeChild(A),window.URL.revokeObjectURL(y)}},document.getElementById("importmenu").onclick=function(){document.getElementById("importdialog").style.display="block"},document.getElementById("importdialog").onclick=function(A){A.target==document.getElementById("importdialog")&&(document.getElementById("importdialog").style.display="none")},document.getElementById("importdialogclose").onclick=function(){document.getElementById("importdialog").style.display="none"},document.getElementById("import_gist").onclick=function(){li(document.getElementById("import_gist_url").value),document.getElementById("importdialog").style.display="none"},document.getElementById("import_zipfile").onchange=function(A){A.target.files.length>0&&(bo(A.target.files[0]),A.target.value="",document.getElementById("importdialog").style.display="none")},document.getElementById("exportmenu").onclick=function(){document.getElementById("exportdialog").style.display="block",document.getElementById("export_hash_url").value=si()},document.getElementById("exportdialog").onclick=function(A){A.target==document.getElementById("exportdialog")&&(document.getElementById("exportdialog").style.display="none")},document.getElementById("exportdialogclose").onclick=function(){document.getElementById("exportdialog").style.display="none"},document.getElementById("export_gist").onclick=function(){var A=document.getElementById("export_gist_url").value,y=document.getElementById("export_gist_username").value,s=document.getElementById("export_gist_token").value;if(A=wo(y,s,A),A==null)document.getElementById("export_gist_import_url").value="Gist create/update failed. Incorrect token?";else{document.getElementById("export_gist_url").value=A;var h=new URL(document.location);h.hash=A,document.getElementById("export_gist_import_url").value=h.toString()}},document.getElementById("export_zip").onclick=function(){_o()},document.getElementById("infomenu").onclick=function(){document.getElementById("infodialog").style.display="block"},document.getElementById("infodialog").onclick=function(A){A.target==document.getElementById("infodialog")&&(document.getElementById("infodialog").style.display="none")},document.getElementById("infodialogclose").onclick=function(){document.getElementById("infodialog").style.display="none"},document.getElementById("auto_url_update").checked=Pt.autoUrl,document.getElementById("auto_url_update").onclick=function(){Pt.autoUrl=document.getElementById("auto_url_update").checked,Pt.autoUrl?Gt():document.location.hash=""},document.getElementById("auto_local_storage_update").checked=Pt.autoLocalStorage,document.getElementById("auto_local_storage_update").onclick=function(){Pt.autoLocalStorage=document.getElementById("auto_local_storage_update").checked,Gt()},document.getElementById("settingsmenu").onclick=function(){document.getElementById("settingsdialog").style.display="block"},document.getElementById("settingsdialog").onclick=function(A){A.target==document.getElementById("settingsdialog")&&(document.getElementById("settingsdialog").style.display="none")},document.getElementById("settingsdialogclose").onclick=function(){document.getElementById("settingsdialog").style.display="none"},document.getElementById("compiler_settings_set").onclick=function(){Q=new URLSearchParams(window.location.search);var A=document.getElementById("compiler_settings_asm").value.trim();A!=""?(Q.set("asm",A),dn(A.split(" "))):(dn([]),Q.delete("asm"));var y=document.getElementById("compiler_settings_link").value.trim();y!=""?(Q.set("link",y),fn(y.split(" "))):(fn([]),Q.delete("link"));var s=document.getElementById("compiler_settings_fix").value.trim();s!=""?(Q.set("fix",s),pn(s.split(" "))):(Q.delete("fix"),pn([]));var h=new URL(window.location);h.search=Q.toString(),window.history.replaceState({},"",h),document.getElementById("settingsdialog").style.display="none",qr()},Q.has("autorun")&&(document.getElementById("cpu_run_check").checked=!0,document.getElementById("cpu_run_check").onclick())}Wo();
