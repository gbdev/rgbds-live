function Ii(te,Q){for(var f=0;f<Q.length;f++){const x=Q[f];if(typeof x!="string"&&!Array.isArray(x)){for(const W in x)if(W!=="default"&&!(W in te)){const M=Object.getOwnPropertyDescriptor(x,W);M&&Object.defineProperty(te,W,M.get?M:{enumerable:!0,get:()=>x[W]})}}}return Object.freeze(Object.defineProperty(te,Symbol.toStringTag,{value:"Module"}))}(function(){const Q=document.createElement("link").relList;if(Q&&Q.supports&&Q.supports("modulepreload"))return;for(const W of document.querySelectorAll('link[rel="modulepreload"]'))x(W);new MutationObserver(W=>{for(const M of W)if(M.type==="childList")for(const $ of M.addedNodes)$.tagName==="LINK"&&$.rel==="modulepreload"&&x($)}).observe(document,{childList:!0,subtree:!0});function f(W){const M={};return W.integrity&&(M.integrity=W.integrity),W.referrerPolicy&&(M.referrerPolicy=W.referrerPolicy),W.crossOrigin==="use-credentials"?M.credentials="include":W.crossOrigin==="anonymous"?M.credentials="omit":M.credentials="same-origin",M}function x(W){if(W.ep)return;W.ep=!0;const M=f(W);fetch(W.href,M)}})();var Hr=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function bn(te){return te&&te.__esModule&&Object.prototype.hasOwnProperty.call(te,"default")?te.default:te}function zr(te){throw new Error('Could not dynamically require "'+te+'". Please configure the dynamicRequireTargets or/and ignoreDynamicRequires option of @rollup/plugin-commonjs appropriately for this require call to work.')}var rn={exports:{}};/*!

JSZip v3.10.1 - A JavaScript class for generating and reading zip files
<http://stuartk.com/jszip>

(c) 2009-2016 Stuart Knightley <stuart [at] stuartk.com>
Dual licenced under the MIT license or GPLv3. See https://raw.github.com/Stuk/jszip/main/LICENSE.markdown.

JSZip uses the library pako released under the MIT license :
https://github.com/nodeca/pako/blob/main/LICENSE
*/var In;function Fi(){return In||(In=1,function(te,Q){(function(f){te.exports=f()})(function(){return function f(x,W,M){function $(h,o){if(!W[h]){if(!x[h]){var r=typeof zr=="function"&&zr;if(!o&&r)return r(h,!0);if(y)return y(h,!0);var i=new Error("Cannot find module '"+h+"'");throw i.code="MODULE_NOT_FOUND",i}var t=W[h]={exports:{}};x[h][0].call(t.exports,function(e){var n=x[h][1][e];return $(n||e)},t,t.exports,f,x,W,M)}return W[h].exports}for(var y=typeof zr=="function"&&zr,s=0;s<M.length;s++)$(M[s]);return $}({1:[function(f,x,W){var M=f("./utils"),$=f("./support"),y="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=";W.encode=function(s){for(var h,o,r,i,t,e,n,a=[],c=0,d=s.length,k=d,v=M.getTypeOf(s)!=="string";c<s.length;)k=d-c,r=v?(h=s[c++],o=c<d?s[c++]:0,c<d?s[c++]:0):(h=s.charCodeAt(c++),o=c<d?s.charCodeAt(c++):0,c<d?s.charCodeAt(c++):0),i=h>>2,t=(3&h)<<4|o>>4,e=1<k?(15&o)<<2|r>>6:64,n=2<k?63&r:64,a.push(y.charAt(i)+y.charAt(t)+y.charAt(e)+y.charAt(n));return a.join("")},W.decode=function(s){var h,o,r,i,t,e,n=0,a=0,c="data:";if(s.substr(0,c.length)===c)throw new Error("Invalid base64 input, it looks like a data url.");var d,k=3*(s=s.replace(/[^A-Za-z0-9+/=]/g,"")).length/4;if(s.charAt(s.length-1)===y.charAt(64)&&k--,s.charAt(s.length-2)===y.charAt(64)&&k--,k%1!=0)throw new Error("Invalid base64 input, bad content length.");for(d=$.uint8array?new Uint8Array(0|k):new Array(0|k);n<s.length;)h=y.indexOf(s.charAt(n++))<<2|(i=y.indexOf(s.charAt(n++)))>>4,o=(15&i)<<4|(t=y.indexOf(s.charAt(n++)))>>2,r=(3&t)<<6|(e=y.indexOf(s.charAt(n++))),d[a++]=h,t!==64&&(d[a++]=o),e!==64&&(d[a++]=r);return d}},{"./support":30,"./utils":32}],2:[function(f,x,W){var M=f("./external"),$=f("./stream/DataWorker"),y=f("./stream/Crc32Probe"),s=f("./stream/DataLengthProbe");function h(o,r,i,t,e){this.compressedSize=o,this.uncompressedSize=r,this.crc32=i,this.compression=t,this.compressedContent=e}h.prototype={getContentWorker:function(){var o=new $(M.Promise.resolve(this.compressedContent)).pipe(this.compression.uncompressWorker()).pipe(new s("data_length")),r=this;return o.on("end",function(){if(this.streamInfo.data_length!==r.uncompressedSize)throw new Error("Bug : uncompressed data size mismatch")}),o},getCompressedWorker:function(){return new $(M.Promise.resolve(this.compressedContent)).withStreamInfo("compressedSize",this.compressedSize).withStreamInfo("uncompressedSize",this.uncompressedSize).withStreamInfo("crc32",this.crc32).withStreamInfo("compression",this.compression)}},h.createWorkerFrom=function(o,r,i){return o.pipe(new y).pipe(new s("uncompressedSize")).pipe(r.compressWorker(i)).pipe(new s("compressedSize")).withStreamInfo("compression",r)},x.exports=h},{"./external":6,"./stream/Crc32Probe":25,"./stream/DataLengthProbe":26,"./stream/DataWorker":27}],3:[function(f,x,W){var M=f("./stream/GenericWorker");W.STORE={magic:"\0\0",compressWorker:function(){return new M("STORE compression")},uncompressWorker:function(){return new M("STORE decompression")}},W.DEFLATE=f("./flate")},{"./flate":7,"./stream/GenericWorker":28}],4:[function(f,x,W){var M=f("./utils"),$=function(){for(var y,s=[],h=0;h<256;h++){y=h;for(var o=0;o<8;o++)y=1&y?3988292384^y>>>1:y>>>1;s[h]=y}return s}();x.exports=function(y,s){return y!==void 0&&y.length?M.getTypeOf(y)!=="string"?function(h,o,r,i){var t=$,e=i+r;h^=-1;for(var n=i;n<e;n++)h=h>>>8^t[255&(h^o[n])];return-1^h}(0|s,y,y.length,0):function(h,o,r,i){var t=$,e=i+r;h^=-1;for(var n=i;n<e;n++)h=h>>>8^t[255&(h^o.charCodeAt(n))];return-1^h}(0|s,y,y.length,0):0}},{"./utils":32}],5:[function(f,x,W){W.base64=!1,W.binary=!1,W.dir=!1,W.createFolders=!0,W.date=null,W.compression=null,W.compressionOptions=null,W.comment=null,W.unixPermissions=null,W.dosPermissions=null},{}],6:[function(f,x,W){var M=null;M=typeof Promise<"u"?Promise:f("lie"),x.exports={Promise:M}},{lie:37}],7:[function(f,x,W){var M=typeof Uint8Array<"u"&&typeof Uint16Array<"u"&&typeof Uint32Array<"u",$=f("pako"),y=f("./utils"),s=f("./stream/GenericWorker"),h=M?"uint8array":"array";function o(r,i){s.call(this,"FlateWorker/"+r),this._pako=null,this._pakoAction=r,this._pakoOptions=i,this.meta={}}W.magic="\b\0",y.inherits(o,s),o.prototype.processChunk=function(r){this.meta=r.meta,this._pako===null&&this._createPako(),this._pako.push(y.transformTo(h,r.data),!1)},o.prototype.flush=function(){s.prototype.flush.call(this),this._pako===null&&this._createPako(),this._pako.push([],!0)},o.prototype.cleanUp=function(){s.prototype.cleanUp.call(this),this._pako=null},o.prototype._createPako=function(){this._pako=new $[this._pakoAction]({raw:!0,level:this._pakoOptions.level||-1});var r=this;this._pako.onData=function(i){r.push({data:i,meta:r.meta})}},W.compressWorker=function(r){return new o("Deflate",r)},W.uncompressWorker=function(){return new o("Inflate",{})}},{"./stream/GenericWorker":28,"./utils":32,pako:38}],8:[function(f,x,W){function M(t,e){var n,a="";for(n=0;n<e;n++)a+=String.fromCharCode(255&t),t>>>=8;return a}function $(t,e,n,a,c,d){var k,v,p=t.file,u=t.compression,m=d!==h.utf8encode,A=y.transformTo("string",d(p.name)),S=y.transformTo("string",h.utf8encode(p.name)),C=p.comment,R=y.transformTo("string",d(C)),g=y.transformTo("string",h.utf8encode(C)),w=S.length!==p.name.length,l=g.length!==C.length,_="",L="",F="",U=p.dir,H=p.date,X={crc32:0,compressedSize:0,uncompressedSize:0};e&&!n||(X.crc32=t.crc32,X.compressedSize=t.compressedSize,X.uncompressedSize=t.uncompressedSize);var q=0;e&&(q|=8),m||!w&&!l||(q|=2048);var Z=0,oe=0;U&&(Z|=16),c==="UNIX"?(oe=798,Z|=function(se,fe){var Ee=se;return se||(Ee=fe?16893:33204),(65535&Ee)<<16}(p.unixPermissions,U)):(oe=20,Z|=function(se){return 63&(se||0)}(p.dosPermissions)),k=H.getUTCHours(),k<<=6,k|=H.getUTCMinutes(),k<<=5,k|=H.getUTCSeconds()/2,v=H.getUTCFullYear()-1980,v<<=4,v|=H.getUTCMonth()+1,v<<=5,v|=H.getUTCDate(),w&&(L=M(1,1)+M(o(A),4)+S,_+="up"+M(L.length,2)+L),l&&(F=M(1,1)+M(o(R),4)+g,_+="uc"+M(F.length,2)+F);var ee="";return ee+=`
\0`,ee+=M(q,2),ee+=u.magic,ee+=M(k,2),ee+=M(v,2),ee+=M(X.crc32,4),ee+=M(X.compressedSize,4),ee+=M(X.uncompressedSize,4),ee+=M(A.length,2),ee+=M(_.length,2),{fileRecord:r.LOCAL_FILE_HEADER+ee+A+_,dirRecord:r.CENTRAL_FILE_HEADER+M(oe,2)+ee+M(R.length,2)+"\0\0\0\0"+M(Z,4)+M(a,4)+A+_+R}}var y=f("../utils"),s=f("../stream/GenericWorker"),h=f("../utf8"),o=f("../crc32"),r=f("../signature");function i(t,e,n,a){s.call(this,"ZipFileWorker"),this.bytesWritten=0,this.zipComment=e,this.zipPlatform=n,this.encodeFileName=a,this.streamFiles=t,this.accumulate=!1,this.contentBuffer=[],this.dirRecords=[],this.currentSourceOffset=0,this.entriesCount=0,this.currentFile=null,this._sources=[]}y.inherits(i,s),i.prototype.push=function(t){var e=t.meta.percent||0,n=this.entriesCount,a=this._sources.length;this.accumulate?this.contentBuffer.push(t):(this.bytesWritten+=t.data.length,s.prototype.push.call(this,{data:t.data,meta:{currentFile:this.currentFile,percent:n?(e+100*(n-a-1))/n:100}}))},i.prototype.openedSource=function(t){this.currentSourceOffset=this.bytesWritten,this.currentFile=t.file.name;var e=this.streamFiles&&!t.file.dir;if(e){var n=$(t,e,!1,this.currentSourceOffset,this.zipPlatform,this.encodeFileName);this.push({data:n.fileRecord,meta:{percent:0}})}else this.accumulate=!0},i.prototype.closedSource=function(t){this.accumulate=!1;var e=this.streamFiles&&!t.file.dir,n=$(t,e,!0,this.currentSourceOffset,this.zipPlatform,this.encodeFileName);if(this.dirRecords.push(n.dirRecord),e)this.push({data:function(a){return r.DATA_DESCRIPTOR+M(a.crc32,4)+M(a.compressedSize,4)+M(a.uncompressedSize,4)}(t),meta:{percent:100}});else for(this.push({data:n.fileRecord,meta:{percent:0}});this.contentBuffer.length;)this.push(this.contentBuffer.shift());this.currentFile=null},i.prototype.flush=function(){for(var t=this.bytesWritten,e=0;e<this.dirRecords.length;e++)this.push({data:this.dirRecords[e],meta:{percent:100}});var n=this.bytesWritten-t,a=function(c,d,k,v,p){var u=y.transformTo("string",p(v));return r.CENTRAL_DIRECTORY_END+"\0\0\0\0"+M(c,2)+M(c,2)+M(d,4)+M(k,4)+M(u.length,2)+u}(this.dirRecords.length,n,t,this.zipComment,this.encodeFileName);this.push({data:a,meta:{percent:100}})},i.prototype.prepareNextSource=function(){this.previous=this._sources.shift(),this.openedSource(this.previous.streamInfo),this.isPaused?this.previous.pause():this.previous.resume()},i.prototype.registerPrevious=function(t){this._sources.push(t);var e=this;return t.on("data",function(n){e.processChunk(n)}),t.on("end",function(){e.closedSource(e.previous.streamInfo),e._sources.length?e.prepareNextSource():e.end()}),t.on("error",function(n){e.error(n)}),this},i.prototype.resume=function(){return!!s.prototype.resume.call(this)&&(!this.previous&&this._sources.length?(this.prepareNextSource(),!0):this.previous||this._sources.length||this.generatedError?void 0:(this.end(),!0))},i.prototype.error=function(t){var e=this._sources;if(!s.prototype.error.call(this,t))return!1;for(var n=0;n<e.length;n++)try{e[n].error(t)}catch{}return!0},i.prototype.lock=function(){s.prototype.lock.call(this);for(var t=this._sources,e=0;e<t.length;e++)t[e].lock()},x.exports=i},{"../crc32":4,"../signature":23,"../stream/GenericWorker":28,"../utf8":31,"../utils":32}],9:[function(f,x,W){var M=f("../compressions"),$=f("./ZipFileWorker");W.generateWorker=function(y,s,h){var o=new $(s.streamFiles,h,s.platform,s.encodeFileName),r=0;try{y.forEach(function(i,t){r++;var e=function(d,k){var v=d||k,p=M[v];if(!p)throw new Error(v+" is not a valid compression method !");return p}(t.options.compression,s.compression),n=t.options.compressionOptions||s.compressionOptions||{},a=t.dir,c=t.date;t._compressWorker(e,n).withStreamInfo("file",{name:i,dir:a,date:c,comment:t.comment||"",unixPermissions:t.unixPermissions,dosPermissions:t.dosPermissions}).pipe(o)}),o.entriesCount=r}catch(i){o.error(i)}return o}},{"../compressions":3,"./ZipFileWorker":8}],10:[function(f,x,W){function M(){if(!(this instanceof M))return new M;if(arguments.length)throw new Error("The constructor with parameters has been removed in JSZip 3.0, please check the upgrade guide.");this.files=Object.create(null),this.comment=null,this.root="",this.clone=function(){var $=new M;for(var y in this)typeof this[y]!="function"&&($[y]=this[y]);return $}}(M.prototype=f("./object")).loadAsync=f("./load"),M.support=f("./support"),M.defaults=f("./defaults"),M.version="3.10.1",M.loadAsync=function($,y){return new M().loadAsync($,y)},M.external=f("./external"),x.exports=M},{"./defaults":5,"./external":6,"./load":11,"./object":15,"./support":30}],11:[function(f,x,W){var M=f("./utils"),$=f("./external"),y=f("./utf8"),s=f("./zipEntries"),h=f("./stream/Crc32Probe"),o=f("./nodejsUtils");function r(i){return new $.Promise(function(t,e){var n=i.decompressed.getContentWorker().pipe(new h);n.on("error",function(a){e(a)}).on("end",function(){n.streamInfo.crc32!==i.decompressed.crc32?e(new Error("Corrupted zip : CRC32 mismatch")):t()}).resume()})}x.exports=function(i,t){var e=this;return t=M.extend(t||{},{base64:!1,checkCRC32:!1,optimizedBinaryString:!1,createFolders:!1,decodeFileName:y.utf8decode}),o.isNode&&o.isStream(i)?$.Promise.reject(new Error("JSZip can't accept a stream when loading a zip file.")):M.prepareContent("the loaded zip file",i,!0,t.optimizedBinaryString,t.base64).then(function(n){var a=new s(t);return a.load(n),a}).then(function(n){var a=[$.Promise.resolve(n)],c=n.files;if(t.checkCRC32)for(var d=0;d<c.length;d++)a.push(r(c[d]));return $.Promise.all(a)}).then(function(n){for(var a=n.shift(),c=a.files,d=0;d<c.length;d++){var k=c[d],v=k.fileNameStr,p=M.resolve(k.fileNameStr);e.file(p,k.decompressed,{binary:!0,optimizedBinaryString:!0,date:k.date,dir:k.dir,comment:k.fileCommentStr.length?k.fileCommentStr:null,unixPermissions:k.unixPermissions,dosPermissions:k.dosPermissions,createFolders:t.createFolders}),k.dir||(e.file(p).unsafeOriginalName=v)}return a.zipComment.length&&(e.comment=a.zipComment),e})}},{"./external":6,"./nodejsUtils":14,"./stream/Crc32Probe":25,"./utf8":31,"./utils":32,"./zipEntries":33}],12:[function(f,x,W){var M=f("../utils"),$=f("../stream/GenericWorker");function y(s,h){$.call(this,"Nodejs stream input adapter for "+s),this._upstreamEnded=!1,this._bindStream(h)}M.inherits(y,$),y.prototype._bindStream=function(s){var h=this;(this._stream=s).pause(),s.on("data",function(o){h.push({data:o,meta:{percent:0}})}).on("error",function(o){h.isPaused?this.generatedError=o:h.error(o)}).on("end",function(){h.isPaused?h._upstreamEnded=!0:h.end()})},y.prototype.pause=function(){return!!$.prototype.pause.call(this)&&(this._stream.pause(),!0)},y.prototype.resume=function(){return!!$.prototype.resume.call(this)&&(this._upstreamEnded?this.end():this._stream.resume(),!0)},x.exports=y},{"../stream/GenericWorker":28,"../utils":32}],13:[function(f,x,W){var M=f("readable-stream").Readable;function $(y,s,h){M.call(this,s),this._helper=y;var o=this;y.on("data",function(r,i){o.push(r)||o._helper.pause(),h&&h(i)}).on("error",function(r){o.emit("error",r)}).on("end",function(){o.push(null)})}f("../utils").inherits($,M),$.prototype._read=function(){this._helper.resume()},x.exports=$},{"../utils":32,"readable-stream":16}],14:[function(f,x,W){x.exports={isNode:typeof Buffer<"u",newBufferFrom:function(M,$){if(Buffer.from&&Buffer.from!==Uint8Array.from)return Buffer.from(M,$);if(typeof M=="number")throw new Error('The "data" argument must not be a number');return new Buffer(M,$)},allocBuffer:function(M){if(Buffer.alloc)return Buffer.alloc(M);var $=new Buffer(M);return $.fill(0),$},isBuffer:function(M){return Buffer.isBuffer(M)},isStream:function(M){return M&&typeof M.on=="function"&&typeof M.pause=="function"&&typeof M.resume=="function"}}},{}],15:[function(f,x,W){function M(p,u,m){var A,S=y.getTypeOf(u),C=y.extend(m||{},o);C.date=C.date||new Date,C.compression!==null&&(C.compression=C.compression.toUpperCase()),typeof C.unixPermissions=="string"&&(C.unixPermissions=parseInt(C.unixPermissions,8)),C.unixPermissions&&16384&C.unixPermissions&&(C.dir=!0),C.dosPermissions&&16&C.dosPermissions&&(C.dir=!0),C.dir&&(p=c(p)),C.createFolders&&(A=a(p))&&d.call(this,A,!0);var R=S==="string"&&C.binary===!1&&C.base64===!1;m&&m.binary!==void 0||(C.binary=!R),(u instanceof r&&u.uncompressedSize===0||C.dir||!u||u.length===0)&&(C.base64=!1,C.binary=!0,u="",C.compression="STORE",S="string");var g=null;g=u instanceof r||u instanceof s?u:e.isNode&&e.isStream(u)?new n(p,u):y.prepareContent(p,u,C.binary,C.optimizedBinaryString,C.base64);var w=new i(p,g,C);this.files[p]=w}var $=f("./utf8"),y=f("./utils"),s=f("./stream/GenericWorker"),h=f("./stream/StreamHelper"),o=f("./defaults"),r=f("./compressedObject"),i=f("./zipObject"),t=f("./generate"),e=f("./nodejsUtils"),n=f("./nodejs/NodejsStreamInputAdapter"),a=function(p){p.slice(-1)==="/"&&(p=p.substring(0,p.length-1));var u=p.lastIndexOf("/");return 0<u?p.substring(0,u):""},c=function(p){return p.slice(-1)!=="/"&&(p+="/"),p},d=function(p,u){return u=u!==void 0?u:o.createFolders,p=c(p),this.files[p]||M.call(this,p,null,{dir:!0,createFolders:u}),this.files[p]};function k(p){return Object.prototype.toString.call(p)==="[object RegExp]"}var v={load:function(){throw new Error("This method has been removed in JSZip 3.0, please check the upgrade guide.")},forEach:function(p){var u,m,A;for(u in this.files)A=this.files[u],(m=u.slice(this.root.length,u.length))&&u.slice(0,this.root.length)===this.root&&p(m,A)},filter:function(p){var u=[];return this.forEach(function(m,A){p(m,A)&&u.push(A)}),u},file:function(p,u,m){if(arguments.length!==1)return p=this.root+p,M.call(this,p,u,m),this;if(k(p)){var A=p;return this.filter(function(C,R){return!R.dir&&A.test(C)})}var S=this.files[this.root+p];return S&&!S.dir?S:null},folder:function(p){if(!p)return this;if(k(p))return this.filter(function(S,C){return C.dir&&p.test(S)});var u=this.root+p,m=d.call(this,u),A=this.clone();return A.root=m.name,A},remove:function(p){p=this.root+p;var u=this.files[p];if(u||(p.slice(-1)!=="/"&&(p+="/"),u=this.files[p]),u&&!u.dir)delete this.files[p];else for(var m=this.filter(function(S,C){return C.name.slice(0,p.length)===p}),A=0;A<m.length;A++)delete this.files[m[A].name];return this},generate:function(){throw new Error("This method has been removed in JSZip 3.0, please check the upgrade guide.")},generateInternalStream:function(p){var u,m={};try{if((m=y.extend(p||{},{streamFiles:!1,compression:"STORE",compressionOptions:null,type:"",platform:"DOS",comment:null,mimeType:"application/zip",encodeFileName:$.utf8encode})).type=m.type.toLowerCase(),m.compression=m.compression.toUpperCase(),m.type==="binarystring"&&(m.type="string"),!m.type)throw new Error("No output type specified.");y.checkSupport(m.type),m.platform!=="darwin"&&m.platform!=="freebsd"&&m.platform!=="linux"&&m.platform!=="sunos"||(m.platform="UNIX"),m.platform==="win32"&&(m.platform="DOS");var A=m.comment||this.comment||"";u=t.generateWorker(this,m,A)}catch(S){(u=new s("error")).error(S)}return new h(u,m.type||"string",m.mimeType)},generateAsync:function(p,u){return this.generateInternalStream(p).accumulate(u)},generateNodeStream:function(p,u){return(p=p||{}).type||(p.type="nodebuffer"),this.generateInternalStream(p).toNodejsStream(u)}};x.exports=v},{"./compressedObject":2,"./defaults":5,"./generate":9,"./nodejs/NodejsStreamInputAdapter":12,"./nodejsUtils":14,"./stream/GenericWorker":28,"./stream/StreamHelper":29,"./utf8":31,"./utils":32,"./zipObject":35}],16:[function(f,x,W){x.exports=f("stream")},{stream:void 0}],17:[function(f,x,W){var M=f("./DataReader");function $(y){M.call(this,y);for(var s=0;s<this.data.length;s++)y[s]=255&y[s]}f("../utils").inherits($,M),$.prototype.byteAt=function(y){return this.data[this.zero+y]},$.prototype.lastIndexOfSignature=function(y){for(var s=y.charCodeAt(0),h=y.charCodeAt(1),o=y.charCodeAt(2),r=y.charCodeAt(3),i=this.length-4;0<=i;--i)if(this.data[i]===s&&this.data[i+1]===h&&this.data[i+2]===o&&this.data[i+3]===r)return i-this.zero;return-1},$.prototype.readAndCheckSignature=function(y){var s=y.charCodeAt(0),h=y.charCodeAt(1),o=y.charCodeAt(2),r=y.charCodeAt(3),i=this.readData(4);return s===i[0]&&h===i[1]&&o===i[2]&&r===i[3]},$.prototype.readData=function(y){if(this.checkOffset(y),y===0)return[];var s=this.data.slice(this.zero+this.index,this.zero+this.index+y);return this.index+=y,s},x.exports=$},{"../utils":32,"./DataReader":18}],18:[function(f,x,W){var M=f("../utils");function $(y){this.data=y,this.length=y.length,this.index=0,this.zero=0}$.prototype={checkOffset:function(y){this.checkIndex(this.index+y)},checkIndex:function(y){if(this.length<this.zero+y||y<0)throw new Error("End of data reached (data length = "+this.length+", asked index = "+y+"). Corrupted zip ?")},setIndex:function(y){this.checkIndex(y),this.index=y},skip:function(y){this.setIndex(this.index+y)},byteAt:function(){},readInt:function(y){var s,h=0;for(this.checkOffset(y),s=this.index+y-1;s>=this.index;s--)h=(h<<8)+this.byteAt(s);return this.index+=y,h},readString:function(y){return M.transformTo("string",this.readData(y))},readData:function(){},lastIndexOfSignature:function(){},readAndCheckSignature:function(){},readDate:function(){var y=this.readInt(4);return new Date(Date.UTC(1980+(y>>25&127),(y>>21&15)-1,y>>16&31,y>>11&31,y>>5&63,(31&y)<<1))}},x.exports=$},{"../utils":32}],19:[function(f,x,W){var M=f("./Uint8ArrayReader");function $(y){M.call(this,y)}f("../utils").inherits($,M),$.prototype.readData=function(y){this.checkOffset(y);var s=this.data.slice(this.zero+this.index,this.zero+this.index+y);return this.index+=y,s},x.exports=$},{"../utils":32,"./Uint8ArrayReader":21}],20:[function(f,x,W){var M=f("./DataReader");function $(y){M.call(this,y)}f("../utils").inherits($,M),$.prototype.byteAt=function(y){return this.data.charCodeAt(this.zero+y)},$.prototype.lastIndexOfSignature=function(y){return this.data.lastIndexOf(y)-this.zero},$.prototype.readAndCheckSignature=function(y){return y===this.readData(4)},$.prototype.readData=function(y){this.checkOffset(y);var s=this.data.slice(this.zero+this.index,this.zero+this.index+y);return this.index+=y,s},x.exports=$},{"../utils":32,"./DataReader":18}],21:[function(f,x,W){var M=f("./ArrayReader");function $(y){M.call(this,y)}f("../utils").inherits($,M),$.prototype.readData=function(y){if(this.checkOffset(y),y===0)return new Uint8Array(0);var s=this.data.subarray(this.zero+this.index,this.zero+this.index+y);return this.index+=y,s},x.exports=$},{"../utils":32,"./ArrayReader":17}],22:[function(f,x,W){var M=f("../utils"),$=f("../support"),y=f("./ArrayReader"),s=f("./StringReader"),h=f("./NodeBufferReader"),o=f("./Uint8ArrayReader");x.exports=function(r){var i=M.getTypeOf(r);return M.checkSupport(i),i!=="string"||$.uint8array?i==="nodebuffer"?new h(r):$.uint8array?new o(M.transformTo("uint8array",r)):new y(M.transformTo("array",r)):new s(r)}},{"../support":30,"../utils":32,"./ArrayReader":17,"./NodeBufferReader":19,"./StringReader":20,"./Uint8ArrayReader":21}],23:[function(f,x,W){W.LOCAL_FILE_HEADER="PK",W.CENTRAL_FILE_HEADER="PK",W.CENTRAL_DIRECTORY_END="PK",W.ZIP64_CENTRAL_DIRECTORY_LOCATOR="PK\x07",W.ZIP64_CENTRAL_DIRECTORY_END="PK",W.DATA_DESCRIPTOR="PK\x07\b"},{}],24:[function(f,x,W){var M=f("./GenericWorker"),$=f("../utils");function y(s){M.call(this,"ConvertWorker to "+s),this.destType=s}$.inherits(y,M),y.prototype.processChunk=function(s){this.push({data:$.transformTo(this.destType,s.data),meta:s.meta})},x.exports=y},{"../utils":32,"./GenericWorker":28}],25:[function(f,x,W){var M=f("./GenericWorker"),$=f("../crc32");function y(){M.call(this,"Crc32Probe"),this.withStreamInfo("crc32",0)}f("../utils").inherits(y,M),y.prototype.processChunk=function(s){this.streamInfo.crc32=$(s.data,this.streamInfo.crc32||0),this.push(s)},x.exports=y},{"../crc32":4,"../utils":32,"./GenericWorker":28}],26:[function(f,x,W){var M=f("../utils"),$=f("./GenericWorker");function y(s){$.call(this,"DataLengthProbe for "+s),this.propName=s,this.withStreamInfo(s,0)}M.inherits(y,$),y.prototype.processChunk=function(s){if(s){var h=this.streamInfo[this.propName]||0;this.streamInfo[this.propName]=h+s.data.length}$.prototype.processChunk.call(this,s)},x.exports=y},{"../utils":32,"./GenericWorker":28}],27:[function(f,x,W){var M=f("../utils"),$=f("./GenericWorker");function y(s){$.call(this,"DataWorker");var h=this;this.dataIsReady=!1,this.index=0,this.max=0,this.data=null,this.type="",this._tickScheduled=!1,s.then(function(o){h.dataIsReady=!0,h.data=o,h.max=o&&o.length||0,h.type=M.getTypeOf(o),h.isPaused||h._tickAndRepeat()},function(o){h.error(o)})}M.inherits(y,$),y.prototype.cleanUp=function(){$.prototype.cleanUp.call(this),this.data=null},y.prototype.resume=function(){return!!$.prototype.resume.call(this)&&(!this._tickScheduled&&this.dataIsReady&&(this._tickScheduled=!0,M.delay(this._tickAndRepeat,[],this)),!0)},y.prototype._tickAndRepeat=function(){this._tickScheduled=!1,this.isPaused||this.isFinished||(this._tick(),this.isFinished||(M.delay(this._tickAndRepeat,[],this),this._tickScheduled=!0))},y.prototype._tick=function(){if(this.isPaused||this.isFinished)return!1;var s=null,h=Math.min(this.max,this.index+16384);if(this.index>=this.max)return this.end();switch(this.type){case"string":s=this.data.substring(this.index,h);break;case"uint8array":s=this.data.subarray(this.index,h);break;case"array":case"nodebuffer":s=this.data.slice(this.index,h)}return this.index=h,this.push({data:s,meta:{percent:this.max?this.index/this.max*100:0}})},x.exports=y},{"../utils":32,"./GenericWorker":28}],28:[function(f,x,W){function M($){this.name=$||"default",this.streamInfo={},this.generatedError=null,this.extraStreamInfo={},this.isPaused=!0,this.isFinished=!1,this.isLocked=!1,this._listeners={data:[],end:[],error:[]},this.previous=null}M.prototype={push:function($){this.emit("data",$)},end:function(){if(this.isFinished)return!1;this.flush();try{this.emit("end"),this.cleanUp(),this.isFinished=!0}catch($){this.emit("error",$)}return!0},error:function($){return!this.isFinished&&(this.isPaused?this.generatedError=$:(this.isFinished=!0,this.emit("error",$),this.previous&&this.previous.error($),this.cleanUp()),!0)},on:function($,y){return this._listeners[$].push(y),this},cleanUp:function(){this.streamInfo=this.generatedError=this.extraStreamInfo=null,this._listeners=[]},emit:function($,y){if(this._listeners[$])for(var s=0;s<this._listeners[$].length;s++)this._listeners[$][s].call(this,y)},pipe:function($){return $.registerPrevious(this)},registerPrevious:function($){if(this.isLocked)throw new Error("The stream '"+this+"' has already been used.");this.streamInfo=$.streamInfo,this.mergeStreamInfo(),this.previous=$;var y=this;return $.on("data",function(s){y.processChunk(s)}),$.on("end",function(){y.end()}),$.on("error",function(s){y.error(s)}),this},pause:function(){return!this.isPaused&&!this.isFinished&&(this.isPaused=!0,this.previous&&this.previous.pause(),!0)},resume:function(){if(!this.isPaused||this.isFinished)return!1;var $=this.isPaused=!1;return this.generatedError&&(this.error(this.generatedError),$=!0),this.previous&&this.previous.resume(),!$},flush:function(){},processChunk:function($){this.push($)},withStreamInfo:function($,y){return this.extraStreamInfo[$]=y,this.mergeStreamInfo(),this},mergeStreamInfo:function(){for(var $ in this.extraStreamInfo)Object.prototype.hasOwnProperty.call(this.extraStreamInfo,$)&&(this.streamInfo[$]=this.extraStreamInfo[$])},lock:function(){if(this.isLocked)throw new Error("The stream '"+this+"' has already been used.");this.isLocked=!0,this.previous&&this.previous.lock()},toString:function(){var $="Worker "+this.name;return this.previous?this.previous+" -> "+$:$}},x.exports=M},{}],29:[function(f,x,W){var M=f("../utils"),$=f("./ConvertWorker"),y=f("./GenericWorker"),s=f("../base64"),h=f("../support"),o=f("../external"),r=null;if(h.nodestream)try{r=f("../nodejs/NodejsStreamOutputAdapter")}catch{}function i(e,n){return new o.Promise(function(a,c){var d=[],k=e._internalType,v=e._outputType,p=e._mimeType;e.on("data",function(u,m){d.push(u),n&&n(m)}).on("error",function(u){d=[],c(u)}).on("end",function(){try{var u=function(m,A,S){switch(m){case"blob":return M.newBlob(M.transformTo("arraybuffer",A),S);case"base64":return s.encode(A);default:return M.transformTo(m,A)}}(v,function(m,A){var S,C=0,R=null,g=0;for(S=0;S<A.length;S++)g+=A[S].length;switch(m){case"string":return A.join("");case"array":return Array.prototype.concat.apply([],A);case"uint8array":for(R=new Uint8Array(g),S=0;S<A.length;S++)R.set(A[S],C),C+=A[S].length;return R;case"nodebuffer":return Buffer.concat(A);default:throw new Error("concat : unsupported type '"+m+"'")}}(k,d),p);a(u)}catch(m){c(m)}d=[]}).resume()})}function t(e,n,a){var c=n;switch(n){case"blob":case"arraybuffer":c="uint8array";break;case"base64":c="string"}try{this._internalType=c,this._outputType=n,this._mimeType=a,M.checkSupport(c),this._worker=e.pipe(new $(c)),e.lock()}catch(d){this._worker=new y("error"),this._worker.error(d)}}t.prototype={accumulate:function(e){return i(this,e)},on:function(e,n){var a=this;return e==="data"?this._worker.on(e,function(c){n.call(a,c.data,c.meta)}):this._worker.on(e,function(){M.delay(n,arguments,a)}),this},resume:function(){return M.delay(this._worker.resume,[],this._worker),this},pause:function(){return this._worker.pause(),this},toNodejsStream:function(e){if(M.checkSupport("nodestream"),this._outputType!=="nodebuffer")throw new Error(this._outputType+" is not supported by this method");return new r(this,{objectMode:this._outputType!=="nodebuffer"},e)}},x.exports=t},{"../base64":1,"../external":6,"../nodejs/NodejsStreamOutputAdapter":13,"../support":30,"../utils":32,"./ConvertWorker":24,"./GenericWorker":28}],30:[function(f,x,W){if(W.base64=!0,W.array=!0,W.string=!0,W.arraybuffer=typeof ArrayBuffer<"u"&&typeof Uint8Array<"u",W.nodebuffer=typeof Buffer<"u",W.uint8array=typeof Uint8Array<"u",typeof ArrayBuffer>"u")W.blob=!1;else{var M=new ArrayBuffer(0);try{W.blob=new Blob([M],{type:"application/zip"}).size===0}catch{try{var $=new(self.BlobBuilder||self.WebKitBlobBuilder||self.MozBlobBuilder||self.MSBlobBuilder);$.append(M),W.blob=$.getBlob("application/zip").size===0}catch{W.blob=!1}}}try{W.nodestream=!!f("readable-stream").Readable}catch{W.nodestream=!1}},{"readable-stream":16}],31:[function(f,x,W){for(var M=f("./utils"),$=f("./support"),y=f("./nodejsUtils"),s=f("./stream/GenericWorker"),h=new Array(256),o=0;o<256;o++)h[o]=252<=o?6:248<=o?5:240<=o?4:224<=o?3:192<=o?2:1;h[254]=h[254]=1;function r(){s.call(this,"utf-8 decode"),this.leftOver=null}function i(){s.call(this,"utf-8 encode")}W.utf8encode=function(t){return $.nodebuffer?y.newBufferFrom(t,"utf-8"):function(e){var n,a,c,d,k,v=e.length,p=0;for(d=0;d<v;d++)(64512&(a=e.charCodeAt(d)))==55296&&d+1<v&&(64512&(c=e.charCodeAt(d+1)))==56320&&(a=65536+(a-55296<<10)+(c-56320),d++),p+=a<128?1:a<2048?2:a<65536?3:4;for(n=$.uint8array?new Uint8Array(p):new Array(p),d=k=0;k<p;d++)(64512&(a=e.charCodeAt(d)))==55296&&d+1<v&&(64512&(c=e.charCodeAt(d+1)))==56320&&(a=65536+(a-55296<<10)+(c-56320),d++),a<128?n[k++]=a:(a<2048?n[k++]=192|a>>>6:(a<65536?n[k++]=224|a>>>12:(n[k++]=240|a>>>18,n[k++]=128|a>>>12&63),n[k++]=128|a>>>6&63),n[k++]=128|63&a);return n}(t)},W.utf8decode=function(t){return $.nodebuffer?M.transformTo("nodebuffer",t).toString("utf-8"):function(e){var n,a,c,d,k=e.length,v=new Array(2*k);for(n=a=0;n<k;)if((c=e[n++])<128)v[a++]=c;else if(4<(d=h[c]))v[a++]=65533,n+=d-1;else{for(c&=d===2?31:d===3?15:7;1<d&&n<k;)c=c<<6|63&e[n++],d--;1<d?v[a++]=65533:c<65536?v[a++]=c:(c-=65536,v[a++]=55296|c>>10&1023,v[a++]=56320|1023&c)}return v.length!==a&&(v.subarray?v=v.subarray(0,a):v.length=a),M.applyFromCharCode(v)}(t=M.transformTo($.uint8array?"uint8array":"array",t))},M.inherits(r,s),r.prototype.processChunk=function(t){var e=M.transformTo($.uint8array?"uint8array":"array",t.data);if(this.leftOver&&this.leftOver.length){if($.uint8array){var n=e;(e=new Uint8Array(n.length+this.leftOver.length)).set(this.leftOver,0),e.set(n,this.leftOver.length)}else e=this.leftOver.concat(e);this.leftOver=null}var a=function(d,k){var v;for((k=k||d.length)>d.length&&(k=d.length),v=k-1;0<=v&&(192&d[v])==128;)v--;return v<0||v===0?k:v+h[d[v]]>k?v:k}(e),c=e;a!==e.length&&($.uint8array?(c=e.subarray(0,a),this.leftOver=e.subarray(a,e.length)):(c=e.slice(0,a),this.leftOver=e.slice(a,e.length))),this.push({data:W.utf8decode(c),meta:t.meta})},r.prototype.flush=function(){this.leftOver&&this.leftOver.length&&(this.push({data:W.utf8decode(this.leftOver),meta:{}}),this.leftOver=null)},W.Utf8DecodeWorker=r,M.inherits(i,s),i.prototype.processChunk=function(t){this.push({data:W.utf8encode(t.data),meta:t.meta})},W.Utf8EncodeWorker=i},{"./nodejsUtils":14,"./stream/GenericWorker":28,"./support":30,"./utils":32}],32:[function(f,x,W){var M=f("./support"),$=f("./base64"),y=f("./nodejsUtils"),s=f("./external");function h(n){return n}function o(n,a){for(var c=0;c<n.length;++c)a[c]=255&n.charCodeAt(c);return a}f("setimmediate"),W.newBlob=function(n,a){W.checkSupport("blob");try{return new Blob([n],{type:a})}catch{try{var c=new(self.BlobBuilder||self.WebKitBlobBuilder||self.MozBlobBuilder||self.MSBlobBuilder);return c.append(n),c.getBlob(a)}catch{throw new Error("Bug : can't construct the Blob.")}}};var r={stringifyByChunk:function(n,a,c){var d=[],k=0,v=n.length;if(v<=c)return String.fromCharCode.apply(null,n);for(;k<v;)a==="array"||a==="nodebuffer"?d.push(String.fromCharCode.apply(null,n.slice(k,Math.min(k+c,v)))):d.push(String.fromCharCode.apply(null,n.subarray(k,Math.min(k+c,v)))),k+=c;return d.join("")},stringifyByChar:function(n){for(var a="",c=0;c<n.length;c++)a+=String.fromCharCode(n[c]);return a},applyCanBeUsed:{uint8array:function(){try{return M.uint8array&&String.fromCharCode.apply(null,new Uint8Array(1)).length===1}catch{return!1}}(),nodebuffer:function(){try{return M.nodebuffer&&String.fromCharCode.apply(null,y.allocBuffer(1)).length===1}catch{return!1}}()}};function i(n){var a=65536,c=W.getTypeOf(n),d=!0;if(c==="uint8array"?d=r.applyCanBeUsed.uint8array:c==="nodebuffer"&&(d=r.applyCanBeUsed.nodebuffer),d)for(;1<a;)try{return r.stringifyByChunk(n,c,a)}catch{a=Math.floor(a/2)}return r.stringifyByChar(n)}function t(n,a){for(var c=0;c<n.length;c++)a[c]=n[c];return a}W.applyFromCharCode=i;var e={};e.string={string:h,array:function(n){return o(n,new Array(n.length))},arraybuffer:function(n){return e.string.uint8array(n).buffer},uint8array:function(n){return o(n,new Uint8Array(n.length))},nodebuffer:function(n){return o(n,y.allocBuffer(n.length))}},e.array={string:i,array:h,arraybuffer:function(n){return new Uint8Array(n).buffer},uint8array:function(n){return new Uint8Array(n)},nodebuffer:function(n){return y.newBufferFrom(n)}},e.arraybuffer={string:function(n){return i(new Uint8Array(n))},array:function(n){return t(new Uint8Array(n),new Array(n.byteLength))},arraybuffer:h,uint8array:function(n){return new Uint8Array(n)},nodebuffer:function(n){return y.newBufferFrom(new Uint8Array(n))}},e.uint8array={string:i,array:function(n){return t(n,new Array(n.length))},arraybuffer:function(n){return n.buffer},uint8array:h,nodebuffer:function(n){return y.newBufferFrom(n)}},e.nodebuffer={string:i,array:function(n){return t(n,new Array(n.length))},arraybuffer:function(n){return e.nodebuffer.uint8array(n).buffer},uint8array:function(n){return t(n,new Uint8Array(n.length))},nodebuffer:h},W.transformTo=function(n,a){if(a=a||"",!n)return a;W.checkSupport(n);var c=W.getTypeOf(a);return e[c][n](a)},W.resolve=function(n){for(var a=n.split("/"),c=[],d=0;d<a.length;d++){var k=a[d];k==="."||k===""&&d!==0&&d!==a.length-1||(k===".."?c.pop():c.push(k))}return c.join("/")},W.getTypeOf=function(n){return typeof n=="string"?"string":Object.prototype.toString.call(n)==="[object Array]"?"array":M.nodebuffer&&y.isBuffer(n)?"nodebuffer":M.uint8array&&n instanceof Uint8Array?"uint8array":M.arraybuffer&&n instanceof ArrayBuffer?"arraybuffer":void 0},W.checkSupport=function(n){if(!M[n.toLowerCase()])throw new Error(n+" is not supported by this platform")},W.MAX_VALUE_16BITS=65535,W.MAX_VALUE_32BITS=-1,W.pretty=function(n){var a,c,d="";for(c=0;c<(n||"").length;c++)d+="\\x"+((a=n.charCodeAt(c))<16?"0":"")+a.toString(16).toUpperCase();return d},W.delay=function(n,a,c){setImmediate(function(){n.apply(c||null,a||[])})},W.inherits=function(n,a){function c(){}c.prototype=a.prototype,n.prototype=new c},W.extend=function(){var n,a,c={};for(n=0;n<arguments.length;n++)for(a in arguments[n])Object.prototype.hasOwnProperty.call(arguments[n],a)&&c[a]===void 0&&(c[a]=arguments[n][a]);return c},W.prepareContent=function(n,a,c,d,k){return s.Promise.resolve(a).then(function(v){return M.blob&&(v instanceof Blob||["[object File]","[object Blob]"].indexOf(Object.prototype.toString.call(v))!==-1)&&typeof FileReader<"u"?new s.Promise(function(p,u){var m=new FileReader;m.onload=function(A){p(A.target.result)},m.onerror=function(A){u(A.target.error)},m.readAsArrayBuffer(v)}):v}).then(function(v){var p=W.getTypeOf(v);return p?(p==="arraybuffer"?v=W.transformTo("uint8array",v):p==="string"&&(k?v=$.decode(v):c&&d!==!0&&(v=function(u){return o(u,M.uint8array?new Uint8Array(u.length):new Array(u.length))}(v))),v):s.Promise.reject(new Error("Can't read the data of '"+n+"'. Is it in a supported JavaScript type (String, Blob, ArrayBuffer, etc) ?"))})}},{"./base64":1,"./external":6,"./nodejsUtils":14,"./support":30,setimmediate:54}],33:[function(f,x,W){var M=f("./reader/readerFor"),$=f("./utils"),y=f("./signature"),s=f("./zipEntry"),h=f("./support");function o(r){this.files=[],this.loadOptions=r}o.prototype={checkSignature:function(r){if(!this.reader.readAndCheckSignature(r)){this.reader.index-=4;var i=this.reader.readString(4);throw new Error("Corrupted zip or bug: unexpected signature ("+$.pretty(i)+", expected "+$.pretty(r)+")")}},isSignature:function(r,i){var t=this.reader.index;this.reader.setIndex(r);var e=this.reader.readString(4)===i;return this.reader.setIndex(t),e},readBlockEndOfCentral:function(){this.diskNumber=this.reader.readInt(2),this.diskWithCentralDirStart=this.reader.readInt(2),this.centralDirRecordsOnThisDisk=this.reader.readInt(2),this.centralDirRecords=this.reader.readInt(2),this.centralDirSize=this.reader.readInt(4),this.centralDirOffset=this.reader.readInt(4),this.zipCommentLength=this.reader.readInt(2);var r=this.reader.readData(this.zipCommentLength),i=h.uint8array?"uint8array":"array",t=$.transformTo(i,r);this.zipComment=this.loadOptions.decodeFileName(t)},readBlockZip64EndOfCentral:function(){this.zip64EndOfCentralSize=this.reader.readInt(8),this.reader.skip(4),this.diskNumber=this.reader.readInt(4),this.diskWithCentralDirStart=this.reader.readInt(4),this.centralDirRecordsOnThisDisk=this.reader.readInt(8),this.centralDirRecords=this.reader.readInt(8),this.centralDirSize=this.reader.readInt(8),this.centralDirOffset=this.reader.readInt(8),this.zip64ExtensibleData={};for(var r,i,t,e=this.zip64EndOfCentralSize-44;0<e;)r=this.reader.readInt(2),i=this.reader.readInt(4),t=this.reader.readData(i),this.zip64ExtensibleData[r]={id:r,length:i,value:t}},readBlockZip64EndOfCentralLocator:function(){if(this.diskWithZip64CentralDirStart=this.reader.readInt(4),this.relativeOffsetEndOfZip64CentralDir=this.reader.readInt(8),this.disksCount=this.reader.readInt(4),1<this.disksCount)throw new Error("Multi-volumes zip are not supported")},readLocalFiles:function(){var r,i;for(r=0;r<this.files.length;r++)i=this.files[r],this.reader.setIndex(i.localHeaderOffset),this.checkSignature(y.LOCAL_FILE_HEADER),i.readLocalPart(this.reader),i.handleUTF8(),i.processAttributes()},readCentralDir:function(){var r;for(this.reader.setIndex(this.centralDirOffset);this.reader.readAndCheckSignature(y.CENTRAL_FILE_HEADER);)(r=new s({zip64:this.zip64},this.loadOptions)).readCentralPart(this.reader),this.files.push(r);if(this.centralDirRecords!==this.files.length&&this.centralDirRecords!==0&&this.files.length===0)throw new Error("Corrupted zip or bug: expected "+this.centralDirRecords+" records in central dir, got "+this.files.length)},readEndOfCentral:function(){var r=this.reader.lastIndexOfSignature(y.CENTRAL_DIRECTORY_END);if(r<0)throw this.isSignature(0,y.LOCAL_FILE_HEADER)?new Error("Corrupted zip: can't find end of central directory"):new Error("Can't find end of central directory : is this a zip file ? If it is, see https://stuk.github.io/jszip/documentation/howto/read_zip.html");this.reader.setIndex(r);var i=r;if(this.checkSignature(y.CENTRAL_DIRECTORY_END),this.readBlockEndOfCentral(),this.diskNumber===$.MAX_VALUE_16BITS||this.diskWithCentralDirStart===$.MAX_VALUE_16BITS||this.centralDirRecordsOnThisDisk===$.MAX_VALUE_16BITS||this.centralDirRecords===$.MAX_VALUE_16BITS||this.centralDirSize===$.MAX_VALUE_32BITS||this.centralDirOffset===$.MAX_VALUE_32BITS){if(this.zip64=!0,(r=this.reader.lastIndexOfSignature(y.ZIP64_CENTRAL_DIRECTORY_LOCATOR))<0)throw new Error("Corrupted zip: can't find the ZIP64 end of central directory locator");if(this.reader.setIndex(r),this.checkSignature(y.ZIP64_CENTRAL_DIRECTORY_LOCATOR),this.readBlockZip64EndOfCentralLocator(),!this.isSignature(this.relativeOffsetEndOfZip64CentralDir,y.ZIP64_CENTRAL_DIRECTORY_END)&&(this.relativeOffsetEndOfZip64CentralDir=this.reader.lastIndexOfSignature(y.ZIP64_CENTRAL_DIRECTORY_END),this.relativeOffsetEndOfZip64CentralDir<0))throw new Error("Corrupted zip: can't find the ZIP64 end of central directory");this.reader.setIndex(this.relativeOffsetEndOfZip64CentralDir),this.checkSignature(y.ZIP64_CENTRAL_DIRECTORY_END),this.readBlockZip64EndOfCentral()}var t=this.centralDirOffset+this.centralDirSize;this.zip64&&(t+=20,t+=12+this.zip64EndOfCentralSize);var e=i-t;if(0<e)this.isSignature(i,y.CENTRAL_FILE_HEADER)||(this.reader.zero=e);else if(e<0)throw new Error("Corrupted zip: missing "+Math.abs(e)+" bytes.")},prepareReader:function(r){this.reader=M(r)},load:function(r){this.prepareReader(r),this.readEndOfCentral(),this.readCentralDir(),this.readLocalFiles()}},x.exports=o},{"./reader/readerFor":22,"./signature":23,"./support":30,"./utils":32,"./zipEntry":34}],34:[function(f,x,W){var M=f("./reader/readerFor"),$=f("./utils"),y=f("./compressedObject"),s=f("./crc32"),h=f("./utf8"),o=f("./compressions"),r=f("./support");function i(t,e){this.options=t,this.loadOptions=e}i.prototype={isEncrypted:function(){return(1&this.bitFlag)==1},useUTF8:function(){return(2048&this.bitFlag)==2048},readLocalPart:function(t){var e,n;if(t.skip(22),this.fileNameLength=t.readInt(2),n=t.readInt(2),this.fileName=t.readData(this.fileNameLength),t.skip(n),this.compressedSize===-1||this.uncompressedSize===-1)throw new Error("Bug or corrupted zip : didn't get enough information from the central directory (compressedSize === -1 || uncompressedSize === -1)");if((e=function(a){for(var c in o)if(Object.prototype.hasOwnProperty.call(o,c)&&o[c].magic===a)return o[c];return null}(this.compressionMethod))===null)throw new Error("Corrupted zip : compression "+$.pretty(this.compressionMethod)+" unknown (inner file : "+$.transformTo("string",this.fileName)+")");this.decompressed=new y(this.compressedSize,this.uncompressedSize,this.crc32,e,t.readData(this.compressedSize))},readCentralPart:function(t){this.versionMadeBy=t.readInt(2),t.skip(2),this.bitFlag=t.readInt(2),this.compressionMethod=t.readString(2),this.date=t.readDate(),this.crc32=t.readInt(4),this.compressedSize=t.readInt(4),this.uncompressedSize=t.readInt(4);var e=t.readInt(2);if(this.extraFieldsLength=t.readInt(2),this.fileCommentLength=t.readInt(2),this.diskNumberStart=t.readInt(2),this.internalFileAttributes=t.readInt(2),this.externalFileAttributes=t.readInt(4),this.localHeaderOffset=t.readInt(4),this.isEncrypted())throw new Error("Encrypted zip are not supported");t.skip(e),this.readExtraFields(t),this.parseZIP64ExtraField(t),this.fileComment=t.readData(this.fileCommentLength)},processAttributes:function(){this.unixPermissions=null,this.dosPermissions=null;var t=this.versionMadeBy>>8;this.dir=!!(16&this.externalFileAttributes),t==0&&(this.dosPermissions=63&this.externalFileAttributes),t==3&&(this.unixPermissions=this.externalFileAttributes>>16&65535),this.dir||this.fileNameStr.slice(-1)!=="/"||(this.dir=!0)},parseZIP64ExtraField:function(){if(this.extraFields[1]){var t=M(this.extraFields[1].value);this.uncompressedSize===$.MAX_VALUE_32BITS&&(this.uncompressedSize=t.readInt(8)),this.compressedSize===$.MAX_VALUE_32BITS&&(this.compressedSize=t.readInt(8)),this.localHeaderOffset===$.MAX_VALUE_32BITS&&(this.localHeaderOffset=t.readInt(8)),this.diskNumberStart===$.MAX_VALUE_32BITS&&(this.diskNumberStart=t.readInt(4))}},readExtraFields:function(t){var e,n,a,c=t.index+this.extraFieldsLength;for(this.extraFields||(this.extraFields={});t.index+4<c;)e=t.readInt(2),n=t.readInt(2),a=t.readData(n),this.extraFields[e]={id:e,length:n,value:a};t.setIndex(c)},handleUTF8:function(){var t=r.uint8array?"uint8array":"array";if(this.useUTF8())this.fileNameStr=h.utf8decode(this.fileName),this.fileCommentStr=h.utf8decode(this.fileComment);else{var e=this.findExtraFieldUnicodePath();if(e!==null)this.fileNameStr=e;else{var n=$.transformTo(t,this.fileName);this.fileNameStr=this.loadOptions.decodeFileName(n)}var a=this.findExtraFieldUnicodeComment();if(a!==null)this.fileCommentStr=a;else{var c=$.transformTo(t,this.fileComment);this.fileCommentStr=this.loadOptions.decodeFileName(c)}}},findExtraFieldUnicodePath:function(){var t=this.extraFields[28789];if(t){var e=M(t.value);return e.readInt(1)!==1||s(this.fileName)!==e.readInt(4)?null:h.utf8decode(e.readData(t.length-5))}return null},findExtraFieldUnicodeComment:function(){var t=this.extraFields[25461];if(t){var e=M(t.value);return e.readInt(1)!==1||s(this.fileComment)!==e.readInt(4)?null:h.utf8decode(e.readData(t.length-5))}return null}},x.exports=i},{"./compressedObject":2,"./compressions":3,"./crc32":4,"./reader/readerFor":22,"./support":30,"./utf8":31,"./utils":32}],35:[function(f,x,W){function M(e,n,a){this.name=e,this.dir=a.dir,this.date=a.date,this.comment=a.comment,this.unixPermissions=a.unixPermissions,this.dosPermissions=a.dosPermissions,this._data=n,this._dataBinary=a.binary,this.options={compression:a.compression,compressionOptions:a.compressionOptions}}var $=f("./stream/StreamHelper"),y=f("./stream/DataWorker"),s=f("./utf8"),h=f("./compressedObject"),o=f("./stream/GenericWorker");M.prototype={internalStream:function(e){var n=null,a="string";try{if(!e)throw new Error("No output type specified.");var c=(a=e.toLowerCase())==="string"||a==="text";a!=="binarystring"&&a!=="text"||(a="string"),n=this._decompressWorker();var d=!this._dataBinary;d&&!c&&(n=n.pipe(new s.Utf8EncodeWorker)),!d&&c&&(n=n.pipe(new s.Utf8DecodeWorker))}catch(k){(n=new o("error")).error(k)}return new $(n,a,"")},async:function(e,n){return this.internalStream(e).accumulate(n)},nodeStream:function(e,n){return this.internalStream(e||"nodebuffer").toNodejsStream(n)},_compressWorker:function(e,n){if(this._data instanceof h&&this._data.compression.magic===e.magic)return this._data.getCompressedWorker();var a=this._decompressWorker();return this._dataBinary||(a=a.pipe(new s.Utf8EncodeWorker)),h.createWorkerFrom(a,e,n)},_decompressWorker:function(){return this._data instanceof h?this._data.getContentWorker():this._data instanceof o?this._data:new y(this._data)}};for(var r=["asText","asBinary","asNodeBuffer","asUint8Array","asArrayBuffer"],i=function(){throw new Error("This method has been removed in JSZip 3.0, please check the upgrade guide.")},t=0;t<r.length;t++)M.prototype[r[t]]=i;x.exports=M},{"./compressedObject":2,"./stream/DataWorker":27,"./stream/GenericWorker":28,"./stream/StreamHelper":29,"./utf8":31}],36:[function(f,x,W){(function(M){var $,y,s=M.MutationObserver||M.WebKitMutationObserver;if(s){var h=0,o=new s(e),r=M.document.createTextNode("");o.observe(r,{characterData:!0}),$=function(){r.data=h=++h%2}}else if(M.setImmediate||M.MessageChannel===void 0)$="document"in M&&"onreadystatechange"in M.document.createElement("script")?function(){var n=M.document.createElement("script");n.onreadystatechange=function(){e(),n.onreadystatechange=null,n.parentNode.removeChild(n),n=null},M.document.documentElement.appendChild(n)}:function(){setTimeout(e,0)};else{var i=new M.MessageChannel;i.port1.onmessage=e,$=function(){i.port2.postMessage(0)}}var t=[];function e(){var n,a;y=!0;for(var c=t.length;c;){for(a=t,t=[],n=-1;++n<c;)a[n]();c=t.length}y=!1}x.exports=function(n){t.push(n)!==1||y||$()}}).call(this,typeof Hr<"u"?Hr:typeof self<"u"?self:typeof window<"u"?window:{})},{}],37:[function(f,x,W){var M=f("immediate");function $(){}var y={},s=["REJECTED"],h=["FULFILLED"],o=["PENDING"];function r(c){if(typeof c!="function")throw new TypeError("resolver must be a function");this.state=o,this.queue=[],this.outcome=void 0,c!==$&&n(this,c)}function i(c,d,k){this.promise=c,typeof d=="function"&&(this.onFulfilled=d,this.callFulfilled=this.otherCallFulfilled),typeof k=="function"&&(this.onRejected=k,this.callRejected=this.otherCallRejected)}function t(c,d,k){M(function(){var v;try{v=d(k)}catch(p){return y.reject(c,p)}v===c?y.reject(c,new TypeError("Cannot resolve promise with itself")):y.resolve(c,v)})}function e(c){var d=c&&c.then;if(c&&(typeof c=="object"||typeof c=="function")&&typeof d=="function")return function(){d.apply(c,arguments)}}function n(c,d){var k=!1;function v(m){k||(k=!0,y.reject(c,m))}function p(m){k||(k=!0,y.resolve(c,m))}var u=a(function(){d(p,v)});u.status==="error"&&v(u.value)}function a(c,d){var k={};try{k.value=c(d),k.status="success"}catch(v){k.status="error",k.value=v}return k}(x.exports=r).prototype.finally=function(c){if(typeof c!="function")return this;var d=this.constructor;return this.then(function(k){return d.resolve(c()).then(function(){return k})},function(k){return d.resolve(c()).then(function(){throw k})})},r.prototype.catch=function(c){return this.then(null,c)},r.prototype.then=function(c,d){if(typeof c!="function"&&this.state===h||typeof d!="function"&&this.state===s)return this;var k=new this.constructor($);return this.state!==o?t(k,this.state===h?c:d,this.outcome):this.queue.push(new i(k,c,d)),k},i.prototype.callFulfilled=function(c){y.resolve(this.promise,c)},i.prototype.otherCallFulfilled=function(c){t(this.promise,this.onFulfilled,c)},i.prototype.callRejected=function(c){y.reject(this.promise,c)},i.prototype.otherCallRejected=function(c){t(this.promise,this.onRejected,c)},y.resolve=function(c,d){var k=a(e,d);if(k.status==="error")return y.reject(c,k.value);var v=k.value;if(v)n(c,v);else{c.state=h,c.outcome=d;for(var p=-1,u=c.queue.length;++p<u;)c.queue[p].callFulfilled(d)}return c},y.reject=function(c,d){c.state=s,c.outcome=d;for(var k=-1,v=c.queue.length;++k<v;)c.queue[k].callRejected(d);return c},r.resolve=function(c){return c instanceof this?c:y.resolve(new this($),c)},r.reject=function(c){var d=new this($);return y.reject(d,c)},r.all=function(c){var d=this;if(Object.prototype.toString.call(c)!=="[object Array]")return this.reject(new TypeError("must be an array"));var k=c.length,v=!1;if(!k)return this.resolve([]);for(var p=new Array(k),u=0,m=-1,A=new this($);++m<k;)S(c[m],m);return A;function S(C,R){d.resolve(C).then(function(g){p[R]=g,++u!==k||v||(v=!0,y.resolve(A,p))},function(g){v||(v=!0,y.reject(A,g))})}},r.race=function(c){var d=this;if(Object.prototype.toString.call(c)!=="[object Array]")return this.reject(new TypeError("must be an array"));var k=c.length,v=!1;if(!k)return this.resolve([]);for(var p=-1,u=new this($);++p<k;)m=c[p],d.resolve(m).then(function(A){v||(v=!0,y.resolve(u,A))},function(A){v||(v=!0,y.reject(u,A))});var m;return u}},{immediate:36}],38:[function(f,x,W){var M={};(0,f("./lib/utils/common").assign)(M,f("./lib/deflate"),f("./lib/inflate"),f("./lib/zlib/constants")),x.exports=M},{"./lib/deflate":39,"./lib/inflate":40,"./lib/utils/common":41,"./lib/zlib/constants":44}],39:[function(f,x,W){var M=f("./zlib/deflate"),$=f("./utils/common"),y=f("./utils/strings"),s=f("./zlib/messages"),h=f("./zlib/zstream"),o=Object.prototype.toString,r=0,i=-1,t=0,e=8;function n(c){if(!(this instanceof n))return new n(c);this.options=$.assign({level:i,method:e,chunkSize:16384,windowBits:15,memLevel:8,strategy:t,to:""},c||{});var d=this.options;d.raw&&0<d.windowBits?d.windowBits=-d.windowBits:d.gzip&&0<d.windowBits&&d.windowBits<16&&(d.windowBits+=16),this.err=0,this.msg="",this.ended=!1,this.chunks=[],this.strm=new h,this.strm.avail_out=0;var k=M.deflateInit2(this.strm,d.level,d.method,d.windowBits,d.memLevel,d.strategy);if(k!==r)throw new Error(s[k]);if(d.header&&M.deflateSetHeader(this.strm,d.header),d.dictionary){var v;if(v=typeof d.dictionary=="string"?y.string2buf(d.dictionary):o.call(d.dictionary)==="[object ArrayBuffer]"?new Uint8Array(d.dictionary):d.dictionary,(k=M.deflateSetDictionary(this.strm,v))!==r)throw new Error(s[k]);this._dict_set=!0}}function a(c,d){var k=new n(d);if(k.push(c,!0),k.err)throw k.msg||s[k.err];return k.result}n.prototype.push=function(c,d){var k,v,p=this.strm,u=this.options.chunkSize;if(this.ended)return!1;v=d===~~d?d:d===!0?4:0,typeof c=="string"?p.input=y.string2buf(c):o.call(c)==="[object ArrayBuffer]"?p.input=new Uint8Array(c):p.input=c,p.next_in=0,p.avail_in=p.input.length;do{if(p.avail_out===0&&(p.output=new $.Buf8(u),p.next_out=0,p.avail_out=u),(k=M.deflate(p,v))!==1&&k!==r)return this.onEnd(k),!(this.ended=!0);p.avail_out!==0&&(p.avail_in!==0||v!==4&&v!==2)||(this.options.to==="string"?this.onData(y.buf2binstring($.shrinkBuf(p.output,p.next_out))):this.onData($.shrinkBuf(p.output,p.next_out)))}while((0<p.avail_in||p.avail_out===0)&&k!==1);return v===4?(k=M.deflateEnd(this.strm),this.onEnd(k),this.ended=!0,k===r):v!==2||(this.onEnd(r),!(p.avail_out=0))},n.prototype.onData=function(c){this.chunks.push(c)},n.prototype.onEnd=function(c){c===r&&(this.options.to==="string"?this.result=this.chunks.join(""):this.result=$.flattenChunks(this.chunks)),this.chunks=[],this.err=c,this.msg=this.strm.msg},W.Deflate=n,W.deflate=a,W.deflateRaw=function(c,d){return(d=d||{}).raw=!0,a(c,d)},W.gzip=function(c,d){return(d=d||{}).gzip=!0,a(c,d)}},{"./utils/common":41,"./utils/strings":42,"./zlib/deflate":46,"./zlib/messages":51,"./zlib/zstream":53}],40:[function(f,x,W){var M=f("./zlib/inflate"),$=f("./utils/common"),y=f("./utils/strings"),s=f("./zlib/constants"),h=f("./zlib/messages"),o=f("./zlib/zstream"),r=f("./zlib/gzheader"),i=Object.prototype.toString;function t(n){if(!(this instanceof t))return new t(n);this.options=$.assign({chunkSize:16384,windowBits:0,to:""},n||{});var a=this.options;a.raw&&0<=a.windowBits&&a.windowBits<16&&(a.windowBits=-a.windowBits,a.windowBits===0&&(a.windowBits=-15)),!(0<=a.windowBits&&a.windowBits<16)||n&&n.windowBits||(a.windowBits+=32),15<a.windowBits&&a.windowBits<48&&(15&a.windowBits)==0&&(a.windowBits|=15),this.err=0,this.msg="",this.ended=!1,this.chunks=[],this.strm=new o,this.strm.avail_out=0;var c=M.inflateInit2(this.strm,a.windowBits);if(c!==s.Z_OK)throw new Error(h[c]);this.header=new r,M.inflateGetHeader(this.strm,this.header)}function e(n,a){var c=new t(a);if(c.push(n,!0),c.err)throw c.msg||h[c.err];return c.result}t.prototype.push=function(n,a){var c,d,k,v,p,u,m=this.strm,A=this.options.chunkSize,S=this.options.dictionary,C=!1;if(this.ended)return!1;d=a===~~a?a:a===!0?s.Z_FINISH:s.Z_NO_FLUSH,typeof n=="string"?m.input=y.binstring2buf(n):i.call(n)==="[object ArrayBuffer]"?m.input=new Uint8Array(n):m.input=n,m.next_in=0,m.avail_in=m.input.length;do{if(m.avail_out===0&&(m.output=new $.Buf8(A),m.next_out=0,m.avail_out=A),(c=M.inflate(m,s.Z_NO_FLUSH))===s.Z_NEED_DICT&&S&&(u=typeof S=="string"?y.string2buf(S):i.call(S)==="[object ArrayBuffer]"?new Uint8Array(S):S,c=M.inflateSetDictionary(this.strm,u)),c===s.Z_BUF_ERROR&&C===!0&&(c=s.Z_OK,C=!1),c!==s.Z_STREAM_END&&c!==s.Z_OK)return this.onEnd(c),!(this.ended=!0);m.next_out&&(m.avail_out!==0&&c!==s.Z_STREAM_END&&(m.avail_in!==0||d!==s.Z_FINISH&&d!==s.Z_SYNC_FLUSH)||(this.options.to==="string"?(k=y.utf8border(m.output,m.next_out),v=m.next_out-k,p=y.buf2string(m.output,k),m.next_out=v,m.avail_out=A-v,v&&$.arraySet(m.output,m.output,k,v,0),this.onData(p)):this.onData($.shrinkBuf(m.output,m.next_out)))),m.avail_in===0&&m.avail_out===0&&(C=!0)}while((0<m.avail_in||m.avail_out===0)&&c!==s.Z_STREAM_END);return c===s.Z_STREAM_END&&(d=s.Z_FINISH),d===s.Z_FINISH?(c=M.inflateEnd(this.strm),this.onEnd(c),this.ended=!0,c===s.Z_OK):d!==s.Z_SYNC_FLUSH||(this.onEnd(s.Z_OK),!(m.avail_out=0))},t.prototype.onData=function(n){this.chunks.push(n)},t.prototype.onEnd=function(n){n===s.Z_OK&&(this.options.to==="string"?this.result=this.chunks.join(""):this.result=$.flattenChunks(this.chunks)),this.chunks=[],this.err=n,this.msg=this.strm.msg},W.Inflate=t,W.inflate=e,W.inflateRaw=function(n,a){return(a=a||{}).raw=!0,e(n,a)},W.ungzip=e},{"./utils/common":41,"./utils/strings":42,"./zlib/constants":44,"./zlib/gzheader":47,"./zlib/inflate":49,"./zlib/messages":51,"./zlib/zstream":53}],41:[function(f,x,W){var M=typeof Uint8Array<"u"&&typeof Uint16Array<"u"&&typeof Int32Array<"u";W.assign=function(s){for(var h=Array.prototype.slice.call(arguments,1);h.length;){var o=h.shift();if(o){if(typeof o!="object")throw new TypeError(o+"must be non-object");for(var r in o)o.hasOwnProperty(r)&&(s[r]=o[r])}}return s},W.shrinkBuf=function(s,h){return s.length===h?s:s.subarray?s.subarray(0,h):(s.length=h,s)};var $={arraySet:function(s,h,o,r,i){if(h.subarray&&s.subarray)s.set(h.subarray(o,o+r),i);else for(var t=0;t<r;t++)s[i+t]=h[o+t]},flattenChunks:function(s){var h,o,r,i,t,e;for(h=r=0,o=s.length;h<o;h++)r+=s[h].length;for(e=new Uint8Array(r),h=i=0,o=s.length;h<o;h++)t=s[h],e.set(t,i),i+=t.length;return e}},y={arraySet:function(s,h,o,r,i){for(var t=0;t<r;t++)s[i+t]=h[o+t]},flattenChunks:function(s){return[].concat.apply([],s)}};W.setTyped=function(s){s?(W.Buf8=Uint8Array,W.Buf16=Uint16Array,W.Buf32=Int32Array,W.assign(W,$)):(W.Buf8=Array,W.Buf16=Array,W.Buf32=Array,W.assign(W,y))},W.setTyped(M)},{}],42:[function(f,x,W){var M=f("./common"),$=!0,y=!0;try{String.fromCharCode.apply(null,[0])}catch{$=!1}try{String.fromCharCode.apply(null,new Uint8Array(1))}catch{y=!1}for(var s=new M.Buf8(256),h=0;h<256;h++)s[h]=252<=h?6:248<=h?5:240<=h?4:224<=h?3:192<=h?2:1;function o(r,i){if(i<65537&&(r.subarray&&y||!r.subarray&&$))return String.fromCharCode.apply(null,M.shrinkBuf(r,i));for(var t="",e=0;e<i;e++)t+=String.fromCharCode(r[e]);return t}s[254]=s[254]=1,W.string2buf=function(r){var i,t,e,n,a,c=r.length,d=0;for(n=0;n<c;n++)(64512&(t=r.charCodeAt(n)))==55296&&n+1<c&&(64512&(e=r.charCodeAt(n+1)))==56320&&(t=65536+(t-55296<<10)+(e-56320),n++),d+=t<128?1:t<2048?2:t<65536?3:4;for(i=new M.Buf8(d),n=a=0;a<d;n++)(64512&(t=r.charCodeAt(n)))==55296&&n+1<c&&(64512&(e=r.charCodeAt(n+1)))==56320&&(t=65536+(t-55296<<10)+(e-56320),n++),t<128?i[a++]=t:(t<2048?i[a++]=192|t>>>6:(t<65536?i[a++]=224|t>>>12:(i[a++]=240|t>>>18,i[a++]=128|t>>>12&63),i[a++]=128|t>>>6&63),i[a++]=128|63&t);return i},W.buf2binstring=function(r){return o(r,r.length)},W.binstring2buf=function(r){for(var i=new M.Buf8(r.length),t=0,e=i.length;t<e;t++)i[t]=r.charCodeAt(t);return i},W.buf2string=function(r,i){var t,e,n,a,c=i||r.length,d=new Array(2*c);for(t=e=0;t<c;)if((n=r[t++])<128)d[e++]=n;else if(4<(a=s[n]))d[e++]=65533,t+=a-1;else{for(n&=a===2?31:a===3?15:7;1<a&&t<c;)n=n<<6|63&r[t++],a--;1<a?d[e++]=65533:n<65536?d[e++]=n:(n-=65536,d[e++]=55296|n>>10&1023,d[e++]=56320|1023&n)}return o(d,e)},W.utf8border=function(r,i){var t;for((i=i||r.length)>r.length&&(i=r.length),t=i-1;0<=t&&(192&r[t])==128;)t--;return t<0||t===0?i:t+s[r[t]]>i?t:i}},{"./common":41}],43:[function(f,x,W){x.exports=function(M,$,y,s){for(var h=65535&M|0,o=M>>>16&65535|0,r=0;y!==0;){for(y-=r=2e3<y?2e3:y;o=o+(h=h+$[s++]|0)|0,--r;);h%=65521,o%=65521}return h|o<<16|0}},{}],44:[function(f,x,W){x.exports={Z_NO_FLUSH:0,Z_PARTIAL_FLUSH:1,Z_SYNC_FLUSH:2,Z_FULL_FLUSH:3,Z_FINISH:4,Z_BLOCK:5,Z_TREES:6,Z_OK:0,Z_STREAM_END:1,Z_NEED_DICT:2,Z_ERRNO:-1,Z_STREAM_ERROR:-2,Z_DATA_ERROR:-3,Z_BUF_ERROR:-5,Z_NO_COMPRESSION:0,Z_BEST_SPEED:1,Z_BEST_COMPRESSION:9,Z_DEFAULT_COMPRESSION:-1,Z_FILTERED:1,Z_HUFFMAN_ONLY:2,Z_RLE:3,Z_FIXED:4,Z_DEFAULT_STRATEGY:0,Z_BINARY:0,Z_TEXT:1,Z_UNKNOWN:2,Z_DEFLATED:8}},{}],45:[function(f,x,W){var M=function(){for(var $,y=[],s=0;s<256;s++){$=s;for(var h=0;h<8;h++)$=1&$?3988292384^$>>>1:$>>>1;y[s]=$}return y}();x.exports=function($,y,s,h){var o=M,r=h+s;$^=-1;for(var i=h;i<r;i++)$=$>>>8^o[255&($^y[i])];return-1^$}},{}],46:[function(f,x,W){var M,$=f("../utils/common"),y=f("./trees"),s=f("./adler32"),h=f("./crc32"),o=f("./messages"),r=0,i=4,t=0,e=-2,n=-1,a=4,c=2,d=8,k=9,v=286,p=30,u=19,m=2*v+1,A=15,S=3,C=258,R=C+S+1,g=42,w=113,l=1,_=2,L=3,F=4;function U(O,be){return O.msg=o[be],be}function H(O){return(O<<1)-(4<O?9:0)}function X(O){for(var be=O.length;0<=--be;)O[be]=0}function q(O){var be=O.state,he=be.pending;he>O.avail_out&&(he=O.avail_out),he!==0&&($.arraySet(O.output,be.pending_buf,be.pending_out,he,O.next_out),O.next_out+=he,be.pending_out+=he,O.total_out+=he,O.avail_out-=he,be.pending-=he,be.pending===0&&(be.pending_out=0))}function Z(O,be){y._tr_flush_block(O,0<=O.block_start?O.block_start:-1,O.strstart-O.block_start,be),O.block_start=O.strstart,q(O.strm)}function oe(O,be){O.pending_buf[O.pending++]=be}function ee(O,be){O.pending_buf[O.pending++]=be>>>8&255,O.pending_buf[O.pending++]=255&be}function se(O,be){var he,ae,ne=O.max_chain_length,de=O.strstart,Me=O.prev_length,ke=O.nice_match,we=O.strstart>O.w_size-R?O.strstart-(O.w_size-R):0,xe=O.window,Ne=O.w_mask,Ie=O.prev,ye=O.strstart+C,Ae=xe[de+Me-1],Fe=xe[de+Me];O.prev_length>=O.good_match&&(ne>>=2),ke>O.lookahead&&(ke=O.lookahead);do if(xe[(he=be)+Me]===Fe&&xe[he+Me-1]===Ae&&xe[he]===xe[de]&&xe[++he]===xe[de+1]){de+=2,he++;do;while(xe[++de]===xe[++he]&&xe[++de]===xe[++he]&&xe[++de]===xe[++he]&&xe[++de]===xe[++he]&&xe[++de]===xe[++he]&&xe[++de]===xe[++he]&&xe[++de]===xe[++he]&&xe[++de]===xe[++he]&&de<ye);if(ae=C-(ye-de),de=ye-C,Me<ae){if(O.match_start=be,ke<=(Me=ae))break;Ae=xe[de+Me-1],Fe=xe[de+Me]}}while((be=Ie[be&Ne])>we&&--ne!=0);return Me<=O.lookahead?Me:O.lookahead}function fe(O){var be,he,ae,ne,de,Me,ke,we,xe,Ne,Ie=O.w_size;do{if(ne=O.window_size-O.lookahead-O.strstart,O.strstart>=Ie+(Ie-R)){for($.arraySet(O.window,O.window,Ie,Ie,0),O.match_start-=Ie,O.strstart-=Ie,O.block_start-=Ie,be=he=O.hash_size;ae=O.head[--be],O.head[be]=Ie<=ae?ae-Ie:0,--he;);for(be=he=Ie;ae=O.prev[--be],O.prev[be]=Ie<=ae?ae-Ie:0,--he;);ne+=Ie}if(O.strm.avail_in===0)break;if(Me=O.strm,ke=O.window,we=O.strstart+O.lookahead,xe=ne,Ne=void 0,Ne=Me.avail_in,xe<Ne&&(Ne=xe),he=Ne===0?0:(Me.avail_in-=Ne,$.arraySet(ke,Me.input,Me.next_in,Ne,we),Me.state.wrap===1?Me.adler=s(Me.adler,ke,Ne,we):Me.state.wrap===2&&(Me.adler=h(Me.adler,ke,Ne,we)),Me.next_in+=Ne,Me.total_in+=Ne,Ne),O.lookahead+=he,O.lookahead+O.insert>=S)for(de=O.strstart-O.insert,O.ins_h=O.window[de],O.ins_h=(O.ins_h<<O.hash_shift^O.window[de+1])&O.hash_mask;O.insert&&(O.ins_h=(O.ins_h<<O.hash_shift^O.window[de+S-1])&O.hash_mask,O.prev[de&O.w_mask]=O.head[O.ins_h],O.head[O.ins_h]=de,de++,O.insert--,!(O.lookahead+O.insert<S)););}while(O.lookahead<R&&O.strm.avail_in!==0)}function Ee(O,be){for(var he,ae;;){if(O.lookahead<R){if(fe(O),O.lookahead<R&&be===r)return l;if(O.lookahead===0)break}if(he=0,O.lookahead>=S&&(O.ins_h=(O.ins_h<<O.hash_shift^O.window[O.strstart+S-1])&O.hash_mask,he=O.prev[O.strstart&O.w_mask]=O.head[O.ins_h],O.head[O.ins_h]=O.strstart),he!==0&&O.strstart-he<=O.w_size-R&&(O.match_length=se(O,he)),O.match_length>=S)if(ae=y._tr_tally(O,O.strstart-O.match_start,O.match_length-S),O.lookahead-=O.match_length,O.match_length<=O.max_lazy_match&&O.lookahead>=S){for(O.match_length--;O.strstart++,O.ins_h=(O.ins_h<<O.hash_shift^O.window[O.strstart+S-1])&O.hash_mask,he=O.prev[O.strstart&O.w_mask]=O.head[O.ins_h],O.head[O.ins_h]=O.strstart,--O.match_length!=0;);O.strstart++}else O.strstart+=O.match_length,O.match_length=0,O.ins_h=O.window[O.strstart],O.ins_h=(O.ins_h<<O.hash_shift^O.window[O.strstart+1])&O.hash_mask;else ae=y._tr_tally(O,0,O.window[O.strstart]),O.lookahead--,O.strstart++;if(ae&&(Z(O,!1),O.strm.avail_out===0))return l}return O.insert=O.strstart<S-1?O.strstart:S-1,be===i?(Z(O,!0),O.strm.avail_out===0?L:F):O.last_lit&&(Z(O,!1),O.strm.avail_out===0)?l:_}function Se(O,be){for(var he,ae,ne;;){if(O.lookahead<R){if(fe(O),O.lookahead<R&&be===r)return l;if(O.lookahead===0)break}if(he=0,O.lookahead>=S&&(O.ins_h=(O.ins_h<<O.hash_shift^O.window[O.strstart+S-1])&O.hash_mask,he=O.prev[O.strstart&O.w_mask]=O.head[O.ins_h],O.head[O.ins_h]=O.strstart),O.prev_length=O.match_length,O.prev_match=O.match_start,O.match_length=S-1,he!==0&&O.prev_length<O.max_lazy_match&&O.strstart-he<=O.w_size-R&&(O.match_length=se(O,he),O.match_length<=5&&(O.strategy===1||O.match_length===S&&4096<O.strstart-O.match_start)&&(O.match_length=S-1)),O.prev_length>=S&&O.match_length<=O.prev_length){for(ne=O.strstart+O.lookahead-S,ae=y._tr_tally(O,O.strstart-1-O.prev_match,O.prev_length-S),O.lookahead-=O.prev_length-1,O.prev_length-=2;++O.strstart<=ne&&(O.ins_h=(O.ins_h<<O.hash_shift^O.window[O.strstart+S-1])&O.hash_mask,he=O.prev[O.strstart&O.w_mask]=O.head[O.ins_h],O.head[O.ins_h]=O.strstart),--O.prev_length!=0;);if(O.match_available=0,O.match_length=S-1,O.strstart++,ae&&(Z(O,!1),O.strm.avail_out===0))return l}else if(O.match_available){if((ae=y._tr_tally(O,0,O.window[O.strstart-1]))&&Z(O,!1),O.strstart++,O.lookahead--,O.strm.avail_out===0)return l}else O.match_available=1,O.strstart++,O.lookahead--}return O.match_available&&(ae=y._tr_tally(O,0,O.window[O.strstart-1]),O.match_available=0),O.insert=O.strstart<S-1?O.strstart:S-1,be===i?(Z(O,!0),O.strm.avail_out===0?L:F):O.last_lit&&(Z(O,!1),O.strm.avail_out===0)?l:_}function Ce(O,be,he,ae,ne){this.good_length=O,this.max_lazy=be,this.nice_length=he,this.max_chain=ae,this.func=ne}function De(){this.strm=null,this.status=0,this.pending_buf=null,this.pending_buf_size=0,this.pending_out=0,this.pending=0,this.wrap=0,this.gzhead=null,this.gzindex=0,this.method=d,this.last_flush=-1,this.w_size=0,this.w_bits=0,this.w_mask=0,this.window=null,this.window_size=0,this.prev=null,this.head=null,this.ins_h=0,this.hash_size=0,this.hash_bits=0,this.hash_mask=0,this.hash_shift=0,this.block_start=0,this.match_length=0,this.prev_match=0,this.match_available=0,this.strstart=0,this.match_start=0,this.lookahead=0,this.prev_length=0,this.max_chain_length=0,this.max_lazy_match=0,this.level=0,this.strategy=0,this.good_match=0,this.nice_match=0,this.dyn_ltree=new $.Buf16(2*m),this.dyn_dtree=new $.Buf16(2*(2*p+1)),this.bl_tree=new $.Buf16(2*(2*u+1)),X(this.dyn_ltree),X(this.dyn_dtree),X(this.bl_tree),this.l_desc=null,this.d_desc=null,this.bl_desc=null,this.bl_count=new $.Buf16(A+1),this.heap=new $.Buf16(2*v+1),X(this.heap),this.heap_len=0,this.heap_max=0,this.depth=new $.Buf16(2*v+1),X(this.depth),this.l_buf=0,this.lit_bufsize=0,this.last_lit=0,this.d_buf=0,this.opt_len=0,this.static_len=0,this.matches=0,this.insert=0,this.bi_buf=0,this.bi_valid=0}function Pe(O){var be;return O&&O.state?(O.total_in=O.total_out=0,O.data_type=c,(be=O.state).pending=0,be.pending_out=0,be.wrap<0&&(be.wrap=-be.wrap),be.status=be.wrap?g:w,O.adler=be.wrap===2?0:1,be.last_flush=r,y._tr_init(be),t):U(O,e)}function We(O){var be=Pe(O);return be===t&&function(he){he.window_size=2*he.w_size,X(he.head),he.max_lazy_match=M[he.level].max_lazy,he.good_match=M[he.level].good_length,he.nice_match=M[he.level].nice_length,he.max_chain_length=M[he.level].max_chain,he.strstart=0,he.block_start=0,he.lookahead=0,he.insert=0,he.match_length=he.prev_length=S-1,he.match_available=0,he.ins_h=0}(O.state),be}function Xe(O,be,he,ae,ne,de){if(!O)return e;var Me=1;if(be===n&&(be=6),ae<0?(Me=0,ae=-ae):15<ae&&(Me=2,ae-=16),ne<1||k<ne||he!==d||ae<8||15<ae||be<0||9<be||de<0||a<de)return U(O,e);ae===8&&(ae=9);var ke=new De;return(O.state=ke).strm=O,ke.wrap=Me,ke.gzhead=null,ke.w_bits=ae,ke.w_size=1<<ke.w_bits,ke.w_mask=ke.w_size-1,ke.hash_bits=ne+7,ke.hash_size=1<<ke.hash_bits,ke.hash_mask=ke.hash_size-1,ke.hash_shift=~~((ke.hash_bits+S-1)/S),ke.window=new $.Buf8(2*ke.w_size),ke.head=new $.Buf16(ke.hash_size),ke.prev=new $.Buf16(ke.w_size),ke.lit_bufsize=1<<ne+6,ke.pending_buf_size=4*ke.lit_bufsize,ke.pending_buf=new $.Buf8(ke.pending_buf_size),ke.d_buf=1*ke.lit_bufsize,ke.l_buf=3*ke.lit_bufsize,ke.level=be,ke.strategy=de,ke.method=he,We(O)}M=[new Ce(0,0,0,0,function(O,be){var he=65535;for(he>O.pending_buf_size-5&&(he=O.pending_buf_size-5);;){if(O.lookahead<=1){if(fe(O),O.lookahead===0&&be===r)return l;if(O.lookahead===0)break}O.strstart+=O.lookahead,O.lookahead=0;var ae=O.block_start+he;if((O.strstart===0||O.strstart>=ae)&&(O.lookahead=O.strstart-ae,O.strstart=ae,Z(O,!1),O.strm.avail_out===0)||O.strstart-O.block_start>=O.w_size-R&&(Z(O,!1),O.strm.avail_out===0))return l}return O.insert=0,be===i?(Z(O,!0),O.strm.avail_out===0?L:F):(O.strstart>O.block_start&&(Z(O,!1),O.strm.avail_out),l)}),new Ce(4,4,8,4,Ee),new Ce(4,5,16,8,Ee),new Ce(4,6,32,32,Ee),new Ce(4,4,16,16,Se),new Ce(8,16,32,32,Se),new Ce(8,16,128,128,Se),new Ce(8,32,128,256,Se),new Ce(32,128,258,1024,Se),new Ce(32,258,258,4096,Se)],W.deflateInit=function(O,be){return Xe(O,be,d,15,8,0)},W.deflateInit2=Xe,W.deflateReset=We,W.deflateResetKeep=Pe,W.deflateSetHeader=function(O,be){return O&&O.state?O.state.wrap!==2?e:(O.state.gzhead=be,t):e},W.deflate=function(O,be){var he,ae,ne,de;if(!O||!O.state||5<be||be<0)return O?U(O,e):e;if(ae=O.state,!O.output||!O.input&&O.avail_in!==0||ae.status===666&&be!==i)return U(O,O.avail_out===0?-5:e);if(ae.strm=O,he=ae.last_flush,ae.last_flush=be,ae.status===g)if(ae.wrap===2)O.adler=0,oe(ae,31),oe(ae,139),oe(ae,8),ae.gzhead?(oe(ae,(ae.gzhead.text?1:0)+(ae.gzhead.hcrc?2:0)+(ae.gzhead.extra?4:0)+(ae.gzhead.name?8:0)+(ae.gzhead.comment?16:0)),oe(ae,255&ae.gzhead.time),oe(ae,ae.gzhead.time>>8&255),oe(ae,ae.gzhead.time>>16&255),oe(ae,ae.gzhead.time>>24&255),oe(ae,ae.level===9?2:2<=ae.strategy||ae.level<2?4:0),oe(ae,255&ae.gzhead.os),ae.gzhead.extra&&ae.gzhead.extra.length&&(oe(ae,255&ae.gzhead.extra.length),oe(ae,ae.gzhead.extra.length>>8&255)),ae.gzhead.hcrc&&(O.adler=h(O.adler,ae.pending_buf,ae.pending,0)),ae.gzindex=0,ae.status=69):(oe(ae,0),oe(ae,0),oe(ae,0),oe(ae,0),oe(ae,0),oe(ae,ae.level===9?2:2<=ae.strategy||ae.level<2?4:0),oe(ae,3),ae.status=w);else{var Me=d+(ae.w_bits-8<<4)<<8;Me|=(2<=ae.strategy||ae.level<2?0:ae.level<6?1:ae.level===6?2:3)<<6,ae.strstart!==0&&(Me|=32),Me+=31-Me%31,ae.status=w,ee(ae,Me),ae.strstart!==0&&(ee(ae,O.adler>>>16),ee(ae,65535&O.adler)),O.adler=1}if(ae.status===69)if(ae.gzhead.extra){for(ne=ae.pending;ae.gzindex<(65535&ae.gzhead.extra.length)&&(ae.pending!==ae.pending_buf_size||(ae.gzhead.hcrc&&ae.pending>ne&&(O.adler=h(O.adler,ae.pending_buf,ae.pending-ne,ne)),q(O),ne=ae.pending,ae.pending!==ae.pending_buf_size));)oe(ae,255&ae.gzhead.extra[ae.gzindex]),ae.gzindex++;ae.gzhead.hcrc&&ae.pending>ne&&(O.adler=h(O.adler,ae.pending_buf,ae.pending-ne,ne)),ae.gzindex===ae.gzhead.extra.length&&(ae.gzindex=0,ae.status=73)}else ae.status=73;if(ae.status===73)if(ae.gzhead.name){ne=ae.pending;do{if(ae.pending===ae.pending_buf_size&&(ae.gzhead.hcrc&&ae.pending>ne&&(O.adler=h(O.adler,ae.pending_buf,ae.pending-ne,ne)),q(O),ne=ae.pending,ae.pending===ae.pending_buf_size)){de=1;break}de=ae.gzindex<ae.gzhead.name.length?255&ae.gzhead.name.charCodeAt(ae.gzindex++):0,oe(ae,de)}while(de!==0);ae.gzhead.hcrc&&ae.pending>ne&&(O.adler=h(O.adler,ae.pending_buf,ae.pending-ne,ne)),de===0&&(ae.gzindex=0,ae.status=91)}else ae.status=91;if(ae.status===91)if(ae.gzhead.comment){ne=ae.pending;do{if(ae.pending===ae.pending_buf_size&&(ae.gzhead.hcrc&&ae.pending>ne&&(O.adler=h(O.adler,ae.pending_buf,ae.pending-ne,ne)),q(O),ne=ae.pending,ae.pending===ae.pending_buf_size)){de=1;break}de=ae.gzindex<ae.gzhead.comment.length?255&ae.gzhead.comment.charCodeAt(ae.gzindex++):0,oe(ae,de)}while(de!==0);ae.gzhead.hcrc&&ae.pending>ne&&(O.adler=h(O.adler,ae.pending_buf,ae.pending-ne,ne)),de===0&&(ae.status=103)}else ae.status=103;if(ae.status===103&&(ae.gzhead.hcrc?(ae.pending+2>ae.pending_buf_size&&q(O),ae.pending+2<=ae.pending_buf_size&&(oe(ae,255&O.adler),oe(ae,O.adler>>8&255),O.adler=0,ae.status=w)):ae.status=w),ae.pending!==0){if(q(O),O.avail_out===0)return ae.last_flush=-1,t}else if(O.avail_in===0&&H(be)<=H(he)&&be!==i)return U(O,-5);if(ae.status===666&&O.avail_in!==0)return U(O,-5);if(O.avail_in!==0||ae.lookahead!==0||be!==r&&ae.status!==666){var ke=ae.strategy===2?function(we,xe){for(var Ne;;){if(we.lookahead===0&&(fe(we),we.lookahead===0)){if(xe===r)return l;break}if(we.match_length=0,Ne=y._tr_tally(we,0,we.window[we.strstart]),we.lookahead--,we.strstart++,Ne&&(Z(we,!1),we.strm.avail_out===0))return l}return we.insert=0,xe===i?(Z(we,!0),we.strm.avail_out===0?L:F):we.last_lit&&(Z(we,!1),we.strm.avail_out===0)?l:_}(ae,be):ae.strategy===3?function(we,xe){for(var Ne,Ie,ye,Ae,Fe=we.window;;){if(we.lookahead<=C){if(fe(we),we.lookahead<=C&&xe===r)return l;if(we.lookahead===0)break}if(we.match_length=0,we.lookahead>=S&&0<we.strstart&&(Ie=Fe[ye=we.strstart-1])===Fe[++ye]&&Ie===Fe[++ye]&&Ie===Fe[++ye]){Ae=we.strstart+C;do;while(Ie===Fe[++ye]&&Ie===Fe[++ye]&&Ie===Fe[++ye]&&Ie===Fe[++ye]&&Ie===Fe[++ye]&&Ie===Fe[++ye]&&Ie===Fe[++ye]&&Ie===Fe[++ye]&&ye<Ae);we.match_length=C-(Ae-ye),we.match_length>we.lookahead&&(we.match_length=we.lookahead)}if(we.match_length>=S?(Ne=y._tr_tally(we,1,we.match_length-S),we.lookahead-=we.match_length,we.strstart+=we.match_length,we.match_length=0):(Ne=y._tr_tally(we,0,we.window[we.strstart]),we.lookahead--,we.strstart++),Ne&&(Z(we,!1),we.strm.avail_out===0))return l}return we.insert=0,xe===i?(Z(we,!0),we.strm.avail_out===0?L:F):we.last_lit&&(Z(we,!1),we.strm.avail_out===0)?l:_}(ae,be):M[ae.level].func(ae,be);if(ke!==L&&ke!==F||(ae.status=666),ke===l||ke===L)return O.avail_out===0&&(ae.last_flush=-1),t;if(ke===_&&(be===1?y._tr_align(ae):be!==5&&(y._tr_stored_block(ae,0,0,!1),be===3&&(X(ae.head),ae.lookahead===0&&(ae.strstart=0,ae.block_start=0,ae.insert=0))),q(O),O.avail_out===0))return ae.last_flush=-1,t}return be!==i?t:ae.wrap<=0?1:(ae.wrap===2?(oe(ae,255&O.adler),oe(ae,O.adler>>8&255),oe(ae,O.adler>>16&255),oe(ae,O.adler>>24&255),oe(ae,255&O.total_in),oe(ae,O.total_in>>8&255),oe(ae,O.total_in>>16&255),oe(ae,O.total_in>>24&255)):(ee(ae,O.adler>>>16),ee(ae,65535&O.adler)),q(O),0<ae.wrap&&(ae.wrap=-ae.wrap),ae.pending!==0?t:1)},W.deflateEnd=function(O){var be;return O&&O.state?(be=O.state.status)!==g&&be!==69&&be!==73&&be!==91&&be!==103&&be!==w&&be!==666?U(O,e):(O.state=null,be===w?U(O,-3):t):e},W.deflateSetDictionary=function(O,be){var he,ae,ne,de,Me,ke,we,xe,Ne=be.length;if(!O||!O.state||(de=(he=O.state).wrap)===2||de===1&&he.status!==g||he.lookahead)return e;for(de===1&&(O.adler=s(O.adler,be,Ne,0)),he.wrap=0,Ne>=he.w_size&&(de===0&&(X(he.head),he.strstart=0,he.block_start=0,he.insert=0),xe=new $.Buf8(he.w_size),$.arraySet(xe,be,Ne-he.w_size,he.w_size,0),be=xe,Ne=he.w_size),Me=O.avail_in,ke=O.next_in,we=O.input,O.avail_in=Ne,O.next_in=0,O.input=be,fe(he);he.lookahead>=S;){for(ae=he.strstart,ne=he.lookahead-(S-1);he.ins_h=(he.ins_h<<he.hash_shift^he.window[ae+S-1])&he.hash_mask,he.prev[ae&he.w_mask]=he.head[he.ins_h],he.head[he.ins_h]=ae,ae++,--ne;);he.strstart=ae,he.lookahead=S-1,fe(he)}return he.strstart+=he.lookahead,he.block_start=he.strstart,he.insert=he.lookahead,he.lookahead=0,he.match_length=he.prev_length=S-1,he.match_available=0,O.next_in=ke,O.input=we,O.avail_in=Me,he.wrap=de,t},W.deflateInfo="pako deflate (from Nodeca project)"},{"../utils/common":41,"./adler32":43,"./crc32":45,"./messages":51,"./trees":52}],47:[function(f,x,W){x.exports=function(){this.text=0,this.time=0,this.xflags=0,this.os=0,this.extra=null,this.extra_len=0,this.name="",this.comment="",this.hcrc=0,this.done=!1}},{}],48:[function(f,x,W){x.exports=function(M,$){var y,s,h,o,r,i,t,e,n,a,c,d,k,v,p,u,m,A,S,C,R,g,w,l,_;y=M.state,s=M.next_in,l=M.input,h=s+(M.avail_in-5),o=M.next_out,_=M.output,r=o-($-M.avail_out),i=o+(M.avail_out-257),t=y.dmax,e=y.wsize,n=y.whave,a=y.wnext,c=y.window,d=y.hold,k=y.bits,v=y.lencode,p=y.distcode,u=(1<<y.lenbits)-1,m=(1<<y.distbits)-1;e:do{k<15&&(d+=l[s++]<<k,k+=8,d+=l[s++]<<k,k+=8),A=v[d&u];t:for(;;){if(d>>>=S=A>>>24,k-=S,(S=A>>>16&255)===0)_[o++]=65535&A;else{if(!(16&S)){if((64&S)==0){A=v[(65535&A)+(d&(1<<S)-1)];continue t}if(32&S){y.mode=12;break e}M.msg="invalid literal/length code",y.mode=30;break e}C=65535&A,(S&=15)&&(k<S&&(d+=l[s++]<<k,k+=8),C+=d&(1<<S)-1,d>>>=S,k-=S),k<15&&(d+=l[s++]<<k,k+=8,d+=l[s++]<<k,k+=8),A=p[d&m];r:for(;;){if(d>>>=S=A>>>24,k-=S,!(16&(S=A>>>16&255))){if((64&S)==0){A=p[(65535&A)+(d&(1<<S)-1)];continue r}M.msg="invalid distance code",y.mode=30;break e}if(R=65535&A,k<(S&=15)&&(d+=l[s++]<<k,(k+=8)<S&&(d+=l[s++]<<k,k+=8)),t<(R+=d&(1<<S)-1)){M.msg="invalid distance too far back",y.mode=30;break e}if(d>>>=S,k-=S,(S=o-r)<R){if(n<(S=R-S)&&y.sane){M.msg="invalid distance too far back",y.mode=30;break e}if(w=c,(g=0)===a){if(g+=e-S,S<C){for(C-=S;_[o++]=c[g++],--S;);g=o-R,w=_}}else if(a<S){if(g+=e+a-S,(S-=a)<C){for(C-=S;_[o++]=c[g++],--S;);if(g=0,a<C){for(C-=S=a;_[o++]=c[g++],--S;);g=o-R,w=_}}}else if(g+=a-S,S<C){for(C-=S;_[o++]=c[g++],--S;);g=o-R,w=_}for(;2<C;)_[o++]=w[g++],_[o++]=w[g++],_[o++]=w[g++],C-=3;C&&(_[o++]=w[g++],1<C&&(_[o++]=w[g++]))}else{for(g=o-R;_[o++]=_[g++],_[o++]=_[g++],_[o++]=_[g++],2<(C-=3););C&&(_[o++]=_[g++],1<C&&(_[o++]=_[g++]))}break}}break}}while(s<h&&o<i);s-=C=k>>3,d&=(1<<(k-=C<<3))-1,M.next_in=s,M.next_out=o,M.avail_in=s<h?h-s+5:5-(s-h),M.avail_out=o<i?i-o+257:257-(o-i),y.hold=d,y.bits=k}},{}],49:[function(f,x,W){var M=f("../utils/common"),$=f("./adler32"),y=f("./crc32"),s=f("./inffast"),h=f("./inftrees"),o=1,r=2,i=0,t=-2,e=1,n=852,a=592;function c(g){return(g>>>24&255)+(g>>>8&65280)+((65280&g)<<8)+((255&g)<<24)}function d(){this.mode=0,this.last=!1,this.wrap=0,this.havedict=!1,this.flags=0,this.dmax=0,this.check=0,this.total=0,this.head=null,this.wbits=0,this.wsize=0,this.whave=0,this.wnext=0,this.window=null,this.hold=0,this.bits=0,this.length=0,this.offset=0,this.extra=0,this.lencode=null,this.distcode=null,this.lenbits=0,this.distbits=0,this.ncode=0,this.nlen=0,this.ndist=0,this.have=0,this.next=null,this.lens=new M.Buf16(320),this.work=new M.Buf16(288),this.lendyn=null,this.distdyn=null,this.sane=0,this.back=0,this.was=0}function k(g){var w;return g&&g.state?(w=g.state,g.total_in=g.total_out=w.total=0,g.msg="",w.wrap&&(g.adler=1&w.wrap),w.mode=e,w.last=0,w.havedict=0,w.dmax=32768,w.head=null,w.hold=0,w.bits=0,w.lencode=w.lendyn=new M.Buf32(n),w.distcode=w.distdyn=new M.Buf32(a),w.sane=1,w.back=-1,i):t}function v(g){var w;return g&&g.state?((w=g.state).wsize=0,w.whave=0,w.wnext=0,k(g)):t}function p(g,w){var l,_;return g&&g.state?(_=g.state,w<0?(l=0,w=-w):(l=1+(w>>4),w<48&&(w&=15)),w&&(w<8||15<w)?t:(_.window!==null&&_.wbits!==w&&(_.window=null),_.wrap=l,_.wbits=w,v(g))):t}function u(g,w){var l,_;return g?(_=new d,(g.state=_).window=null,(l=p(g,w))!==i&&(g.state=null),l):t}var m,A,S=!0;function C(g){if(S){var w;for(m=new M.Buf32(512),A=new M.Buf32(32),w=0;w<144;)g.lens[w++]=8;for(;w<256;)g.lens[w++]=9;for(;w<280;)g.lens[w++]=7;for(;w<288;)g.lens[w++]=8;for(h(o,g.lens,0,288,m,0,g.work,{bits:9}),w=0;w<32;)g.lens[w++]=5;h(r,g.lens,0,32,A,0,g.work,{bits:5}),S=!1}g.lencode=m,g.lenbits=9,g.distcode=A,g.distbits=5}function R(g,w,l,_){var L,F=g.state;return F.window===null&&(F.wsize=1<<F.wbits,F.wnext=0,F.whave=0,F.window=new M.Buf8(F.wsize)),_>=F.wsize?(M.arraySet(F.window,w,l-F.wsize,F.wsize,0),F.wnext=0,F.whave=F.wsize):(_<(L=F.wsize-F.wnext)&&(L=_),M.arraySet(F.window,w,l-_,L,F.wnext),(_-=L)?(M.arraySet(F.window,w,l-_,_,0),F.wnext=_,F.whave=F.wsize):(F.wnext+=L,F.wnext===F.wsize&&(F.wnext=0),F.whave<F.wsize&&(F.whave+=L))),0}W.inflateReset=v,W.inflateReset2=p,W.inflateResetKeep=k,W.inflateInit=function(g){return u(g,15)},W.inflateInit2=u,W.inflate=function(g,w){var l,_,L,F,U,H,X,q,Z,oe,ee,se,fe,Ee,Se,Ce,De,Pe,We,Xe,O,be,he,ae,ne=0,de=new M.Buf8(4),Me=[16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15];if(!g||!g.state||!g.output||!g.input&&g.avail_in!==0)return t;(l=g.state).mode===12&&(l.mode=13),U=g.next_out,L=g.output,X=g.avail_out,F=g.next_in,_=g.input,H=g.avail_in,q=l.hold,Z=l.bits,oe=H,ee=X,be=i;e:for(;;)switch(l.mode){case e:if(l.wrap===0){l.mode=13;break}for(;Z<16;){if(H===0)break e;H--,q+=_[F++]<<Z,Z+=8}if(2&l.wrap&&q===35615){de[l.check=0]=255&q,de[1]=q>>>8&255,l.check=y(l.check,de,2,0),Z=q=0,l.mode=2;break}if(l.flags=0,l.head&&(l.head.done=!1),!(1&l.wrap)||(((255&q)<<8)+(q>>8))%31){g.msg="incorrect header check",l.mode=30;break}if((15&q)!=8){g.msg="unknown compression method",l.mode=30;break}if(Z-=4,O=8+(15&(q>>>=4)),l.wbits===0)l.wbits=O;else if(O>l.wbits){g.msg="invalid window size",l.mode=30;break}l.dmax=1<<O,g.adler=l.check=1,l.mode=512&q?10:12,Z=q=0;break;case 2:for(;Z<16;){if(H===0)break e;H--,q+=_[F++]<<Z,Z+=8}if(l.flags=q,(255&l.flags)!=8){g.msg="unknown compression method",l.mode=30;break}if(57344&l.flags){g.msg="unknown header flags set",l.mode=30;break}l.head&&(l.head.text=q>>8&1),512&l.flags&&(de[0]=255&q,de[1]=q>>>8&255,l.check=y(l.check,de,2,0)),Z=q=0,l.mode=3;case 3:for(;Z<32;){if(H===0)break e;H--,q+=_[F++]<<Z,Z+=8}l.head&&(l.head.time=q),512&l.flags&&(de[0]=255&q,de[1]=q>>>8&255,de[2]=q>>>16&255,de[3]=q>>>24&255,l.check=y(l.check,de,4,0)),Z=q=0,l.mode=4;case 4:for(;Z<16;){if(H===0)break e;H--,q+=_[F++]<<Z,Z+=8}l.head&&(l.head.xflags=255&q,l.head.os=q>>8),512&l.flags&&(de[0]=255&q,de[1]=q>>>8&255,l.check=y(l.check,de,2,0)),Z=q=0,l.mode=5;case 5:if(1024&l.flags){for(;Z<16;){if(H===0)break e;H--,q+=_[F++]<<Z,Z+=8}l.length=q,l.head&&(l.head.extra_len=q),512&l.flags&&(de[0]=255&q,de[1]=q>>>8&255,l.check=y(l.check,de,2,0)),Z=q=0}else l.head&&(l.head.extra=null);l.mode=6;case 6:if(1024&l.flags&&(H<(se=l.length)&&(se=H),se&&(l.head&&(O=l.head.extra_len-l.length,l.head.extra||(l.head.extra=new Array(l.head.extra_len)),M.arraySet(l.head.extra,_,F,se,O)),512&l.flags&&(l.check=y(l.check,_,se,F)),H-=se,F+=se,l.length-=se),l.length))break e;l.length=0,l.mode=7;case 7:if(2048&l.flags){if(H===0)break e;for(se=0;O=_[F+se++],l.head&&O&&l.length<65536&&(l.head.name+=String.fromCharCode(O)),O&&se<H;);if(512&l.flags&&(l.check=y(l.check,_,se,F)),H-=se,F+=se,O)break e}else l.head&&(l.head.name=null);l.length=0,l.mode=8;case 8:if(4096&l.flags){if(H===0)break e;for(se=0;O=_[F+se++],l.head&&O&&l.length<65536&&(l.head.comment+=String.fromCharCode(O)),O&&se<H;);if(512&l.flags&&(l.check=y(l.check,_,se,F)),H-=se,F+=se,O)break e}else l.head&&(l.head.comment=null);l.mode=9;case 9:if(512&l.flags){for(;Z<16;){if(H===0)break e;H--,q+=_[F++]<<Z,Z+=8}if(q!==(65535&l.check)){g.msg="header crc mismatch",l.mode=30;break}Z=q=0}l.head&&(l.head.hcrc=l.flags>>9&1,l.head.done=!0),g.adler=l.check=0,l.mode=12;break;case 10:for(;Z<32;){if(H===0)break e;H--,q+=_[F++]<<Z,Z+=8}g.adler=l.check=c(q),Z=q=0,l.mode=11;case 11:if(l.havedict===0)return g.next_out=U,g.avail_out=X,g.next_in=F,g.avail_in=H,l.hold=q,l.bits=Z,2;g.adler=l.check=1,l.mode=12;case 12:if(w===5||w===6)break e;case 13:if(l.last){q>>>=7&Z,Z-=7&Z,l.mode=27;break}for(;Z<3;){if(H===0)break e;H--,q+=_[F++]<<Z,Z+=8}switch(l.last=1&q,Z-=1,3&(q>>>=1)){case 0:l.mode=14;break;case 1:if(C(l),l.mode=20,w!==6)break;q>>>=2,Z-=2;break e;case 2:l.mode=17;break;case 3:g.msg="invalid block type",l.mode=30}q>>>=2,Z-=2;break;case 14:for(q>>>=7&Z,Z-=7&Z;Z<32;){if(H===0)break e;H--,q+=_[F++]<<Z,Z+=8}if((65535&q)!=(q>>>16^65535)){g.msg="invalid stored block lengths",l.mode=30;break}if(l.length=65535&q,Z=q=0,l.mode=15,w===6)break e;case 15:l.mode=16;case 16:if(se=l.length){if(H<se&&(se=H),X<se&&(se=X),se===0)break e;M.arraySet(L,_,F,se,U),H-=se,F+=se,X-=se,U+=se,l.length-=se;break}l.mode=12;break;case 17:for(;Z<14;){if(H===0)break e;H--,q+=_[F++]<<Z,Z+=8}if(l.nlen=257+(31&q),q>>>=5,Z-=5,l.ndist=1+(31&q),q>>>=5,Z-=5,l.ncode=4+(15&q),q>>>=4,Z-=4,286<l.nlen||30<l.ndist){g.msg="too many length or distance symbols",l.mode=30;break}l.have=0,l.mode=18;case 18:for(;l.have<l.ncode;){for(;Z<3;){if(H===0)break e;H--,q+=_[F++]<<Z,Z+=8}l.lens[Me[l.have++]]=7&q,q>>>=3,Z-=3}for(;l.have<19;)l.lens[Me[l.have++]]=0;if(l.lencode=l.lendyn,l.lenbits=7,he={bits:l.lenbits},be=h(0,l.lens,0,19,l.lencode,0,l.work,he),l.lenbits=he.bits,be){g.msg="invalid code lengths set",l.mode=30;break}l.have=0,l.mode=19;case 19:for(;l.have<l.nlen+l.ndist;){for(;Ce=(ne=l.lencode[q&(1<<l.lenbits)-1])>>>16&255,De=65535&ne,!((Se=ne>>>24)<=Z);){if(H===0)break e;H--,q+=_[F++]<<Z,Z+=8}if(De<16)q>>>=Se,Z-=Se,l.lens[l.have++]=De;else{if(De===16){for(ae=Se+2;Z<ae;){if(H===0)break e;H--,q+=_[F++]<<Z,Z+=8}if(q>>>=Se,Z-=Se,l.have===0){g.msg="invalid bit length repeat",l.mode=30;break}O=l.lens[l.have-1],se=3+(3&q),q>>>=2,Z-=2}else if(De===17){for(ae=Se+3;Z<ae;){if(H===0)break e;H--,q+=_[F++]<<Z,Z+=8}Z-=Se,O=0,se=3+(7&(q>>>=Se)),q>>>=3,Z-=3}else{for(ae=Se+7;Z<ae;){if(H===0)break e;H--,q+=_[F++]<<Z,Z+=8}Z-=Se,O=0,se=11+(127&(q>>>=Se)),q>>>=7,Z-=7}if(l.have+se>l.nlen+l.ndist){g.msg="invalid bit length repeat",l.mode=30;break}for(;se--;)l.lens[l.have++]=O}}if(l.mode===30)break;if(l.lens[256]===0){g.msg="invalid code -- missing end-of-block",l.mode=30;break}if(l.lenbits=9,he={bits:l.lenbits},be=h(o,l.lens,0,l.nlen,l.lencode,0,l.work,he),l.lenbits=he.bits,be){g.msg="invalid literal/lengths set",l.mode=30;break}if(l.distbits=6,l.distcode=l.distdyn,he={bits:l.distbits},be=h(r,l.lens,l.nlen,l.ndist,l.distcode,0,l.work,he),l.distbits=he.bits,be){g.msg="invalid distances set",l.mode=30;break}if(l.mode=20,w===6)break e;case 20:l.mode=21;case 21:if(6<=H&&258<=X){g.next_out=U,g.avail_out=X,g.next_in=F,g.avail_in=H,l.hold=q,l.bits=Z,s(g,ee),U=g.next_out,L=g.output,X=g.avail_out,F=g.next_in,_=g.input,H=g.avail_in,q=l.hold,Z=l.bits,l.mode===12&&(l.back=-1);break}for(l.back=0;Ce=(ne=l.lencode[q&(1<<l.lenbits)-1])>>>16&255,De=65535&ne,!((Se=ne>>>24)<=Z);){if(H===0)break e;H--,q+=_[F++]<<Z,Z+=8}if(Ce&&(240&Ce)==0){for(Pe=Se,We=Ce,Xe=De;Ce=(ne=l.lencode[Xe+((q&(1<<Pe+We)-1)>>Pe)])>>>16&255,De=65535&ne,!(Pe+(Se=ne>>>24)<=Z);){if(H===0)break e;H--,q+=_[F++]<<Z,Z+=8}q>>>=Pe,Z-=Pe,l.back+=Pe}if(q>>>=Se,Z-=Se,l.back+=Se,l.length=De,Ce===0){l.mode=26;break}if(32&Ce){l.back=-1,l.mode=12;break}if(64&Ce){g.msg="invalid literal/length code",l.mode=30;break}l.extra=15&Ce,l.mode=22;case 22:if(l.extra){for(ae=l.extra;Z<ae;){if(H===0)break e;H--,q+=_[F++]<<Z,Z+=8}l.length+=q&(1<<l.extra)-1,q>>>=l.extra,Z-=l.extra,l.back+=l.extra}l.was=l.length,l.mode=23;case 23:for(;Ce=(ne=l.distcode[q&(1<<l.distbits)-1])>>>16&255,De=65535&ne,!((Se=ne>>>24)<=Z);){if(H===0)break e;H--,q+=_[F++]<<Z,Z+=8}if((240&Ce)==0){for(Pe=Se,We=Ce,Xe=De;Ce=(ne=l.distcode[Xe+((q&(1<<Pe+We)-1)>>Pe)])>>>16&255,De=65535&ne,!(Pe+(Se=ne>>>24)<=Z);){if(H===0)break e;H--,q+=_[F++]<<Z,Z+=8}q>>>=Pe,Z-=Pe,l.back+=Pe}if(q>>>=Se,Z-=Se,l.back+=Se,64&Ce){g.msg="invalid distance code",l.mode=30;break}l.offset=De,l.extra=15&Ce,l.mode=24;case 24:if(l.extra){for(ae=l.extra;Z<ae;){if(H===0)break e;H--,q+=_[F++]<<Z,Z+=8}l.offset+=q&(1<<l.extra)-1,q>>>=l.extra,Z-=l.extra,l.back+=l.extra}if(l.offset>l.dmax){g.msg="invalid distance too far back",l.mode=30;break}l.mode=25;case 25:if(X===0)break e;if(se=ee-X,l.offset>se){if((se=l.offset-se)>l.whave&&l.sane){g.msg="invalid distance too far back",l.mode=30;break}fe=se>l.wnext?(se-=l.wnext,l.wsize-se):l.wnext-se,se>l.length&&(se=l.length),Ee=l.window}else Ee=L,fe=U-l.offset,se=l.length;for(X<se&&(se=X),X-=se,l.length-=se;L[U++]=Ee[fe++],--se;);l.length===0&&(l.mode=21);break;case 26:if(X===0)break e;L[U++]=l.length,X--,l.mode=21;break;case 27:if(l.wrap){for(;Z<32;){if(H===0)break e;H--,q|=_[F++]<<Z,Z+=8}if(ee-=X,g.total_out+=ee,l.total+=ee,ee&&(g.adler=l.check=l.flags?y(l.check,L,ee,U-ee):$(l.check,L,ee,U-ee)),ee=X,(l.flags?q:c(q))!==l.check){g.msg="incorrect data check",l.mode=30;break}Z=q=0}l.mode=28;case 28:if(l.wrap&&l.flags){for(;Z<32;){if(H===0)break e;H--,q+=_[F++]<<Z,Z+=8}if(q!==(4294967295&l.total)){g.msg="incorrect length check",l.mode=30;break}Z=q=0}l.mode=29;case 29:be=1;break e;case 30:be=-3;break e;case 31:return-4;case 32:default:return t}return g.next_out=U,g.avail_out=X,g.next_in=F,g.avail_in=H,l.hold=q,l.bits=Z,(l.wsize||ee!==g.avail_out&&l.mode<30&&(l.mode<27||w!==4))&&R(g,g.output,g.next_out,ee-g.avail_out)?(l.mode=31,-4):(oe-=g.avail_in,ee-=g.avail_out,g.total_in+=oe,g.total_out+=ee,l.total+=ee,l.wrap&&ee&&(g.adler=l.check=l.flags?y(l.check,L,ee,g.next_out-ee):$(l.check,L,ee,g.next_out-ee)),g.data_type=l.bits+(l.last?64:0)+(l.mode===12?128:0)+(l.mode===20||l.mode===15?256:0),(oe==0&&ee===0||w===4)&&be===i&&(be=-5),be)},W.inflateEnd=function(g){if(!g||!g.state)return t;var w=g.state;return w.window&&(w.window=null),g.state=null,i},W.inflateGetHeader=function(g,w){var l;return g&&g.state?(2&(l=g.state).wrap)==0?t:((l.head=w).done=!1,i):t},W.inflateSetDictionary=function(g,w){var l,_=w.length;return g&&g.state?(l=g.state).wrap!==0&&l.mode!==11?t:l.mode===11&&$(1,w,_,0)!==l.check?-3:R(g,w,_,_)?(l.mode=31,-4):(l.havedict=1,i):t},W.inflateInfo="pako inflate (from Nodeca project)"},{"../utils/common":41,"./adler32":43,"./crc32":45,"./inffast":48,"./inftrees":50}],50:[function(f,x,W){var M=f("../utils/common"),$=[3,4,5,6,7,8,9,10,11,13,15,17,19,23,27,31,35,43,51,59,67,83,99,115,131,163,195,227,258,0,0],y=[16,16,16,16,16,16,16,16,17,17,17,17,18,18,18,18,19,19,19,19,20,20,20,20,21,21,21,21,16,72,78],s=[1,2,3,4,5,7,9,13,17,25,33,49,65,97,129,193,257,385,513,769,1025,1537,2049,3073,4097,6145,8193,12289,16385,24577,0,0],h=[16,16,16,16,17,17,18,18,19,19,20,20,21,21,22,22,23,23,24,24,25,25,26,26,27,27,28,28,29,29,64,64];x.exports=function(o,r,i,t,e,n,a,c){var d,k,v,p,u,m,A,S,C,R=c.bits,g=0,w=0,l=0,_=0,L=0,F=0,U=0,H=0,X=0,q=0,Z=null,oe=0,ee=new M.Buf16(16),se=new M.Buf16(16),fe=null,Ee=0;for(g=0;g<=15;g++)ee[g]=0;for(w=0;w<t;w++)ee[r[i+w]]++;for(L=R,_=15;1<=_&&ee[_]===0;_--);if(_<L&&(L=_),_===0)return e[n++]=20971520,e[n++]=20971520,c.bits=1,0;for(l=1;l<_&&ee[l]===0;l++);for(L<l&&(L=l),g=H=1;g<=15;g++)if(H<<=1,(H-=ee[g])<0)return-1;if(0<H&&(o===0||_!==1))return-1;for(se[1]=0,g=1;g<15;g++)se[g+1]=se[g]+ee[g];for(w=0;w<t;w++)r[i+w]!==0&&(a[se[r[i+w]]++]=w);if(m=o===0?(Z=fe=a,19):o===1?(Z=$,oe-=257,fe=y,Ee-=257,256):(Z=s,fe=h,-1),g=l,u=n,U=w=q=0,v=-1,p=(X=1<<(F=L))-1,o===1&&852<X||o===2&&592<X)return 1;for(;;){for(A=g-U,C=a[w]<m?(S=0,a[w]):a[w]>m?(S=fe[Ee+a[w]],Z[oe+a[w]]):(S=96,0),d=1<<g-U,l=k=1<<F;e[u+(q>>U)+(k-=d)]=A<<24|S<<16|C|0,k!==0;);for(d=1<<g-1;q&d;)d>>=1;if(d!==0?(q&=d-1,q+=d):q=0,w++,--ee[g]==0){if(g===_)break;g=r[i+a[w]]}if(L<g&&(q&p)!==v){for(U===0&&(U=L),u+=l,H=1<<(F=g-U);F+U<_&&!((H-=ee[F+U])<=0);)F++,H<<=1;if(X+=1<<F,o===1&&852<X||o===2&&592<X)return 1;e[v=q&p]=L<<24|F<<16|u-n|0}}return q!==0&&(e[u+q]=g-U<<24|64<<16|0),c.bits=L,0}},{"../utils/common":41}],51:[function(f,x,W){x.exports={2:"need dictionary",1:"stream end",0:"","-1":"file error","-2":"stream error","-3":"data error","-4":"insufficient memory","-5":"buffer error","-6":"incompatible version"}},{}],52:[function(f,x,W){var M=f("../utils/common"),$=0,y=1;function s(ne){for(var de=ne.length;0<=--de;)ne[de]=0}var h=0,o=29,r=256,i=r+1+o,t=30,e=19,n=2*i+1,a=15,c=16,d=7,k=256,v=16,p=17,u=18,m=[0,0,0,0,0,0,0,0,1,1,1,1,2,2,2,2,3,3,3,3,4,4,4,4,5,5,5,5,0],A=[0,0,0,0,1,1,2,2,3,3,4,4,5,5,6,6,7,7,8,8,9,9,10,10,11,11,12,12,13,13],S=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,2,3,7],C=[16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15],R=new Array(2*(i+2));s(R);var g=new Array(2*t);s(g);var w=new Array(512);s(w);var l=new Array(256);s(l);var _=new Array(o);s(_);var L,F,U,H=new Array(t);function X(ne,de,Me,ke,we){this.static_tree=ne,this.extra_bits=de,this.extra_base=Me,this.elems=ke,this.max_length=we,this.has_stree=ne&&ne.length}function q(ne,de){this.dyn_tree=ne,this.max_code=0,this.stat_desc=de}function Z(ne){return ne<256?w[ne]:w[256+(ne>>>7)]}function oe(ne,de){ne.pending_buf[ne.pending++]=255&de,ne.pending_buf[ne.pending++]=de>>>8&255}function ee(ne,de,Me){ne.bi_valid>c-Me?(ne.bi_buf|=de<<ne.bi_valid&65535,oe(ne,ne.bi_buf),ne.bi_buf=de>>c-ne.bi_valid,ne.bi_valid+=Me-c):(ne.bi_buf|=de<<ne.bi_valid&65535,ne.bi_valid+=Me)}function se(ne,de,Me){ee(ne,Me[2*de],Me[2*de+1])}function fe(ne,de){for(var Me=0;Me|=1&ne,ne>>>=1,Me<<=1,0<--de;);return Me>>>1}function Ee(ne,de,Me){var ke,we,xe=new Array(a+1),Ne=0;for(ke=1;ke<=a;ke++)xe[ke]=Ne=Ne+Me[ke-1]<<1;for(we=0;we<=de;we++){var Ie=ne[2*we+1];Ie!==0&&(ne[2*we]=fe(xe[Ie]++,Ie))}}function Se(ne){var de;for(de=0;de<i;de++)ne.dyn_ltree[2*de]=0;for(de=0;de<t;de++)ne.dyn_dtree[2*de]=0;for(de=0;de<e;de++)ne.bl_tree[2*de]=0;ne.dyn_ltree[2*k]=1,ne.opt_len=ne.static_len=0,ne.last_lit=ne.matches=0}function Ce(ne){8<ne.bi_valid?oe(ne,ne.bi_buf):0<ne.bi_valid&&(ne.pending_buf[ne.pending++]=ne.bi_buf),ne.bi_buf=0,ne.bi_valid=0}function De(ne,de,Me,ke){var we=2*de,xe=2*Me;return ne[we]<ne[xe]||ne[we]===ne[xe]&&ke[de]<=ke[Me]}function Pe(ne,de,Me){for(var ke=ne.heap[Me],we=Me<<1;we<=ne.heap_len&&(we<ne.heap_len&&De(de,ne.heap[we+1],ne.heap[we],ne.depth)&&we++,!De(de,ke,ne.heap[we],ne.depth));)ne.heap[Me]=ne.heap[we],Me=we,we<<=1;ne.heap[Me]=ke}function We(ne,de,Me){var ke,we,xe,Ne,Ie=0;if(ne.last_lit!==0)for(;ke=ne.pending_buf[ne.d_buf+2*Ie]<<8|ne.pending_buf[ne.d_buf+2*Ie+1],we=ne.pending_buf[ne.l_buf+Ie],Ie++,ke===0?se(ne,we,de):(se(ne,(xe=l[we])+r+1,de),(Ne=m[xe])!==0&&ee(ne,we-=_[xe],Ne),se(ne,xe=Z(--ke),Me),(Ne=A[xe])!==0&&ee(ne,ke-=H[xe],Ne)),Ie<ne.last_lit;);se(ne,k,de)}function Xe(ne,de){var Me,ke,we,xe=de.dyn_tree,Ne=de.stat_desc.static_tree,Ie=de.stat_desc.has_stree,ye=de.stat_desc.elems,Ae=-1;for(ne.heap_len=0,ne.heap_max=n,Me=0;Me<ye;Me++)xe[2*Me]!==0?(ne.heap[++ne.heap_len]=Ae=Me,ne.depth[Me]=0):xe[2*Me+1]=0;for(;ne.heap_len<2;)xe[2*(we=ne.heap[++ne.heap_len]=Ae<2?++Ae:0)]=1,ne.depth[we]=0,ne.opt_len--,Ie&&(ne.static_len-=Ne[2*we+1]);for(de.max_code=Ae,Me=ne.heap_len>>1;1<=Me;Me--)Pe(ne,xe,Me);for(we=ye;Me=ne.heap[1],ne.heap[1]=ne.heap[ne.heap_len--],Pe(ne,xe,1),ke=ne.heap[1],ne.heap[--ne.heap_max]=Me,ne.heap[--ne.heap_max]=ke,xe[2*we]=xe[2*Me]+xe[2*ke],ne.depth[we]=(ne.depth[Me]>=ne.depth[ke]?ne.depth[Me]:ne.depth[ke])+1,xe[2*Me+1]=xe[2*ke+1]=we,ne.heap[1]=we++,Pe(ne,xe,1),2<=ne.heap_len;);ne.heap[--ne.heap_max]=ne.heap[1],function(Fe,_e){var Ye,Oe,Te,Le,He,z,je=_e.dyn_tree,G=_e.max_code,nt=_e.stat_desc.static_tree,j=_e.stat_desc.has_stree,lt=_e.stat_desc.extra_bits,rt=_e.stat_desc.extra_base,bt=_e.stat_desc.max_length,Tt=0;for(Le=0;Le<=a;Le++)Fe.bl_count[Le]=0;for(je[2*Fe.heap[Fe.heap_max]+1]=0,Ye=Fe.heap_max+1;Ye<n;Ye++)bt<(Le=je[2*je[2*(Oe=Fe.heap[Ye])+1]+1]+1)&&(Le=bt,Tt++),je[2*Oe+1]=Le,G<Oe||(Fe.bl_count[Le]++,He=0,rt<=Oe&&(He=lt[Oe-rt]),z=je[2*Oe],Fe.opt_len+=z*(Le+He),j&&(Fe.static_len+=z*(nt[2*Oe+1]+He)));if(Tt!==0){do{for(Le=bt-1;Fe.bl_count[Le]===0;)Le--;Fe.bl_count[Le]--,Fe.bl_count[Le+1]+=2,Fe.bl_count[bt]--,Tt-=2}while(0<Tt);for(Le=bt;Le!==0;Le--)for(Oe=Fe.bl_count[Le];Oe!==0;)G<(Te=Fe.heap[--Ye])||(je[2*Te+1]!==Le&&(Fe.opt_len+=(Le-je[2*Te+1])*je[2*Te],je[2*Te+1]=Le),Oe--)}}(ne,de),Ee(xe,Ae,ne.bl_count)}function O(ne,de,Me){var ke,we,xe=-1,Ne=de[1],Ie=0,ye=7,Ae=4;for(Ne===0&&(ye=138,Ae=3),de[2*(Me+1)+1]=65535,ke=0;ke<=Me;ke++)we=Ne,Ne=de[2*(ke+1)+1],++Ie<ye&&we===Ne||(Ie<Ae?ne.bl_tree[2*we]+=Ie:we!==0?(we!==xe&&ne.bl_tree[2*we]++,ne.bl_tree[2*v]++):Ie<=10?ne.bl_tree[2*p]++:ne.bl_tree[2*u]++,xe=we,Ae=(Ie=0)===Ne?(ye=138,3):we===Ne?(ye=6,3):(ye=7,4))}function be(ne,de,Me){var ke,we,xe=-1,Ne=de[1],Ie=0,ye=7,Ae=4;for(Ne===0&&(ye=138,Ae=3),ke=0;ke<=Me;ke++)if(we=Ne,Ne=de[2*(ke+1)+1],!(++Ie<ye&&we===Ne)){if(Ie<Ae)for(;se(ne,we,ne.bl_tree),--Ie!=0;);else we!==0?(we!==xe&&(se(ne,we,ne.bl_tree),Ie--),se(ne,v,ne.bl_tree),ee(ne,Ie-3,2)):Ie<=10?(se(ne,p,ne.bl_tree),ee(ne,Ie-3,3)):(se(ne,u,ne.bl_tree),ee(ne,Ie-11,7));xe=we,Ae=(Ie=0)===Ne?(ye=138,3):we===Ne?(ye=6,3):(ye=7,4)}}s(H);var he=!1;function ae(ne,de,Me,ke){ee(ne,(h<<1)+(ke?1:0),3),function(we,xe,Ne,Ie){Ce(we),oe(we,Ne),oe(we,~Ne),M.arraySet(we.pending_buf,we.window,xe,Ne,we.pending),we.pending+=Ne}(ne,de,Me)}W._tr_init=function(ne){he||(function(){var de,Me,ke,we,xe,Ne=new Array(a+1);for(we=ke=0;we<o-1;we++)for(_[we]=ke,de=0;de<1<<m[we];de++)l[ke++]=we;for(l[ke-1]=we,we=xe=0;we<16;we++)for(H[we]=xe,de=0;de<1<<A[we];de++)w[xe++]=we;for(xe>>=7;we<t;we++)for(H[we]=xe<<7,de=0;de<1<<A[we]-7;de++)w[256+xe++]=we;for(Me=0;Me<=a;Me++)Ne[Me]=0;for(de=0;de<=143;)R[2*de+1]=8,de++,Ne[8]++;for(;de<=255;)R[2*de+1]=9,de++,Ne[9]++;for(;de<=279;)R[2*de+1]=7,de++,Ne[7]++;for(;de<=287;)R[2*de+1]=8,de++,Ne[8]++;for(Ee(R,i+1,Ne),de=0;de<t;de++)g[2*de+1]=5,g[2*de]=fe(de,5);L=new X(R,m,r+1,i,a),F=new X(g,A,0,t,a),U=new X(new Array(0),S,0,e,d)}(),he=!0),ne.l_desc=new q(ne.dyn_ltree,L),ne.d_desc=new q(ne.dyn_dtree,F),ne.bl_desc=new q(ne.bl_tree,U),ne.bi_buf=0,ne.bi_valid=0,Se(ne)},W._tr_stored_block=ae,W._tr_flush_block=function(ne,de,Me,ke){var we,xe,Ne=0;0<ne.level?(ne.strm.data_type===2&&(ne.strm.data_type=function(Ie){var ye,Ae=4093624447;for(ye=0;ye<=31;ye++,Ae>>>=1)if(1&Ae&&Ie.dyn_ltree[2*ye]!==0)return $;if(Ie.dyn_ltree[18]!==0||Ie.dyn_ltree[20]!==0||Ie.dyn_ltree[26]!==0)return y;for(ye=32;ye<r;ye++)if(Ie.dyn_ltree[2*ye]!==0)return y;return $}(ne)),Xe(ne,ne.l_desc),Xe(ne,ne.d_desc),Ne=function(Ie){var ye;for(O(Ie,Ie.dyn_ltree,Ie.l_desc.max_code),O(Ie,Ie.dyn_dtree,Ie.d_desc.max_code),Xe(Ie,Ie.bl_desc),ye=e-1;3<=ye&&Ie.bl_tree[2*C[ye]+1]===0;ye--);return Ie.opt_len+=3*(ye+1)+5+5+4,ye}(ne),we=ne.opt_len+3+7>>>3,(xe=ne.static_len+3+7>>>3)<=we&&(we=xe)):we=xe=Me+5,Me+4<=we&&de!==-1?ae(ne,de,Me,ke):ne.strategy===4||xe===we?(ee(ne,2+(ke?1:0),3),We(ne,R,g)):(ee(ne,4+(ke?1:0),3),function(Ie,ye,Ae,Fe){var _e;for(ee(Ie,ye-257,5),ee(Ie,Ae-1,5),ee(Ie,Fe-4,4),_e=0;_e<Fe;_e++)ee(Ie,Ie.bl_tree[2*C[_e]+1],3);be(Ie,Ie.dyn_ltree,ye-1),be(Ie,Ie.dyn_dtree,Ae-1)}(ne,ne.l_desc.max_code+1,ne.d_desc.max_code+1,Ne+1),We(ne,ne.dyn_ltree,ne.dyn_dtree)),Se(ne),ke&&Ce(ne)},W._tr_tally=function(ne,de,Me){return ne.pending_buf[ne.d_buf+2*ne.last_lit]=de>>>8&255,ne.pending_buf[ne.d_buf+2*ne.last_lit+1]=255&de,ne.pending_buf[ne.l_buf+ne.last_lit]=255&Me,ne.last_lit++,de===0?ne.dyn_ltree[2*Me]++:(ne.matches++,de--,ne.dyn_ltree[2*(l[Me]+r+1)]++,ne.dyn_dtree[2*Z(de)]++),ne.last_lit===ne.lit_bufsize-1},W._tr_align=function(ne){ee(ne,2,3),se(ne,k,R),function(de){de.bi_valid===16?(oe(de,de.bi_buf),de.bi_buf=0,de.bi_valid=0):8<=de.bi_valid&&(de.pending_buf[de.pending++]=255&de.bi_buf,de.bi_buf>>=8,de.bi_valid-=8)}(ne)}},{"../utils/common":41}],53:[function(f,x,W){x.exports=function(){this.input=null,this.next_in=0,this.avail_in=0,this.total_in=0,this.output=null,this.next_out=0,this.avail_out=0,this.total_out=0,this.msg="",this.state=null,this.data_type=2,this.adler=0}},{}],54:[function(f,x,W){(function(M){(function($,y){if(!$.setImmediate){var s,h,o,r,i=1,t={},e=!1,n=$.document,a=Object.getPrototypeOf&&Object.getPrototypeOf($);a=a&&a.setTimeout?a:$,s={}.toString.call($.process)==="[object process]"?function(v){process.nextTick(function(){d(v)})}:function(){if($.postMessage&&!$.importScripts){var v=!0,p=$.onmessage;return $.onmessage=function(){v=!1},$.postMessage("","*"),$.onmessage=p,v}}()?(r="setImmediate$"+Math.random()+"$",$.addEventListener?$.addEventListener("message",k,!1):$.attachEvent("onmessage",k),function(v){$.postMessage(r+v,"*")}):$.MessageChannel?((o=new MessageChannel).port1.onmessage=function(v){d(v.data)},function(v){o.port2.postMessage(v)}):n&&"onreadystatechange"in n.createElement("script")?(h=n.documentElement,function(v){var p=n.createElement("script");p.onreadystatechange=function(){d(v),p.onreadystatechange=null,h.removeChild(p),p=null},h.appendChild(p)}):function(v){setTimeout(d,0,v)},a.setImmediate=function(v){typeof v!="function"&&(v=new Function(""+v));for(var p=new Array(arguments.length-1),u=0;u<p.length;u++)p[u]=arguments[u+1];var m={callback:v,args:p};return t[i]=m,s(i),i++},a.clearImmediate=c}function c(v){delete t[v]}function d(v){if(e)setTimeout(d,0,v);else{var p=t[v];if(p){e=!0;try{(function(u){var m=u.callback,A=u.args;switch(A.length){case 0:m();break;case 1:m(A[0]);break;case 2:m(A[0],A[1]);break;case 3:m(A[0],A[1],A[2]);break;default:m.apply(y,A)}})(p)}finally{c(v),e=!1}}}}function k(v){v.source===$&&typeof v.data=="string"&&v.data.indexOf(r)===0&&d(+v.data.slice(r.length))}})(typeof self>"u"?M===void 0?this:M:self)}).call(this,typeof Hr<"u"?Hr:typeof self<"u"?self:typeof window<"u"?window:{})},{}]},{},[10])(10)})}(rn)),rn.exports}var Bi=Fi();const Kn=bn(Bi);var nn={exports:{}},Fn;function Oi(){return Fn||(Fn=1,function(te){var Q=function(){var f=String.fromCharCode,x="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=",W="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+-$",M={};function $(s,h){if(!M[s]){M[s]={};for(var o=0;o<s.length;o++)M[s][s.charAt(o)]=o}return M[s][h]}var y={compressToBase64:function(s){if(s==null)return"";var h=y._compress(s,6,function(o){return x.charAt(o)});switch(h.length%4){default:case 0:return h;case 1:return h+"===";case 2:return h+"==";case 3:return h+"="}},decompressFromBase64:function(s){return s==null?"":s==""?null:y._decompress(s.length,32,function(h){return $(x,s.charAt(h))})},compressToUTF16:function(s){return s==null?"":y._compress(s,15,function(h){return f(h+32)})+" "},decompressFromUTF16:function(s){return s==null?"":s==""?null:y._decompress(s.length,16384,function(h){return s.charCodeAt(h)-32})},compressToUint8Array:function(s){for(var h=y.compress(s),o=new Uint8Array(h.length*2),r=0,i=h.length;r<i;r++){var t=h.charCodeAt(r);o[r*2]=t>>>8,o[r*2+1]=t%256}return o},decompressFromUint8Array:function(s){if(s==null)return y.decompress(s);for(var h=new Array(s.length/2),o=0,r=h.length;o<r;o++)h[o]=s[o*2]*256+s[o*2+1];var i=[];return h.forEach(function(t){i.push(f(t))}),y.decompress(i.join(""))},compressToEncodedURIComponent:function(s){return s==null?"":y._compress(s,6,function(h){return W.charAt(h)})},decompressFromEncodedURIComponent:function(s){return s==null?"":s==""?null:(s=s.replace(/ /g,"+"),y._decompress(s.length,32,function(h){return $(W,s.charAt(h))}))},compress:function(s){return y._compress(s,16,function(h){return f(h)})},_compress:function(s,h,o){if(s==null)return"";var r,i,t={},e={},n="",a="",c="",d=2,k=3,v=2,p=[],u=0,m=0,A;for(A=0;A<s.length;A+=1)if(n=s.charAt(A),Object.prototype.hasOwnProperty.call(t,n)||(t[n]=k++,e[n]=!0),a=c+n,Object.prototype.hasOwnProperty.call(t,a))c=a;else{if(Object.prototype.hasOwnProperty.call(e,c)){if(c.charCodeAt(0)<256){for(r=0;r<v;r++)u=u<<1,m==h-1?(m=0,p.push(o(u)),u=0):m++;for(i=c.charCodeAt(0),r=0;r<8;r++)u=u<<1|i&1,m==h-1?(m=0,p.push(o(u)),u=0):m++,i=i>>1}else{for(i=1,r=0;r<v;r++)u=u<<1|i,m==h-1?(m=0,p.push(o(u)),u=0):m++,i=0;for(i=c.charCodeAt(0),r=0;r<16;r++)u=u<<1|i&1,m==h-1?(m=0,p.push(o(u)),u=0):m++,i=i>>1}d--,d==0&&(d=Math.pow(2,v),v++),delete e[c]}else for(i=t[c],r=0;r<v;r++)u=u<<1|i&1,m==h-1?(m=0,p.push(o(u)),u=0):m++,i=i>>1;d--,d==0&&(d=Math.pow(2,v),v++),t[a]=k++,c=String(n)}if(c!==""){if(Object.prototype.hasOwnProperty.call(e,c)){if(c.charCodeAt(0)<256){for(r=0;r<v;r++)u=u<<1,m==h-1?(m=0,p.push(o(u)),u=0):m++;for(i=c.charCodeAt(0),r=0;r<8;r++)u=u<<1|i&1,m==h-1?(m=0,p.push(o(u)),u=0):m++,i=i>>1}else{for(i=1,r=0;r<v;r++)u=u<<1|i,m==h-1?(m=0,p.push(o(u)),u=0):m++,i=0;for(i=c.charCodeAt(0),r=0;r<16;r++)u=u<<1|i&1,m==h-1?(m=0,p.push(o(u)),u=0):m++,i=i>>1}d--,d==0&&(d=Math.pow(2,v),v++),delete e[c]}else for(i=t[c],r=0;r<v;r++)u=u<<1|i&1,m==h-1?(m=0,p.push(o(u)),u=0):m++,i=i>>1;d--,d==0&&(d=Math.pow(2,v),v++)}for(i=2,r=0;r<v;r++)u=u<<1|i&1,m==h-1?(m=0,p.push(o(u)),u=0):m++,i=i>>1;for(;;)if(u=u<<1,m==h-1){p.push(o(u));break}else m++;return p.join("")},decompress:function(s){return s==null?"":s==""?null:y._decompress(s.length,32768,function(h){return s.charCodeAt(h)})},_decompress:function(s,h,o){var r=[],i=4,t=4,e=3,n="",a=[],c,d,k,v,p,u,m,A={val:o(0),position:h,index:1};for(c=0;c<3;c+=1)r[c]=c;for(k=0,p=Math.pow(2,2),u=1;u!=p;)v=A.val&A.position,A.position>>=1,A.position==0&&(A.position=h,A.val=o(A.index++)),k|=(v>0?1:0)*u,u<<=1;switch(k){case 0:for(k=0,p=Math.pow(2,8),u=1;u!=p;)v=A.val&A.position,A.position>>=1,A.position==0&&(A.position=h,A.val=o(A.index++)),k|=(v>0?1:0)*u,u<<=1;m=f(k);break;case 1:for(k=0,p=Math.pow(2,16),u=1;u!=p;)v=A.val&A.position,A.position>>=1,A.position==0&&(A.position=h,A.val=o(A.index++)),k|=(v>0?1:0)*u,u<<=1;m=f(k);break;case 2:return""}for(r[3]=m,d=m,a.push(m);;){if(A.index>s)return"";for(k=0,p=Math.pow(2,e),u=1;u!=p;)v=A.val&A.position,A.position>>=1,A.position==0&&(A.position=h,A.val=o(A.index++)),k|=(v>0?1:0)*u,u<<=1;switch(m=k){case 0:for(k=0,p=Math.pow(2,8),u=1;u!=p;)v=A.val&A.position,A.position>>=1,A.position==0&&(A.position=h,A.val=o(A.index++)),k|=(v>0?1:0)*u,u<<=1;r[t++]=f(k),m=t-1,i--;break;case 1:for(k=0,p=Math.pow(2,16),u=1;u!=p;)v=A.val&A.position,A.position>>=1,A.position==0&&(A.position=h,A.val=o(A.index++)),k|=(v>0?1:0)*u,u<<=1;r[t++]=f(k),m=t-1,i--;break;case 2:return a.join("")}if(i==0&&(i=Math.pow(2,e),e++),r[m])n=r[m];else if(m===t)n=d+d.charAt(0);else return null;a.push(n),r[t++]=d+n.charAt(0),i--,d=n,i==0&&(i=Math.pow(2,e),e++)}}};return y}();te!=null?te.exports=Q:typeof angular<"u"&&angular!=null&&angular.module("LZString",[]).factory("LZString",function(){return Q})}(nn)),nn.exports}var Ni=Oi();const Yn=bn(Ni);var on={exports:{}},Bn;function Pi(){return Bn||(Bn=1,function(te,Q){(function(){var f="ace",x=function(){return this}();!x&&typeof window<"u"&&(x=window);var W=function(o,r,i){if(typeof o!="string"){W.original?W.original.apply(this,arguments):(console.error("dropping module because define wasn't a string."),console.trace());return}arguments.length==2&&(i=r),W.modules[o]||(W.payloads[o]=i,W.modules[o]=null)};W.modules={},W.payloads={};var M=function(o,r,i){if(typeof r=="string"){var t=s(o,r);if(t!=null)return i&&i(),t}else if(Object.prototype.toString.call(r)==="[object Array]"){for(var e=[],n=0,a=r.length;n<a;++n){var c=s(o,r[n]);if(c==null&&$.original)return;e.push(c)}return i&&i.apply(null,e)||!0}},$=function(o,r){var i=M("",o,r);return i==null&&$.original?$.original.apply(this,arguments):i},y=function(o,r){if(r.indexOf("!")!==-1){var i=r.split("!");return y(o,i[0])+"!"+y(o,i[1])}if(r.charAt(0)=="."){var t=o.split("/").slice(0,-1).join("/");for(r=t+"/"+r;r.indexOf(".")!==-1&&e!=r;){var e=r;r=r.replace(/\/\.\//,"/").replace(/[^\/]+\/\.\.\//,"")}}return r},s=function(o,r){r=y(o,r);var i=W.modules[r];if(!i){if(i=W.payloads[r],typeof i=="function"){var t={},e={id:r,uri:"",exports:t,packaged:!0},n=function(c,d){return M(r,c,d)},a=i(n,t,e);t=a||e.exports,W.modules[r]=t,delete W.payloads[r]}i=W.modules[r]=t||i}return i};function h(o){var r=x;x[o]||(x[o]={}),r=x[o],(!r.define||!r.define.packaged)&&(W.original=r.define,r.define=W,r.define.packaged=!0),(!r.require||!r.require.packaged)&&($.original=r.require,r.require=$,r.require.packaged=!0)}h(f)})(),ace.define("ace/lib/es6-shim",["require","exports","module"],function(f,x,W){function M($,y,s){Object.defineProperty($,y,{value:s,enumerable:!1,writable:!0,configurable:!0})}String.prototype.startsWith||M(String.prototype,"startsWith",function($,y){return y=y||0,this.lastIndexOf($,y)===y}),String.prototype.endsWith||M(String.prototype,"endsWith",function($,y){var s=this;(y===void 0||y>s.length)&&(y=s.length),y-=$.length;var h=s.indexOf($,y);return h!==-1&&h===y}),String.prototype.repeat||M(String.prototype,"repeat",function($){for(var y="",s=this;$>0;)$&1&&(y+=s),($>>=1)&&(s+=s);return y}),String.prototype.includes||M(String.prototype,"includes",function($,y){return this.indexOf($,y)!=-1}),Object.assign||(Object.assign=function($){if($==null)throw new TypeError("Cannot convert undefined or null to object");for(var y=Object($),s=1;s<arguments.length;s++){var h=arguments[s];h!=null&&Object.keys(h).forEach(function(o){y[o]=h[o]})}return y}),Object.values||(Object.values=function($){return Object.keys($).map(function(y){return $[y]})}),Array.prototype.find||M(Array.prototype,"find",function($){for(var y=this.length,s=arguments[1],h=0;h<y;h++){var o=this[h];if($.call(s,o,h,this))return o}}),Array.prototype.findIndex||M(Array.prototype,"findIndex",function($){for(var y=this.length,s=arguments[1],h=0;h<y;h++){var o=this[h];if($.call(s,o,h,this))return h}}),Array.prototype.includes||M(Array.prototype,"includes",function($,y){return this.indexOf($,y)!=-1}),Array.prototype.fill||M(Array.prototype,"fill",function($){for(var y=this,s=y.length>>>0,h=arguments[1],o=h>>0,r=o<0?Math.max(s+o,0):Math.min(o,s),i=arguments[2],t=i===void 0?s:i>>0,e=t<0?Math.max(s+t,0):Math.min(t,s);r<e;)y[r]=$,r++;return y}),Array.of||M(Array,"of",function(){return Array.prototype.slice.call(arguments)})}),ace.define("ace/lib/fixoldbrowsers",["require","exports","module","ace/lib/es6-shim"],function(f,x,W){f("./es6-shim")}),ace.define("ace/lib/deep_copy",["require","exports","module"],function(f,x,W){x.deepCopy=function M($){if(typeof $!="object"||!$)return $;var y;if(Array.isArray($)){y=[];for(var s=0;s<$.length;s++)y[s]=M($[s]);return y}if(Object.prototype.toString.call($)!=="[object Object]")return $;y={};for(var s in $)y[s]=M($[s]);return y}}),ace.define("ace/lib/lang",["require","exports","module","ace/lib/deep_copy"],function(f,x,W){x.last=function(y){return y[y.length-1]},x.stringReverse=function(y){return y.split("").reverse().join("")},x.stringRepeat=function(y,s){for(var h="";s>0;)s&1&&(h+=y),(s>>=1)&&(y+=y);return h};var M=/^\s\s*/,$=/\s\s*$/;x.stringTrimLeft=function(y){return y.replace(M,"")},x.stringTrimRight=function(y){return y.replace($,"")},x.copyObject=function(y){var s={};for(var h in y)s[h]=y[h];return s},x.copyArray=function(y){for(var s=[],h=0,o=y.length;h<o;h++)y[h]&&typeof y[h]=="object"?s[h]=this.copyObject(y[h]):s[h]=y[h];return s},x.deepCopy=f("./deep_copy").deepCopy,x.arrayToMap=function(y){for(var s={},h=0;h<y.length;h++)s[y[h]]=1;return s},x.createMap=function(y){var s=Object.create(null);for(var h in y)s[h]=y[h];return s},x.arrayRemove=function(y,s){for(var h=0;h<=y.length;h++)s===y[h]&&y.splice(h,1)},x.escapeRegExp=function(y){return y.replace(/([.*+?^${}()|[\]\/\\])/g,"\\$1")},x.escapeHTML=function(y){return(""+y).replace(/&/g,"&#38;").replace(/"/g,"&#34;").replace(/'/g,"&#39;").replace(/</g,"&#60;")},x.getMatchOffsets=function(y,s){var h=[];return y.replace(s,function(o){h.push({offset:arguments[arguments.length-2],length:o.length})}),h},x.deferredCall=function(y){var s=null,h=function(){s=null,y()},o=function(r){return o.cancel(),s=setTimeout(h,r||0),o};return o.schedule=o,o.call=function(){return this.cancel(),y(),o},o.cancel=function(){return clearTimeout(s),s=null,o},o.isPending=function(){return s},o},x.delayedCall=function(y,s){var h=null,o=function(){h=null,y()},r=function(i){h==null&&(h=setTimeout(o,i||s))};return r.delay=function(i){h&&clearTimeout(h),h=setTimeout(o,i||s)},r.schedule=r,r.call=function(){this.cancel(),y()},r.cancel=function(){h&&clearTimeout(h),h=null},r.isPending=function(){return h},r},x.supportsLookbehind=function(){try{new RegExp("(?<=.)")}catch{return!1}return!0},x.skipEmptyMatch=function(y,s,h){return h&&y.codePointAt(s)>65535?2:1}}),ace.define("ace/lib/useragent",["require","exports","module"],function(f,x,W){x.OS={LINUX:"LINUX",MAC:"MAC",WINDOWS:"WINDOWS"},x.getOS=function(){return x.isMac?x.OS.MAC:x.isLinux?x.OS.LINUX:x.OS.WINDOWS};var M=typeof navigator=="object"?navigator:{},$=(/mac|win|linux/i.exec(M.platform)||["other"])[0].toLowerCase(),y=M.userAgent||"",s=M.appName||"";x.isWin=$=="win",x.isMac=$=="mac",x.isLinux=$=="linux",x.isIE=s=="Microsoft Internet Explorer"||s.indexOf("MSAppHost")>=0?parseFloat((y.match(/(?:MSIE |Trident\/[0-9]+[\.0-9]+;.*rv:)([0-9]+[\.0-9]+)/)||[])[1]):parseFloat((y.match(/(?:Trident\/[0-9]+[\.0-9]+;.*rv:)([0-9]+[\.0-9]+)/)||[])[1]),x.isOldIE=x.isIE&&x.isIE<9,x.isGecko=x.isMozilla=y.match(/ Gecko\/\d+/),x.isOpera=typeof opera=="object"&&Object.prototype.toString.call(window.opera)=="[object Opera]",x.isWebKit=parseFloat(y.split("WebKit/")[1])||void 0,x.isChrome=parseFloat(y.split(" Chrome/")[1])||void 0,x.isSafari=parseFloat(y.split(" Safari/")[1])&&!x.isChrome||void 0,x.isEdge=parseFloat(y.split(" Edge/")[1])||void 0,x.isAIR=y.indexOf("AdobeAIR")>=0,x.isAndroid=y.indexOf("Android")>=0,x.isChromeOS=y.indexOf(" CrOS ")>=0,x.isIOS=/iPad|iPhone|iPod/.test(y)&&!window.MSStream,x.isIOS&&(x.isMac=!0),x.isMobile=x.isIOS||x.isAndroid}),ace.define("ace/lib/dom",["require","exports","module","ace/lib/useragent"],function(f,x,W){var M=f("./useragent"),$="http://www.w3.org/1999/xhtml";x.buildDom=function i(t,e,n){if(typeof t=="string"&&t){var a=document.createTextNode(t);return e&&e.appendChild(a),a}if(!Array.isArray(t))return t&&t.appendChild&&e&&e.appendChild(t),t;if(typeof t[0]!="string"||!t[0]){for(var c=[],d=0;d<t.length;d++){var k=i(t[d],e,n);k&&c.push(k)}return c}var v=document.createElement(t[0]),p=t[1],u=1;p&&typeof p=="object"&&!Array.isArray(p)&&(u=2);for(var d=u;d<t.length;d++)i(t[d],v,n);return u==2&&Object.keys(p).forEach(function(m){var A=p[m];m==="class"?v.className=Array.isArray(A)?A.join(" "):A:typeof A=="function"||m=="value"||m[0]=="$"?v[m]=A:m==="ref"?n&&(n[A]=v):m==="style"?typeof A=="string"&&(v.style.cssText=A):A!=null&&v.setAttribute(m,A)}),e&&e.appendChild(v),v},x.getDocumentHead=function(i){return i||(i=document),i.head||i.getElementsByTagName("head")[0]||i.documentElement},x.createElement=function(i,t){return document.createElementNS?document.createElementNS(t||$,i):document.createElement(i)},x.removeChildren=function(i){i.innerHTML=""},x.createTextNode=function(i,t){var e=t?t.ownerDocument:document;return e.createTextNode(i)},x.createFragment=function(i){var t=i?i.ownerDocument:document;return t.createDocumentFragment()},x.hasCssClass=function(i,t){var e=(i.className+"").split(/\s+/g);return e.indexOf(t)!==-1},x.addCssClass=function(i,t){x.hasCssClass(i,t)||(i.className+=" "+t)},x.removeCssClass=function(i,t){for(var e=i.className.split(/\s+/g);;){var n=e.indexOf(t);if(n==-1)break;e.splice(n,1)}i.className=e.join(" ")},x.toggleCssClass=function(i,t){for(var e=i.className.split(/\s+/g),n=!0;;){var a=e.indexOf(t);if(a==-1)break;n=!1,e.splice(a,1)}return n&&e.push(t),i.className=e.join(" "),n},x.setCssClass=function(i,t,e){e?x.addCssClass(i,t):x.removeCssClass(i,t)},x.hasCssString=function(i,t){var e=0,n;if(t=t||document,n=t.querySelectorAll("style")){for(;e<n.length;)if(n[e++].id===i)return!0}},x.removeElementById=function(i,t){t=t||document,t.getElementById(i)&&t.getElementById(i).remove()};var y,s=[];x.useStrictCSP=function(i){y=i,i==!1?h():s||(s=[])};function h(){var i=s;s=null,i&&i.forEach(function(t){o(t[0],t[1])})}function o(i,t,e){if(!(typeof document>"u")){if(s){if(e)h();else if(e===!1)return s.push([i,t])}if(!y){var n=e;!e||!e.getRootNode?n=document:(n=e.getRootNode(),(!n||n==e)&&(n=document));var a=n.ownerDocument||n;if(t&&x.hasCssString(t,n))return null;t&&(i+=`
/*# sourceURL=ace/css/`+t+" */");var c=x.createElement("style");c.appendChild(a.createTextNode(i)),t&&(c.id=t),n==a&&(n=x.getDocumentHead(a)),n.insertBefore(c,n.firstChild)}}}if(x.importCssString=o,x.importCssStylsheet=function(i,t){x.buildDom(["link",{rel:"stylesheet",href:i}],x.getDocumentHead(t))},x.scrollbarWidth=function(i){var t=x.createElement("ace_inner");t.style.width="100%",t.style.minWidth="0px",t.style.height="200px",t.style.display="block";var e=x.createElement("ace_outer"),n=e.style;n.position="absolute",n.left="-10000px",n.overflow="hidden",n.width="200px",n.minWidth="0px",n.height="150px",n.display="block",e.appendChild(t);var a=i&&i.documentElement||document&&document.documentElement;if(!a)return 0;a.appendChild(e);var c=t.offsetWidth;n.overflow="scroll";var d=t.offsetWidth;return c===d&&(d=e.clientWidth),a.removeChild(e),c-d},x.computedStyle=function(i,t){return window.getComputedStyle(i,"")||{}},x.setStyle=function(i,t,e){i[t]!==e&&(i[t]=e)},x.HAS_CSS_ANIMATION=!1,x.HAS_CSS_TRANSFORMS=!1,x.HI_DPI=M.isWin?typeof window<"u"&&window.devicePixelRatio>=1.5:!0,M.isChromeOS&&(x.HI_DPI=!1),typeof document<"u"){var r=document.createElement("div");x.HI_DPI&&r.style.transform!==void 0&&(x.HAS_CSS_TRANSFORMS=!0),!M.isEdge&&typeof r.style.animationName<"u"&&(x.HAS_CSS_ANIMATION=!0),r=null}x.HAS_CSS_TRANSFORMS?x.translate=function(i,t,e){i.style.transform="translate("+Math.round(t)+"px, "+Math.round(e)+"px)"}:x.translate=function(i,t,e){i.style.top=Math.round(e)+"px",i.style.left=Math.round(t)+"px"}}),ace.define("ace/lib/net",["require","exports","module","ace/lib/dom"],function(f,x,W){/*
* based on code from:
*
* @license RequireJS text 0.25.0 Copyright (c) 2010-2011, The Dojo Foundation All Rights Reserved.
* Available via the MIT or new BSD license.
* see: http://github.com/jrburke/requirejs for details
*/var M=f("./dom");x.get=function($,y){var s=new XMLHttpRequest;s.open("GET",$,!0),s.onreadystatechange=function(){s.readyState===4&&y(s.responseText)},s.send(null)},x.loadScript=function($,y){var s=M.getDocumentHead(),h=document.createElement("script");h.src=$,s.appendChild(h),h.onload=h.onreadystatechange=function(o,r){(r||!h.readyState||h.readyState=="loaded"||h.readyState=="complete")&&(h=h.onload=h.onreadystatechange=null,r||y())}},x.qualifyURL=function($){var y=document.createElement("a");return y.href=$,y.href}}),ace.define("ace/lib/oop",["require","exports","module"],function(f,x,W){x.inherits=function(M,$){M.super_=$,M.prototype=Object.create($.prototype,{constructor:{value:M,enumerable:!1,writable:!0,configurable:!0}})},x.mixin=function(M,$){for(var y in $)M[y]=$[y];return M},x.implement=function(M,$){x.mixin(M,$)}}),ace.define("ace/lib/event_emitter",["require","exports","module"],function(f,x,W){var M={},$=function(){this.propagationStopped=!0},y=function(){this.defaultPrevented=!0};M._emit=M._dispatchEvent=function(s,h){this._eventRegistry||(this._eventRegistry={}),this._defaultHandlers||(this._defaultHandlers={});var o=this._eventRegistry[s]||[],r=this._defaultHandlers[s];if(!(!o.length&&!r)){(typeof h!="object"||!h)&&(h={}),h.type||(h.type=s),h.stopPropagation||(h.stopPropagation=$),h.preventDefault||(h.preventDefault=y),o=o.slice();for(var i=0;i<o.length&&(o[i](h,this),!h.propagationStopped);i++);if(r&&!h.defaultPrevented)return r(h,this)}},M._signal=function(s,h){var o=(this._eventRegistry||{})[s];if(o){o=o.slice();for(var r=0;r<o.length;r++)o[r](h,this)}},M.once=function(s,h){var o=this;if(this.on(s,function r(){o.off(s,r),h.apply(null,arguments)}),!h)return new Promise(function(r){h=r})},M.setDefaultHandler=function(s,h){var o=this._defaultHandlers;if(o||(o=this._defaultHandlers={_disabled_:{}}),o[s]){var r=o[s],i=o._disabled_[s];i||(o._disabled_[s]=i=[]),i.push(r);var t=i.indexOf(h);t!=-1&&i.splice(t,1)}o[s]=h},M.removeDefaultHandler=function(s,h){var o=this._defaultHandlers;if(o){var r=o._disabled_[s];if(o[s]==h)r&&this.setDefaultHandler(s,r.pop());else if(r){var i=r.indexOf(h);i!=-1&&r.splice(i,1)}}},M.on=M.addEventListener=function(s,h,o){this._eventRegistry=this._eventRegistry||{};var r=this._eventRegistry[s];return r||(r=this._eventRegistry[s]=[]),r.indexOf(h)==-1&&r[o?"unshift":"push"](h),h},M.off=M.removeListener=M.removeEventListener=function(s,h){this._eventRegistry=this._eventRegistry||{};var o=this._eventRegistry[s];if(o){var r=o.indexOf(h);r!==-1&&o.splice(r,1)}},M.removeAllListeners=function(s){s||(this._eventRegistry=this._defaultHandlers=void 0),this._eventRegistry&&(this._eventRegistry[s]=void 0),this._defaultHandlers&&(this._defaultHandlers[s]=void 0)},x.EventEmitter=M}),ace.define("ace/lib/report_error",["require","exports","module"],function(f,x,W){x.reportError=function($,y){var s=new Error($);s.data=y,typeof console=="object"&&console.error&&console.error(s),setTimeout(function(){throw s})}}),ace.define("ace/lib/default_english_messages",["require","exports","module"],function(f,x,W){var M={"autocomplete.popup.aria-roledescription":"Autocomplete suggestions","autocomplete.popup.aria-label":"Autocomplete suggestions","autocomplete.popup.item.aria-roledescription":"item","autocomplete.loading":"Loading...","editor.scroller.aria-roledescription":"editor","editor.scroller.aria-label":"Editor content, press Enter to start editing, press Escape to exit","editor.gutter.aria-roledescription":"editor","editor.gutter.aria-label":"Editor gutter, press Enter to interact with controls using arrow keys, press Escape to exit","error-marker.good-state":"Looks good!","prompt.recently-used":"Recently used","prompt.other-commands":"Other commands","prompt.no-matching-commands":"No matching commands","search-box.find.placeholder":"Search for","search-box.find-all.text":"All","search-box.replace.placeholder":"Replace with","search-box.replace-next.text":"Replace","search-box.replace-all.text":"All","search-box.toggle-replace.title":"Toggle Replace mode","search-box.toggle-regexp.title":"RegExp Search","search-box.toggle-case.title":"CaseSensitive Search","search-box.toggle-whole-word.title":"Whole Word Search","search-box.toggle-in-selection.title":"Search In Selection","search-box.search-counter":"$0 of $1","text-input.aria-roledescription":"editor","text-input.aria-label":"Cursor at row $0","gutter.code-folding.range.aria-label":"Toggle code folding, rows $0 through $1","gutter.code-folding.closed.aria-label":"Toggle code folding, rows $0 through $1","gutter.code-folding.open.aria-label":"Toggle code folding, row $0","gutter.code-folding.closed.title":"Unfold code","gutter.code-folding.open.title":"Fold code","gutter.annotation.aria-label.error":"Error, read annotations row $0","gutter.annotation.aria-label.warning":"Warning, read annotations row $0","gutter.annotation.aria-label.info":"Info, read annotations row $0","inline-fold.closed.title":"Unfold code","gutter-tooltip.aria-label.error.singular":"error","gutter-tooltip.aria-label.error.plural":"errors","gutter-tooltip.aria-label.warning.singular":"warning","gutter-tooltip.aria-label.warning.plural":"warnings","gutter-tooltip.aria-label.info.singular":"information message","gutter-tooltip.aria-label.info.plural":"information messages","gutter.annotation.aria-label.security":"Security finding, read annotations row $0","gutter.annotation.aria-label.hint":"Suggestion, read annotations row $0","gutter-tooltip.aria-label.security.singular":"security finding","gutter-tooltip.aria-label.security.plural":"security findings","gutter-tooltip.aria-label.hint.singular":"suggestion","gutter-tooltip.aria-label.hint.plural":"suggestions"};x.defaultEnglishMessages=M}),ace.define("ace/lib/app_config",["require","exports","module","ace/lib/oop","ace/lib/event_emitter","ace/lib/report_error","ace/lib/default_english_messages"],function(f,x,W){"no use strict";var M=f("./oop"),$=f("./event_emitter").EventEmitter,y=f("./report_error").reportError,s=f("./default_english_messages").defaultEnglishMessages,h={setOptions:function(e){Object.keys(e).forEach(function(n){this.setOption(n,e[n])},this)},getOptions:function(e){var n={};if(e)Array.isArray(e)||(n=e,e=Object.keys(n));else{var a=this.$options;e=Object.keys(a).filter(function(c){return!a[c].hidden})}return e.forEach(function(c){n[c]=this.getOption(c)},this),n},setOption:function(e,n){if(this["$"+e]!==n){var a=this.$options[e];if(!a)return o('misspelled option "'+e+'"');if(a.forwardTo)return this[a.forwardTo]&&this[a.forwardTo].setOption(e,n);a.handlesSet||(this["$"+e]=n),a&&a.set&&a.set.call(this,n)}},getOption:function(e){var n=this.$options[e];return n?n.forwardTo?this[n.forwardTo]&&this[n.forwardTo].getOption(e):n&&n.get?n.get.call(this):this["$"+e]:o('misspelled option "'+e+'"')}};function o(e){typeof console<"u"&&console.warn&&console.warn.apply(console,arguments)}var r,i,t=function(){function e(){this.$defaultOptions={},r=s,i="dollarSigns"}return e.prototype.defineOptions=function(n,a,c){return n.$options||(this.$defaultOptions[a]=n.$options={}),Object.keys(c).forEach(function(d){var k=c[d];typeof k=="string"&&(k={forwardTo:k}),k.name||(k.name=d),n.$options[k.name]=k,"initialValue"in k&&(n["$"+k.name]=k.initialValue)}),M.implement(n,h),this},e.prototype.resetOptions=function(n){Object.keys(n.$options).forEach(function(a){var c=n.$options[a];"value"in c&&n.setOption(a,c.value)})},e.prototype.setDefaultValue=function(n,a,c){if(!n){for(n in this.$defaultOptions)if(this.$defaultOptions[n][a])break;if(!this.$defaultOptions[n][a])return!1}var d=this.$defaultOptions[n]||(this.$defaultOptions[n]={});d[a]&&(d.forwardTo?this.setDefaultValue(d.forwardTo,a,c):d[a].value=c)},e.prototype.setDefaultValues=function(n,a){Object.keys(a).forEach(function(c){this.setDefaultValue(n,c,a[c])},this)},e.prototype.setMessages=function(n,a){r=n,a&&a.placeholders&&(i=a.placeholders)},e.prototype.nls=function(n,a,c){r[n]||(o("No message found for the key '"+n+"' in the provided messages, trying to find a translation for the default string '"+a+"'."),r[a]||o("No message found for the default string '"+a+"' in the provided messages. Falling back to the default English message."));var d=r[n]||r[a]||a;return c&&(i==="dollarSigns"&&(d=d.replace(/\$(\$|[\d]+)/g,function(k,v){return v=="$"?"$":c[v]})),i==="curlyBrackets"&&(d=d.replace(/\{([^\}]+)\}/g,function(k,v){return c[v]}))),d},e}();t.prototype.warn=o,t.prototype.reportError=y,M.implement(t.prototype,$),x.AppConfig=t}),ace.define("ace/theme/textmate-css",["require","exports","module"],function(f,x,W){W.exports=`.ace-tm .ace_gutter {
  background: #f0f0f0;
  color: #333;
}

.ace-tm .ace_print-margin {
  width: 1px;
  background: #e8e8e8;
}

.ace-tm .ace_fold {
    background-color: #6B72E6;
}

.ace-tm {
  background-color: #FFFFFF;
  color: black;
}

.ace-tm .ace_cursor {
  color: black;
}
        
.ace-tm .ace_invisible {
  color: rgb(191, 191, 191);
}

.ace-tm .ace_storage,
.ace-tm .ace_keyword {
  color: blue;
}

.ace-tm .ace_constant {
  color: rgb(197, 6, 11);
}

.ace-tm .ace_constant.ace_buildin {
  color: rgb(88, 72, 246);
}

.ace-tm .ace_constant.ace_language {
  color: rgb(88, 92, 246);
}

.ace-tm .ace_constant.ace_library {
  color: rgb(6, 150, 14);
}

.ace-tm .ace_invalid {
  background-color: rgba(255, 0, 0, 0.1);
  color: red;
}

.ace-tm .ace_support.ace_function {
  color: rgb(60, 76, 114);
}

.ace-tm .ace_support.ace_constant {
  color: rgb(6, 150, 14);
}

.ace-tm .ace_support.ace_type,
.ace-tm .ace_support.ace_class {
  color: rgb(109, 121, 222);
}

.ace-tm .ace_keyword.ace_operator {
  color: rgb(104, 118, 135);
}

.ace-tm .ace_string {
  color: rgb(3, 106, 7);
}

.ace-tm .ace_comment {
  color: rgb(76, 136, 107);
}

.ace-tm .ace_comment.ace_doc {
  color: rgb(0, 102, 255);
}

.ace-tm .ace_comment.ace_doc.ace_tag {
  color: rgb(128, 159, 191);
}

.ace-tm .ace_constant.ace_numeric {
  color: rgb(0, 0, 205);
}

.ace-tm .ace_variable {
  color: rgb(49, 132, 149);
}

.ace-tm .ace_xml-pe {
  color: rgb(104, 104, 91);
}

.ace-tm .ace_entity.ace_name.ace_function {
  color: #0000A2;
}


.ace-tm .ace_heading {
  color: rgb(12, 7, 255);
}

.ace-tm .ace_list {
  color:rgb(185, 6, 144);
}

.ace-tm .ace_meta.ace_tag {
  color:rgb(0, 22, 142);
}

.ace-tm .ace_string.ace_regex {
  color: rgb(255, 0, 0)
}

.ace-tm .ace_marker-layer .ace_selection {
  background: rgb(181, 213, 255);
}
.ace-tm.ace_multiselect .ace_selection.ace_start {
  box-shadow: 0 0 3px 0px white;
}
.ace-tm .ace_marker-layer .ace_step {
  background: rgb(252, 255, 0);
}

.ace-tm .ace_marker-layer .ace_stack {
  background: rgb(164, 229, 101);
}

.ace-tm .ace_marker-layer .ace_bracket {
  margin: -1px 0 0 -1px;
  border: 1px solid rgb(192, 192, 192);
}

.ace-tm .ace_marker-layer .ace_active-line {
  background: rgba(0, 0, 0, 0.07);
}

.ace-tm .ace_gutter-active-line {
    background-color : #dcdcdc;
}

.ace-tm .ace_marker-layer .ace_selected-word {
  background: rgb(250, 250, 255);
  border: 1px solid rgb(200, 200, 250);
}

.ace-tm .ace_indent-guide {
  background: url("data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAEAAAACCAYAAACZgbYnAAAAE0lEQVQImWP4////f4bLly//BwAmVgd1/w11/gAAAABJRU5ErkJggg==") right repeat-y;
}

.ace-tm .ace_indent-guide-active {
  background: url("data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAEAAAACCAYAAACZgbYnAAAACXBIWXMAAAsTAAALEwEAmpwYAAAAIGNIUk0AAHolAACAgwAA+f8AAIDpAAB1MAAA6mAAADqYAAAXb5JfxUYAAAAZSURBVHjaYvj///9/hivKyv8BAAAA//8DACLqBhbvk+/eAAAAAElFTkSuQmCC") right repeat-y;
}
`}),ace.define("ace/theme/textmate",["require","exports","module","ace/theme/textmate-css","ace/lib/dom"],function(f,x,W){x.isDark=!1,x.cssClass="ace-tm",x.cssText=f("./textmate-css"),x.$id="ace/theme/textmate";var M=f("../lib/dom");M.importCssString(x.cssText,x.cssClass,!1)}),ace.define("ace/config",["require","exports","module","ace/lib/lang","ace/lib/net","ace/lib/dom","ace/lib/app_config","ace/theme/textmate"],function(f,x,W){"no use strict";var M=f("./lib/lang"),$=f("./lib/net"),y=f("./lib/dom"),s=f("./lib/app_config").AppConfig;W.exports=x=new s;var h={packaged:!1,workerPath:null,modePath:null,themePath:null,basePath:"",suffix:".js",$moduleUrls:{},loadWorkerFromBlob:!0,sharedPopups:!1,useStrictCSP:null};x.get=function(t){if(!h.hasOwnProperty(t))throw new Error("Unknown config key: "+t);return h[t]},x.set=function(t,e){if(h.hasOwnProperty(t))h[t]=e;else if(this.setDefaultValue("",t,e)==!1)throw new Error("Unknown config key: "+t);t=="useStrictCSP"&&y.useStrictCSP(e)},x.all=function(){return M.copyObject(h)},x.$modes={},x.moduleUrl=function(t,e){if(h.$moduleUrls[t])return h.$moduleUrls[t];var n=t.split("/");e=e||n[n.length-2]||"";var a=e=="snippets"?"/":"-",c=n[n.length-1];if(e=="worker"&&a=="-"){var d=new RegExp("^"+e+"[\\-_]|[\\-_]"+e+"$","g");c=c.replace(d,"")}(!c||c==e)&&n.length>1&&(c=n[n.length-2]);var k=h[e+"Path"];return k==null?k=h.basePath:a=="/"&&(e=a=""),k&&k.slice(-1)!="/"&&(k+="/"),k+e+a+c+this.get("suffix")},x.setModuleUrl=function(t,e){return h.$moduleUrls[t]=e};var o=function(t,e){if(t==="ace/theme/textmate"||t==="./theme/textmate")return e(null,f("./theme/textmate"));if(r)return r(t,e);console.error("loader is not configured")},r;x.setLoader=function(t){r=t},x.dynamicModules=Object.create(null),x.$loading={},x.$loaded={},x.loadModule=function(t,e){var n;if(Array.isArray(t))var a=t[0],c=t[1];else if(typeof t=="string")var c=t;var d=function(k){if(k&&!x.$loading[c])return e&&e(k);if(x.$loading[c]||(x.$loading[c]=[]),x.$loading[c].push(e),!(x.$loading[c].length>1)){var v=function(){o(c,function(p,u){u&&(x.$loaded[c]=u),x._emit("load.module",{name:c,module:u});var m=x.$loading[c];x.$loading[c]=null,m.forEach(function(A){A&&A(u)})})};if(!x.get("packaged"))return v();$.loadScript(x.moduleUrl(c,a),v),i()}};if(x.dynamicModules[c])x.dynamicModules[c]().then(function(k){k.default?d(k.default):d(k)});else{try{n=this.$require(c)}catch{}d(n||x.$loaded[c])}},x.$require=function(t){if(typeof W.require=="function"){var e="require";return W[e](t)}},x.setModuleLoader=function(t,e){x.dynamicModules[t]=e};var i=function(){!h.basePath&&!h.workerPath&&!h.modePath&&!h.themePath&&!Object.keys(h.$moduleUrls).length&&(console.error("Unable to infer path to ace from script src,","use ace.config.set('basePath', 'path') to enable dynamic loading of modes and themes","or with webpack use ace/webpack-resolver"),i=function(){})};x.version="1.36.2"}),ace.define("ace/loader_build",["require","exports","module","ace/lib/fixoldbrowsers","ace/config"],function(f,x,W){f("./lib/fixoldbrowsers");var M=f("./config");M.setLoader(function(h,o){f([h],function(r){o(null,r)})});var $=function(){return this||typeof window<"u"&&window}();W.exports=function(h){M.init=y,M.$require=f,h.require=f},y(!0);function y(h){if(!(!$||!$.document)){M.set("packaged",h||f.packaged||W.packaged||$.define&&(void 0).packaged);var o={},r="",i=document.currentScript||document._currentScript,t=i&&i.ownerDocument||document;i&&i.src&&(r=i.src.split(/[?#]/)[0].split("/").slice(0,-1).join("/")||"");for(var e=t.getElementsByTagName("script"),n=0;n<e.length;n++){var a=e[n],c=a.src||a.getAttribute("src");if(c){for(var d=a.attributes,k=0,v=d.length;k<v;k++){var p=d[k];p.name.indexOf("data-ace-")===0&&(o[s(p.name.replace(/^data-ace-/,""))]=p.value)}var u=c.match(/^(.*)\/ace([\-.]\w+)?\.js(\?|$)/);u&&(r=u[1])}}r&&(o.base=o.base||r,o.packaged=!0),o.basePath=o.base,o.workerPath=o.workerPath||o.base,o.modePath=o.modePath||o.base,o.themePath=o.themePath||o.base,delete o.base;for(var m in o)typeof o[m]<"u"&&M.set(m,o[m])}}function s(h){return h.replace(/-(.)/g,function(o,r){return r.toUpperCase()})}}),ace.define("ace/range",["require","exports","module"],function(f,x,W){var M=function(){function $(y,s,h,o){this.start={row:y,column:s},this.end={row:h,column:o}}return $.prototype.isEqual=function(y){return this.start.row===y.start.row&&this.end.row===y.end.row&&this.start.column===y.start.column&&this.end.column===y.end.column},$.prototype.toString=function(){return"Range: ["+this.start.row+"/"+this.start.column+"] -> ["+this.end.row+"/"+this.end.column+"]"},$.prototype.contains=function(y,s){return this.compare(y,s)==0},$.prototype.compareRange=function(y){var s,h=y.end,o=y.start;return s=this.compare(h.row,h.column),s==1?(s=this.compare(o.row,o.column),s==1?2:s==0?1:0):s==-1?-2:(s=this.compare(o.row,o.column),s==-1?-1:s==1?42:0)},$.prototype.comparePoint=function(y){return this.compare(y.row,y.column)},$.prototype.containsRange=function(y){return this.comparePoint(y.start)==0&&this.comparePoint(y.end)==0},$.prototype.intersects=function(y){var s=this.compareRange(y);return s==-1||s==0||s==1},$.prototype.isEnd=function(y,s){return this.end.row==y&&this.end.column==s},$.prototype.isStart=function(y,s){return this.start.row==y&&this.start.column==s},$.prototype.setStart=function(y,s){typeof y=="object"?(this.start.column=y.column,this.start.row=y.row):(this.start.row=y,this.start.column=s)},$.prototype.setEnd=function(y,s){typeof y=="object"?(this.end.column=y.column,this.end.row=y.row):(this.end.row=y,this.end.column=s)},$.prototype.inside=function(y,s){return this.compare(y,s)==0?!(this.isEnd(y,s)||this.isStart(y,s)):!1},$.prototype.insideStart=function(y,s){return this.compare(y,s)==0?!this.isEnd(y,s):!1},$.prototype.insideEnd=function(y,s){return this.compare(y,s)==0?!this.isStart(y,s):!1},$.prototype.compare=function(y,s){return!this.isMultiLine()&&y===this.start.row?s<this.start.column?-1:s>this.end.column?1:0:y<this.start.row?-1:y>this.end.row?1:this.start.row===y?s>=this.start.column?0:-1:this.end.row===y?s<=this.end.column?0:1:0},$.prototype.compareStart=function(y,s){return this.start.row==y&&this.start.column==s?-1:this.compare(y,s)},$.prototype.compareEnd=function(y,s){return this.end.row==y&&this.end.column==s?1:this.compare(y,s)},$.prototype.compareInside=function(y,s){return this.end.row==y&&this.end.column==s?1:this.start.row==y&&this.start.column==s?-1:this.compare(y,s)},$.prototype.clipRows=function(y,s){if(this.end.row>s)var h={row:s+1,column:0};else if(this.end.row<y)var h={row:y,column:0};if(this.start.row>s)var o={row:s+1,column:0};else if(this.start.row<y)var o={row:y,column:0};return $.fromPoints(o||this.start,h||this.end)},$.prototype.extend=function(y,s){var h=this.compare(y,s);if(h==0)return this;if(h==-1)var o={row:y,column:s};else var r={row:y,column:s};return $.fromPoints(o||this.start,r||this.end)},$.prototype.isEmpty=function(){return this.start.row===this.end.row&&this.start.column===this.end.column},$.prototype.isMultiLine=function(){return this.start.row!==this.end.row},$.prototype.clone=function(){return $.fromPoints(this.start,this.end)},$.prototype.collapseRows=function(){return this.end.column==0?new $(this.start.row,0,Math.max(this.start.row,this.end.row-1),0):new $(this.start.row,0,this.end.row,0)},$.prototype.toScreenRange=function(y){var s=y.documentToScreenPosition(this.start),h=y.documentToScreenPosition(this.end);return new $(s.row,s.column,h.row,h.column)},$.prototype.moveBy=function(y,s){this.start.row+=y,this.start.column+=s,this.end.row+=y,this.end.column+=s},$}();M.fromPoints=function($,y){return new M($.row,$.column,y.row,y.column)},M.comparePoints=function($,y){return $.row-y.row||$.column-y.column},x.Range=M}),ace.define("ace/lib/keys",["require","exports","module","ace/lib/oop"],function(f,x,W){for(var M=f("./oop"),$={MODIFIER_KEYS:{16:"Shift",17:"Ctrl",18:"Alt",224:"Meta",91:"MetaLeft",92:"MetaRight",93:"ContextMenu"},KEY_MODS:{ctrl:1,alt:2,option:2,shift:4,super:8,meta:8,command:8,cmd:8,control:1},FUNCTION_KEYS:{8:"Backspace",9:"Tab",13:"Return",19:"Pause",27:"Esc",32:"Space",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"Left",38:"Up",39:"Right",40:"Down",44:"Print",45:"Insert",46:"Delete","-13":"NumpadEnter",144:"Numlock",145:"Scrolllock"},PRINTABLE_KEYS:{32:" ",59:";",61:"=",107:"+",109:"-",110:".",186:";",187:"=",188:",",189:"-",190:".",191:"/",192:"`",219:"[",220:"\\",221:"]",222:"'",111:"/",106:"*"}},y={Command:224,Backspace:8,Tab:9,Return:13,Enter:13,Pause:19,Escape:27,PageUp:33,PageDown:34,End:35,Home:36,Insert:45,Delete:46,ArrowLeft:37,ArrowUp:38,ArrowRight:39,ArrowDown:40,Backquote:192,Minus:189,Equal:187,BracketLeft:219,Backslash:220,BracketRight:221,Semicolon:186,Quote:222,Comma:188,Period:190,Slash:191,Space:32,NumpadAdd:107,NumpadDecimal:110,NumpadSubtract:109,NumpadDivide:111,NumpadMultiply:106},s=0;s<10;s++)y["Digit"+s]=48+s,y["Numpad"+s]=96+s,$.PRINTABLE_KEYS[48+s]=""+s,$.FUNCTION_KEYS[96+s]="Numpad"+s;for(var s=65;s<91;s++){var h=String.fromCharCode(s+32);y["Key"+h.toUpperCase()]=s,$.PRINTABLE_KEYS[s]=h}for(var s=1;s<13;s++)y["F"+s]=111+s,$.FUNCTION_KEYS[111+s]="F"+s;var o={Shift:16,Control:17,Alt:18,Meta:224};for(var r in o)y[r]=y[r+"Left"]=y[r+"Right"]=o[r];x.$codeToKeyCode=y,$.PRINTABLE_KEYS[173]="-";for(var i in $.FUNCTION_KEYS){var t=$.FUNCTION_KEYS[i].toLowerCase();$[t]=parseInt(i,10)}for(var i in $.PRINTABLE_KEYS){var t=$.PRINTABLE_KEYS[i].toLowerCase();$[t]=parseInt(i,10)}M.mixin($,$.MODIFIER_KEYS),M.mixin($,$.PRINTABLE_KEYS),M.mixin($,$.FUNCTION_KEYS),$.enter=$.return,$.escape=$.esc,$.del=$.delete,function(){for(var e=["cmd","ctrl","alt","shift"],n=Math.pow(2,e.length);n--;)$.KEY_MODS[n]=e.filter(function(a){return n&$.KEY_MODS[a]}).join("-")+"-"}(),$.KEY_MODS[0]="",$.KEY_MODS[-1]="input-",M.mixin(x,$),x.default=x,x.keyCodeToString=function(e){var n=$[e];return typeof n!="string"&&(n=String.fromCharCode(e)),n.toLowerCase()}}),ace.define("ace/lib/event",["require","exports","module","ace/lib/keys","ace/lib/useragent"],function(f,x,W){var M=f("./keys"),$=f("./useragent"),y=null,s=0,h;function o(){h=!1;try{document.createComment("").addEventListener("test",function(){},{get passive(){return h={passive:!1},!0}})}catch{}}function r(){return h==null&&o(),h}function i(k,v,p){this.elem=k,this.type=v,this.callback=p}i.prototype.destroy=function(){e(this.elem,this.type,this.callback),this.elem=this.type=this.callback=void 0};var t=x.addListener=function(k,v,p,u){k.addEventListener(v,p,r()),u&&u.$toDestroy.push(new i(k,v,p))},e=x.removeListener=function(k,v,p){k.removeEventListener(v,p,r())};x.stopEvent=function(k){return x.stopPropagation(k),x.preventDefault(k),!1},x.stopPropagation=function(k){k.stopPropagation&&k.stopPropagation()},x.preventDefault=function(k){k.preventDefault&&k.preventDefault()},x.getButton=function(k){return k.type=="dblclick"?0:k.type=="contextmenu"||$.isMac&&k.ctrlKey&&!k.altKey&&!k.shiftKey?2:k.button},x.capture=function(k,v,p){var u=k&&k.ownerDocument||document;function m(A){v&&v(A),p&&p(A),e(u,"mousemove",v),e(u,"mouseup",m),e(u,"dragstart",m)}return t(u,"mousemove",v),t(u,"mouseup",m),t(u,"dragstart",m),m},x.addMouseWheelListener=function(k,v,p){t(k,"wheel",function(u){var m=.15,A=u.deltaX||0,S=u.deltaY||0;switch(u.deltaMode){case u.DOM_DELTA_PIXEL:u.wheelX=A*m,u.wheelY=S*m;break;case u.DOM_DELTA_LINE:var C=15;u.wheelX=A*C,u.wheelY=S*C;break;case u.DOM_DELTA_PAGE:var R=150;u.wheelX=A*R,u.wheelY=S*R;break}v(u)},p)},x.addMultiMouseDownListener=function(k,v,p,u,m){var A=0,S,C,R,g={2:"dblclick",3:"tripleclick",4:"quadclick"};function w(l){if(x.getButton(l)!==0?A=0:l.detail>1?(A++,A>4&&(A=1)):A=1,$.isIE){var _=Math.abs(l.clientX-S)>5||Math.abs(l.clientY-C)>5;(!R||_)&&(A=1),R&&clearTimeout(R),R=setTimeout(function(){R=null},v[A-1]||600),A==1&&(S=l.clientX,C=l.clientY)}if(l._clicks=A,p[u]("mousedown",l),A>4)A=0;else if(A>1)return p[u](g[A],l)}Array.isArray(k)||(k=[k]),k.forEach(function(l){t(l,"mousedown",w,m)})};function n(k){return 0|(k.ctrlKey?1:0)|(k.altKey?2:0)|(k.shiftKey?4:0)|(k.metaKey?8:0)}x.getModifierString=function(k){return M.KEY_MODS[n(k)]};function a(k,v,p){var u=n(v);if(!p&&v.code&&(p=M.$codeToKeyCode[v.code]||p),!$.isMac&&y){if(v.getModifierState&&(v.getModifierState("OS")||v.getModifierState("Win"))&&(u|=8),y.altGr)if((3&u)!=3)y.altGr=0;else return;if(p===18||p===17){var m=v.location;if(p===17&&m===1)y[p]==1&&(s=v.timeStamp);else if(p===18&&u===3&&m===2){var A=v.timeStamp-s;A<50&&(y.altGr=!0)}}}if(p in M.MODIFIER_KEYS&&(p=-1),!(!u&&p===13&&v.location===3&&(k(v,u,-p),v.defaultPrevented))){if($.isChromeOS&&u&8){if(k(v,u,p),v.defaultPrevented)return;u&=-9}return!u&&!(p in M.FUNCTION_KEYS)&&!(p in M.PRINTABLE_KEYS)?!1:k(v,u,p)}}x.addCommandKeyListener=function(k,v,p){var u=null;t(k,"keydown",function(m){y[m.keyCode]=(y[m.keyCode]||0)+1;var A=a(v,m,m.keyCode);return u=m.defaultPrevented,A},p),t(k,"keypress",function(m){u&&(m.ctrlKey||m.altKey||m.shiftKey||m.metaKey)&&(x.stopEvent(m),u=null)},p),t(k,"keyup",function(m){y[m.keyCode]=null},p),y||(c(),t(window,"focus",c))};function c(){y=Object.create(null)}if(typeof window=="object"&&window.postMessage&&!$.isOldIE){var d=1;x.nextTick=function(k,v){v=v||window;var p="zero-timeout-message-"+d++,u=function(m){m.data==p&&(x.stopPropagation(m),e(v,"message",u),k())};t(v,"message",u),v.postMessage(p,"*")}}x.$idleBlocked=!1,x.onIdle=function(k,v){return setTimeout(function p(){x.$idleBlocked?setTimeout(p,100):k()},v)},x.$idleBlockId=null,x.blockIdle=function(k){x.$idleBlockId&&clearTimeout(x.$idleBlockId),x.$idleBlocked=!0,x.$idleBlockId=setTimeout(function(){x.$idleBlocked=!1},k||100)},x.nextFrame=typeof window=="object"&&(window.requestAnimationFrame||window.mozRequestAnimationFrame||window.webkitRequestAnimationFrame||window.msRequestAnimationFrame||window.oRequestAnimationFrame),x.nextFrame?x.nextFrame=x.nextFrame.bind(window):x.nextFrame=function(k){setTimeout(k,17)}}),ace.define("ace/clipboard",["require","exports","module"],function(f,x,W){var M;W.exports={lineMode:!1,pasteCancelled:function(){return M&&M>Date.now()-50?!0:M=!1},cancel:function(){M=Date.now()}}}),ace.define("ace/keyboard/textinput",["require","exports","module","ace/lib/event","ace/config","ace/lib/useragent","ace/lib/dom","ace/lib/lang","ace/clipboard","ace/lib/keys"],function(f,x,W){var M=f("../lib/event"),$=f("../config").nls,y=f("../lib/useragent"),s=f("../lib/dom"),h=f("../lib/lang"),o=f("../clipboard"),r=y.isChrome<18,i=y.isIE,t=y.isChrome>63,e=400,n=f("../lib/keys"),a=n.KEY_MODS,c=y.isIOS,d=c?/\s/:/\n/,k=y.isMobile,v;v=function(p,u){var m=s.createElement("textarea");m.className="ace_text-input",m.setAttribute("wrap","off"),m.setAttribute("autocorrect","off"),m.setAttribute("autocapitalize","off"),m.setAttribute("spellcheck","false"),m.style.opacity="0",p.insertBefore(m,p.firstChild);var A=!1,S=!1,C=!1,R=!1,g="";k||(m.style.fontSize="1px");var w=!1,l=!1,_="",L=0,F=0,U=0,H=Number.MAX_SAFE_INTEGER,X=Number.MIN_SAFE_INTEGER,q=0;try{var Z=document.activeElement===m}catch{}this.setNumberOfExtraLines=function(ye){if(H=Number.MAX_SAFE_INTEGER,X=Number.MIN_SAFE_INTEGER,ye<0){q=0;return}q=ye},this.setAriaOptions=function(ye){if(ye.activeDescendant?(m.setAttribute("aria-haspopup","true"),m.setAttribute("aria-autocomplete",ye.inline?"both":"list"),m.setAttribute("aria-activedescendant",ye.activeDescendant)):(m.setAttribute("aria-haspopup","false"),m.setAttribute("aria-autocomplete","both"),m.removeAttribute("aria-activedescendant")),ye.role&&m.setAttribute("role",ye.role),ye.setLabel){m.setAttribute("aria-roledescription",$("text-input.aria-roledescription","editor"));var Ae="";if(u.$textInputAriaLabel&&(Ae+="".concat(u.$textInputAriaLabel,", ")),u.session){var Fe=u.session.selection.cursor.row;Ae+=$("text-input.aria-label","Cursor at row $0",[Fe+1])}m.setAttribute("aria-label",Ae)}},this.setAriaOptions({role:"textbox"}),M.addListener(m,"blur",function(ye){l||(u.onBlur(ye),Z=!1)},u),M.addListener(m,"focus",function(ye){if(!l){if(Z=!0,y.isEdge)try{if(!document.hasFocus())return}catch{}u.onFocus(ye),y.isEdge?setTimeout(ee):ee()}},u),this.$focusScroll=!1,this.focus=function(){if(this.setAriaOptions({setLabel:u.renderer.enableKeyboardAccessibility}),g||t||this.$focusScroll=="browser")return m.focus({preventScroll:!0});var ye=m.style.top;m.style.position="fixed",m.style.top="0px";try{var Ae=m.getBoundingClientRect().top!=0}catch{return}var Fe=[];if(Ae)for(var _e=m.parentElement;_e&&_e.nodeType==1;)Fe.push(_e),_e.setAttribute("ace_nocontext","true"),!_e.parentElement&&_e.getRootNode?_e=_e.getRootNode().host:_e=_e.parentElement;m.focus({preventScroll:!0}),Ae&&Fe.forEach(function(Ye){Ye.removeAttribute("ace_nocontext")}),setTimeout(function(){m.style.position="",m.style.top=="0px"&&(m.style.top=ye)},0)},this.blur=function(){m.blur()},this.isFocused=function(){return Z},u.on("beforeEndOperation",function(){var ye=u.curOp,Ae=ye&&ye.command&&ye.command.name;if(Ae!="insertstring"){var Fe=Ae&&(ye.docChanged||ye.selectionChanged);C&&Fe&&(_=m.value="",ne()),ee()}});var oe=function(ye,Ae){for(var Fe=Ae,_e=1;_e<=ye-H&&_e<2*q+1;_e++)Fe+=u.session.getLine(ye-_e).length+1;return Fe},ee=c?function(ye){if(!(!Z||A&&!ye||R)){ye||(ye="");var Ae=`
 ab`+ye+`cde fg
`;Ae!=m.value&&(m.value=_=Ae);var Fe=4,_e=4+(ye.length||(u.selection.isEmpty()?0:1));(L!=Fe||F!=_e)&&m.setSelectionRange(Fe,_e),L=Fe,F=_e}}:function(){if(!(C||R)&&!(!Z&&!Se)){C=!0;var ye=0,Ae=0,Fe="";if(u.session){var _e=u.selection,Ye=_e.getRange(),Oe=_e.cursor.row;Oe===X+1?(H=X+1,X=H+2*q):Oe===H-1?(X=H-1,H=X-2*q):(Oe<H-1||Oe>X+1)&&(H=Oe>q?Oe-q:0,X=Oe>q?Oe+q:2*q);for(var Te=[],Le=H;Le<=X;Le++)Te.push(u.session.getLine(Le));if(Fe=Te.join(`
`),ye=oe(Ye.start.row,Ye.start.column),Ae=oe(Ye.end.row,Ye.end.column),Ye.start.row<H){var He=u.session.getLine(H-1);ye=Ye.start.row<H-1?0:ye,Ae+=He.length+1,Fe=He+`
`+Fe}else if(Ye.end.row>X){var z=u.session.getLine(X+1);Ae=Ye.end.row>X+1?z.length:Ye.end.column,Ae+=Fe.length+1,Fe=Fe+`
`+z}else k&&Oe>0&&(Fe=`
`+Fe,Ae+=1,ye+=1);Fe.length>e&&(ye<e&&Ae<e?Fe=Fe.slice(0,e):(Fe=`
`,ye==Ae?ye=Ae=0:(ye=0,Ae=1)));var je=Fe+`

`;je!=_&&(m.value=_=je,L=F=je.length)}if(Se&&(L=m.selectionStart,F=m.selectionEnd),F!=Ae||L!=ye||m.selectionEnd!=F)try{m.setSelectionRange(ye,Ae),L=ye,F=Ae}catch{}C=!1}};this.resetSelection=ee,Z&&u.onFocus();var se=function(ye){return ye.selectionStart===0&&ye.selectionEnd>=_.length&&ye.value===_&&_&&ye.selectionEnd!==F},fe=function(ye){C||(A?A=!1:se(m)?(u.selectAll(),ee()):k&&m.selectionStart!=L&&ee())},Ee=null;this.setInputHandler=function(ye){Ee=ye},this.getInputHandler=function(){return Ee};var Se=!1,Ce=function(ye,Ae){if(Se&&(Se=!1),S)return ee(),ye&&u.onPaste(ye),S=!1,"";for(var Fe=m.selectionStart,_e=m.selectionEnd,Ye=L,Oe=_.length-F,Te=ye,Le=ye.length-Fe,He=ye.length-_e,z=0;Ye>0&&_[z]==ye[z];)z++,Ye--;for(Te=Te.slice(z),z=1;Oe>0&&_.length-z>L-1&&_[_.length-z]==ye[ye.length-z];)z++,Oe--;Le-=z-1,He-=z-1;var je=Te.length-z+1;if(je<0&&(Ye=-je,je=0),Te=Te.slice(0,je),!Ae&&!Te&&!Le&&!Ye&&!Oe&&!He)return"";R=!0;var G=!1;return y.isAndroid&&Te==". "&&(Te="  ",G=!0),Te&&!Ye&&!Oe&&!Le&&!He||w?u.onTextInput(Te):u.onTextInput(Te,{extendLeft:Ye,extendRight:Oe,restoreStart:Le,restoreEnd:He}),R=!1,_=ye,L=Fe,F=_e,U=He,G?`
`:Te},De=function(ye){if(C)return ae();if(ye&&ye.inputType){if(ye.inputType=="historyUndo")return u.execCommand("undo");if(ye.inputType=="historyRedo")return u.execCommand("redo")}var Ae=m.value,Fe=Ce(Ae,!0);(Ae.length>e+100||d.test(Fe)||k&&L<1&&L==F)&&ee()},Pe=function(ye,Ae,Fe){var _e=ye.clipboardData||window.clipboardData;if(!(!_e||r)){var Ye=i||Fe?"Text":"text/plain";try{return Ae?_e.setData(Ye,Ae)!==!1:_e.getData(Ye)}catch(Oe){if(!Fe)return Pe(Oe,Ae,!0)}}},We=function(ye,Ae){var Fe=u.getCopyText();if(!Fe)return M.preventDefault(ye);Pe(ye,Fe)?(c&&(ee(Fe),A=Fe,setTimeout(function(){A=!1},10)),Ae?u.onCut():u.onCopy(),M.preventDefault(ye)):(A=!0,m.value=Fe,m.select(),setTimeout(function(){A=!1,ee(),Ae?u.onCut():u.onCopy()}))},Xe=function(ye){We(ye,!0)},O=function(ye){We(ye,!1)},be=function(ye){var Ae=Pe(ye);o.pasteCancelled()||(typeof Ae=="string"?(Ae&&u.onPaste(Ae,ye),y.isIE&&setTimeout(ee),M.preventDefault(ye)):(m.value="",S=!0))};M.addCommandKeyListener(m,function(ye,Ae,Fe){if(!C)return u.onCommandKey(ye,Ae,Fe)},u),M.addListener(m,"select",fe,u),M.addListener(m,"input",De,u),M.addListener(m,"cut",Xe,u),M.addListener(m,"copy",O,u),M.addListener(m,"paste",be,u),(!("oncut"in m)||!("oncopy"in m)||!("onpaste"in m))&&M.addListener(p,"keydown",function(ye){if(!(y.isMac&&!ye.metaKey||!ye.ctrlKey))switch(ye.keyCode){case 67:O(ye);break;case 86:be(ye);break;case 88:Xe(ye);break}},u);var he=function(ye){if(!(C||!u.onCompositionStart||u.$readOnly)&&(C={},!w)){ye.data&&(C.useTextareaForIME=!1),setTimeout(ae,0),u._signal("compositionStart"),u.on("mousedown",de);var Ae=u.getSelectionRange();Ae.end.row=Ae.start.row,Ae.end.column=Ae.start.column,C.markerRange=Ae,C.selectionStart=L,u.onCompositionStart(C),C.useTextareaForIME?(_=m.value="",L=0,F=0):(m.msGetInputContext&&(C.context=m.msGetInputContext()),m.getInputContext&&(C.context=m.getInputContext()))}},ae=function(){if(!(!C||!u.onCompositionUpdate||u.$readOnly)){if(w)return de();if(C.useTextareaForIME)u.onCompositionUpdate(m.value);else{var ye=m.value;Ce(ye),C.markerRange&&(C.context&&(C.markerRange.start.column=C.selectionStart=C.context.compositionStartOffset),C.markerRange.end.column=C.markerRange.start.column+F-C.selectionStart+U)}}},ne=function(ye){!u.onCompositionEnd||u.$readOnly||(C=!1,u.onCompositionEnd(),u.off("mousedown",de),ye&&De())};function de(){l=!0,m.blur(),m.focus(),l=!1}var Me=h.delayedCall(ae,50).schedule.bind(null,null);function ke(ye){ye.keyCode==27&&m.value.length<m.selectionStart&&(C||(_=m.value),L=F=-1,ee()),Me()}M.addListener(m,"compositionstart",he,u),M.addListener(m,"compositionupdate",ae,u),M.addListener(m,"keyup",ke,u),M.addListener(m,"keydown",Me,u),M.addListener(m,"compositionend",ne,u),this.getElement=function(){return m},this.setCommandMode=function(ye){w=ye,m.readOnly=!1},this.setReadOnly=function(ye){w||(m.readOnly=ye)},this.setCopyWithEmptySelection=function(ye){},this.onContextMenu=function(ye){Se=!0,ee(),u._emit("nativecontextmenu",{target:u,domEvent:ye}),this.moveToMouse(ye,!0)},this.moveToMouse=function(ye,Ae){g||(g=m.style.cssText),m.style.cssText=(Ae?"z-index:100000;":"")+(y.isIE?"opacity:0.1;":"")+"text-indent: -"+(L+F)*u.renderer.characterWidth*.5+"px;";var Fe=u.container.getBoundingClientRect(),_e=s.computedStyle(u.container),Ye=Fe.top+(parseInt(_e.borderTopWidth)||0),Oe=Fe.left+(parseInt(Fe.borderLeftWidth)||0),Te=Fe.bottom-Ye-m.clientHeight-2,Le=function(He){s.translate(m,He.clientX-Oe-2,Math.min(He.clientY-Ye-2,Te))};Le(ye),ye.type=="mousedown"&&(u.renderer.$isMousePressed=!0,clearTimeout(we),y.isWin&&M.capture(u.container,Le,xe))},this.onContextMenuClose=xe;var we;function xe(){clearTimeout(we),we=setTimeout(function(){g&&(m.style.cssText=g,g=""),u.renderer.$isMousePressed=!1,u.renderer.$keepTextAreaAtCursor&&u.renderer.$moveTextAreaToCursor()},0)}var Ne=function(ye){u.textInput.onContextMenu(ye),xe()};M.addListener(m,"mouseup",Ne,u),M.addListener(m,"mousedown",function(ye){ye.preventDefault(),xe()},u),M.addListener(u.renderer.scroller,"contextmenu",Ne,u),M.addListener(m,"contextmenu",Ne,u),c&&Ie(p,u,m);function Ie(ye,Ae,Fe){var _e=null,Ye=!1;Fe.addEventListener("keydown",function(Te){_e&&clearTimeout(_e),Ye=!0},!0),Fe.addEventListener("keyup",function(Te){_e=setTimeout(function(){Ye=!1},100)},!0);var Oe=function(Te){if(document.activeElement===Fe&&!(Ye||C||Ae.$mouseHandler.isMousePressed)&&!A){var Le=Fe.selectionStart,He=Fe.selectionEnd,z=null,je=0;if(Le==0?z=n.up:Le==1?z=n.home:He>F&&_[He]==`
`?z=n.end:Le<L&&_[Le-1]==" "?(z=n.left,je=a.option):Le<L||Le==L&&F!=L&&Le==He?z=n.left:He>F&&_.slice(0,He).split(`
`).length>2?z=n.down:He>F&&_[He-1]==" "?(z=n.right,je=a.option):(He>F||He==F&&F!=L&&Le==He)&&(z=n.right),Le!==He&&(je|=a.shift),z){var G=Ae.onCommandKey({},je,z);if(!G&&Ae.commands){z=n.keyCodeToString(z);var nt=Ae.commands.findKeyCommand(je,z);nt&&Ae.execCommand(nt)}L=Le,F=He,ee("")}}};document.addEventListener("selectionchange",Oe),Ae.on("destroy",function(){document.removeEventListener("selectionchange",Oe)})}this.destroy=function(){m.parentElement&&m.parentElement.removeChild(m)}},x.TextInput=v,x.$setUserAgentForTests=function(p,u){k=p,c=u}}),ace.define("ace/mouse/default_handlers",["require","exports","module","ace/lib/useragent"],function(f,x,W){var M=f("../lib/useragent"),$=0,y=550,s=function(){function r(i){i.$clickSelection=null;var t=i.editor;t.setDefaultHandler("mousedown",this.onMouseDown.bind(i)),t.setDefaultHandler("dblclick",this.onDoubleClick.bind(i)),t.setDefaultHandler("tripleclick",this.onTripleClick.bind(i)),t.setDefaultHandler("quadclick",this.onQuadClick.bind(i)),t.setDefaultHandler("mousewheel",this.onMouseWheel.bind(i));var e=["select","startSelect","selectEnd","selectAllEnd","selectByWordsEnd","selectByLinesEnd","dragWait","dragWaitEnd","focusWait"];e.forEach(function(n){i[n]=this[n]},this),i.selectByLines=this.extendSelectionBy.bind(i,"getLineRange"),i.selectByWords=this.extendSelectionBy.bind(i,"getWordRange")}return r.prototype.onMouseDown=function(i){var t=i.inSelection(),e=i.getDocumentPosition();this.mousedownEvent=i;var n=this.editor,a=i.getButton();if(a!==0){var c=n.getSelectionRange(),d=c.isEmpty();(d||a==1)&&n.selection.moveToPosition(e),a==2&&(n.textInput.onContextMenu(i.domEvent),M.isMozilla||i.preventDefault());return}if(this.mousedownEvent.time=Date.now(),t&&!n.isFocused()&&(n.focus(),this.$focusTimeout&&!this.$clickSelection&&!n.inMultiSelectMode)){this.setState("focusWait"),this.captureMouse(i);return}return this.captureMouse(i),this.startSelect(e,i.domEvent._clicks>1),i.preventDefault()},r.prototype.startSelect=function(i,t){i=i||this.editor.renderer.screenToTextCoordinates(this.x,this.y);var e=this.editor;this.mousedownEvent&&(this.mousedownEvent.getShiftKey()?e.selection.selectToPosition(i):t||e.selection.moveToPosition(i),t||this.select(),e.setStyle("ace_selecting"),this.setState("select"))},r.prototype.select=function(){var i,t=this.editor,e=t.renderer.screenToTextCoordinates(this.x,this.y);if(this.$clickSelection){var n=this.$clickSelection.comparePoint(e);if(n==-1)i=this.$clickSelection.end;else if(n==1)i=this.$clickSelection.start;else{var a=o(this.$clickSelection,e);e=a.cursor,i=a.anchor}t.selection.setSelectionAnchor(i.row,i.column)}t.selection.selectToPosition(e),t.renderer.scrollCursorIntoView()},r.prototype.extendSelectionBy=function(i){var t,e=this.editor,n=e.renderer.screenToTextCoordinates(this.x,this.y),a=e.selection[i](n.row,n.column);if(this.$clickSelection){var c=this.$clickSelection.comparePoint(a.start),d=this.$clickSelection.comparePoint(a.end);if(c==-1&&d<=0)t=this.$clickSelection.end,(a.end.row!=n.row||a.end.column!=n.column)&&(n=a.start);else if(d==1&&c>=0)t=this.$clickSelection.start,(a.start.row!=n.row||a.start.column!=n.column)&&(n=a.end);else if(c==-1&&d==1)n=a.end,t=a.start;else{var k=o(this.$clickSelection,n);n=k.cursor,t=k.anchor}e.selection.setSelectionAnchor(t.row,t.column)}e.selection.selectToPosition(n),e.renderer.scrollCursorIntoView()},r.prototype.selectByLinesEnd=function(){this.$clickSelection=null,this.editor.unsetStyle("ace_selecting")},r.prototype.focusWait=function(){var i=h(this.mousedownEvent.x,this.mousedownEvent.y,this.x,this.y),t=Date.now();(i>$||t-this.mousedownEvent.time>this.$focusTimeout)&&this.startSelect(this.mousedownEvent.getDocumentPosition())},r.prototype.onDoubleClick=function(i){var t=i.getDocumentPosition(),e=this.editor,n=e.session,a=n.getBracketRange(t);a?(a.isEmpty()&&(a.start.column--,a.end.column++),this.setState("select")):(a=e.selection.getWordRange(t.row,t.column),this.setState("selectByWords")),this.$clickSelection=a,this.select()},r.prototype.onTripleClick=function(i){var t=i.getDocumentPosition(),e=this.editor;this.setState("selectByLines");var n=e.getSelectionRange();n.isMultiLine()&&n.contains(t.row,t.column)?(this.$clickSelection=e.selection.getLineRange(n.start.row),this.$clickSelection.end=e.selection.getLineRange(n.end.row).end):this.$clickSelection=e.selection.getLineRange(t.row),this.select()},r.prototype.onQuadClick=function(i){var t=this.editor;t.selectAll(),this.$clickSelection=t.getSelectionRange(),this.setState("selectAll")},r.prototype.onMouseWheel=function(i){if(!i.getAccelKey()){i.getShiftKey()&&i.wheelY&&!i.wheelX&&(i.wheelX=i.wheelY,i.wheelY=0);var t=this.editor;this.$lastScroll||(this.$lastScroll={t:0,vx:0,vy:0,allowed:0});var e=this.$lastScroll,n=i.domEvent.timeStamp,a=n-e.t,c=a?i.wheelX/a:e.vx,d=a?i.wheelY/a:e.vy;a<y&&(c=(c+e.vx)/2,d=(d+e.vy)/2);var k=Math.abs(c/d),v=!1;if(k>=1&&t.renderer.isScrollableBy(i.wheelX*i.speed,0)&&(v=!0),k<=1&&t.renderer.isScrollableBy(0,i.wheelY*i.speed)&&(v=!0),v)e.allowed=n;else if(n-e.allowed<y){var p=Math.abs(c)<=1.5*Math.abs(e.vx)&&Math.abs(d)<=1.5*Math.abs(e.vy);p?(v=!0,e.allowed=n):e.allowed=0}if(e.t=n,e.vx=c,e.vy=d,v)return t.renderer.scrollBy(i.wheelX*i.speed,i.wheelY*i.speed),i.stop()}},r}();s.prototype.selectEnd=s.prototype.selectByLinesEnd,s.prototype.selectAllEnd=s.prototype.selectByLinesEnd,s.prototype.selectByWordsEnd=s.prototype.selectByLinesEnd,x.DefaultHandlers=s;function h(r,i,t,e){return Math.sqrt(Math.pow(t-r,2)+Math.pow(e-i,2))}function o(r,i){if(r.start.row==r.end.row)var t=2*i.column-r.start.column-r.end.column;else if(r.start.row==r.end.row-1&&!r.start.column&&!r.end.column)var t=i.column-4;else var t=2*i.row-r.start.row-r.end.row;return t<0?{cursor:r.start,anchor:r.end}:{cursor:r.end,anchor:r.start}}}),ace.define("ace/lib/scroll",["require","exports","module"],function(f,x,W){x.preventParentScroll=function($){$.stopPropagation();var y=$.currentTarget,s=y.scrollHeight>y.clientHeight;s||$.preventDefault()}}),ace.define("ace/tooltip",["require","exports","module","ace/lib/dom","ace/lib/event","ace/range","ace/lib/scroll"],function(f,x,W){var M=this&&this.__extends||function(){var n=function(a,c){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(d,k){d.__proto__=k}||function(d,k){for(var v in k)Object.prototype.hasOwnProperty.call(k,v)&&(d[v]=k[v])},n(a,c)};return function(a,c){if(typeof c!="function"&&c!==null)throw new TypeError("Class extends value "+String(c)+" is not a constructor or null");n(a,c);function d(){this.constructor=a}a.prototype=c===null?Object.create(c):(d.prototype=c.prototype,new d)}}(),$=this&&this.__values||function(n){var a=typeof Symbol=="function"&&Symbol.iterator,c=a&&n[a],d=0;if(c)return c.call(n);if(n&&typeof n.length=="number")return{next:function(){return n&&d>=n.length&&(n=void 0),{value:n&&n[d++],done:!n}}};throw new TypeError(a?"Object is not iterable.":"Symbol.iterator is not defined.")},y=f("./lib/dom");f("./lib/event");var s=f("./range").Range,h=f("./lib/scroll").preventParentScroll,o="ace_tooltip",r=function(){function n(a){this.isOpen=!1,this.$element=null,this.$parentNode=a}return n.prototype.$init=function(){return this.$element=y.createElement("div"),this.$element.className=o,this.$element.style.display="none",this.$parentNode.appendChild(this.$element),this.$element},n.prototype.getElement=function(){return this.$element||this.$init()},n.prototype.setText=function(a){this.getElement().textContent=a},n.prototype.setHtml=function(a){this.getElement().innerHTML=a},n.prototype.setPosition=function(a,c){this.getElement().style.left=a+"px",this.getElement().style.top=c+"px"},n.prototype.setClassName=function(a){y.addCssClass(this.getElement(),a)},n.prototype.setTheme=function(a){this.$element.className=o+" "+(a.isDark?"ace_dark ":"")+(a.cssClass||"")},n.prototype.show=function(a,c,d){a!=null&&this.setText(a),c!=null&&d!=null&&this.setPosition(c,d),this.isOpen||(this.getElement().style.display="block",this.isOpen=!0)},n.prototype.hide=function(a){this.isOpen&&(this.getElement().style.display="none",this.getElement().className=o,this.isOpen=!1)},n.prototype.getHeight=function(){return this.getElement().offsetHeight},n.prototype.getWidth=function(){return this.getElement().offsetWidth},n.prototype.destroy=function(){this.isOpen=!1,this.$element&&this.$element.parentNode&&this.$element.parentNode.removeChild(this.$element)},n}(),i=function(){function n(){this.popups=[]}return n.prototype.addPopup=function(a){this.popups.push(a),this.updatePopups()},n.prototype.removePopup=function(a){var c=this.popups.indexOf(a);c!==-1&&(this.popups.splice(c,1),this.updatePopups())},n.prototype.updatePopups=function(){var a,c,d,k;this.popups.sort(function(g,w){return w.priority-g.priority});var v=[];try{for(var p=$(this.popups),u=p.next();!u.done;u=p.next()){var m=u.value,A=!0;try{for(var S=(d=void 0,$(v)),C=S.next();!C.done;C=S.next()){var R=C.value;if(this.doPopupsOverlap(R,m)){A=!1;break}}}catch(g){d={error:g}}finally{try{C&&!C.done&&(k=S.return)&&k.call(S)}finally{if(d)throw d.error}}A?v.push(m):m.hide()}}catch(g){a={error:g}}finally{try{u&&!u.done&&(c=p.return)&&c.call(p)}finally{if(a)throw a.error}}},n.prototype.doPopupsOverlap=function(a,c){var d=a.getElement().getBoundingClientRect(),k=c.getElement().getBoundingClientRect();return d.left<k.right&&d.right>k.left&&d.top<k.bottom&&d.bottom>k.top},n}(),t=new i;x.popupManager=t,x.Tooltip=r;var e=function(n){M(a,n);function a(c){c===void 0&&(c=document.body);var d=n.call(this,c)||this;d.timeout=void 0,d.lastT=0,d.idleTime=350,d.lastEvent=void 0,d.onMouseOut=d.onMouseOut.bind(d),d.onMouseMove=d.onMouseMove.bind(d),d.waitForHover=d.waitForHover.bind(d),d.hide=d.hide.bind(d);var k=d.getElement();return k.style.whiteSpace="pre-wrap",k.style.pointerEvents="auto",k.addEventListener("mouseout",d.onMouseOut),k.tabIndex=-1,k.addEventListener("blur",(function(){k.contains(document.activeElement)||this.hide()}).bind(d)),k.addEventListener("wheel",h),d}return a.prototype.addToEditor=function(c){c.on("mousemove",this.onMouseMove),c.on("mousedown",this.hide),c.renderer.getMouseEventTarget().addEventListener("mouseout",this.onMouseOut,!0)},a.prototype.removeFromEditor=function(c){c.off("mousemove",this.onMouseMove),c.off("mousedown",this.hide),c.renderer.getMouseEventTarget().removeEventListener("mouseout",this.onMouseOut,!0),this.timeout&&(clearTimeout(this.timeout),this.timeout=null)},a.prototype.onMouseMove=function(c,d){this.lastEvent=c,this.lastT=Date.now();var k=d.$mouseHandler.isMousePressed;if(this.isOpen){var v=this.lastEvent&&this.lastEvent.getDocumentPosition();(!this.range||!this.range.contains(v.row,v.column)||k||this.isOutsideOfText(this.lastEvent))&&this.hide()}this.timeout||k||(this.lastEvent=c,this.timeout=setTimeout(this.waitForHover,this.idleTime))},a.prototype.waitForHover=function(){this.timeout&&clearTimeout(this.timeout);var c=Date.now()-this.lastT;if(this.idleTime-c>10){this.timeout=setTimeout(this.waitForHover,this.idleTime-c);return}this.timeout=null,this.lastEvent&&!this.isOutsideOfText(this.lastEvent)&&this.$gatherData(this.lastEvent,this.lastEvent.editor)},a.prototype.isOutsideOfText=function(c){var d=c.editor,k=c.getDocumentPosition(),v=d.session.getLine(k.row);if(k.column==v.length){var p=d.renderer.pixelToScreenCoordinates(c.clientX,c.clientY),u=d.session.documentToScreenPosition(k.row,k.column);if(u.column!=p.column||u.row!=p.row)return!0}return!1},a.prototype.setDataProvider=function(c){this.$gatherData=c},a.prototype.showForRange=function(c,d,k,v){var p=10;if(!(v&&v!=this.lastEvent)&&!(this.isOpen&&document.activeElement==this.getElement())){var u=c.renderer;this.isOpen||(t.addPopup(this),this.$registerCloseEvents(),this.setTheme(u.theme)),this.isOpen=!0,this.addMarker(d,c.session),this.range=s.fromPoints(d.start,d.end);var m=u.textToScreenCoordinates(d.start.row,d.start.column),A=u.scroller.getBoundingClientRect();m.pageX<A.left&&(m.pageX=A.left);var S=this.getElement();S.innerHTML="",S.appendChild(k),S.style.maxHeight="",S.style.display="block";var C=S.clientHeight,R=S.clientWidth,g=window.innerHeight-m.pageY-u.lineHeight,w=!0;m.pageY-C<0&&m.pageY<g&&(w=!1),S.style.maxHeight=(w?m.pageY:g)-p+"px",S.style.top=w?"":m.pageY+u.lineHeight+"px",S.style.bottom=w?window.innerHeight-m.pageY+"px":"",S.style.left=Math.min(m.pageX,window.innerWidth-R-p)+"px"}},a.prototype.addMarker=function(c,d){this.marker&&this.$markerSession.removeMarker(this.marker),this.$markerSession=d,this.marker=d&&d.addMarker(c,"ace_highlight-marker","text")},a.prototype.hide=function(c){!c&&document.activeElement==this.getElement()||c&&c.target&&(c.type!="keydown"||c.ctrlKey||c.metaKey)&&this.$element.contains(c.target)||(this.lastEvent=null,this.timeout&&clearTimeout(this.timeout),this.timeout=null,this.addMarker(null),this.isOpen&&(this.$removeCloseEvents(),this.getElement().style.display="none",this.isOpen=!1,t.removePopup(this)))},a.prototype.$registerCloseEvents=function(){window.addEventListener("keydown",this.hide,!0),window.addEventListener("wheel",this.hide,!0),window.addEventListener("mousedown",this.hide,!0)},a.prototype.$removeCloseEvents=function(){window.removeEventListener("keydown",this.hide,!0),window.removeEventListener("wheel",this.hide,!0),window.removeEventListener("mousedown",this.hide,!0)},a.prototype.onMouseOut=function(c){this.timeout&&(clearTimeout(this.timeout),this.timeout=null),this.lastEvent=null,this.isOpen&&(!c.relatedTarget||this.getElement().contains(c.relatedTarget)||c&&c.currentTarget.contains(c.relatedTarget)||c.relatedTarget.classList.contains("ace_content")||this.hide())},a}(r);x.HoverTooltip=e}),ace.define("ace/mouse/default_gutter_handler",["require","exports","module","ace/lib/dom","ace/lib/event","ace/tooltip","ace/config","ace/lib/lang"],function(f,x,W){var M=this&&this.__extends||function(){var t=function(e,n){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(a,c){a.__proto__=c}||function(a,c){for(var d in c)Object.prototype.hasOwnProperty.call(c,d)&&(a[d]=c[d])},t(e,n)};return function(e,n){if(typeof n!="function"&&n!==null)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");t(e,n);function a(){this.constructor=e}e.prototype=n===null?Object.create(n):(a.prototype=n.prototype,new a)}}(),$=this&&this.__values||function(t){var e=typeof Symbol=="function"&&Symbol.iterator,n=e&&t[e],a=0;if(n)return n.call(t);if(t&&typeof t.length=="number")return{next:function(){return t&&a>=t.length&&(t=void 0),{value:t&&t[a++],done:!t}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")},y=f("../lib/dom"),s=f("../lib/event"),h=f("../tooltip").Tooltip,o=f("../config").nls;f("../lib/lang");function r(t){var e=t.editor,n=e.renderer.$gutterLayer,a=new i(e);t.editor.setDefaultHandler("guttermousedown",function(u){if(!(!e.isFocused()||u.getButton()!=0)){var m=n.getRegion(u);if(m!="foldWidgets"){var A=u.getDocumentPosition().row,S=e.session.selection;if(u.getShiftKey())S.selectTo(A,0);else{if(u.domEvent.detail==2)return e.selectAll(),u.preventDefault();t.$clickSelection=e.selection.getLineRange(A)}return t.setState("selectByLines"),t.captureMouse(u),u.preventDefault()}}});var c,d;function k(){var u=d.getDocumentPosition().row,m=e.session.getLength();if(u==m){var A=e.renderer.pixelToScreenCoordinates(0,d.y).row,S=d.$pos;if(A>e.session.documentToScreenRow(S.row,S.column))return v()}if(a.showTooltip(u),!!a.isOpen)if(e.on("mousewheel",v),t.$tooltipFollowsMouse)p(d);else{var C=d.getGutterRow(),R=n.$lines.get(C);if(R){var g=R.element.querySelector(".ace_gutter_annotation"),w=g.getBoundingClientRect(),l=a.getElement().style;l.left=w.right+"px",l.top=w.bottom+"px"}else p(d)}}function v(){c&&(c=clearTimeout(c)),a.isOpen&&(a.hideTooltip(),e.off("mousewheel",v))}function p(u){a.setPosition(u.x,u.y)}t.editor.setDefaultHandler("guttermousemove",function(u){var m=u.domEvent.target||u.domEvent.srcElement;if(y.hasCssClass(m,"ace_fold-widget"))return v();a.isOpen&&t.$tooltipFollowsMouse&&p(u),d=u,!c&&(c=setTimeout(function(){c=null,d&&!t.isMousePressed?k():v()},50))}),s.addListener(e.renderer.$gutter,"mouseout",function(u){d=null,!(!a.isOpen||c)&&(c=setTimeout(function(){c=null,v()},50))},e),e.on("changeSession",v),e.on("input",v)}x.GutterHandler=r;var i=function(t){M(e,t);function e(n){var a=t.call(this,n.container)||this;return a.editor=n,a}return e.prototype.setPosition=function(n,a){var c=window.innerWidth||document.documentElement.clientWidth,d=window.innerHeight||document.documentElement.clientHeight,k=this.getWidth(),v=this.getHeight();n+=15,a+=15,n+k>c&&(n-=n+k-c),a+v>d&&(a-=20+v),h.prototype.setPosition.call(this,n,a)},Object.defineProperty(e,"annotationLabels",{get:function(){return{error:{singular:o("gutter-tooltip.aria-label.error.singular","error"),plural:o("gutter-tooltip.aria-label.error.plural","errors")},security:{singular:o("gutter-tooltip.aria-label.security.singular","security finding"),plural:o("gutter-tooltip.aria-label.security.plural","security findings")},warning:{singular:o("gutter-tooltip.aria-label.warning.singular","warning"),plural:o("gutter-tooltip.aria-label.warning.plural","warnings")},info:{singular:o("gutter-tooltip.aria-label.info.singular","information message"),plural:o("gutter-tooltip.aria-label.info.plural","information messages")},hint:{singular:o("gutter-tooltip.aria-label.hint.singular","suggestion"),plural:o("gutter-tooltip.aria-label.hint.plural","suggestions")}}},enumerable:!1,configurable:!0}),e.prototype.showTooltip=function(n){var a,c=this.editor.renderer.$gutterLayer,d=c.$annotations[n],k;d?k={displayText:Array.from(d.displayText),type:Array.from(d.type)}:k={displayText:[],type:[]};var v=c.session.getFoldLine(n);if(v&&c.$showFoldedAnnotations){for(var p={error:[],security:[],warning:[],info:[],hint:[]},u={error:1,security:2,warning:3,info:4,hint:5},m,A=n+1;A<=v.end.row;A++)if(c.$annotations[A])for(var S=0;S<c.$annotations[A].text.length;S++){var C=c.$annotations[A].type[S];p[C].push(c.$annotations[A].text[S]),(!m||u[C]<u[m])&&(m=C)}if(["error","security","warning"].includes(m)){var R="".concat(e.annotationsToSummaryString(p)," in folded code.");k.displayText.push(R),k.type.push(m+"_fold")}}if(k.displayText.length===0)return this.hide();for(var g={error:[],security:[],warning:[],info:[],hint:[]},w=c.$useSvgGutterIcons?"ace_icon_svg":"ace_icon",A=0;A<k.displayText.length;A++){var l=y.createElement("span"),_=y.createElement("span");(a=_.classList).add.apply(a,["ace_".concat(k.type[A]),w]),_.setAttribute("aria-label","".concat(e.annotationLabels[k.type[A].replace("_fold","")].singular)),_.setAttribute("role","img"),_.appendChild(y.createTextNode(" ")),l.appendChild(_),l.appendChild(y.createTextNode(k.displayText[A])),l.appendChild(y.createElement("br")),g[k.type[A].replace("_fold","")].push(l)}var L=this.getElement();y.removeChildren(L),g.error.forEach(function(F){return L.appendChild(F)}),g.security.forEach(function(F){return L.appendChild(F)}),g.warning.forEach(function(F){return L.appendChild(F)}),g.info.forEach(function(F){return L.appendChild(F)}),g.hint.forEach(function(F){return L.appendChild(F)}),L.setAttribute("aria-live","polite"),this.isOpen||(this.setTheme(this.editor.renderer.theme),this.setClassName("ace_gutter-tooltip")),this.show(),this.editor._signal("showGutterTooltip",this)},e.prototype.hideTooltip=function(){this.$element.removeAttribute("aria-live"),this.hide(),this.editor._signal("hideGutterTooltip",this)},e.annotationsToSummaryString=function(n){var a,c,d=[],k=["error","security","warning","info","hint"];try{for(var v=$(k),p=v.next();!p.done;p=v.next()){var u=p.value;if(n[u].length){var m=n[u].length===1?e.annotationLabels[u].singular:e.annotationLabels[u].plural;d.push("".concat(n[u].length," ").concat(m))}}}catch(A){a={error:A}}finally{try{p&&!p.done&&(c=v.return)&&c.call(v)}finally{if(a)throw a.error}}return d.join(", ")},e}(h);x.GutterTooltip=i}),ace.define("ace/mouse/mouse_event",["require","exports","module","ace/lib/event","ace/lib/useragent"],function(f,x,W){var M=f("../lib/event"),$=f("../lib/useragent"),y=function(){function s(h,o){this.speed,this.wheelX,this.wheelY,this.domEvent=h,this.editor=o,this.x=this.clientX=h.clientX,this.y=this.clientY=h.clientY,this.$pos=null,this.$inSelection=null,this.propagationStopped=!1,this.defaultPrevented=!1}return s.prototype.stopPropagation=function(){M.stopPropagation(this.domEvent),this.propagationStopped=!0},s.prototype.preventDefault=function(){M.preventDefault(this.domEvent),this.defaultPrevented=!0},s.prototype.stop=function(){this.stopPropagation(),this.preventDefault()},s.prototype.getDocumentPosition=function(){return this.$pos?this.$pos:(this.$pos=this.editor.renderer.screenToTextCoordinates(this.clientX,this.clientY),this.$pos)},s.prototype.getGutterRow=function(){var h=this.getDocumentPosition().row,o=this.editor.session.documentToScreenRow(h,0),r=this.editor.session.documentToScreenRow(this.editor.renderer.$gutterLayer.$lines.get(0).row,0);return o-r},s.prototype.inSelection=function(){if(this.$inSelection!==null)return this.$inSelection;var h=this.editor,o=h.getSelectionRange();if(o.isEmpty())this.$inSelection=!1;else{var r=this.getDocumentPosition();this.$inSelection=o.contains(r.row,r.column)}return this.$inSelection},s.prototype.getButton=function(){return M.getButton(this.domEvent)},s.prototype.getShiftKey=function(){return this.domEvent.shiftKey},s.prototype.getAccelKey=function(){return $.isMac?this.domEvent.metaKey:this.domEvent.ctrlKey},s}();x.MouseEvent=y}),ace.define("ace/mouse/dragdrop_handler",["require","exports","module","ace/lib/dom","ace/lib/event","ace/lib/useragent"],function(f,x,W){var M=f("../lib/dom"),$=f("../lib/event"),y=f("../lib/useragent"),s=200,h=200,o=5;function r(t){var e=t.editor,n=M.createElement("div");n.style.cssText="top:-100px;position:absolute;z-index:2147483647;opacity:0.5",n.textContent=" ";var a=["dragWait","dragWaitEnd","startDrag","dragReadyEnd","onMouseDrag"];a.forEach(function(oe){t[oe]=this[oe]},this),e.on("mousedown",this.onMouseDown.bind(t));var c=e.container,d,k,v,p,u,m,A=0,S,C,R,g,w;this.onDragStart=function(oe){if(this.cancelDrag||!c.draggable){var ee=this;return setTimeout(function(){ee.startSelect(),ee.captureMouse(oe)},0),oe.preventDefault()}u=e.getSelectionRange();var se=oe.dataTransfer;se.effectAllowed=e.getReadOnly()?"copy":"copyMove",e.container.appendChild(n),se.setDragImage&&se.setDragImage(n,0,0),setTimeout(function(){e.container.removeChild(n)}),se.clearData(),se.setData("Text",e.session.getTextRange()),C=!0,this.setState("drag")},this.onDragEnd=function(oe){if(c.draggable=!1,C=!1,this.setState(null),!e.getReadOnly()){var ee=oe.dataTransfer.dropEffect;!S&&ee=="move"&&e.session.remove(e.getSelectionRange()),e.$resetCursorStyle()}this.editor.unsetStyle("ace_dragging"),this.editor.renderer.setCursorStyle("")},this.onDragEnter=function(oe){if(!(e.getReadOnly()||!q(oe.dataTransfer)))return k=oe.clientX,v=oe.clientY,d||F(),A++,oe.dataTransfer.dropEffect=S=Z(oe),$.preventDefault(oe)},this.onDragOver=function(oe){if(!(e.getReadOnly()||!q(oe.dataTransfer)))return k=oe.clientX,v=oe.clientY,d||(F(),A++),H!==null&&(H=null),oe.dataTransfer.dropEffect=S=Z(oe),$.preventDefault(oe)},this.onDragLeave=function(oe){if(A--,A<=0&&d)return U(),S=null,$.preventDefault(oe)},this.onDrop=function(oe){if(m){var ee=oe.dataTransfer;if(C)switch(S){case"move":u.contains(m.row,m.column)?u={start:m,end:m}:u=e.moveText(u,m);break;case"copy":u=e.moveText(u,m,!0);break}else{var se=ee.getData("Text");u={start:m,end:e.session.insert(m,se)},e.focus(),S=null}return U(),$.preventDefault(oe)}},$.addListener(c,"dragstart",this.onDragStart.bind(t),e),$.addListener(c,"dragend",this.onDragEnd.bind(t),e),$.addListener(c,"dragenter",this.onDragEnter.bind(t),e),$.addListener(c,"dragover",this.onDragOver.bind(t),e),$.addListener(c,"dragleave",this.onDragLeave.bind(t),e),$.addListener(c,"drop",this.onDrop.bind(t),e);function l(oe,ee){var se=Date.now(),fe=!ee||oe.row!=ee.row,Ee=!ee||oe.column!=ee.column;if(!g||fe||Ee)e.moveCursorToPosition(oe),g=se,w={x:k,y:v};else{var Se=i(w.x,w.y,k,v);Se>o?g=null:se-g>=h&&(e.renderer.scrollCursorIntoView(),g=null)}}function _(oe,ee){var se=Date.now(),fe=e.renderer.layerConfig.lineHeight,Ee=e.renderer.layerConfig.characterWidth,Se=e.renderer.scroller.getBoundingClientRect(),Ce={x:{left:k-Se.left,right:Se.right-k},y:{top:v-Se.top,bottom:Se.bottom-v}},De=Math.min(Ce.x.left,Ce.x.right),Pe=Math.min(Ce.y.top,Ce.y.bottom),We={row:oe.row,column:oe.column};De/Ee<=2&&(We.column+=Ce.x.left<Ce.x.right?-3:2),Pe/fe<=1&&(We.row+=Ce.y.top<Ce.y.bottom?-1:1);var Xe=oe.row!=We.row,O=oe.column!=We.column,be=!ee||oe.row!=ee.row;Xe||O&&!be?R?se-R>=s&&e.renderer.scrollCursorIntoView(We):R=se:R=null}function L(){var oe=m;m=e.renderer.screenToTextCoordinates(k,v),l(m,oe),_(m,oe)}function F(){u=e.selection.toOrientedRange(),d=e.session.addMarker(u,"ace_selection",e.getSelectionStyle()),e.clearSelection(),e.isFocused()&&e.renderer.$cursorLayer.setBlinking(!1),clearInterval(p),L(),p=setInterval(L,20),A=0,$.addListener(document,"mousemove",X)}function U(){clearInterval(p),e.session.removeMarker(d),d=null,e.selection.fromOrientedRange(u),e.isFocused()&&!C&&e.$resetCursorStyle(),u=null,m=null,A=0,R=null,g=null,$.removeListener(document,"mousemove",X)}var H=null;function X(){H==null&&(H=setTimeout(function(){H!=null&&d&&U()},20))}function q(oe){var ee=oe.types;return!ee||Array.prototype.some.call(ee,function(se){return se=="text/plain"||se=="Text"})}function Z(oe){var ee=["copy","copymove","all","uninitialized"],se=["move","copymove","linkmove","all","uninitialized"],fe=y.isMac?oe.altKey:oe.ctrlKey,Ee="uninitialized";try{Ee=oe.dataTransfer.effectAllowed.toLowerCase()}catch{}var Se="none";return fe&&ee.indexOf(Ee)>=0?Se="copy":se.indexOf(Ee)>=0?Se="move":ee.indexOf(Ee)>=0&&(Se="copy"),Se}}(function(){this.dragWait=function(){var t=Date.now()-this.mousedownEvent.time;t>this.editor.getDragDelay()&&this.startDrag()},this.dragWaitEnd=function(){var t=this.editor.container;t.draggable=!1,this.startSelect(this.mousedownEvent.getDocumentPosition()),this.selectEnd()},this.dragReadyEnd=function(t){this.editor.$resetCursorStyle(),this.editor.unsetStyle("ace_dragging"),this.editor.renderer.setCursorStyle(""),this.dragWaitEnd()},this.startDrag=function(){this.cancelDrag=!1;var t=this.editor,e=t.container;e.draggable=!0,t.renderer.$cursorLayer.setBlinking(!1),t.setStyle("ace_dragging");var n=y.isWin?"default":"move";t.renderer.setCursorStyle(n),this.setState("dragReady")},this.onMouseDrag=function(t){var e=this.editor.container;if(y.isIE&&this.state=="dragReady"){var n=i(this.mousedownEvent.x,this.mousedownEvent.y,this.x,this.y);n>3&&e.dragDrop()}if(this.state==="dragWait"){var n=i(this.mousedownEvent.x,this.mousedownEvent.y,this.x,this.y);n>0&&(e.draggable=!1,this.startSelect(this.mousedownEvent.getDocumentPosition()))}},this.onMouseDown=function(t){if(this.$dragEnabled){this.mousedownEvent=t;var e=this.editor,n=t.inSelection(),a=t.getButton(),c=t.domEvent.detail||1;if(c===1&&a===0&&n){if(t.editor.inMultiSelectMode&&(t.getAccelKey()||t.getShiftKey()))return;this.mousedownEvent.time=Date.now();var d=t.domEvent.target||t.domEvent.srcElement;if("unselectable"in d&&(d.unselectable="on"),e.getDragDelay()){if(y.isWebKit){this.cancelDrag=!0;var k=e.container;k.draggable=!0}this.setState("dragWait")}else this.startDrag();this.captureMouse(t,this.onMouseDrag.bind(this)),t.defaultPrevented=!0}}}}).call(r.prototype);function i(t,e,n,a){return Math.sqrt(Math.pow(n-t,2)+Math.pow(a-e,2))}x.DragdropHandler=r}),ace.define("ace/mouse/touch_handler",["require","exports","module","ace/mouse/mouse_event","ace/lib/event","ace/lib/dom"],function(f,x,W){var M=f("./mouse_event").MouseEvent,$=f("../lib/event"),y=f("../lib/dom");x.addTouchListeners=function(s,h){var o="scroll",r,i,t,e,n,a,c=0,d,k=0,v=0,p=0,u,m;function A(){var l=window.navigator&&window.navigator.clipboard,_=!1,L=function(){var H=h.getCopyText(),X=h.session.getUndoManager().hasUndo();m.replaceChild(y.buildDom(_?["span",!H&&F("selectall")&&["span",{class:"ace_mobile-button",action:"selectall"},"Select All"],H&&F("copy")&&["span",{class:"ace_mobile-button",action:"copy"},"Copy"],H&&F("cut")&&["span",{class:"ace_mobile-button",action:"cut"},"Cut"],l&&F("paste")&&["span",{class:"ace_mobile-button",action:"paste"},"Paste"],X&&F("undo")&&["span",{class:"ace_mobile-button",action:"undo"},"Undo"],F("find")&&["span",{class:"ace_mobile-button",action:"find"},"Find"],F("openCommandPalette")&&["span",{class:"ace_mobile-button",action:"openCommandPalette"},"Palette"]]:["span"]),m.firstChild)},F=function(H){return h.commands.canExecute(H,h)},U=function(H){var X=H.target.getAttribute("action");if(X=="more"||!_)return _=!_,L();X=="paste"?l.readText().then(function(q){h.execCommand(X,q)}):X&&((X=="cut"||X=="copy")&&(l?l.writeText(h.getCopyText()):document.execCommand("copy")),h.execCommand(X)),m.firstChild.style.display="none",_=!1,X!="openCommandPalette"&&h.focus()};m=y.buildDom(["div",{class:"ace_mobile-menu",ontouchstart:function(H){o="menu",H.stopPropagation(),H.preventDefault(),h.textInput.focus()},ontouchend:function(H){H.stopPropagation(),H.preventDefault(),U(H)},onclick:U},["span"],["span",{class:"ace_mobile-button",action:"more"},"..."]],h.container)}function S(){if(!h.getOption("enableMobileMenu")){m&&C();return}m||A();var l=h.selection.cursor,_=h.renderer.textToScreenCoordinates(l.row,l.column),L=h.renderer.textToScreenCoordinates(0,0).pageX,F=h.renderer.scrollLeft,U=h.container.getBoundingClientRect();m.style.top=_.pageY-U.top-3+"px",_.pageX-U.left<U.width-70?(m.style.left="",m.style.right="10px"):(m.style.right="",m.style.left=L+F-U.left+"px"),m.style.display="",m.firstChild.style.display="none",h.on("input",C)}function C(l){m&&(m.style.display="none"),h.off("input",C)}function R(){n=null,clearTimeout(n);var l=h.selection.getRange(),_=l.contains(d.row,d.column);(l.isEmpty()||!_)&&(h.selection.moveToPosition(d),h.selection.selectWord()),o="wait",S()}function g(){n=null,clearTimeout(n),h.selection.moveToPosition(d);var l=k>=2?h.selection.getLineRange(d.row):h.session.getBracketRange(d);l&&!l.isEmpty()?h.selection.setRange(l):h.selection.selectWord(),o="wait"}$.addListener(s,"contextmenu",function(l){if(u){var _=h.textInput.getElement();_.focus()}},h),$.addListener(s,"touchstart",function(l){var _=l.touches;if(n||_.length>1){clearTimeout(n),n=null,t=-1,o="zoom";return}u=h.$mouseHandler.isMousePressed=!0;var L=h.renderer.layerConfig.lineHeight,F=h.renderer.layerConfig.lineHeight,U=l.timeStamp;e=U;var H=_[0],X=H.clientX,q=H.clientY;Math.abs(r-X)+Math.abs(i-q)>L&&(t=-1),r=l.clientX=X,i=l.clientY=q,v=p=0;var Z=new M(l,h);if(d=Z.getDocumentPosition(),U-t<500&&_.length==1&&!c)k++,l.preventDefault(),l.button=0,g();else{k=0;var oe=h.selection.cursor,ee=h.selection.isEmpty()?oe:h.selection.anchor,se=h.renderer.$cursorLayer.getPixelPosition(oe,!0),fe=h.renderer.$cursorLayer.getPixelPosition(ee,!0),Ee=h.renderer.scroller.getBoundingClientRect(),Se=h.renderer.layerConfig.offset,Ce=h.renderer.scrollLeft,De=function(Xe,O){return Xe=Xe/F,O=O/L-.75,Xe*Xe+O*O};if(l.clientX<Ee.left){o="zoom";return}var Pe=De(l.clientX-Ee.left-se.left+Ce,l.clientY-Ee.top-se.top+Se),We=De(l.clientX-Ee.left-fe.left+Ce,l.clientY-Ee.top-fe.top+Se);Pe<3.5&&We<3.5&&(o=Pe>We?"cursor":"anchor"),We<3.5?o="anchor":Pe<3.5?o="cursor":o="scroll",n=setTimeout(R,450)}t=U},h),$.addListener(s,"touchend",function(l){u=h.$mouseHandler.isMousePressed=!1,a&&clearInterval(a),o=="zoom"?(o="",c=0):n?(h.selection.moveToPosition(d),c=0,S()):o=="scroll"?(w(),C()):S(),clearTimeout(n),n=null},h),$.addListener(s,"touchmove",function(l){n&&(clearTimeout(n),n=null);var _=l.touches;if(!(_.length>1||o=="zoom")){var L=_[0],F=r-L.clientX,U=i-L.clientY;if(o=="wait")if(F*F+U*U>4)o="cursor";else return l.preventDefault();r=L.clientX,i=L.clientY,l.clientX=L.clientX,l.clientY=L.clientY;var H=l.timeStamp,X=H-e;if(e=H,o=="scroll"){var q=new M(l,h);q.speed=1,q.wheelX=F,q.wheelY=U,10*Math.abs(F)<Math.abs(U)&&(F=0),10*Math.abs(U)<Math.abs(F)&&(U=0),X!=0&&(v=F/X,p=U/X),h._emit("mousewheel",q),q.propagationStopped||(v=p=0)}else{var Z=new M(l,h),oe=Z.getDocumentPosition();o=="cursor"?h.selection.moveCursorToPosition(oe):o=="anchor"&&h.selection.setSelectionAnchor(oe.row,oe.column),h.renderer.scrollCursorIntoView(oe),l.preventDefault()}}},h);function w(){c+=60,a=setInterval(function(){c--<=0&&(clearInterval(a),a=null),Math.abs(v)<.01&&(v=0),Math.abs(p)<.01&&(p=0),c<20&&(v=.9*v),c<20&&(p=.9*p);var l=h.session.getScrollTop();h.renderer.scrollBy(10*v,10*p),l==h.session.getScrollTop()&&(c=0)},10)}}}),ace.define("ace/mouse/mouse_handler",["require","exports","module","ace/lib/event","ace/lib/useragent","ace/mouse/default_handlers","ace/mouse/default_gutter_handler","ace/mouse/mouse_event","ace/mouse/dragdrop_handler","ace/mouse/touch_handler","ace/config"],function(f,x,W){var M=f("../lib/event"),$=f("../lib/useragent"),y=f("./default_handlers").DefaultHandlers,s=f("./default_gutter_handler").GutterHandler,h=f("./mouse_event").MouseEvent,o=f("./dragdrop_handler").DragdropHandler,r=f("./touch_handler").addTouchListeners,i=f("../config"),t=function(){function e(n){this.$dragDelay,this.$dragEnabled,this.$mouseMoved,this.mouseEvent,this.$focusTimeout;var a=this;this.editor=n,new y(this),new s(this),new o(this);var c=function(v){var p=!document.hasFocus||!document.hasFocus()||!n.isFocused()&&document.activeElement==(n.textInput&&n.textInput.getElement());p&&window.focus(),n.focus(),setTimeout(function(){n.isFocused()||n.focus()})},d=n.renderer.getMouseEventTarget();M.addListener(d,"click",this.onMouseEvent.bind(this,"click"),n),M.addListener(d,"mousemove",this.onMouseMove.bind(this,"mousemove"),n),M.addMultiMouseDownListener([d,n.renderer.scrollBarV&&n.renderer.scrollBarV.inner,n.renderer.scrollBarH&&n.renderer.scrollBarH.inner,n.textInput&&n.textInput.getElement()].filter(Boolean),[400,300,250],this,"onMouseEvent",n),M.addMouseWheelListener(n.container,this.onMouseWheel.bind(this,"mousewheel"),n),r(n.container,n);var k=n.renderer.$gutter;M.addListener(k,"mousedown",this.onMouseEvent.bind(this,"guttermousedown"),n),M.addListener(k,"click",this.onMouseEvent.bind(this,"gutterclick"),n),M.addListener(k,"dblclick",this.onMouseEvent.bind(this,"gutterdblclick"),n),M.addListener(k,"mousemove",this.onMouseEvent.bind(this,"guttermousemove"),n),M.addListener(d,"mousedown",c,n),M.addListener(k,"mousedown",c,n),$.isIE&&n.renderer.scrollBarV&&(M.addListener(n.renderer.scrollBarV.element,"mousedown",c,n),M.addListener(n.renderer.scrollBarH.element,"mousedown",c,n)),n.on("mousemove",function(v){if(!(a.state||a.$dragDelay||!a.$dragEnabled)){var p=n.renderer.screenToTextCoordinates(v.x,v.y),u=n.session.selection.getRange(),m=n.renderer;!u.isEmpty()&&u.insideStart(p.row,p.column)?m.setCursorStyle("default"):m.setCursorStyle("")}},n)}return e.prototype.onMouseEvent=function(n,a){this.editor.session&&this.editor._emit(n,new h(a,this.editor))},e.prototype.onMouseMove=function(n,a){var c=this.editor._eventRegistry&&this.editor._eventRegistry.mousemove;!c||!c.length||this.editor._emit(n,new h(a,this.editor))},e.prototype.onMouseWheel=function(n,a){var c=new h(a,this.editor);c.speed=this.$scrollSpeed*2,c.wheelX=a.wheelX,c.wheelY=a.wheelY,this.editor._emit(n,c)},e.prototype.setState=function(n){this.state=n},e.prototype.captureMouse=function(n,a){this.x=n.x,this.y=n.y,this.isMousePressed=!0;var c=this.editor,d=this.editor.renderer;d.$isMousePressed=!0;var k=this,v=function(S){if(S){if($.isWebKit&&!S.which&&k.releaseMouse)return k.releaseMouse();k.x=S.clientX,k.y=S.clientY,a&&a(S),k.mouseEvent=new h(S,k.editor),k.$mouseMoved=!0}},p=function(S){c.off("beforeEndOperation",m),clearInterval(A),c.session&&u(),k[k.state+"End"]&&k[k.state+"End"](S),k.state="",k.isMousePressed=d.$isMousePressed=!1,d.$keepTextAreaAtCursor&&d.$moveTextAreaToCursor(),k.$onCaptureMouseMove=k.releaseMouse=null,S&&k.onMouseEvent("mouseup",S),c.endOperation()},u=function(){k[k.state]&&k[k.state](),k.$mouseMoved=!1};if($.isOldIE&&n.domEvent.type=="dblclick")return setTimeout(function(){p(n)});var m=function(S){k.releaseMouse&&c.curOp.command.name&&c.curOp.selectionChanged&&(k[k.state+"End"]&&k[k.state+"End"](),k.state="",k.releaseMouse())};c.on("beforeEndOperation",m),c.startOperation({command:{name:"mouse"}}),k.$onCaptureMouseMove=v,k.releaseMouse=M.capture(this.editor.container,v,p);var A=setInterval(u,20)},e.prototype.cancelContextMenu=function(){var n=(function(a){a&&a.domEvent&&a.domEvent.type!="contextmenu"||(this.editor.off("nativecontextmenu",n),a&&a.domEvent&&M.stopEvent(a.domEvent))}).bind(this);setTimeout(n,10),this.editor.on("nativecontextmenu",n)},e.prototype.destroy=function(){this.releaseMouse&&this.releaseMouse()},e}();t.prototype.releaseMouse=null,i.defineOptions(t.prototype,"mouseHandler",{scrollSpeed:{initialValue:2},dragDelay:{initialValue:$.isMac?150:0},dragEnabled:{initialValue:!0},focusTimeout:{initialValue:0},tooltipFollowsMouse:{initialValue:!0}}),x.MouseHandler=t}),ace.define("ace/mouse/fold_handler",["require","exports","module","ace/lib/dom"],function(f,x,W){var M=f("../lib/dom"),$=function(){function y(s){s.on("click",function(h){var o=h.getDocumentPosition(),r=s.session,i=r.getFoldAt(o.row,o.column,1);i&&(h.getAccelKey()?r.removeFold(i):r.expandFold(i),h.stop());var t=h.domEvent&&h.domEvent.target;t&&M.hasCssClass(t,"ace_inline_button")&&M.hasCssClass(t,"ace_toggle_wrap")&&(r.setOption("wrap",!r.getUseWrapMode()),s.renderer.scrollCursorIntoView())}),s.on("gutterclick",function(h){var o=s.renderer.$gutterLayer.getRegion(h);if(o=="foldWidgets"){var r=h.getDocumentPosition().row,i=s.session;i.foldWidgets&&i.foldWidgets[r]&&s.session.onFoldWidgetClick(r,h),s.isFocused()||s.focus(),h.stop()}}),s.on("gutterdblclick",function(h){var o=s.renderer.$gutterLayer.getRegion(h);if(o=="foldWidgets"){var r=h.getDocumentPosition().row,i=s.session,t=i.getParentFoldRangeData(r,!0),e=t.range||t.firstRange;if(e){r=e.start.row;var n=i.getFoldAt(r,i.getLine(r).length,1);n?i.removeFold(n):(i.addFold("...",e),s.renderer.scrollCursorIntoView({row:e.start.row,column:0}))}h.stop()}})}return y}();x.FoldHandler=$}),ace.define("ace/keyboard/keybinding",["require","exports","module","ace/lib/keys","ace/lib/event"],function(f,x,W){var M=f("../lib/keys"),$=f("../lib/event"),y=function(){function s(h){this.$editor=h,this.$data={editor:h},this.$handlers=[],this.setDefaultHandler(h.commands)}return s.prototype.setDefaultHandler=function(h){this.removeKeyboardHandler(this.$defaultHandler),this.$defaultHandler=h,this.addKeyboardHandler(h,0)},s.prototype.setKeyboardHandler=function(h){var o=this.$handlers;if(o[o.length-1]!=h){for(;o[o.length-1]&&o[o.length-1]!=this.$defaultHandler;)this.removeKeyboardHandler(o[o.length-1]);this.addKeyboardHandler(h,1)}},s.prototype.addKeyboardHandler=function(h,o){if(h){typeof h=="function"&&!h.handleKeyboard&&(h.handleKeyboard=h);var r=this.$handlers.indexOf(h);r!=-1&&this.$handlers.splice(r,1),o==null?this.$handlers.push(h):this.$handlers.splice(o,0,h),r==-1&&h.attach&&h.attach(this.$editor)}},s.prototype.removeKeyboardHandler=function(h){var o=this.$handlers.indexOf(h);return o==-1?!1:(this.$handlers.splice(o,1),h.detach&&h.detach(this.$editor),!0)},s.prototype.getKeyboardHandler=function(){return this.$handlers[this.$handlers.length-1]},s.prototype.getStatusText=function(){var h=this.$data,o=h.editor;return this.$handlers.map(function(r){return r.getStatusText&&r.getStatusText(o,h)||""}).filter(Boolean).join(" ")},s.prototype.$callKeyboardHandlers=function(h,o,r,i){for(var t,e=!1,n=this.$editor.commands,a=this.$handlers.length;a--&&(t=this.$handlers[a].handleKeyboard(this.$data,h,o,r,i),!(!(!t||!t.command)&&(t.command=="null"?e=!0:e=n.exec(t.command,this.$editor,t.args,i),e&&i&&h!=-1&&t.passEvent!=!0&&t.command.passEvent!=!0&&$.stopEvent(i),e))););return!e&&h==-1&&(t={command:"insertstring"},e=n.exec("insertstring",this.$editor,o)),e&&this.$editor._signal&&this.$editor._signal("keyboardActivity",t),e},s.prototype.onCommandKey=function(h,o,r){var i=M.keyCodeToString(r);return this.$callKeyboardHandlers(o,i,r,h)},s.prototype.onTextInput=function(h){return this.$callKeyboardHandlers(-1,h)},s}();x.KeyBinding=y}),ace.define("ace/lib/bidiutil",["require","exports","module"],function(f,x,W){var M=0,$=0,y=!1,s=!1,h=!1,o=[[0,3,0,1,0,0,0],[0,3,0,1,2,2,0],[0,3,0,17,2,0,1],[0,3,5,5,4,1,0],[0,3,21,21,4,0,1],[0,3,5,5,4,2,0]],r=[[2,0,1,1,0,1,0],[2,0,1,1,0,2,0],[2,0,2,1,3,2,0],[2,0,2,33,3,1,1]],i=0,t=1,e=0,n=1,a=2,c=3,d=4,k=5,v=6,p=7,u=8,m=9,A=10,S=11,C=12,R=13,g=14,w=15,l=16,_=17,L=18,F=[L,L,L,L,L,L,L,L,L,v,k,v,u,k,L,L,L,L,L,L,L,L,L,L,L,L,L,L,k,k,k,v,u,d,d,S,S,S,d,d,d,d,d,A,m,A,m,m,a,a,a,a,a,a,a,a,a,a,m,d,d,d,d,d,d,e,e,e,e,e,e,e,e,e,e,e,e,e,e,e,e,e,e,e,e,e,e,e,e,e,e,d,d,d,d,d,d,e,e,e,e,e,e,e,e,e,e,e,e,e,e,e,e,e,e,e,e,e,e,e,e,e,e,d,d,d,d,L,L,L,L,L,L,k,L,L,L,L,L,L,L,L,L,L,L,L,L,L,L,L,L,L,L,L,L,L,L,L,L,L,m,d,S,S,S,S,d,d,d,d,e,d,d,L,d,d,S,S,a,a,d,e,d,d,d,a,e,d,d,d,d,d],U=[u,u,u,u,u,u,u,u,u,u,u,L,L,L,e,n,d,d,d,d,d,d,d,d,d,d,d,d,d,d,d,d,d,d,d,d,d,d,d,d,u,k,R,g,w,l,_,m,S,S,S,S,S,d,d,d,d,d,d,d,d,d,d,d,d,d,d,d,m,d,d,d,d,d,d,d,d,d,d,d,d,d,d,d,d,d,d,d,d,d,d,d,d,d,d,u];function H(oe,ee,se,fe){var Ee=M?r:o,Se=null,Ce=null,De=null,Pe=0,We=null,Xe=null,O=-1,be=null,he=null,ae=[];if(!fe)for(be=0,fe=[];be<se;be++)fe[be]=Z(oe[be]);for($=M,y=!1,s=!1,h=!1,he=0;he<se;he++){if(Se=Pe,ae[he]=Ce=q(oe,fe,ae,he),Pe=Ee[Se][Ce],We=Pe&240,Pe&=15,ee[he]=De=Ee[Pe][5],We>0)if(We==16){for(be=O;be<he;be++)ee[be]=1;O=-1}else O=-1;if(Xe=Ee[Pe][6],Xe)O==-1&&(O=he);else if(O>-1){for(be=O;be<he;be++)ee[be]=De;O=-1}fe[he]==k&&(ee[he]=0),$|=De}if(h){for(be=0;be<se;be++)if(fe[be]==v){ee[be]=M;for(var ne=be-1;ne>=0&&fe[ne]==u;ne--)ee[ne]=M}}}function X(oe,ee,se){if(!($<oe)){if(oe==1&&M==t&&!s){se.reverse();return}for(var fe=se.length,Ee=0,Se,Ce,De,Pe;Ee<fe;){if(ee[Ee]>=oe){for(Se=Ee+1;Se<fe&&ee[Se]>=oe;)Se++;for(Ce=Ee,De=Se-1;Ce<De;Ce++,De--)Pe=se[Ce],se[Ce]=se[De],se[De]=Pe;Ee=Se}Ee++}}}function q(oe,ee,se,fe){var Ee=ee[fe],Se,Ce,De,Pe;switch(Ee){case e:case n:y=!1;case d:case c:return Ee;case a:return y?c:a;case p:return y=!0,n;case u:return d;case m:return fe<1||fe+1>=ee.length||(Se=se[fe-1])!=a&&Se!=c||(Ce=ee[fe+1])!=a&&Ce!=c?d:(y&&(Ce=c),Ce==Se?Ce:d);case A:return Se=fe>0?se[fe-1]:k,Se==a&&fe+1<ee.length&&ee[fe+1]==a?a:d;case S:if(fe>0&&se[fe-1]==a)return a;if(y)return d;for(Pe=fe+1,De=ee.length;Pe<De&&ee[Pe]==S;)Pe++;return Pe<De&&ee[Pe]==a?a:d;case C:for(De=ee.length,Pe=fe+1;Pe<De&&ee[Pe]==C;)Pe++;if(Pe<De){var We=oe[fe],Xe=We>=1425&&We<=2303||We==64286;if(Se=ee[Pe],Xe&&(Se==n||Se==p))return n}return fe<1||(Se=ee[fe-1])==k?d:se[fe-1];case k:return y=!1,s=!0,M;case v:return h=!0,d;case R:case g:case l:case _:case w:y=!1;case L:return d}}function Z(oe){var ee=oe.charCodeAt(0),se=ee>>8;return se==0?ee>191?e:F[ee]:se==5?/[\u0591-\u05f4]/.test(oe)?n:e:se==6?/[\u0610-\u061a\u064b-\u065f\u06d6-\u06e4\u06e7-\u06ed]/.test(oe)?C:/[\u0660-\u0669\u066b-\u066c]/.test(oe)?c:ee==1642?S:/[\u06f0-\u06f9]/.test(oe)?a:p:se==32&&ee<=8287?U[ee&255]:se==254&&ee>=65136?p:d}x.L=e,x.R=n,x.EN=a,x.ON_R=3,x.AN=4,x.R_H=5,x.B=6,x.RLE=7,x.DOT="·",x.doBidiReorder=function(oe,ee,se){if(oe.length<2)return{};var fe=oe.split(""),Ee=new Array(fe.length),Se=new Array(fe.length),Ce=[];M=se?t:i,H(fe,Ce,fe.length,ee);for(var De=0;De<Ee.length;Ee[De]=De,De++);X(2,Ce,Ee),X(1,Ce,Ee);for(var De=0;De<Ee.length-1;De++)ee[De]===c?Ce[De]=x.AN:Ce[De]===n&&(ee[De]>p&&ee[De]<R||ee[De]===d||ee[De]===L)?Ce[De]=x.ON_R:De>0&&fe[De-1]==="ل"&&/\u0622|\u0623|\u0625|\u0627/.test(fe[De])&&(Ce[De-1]=Ce[De]=x.R_H,De++);fe[fe.length-1]===x.DOT&&(Ce[fe.length-1]=x.B),fe[0]==="‫"&&(Ce[0]=x.RLE);for(var De=0;De<Ee.length;De++)Se[De]=Ce[Ee[De]];return{logicalFromVisual:Ee,bidiLevels:Se}},x.hasBidiCharacters=function(oe,ee){for(var se=!1,fe=0;fe<oe.length;fe++)ee[fe]=Z(oe.charAt(fe)),!se&&(ee[fe]==n||ee[fe]==p||ee[fe]==c)&&(se=!0);return se},x.getVisualFromLogicalIdx=function(oe,ee){for(var se=0;se<ee.logicalFromVisual.length;se++)if(ee.logicalFromVisual[se]==oe)return se;return 0}}),ace.define("ace/bidihandler",["require","exports","module","ace/lib/bidiutil","ace/lib/lang"],function(f,x,W){var M=f("./lib/bidiutil"),$=f("./lib/lang"),y=/[\u0590-\u05f4\u0600-\u06ff\u0700-\u08ac\u202B]/,s=function(){function h(o){this.session=o,this.bidiMap={},this.currentRow=null,this.bidiUtil=M,this.charWidths=[],this.EOL="¬",this.showInvisibles=!0,this.isRtlDir=!1,this.$isRtl=!1,this.line="",this.wrapIndent=0,this.EOF="¶",this.RLE="‫",this.contentWidth=0,this.fontMetrics=null,this.rtlLineOffset=0,this.wrapOffset=0,this.isMoveLeftOperation=!1,this.seenBidi=y.test(o.getValue())}return h.prototype.isBidiRow=function(o,r,i){return this.seenBidi?(o!==this.currentRow&&(this.currentRow=o,this.updateRowLine(r,i),this.updateBidiMap()),this.bidiMap.bidiLevels):!1},h.prototype.onChange=function(o){this.seenBidi?this.currentRow=null:o.action=="insert"&&y.test(o.lines.join(`
`))&&(this.seenBidi=!0,this.currentRow=null)},h.prototype.getDocumentRow=function(){var o=0,r=this.session.$screenRowCache;if(r.length){var i=this.session.$getRowCacheIndex(r,this.currentRow);i>=0&&(o=this.session.$docRowCache[i])}return o},h.prototype.getSplitIndex=function(){var o=0,r=this.session.$screenRowCache;if(r.length)for(var i,t=this.session.$getRowCacheIndex(r,this.currentRow);this.currentRow-o>0&&(i=this.session.$getRowCacheIndex(r,this.currentRow-o-1),i===t);)t=i,o++;else o=this.currentRow;return o},h.prototype.updateRowLine=function(o,r){o===void 0&&(o=this.getDocumentRow());var i=o===this.session.getLength()-1,t=i?this.EOF:this.EOL;if(this.wrapIndent=0,this.line=this.session.getLine(o),this.isRtlDir=this.$isRtl||this.line.charAt(0)===this.RLE,this.session.$useWrapMode){var e=this.session.$wrapData[o];e&&(r===void 0&&(r=this.getSplitIndex()),r>0&&e.length?(this.wrapIndent=e.indent,this.wrapOffset=this.wrapIndent*this.charWidths[M.L],this.line=r<e.length?this.line.substring(e[r-1],e[r]):this.line.substring(e[e.length-1])):this.line=this.line.substring(0,e[r]),r==e.length&&(this.line+=this.showInvisibles?t:M.DOT))}else this.line+=this.showInvisibles?t:M.DOT;var n=this.session,a=0,c;this.line=this.line.replace(/\t|[\u1100-\u2029, \u202F-\uFFE6]/g,function(d,k){return d==="	"||n.isFullWidth(d.charCodeAt(0))?(c=d==="	"?n.getScreenTabSize(k+a):2,a+=c-1,$.stringRepeat(M.DOT,c)):d}),this.isRtlDir&&(this.fontMetrics.$main.textContent=this.line.charAt(this.line.length-1)==M.DOT?this.line.substr(0,this.line.length-1):this.line,this.rtlLineOffset=this.contentWidth-this.fontMetrics.$main.getBoundingClientRect().width)},h.prototype.updateBidiMap=function(){var o=[];M.hasBidiCharacters(this.line,o)||this.isRtlDir?this.bidiMap=M.doBidiReorder(this.line,o,this.isRtlDir):this.bidiMap={}},h.prototype.markAsDirty=function(){this.currentRow=null},h.prototype.updateCharacterWidths=function(o){if(this.characterWidth!==o.$characterSize.width){this.fontMetrics=o;var r=this.characterWidth=o.$characterSize.width,i=o.$measureCharWidth("ה");this.charWidths[M.L]=this.charWidths[M.EN]=this.charWidths[M.ON_R]=r,this.charWidths[M.R]=this.charWidths[M.AN]=i,this.charWidths[M.R_H]=i*.45,this.charWidths[M.B]=this.charWidths[M.RLE]=0,this.currentRow=null}},h.prototype.setShowInvisibles=function(o){this.showInvisibles=o,this.currentRow=null},h.prototype.setEolChar=function(o){this.EOL=o},h.prototype.setContentWidth=function(o){this.contentWidth=o},h.prototype.isRtlLine=function(o){return this.$isRtl?!0:o!=null?this.session.getLine(o).charAt(0)==this.RLE:this.isRtlDir},h.prototype.setRtlDirection=function(o,r){for(var i=o.getCursorPosition(),t=o.selection.getSelectionAnchor().row;t<=i.row;t++)!r&&o.session.getLine(t).charAt(0)===o.session.$bidiHandler.RLE?o.session.doc.removeInLine(t,0,1):r&&o.session.getLine(t).charAt(0)!==o.session.$bidiHandler.RLE&&o.session.doc.insert({column:0,row:t},o.session.$bidiHandler.RLE)},h.prototype.getPosLeft=function(o){o-=this.wrapIndent;var r=this.line.charAt(0)===this.RLE?1:0,i=o>r?this.session.getOverwrite()?o:o-1:r,t=M.getVisualFromLogicalIdx(i,this.bidiMap),e=this.bidiMap.bidiLevels,n=0;!this.session.getOverwrite()&&o<=r&&e[t]%2!==0&&t++;for(var a=0;a<t;a++)n+=this.charWidths[e[a]];return!this.session.getOverwrite()&&o>r&&e[t]%2===0&&(n+=this.charWidths[e[t]]),this.wrapIndent&&(n+=this.isRtlDir?-1*this.wrapOffset:this.wrapOffset),this.isRtlDir&&(n+=this.rtlLineOffset),n},h.prototype.getSelections=function(o,r){var i=this.bidiMap,t=i.bidiLevels,e,n=[],a=0,c=Math.min(o,r)-this.wrapIndent,d=Math.max(o,r)-this.wrapIndent,k=!1,v=!1,p=0;this.wrapIndent&&(a+=this.isRtlDir?-1*this.wrapOffset:this.wrapOffset);for(var u,m=0;m<t.length;m++)u=i.logicalFromVisual[m],e=t[m],k=u>=c&&u<d,k&&!v?p=a:!k&&v&&n.push({left:p,width:a-p}),a+=this.charWidths[e],v=k;if(k&&m===t.length&&n.push({left:p,width:a-p}),this.isRtlDir)for(var A=0;A<n.length;A++)n[A].left+=this.rtlLineOffset;return n},h.prototype.offsetToCol=function(i){this.isRtlDir&&(i-=this.rtlLineOffset);var r=0,i=Math.max(i,0),t=0,e=0,n=this.bidiMap.bidiLevels,a=this.charWidths[n[e]];for(this.wrapIndent&&(i-=this.isRtlDir?-1*this.wrapOffset:this.wrapOffset);i>t+a/2;){if(t+=a,e===n.length-1){a=0;break}a=this.charWidths[n[++e]]}return e>0&&n[e-1]%2!==0&&n[e]%2===0?(i<t&&e--,r=this.bidiMap.logicalFromVisual[e]):e>0&&n[e-1]%2===0&&n[e]%2!==0?r=1+(i>t?this.bidiMap.logicalFromVisual[e]:this.bidiMap.logicalFromVisual[e-1]):this.isRtlDir&&e===n.length-1&&a===0&&n[e-1]%2===0||!this.isRtlDir&&e===0&&n[e]%2!==0?r=1+this.bidiMap.logicalFromVisual[e]:(e>0&&n[e-1]%2!==0&&a!==0&&e--,r=this.bidiMap.logicalFromVisual[e]),r===0&&this.isRtlDir&&r++,r+this.wrapIndent},h}();x.BidiHandler=s}),ace.define("ace/selection",["require","exports","module","ace/lib/oop","ace/lib/lang","ace/lib/event_emitter","ace/range"],function(f,x,W){var M=f("./lib/oop"),$=f("./lib/lang"),y=f("./lib/event_emitter").EventEmitter,s=f("./range").Range,h=function(){function o(r){this.session=r,this.doc=r.getDocument(),this.clearSelection(),this.cursor=this.lead=this.doc.createAnchor(0,0),this.anchor=this.doc.createAnchor(0,0),this.$silent=!1;var i=this;this.cursor.on("change",function(t){i.$cursorChanged=!0,i.$silent||i._emit("changeCursor"),!i.$isEmpty&&!i.$silent&&i._emit("changeSelection"),!i.$keepDesiredColumnOnChange&&t.old.column!=t.value.column&&(i.$desiredColumn=null)}),this.anchor.on("change",function(){i.$anchorChanged=!0,!i.$isEmpty&&!i.$silent&&i._emit("changeSelection")})}return o.prototype.isEmpty=function(){return this.$isEmpty||this.anchor.row==this.lead.row&&this.anchor.column==this.lead.column},o.prototype.isMultiLine=function(){return!this.$isEmpty&&this.anchor.row!=this.cursor.row},o.prototype.getCursor=function(){return this.lead.getPosition()},o.prototype.setAnchor=function(r,i){this.$isEmpty=!1,this.anchor.setPosition(r,i)},o.prototype.getAnchor=function(){return this.$isEmpty?this.getSelectionLead():this.anchor.getPosition()},o.prototype.getSelectionLead=function(){return this.lead.getPosition()},o.prototype.isBackwards=function(){var r=this.anchor,i=this.lead;return r.row>i.row||r.row==i.row&&r.column>i.column},o.prototype.getRange=function(){var r=this.anchor,i=this.lead;return this.$isEmpty?s.fromPoints(i,i):this.isBackwards()?s.fromPoints(i,r):s.fromPoints(r,i)},o.prototype.clearSelection=function(){this.$isEmpty||(this.$isEmpty=!0,this._emit("changeSelection"))},o.prototype.selectAll=function(){this.$setSelection(0,0,Number.MAX_VALUE,Number.MAX_VALUE)},o.prototype.setRange=function(r,i){var t=i?r.end:r.start,e=i?r.start:r.end;this.$setSelection(t.row,t.column,e.row,e.column)},o.prototype.$setSelection=function(r,i,t,e){if(!this.$silent){var n=this.$isEmpty,a=this.inMultiSelectMode;this.$silent=!0,this.$cursorChanged=this.$anchorChanged=!1,this.anchor.setPosition(r,i),this.cursor.setPosition(t,e),this.$isEmpty=!s.comparePoints(this.anchor,this.cursor),this.$silent=!1,this.$cursorChanged&&this._emit("changeCursor"),(this.$cursorChanged||this.$anchorChanged||n!=this.$isEmpty||a)&&this._emit("changeSelection")}},o.prototype.$moveSelection=function(r){var i=this.lead;this.$isEmpty&&this.setSelectionAnchor(i.row,i.column),r.call(this)},o.prototype.selectTo=function(r,i){this.$moveSelection(function(){this.moveCursorTo(r,i)})},o.prototype.selectToPosition=function(r){this.$moveSelection(function(){this.moveCursorToPosition(r)})},o.prototype.moveTo=function(r,i){this.clearSelection(),this.moveCursorTo(r,i)},o.prototype.moveToPosition=function(r){this.clearSelection(),this.moveCursorToPosition(r)},o.prototype.selectUp=function(){this.$moveSelection(this.moveCursorUp)},o.prototype.selectDown=function(){this.$moveSelection(this.moveCursorDown)},o.prototype.selectRight=function(){this.$moveSelection(this.moveCursorRight)},o.prototype.selectLeft=function(){this.$moveSelection(this.moveCursorLeft)},o.prototype.selectLineStart=function(){this.$moveSelection(this.moveCursorLineStart)},o.prototype.selectLineEnd=function(){this.$moveSelection(this.moveCursorLineEnd)},o.prototype.selectFileEnd=function(){this.$moveSelection(this.moveCursorFileEnd)},o.prototype.selectFileStart=function(){this.$moveSelection(this.moveCursorFileStart)},o.prototype.selectWordRight=function(){this.$moveSelection(this.moveCursorWordRight)},o.prototype.selectWordLeft=function(){this.$moveSelection(this.moveCursorWordLeft)},o.prototype.getWordRange=function(r,i){if(typeof i>"u"){var t=r||this.lead;r=t.row,i=t.column}return this.session.getWordRange(r,i)},o.prototype.selectWord=function(){this.setSelectionRange(this.getWordRange())},o.prototype.selectAWord=function(){var r=this.getCursor(),i=this.session.getAWordRange(r.row,r.column);this.setSelectionRange(i)},o.prototype.getLineRange=function(r,i){var t=typeof r=="number"?r:this.lead.row,e,n=this.session.getFoldLine(t);return n?(t=n.start.row,e=n.end.row):e=t,i===!0?new s(t,0,e,this.session.getLine(e).length):new s(t,0,e+1,0)},o.prototype.selectLine=function(){this.setSelectionRange(this.getLineRange())},o.prototype.moveCursorUp=function(){this.moveCursorBy(-1,0)},o.prototype.moveCursorDown=function(){this.moveCursorBy(1,0)},o.prototype.wouldMoveIntoSoftTab=function(r,i,t){var e=r.column,n=r.column+i;return t<0&&(e=r.column-i,n=r.column),this.session.isTabStop(r)&&this.doc.getLine(r.row).slice(e,n).split(" ").length-1==i},o.prototype.moveCursorLeft=function(){var r=this.lead.getPosition(),i;if(i=this.session.getFoldAt(r.row,r.column,-1))this.moveCursorTo(i.start.row,i.start.column);else if(r.column===0)r.row>0&&this.moveCursorTo(r.row-1,this.doc.getLine(r.row-1).length);else{var t=this.session.getTabSize();this.wouldMoveIntoSoftTab(r,t,-1)&&!this.session.getNavigateWithinSoftTabs()?this.moveCursorBy(0,-t):this.moveCursorBy(0,-1)}},o.prototype.moveCursorRight=function(){var r=this.lead.getPosition(),i;if(i=this.session.getFoldAt(r.row,r.column,1))this.moveCursorTo(i.end.row,i.end.column);else if(this.lead.column==this.doc.getLine(this.lead.row).length)this.lead.row<this.doc.getLength()-1&&this.moveCursorTo(this.lead.row+1,0);else{var t=this.session.getTabSize(),r=this.lead;this.wouldMoveIntoSoftTab(r,t,1)&&!this.session.getNavigateWithinSoftTabs()?this.moveCursorBy(0,t):this.moveCursorBy(0,1)}},o.prototype.moveCursorLineStart=function(){var r=this.lead.row,i=this.lead.column,t=this.session.documentToScreenRow(r,i),e=this.session.screenToDocumentPosition(t,0),n=this.session.getDisplayLine(r,null,e.row,e.column),a=n.match(/^\s*/);a[0].length!=i&&!this.session.$useEmacsStyleLineStart&&(e.column+=a[0].length),this.moveCursorToPosition(e)},o.prototype.moveCursorLineEnd=function(){var r=this.lead,i=this.session.getDocumentLastRowColumnPosition(r.row,r.column);if(this.lead.column==i.column){var t=this.session.getLine(i.row);if(i.column==t.length){var e=t.search(/\s+$/);e>0&&(i.column=e)}}this.moveCursorTo(i.row,i.column)},o.prototype.moveCursorFileEnd=function(){var r=this.doc.getLength()-1,i=this.doc.getLine(r).length;this.moveCursorTo(r,i)},o.prototype.moveCursorFileStart=function(){this.moveCursorTo(0,0)},o.prototype.moveCursorLongWordRight=function(){var r=this.lead.row,i=this.lead.column,t=this.doc.getLine(r),e=t.substring(i);this.session.nonTokenRe.lastIndex=0,this.session.tokenRe.lastIndex=0;var n=this.session.getFoldAt(r,i,1);if(n){this.moveCursorTo(n.end.row,n.end.column);return}if(this.session.nonTokenRe.exec(e)&&(i+=this.session.nonTokenRe.lastIndex,this.session.nonTokenRe.lastIndex=0,e=t.substring(i)),i>=t.length){this.moveCursorTo(r,t.length),this.moveCursorRight(),r<this.doc.getLength()-1&&this.moveCursorWordRight();return}this.session.tokenRe.exec(e)&&(i+=this.session.tokenRe.lastIndex,this.session.tokenRe.lastIndex=0),this.moveCursorTo(r,i)},o.prototype.moveCursorLongWordLeft=function(){var r=this.lead.row,i=this.lead.column,t;if(t=this.session.getFoldAt(r,i,-1)){this.moveCursorTo(t.start.row,t.start.column);return}var e=this.session.getFoldStringAt(r,i,-1);e==null&&(e=this.doc.getLine(r).substring(0,i));var n=$.stringReverse(e);if(this.session.nonTokenRe.lastIndex=0,this.session.tokenRe.lastIndex=0,this.session.nonTokenRe.exec(n)&&(i-=this.session.nonTokenRe.lastIndex,n=n.slice(this.session.nonTokenRe.lastIndex),this.session.nonTokenRe.lastIndex=0),i<=0){this.moveCursorTo(r,0),this.moveCursorLeft(),r>0&&this.moveCursorWordLeft();return}this.session.tokenRe.exec(n)&&(i-=this.session.tokenRe.lastIndex,this.session.tokenRe.lastIndex=0),this.moveCursorTo(r,i)},o.prototype.$shortWordEndIndex=function(r){var i=0,t,e=/\s/,n=this.session.tokenRe;if(n.lastIndex=0,this.session.tokenRe.exec(r))i=this.session.tokenRe.lastIndex;else{for(;(t=r[i])&&e.test(t);)i++;if(i<1){for(n.lastIndex=0;(t=r[i])&&!n.test(t);)if(n.lastIndex=0,i++,e.test(t))if(i>2){i--;break}else{for(;(t=r[i])&&e.test(t);)i++;if(i>2)break}}}return n.lastIndex=0,i},o.prototype.moveCursorShortWordRight=function(){var r=this.lead.row,i=this.lead.column,t=this.doc.getLine(r),e=t.substring(i),n=this.session.getFoldAt(r,i,1);if(n)return this.moveCursorTo(n.end.row,n.end.column);if(i==t.length){var a=this.doc.getLength();do r++,e=this.doc.getLine(r);while(r<a&&/^\s*$/.test(e));/^\s+/.test(e)||(e=""),i=0}var c=this.$shortWordEndIndex(e);this.moveCursorTo(r,i+c)},o.prototype.moveCursorShortWordLeft=function(){var r=this.lead.row,i=this.lead.column,t;if(t=this.session.getFoldAt(r,i,-1))return this.moveCursorTo(t.start.row,t.start.column);var e=this.session.getLine(r).substring(0,i);if(i===0){do r--,e=this.doc.getLine(r);while(r>0&&/^\s*$/.test(e));i=e.length,/\s+$/.test(e)||(e="")}var n=$.stringReverse(e),a=this.$shortWordEndIndex(n);return this.moveCursorTo(r,i-a)},o.prototype.moveCursorWordRight=function(){this.session.$selectLongWords?this.moveCursorLongWordRight():this.moveCursorShortWordRight()},o.prototype.moveCursorWordLeft=function(){this.session.$selectLongWords?this.moveCursorLongWordLeft():this.moveCursorShortWordLeft()},o.prototype.moveCursorBy=function(r,i){var t=this.session.documentToScreenPosition(this.lead.row,this.lead.column),e;if(i===0&&(r!==0&&(this.session.$bidiHandler.isBidiRow(t.row,this.lead.row)?(e=this.session.$bidiHandler.getPosLeft(t.column),t.column=Math.round(e/this.session.$bidiHandler.charWidths[0])):e=t.column*this.session.$bidiHandler.charWidths[0]),this.$desiredColumn?t.column=this.$desiredColumn:this.$desiredColumn=t.column),r!=0&&this.session.lineWidgets&&this.session.lineWidgets[this.lead.row]){var n=this.session.lineWidgets[this.lead.row];r<0?r-=n.rowsAbove||0:r>0&&(r+=n.rowCount-(n.rowsAbove||0))}var a=this.session.screenToDocumentPosition(t.row+r,t.column,e);r!==0&&i===0&&a.row===this.lead.row&&(a.column,this.lead.column),this.moveCursorTo(a.row,a.column+i,i===0)},o.prototype.moveCursorToPosition=function(r){this.moveCursorTo(r.row,r.column)},o.prototype.moveCursorTo=function(r,i,t){var e=this.session.getFoldAt(r,i,1);e&&(r=e.start.row,i=e.start.column),this.$keepDesiredColumnOnChange=!0;var n=this.session.getLine(r);/[\uDC00-\uDFFF]/.test(n.charAt(i))&&n.charAt(i-1)&&(this.lead.row==r&&this.lead.column==i+1?i=i-1:i=i+1),this.lead.setPosition(r,i),this.$keepDesiredColumnOnChange=!1,t||(this.$desiredColumn=null)},o.prototype.moveCursorToScreen=function(r,i,t){var e=this.session.screenToDocumentPosition(r,i);this.moveCursorTo(e.row,e.column,t)},o.prototype.detach=function(){this.lead.detach(),this.anchor.detach()},o.prototype.fromOrientedRange=function(r){this.setSelectionRange(r,r.cursor==r.start),this.$desiredColumn=r.desiredColumn||this.$desiredColumn},o.prototype.toOrientedRange=function(r){var i=this.getRange();return r?(r.start.column=i.start.column,r.start.row=i.start.row,r.end.column=i.end.column,r.end.row=i.end.row):r=i,r.cursor=this.isBackwards()?r.start:r.end,r.desiredColumn=this.$desiredColumn,r},o.prototype.getRangeOfMovements=function(r){var i=this.getCursor();try{r(this);var t=this.getCursor();return s.fromPoints(i,t)}catch{return s.fromPoints(i,i)}finally{this.moveCursorToPosition(i)}},o.prototype.toJSON=function(){if(this.rangeCount)var r=this.ranges.map(function(i){var t=i.clone();return t.isBackwards=i.cursor==i.start,t});else{var r=this.getRange();r.isBackwards=this.isBackwards()}return r},o.prototype.fromJSON=function(r){if(r.start==null)if(this.rangeList&&r.length>1){this.toSingleRange(r[0]);for(var i=r.length;i--;){var t=s.fromPoints(r[i].start,r[i].end);r[i].isBackwards&&(t.cursor=t.start),this.addRange(t,!0)}return}else r=r[0];this.rangeList&&this.toSingleRange(r),this.setSelectionRange(r,r.isBackwards)},o.prototype.isEqual=function(r){if((r.length||this.rangeCount)&&r.length!=this.rangeCount)return!1;if(!r.length||!this.ranges)return this.getRange().isEqual(r);for(var i=this.ranges.length;i--;)if(!this.ranges[i].isEqual(r[i]))return!1;return!0},o}();h.prototype.setSelectionAnchor=h.prototype.setAnchor,h.prototype.getSelectionAnchor=h.prototype.getAnchor,h.prototype.setSelectionRange=h.prototype.setRange,M.implement(h.prototype,y),x.Selection=h}),ace.define("ace/tokenizer",["require","exports","module","ace/lib/report_error"],function(f,x,W){var M=f("./lib/report_error").reportError,$=2e3,y=function(){function s(h){this.splitRegex,this.states=h,this.regExps={},this.matchMappings={};for(var o in this.states){for(var r=this.states[o],i=[],t=0,e=this.matchMappings[o]={defaultToken:"text"},n="g",a=[],c=0;c<r.length;c++){var d=r[c];if(d.defaultToken&&(e.defaultToken=d.defaultToken),d.caseInsensitive&&n.indexOf("i")===-1&&(n+="i"),d.unicode&&n.indexOf("u")===-1&&(n+="u"),d.regex!=null){d.regex instanceof RegExp&&(d.regex=d.regex.toString().slice(1,-1));var k=d.regex,v=new RegExp("(?:("+k+")|(.))").exec("a").length-2;Array.isArray(d.token)?d.token.length==1||v==1?d.token=d.token[0]:v-1!=d.token.length?(this.reportError("number of classes and regexp groups doesn't match",{rule:d,groupCount:v-1}),d.token=d.token[0]):(d.tokenArray=d.token,d.token=null,d.onMatch=this.$arrayTokens):typeof d.token=="function"&&!d.onMatch&&(v>1?d.onMatch=this.$applyToken:d.onMatch=d.token),v>1&&(/\\\d/.test(d.regex)?k=d.regex.replace(/\\([0-9]+)/g,function(p,u){return"\\"+(parseInt(u,10)+t+1)}):(v=1,k=this.removeCapturingGroups(d.regex)),!d.splitRegex&&typeof d.token!="string"&&a.push(d)),e[t]=c,t+=v,i.push(k),d.onMatch||(d.onMatch=null)}}i.length||(e[0]=0,i.push("$")),a.forEach(function(p){p.splitRegex=this.createSplitterRegexp(p.regex,n)},this),this.regExps[o]=new RegExp("("+i.join(")|(")+")|($)",n)}}return s.prototype.$setMaxTokenCount=function(h){$=h|0},s.prototype.$applyToken=function(h){var o=this.splitRegex.exec(h).slice(1),r=this.token.apply(this,o);if(typeof r=="string")return[{type:r,value:h}];for(var i=[],t=0,e=r.length;t<e;t++)o[t]&&(i[i.length]={type:r[t],value:o[t]});return i},s.prototype.$arrayTokens=function(h){if(!h)return[];var o=this.splitRegex.exec(h);if(!o)return"text";for(var r=[],i=this.tokenArray,t=0,e=i.length;t<e;t++)o[t+1]&&(r[r.length]={type:i[t],value:o[t+1]});return r},s.prototype.removeCapturingGroups=function(h){var o=h.replace(/\\.|\[(?:\\.|[^\\\]])*|\(\?[:=!<]|(\()/g,function(r,i){return i?"(?:":r});return o},s.prototype.createSplitterRegexp=function(h,o){if(h.indexOf("(?=")!=-1){var r=0,i=!1,t={};h.replace(/(\\.)|(\((?:\?[=!])?)|(\))|([\[\]])/g,function(e,n,a,c,d,k){return i?i=d!="]":d?i=!0:c?(r==t.stack&&(t.end=k+1,t.stack=-1),r--):a&&(r++,a.length!=1&&(t.stack=r,t.start=k)),e}),t.end!=null&&/^\)*$/.test(h.substr(t.end))&&(h=h.substring(0,t.start)+h.substr(t.end))}return h.charAt(0)!="^"&&(h="^"+h),h.charAt(h.length-1)!="$"&&(h+="$"),new RegExp(h,(o||"").replace("g",""))},s.prototype.getLineTokens=function(h,o){if(o&&typeof o!="string"){var r=o.slice(0);o=r[0],o==="#tmp"&&(r.shift(),o=r.shift())}else var r=[];var i=o||"start",t=this.states[i];t||(i="start",t=this.states[i]);var e=this.matchMappings[i],n=this.regExps[i];n.lastIndex=0;for(var a,c=[],d=0,k=0,v={type:null,value:""};a=n.exec(h);){var p=e.defaultToken,u=null,m=a[0],A=n.lastIndex;if(A-m.length>d){var S=h.substring(d,A-m.length);v.type==p?v.value+=S:(v.type&&c.push(v),v={type:p,value:S})}for(var C=0;C<a.length-2;C++)if(a[C+1]!==void 0){u=t[e[C]],u.onMatch?p=u.onMatch(m,i,r,h):p=u.token,u.next&&(typeof u.next=="string"?i=u.next:i=u.next(i,r),t=this.states[i],t||(this.reportError("state doesn't exist",i),i="start",t=this.states[i]),e=this.matchMappings[i],d=A,n=this.regExps[i],n.lastIndex=A),u.consumeLineEnd&&(d=A);break}if(m){if(typeof p=="string")(!u||u.merge!==!1)&&v.type===p?v.value+=m:(v.type&&c.push(v),v={type:p,value:m});else if(p){v.type&&c.push(v),v={type:null,value:""};for(var C=0;C<p.length;C++)c.push(p[C])}}if(d==h.length)break;if(d=A,k++>$){for(k>2*h.length&&this.reportError("infinite loop with in ace tokenizer",{startState:o,line:h});d<h.length;)v.type&&c.push(v),v={value:h.substring(d,d+=500),type:"overflow"};i="start",r=[];break}}return v.type&&c.push(v),r.length>1&&r[0]!==i&&r.unshift("#tmp",i),{tokens:c,state:r.length?r:i}},s}();y.prototype.reportError=M,x.Tokenizer=y}),ace.define("ace/mode/text_highlight_rules",["require","exports","module","ace/lib/deep_copy"],function(f,x,W){var M=f("../lib/deep_copy").deepCopy,$;$=function(){this.$rules={start:[{token:"empty_line",regex:"^$"},{defaultToken:"text"}]}},(function(){this.addRules=function(h,o){if(!o){for(var r in h)this.$rules[r]=h[r];return}for(var r in h){for(var i=h[r],t=0;t<i.length;t++){var e=i[t];(e.next||e.onMatch)&&(typeof e.next=="string"&&e.next.indexOf(o)!==0&&(e.next=o+e.next),e.nextState&&e.nextState.indexOf(o)!==0&&(e.nextState=o+e.nextState))}this.$rules[o+r]=i}},this.getRules=function(){return this.$rules},this.embedRules=function(h,o,r,i,t){var e=typeof h=="function"?new h().getRules():h;if(i)for(var n=0;n<i.length;n++)i[n]=o+i[n];else{i=[];for(var a in e)i.push(o+a)}if(this.addRules(e,o),r)for(var c=Array.prototype[t?"push":"unshift"],n=0;n<i.length;n++)c.apply(this.$rules[i[n]],M(r));this.$embeds||(this.$embeds=[]),this.$embeds.push(o)},this.getEmbeds=function(){return this.$embeds};var y=function(h,o){return(h!="start"||o.length)&&o.unshift(this.nextState,h),this.nextState},s=function(h,o){return o.shift(),o.shift()||"start"};this.normalizeRules=function(){var h=0,o=this.$rules;function r(i){var t=o[i];t.processed=!0;for(var e=0;e<t.length;e++){var n=t[e],a=null;Array.isArray(n)&&(a=n,n={}),!n.regex&&n.start&&(n.regex=n.start,n.next||(n.next=[]),n.next.push({defaultToken:n.token},{token:n.token+".end",regex:n.end||n.start,next:"pop"}),n.token=n.token+".start",n.push=!0);var c=n.next||n.push;if(c&&Array.isArray(c)){var d=n.stateName;d||(d=n.token,typeof d!="string"&&(d=d[0]||""),o[d]&&(d+=h++)),o[d]=c,n.next=d,r(d)}else c=="pop"&&(n.next=s);if(n.push&&(n.nextState=n.next||n.push,n.next=y,delete n.push),n.rules)for(var k in n.rules)o[k]?o[k].push&&o[k].push.apply(o[k],n.rules[k]):o[k]=n.rules[k];var v=typeof n=="string"?n:n.include;if(v&&(v==="$self"&&(v="start"),Array.isArray(v)?a=v.map(function(u){return o[u]}):a=o[v]),a){var p=[e,1].concat(a);n.noEscape&&(p=p.filter(function(u){return!u.next})),t.splice.apply(t,p),e--}n.keywordMap&&(n.token=this.createKeywordMapper(n.keywordMap,n.defaultToken||"text",n.caseInsensitive),delete n.defaultToken)}}Object.keys(o).forEach(r,this)},this.createKeywordMapper=function(h,o,r,i){var t=Object.create(null);return this.$keywordList=[],Object.keys(h).forEach(function(e){for(var n=h[e],a=n.split(i||"|"),c=a.length;c--;){var d=a[c];this.$keywordList.push(d),r&&(d=d.toLowerCase()),t[d]=e}},this),h=null,r?function(e){return t[e.toLowerCase()]||o}:function(e){return t[e]||o}},this.getKeywords=function(){return this.$keywords}}).call($.prototype),x.TextHighlightRules=$}),ace.define("ace/mode/behaviour",["require","exports","module"],function(f,x,W){var M;M=function(){this.$behaviours={}},(function(){this.add=function($,y,s){switch(void 0){case this.$behaviours:this.$behaviours={};case this.$behaviours[$]:this.$behaviours[$]={}}this.$behaviours[$][y]=s},this.addBehaviours=function($){for(var y in $)for(var s in $[y])this.add(y,s,$[y][s])},this.remove=function($){this.$behaviours&&this.$behaviours[$]&&delete this.$behaviours[$]},this.inherit=function($,y){if(typeof $=="function")var s=new $().getBehaviours(y);else var s=$.getBehaviours(y);this.addBehaviours(s)},this.getBehaviours=function($){if($){for(var y={},s=0;s<$.length;s++)this.$behaviours[$[s]]&&(y[$[s]]=this.$behaviours[$[s]]);return y}else return this.$behaviours}}).call(M.prototype),x.Behaviour=M}),ace.define("ace/token_iterator",["require","exports","module","ace/range"],function(f,x,W){var M=f("./range").Range,$=function(){function y(s,h,o){this.$session=s,this.$row=h,this.$rowTokens=s.getTokens(h);var r=s.getTokenAt(h,o);this.$tokenIndex=r?r.index:-1}return y.prototype.stepBackward=function(){for(this.$tokenIndex-=1;this.$tokenIndex<0;){if(this.$row-=1,this.$row<0)return this.$row=0,null;this.$rowTokens=this.$session.getTokens(this.$row),this.$tokenIndex=this.$rowTokens.length-1}return this.$rowTokens[this.$tokenIndex]},y.prototype.stepForward=function(){this.$tokenIndex+=1;for(var s;this.$tokenIndex>=this.$rowTokens.length;){if(this.$row+=1,s||(s=this.$session.getLength()),this.$row>=s)return this.$row=s-1,null;this.$rowTokens=this.$session.getTokens(this.$row),this.$tokenIndex=0}return this.$rowTokens[this.$tokenIndex]},y.prototype.getCurrentToken=function(){return this.$rowTokens[this.$tokenIndex]},y.prototype.getCurrentTokenRow=function(){return this.$row},y.prototype.getCurrentTokenColumn=function(){var s=this.$rowTokens,h=this.$tokenIndex,o=s[h].start;if(o!==void 0)return o;for(o=0;h>0;)h-=1,o+=s[h].value.length;return o},y.prototype.getCurrentTokenPosition=function(){return{row:this.$row,column:this.getCurrentTokenColumn()}},y.prototype.getCurrentTokenRange=function(){var s=this.$rowTokens[this.$tokenIndex],h=this.getCurrentTokenColumn();return new M(this.$row,h,this.$row,h+s.value.length)},y}();x.TokenIterator=$}),ace.define("ace/mode/behaviour/cstyle",["require","exports","module","ace/lib/oop","ace/mode/behaviour","ace/token_iterator","ace/lib/lang"],function(f,x,W){var M=f("../../lib/oop"),$=f("../behaviour").Behaviour,y=f("../../token_iterator").TokenIterator,s=f("../../lib/lang"),h=["text","paren.rparen","rparen","paren","punctuation.operator"],o=["text","paren.rparen","rparen","paren","punctuation.operator","comment"],r,i={},t={'"':'"',"'":"'"},e=function(c){var d=-1;if(c.multiSelect&&(d=c.selection.index,i.rangeCount!=c.multiSelect.rangeCount&&(i={rangeCount:c.multiSelect.rangeCount})),i[d])return r=i[d];r=i[d]={autoInsertedBrackets:0,autoInsertedRow:-1,autoInsertedLineEnd:"",maybeInsertedBrackets:0,maybeInsertedRow:-1,maybeInsertedLineStart:"",maybeInsertedLineEnd:""}},n=function(c,d,k,v){var p=c.end.row-c.start.row;return{text:k+d+v,selection:[0,c.start.column+1,p,c.end.column+(p?0:1)]}},a;a=function(c){c=c||{},this.add("braces","insertion",function(d,k,v,p,u){var m=v.getCursorPosition(),A=p.doc.getLine(m.row);if(u=="{"){e(v);var S=v.getSelectionRange(),C=p.doc.getTextRange(S),R=p.getTokenAt(m.row,m.column);if(C!==""&&C!=="{"&&v.getWrapBehavioursEnabled())return n(S,C,"{","}");if(R&&/(?:string)\.quasi|\.xml/.test(R.type)){var g=[/tag\-(?:open|name)/,/attribute\-name/];return g.some(function(H){return H.test(R.type)})||/(string)\.quasi/.test(R.type)&&R.value[m.column-R.start-1]!=="$"?void 0:(a.recordAutoInsert(v,p,"}"),{text:"{}",selection:[1,1]})}else if(a.isSaneInsertion(v,p))return/[\]\}\)]/.test(A[m.column])||v.inMultiSelectMode||c.braces?(a.recordAutoInsert(v,p,"}"),{text:"{}",selection:[1,1]}):(a.recordMaybeInsert(v,p,"{"),{text:"{",selection:[1,1]})}else if(u=="}"){e(v);var w=A.substring(m.column,m.column+1);if(w=="}"){var l=p.$findOpeningBracket("}",{column:m.column+1,row:m.row});if(l!==null&&a.isAutoInsertedClosing(m,A,u))return a.popAutoInsertedClosing(),{text:"",selection:[1,1]}}}else if(u==`
`||u==`\r
`){e(v);var _="";a.isMaybeInsertedClosing(m,A)&&(_=s.stringRepeat("}",r.maybeInsertedBrackets),a.clearMaybeInsertedClosing());var w=A.substring(m.column,m.column+1);if(w==="}"){var L=p.findMatchingBracket({row:m.row,column:m.column+1},"}");if(!L)return null;var F=this.$getIndent(p.getLine(L.row))}else if(_)var F=this.$getIndent(A);else{a.clearMaybeInsertedClosing();return}var U=F+p.getTabString();return{text:`
`+U+`
`+F+_,selection:[1,U.length,1,U.length]}}else a.clearMaybeInsertedClosing()}),this.add("braces","deletion",function(d,k,v,p,u){var m=p.doc.getTextRange(u);if(!u.isMultiLine()&&m=="{"){e(v);var A=p.doc.getLine(u.start.row),S=A.substring(u.end.column,u.end.column+1);if(S=="}")return u.end.column++,u;r.maybeInsertedBrackets--}}),this.add("parens","insertion",function(d,k,v,p,u){if(u=="("){e(v);var m=v.getSelectionRange(),A=p.doc.getTextRange(m);if(A!==""&&v.getWrapBehavioursEnabled())return n(m,A,"(",")");if(a.isSaneInsertion(v,p))return a.recordAutoInsert(v,p,")"),{text:"()",selection:[1,1]}}else if(u==")"){e(v);var S=v.getCursorPosition(),C=p.doc.getLine(S.row),R=C.substring(S.column,S.column+1);if(R==")"){var g=p.$findOpeningBracket(")",{column:S.column+1,row:S.row});if(g!==null&&a.isAutoInsertedClosing(S,C,u))return a.popAutoInsertedClosing(),{text:"",selection:[1,1]}}}}),this.add("parens","deletion",function(d,k,v,p,u){var m=p.doc.getTextRange(u);if(!u.isMultiLine()&&m=="("){e(v);var A=p.doc.getLine(u.start.row),S=A.substring(u.start.column+1,u.start.column+2);if(S==")")return u.end.column++,u}}),this.add("brackets","insertion",function(d,k,v,p,u){if(u=="["){e(v);var m=v.getSelectionRange(),A=p.doc.getTextRange(m);if(A!==""&&v.getWrapBehavioursEnabled())return n(m,A,"[","]");if(a.isSaneInsertion(v,p))return a.recordAutoInsert(v,p,"]"),{text:"[]",selection:[1,1]}}else if(u=="]"){e(v);var S=v.getCursorPosition(),C=p.doc.getLine(S.row),R=C.substring(S.column,S.column+1);if(R=="]"){var g=p.$findOpeningBracket("]",{column:S.column+1,row:S.row});if(g!==null&&a.isAutoInsertedClosing(S,C,u))return a.popAutoInsertedClosing(),{text:"",selection:[1,1]}}}}),this.add("brackets","deletion",function(d,k,v,p,u){var m=p.doc.getTextRange(u);if(!u.isMultiLine()&&m=="["){e(v);var A=p.doc.getLine(u.start.row),S=A.substring(u.start.column+1,u.start.column+2);if(S=="]")return u.end.column++,u}}),this.add("string_dquotes","insertion",function(d,k,v,p,u){var m=p.$mode.$quotes||t;if(u.length==1&&m[u]){if(this.lineCommentStart&&this.lineCommentStart.indexOf(u)!=-1)return;e(v);var A=u,S=v.getSelectionRange(),C=p.doc.getTextRange(S);if(C!==""&&(C.length!=1||!m[C])&&v.getWrapBehavioursEnabled())return n(S,C,A,A);if(!C){var R=v.getCursorPosition(),g=p.doc.getLine(R.row),w=g.substring(R.column-1,R.column),l=g.substring(R.column,R.column+1),_=p.getTokenAt(R.row,R.column),L=p.getTokenAt(R.row,R.column+1);if(w=="\\"&&_&&/escape/.test(_.type))return null;var F=_&&/string|escape/.test(_.type),U=!L||/string|escape/.test(L.type),H;if(l==A)H=F!==U,H&&/string\.end/.test(L.type)&&(H=!1);else{if(F&&!U||F&&U)return null;var X=p.$mode.tokenRe;X.lastIndex=0;var q=X.test(w);X.lastIndex=0;var Z=X.test(l),oe=p.$mode.$pairQuotesAfter,ee=oe&&oe[A]&&oe[A].test(w);if(!ee&&q||Z||l&&!/[\s;,.})\]\\]/.test(l))return null;var se=g[R.column-2];if(w==A&&(se==A||X.test(se)))return null;H=!0}return{text:H?A+A:"",selection:[1,1]}}}}),this.add("string_dquotes","deletion",function(d,k,v,p,u){var m=p.$mode.$quotes||t,A=p.doc.getTextRange(u);if(!u.isMultiLine()&&m.hasOwnProperty(A)){e(v);var S=p.doc.getLine(u.start.row),C=S.substring(u.start.column+1,u.start.column+2);if(C==A)return u.end.column++,u}}),c.closeDocComment!==!1&&this.add("doc comment end","insertion",function(d,k,v,p,u){if(d==="doc-start"&&(u===`
`||u===`\r
`)&&v.selection.isEmpty()){var m=v.getCursorPosition();if(m.column===0)return;for(var A=p.doc.getLine(m.row),S=p.doc.getLine(m.row+1),C=p.getTokens(m.row),R=0,g=0;g<C.length;g++){R+=C[g].value.length;var w=C[g];if(R>=m.column){if(R===m.column){if(!/\.doc/.test(w.type))return;if(/\*\//.test(w.value)){var l=C[g+1];if(!l||!/\.doc/.test(l.type))return}}var _=m.column-(R-w.value.length),L=w.value.indexOf("*/"),F=w.value.indexOf("/**",L>-1?L+2:0);if(F!==-1&&_>F&&_<F+3||L!==-1&&F!==-1&&_>=L&&_<=F||!/\.doc/.test(w.type))return;break}}var U=this.$getIndent(A);if(/\s*\*/.test(S))return/^\s*\*/.test(A)?{text:u+U+"* ",selection:[1,2+U.length,1,2+U.length]}:{text:u+U+" * ",selection:[1,3+U.length,1,3+U.length]};if(/\/\*\*/.test(A.substring(0,m.column)))return{text:u+U+" * "+u+" "+U+"*/",selection:[1,4+U.length,1,4+U.length]}}})},a.isSaneInsertion=function(c,d){var k=c.getCursorPosition(),v=new y(d,k.row,k.column);if(!this.$matchTokenType(v.getCurrentToken()||"text",h)){if(/[)}\]]/.test(c.session.getLine(k.row)[k.column]))return!0;var p=new y(d,k.row,k.column+1);if(!this.$matchTokenType(p.getCurrentToken()||"text",h))return!1}return v.stepForward(),v.getCurrentTokenRow()!==k.row||this.$matchTokenType(v.getCurrentToken()||"text",o)},a.$matchTokenType=function(c,d){return d.indexOf(c.type||c)>-1},a.recordAutoInsert=function(c,d,k){var v=c.getCursorPosition(),p=d.doc.getLine(v.row);this.isAutoInsertedClosing(v,p,r.autoInsertedLineEnd[0])||(r.autoInsertedBrackets=0),r.autoInsertedRow=v.row,r.autoInsertedLineEnd=k+p.substr(v.column),r.autoInsertedBrackets++},a.recordMaybeInsert=function(c,d,k){var v=c.getCursorPosition(),p=d.doc.getLine(v.row);this.isMaybeInsertedClosing(v,p)||(r.maybeInsertedBrackets=0),r.maybeInsertedRow=v.row,r.maybeInsertedLineStart=p.substr(0,v.column)+k,r.maybeInsertedLineEnd=p.substr(v.column),r.maybeInsertedBrackets++},a.isAutoInsertedClosing=function(c,d,k){return r.autoInsertedBrackets>0&&c.row===r.autoInsertedRow&&k===r.autoInsertedLineEnd[0]&&d.substr(c.column)===r.autoInsertedLineEnd},a.isMaybeInsertedClosing=function(c,d){return r.maybeInsertedBrackets>0&&c.row===r.maybeInsertedRow&&d.substr(c.column)===r.maybeInsertedLineEnd&&d.substr(0,c.column)==r.maybeInsertedLineStart},a.popAutoInsertedClosing=function(){r.autoInsertedLineEnd=r.autoInsertedLineEnd.substr(1),r.autoInsertedBrackets--},a.clearMaybeInsertedClosing=function(){r&&(r.maybeInsertedBrackets=0,r.maybeInsertedRow=-1)},M.inherits(a,$),x.CstyleBehaviour=a}),ace.define("ace/unicode",["require","exports","module"],function(f,x,W){for(var M=[48,9,8,25,5,0,2,25,48,0,11,0,5,0,6,22,2,30,2,457,5,11,15,4,8,0,2,0,18,116,2,1,3,3,9,0,2,2,2,0,2,19,2,82,2,138,2,4,3,155,12,37,3,0,8,38,10,44,2,0,2,1,2,1,2,0,9,26,6,2,30,10,7,61,2,9,5,101,2,7,3,9,2,18,3,0,17,58,3,100,15,53,5,0,6,45,211,57,3,18,2,5,3,11,3,9,2,1,7,6,2,2,2,7,3,1,3,21,2,6,2,0,4,3,3,8,3,1,3,3,9,0,5,1,2,4,3,11,16,2,2,5,5,1,3,21,2,6,2,1,2,1,2,1,3,0,2,4,5,1,3,2,4,0,8,3,2,0,8,15,12,2,2,8,2,2,2,21,2,6,2,1,2,4,3,9,2,2,2,2,3,0,16,3,3,9,18,2,2,7,3,1,3,21,2,6,2,1,2,4,3,8,3,1,3,2,9,1,5,1,2,4,3,9,2,0,17,1,2,5,4,2,2,3,4,1,2,0,2,1,4,1,4,2,4,11,5,4,4,2,2,3,3,0,7,0,15,9,18,2,2,7,2,2,2,22,2,9,2,4,4,7,2,2,2,3,8,1,2,1,7,3,3,9,19,1,2,7,2,2,2,22,2,9,2,4,3,8,2,2,2,3,8,1,8,0,2,3,3,9,19,1,2,7,2,2,2,22,2,15,4,7,2,2,2,3,10,0,9,3,3,9,11,5,3,1,2,17,4,23,2,8,2,0,3,6,4,0,5,5,2,0,2,7,19,1,14,57,6,14,2,9,40,1,2,0,3,1,2,0,3,0,7,3,2,6,2,2,2,0,2,0,3,1,2,12,2,2,3,4,2,0,2,5,3,9,3,1,35,0,24,1,7,9,12,0,2,0,2,0,5,9,2,35,5,19,2,5,5,7,2,35,10,0,58,73,7,77,3,37,11,42,2,0,4,328,2,3,3,6,2,0,2,3,3,40,2,3,3,32,2,3,3,6,2,0,2,3,3,14,2,56,2,3,3,66,5,0,33,15,17,84,13,619,3,16,2,25,6,74,22,12,2,6,12,20,12,19,13,12,2,2,2,1,13,51,3,29,4,0,5,1,3,9,34,2,3,9,7,87,9,42,6,69,11,28,4,11,5,11,11,39,3,4,12,43,5,25,7,10,38,27,5,62,2,28,3,10,7,9,14,0,89,75,5,9,18,8,13,42,4,11,71,55,9,9,4,48,83,2,2,30,14,230,23,280,3,5,3,37,3,5,3,7,2,0,2,0,2,0,2,30,3,52,2,6,2,0,4,2,2,6,4,3,3,5,5,12,6,2,2,6,67,1,20,0,29,0,14,0,17,4,60,12,5,0,4,11,18,0,5,0,3,9,2,0,4,4,7,0,2,0,2,0,2,3,2,10,3,3,6,4,5,0,53,1,2684,46,2,46,2,132,7,6,15,37,11,53,10,0,17,22,10,6,2,6,2,6,2,6,2,6,2,6,2,6,2,6,2,31,48,0,470,1,36,5,2,4,6,1,5,85,3,1,3,2,2,89,2,3,6,40,4,93,18,23,57,15,513,6581,75,20939,53,1164,68,45,3,268,4,27,21,31,3,13,13,1,2,24,9,69,11,1,38,8,3,102,3,1,111,44,25,51,13,68,12,9,7,23,4,0,5,45,3,35,13,28,4,64,15,10,39,54,10,13,3,9,7,22,4,1,5,66,25,2,227,42,2,1,3,9,7,11171,13,22,5,48,8453,301,3,61,3,105,39,6,13,4,6,11,2,12,2,4,2,0,2,1,2,1,2,107,34,362,19,63,3,53,41,11,5,15,17,6,13,1,25,2,33,4,2,134,20,9,8,25,5,0,2,25,12,88,4,5,3,5,3,5,3,2],$=0,y=[],s=0;s<M.length;s+=2)y.push($+=M[s]),M[s+1]&&y.push(45,$+=M[s+1]);x.wordChars=String.fromCharCode.apply(null,y)}),ace.define("ace/mode/text",["require","exports","module","ace/config","ace/tokenizer","ace/mode/text_highlight_rules","ace/mode/behaviour/cstyle","ace/unicode","ace/lib/lang","ace/token_iterator","ace/range"],function(f,x,W){var M=f("../config"),$=f("../tokenizer").Tokenizer,y=f("./text_highlight_rules").TextHighlightRules,s=f("./behaviour/cstyle").CstyleBehaviour,h=f("../unicode"),o=f("../lib/lang"),r=f("../token_iterator").TokenIterator,i=f("../range").Range,t;t=function(){this.HighlightRules=y},(function(){this.$defaultBehaviour=new s,this.tokenRe=new RegExp("^["+h.wordChars+"\\$_]+","g"),this.nonTokenRe=new RegExp("^(?:[^"+h.wordChars+"\\$_]|\\s])+","g"),this.getTokenizer=function(){return this.$tokenizer||(this.$highlightRules=this.$highlightRules||new this.HighlightRules(this.$highlightRuleConfig),this.$tokenizer=new $(this.$highlightRules.getRules())),this.$tokenizer},this.lineCommentStart="",this.blockComment="",this.toggleCommentLines=function(e,n,a,c){var d=n.doc,k=!0,v=!0,p=1/0,u=n.getTabSize(),m=!1;if(this.lineCommentStart){if(Array.isArray(this.lineCommentStart))var C=this.lineCommentStart.map(o.escapeRegExp).join("|"),A=this.lineCommentStart[0];else var C=o.escapeRegExp(this.lineCommentStart),A=this.lineCommentStart;C=new RegExp("^(\\s*)(?:"+C+") ?"),m=n.getUseSoftTabs();var w=function(Z,oe){var ee=Z.match(C);if(ee){var se=ee[1].length,fe=ee[0].length;!L(Z,se,fe)&&ee[0][fe-1]==" "&&fe--,d.removeInLine(oe,se,fe)}},_=A+" ",g=function(Z,oe){(!k||/\S/.test(Z))&&(L(Z,p,p)?d.insertInLine({row:oe,column:p},_):d.insertInLine({row:oe,column:p},A))},l=function(Z,oe){return C.test(Z)},L=function(Z,oe,ee){for(var se=0;oe--&&Z.charAt(oe)==" ";)se++;if(se%u!=0)return!1;for(var se=0;Z.charAt(ee++)==" ";)se++;return u>2?se%u!=u-1:se%u==0}}else{if(!this.blockComment)return!1;var A=this.blockComment.start,S=this.blockComment.end,C=new RegExp("^(\\s*)(?:"+o.escapeRegExp(A)+")"),R=new RegExp("(?:"+o.escapeRegExp(S)+")\\s*$"),g=function(H,X){l(H,X)||(!k||/\S/.test(H))&&(d.insertInLine({row:X,column:H.length},S),d.insertInLine({row:X,column:p},A))},w=function(H,X){var q;(q=H.match(R))&&d.removeInLine(X,H.length-q[0].length,H.length),(q=H.match(C))&&d.removeInLine(X,q[1].length,q[0].length)},l=function(H,X){if(C.test(H))return!0;for(var q=n.getTokens(X),Z=0;Z<q.length;Z++)if(q[Z].type==="comment")return!0}}function F(H){for(var X=a;X<=c;X++)H(d.getLine(X),X)}var U=1/0;F(function(H,X){var q=H.search(/\S/);q!==-1?(q<p&&(p=q),v&&!l(H,X)&&(v=!1)):U>H.length&&(U=H.length)}),p==1/0&&(p=U,k=!1,v=!1),m&&p%u!=0&&(p=Math.floor(p/u)*u),F(v?w:g)},this.toggleBlockComment=function(e,n,a,c){var d=this.blockComment;if(d){!d.start&&d[0]&&(d=d[0]);var k=new r(n,c.row,c.column),v=k.getCurrentToken();n.selection;var p=n.selection.toOrientedRange(),u,m;if(v&&/comment/.test(v.type)){for(var A,S;v&&/comment/.test(v.type);){var C=v.value.indexOf(d.start);if(C!=-1){var R=k.getCurrentTokenRow(),g=k.getCurrentTokenColumn()+C;A=new i(R,g,R,g+d.start.length);break}v=k.stepBackward()}for(var k=new r(n,c.row,c.column),v=k.getCurrentToken();v&&/comment/.test(v.type);){var C=v.value.indexOf(d.end);if(C!=-1){var R=k.getCurrentTokenRow(),g=k.getCurrentTokenColumn()+C;S=new i(R,g,R,g+d.end.length);break}v=k.stepForward()}S&&n.remove(S),A&&(n.remove(A),u=A.start.row,m=-d.start.length)}else m=d.start.length,u=a.start.row,n.insert(a.end,d.end),n.insert(a.start,d.start);p.start.row==u&&(p.start.column+=m),p.end.row==u&&(p.end.column+=m),n.selection.fromOrientedRange(p)}},this.getNextLineIndent=function(e,n,a){return this.$getIndent(n)},this.checkOutdent=function(e,n,a){return!1},this.autoOutdent=function(e,n,a){},this.$getIndent=function(e){return e.match(/^\s*/)[0]},this.createWorker=function(e){return null},this.createModeDelegates=function(e){this.$embeds=[],this.$modes={};for(var n in e)if(e[n]){var a=e[n],c=a.prototype.$id,d=M.$modes[c];d||(M.$modes[c]=d=new a),M.$modes[n]||(M.$modes[n]=d),this.$embeds.push(n),this.$modes[n]=d}for(var k=["toggleBlockComment","toggleCommentLines","getNextLineIndent","checkOutdent","autoOutdent","transformAction","getCompletions"],v=function(u){(function(m){var A=k[u],S=m[A];m[k[u]]=function(){return this.$delegator(A,arguments,S)}})(p)},p=this,n=0;n<k.length;n++)v(n)},this.$delegator=function(e,n,a){var c=n[0]||"start";if(typeof c!="string"){if(Array.isArray(c[2])){var d=c[2][c[2].length-1],k=this.$modes[d];if(k)return k[e].apply(k,[c[1]].concat([].slice.call(n,1)))}c=c[0]||"start"}for(var v=0;v<this.$embeds.length;v++)if(this.$modes[this.$embeds[v]]){var p=c.split(this.$embeds[v]);if(!p[0]&&p[1]){n[0]=p[1];var k=this.$modes[this.$embeds[v]];return k[e].apply(k,n)}}var u=a.apply(this,n);return a?u:void 0},this.transformAction=function(e,n,a,c,d){if(this.$behaviour){var k=this.$behaviour.getBehaviours();for(var v in k)if(k[v][n]){var p=k[v][n].apply(this,arguments);if(p)return p}}},this.getKeywords=function(e){if(!this.completionKeywords){var n=this.$tokenizer.rules,a=[];for(var c in n)for(var d=n[c],k=0,v=d.length;k<v;k++)if(typeof d[k].token=="string")/keyword|support|storage/.test(d[k].token)&&a.push(d[k].regex);else if(typeof d[k].token=="object"){for(var p=0,u=d[k].token.length;p<u;p++)if(/keyword|support|storage/.test(d[k].token[p])){var c=d[k].regex.match(/\(.+?\)/g)[p];a.push(c.substr(1,c.length-2))}}this.completionKeywords=a}return e?a.concat(this.$keywordList||[]):this.$keywordList},this.$createKeywordList=function(){return this.$highlightRules||this.getTokenizer(),this.$keywordList=this.$highlightRules.$keywordList||[]},this.getCompletions=function(e,n,a,c){var d=this.$keywordList||this.$createKeywordList();return d.map(function(k){return{name:k,value:k,score:0,meta:"keyword"}})},this.$id="ace/mode/text"}).call(t.prototype),x.Mode=t}),ace.define("ace/apply_delta",["require","exports","module"],function(f,x,W){x.applyDelta=function(M,$,y){var s=$.start.row,h=$.start.column,o=M[s]||"";switch($.action){case"insert":var r=$.lines;if(r.length===1)M[s]=o.substring(0,h)+$.lines[0]+o.substring(h);else{var i=[s,1].concat($.lines);M.splice.apply(M,i),M[s]=o.substring(0,h)+M[s],M[s+$.lines.length-1]+=o.substring(h)}break;case"remove":var t=$.end.column,e=$.end.row;s===e?M[s]=o.substring(0,h)+o.substring(t):M.splice(s,e-s+1,o.substring(0,h)+M[e].substring(t));break}}}),ace.define("ace/anchor",["require","exports","module","ace/lib/oop","ace/lib/event_emitter"],function(f,x,W){var M=f("./lib/oop"),$=f("./lib/event_emitter").EventEmitter,y=function(){function o(r,i,t){this.$onChange=this.onChange.bind(this),this.attach(r),typeof i!="number"?this.setPosition(i.row,i.column):this.setPosition(i,t)}return o.prototype.getPosition=function(){return this.$clipPositionToDocument(this.row,this.column)},o.prototype.getDocument=function(){return this.document},o.prototype.onChange=function(r){if(!(r.start.row==r.end.row&&r.start.row!=this.row)&&!(r.start.row>this.row)){var i=h(r,{row:this.row,column:this.column},this.$insertRight);this.setPosition(i.row,i.column,!0)}},o.prototype.setPosition=function(r,i,t){var e;if(t?e={row:r,column:i}:e=this.$clipPositionToDocument(r,i),!(this.row==e.row&&this.column==e.column)){var n={row:this.row,column:this.column};this.row=e.row,this.column=e.column,this._signal("change",{old:n,value:e})}},o.prototype.detach=function(){this.document.off("change",this.$onChange)},o.prototype.attach=function(r){this.document=r||this.document,this.document.on("change",this.$onChange)},o.prototype.$clipPositionToDocument=function(r,i){var t={};return r>=this.document.getLength()?(t.row=Math.max(0,this.document.getLength()-1),t.column=this.document.getLine(t.row).length):r<0?(t.row=0,t.column=0):(t.row=r,t.column=Math.min(this.document.getLine(t.row).length,Math.max(0,i))),i<0&&(t.column=0),t},o}();y.prototype.$insertRight=!1,M.implement(y.prototype,$);function s(o,r,i){var t=i?o.column<=r.column:o.column<r.column;return o.row<r.row||o.row==r.row&&t}function h(o,r,i){var t=o.action=="insert",e=(t?1:-1)*(o.end.row-o.start.row),n=(t?1:-1)*(o.end.column-o.start.column),a=o.start,c=t?a:o.end;return s(r,a,i)?{row:r.row,column:r.column}:s(c,r,!i)?{row:r.row+e,column:r.column+(r.row==c.row?n:0)}:{row:a.row,column:a.column}}x.Anchor=y}),ace.define("ace/document",["require","exports","module","ace/lib/oop","ace/apply_delta","ace/lib/event_emitter","ace/range","ace/anchor"],function(f,x,W){var M=f("./lib/oop"),$=f("./apply_delta").applyDelta,y=f("./lib/event_emitter").EventEmitter,s=f("./range").Range,h=f("./anchor").Anchor,o=function(){function r(i){this.$lines=[""],i.length===0?this.$lines=[""]:Array.isArray(i)?this.insertMergedLines({row:0,column:0},i):this.insert({row:0,column:0},i)}return r.prototype.setValue=function(i){var t=this.getLength()-1;this.remove(new s(0,0,t,this.getLine(t).length)),this.insert({row:0,column:0},i||"")},r.prototype.getValue=function(){return this.getAllLines().join(this.getNewLineCharacter())},r.prototype.createAnchor=function(i,t){return new h(this,i,t)},r.prototype.$detectNewLine=function(i){var t=i.match(/^.*?(\r\n|\r|\n)/m);this.$autoNewLine=t?t[1]:`
`,this._signal("changeNewLineMode")},r.prototype.getNewLineCharacter=function(){switch(this.$newLineMode){case"windows":return`\r
`;case"unix":return`
`;default:return this.$autoNewLine||`
`}},r.prototype.setNewLineMode=function(i){this.$newLineMode!==i&&(this.$newLineMode=i,this._signal("changeNewLineMode"))},r.prototype.getNewLineMode=function(){return this.$newLineMode},r.prototype.isNewLine=function(i){return i==`\r
`||i=="\r"||i==`
`},r.prototype.getLine=function(i){return this.$lines[i]||""},r.prototype.getLines=function(i,t){return this.$lines.slice(i,t+1)},r.prototype.getAllLines=function(){return this.getLines(0,this.getLength())},r.prototype.getLength=function(){return this.$lines.length},r.prototype.getTextRange=function(i){return this.getLinesForRange(i).join(this.getNewLineCharacter())},r.prototype.getLinesForRange=function(i){var t;if(i.start.row===i.end.row)t=[this.getLine(i.start.row).substring(i.start.column,i.end.column)];else{t=this.getLines(i.start.row,i.end.row),t[0]=(t[0]||"").substring(i.start.column);var e=t.length-1;i.end.row-i.start.row==e&&(t[e]=t[e].substring(0,i.end.column))}return t},r.prototype.insertLines=function(i,t){return console.warn("Use of document.insertLines is deprecated. Use the insertFullLines method instead."),this.insertFullLines(i,t)},r.prototype.removeLines=function(i,t){return console.warn("Use of document.removeLines is deprecated. Use the removeFullLines method instead."),this.removeFullLines(i,t)},r.prototype.insertNewLine=function(i){return console.warn("Use of document.insertNewLine is deprecated. Use insertMergedLines(position, ['', '']) instead."),this.insertMergedLines(i,["",""])},r.prototype.insert=function(i,t){return this.getLength()<=1&&this.$detectNewLine(t),this.insertMergedLines(i,this.$split(t))},r.prototype.insertInLine=function(i,t){var e=this.clippedPos(i.row,i.column),n=this.pos(i.row,i.column+t.length);return this.applyDelta({start:e,end:n,action:"insert",lines:[t]},!0),this.clonePos(n)},r.prototype.clippedPos=function(i,t){var e=this.getLength();i===void 0?i=e:i<0?i=0:i>=e&&(i=e-1,t=void 0);var n=this.getLine(i);return t==null&&(t=n.length),t=Math.min(Math.max(t,0),n.length),{row:i,column:t}},r.prototype.clonePos=function(i){return{row:i.row,column:i.column}},r.prototype.pos=function(i,t){return{row:i,column:t}},r.prototype.$clipPosition=function(i){var t=this.getLength();return i.row>=t?(i.row=Math.max(0,t-1),i.column=this.getLine(t-1).length):(i.row=Math.max(0,i.row),i.column=Math.min(Math.max(i.column,0),this.getLine(i.row).length)),i},r.prototype.insertFullLines=function(i,t){i=Math.min(Math.max(i,0),this.getLength());var e=0;i<this.getLength()?(t=t.concat([""]),e=0):(t=[""].concat(t),i--,e=this.$lines[i].length),this.insertMergedLines({row:i,column:e},t)},r.prototype.insertMergedLines=function(i,t){var e=this.clippedPos(i.row,i.column),n={row:e.row+t.length-1,column:(t.length==1?e.column:0)+t[t.length-1].length};return this.applyDelta({start:e,end:n,action:"insert",lines:t}),this.clonePos(n)},r.prototype.remove=function(i){var t=this.clippedPos(i.start.row,i.start.column),e=this.clippedPos(i.end.row,i.end.column);return this.applyDelta({start:t,end:e,action:"remove",lines:this.getLinesForRange({start:t,end:e})}),this.clonePos(t)},r.prototype.removeInLine=function(i,t,e){var n=this.clippedPos(i,t),a=this.clippedPos(i,e);return this.applyDelta({start:n,end:a,action:"remove",lines:this.getLinesForRange({start:n,end:a})},!0),this.clonePos(n)},r.prototype.removeFullLines=function(i,t){i=Math.min(Math.max(0,i),this.getLength()-1),t=Math.min(Math.max(0,t),this.getLength()-1);var e=t==this.getLength()-1&&i>0,n=t<this.getLength()-1,a=e?i-1:i,c=e?this.getLine(a).length:0,d=n?t+1:t,k=n?0:this.getLine(d).length,v=new s(a,c,d,k),p=this.$lines.slice(i,t+1);return this.applyDelta({start:v.start,end:v.end,action:"remove",lines:this.getLinesForRange(v)}),p},r.prototype.removeNewLine=function(i){i<this.getLength()-1&&i>=0&&this.applyDelta({start:this.pos(i,this.getLine(i).length),end:this.pos(i+1,0),action:"remove",lines:["",""]})},r.prototype.replace=function(i,t){if(i instanceof s||(i=s.fromPoints(i.start,i.end)),t.length===0&&i.isEmpty())return i.start;if(t==this.getTextRange(i))return i.end;this.remove(i);var e;return t?e=this.insert(i.start,t):e=i.start,e},r.prototype.applyDeltas=function(i){for(var t=0;t<i.length;t++)this.applyDelta(i[t])},r.prototype.revertDeltas=function(i){for(var t=i.length-1;t>=0;t--)this.revertDelta(i[t])},r.prototype.applyDelta=function(i,t){var e=i.action=="insert";(e?i.lines.length<=1&&!i.lines[0]:!s.comparePoints(i.start,i.end))||(e&&i.lines.length>2e4?this.$splitAndapplyLargeDelta(i,2e4):($(this.$lines,i,t),this._signal("change",i)))},r.prototype.$safeApplyDelta=function(i){var t=this.$lines.length;(i.action=="remove"&&i.start.row<t&&i.end.row<t||i.action=="insert"&&i.start.row<=t)&&this.applyDelta(i)},r.prototype.$splitAndapplyLargeDelta=function(i,t){for(var e=i.lines,n=e.length-t+1,a=i.start.row,c=i.start.column,d=0,k=0;d<n;d=k){k+=t-1;var v=e.slice(d,k);v.push(""),this.applyDelta({start:this.pos(a+d,c),end:this.pos(a+k,c=0),action:i.action,lines:v},!0)}i.lines=e.slice(d),i.start.row=a+d,i.start.column=c,this.applyDelta(i,!0)},r.prototype.revertDelta=function(i){this.$safeApplyDelta({start:this.clonePos(i.start),end:this.clonePos(i.end),action:i.action=="insert"?"remove":"insert",lines:i.lines.slice()})},r.prototype.indexToPosition=function(i,t){for(var e=this.$lines||this.getAllLines(),n=this.getNewLineCharacter().length,a=t||0,c=e.length;a<c;a++)if(i-=e[a].length+n,i<0)return{row:a,column:i+e[a].length+n};return{row:c-1,column:i+e[c-1].length+n}},r.prototype.positionToIndex=function(i,t){for(var e=this.$lines||this.getAllLines(),n=this.getNewLineCharacter().length,a=0,c=Math.min(i.row,e.length),d=t||0;d<c;++d)a+=e[d].length+n;return a+i.column},r.prototype.$split=function(i){return i.split(/\r\n|\r|\n/)},r}();o.prototype.$autoNewLine="",o.prototype.$newLineMode="auto",M.implement(o.prototype,y),x.Document=o}),ace.define("ace/background_tokenizer",["require","exports","module","ace/lib/oop","ace/lib/event_emitter"],function(f,x,W){var M=f("./lib/oop"),$=f("./lib/event_emitter").EventEmitter,y=function(){function s(h,o){this.running=!1,this.lines=[],this.states=[],this.currentLine=0,this.tokenizer=h;var r=this;this.$worker=function(){if(r.running){for(var i=new Date,t=r.currentLine,e=-1,n=r.doc,a=t;r.lines[t];)t++;var c=n.getLength(),d=0;for(r.running=!1;t<c;){r.$tokenizeRow(t),e=t;do t++;while(r.lines[t]);if(d++,d%5===0&&new Date-i>20){r.running=setTimeout(r.$worker,20);break}}r.currentLine=t,e==-1&&(e=t),a<=e&&r.fireUpdateEvent(a,e)}}}return s.prototype.setTokenizer=function(h){this.tokenizer=h,this.lines=[],this.states=[],this.start(0)},s.prototype.setDocument=function(h){this.doc=h,this.lines=[],this.states=[],this.stop()},s.prototype.fireUpdateEvent=function(h,o){var r={first:h,last:o};this._signal("update",{data:r})},s.prototype.start=function(h){this.currentLine=Math.min(h||0,this.currentLine,this.doc.getLength()),this.lines.splice(this.currentLine,this.lines.length),this.states.splice(this.currentLine,this.states.length),this.stop(),this.running=setTimeout(this.$worker,700)},s.prototype.scheduleStart=function(){this.running||(this.running=setTimeout(this.$worker,700))},s.prototype.$updateOnChange=function(h){var o=h.start.row,r=h.end.row-o;if(r===0)this.lines[o]=null;else if(h.action=="remove")this.lines.splice(o,r+1,null),this.states.splice(o,r+1,null);else{var i=Array(r+1);i.unshift(o,1),this.lines.splice.apply(this.lines,i),this.states.splice.apply(this.states,i)}this.currentLine=Math.min(o,this.currentLine,this.doc.getLength()),this.stop()},s.prototype.stop=function(){this.running&&clearTimeout(this.running),this.running=!1},s.prototype.getTokens=function(h){return this.lines[h]||this.$tokenizeRow(h)},s.prototype.getState=function(h){return this.currentLine==h&&this.$tokenizeRow(h),this.states[h]||"start"},s.prototype.$tokenizeRow=function(h){var o=this.doc.getLine(h),r=this.states[h-1],i=this.tokenizer.getLineTokens(o,r,h);return this.states[h]+""!=i.state+""?(this.states[h]=i.state,this.lines[h+1]=null,this.currentLine>h+1&&(this.currentLine=h+1)):this.currentLine==h&&(this.currentLine=h+1),this.lines[h]=i.tokens},s.prototype.cleanup=function(){this.running=!1,this.lines=[],this.states=[],this.currentLine=0,this.removeAllListeners()},s}();M.implement(y.prototype,$),x.BackgroundTokenizer=y}),ace.define("ace/search_highlight",["require","exports","module","ace/lib/lang","ace/range"],function(f,x,W){var M=f("./lib/lang"),$=f("./range").Range,y=function(){function s(h,o,r){r===void 0&&(r="text"),this.setRegexp(h),this.clazz=o,this.type=r}return s.prototype.setRegexp=function(h){this.regExp+""!=h+""&&(this.regExp=h,this.cache=[])},s.prototype.update=function(h,o,r,i){if(this.regExp)for(var t=i.firstRow,e=i.lastRow,n={},a=t;a<=e;a++){var c=this.cache[a];c==null&&(c=M.getMatchOffsets(r.getLine(a),this.regExp),c.length>this.MAX_RANGES&&(c=c.slice(0,this.MAX_RANGES)),c=c.map(function(p){return new $(a,p.offset,a,p.offset+p.length)}),this.cache[a]=c.length?c:"");for(var d=c.length;d--;){var k=c[d].toScreenRange(r),v=k.toString();n[v]||(n[v]=!0,o.drawSingleLineMarker(h,k,this.clazz,i))}}},s}();y.prototype.MAX_RANGES=500,x.SearchHighlight=y}),ace.define("ace/undomanager",["require","exports","module","ace/range"],function(f,x,W){var M=function(){function p(){this.$keepRedoStack,this.$maxRev=0,this.$fromUndo=!1,this.$undoDepth=1/0,this.reset()}return p.prototype.addSession=function(u){this.$session=u},p.prototype.add=function(u,m,A){if(!this.$fromUndo&&u!=this.$lastDelta){if(this.$keepRedoStack||(this.$redoStack.length=0),m===!1||!this.lastDeltas){this.lastDeltas=[];var S=this.$undoStack.length;S>this.$undoDepth-1&&this.$undoStack.splice(0,S-this.$undoDepth+1),this.$undoStack.push(this.lastDeltas),u.id=this.$rev=++this.$maxRev}(u.action=="remove"||u.action=="insert")&&(this.$lastDelta=u),this.lastDeltas.push(u)}},p.prototype.addSelection=function(u,m){this.selections.push({value:u,rev:m||this.$rev})},p.prototype.startNewGroup=function(){return this.lastDeltas=null,this.$rev},p.prototype.markIgnored=function(u,m){m==null&&(m=this.$rev+1);for(var A=this.$undoStack,S=A.length;S--;){var C=A[S][0];if(C.id<=u)break;C.id<m&&(C.ignore=!0)}this.lastDeltas=null},p.prototype.getSelection=function(u,m){for(var A=this.selections,S=A.length;S--;){var C=A[S];if(C.rev<u)return m&&(C=A[S+1]),C}},p.prototype.getRevision=function(){return this.$rev},p.prototype.getDeltas=function(u,m){m==null&&(m=this.$rev+1);for(var A=this.$undoStack,S=null,C=0,R=A.length;R--;){var g=A[R][0];if(g.id<m&&!S&&(S=R+1),g.id<=u){C=R+1;break}}return A.slice(C,S)},p.prototype.getChangedRanges=function(u,m){m==null&&(m=this.$rev+1)},p.prototype.getChangedLines=function(u,m){m==null&&(m=this.$rev+1)},p.prototype.undo=function(u,m){this.lastDeltas=null;var A=this.$undoStack;if($(A,A.length)){u||(u=this.$session),this.$redoStackBaseRev!==this.$rev&&this.$redoStack.length&&(this.$redoStack=[]),this.$fromUndo=!0;var S=A.pop(),C=null;return S&&(C=u.undoChanges(S,m),this.$redoStack.push(S),this.$syncRev()),this.$fromUndo=!1,C}},p.prototype.redo=function(u,m){if(this.lastDeltas=null,u||(u=this.$session),this.$fromUndo=!0,this.$redoStackBaseRev!=this.$rev){var A=this.getDeltas(this.$redoStackBaseRev,this.$rev+1);v(this.$redoStack,A),this.$redoStackBaseRev=this.$rev,this.$redoStack.forEach(function(R){R[0].id=++this.$maxRev},this)}var S=this.$redoStack.pop(),C=null;return S&&(C=u.redoChanges(S,m),this.$undoStack.push(S),this.$syncRev()),this.$fromUndo=!1,C},p.prototype.$syncRev=function(){var u=this.$undoStack,m=u[u.length-1],A=m&&m[0].id||0;this.$redoStackBaseRev=A,this.$rev=A},p.prototype.reset=function(){this.lastDeltas=null,this.$lastDelta=null,this.$undoStack=[],this.$redoStack=[],this.$rev=0,this.mark=0,this.$redoStackBaseRev=this.$rev,this.selections=[]},p.prototype.canUndo=function(){return this.$undoStack.length>0},p.prototype.canRedo=function(){return this.$redoStack.length>0},p.prototype.bookmark=function(u){u==null&&(u=this.$rev),this.mark=u},p.prototype.isAtBookmark=function(){return this.$rev===this.mark},p.prototype.toJSON=function(){return{$redoStack:this.$redoStack,$undoStack:this.$undoStack}},p.prototype.fromJSON=function(u){this.reset(),this.$undoStack=u.$undoStack,this.$redoStack=u.$redoStack},p.prototype.$prettyPrint=function(u){return u?r(u):r(this.$undoStack)+`
---
`+r(this.$redoStack)},p}();M.prototype.hasUndo=M.prototype.canUndo,M.prototype.hasRedo=M.prototype.canRedo,M.prototype.isClean=M.prototype.isAtBookmark,M.prototype.markClean=M.prototype.bookmark;function $(p,u){for(var m=u;m--;){var A=p[m];if(A&&!A[0].ignore){for(;m<u-1;){var S=e(p[m],p[m+1]);p[m]=S[0],p[m+1]=S[1],m++}return!0}}}var y=f("./range").Range,s=y.comparePoints;y.comparePoints;function h(p){return{row:p.row,column:p.column}}function o(p){return{start:h(p.start),end:h(p.end),action:p.action,lines:p.lines.slice()}}function r(p){if(p=p||this,Array.isArray(p))return p.map(r).join(`
`);var u="";return p.action?(u=p.action=="insert"?"+":"-",u+="["+p.lines+"]"):p.value&&(Array.isArray(p.value)?u=p.value.map(i).join(`
`):u=i(p.value)),p.start&&(u+=i(p)),(p.id||p.rev)&&(u+="	("+(p.id||p.rev)+")"),u}function i(p){return p.start.row+":"+p.start.column+"=>"+p.end.row+":"+p.end.column}function t(p,u){var m=p.action=="insert",A=u.action=="insert";if(m&&A)if(s(u.start,p.end)>=0)a(u,p,-1);else if(s(u.start,p.start)<=0)a(p,u,1);else return null;else if(m&&!A)if(s(u.start,p.end)>=0)a(u,p,-1);else if(s(u.end,p.start)<=0)a(p,u,-1);else return null;else if(!m&&A)if(s(u.start,p.start)>=0)a(u,p,1);else if(s(u.start,p.start)<=0)a(p,u,1);else return null;else if(!m&&!A)if(s(u.start,p.start)>=0)a(u,p,1);else if(s(u.end,p.start)<=0)a(p,u,-1);else return null;return[u,p]}function e(p,u){for(var m=p.length;m--;)for(var A=0;A<u.length;A++)if(!t(p[m],u[A])){for(;m<p.length;){for(;A--;)t(u[A],p[m]);A=u.length,m++}return[p,u]}return p.selectionBefore=u.selectionBefore=p.selectionAfter=u.selectionAfter=null,[u,p]}function n(p,u){var m=p.action=="insert",A=u.action=="insert";if(m&&A)s(p.start,u.start)<0?a(u,p,1):a(p,u,1);else if(m&&!A)s(p.start,u.end)>=0?a(p,u,-1):(s(p.start,u.start)<=0||a(p,y.fromPoints(u.start,p.start),-1),a(u,p,1));else if(!m&&A)s(u.start,p.end)>=0?a(u,p,-1):(s(u.start,p.start)<=0||a(u,y.fromPoints(p.start,u.start),-1),a(p,u,1));else if(!m&&!A)if(s(u.start,p.end)>=0)a(u,p,-1);else if(s(u.end,p.start)<=0)a(p,u,-1);else{var S,C;return s(p.start,u.start)<0&&(S=p,p=d(p,u.start)),s(p.end,u.end)>0&&(C=d(p,u.end)),c(u.end,p.start,p.end,-1),C&&!S&&(p.lines=C.lines,p.start=C.start,p.end=C.end,C=p),[u,S,C].filter(Boolean)}return[u,p]}function a(p,u,m){c(p.start,u.start,u.end,m),c(p.end,u.start,u.end,m)}function c(p,u,m,A){p.row==(A==1?u:m).row&&(p.column+=A*(m.column-u.column)),p.row+=A*(m.row-u.row)}function d(p,u){var m=p.lines,A=p.end;p.end=h(u);var S=p.end.row-p.start.row,C=m.splice(S,m.length),R=S?u.column:u.column-p.start.column;m.push(C[0].substring(0,R)),C[0]=C[0].substr(R);var g={start:h(u),end:A,lines:C,action:p.action};return g}function k(p,u){u=o(u);for(var m=p.length;m--;){for(var A=p[m],S=0;S<A.length;S++){var C=A[S],R=n(C,u);u=R[0],R.length!=2&&(R[2]?(A.splice(S+1,1,R[1],R[2]),S++):R[1]||(A.splice(S,1),S--))}A.length||p.splice(m,1)}return p}function v(p,u){for(var m=0;m<u.length;m++)for(var A=u[m],S=0;S<A.length;S++)k(p,A[S])}x.UndoManager=M}),ace.define("ace/edit_session/fold_line",["require","exports","module","ace/range"],function(f,x,W){var M=f("../range").Range,$=function(){function y(s,h){this.foldData=s,Array.isArray(h)?this.folds=h:h=this.folds=[h];var o=h[h.length-1];this.range=new M(h[0].start.row,h[0].start.column,o.end.row,o.end.column),this.start=this.range.start,this.end=this.range.end,this.folds.forEach(function(r){r.setFoldLine(this)},this)}return y.prototype.shiftRow=function(s){this.start.row+=s,this.end.row+=s,this.folds.forEach(function(h){h.start.row+=s,h.end.row+=s})},y.prototype.addFold=function(s){if(s.sameRow){if(s.start.row<this.startRow||s.endRow>this.endRow)throw new Error("Can't add a fold to this FoldLine as it has no connection");this.folds.push(s),this.folds.sort(function(h,o){return-h.range.compareEnd(o.start.row,o.start.column)}),this.range.compareEnd(s.start.row,s.start.column)>0?(this.end.row=s.end.row,this.end.column=s.end.column):this.range.compareStart(s.end.row,s.end.column)<0&&(this.start.row=s.start.row,this.start.column=s.start.column)}else if(s.start.row==this.end.row)this.folds.push(s),this.end.row=s.end.row,this.end.column=s.end.column;else if(s.end.row==this.start.row)this.folds.unshift(s),this.start.row=s.start.row,this.start.column=s.start.column;else throw new Error("Trying to add fold to FoldRow that doesn't have a matching row");s.foldLine=this},y.prototype.containsRow=function(s){return s>=this.start.row&&s<=this.end.row},y.prototype.walk=function(s,h,o){var r=0,i=this.folds,t,e,n,a=!0;h==null&&(h=this.end.row,o=this.end.column);for(var c=0;c<i.length;c++){if(t=i[c],e=t.range.compareStart(h,o),e==-1){s(null,h,o,r,a);return}if(n=s(null,t.start.row,t.start.column,r,a),n=!n&&s(t.placeholder,t.start.row,t.start.column,r),n||e===0)return;a=!t.sameRow,r=t.end.column}s(null,h,o,r,a)},y.prototype.getNextFoldTo=function(s,h){for(var o,r,i=0;i<this.folds.length;i++){if(o=this.folds[i],r=o.range.compareEnd(s,h),r==-1)return{fold:o,kind:"after"};if(r===0)return{fold:o,kind:"inside"}}return null},y.prototype.addRemoveChars=function(s,h,o){var r=this.getNextFoldTo(s,h),i,t;if(r){if(i=r.fold,r.kind=="inside"&&i.start.column!=h&&i.start.row!=s)window.console&&window.console.log(s,h,i);else if(i.start.row==s){t=this.folds;var e=t.indexOf(i);for(e===0&&(this.start.column+=o),e;e<t.length;e++){if(i=t[e],i.start.column+=o,!i.sameRow)return;i.end.column+=o}this.end.column+=o}}},y.prototype.split=function(s,h){var o=this.getNextFoldTo(s,h);if(!o||o.kind=="inside")return null;var r=o.fold,i=this.folds,t=this.foldData,e=i.indexOf(r),n=i[e-1];this.end.row=n.end.row,this.end.column=n.end.column,i=i.splice(e,i.length-e);var a=new y(t,i);return t.splice(t.indexOf(this)+1,0,a),a},y.prototype.merge=function(s){for(var h=s.folds,o=0;o<h.length;o++)this.addFold(h[o]);var r=this.foldData;r.splice(r.indexOf(s),1)},y.prototype.toString=function(){var s=[this.range.toString()+": ["];return this.folds.forEach(function(h){s.push("  "+h.toString())}),s.push("]"),s.join(`
`)},y.prototype.idxToPosition=function(s){for(var h=0,o=0;o<this.folds.length;o++){var r=this.folds[o];if(s-=r.start.column-h,s<0)return{row:r.start.row,column:r.start.column+s};if(s-=r.placeholder.length,s<0)return r.start;h=r.end.column}return{row:this.end.row,column:this.end.column+s}},y}();x.FoldLine=$}),ace.define("ace/range_list",["require","exports","module","ace/range"],function(f,x,W){var M=f("./range").Range,$=M.comparePoints,y=function(){function s(){this.ranges=[],this.$bias=1}return s.prototype.pointIndex=function(h,o,r){for(var i=this.ranges,t=r||0;t<i.length;t++){var e=i[t],n=$(h,e.end);if(!(n>0)){var a=$(h,e.start);return n===0?o&&a!==0?-t-2:t:a>0||a===0&&!o?t:-t-1}}return-t-1},s.prototype.add=function(h){var o=!h.isEmpty(),r=this.pointIndex(h.start,o);r<0&&(r=-r-1);var i=this.pointIndex(h.end,o,r);return i<0?i=-i-1:i++,this.ranges.splice(r,i-r,h)},s.prototype.addList=function(h){for(var o=[],r=h.length;r--;)o.push.apply(o,this.add(h[r]));return o},s.prototype.substractPoint=function(h){var o=this.pointIndex(h);if(o>=0)return this.ranges.splice(o,1)},s.prototype.merge=function(){var h=[],o=this.ranges;o=o.sort(function(n,a){return $(n.start,a.start)});for(var r=o[0],i,t=1;t<o.length;t++){i=r,r=o[t];var e=$(i.end,r.start);e<0||e==0&&!i.isEmpty()&&!r.isEmpty()||($(i.end,r.end)<0&&(i.end.row=r.end.row,i.end.column=r.end.column),o.splice(t,1),h.push(r),r=i,t--)}return this.ranges=o,h},s.prototype.contains=function(h,o){return this.pointIndex({row:h,column:o})>=0},s.prototype.containsPoint=function(h){return this.pointIndex(h)>=0},s.prototype.rangeAtPoint=function(h){var o=this.pointIndex(h);if(o>=0)return this.ranges[o]},s.prototype.clipRows=function(h,o){var r=this.ranges;if(r[0].start.row>o||r[r.length-1].start.row<h)return[];var i=this.pointIndex({row:h,column:0});i<0&&(i=-i-1);var t=this.pointIndex({row:o,column:0},i);t<0&&(t=-t-1);for(var e=[],n=i;n<t;n++)e.push(r[n]);return e},s.prototype.removeAll=function(){return this.ranges.splice(0,this.ranges.length)},s.prototype.attach=function(h){this.session&&this.detach(),this.session=h,this.onChange=this.$onChange.bind(this),this.session.on("change",this.onChange)},s.prototype.detach=function(){this.session&&(this.session.removeListener("change",this.onChange),this.session=null)},s.prototype.$onChange=function(h){for(var o=h.start,r=h.end,i=o.row,t=r.row,e=this.ranges,n=0,a=e.length;n<a;n++){var c=e[n];if(c.end.row>=i)break}if(h.action=="insert")for(var d=t-i,k=-o.column+r.column;n<a;n++){var c=e[n];if(c.start.row>i)break;if(c.start.row==i&&c.start.column>=o.column&&(c.start.column==o.column&&this.$bias<=0||(c.start.column+=k,c.start.row+=d)),c.end.row==i&&c.end.column>=o.column){if(c.end.column==o.column&&this.$bias<0)continue;c.end.column==o.column&&k>0&&n<a-1&&c.end.column>c.start.column&&c.end.column==e[n+1].start.column&&(c.end.column-=k),c.end.column+=k,c.end.row+=d}}else for(var d=i-t,k=o.column-r.column;n<a;n++){var c=e[n];if(c.start.row>t)break;c.end.row<t&&(i<c.end.row||i==c.end.row&&o.column<c.end.column)?(c.end.row=i,c.end.column=o.column):c.end.row==t?c.end.column<=r.column?(d||c.end.column>o.column)&&(c.end.column=o.column,c.end.row=o.row):(c.end.column+=k,c.end.row+=d):c.end.row>t&&(c.end.row+=d),c.start.row<t&&(i<c.start.row||i==c.start.row&&o.column<c.start.column)?(c.start.row=i,c.start.column=o.column):c.start.row==t?c.start.column<=r.column?(d||c.start.column>o.column)&&(c.start.column=o.column,c.start.row=o.row):(c.start.column+=k,c.start.row+=d):c.start.row>t&&(c.start.row+=d)}if(d!=0&&n<a)for(;n<a;n++){var c=e[n];c.start.row+=d,c.end.row+=d}},s}();y.prototype.comparePoints=$,x.RangeList=y}),ace.define("ace/edit_session/fold",["require","exports","module","ace/range_list"],function(f,x,W){var M=this&&this.__extends||function(){var i=function(t,e){return i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,a){n.__proto__=a}||function(n,a){for(var c in a)Object.prototype.hasOwnProperty.call(a,c)&&(n[c]=a[c])},i(t,e)};return function(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");i(t,e);function n(){this.constructor=t}t.prototype=e===null?Object.create(e):(n.prototype=e.prototype,new n)}}(),$=f("../range_list").RangeList,y=function(i){M(t,i);function t(e,n){var a=i.call(this)||this;return a.foldLine=null,a.placeholder=n,a.range=e,a.start=e.start,a.end=e.end,a.sameRow=e.start.row==e.end.row,a.subFolds=a.ranges=[],a}return t.prototype.toString=function(){return'"'+this.placeholder+'" '+this.range.toString()},t.prototype.setFoldLine=function(e){this.foldLine=e,this.subFolds.forEach(function(n){n.setFoldLine(e)})},t.prototype.clone=function(){var e=this.range.clone(),n=new t(e,this.placeholder);return this.subFolds.forEach(function(a){n.subFolds.push(a.clone())}),n.collapseChildren=this.collapseChildren,n},t.prototype.addSubFold=function(e){if(!this.range.isEqual(e)){h(e,this.start);for(var k=e.start.row,v=e.start.column,n=0,a=-1;n<this.subFolds.length&&(a=this.subFolds[n].range.compare(k,v),a==1);n++);var c=this.subFolds[n],d=0;if(a==0){if(c.range.containsRange(e))return c.addSubFold(e);d=1}for(var k=e.range.end.row,v=e.range.end.column,p=n,a=-1;p<this.subFolds.length&&(a=this.subFolds[p].range.compare(k,v),a==1);p++);a==0&&p++;for(var u=this.subFolds.splice(n,p-n,e),m=a==0?u.length-1:u.length,A=d;A<m;A++)e.addSubFold(u[A]);return e.setFoldLine(this.foldLine),e}},t.prototype.restoreRange=function(e){return r(e,this.start)},t}($);function s(i,t){i.row-=t.row,i.row==0&&(i.column-=t.column)}function h(i,t){s(i.start,t),s(i.end,t)}function o(i,t){i.row==0&&(i.column+=t.column),i.row+=t.row}function r(i,t){o(i.start,t),o(i.end,t)}x.Fold=y}),ace.define("ace/edit_session/folding",["require","exports","module","ace/range","ace/edit_session/fold_line","ace/edit_session/fold","ace/token_iterator","ace/mouse/mouse_event"],function(f,x,W){var M=f("../range").Range,$=f("./fold_line").FoldLine,y=f("./fold").Fold,s=f("../token_iterator").TokenIterator,h=f("../mouse/mouse_event").MouseEvent;function o(){this.getFoldAt=function(r,i,t){var e=this.getFoldLine(r);if(!e)return null;for(var n=e.folds,a=0;a<n.length;a++){var c=n[a].range;if(c.contains(r,i)){if(t==1&&c.isEnd(r,i)&&!c.isEmpty())continue;if(t==-1&&c.isStart(r,i)&&!c.isEmpty())continue;return n[a]}}},this.getFoldsInRange=function(r){var i=r.start,t=r.end,e=this.$foldData,n=[];i.column+=1,t.column-=1;for(var a=0;a<e.length;a++){var c=e[a].range.compareRange(r);if(c!=2){if(c==-2)break;for(var d=e[a].folds,k=0;k<d.length;k++){var v=d[k];if(c=v.range.compareRange(r),c==-2)break;if(c==2)continue;if(c==42)break;n.push(v)}}}return i.column-=1,t.column+=1,n},this.getFoldsInRangeList=function(r){if(Array.isArray(r)){var i=[];r.forEach(function(t){i=i.concat(this.getFoldsInRange(t))},this)}else var i=this.getFoldsInRange(r);return i},this.getAllFolds=function(){for(var r=[],i=this.$foldData,t=0;t<i.length;t++)for(var e=0;e<i[t].folds.length;e++)r.push(i[t].folds[e]);return r},this.getFoldStringAt=function(r,i,t,e){if(e=e||this.getFoldLine(r),!e)return null;for(var n={end:{column:0}},a,c,d=0;d<e.folds.length;d++){c=e.folds[d];var k=c.range.compareEnd(r,i);if(k==-1){a=this.getLine(c.start.row).substring(n.end.column,c.start.column);break}else if(k===0)return null;n=c}return a||(a=this.getLine(c.start.row).substring(n.end.column)),t==-1?a.substring(0,i-n.end.column):t==1?a.substring(i-n.end.column):a},this.getFoldLine=function(r,i){var t=this.$foldData,e=0;for(i&&(e=t.indexOf(i)),e==-1&&(e=0),e;e<t.length;e++){var n=t[e];if(n.start.row<=r&&n.end.row>=r)return n;if(n.end.row>r)return null}return null},this.getNextFoldLine=function(r,i){var t=this.$foldData,e=0;for(i&&(e=t.indexOf(i)),e==-1&&(e=0),e;e<t.length;e++){var n=t[e];if(n.end.row>=r)return n}return null},this.getFoldedRowCount=function(r,i){for(var t=this.$foldData,e=i-r+1,n=0;n<t.length;n++){var a=t[n],c=a.end.row,d=a.start.row;if(c>=i){d<i&&(d>=r?e-=i-d:e=0);break}else c>=r&&(d>=r?e-=c-d:e-=c-r+1)}return e},this.$addFoldLine=function(r){return this.$foldData.push(r),this.$foldData.sort(function(i,t){return i.start.row-t.start.row}),r},this.addFold=function(r,i){var t=this.$foldData,e=!1,n;r instanceof y?n=r:(n=new y(i,r),n.collapseChildren=i.collapseChildren),this.$clipRangeToDocument(n.range);var a=n.start.row,c=n.start.column,d=n.end.row,k=n.end.column,v=this.getFoldAt(a,c,1),p=this.getFoldAt(d,k,-1);if(v&&p==v)return v.addSubFold(n);v&&!v.range.isStart(a,c)&&this.removeFold(v),p&&!p.range.isEnd(d,k)&&this.removeFold(p);var u=this.getFoldsInRange(n.range);u.length>0&&(this.removeFolds(u),n.collapseChildren||u.forEach(function(C){n.addSubFold(C)}));for(var m=0;m<t.length;m++){var A=t[m];if(d==A.start.row){A.addFold(n),e=!0;break}else if(a==A.end.row){if(A.addFold(n),e=!0,!n.sameRow){var S=t[m+1];if(S&&S.start.row==d){A.merge(S);break}}break}else if(d<=A.start.row)break}return e||(A=this.$addFoldLine(new $(this.$foldData,n))),this.$useWrapMode?this.$updateWrapData(A.start.row,A.start.row):this.$updateRowLengthCache(A.start.row,A.start.row),this.$modified=!0,this._signal("changeFold",{data:n,action:"add"}),n},this.addFolds=function(r){r.forEach(function(i){this.addFold(i)},this)},this.removeFold=function(r){var i=r.foldLine,t=i.start.row,e=i.end.row,n=this.$foldData,a=i.folds;if(a.length==1)n.splice(n.indexOf(i),1);else if(i.range.isEnd(r.end.row,r.end.column))a.pop(),i.end.row=a[a.length-1].end.row,i.end.column=a[a.length-1].end.column;else if(i.range.isStart(r.start.row,r.start.column))a.shift(),i.start.row=a[0].start.row,i.start.column=a[0].start.column;else if(r.sameRow)a.splice(a.indexOf(r),1);else{var c=i.split(r.start.row,r.start.column);a=c.folds,a.shift(),c.start.row=a[0].start.row,c.start.column=a[0].start.column}this.$updating||(this.$useWrapMode?this.$updateWrapData(t,e):this.$updateRowLengthCache(t,e)),this.$modified=!0,this._signal("changeFold",{data:r,action:"remove"})},this.removeFolds=function(r){for(var i=[],t=0;t<r.length;t++)i.push(r[t]);i.forEach(function(e){this.removeFold(e)},this),this.$modified=!0},this.expandFold=function(r){this.removeFold(r),r.subFolds.forEach(function(i){r.restoreRange(i),this.addFold(i)},this),r.collapseChildren>0&&this.foldAll(r.start.row+1,r.end.row,r.collapseChildren-1),r.subFolds=[]},this.expandFolds=function(r){r.forEach(function(i){this.expandFold(i)},this)},this.unfold=function(r,i){var t,e;if(r==null)t=new M(0,0,this.getLength(),0),i==null&&(i=!0);else if(typeof r=="number")t=new M(r,0,r,this.getLine(r).length);else if("row"in r)t=M.fromPoints(r,r);else{if(Array.isArray(r))return e=[],r.forEach(function(a){e=e.concat(this.unfold(a))},this),e;t=r}e=this.getFoldsInRangeList(t);for(var n=e;e.length==1&&M.comparePoints(e[0].start,t.start)<0&&M.comparePoints(e[0].end,t.end)>0;)this.expandFolds(e),e=this.getFoldsInRangeList(t);if(i!=!1?this.removeFolds(e):this.expandFolds(e),n.length)return n},this.isRowFolded=function(r,i){return!!this.getFoldLine(r,i)},this.getRowFoldEnd=function(r,i){var t=this.getFoldLine(r,i);return t?t.end.row:r},this.getRowFoldStart=function(r,i){var t=this.getFoldLine(r,i);return t?t.start.row:r},this.getFoldDisplayLine=function(r,i,t,e,n){e==null&&(e=r.start.row),n==null&&(n=0),i==null&&(i=r.end.row),t==null&&(t=this.getLine(i).length);var a=this.doc,c="";return r.walk(function(d,k,v,p){if(!(k<e)){if(k==e){if(v<n)return;p=Math.max(n,p)}d!=null?c+=d:c+=a.getLine(k).substring(p,v)}},i,t),c},this.getDisplayLine=function(r,i,t,e){var n=this.getFoldLine(r);if(n)return this.getFoldDisplayLine(n,r,i,t,e);var a;return a=this.doc.getLine(r),a.substring(e||0,i||a.length)},this.$cloneFoldData=function(){var r=[];return r=this.$foldData.map(function(i){var t=i.folds.map(function(e){return e.clone()});return new $(r,t)}),r},this.toggleFold=function(r){var i=this.selection,t=i.getRange(),e,n;if(t.isEmpty()){var a=t.start;if(e=this.getFoldAt(a.row,a.column),e){this.expandFold(e);return}else(n=this.findMatchingBracket(a))?t.comparePoint(n)==1?t.end=n:(t.start=n,t.start.column++,t.end.column--):(n=this.findMatchingBracket({row:a.row,column:a.column+1}))?(t.comparePoint(n)==1?t.end=n:t.start=n,t.start.column++):t=this.getCommentFoldRange(a.row,a.column)||t}else{var c=this.getFoldsInRange(t);if(r&&c.length){this.expandFolds(c);return}else c.length==1&&(e=c[0])}if(e||(e=this.getFoldAt(t.start.row,t.start.column)),e&&e.range.toString()==t.toString()){this.expandFold(e);return}var d="...";if(!t.isMultiLine()){if(d=this.getTextRange(t),d.length<4)return;d=d.trim().substring(0,2)+".."}this.addFold(d,t)},this.getCommentFoldRange=function(r,i,t){var e=new s(this,r,i),n=e.getCurrentToken(),a=n&&n.type;if(n&&/^comment|string/.test(a)){a=a.match(/comment|string/)[0],a=="comment"&&(a+="|doc-start|\\.doc");var c=new RegExp(a),d=new M;if(t!=1){do n=e.stepBackward();while(n&&c.test(n.type));n=e.stepForward()}d.start.row=e.getCurrentTokenRow(),d.start.column=e.getCurrentTokenColumn()+n.value.length,e=new s(this,r,i);var k=this.getState(e.$row);if(t!=-1){var v=-1;do if(n=e.stepForward(),v==-1){var p=this.getState(e.$row);k.toString()!==p.toString()&&(v=e.$row)}else if(e.$row>v)break;while(n&&c.test(n.type));n=e.stepBackward()}else n=e.getCurrentToken();return d.end.row=e.getCurrentTokenRow(),d.end.column=e.getCurrentTokenColumn(),d}},this.foldAll=function(r,i,t,e){t==null&&(t=1e5);var n=this.foldWidgets;if(n){i=i||this.getLength(),r=r||0;for(var a=r;a<i;a++)if(n[a]==null&&(n[a]=this.getFoldWidget(a)),n[a]=="start"&&!(e&&!e(a))){var c=this.getFoldWidgetRange(a);c&&c.isMultiLine()&&c.end.row<=i&&c.start.row>=r&&(a=c.end.row,c.collapseChildren=t,this.addFold("...",c))}}},this.foldToLevel=function(r){for(this.foldAll();r-- >0;)this.unfold(null,!1)},this.foldAllComments=function(){var r=this;this.foldAll(null,null,null,function(i){for(var t=r.getTokens(i),e=0;e<t.length;e++){var n=t[e];if(!(n.type=="text"&&/^\s+$/.test(n.value)))return!!/comment/.test(n.type)}})},this.$foldStyles={manual:1,markbegin:1,markbeginend:1},this.$foldStyle="markbegin",this.setFoldStyle=function(r){if(!this.$foldStyles[r])throw new Error("invalid fold style: "+r+"["+Object.keys(this.$foldStyles).join(", ")+"]");if(this.$foldStyle!=r){this.$foldStyle=r,r=="manual"&&this.unfold();var i=this.$foldMode;this.$setFolding(null),this.$setFolding(i)}},this.$setFolding=function(r){if(this.$foldMode!=r){if(this.$foldMode=r,this.off("change",this.$updateFoldWidgets),this.off("tokenizerUpdate",this.$tokenizerUpdateFoldWidgets),this._signal("changeAnnotation"),!r||this.$foldStyle=="manual"){this.foldWidgets=null;return}this.foldWidgets=[],this.getFoldWidget=r.getFoldWidget.bind(r,this,this.$foldStyle),this.getFoldWidgetRange=r.getFoldWidgetRange.bind(r,this,this.$foldStyle),this.$updateFoldWidgets=this.updateFoldWidgets.bind(this),this.$tokenizerUpdateFoldWidgets=this.tokenizerUpdateFoldWidgets.bind(this),this.on("change",this.$updateFoldWidgets),this.on("tokenizerUpdate",this.$tokenizerUpdateFoldWidgets)}},this.getParentFoldRangeData=function(r,i){var t=this.foldWidgets;if(!t||i&&t[r])return{};for(var e=r-1,n;e>=0;){var a=t[e];if(a==null&&(a=t[e]=this.getFoldWidget(e)),a=="start"){var c=this.getFoldWidgetRange(e);if(n||(n=c),c&&c.end.row>=r)break}e--}return{range:e!==-1&&c,firstRange:n}},this.onFoldWidgetClick=function(r,i){i instanceof h&&(i=i.domEvent);var t={children:i.shiftKey,all:i.ctrlKey||i.metaKey,siblings:i.altKey},e=this.$toggleFoldWidget(r,t);if(!e){var n=i.target||i.srcElement;n&&/ace_fold-widget/.test(n.className)&&(n.className+=" ace_invalid")}},this.$toggleFoldWidget=function(r,i){if(this.getFoldWidget){var t=this.getFoldWidget(r),e=this.getLine(r),n=t==="end"?-1:1,a=this.getFoldAt(r,n===-1?0:e.length,n);if(a)return i.children||i.all?this.removeFold(a):this.expandFold(a),a;var c=this.getFoldWidgetRange(r,!0);if(c&&!c.isMultiLine()&&(a=this.getFoldAt(c.start.row,c.start.column,1),a&&c.isEqual(a.range)))return this.removeFold(a),a;if(i.siblings){var d=this.getParentFoldRangeData(r);if(d.range)var k=d.range.start.row+1,v=d.range.end.row;this.foldAll(k,v,i.all?1e4:0)}else i.children?(v=c?c.end.row:this.getLength(),this.foldAll(r+1,v,i.all?1e4:0)):c&&(i.all&&(c.collapseChildren=1e4),this.addFold("...",c));return c}},this.toggleFoldWidget=function(r){var i=this.selection.getCursor().row;i=this.getRowFoldStart(i);var t=this.$toggleFoldWidget(i,{});if(!t){var e=this.getParentFoldRangeData(i,!0);if(t=e.range||e.firstRange,t){i=t.start.row;var n=this.getFoldAt(i,this.getLine(i).length,1);n?this.removeFold(n):this.addFold("...",t)}}},this.updateFoldWidgets=function(r){var i=r.start.row,t=r.end.row-i;if(t===0)this.foldWidgets[i]=null;else if(r.action=="remove")this.foldWidgets.splice(i,t+1,null);else{var e=Array(t+1);e.unshift(i,1),this.foldWidgets.splice.apply(this.foldWidgets,e)}},this.tokenizerUpdateFoldWidgets=function(r){var i=r.data;i.first!=i.last&&this.foldWidgets.length>i.first&&this.foldWidgets.splice(i.first,this.foldWidgets.length)}}x.Folding=o}),ace.define("ace/edit_session/bracket_match",["require","exports","module","ace/token_iterator","ace/range"],function(f,x,W){var M=f("../token_iterator").TokenIterator,$=f("../range").Range;function y(){this.findMatchingBracket=function(s,h){if(s.column==0)return null;var o=h||this.getLine(s.row).charAt(s.column-1);if(o=="")return null;var r=o.match(/([\(\[\{])|([\)\]\}])/);return r?r[1]?this.$findClosingBracket(r[1],s):this.$findOpeningBracket(r[2],s):null},this.getBracketRange=function(s){var h=this.getLine(s.row),o=!0,r,i=h.charAt(s.column-1),t=i&&i.match(/([\(\[\{])|([\)\]\}])/);if(t||(i=h.charAt(s.column),s={row:s.row,column:s.column+1},t=i&&i.match(/([\(\[\{])|([\)\]\}])/),o=!1),!t)return null;if(t[1]){var e=this.$findClosingBracket(t[1],s);if(!e)return null;r=$.fromPoints(s,e),o||(r.end.column++,r.start.column--),r.cursor=r.end}else{var e=this.$findOpeningBracket(t[2],s);if(!e)return null;r=$.fromPoints(e,s),o||(r.start.column++,r.end.column--),r.cursor=r.start}return r},this.getMatchingBracketRanges=function(s,h){var o=this.getLine(s.row),r=/([\(\[\{])|([\)\]\}])/,i=!h&&o.charAt(s.column-1),t=i&&i.match(r);if(t||(i=(h===void 0||h)&&o.charAt(s.column),s={row:s.row,column:s.column+1},t=i&&i.match(r)),!t)return null;var e=new $(s.row,s.column-1,s.row,s.column),n=t[1]?this.$findClosingBracket(t[1],s):this.$findOpeningBracket(t[2],s);if(!n)return[e];var a=new $(n.row,n.column,n.row,n.column+1);return[e,a]},this.$brackets={")":"(","(":")","]":"[","[":"]","{":"}","}":"{","<":">",">":"<"},this.$findOpeningBracket=function(s,h,o){var r=this.$brackets[s],i=1,t=new M(this,h.row,h.column),e=t.getCurrentToken();if(e||(e=t.stepForward()),!!e){o||(o=new RegExp("(\\.?"+e.type.replace(".","\\.").replace("rparen",".paren").replace(/\b(?:end)\b/,"(?:start|begin|end)").replace(/-close\b/,"-(close|open)")+")+"));for(var n=h.column-t.getCurrentTokenColumn()-2,a=e.value;;){for(;n>=0;){var c=a.charAt(n);if(c==r){if(i-=1,i==0)return{row:t.getCurrentTokenRow(),column:n+t.getCurrentTokenColumn()}}else c==s&&(i+=1);n-=1}do e=t.stepBackward();while(e&&!o.test(e.type));if(e==null)break;a=e.value,n=a.length-1}return null}},this.$findClosingBracket=function(s,h,o){var r=this.$brackets[s],i=1,t=new M(this,h.row,h.column),e=t.getCurrentToken();if(e||(e=t.stepForward()),!!e){o||(o=new RegExp("(\\.?"+e.type.replace(".","\\.").replace("lparen",".paren").replace(/\b(?:start|begin)\b/,"(?:start|begin|end)").replace(/-open\b/,"-(close|open)")+")+"));for(var n=h.column-t.getCurrentTokenColumn();;){for(var a=e.value,c=a.length;n<c;){var d=a.charAt(n);if(d==r){if(i-=1,i==0)return{row:t.getCurrentTokenRow(),column:n+t.getCurrentTokenColumn()}}else d==s&&(i+=1);n+=1}do e=t.stepForward();while(e&&!o.test(e.type));if(e==null)break;n=0}return null}},this.getMatchingTags=function(s){var h=new M(this,s.row,s.column),o=this.$findTagName(h);if(o){var r=h.stepBackward();return r.value==="<"?this.$findClosingTag(h,o):this.$findOpeningTag(h,o)}},this.$findTagName=function(s){var h=s.getCurrentToken(),o=!1,r=!1;if(h&&h.type.indexOf("tag-name")===-1)do r?h=s.stepBackward():h=s.stepForward(),h&&(h.value==="/>"?r=!0:h.type.indexOf("tag-name")!==-1&&(o=!0));while(h&&!o);return h},this.$findClosingTag=function(s,h){var o,r=h.value,i=h.value,t=0,e=new $(s.getCurrentTokenRow(),s.getCurrentTokenColumn(),s.getCurrentTokenRow(),s.getCurrentTokenColumn()+1);h=s.stepForward();var n=new $(s.getCurrentTokenRow(),s.getCurrentTokenColumn(),s.getCurrentTokenRow(),s.getCurrentTokenColumn()+h.value.length),a=!1;do{if(o=h,o.type.indexOf("tag-close")!==-1&&!a){var c=new $(s.getCurrentTokenRow(),s.getCurrentTokenColumn(),s.getCurrentTokenRow(),s.getCurrentTokenColumn()+1);a=!0}if(h=s.stepForward(),h){if(h.value===">"&&!a){var c=new $(s.getCurrentTokenRow(),s.getCurrentTokenColumn(),s.getCurrentTokenRow(),s.getCurrentTokenColumn()+1);a=!0}if(h.type.indexOf("tag-name")!==-1){if(r=h.value,i===r){if(o.value==="<")t++;else if(o.value==="</"&&(t--,t<0)){s.stepBackward();var d=new $(s.getCurrentTokenRow(),s.getCurrentTokenColumn(),s.getCurrentTokenRow(),s.getCurrentTokenColumn()+2);h=s.stepForward();var k=new $(s.getCurrentTokenRow(),s.getCurrentTokenColumn(),s.getCurrentTokenRow(),s.getCurrentTokenColumn()+h.value.length);if(h.type.indexOf("tag-close")===-1&&(h=s.stepForward()),h&&h.value===">")var v=new $(s.getCurrentTokenRow(),s.getCurrentTokenColumn(),s.getCurrentTokenRow(),s.getCurrentTokenColumn()+1);else return}}}else if(i===r&&h.value==="/>"&&(t--,t<0))var d=new $(s.getCurrentTokenRow(),s.getCurrentTokenColumn(),s.getCurrentTokenRow(),s.getCurrentTokenColumn()+2),k=d,v=k,c=new $(n.end.row,n.end.column,n.end.row,n.end.column+1)}}while(h&&t>=0);if(e&&c&&d&&v&&n&&k)return{openTag:new $(e.start.row,e.start.column,c.end.row,c.end.column),closeTag:new $(d.start.row,d.start.column,v.end.row,v.end.column),openTagName:n,closeTagName:k}},this.$findOpeningTag=function(s,h){var o=s.getCurrentToken(),r=h.value,i=0,t=s.getCurrentTokenRow(),e=s.getCurrentTokenColumn(),n=e+2,a=new $(t,e,t,n);s.stepForward();var c=new $(s.getCurrentTokenRow(),s.getCurrentTokenColumn(),s.getCurrentTokenRow(),s.getCurrentTokenColumn()+h.value.length);if(h.type.indexOf("tag-close")===-1&&(h=s.stepForward()),!(!h||h.value!==">")){var d=new $(s.getCurrentTokenRow(),s.getCurrentTokenColumn(),s.getCurrentTokenRow(),s.getCurrentTokenColumn()+1);s.stepBackward(),s.stepBackward();do if(h=o,t=s.getCurrentTokenRow(),e=s.getCurrentTokenColumn(),n=e+h.value.length,o=s.stepBackward(),h){if(h.type.indexOf("tag-name")!==-1){if(r===h.value)if(o.value==="<"){if(i++,i>0){var k=new $(t,e,t,n),v=new $(s.getCurrentTokenRow(),s.getCurrentTokenColumn(),s.getCurrentTokenRow(),s.getCurrentTokenColumn()+1);do h=s.stepForward();while(h&&h.value!==">");var p=new $(s.getCurrentTokenRow(),s.getCurrentTokenColumn(),s.getCurrentTokenRow(),s.getCurrentTokenColumn()+1)}}else o.value==="</"&&i--}else if(h.value==="/>"){for(var u=0,m=o;m;){if(m.type.indexOf("tag-name")!==-1&&m.value===r){i--;break}else if(m.value==="<")break;m=s.stepBackward(),u++}for(var A=0;A<u;A++)s.stepForward()}}while(o&&i<=0);if(v&&p&&a&&d&&k&&c)return{openTag:new $(v.start.row,v.start.column,p.end.row,p.end.column),closeTag:new $(a.start.row,a.start.column,d.end.row,d.end.column),openTagName:k,closeTagName:c}}}}x.BracketMatch=y}),ace.define("ace/edit_session",["require","exports","module","ace/lib/oop","ace/lib/lang","ace/bidihandler","ace/config","ace/lib/event_emitter","ace/selection","ace/mode/text","ace/range","ace/document","ace/background_tokenizer","ace/search_highlight","ace/undomanager","ace/edit_session/folding","ace/edit_session/bracket_match"],function(f,x,W){var M=f("./lib/oop"),$=f("./lib/lang"),y=f("./bidihandler").BidiHandler,s=f("./config"),h=f("./lib/event_emitter").EventEmitter,o=f("./selection").Selection,r=f("./mode/text").Mode,i=f("./range").Range,t=f("./document").Document,e=f("./background_tokenizer").BackgroundTokenizer,n=f("./search_highlight").SearchHighlight,a=f("./undomanager").UndoManager,c=function(){function R(g,w){this.doc,this.$breakpoints=[],this.$decorations=[],this.$frontMarkers={},this.$backMarkers={},this.$markerId=1,this.$undoSelect=!0,this.$foldData=[],this.id="session"+ ++R.$uid,this.$foldData.toString=function(){return this.join(`
`)},this.bgTokenizer=new e(new r().getTokenizer(),this);var l=this;this.bgTokenizer.on("update",function(_){l._signal("tokenizerUpdate",_)}),this.on("changeFold",this.onChangeFold.bind(this)),this.$onChange=this.onChange.bind(this),(typeof g!="object"||!g.getLine)&&(g=new t(g)),this.setDocument(g),this.selection=new o(this),this.$bidiHandler=new y(this),s.resetOptions(this),this.setMode(w),s._signal("session",this),this.destroyed=!1}return R.prototype.setDocument=function(g){this.doc&&this.doc.off("change",this.$onChange),this.doc=g,g.on("change",this.$onChange,!0),this.bgTokenizer.setDocument(this.getDocument()),this.resetCaches()},R.prototype.getDocument=function(){return this.doc},R.prototype.$resetRowCache=function(g){if(!g){this.$docRowCache=[],this.$screenRowCache=[];return}var w=this.$docRowCache.length,l=this.$getRowCacheIndex(this.$docRowCache,g)+1;w>l&&(this.$docRowCache.splice(l,w),this.$screenRowCache.splice(l,w))},R.prototype.$getRowCacheIndex=function(g,w){for(var l=0,_=g.length-1;l<=_;){var L=l+_>>1,F=g[L];if(w>F)l=L+1;else if(w<F)_=L-1;else return L}return l-1},R.prototype.resetCaches=function(){this.$modified=!0,this.$wrapData=[],this.$rowLengthCache=[],this.$resetRowCache(0),this.destroyed||this.bgTokenizer.start(0)},R.prototype.onChangeFold=function(g){var w=g.data;this.$resetRowCache(w.start.row)},R.prototype.onChange=function(g){this.$modified=!0,this.$bidiHandler.onChange(g),this.$resetRowCache(g.start.row);var w=this.$updateInternalDataOnChange(g);!this.$fromUndo&&this.$undoManager&&(w&&w.length&&(this.$undoManager.add({action:"removeFolds",folds:w},this.mergeUndoDeltas),this.mergeUndoDeltas=!0),this.$undoManager.add(g,this.mergeUndoDeltas),this.mergeUndoDeltas=!0,this.$informUndoManager.schedule()),this.bgTokenizer.$updateOnChange(g),this._signal("change",g)},R.prototype.setValue=function(g){this.doc.setValue(g),this.selection.moveTo(0,0),this.$resetRowCache(0),this.setUndoManager(this.$undoManager),this.getUndoManager().reset()},R.fromJSON=function(g){typeof g=="string"&&(g=JSON.parse(g));var w=new a;w.$undoStack=g.history.undo,w.$redoStack=g.history.redo,w.mark=g.history.mark,w.$rev=g.history.rev;var l=new R(g.value);return g.folds.forEach(function(_){l.addFold("...",i.fromPoints(_.start,_.end))}),l.setAnnotations(g.annotations),l.setBreakpoints(g.breakpoints),l.setMode(g.mode),l.setScrollLeft(g.scrollLeft),l.setScrollTop(g.scrollTop),l.setUndoManager(w),l.selection.fromJSON(g.selection),l},R.prototype.toJSON=function(){return{annotations:this.$annotations,breakpoints:this.$breakpoints,folds:this.getAllFolds().map(function(g){return g.range}),history:this.getUndoManager(),mode:this.$mode.$id,scrollLeft:this.$scrollLeft,scrollTop:this.$scrollTop,selection:this.selection.toJSON(),value:this.doc.getValue()}},R.prototype.toString=function(){return this.doc.getValue()},R.prototype.getSelection=function(){return this.selection},R.prototype.getState=function(g){return this.bgTokenizer.getState(g)},R.prototype.getTokens=function(g){return this.bgTokenizer.getTokens(g)},R.prototype.getTokenAt=function(g,w){var l=this.bgTokenizer.getTokens(g),_,L=0;if(w==null){var F=l.length-1;L=this.getLine(g).length}else for(var F=0;F<l.length&&(L+=l[F].value.length,!(L>=w));F++);return _=l[F],_?(_.index=F,_.start=L-_.value.length,_):null},R.prototype.setUndoManager=function(g){if(this.$undoManager=g,this.$informUndoManager&&this.$informUndoManager.cancel(),g){var w=this;g.addSession(this),this.$syncInformUndoManager=function(){w.$informUndoManager.cancel(),w.mergeUndoDeltas=!1},this.$informUndoManager=$.delayedCall(this.$syncInformUndoManager)}else this.$syncInformUndoManager=function(){}},R.prototype.markUndoGroup=function(){this.$syncInformUndoManager&&this.$syncInformUndoManager()},R.prototype.getUndoManager=function(){return this.$undoManager||this.$defaultUndoManager},R.prototype.getTabString=function(){return this.getUseSoftTabs()?$.stringRepeat(" ",this.getTabSize()):"	"},R.prototype.setUseSoftTabs=function(g){this.setOption("useSoftTabs",g)},R.prototype.getUseSoftTabs=function(){return this.$useSoftTabs&&!this.$mode.$indentWithTabs},R.prototype.setTabSize=function(g){this.setOption("tabSize",g)},R.prototype.getTabSize=function(){return this.$tabSize},R.prototype.isTabStop=function(g){return this.$useSoftTabs&&g.column%this.$tabSize===0},R.prototype.setNavigateWithinSoftTabs=function(g){this.setOption("navigateWithinSoftTabs",g)},R.prototype.getNavigateWithinSoftTabs=function(){return this.$navigateWithinSoftTabs},R.prototype.setOverwrite=function(g){this.setOption("overwrite",g)},R.prototype.getOverwrite=function(){return this.$overwrite},R.prototype.toggleOverwrite=function(){this.setOverwrite(!this.$overwrite)},R.prototype.addGutterDecoration=function(g,w){this.$decorations[g]||(this.$decorations[g]=""),this.$decorations[g]+=" "+w,this._signal("changeBreakpoint",{})},R.prototype.removeGutterDecoration=function(g,w){this.$decorations[g]=(this.$decorations[g]||"").replace(" "+w,""),this._signal("changeBreakpoint",{})},R.prototype.getBreakpoints=function(){return this.$breakpoints},R.prototype.setBreakpoints=function(g){this.$breakpoints=[];for(var w=0;w<g.length;w++)this.$breakpoints[g[w]]="ace_breakpoint";this._signal("changeBreakpoint",{})},R.prototype.clearBreakpoints=function(){this.$breakpoints=[],this._signal("changeBreakpoint",{})},R.prototype.setBreakpoint=function(g,w){w===void 0&&(w="ace_breakpoint"),w?this.$breakpoints[g]=w:delete this.$breakpoints[g],this._signal("changeBreakpoint",{})},R.prototype.clearBreakpoint=function(g){delete this.$breakpoints[g],this._signal("changeBreakpoint",{})},R.prototype.addMarker=function(g,w,l,_){var L=this.$markerId++,F={range:g,type:l||"line",renderer:typeof l=="function"?l:null,clazz:w,inFront:!!_,id:L};return _?(this.$frontMarkers[L]=F,this._signal("changeFrontMarker")):(this.$backMarkers[L]=F,this._signal("changeBackMarker")),L},R.prototype.addDynamicMarker=function(g,w){if(g.update){var l=this.$markerId++;return g.id=l,g.inFront=!!w,w?(this.$frontMarkers[l]=g,this._signal("changeFrontMarker")):(this.$backMarkers[l]=g,this._signal("changeBackMarker")),g}},R.prototype.removeMarker=function(g){var w=this.$frontMarkers[g]||this.$backMarkers[g];if(w){var l=w.inFront?this.$frontMarkers:this.$backMarkers;delete l[g],this._signal(w.inFront?"changeFrontMarker":"changeBackMarker")}},R.prototype.getMarkers=function(g){return g?this.$frontMarkers:this.$backMarkers},R.prototype.highlight=function(g){if(!this.$searchHighlight){var w=new n(null,"ace_selected-word","text");this.$searchHighlight=this.addDynamicMarker(w)}this.$searchHighlight.setRegexp(g)},R.prototype.highlightLines=function(g,w,l,_){typeof w!="number"&&(l=w,w=g),l||(l="ace_step");var L=new i(g,0,w,1/0);return L.id=this.addMarker(L,l,"fullLine",_),L},R.prototype.setAnnotations=function(g){this.$annotations=g,this._signal("changeAnnotation",{})},R.prototype.getAnnotations=function(){return this.$annotations||[]},R.prototype.clearAnnotations=function(){this.setAnnotations([])},R.prototype.$detectNewLine=function(g){var w=g.match(/^.*?(\r?\n)/m);w?this.$autoNewLine=w[1]:this.$autoNewLine=`
`},R.prototype.getWordRange=function(g,w){var l=this.getLine(g),_=!1;if(w>0&&(_=!!l.charAt(w-1).match(this.tokenRe)),_||(_=!!l.charAt(w).match(this.tokenRe)),_)var L=this.tokenRe;else if(/^\s+$/.test(l.slice(w-1,w+1)))var L=/\s/;else var L=this.nonTokenRe;var F=w;if(F>0){do F--;while(F>=0&&l.charAt(F).match(L));F++}for(var U=w;U<l.length&&l.charAt(U).match(L);)U++;return new i(g,F,g,U)},R.prototype.getAWordRange=function(g,w){for(var l=this.getWordRange(g,w),_=this.getLine(l.end.row);_.charAt(l.end.column).match(/[ \t]/);)l.end.column+=1;return l},R.prototype.setNewLineMode=function(g){this.doc.setNewLineMode(g)},R.prototype.getNewLineMode=function(){return this.doc.getNewLineMode()},R.prototype.setUseWorker=function(g){this.setOption("useWorker",g)},R.prototype.getUseWorker=function(){return this.$useWorker},R.prototype.onReloadTokenizer=function(g){var w=g.data;this.bgTokenizer.start(w.first),this._signal("tokenizerUpdate",g)},R.prototype.setMode=function(g,w){if(g&&typeof g=="object"){if(g.getTokenizer)return this.$onChangeMode(g);var l=g,_=l.path}else _=g||"ace/mode/text";if(this.$modes["ace/mode/text"]||(this.$modes["ace/mode/text"]=new r),this.$modes[_]&&!l){this.$onChangeMode(this.$modes[_]),w&&w();return}this.$modeId=_,s.loadModule(["mode",_],(function(L){if(this.$modeId!==_)return w&&w();this.$modes[_]&&!l?this.$onChangeMode(this.$modes[_]):L&&L.Mode&&(L=new L.Mode(l),l||(this.$modes[_]=L,L.$id=_),this.$onChangeMode(L)),w&&w()}).bind(this)),this.$mode||this.$onChangeMode(this.$modes["ace/mode/text"],!0)},R.prototype.$onChangeMode=function(g,w){if(w||(this.$modeId=g.$id),this.$mode!==g){var l=this.$mode;this.$mode=g,this.$stopWorker(),this.$useWorker&&this.$startWorker();var _=g.getTokenizer();if(_.on!==void 0){var L=this.onReloadTokenizer.bind(this);_.on("update",L)}this.bgTokenizer.setTokenizer(_),this.bgTokenizer.setDocument(this.getDocument()),this.tokenRe=g.tokenRe,this.nonTokenRe=g.nonTokenRe,w||(g.attachToSession&&g.attachToSession(this),this.$options.wrapMethod.set.call(this,this.$wrapMethod),this.$setFolding(g.foldingRules),this.bgTokenizer.start(0),this._emit("changeMode",{oldMode:l,mode:g}))}},R.prototype.$stopWorker=function(){this.$worker&&(this.$worker.terminate(),this.$worker=null)},R.prototype.$startWorker=function(){try{this.$worker=this.$mode.createWorker(this)}catch(g){s.warn("Could not load worker",g),this.$worker=null}},R.prototype.getMode=function(){return this.$mode},R.prototype.setScrollTop=function(g){this.$scrollTop===g||isNaN(g)||(this.$scrollTop=g,this._signal("changeScrollTop",g))},R.prototype.getScrollTop=function(){return this.$scrollTop},R.prototype.setScrollLeft=function(g){this.$scrollLeft===g||isNaN(g)||(this.$scrollLeft=g,this._signal("changeScrollLeft",g))},R.prototype.getScrollLeft=function(){return this.$scrollLeft},R.prototype.getScreenWidth=function(){return this.$computeWidth(),this.lineWidgets?Math.max(this.getLineWidgetMaxWidth(),this.screenWidth):this.screenWidth},R.prototype.getLineWidgetMaxWidth=function(){if(this.lineWidgetsWidth!=null)return this.lineWidgetsWidth;var g=0;return this.lineWidgets.forEach(function(w){w&&w.screenWidth>g&&(g=w.screenWidth)}),this.lineWidgetWidth=g},R.prototype.$computeWidth=function(g){if(this.$modified||g){if(this.$modified=!1,this.$useWrapMode)return this.screenWidth=this.$wrapLimit;for(var w=this.doc.getAllLines(),l=this.$rowLengthCache,_=0,L=0,F=this.$foldData[L],U=F?F.start.row:1/0,H=w.length,X=0;X<H;X++){if(X>U){if(X=F.end.row+1,X>=H)break;F=this.$foldData[L++],U=F?F.start.row:1/0}l[X]==null&&(l[X]=this.$getStringScreenWidth(w[X])[0]),l[X]>_&&(_=l[X])}this.screenWidth=_}},R.prototype.getLine=function(g){return this.doc.getLine(g)},R.prototype.getLines=function(g,w){return this.doc.getLines(g,w)},R.prototype.getLength=function(){return this.doc.getLength()},R.prototype.getTextRange=function(g){return this.doc.getTextRange(g||this.selection.getRange())},R.prototype.insert=function(g,w){return this.doc.insert(g,w)},R.prototype.remove=function(g){return this.doc.remove(g)},R.prototype.removeFullLines=function(g,w){return this.doc.removeFullLines(g,w)},R.prototype.undoChanges=function(g,w){if(g.length){this.$fromUndo=!0;for(var l=g.length-1;l!=-1;l--){var _=g[l];_.action=="insert"||_.action=="remove"?this.doc.revertDelta(_):_.folds&&this.addFolds(_.folds)}!w&&this.$undoSelect&&(g.selectionBefore?this.selection.fromJSON(g.selectionBefore):this.selection.setRange(this.$getUndoSelection(g,!0))),this.$fromUndo=!1}},R.prototype.redoChanges=function(g,w){if(g.length){this.$fromUndo=!0;for(var l=0;l<g.length;l++){var _=g[l];(_.action=="insert"||_.action=="remove")&&this.doc.$safeApplyDelta(_)}!w&&this.$undoSelect&&(g.selectionAfter?this.selection.fromJSON(g.selectionAfter):this.selection.setRange(this.$getUndoSelection(g,!1))),this.$fromUndo=!1}},R.prototype.setUndoSelect=function(g){this.$undoSelect=g},R.prototype.$getUndoSelection=function(g,w){function l(H){return w?H.action!=="insert":H.action==="insert"}for(var _,L,F=0;F<g.length;F++){var U=g[F];if(U.start){if(!_){l(U)?_=i.fromPoints(U.start,U.end):_=i.fromPoints(U.start,U.start);continue}l(U)?(L=U.start,_.compare(L.row,L.column)==-1&&_.setStart(L),L=U.end,_.compare(L.row,L.column)==1&&_.setEnd(L)):(L=U.start,_.compare(L.row,L.column)==-1&&(_=i.fromPoints(U.start,U.start)))}}return _},R.prototype.replace=function(g,w){return this.doc.replace(g,w)},R.prototype.moveText=function(g,w,l){var _=this.getTextRange(g),L=this.getFoldsInRange(g),F=i.fromPoints(w,w);if(!l){this.remove(g);var U=g.start.row-g.end.row,H=U?-g.end.column:g.start.column-g.end.column;H&&(F.start.row==g.end.row&&F.start.column>g.end.column&&(F.start.column+=H),F.end.row==g.end.row&&F.end.column>g.end.column&&(F.end.column+=H)),U&&F.start.row>=g.end.row&&(F.start.row+=U,F.end.row+=U)}if(F.end=this.insert(F.start,_),L.length){var X=g.start,q=F.start,U=q.row-X.row,H=q.column-X.column;this.addFolds(L.map(function(ee){return ee=ee.clone(),ee.start.row==X.row&&(ee.start.column+=H),ee.end.row==X.row&&(ee.end.column+=H),ee.start.row+=U,ee.end.row+=U,ee}))}return F},R.prototype.indentRows=function(g,w,l){l=l.replace(/\t/g,this.getTabString());for(var _=g;_<=w;_++)this.doc.insertInLine({row:_,column:0},l)},R.prototype.outdentRows=function(g){for(var w=g.collapseRows(),l=new i(0,0,0,0),_=this.getTabSize(),L=w.start.row;L<=w.end.row;++L){var F=this.getLine(L);l.start.row=L,l.end.row=L;for(var U=0;U<_&&F.charAt(U)==" ";++U);U<_&&F.charAt(U)=="	"?(l.start.column=U,l.end.column=U+1):(l.start.column=0,l.end.column=U),this.remove(l)}},R.prototype.$moveLines=function(g,w,l){if(g=this.getRowFoldStart(g),w=this.getRowFoldEnd(w),l<0){var _=this.getRowFoldStart(g+l);if(_<0)return 0;var L=_-g}else if(l>0){var _=this.getRowFoldEnd(w+l);if(_>this.doc.getLength()-1)return 0;var L=_-w}else{g=this.$clipRowToDocument(g),w=this.$clipRowToDocument(w);var L=w-g+1}var F=new i(g,0,w,Number.MAX_VALUE),U=this.getFoldsInRange(F).map(function(X){return X=X.clone(),X.start.row+=L,X.end.row+=L,X}),H=l==0?this.doc.getLines(g,w):this.doc.removeFullLines(g,w);return this.doc.insertFullLines(g+L,H),U.length&&this.addFolds(U),L},R.prototype.moveLinesUp=function(g,w){return this.$moveLines(g,w,-1)},R.prototype.moveLinesDown=function(g,w){return this.$moveLines(g,w,1)},R.prototype.duplicateLines=function(g,w){return this.$moveLines(g,w,0)},R.prototype.$clipRowToDocument=function(g){return Math.max(0,Math.min(g,this.doc.getLength()-1))},R.prototype.$clipColumnToRow=function(g,w){return w<0?0:Math.min(this.doc.getLine(g).length,w)},R.prototype.$clipPositionToDocument=function(g,w){if(w=Math.max(0,w),g<0)g=0,w=0;else{var l=this.doc.getLength();g>=l?(g=l-1,w=this.doc.getLine(l-1).length):w=Math.min(this.doc.getLine(g).length,w)}return{row:g,column:w}},R.prototype.$clipRangeToDocument=function(g){g.start.row<0?(g.start.row=0,g.start.column=0):g.start.column=this.$clipColumnToRow(g.start.row,g.start.column);var w=this.doc.getLength()-1;return g.end.row>w?(g.end.row=w,g.end.column=this.doc.getLine(w).length):g.end.column=this.$clipColumnToRow(g.end.row,g.end.column),g},R.prototype.setUseWrapMode=function(g){if(g!=this.$useWrapMode){if(this.$useWrapMode=g,this.$modified=!0,this.$resetRowCache(0),g){var w=this.getLength();this.$wrapData=Array(w),this.$updateWrapData(0,w-1)}this._signal("changeWrapMode")}},R.prototype.getUseWrapMode=function(){return this.$useWrapMode},R.prototype.setWrapLimitRange=function(g,w){(this.$wrapLimitRange.min!==g||this.$wrapLimitRange.max!==w)&&(this.$wrapLimitRange={min:g,max:w},this.$modified=!0,this.$bidiHandler.markAsDirty(),this.$useWrapMode&&this._signal("changeWrapMode"))},R.prototype.adjustWrapLimit=function(g,w){var l=this.$wrapLimitRange;l.max<0&&(l={min:w,max:w});var _=this.$constrainWrapLimit(g,l.min,l.max);return _!=this.$wrapLimit&&_>1?(this.$wrapLimit=_,this.$modified=!0,this.$useWrapMode&&(this.$updateWrapData(0,this.getLength()-1),this.$resetRowCache(0),this._signal("changeWrapLimit")),!0):!1},R.prototype.$constrainWrapLimit=function(g,w,l){return w&&(g=Math.max(w,g)),l&&(g=Math.min(l,g)),g},R.prototype.getWrapLimit=function(){return this.$wrapLimit},R.prototype.setWrapLimit=function(g){this.setWrapLimitRange(g,g)},R.prototype.getWrapLimitRange=function(){return{min:this.$wrapLimitRange.min,max:this.$wrapLimitRange.max}},R.prototype.$updateInternalDataOnChange=function(g){var w=this.$useWrapMode,l=g.action,_=g.start,L=g.end,F=_.row,U=L.row,H=U-F,X=null;if(this.$updating=!0,H!=0)if(l==="remove"){this[w?"$wrapData":"$rowLengthCache"].splice(F,H);var q=this.$foldData;X=this.getFoldsInRange(g),this.removeFolds(X);var Z=this.getFoldLine(L.row),oe=0;if(Z){Z.addRemoveChars(L.row,L.column,_.column-L.column),Z.shiftRow(-H);var ee=this.getFoldLine(F);ee&&ee!==Z&&(ee.merge(Z),Z=ee),oe=q.indexOf(Z)+1}for(oe;oe<q.length;oe++){var Z=q[oe];Z.start.row>=L.row&&Z.shiftRow(-H)}U=F}else{var se=Array(H);se.unshift(F,0);var fe=w?this.$wrapData:this.$rowLengthCache;fe.splice.apply(fe,se);var q=this.$foldData,Z=this.getFoldLine(F),oe=0;if(Z){var Ee=Z.range.compareInside(_.row,_.column);Ee==0?(Z=Z.split(_.row,_.column),Z&&(Z.shiftRow(H),Z.addRemoveChars(U,0,L.column-_.column))):Ee==-1&&(Z.addRemoveChars(F,0,L.column-_.column),Z.shiftRow(H)),oe=q.indexOf(Z)+1}for(oe;oe<q.length;oe++){var Z=q[oe];Z.start.row>=F&&Z.shiftRow(H)}}else{H=Math.abs(g.start.column-g.end.column),l==="remove"&&(X=this.getFoldsInRange(g),this.removeFolds(X),H=-H);var Z=this.getFoldLine(F);Z&&Z.addRemoveChars(F,_.column,H)}return w&&this.$wrapData.length!=this.doc.getLength()&&console.error("doc.getLength() and $wrapData.length have to be the same!"),this.$updating=!1,w?this.$updateWrapData(F,U):this.$updateRowLengthCache(F,U),X},R.prototype.$updateRowLengthCache=function(g,w){this.$rowLengthCache[g]=null,this.$rowLengthCache[w]=null},R.prototype.$updateWrapData=function(g,w){var l=this.doc.getAllLines(),_=this.getTabSize(),L=this.$wrapData,F=this.$wrapLimit,U,H,X=g;for(w=Math.min(w,l.length-1);X<=w;)H=this.getFoldLine(X,H),H?(U=[],H.walk((function(q,Z,oe,ee){var se;if(q!=null){se=this.$getDisplayTokens(q,U.length),se[0]=v;for(var fe=1;fe<se.length;fe++)se[fe]=p}else se=this.$getDisplayTokens(l[Z].substring(ee,oe),U.length);U=U.concat(se)}).bind(this),H.end.row,l[H.end.row].length+1),L[H.start.row]=this.$computeWrapSplits(U,F,_),X=H.end.row+1):(U=this.$getDisplayTokens(l[X]),L[X]=this.$computeWrapSplits(U,F,_),X++)},R.prototype.$computeWrapSplits=function(g,w,l){if(g.length==0)return[];var _=[],L=g.length,F=0,U=0,H=this.$wrapAsCode,X=this.$indentedSoftWrap,q=w<=Math.max(2*l,8)||X===!1?0:Math.floor(w/2);function Z(){var Ee=0;if(q===0)return Ee;if(X)for(var Se=0;Se<g.length;Se++){var Ce=g[Se];if(Ce==m)Ee+=1;else if(Ce==A)Ee+=l;else{if(Ce==S)continue;break}}return H&&X!==!1&&(Ee+=l),Math.min(Ee,q)}function oe(Ee){for(var Se=Ee-F,Ce=F;Ce<Ee;Ce++){var De=g[Ce];(De===12||De===2)&&(Se-=1)}_.length||(ee=Z(),_.indent=ee),U+=Se,_.push(U),F=Ee}for(var ee=0;L-F>w-ee;){var se=F+w-ee;if(g[se-1]>=m&&g[se]>=m){oe(se);continue}if(g[se]==v||g[se]==p){for(se;se!=F-1&&g[se]!=v;se--);if(se>F){oe(se);continue}for(se=F+w,se;se<g.length&&g[se]==p;se++);if(se==g.length)break;oe(se);continue}for(var fe=Math.max(se-(w-(w>>2)),F-1);se>fe&&g[se]<v;)se--;if(H){for(;se>fe&&g[se]<v;)se--;for(;se>fe&&g[se]==u;)se--}else for(;se>fe&&g[se]<m;)se--;if(se>fe){oe(++se);continue}se=F+w,g[se]==k&&se--,oe(se-ee)}return _},R.prototype.$getDisplayTokens=function(g,w){var l=[],_;w=w||0;for(var L=0;L<g.length;L++){var F=g.charCodeAt(L);if(F==9){_=this.getScreenTabSize(l.length+w),l.push(A);for(var U=1;U<_;U++)l.push(S)}else F==32?l.push(m):F>39&&F<48||F>57&&F<64?l.push(u):F>=4352&&C(F)?l.push(d,k):l.push(d)}return l},R.prototype.$getStringScreenWidth=function(g,w,l){if(w==0)return[0,0];w==null&&(w=1/0),l=l||0;var _,L;for(L=0;L<g.length&&(_=g.charCodeAt(L),_==9?l+=this.getScreenTabSize(l):_>=4352&&C(_)?l+=2:l+=1,!(l>w));L++);return[l,L]},R.prototype.getRowLength=function(g){var w=1;return this.lineWidgets&&(w+=this.lineWidgets[g]&&this.lineWidgets[g].rowCount||0),!this.$useWrapMode||!this.$wrapData[g]?w:this.$wrapData[g].length+w},R.prototype.getRowLineCount=function(g){return!this.$useWrapMode||!this.$wrapData[g]?1:this.$wrapData[g].length+1},R.prototype.getRowWrapIndent=function(g){if(this.$useWrapMode){var w=this.screenToDocumentPosition(g,Number.MAX_VALUE),l=this.$wrapData[w.row];return l.length&&l[0]<w.column?l.indent:0}else return 0},R.prototype.getScreenLastRowColumn=function(g){var w=this.screenToDocumentPosition(g,Number.MAX_VALUE);return this.documentToScreenColumn(w.row,w.column)},R.prototype.getDocumentLastRowColumn=function(g,w){var l=this.documentToScreenRow(g,w);return this.getScreenLastRowColumn(l)},R.prototype.getDocumentLastRowColumnPosition=function(g,w){var l=this.documentToScreenRow(g,w);return this.screenToDocumentPosition(l,Number.MAX_VALUE/10)},R.prototype.getRowSplitData=function(g){if(this.$useWrapMode)return this.$wrapData[g]},R.prototype.getScreenTabSize=function(g){return this.$tabSize-(g%this.$tabSize|0)},R.prototype.screenToDocumentRow=function(g,w){return this.screenToDocumentPosition(g,w).row},R.prototype.screenToDocumentColumn=function(g,w){return this.screenToDocumentPosition(g,w).column},R.prototype.screenToDocumentPosition=function(g,w,l){if(g<0)return{row:0,column:0};var _,L=0,F=0,U,H=0,X=0,q=this.$screenRowCache,Z=this.$getRowCacheIndex(q,g),oe=q.length;if(oe&&Z>=0)var H=q[Z],L=this.$docRowCache[Z],ee=g>q[oe-1];else var ee=!oe;for(var se=this.getLength()-1,fe=this.getNextFoldLine(L),Ee=fe?fe.start.row:1/0;H<=g&&(X=this.getRowLength(L),!(H+X>g||L>=se));)H+=X,L++,L>Ee&&(L=fe.end.row+1,fe=this.getNextFoldLine(L,fe),Ee=fe?fe.start.row:1/0),ee&&(this.$docRowCache.push(L),this.$screenRowCache.push(H));if(fe&&fe.start.row<=L)_=this.getFoldDisplayLine(fe),L=fe.start.row;else{if(H+X<=g||L>se)return{row:se,column:this.getLine(se).length};_=this.getLine(L),fe=null}var Se=0,Ce=Math.floor(g-H);if(this.$useWrapMode){var De=this.$wrapData[L];De&&(U=De[Ce],Ce>0&&De.length&&(Se=De.indent,F=De[Ce-1]||De[De.length-1],_=_.substring(F)))}return l!==void 0&&this.$bidiHandler.isBidiRow(H+Ce,L,Ce)&&(w=this.$bidiHandler.offsetToCol(l)),F+=this.$getStringScreenWidth(_,w-Se)[1],this.$useWrapMode&&F>=U&&(F=U-1),fe?fe.idxToPosition(F):{row:L,column:F}},R.prototype.documentToScreenPosition=function(g,w){if(typeof w>"u")var l=this.$clipPositionToDocument(g.row,g.column);else l=this.$clipPositionToDocument(g,w);g=l.row,w=l.column;var _=0,L=null,F=null;F=this.getFoldAt(g,w,1),F&&(g=F.start.row,w=F.start.column);var U,H=0,X=this.$docRowCache,q=this.$getRowCacheIndex(X,g),Z=X.length;if(Z&&q>=0)var H=X[q],_=this.$screenRowCache[q],oe=g>X[Z-1];else var oe=!Z;for(var ee=this.getNextFoldLine(H),se=ee?ee.start.row:1/0;H<g;){if(H>=se){if(U=ee.end.row+1,U>g)break;ee=this.getNextFoldLine(U,ee),se=ee?ee.start.row:1/0}else U=H+1;_+=this.getRowLength(H),H=U,oe&&(this.$docRowCache.push(H),this.$screenRowCache.push(_))}var fe="";ee&&H>=se?(fe=this.getFoldDisplayLine(ee,g,w),L=ee.start.row):(fe=this.getLine(g).substring(0,w),L=g);var Ee=0;if(this.$useWrapMode){var Se=this.$wrapData[L];if(Se){for(var Ce=0;fe.length>=Se[Ce];)_++,Ce++;fe=fe.substring(Se[Ce-1]||0,fe.length),Ee=Ce>0?Se.indent:0}}return this.lineWidgets&&this.lineWidgets[H]&&this.lineWidgets[H].rowsAbove&&(_+=this.lineWidgets[H].rowsAbove),{row:_,column:Ee+this.$getStringScreenWidth(fe)[0]}},R.prototype.documentToScreenColumn=function(g,w){return this.documentToScreenPosition(g,w).column},R.prototype.documentToScreenRow=function(g,w){return this.documentToScreenPosition(g,w).row},R.prototype.getScreenLength=function(){var g=0,w=null;if(this.$useWrapMode)for(var L=this.$wrapData.length,F=0,_=0,w=this.$foldData[_++],U=w?w.start.row:1/0;F<L;){var H=this.$wrapData[F];g+=H?H.length+1:1,F++,F>U&&(F=w.end.row+1,w=this.$foldData[_++],U=w?w.start.row:1/0)}else{g=this.getLength();for(var l=this.$foldData,_=0;_<l.length;_++)w=l[_],g-=w.end.row-w.start.row}return this.lineWidgets&&(g+=this.$getWidgetScreenLength()),g},R.prototype.$setFontMetrics=function(g){this.$enableVarChar&&(this.$getStringScreenWidth=function(w,l,_){if(l===0)return[0,0];l||(l=1/0),_=_||0;var L,F;for(F=0;F<w.length&&(L=w.charAt(F),L==="	"?_+=this.getScreenTabSize(_):_+=g.getCharacterWidth(L),!(_>l));F++);return[_,F]})},R.prototype.getPrecedingCharacter=function(){var g=this.selection.getCursor();if(g.column===0)return g.row===0?"":this.doc.getNewLineCharacter();var w=this.getLine(g.row);return w[g.column-1]},R.prototype.destroy=function(){this.destroyed||(this.bgTokenizer.setDocument(null),this.bgTokenizer.cleanup(),this.destroyed=!0),this.$stopWorker(),this.removeAllListeners(),this.doc&&this.doc.off("change",this.$onChange),this.selection.detach()},R}();c.$uid=0,c.prototype.$modes=s.$modes,c.prototype.getValue=c.prototype.toString,c.prototype.$defaultUndoManager={undo:function(){},redo:function(){},hasUndo:function(){},hasRedo:function(){},reset:function(){},add:function(){},addSelection:function(){},startNewGroup:function(){},addSession:function(){}},c.prototype.$overwrite=!1,c.prototype.$mode=null,c.prototype.$modeId=null,c.prototype.$scrollTop=0,c.prototype.$scrollLeft=0,c.prototype.$wrapLimit=80,c.prototype.$useWrapMode=!1,c.prototype.$wrapLimitRange={min:null,max:null},c.prototype.lineWidgets=null,c.prototype.isFullWidth=C,M.implement(c.prototype,h);var d=1,k=2,v=3,p=4,u=9,m=10,A=11,S=12;function C(R){return R<4352?!1:R>=4352&&R<=4447||R>=4515&&R<=4519||R>=4602&&R<=4607||R>=9001&&R<=9002||R>=11904&&R<=11929||R>=11931&&R<=12019||R>=12032&&R<=12245||R>=12272&&R<=12283||R>=12288&&R<=12350||R>=12353&&R<=12438||R>=12441&&R<=12543||R>=12549&&R<=12589||R>=12593&&R<=12686||R>=12688&&R<=12730||R>=12736&&R<=12771||R>=12784&&R<=12830||R>=12832&&R<=12871||R>=12880&&R<=13054||R>=13056&&R<=19903||R>=19968&&R<=42124||R>=42128&&R<=42182||R>=43360&&R<=43388||R>=44032&&R<=55203||R>=55216&&R<=55238||R>=55243&&R<=55291||R>=63744&&R<=64255||R>=65040&&R<=65049||R>=65072&&R<=65106||R>=65108&&R<=65126||R>=65128&&R<=65131||R>=65281&&R<=65376||R>=65504&&R<=65510}f("./edit_session/folding").Folding.call(c.prototype),f("./edit_session/bracket_match").BracketMatch.call(c.prototype),s.defineOptions(c.prototype,"session",{wrap:{set:function(R){if(!R||R=="off"?R=!1:R=="free"?R=!0:R=="printMargin"?R=-1:typeof R=="string"&&(R=parseInt(R,10)||!1),this.$wrap!=R)if(this.$wrap=R,!R)this.setUseWrapMode(!1);else{var g=typeof R=="number"?R:null;this.setWrapLimitRange(g,g),this.setUseWrapMode(!0)}},get:function(){return this.getUseWrapMode()?this.$wrap==-1?"printMargin":this.getWrapLimitRange().min?this.$wrap:"free":"off"},handlesSet:!0},wrapMethod:{set:function(R){R=R=="auto"?this.$mode.type!="text":R!="text",R!=this.$wrapAsCode&&(this.$wrapAsCode=R,this.$useWrapMode&&(this.$useWrapMode=!1,this.setUseWrapMode(!0)))},initialValue:"auto"},indentedSoftWrap:{set:function(){this.$useWrapMode&&(this.$useWrapMode=!1,this.setUseWrapMode(!0))},initialValue:!0},firstLineNumber:{set:function(){this._signal("changeBreakpoint")},initialValue:1},useWorker:{set:function(R){this.$useWorker=R,this.$stopWorker(),R&&this.$startWorker()},initialValue:!0},useSoftTabs:{initialValue:!0},tabSize:{set:function(R){R=parseInt(R),R>0&&this.$tabSize!==R&&(this.$modified=!0,this.$rowLengthCache=[],this.$tabSize=R,this._signal("changeTabSize"))},initialValue:4,handlesSet:!0},navigateWithinSoftTabs:{initialValue:!1},foldStyle:{set:function(R){this.setFoldStyle(R)},handlesSet:!0},overwrite:{set:function(R){this._signal("changeOverwrite")},initialValue:!1},newLineMode:{set:function(R){this.doc.setNewLineMode(R)},get:function(){return this.doc.getNewLineMode()},handlesSet:!0},mode:{set:function(R){this.setMode(R)},get:function(){return this.$modeId},handlesSet:!0}}),x.EditSession=c}),ace.define("ace/search",["require","exports","module","ace/lib/lang","ace/lib/oop","ace/range"],function(f,x,W){var M=f("./lib/lang"),$=f("./lib/oop"),y=f("./range").Range,s=function(){function o(){this.$options={}}return o.prototype.set=function(r){return $.mixin(this.$options,r),this},o.prototype.getOptions=function(){return M.copyObject(this.$options)},o.prototype.setOptions=function(r){this.$options=r},o.prototype.find=function(r){var i=this.$options,t=this.$matchIterator(r,i);if(!t)return!1;var e=null;return t.forEach(function(n,a,c,d){return e=new y(n,a,c,d),a==d&&i.start&&i.start.start&&i.skipCurrent!=!1&&e.isEqual(i.start)?(e=null,!1):!0}),e},o.prototype.findAll=function(r){var i=this.$options;if(!i.needle)return[];this.$assembleRegExp(i);var t=i.range,e=t?r.getLines(t.start.row,t.end.row):r.doc.getAllLines(),n=[],a=i.re;if(i.$isMultiLine){var c=a.length,d=e.length-c,k;e:for(var v=a.offset||0;v<=d;v++){for(var p=0;p<c;p++)if(e[v+p].search(a[p])==-1)continue e;var u=e[v],m=e[v+c-1],A=u.length-u.match(a[0])[0].length,S=m.match(a[c-1])[0].length;k&&k.end.row===v&&k.end.column>A||(n.push(k=new y(v,A,v+c-1,S)),c>2&&(v=v+c-2))}}else for(var C=0;C<e.length;C++)for(var R=M.getMatchOffsets(e[C],a),p=0;p<R.length;p++){var g=R[p];n.push(new y(C,g.offset,C,g.offset+g.length))}if(t){for(var w=t.start.column,l=t.end.column,C=0,p=n.length-1;C<p&&n[C].start.column<w&&n[C].start.row==0;)C++;for(var _=t.end.row-t.start.row;C<p&&n[p].end.column>l&&n[p].end.row==_;)p--;for(n=n.slice(C,p+1),C=0,p=n.length;C<p;C++)n[C].start.row+=t.start.row,n[C].end.row+=t.start.row}return n},o.prototype.replace=function(r,i){var t=this.$options,e=this.$assembleRegExp(t);if(t.$isMultiLine)return i;if(e){var n=e.exec(r);if(!n||n[0].length!=r.length)return null;if(t.regExp||(i=i.replace(/\$/g,"$$$$")),i=r.replace(e,i),t.preserveCase){i=i.split("");for(var a=Math.min(r.length,r.length);a--;){var c=r[a];c&&c.toLowerCase()!=c?i[a]=i[a].toUpperCase():i[a]=i[a].toLowerCase()}i=i.join("")}return i}},o.prototype.$assembleRegExp=function(r,i){if(r.needle instanceof RegExp)return r.re=r.needle;var t=r.needle;if(!r.needle)return r.re=!1;r.regExp||(t=M.escapeRegExp(t));var e=r.caseSensitive?"gm":"gmi";try{new RegExp(t,"u"),r.$supportsUnicodeFlag=!0,e+="u"}catch{r.$supportsUnicodeFlag=!1}if(r.wholeWord&&(t=h(t,r)),r.$isMultiLine=!i&&/[\n\r]/.test(t),r.$isMultiLine)return r.re=this.$assembleMultilineRegExp(t,e);try{var n=new RegExp(t,e)}catch{n=!1}return r.re=n},o.prototype.$assembleMultilineRegExp=function(r,i){for(var t=r.replace(/\r\n|\r|\n/g,`$
^`).split(`
`),e=[],n=0;n<t.length;n++)try{e.push(new RegExp(t[n],i))}catch{return!1}return e},o.prototype.$matchIterator=function(r,i){var t=this.$assembleRegExp(i);if(!t)return!1;var e=i.backwards==!0,n=i.skipCurrent!=!1,a=t.unicode,c=i.range,d=i.start;d||(d=c?c[e?"end":"start"]:r.selection.getRange()),d.start&&(d=d[n!=e?"end":"start"]);var k=c?c.start.row:0,v=c?c.end.row:r.getLength()-1;if(e)var p=function(A){var S=d.row;if(!m(S,d.column,A)){for(S--;S>=k;S--)if(m(S,Number.MAX_VALUE,A))return;if(i.wrap!=!1){for(S=v,k=d.row;S>=k;S--)if(m(S,Number.MAX_VALUE,A))return}}};else var p=function(S){var C=d.row;if(!m(C,d.column,S)){for(C=C+1;C<=v;C++)if(m(C,0,S))return;if(i.wrap!=!1){for(C=k,v=d.row;C<=v;C++)if(m(C,0,S))return}}};if(i.$isMultiLine)var u=t.length,m=function(A,S,C){var R=e?A-u+1:A;if(!(R<0||R+u>r.getLength())){var g=r.getLine(R),w=g.search(t[0]);if(!(!e&&w<S||w===-1)){for(var l=1;l<u;l++)if(g=r.getLine(R+l),g.search(t[l])==-1)return;var _=g.match(t[u-1])[0].length;if(!(e&&_>S)&&C(R,w,R+u-1,_))return!0}}};else if(e)var m=function(S,C,R){var g=r.getLine(S),w=[],l,_=0;for(t.lastIndex=0;l=t.exec(g);){var L=l[0].length;if(_=l.index,!L){if(_>=g.length)break;t.lastIndex=_+=M.skipEmptyMatch(g,_,a)}if(l.index+L>C)break;w.push(l.index,L)}for(var F=w.length-1;F>=0;F-=2){var U=w[F-1],L=w[F];if(R(S,U,S,U+L))return!0}};else var m=function(S,C,R){var g=r.getLine(S),w,l;for(t.lastIndex=C;l=t.exec(g);){var _=l[0].length;if(w=l.index,R(S,w,S,w+_))return!0;if(!_&&(t.lastIndex=w+=M.skipEmptyMatch(g,w,a),w>=g.length))return!1}};return{forEach:p}},o}();function h(o,r){var i=M.supportsLookbehind();function t(c,d){d===void 0&&(d=!0);var k=i&&r.$supportsUnicodeFlag?new RegExp("[\\p{L}\\p{N}_]","u"):new RegExp("\\w");return k.test(c)||r.regExp?i&&r.$supportsUnicodeFlag?d?"(?<=^|[^\\p{L}\\p{N}_])":"(?=[^\\p{L}\\p{N}_]|$)":"\\b":""}var e=Array.from(o),n=e[0],a=e[e.length-1];return t(n)+o+t(a,!1)}x.Search=s}),ace.define("ace/keyboard/hash_handler",["require","exports","module","ace/lib/keys","ace/lib/useragent"],function(f,x,W){var M=this&&this.__extends||function(){var i=function(t,e){return i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,a){n.__proto__=a}||function(n,a){for(var c in a)Object.prototype.hasOwnProperty.call(a,c)&&(n[c]=a[c])},i(t,e)};return function(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");i(t,e);function n(){this.constructor=t}t.prototype=e===null?Object.create(e):(n.prototype=e.prototype,new n)}}(),$=f("../lib/keys"),y=f("../lib/useragent"),s=$.KEY_MODS,h=function(){function i(t,e){this.$init(t,e,!1)}return i.prototype.$init=function(t,e,n){this.platform=e||(y.isMac?"mac":"win"),this.commands={},this.commandKeyBinding={},this.addCommands(t),this.$singleCommand=n},i.prototype.addCommand=function(t){this.commands[t.name]&&this.removeCommand(t),this.commands[t.name]=t,t.bindKey&&this._buildKeyHash(t)},i.prototype.removeCommand=function(t,e){var n=t&&(typeof t=="string"?t:t.name);t=this.commands[n],e||delete this.commands[n];var a=this.commandKeyBinding;for(var c in a){var d=a[c];if(d==t)delete a[c];else if(Array.isArray(d)){var k=d.indexOf(t);k!=-1&&(d.splice(k,1),d.length==1&&(a[c]=d[0]))}}},i.prototype.bindKey=function(t,e,n){if(typeof t=="object"&&t&&(n==null&&(n=t.position),t=t[this.platform]),!!t){if(typeof e=="function")return this.addCommand({exec:e,bindKey:t,name:e.name||t});t.split("|").forEach(function(a){var c="";if(a.indexOf(" ")!=-1){var d=a.split(/\s+/);a=d.pop(),d.forEach(function(p){var u=this.parseKeys(p),m=s[u.hashId]+u.key;c+=(c?" ":"")+m,this._addCommandToBinding(c,"chainKeys")},this),c+=" "}var k=this.parseKeys(a),v=s[k.hashId]+k.key;this._addCommandToBinding(c+v,e,n)},this)}},i.prototype._addCommandToBinding=function(t,e,n){var a=this.commandKeyBinding,c;if(!e)delete a[t];else if(!a[t]||this.$singleCommand)a[t]=e;else{Array.isArray(a[t])?(c=a[t].indexOf(e))!=-1&&a[t].splice(c,1):a[t]=[a[t]],typeof n!="number"&&(n=o(e));var d=a[t];for(c=0;c<d.length;c++){var k=d[c],v=o(k);if(v>n)break}d.splice(c,0,e)}},i.prototype.addCommands=function(t){t&&Object.keys(t).forEach(function(e){var n=t[e];if(n){if(typeof n=="string")return this.bindKey(n,e);typeof n=="function"&&(n={exec:n}),typeof n=="object"&&(n.name||(n.name=e),this.addCommand(n))}},this)},i.prototype.removeCommands=function(t){Object.keys(t).forEach(function(e){this.removeCommand(t[e])},this)},i.prototype.bindKeys=function(t){Object.keys(t).forEach(function(e){this.bindKey(e,t[e])},this)},i.prototype._buildKeyHash=function(t){this.bindKey(t.bindKey,t)},i.prototype.parseKeys=function(t){var e=t.toLowerCase().split(/[\-\+]([\-\+])?/).filter(function(v){return v}),n=e.pop(),a=$[n];if($.FUNCTION_KEYS[a])n=$.FUNCTION_KEYS[a].toLowerCase();else if(e.length){if(e.length==1&&e[0]=="shift")return{key:n.toUpperCase(),hashId:-1}}else return{key:n,hashId:-1};for(var c=0,d=e.length;d--;){var k=$.KEY_MODS[e[d]];if(k==null)return typeof console<"u"&&console.error("invalid modifier "+e[d]+" in "+t),!1;c|=k}return{key:n,hashId:c}},i.prototype.findKeyCommand=function(t,e){var n=s[t]+e;return this.commandKeyBinding[n]},i.prototype.handleKeyboard=function(t,e,n,a){if(!(a<0)){var c=s[e]+n,d=this.commandKeyBinding[c];return t.$keyChain&&(t.$keyChain+=" "+c,d=this.commandKeyBinding[t.$keyChain]||d),d&&(d=="chainKeys"||d[d.length-1]=="chainKeys")?(t.$keyChain=t.$keyChain||c,{command:"null"}):(t.$keyChain&&((!e||e==4)&&n.length==1?t.$keyChain=t.$keyChain.slice(0,-c.length-1):(e==-1||a>0)&&(t.$keyChain="")),{command:d})}},i.prototype.getStatusText=function(t,e){return e.$keyChain||""},i}();function o(i){return typeof i=="object"&&i.bindKey&&i.bindKey.position||(i.isDefault?-100:0)}var r=function(i){M(t,i);function t(e,n){var a=i.call(this,e,n)||this;return a.$singleCommand=!0,a}return t}(h);r.call=function(i,t,e){h.prototype.$init.call(i,t,e,!0)},h.call=function(i,t,e){h.prototype.$init.call(i,t,e,!1)},x.HashHandler=r,x.MultiHashHandler=h}),ace.define("ace/commands/command_manager",["require","exports","module","ace/lib/oop","ace/keyboard/hash_handler","ace/lib/event_emitter"],function(f,x,W){var M=this&&this.__extends||function(){var o=function(r,i){return o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])},o(r,i)};return function(r,i){if(typeof i!="function"&&i!==null)throw new TypeError("Class extends value "+String(i)+" is not a constructor or null");o(r,i);function t(){this.constructor=r}r.prototype=i===null?Object.create(i):(t.prototype=i.prototype,new t)}}(),$=f("../lib/oop"),y=f("../keyboard/hash_handler").MultiHashHandler,s=f("../lib/event_emitter").EventEmitter,h=function(o){M(r,o);function r(i,t){var e=o.call(this,t,i)||this;return e.byName=e.commands,e.setDefaultHandler("exec",function(n){return n.args?n.command.exec(n.editor,n.args,n.event,!1):n.command.exec(n.editor,{},n.event,!0)}),e}return r.prototype.exec=function(i,t,e){if(Array.isArray(i)){for(var n=i.length;n--;)if(this.exec(i[n],t,e))return!0;return!1}if(typeof i=="string"&&(i=this.commands[i]),!this.canExecute(i,t))return!1;var a={editor:t,command:i,args:e};return a.returnValue=this._emit("exec",a),this._signal("afterExec",a),a.returnValue!==!1},r.prototype.canExecute=function(i,t){return typeof i=="string"&&(i=this.commands[i]),!(!i||t&&t.$readOnly&&!i.readOnly||this.$checkCommandState!=!1&&i.isAvailable&&!i.isAvailable(t))},r.prototype.toggleRecording=function(i){if(!this.$inReplay)return i&&i._emit("changeStatus"),this.recording?(this.macro.pop(),this.off("exec",this.$addCommandToMacro),this.macro.length||(this.macro=this.oldMacro),this.recording=!1):(this.$addCommandToMacro||(this.$addCommandToMacro=(function(t){this.macro.push([t.command,t.args])}).bind(this)),this.oldMacro=this.macro,this.macro=[],this.on("exec",this.$addCommandToMacro),this.recording=!0)},r.prototype.replay=function(i){if(!(this.$inReplay||!this.macro)){if(this.recording)return this.toggleRecording(i);try{this.$inReplay=!0,this.macro.forEach(function(t){typeof t=="string"?this.exec(t,i):this.exec(t[0],i,t[1])},this)}finally{this.$inReplay=!1}}},r.prototype.trimMacro=function(i){return i.map(function(t){return typeof t[0]!="string"&&(t[0]=t[0].name),t[1]||(t=t[0]),t})},r}(y);$.implement(h.prototype,s),x.CommandManager=h}),ace.define("ace/commands/default_commands",["require","exports","module","ace/lib/lang","ace/config","ace/range"],function(f,x,W){var M=f("../lib/lang"),$=f("../config"),y=f("../range").Range;function s(o,r){return{win:o,mac:r}}x.commands=[{name:"showSettingsMenu",description:"Show settings menu",bindKey:s("Ctrl-,","Command-,"),exec:function(o){$.loadModule("ace/ext/settings_menu",function(r){r.init(o),o.showSettingsMenu()})},readOnly:!0},{name:"goToNextError",description:"Go to next error",bindKey:s("Alt-E","F4"),exec:function(o){$.loadModule("ace/ext/error_marker",function(r){r.showErrorMarker(o,1)})},scrollIntoView:"animate",readOnly:!0},{name:"goToPreviousError",description:"Go to previous error",bindKey:s("Alt-Shift-E","Shift-F4"),exec:function(o){$.loadModule("ace/ext/error_marker",function(r){r.showErrorMarker(o,-1)})},scrollIntoView:"animate",readOnly:!0},{name:"selectall",description:"Select all",bindKey:s("Ctrl-A","Command-A"),exec:function(o){o.selectAll()},readOnly:!0},{name:"centerselection",description:"Center selection",bindKey:s(null,"Ctrl-L"),exec:function(o){o.centerSelection()},readOnly:!0},{name:"gotoline",description:"Go to line...",bindKey:s("Ctrl-L","Command-L"),exec:function(o,r){typeof r=="number"&&!isNaN(r)&&o.gotoLine(r),o.prompt({$type:"gotoLine"})},readOnly:!0},{name:"fold",bindKey:s("Alt-L|Ctrl-F1","Command-Alt-L|Command-F1"),exec:function(o){o.session.toggleFold(!1)},multiSelectAction:"forEach",scrollIntoView:"center",readOnly:!0},{name:"unfold",bindKey:s("Alt-Shift-L|Ctrl-Shift-F1","Command-Alt-Shift-L|Command-Shift-F1"),exec:function(o){o.session.toggleFold(!0)},multiSelectAction:"forEach",scrollIntoView:"center",readOnly:!0},{name:"toggleFoldWidget",description:"Toggle fold widget",bindKey:s("F2","F2"),exec:function(o){o.session.toggleFoldWidget()},multiSelectAction:"forEach",scrollIntoView:"center",readOnly:!0},{name:"toggleParentFoldWidget",description:"Toggle parent fold widget",bindKey:s("Alt-F2","Alt-F2"),exec:function(o){o.session.toggleFoldWidget(!0)},multiSelectAction:"forEach",scrollIntoView:"center",readOnly:!0},{name:"foldall",description:"Fold all",bindKey:s(null,"Ctrl-Command-Option-0"),exec:function(o){o.session.foldAll()},scrollIntoView:"center",readOnly:!0},{name:"foldAllComments",description:"Fold all comments",bindKey:s(null,"Ctrl-Command-Option-0"),exec:function(o){o.session.foldAllComments()},scrollIntoView:"center",readOnly:!0},{name:"foldOther",description:"Fold other",bindKey:s("Alt-0","Command-Option-0"),exec:function(o){o.session.foldAll(),o.session.unfold(o.selection.getAllRanges())},scrollIntoView:"center",readOnly:!0},{name:"unfoldall",description:"Unfold all",bindKey:s("Alt-Shift-0","Command-Option-Shift-0"),exec:function(o){o.session.unfold()},scrollIntoView:"center",readOnly:!0},{name:"findnext",description:"Find next",bindKey:s("Ctrl-K","Command-G"),exec:function(o){o.findNext()},multiSelectAction:"forEach",scrollIntoView:"center",readOnly:!0},{name:"findprevious",description:"Find previous",bindKey:s("Ctrl-Shift-K","Command-Shift-G"),exec:function(o){o.findPrevious()},multiSelectAction:"forEach",scrollIntoView:"center",readOnly:!0},{name:"selectOrFindNext",description:"Select or find next",bindKey:s("Alt-K","Ctrl-G"),exec:function(o){o.selection.isEmpty()?o.selection.selectWord():o.findNext()},readOnly:!0},{name:"selectOrFindPrevious",description:"Select or find previous",bindKey:s("Alt-Shift-K","Ctrl-Shift-G"),exec:function(o){o.selection.isEmpty()?o.selection.selectWord():o.findPrevious()},readOnly:!0},{name:"find",description:"Find",bindKey:s("Ctrl-F","Command-F"),exec:function(o){$.loadModule("ace/ext/searchbox",function(r){r.Search(o)})},readOnly:!0},{name:"overwrite",description:"Overwrite",bindKey:"Insert",exec:function(o){o.toggleOverwrite()},readOnly:!0},{name:"selecttostart",description:"Select to start",bindKey:s("Ctrl-Shift-Home","Command-Shift-Home|Command-Shift-Up"),exec:function(o){o.getSelection().selectFileStart()},multiSelectAction:"forEach",readOnly:!0,scrollIntoView:"animate",aceCommandGroup:"fileJump"},{name:"gotostart",description:"Go to start",bindKey:s("Ctrl-Home","Command-Home|Command-Up"),exec:function(o){o.navigateFileStart()},multiSelectAction:"forEach",readOnly:!0,scrollIntoView:"animate",aceCommandGroup:"fileJump"},{name:"selectup",description:"Select up",bindKey:s("Shift-Up","Shift-Up|Ctrl-Shift-P"),exec:function(o){o.getSelection().selectUp()},multiSelectAction:"forEach",scrollIntoView:"cursor",readOnly:!0},{name:"golineup",description:"Go line up",bindKey:s("Up","Up|Ctrl-P"),exec:function(o,r){o.navigateUp(r.times)},multiSelectAction:"forEach",scrollIntoView:"cursor",readOnly:!0},{name:"selecttoend",description:"Select to end",bindKey:s("Ctrl-Shift-End","Command-Shift-End|Command-Shift-Down"),exec:function(o){o.getSelection().selectFileEnd()},multiSelectAction:"forEach",readOnly:!0,scrollIntoView:"animate",aceCommandGroup:"fileJump"},{name:"gotoend",description:"Go to end",bindKey:s("Ctrl-End","Command-End|Command-Down"),exec:function(o){o.navigateFileEnd()},multiSelectAction:"forEach",readOnly:!0,scrollIntoView:"animate",aceCommandGroup:"fileJump"},{name:"selectdown",description:"Select down",bindKey:s("Shift-Down","Shift-Down|Ctrl-Shift-N"),exec:function(o){o.getSelection().selectDown()},multiSelectAction:"forEach",scrollIntoView:"cursor",readOnly:!0},{name:"golinedown",description:"Go line down",bindKey:s("Down","Down|Ctrl-N"),exec:function(o,r){o.navigateDown(r.times)},multiSelectAction:"forEach",scrollIntoView:"cursor",readOnly:!0},{name:"selectwordleft",description:"Select word left",bindKey:s("Ctrl-Shift-Left","Option-Shift-Left"),exec:function(o){o.getSelection().selectWordLeft()},multiSelectAction:"forEach",scrollIntoView:"cursor",readOnly:!0},{name:"gotowordleft",description:"Go to word left",bindKey:s("Ctrl-Left","Option-Left"),exec:function(o){o.navigateWordLeft()},multiSelectAction:"forEach",scrollIntoView:"cursor",readOnly:!0},{name:"selecttolinestart",description:"Select to line start",bindKey:s("Alt-Shift-Left","Command-Shift-Left|Ctrl-Shift-A"),exec:function(o){o.getSelection().selectLineStart()},multiSelectAction:"forEach",scrollIntoView:"cursor",readOnly:!0},{name:"gotolinestart",description:"Go to line start",bindKey:s("Alt-Left|Home","Command-Left|Home|Ctrl-A"),exec:function(o){o.navigateLineStart()},multiSelectAction:"forEach",scrollIntoView:"cursor",readOnly:!0},{name:"selectleft",description:"Select left",bindKey:s("Shift-Left","Shift-Left|Ctrl-Shift-B"),exec:function(o){o.getSelection().selectLeft()},multiSelectAction:"forEach",scrollIntoView:"cursor",readOnly:!0},{name:"gotoleft",description:"Go to left",bindKey:s("Left","Left|Ctrl-B"),exec:function(o,r){o.navigateLeft(r.times)},multiSelectAction:"forEach",scrollIntoView:"cursor",readOnly:!0},{name:"selectwordright",description:"Select word right",bindKey:s("Ctrl-Shift-Right","Option-Shift-Right"),exec:function(o){o.getSelection().selectWordRight()},multiSelectAction:"forEach",scrollIntoView:"cursor",readOnly:!0},{name:"gotowordright",description:"Go to word right",bindKey:s("Ctrl-Right","Option-Right"),exec:function(o){o.navigateWordRight()},multiSelectAction:"forEach",scrollIntoView:"cursor",readOnly:!0},{name:"selecttolineend",description:"Select to line end",bindKey:s("Alt-Shift-Right","Command-Shift-Right|Shift-End|Ctrl-Shift-E"),exec:function(o){o.getSelection().selectLineEnd()},multiSelectAction:"forEach",scrollIntoView:"cursor",readOnly:!0},{name:"gotolineend",description:"Go to line end",bindKey:s("Alt-Right|End","Command-Right|End|Ctrl-E"),exec:function(o){o.navigateLineEnd()},multiSelectAction:"forEach",scrollIntoView:"cursor",readOnly:!0},{name:"selectright",description:"Select right",bindKey:s("Shift-Right","Shift-Right"),exec:function(o){o.getSelection().selectRight()},multiSelectAction:"forEach",scrollIntoView:"cursor",readOnly:!0},{name:"gotoright",description:"Go to right",bindKey:s("Right","Right|Ctrl-F"),exec:function(o,r){o.navigateRight(r.times)},multiSelectAction:"forEach",scrollIntoView:"cursor",readOnly:!0},{name:"selectpagedown",description:"Select page down",bindKey:"Shift-PageDown",exec:function(o){o.selectPageDown()},readOnly:!0},{name:"pagedown",description:"Page down",bindKey:s(null,"Option-PageDown"),exec:function(o){o.scrollPageDown()},readOnly:!0},{name:"gotopagedown",description:"Go to page down",bindKey:s("PageDown","PageDown|Ctrl-V"),exec:function(o){o.gotoPageDown()},readOnly:!0},{name:"selectpageup",description:"Select page up",bindKey:"Shift-PageUp",exec:function(o){o.selectPageUp()},readOnly:!0},{name:"pageup",description:"Page up",bindKey:s(null,"Option-PageUp"),exec:function(o){o.scrollPageUp()},readOnly:!0},{name:"gotopageup",description:"Go to page up",bindKey:"PageUp",exec:function(o){o.gotoPageUp()},readOnly:!0},{name:"scrollup",description:"Scroll up",bindKey:s("Ctrl-Up",null),exec:function(o){o.renderer.scrollBy(0,-2*o.renderer.layerConfig.lineHeight)},readOnly:!0},{name:"scrolldown",description:"Scroll down",bindKey:s("Ctrl-Down",null),exec:function(o){o.renderer.scrollBy(0,2*o.renderer.layerConfig.lineHeight)},readOnly:!0},{name:"selectlinestart",description:"Select line start",bindKey:"Shift-Home",exec:function(o){o.getSelection().selectLineStart()},multiSelectAction:"forEach",scrollIntoView:"cursor",readOnly:!0},{name:"selectlineend",description:"Select line end",bindKey:"Shift-End",exec:function(o){o.getSelection().selectLineEnd()},multiSelectAction:"forEach",scrollIntoView:"cursor",readOnly:!0},{name:"togglerecording",description:"Toggle recording",bindKey:s("Ctrl-Alt-E","Command-Option-E"),exec:function(o){o.commands.toggleRecording(o)},readOnly:!0},{name:"replaymacro",description:"Replay macro",bindKey:s("Ctrl-Shift-E","Command-Shift-E"),exec:function(o){o.commands.replay(o)},readOnly:!0},{name:"jumptomatching",description:"Jump to matching",bindKey:s("Ctrl-\\|Ctrl-P","Command-\\"),exec:function(o){o.jumpToMatching()},multiSelectAction:"forEach",scrollIntoView:"animate",readOnly:!0},{name:"selecttomatching",description:"Select to matching",bindKey:s("Ctrl-Shift-\\|Ctrl-Shift-P","Command-Shift-\\"),exec:function(o){o.jumpToMatching(!0)},multiSelectAction:"forEach",scrollIntoView:"animate",readOnly:!0},{name:"expandToMatching",description:"Expand to matching",bindKey:s("Ctrl-Shift-M","Ctrl-Shift-M"),exec:function(o){o.jumpToMatching(!0,!0)},multiSelectAction:"forEach",scrollIntoView:"animate",readOnly:!0},{name:"passKeysToBrowser",description:"Pass keys to browser",bindKey:s(null,null),exec:function(){},passEvent:!0,readOnly:!0},{name:"copy",description:"Copy",exec:function(o){},readOnly:!0},{name:"cut",description:"Cut",exec:function(o){var r=o.$copyWithEmptySelection&&o.selection.isEmpty(),i=r?o.selection.getLineRange():o.selection.getRange();o._emit("cut",i),i.isEmpty()||o.session.remove(i),o.clearSelection()},scrollIntoView:"cursor",multiSelectAction:"forEach"},{name:"paste",description:"Paste",exec:function(o,r){o.$handlePaste(r)},scrollIntoView:"cursor"},{name:"removeline",description:"Remove line",bindKey:s("Ctrl-D","Command-D"),exec:function(o){o.removeLines()},scrollIntoView:"cursor",multiSelectAction:"forEachLine"},{name:"duplicateSelection",description:"Duplicate selection",bindKey:s("Ctrl-Shift-D","Command-Shift-D"),exec:function(o){o.duplicateSelection()},scrollIntoView:"cursor",multiSelectAction:"forEach"},{name:"sortlines",description:"Sort lines",bindKey:s("Ctrl-Alt-S","Command-Alt-S"),exec:function(o){o.sortLines()},scrollIntoView:"selection",multiSelectAction:"forEachLine"},{name:"togglecomment",description:"Toggle comment",bindKey:s("Ctrl-/","Command-/"),exec:function(o){o.toggleCommentLines()},multiSelectAction:"forEachLine",scrollIntoView:"selectionPart"},{name:"toggleBlockComment",description:"Toggle block comment",bindKey:s("Ctrl-Shift-/","Command-Shift-/"),exec:function(o){o.toggleBlockComment()},multiSelectAction:"forEach",scrollIntoView:"selectionPart"},{name:"modifyNumberUp",description:"Modify number up",bindKey:s("Ctrl-Shift-Up","Alt-Shift-Up"),exec:function(o){o.modifyNumber(1)},scrollIntoView:"cursor",multiSelectAction:"forEach"},{name:"modifyNumberDown",description:"Modify number down",bindKey:s("Ctrl-Shift-Down","Alt-Shift-Down"),exec:function(o){o.modifyNumber(-1)},scrollIntoView:"cursor",multiSelectAction:"forEach"},{name:"replace",description:"Replace",bindKey:s("Ctrl-H","Command-Option-F"),exec:function(o){$.loadModule("ace/ext/searchbox",function(r){r.Search(o,!0)})}},{name:"undo",description:"Undo",bindKey:s("Ctrl-Z","Command-Z"),exec:function(o){o.undo()}},{name:"redo",description:"Redo",bindKey:s("Ctrl-Shift-Z|Ctrl-Y","Command-Shift-Z|Command-Y"),exec:function(o){o.redo()}},{name:"copylinesup",description:"Copy lines up",bindKey:s("Alt-Shift-Up","Command-Option-Up"),exec:function(o){o.copyLinesUp()},scrollIntoView:"cursor"},{name:"movelinesup",description:"Move lines up",bindKey:s("Alt-Up","Option-Up"),exec:function(o){o.moveLinesUp()},scrollIntoView:"cursor"},{name:"copylinesdown",description:"Copy lines down",bindKey:s("Alt-Shift-Down","Command-Option-Down"),exec:function(o){o.copyLinesDown()},scrollIntoView:"cursor"},{name:"movelinesdown",description:"Move lines down",bindKey:s("Alt-Down","Option-Down"),exec:function(o){o.moveLinesDown()},scrollIntoView:"cursor"},{name:"del",description:"Delete",bindKey:s("Delete","Delete|Ctrl-D|Shift-Delete"),exec:function(o){o.remove("right")},multiSelectAction:"forEach",scrollIntoView:"cursor"},{name:"backspace",description:"Backspace",bindKey:s("Shift-Backspace|Backspace","Ctrl-Backspace|Shift-Backspace|Backspace|Ctrl-H"),exec:function(o){o.remove("left")},multiSelectAction:"forEach",scrollIntoView:"cursor"},{name:"cut_or_delete",description:"Cut or delete",bindKey:s("Shift-Delete",null),exec:function(o){if(o.selection.isEmpty())o.remove("left");else return!1},multiSelectAction:"forEach",scrollIntoView:"cursor"},{name:"removetolinestart",description:"Remove to line start",bindKey:s("Alt-Backspace","Command-Backspace"),exec:function(o){o.removeToLineStart()},multiSelectAction:"forEach",scrollIntoView:"cursor"},{name:"removetolineend",description:"Remove to line end",bindKey:s("Alt-Delete","Ctrl-K|Command-Delete"),exec:function(o){o.removeToLineEnd()},multiSelectAction:"forEach",scrollIntoView:"cursor"},{name:"removetolinestarthard",description:"Remove to line start hard",bindKey:s("Ctrl-Shift-Backspace",null),exec:function(o){var r=o.selection.getRange();r.start.column=0,o.session.remove(r)},multiSelectAction:"forEach",scrollIntoView:"cursor"},{name:"removetolineendhard",description:"Remove to line end hard",bindKey:s("Ctrl-Shift-Delete",null),exec:function(o){var r=o.selection.getRange();r.end.column=Number.MAX_VALUE,o.session.remove(r)},multiSelectAction:"forEach",scrollIntoView:"cursor"},{name:"removewordleft",description:"Remove word left",bindKey:s("Ctrl-Backspace","Alt-Backspace|Ctrl-Alt-Backspace"),exec:function(o){o.removeWordLeft()},multiSelectAction:"forEach",scrollIntoView:"cursor"},{name:"removewordright",description:"Remove word right",bindKey:s("Ctrl-Delete","Alt-Delete"),exec:function(o){o.removeWordRight()},multiSelectAction:"forEach",scrollIntoView:"cursor"},{name:"outdent",description:"Outdent",bindKey:s("Shift-Tab","Shift-Tab"),exec:function(o){o.blockOutdent()},multiSelectAction:"forEach",scrollIntoView:"selectionPart"},{name:"indent",description:"Indent",bindKey:s("Tab","Tab"),exec:function(o){o.indent()},multiSelectAction:"forEach",scrollIntoView:"selectionPart"},{name:"blockoutdent",description:"Block outdent",bindKey:s("Ctrl-[","Ctrl-["),exec:function(o){o.blockOutdent()},multiSelectAction:"forEachLine",scrollIntoView:"selectionPart"},{name:"blockindent",description:"Block indent",bindKey:s("Ctrl-]","Ctrl-]"),exec:function(o){o.blockIndent()},multiSelectAction:"forEachLine",scrollIntoView:"selectionPart"},{name:"insertstring",description:"Insert string",exec:function(o,r){o.insert(r)},multiSelectAction:"forEach",scrollIntoView:"cursor"},{name:"inserttext",description:"Insert text",exec:function(o,r){o.insert(M.stringRepeat(r.text||"",r.times||1))},multiSelectAction:"forEach",scrollIntoView:"cursor"},{name:"splitline",description:"Split line",bindKey:s(null,"Ctrl-O"),exec:function(o){o.splitLine()},multiSelectAction:"forEach",scrollIntoView:"cursor"},{name:"transposeletters",description:"Transpose letters",bindKey:s("Alt-Shift-X","Ctrl-T"),exec:function(o){o.transposeLetters()},multiSelectAction:function(o){o.transposeSelections(1)},scrollIntoView:"cursor"},{name:"touppercase",description:"To uppercase",bindKey:s("Ctrl-U","Ctrl-U"),exec:function(o){o.toUpperCase()},multiSelectAction:"forEach",scrollIntoView:"cursor"},{name:"tolowercase",description:"To lowercase",bindKey:s("Ctrl-Shift-U","Ctrl-Shift-U"),exec:function(o){o.toLowerCase()},multiSelectAction:"forEach",scrollIntoView:"cursor"},{name:"autoindent",description:"Auto Indent",bindKey:s(null,null),exec:function(o){o.autoIndent()},scrollIntoView:"animate"},{name:"expandtoline",description:"Expand to line",bindKey:s("Ctrl-Shift-L","Command-Shift-L"),exec:function(o){var r=o.selection.getRange();r.start.column=r.end.column=0,r.end.row++,o.selection.setRange(r,!1)},multiSelectAction:"forEach",scrollIntoView:"cursor",readOnly:!0},{name:"openlink",bindKey:s("Ctrl+F3","F3"),exec:function(o){o.openLink()}},{name:"joinlines",description:"Join lines",bindKey:s(null,null),exec:function(o){for(var r=o.selection.isBackwards(),i=r?o.selection.getSelectionLead():o.selection.getSelectionAnchor(),t=r?o.selection.getSelectionAnchor():o.selection.getSelectionLead(),e=o.session.doc.getLine(i.row).length,n=o.session.doc.getTextRange(o.selection.getRange()),a=n.replace(/\n\s*/," ").length,c=o.session.doc.getLine(i.row),d=i.row+1;d<=t.row+1;d++){var k=M.stringTrimLeft(M.stringTrimRight(o.session.doc.getLine(d)));k.length!==0&&(k=" "+k),c+=k}t.row+1<o.session.doc.getLength()-1&&(c+=o.session.doc.getNewLineCharacter()),o.clearSelection(),o.session.doc.replace(new y(i.row,0,t.row+2,0),c),a>0?(o.selection.moveCursorTo(i.row,i.column),o.selection.selectTo(i.row,i.column+a)):(e=o.session.doc.getLine(i.row).length>e?e+1:e,o.selection.moveCursorTo(i.row,e))},multiSelectAction:"forEach",readOnly:!0},{name:"invertSelection",description:"Invert selection",bindKey:s(null,null),exec:function(o){var r=o.session.doc.getLength()-1,i=o.session.doc.getLine(r).length,t=o.selection.rangeList.ranges,e=[];t.length<1&&(t=[o.selection.getRange()]);for(var n=0;n<t.length;n++)n==t.length-1&&(t[n].end.row===r&&t[n].end.column===i||e.push(new y(t[n].end.row,t[n].end.column,r,i))),n===0?t[n].start.row===0&&t[n].start.column===0||e.push(new y(0,0,t[n].start.row,t[n].start.column)):e.push(new y(t[n-1].end.row,t[n-1].end.column,t[n].start.row,t[n].start.column));o.exitMultiSelectMode(),o.clearSelection();for(var n=0;n<e.length;n++)o.selection.addRange(e[n],!1)},readOnly:!0,scrollIntoView:"none"},{name:"addLineAfter",description:"Add new line after the current line",exec:function(o){o.selection.clearSelection(),o.navigateLineEnd(),o.insert(`
`)},multiSelectAction:"forEach",scrollIntoView:"cursor"},{name:"addLineBefore",description:"Add new line before the current line",exec:function(o){o.selection.clearSelection();var r=o.getCursorPosition();o.selection.moveTo(r.row-1,Number.MAX_VALUE),o.insert(`
`),r.row===0&&o.navigateUp()},multiSelectAction:"forEach",scrollIntoView:"cursor"},{name:"openCommandPallete",exec:function(o){console.warn("This is an obsolete command. Please use `openCommandPalette` instead."),o.prompt({$type:"commands"})},readOnly:!0},{name:"openCommandPalette",description:"Open command palette",bindKey:s("F1","F1"),exec:function(o){o.prompt({$type:"commands"})},readOnly:!0},{name:"modeSelect",description:"Change language mode...",bindKey:s(null,null),exec:function(o){o.prompt({$type:"modes"})},readOnly:!0}];for(var h=1;h<9;h++)x.commands.push({name:"foldToLevel"+h,description:"Fold To Level "+h,level:h,exec:function(o){o.session.foldToLevel(this.level)},scrollIntoView:"center",readOnly:!0})}),ace.define("ace/line_widgets",["require","exports","module","ace/lib/dom"],function(f,x,W){var M=f("./lib/dom"),$=function(){function y(s){this.session=s,this.session.widgetManager=this,this.session.getRowLength=this.getRowLength,this.session.$getWidgetScreenLength=this.$getWidgetScreenLength,this.updateOnChange=this.updateOnChange.bind(this),this.renderWidgets=this.renderWidgets.bind(this),this.measureWidgets=this.measureWidgets.bind(this),this.session._changedWidgets=[],this.$onChangeEditor=this.$onChangeEditor.bind(this),this.session.on("change",this.updateOnChange),this.session.on("changeFold",this.updateOnFold),this.session.on("changeEditor",this.$onChangeEditor)}return y.prototype.getRowLength=function(s){var h;return this.lineWidgets?h=this.lineWidgets[s]&&this.lineWidgets[s].rowCount||0:h=0,!this.$useWrapMode||!this.$wrapData[s]?1+h:this.$wrapData[s].length+1+h},y.prototype.$getWidgetScreenLength=function(){var s=0;return this.lineWidgets.forEach(function(h){h&&h.rowCount&&!h.hidden&&(s+=h.rowCount)}),s},y.prototype.$onChangeEditor=function(s){this.attach(s.editor)},y.prototype.attach=function(s){s&&s.widgetManager&&s.widgetManager!=this&&s.widgetManager.detach(),this.editor!=s&&(this.detach(),this.editor=s,s&&(s.widgetManager=this,s.renderer.on("beforeRender",this.measureWidgets),s.renderer.on("afterRender",this.renderWidgets)))},y.prototype.detach=function(s){var h=this.editor;if(h){this.editor=null,h.widgetManager=null,h.renderer.off("beforeRender",this.measureWidgets),h.renderer.off("afterRender",this.renderWidgets);var o=this.session.lineWidgets;o&&o.forEach(function(r){r&&r.el&&r.el.parentNode&&(r._inDocument=!1,r.el.parentNode.removeChild(r.el))})}},y.prototype.updateOnFold=function(s,h){var o=h.lineWidgets;if(!(!o||!s.action)){for(var r=s.data,i=r.start.row,t=r.end.row,e=s.action=="add",n=i+1;n<t;n++)o[n]&&(o[n].hidden=e);o[t]&&(e?o[i]?o[t].hidden=e:o[i]=o[t]:(o[i]==o[t]&&(o[i]=void 0),o[t].hidden=e))}},y.prototype.updateOnChange=function(s){var h=this.session.lineWidgets;if(h){var o=s.start.row,r=s.end.row-o;if(r!==0)if(s.action=="remove"){var i=h.splice(o+1,r);!h[o]&&i[i.length-1]&&(h[o]=i.pop()),i.forEach(function(e){e&&this.removeLineWidget(e)},this),this.$updateRows()}else{var t=new Array(r);h[o]&&h[o].column!=null&&s.start.column>h[o].column&&o++,t.unshift(o,0),h.splice.apply(h,t),this.$updateRows()}}},y.prototype.$updateRows=function(){var s=this.session.lineWidgets;if(s){var h=!0;s.forEach(function(o,r){if(o)for(h=!1,o.row=r;o.$oldWidget;)o.$oldWidget.row=r,o=o.$oldWidget}),h&&(this.session.lineWidgets=null)}},y.prototype.$registerLineWidget=function(s){this.session.lineWidgets||(this.session.lineWidgets=new Array(this.session.getLength()));var h=this.session.lineWidgets[s.row];return h&&(s.$oldWidget=h,h.el&&h.el.parentNode&&(h.el.parentNode.removeChild(h.el),h._inDocument=!1)),this.session.lineWidgets[s.row]=s,s},y.prototype.addLineWidget=function(s){if(this.$registerLineWidget(s),s.session=this.session,!this.editor)return s;var h=this.editor.renderer;s.html&&!s.el&&(s.el=M.createElement("div"),s.el.innerHTML=s.html),s.text&&!s.el&&(s.el=M.createElement("div"),s.el.textContent=s.text),s.el&&(M.addCssClass(s.el,"ace_lineWidgetContainer"),s.className&&M.addCssClass(s.el,s.className),s.el.style.position="absolute",s.el.style.zIndex="5",h.container.appendChild(s.el),s._inDocument=!0,s.coverGutter||(s.el.style.zIndex="3"),s.pixelHeight==null&&(s.pixelHeight=s.el.offsetHeight)),s.rowCount==null&&(s.rowCount=s.pixelHeight/h.layerConfig.lineHeight);var o=this.session.getFoldAt(s.row,0);if(s.$fold=o,o){var r=this.session.lineWidgets;s.row==o.end.row&&!r[o.start.row]?r[o.start.row]=s:s.hidden=!0}return this.session._emit("changeFold",{data:{start:{row:s.row}}}),this.$updateRows(),this.renderWidgets(null,h),this.onWidgetChanged(s),s},y.prototype.removeLineWidget=function(s){if(s._inDocument=!1,s.session=null,s.el&&s.el.parentNode&&s.el.parentNode.removeChild(s.el),s.editor&&s.editor.destroy)try{s.editor.destroy()}catch{}if(this.session.lineWidgets){var h=this.session.lineWidgets[s.row];if(h==s)this.session.lineWidgets[s.row]=s.$oldWidget,s.$oldWidget&&this.onWidgetChanged(s.$oldWidget);else for(;h;){if(h.$oldWidget==s){h.$oldWidget=s.$oldWidget;break}h=h.$oldWidget}}this.session._emit("changeFold",{data:{start:{row:s.row}}}),this.$updateRows()},y.prototype.getWidgetsAtRow=function(s){for(var h=this.session.lineWidgets,o=h&&h[s],r=[];o;)r.push(o),o=o.$oldWidget;return r},y.prototype.onWidgetChanged=function(s){this.session._changedWidgets.push(s),this.editor&&this.editor.renderer.updateFull()},y.prototype.measureWidgets=function(s,h){var o=this.session._changedWidgets,r=h.layerConfig;if(!(!o||!o.length)){for(var i=1/0,t=0;t<o.length;t++){var e=o[t];if(!(!e||!e.el)&&e.session==this.session){if(!e._inDocument){if(this.session.lineWidgets[e.row]!=e)continue;e._inDocument=!0,h.container.appendChild(e.el)}e.h=e.el.offsetHeight,e.fixedWidth||(e.w=e.el.offsetWidth,e.screenWidth=Math.ceil(e.w/r.characterWidth));var n=e.h/r.lineHeight;e.coverLine&&(n-=this.session.getRowLineCount(e.row),n<0&&(n=0)),e.rowCount!=n&&(e.rowCount=n,e.row<i&&(i=e.row))}}i!=1/0&&(this.session._emit("changeFold",{data:{start:{row:i}}}),this.session.lineWidgetWidth=null),this.session._changedWidgets=[]}},y.prototype.renderWidgets=function(s,h){var o=h.layerConfig,r=this.session.lineWidgets;if(r){for(var i=Math.min(this.firstRow,o.firstRow),t=Math.max(this.lastRow,o.lastRow,r.length);i>0&&!r[i];)i--;this.firstRow=o.firstRow,this.lastRow=o.lastRow,h.$cursorLayer.config=o;for(var e=i;e<=t;e++){var n=r[e];if(!(!n||!n.el)){if(n.hidden){n.el.style.top=-100-(n.pixelHeight||0)+"px";continue}n._inDocument||(n._inDocument=!0,h.container.appendChild(n.el));var a=h.$cursorLayer.getPixelPosition({row:e,column:0},!0).top;n.coverLine||(a+=o.lineHeight*this.session.getRowLineCount(n.row)),n.el.style.top=a-o.offset+"px";var c=n.coverGutter?0:h.gutterWidth;n.fixedWidth||(c-=h.scrollLeft),n.el.style.left=c+"px",n.fullWidth&&n.screenWidth&&(n.el.style.minWidth=o.width+2*o.padding+"px"),n.fixedWidth?n.el.style.right=h.scrollBar.getWidth()+"px":n.el.style.right=""}}}},y}();x.LineWidgets=$}),ace.define("ace/keyboard/gutter_handler",["require","exports","module","ace/lib/keys","ace/mouse/default_gutter_handler"],function(f,x,W){var M=f("../lib/keys"),$=f("../mouse/default_gutter_handler").GutterTooltip,y=function(){function h(o){this.editor=o,this.gutterLayer=o.renderer.$gutterLayer,this.element=o.renderer.$gutter,this.lines=o.renderer.$gutterLayer.$lines,this.activeRowIndex=null,this.activeLane=null,this.annotationTooltip=new $(this.editor)}return h.prototype.addListener=function(){this.element.addEventListener("keydown",this.$onGutterKeyDown.bind(this)),this.element.addEventListener("focusout",this.$blurGutter.bind(this)),this.editor.on("mousewheel",this.$blurGutter.bind(this))},h.prototype.removeListener=function(){this.element.removeEventListener("keydown",this.$onGutterKeyDown.bind(this)),this.element.removeEventListener("focusout",this.$blurGutter.bind(this)),this.editor.off("mousewheel",this.$blurGutter.bind(this))},h.prototype.$onGutterKeyDown=function(o){if(this.annotationTooltip.isOpen){o.preventDefault(),o.keyCode===M.escape&&this.annotationTooltip.hideTooltip();return}if(o.target===this.element){if(o.keyCode!=M.enter)return;o.preventDefault();var r=this.editor.getCursorPosition().row;this.editor.isRowVisible(r)||this.editor.scrollToLine(r,!0,!0),setTimeout((function(){var i=this.$rowToRowIndex(this.gutterLayer.$cursorCell.row),t=this.$findNearestFoldWidget(i),e=this.$findNearestAnnotation(i);if(!(t===null&&e===null)){if(t===null&&e!==null){this.activeRowIndex=e,this.activeLane="annotation",this.$focusAnnotation(this.activeRowIndex);return}if(t!==null&&e===null){this.activeRowIndex=t,this.activeLane="fold",this.$focusFoldWidget(this.activeRowIndex);return}if(Math.abs(e-i)<Math.abs(t-i)){this.activeRowIndex=e,this.activeLane="annotation",this.$focusAnnotation(this.activeRowIndex);return}else{this.activeRowIndex=t,this.activeLane="fold",this.$focusFoldWidget(this.activeRowIndex);return}}}).bind(this),10);return}this.$handleGutterKeyboardInteraction(o),setTimeout((function(){this.editor._signal("gutterkeydown",new s(o,this))}).bind(this),10)},h.prototype.$handleGutterKeyboardInteraction=function(o){if(o.keyCode===M.tab){o.preventDefault();return}if(o.keyCode===M.escape){o.preventDefault(),this.$blurGutter(),this.element.focus(),this.lane=null;return}if(o.keyCode===M.up){switch(o.preventDefault(),this.activeLane){case"fold":this.$moveFoldWidgetUp();break;case"annotation":this.$moveAnnotationUp();break}return}if(o.keyCode===M.down){switch(o.preventDefault(),this.activeLane){case"fold":this.$moveFoldWidgetDown();break;case"annotation":this.$moveAnnotationDown();break}return}if(o.keyCode===M.left){o.preventDefault(),this.$switchLane("annotation");return}if(o.keyCode===M.right){o.preventDefault(),this.$switchLane("fold");return}if(o.keyCode===M.enter||o.keyCode===M.space){switch(o.preventDefault(),this.activeLane){case"fold":if(this.gutterLayer.session.foldWidgets[this.$rowIndexToRow(this.activeRowIndex)]==="start"){var r=this.$rowIndexToRow(this.activeRowIndex);this.editor.session.onFoldWidgetClick(this.$rowIndexToRow(this.activeRowIndex),o),setTimeout((function(){this.$rowIndexToRow(this.activeRowIndex)!==r&&(this.$blurFoldWidget(this.activeRowIndex),this.activeRowIndex=this.$rowToRowIndex(r),this.$focusFoldWidget(this.activeRowIndex))}).bind(this),10);break}else if(this.gutterLayer.session.foldWidgets[this.$rowIndexToRow(this.activeRowIndex)]==="end")break;return;case"annotation":var i=this.lines.cells[this.activeRowIndex].element.childNodes[2],t=i.getBoundingClientRect(),e=this.annotationTooltip.getElement().style;e.left=t.right+"px",e.top=t.bottom+"px",this.annotationTooltip.showTooltip(this.$rowIndexToRow(this.activeRowIndex));break}return}},h.prototype.$blurGutter=function(){if(this.activeRowIndex!==null)switch(this.activeLane){case"fold":this.$blurFoldWidget(this.activeRowIndex);break;case"annotation":this.$blurAnnotation(this.activeRowIndex);break}this.annotationTooltip.isOpen&&this.annotationTooltip.hideTooltip()},h.prototype.$isFoldWidgetVisible=function(o){var r=this.editor.isRowFullyVisible(this.$rowIndexToRow(o)),i=this.$getFoldWidget(o).style.display!=="none";return r&&i},h.prototype.$isAnnotationVisible=function(o){var r=this.editor.isRowFullyVisible(this.$rowIndexToRow(o)),i=this.$getAnnotation(o).style.display!=="none";return r&&i},h.prototype.$getFoldWidget=function(o){var r=this.lines.get(o),i=r.element;return i.childNodes[1]},h.prototype.$getAnnotation=function(o){var r=this.lines.get(o),i=r.element;return i.childNodes[2]},h.prototype.$findNearestFoldWidget=function(o){if(this.$isFoldWidgetVisible(o))return o;for(var r=0;o-r>0||o+r<this.lines.getLength()-1;){if(r++,o-r>=0&&this.$isFoldWidgetVisible(o-r))return o-r;if(o+r<=this.lines.getLength()-1&&this.$isFoldWidgetVisible(o+r))return o+r}return null},h.prototype.$findNearestAnnotation=function(o){if(this.$isAnnotationVisible(o))return o;for(var r=0;o-r>0||o+r<this.lines.getLength()-1;){if(r++,o-r>=0&&this.$isAnnotationVisible(o-r))return o-r;if(o+r<=this.lines.getLength()-1&&this.$isAnnotationVisible(o+r))return o+r}return null},h.prototype.$focusFoldWidget=function(o){if(o!=null){var r=this.$getFoldWidget(o);r.classList.add(this.editor.renderer.keyboardFocusClassName),r.focus()}},h.prototype.$focusAnnotation=function(o){if(o!=null){var r=this.$getAnnotation(o);r.classList.add(this.editor.renderer.keyboardFocusClassName),r.focus()}},h.prototype.$blurFoldWidget=function(o){var r=this.$getFoldWidget(o);r.classList.remove(this.editor.renderer.keyboardFocusClassName),r.blur()},h.prototype.$blurAnnotation=function(o){var r=this.$getAnnotation(o);r.classList.remove(this.editor.renderer.keyboardFocusClassName),r.blur()},h.prototype.$moveFoldWidgetUp=function(){for(var o=this.activeRowIndex;o>0;)if(o--,this.$isFoldWidgetVisible(o)){this.$blurFoldWidget(this.activeRowIndex),this.activeRowIndex=o,this.$focusFoldWidget(this.activeRowIndex);return}},h.prototype.$moveFoldWidgetDown=function(){for(var o=this.activeRowIndex;o<this.lines.getLength()-1;)if(o++,this.$isFoldWidgetVisible(o)){this.$blurFoldWidget(this.activeRowIndex),this.activeRowIndex=o,this.$focusFoldWidget(this.activeRowIndex);return}},h.prototype.$moveAnnotationUp=function(){for(var o=this.activeRowIndex;o>0;)if(o--,this.$isAnnotationVisible(o)){this.$blurAnnotation(this.activeRowIndex),this.activeRowIndex=o,this.$focusAnnotation(this.activeRowIndex);return}},h.prototype.$moveAnnotationDown=function(){for(var o=this.activeRowIndex;o<this.lines.getLength()-1;)if(o++,this.$isAnnotationVisible(o)){this.$blurAnnotation(this.activeRowIndex),this.activeRowIndex=o,this.$focusAnnotation(this.activeRowIndex);return}},h.prototype.$switchLane=function(o){switch(o){case"annotation":if(this.activeLane==="annotation")break;var r=this.$findNearestAnnotation(this.activeRowIndex);if(r==null)break;this.activeLane="annotation",this.$blurFoldWidget(this.activeRowIndex),this.activeRowIndex=r,this.$focusAnnotation(this.activeRowIndex);break;case"fold":if(this.activeLane==="fold")break;var i=this.$findNearestFoldWidget(this.activeRowIndex);if(i==null)break;this.activeLane="fold",this.$blurAnnotation(this.activeRowIndex),this.activeRowIndex=i,this.$focusFoldWidget(this.activeRowIndex);break}},h.prototype.$rowIndexToRow=function(o){var r=this.lines.get(o);return r?r.row:null},h.prototype.$rowToRowIndex=function(o){for(var r=0;r<this.lines.getLength();r++){var i=this.lines.get(r);if(i.row==o)return r}return null},h}();x.GutterKeyboardHandler=y;var s=function(){function h(o,r){this.gutterKeyboardHandler=r,this.domEvent=o}return h.prototype.getKey=function(){return M.keyCodeToString(this.domEvent.keyCode)},h.prototype.getRow=function(){return this.gutterKeyboardHandler.$rowIndexToRow(this.gutterKeyboardHandler.activeRowIndex)},h.prototype.isInAnnotationLane=function(){return this.gutterKeyboardHandler.activeLane==="annotation"},h.prototype.isInFoldLane=function(){return this.gutterKeyboardHandler.activeLane==="fold"},h}();x.GutterKeyboardEvent=s}),ace.define("ace/editor",["require","exports","module","ace/lib/oop","ace/lib/dom","ace/lib/lang","ace/lib/useragent","ace/keyboard/textinput","ace/mouse/mouse_handler","ace/mouse/fold_handler","ace/keyboard/keybinding","ace/edit_session","ace/search","ace/range","ace/lib/event_emitter","ace/commands/command_manager","ace/commands/default_commands","ace/config","ace/token_iterator","ace/line_widgets","ace/keyboard/gutter_handler","ace/config","ace/clipboard","ace/lib/keys"],function(f,x,W){var M=this&&this.__values||function(w){var l=typeof Symbol=="function"&&Symbol.iterator,_=l&&w[l],L=0;if(_)return _.call(w);if(w&&typeof w.length=="number")return{next:function(){return w&&L>=w.length&&(w=void 0),{value:w&&w[L++],done:!w}}};throw new TypeError(l?"Object is not iterable.":"Symbol.iterator is not defined.")},$=f("./lib/oop"),y=f("./lib/dom"),s=f("./lib/lang"),h=f("./lib/useragent"),o=f("./keyboard/textinput").TextInput,r=f("./mouse/mouse_handler").MouseHandler,i=f("./mouse/fold_handler").FoldHandler,t=f("./keyboard/keybinding").KeyBinding,e=f("./edit_session").EditSession,n=f("./search").Search,a=f("./range").Range,c=f("./lib/event_emitter").EventEmitter,d=f("./commands/command_manager").CommandManager,k=f("./commands/default_commands").commands,v=f("./config"),p=f("./token_iterator").TokenIterator,u=f("./line_widgets").LineWidgets,m=f("./keyboard/gutter_handler").GutterKeyboardHandler,A=f("./config").nls,S=f("./clipboard"),C=f("./lib/keys"),R=function(){function w(l,_,L){this.session,this.$toDestroy=[];var F=l.getContainerElement();this.container=F,this.renderer=l,this.id="editor"+ ++w.$uid,this.commands=new d(h.isMac?"mac":"win",k),typeof document=="object"&&(this.textInput=new o(l.getTextAreaContainer(),this),this.renderer.textarea=this.textInput.getElement(),this.$mouseHandler=new r(this),new i(this)),this.keyBinding=new t(this),this.$search=new n().set({wrap:!0}),this.$historyTracker=this.$historyTracker.bind(this),this.commands.on("exec",this.$historyTracker),this.$initOperationListeners(),this._$emitInputEvent=s.delayedCall((function(){this._signal("input",{}),this.session&&!this.session.destroyed&&this.session.bgTokenizer.scheduleStart()}).bind(this)),this.on("change",function(U,H){H._$emitInputEvent.schedule(31)}),this.setSession(_||L&&L.session||new e("")),v.resetOptions(this),L&&this.setOptions(L),v._signal("editor",this)}return w.prototype.$initOperationListeners=function(){this.commands.on("exec",this.startOperation.bind(this),!0),this.commands.on("afterExec",this.endOperation.bind(this),!0),this.$opResetTimer=s.delayedCall(this.endOperation.bind(this,!0)),this.on("change",(function(){this.curOp||(this.startOperation(),this.curOp.selectionBefore=this.$lastSel),this.curOp.docChanged=!0}).bind(this),!0),this.on("changeSelection",(function(){this.curOp||(this.startOperation(),this.curOp.selectionBefore=this.$lastSel),this.curOp.selectionChanged=!0}).bind(this),!0)},w.prototype.startOperation=function(l){if(this.curOp){if(!l||this.curOp.command)return;this.prevOp=this.curOp}l||(this.previousCommand=null,l={}),this.$opResetTimer.schedule(),this.curOp=this.session.curOp={command:l.command||{},args:l.args,scrollTop:this.renderer.scrollTop},this.curOp.selectionBefore=this.selection.toJSON()},w.prototype.endOperation=function(l){if(this.curOp&&this.session){if(l&&l.returnValue===!1||!this.session)return this.curOp=null;if(l==!0&&this.curOp.command&&this.curOp.command.name=="mouse"||(this._signal("beforeEndOperation"),!this.curOp))return;var _=this.curOp.command,L=_&&_.scrollIntoView;if(L){switch(L){case"center-animate":L="animate";case"center":this.renderer.scrollCursorIntoView(null,.5);break;case"animate":case"cursor":this.renderer.scrollCursorIntoView();break;case"selectionPart":var F=this.selection.getRange(),U=this.renderer.layerConfig;(F.start.row>=U.lastRow||F.end.row<=U.firstRow)&&this.renderer.scrollSelectionIntoView(this.selection.anchor,this.selection.lead);break}L=="animate"&&this.renderer.animateScrolling(this.curOp.scrollTop)}var H=this.selection.toJSON();this.curOp.selectionAfter=H,this.$lastSel=this.selection.toJSON(),this.session.getUndoManager().addSelection(H),this.prevOp=this.curOp,this.curOp=null}},w.prototype.$historyTracker=function(l){if(this.$mergeUndoDeltas){var _=this.prevOp,L=this.$mergeableCommands,F=_.command&&l.command.name==_.command.name;if(l.command.name=="insertstring"){var U=l.args;this.mergeNextCommand===void 0&&(this.mergeNextCommand=!0),F=F&&this.mergeNextCommand&&(!/\s/.test(U)||/\s/.test(_.args)),this.mergeNextCommand=!0}else F=F&&L.indexOf(l.command.name)!==-1;this.$mergeUndoDeltas!="always"&&Date.now()-this.sequenceStartTime>2e3&&(F=!1),F?this.session.mergeUndoDeltas=!0:L.indexOf(l.command.name)!==-1&&(this.sequenceStartTime=Date.now())}},w.prototype.setKeyboardHandler=function(l,_){if(l&&typeof l=="string"&&l!="ace"){this.$keybindingId=l;var L=this;v.loadModule(["keybinding",l],function(F){L.$keybindingId==l&&L.keyBinding.setKeyboardHandler(F&&F.handler),_&&_()})}else this.$keybindingId=null,this.keyBinding.setKeyboardHandler(l),_&&_()},w.prototype.getKeyboardHandler=function(){return this.keyBinding.getKeyboardHandler()},w.prototype.setSession=function(l){if(this.session!=l){this.curOp&&this.endOperation(),this.curOp={};var _=this.session;if(_){this.session.off("change",this.$onDocumentChange),this.session.off("changeMode",this.$onChangeMode),this.session.off("tokenizerUpdate",this.$onTokenizerUpdate),this.session.off("changeTabSize",this.$onChangeTabSize),this.session.off("changeWrapLimit",this.$onChangeWrapLimit),this.session.off("changeWrapMode",this.$onChangeWrapMode),this.session.off("changeFold",this.$onChangeFold),this.session.off("changeFrontMarker",this.$onChangeFrontMarker),this.session.off("changeBackMarker",this.$onChangeBackMarker),this.session.off("changeBreakpoint",this.$onChangeBreakpoint),this.session.off("changeAnnotation",this.$onChangeAnnotation),this.session.off("changeOverwrite",this.$onCursorChange),this.session.off("changeScrollTop",this.$onScrollTopChange),this.session.off("changeScrollLeft",this.$onScrollLeftChange);var L=this.session.getSelection();L.off("changeCursor",this.$onCursorChange),L.off("changeSelection",this.$onSelectionChange)}this.session=l,l?(this.$onDocumentChange=this.onDocumentChange.bind(this),l.on("change",this.$onDocumentChange),this.renderer.setSession(l),this.$onChangeMode=this.onChangeMode.bind(this),l.on("changeMode",this.$onChangeMode),this.$onTokenizerUpdate=this.onTokenizerUpdate.bind(this),l.on("tokenizerUpdate",this.$onTokenizerUpdate),this.$onChangeTabSize=this.renderer.onChangeTabSize.bind(this.renderer),l.on("changeTabSize",this.$onChangeTabSize),this.$onChangeWrapLimit=this.onChangeWrapLimit.bind(this),l.on("changeWrapLimit",this.$onChangeWrapLimit),this.$onChangeWrapMode=this.onChangeWrapMode.bind(this),l.on("changeWrapMode",this.$onChangeWrapMode),this.$onChangeFold=this.onChangeFold.bind(this),l.on("changeFold",this.$onChangeFold),this.$onChangeFrontMarker=this.onChangeFrontMarker.bind(this),this.session.on("changeFrontMarker",this.$onChangeFrontMarker),this.$onChangeBackMarker=this.onChangeBackMarker.bind(this),this.session.on("changeBackMarker",this.$onChangeBackMarker),this.$onChangeBreakpoint=this.onChangeBreakpoint.bind(this),this.session.on("changeBreakpoint",this.$onChangeBreakpoint),this.$onChangeAnnotation=this.onChangeAnnotation.bind(this),this.session.on("changeAnnotation",this.$onChangeAnnotation),this.$onCursorChange=this.onCursorChange.bind(this),this.session.on("changeOverwrite",this.$onCursorChange),this.$onScrollTopChange=this.onScrollTopChange.bind(this),this.session.on("changeScrollTop",this.$onScrollTopChange),this.$onScrollLeftChange=this.onScrollLeftChange.bind(this),this.session.on("changeScrollLeft",this.$onScrollLeftChange),this.selection=l.getSelection(),this.selection.on("changeCursor",this.$onCursorChange),this.$onSelectionChange=this.onSelectionChange.bind(this),this.selection.on("changeSelection",this.$onSelectionChange),this.onChangeMode(),this.onCursorChange(),this.onScrollTopChange(),this.onScrollLeftChange(),this.onSelectionChange(),this.onChangeFrontMarker(),this.onChangeBackMarker(),this.onChangeBreakpoint(),this.onChangeAnnotation(),this.session.getUseWrapMode()&&this.renderer.adjustWrapLimit(),this.renderer.updateFull()):(this.selection=null,this.renderer.setSession(l)),this._signal("changeSession",{session:l,oldSession:_}),this.curOp=null,_&&_._signal("changeEditor",{oldEditor:this}),l&&l._signal("changeEditor",{editor:this}),l&&!l.destroyed&&l.bgTokenizer.scheduleStart()}},w.prototype.getSession=function(){return this.session},w.prototype.setValue=function(l,_){return this.session.doc.setValue(l),_?_==1?this.navigateFileEnd():_==-1&&this.navigateFileStart():this.selectAll(),l},w.prototype.getValue=function(){return this.session.getValue()},w.prototype.getSelection=function(){return this.selection},w.prototype.resize=function(l){this.renderer.onResize(l)},w.prototype.setTheme=function(l,_){this.renderer.setTheme(l,_)},w.prototype.getTheme=function(){return this.renderer.getTheme()},w.prototype.setStyle=function(l){this.renderer.setStyle(l)},w.prototype.unsetStyle=function(l){this.renderer.unsetStyle(l)},w.prototype.getFontSize=function(){return this.getOption("fontSize")||y.computedStyle(this.container).fontSize},w.prototype.setFontSize=function(l){this.setOption("fontSize",l)},w.prototype.$highlightBrackets=function(){if(!this.$highlightPending){var l=this;this.$highlightPending=!0,setTimeout(function(){l.$highlightPending=!1;var _=l.session;if(!(!_||_.destroyed)){_.$bracketHighlight&&(_.$bracketHighlight.markerIds.forEach(function(ee){_.removeMarker(ee)}),_.$bracketHighlight=null);var L=l.getCursorPosition(),F=l.getKeyboardHandler(),U=F&&F.$getDirectionForHighlight&&F.$getDirectionForHighlight(l),H=_.getMatchingBracketRanges(L,U);if(!H){var X=new p(_,L.row,L.column),q=X.getCurrentToken();if(q&&/\b(?:tag-open|tag-name)/.test(q.type)){var Z=_.getMatchingTags(L);Z&&(H=[Z.openTagName.isEmpty()?Z.openTag:Z.openTagName,Z.closeTagName.isEmpty()?Z.closeTag:Z.closeTagName])}}if(!H&&_.$mode.getMatching&&(H=_.$mode.getMatching(l.session)),!H){l.getHighlightIndentGuides()&&l.renderer.$textLayer.$highlightIndentGuide();return}var oe="ace_bracket";Array.isArray(H)?H.length==1&&(oe="ace_error_bracket"):H=[H],H.length==2&&(a.comparePoints(H[0].end,H[1].start)==0?H=[a.fromPoints(H[0].start,H[1].end)]:a.comparePoints(H[0].start,H[1].end)==0&&(H=[a.fromPoints(H[1].start,H[0].end)])),_.$bracketHighlight={ranges:H,markerIds:H.map(function(ee){return _.addMarker(ee,oe,"text")})},l.getHighlightIndentGuides()&&l.renderer.$textLayer.$highlightIndentGuide()}},50)}},w.prototype.focus=function(){this.textInput.focus()},w.prototype.isFocused=function(){return this.textInput.isFocused()},w.prototype.blur=function(){this.textInput.blur()},w.prototype.onFocus=function(l){this.$isFocused||(this.$isFocused=!0,this.renderer.showCursor(),this.renderer.visualizeFocus(),this._emit("focus",l))},w.prototype.onBlur=function(l){this.$isFocused&&(this.$isFocused=!1,this.renderer.hideCursor(),this.renderer.visualizeBlur(),this._emit("blur",l))},w.prototype.$cursorChange=function(){this.renderer.updateCursor(),this.$highlightBrackets(),this.$updateHighlightActiveLine()},w.prototype.onDocumentChange=function(l){var _=this.session.$useWrapMode,L=l.start.row==l.end.row?l.end.row:1/0;this.renderer.updateLines(l.start.row,L,_),this._signal("change",l),this.$cursorChange()},w.prototype.onTokenizerUpdate=function(l){var _=l.data;this.renderer.updateLines(_.first,_.last)},w.prototype.onScrollTopChange=function(){this.renderer.scrollToY(this.session.getScrollTop())},w.prototype.onScrollLeftChange=function(){this.renderer.scrollToX(this.session.getScrollLeft())},w.prototype.onCursorChange=function(){this.$cursorChange(),this._signal("changeSelection")},w.prototype.$updateHighlightActiveLine=function(){var l=this.getSession(),_;if(this.$highlightActiveLine&&((this.$selectionStyle!="line"||!this.selection.isMultiLine())&&(_=this.getCursorPosition()),this.renderer.theme&&this.renderer.theme.$selectionColorConflict&&!this.selection.isEmpty()&&(_=!1),this.renderer.$maxLines&&this.session.getLength()===1&&!(this.renderer.$minLines>1)&&(_=!1)),l.$highlightLineMarker&&!_)l.removeMarker(l.$highlightLineMarker.id),l.$highlightLineMarker=null;else if(!l.$highlightLineMarker&&_){var L=new a(_.row,_.column,_.row,1/0);L.id=l.addMarker(L,"ace_active-line","screenLine"),l.$highlightLineMarker=L}else _&&(l.$highlightLineMarker.start.row=_.row,l.$highlightLineMarker.end.row=_.row,l.$highlightLineMarker.start.column=_.column,l._signal("changeBackMarker"))},w.prototype.onSelectionChange=function(l){var _=this.session;if(_.$selectionMarker&&_.removeMarker(_.$selectionMarker),_.$selectionMarker=null,this.selection.isEmpty())this.$updateHighlightActiveLine();else{var L=this.selection.getRange(),F=this.getSelectionStyle();_.$selectionMarker=_.addMarker(L,"ace_selection",F)}var U=this.$highlightSelectedWord&&this.$getSelectionHighLightRegexp();this.session.highlight(U),this._signal("changeSelection")},w.prototype.$getSelectionHighLightRegexp=function(){var l=this.session,_=this.getSelectionRange();if(!(_.isEmpty()||_.isMultiLine())){var L=_.start.column,F=_.end.column,U=l.getLine(_.start.row),H=U.substring(L,F);if(!(H.length>5e3||!/[\w\d]/.test(H))){var X=this.$search.$assembleRegExp({wholeWord:!0,caseSensitive:!0,needle:H}),q=U.substring(L-1,F+1);if(X.test(q))return X}}},w.prototype.onChangeFrontMarker=function(){this.renderer.updateFrontMarkers()},w.prototype.onChangeBackMarker=function(){this.renderer.updateBackMarkers()},w.prototype.onChangeBreakpoint=function(){this.renderer.updateBreakpoints()},w.prototype.onChangeAnnotation=function(){this.renderer.setAnnotations(this.session.getAnnotations())},w.prototype.onChangeMode=function(l){this.renderer.updateText(),this._emit("changeMode",l)},w.prototype.onChangeWrapLimit=function(){this.renderer.updateFull()},w.prototype.onChangeWrapMode=function(){this.renderer.onResize(!0)},w.prototype.onChangeFold=function(){this.$updateHighlightActiveLine(),this.renderer.updateFull()},w.prototype.getSelectedText=function(){return this.session.getTextRange(this.getSelectionRange())},w.prototype.getCopyText=function(){var l=this.getSelectedText(),_=this.session.doc.getNewLineCharacter(),L=!1;if(!l&&this.$copyWithEmptySelection){L=!0;for(var F=this.selection.getAllRanges(),U=0;U<F.length;U++){var H=F[U];U&&F[U-1].start.row==H.start.row||(l+=this.session.getLine(H.start.row)+_)}}var X={text:l};return this._signal("copy",X),S.lineMode=L?X.text:!1,X.text},w.prototype.onCopy=function(){this.commands.exec("copy",this)},w.prototype.onCut=function(){this.commands.exec("cut",this)},w.prototype.onPaste=function(l,_){var L={text:l,event:_};this.commands.exec("paste",this,L)},w.prototype.$handlePaste=function(l){typeof l=="string"&&(l={text:l}),this._signal("paste",l);var _=l.text,L=_===S.lineMode,F=this.session;if(!this.inMultiSelectMode||this.inVirtualSelectionMode)L?F.insert({row:this.selection.lead.row,column:0},_):this.insert(_);else if(L)this.selection.rangeList.ranges.forEach(function(oe){F.insert({row:oe.start.row,column:0},_)});else{var U=_.split(/\r\n|\r|\n/),H=this.selection.rangeList.ranges,X=U.length==2&&(!U[0]||!U[1]);if(U.length!=H.length||X)return this.commands.exec("insertstring",this,_);for(var q=H.length;q--;){var Z=H[q];Z.isEmpty()||F.remove(Z),F.insert(Z.start,U[q])}}},w.prototype.execCommand=function(l,_){return this.commands.exec(l,this,_)},w.prototype.insert=function(l,_){var L=this.session,F=L.getMode(),U=this.getCursorPosition();if(this.getBehavioursEnabled()&&!_){var H=F.transformAction(L.getState(U.row),"insertion",this,L,l);H&&(l!==H.text&&(this.inVirtualSelectionMode||(this.session.mergeUndoDeltas=!1,this.mergeNextCommand=!1)),l=H.text)}if(l=="	"&&(l=this.session.getTabString()),this.selection.isEmpty()){if(this.session.getOverwrite()&&l.indexOf(`
`)==-1){var X=a.fromPoints(U,U);X.end.column+=l.length,this.session.remove(X)}}else{var X=this.getSelectionRange();U=this.session.remove(X),this.clearSelection()}if(l==`
`||l==`\r
`){var ee=L.getLine(U.row);if(U.column>ee.search(/\S|$/)){var q=ee.substr(U.column).search(/\S|$/);L.doc.removeInLine(U.row,U.column,U.column+q)}}this.clearSelection();var Z=U.column,oe=L.getState(U.row),ee=L.getLine(U.row),se=F.checkOutdent(oe,ee,l);if(L.insert(U,l),H&&H.selection&&(H.selection.length==2?this.selection.setSelectionRange(new a(U.row,Z+H.selection[0],U.row,Z+H.selection[1])):this.selection.setSelectionRange(new a(U.row+H.selection[0],H.selection[1],U.row+H.selection[2],H.selection[3]))),this.$enableAutoIndent){if(L.getDocument().isNewLine(l)){var fe=F.getNextLineIndent(oe,ee.slice(0,U.column),L.getTabString());L.insert({row:U.row+1,column:0},fe)}se&&F.autoOutdent(oe,L,U.row)}},w.prototype.autoIndent=function(){for(var l=this.session,_=l.getMode(),L=this.selection.isEmpty()?[new a(0,0,l.doc.getLength()-1,0)]:this.selection.getAllRanges(),F="",U="",H="",X=l.getTabString(),q=0;q<L.length;q++)for(var Z=L[q].start.row,oe=L[q].end.row,ee=Z;ee<=oe;ee++){ee>0&&(F=l.getState(ee-1),U=l.getLine(ee-1),H=_.getNextLineIndent(F,U,X));var se=l.getLine(ee),fe=_.$getIndent(se);if(H!==fe){if(fe.length>0){var Ee=new a(ee,0,ee,fe.length);l.remove(Ee)}H.length>0&&l.insert({row:ee,column:0},H)}_.autoOutdent(F,l,ee)}},w.prototype.onTextInput=function(l,_){if(!_)return this.keyBinding.onTextInput(l);this.startOperation({command:{name:"insertstring"}});var L=this.applyComposition.bind(this,l,_);this.selection.rangeCount?this.forEachSelection(L):L(),this.endOperation()},w.prototype.applyComposition=function(l,_){if(_.extendLeft||_.extendRight){var L=this.selection.getRange();L.start.column-=_.extendLeft,L.end.column+=_.extendRight,L.start.column<0&&(L.start.row--,L.start.column+=this.session.getLine(L.start.row).length+1),this.selection.setRange(L),!l&&!L.isEmpty()&&this.remove()}if((l||!this.selection.isEmpty())&&this.insert(l,!0),_.restoreStart||_.restoreEnd){var L=this.selection.getRange();L.start.column-=_.restoreStart,L.end.column-=_.restoreEnd,this.selection.setRange(L)}},w.prototype.onCommandKey=function(l,_,L){return this.keyBinding.onCommandKey(l,_,L)},w.prototype.setOverwrite=function(l){this.session.setOverwrite(l)},w.prototype.getOverwrite=function(){return this.session.getOverwrite()},w.prototype.toggleOverwrite=function(){this.session.toggleOverwrite()},w.prototype.setScrollSpeed=function(l){this.setOption("scrollSpeed",l)},w.prototype.getScrollSpeed=function(){return this.getOption("scrollSpeed")},w.prototype.setDragDelay=function(l){this.setOption("dragDelay",l)},w.prototype.getDragDelay=function(){return this.getOption("dragDelay")},w.prototype.setSelectionStyle=function(l){this.setOption("selectionStyle",l)},w.prototype.getSelectionStyle=function(){return this.getOption("selectionStyle")},w.prototype.setHighlightActiveLine=function(l){this.setOption("highlightActiveLine",l)},w.prototype.getHighlightActiveLine=function(){return this.getOption("highlightActiveLine")},w.prototype.setHighlightGutterLine=function(l){this.setOption("highlightGutterLine",l)},w.prototype.getHighlightGutterLine=function(){return this.getOption("highlightGutterLine")},w.prototype.setHighlightSelectedWord=function(l){this.setOption("highlightSelectedWord",l)},w.prototype.getHighlightSelectedWord=function(){return this.$highlightSelectedWord},w.prototype.setAnimatedScroll=function(l){this.renderer.setAnimatedScroll(l)},w.prototype.getAnimatedScroll=function(){return this.renderer.getAnimatedScroll()},w.prototype.setShowInvisibles=function(l){this.renderer.setShowInvisibles(l)},w.prototype.getShowInvisibles=function(){return this.renderer.getShowInvisibles()},w.prototype.setDisplayIndentGuides=function(l){this.renderer.setDisplayIndentGuides(l)},w.prototype.getDisplayIndentGuides=function(){return this.renderer.getDisplayIndentGuides()},w.prototype.setHighlightIndentGuides=function(l){this.renderer.setHighlightIndentGuides(l)},w.prototype.getHighlightIndentGuides=function(){return this.renderer.getHighlightIndentGuides()},w.prototype.setShowPrintMargin=function(l){this.renderer.setShowPrintMargin(l)},w.prototype.getShowPrintMargin=function(){return this.renderer.getShowPrintMargin()},w.prototype.setPrintMarginColumn=function(l){this.renderer.setPrintMarginColumn(l)},w.prototype.getPrintMarginColumn=function(){return this.renderer.getPrintMarginColumn()},w.prototype.setReadOnly=function(l){this.setOption("readOnly",l)},w.prototype.getReadOnly=function(){return this.getOption("readOnly")},w.prototype.setBehavioursEnabled=function(l){this.setOption("behavioursEnabled",l)},w.prototype.getBehavioursEnabled=function(){return this.getOption("behavioursEnabled")},w.prototype.setWrapBehavioursEnabled=function(l){this.setOption("wrapBehavioursEnabled",l)},w.prototype.getWrapBehavioursEnabled=function(){return this.getOption("wrapBehavioursEnabled")},w.prototype.setShowFoldWidgets=function(l){this.setOption("showFoldWidgets",l)},w.prototype.getShowFoldWidgets=function(){return this.getOption("showFoldWidgets")},w.prototype.setFadeFoldWidgets=function(l){this.setOption("fadeFoldWidgets",l)},w.prototype.getFadeFoldWidgets=function(){return this.getOption("fadeFoldWidgets")},w.prototype.remove=function(l){this.selection.isEmpty()&&(l=="left"?this.selection.selectLeft():this.selection.selectRight());var _=this.getSelectionRange();if(this.getBehavioursEnabled()){var L=this.session,F=L.getState(_.start.row),U=L.getMode().transformAction(F,"deletion",this,L,_);if(_.end.column===0){var H=L.getTextRange(_);if(H[H.length-1]==`
`){var X=L.getLine(_.end.row);/^\s+$/.test(X)&&(_.end.column=X.length)}}U&&(_=U)}this.session.remove(_),this.clearSelection()},w.prototype.removeWordRight=function(){this.selection.isEmpty()&&this.selection.selectWordRight(),this.session.remove(this.getSelectionRange()),this.clearSelection()},w.prototype.removeWordLeft=function(){this.selection.isEmpty()&&this.selection.selectWordLeft(),this.session.remove(this.getSelectionRange()),this.clearSelection()},w.prototype.removeToLineStart=function(){this.selection.isEmpty()&&this.selection.selectLineStart(),this.selection.isEmpty()&&this.selection.selectLeft(),this.session.remove(this.getSelectionRange()),this.clearSelection()},w.prototype.removeToLineEnd=function(){this.selection.isEmpty()&&this.selection.selectLineEnd();var l=this.getSelectionRange();l.start.column==l.end.column&&l.start.row==l.end.row&&(l.end.column=0,l.end.row++),this.session.remove(l),this.clearSelection()},w.prototype.splitLine=function(){this.selection.isEmpty()||(this.session.remove(this.getSelectionRange()),this.clearSelection());var l=this.getCursorPosition();this.insert(`
`),this.moveCursorToPosition(l)},w.prototype.setGhostText=function(l,_){this.session.widgetManager||(this.session.widgetManager=new u(this.session),this.session.widgetManager.attach(this)),this.renderer.setGhostText(l,_)},w.prototype.removeGhostText=function(){this.session.widgetManager&&this.renderer.removeGhostText()},w.prototype.transposeLetters=function(){if(this.selection.isEmpty()){var l=this.getCursorPosition(),_=l.column;if(_!==0){var L=this.session.getLine(l.row),F,U;_<L.length?(F=L.charAt(_)+L.charAt(_-1),U=new a(l.row,_-1,l.row,_+1)):(F=L.charAt(_-1)+L.charAt(_-2),U=new a(l.row,_-2,l.row,_)),this.session.replace(U,F),this.session.selection.moveToPosition(U.end)}}},w.prototype.toLowerCase=function(){var l=this.getSelectionRange();this.selection.isEmpty()&&this.selection.selectWord();var _=this.getSelectionRange(),L=this.session.getTextRange(_);this.session.replace(_,L.toLowerCase()),this.selection.setSelectionRange(l)},w.prototype.toUpperCase=function(){var l=this.getSelectionRange();this.selection.isEmpty()&&this.selection.selectWord();var _=this.getSelectionRange(),L=this.session.getTextRange(_);this.session.replace(_,L.toUpperCase()),this.selection.setSelectionRange(l)},w.prototype.indent=function(){var l=this.session,_=this.getSelectionRange();if(_.start.row<_.end.row){var L=this.$getSelectedRows();l.indentRows(L.first,L.last,"	");return}else if(_.start.column<_.end.column){var F=l.getTextRange(_);if(!/^\s+$/.test(F)){var L=this.$getSelectedRows();l.indentRows(L.first,L.last,"	");return}}var U=l.getLine(_.start.row),H=_.start,X=l.getTabSize(),q=l.documentToScreenColumn(H.row,H.column);if(this.session.getUseSoftTabs())var Z=X-q%X,oe=s.stringRepeat(" ",Z);else{for(var Z=q%X;U[_.start.column-1]==" "&&Z;)_.start.column--,Z--;this.selection.setSelectionRange(_),oe="	"}return this.insert(oe)},w.prototype.blockIndent=function(){var l=this.$getSelectedRows();this.session.indentRows(l.first,l.last,"	")},w.prototype.blockOutdent=function(){var l=this.session.getSelection();this.session.outdentRows(l.getRange())},w.prototype.sortLines=function(){for(var l=this.$getSelectedRows(),_=this.session,L=[],F=l.first;F<=l.last;F++)L.push(_.getLine(F));L.sort(function(X,q){return X.toLowerCase()<q.toLowerCase()?-1:X.toLowerCase()>q.toLowerCase()?1:0});for(var U=new a(0,0,0,0),F=l.first;F<=l.last;F++){var H=_.getLine(F);U.start.row=F,U.end.row=F,U.end.column=H.length,_.replace(U,L[F-l.first])}},w.prototype.toggleCommentLines=function(){var l=this.session.getState(this.getCursorPosition().row),_=this.$getSelectedRows();this.session.getMode().toggleCommentLines(l,this.session,_.first,_.last)},w.prototype.toggleBlockComment=function(){var l=this.getCursorPosition(),_=this.session.getState(l.row),L=this.getSelectionRange();this.session.getMode().toggleBlockComment(_,this.session,L,l)},w.prototype.getNumberAt=function(l,_){var L=/[\-]?[0-9]+(?:\.[0-9]+)?/g;L.lastIndex=0;for(var F=this.session.getLine(l);L.lastIndex<_;){var U=L.exec(F);if(U.index<=_&&U.index+U[0].length>=_){var H={value:U[0],start:U.index,end:U.index+U[0].length};return H}}return null},w.prototype.modifyNumber=function(l){var _=this.selection.getCursor().row,L=this.selection.getCursor().column,F=new a(_,L-1,_,L),U=this.session.getTextRange(F);if(!isNaN(parseFloat(U))&&isFinite(U)){var H=this.getNumberAt(_,L);if(H){var X=H.value.indexOf(".")>=0?H.start+H.value.indexOf(".")+1:H.end,q=H.start+H.value.length-X,Z=parseFloat(H.value);Z*=Math.pow(10,q),X!==H.end&&L<X?l*=Math.pow(10,H.end-L-1):l*=Math.pow(10,H.end-L),Z+=l,Z/=Math.pow(10,q);var oe=Z.toFixed(q),ee=new a(_,H.start,_,H.end);this.session.replace(ee,oe),this.moveCursorTo(_,Math.max(H.start+1,L+oe.length-H.value.length))}}else this.toggleWord()},w.prototype.toggleWord=function(){var l=this.selection.getCursor().row,_=this.selection.getCursor().column;this.selection.selectWord();var L=this.getSelectedText(),F=this.selection.getWordRange().start.column,U=L.replace(/([a-z]+|[A-Z]+)(?=[A-Z_]|$)/g,"$1 ").split(/\s/),H=_-F-1;H<0&&(H=0);var X=0,q=0,Z=this;L.match(/[A-Za-z0-9_]+/)&&U.forEach(function(Pe,We){q=X+Pe.length,H>=X&&H<=q&&(L=Pe,Z.selection.clearSelection(),Z.moveCursorTo(l,X+F),Z.selection.selectTo(l,q+F)),X=q});for(var oe=this.$toggleWordPairs,ee,se=0;se<oe.length;se++)for(var fe=oe[se],Ee=0;Ee<=1;Ee++){var Se=+!Ee,Ce=L.match(new RegExp("^\\s?_?("+s.escapeRegExp(fe[Ee])+")\\s?$","i"));if(Ce){var De=L.match(new RegExp("([_]|^|\\s)("+s.escapeRegExp(Ce[1])+")($|\\s)","g"));De&&(ee=L.replace(new RegExp(s.escapeRegExp(fe[Ee]),"i"),function(Pe){var We=fe[Se];return Pe.toUpperCase()==Pe?We=We.toUpperCase():Pe.charAt(0).toUpperCase()==Pe.charAt(0)&&(We=We.substr(0,0)+fe[Se].charAt(0).toUpperCase()+We.substr(1)),We}),this.insert(ee),ee="")}}},w.prototype.findLinkAt=function(l,_){var L,F,U=this.session.getLine(l),H=U.split(/((?:https?|ftp):\/\/[\S]+)/),X=_;X<0&&(X=0);var q=0,Z=0,oe;try{for(var ee=M(H),se=ee.next();!se.done;se=ee.next()){var fe=se.value;if(Z=q+fe.length,X>=q&&X<=Z&&fe.match(/((?:https?|ftp):\/\/[\S]+)/)){oe=fe.replace(/[\s:.,'";}\]]+$/,"");break}q=Z}}catch(Ee){L={error:Ee}}finally{try{se&&!se.done&&(F=ee.return)&&F.call(ee)}finally{if(L)throw L.error}}return oe},w.prototype.openLink=function(){var l=this.selection.getCursor(),_=this.findLinkAt(l.row,l.column);return _&&window.open(_,"_blank"),_!=null},w.prototype.removeLines=function(){var l=this.$getSelectedRows();this.session.removeFullLines(l.first,l.last),this.clearSelection()},w.prototype.duplicateSelection=function(){var l=this.selection,_=this.session,L=l.getRange(),F=l.isBackwards();if(L.isEmpty()){var U=L.start.row;_.duplicateLines(U,U)}else{var H=F?L.start:L.end,X=_.insert(H,_.getTextRange(L));L.start=H,L.end=X,l.setSelectionRange(L,F)}},w.prototype.moveLinesDown=function(){this.$moveLines(1,!1)},w.prototype.moveLinesUp=function(){this.$moveLines(-1,!1)},w.prototype.moveText=function(l,_,L){return this.session.moveText(l,_,L)},w.prototype.copyLinesUp=function(){this.$moveLines(-1,!0)},w.prototype.copyLinesDown=function(){this.$moveLines(1,!0)},w.prototype.$moveLines=function(l,_){var L,F,U=this.selection;if(!U.inMultiSelectMode||this.inVirtualSelectionMode){var H=U.toOrientedRange();L=this.$getSelectedRows(H),F=this.session.$moveLines(L.first,L.last,_?0:l),_&&l==-1&&(F=0),H.moveBy(F,0),U.fromOrientedRange(H)}else{var X=U.rangeList.ranges;U.rangeList.detach(this.session),this.inVirtualSelectionMode=!0;for(var q=0,Z=0,oe=X.length,ee=0;ee<oe;ee++){var se=ee;X[ee].moveBy(q,0),L=this.$getSelectedRows(X[ee]);for(var fe=L.first,Ee=L.last;++ee<oe;){Z&&X[ee].moveBy(Z,0);var Se=this.$getSelectedRows(X[ee]);if(_&&Se.first!=Ee)break;if(!_&&Se.first>Ee+1)break;Ee=Se.last}for(ee--,q=this.session.$moveLines(fe,Ee,_?0:l),_&&l==-1&&(se=ee+1);se<=ee;)X[se].moveBy(q,0),se++;_||(q=0),Z+=q}U.fromOrientedRange(U.ranges[0]),U.rangeList.attach(this.session),this.inVirtualSelectionMode=!1}},w.prototype.$getSelectedRows=function(l){return l=(l||this.getSelectionRange()).collapseRows(),{first:this.session.getRowFoldStart(l.start.row),last:this.session.getRowFoldEnd(l.end.row)}},w.prototype.onCompositionStart=function(l){this.renderer.showComposition(l)},w.prototype.onCompositionUpdate=function(l){this.renderer.setCompositionText(l)},w.prototype.onCompositionEnd=function(){this.renderer.hideComposition()},w.prototype.getFirstVisibleRow=function(){return this.renderer.getFirstVisibleRow()},w.prototype.getLastVisibleRow=function(){return this.renderer.getLastVisibleRow()},w.prototype.isRowVisible=function(l){return l>=this.getFirstVisibleRow()&&l<=this.getLastVisibleRow()},w.prototype.isRowFullyVisible=function(l){return l>=this.renderer.getFirstFullyVisibleRow()&&l<=this.renderer.getLastFullyVisibleRow()},w.prototype.$getVisibleRowCount=function(){return this.renderer.getScrollBottomRow()-this.renderer.getScrollTopRow()+1},w.prototype.$moveByPage=function(l,_){var L=this.renderer,F=this.renderer.layerConfig,U=l*Math.floor(F.height/F.lineHeight);_===!0?this.selection.$moveSelection(function(){this.moveCursorBy(U,0)}):_===!1&&(this.selection.moveCursorBy(U,0),this.selection.clearSelection());var H=L.scrollTop;L.scrollBy(0,U*F.lineHeight),_!=null&&L.scrollCursorIntoView(null,.5),L.animateScrolling(H)},w.prototype.selectPageDown=function(){this.$moveByPage(1,!0)},w.prototype.selectPageUp=function(){this.$moveByPage(-1,!0)},w.prototype.gotoPageDown=function(){this.$moveByPage(1,!1)},w.prototype.gotoPageUp=function(){this.$moveByPage(-1,!1)},w.prototype.scrollPageDown=function(){this.$moveByPage(1)},w.prototype.scrollPageUp=function(){this.$moveByPage(-1)},w.prototype.scrollToRow=function(l){this.renderer.scrollToRow(l)},w.prototype.scrollToLine=function(l,_,L,F){this.renderer.scrollToLine(l,_,L,F)},w.prototype.centerSelection=function(){var l=this.getSelectionRange(),_={row:Math.floor(l.start.row+(l.end.row-l.start.row)/2),column:Math.floor(l.start.column+(l.end.column-l.start.column)/2)};this.renderer.alignCursor(_,.5)},w.prototype.getCursorPosition=function(){return this.selection.getCursor()},w.prototype.getCursorPositionScreen=function(){return this.session.documentToScreenPosition(this.getCursorPosition())},w.prototype.getSelectionRange=function(){return this.selection.getRange()},w.prototype.selectAll=function(){this.selection.selectAll()},w.prototype.clearSelection=function(){this.selection.clearSelection()},w.prototype.moveCursorTo=function(l,_){this.selection.moveCursorTo(l,_)},w.prototype.moveCursorToPosition=function(l){this.selection.moveCursorToPosition(l)},w.prototype.jumpToMatching=function(l,_){var L=this.getCursorPosition(),F=new p(this.session,L.row,L.column),U=F.getCurrentToken(),H=0;U&&U.type.indexOf("tag-name")!==-1&&(U=F.stepBackward());var X=U||F.stepForward();if(X){var q,Z=!1,oe={},ee=L.column-X.start,se,fe={")":"(","(":"(","]":"[","[":"[","{":"{","}":"{"};do{if(X.value.match(/[{}()\[\]]/g)){for(;ee<X.value.length&&!Z;ee++)if(fe[X.value[ee]])switch(se=fe[X.value[ee]]+"."+X.type.replace("rparen","lparen"),isNaN(oe[se])&&(oe[se]=0),X.value[ee]){case"(":case"[":case"{":oe[se]++;break;case")":case"]":case"}":oe[se]--,oe[se]===-1&&(q="bracket",Z=!0);break}}else X.type.indexOf("tag-name")!==-1&&(isNaN(oe[X.value])&&(oe[X.value]=0),U.value==="<"&&H>1?oe[X.value]++:U.value==="</"&&oe[X.value]--,oe[X.value]===-1&&(q="tag",Z=!0));Z||(U=X,H++,X=F.stepForward(),ee=0)}while(X&&!Z);if(q){var Ee,Se;if(q==="bracket")Ee=this.session.getBracketRange(L),Ee||(Ee=new a(F.getCurrentTokenRow(),F.getCurrentTokenColumn()+ee-1,F.getCurrentTokenRow(),F.getCurrentTokenColumn()+ee-1),Se=Ee.start,(_||Se.row===L.row&&Math.abs(Se.column-L.column)<2)&&(Ee=this.session.getBracketRange(Se)));else if(q==="tag"){if(!X||X.type.indexOf("tag-name")===-1)return;if(Ee=new a(F.getCurrentTokenRow(),F.getCurrentTokenColumn()-2,F.getCurrentTokenRow(),F.getCurrentTokenColumn()-2),Ee.compare(L.row,L.column)===0){var Ce=this.session.getMatchingTags(L);Ce&&(Ce.openTag.contains(L.row,L.column)?(Ee=Ce.closeTag,Se=Ee.start):(Ee=Ce.openTag,Ce.closeTag.start.row===L.row&&Ce.closeTag.start.column===L.column?Se=Ee.end:Se=Ee.start))}Se=Se||Ee.start}Se=Ee&&Ee.cursor||Se,Se&&(l?Ee&&_?this.selection.setRange(Ee):Ee&&Ee.isEqual(this.getSelectionRange())?this.clearSelection():this.selection.selectTo(Se.row,Se.column):this.selection.moveTo(Se.row,Se.column))}}},w.prototype.gotoLine=function(l,_,L){this.selection.clearSelection(),this.session.unfold({row:l-1,column:_||0}),this.exitMultiSelectMode&&this.exitMultiSelectMode(),this.moveCursorTo(l-1,_||0),this.isRowFullyVisible(l-1)||this.scrollToLine(l-1,!0,L)},w.prototype.navigateTo=function(l,_){this.selection.moveTo(l,_)},w.prototype.navigateUp=function(l){if(this.selection.isMultiLine()&&!this.selection.isBackwards()){var _=this.selection.anchor.getPosition();return this.moveCursorToPosition(_)}this.selection.clearSelection(),this.selection.moveCursorBy(-l||-1,0)},w.prototype.navigateDown=function(l){if(this.selection.isMultiLine()&&this.selection.isBackwards()){var _=this.selection.anchor.getPosition();return this.moveCursorToPosition(_)}this.selection.clearSelection(),this.selection.moveCursorBy(l||1,0)},w.prototype.navigateLeft=function(l){if(this.selection.isEmpty())for(l=l||1;l--;)this.selection.moveCursorLeft();else{var _=this.getSelectionRange().start;this.moveCursorToPosition(_)}this.clearSelection()},w.prototype.navigateRight=function(l){if(this.selection.isEmpty())for(l=l||1;l--;)this.selection.moveCursorRight();else{var _=this.getSelectionRange().end;this.moveCursorToPosition(_)}this.clearSelection()},w.prototype.navigateLineStart=function(){this.selection.moveCursorLineStart(),this.clearSelection()},w.prototype.navigateLineEnd=function(){this.selection.moveCursorLineEnd(),this.clearSelection()},w.prototype.navigateFileEnd=function(){this.selection.moveCursorFileEnd(),this.clearSelection()},w.prototype.navigateFileStart=function(){this.selection.moveCursorFileStart(),this.clearSelection()},w.prototype.navigateWordRight=function(){this.selection.moveCursorWordRight(),this.clearSelection()},w.prototype.navigateWordLeft=function(){this.selection.moveCursorWordLeft(),this.clearSelection()},w.prototype.replace=function(l,_){_&&this.$search.set(_);var L=this.$search.find(this.session),F=0;return L&&(this.$tryReplace(L,l)&&(F=1),this.selection.setSelectionRange(L),this.renderer.scrollSelectionIntoView(L.start,L.end)),F},w.prototype.replaceAll=function(l,_){_&&this.$search.set(_);var L=this.$search.findAll(this.session),F=0;if(!L.length)return F;var U=this.getSelectionRange();this.selection.moveTo(0,0);for(var H=L.length-1;H>=0;--H)this.$tryReplace(L[H],l)&&F++;return this.selection.setSelectionRange(U),F},w.prototype.$tryReplace=function(l,_){var L=this.session.getTextRange(l);return _=this.$search.replace(L,_),_!==null?(l.end=this.session.replace(l,_),l):null},w.prototype.getLastSearchOptions=function(){return this.$search.getOptions()},w.prototype.find=function(l,_,L){_||(_={}),typeof l=="string"||l instanceof RegExp?_.needle=l:typeof l=="object"&&$.mixin(_,l);var F=this.selection.getRange();_.needle==null&&(l=this.session.getTextRange(F)||this.$search.$options.needle,l||(F=this.session.getWordRange(F.start.row,F.start.column),l=this.session.getTextRange(F)),this.$search.set({needle:l})),this.$search.set(_),_.start||this.$search.set({start:F});var U=this.$search.find(this.session);if(_.preventScroll)return U;if(U)return this.revealRange(U,L),U;_.backwards?F.start=F.end:F.end=F.start,this.selection.setRange(F)},w.prototype.findNext=function(l,_){this.find({skipCurrent:!0,backwards:!1},l,_)},w.prototype.findPrevious=function(l,_){this.find(l,{skipCurrent:!0,backwards:!0},_)},w.prototype.revealRange=function(l,_){this.session.unfold(l),this.selection.setSelectionRange(l);var L=this.renderer.scrollTop;this.renderer.scrollSelectionIntoView(l.start,l.end,.5),_!==!1&&this.renderer.animateScrolling(L)},w.prototype.undo=function(){this.session.getUndoManager().undo(this.session),this.renderer.scrollCursorIntoView(null,.5)},w.prototype.redo=function(){this.session.getUndoManager().redo(this.session),this.renderer.scrollCursorIntoView(null,.5)},w.prototype.destroy=function(){this.$toDestroy&&(this.$toDestroy.forEach(function(l){l.destroy()}),this.$toDestroy=null),this.$mouseHandler&&this.$mouseHandler.destroy(),this.renderer.destroy(),this._signal("destroy",this),this.session&&this.session.destroy(),this._$emitInputEvent&&this._$emitInputEvent.cancel(),this.removeAllListeners()},w.prototype.setAutoScrollEditorIntoView=function(l){if(l){var _,L=this,F=!1;this.$scrollAnchor||(this.$scrollAnchor=document.createElement("div"));var U=this.$scrollAnchor;U.style.cssText="position:absolute",this.container.insertBefore(U,this.container.firstChild);var H=this.on("changeSelection",function(){F=!0}),X=this.renderer.on("beforeRender",function(){F&&(_=L.renderer.container.getBoundingClientRect())}),q=this.renderer.on("afterRender",function(){if(F&&_&&(L.isFocused()||L.searchBox&&L.searchBox.isFocused())){var Z=L.renderer,oe=Z.$cursorLayer.$pixelPos,ee=Z.layerConfig,se=oe.top-ee.offset;oe.top>=0&&se+_.top<0?F=!0:oe.top<ee.height&&oe.top+_.top+ee.lineHeight>window.innerHeight?F=!1:F=null,F!=null&&(U.style.top=se+"px",U.style.left=oe.left+"px",U.style.height=ee.lineHeight+"px",U.scrollIntoView(F)),F=_=null}});this.setAutoScrollEditorIntoView=function(Z){Z||(delete this.setAutoScrollEditorIntoView,this.off("changeSelection",H),this.renderer.off("afterRender",q),this.renderer.off("beforeRender",X))}}},w.prototype.$resetCursorStyle=function(){var l=this.$cursorStyle||"ace",_=this.renderer.$cursorLayer;_&&(_.setSmoothBlinking(/smooth/.test(l)),_.isBlinking=!this.$readOnly&&l!="wide",y.setCssClass(_.element,"ace_slim-cursors",/slim/.test(l)))},w.prototype.prompt=function(l,_,L){var F=this;v.loadModule("ace/ext/prompt",function(U){U.prompt(F,l,_,L)})},w}();R.$uid=0,R.prototype.curOp=null,R.prototype.prevOp={},R.prototype.$mergeableCommands=["backspace","del","insertstring"],R.prototype.$toggleWordPairs=[["first","last"],["true","false"],["yes","no"],["width","height"],["top","bottom"],["right","left"],["on","off"],["x","y"],["get","set"],["max","min"],["horizontal","vertical"],["show","hide"],["add","remove"],["up","down"],["before","after"],["even","odd"],["in","out"],["inside","outside"],["next","previous"],["increase","decrease"],["attach","detach"],["&&","||"],["==","!="]],$.implement(R.prototype,c),v.defineOptions(R.prototype,"editor",{selectionStyle:{set:function(w){this.onSelectionChange(),this._signal("changeSelectionStyle",{data:w})},initialValue:"line"},highlightActiveLine:{set:function(){this.$updateHighlightActiveLine()},initialValue:!0},highlightSelectedWord:{set:function(w){this.$onSelectionChange()},initialValue:!0},readOnly:{set:function(w){this.textInput.setReadOnly(w),this.$resetCursorStyle()},initialValue:!1},copyWithEmptySelection:{set:function(w){this.textInput.setCopyWithEmptySelection(w)},initialValue:!1},cursorStyle:{set:function(w){this.$resetCursorStyle()},values:["ace","slim","smooth","wide"],initialValue:"ace"},mergeUndoDeltas:{values:[!1,!0,"always"],initialValue:!0},behavioursEnabled:{initialValue:!0},wrapBehavioursEnabled:{initialValue:!0},enableAutoIndent:{initialValue:!0},autoScrollEditorIntoView:{set:function(w){this.setAutoScrollEditorIntoView(w)}},keyboardHandler:{set:function(w){this.setKeyboardHandler(w)},get:function(){return this.$keybindingId},handlesSet:!0},value:{set:function(w){this.session.setValue(w)},get:function(){return this.getValue()},handlesSet:!0,hidden:!0},session:{set:function(w){this.setSession(w)},get:function(){return this.session},handlesSet:!0,hidden:!0},showLineNumbers:{set:function(w){this.renderer.$gutterLayer.setShowLineNumbers(w),this.renderer.$loop.schedule(this.renderer.CHANGE_GUTTER),w&&this.$relativeLineNumbers?g.attach(this):g.detach(this)},initialValue:!0},relativeLineNumbers:{set:function(w){this.$showLineNumbers&&w?g.attach(this):g.detach(this)}},placeholder:{set:function(w){this.$updatePlaceholder||(this.$updatePlaceholder=(function(){var l=this.session&&(this.renderer.$composition||this.session.getLength()>1||this.session.getLine(0).length>0);if(l&&this.renderer.placeholderNode)this.renderer.off("afterRender",this.$updatePlaceholder),y.removeCssClass(this.container,"ace_hasPlaceholder"),this.renderer.placeholderNode.remove(),this.renderer.placeholderNode=null;else if(!l&&!this.renderer.placeholderNode){this.renderer.on("afterRender",this.$updatePlaceholder),y.addCssClass(this.container,"ace_hasPlaceholder");var _=y.createElement("div");_.className="ace_placeholder",_.textContent=this.$placeholder||"",this.renderer.placeholderNode=_,this.renderer.content.appendChild(this.renderer.placeholderNode)}else!l&&this.renderer.placeholderNode&&(this.renderer.placeholderNode.textContent=this.$placeholder||"")}).bind(this),this.on("input",this.$updatePlaceholder)),this.$updatePlaceholder()}},enableKeyboardAccessibility:{set:function(w){var l={name:"blurTextInput",description:"Set focus to the editor content div to allow tabbing through the page",bindKey:"Esc",exec:function(F){F.blur(),F.renderer.scroller.focus()},readOnly:!0},_=function(F){if(F.target==this.renderer.scroller&&F.keyCode===C.enter){F.preventDefault();var U=this.getCursorPosition().row;this.isRowVisible(U)||this.scrollToLine(U,!0,!0),this.focus()}},L;w?(this.renderer.enableKeyboardAccessibility=!0,this.renderer.keyboardFocusClassName="ace_keyboard-focus",this.textInput.getElement().setAttribute("tabindex",-1),this.textInput.setNumberOfExtraLines(h.isWin?3:0),this.renderer.scroller.setAttribute("tabindex",0),this.renderer.scroller.setAttribute("role","group"),this.renderer.scroller.setAttribute("aria-roledescription",A("editor.scroller.aria-roledescription","editor")),this.renderer.scroller.classList.add(this.renderer.keyboardFocusClassName),this.renderer.scroller.setAttribute("aria-label",A("editor.scroller.aria-label","Editor content, press Enter to start editing, press Escape to exit")),this.renderer.scroller.addEventListener("keyup",_.bind(this)),this.commands.addCommand(l),this.renderer.$gutter.setAttribute("tabindex",0),this.renderer.$gutter.setAttribute("aria-hidden",!1),this.renderer.$gutter.setAttribute("role","group"),this.renderer.$gutter.setAttribute("aria-roledescription",A("editor.gutter.aria-roledescription","editor")),this.renderer.$gutter.setAttribute("aria-label",A("editor.gutter.aria-label","Editor gutter, press Enter to interact with controls using arrow keys, press Escape to exit")),this.renderer.$gutter.classList.add(this.renderer.keyboardFocusClassName),this.renderer.content.setAttribute("aria-hidden",!0),L||(L=new m(this)),L.addListener(),this.textInput.setAriaOptions({setLabel:!0})):(this.renderer.enableKeyboardAccessibility=!1,this.textInput.getElement().setAttribute("tabindex",0),this.textInput.setNumberOfExtraLines(0),this.renderer.scroller.setAttribute("tabindex",-1),this.renderer.scroller.removeAttribute("role"),this.renderer.scroller.removeAttribute("aria-roledescription"),this.renderer.scroller.classList.remove(this.renderer.keyboardFocusClassName),this.renderer.scroller.removeAttribute("aria-label"),this.renderer.scroller.removeEventListener("keyup",_.bind(this)),this.commands.removeCommand(l),this.renderer.content.removeAttribute("aria-hidden"),this.renderer.$gutter.setAttribute("tabindex",-1),this.renderer.$gutter.setAttribute("aria-hidden",!0),this.renderer.$gutter.removeAttribute("role"),this.renderer.$gutter.removeAttribute("aria-roledescription"),this.renderer.$gutter.removeAttribute("aria-label"),this.renderer.$gutter.classList.remove(this.renderer.keyboardFocusClassName),L&&L.removeListener())},initialValue:!1},textInputAriaLabel:{set:function(w){this.$textInputAriaLabel=w},initialValue:""},enableMobileMenu:{set:function(w){this.$enableMobileMenu=w},initialValue:!0},customScrollbar:"renderer",hScrollBarAlwaysVisible:"renderer",vScrollBarAlwaysVisible:"renderer",highlightGutterLine:"renderer",animatedScroll:"renderer",showInvisibles:"renderer",showPrintMargin:"renderer",printMarginColumn:"renderer",printMargin:"renderer",fadeFoldWidgets:"renderer",showFoldWidgets:"renderer",displayIndentGuides:"renderer",highlightIndentGuides:"renderer",showGutter:"renderer",fontSize:"renderer",fontFamily:"renderer",maxLines:"renderer",minLines:"renderer",scrollPastEnd:"renderer",fixedWidthGutter:"renderer",theme:"renderer",hasCssTransforms:"renderer",maxPixelHeight:"renderer",useTextareaForIME:"renderer",useResizeObserver:"renderer",useSvgGutterIcons:"renderer",showFoldedAnnotations:"renderer",scrollSpeed:"$mouseHandler",dragDelay:"$mouseHandler",dragEnabled:"$mouseHandler",focusTimeout:"$mouseHandler",tooltipFollowsMouse:"$mouseHandler",firstLineNumber:"session",overwrite:"session",newLineMode:"session",useWorker:"session",useSoftTabs:"session",navigateWithinSoftTabs:"session",tabSize:"session",wrap:"session",indentedSoftWrap:"session",foldStyle:"session",mode:"session"});var g={getText:function(w,l){return(Math.abs(w.selection.lead.row-l)||l+1+(l<9?"·":""))+""},getWidth:function(w,l,_){return Math.max(l.toString().length,(_.lastRow+1).toString().length,2)*_.characterWidth},update:function(w,l){l.renderer.$loop.schedule(l.renderer.CHANGE_GUTTER)},attach:function(w){w.renderer.$gutterLayer.$renderer=this,w.on("changeSelection",this.update),this.update(null,w)},detach:function(w){w.renderer.$gutterLayer.$renderer==this&&(w.renderer.$gutterLayer.$renderer=null),w.off("changeSelection",this.update),this.update(null,w)}};x.Editor=R}),ace.define("ace/layer/lines",["require","exports","module","ace/lib/dom"],function(f,x,W){var M=f("../lib/dom"),$=function(){function y(s,h){this.element=s,this.canvasHeight=h||5e5,this.element.style.height=this.canvasHeight*2+"px",this.cells=[],this.cellCache=[],this.$offsetCoefficient=0}return y.prototype.moveContainer=function(s){M.translate(this.element,0,-(s.firstRowScreen*s.lineHeight%this.canvasHeight)-s.offset*this.$offsetCoefficient)},y.prototype.pageChanged=function(s,h){return Math.floor(s.firstRowScreen*s.lineHeight/this.canvasHeight)!==Math.floor(h.firstRowScreen*h.lineHeight/this.canvasHeight)},y.prototype.computeLineTop=function(s,h,o){var r=h.firstRowScreen*h.lineHeight,i=Math.floor(r/this.canvasHeight),t=o.documentToScreenRow(s,0)*h.lineHeight;return t-i*this.canvasHeight},y.prototype.computeLineHeight=function(s,h,o){return h.lineHeight*o.getRowLineCount(s)},y.prototype.getLength=function(){return this.cells.length},y.prototype.get=function(s){return this.cells[s]},y.prototype.shift=function(){this.$cacheCell(this.cells.shift())},y.prototype.pop=function(){this.$cacheCell(this.cells.pop())},y.prototype.push=function(s){if(Array.isArray(s)){this.cells.push.apply(this.cells,s);for(var h=M.createFragment(this.element),o=0;o<s.length;o++)h.appendChild(s[o].element);this.element.appendChild(h)}else this.cells.push(s),this.element.appendChild(s.element)},y.prototype.unshift=function(s){if(Array.isArray(s)){this.cells.unshift.apply(this.cells,s);for(var h=M.createFragment(this.element),o=0;o<s.length;o++)h.appendChild(s[o].element);this.element.firstChild?this.element.insertBefore(h,this.element.firstChild):this.element.appendChild(h)}else this.cells.unshift(s),this.element.insertAdjacentElement("afterbegin",s.element)},y.prototype.last=function(){return this.cells.length?this.cells[this.cells.length-1]:null},y.prototype.$cacheCell=function(s){s&&(s.element.remove(),this.cellCache.push(s))},y.prototype.createCell=function(s,h,o,r){var i=this.cellCache.pop();if(!i){var t=M.createElement("div");r&&r(t),this.element.appendChild(t),i={element:t,text:"",row:s}}return i.row=s,i},y}();x.Lines=$}),ace.define("ace/layer/gutter",["require","exports","module","ace/lib/dom","ace/lib/oop","ace/lib/lang","ace/lib/event_emitter","ace/layer/lines","ace/config"],function(f,x,W){var M=f("../lib/dom"),$=f("../lib/oop"),y=f("../lib/lang"),s=f("../lib/event_emitter").EventEmitter,h=f("./lines").Lines,o=f("../config").nls,r=function(){function t(e){this.element=M.createElement("div"),this.element.className="ace_layer ace_gutter-layer",e.appendChild(this.element),this.setShowFoldWidgets(this.$showFoldWidgets),this.gutterWidth=0,this.$annotations=[],this.$updateAnnotations=this.$updateAnnotations.bind(this),this.$lines=new h(this.element),this.$lines.$offsetCoefficient=1}return t.prototype.setSession=function(e){this.session&&this.session.off("change",this.$updateAnnotations),this.session=e,e&&e.on("change",this.$updateAnnotations)},t.prototype.addGutterDecoration=function(e,n){window.console&&console.warn&&console.warn("deprecated use session.addGutterDecoration"),this.session.addGutterDecoration(e,n)},t.prototype.removeGutterDecoration=function(e,n){window.console&&console.warn&&console.warn("deprecated use session.removeGutterDecoration"),this.session.removeGutterDecoration(e,n)},t.prototype.setAnnotations=function(e){this.$annotations=[];for(var n=0;n<e.length;n++){var a=e[n],c=a.row,d=this.$annotations[c];d||(d=this.$annotations[c]={text:[],type:[],displayText:[]});var k=a.text,v=a.text,p=a.type;k=k?y.escapeHTML(k):a.html||"",v=v||a.html||"",d.text.indexOf(k)===-1&&(d.text.push(k),d.type.push(p),d.displayText.push(v));var u=a.className;u?d.className=u:p==="error"?d.className=" ace_error":p==="security"&&!/\bace_error\b/.test(d.className)?d.className=" ace_security":p==="warning"&&!/\bace_(error|security)\b/.test(d.className)?d.className=" ace_warning":p==="info"&&!d.className?d.className=" ace_info":p==="hint"&&!d.className&&(d.className=" ace_hint")}},t.prototype.$updateAnnotations=function(e){if(this.$annotations.length){var n=e.start.row,a=e.end.row-n;if(a!==0)if(e.action=="remove")this.$annotations.splice(n,a+1,null);else{var c=new Array(a+1);c.unshift(n,1),this.$annotations.splice.apply(this.$annotations,c)}}},t.prototype.update=function(e){this.config=e;var n=this.session,a=e.firstRow,c=Math.min(e.lastRow+e.gutterOffset,n.getLength()-1);this.oldLastRow=c,this.config=e,this.$lines.moveContainer(e),this.$updateCursorRow();for(var d=n.getNextFoldLine(a),k=d?d.start.row:1/0,v=null,p=-1,u=a;;){if(u>k&&(u=d.end.row+1,d=n.getNextFoldLine(u,d),k=d?d.start.row:1/0),u>c){for(;this.$lines.getLength()>p+1;)this.$lines.pop();break}v=this.$lines.get(++p),v?v.row=u:(v=this.$lines.createCell(u,e,this.session,i),this.$lines.push(v)),this.$renderCell(v,e,d,u),u++}this._signal("afterRender"),this.$updateGutterWidth(e)},t.prototype.$updateGutterWidth=function(e){var n=this.session,a=n.gutterRenderer||this.$renderer,c=n.$firstLineNumber,d=this.$lines.last()?this.$lines.last().text:"";(this.$fixedWidth||n.$useWrapMode)&&(d=n.getLength()+c-1);var k=a?a.getWidth(n,d,e):d.toString().length*e.characterWidth,v=this.$padding||this.$computePadding();k+=v.left+v.right,k!==this.gutterWidth&&!isNaN(k)&&(this.gutterWidth=k,this.element.parentNode.style.width=this.element.style.width=Math.ceil(this.gutterWidth)+"px",this._signal("changeGutterWidth",k))},t.prototype.$updateCursorRow=function(){if(this.$highlightGutterLine){var e=this.session.selection.getCursor();this.$cursorRow!==e.row&&(this.$cursorRow=e.row)}},t.prototype.updateLineHighlight=function(){if(this.$highlightGutterLine){var e=this.session.selection.cursor.row;if(this.$cursorRow=e,!(this.$cursorCell&&this.$cursorCell.row==e)){this.$cursorCell&&(this.$cursorCell.element.className=this.$cursorCell.element.className.replace("ace_gutter-active-line ",""));var n=this.$lines.cells;this.$cursorCell=null;for(var a=0;a<n.length;a++){var c=n[a];if(c.row>=this.$cursorRow){if(c.row>this.$cursorRow){var d=this.session.getFoldLine(this.$cursorRow);if(a>0&&d&&d.start.row==n[a-1].row)c=n[a-1];else break}c.element.className="ace_gutter-active-line "+c.element.className,this.$cursorCell=c;break}}}}},t.prototype.scrollLines=function(e){var n=this.config;if(this.config=e,this.$updateCursorRow(),this.$lines.pageChanged(n,e))return this.update(e);this.$lines.moveContainer(e);var a=Math.min(e.lastRow+e.gutterOffset,this.session.getLength()-1),c=this.oldLastRow;if(this.oldLastRow=a,!n||c<e.firstRow)return this.update(e);if(a<n.firstRow)return this.update(e);if(n.firstRow<e.firstRow)for(var d=this.session.getFoldedRowCount(n.firstRow,e.firstRow-1);d>0;d--)this.$lines.shift();if(c>a)for(var d=this.session.getFoldedRowCount(a+1,c);d>0;d--)this.$lines.pop();e.firstRow<n.firstRow&&this.$lines.unshift(this.$renderLines(e,e.firstRow,n.firstRow-1)),a>c&&this.$lines.push(this.$renderLines(e,c+1,a)),this.updateLineHighlight(),this._signal("afterRender"),this.$updateGutterWidth(e)},t.prototype.$renderLines=function(e,n,a){for(var c=[],d=n,k=this.session.getNextFoldLine(d),v=k?k.start.row:1/0;d>v&&(d=k.end.row+1,k=this.session.getNextFoldLine(d,k),v=k?k.start.row:1/0),!(d>a);){var p=this.$lines.createCell(d,e,this.session,i);this.$renderCell(p,e,k,d),c.push(p),d++}return c},t.prototype.$renderCell=function(e,n,a,c){var d=e.element,k=this.session,v=d.childNodes[0],p=d.childNodes[1],u=d.childNodes[2],m=u.firstChild,A=k.$firstLineNumber,S=k.$breakpoints,C=k.$decorations,R=k.gutterRenderer||this.$renderer,g=this.$showFoldWidgets&&k.foldWidgets,w=a?a.start.row:Number.MAX_VALUE,l=n.lineHeight+"px",_=this.$useSvgGutterIcons?"ace_gutter-cell_svg-icons ":"ace_gutter-cell ",L=this.$useSvgGutterIcons?"ace_icon_svg":"ace_icon",F=(R?R.getText(k,c):c+A).toString();if(this.$highlightGutterLine&&(c==this.$cursorRow||a&&c<this.$cursorRow&&c>=w&&this.$cursorRow<=a.end.row)&&(_+="ace_gutter-active-line ",this.$cursorCell!=e&&(this.$cursorCell&&(this.$cursorCell.element.className=this.$cursorCell.element.className.replace("ace_gutter-active-line ","")),this.$cursorCell=e)),S[c]&&(_+=S[c]),C[c]&&(_+=C[c]),this.$annotations[c]&&c!==w&&(_+=this.$annotations[c].className),g){var U=g[c];U==null&&(U=g[c]=k.getFoldWidget(c))}if(U){var H="ace_fold-widget ace_"+U,X=U=="start"&&c==w&&c<a.end.row;if(X){H+=" ace_closed";for(var q="",Z=!1,oe=c+1;oe<=a.end.row;oe++)if(this.$annotations[oe]){if(this.$annotations[oe].className===" ace_error"){Z=!0,q=" ace_error_fold";break}this.$annotations[oe].className===" ace_security"?(Z=!0,q=" ace_security_fold"):this.$annotations[oe].className===" ace_warning"&&q!==" ace_security_fold"&&(Z=!0,q=" ace_warning_fold")}_+=q}else H+=" ace_open";p.className!=H&&(p.className=H),M.setStyle(p.style,"height",l),M.setStyle(p.style,"display","inline-block"),p.setAttribute("role","button"),p.setAttribute("tabindex","-1");var ee=k.getFoldWidgetRange(c);ee?p.setAttribute("aria-label",o("gutter.code-folding.range.aria-label","Toggle code folding, rows $0 through $1",[ee.start.row+1,ee.end.row+1])):a?p.setAttribute("aria-label",o("gutter.code-folding.closed.aria-label","Toggle code folding, rows $0 through $1",[a.start.row+1,a.end.row+1])):p.setAttribute("aria-label",o("gutter.code-folding.open.aria-label","Toggle code folding, row $0",[c+1])),X?(p.setAttribute("aria-expanded","false"),p.setAttribute("title",o("gutter.code-folding.closed.title","Unfold code"))):(p.setAttribute("aria-expanded","true"),p.setAttribute("title",o("gutter.code-folding.open.title","Fold code")))}else p&&(M.setStyle(p.style,"display","none"),p.setAttribute("tabindex","0"),p.removeAttribute("role"),p.removeAttribute("aria-label"));if(Z&&this.$showFoldedAnnotations){u.className="ace_gutter_annotation",m.className=L,m.className+=q,M.setStyle(m.style,"height",l),M.setStyle(u.style,"display","block"),M.setStyle(u.style,"height",l);var se;switch(q){case" ace_error_fold":se=o("gutter.annotation.aria-label.error","Error, read annotations row $0",[F]);break;case" ace_security_fold":se=o("gutter.annotation.aria-label.security","Security finding, read annotations row $0",[F]);break;case" ace_warning_fold":se=o("gutter.annotation.aria-label.warning","Warning, read annotations row $0",[F]);break}u.setAttribute("aria-label",se),u.setAttribute("tabindex","-1"),u.setAttribute("role","button")}else if(this.$annotations[c]){u.className="ace_gutter_annotation",m.className=L,this.$useSvgGutterIcons?m.className+=this.$annotations[c].className:d.classList.add(this.$annotations[c].className.replace(" ","")),M.setStyle(m.style,"height",l),M.setStyle(u.style,"display","block"),M.setStyle(u.style,"height",l);var se;switch(this.$annotations[c].className){case" ace_error":se=o("gutter.annotation.aria-label.error","Error, read annotations row $0",[F]);break;case" ace_security":se=o("gutter.annotation.aria-label.security","Security finding, read annotations row $0",[F]);break;case" ace_warning":se=o("gutter.annotation.aria-label.warning","Warning, read annotations row $0",[F]);break;case" ace_info":se=o("gutter.annotation.aria-label.info","Info, read annotations row $0",[F]);break;case" ace_hint":se=o("gutter.annotation.aria-label.hint","Suggestion, read annotations row $0",[F]);break}u.setAttribute("aria-label",se),u.setAttribute("tabindex","-1"),u.setAttribute("role","button")}else M.setStyle(u.style,"display","none"),u.removeAttribute("aria-label"),u.removeAttribute("role"),u.setAttribute("tabindex","0");return F!==v.data&&(v.data=F),d.className!=_&&(d.className=_),M.setStyle(e.element.style,"height",this.$lines.computeLineHeight(c,n,k)+"px"),M.setStyle(e.element.style,"top",this.$lines.computeLineTop(c,n,k)+"px"),e.text=F,u.style.display==="none"&&p.style.display==="none"?e.element.setAttribute("aria-hidden",!0):e.element.setAttribute("aria-hidden",!1),e},t.prototype.setHighlightGutterLine=function(e){this.$highlightGutterLine=e},t.prototype.setShowLineNumbers=function(e){this.$renderer=!e&&{getWidth:function(){return 0},getText:function(){return""}}},t.prototype.getShowLineNumbers=function(){return this.$showLineNumbers},t.prototype.setShowFoldWidgets=function(e){e?M.addCssClass(this.element,"ace_folding-enabled"):M.removeCssClass(this.element,"ace_folding-enabled"),this.$showFoldWidgets=e,this.$padding=null},t.prototype.getShowFoldWidgets=function(){return this.$showFoldWidgets},t.prototype.$computePadding=function(){if(!this.element.firstChild)return{left:0,right:0};var e=M.computedStyle(this.element.firstChild);return this.$padding={},this.$padding.left=(parseInt(e.borderLeftWidth)||0)+(parseInt(e.paddingLeft)||0)+1,this.$padding.right=(parseInt(e.borderRightWidth)||0)+(parseInt(e.paddingRight)||0),this.$padding},t.prototype.getRegion=function(e){var n=this.$padding||this.$computePadding(),a=this.element.getBoundingClientRect();if(e.x<n.left+a.left)return"markers";if(this.$showFoldWidgets&&e.x>a.right-n.right)return"foldWidgets"},t}();r.prototype.$fixedWidth=!1,r.prototype.$highlightGutterLine=!0,r.prototype.$renderer="",r.prototype.$showLineNumbers=!0,r.prototype.$showFoldWidgets=!0,$.implement(r.prototype,s);function i(t){var e=document.createTextNode("");t.appendChild(e);var n=M.createElement("span");t.appendChild(n);var a=M.createElement("span");t.appendChild(a);var c=M.createElement("span");return a.appendChild(c),t}x.Gutter=r}),ace.define("ace/layer/marker",["require","exports","module","ace/range","ace/lib/dom"],function(f,x,W){var M=f("../range").Range,$=f("../lib/dom"),y=function(){function h(o){this.element=$.createElement("div"),this.element.className="ace_layer ace_marker-layer",o.appendChild(this.element)}return h.prototype.setPadding=function(o){this.$padding=o},h.prototype.setSession=function(o){this.session=o},h.prototype.setMarkers=function(o){this.markers=o},h.prototype.elt=function(o,r){var i=this.i!=-1&&this.element.childNodes[this.i];i?this.i++:(i=document.createElement("div"),this.element.appendChild(i),this.i=-1),i.style.cssText=r,i.className=o},h.prototype.update=function(o){if(o){this.config=o,this.i=0;var r;for(var i in this.markers){var t=this.markers[i];if(!t.range){t.update(r,this,this.session,o);continue}var e=t.range.clipRows(o.firstRow,o.lastRow);if(!e.isEmpty())if(e=e.toScreenRange(this.session),t.renderer){var n=this.$getTop(e.start.row,o),a=this.$padding+e.start.column*o.characterWidth;t.renderer(r,e,a,n,o)}else t.type=="fullLine"?this.drawFullLineMarker(r,e,t.clazz,o):t.type=="screenLine"?this.drawScreenLineMarker(r,e,t.clazz,o):e.isMultiLine()?t.type=="text"?this.drawTextMarker(r,e,t.clazz,o):this.drawMultiLineMarker(r,e,t.clazz,o):this.drawSingleLineMarker(r,e,t.clazz+" ace_start ace_br15",o)}if(this.i!=-1)for(;this.i<this.element.childElementCount;)this.element.removeChild(this.element.lastChild)}},h.prototype.$getTop=function(o,r){return(o-r.firstRowScreen)*r.lineHeight},h.prototype.drawTextMarker=function(o,r,i,t,e){for(var n=this.session,a=r.start.row,c=r.end.row,d=a,k=0,v=0,p=n.getScreenLastRowColumn(d),u=new M(d,r.start.column,d,v);d<=c;d++)u.start.row=u.end.row=d,u.start.column=d==a?r.start.column:n.getRowWrapIndent(d),u.end.column=p,k=v,v=p,p=d+1<c?n.getScreenLastRowColumn(d+1):d==c?0:r.end.column,this.drawSingleLineMarker(o,u,i+(d==a?" ace_start":"")+" ace_br"+s(d==a||d==a+1&&r.start.column,k<v,v>p,d==c),t,d==c?0:1,e)},h.prototype.drawMultiLineMarker=function(o,r,i,t,e){var n=this.$padding,a=t.lineHeight,c=this.$getTop(r.start.row,t),d=n+r.start.column*t.characterWidth;if(e=e||"",this.session.$bidiHandler.isBidiRow(r.start.row)){var k=r.clone();k.end.row=k.start.row,k.end.column=this.session.getLine(k.start.row).length,this.drawBidiSingleLineMarker(o,k,i+" ace_br1 ace_start",t,null,e)}else this.elt(i+" ace_br1 ace_start","height:"+a+"px;right:"+n+"px;top:"+c+"px;left:"+d+"px;"+(e||""));if(this.session.$bidiHandler.isBidiRow(r.end.row)){var k=r.clone();k.start.row=k.end.row,k.start.column=0,this.drawBidiSingleLineMarker(o,k,i+" ace_br12",t,null,e)}else{c=this.$getTop(r.end.row,t);var v=r.end.column*t.characterWidth;this.elt(i+" ace_br12","height:"+a+"px;width:"+v+"px;top:"+c+"px;left:"+n+"px;"+(e||""))}if(a=(r.end.row-r.start.row-1)*t.lineHeight,!(a<=0)){c=this.$getTop(r.start.row+1,t);var p=(r.start.column?1:0)|(r.end.column?0:8);this.elt(i+(p?" ace_br"+p:""),"height:"+a+"px;right:"+n+"px;top:"+c+"px;left:"+n+"px;"+(e||""))}},h.prototype.drawSingleLineMarker=function(o,r,i,t,e,n){if(this.session.$bidiHandler.isBidiRow(r.start.row))return this.drawBidiSingleLineMarker(o,r,i,t,e,n);var a=t.lineHeight,c=(r.end.column+(e||0)-r.start.column)*t.characterWidth,d=this.$getTop(r.start.row,t),k=this.$padding+r.start.column*t.characterWidth;this.elt(i,"height:"+a+"px;width:"+c+"px;top:"+d+"px;left:"+k+"px;"+(n||""))},h.prototype.drawBidiSingleLineMarker=function(o,r,i,t,e,n){var a=t.lineHeight,c=this.$getTop(r.start.row,t),d=this.$padding,k=this.session.$bidiHandler.getSelections(r.start.column,r.end.column);k.forEach(function(v){this.elt(i,"height:"+a+"px;width:"+(v.width+(e||0))+"px;top:"+c+"px;left:"+(d+v.left)+"px;"+(n||""))},this)},h.prototype.drawFullLineMarker=function(o,r,i,t,e){var n=this.$getTop(r.start.row,t),a=t.lineHeight;r.start.row!=r.end.row&&(a+=this.$getTop(r.end.row,t)-n),this.elt(i,"height:"+a+"px;top:"+n+"px;left:0;right:0;"+(e||""))},h.prototype.drawScreenLineMarker=function(o,r,i,t,e){var n=this.$getTop(r.start.row,t),a=t.lineHeight;this.elt(i,"height:"+a+"px;top:"+n+"px;left:0;right:0;"+(e||""))},h}();y.prototype.$padding=0;function s(h,o,r,i){return(h?1:0)|(o?2:0)|(r?4:0)|(i?8:0)}x.Marker=y}),ace.define("ace/layer/text_util",["require","exports","module"],function(f,x,W){var M=new Set(["text","rparen","lparen"]);x.isTextToken=function($){return M.has($)}}),ace.define("ace/layer/text",["require","exports","module","ace/lib/oop","ace/lib/dom","ace/lib/lang","ace/layer/lines","ace/lib/event_emitter","ace/config","ace/layer/text_util"],function(f,x,W){var M=f("../lib/oop"),$=f("../lib/dom"),y=f("../lib/lang"),s=f("./lines").Lines,h=f("../lib/event_emitter").EventEmitter,o=f("../config").nls,r=f("./text_util").isTextToken,i=function(){function t(e){this.dom=$,this.element=this.dom.createElement("div"),this.element.className="ace_layer ace_text-layer",e.appendChild(this.element),this.$updateEolChar=this.$updateEolChar.bind(this),this.$lines=new s(this.element)}return t.prototype.$updateEolChar=function(){var e=this.session.doc,n=e.getNewLineCharacter()==`
`&&e.getNewLineMode()!="windows",a=n?this.EOL_CHAR_LF:this.EOL_CHAR_CRLF;if(this.EOL_CHAR!=a)return this.EOL_CHAR=a,!0},t.prototype.setPadding=function(e){this.$padding=e,this.element.style.margin="0 "+e+"px"},t.prototype.getLineHeight=function(){return this.$fontMetrics.$characterSize.height||0},t.prototype.getCharacterWidth=function(){return this.$fontMetrics.$characterSize.width||0},t.prototype.$setFontMetrics=function(e){this.$fontMetrics=e,this.$fontMetrics.on("changeCharacterSize",(function(n){this._signal("changeCharacterSize",n)}).bind(this)),this.$pollSizeChanges()},t.prototype.checkForSizeChanges=function(){this.$fontMetrics.checkForSizeChanges()},t.prototype.$pollSizeChanges=function(){return this.$pollSizeChangesTimer=this.$fontMetrics.$pollSizeChanges()},t.prototype.setSession=function(e){this.session=e,e&&this.$computeTabString()},t.prototype.setShowInvisibles=function(e){return this.showInvisibles==e?!1:(this.showInvisibles=e,typeof e=="string"?(this.showSpaces=/tab/i.test(e),this.showTabs=/space/i.test(e),this.showEOL=/eol/i.test(e)):this.showSpaces=this.showTabs=this.showEOL=e,this.$computeTabString(),!0)},t.prototype.setDisplayIndentGuides=function(e){return this.displayIndentGuides==e?!1:(this.displayIndentGuides=e,this.$computeTabString(),!0)},t.prototype.setHighlightIndentGuides=function(e){return this.$highlightIndentGuides===e?!1:(this.$highlightIndentGuides=e,e)},t.prototype.$computeTabString=function(){var e=this.session.getTabSize();this.tabSize=e;for(var n=this.$tabStrings=[0],a=1;a<e+1;a++)if(this.showTabs){var c=this.dom.createElement("span");c.className="ace_invisible ace_invisible_tab",c.textContent=y.stringRepeat(this.TAB_CHAR,a),n.push(c)}else n.push(this.dom.createTextNode(y.stringRepeat(" ",a),this.element));if(this.displayIndentGuides){this.$indentGuideRe=/\s\S| \t|\t |\s$/;var d="ace_indent-guide",k=this.showSpaces?" ace_invisible ace_invisible_space":"",v=this.showSpaces?y.stringRepeat(this.SPACE_CHAR,this.tabSize):y.stringRepeat(" ",this.tabSize),p=this.showTabs?" ace_invisible ace_invisible_tab":"",u=this.showTabs?y.stringRepeat(this.TAB_CHAR,this.tabSize):v,c=this.dom.createElement("span");c.className=d+k,c.textContent=v,this.$tabStrings[" "]=c;var c=this.dom.createElement("span");c.className=d+p,c.textContent=u,this.$tabStrings["	"]=c}},t.prototype.updateLines=function(e,n,a){if(this.config.lastRow!=e.lastRow||this.config.firstRow!=e.firstRow)return this.update(e);this.config=e;for(var c=Math.max(n,e.firstRow),d=Math.min(a,e.lastRow),k=this.element.childNodes,v=0,u=e.firstRow;u<c;u++){var m=this.session.getFoldLine(u);if(m)if(m.containsRow(c)){c=m.start.row;break}else u=m.end.row;v++}for(var p=!1,u=c,m=this.session.getNextFoldLine(u),A=m?m.start.row:1/0;u>A&&(u=m.end.row+1,m=this.session.getNextFoldLine(u,m),A=m?m.start.row:1/0),!(u>d);){var S=k[v++];if(S){this.dom.removeChildren(S),this.$renderLine(S,u,u==A?m:!1),p&&(S.style.top=this.$lines.computeLineTop(u,e,this.session)+"px");var C=e.lineHeight*this.session.getRowLength(u)+"px";S.style.height!=C&&(p=!0,S.style.height=C)}u++}if(p)for(;v<this.$lines.cells.length;){var R=this.$lines.cells[v++];R.element.style.top=this.$lines.computeLineTop(R.row,e,this.session)+"px"}},t.prototype.scrollLines=function(e){var n=this.config;if(this.config=e,this.$lines.pageChanged(n,e))return this.update(e);this.$lines.moveContainer(e);var a=e.lastRow,c=n?n.lastRow:-1;if(!n||c<e.firstRow)return this.update(e);if(a<n.firstRow)return this.update(e);if(!n||n.lastRow<e.firstRow)return this.update(e);if(e.lastRow<n.firstRow)return this.update(e);if(n.firstRow<e.firstRow)for(var d=this.session.getFoldedRowCount(n.firstRow,e.firstRow-1);d>0;d--)this.$lines.shift();if(n.lastRow>e.lastRow)for(var d=this.session.getFoldedRowCount(e.lastRow+1,n.lastRow);d>0;d--)this.$lines.pop();e.firstRow<n.firstRow&&this.$lines.unshift(this.$renderLinesFragment(e,e.firstRow,n.firstRow-1)),e.lastRow>n.lastRow&&this.$lines.push(this.$renderLinesFragment(e,n.lastRow+1,e.lastRow)),this.$highlightIndentGuide()},t.prototype.$renderLinesFragment=function(e,n,a){for(var c=[],d=n,k=this.session.getNextFoldLine(d),v=k?k.start.row:1/0;d>v&&(d=k.end.row+1,k=this.session.getNextFoldLine(d,k),v=k?k.start.row:1/0),!(d>a);){var p=this.$lines.createCell(d,e,this.session),u=p.element;this.dom.removeChildren(u),$.setStyle(u.style,"height",this.$lines.computeLineHeight(d,e,this.session)+"px"),$.setStyle(u.style,"top",this.$lines.computeLineTop(d,e,this.session)+"px"),this.$renderLine(u,d,d==v?k:!1),this.$useLineGroups()?u.className="ace_line_group":u.className="ace_line",c.push(p),d++}return c},t.prototype.update=function(e){this.$lines.moveContainer(e),this.config=e;for(var n=e.firstRow,a=e.lastRow,c=this.$lines;c.getLength();)c.pop();c.push(this.$renderLinesFragment(e,n,a))},t.prototype.$renderToken=function(e,n,a,c){for(var d=this,k=/(\t)|( +)|([\x00-\x1f\x80-\xa0\xad\u1680\u180E\u2000-\u200f\u2028\u2029\u202F\u205F\uFEFF\uFFF9-\uFFFC\u2066\u2067\u2068\u202A\u202B\u202D\u202E\u202C\u2069]+)|(\u3000)|([\u1100-\u115F\u11A3-\u11A7\u11FA-\u11FF\u2329-\u232A\u2E80-\u2E99\u2E9B-\u2EF3\u2F00-\u2FD5\u2FF0-\u2FFB\u3001-\u303E\u3041-\u3096\u3099-\u30FF\u3105-\u312D\u3131-\u318E\u3190-\u31BA\u31C0-\u31E3\u31F0-\u321E\u3220-\u3247\u3250-\u32FE\u3300-\u4DBF\u4E00-\uA48C\uA490-\uA4C6\uA960-\uA97C\uAC00-\uD7A3\uD7B0-\uD7C6\uD7CB-\uD7FB\uF900-\uFAFF\uFE10-\uFE19\uFE30-\uFE52\uFE54-\uFE66\uFE68-\uFE6B\uFF01-\uFF60\uFFE0-\uFFE6]|[\uD800-\uDBFF][\uDC00-\uDFFF])/g,v=this.dom.createFragment(this.element),p,u=0;p=k.exec(c);){var m=p[1],A=p[2],S=p[3],C=p[4],R=p[5];if(!(!d.showSpaces&&A)){var g=u!=p.index?c.slice(u,p.index):"";if(u=p.index+p[0].length,g&&v.appendChild(this.dom.createTextNode(g,this.element)),m){var w=d.session.getScreenTabSize(n+p.index);v.appendChild(d.$tabStrings[w].cloneNode(!0)),n+=w-1}else if(A)if(d.showSpaces){var l=this.dom.createElement("span");l.className="ace_invisible ace_invisible_space",l.textContent=y.stringRepeat(d.SPACE_CHAR,A.length),v.appendChild(l)}else v.appendChild(this.dom.createTextNode(A,this.element));else if(S){var l=this.dom.createElement("span");l.className="ace_invisible ace_invisible_space ace_invalid",l.textContent=y.stringRepeat(d.SPACE_CHAR,S.length),v.appendChild(l)}else if(C){n+=1;var l=this.dom.createElement("span");l.style.width=d.config.characterWidth*2+"px",l.className=d.showSpaces?"ace_cjk ace_invisible ace_invisible_space":"ace_cjk",l.textContent=d.showSpaces?d.SPACE_CHAR:C,v.appendChild(l)}else if(R){n+=1;var l=this.dom.createElement("span");l.style.width=d.config.characterWidth*2+"px",l.className="ace_cjk",l.textContent=R,v.appendChild(l)}}}if(v.appendChild(this.dom.createTextNode(u?c.slice(u):c,this.element)),r(a.type))e.appendChild(v);else{var _="ace_"+a.type.replace(/\./g," ace_"),l=this.dom.createElement("span");a.type=="fold"&&(l.style.width=a.value.length*this.config.characterWidth+"px",l.setAttribute("title",o("inline-fold.closed.title","Unfold code"))),l.className=_,l.appendChild(v),e.appendChild(l)}return n+c.length},t.prototype.renderIndentGuide=function(e,n,a){var c=n.search(this.$indentGuideRe);if(c<=0||c>=a)return n;if(n[0]==" "){c-=c%this.tabSize;for(var d=c/this.tabSize,k=0;k<d;k++)e.appendChild(this.$tabStrings[" "].cloneNode(!0));return this.$highlightIndentGuide(),n.substr(c)}else if(n[0]=="	"){for(var k=0;k<c;k++)e.appendChild(this.$tabStrings["	"].cloneNode(!0));return this.$highlightIndentGuide(),n.substr(c)}return this.$highlightIndentGuide(),n},t.prototype.$highlightIndentGuide=function(){if(!(!this.$highlightIndentGuides||!this.displayIndentGuides)){this.$highlightIndentGuideMarker={indentLevel:void 0,start:void 0,end:void 0,dir:void 0};var e=this.session.doc.$lines;if(e){var n=this.session.selection.getCursor(),a=/^\s*/.exec(this.session.doc.getLine(n.row))[0].length,c=Math.floor(a/this.tabSize);this.$highlightIndentGuideMarker={indentLevel:c,start:n.row};var d=this.session.$bracketHighlight;if(d){for(var k=this.session.$bracketHighlight.ranges,v=0;v<k.length;v++)if(n.row!==k[v].start.row){this.$highlightIndentGuideMarker.end=k[v].start.row,n.row>k[v].start.row?this.$highlightIndentGuideMarker.dir=-1:this.$highlightIndentGuideMarker.dir=1;break}}if(!this.$highlightIndentGuideMarker.end&&e[n.row]!==""&&n.column===e[n.row].length){this.$highlightIndentGuideMarker.dir=1;for(var v=n.row+1;v<e.length;v++){var p=e[v],u=/^\s*/.exec(p)[0].length;if(p!==""&&(this.$highlightIndentGuideMarker.end=v,u<=a))break}}this.$renderHighlightIndentGuide()}}},t.prototype.$clearActiveIndentGuide=function(){for(var e=this.$lines.cells,n=0;n<e.length;n++){var a=e[n],c=a.element.childNodes;if(c.length>0){for(var d=0;d<c.length;d++)if(c[d].classList&&c[d].classList.contains("ace_indent-guide-active")){c[d].classList.remove("ace_indent-guide-active");break}}}},t.prototype.$setIndentGuideActive=function(e,n){var a=this.session.doc.getLine(e.row);if(a!==""){var c=e.element.childNodes;if(c){var d=c[n-1];d&&d.classList&&d.classList.contains("ace_indent-guide")&&d.classList.add("ace_indent-guide-active")}}},t.prototype.$renderHighlightIndentGuide=function(){if(this.$lines){var e=this.$lines.cells;this.$clearActiveIndentGuide();var n=this.$highlightIndentGuideMarker.indentLevel;if(n!==0)if(this.$highlightIndentGuideMarker.dir===1)for(var a=0;a<e.length;a++){var c=e[a];if(this.$highlightIndentGuideMarker.end&&c.row>=this.$highlightIndentGuideMarker.start+1){if(c.row>=this.$highlightIndentGuideMarker.end)break;this.$setIndentGuideActive(c,n)}}else for(var a=e.length-1;a>=0;a--){var c=e[a];if(this.$highlightIndentGuideMarker.end&&c.row<this.$highlightIndentGuideMarker.start){if(c.row<=this.$highlightIndentGuideMarker.end)break;this.$setIndentGuideActive(c,n)}}}},t.prototype.$createLineElement=function(e){var n=this.dom.createElement("div");return n.className="ace_line",n.style.height=this.config.lineHeight+"px",n},t.prototype.$renderWrappedLine=function(e,n,a){var c=0,d=0,k=a[0],v=0,p=this.$createLineElement();e.appendChild(p);for(var u=0;u<n.length;u++){var m=n[u],A=m.value;if(u==0&&this.displayIndentGuides){if(c=A.length,A=this.renderIndentGuide(p,A,k),!A)continue;c-=A.length}if(c+A.length<k)v=this.$renderToken(p,v,m,A),c+=A.length;else{for(;c+A.length>=k;)v=this.$renderToken(p,v,m,A.substring(0,k-c)),A=A.substring(k-c),c=k,p=this.$createLineElement(),e.appendChild(p),p.appendChild(this.dom.createTextNode(y.stringRepeat(" ",a.indent),this.element)),d++,v=0,k=a[d]||Number.MAX_VALUE;A.length!=0&&(c+=A.length,v=this.$renderToken(p,v,m,A))}}a[a.length-1]>this.MAX_LINE_LENGTH&&this.$renderOverflowMessage(p,v,null,"",!0)},t.prototype.$renderSimpleLine=function(e,n){for(var a=0,c=0;c<n.length;c++){var d=n[c],k=d.value;if(!(c==0&&this.displayIndentGuides&&(k=this.renderIndentGuide(e,k),!k))){if(a+k.length>this.MAX_LINE_LENGTH)return this.$renderOverflowMessage(e,a,d,k);a=this.$renderToken(e,a,d,k)}}},t.prototype.$renderOverflowMessage=function(e,n,a,c,d){a&&this.$renderToken(e,n,a,c.slice(0,this.MAX_LINE_LENGTH-n));var k=this.dom.createElement("span");k.className="ace_inline_button ace_keyword ace_toggle_wrap",k.textContent=d?"<hide>":"<click to see more...>",e.appendChild(k)},t.prototype.$renderLine=function(e,n,a){if(!a&&a!=!1&&(a=this.session.getFoldLine(n)),a)var c=this.$getFoldLineTokens(n,a);else var c=this.session.getTokens(n);var d=e;if(c.length){var k=this.session.getRowSplitData(n);if(k&&k.length){this.$renderWrappedLine(e,c,k);var d=e.lastChild}else{var d=e;this.$useLineGroups()&&(d=this.$createLineElement(),e.appendChild(d)),this.$renderSimpleLine(d,c)}}else this.$useLineGroups()&&(d=this.$createLineElement(),e.appendChild(d));if(this.showEOL&&d){a&&(n=a.end.row);var v=this.dom.createElement("span");v.className="ace_invisible ace_invisible_eol",v.textContent=n==this.session.getLength()-1?this.EOF_CHAR:this.EOL_CHAR,d.appendChild(v)}},t.prototype.$getFoldLineTokens=function(e,n){var a=this.session,c=[];function d(v,p,u){for(var m=0,A=0;A+v[m].value.length<p;)if(A+=v[m].value.length,m++,m==v.length)return;if(A!=p){var S=v[m].value.substring(p-A);S.length>u-p&&(S=S.substring(0,u-p)),c.push({type:v[m].type,value:S}),A=p+S.length,m+=1}for(;A<u&&m<v.length;){var S=v[m].value;S.length+A>u?c.push({type:v[m].type,value:S.substring(0,u-A)}):c.push(v[m]),A+=S.length,m+=1}}var k=a.getTokens(e);return n.walk(function(v,p,u,m,A){v!=null?c.push({type:"fold",value:v}):(A&&(k=a.getTokens(p)),k.length&&d(k,m,u))},n.end.row,this.session.getLine(n.end.row).length),c},t.prototype.$useLineGroups=function(){return this.session.getUseWrapMode()},t}();i.prototype.EOF_CHAR="¶",i.prototype.EOL_CHAR_LF="¬",i.prototype.EOL_CHAR_CRLF="¤",i.prototype.EOL_CHAR=i.prototype.EOL_CHAR_LF,i.prototype.TAB_CHAR="—",i.prototype.SPACE_CHAR="·",i.prototype.$padding=0,i.prototype.MAX_LINE_LENGTH=1e4,i.prototype.showInvisibles=!1,i.prototype.showSpaces=!1,i.prototype.showTabs=!1,i.prototype.showEOL=!1,i.prototype.displayIndentGuides=!0,i.prototype.$highlightIndentGuides=!0,i.prototype.$tabStrings=[],i.prototype.destroy={},i.prototype.onChangeTabSize=i.prototype.$computeTabString,M.implement(i.prototype,h),x.Text=i}),ace.define("ace/layer/cursor",["require","exports","module","ace/lib/dom"],function(f,x,W){var M=f("../lib/dom"),$=function(){function y(s){this.element=M.createElement("div"),this.element.className="ace_layer ace_cursor-layer",s.appendChild(this.element),this.isVisible=!1,this.isBlinking=!0,this.blinkInterval=1e3,this.smoothBlinking=!1,this.cursors=[],this.cursor=this.addCursor(),M.addCssClass(this.element,"ace_hidden-cursors"),this.$updateCursors=this.$updateOpacity.bind(this)}return y.prototype.$updateOpacity=function(s){for(var h=this.cursors,o=h.length;o--;)M.setStyle(h[o].style,"opacity",s?"":"0")},y.prototype.$startCssAnimation=function(){for(var s=this.cursors,h=s.length;h--;)s[h].style.animationDuration=this.blinkInterval+"ms";this.$isAnimating=!0,setTimeout((function(){this.$isAnimating&&M.addCssClass(this.element,"ace_animate-blinking")}).bind(this))},y.prototype.$stopCssAnimation=function(){this.$isAnimating=!1,M.removeCssClass(this.element,"ace_animate-blinking")},y.prototype.setPadding=function(s){this.$padding=s},y.prototype.setSession=function(s){this.session=s},y.prototype.setBlinking=function(s){s!=this.isBlinking&&(this.isBlinking=s,this.restartTimer())},y.prototype.setBlinkInterval=function(s){s!=this.blinkInterval&&(this.blinkInterval=s,this.restartTimer())},y.prototype.setSmoothBlinking=function(s){s!=this.smoothBlinking&&(this.smoothBlinking=s,M.setCssClass(this.element,"ace_smooth-blinking",s),this.$updateCursors(!0),this.restartTimer())},y.prototype.addCursor=function(){var s=M.createElement("div");return s.className="ace_cursor",this.element.appendChild(s),this.cursors.push(s),s},y.prototype.removeCursor=function(){if(this.cursors.length>1){var s=this.cursors.pop();return s.parentNode.removeChild(s),s}},y.prototype.hideCursor=function(){this.isVisible=!1,M.addCssClass(this.element,"ace_hidden-cursors"),this.restartTimer()},y.prototype.showCursor=function(){this.isVisible=!0,M.removeCssClass(this.element,"ace_hidden-cursors"),this.restartTimer()},y.prototype.restartTimer=function(){var s=this.$updateCursors;if(clearInterval(this.intervalId),clearTimeout(this.timeoutId),this.$stopCssAnimation(),this.smoothBlinking&&(this.$isSmoothBlinking=!1,M.removeCssClass(this.element,"ace_smooth-blinking")),s(!0),!this.isBlinking||!this.blinkInterval||!this.isVisible){this.$stopCssAnimation();return}if(this.smoothBlinking&&(this.$isSmoothBlinking=!0,setTimeout((function(){this.$isSmoothBlinking&&M.addCssClass(this.element,"ace_smooth-blinking")}).bind(this))),M.HAS_CSS_ANIMATION)this.$startCssAnimation();else{var h=(function(){this.timeoutId=setTimeout(function(){s(!1)},.6*this.blinkInterval)}).bind(this);this.intervalId=setInterval(function(){s(!0),h()},this.blinkInterval),h()}},y.prototype.getPixelPosition=function(s,h){if(!this.config||!this.session)return{left:0,top:0};s||(s=this.session.selection.getCursor());var o=this.session.documentToScreenPosition(s),r=this.$padding+(this.session.$bidiHandler.isBidiRow(o.row,s.row)?this.session.$bidiHandler.getPosLeft(o.column):o.column*this.config.characterWidth),i=(o.row-(h?this.config.firstRowScreen:0))*this.config.lineHeight;return{left:r,top:i}},y.prototype.isCursorInView=function(s,h){return s.top>=0&&s.top<h.maxHeight},y.prototype.update=function(s){this.config=s;var h=this.session.$selectionMarkers,o=0,r=0;(h===void 0||h.length===0)&&(h=[{cursor:null}]);for(var o=0,i=h.length;o<i;o++){var t=this.getPixelPosition(h[o].cursor,!0);if(!((t.top>s.height+s.offset||t.top<0)&&o>1)){var e=this.cursors[r++]||this.addCursor(),n=e.style;this.drawCursor?this.drawCursor(e,t,s,h[o],this.session):this.isCursorInView(t,s)?(M.setStyle(n,"display","block"),M.translate(e,t.left,t.top),M.setStyle(n,"width",Math.round(s.characterWidth)+"px"),M.setStyle(n,"height",s.lineHeight+"px")):M.setStyle(n,"display","none")}}for(;this.cursors.length>r;)this.removeCursor();var a=this.session.getOverwrite();this.$setOverwrite(a),this.$pixelPos=t,this.restartTimer()},y.prototype.$setOverwrite=function(s){s!=this.overwrite&&(this.overwrite=s,s?M.addCssClass(this.element,"ace_overwrite-cursors"):M.removeCssClass(this.element,"ace_overwrite-cursors"))},y.prototype.destroy=function(){clearInterval(this.intervalId),clearTimeout(this.timeoutId)},y}();$.prototype.$padding=0,$.prototype.drawCursor=null,x.Cursor=$}),ace.define("ace/scrollbar",["require","exports","module","ace/lib/oop","ace/lib/dom","ace/lib/event","ace/lib/event_emitter"],function(f,x,W){var M=this&&this.__extends||function(){var e=function(n,a){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(c,d){c.__proto__=d}||function(c,d){for(var k in d)Object.prototype.hasOwnProperty.call(d,k)&&(c[k]=d[k])},e(n,a)};return function(n,a){if(typeof a!="function"&&a!==null)throw new TypeError("Class extends value "+String(a)+" is not a constructor or null");e(n,a);function c(){this.constructor=n}n.prototype=a===null?Object.create(a):(c.prototype=a.prototype,new c)}}(),$=f("./lib/oop"),y=f("./lib/dom"),s=f("./lib/event"),h=f("./lib/event_emitter").EventEmitter,o=32768,r=function(){function e(n,a){this.element=y.createElement("div"),this.element.className="ace_scrollbar ace_scrollbar"+a,this.inner=y.createElement("div"),this.inner.className="ace_scrollbar-inner",this.inner.textContent=" ",this.element.appendChild(this.inner),n.appendChild(this.element),this.setVisible(!1),this.skipEvent=!1,s.addListener(this.element,"scroll",this.onScroll.bind(this)),s.addListener(this.element,"mousedown",s.preventDefault)}return e.prototype.setVisible=function(n){this.element.style.display=n?"":"none",this.isVisible=n,this.coeff=1},e}();$.implement(r.prototype,h);var i=function(e){M(n,e);function n(a,c){var d=e.call(this,a,"-v")||this;return d.scrollTop=0,d.scrollHeight=0,c.$scrollbarWidth=d.width=y.scrollbarWidth(a.ownerDocument),d.inner.style.width=d.element.style.width=(d.width||15)+5+"px",d.$minWidth=0,d}return n.prototype.onScroll=function(){if(!this.skipEvent){if(this.scrollTop=this.element.scrollTop,this.coeff!=1){var a=this.element.clientHeight/this.scrollHeight;this.scrollTop=this.scrollTop*(1-a)/(this.coeff-a)}this._emit("scroll",{data:this.scrollTop})}this.skipEvent=!1},n.prototype.getWidth=function(){return Math.max(this.isVisible?this.width:0,this.$minWidth||0)},n.prototype.setHeight=function(a){this.element.style.height=a+"px"},n.prototype.setScrollHeight=function(a){this.scrollHeight=a,a>o?(this.coeff=o/a,a=o):this.coeff!=1&&(this.coeff=1),this.inner.style.height=a+"px"},n.prototype.setScrollTop=function(a){this.scrollTop!=a&&(this.skipEvent=!0,this.scrollTop=a,this.element.scrollTop=a*this.coeff)},n}(r);i.prototype.setInnerHeight=i.prototype.setScrollHeight;var t=function(e){M(n,e);function n(a,c){var d=e.call(this,a,"-h")||this;return d.scrollLeft=0,d.height=c.$scrollbarWidth,d.inner.style.height=d.element.style.height=(d.height||15)+5+"px",d}return n.prototype.onScroll=function(){this.skipEvent||(this.scrollLeft=this.element.scrollLeft,this._emit("scroll",{data:this.scrollLeft})),this.skipEvent=!1},n.prototype.getHeight=function(){return this.isVisible?this.height:0},n.prototype.setWidth=function(a){this.element.style.width=a+"px"},n.prototype.setInnerWidth=function(a){this.inner.style.width=a+"px"},n.prototype.setScrollWidth=function(a){this.inner.style.width=a+"px"},n.prototype.setScrollLeft=function(a){this.scrollLeft!=a&&(this.skipEvent=!0,this.scrollLeft=this.element.scrollLeft=a)},n}(r);x.ScrollBar=i,x.ScrollBarV=i,x.ScrollBarH=t,x.VScrollBar=i,x.HScrollBar=t}),ace.define("ace/scrollbar_custom",["require","exports","module","ace/lib/oop","ace/lib/dom","ace/lib/event","ace/lib/event_emitter"],function(f,x,W){var M=this&&this.__extends||function(){var t=function(e,n){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(a,c){a.__proto__=c}||function(a,c){for(var d in c)Object.prototype.hasOwnProperty.call(c,d)&&(a[d]=c[d])},t(e,n)};return function(e,n){if(typeof n!="function"&&n!==null)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");t(e,n);function a(){this.constructor=e}e.prototype=n===null?Object.create(n):(a.prototype=n.prototype,new a)}}(),$=f("./lib/oop"),y=f("./lib/dom"),s=f("./lib/event"),h=f("./lib/event_emitter").EventEmitter;y.importCssString(`.ace_editor>.ace_sb-v div, .ace_editor>.ace_sb-h div{
  position: absolute;
  background: rgba(128, 128, 128, 0.6);
  -moz-box-sizing: border-box;
  box-sizing: border-box;
  border: 1px solid #bbb;
  border-radius: 2px;
  z-index: 8;
}
.ace_editor>.ace_sb-v, .ace_editor>.ace_sb-h {
  position: absolute;
  z-index: 6;
  background: none;
  overflow: hidden!important;
}
.ace_editor>.ace_sb-v {
  z-index: 6;
  right: 0;
  top: 0;
  width: 12px;
}
.ace_editor>.ace_sb-v div {
  z-index: 8;
  right: 0;
  width: 100%;
}
.ace_editor>.ace_sb-h {
  bottom: 0;
  left: 0;
  height: 12px;
}
.ace_editor>.ace_sb-h div {
  bottom: 0;
  height: 100%;
}
.ace_editor>.ace_sb_grabbed {
  z-index: 8;
  background: #000;
}`,"ace_scrollbar.css",!1);var o=function(){function t(e,n){this.element=y.createElement("div"),this.element.className="ace_sb"+n,this.inner=y.createElement("div"),this.inner.className="",this.element.appendChild(this.inner),this.VScrollWidth=12,this.HScrollHeight=12,e.appendChild(this.element),this.setVisible(!1),this.skipEvent=!1,s.addMultiMouseDownListener(this.element,[500,300,300],this,"onMouseDown")}return t.prototype.setVisible=function(e){this.element.style.display=e?"":"none",this.isVisible=e,this.coeff=1},t}();$.implement(o.prototype,h);var r=function(t){M(e,t);function e(n,a){var c=t.call(this,n,"-v")||this;return c.scrollTop=0,c.scrollHeight=0,c.parent=n,c.width=c.VScrollWidth,c.renderer=a,c.inner.style.width=c.element.style.width=(c.width||15)+"px",c.$minWidth=0,c}return e.prototype.onMouseDown=function(n,a){if(n==="mousedown"&&!(s.getButton(a)!==0||a.detail===2)){if(a.target===this.inner){var c=this,d=a.clientY,k=function(C){d=C.clientY},v=function(){clearInterval(A)},p=a.clientY,u=this.thumbTop,m=function(){if(d!==void 0){var C=c.scrollTopFromThumbTop(u+d-p);C!==c.scrollTop&&c._emit("scroll",{data:C})}};s.capture(this.inner,k,v);var A=setInterval(m,20);return s.preventDefault(a)}var S=a.clientY-this.element.getBoundingClientRect().top-this.thumbHeight/2;return this._emit("scroll",{data:this.scrollTopFromThumbTop(S)}),s.preventDefault(a)}},e.prototype.getHeight=function(){return this.height},e.prototype.scrollTopFromThumbTop=function(n){var a=n*(this.pageHeight-this.viewHeight)/(this.slideHeight-this.thumbHeight);return a=a>>0,a<0?a=0:a>this.pageHeight-this.viewHeight&&(a=this.pageHeight-this.viewHeight),a},e.prototype.getWidth=function(){return Math.max(this.isVisible?this.width:0,this.$minWidth||0)},e.prototype.setHeight=function(n){this.height=Math.max(0,n),this.slideHeight=this.height,this.viewHeight=this.height,this.setScrollHeight(this.pageHeight,!0)},e.prototype.setScrollHeight=function(n,a){this.pageHeight===n&&!a||(this.pageHeight=n,this.thumbHeight=this.slideHeight*this.viewHeight/this.pageHeight,this.thumbHeight>this.slideHeight&&(this.thumbHeight=this.slideHeight),this.thumbHeight<15&&(this.thumbHeight=15),this.inner.style.height=this.thumbHeight+"px",this.scrollTop>this.pageHeight-this.viewHeight&&(this.scrollTop=this.pageHeight-this.viewHeight,this.scrollTop<0&&(this.scrollTop=0),this._emit("scroll",{data:this.scrollTop})))},e.prototype.setScrollTop=function(n){this.scrollTop=n,n<0&&(n=0),this.thumbTop=n*(this.slideHeight-this.thumbHeight)/(this.pageHeight-this.viewHeight),this.inner.style.top=this.thumbTop+"px"},e}(o);r.prototype.setInnerHeight=r.prototype.setScrollHeight;var i=function(t){M(e,t);function e(n,a){var c=t.call(this,n,"-h")||this;return c.scrollLeft=0,c.scrollWidth=0,c.height=c.HScrollHeight,c.inner.style.height=c.element.style.height=(c.height||12)+"px",c.renderer=a,c}return e.prototype.onMouseDown=function(n,a){if(n==="mousedown"&&!(s.getButton(a)!==0||a.detail===2)){if(a.target===this.inner){var c=this,d=a.clientX,k=function(C){d=C.clientX},v=function(){clearInterval(A)},p=a.clientX,u=this.thumbLeft,m=function(){if(d!==void 0){var C=c.scrollLeftFromThumbLeft(u+d-p);C!==c.scrollLeft&&c._emit("scroll",{data:C})}};s.capture(this.inner,k,v);var A=setInterval(m,20);return s.preventDefault(a)}var S=a.clientX-this.element.getBoundingClientRect().left-this.thumbWidth/2;return this._emit("scroll",{data:this.scrollLeftFromThumbLeft(S)}),s.preventDefault(a)}},e.prototype.getHeight=function(){return this.isVisible?this.height:0},e.prototype.scrollLeftFromThumbLeft=function(n){var a=n*(this.pageWidth-this.viewWidth)/(this.slideWidth-this.thumbWidth);return a=a>>0,a<0?a=0:a>this.pageWidth-this.viewWidth&&(a=this.pageWidth-this.viewWidth),a},e.prototype.setWidth=function(n){this.width=Math.max(0,n),this.element.style.width=this.width+"px",this.slideWidth=this.width,this.viewWidth=this.width,this.setScrollWidth(this.pageWidth,!0)},e.prototype.setScrollWidth=function(n,a){this.pageWidth===n&&!a||(this.pageWidth=n,this.thumbWidth=this.slideWidth*this.viewWidth/this.pageWidth,this.thumbWidth>this.slideWidth&&(this.thumbWidth=this.slideWidth),this.thumbWidth<15&&(this.thumbWidth=15),this.inner.style.width=this.thumbWidth+"px",this.scrollLeft>this.pageWidth-this.viewWidth&&(this.scrollLeft=this.pageWidth-this.viewWidth,this.scrollLeft<0&&(this.scrollLeft=0),this._emit("scroll",{data:this.scrollLeft})))},e.prototype.setScrollLeft=function(n){this.scrollLeft=n,n<0&&(n=0),this.thumbLeft=n*(this.slideWidth-this.thumbWidth)/(this.pageWidth-this.viewWidth),this.inner.style.left=this.thumbLeft+"px"},e}(o);i.prototype.setInnerWidth=i.prototype.setScrollWidth,x.ScrollBar=r,x.ScrollBarV=r,x.ScrollBarH=i,x.VScrollBar=r,x.HScrollBar=i}),ace.define("ace/renderloop",["require","exports","module","ace/lib/event"],function(f,x,W){var M=f("./lib/event"),$=function(){function y(s,h){this.onRender=s,this.pending=!1,this.changes=0,this.$recursionLimit=2,this.window=h||window;var o=this;this._flush=function(r){o.pending=!1;var i=o.changes;if(i&&(M.blockIdle(100),o.changes=0,o.onRender(i)),o.changes){if(o.$recursionLimit--<0)return;o.schedule()}else o.$recursionLimit=2}}return y.prototype.schedule=function(s){this.changes=this.changes|s,this.changes&&!this.pending&&(M.nextFrame(this._flush),this.pending=!0)},y.prototype.clear=function(s){var h=this.changes;return this.changes=0,h},y}();x.RenderLoop=$}),ace.define("ace/layer/font_metrics",["require","exports","module","ace/lib/oop","ace/lib/dom","ace/lib/lang","ace/lib/event","ace/lib/useragent","ace/lib/event_emitter"],function(f,x,W){var M=f("../lib/oop"),$=f("../lib/dom"),y=f("../lib/lang"),s=f("../lib/event"),h=f("../lib/useragent"),o=f("../lib/event_emitter").EventEmitter,r=512,i=typeof ResizeObserver=="function",t=200,e=function(){function n(a){this.el=$.createElement("div"),this.$setMeasureNodeStyles(this.el.style,!0),this.$main=$.createElement("div"),this.$setMeasureNodeStyles(this.$main.style),this.$measureNode=$.createElement("div"),this.$setMeasureNodeStyles(this.$measureNode.style),this.el.appendChild(this.$main),this.el.appendChild(this.$measureNode),a.appendChild(this.el),this.$measureNode.textContent=y.stringRepeat("X",r),this.$characterSize={width:0,height:0},i?this.$addObserver():this.checkForSizeChanges()}return n.prototype.$setMeasureNodeStyles=function(a,c){a.width=a.height="auto",a.left=a.top="0px",a.visibility="hidden",a.position="absolute",a.whiteSpace="pre",h.isIE<8?a["font-family"]="inherit":a.font="inherit",a.overflow=c?"hidden":"visible"},n.prototype.checkForSizeChanges=function(a){if(a===void 0&&(a=this.$measureSizes()),a&&(this.$characterSize.width!==a.width||this.$characterSize.height!==a.height)){this.$measureNode.style.fontWeight="bold";var c=this.$measureSizes();this.$measureNode.style.fontWeight="",this.$characterSize=a,this.charSizes=Object.create(null),this.allowBoldFonts=c&&c.width===a.width&&c.height===a.height,this._emit("changeCharacterSize",{data:a})}},n.prototype.$addObserver=function(){var a=this;this.$observer=new window.ResizeObserver(function(c){a.checkForSizeChanges()}),this.$observer.observe(this.$measureNode)},n.prototype.$pollSizeChanges=function(){if(this.$pollSizeChangesTimer||this.$observer)return this.$pollSizeChangesTimer;var a=this;return this.$pollSizeChangesTimer=s.onIdle(function c(){a.checkForSizeChanges(),s.onIdle(c,500)},500)},n.prototype.setPolling=function(a){a?this.$pollSizeChanges():this.$pollSizeChangesTimer&&(clearInterval(this.$pollSizeChangesTimer),this.$pollSizeChangesTimer=0)},n.prototype.$measureSizes=function(a){var c={height:(a||this.$measureNode).clientHeight,width:(a||this.$measureNode).clientWidth/r};return c.width===0||c.height===0?null:c},n.prototype.$measureCharWidth=function(a){this.$main.textContent=y.stringRepeat(a,r);var c=this.$main.getBoundingClientRect();return c.width/r},n.prototype.getCharacterWidth=function(a){var c=this.charSizes[a];return c===void 0&&(c=this.charSizes[a]=this.$measureCharWidth(a)/this.$characterSize.width),c},n.prototype.destroy=function(){clearInterval(this.$pollSizeChangesTimer),this.$observer&&this.$observer.disconnect(),this.el&&this.el.parentNode&&this.el.parentNode.removeChild(this.el)},n.prototype.$getZoom=function(a){return!a||!a.parentElement?1:(Number(window.getComputedStyle(a).zoom)||1)*this.$getZoom(a.parentElement)},n.prototype.$initTransformMeasureNodes=function(){var a=function(c,d){return["div",{style:"position: absolute;top:"+c+"px;left:"+d+"px;"}]};this.els=$.buildDom([a(0,0),a(t,0),a(0,t),a(t,t)],this.el)},n.prototype.transformCoordinates=function(a,c){if(a){var d=this.$getZoom(this.el);a=u(1/d,a)}function k(X,q,Z){var oe=X[1]*q[0]-X[0]*q[1];return[(-q[1]*Z[0]+q[0]*Z[1])/oe,(+X[1]*Z[0]-X[0]*Z[1])/oe]}function v(X,q){return[X[0]-q[0],X[1]-q[1]]}function p(X,q){return[X[0]+q[0],X[1]+q[1]]}function u(X,q){return[X*q[0],X*q[1]]}this.els||this.$initTransformMeasureNodes();function m(X){var q=X.getBoundingClientRect();return[q.left,q.top]}var A=m(this.els[0]),S=m(this.els[1]),C=m(this.els[2]),R=m(this.els[3]),g=k(v(R,S),v(R,C),v(p(S,C),p(R,A))),w=u(1+g[0],v(S,A)),l=u(1+g[1],v(C,A));if(c){var _=c,L=g[0]*_[0]/t+g[1]*_[1]/t+1,F=p(u(_[0],w),u(_[1],l));return p(u(1/L/t,F),A)}var U=v(a,A),H=k(v(w,u(g[0],U)),v(l,u(g[1],U)),U);return u(t,H)},n}();e.prototype.$characterSize={width:0,height:0},M.implement(e.prototype,o),x.FontMetrics=e}),ace.define("ace/css/editor-css",["require","exports","module"],function(f,x,W){W.exports=`
.ace_br1 {border-top-left-radius    : 3px;}
.ace_br2 {border-top-right-radius   : 3px;}
.ace_br3 {border-top-left-radius    : 3px; border-top-right-radius:    3px;}
.ace_br4 {border-bottom-right-radius: 3px;}
.ace_br5 {border-top-left-radius    : 3px; border-bottom-right-radius: 3px;}
.ace_br6 {border-top-right-radius   : 3px; border-bottom-right-radius: 3px;}
.ace_br7 {border-top-left-radius    : 3px; border-top-right-radius:    3px; border-bottom-right-radius: 3px;}
.ace_br8 {border-bottom-left-radius : 3px;}
.ace_br9 {border-top-left-radius    : 3px; border-bottom-left-radius:  3px;}
.ace_br10{border-top-right-radius   : 3px; border-bottom-left-radius:  3px;}
.ace_br11{border-top-left-radius    : 3px; border-top-right-radius:    3px; border-bottom-left-radius:  3px;}
.ace_br12{border-bottom-right-radius: 3px; border-bottom-left-radius:  3px;}
.ace_br13{border-top-left-radius    : 3px; border-bottom-right-radius: 3px; border-bottom-left-radius:  3px;}
.ace_br14{border-top-right-radius   : 3px; border-bottom-right-radius: 3px; border-bottom-left-radius:  3px;}
.ace_br15{border-top-left-radius    : 3px; border-top-right-radius:    3px; border-bottom-right-radius: 3px; border-bottom-left-radius: 3px;}


.ace_editor {
    position: relative;
    overflow: hidden;
    padding: 0;
    font: 12px/normal 'Monaco', 'Menlo', 'Ubuntu Mono', 'Consolas', 'Source Code Pro', 'source-code-pro', monospace;
    direction: ltr;
    text-align: left;
    -webkit-tap-highlight-color: rgba(0, 0, 0, 0);
    forced-color-adjust: none;
}

.ace_scroller {
    position: absolute;
    overflow: hidden;
    top: 0;
    bottom: 0;
    background-color: inherit;
    -ms-user-select: none;
    -moz-user-select: none;
    -webkit-user-select: none;
    user-select: none;
    cursor: text;
}

.ace_content {
    position: absolute;
    box-sizing: border-box;
    min-width: 100%;
    contain: style size layout;
    font-variant-ligatures: no-common-ligatures;
}

.ace_keyboard-focus:focus {
    box-shadow: inset 0 0 0 2px #5E9ED6;
    outline: none;
}

.ace_dragging .ace_scroller:before{
    position: absolute;
    top: 0;
    left: 0;
    right: 0;
    bottom: 0;
    content: '';
    background: rgba(250, 250, 250, 0.01);
    z-index: 1000;
}
.ace_dragging.ace_dark .ace_scroller:before{
    background: rgba(0, 0, 0, 0.01);
}

.ace_gutter {
    position: absolute;
    overflow : hidden;
    width: auto;
    top: 0;
    bottom: 0;
    left: 0;
    cursor: default;
    z-index: 4;
    -ms-user-select: none;
    -moz-user-select: none;
    -webkit-user-select: none;
    user-select: none;
    contain: style size layout;
}

.ace_gutter-active-line {
    position: absolute;
    left: 0;
    right: 0;
}

.ace_scroller.ace_scroll-left:after {
    content: "";
    position: absolute;
    top: 0;
    right: 0;
    bottom: 0;
    left: 0;
    box-shadow: 17px 0 16px -16px rgba(0, 0, 0, 0.4) inset;
    pointer-events: none;
}

.ace_gutter-cell, .ace_gutter-cell_svg-icons {
    position: absolute;
    top: 0;
    left: 0;
    right: 0;
    padding-left: 19px;
    padding-right: 6px;
    background-repeat: no-repeat;
}

.ace_gutter-cell_svg-icons .ace_gutter_annotation {
    margin-left: -14px;
    float: left;
}

.ace_gutter-cell .ace_gutter_annotation {
    margin-left: -19px;
    float: left;
}

.ace_gutter-cell.ace_error, .ace_icon.ace_error, .ace_icon.ace_error_fold, .ace_gutter-cell.ace_security, .ace_icon.ace_security, .ace_icon.ace_security_fold {
    background-image: url("data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABAAAAAQCAMAAAAoLQ9TAAABOFBMVEX/////////QRswFAb/Ui4wFAYwFAYwFAaWGAfDRymzOSH/PxswFAb/SiUwFAYwFAbUPRvjQiDllog5HhHdRybsTi3/Tyv9Tir+Syj/UC3////XurebMBIwFAb/RSHbPx/gUzfdwL3kzMivKBAwFAbbvbnhPx66NhowFAYwFAaZJg8wFAaxKBDZurf/RB6mMxb/SCMwFAYwFAbxQB3+RB4wFAb/Qhy4Oh+4QifbNRcwFAYwFAYwFAb/QRzdNhgwFAYwFAbav7v/Uy7oaE68MBK5LxLewr/r2NXewLswFAaxJw4wFAbkPRy2PyYwFAaxKhLm1tMwFAazPiQwFAaUGAb/QBrfOx3bvrv/VC/maE4wFAbRPBq6MRO8Qynew8Dp2tjfwb0wFAbx6eju5+by6uns4uH9/f36+vr/GkHjAAAAYnRSTlMAGt+64rnWu/bo8eAA4InH3+DwoN7j4eLi4xP99Nfg4+b+/u9B/eDs1MD1mO7+4PHg2MXa347g7vDizMLN4eG+Pv7i5evs/v79yu7S3/DV7/498Yv24eH+4ufQ3Ozu/v7+y13sRqwAAADLSURBVHjaZc/XDsFgGIBhtDrshlitmk2IrbHFqL2pvXf/+78DPokj7+Fz9qpU/9UXJIlhmPaTaQ6QPaz0mm+5gwkgovcV6GZzd5JtCQwgsxoHOvJO15kleRLAnMgHFIESUEPmawB9ngmelTtipwwfASilxOLyiV5UVUyVAfbG0cCPHig+GBkzAENHS0AstVF6bacZIOzgLmxsHbt2OecNgJC83JERmePUYq8ARGkJx6XtFsdddBQgZE2nPR6CICZhawjA4Fb/chv+399kfR+MMMDGOQAAAABJRU5ErkJggg==");
    background-repeat: no-repeat;
    background-position: 2px center;
}

.ace_gutter-cell.ace_warning, .ace_icon.ace_warning, .ace_icon.ace_warning_fold {
    background-image: url("data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABAAAAAQCAMAAAAoLQ9TAAAAmVBMVEX///8AAAD///8AAAAAAABPSzb/5sAAAAB/blH/73z/ulkAAAAAAAD85pkAAAAAAAACAgP/vGz/rkDerGbGrV7/pkQICAf////e0IsAAAD/oED/qTvhrnUAAAD/yHD/njcAAADuv2r/nz//oTj/p064oGf/zHAAAAA9Nir/tFIAAAD/tlTiuWf/tkIAAACynXEAAAAAAAAtIRW7zBpBAAAAM3RSTlMAABR1m7RXO8Ln31Z36zT+neXe5OzooRDfn+TZ4p3h2hTf4t3k3ucyrN1K5+Xaks52Sfs9CXgrAAAAjklEQVR42o3PbQ+CIBQFYEwboPhSYgoYunIqqLn6/z8uYdH8Vmdnu9vz4WwXgN/xTPRD2+sgOcZjsge/whXZgUaYYvT8QnuJaUrjrHUQreGczuEafQCO/SJTufTbroWsPgsllVhq3wJEk2jUSzX3CUEDJC84707djRc5MTAQxoLgupWRwW6UB5fS++NV8AbOZgnsC7BpEAAAAABJRU5ErkJggg==");
    background-repeat: no-repeat;
    background-position: 2px center;
}

.ace_gutter-cell.ace_info, .ace_icon.ace_info, .ace_gutter-cell.ace_hint, .ace_icon.ace_hint {
    background-image: url("data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABAAAAAQCAAAAAA6mKC9AAAAGXRFWHRTb2Z0d2FyZQBBZG9iZSBJbWFnZVJlYWR5ccllPAAAAAJ0Uk5TAAB2k804AAAAPklEQVQY02NgIB68QuO3tiLznjAwpKTgNyDbMegwisCHZUETUZV0ZqOquBpXj2rtnpSJT1AEnnRmL2OgGgAAIKkRQap2htgAAAAASUVORK5CYII=");
    background-repeat: no-repeat;
    background-position: 2px center;
}

.ace_dark .ace_gutter-cell.ace_info, .ace_dark .ace_icon.ace_info, .ace_dark .ace_gutter-cell.ace_hint, .ace_dark .ace_icon.ace_hint {
    background-image: url("data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABAAAAAQBAMAAADt3eJSAAAAJFBMVEUAAAChoaGAgIAqKiq+vr6tra1ZWVmUlJSbm5s8PDxubm56enrdgzg3AAAAAXRSTlMAQObYZgAAAClJREFUeNpjYMAPdsMYHegyJZFQBlsUlMFVCWUYKkAZMxZAGdxlDMQBAG+TBP4B6RyJAAAAAElFTkSuQmCC");
}

.ace_icon_svg.ace_error {
    -webkit-mask-image: url("data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHZpZXdCb3g9IjAgMCAyMCAxNiI+CjxnIHN0cm9rZS13aWR0aD0iMiIgc3Ryb2tlPSJyZWQiIHNoYXBlLXJlbmRlcmluZz0iZ2VvbWV0cmljUHJlY2lzaW9uIj4KPGNpcmNsZSBmaWxsPSJub25lIiBjeD0iOCIgY3k9IjgiIHI9IjciIHN0cm9rZS1saW5lam9pbj0icm91bmQiLz4KPGxpbmUgeDE9IjExIiB5MT0iNSIgeDI9IjUiIHkyPSIxMSIvPgo8bGluZSB4MT0iMTEiIHkxPSIxMSIgeDI9IjUiIHkyPSI1Ii8+CjwvZz4KPC9zdmc+");
    background-color: crimson;
}
.ace_icon_svg.ace_security {
    -webkit-mask-image: url("data:image/svg+xml;base64,PHN2ZyB2aWV3Qm94PSIwIDAgMjAgMTYiIHhtbG5zPSJodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2ZyI+CiAgICA8ZyBzdHJva2Utd2lkdGg9IjIiIHN0cm9rZT0iZGFya29yYW5nZSIgZmlsbD0ibm9uZSIgc2hhcGUtcmVuZGVyaW5nPSJnZW9tZXRyaWNQcmVjaXNpb24iPgogICAgICAgIDxwYXRoIGNsYXNzPSJzdHJva2UtbGluZWpvaW4tcm91bmQiIGQ9Ik04IDE0LjgzMDdDOCAxNC44MzA3IDIgMTIuOTA0NyAyIDguMDg5OTJWMy4yNjU0OEM1LjMxIDMuMjY1NDggNy45ODk5OSAxLjM0OTE4IDcuOTg5OTkgMS4zNDkxOEM3Ljk4OTk5IDEuMzQ5MTggMTAuNjkgMy4yNjU0OCAxNCAzLjI2NTQ4VjguMDg5OTJDMTQgMTIuOTA0NyA4IDE0LjgzMDcgOCAxNC44MzA3WiIvPgogICAgICAgIDxwYXRoIGQ9Ik0yIDguMDg5OTJWMy4yNjU0OEM1LjMxIDMuMjY1NDggNy45ODk5OSAxLjM0OTE4IDcuOTg5OTkgMS4zNDkxOCIvPgogICAgICAgIDxwYXRoIGQ9Ik0xMy45OSA4LjA4OTkyVjMuMjY1NDhDMTAuNjggMy4yNjU0OCA4IDEuMzQ5MTggOCAxLjM0OTE4Ii8+CiAgICAgICAgPHBhdGggY2xhc3M9InN0cm9rZS1saW5lam9pbi1yb3VuZCIgZD0iTTggNFY5Ii8+CiAgICAgICAgPHBhdGggY2xhc3M9InN0cm9rZS1saW5lam9pbi1yb3VuZCIgZD0iTTggMTBWMTIiLz4KICAgIDwvZz4KPC9zdmc+");
    background-color: crimson;
}
.ace_icon_svg.ace_warning {
    -webkit-mask-image: url("data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHZpZXdCb3g9IjAgMCAyMCAxNiI+CjxnIHN0cm9rZS13aWR0aD0iMiIgc3Ryb2tlPSJkYXJrb3JhbmdlIiBzaGFwZS1yZW5kZXJpbmc9Imdlb21ldHJpY1ByZWNpc2lvbiI+Cjxwb2x5Z29uIHN0cm9rZS1saW5lam9pbj0icm91bmQiIGZpbGw9Im5vbmUiIHBvaW50cz0iOCAxIDE1IDE1IDEgMTUgOCAxIi8+CjxyZWN0IHg9IjgiIHk9IjEyIiB3aWR0aD0iMC4wMSIgaGVpZ2h0PSIwLjAxIi8+CjxsaW5lIHgxPSI4IiB5MT0iNiIgeDI9IjgiIHkyPSIxMCIvPgo8L2c+Cjwvc3ZnPg==");
    background-color: darkorange;
}
.ace_icon_svg.ace_info {
    -webkit-mask-image: url("data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHZpZXdCb3g9IjAgMCAyMCAxNiI+CjxnIHN0cm9rZS13aWR0aD0iMiIgc3Ryb2tlPSJibHVlIiBzaGFwZS1yZW5kZXJpbmc9Imdlb21ldHJpY1ByZWNpc2lvbiI+CjxjaXJjbGUgZmlsbD0ibm9uZSIgY3g9IjgiIGN5PSI4IiByPSI3IiBzdHJva2UtbGluZWpvaW49InJvdW5kIi8+Cjxwb2x5bGluZSBwb2ludHM9IjggMTEgOCA4Ii8+Cjxwb2x5bGluZSBwb2ludHM9IjkgOCA2IDgiLz4KPGxpbmUgeDE9IjEwIiB5MT0iMTEiIHgyPSI2IiB5Mj0iMTEiLz4KPHJlY3QgeD0iOCIgeT0iNSIgd2lkdGg9IjAuMDEiIGhlaWdodD0iMC4wMSIvPgo8L2c+Cjwvc3ZnPg==");
    background-color: royalblue;
}
.ace_icon_svg.ace_hint {
    -webkit-mask-image: url("data:image/svg+xml;base64,PHN2ZyB2aWV3Qm94PSIwIDAgMjAgMTYiIHhtbG5zPSJodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2ZyI+CiAgICA8ZyBzdHJva2Utd2lkdGg9IjIiIHN0cm9rZT0ic2lsdmVyIiBmaWxsPSJub25lIiBzaGFwZS1yZW5kZXJpbmc9Imdlb21ldHJpY1ByZWNpc2lvbiI+CiAgICAgICAgPHBhdGggY2xhc3M9InN0cm9rZS1saW5lam9pbi1yb3VuZCIgZD0iTTYgMTRIMTAiLz4KICAgICAgICA8cGF0aCBkPSJNOCAxMUg5QzkgOS40NzAwMiAxMiA4LjU0MDAyIDEyIDUuNzYwMDJDMTIuMDIgNC40MDAwMiAxMS4zOSAzLjM2MDAyIDEwLjQzIDIuNjcwMDJDOSAxLjY0MDAyIDcuMDAwMDEgMS42NDAwMiA1LjU3MDAxIDIuNjcwMDJDNC42MTAwMSAzLjM2MDAyIDMuOTggNC40MDAwMiA0IDUuNzYwMDJDNCA4LjU0MDAyIDcuMDAwMDEgOS40NzAwMiA3LjAwMDAxIDExSDhaIi8+CiAgICA8L2c+Cjwvc3ZnPg==");
    background-color: silver;
}

.ace_icon_svg.ace_error_fold {
    -webkit-mask-image: url("data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHZpZXdCb3g9IjAgMCAyMCAxNiIgZmlsbD0ibm9uZSI+CiAgPHBhdGggZD0ibSAxOC45Mjk4NTEsNy44Mjk4MDc2IGMgMC4xNDYzNTMsNi4zMzc0NjA0IC02LjMyMzE0Nyw3Ljc3Nzg0NDQgLTcuNDc3OTEyLDcuNzc3ODQ0NCAtMi4xMDcyNzI2LC0wLjEyODc1IDUuMTE3Njc4LDAuMzU2MjQ5IDUuMDUxNjk4LC03Ljg3MDA2MTggLTAuNjA0NjcyLC04LjAwMzk3MzQ5IC03LjA3NzI3MDYsLTcuNTYzMTE4OSAtNC44NTczLC03LjQzMDM5NTU2IDEuNjA2LC0wLjExNTE0MjI1IDYuODk3NDg1LDEuMjYyNTQ1OTYgNy4yODM1MTQsNy41MjI2MTI5NiB6IiBmaWxsPSJjcmltc29uIiBzdHJva2Utd2lkdGg9IjIiLz4KICA8cGF0aCBmaWxsLXJ1bGU9ImV2ZW5vZGQiIGNsaXAtcnVsZT0iZXZlbm9kZCIgZD0ibSA4LjExNDc1NjIsMi4wNTI5ODI4IGMgMy4zNDkxNjk4LDAgNi4wNjQxMzI4LDIuNjc2ODYyNyA2LjA2NDEzMjgsNS45Nzg5NTMgMCwzLjMwMjExMjIgLTIuNzE0OTYzLDUuOTc4OTIwMiAtNi4wNjQxMzI4LDUuOTc4OTIwMiAtMy4zNDkxNDczLDAgLTYuMDY0MTc3MiwtMi42NzY4MDggLTYuMDY0MTc3MiwtNS45Nzg5MjAyIDAuMDA1MzksLTMuMjk5ODg2MSAyLjcxNzI2NTYsLTUuOTczNjQwOCA2LjA2NDE3NzIsLTUuOTc4OTUzIHogbSAwLC0xLjczNTgyNzE5IGMgLTQuMzIxNDgzNiwwIC03LjgyNDc0MDM4LDMuNDU0MDE4NDkgLTcuODI0NzQwMzgsNy43MTQ3ODAxOSAwLDQuMjYwNzI4MiAzLjUwMzI1Njc4LDcuNzE0NzQ1MiA3LjgyNDc0MDM4LDcuNzE0NzQ1MiA0LjMyMTQ0OTgsMCA3LjgyNDY5OTgsLTMuNDU0MDE3IDcuODI0Njk5OCwtNy43MTQ3NDUyIDAsLTIuMDQ2MDkxNCAtMC44MjQzOTIsLTQuMDA4MzY3MiAtMi4yOTE3NTYsLTUuNDU1MTc0NiBDIDEyLjE4MDIyNSwxLjEyOTk2NDggMTAuMTkwMDEzLDAuMzE3MTU1NjEgOC4xMTQ3NTYyLDAuMzE3MTU1NjEgWiBNIDYuOTM3NDU2Myw4LjI0MDU5ODUgNC42NzE4Njg1LDEwLjQ4NTg1MiA2LjAwODY4MTQsMTEuODc2NzI4IDguMzE3MDAzNSw5LjYwMDc5MTEgMTAuNjI1MzM3LDExLjg3NjcyOCAxMS45NjIxMzgsMTAuNDg1ODUyIDkuNjk2NTUwOCw4LjI0MDU5ODUgMTEuOTYyMTM4LDYuMDA2ODA2NiAxMC41NzMyNDYsNC42Mzc0MzM1IDguMzE3MDAzNSw2Ljg3MzQyOTcgNi4wNjA3NjA3LDQuNjM3NDMzNSA0LjY3MTg2ODUsNi4wMDY4MDY2IFoiIGZpbGw9ImNyaW1zb24iIHN0cm9rZS13aWR0aD0iMiIvPgo8L3N2Zz4=");
    background-color: crimson;
}
.ace_icon_svg.ace_security_fold {
    -webkit-mask-image: url("data:image/svg+xml;base64,CjxzdmcgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIiB2aWV3Qm94PSIwIDAgMTcgMTQiIGZpbGw9Im5vbmUiPgogICAgPHBhdGggZD0iTTEwLjAwMDEgMTMuNjk5MkMxMC4wMDAxIDEzLjY5OTIgMTEuOTI0MSAxMy40NzYzIDEzIDEyLjY5OTJDMTQuNDEzOSAxMS42NzgxIDE2IDEwLjUgMTYuMTI1MSA2LjgxMTI2VjIuNTg5ODdDMTYuMTI1MSAyLjU0NzY4IDE2LjEyMjEgMi41MDYxOSAxNi4xMTY0IDIuNDY1NTlWMS43MTQ4NUgxNS4yNDE0TDE1LjIzMDcgMS43MTQ4NEwxNC42MjUxIDEuNjk5MjJWNi44MTEyM0MxNC42MjUxIDguNTEwNjEgMTQuNjI1MSA5LjQ2NDYxIDEyLjc4MjQgMTEuNzIxQzEyLjE1ODYgMTIuNDg0OCAxMC4wMDAxIDEzLjY5OTIgMTAuMDAwMSAxMy42OTkyWiIgZmlsbD0iY3JpbXNvbiIgc3Ryb2tlLXdpZHRoPSIyIi8+CiAgICA8cGF0aCBmaWxsLXJ1bGU9ImV2ZW5vZGQiIGNsaXAtcnVsZT0iZXZlbm9kZCIgZD0iTTcuMzM2MDkgMC4zNjc0NzVDNy4wMzIxNCAwLjE1MjY1MiA2LjYyNTQ4IDAuMTUzNjE0IDYuMzIyNTMgMC4zNjk5OTdMNi4zMDg2OSAwLjM3OTU1NEM2LjI5NTUzIDAuMzg4NTg4IDYuMjczODggMC40MDMyNjYgNi4yNDQxNyAwLjQyMjc4OUM2LjE4NDcxIDAuNDYxODYgNi4wOTMyMSAwLjUyMDE3MSA1Ljk3MzEzIDAuNTkxMzczQzUuNzMyNTEgMC43MzQwNTkgNS4zNzk5IDAuOTI2ODY0IDQuOTQyNzkgMS4xMjAwOUM0LjA2MTQ0IDEuNTA5NyAyLjg3NTQxIDEuODgzNzcgMS41ODk4NCAxLjg4Mzc3SDAuNzE0ODQ0VjIuNzU4NzdWNi45ODAxNUMwLjcxNDg0NCA5LjQ5Mzc0IDIuMjg4NjYgMTEuMTk3MyAzLjcwMjU0IDEyLjIxODVDNC40MTg0NSAxMi43MzU1IDUuMTI4NzQgMTMuMTA1MyA1LjY1NzMzIDEzLjM0NTdDNS45MjI4NCAxMy40NjY0IDYuMTQ1NjYgMTMuNTU1OSA2LjMwNDY1IDEzLjYxNjFDNi4zODQyMyAxMy42NDYyIDYuNDQ4MDUgMTMuNjY5IDYuNDkzNDkgMTMuNjg0OEM2LjUxNjIyIDEzLjY5MjcgNi41MzQzOCAxMy42OTg5IDYuNTQ3NjQgMTMuNzAzM0w2LjU2MzgyIDEzLjcwODdMNi41NjkwOCAxMy43MTA0TDYuNTcwOTkgMTMuNzExTDYuODM5ODQgMTMuNzUzM0w2LjU3MjQyIDEzLjcxMTVDNi43NDYzMyAxMy43NjczIDYuOTMzMzUgMTMuNzY3MyA3LjEwNzI3IDEzLjcxMTVMNy4xMDg3IDEzLjcxMUw3LjExMDYxIDEzLjcxMDRMNy4xMTU4NyAxMy43MDg3TDcuMTMyMDUgMTMuNzAzM0M3LjE0NTMxIDEzLjY5ODkgNy4xNjM0NiAxMy42OTI3IDcuMTg2MTkgMTMuNjg0OEM3LjIzMTY0IDEzLjY2OSA3LjI5NTQ2IDEzLjY0NjIgNy4zNzUwMyAxMy42MTYxQzcuNTM0MDMgMTMuNTU1OSA3Ljc1Njg1IDEzLjQ2NjQgOC4wMjIzNiAxMy4zNDU3QzguNTUwOTUgMTMuMTA1MyA5LjI2MTIzIDEyLjczNTUgOS45NzcxNSAxMi4yMTg1QzExLjM5MSAxMS4xOTczIDEyLjk2NDggOS40OTM3NyAxMi45NjQ4IDYuOTgwMThWMi43NTg4QzEyLjk2NDggMi43MTY2IDEyLjk2MTkgMi42NzUxMSAxMi45NTYxIDIuNjM0NTFWMS44ODM3N0gxMi4wODExQzEyLjA3NzUgMS44ODM3NyAxMi4wNzQgMS44ODM3NyAxMi4wNzA0IDEuODgzNzdDMTAuNzk3OSAxLjg4MDA0IDkuNjE5NjIgMS41MTEwMiA4LjczODk0IDEuMTI0ODZDOC43MzUzNCAxLjEyMzI3IDguNzMxNzQgMS4xMjE2OCA4LjcyODE0IDEuMTIwMDlDOC4yOTEwMyAwLjkyNjg2NCA3LjkzODQyIDAuNzM0MDU5IDcuNjk3NzkgMC41OTEzNzNDNy41Nzc3MiAwLjUyMDE3MSA3LjQ4NjIyIDAuNDYxODYgNy40MjY3NiAwLjQyMjc4OUM3LjM5NzA1IDAuNDAzMjY2IDcuMzc1MzkgMC4zODg1ODggNy4zNjIyNCAwLjM3OTU1NEw3LjM0ODk2IDAuMzcwMzVDNy4zNDg5NiAwLjM3MDM1IDcuMzQ4NDcgMC4zNzAwMiA3LjM0NTYzIDAuMzc0MDU0TDcuMzM3NzkgMC4zNjg2NTlMNy4zMzYwOSAwLjM2NzQ3NVpNOC4wMzQ3MSAyLjcyNjkxQzguODYwNCAzLjA5MDYzIDkuOTYwNjYgMy40NjMwOSAxMS4yMDYxIDMuNTg5MDdWNi45ODAxNUgxMS4yMTQ4QzExLjIxNDggOC42Nzk1MyAxMC4xNjM3IDkuOTI1MDcgOC45NTI1NCAxMC43OTk4QzguMzU1OTUgMTEuMjMwNiA3Ljc1Mzc0IDExLjU0NTQgNy4yOTc5NiAxMS43NTI3QzcuMTE2NzEgMTEuODM1MSA2Ljk2MDYyIDExLjg5OTYgNi44Mzk4NCAxMS45NDY5QzYuNzE5MDYgMTEuODk5NiA2LjU2Mjk3IDExLjgzNTEgNi4zODE3MyAxMS43NTI3QzUuOTI1OTUgMTEuNTQ1NCA1LjMyMzczIDExLjIzMDYgNC43MjcxNSAxMC43OTk4QzMuNTE2MDMgOS45MjUwNyAyLjQ2NDg0IDguNjc5NTUgMi40NjQ4NCA2Ljk4MDE4VjMuNTg5MDlDMy43MTczOCAzLjQ2MjM5IDQuODIzMDggMy4wODYzOSA1LjY1MDMzIDIuNzIwNzFDNi4xNDIyOCAyLjUwMzI0IDYuNTQ0ODUgMi4yODUzNyA2LjgzMjU0IDIuMTE2MjRDNy4xMjE4MSAyLjI4NTM1IDcuNTI3IDIuNTAzNTIgOC4wMjE5NiAyLjcyMTMxQzguMDI2MiAyLjcyMzE3IDguMDMwNDUgMi43MjUwNCA4LjAzNDcxIDIuNzI2OTFaTTUuOTY0ODQgMy40MDE0N1Y3Ljc3NjQ3SDcuNzE0ODRWMy40MDE0N0g1Ljk2NDg0Wk01Ljk2NDg0IDEwLjQwMTVWOC42NTE0N0g3LjcxNDg0VjEwLjQwMTVINS45NjQ4NFoiIGZpbGw9ImNyaW1zb24iIHN0cm9rZS13aWR0aD0iMiIvPgo8L3N2Zz4=");
    background-color: crimson;
}
.ace_icon_svg.ace_warning_fold {
    -webkit-mask-image: url("data:image/svg+xml;base64,PHN2ZyB3aWR0aD0iMjAiIGhlaWdodD0iMTYiIHZpZXdCb3g9IjAgMCAyMCAxNiIgZmlsbD0ibm9uZSIgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIj4KPHBhdGggZmlsbC1ydWxlPSJldmVub2RkIiBjbGlwLXJ1bGU9ImV2ZW5vZGQiIGQ9Ik0xNC43NzY5IDE0LjczMzdMOC42NTE5MiAyLjQ4MzY5QzguMzI5NDYgMS44Mzg3NyA3LjQwOTEzIDEuODM4NzcgNy4wODY2NyAyLjQ4MzY5TDAuOTYxNjY5IDE0LjczMzdDMC42NzA3NzUgMTUuMzE1NSAxLjA5MzgzIDE2IDEuNzQ0MjkgMTZIMTMuOTk0M0MxNC42NDQ4IDE2IDE1LjA2NzggMTUuMzE1NSAxNC43NzY5IDE0LjczMzdaTTMuMTYwMDcgMTQuMjVMNy44NjkyOSA0LjgzMTU2TDEyLjU3ODUgMTQuMjVIMy4xNjAwN1pNOC43NDQyOSAxMS42MjVWMTMuMzc1SDYuOTk0MjlWMTEuNjI1SDguNzQ0MjlaTTYuOTk0MjkgMTAuNzVWNy4yNUg4Ljc0NDI5VjEwLjc1SDYuOTk0MjlaIiBmaWxsPSIjRUM3MjExIi8+CjxwYXRoIGQ9Ik0xMS4xOTkxIDIuOTUyMzhDMTAuODgwOSAyLjMxNDY3IDEwLjM1MzcgMS44MDUyNiA5LjcwNTUgMS41MDlMMTEuMDQxIDEuMDY5NzhDMTEuNjg4MyAwLjk0OTgxNCAxMi4zMzcgMS4yNzI2MyAxMi42MzE3IDEuODYxNDFMMTcuNjEzNiAxMS44MTYxQzE4LjM1MjcgMTMuMjkyOSAxNy41OTM4IDE1LjA4MDQgMTYuMDE4IDE1LjU3NDVDMTYuNDA0NCAxNC40NTA3IDE2LjMyMzEgMTMuMjE4OCAxNS43OTI0IDEyLjE1NTVMMTEuMTk5MSAyLjk1MjM4WiIgZmlsbD0iI0VDNzIxMSIvPgo8L3N2Zz4=");
    background-color: darkorange;
}

.ace_scrollbar {
    contain: strict;
    position: absolute;
    right: 0;
    bottom: 0;
    z-index: 6;
}

.ace_scrollbar-inner {
    position: absolute;
    cursor: text;
    left: 0;
    top: 0;
}

.ace_scrollbar-v{
    overflow-x: hidden;
    overflow-y: scroll;
    top: 0;
}

.ace_scrollbar-h {
    overflow-x: scroll;
    overflow-y: hidden;
    left: 0;
}

.ace_print-margin {
    position: absolute;
    height: 100%;
}

.ace_text-input {
    position: absolute;
    z-index: 0;
    width: 0.5em;
    height: 1em;
    opacity: 0;
    background: transparent;
    -moz-appearance: none;
    appearance: none;
    border: none;
    resize: none;
    outline: none;
    overflow: hidden;
    font: inherit;
    padding: 0 1px;
    margin: 0 -1px;
    contain: strict;
    -ms-user-select: text;
    -moz-user-select: text;
    -webkit-user-select: text;
    user-select: text;
    /*with \`pre-line\` chrome inserts &nbsp; instead of space*/
    white-space: pre!important;
}
.ace_text-input.ace_composition {
    background: transparent;
    color: inherit;
    z-index: 1000;
    opacity: 1;
}
.ace_composition_placeholder { color: transparent }
.ace_composition_marker { 
    border-bottom: 1px solid;
    position: absolute;
    border-radius: 0;
    margin-top: 1px;
}

[ace_nocontext=true] {
    transform: none!important;
    filter: none!important;
    clip-path: none!important;
    mask : none!important;
    contain: none!important;
    perspective: none!important;
    mix-blend-mode: initial!important;
    z-index: auto;
}

.ace_layer {
    z-index: 1;
    position: absolute;
    overflow: hidden;
    /* workaround for chrome bug https://github.com/ajaxorg/ace/issues/2312*/
    word-wrap: normal;
    white-space: pre;
    height: 100%;
    width: 100%;
    box-sizing: border-box;
    /* setting pointer-events: auto; on node under the mouse, which changes
        during scroll, will break mouse wheel scrolling in Safari */
    pointer-events: none;
}

.ace_gutter-layer {
    position: relative;
    width: auto;
    text-align: right;
    pointer-events: auto;
    height: 1000000px;
    contain: style size layout;
}

.ace_text-layer {
    font: inherit !important;
    position: absolute;
    height: 1000000px;
    width: 1000000px;
    contain: style size layout;
}

.ace_text-layer > .ace_line, .ace_text-layer > .ace_line_group {
    contain: style size layout;
    position: absolute;
    top: 0;
    left: 0;
    right: 0;
}

.ace_hidpi .ace_text-layer,
.ace_hidpi .ace_gutter-layer,
.ace_hidpi .ace_content,
.ace_hidpi .ace_gutter {
    contain: strict;
}
.ace_hidpi .ace_text-layer > .ace_line, 
.ace_hidpi .ace_text-layer > .ace_line_group {
    contain: strict;
}

.ace_cjk {
    display: inline-block;
    text-align: center;
}

.ace_cursor-layer {
    z-index: 4;
}

.ace_cursor {
    z-index: 4;
    position: absolute;
    box-sizing: border-box;
    border-left: 2px solid;
    /* workaround for smooth cursor repaintng whole screen in chrome */
    transform: translatez(0);
}

.ace_multiselect .ace_cursor {
    border-left-width: 1px;
}

.ace_slim-cursors .ace_cursor {
    border-left-width: 1px;
}

.ace_overwrite-cursors .ace_cursor {
    border-left-width: 0;
    border-bottom: 1px solid;
}

.ace_hidden-cursors .ace_cursor {
    opacity: 0.2;
}

.ace_hasPlaceholder .ace_hidden-cursors .ace_cursor {
    opacity: 0;
}

.ace_smooth-blinking .ace_cursor {
    transition: opacity 0.18s;
}

.ace_animate-blinking .ace_cursor {
    animation-duration: 1000ms;
    animation-timing-function: step-end;
    animation-name: blink-ace-animate;
    animation-iteration-count: infinite;
}

.ace_animate-blinking.ace_smooth-blinking .ace_cursor {
    animation-duration: 1000ms;
    animation-timing-function: ease-in-out;
    animation-name: blink-ace-animate-smooth;
}
    
@keyframes blink-ace-animate {
    from, to { opacity: 1; }
    60% { opacity: 0; }
}

@keyframes blink-ace-animate-smooth {
    from, to { opacity: 1; }
    45% { opacity: 1; }
    60% { opacity: 0; }
    85% { opacity: 0; }
}

.ace_marker-layer .ace_step, .ace_marker-layer .ace_stack {
    position: absolute;
    z-index: 3;
}

.ace_marker-layer .ace_selection {
    position: absolute;
    z-index: 5;
}

.ace_marker-layer .ace_bracket {
    position: absolute;
    z-index: 6;
}

.ace_marker-layer .ace_error_bracket {
    position: absolute;
    border-bottom: 1px solid #DE5555;
    border-radius: 0;
}

.ace_marker-layer .ace_active-line {
    position: absolute;
    z-index: 2;
}

.ace_marker-layer .ace_selected-word {
    position: absolute;
    z-index: 4;
    box-sizing: border-box;
}

.ace_line .ace_fold {
    box-sizing: border-box;

    display: inline-block;
    height: 11px;
    margin-top: -2px;
    vertical-align: middle;

    background-image:
        url("data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABEAAAAJCAYAAADU6McMAAAAGXRFWHRTb2Z0d2FyZQBBZG9iZSBJbWFnZVJlYWR5ccllPAAAAJpJREFUeNpi/P//PwOlgAXGYGRklAVSokD8GmjwY1wasKljQpYACtpCFeADcHVQfQyMQAwzwAZI3wJKvCLkfKBaMSClBlR7BOQikCFGQEErIH0VqkabiGCAqwUadAzZJRxQr/0gwiXIal8zQQPnNVTgJ1TdawL0T5gBIP1MUJNhBv2HKoQHHjqNrA4WO4zY0glyNKLT2KIfIMAAQsdgGiXvgnYAAAAASUVORK5CYII="),
        url("data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAEAAAA3CAYAAADNNiA5AAAAGXRFWHRTb2Z0d2FyZQBBZG9iZSBJbWFnZVJlYWR5ccllPAAAACJJREFUeNpi+P//fxgTAwPDBxDxD078RSX+YeEyDFMCIMAAI3INmXiwf2YAAAAASUVORK5CYII=");
    background-repeat: no-repeat, repeat-x;
    background-position: center center, top left;
    color: transparent;

    border: 1px solid black;
    border-radius: 2px;

    cursor: pointer;
    pointer-events: auto;
}

.ace_dark .ace_fold {
}

.ace_fold:hover{
    background-image:
        url("data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABEAAAAJCAYAAADU6McMAAAAGXRFWHRTb2Z0d2FyZQBBZG9iZSBJbWFnZVJlYWR5ccllPAAAAJpJREFUeNpi/P//PwOlgAXGYGRklAVSokD8GmjwY1wasKljQpYACtpCFeADcHVQfQyMQAwzwAZI3wJKvCLkfKBaMSClBlR7BOQikCFGQEErIH0VqkabiGCAqwUadAzZJRxQr/0gwiXIal8zQQPnNVTgJ1TdawL0T5gBIP1MUJNhBv2HKoQHHjqNrA4WO4zY0glyNKLT2KIfIMAAQsdgGiXvgnYAAAAASUVORK5CYII="),
        url("data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAEAAAA3CAYAAADNNiA5AAAAGXRFWHRTb2Z0d2FyZQBBZG9iZSBJbWFnZVJlYWR5ccllPAAAACBJREFUeNpi+P//fz4TAwPDZxDxD5X4i5fLMEwJgAADAEPVDbjNw87ZAAAAAElFTkSuQmCC");
}

.ace_tooltip {
    background-color: #f5f5f5;
    border: 1px solid gray;
    border-radius: 1px;
    box-shadow: 0 1px 2px rgba(0, 0, 0, 0.3);
    color: black;
    max-width: 100%;
    padding: 3px 4px;
    position: fixed;
    z-index: 999999;
    box-sizing: border-box;
    cursor: default;
    white-space: pre-wrap;
    word-wrap: break-word;
    line-height: normal;
    font-style: normal;
    font-weight: normal;
    letter-spacing: normal;
    pointer-events: none;
    overflow: auto;
    max-width: min(60em, 66vw);
    overscroll-behavior: contain;
}
.ace_tooltip pre {
    white-space: pre-wrap;
}

.ace_tooltip.ace_dark {
    background-color: #636363;
    color: #fff;
}

.ace_tooltip:focus {
    outline: 1px solid #5E9ED6;
}

.ace_icon {
    display: inline-block;
    width: 18px;
    vertical-align: top;
}

.ace_icon_svg {
    display: inline-block;
    width: 12px;
    vertical-align: top;
    -webkit-mask-repeat: no-repeat;
    -webkit-mask-size: 12px;
    -webkit-mask-position: center;
}

.ace_folding-enabled > .ace_gutter-cell, .ace_folding-enabled > .ace_gutter-cell_svg-icons {
    padding-right: 13px;
}

.ace_fold-widget {
    box-sizing: border-box;

    margin: 0 -12px 0 1px;
    display: none;
    width: 11px;
    vertical-align: top;

    background-image: url("data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAUAAAAFCAYAAACNbyblAAAANElEQVR42mWKsQ0AMAzC8ixLlrzQjzmBiEjp0A6WwBCSPgKAXoLkqSot7nN3yMwR7pZ32NzpKkVoDBUxKAAAAABJRU5ErkJggg==");
    background-repeat: no-repeat;
    background-position: center;

    border-radius: 3px;
    
    border: 1px solid transparent;
    cursor: pointer;
}

.ace_folding-enabled .ace_fold-widget {
    display: inline-block;   
}

.ace_fold-widget.ace_end {
    background-image: url("data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAUAAAAFCAYAAACNbyblAAAANElEQVR42m3HwQkAMAhD0YzsRchFKI7sAikeWkrxwScEB0nh5e7KTPWimZki4tYfVbX+MNl4pyZXejUO1QAAAABJRU5ErkJggg==");
}

.ace_fold-widget.ace_closed {
    background-image: url("data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAMAAAAGCAYAAAAG5SQMAAAAOUlEQVR42jXKwQkAMAgDwKwqKD4EwQ26sSOkVWjgIIHAzPiCgaqiqnJHZnKICBERHN194O5b9vbLuAVRL+l0YWnZAAAAAElFTkSuQmCCXA==");
}

.ace_fold-widget:hover {
    border: 1px solid rgba(0, 0, 0, 0.3);
    background-color: rgba(255, 255, 255, 0.2);
    box-shadow: 0 1px 1px rgba(255, 255, 255, 0.7);
}

.ace_fold-widget:active {
    border: 1px solid rgba(0, 0, 0, 0.4);
    background-color: rgba(0, 0, 0, 0.05);
    box-shadow: 0 1px 1px rgba(255, 255, 255, 0.8);
}
/**
 * Dark version for fold widgets
 */
.ace_dark .ace_fold-widget {
    background-image: url("data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAUAAAAFCAYAAACNbyblAAAAHklEQVQIW2P4//8/AzoGEQ7oGCaLLAhWiSwB146BAQCSTPYocqT0AAAAAElFTkSuQmCC");
}
.ace_dark .ace_fold-widget.ace_end {
    background-image: url("data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAUAAAAFCAYAAACNbyblAAAAH0lEQVQIW2P4//8/AxQ7wNjIAjDMgC4AxjCVKBirIAAF0kz2rlhxpAAAAABJRU5ErkJggg==");
}
.ace_dark .ace_fold-widget.ace_closed {
    background-image: url("data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAMAAAAFCAYAAACAcVaiAAAAHElEQVQIW2P4//+/AxAzgDADlOOAznHAKgPWAwARji8UIDTfQQAAAABJRU5ErkJggg==");
}
.ace_dark .ace_fold-widget:hover {
    box-shadow: 0 1px 1px rgba(255, 255, 255, 0.2);
    background-color: rgba(255, 255, 255, 0.1);
}
.ace_dark .ace_fold-widget:active {
    box-shadow: 0 1px 1px rgba(255, 255, 255, 0.2);
}

.ace_inline_button {
    border: 1px solid lightgray;
    display: inline-block;
    margin: -1px 8px;
    padding: 0 5px;
    pointer-events: auto;
    cursor: pointer;
}
.ace_inline_button:hover {
    border-color: gray;
    background: rgba(200,200,200,0.2);
    display: inline-block;
    pointer-events: auto;
}

.ace_fold-widget.ace_invalid {
    background-color: #FFB4B4;
    border-color: #DE5555;
}

.ace_fade-fold-widgets .ace_fold-widget {
    transition: opacity 0.4s ease 0.05s;
    opacity: 0;
}

.ace_fade-fold-widgets:hover .ace_fold-widget {
    transition: opacity 0.05s ease 0.05s;
    opacity:1;
}

.ace_underline {
    text-decoration: underline;
}

.ace_bold {
    font-weight: bold;
}

.ace_nobold .ace_bold {
    font-weight: normal;
}

.ace_italic {
    font-style: italic;
}


.ace_error-marker {
    background-color: rgba(255, 0, 0,0.2);
    position: absolute;
    z-index: 9;
}

.ace_highlight-marker {
    background-color: rgba(255, 255, 0,0.2);
    position: absolute;
    z-index: 8;
}

.ace_mobile-menu {
    position: absolute;
    line-height: 1.5;
    border-radius: 4px;
    -ms-user-select: none;
    -moz-user-select: none;
    -webkit-user-select: none;
    user-select: none;
    background: white;
    box-shadow: 1px 3px 2px grey;
    border: 1px solid #dcdcdc;
    color: black;
}
.ace_dark > .ace_mobile-menu {
    background: #333;
    color: #ccc;
    box-shadow: 1px 3px 2px grey;
    border: 1px solid #444;

}
.ace_mobile-button {
    padding: 2px;
    cursor: pointer;
    overflow: hidden;
}
.ace_mobile-button:hover {
    background-color: #eee;
    opacity:1;
}
.ace_mobile-button:active {
    background-color: #ddd;
}

.ace_placeholder {
    position: relative;
    font-family: arial;
    transform: scale(0.9);
    transform-origin: left;
    white-space: pre;
    opacity: 0.7;
    margin: 0 10px;
    z-index: 1;
}

.ace_ghost_text {
    opacity: 0.5;
    font-style: italic;
}

.ace_ghost_text_container > div {
    white-space: pre;
}

.ghost_text_line_wrapped::after {
    content: "↩";
    position: absolute;
}

.ace_lineWidgetContainer.ace_ghost_text {
    margin: 0px 4px
}

.ace_screenreader-only {
    position:absolute;
    left:-10000px;
    top:auto;
    width:1px;
    height:1px;
    overflow:hidden;
}

.ace_hidden_token {
    display: none;
}`}),ace.define("ace/layer/decorators",["require","exports","module","ace/lib/dom","ace/lib/oop","ace/lib/event_emitter"],function(f,x,W){var M=f("../lib/dom"),$=f("../lib/oop"),y=f("../lib/event_emitter").EventEmitter,s=function(){function h(o,r){this.canvas=M.createElement("canvas"),this.renderer=r,this.pixelRatio=1,this.maxHeight=r.layerConfig.maxHeight,this.lineHeight=r.layerConfig.lineHeight,this.canvasHeight=o.parent.scrollHeight,this.heightRatio=this.canvasHeight/this.maxHeight,this.canvasWidth=o.width,this.minDecorationHeight=2*this.pixelRatio|0,this.halfMinDecorationHeight=this.minDecorationHeight/2|0,this.canvas.width=this.canvasWidth,this.canvas.height=this.canvasHeight,this.canvas.style.top="0px",this.canvas.style.right="0px",this.canvas.style.zIndex="7px",this.canvas.style.position="absolute",this.colors={},this.colors.dark={error:"rgba(255, 18, 18, 1)",warning:"rgba(18, 136, 18, 1)",info:"rgba(18, 18, 136, 1)"},this.colors.light={error:"rgb(255,51,51)",warning:"rgb(32,133,72)",info:"rgb(35,68,138)"},o.element.appendChild(this.canvas)}return h.prototype.$updateDecorators=function(o){var r=this.renderer.theme.isDark===!0?this.colors.dark:this.colors.light;if(o){this.maxHeight=o.maxHeight,this.lineHeight=o.lineHeight,this.canvasHeight=o.height;var i=(o.lastRow+1)*this.lineHeight;i<this.canvasHeight?this.heightRatio=1:this.heightRatio=this.canvasHeight/this.maxHeight}var t=this.canvas.getContext("2d");function e(R,g){return R.priority<g.priority?-1:R.priority>g.priority?1:0}var n=this.renderer.session.$annotations;if(t.clearRect(0,0,this.canvas.width,this.canvas.height),n){var a={info:1,warning:2,error:3};n.forEach(function(R){R.priority=a[R.type]||null}),n=n.sort(e);for(var c=this.renderer.session.$foldData,d=0;d<n.length;d++){var k=n[d].row,v=this.compensateFoldRows(k,c),p=Math.round((k-v)*this.lineHeight*this.heightRatio),u=Math.round((k-v)*this.lineHeight*this.heightRatio),m=Math.round(((k-v)*this.lineHeight+this.lineHeight)*this.heightRatio),A=m-u;if(A<this.minDecorationHeight){var S=(u+m)/2|0;S<this.halfMinDecorationHeight?S=this.halfMinDecorationHeight:S+this.halfMinDecorationHeight>this.canvasHeight&&(S=this.canvasHeight-this.halfMinDecorationHeight),u=Math.round(S-this.halfMinDecorationHeight),m=Math.round(S+this.halfMinDecorationHeight)}t.fillStyle=r[n[d].type]||null,t.fillRect(0,p,this.canvasWidth,m-u)}}var C=this.renderer.session.selection.getCursor();if(C){var v=this.compensateFoldRows(C.row,c),p=Math.round((C.row-v)*this.lineHeight*this.heightRatio);t.fillStyle="rgba(0, 0, 0, 0.5)",t.fillRect(0,p,this.canvasWidth,2)}},h.prototype.compensateFoldRows=function(o,r){var i=0;if(r&&r.length>0)for(var t=0;t<r.length;t++)o>r[t].start.row&&o<r[t].end.row?i+=o-r[t].start.row:o>=r[t].end.row&&(i+=r[t].end.row-r[t].start.row);return i},h}();$.implement(s.prototype,y),x.Decorator=s}),ace.define("ace/virtual_renderer",["require","exports","module","ace/lib/oop","ace/lib/dom","ace/lib/lang","ace/config","ace/layer/gutter","ace/layer/marker","ace/layer/text","ace/layer/cursor","ace/scrollbar","ace/scrollbar","ace/scrollbar_custom","ace/scrollbar_custom","ace/renderloop","ace/layer/font_metrics","ace/lib/event_emitter","ace/css/editor-css","ace/layer/decorators","ace/lib/useragent","ace/layer/text_util"],function(f,x,W){var M=f("./lib/oop"),$=f("./lib/dom"),y=f("./lib/lang"),s=f("./config"),h=f("./layer/gutter").Gutter,o=f("./layer/marker").Marker,r=f("./layer/text").Text,i=f("./layer/cursor").Cursor,t=f("./scrollbar").HScrollBar,e=f("./scrollbar").VScrollBar,n=f("./scrollbar_custom").HScrollBar,a=f("./scrollbar_custom").VScrollBar,c=f("./renderloop").RenderLoop,d=f("./layer/font_metrics").FontMetrics,k=f("./lib/event_emitter").EventEmitter,v=f("./css/editor-css"),p=f("./layer/decorators").Decorator,u=f("./lib/useragent"),m=f("./layer/text_util").isTextToken;$.importCssString(v,"ace_editor.css",!1);var A=function(){function S(C,R){var g=this;this.container=C||$.createElement("div"),$.addCssClass(this.container,"ace_editor"),$.HI_DPI&&$.addCssClass(this.container,"ace_hidpi"),this.setTheme(R),s.get("useStrictCSP")==null&&s.set("useStrictCSP",!1),this.$gutter=$.createElement("div"),this.$gutter.className="ace_gutter",this.container.appendChild(this.$gutter),this.$gutter.setAttribute("aria-hidden","true"),this.scroller=$.createElement("div"),this.scroller.className="ace_scroller",this.container.appendChild(this.scroller),this.content=$.createElement("div"),this.content.className="ace_content",this.scroller.appendChild(this.content),this.$gutterLayer=new h(this.$gutter),this.$gutterLayer.on("changeGutterWidth",this.onGutterResize.bind(this)),this.$markerBack=new o(this.content);var w=this.$textLayer=new r(this.content);this.canvas=w.element,this.$markerFront=new o(this.content),this.$cursorLayer=new i(this.content),this.$horizScroll=!1,this.$vScroll=!1,this.scrollBar=this.scrollBarV=new e(this.container,this),this.scrollBarH=new t(this.container,this),this.scrollBarV.on("scroll",function(l){g.$scrollAnimation||g.session.setScrollTop(l.data-g.scrollMargin.top)}),this.scrollBarH.on("scroll",function(l){g.$scrollAnimation||g.session.setScrollLeft(l.data-g.scrollMargin.left)}),this.scrollTop=0,this.scrollLeft=0,this.cursorPos={row:0,column:0},this.$fontMetrics=new d(this.container),this.$textLayer.$setFontMetrics(this.$fontMetrics),this.$textLayer.on("changeCharacterSize",function(l){g.updateCharacterSize(),g.onResize(!0,g.gutterWidth,g.$size.width,g.$size.height),g._signal("changeCharacterSize",l)}),this.$size={width:0,height:0,scrollerHeight:0,scrollerWidth:0,$dirty:!0},this.layerConfig={width:1,padding:0,firstRow:0,firstRowScreen:0,lastRow:0,lineHeight:0,characterWidth:0,minHeight:1,maxHeight:1,offset:0,height:1,gutterOffset:1},this.scrollMargin={left:0,right:0,top:0,bottom:0,v:0,h:0},this.margin={left:0,right:0,top:0,bottom:0,v:0,h:0},this.$keepTextAreaAtCursor=!u.isIOS,this.$loop=new c(this.$renderChanges.bind(this),this.container.ownerDocument.defaultView),this.$loop.schedule(this.CHANGE_FULL),this.updateCharacterSize(),this.setPadding(4),this.$addResizeObserver(),s.resetOptions(this),s._signal("renderer",this)}return S.prototype.updateCharacterSize=function(){this.$textLayer.allowBoldFonts!=this.$allowBoldFonts&&(this.$allowBoldFonts=this.$textLayer.allowBoldFonts,this.setStyle("ace_nobold",!this.$allowBoldFonts)),this.layerConfig.characterWidth=this.characterWidth=this.$textLayer.getCharacterWidth(),this.layerConfig.lineHeight=this.lineHeight=this.$textLayer.getLineHeight(),this.$updatePrintMargin(),$.setStyle(this.scroller.style,"line-height",this.lineHeight+"px")},S.prototype.setSession=function(C){this.session&&this.session.doc.off("changeNewLineMode",this.onChangeNewLineMode),this.session=C,C&&this.scrollMargin.top&&C.getScrollTop()<=0&&C.setScrollTop(-this.scrollMargin.top),this.$cursorLayer.setSession(C),this.$markerBack.setSession(C),this.$markerFront.setSession(C),this.$gutterLayer.setSession(C),this.$textLayer.setSession(C),C&&(this.$loop.schedule(this.CHANGE_FULL),this.session.$setFontMetrics(this.$fontMetrics),this.scrollBarH.scrollLeft=this.scrollBarV.scrollTop=null,this.onChangeNewLineMode=this.onChangeNewLineMode.bind(this),this.onChangeNewLineMode(),this.session.doc.on("changeNewLineMode",this.onChangeNewLineMode))},S.prototype.updateLines=function(C,R,g){if(R===void 0&&(R=1/0),this.$changedLines?(this.$changedLines.firstRow>C&&(this.$changedLines.firstRow=C),this.$changedLines.lastRow<R&&(this.$changedLines.lastRow=R)):this.$changedLines={firstRow:C,lastRow:R},this.$changedLines.lastRow<this.layerConfig.firstRow)if(g)this.$changedLines.lastRow=this.layerConfig.lastRow;else return;this.$changedLines.firstRow>this.layerConfig.lastRow||this.$loop.schedule(this.CHANGE_LINES)},S.prototype.onChangeNewLineMode=function(){this.$loop.schedule(this.CHANGE_TEXT),this.$textLayer.$updateEolChar(),this.session.$bidiHandler.setEolChar(this.$textLayer.EOL_CHAR)},S.prototype.onChangeTabSize=function(){this.$loop.schedule(this.CHANGE_TEXT|this.CHANGE_MARKER),this.$textLayer.onChangeTabSize()},S.prototype.updateText=function(){this.$loop.schedule(this.CHANGE_TEXT)},S.prototype.updateFull=function(C){C?this.$renderChanges(this.CHANGE_FULL,!0):this.$loop.schedule(this.CHANGE_FULL)},S.prototype.updateFontSize=function(){this.$textLayer.checkForSizeChanges()},S.prototype.$updateSizeAsync=function(){this.$loop.pending?this.$size.$dirty=!0:this.onResize()},S.prototype.onResize=function(C,R,g,w){if(!(this.resizing>2)){this.resizing>0?this.resizing++:this.resizing=C?1:0;var l=this.container;w||(w=l.clientHeight||l.scrollHeight),!w&&this.$maxLines&&this.lineHeight>1&&(!l.style.height||l.style.height=="0px")&&(l.style.height="1px",w=l.clientHeight||l.scrollHeight),g||(g=l.clientWidth||l.scrollWidth);var _=this.$updateCachedSize(C,R,g,w);if(this.$resizeTimer&&this.$resizeTimer.cancel(),!this.$size.scrollerHeight||!g&&!w)return this.resizing=0;C&&(this.$gutterLayer.$padding=null),C?this.$renderChanges(_|this.$changes,!0):this.$loop.schedule(_|this.$changes),this.resizing&&(this.resizing=0),this.scrollBarH.scrollLeft=this.scrollBarV.scrollTop=null,this.$customScrollbar&&this.$updateCustomScrollbar(!0)}},S.prototype.$updateCachedSize=function(C,R,g,w){w-=this.$extraHeight||0;var l=0,_=this.$size,L={width:_.width,height:_.height,scrollerHeight:_.scrollerHeight,scrollerWidth:_.scrollerWidth};if(w&&(C||_.height!=w)&&(_.height=w,l|=this.CHANGE_SIZE,_.scrollerHeight=_.height,this.$horizScroll&&(_.scrollerHeight-=this.scrollBarH.getHeight()),this.scrollBarV.setHeight(_.scrollerHeight),this.scrollBarV.element.style.bottom=this.scrollBarH.getHeight()+"px",l=l|this.CHANGE_SCROLL),g&&(C||_.width!=g)){l|=this.CHANGE_SIZE,_.width=g,R==null&&(R=this.$showGutter?this.$gutter.offsetWidth:0),this.gutterWidth=R,$.setStyle(this.scrollBarH.element.style,"left",R+"px"),$.setStyle(this.scroller.style,"left",R+this.margin.left+"px"),_.scrollerWidth=Math.max(0,g-R-this.scrollBarV.getWidth()-this.margin.h),$.setStyle(this.$gutter.style,"left",this.margin.left+"px");var F=this.scrollBarV.getWidth()+"px";$.setStyle(this.scrollBarH.element.style,"right",F),$.setStyle(this.scroller.style,"right",F),$.setStyle(this.scroller.style,"bottom",this.scrollBarH.getHeight()),this.scrollBarH.setWidth(_.scrollerWidth),(this.session&&this.session.getUseWrapMode()&&this.adjustWrapLimit()||C)&&(l|=this.CHANGE_FULL)}return _.$dirty=!g||!w,l&&this._signal("resize",L),l},S.prototype.onGutterResize=function(C){var R=this.$showGutter?C:0;R!=this.gutterWidth&&(this.$changes|=this.$updateCachedSize(!0,R,this.$size.width,this.$size.height)),this.session.getUseWrapMode()&&this.adjustWrapLimit()?this.$loop.schedule(this.CHANGE_FULL):this.$size.$dirty?this.$loop.schedule(this.CHANGE_FULL):this.$computeLayerConfig()},S.prototype.adjustWrapLimit=function(){var C=this.$size.scrollerWidth-this.$padding*2,R=Math.floor(C/this.characterWidth);return this.session.adjustWrapLimit(R,this.$showPrintMargin&&this.$printMarginColumn)},S.prototype.setAnimatedScroll=function(C){this.setOption("animatedScroll",C)},S.prototype.getAnimatedScroll=function(){return this.$animatedScroll},S.prototype.setShowInvisibles=function(C){this.setOption("showInvisibles",C),this.session.$bidiHandler.setShowInvisibles(C)},S.prototype.getShowInvisibles=function(){return this.getOption("showInvisibles")},S.prototype.getDisplayIndentGuides=function(){return this.getOption("displayIndentGuides")},S.prototype.setDisplayIndentGuides=function(C){this.setOption("displayIndentGuides",C)},S.prototype.getHighlightIndentGuides=function(){return this.getOption("highlightIndentGuides")},S.prototype.setHighlightIndentGuides=function(C){this.setOption("highlightIndentGuides",C)},S.prototype.setShowPrintMargin=function(C){this.setOption("showPrintMargin",C)},S.prototype.getShowPrintMargin=function(){return this.getOption("showPrintMargin")},S.prototype.setPrintMarginColumn=function(C){this.setOption("printMarginColumn",C)},S.prototype.getPrintMarginColumn=function(){return this.getOption("printMarginColumn")},S.prototype.getShowGutter=function(){return this.getOption("showGutter")},S.prototype.setShowGutter=function(C){return this.setOption("showGutter",C)},S.prototype.getFadeFoldWidgets=function(){return this.getOption("fadeFoldWidgets")},S.prototype.setFadeFoldWidgets=function(C){this.setOption("fadeFoldWidgets",C)},S.prototype.setHighlightGutterLine=function(C){this.setOption("highlightGutterLine",C)},S.prototype.getHighlightGutterLine=function(){return this.getOption("highlightGutterLine")},S.prototype.$updatePrintMargin=function(){if(!(!this.$showPrintMargin&&!this.$printMarginEl)){if(!this.$printMarginEl){var C=$.createElement("div");C.className="ace_layer ace_print-margin-layer",this.$printMarginEl=$.createElement("div"),this.$printMarginEl.className="ace_print-margin",C.appendChild(this.$printMarginEl),this.content.insertBefore(C,this.content.firstChild)}var R=this.$printMarginEl.style;R.left=Math.round(this.characterWidth*this.$printMarginColumn+this.$padding)+"px",R.visibility=this.$showPrintMargin?"visible":"hidden",this.session&&this.session.$wrap==-1&&this.adjustWrapLimit()}},S.prototype.getContainerElement=function(){return this.container},S.prototype.getMouseEventTarget=function(){return this.scroller},S.prototype.getTextAreaContainer=function(){return this.container},S.prototype.$moveTextAreaToCursor=function(){if(!this.$isMousePressed){var C=this.textarea.style,R=this.$composition;if(!this.$keepTextAreaAtCursor&&!R){$.translate(this.textarea,-100,0);return}var g=this.$cursorLayer.$pixelPos;if(g){R&&R.markerRange&&(g=this.$cursorLayer.getPixelPosition(R.markerRange.start,!0));var w=this.layerConfig,l=g.top,_=g.left;l-=w.offset;var L=R&&R.useTextareaForIME||u.isMobile?this.lineHeight:1;if(l<0||l>w.height-L){$.translate(this.textarea,0,0);return}var F=1,U=this.$size.height-L;if(!R)l+=this.lineHeight;else if(R.useTextareaForIME){var H=this.textarea.value;F=this.characterWidth*this.session.$getStringScreenWidth(H)[0]}else l+=this.lineHeight+2;_-=this.scrollLeft,_>this.$size.scrollerWidth-F&&(_=this.$size.scrollerWidth-F),_+=this.gutterWidth+this.margin.left,$.setStyle(C,"height",L+"px"),$.setStyle(C,"width",F+"px"),$.translate(this.textarea,Math.min(_,this.$size.scrollerWidth-F),Math.min(l,U))}}},S.prototype.getFirstVisibleRow=function(){return this.layerConfig.firstRow},S.prototype.getFirstFullyVisibleRow=function(){return this.layerConfig.firstRow+(this.layerConfig.offset===0?0:1)},S.prototype.getLastFullyVisibleRow=function(){var C=this.layerConfig,R=C.lastRow,g=this.session.documentToScreenRow(R,0)*C.lineHeight;return g-this.session.getScrollTop()>C.height-C.lineHeight?R-1:R},S.prototype.getLastVisibleRow=function(){return this.layerConfig.lastRow},S.prototype.setPadding=function(C){this.$padding=C,this.$textLayer.setPadding(C),this.$cursorLayer.setPadding(C),this.$markerFront.setPadding(C),this.$markerBack.setPadding(C),this.$loop.schedule(this.CHANGE_FULL),this.$updatePrintMargin()},S.prototype.setScrollMargin=function(C,R,g,w){var l=this.scrollMargin;l.top=C|0,l.bottom=R|0,l.right=w|0,l.left=g|0,l.v=l.top+l.bottom,l.h=l.left+l.right,l.top&&this.scrollTop<=0&&this.session&&this.session.setScrollTop(-l.top),this.updateFull()},S.prototype.setMargin=function(C,R,g,w){var l=this.margin;l.top=C|0,l.bottom=R|0,l.right=w|0,l.left=g|0,l.v=l.top+l.bottom,l.h=l.left+l.right,this.$updateCachedSize(!0,this.gutterWidth,this.$size.width,this.$size.height),this.updateFull()},S.prototype.getHScrollBarAlwaysVisible=function(){return this.$hScrollBarAlwaysVisible},S.prototype.setHScrollBarAlwaysVisible=function(C){this.setOption("hScrollBarAlwaysVisible",C)},S.prototype.getVScrollBarAlwaysVisible=function(){return this.$vScrollBarAlwaysVisible},S.prototype.setVScrollBarAlwaysVisible=function(C){this.setOption("vScrollBarAlwaysVisible",C)},S.prototype.$updateScrollBarV=function(){var C=this.layerConfig.maxHeight,R=this.$size.scrollerHeight;!this.$maxLines&&this.$scrollPastEnd&&(C-=(R-this.lineHeight)*this.$scrollPastEnd,this.scrollTop>C-R&&(C=this.scrollTop+R,this.scrollBarV.scrollTop=null)),this.scrollBarV.setScrollHeight(C+this.scrollMargin.v),this.scrollBarV.setScrollTop(this.scrollTop+this.scrollMargin.top)},S.prototype.$updateScrollBarH=function(){this.scrollBarH.setScrollWidth(this.layerConfig.width+2*this.$padding+this.scrollMargin.h),this.scrollBarH.setScrollLeft(this.scrollLeft+this.scrollMargin.left)},S.prototype.freeze=function(){this.$frozen=!0},S.prototype.unfreeze=function(){this.$frozen=!1},S.prototype.$renderChanges=function(C,R){if(this.$changes&&(C|=this.$changes,this.$changes=0),!this.session||!this.container.offsetWidth||this.$frozen||!C&&!R){this.$changes|=C;return}if(this.$size.$dirty)return this.$changes|=C,this.onResize(!0);this.lineHeight||this.$textLayer.checkForSizeChanges(),this._signal("beforeRender",C),this.session&&this.session.$bidiHandler&&this.session.$bidiHandler.updateCharacterWidths(this.$fontMetrics);var g=this.layerConfig;if(C&this.CHANGE_FULL||C&this.CHANGE_SIZE||C&this.CHANGE_TEXT||C&this.CHANGE_LINES||C&this.CHANGE_SCROLL||C&this.CHANGE_H_SCROLL){if(C|=this.$computeLayerConfig()|this.$loop.clear(),g.firstRow!=this.layerConfig.firstRow&&g.firstRowScreen==this.layerConfig.firstRowScreen){var w=this.scrollTop+(g.firstRow-Math.max(this.layerConfig.firstRow,0))*this.lineHeight;w>0&&(this.scrollTop=w,C=C|this.CHANGE_SCROLL,C|=this.$computeLayerConfig()|this.$loop.clear())}g=this.layerConfig,this.$updateScrollBarV(),C&this.CHANGE_H_SCROLL&&this.$updateScrollBarH(),$.translate(this.content,-this.scrollLeft,-g.offset);var l=g.width+2*this.$padding+"px",_=g.minHeight+"px";$.setStyle(this.content.style,"width",l),$.setStyle(this.content.style,"height",_)}if(C&this.CHANGE_H_SCROLL&&($.translate(this.content,-this.scrollLeft,-g.offset),this.scroller.className=this.scrollLeft<=0?"ace_scroller ":"ace_scroller ace_scroll-left ",this.enableKeyboardAccessibility&&(this.scroller.className+=this.keyboardFocusClassName)),C&this.CHANGE_FULL){this.$changedLines=null,this.$textLayer.update(g),this.$showGutter&&this.$gutterLayer.update(g),this.$customScrollbar&&this.$scrollDecorator.$updateDecorators(g),this.$markerBack.update(g),this.$markerFront.update(g),this.$cursorLayer.update(g),this.$moveTextAreaToCursor(),this._signal("afterRender",C);return}if(C&this.CHANGE_SCROLL){this.$changedLines=null,C&this.CHANGE_TEXT||C&this.CHANGE_LINES?this.$textLayer.update(g):this.$textLayer.scrollLines(g),this.$showGutter&&(C&this.CHANGE_GUTTER||C&this.CHANGE_LINES?this.$gutterLayer.update(g):this.$gutterLayer.scrollLines(g)),this.$customScrollbar&&this.$scrollDecorator.$updateDecorators(g),this.$markerBack.update(g),this.$markerFront.update(g),this.$cursorLayer.update(g),this.$moveTextAreaToCursor(),this._signal("afterRender",C);return}C&this.CHANGE_TEXT?(this.$changedLines=null,this.$textLayer.update(g),this.$showGutter&&this.$gutterLayer.update(g),this.$customScrollbar&&this.$scrollDecorator.$updateDecorators(g)):C&this.CHANGE_LINES?((this.$updateLines()||C&this.CHANGE_GUTTER&&this.$showGutter)&&this.$gutterLayer.update(g),this.$customScrollbar&&this.$scrollDecorator.$updateDecorators(g)):C&this.CHANGE_TEXT||C&this.CHANGE_GUTTER?(this.$showGutter&&this.$gutterLayer.update(g),this.$customScrollbar&&this.$scrollDecorator.$updateDecorators(g)):C&this.CHANGE_CURSOR&&(this.$highlightGutterLine&&this.$gutterLayer.updateLineHighlight(g),this.$customScrollbar&&this.$scrollDecorator.$updateDecorators(g)),C&this.CHANGE_CURSOR&&(this.$cursorLayer.update(g),this.$moveTextAreaToCursor()),C&(this.CHANGE_MARKER|this.CHANGE_MARKER_FRONT)&&this.$markerFront.update(g),C&(this.CHANGE_MARKER|this.CHANGE_MARKER_BACK)&&this.$markerBack.update(g),this._signal("afterRender",C)},S.prototype.$autosize=function(){var C=this.session.getScreenLength()*this.lineHeight,R=this.$maxLines*this.lineHeight,g=Math.min(R,Math.max((this.$minLines||1)*this.lineHeight,C))+this.scrollMargin.v+(this.$extraHeight||0);this.$horizScroll&&(g+=this.scrollBarH.getHeight()),this.$maxPixelHeight&&g>this.$maxPixelHeight&&(g=this.$maxPixelHeight);var w=g<=2*this.lineHeight,l=!w&&C>R;if(g!=this.desiredHeight||this.$size.height!=this.desiredHeight||l!=this.$vScroll){l!=this.$vScroll&&(this.$vScroll=l,this.scrollBarV.setVisible(l));var _=this.container.clientWidth;this.container.style.height=g+"px",this.$updateCachedSize(!0,this.$gutterWidth,_,g),this.desiredHeight=g,this._signal("autosize")}},S.prototype.$computeLayerConfig=function(){var C=this.session,R=this.$size,g=R.height<=2*this.lineHeight,w=this.session.getScreenLength(),l=w*this.lineHeight,_=this.$getLongestLine(),L=!g&&(this.$hScrollBarAlwaysVisible||R.scrollerWidth-_-2*this.$padding<0),F=this.$horizScroll!==L;F&&(this.$horizScroll=L,this.scrollBarH.setVisible(L));var U=this.$vScroll;this.$maxLines&&this.lineHeight>1&&this.$autosize();var H=R.scrollerHeight+this.lineHeight,X=!this.$maxLines&&this.$scrollPastEnd?(R.scrollerHeight-this.lineHeight)*this.$scrollPastEnd:0;l+=X;var q=this.scrollMargin;this.session.setScrollTop(Math.max(-q.top,Math.min(this.scrollTop,l-R.scrollerHeight+q.bottom))),this.session.setScrollLeft(Math.max(-q.left,Math.min(this.scrollLeft,_+2*this.$padding-R.scrollerWidth+q.right)));var Z=!g&&(this.$vScrollBarAlwaysVisible||R.scrollerHeight-l+X<0||this.scrollTop>q.top),oe=U!==Z;oe&&(this.$vScroll=Z,this.scrollBarV.setVisible(Z));var ee=this.scrollTop%this.lineHeight,se=Math.ceil(H/this.lineHeight)-1,fe=Math.max(0,Math.round((this.scrollTop-ee)/this.lineHeight)),Ee=fe+se,Se,Ce,De=this.lineHeight;fe=C.screenToDocumentRow(fe,0);var Pe=C.getFoldLine(fe);Pe&&(fe=Pe.start.row),Se=C.documentToScreenRow(fe,0),Ce=C.getRowLength(fe)*De,Ee=Math.min(C.screenToDocumentRow(Ee,0),C.getLength()-1),H=R.scrollerHeight+C.getRowLength(Ee)*De+Ce,ee=this.scrollTop-Se*De;var We=0;return(this.layerConfig.width!=_||F)&&(We=this.CHANGE_H_SCROLL),(F||oe)&&(We|=this.$updateCachedSize(!0,this.gutterWidth,R.width,R.height),this._signal("scrollbarVisibilityChanged"),oe&&(_=this.$getLongestLine())),this.layerConfig={width:_,padding:this.$padding,firstRow:fe,firstRowScreen:Se,lastRow:Ee,lineHeight:De,characterWidth:this.characterWidth,minHeight:H,maxHeight:l,offset:ee,gutterOffset:De?Math.max(0,Math.ceil((ee+R.height-R.scrollerHeight)/De)):0,height:this.$size.scrollerHeight},this.session.$bidiHandler&&this.session.$bidiHandler.setContentWidth(_-this.$padding),We},S.prototype.$updateLines=function(){if(this.$changedLines){var C=this.$changedLines.firstRow,R=this.$changedLines.lastRow;this.$changedLines=null;var g=this.layerConfig;if(!(C>g.lastRow+1)&&!(R<g.firstRow)){if(R===1/0){this.$showGutter&&this.$gutterLayer.update(g),this.$textLayer.update(g);return}return this.$textLayer.updateLines(g,C,R),!0}}},S.prototype.$getLongestLine=function(){var C=this.session.getScreenWidth();return this.showInvisibles&&!this.session.$useWrapMode&&(C+=1),this.$textLayer&&C>this.$textLayer.MAX_LINE_LENGTH&&(C=this.$textLayer.MAX_LINE_LENGTH+30),Math.max(this.$size.scrollerWidth-2*this.$padding,Math.round(C*this.characterWidth))},S.prototype.updateFrontMarkers=function(){this.$markerFront.setMarkers(this.session.getMarkers(!0)),this.$loop.schedule(this.CHANGE_MARKER_FRONT)},S.prototype.updateBackMarkers=function(){this.$markerBack.setMarkers(this.session.getMarkers()),this.$loop.schedule(this.CHANGE_MARKER_BACK)},S.prototype.addGutterDecoration=function(C,R){this.$gutterLayer.addGutterDecoration(C,R)},S.prototype.removeGutterDecoration=function(C,R){this.$gutterLayer.removeGutterDecoration(C,R)},S.prototype.updateBreakpoints=function(C){this._rows=C,this.$loop.schedule(this.CHANGE_GUTTER)},S.prototype.setAnnotations=function(C){this.$gutterLayer.setAnnotations(C),this.$loop.schedule(this.CHANGE_GUTTER)},S.prototype.updateCursor=function(){this.$loop.schedule(this.CHANGE_CURSOR)},S.prototype.hideCursor=function(){this.$cursorLayer.hideCursor()},S.prototype.showCursor=function(){this.$cursorLayer.showCursor()},S.prototype.scrollSelectionIntoView=function(C,R,g){this.scrollCursorIntoView(C,g),this.scrollCursorIntoView(R,g)},S.prototype.scrollCursorIntoView=function(C,R,g){if(this.$size.scrollerHeight!==0){var w=this.$cursorLayer.getPixelPosition(C),l=w.left,_=w.top,L=g&&g.top||0,F=g&&g.bottom||0;this.$scrollAnimation&&(this.$stopAnimation=!0);var U=this.$scrollAnimation?this.session.getScrollTop():this.scrollTop;U+L>_?(R&&U+L>_+this.lineHeight&&(_-=R*this.$size.scrollerHeight),_===0&&(_=-this.scrollMargin.top),this.session.setScrollTop(_)):U+this.$size.scrollerHeight-F<_+this.lineHeight&&(R&&U+this.$size.scrollerHeight-F<_-this.lineHeight&&(_+=R*this.$size.scrollerHeight),this.session.setScrollTop(_+this.lineHeight+F-this.$size.scrollerHeight));var H=this.scrollLeft,X=2*this.layerConfig.characterWidth;l-X<H?(l-=X,l<this.$padding+X&&(l=-this.scrollMargin.left),this.session.setScrollLeft(l)):(l+=X,H+this.$size.scrollerWidth<l+this.characterWidth?this.session.setScrollLeft(Math.round(l+this.characterWidth-this.$size.scrollerWidth)):H<=this.$padding&&l-H<this.characterWidth&&this.session.setScrollLeft(0))}},S.prototype.getScrollTop=function(){return this.session.getScrollTop()},S.prototype.getScrollLeft=function(){return this.session.getScrollLeft()},S.prototype.getScrollTopRow=function(){return this.scrollTop/this.lineHeight},S.prototype.getScrollBottomRow=function(){return Math.max(0,Math.floor((this.scrollTop+this.$size.scrollerHeight)/this.lineHeight)-1)},S.prototype.scrollToRow=function(C){this.session.setScrollTop(C*this.lineHeight)},S.prototype.alignCursor=function(C,R){typeof C=="number"&&(C={row:C,column:0});var g=this.$cursorLayer.getPixelPosition(C),w=this.$size.scrollerHeight-this.lineHeight,l=g.top-w*(R||0);return this.session.setScrollTop(l),l},S.prototype.$calcSteps=function(C,R){var g=0,w=this.STEPS,l=[],_=function(L,F,U){return U*(Math.pow(L-1,3)+1)+F};for(g=0;g<w;++g)l.push(_(g/this.STEPS,C,R-C));return l},S.prototype.scrollToLine=function(C,R,g,w){var l=this.$cursorLayer.getPixelPosition({row:C,column:0}),_=l.top;R&&(_-=this.$size.scrollerHeight/2);var L=this.scrollTop;this.session.setScrollTop(_),g!==!1&&this.animateScrolling(L,w)},S.prototype.animateScrolling=function(C,R){var g=this.scrollTop;if(!this.$animatedScroll)return;var w=this;if(C==g)return;if(this.$scrollAnimation){var l=this.$scrollAnimation.steps;if(l.length&&(C=l[0],C==g))return}var _=w.$calcSteps(C,g);this.$scrollAnimation={from:C,to:g,steps:_},clearInterval(this.$timer),w.session.setScrollTop(_.shift()),w.session.$scrollTop=g;function L(){w.$timer=clearInterval(w.$timer),w.$scrollAnimation=null,w.$stopAnimation=!1,R&&R()}this.$timer=setInterval(function(){if(w.$stopAnimation){L();return}if(!w.session)return clearInterval(w.$timer);_.length?(w.session.setScrollTop(_.shift()),w.session.$scrollTop=g):g!=null?(w.session.$scrollTop=-1,w.session.setScrollTop(g),g=null):L()},10)},S.prototype.scrollToY=function(C){this.scrollTop!==C&&(this.$loop.schedule(this.CHANGE_SCROLL),this.scrollTop=C)},S.prototype.scrollToX=function(C){this.scrollLeft!==C&&(this.scrollLeft=C),this.$loop.schedule(this.CHANGE_H_SCROLL)},S.prototype.scrollTo=function(C,R){this.session.setScrollTop(R),this.session.setScrollLeft(C)},S.prototype.scrollBy=function(C,R){R&&this.session.setScrollTop(this.session.getScrollTop()+R),C&&this.session.setScrollLeft(this.session.getScrollLeft()+C)},S.prototype.isScrollableBy=function(C,R){if(R<0&&this.session.getScrollTop()>=1-this.scrollMargin.top||R>0&&this.session.getScrollTop()+this.$size.scrollerHeight-this.layerConfig.maxHeight<-1+this.scrollMargin.bottom||C<0&&this.session.getScrollLeft()>=1-this.scrollMargin.left||C>0&&this.session.getScrollLeft()+this.$size.scrollerWidth-this.layerConfig.width<-1+this.scrollMargin.right)return!0},S.prototype.pixelToScreenCoordinates=function(C,R){var g;if(this.$hasCssTransforms){g={top:0,left:0};var w=this.$fontMetrics.transformCoordinates([C,R]);C=w[1]-this.gutterWidth-this.margin.left,R=w[0]}else g=this.scroller.getBoundingClientRect();var l=C+this.scrollLeft-g.left-this.$padding,_=l/this.characterWidth,L=Math.floor((R+this.scrollTop-g.top)/this.lineHeight),F=this.$blockCursor?Math.floor(_):Math.round(_);return{row:L,column:F,side:_-F>0?1:-1,offsetX:l}},S.prototype.screenToTextCoordinates=function(C,R){var g;if(this.$hasCssTransforms){g={top:0,left:0};var w=this.$fontMetrics.transformCoordinates([C,R]);C=w[1]-this.gutterWidth-this.margin.left,R=w[0]}else g=this.scroller.getBoundingClientRect();var l=C+this.scrollLeft-g.left-this.$padding,_=l/this.characterWidth,L=this.$blockCursor?Math.floor(_):Math.round(_),F=Math.floor((R+this.scrollTop-g.top)/this.lineHeight);return this.session.screenToDocumentPosition(F,Math.max(L,0),l)},S.prototype.textToScreenCoordinates=function(C,R){var g=this.scroller.getBoundingClientRect(),w=this.session.documentToScreenPosition(C,R),l=this.$padding+(this.session.$bidiHandler.isBidiRow(w.row,C)?this.session.$bidiHandler.getPosLeft(w.column):Math.round(w.column*this.characterWidth)),_=w.row*this.lineHeight;return{pageX:g.left+l-this.scrollLeft,pageY:g.top+_-this.scrollTop}},S.prototype.visualizeFocus=function(){$.addCssClass(this.container,"ace_focus")},S.prototype.visualizeBlur=function(){$.removeCssClass(this.container,"ace_focus")},S.prototype.showComposition=function(C){this.$composition=C,C.cssText||(C.cssText=this.textarea.style.cssText),C.useTextareaForIME==null&&(C.useTextareaForIME=this.$useTextareaForIME),this.$useTextareaForIME?($.addCssClass(this.textarea,"ace_composition"),this.textarea.style.cssText="",this.$moveTextAreaToCursor(),this.$cursorLayer.element.style.display="none"):C.markerId=this.session.addMarker(C.markerRange,"ace_composition_marker","text")},S.prototype.setCompositionText=function(C){var R=this.session.selection.cursor;this.addToken(C,"composition_placeholder",R.row,R.column),this.$moveTextAreaToCursor()},S.prototype.hideComposition=function(){if(this.$composition){this.$composition.markerId&&this.session.removeMarker(this.$composition.markerId),$.removeCssClass(this.textarea,"ace_composition"),this.textarea.style.cssText=this.$composition.cssText;var C=this.session.selection.cursor;this.removeExtraToken(C.row,C.column),this.$composition=null,this.$cursorLayer.element.style.display=""}},S.prototype.setGhostText=function(C,R){var g=this.session.selection.cursor,w=R||{row:g.row,column:g.column};this.removeGhostText();var l=this.$calculateWrappedTextChunks(C,w);this.addToken(l[0].text,"ghost_text",w.row,w.column),this.$ghostText={text:C,position:{row:w.row,column:w.column}};var _=$.createElement("div");if(l.length>1){var L=this.hideTokensAfterPosition(w.row,w.column),F;l.slice(1).forEach(function(oe){var ee=$.createElement("div"),se=$.createElement("span");se.className="ace_ghost_text",oe.wrapped&&(ee.className="ghost_text_line_wrapped"),oe.text.length===0&&(oe.text=" "),se.appendChild($.createTextNode(oe.text)),ee.appendChild(se),_.appendChild(ee),F=ee}),L.forEach(function(oe){var ee=$.createElement("span");m(oe.type)||(ee.className="ace_"+oe.type.replace(/\./g," ace_")),ee.appendChild($.createTextNode(oe.value)),F.appendChild(ee)}),this.$ghostTextWidget={el:_,row:w.row,column:w.column,className:"ace_ghost_text_container"},this.session.widgetManager.addLineWidget(this.$ghostTextWidget);var U=this.$cursorLayer.getPixelPosition(w,!0),H=this.container,X=H.getBoundingClientRect().height,q=l.length*this.lineHeight,Z=q<X-U.top;if(Z)return;q<X?this.scrollBy(0,(l.length-1)*this.lineHeight):this.scrollToRow(w.row)}},S.prototype.$calculateWrappedTextChunks=function(C,R){var g=this.$size.scrollerWidth-this.$padding*2,w=Math.floor(g/this.characterWidth)-2;w=w<=0?60:w;for(var l=C.split(/\r?\n/),_=[],L=0;L<l.length;L++){var F=this.session.$getDisplayTokens(l[L],R.column),U=this.session.$computeWrapSplits(F,w,this.session.$tabSize);if(U.length>0){var H=0;U.push(l[L].length);for(var X=0;X<U.length;X++){var q=l[L].slice(H,U[X]);_.push({text:q,wrapped:!0}),H=U[X]}}else _.push({text:l[L],wrapped:!1})}return _},S.prototype.removeGhostText=function(){if(this.$ghostText){var C=this.$ghostText.position;this.removeExtraToken(C.row,C.column),this.$ghostTextWidget&&(this.session.widgetManager.removeLineWidget(this.$ghostTextWidget),this.$ghostTextWidget=null),this.$ghostText=null}},S.prototype.addToken=function(C,R,g,w){var l=this.session;l.bgTokenizer.lines[g]=null;var _={type:R,value:C},L=l.getTokens(g);if(w==null||!L.length)L.push(_);else for(var F=0,U=0;U<L.length;U++){var H=L[U];if(F+=H.value.length,w<=F){var X=H.value.length-(F-w),q=H.value.slice(0,X),Z=H.value.slice(X);L.splice(U,1,{type:H.type,value:q},_,{type:H.type,value:Z});break}}this.updateLines(g,g)},S.prototype.hideTokensAfterPosition=function(C,R){for(var g=this.session.getTokens(C),w=0,l=!1,_=[],L=0;L<g.length;L++){var F=g[L];if(w+=F.value.length,F.type!=="ghost_text"){if(l){_.push({type:F.type,value:F.value}),F.type="hidden_token";continue}w===R&&(l=!0)}}return this.updateLines(C,C),_},S.prototype.removeExtraToken=function(C,R){this.session.bgTokenizer.lines[C]=null,this.updateLines(C,C)},S.prototype.setTheme=function(C,R){var g=this;if(this.$themeId=C,g._dispatchEvent("themeChange",{theme:C}),!C||typeof C=="string"){var w=C||this.$options.theme.initialValue;s.loadModule(["theme",w],l)}else l(C);function l(_){if(g.$themeId!=C)return R&&R();if(!_||!_.cssClass)throw new Error("couldn't load module "+C+" or it didn't call define");_.$id&&(g.$themeId=_.$id),$.importCssString(_.cssText,_.cssClass,g.container),g.theme&&$.removeCssClass(g.container,g.theme.cssClass);var L="padding"in _?_.padding:"padding"in(g.theme||{})?4:g.$padding;g.$padding&&L!=g.$padding&&g.setPadding(L),g.$theme=_.cssClass,g.theme=_,$.addCssClass(g.container,_.cssClass),$.setCssClass(g.container,"ace_dark",_.isDark),g.$size&&(g.$size.width=0,g.$updateSizeAsync()),g._dispatchEvent("themeLoaded",{theme:_}),R&&R(),u.isSafari&&g.scroller&&(g.scroller.style.background="red",g.scroller.style.background="")}},S.prototype.getTheme=function(){return this.$themeId},S.prototype.setStyle=function(C,R){$.setCssClass(this.container,C,R!==!1)},S.prototype.unsetStyle=function(C){$.removeCssClass(this.container,C)},S.prototype.setCursorStyle=function(C){$.setStyle(this.scroller.style,"cursor",C)},S.prototype.setMouseCursor=function(C){$.setStyle(this.scroller.style,"cursor",C)},S.prototype.attachToShadowRoot=function(){$.importCssString(v,"ace_editor.css",this.container)},S.prototype.destroy=function(){this.freeze(),this.$fontMetrics.destroy(),this.$cursorLayer.destroy(),this.removeAllListeners(),this.container.textContent="",this.setOption("useResizeObserver",!1)},S.prototype.$updateCustomScrollbar=function(C){var R=this;this.$horizScroll=this.$vScroll=null,this.scrollBarV.element.remove(),this.scrollBarH.element.remove(),this.$scrollDecorator&&delete this.$scrollDecorator,C===!0?(this.scrollBarV=new a(this.container,this),this.scrollBarH=new n(this.container,this),this.scrollBarV.setHeight(this.$size.scrollerHeight),this.scrollBarH.setWidth(this.$size.scrollerWidth),this.scrollBarV.addEventListener("scroll",function(g){R.$scrollAnimation||R.session.setScrollTop(g.data-R.scrollMargin.top)}),this.scrollBarH.addEventListener("scroll",function(g){R.$scrollAnimation||R.session.setScrollLeft(g.data-R.scrollMargin.left)}),this.$scrollDecorator=new p(this.scrollBarV,this),this.$scrollDecorator.$updateDecorators()):(this.scrollBarV=new e(this.container,this),this.scrollBarH=new t(this.container,this),this.scrollBarV.addEventListener("scroll",function(g){R.$scrollAnimation||R.session.setScrollTop(g.data-R.scrollMargin.top)}),this.scrollBarH.addEventListener("scroll",function(g){R.$scrollAnimation||R.session.setScrollLeft(g.data-R.scrollMargin.left)}))},S.prototype.$addResizeObserver=function(){if(!(!window.ResizeObserver||this.$resizeObserver)){var C=this;this.$resizeTimer=y.delayedCall(function(){C.destroyed||C.onResize()},50),this.$resizeObserver=new window.ResizeObserver(function(R){var g=R[0].contentRect.width,w=R[0].contentRect.height;Math.abs(C.$size.width-g)>1||Math.abs(C.$size.height-w)>1?C.$resizeTimer.delay():C.$resizeTimer.cancel()}),this.$resizeObserver.observe(this.container)}},S}();A.prototype.CHANGE_CURSOR=1,A.prototype.CHANGE_MARKER=2,A.prototype.CHANGE_GUTTER=4,A.prototype.CHANGE_SCROLL=8,A.prototype.CHANGE_LINES=16,A.prototype.CHANGE_TEXT=32,A.prototype.CHANGE_SIZE=64,A.prototype.CHANGE_MARKER_BACK=128,A.prototype.CHANGE_MARKER_FRONT=256,A.prototype.CHANGE_FULL=512,A.prototype.CHANGE_H_SCROLL=1024,A.prototype.$changes=0,A.prototype.$padding=null,A.prototype.$frozen=!1,A.prototype.STEPS=8,M.implement(A.prototype,k),s.defineOptions(A.prototype,"renderer",{useResizeObserver:{set:function(S){!S&&this.$resizeObserver?(this.$resizeObserver.disconnect(),this.$resizeTimer.cancel(),this.$resizeTimer=this.$resizeObserver=null):S&&!this.$resizeObserver&&this.$addResizeObserver()}},animatedScroll:{initialValue:!1},showInvisibles:{set:function(S){this.$textLayer.setShowInvisibles(S)&&this.$loop.schedule(this.CHANGE_TEXT)},initialValue:!1},showPrintMargin:{set:function(){this.$updatePrintMargin()},initialValue:!0},printMarginColumn:{set:function(){this.$updatePrintMargin()},initialValue:80},printMargin:{set:function(S){typeof S=="number"&&(this.$printMarginColumn=S),this.$showPrintMargin=!!S,this.$updatePrintMargin()},get:function(){return this.$showPrintMargin&&this.$printMarginColumn}},showGutter:{set:function(S){this.$gutter.style.display=S?"block":"none",this.$loop.schedule(this.CHANGE_FULL),this.onGutterResize()},initialValue:!0},useSvgGutterIcons:{set:function(S){this.$gutterLayer.$useSvgGutterIcons=S},initialValue:!1},showFoldedAnnotations:{set:function(S){this.$gutterLayer.$showFoldedAnnotations=S},initialValue:!1},fadeFoldWidgets:{set:function(S){$.setCssClass(this.$gutter,"ace_fade-fold-widgets",S)},initialValue:!1},showFoldWidgets:{set:function(S){this.$gutterLayer.setShowFoldWidgets(S),this.$loop.schedule(this.CHANGE_GUTTER)},initialValue:!0},displayIndentGuides:{set:function(S){this.$textLayer.setDisplayIndentGuides(S)&&this.$loop.schedule(this.CHANGE_TEXT)},initialValue:!0},highlightIndentGuides:{set:function(S){this.$textLayer.setHighlightIndentGuides(S)==!0?this.$textLayer.$highlightIndentGuide():this.$textLayer.$clearActiveIndentGuide(this.$textLayer.$lines.cells)},initialValue:!0},highlightGutterLine:{set:function(S){this.$gutterLayer.setHighlightGutterLine(S),this.$loop.schedule(this.CHANGE_GUTTER)},initialValue:!0},hScrollBarAlwaysVisible:{set:function(S){(!this.$hScrollBarAlwaysVisible||!this.$horizScroll)&&this.$loop.schedule(this.CHANGE_SCROLL)},initialValue:!1},vScrollBarAlwaysVisible:{set:function(S){(!this.$vScrollBarAlwaysVisible||!this.$vScroll)&&this.$loop.schedule(this.CHANGE_SCROLL)},initialValue:!1},fontSize:{set:function(S){typeof S=="number"&&(S=S+"px"),this.container.style.fontSize=S,this.updateFontSize()},initialValue:12},fontFamily:{set:function(S){this.container.style.fontFamily=S,this.updateFontSize()}},maxLines:{set:function(S){this.updateFull()}},minLines:{set:function(S){this.$minLines<562949953421311||(this.$minLines=0),this.updateFull()}},maxPixelHeight:{set:function(S){this.updateFull()},initialValue:0},scrollPastEnd:{set:function(S){S=+S||0,this.$scrollPastEnd!=S&&(this.$scrollPastEnd=S,this.$loop.schedule(this.CHANGE_SCROLL))},initialValue:0,handlesSet:!0},fixedWidthGutter:{set:function(S){this.$gutterLayer.$fixedWidth=!!S,this.$loop.schedule(this.CHANGE_GUTTER)}},customScrollbar:{set:function(S){this.$updateCustomScrollbar(S)},initialValue:!1},theme:{set:function(S){this.setTheme(S)},get:function(){return this.$themeId||this.theme},initialValue:"./theme/textmate",handlesSet:!0},hasCssTransforms:{},useTextareaForIME:{initialValue:!u.isMobile&&!u.isIE}}),x.VirtualRenderer=A}),ace.define("ace/worker/worker_client",["require","exports","module","ace/lib/oop","ace/lib/net","ace/lib/event_emitter","ace/config"],function(f,x,W){var M=f("../lib/oop"),$=f("../lib/net"),y=f("../lib/event_emitter").EventEmitter,s=f("../config");function h(t){var e="importScripts('"+$.qualifyURL(t)+"');";try{return new Blob([e],{type:"application/javascript"})}catch{var n=window.BlobBuilder||window.WebKitBlobBuilder||window.MozBlobBuilder,a=new n;return a.append(e),a.getBlob("application/javascript")}}function o(t){if(typeof Worker>"u")return{postMessage:function(){},terminate:function(){}};if(s.get("loadWorkerFromBlob")){var e=h(t),n=window.URL||window.webkitURL,a=n.createObjectURL(e);return new Worker(a)}return new Worker(t)}var r=function(t){t.postMessage||(t=this.$createWorkerFromOldConfig.apply(this,arguments)),this.$worker=t,this.$sendDeltaQueue=this.$sendDeltaQueue.bind(this),this.changeListener=this.changeListener.bind(this),this.onMessage=this.onMessage.bind(this),this.callbackId=1,this.callbacks={},this.$worker.onmessage=this.onMessage};(function(){M.implement(this,y),this.$createWorkerFromOldConfig=function(t,e,n,a,c){if(f.nameToUrl&&!f.toUrl&&(f.toUrl=f.nameToUrl),s.get("packaged")||!f.toUrl)a=a||s.moduleUrl(e,"worker");else{var d=this.$normalizePath;a=a||d(f.toUrl("ace/worker/worker.js",null,"_"));var k={};t.forEach(function(v){k[v]=d(f.toUrl(v,null,"_").replace(/(\.js)?(\?.*)?$/,""))})}return this.$worker=o(a),c&&this.send("importScripts",c),this.$worker.postMessage({init:!0,tlns:k,module:e,classname:n}),this.$worker},this.onMessage=function(t){var e=t.data;switch(e.type){case"event":this._signal(e.name,{data:e.data});break;case"call":var n=this.callbacks[e.id];n&&(n(e.data),delete this.callbacks[e.id]);break;case"error":this.reportError(e.data);break;case"log":window.console&&console.log&&console.log.apply(console,e.data);break}},this.reportError=function(t){window.console&&console.error&&console.error(t)},this.$normalizePath=function(t){return $.qualifyURL(t)},this.terminate=function(){this._signal("terminate",{}),this.deltaQueue=null,this.$worker.terminate(),this.$worker.onerror=function(t){t.preventDefault()},this.$worker=null,this.$doc&&this.$doc.off("change",this.changeListener),this.$doc=null},this.send=function(t,e){this.$worker.postMessage({command:t,args:e})},this.call=function(t,e,n){if(n){var a=this.callbackId++;this.callbacks[a]=n,e.push(a)}this.send(t,e)},this.emit=function(t,e){try{e.data&&e.data.err&&(e.data.err={message:e.data.err.message,stack:e.data.err.stack,code:e.data.err.code}),this.$worker&&this.$worker.postMessage({event:t,data:{data:e.data}})}catch(n){console.error(n.stack)}},this.attachToDocument=function(t){this.$doc&&this.terminate(),this.$doc=t,this.call("setValue",[t.getValue()]),t.on("change",this.changeListener,!0)},this.changeListener=function(t){this.deltaQueue||(this.deltaQueue=[],setTimeout(this.$sendDeltaQueue,0)),t.action=="insert"?this.deltaQueue.push(t.start,t.lines):this.deltaQueue.push(t.start,t.end)},this.$sendDeltaQueue=function(){var t=this.deltaQueue;t&&(this.deltaQueue=null,t.length>50&&t.length>this.$doc.getLength()>>1?this.call("setValue",[this.$doc.getValue()]):this.emit("change",{data:t}))}}).call(r.prototype);var i=function(t,e,n){var a=null,c=!1,d=Object.create(y),k=[],v=new r({messageBuffer:k,terminate:function(){},postMessage:function(u){k.push(u),a&&(c?setTimeout(p):p())}});v.setEmitSync=function(u){c=u};var p=function(){var u=k.shift();u.command?a[u.command].apply(a,u.args):u.event&&d._signal(u.event,u.data)};return d.postMessage=function(u){v.onMessage({data:u})},d.callback=function(u,m){this.postMessage({type:"call",id:m,data:u})},d.emit=function(u,m){this.postMessage({type:"event",name:u,data:m})},s.loadModule(["worker",e],function(u){for(a=new u[n](d);k.length;)p()}),v};x.UIWorkerClient=i,x.WorkerClient=r,x.createWorker=o}),ace.define("ace/placeholder",["require","exports","module","ace/range","ace/lib/event_emitter","ace/lib/oop"],function(f,x,W){var M=f("./range").Range,$=f("./lib/event_emitter").EventEmitter,y=f("./lib/oop"),s=function(){function h(o,r,i,t,e,n){var a=this;this.length=r,this.session=o,this.doc=o.getDocument(),this.mainClass=e,this.othersClass=n,this.$onUpdate=this.onUpdate.bind(this),this.doc.on("change",this.$onUpdate,!0),this.$others=t,this.$onCursorChange=function(){setTimeout(function(){a.onCursorChange()})},this.$pos=i;var c=o.getUndoManager().$undoStack||o.getUndoManager().$undostack||{length:-1};this.$undoStackDepth=c.length,this.setup(),o.selection.on("changeCursor",this.$onCursorChange)}return h.prototype.setup=function(){var o=this,r=this.doc,i=this.session;this.selectionBefore=i.selection.toJSON(),i.selection.inMultiSelectMode&&i.selection.toSingleRange(),this.pos=r.createAnchor(this.$pos.row,this.$pos.column);var t=this.pos;t.$insertRight=!0,t.detach(),t.markerId=i.addMarker(new M(t.row,t.column,t.row,t.column+this.length),this.mainClass,null,!1),this.others=[],this.$others.forEach(function(e){var n=r.createAnchor(e.row,e.column);n.$insertRight=!0,n.detach(),o.others.push(n)}),i.setUndoSelect(!1)},h.prototype.showOtherMarkers=function(){if(!this.othersActive){var o=this.session,r=this;this.othersActive=!0,this.others.forEach(function(i){i.markerId=o.addMarker(new M(i.row,i.column,i.row,i.column+r.length),r.othersClass,null,!1)})}},h.prototype.hideOtherMarkers=function(){if(this.othersActive){this.othersActive=!1;for(var o=0;o<this.others.length;o++)this.session.removeMarker(this.others[o].markerId)}},h.prototype.onUpdate=function(o){if(this.$updating)return this.updateAnchors(o);var r=o;if(r.start.row===r.end.row&&r.start.row===this.pos.row){this.$updating=!0;var i=o.action==="insert"?r.end.column-r.start.column:r.start.column-r.end.column,t=r.start.column>=this.pos.column&&r.start.column<=this.pos.column+this.length+1,e=r.start.column-this.pos.column;if(this.updateAnchors(o),t&&(this.length+=i),t&&!this.session.$fromUndo){if(o.action==="insert")for(var n=this.others.length-1;n>=0;n--){var a=this.others[n],c={row:a.row,column:a.column+e};this.doc.insertMergedLines(c,o.lines)}else if(o.action==="remove")for(var n=this.others.length-1;n>=0;n--){var a=this.others[n],c={row:a.row,column:a.column+e};this.doc.remove(new M(c.row,c.column,c.row,c.column-i))}}this.$updating=!1,this.updateMarkers()}},h.prototype.updateAnchors=function(o){this.pos.onChange(o);for(var r=this.others.length;r--;)this.others[r].onChange(o);this.updateMarkers()},h.prototype.updateMarkers=function(){if(!this.$updating){var o=this,r=this.session,i=function(e,n){r.removeMarker(e.markerId),e.markerId=r.addMarker(new M(e.row,e.column,e.row,e.column+o.length),n,null,!1)};i(this.pos,this.mainClass);for(var t=this.others.length;t--;)i(this.others[t],this.othersClass)}},h.prototype.onCursorChange=function(o){if(!(this.$updating||!this.session)){var r=this.session.selection.getCursor();r.row===this.pos.row&&r.column>=this.pos.column&&r.column<=this.pos.column+this.length?(this.showOtherMarkers(),this._emit("cursorEnter",o)):(this.hideOtherMarkers(),this._emit("cursorLeave",o))}},h.prototype.detach=function(){this.session.removeMarker(this.pos&&this.pos.markerId),this.hideOtherMarkers(),this.doc.off("change",this.$onUpdate),this.session.selection.off("changeCursor",this.$onCursorChange),this.session.setUndoSelect(!0),this.session=null},h.prototype.cancel=function(){if(this.$undoStackDepth!==-1){for(var o=this.session.getUndoManager(),r=(o.$undoStack||o.$undostack).length-this.$undoStackDepth,i=0;i<r;i++)o.undo(this.session,!0);this.selectionBefore&&this.session.selection.fromJSON(this.selectionBefore)}},h}();y.implement(s.prototype,$),x.PlaceHolder=s}),ace.define("ace/mouse/multi_select_handler",["require","exports","module","ace/lib/event","ace/lib/useragent"],function(f,x,W){var M=f("../lib/event"),$=f("../lib/useragent");function y(h,o){return h.row==o.row&&h.column==o.column}function s(h){var o=h.domEvent,r=o.altKey,i=o.shiftKey,t=o.ctrlKey,e=h.getAccelKey(),n=h.getButton();if(t&&$.isMac&&(n=o.button),h.editor.inMultiSelectMode&&n==2){h.editor.textInput.onContextMenu(h.domEvent);return}if(!t&&!r&&!e){n===0&&h.editor.inMultiSelectMode&&h.editor.exitMultiSelectMode();return}if(n===0){var a=h.editor,c=a.selection,d=a.inMultiSelectMode,k=h.getDocumentPosition(),v=c.getCursor(),p=h.inSelection()||c.isEmpty()&&y(k,v),u=h.x,m=h.y,A=function(q){u=q.clientX,m=q.clientY},S=a.session,C=a.renderer.pixelToScreenCoordinates(u,m),R=C,g;if(a.$mouseHandler.$enableJumpToDef)t&&r||e&&r?g=i?"block":"add":r&&a.$blockSelectEnabled&&(g="block");else if(e&&!r){if(g="add",!d&&i)return}else r&&a.$blockSelectEnabled&&(g="block");if(g&&$.isMac&&o.ctrlKey&&a.$mouseHandler.cancelContextMenu(),g=="add"){if(!d&&p)return;if(!d){var w=c.toOrientedRange();a.addSelectionMarker(w)}var l=c.rangeList.rangeAtPoint(k);a.inVirtualSelectionMode=!0,i&&(l=null,w=c.ranges[0]||w,a.removeSelectionMarker(w)),a.once("mouseup",function(){var q=c.toOrientedRange();l&&q.isEmpty()&&y(l.cursor,q.cursor)?c.substractPoint(q.cursor):(i?c.substractPoint(w.cursor):w&&(a.removeSelectionMarker(w),c.addRange(w)),c.addRange(q)),a.inVirtualSelectionMode=!1})}else if(g=="block"){h.stop(),a.inVirtualSelectionMode=!0;var _,L=[],F=function(){var q=a.renderer.pixelToScreenCoordinates(u,m),Z=S.screenToDocumentPosition(q.row,q.column,q.offsetX);y(R,q)&&y(Z,c.lead)||(R=q,a.selection.moveToPosition(Z),a.renderer.scrollCursorIntoView(),a.removeSelectionMarkers(L),L=c.rectangularRangeBlock(R,C),a.$mouseHandler.$clickSelection&&L.length==1&&L[0].isEmpty()&&(L[0]=a.$mouseHandler.$clickSelection.clone()),L.forEach(a.addSelectionMarker,a),a.updateSelectionMarkers())};d&&!e?c.toSingleRange():!d&&e&&(_=c.toOrientedRange(),a.addSelectionMarker(_)),i?C=S.documentToScreenPosition(c.lead):c.moveToPosition(k),R={row:-1,column:-1};var U=function(q){F(),clearInterval(X),a.removeSelectionMarkers(L),L.length||(L=[c.toOrientedRange()]),_&&(a.removeSelectionMarker(_),c.toSingleRange(_));for(var Z=0;Z<L.length;Z++)c.addRange(L[Z]);a.inVirtualSelectionMode=!1,a.$mouseHandler.$clickSelection=null},H=F;M.capture(a.container,A,U);var X=setInterval(function(){H()},20);return h.preventDefault()}}}x.onMouseDown=s}),ace.define("ace/commands/multi_select_commands",["require","exports","module","ace/keyboard/hash_handler"],function(f,x,W){x.defaultCommands=[{name:"addCursorAbove",description:"Add cursor above",exec:function($){$.selectMoreLines(-1)},bindKey:{win:"Ctrl-Alt-Up",mac:"Ctrl-Alt-Up"},scrollIntoView:"cursor",readOnly:!0},{name:"addCursorBelow",description:"Add cursor below",exec:function($){$.selectMoreLines(1)},bindKey:{win:"Ctrl-Alt-Down",mac:"Ctrl-Alt-Down"},scrollIntoView:"cursor",readOnly:!0},{name:"addCursorAboveSkipCurrent",description:"Add cursor above (skip current)",exec:function($){$.selectMoreLines(-1,!0)},bindKey:{win:"Ctrl-Alt-Shift-Up",mac:"Ctrl-Alt-Shift-Up"},scrollIntoView:"cursor",readOnly:!0},{name:"addCursorBelowSkipCurrent",description:"Add cursor below (skip current)",exec:function($){$.selectMoreLines(1,!0)},bindKey:{win:"Ctrl-Alt-Shift-Down",mac:"Ctrl-Alt-Shift-Down"},scrollIntoView:"cursor",readOnly:!0},{name:"selectMoreBefore",description:"Select more before",exec:function($){$.selectMore(-1)},bindKey:{win:"Ctrl-Alt-Left",mac:"Ctrl-Alt-Left"},scrollIntoView:"cursor",readOnly:!0},{name:"selectMoreAfter",description:"Select more after",exec:function($){$.selectMore(1)},bindKey:{win:"Ctrl-Alt-Right",mac:"Ctrl-Alt-Right"},scrollIntoView:"cursor",readOnly:!0},{name:"selectNextBefore",description:"Select next before",exec:function($){$.selectMore(-1,!0)},bindKey:{win:"Ctrl-Alt-Shift-Left",mac:"Ctrl-Alt-Shift-Left"},scrollIntoView:"cursor",readOnly:!0},{name:"selectNextAfter",description:"Select next after",exec:function($){$.selectMore(1,!0)},bindKey:{win:"Ctrl-Alt-Shift-Right",mac:"Ctrl-Alt-Shift-Right"},scrollIntoView:"cursor",readOnly:!0},{name:"toggleSplitSelectionIntoLines",description:"Split selection into lines",exec:function($){$.multiSelect.rangeCount>1?$.multiSelect.joinSelections():$.multiSelect.splitIntoLines()},bindKey:{win:"Ctrl-Alt-L",mac:"Ctrl-Alt-L"},readOnly:!0},{name:"splitSelectionIntoLines",description:"Split into lines",exec:function($){$.multiSelect.splitIntoLines()},readOnly:!0},{name:"alignCursors",description:"Align cursors",exec:function($){$.alignCursors()},bindKey:{win:"Ctrl-Alt-A",mac:"Ctrl-Alt-A"},scrollIntoView:"cursor"},{name:"findAll",description:"Find all",exec:function($){$.findAll()},bindKey:{win:"Ctrl-Alt-K",mac:"Ctrl-Alt-G"},scrollIntoView:"cursor",readOnly:!0}],x.multiSelectCommands=[{name:"singleSelection",description:"Single selection",bindKey:"esc",exec:function($){$.exitMultiSelectMode()},scrollIntoView:"cursor",readOnly:!0,isAvailable:function($){return $&&$.inMultiSelectMode}}];var M=f("../keyboard/hash_handler").HashHandler;x.keyboardHandler=new M(x.multiSelectCommands)}),ace.define("ace/multi_select",["require","exports","module","ace/range_list","ace/range","ace/selection","ace/mouse/multi_select_handler","ace/lib/event","ace/lib/lang","ace/commands/multi_select_commands","ace/search","ace/edit_session","ace/editor","ace/config"],function(f,x,W){var M=f("./range_list").RangeList,$=f("./range").Range,y=f("./selection").Selection,s=f("./mouse/multi_select_handler").onMouseDown,h=f("./lib/event"),o=f("./lib/lang"),r=f("./commands/multi_select_commands");x.commands=r.defaultCommands.concat(r.multiSelectCommands);var i=f("./search").Search,t=new i;function e(v,p,u){return t.$options.wrap=!0,t.$options.needle=p,t.$options.backwards=u==-1,t.find(v)}var n=f("./edit_session").EditSession;(function(){this.getSelectionMarkers=function(){return this.$selectionMarkers}}).call(n.prototype),(function(){this.ranges=null,this.rangeList=null,this.addRange=function(v,p){if(v){if(!this.inMultiSelectMode&&this.rangeCount===0){var u=this.toOrientedRange();if(this.rangeList.add(u),this.rangeList.add(v),this.rangeList.ranges.length!=2)return this.rangeList.removeAll(),p||this.fromOrientedRange(v);this.rangeList.removeAll(),this.rangeList.add(u),this.$onAddRange(u)}v.cursor||(v.cursor=v.end);var m=this.rangeList.add(v);return this.$onAddRange(v),m.length&&this.$onRemoveRange(m),this.rangeCount>1&&!this.inMultiSelectMode&&(this._signal("multiSelect"),this.inMultiSelectMode=!0,this.session.$undoSelect=!1,this.rangeList.attach(this.session)),p||this.fromOrientedRange(v)}},this.toSingleRange=function(v){v=v||this.ranges[0];var p=this.rangeList.removeAll();p.length&&this.$onRemoveRange(p),v&&this.fromOrientedRange(v)},this.substractPoint=function(v){var p=this.rangeList.substractPoint(v);if(p)return this.$onRemoveRange(p),p[0]},this.mergeOverlappingRanges=function(){var v=this.rangeList.merge();v.length&&this.$onRemoveRange(v)},this.$onAddRange=function(v){this.rangeCount=this.rangeList.ranges.length,this.ranges.unshift(v),this._signal("addRange",{range:v})},this.$onRemoveRange=function(v){if(this.rangeCount=this.rangeList.ranges.length,this.rangeCount==1&&this.inMultiSelectMode){var p=this.rangeList.ranges.pop();v.push(p),this.rangeCount=0}for(var u=v.length;u--;){var m=this.ranges.indexOf(v[u]);this.ranges.splice(m,1)}this._signal("removeRange",{ranges:v}),this.rangeCount===0&&this.inMultiSelectMode&&(this.inMultiSelectMode=!1,this._signal("singleSelect"),this.session.$undoSelect=!0,this.rangeList.detach(this.session)),p=p||this.ranges[0],p&&!p.isEqual(this.getRange())&&this.fromOrientedRange(p)},this.$initRangeList=function(){this.rangeList||(this.rangeList=new M,this.ranges=[],this.rangeCount=0)},this.getAllRanges=function(){return this.rangeCount?this.rangeList.ranges.concat():[this.getRange()]},this.splitIntoLines=function(){for(var v=this.ranges.length?this.ranges:[this.getRange()],p=[],u=0;u<v.length;u++){var m=v[u],A=m.start.row,S=m.end.row;if(A===S)p.push(m.clone());else{for(p.push(new $(A,m.start.column,A,this.session.getLine(A).length));++A<S;)p.push(this.getLineRange(A,!0));p.push(new $(S,0,S,m.end.column))}u==0&&!this.isBackwards()&&(p=p.reverse())}this.toSingleRange();for(var u=p.length;u--;)this.addRange(p[u])},this.joinSelections=function(){var v=this.rangeList.ranges,p=v[v.length-1],u=$.fromPoints(v[0].start,p.end);this.toSingleRange(),this.setSelectionRange(u,p.cursor==p.start)},this.toggleBlockSelection=function(){if(this.rangeCount>1){var v=this.rangeList.ranges,p=v[v.length-1],u=$.fromPoints(v[0].start,p.end);this.toSingleRange(),this.setSelectionRange(u,p.cursor==p.start)}else{var m=this.session.documentToScreenPosition(this.cursor),A=this.session.documentToScreenPosition(this.anchor),S=this.rectangularRangeBlock(m,A);S.forEach(this.addRange,this)}},this.rectangularRangeBlock=function(v,p,u){var m=[],A=v.column<p.column;if(A)var S=v.column,C=p.column,R=v.offsetX,g=p.offsetX;else var S=p.column,C=v.column,R=p.offsetX,g=v.offsetX;var w=v.row<p.row;if(w)var l=v.row,_=p.row;else var l=p.row,_=v.row;S<0&&(S=0),l<0&&(l=0),l==_&&(u=!0);for(var L,F=l;F<=_;F++){var U=$.fromPoints(this.session.screenToDocumentPosition(F,S,R),this.session.screenToDocumentPosition(F,C,g));if(U.isEmpty()){if(L&&c(U.end,L))break;L=U.end}U.cursor=A?U.start:U.end,m.push(U)}if(w&&m.reverse(),!u){for(var H=m.length-1;m[H].isEmpty()&&H>0;)H--;if(H>0)for(var X=0;m[X].isEmpty();)X++;for(var q=H;q>=X;q--)m[q].isEmpty()&&m.splice(q,1)}return m}}).call(y.prototype);var a=f("./editor").Editor;(function(){this.updateSelectionMarkers=function(){this.renderer.updateCursor(),this.renderer.updateBackMarkers()},this.addSelectionMarker=function(v){v.cursor||(v.cursor=v.end);var p=this.getSelectionStyle();return v.marker=this.session.addMarker(v,"ace_selection",p),this.session.$selectionMarkers.push(v),this.session.selectionMarkerCount=this.session.$selectionMarkers.length,v},this.removeSelectionMarker=function(v){if(v.marker){this.session.removeMarker(v.marker);var p=this.session.$selectionMarkers.indexOf(v);p!=-1&&this.session.$selectionMarkers.splice(p,1),this.session.selectionMarkerCount=this.session.$selectionMarkers.length}},this.removeSelectionMarkers=function(v){for(var p=this.session.$selectionMarkers,u=v.length;u--;){var m=v[u];if(m.marker){this.session.removeMarker(m.marker);var A=p.indexOf(m);A!=-1&&p.splice(A,1)}}this.session.selectionMarkerCount=p.length},this.$onAddRange=function(v){this.addSelectionMarker(v.range),this.renderer.updateCursor(),this.renderer.updateBackMarkers()},this.$onRemoveRange=function(v){this.removeSelectionMarkers(v.ranges),this.renderer.updateCursor(),this.renderer.updateBackMarkers()},this.$onMultiSelect=function(v){this.inMultiSelectMode||(this.inMultiSelectMode=!0,this.setStyle("ace_multiselect"),this.keyBinding.addKeyboardHandler(r.keyboardHandler),this.commands.setDefaultHandler("exec",this.$onMultiSelectExec),this.renderer.updateCursor(),this.renderer.updateBackMarkers())},this.$onSingleSelect=function(v){this.session.multiSelect.inVirtualMode||(this.inMultiSelectMode=!1,this.unsetStyle("ace_multiselect"),this.keyBinding.removeKeyboardHandler(r.keyboardHandler),this.commands.removeDefaultHandler("exec",this.$onMultiSelectExec),this.renderer.updateCursor(),this.renderer.updateBackMarkers(),this._emit("changeSelection"))},this.$onMultiSelectExec=function(v){var p=v.command,u=v.editor;if(u.multiSelect){if(p.multiSelectAction)p.multiSelectAction=="forEach"?m=u.forEachSelection(p,v.args):p.multiSelectAction=="forEachLine"?m=u.forEachSelection(p,v.args,!0):p.multiSelectAction=="single"?(u.exitMultiSelectMode(),m=p.exec(u,v.args||{})):m=p.multiSelectAction(u,v.args||{});else{var m=p.exec(u,v.args||{});u.multiSelect.addRange(u.multiSelect.toOrientedRange()),u.multiSelect.mergeOverlappingRanges()}return m}},this.forEachSelection=function(v,p,u){if(!this.inVirtualSelectionMode){var m=u&&u.keepOrder,A=u==!0||u&&u.$byLines,S=this.session,C=this.selection,R=C.rangeList,g=(m?C:R).ranges,w;if(!g.length)return v.exec?v.exec(this,p||{}):v(this,p||{});var l=C._eventRegistry;C._eventRegistry={};var _=new y(S);this.inVirtualSelectionMode=!0;for(var L=g.length;L--;){if(A)for(;L>0&&g[L].start.row==g[L-1].end.row;)L--;_.fromOrientedRange(g[L]),_.index=L,this.selection=S.selection=_;var F=v.exec?v.exec(this,p||{}):v(this,p||{});!w&&F!==void 0&&(w=F),_.toOrientedRange(g[L])}_.detach(),this.selection=S.selection=C,this.inVirtualSelectionMode=!1,C._eventRegistry=l,C.mergeOverlappingRanges(),C.ranges[0]&&C.fromOrientedRange(C.ranges[0]);var U=this.renderer.$scrollAnimation;return this.onCursorChange(),this.onSelectionChange(),U&&U.from==U.to&&this.renderer.animateScrolling(U.from),w}},this.exitMultiSelectMode=function(){!this.inMultiSelectMode||this.inVirtualSelectionMode||this.multiSelect.toSingleRange()},this.getSelectedText=function(){var v="";if(this.inMultiSelectMode&&!this.inVirtualSelectionMode){for(var p=this.multiSelect.rangeList.ranges,u=[],m=0;m<p.length;m++)u.push(this.session.getTextRange(p[m]));var A=this.session.getDocument().getNewLineCharacter();v=u.join(A),v.length==(u.length-1)*A.length&&(v="")}else this.selection.isEmpty()||(v=this.session.getTextRange(this.getSelectionRange()));return v},this.$checkMultiselectChange=function(v,p){if(this.inMultiSelectMode&&!this.inVirtualSelectionMode){var u=this.multiSelect.ranges[0];if(this.multiSelect.isEmpty()&&p==this.multiSelect.anchor)return;var m=p==this.multiSelect.anchor?u.cursor==u.start?u.end:u.start:u.cursor;m.row!=p.row||this.session.$clipPositionToDocument(m.row,m.column).column!=p.column?this.multiSelect.toSingleRange(this.multiSelect.toOrientedRange()):this.multiSelect.mergeOverlappingRanges()}},this.findAll=function(v,p,u){if(p=p||{},p.needle=v||p.needle,p.needle==null){var m=this.selection.isEmpty()?this.selection.getWordRange():this.selection.getRange();p.needle=this.session.getTextRange(m)}this.$search.set(p);var A=this.$search.findAll(this.session);if(!A.length)return 0;var S=this.multiSelect;u||S.toSingleRange(A[0]);for(var C=A.length;C--;)S.addRange(A[C],!0);return m&&S.rangeList.rangeAtPoint(m.start)&&S.addRange(m,!0),A.length},this.selectMoreLines=function(v,p){var u=this.selection.toOrientedRange(),m=u.cursor==u.end,A=this.session.documentToScreenPosition(u.cursor);this.selection.$desiredColumn&&(A.column=this.selection.$desiredColumn);var S=this.session.screenToDocumentPosition(A.row+v,A.column);if(u.isEmpty())var R=S;else var C=this.session.documentToScreenPosition(m?u.end:u.start),R=this.session.screenToDocumentPosition(C.row+v,C.column);if(m){var g=$.fromPoints(S,R);g.cursor=g.start}else{var g=$.fromPoints(R,S);g.cursor=g.end}if(g.desiredColumn=A.column,!this.selection.inMultiSelectMode)this.selection.addRange(u);else if(p)var w=u.cursor;this.selection.addRange(g),w&&this.selection.substractPoint(w)},this.transposeSelections=function(v){for(var p=this.session,u=p.multiSelect,m=u.ranges,A=m.length;A--;){var S=m[A];if(S.isEmpty()){var C=p.getWordRange(S.start.row,S.start.column);S.start.row=C.start.row,S.start.column=C.start.column,S.end.row=C.end.row,S.end.column=C.end.column}}u.mergeOverlappingRanges();for(var R=[],A=m.length;A--;){var S=m[A];R.unshift(p.getTextRange(S))}v<0?R.unshift(R.pop()):R.push(R.shift());for(var A=m.length;A--;){var S=m[A],g=S.clone();p.replace(S,R[A]),S.start.row=g.start.row,S.start.column=g.start.column}u.fromOrientedRange(u.ranges[0])},this.selectMore=function(v,p,u){var m=this.session,A=m.multiSelect,S=A.toOrientedRange();if(!(S.isEmpty()&&(S=m.getWordRange(S.start.row,S.start.column),S.cursor=v==-1?S.start:S.end,this.multiSelect.addRange(S),u))){var C=m.getTextRange(S),R=e(m,C,v);R&&(R.cursor=v==-1?R.start:R.end,this.session.unfold(R),this.multiSelect.addRange(R),this.renderer.scrollCursorIntoView(null,.5)),p&&this.multiSelect.substractPoint(S.cursor)}},this.alignCursors=function(){var v=this.session,p=v.multiSelect,u=p.ranges,m=-1,A=u.filter(function(H){if(H.cursor.row==m)return!0;m=H.cursor.row});if(!u.length||A.length==u.length-1){var S=this.selection.getRange(),C=S.start.row,R=S.end.row,g=C==R;if(g){var w=this.session.getLength(),l;do l=this.session.getLine(R);while(/[=:]/.test(l)&&++R<w);do l=this.session.getLine(C);while(/[=:]/.test(l)&&--C>0);C<0&&(C=0),R>=w&&(R=w-1)}var _=this.session.removeFullLines(C,R);_=this.$reAlignText(_,g),this.session.insert({row:C,column:0},_.join(`
`)+`
`),g||(S.start.column=0,S.end.column=_[_.length-1].length),this.selection.setRange(S)}else{A.forEach(function(H){p.substractPoint(H.cursor)});var L=0,F=1/0,U=u.map(function(H){var X=H.cursor,q=v.getLine(X.row),Z=q.substr(X.column).search(/\S/g);return Z==-1&&(Z=0),X.column>L&&(L=X.column),Z<F&&(F=Z),Z});u.forEach(function(H,X){var q=H.cursor,Z=L-q.column,oe=U[X]-F;Z>oe?v.insert(q,o.stringRepeat(" ",Z-oe)):v.remove(new $(q.row,q.column,q.row,q.column-Z+oe)),H.start.column=H.end.column=L,H.start.row=H.end.row=q.row,H.cursor=H.end}),p.fromOrientedRange(u[0]),this.renderer.updateCursor(),this.renderer.updateBackMarkers()}},this.$reAlignText=function(v,p){var u=!0,m=!0,A,S,C;return v.map(function(_){var L=_.match(/(\s*)(.*?)(\s*)([=:].*)/);return L?A==null?(A=L[1].length,S=L[2].length,C=L[3].length,L):(A+S+C!=L[1].length+L[2].length+L[3].length&&(m=!1),A!=L[1].length&&(u=!1),A>L[1].length&&(A=L[1].length),S<L[2].length&&(S=L[2].length),C>L[3].length&&(C=L[3].length),L):[_]}).map(p?g:u?m?w:g:l);function R(_){return o.stringRepeat(" ",_)}function g(_){return _[2]?R(A)+_[2]+R(S-_[2].length+C)+_[4].replace(/^([=:])\s+/,"$1 "):_[0]}function w(_){return _[2]?R(A+S-_[2].length)+_[2]+R(C)+_[4].replace(/^([=:])\s+/,"$1 "):_[0]}function l(_){return _[2]?R(A)+_[2]+R(C)+_[4].replace(/^([=:])\s+/,"$1 "):_[0]}}}).call(a.prototype);function c(v,p){return v.row==p.row&&v.column==p.column}x.onSessionChange=function(v){var p=v.session;p&&!p.multiSelect&&(p.$selectionMarkers=[],p.selection.$initRangeList(),p.multiSelect=p.selection),this.multiSelect=p&&p.multiSelect;var u=v.oldSession;u&&(u.multiSelect.off("addRange",this.$onAddRange),u.multiSelect.off("removeRange",this.$onRemoveRange),u.multiSelect.off("multiSelect",this.$onMultiSelect),u.multiSelect.off("singleSelect",this.$onSingleSelect),u.multiSelect.lead.off("change",this.$checkMultiselectChange),u.multiSelect.anchor.off("change",this.$checkMultiselectChange)),p&&(p.multiSelect.on("addRange",this.$onAddRange),p.multiSelect.on("removeRange",this.$onRemoveRange),p.multiSelect.on("multiSelect",this.$onMultiSelect),p.multiSelect.on("singleSelect",this.$onSingleSelect),p.multiSelect.lead.on("change",this.$checkMultiselectChange),p.multiSelect.anchor.on("change",this.$checkMultiselectChange)),p&&this.inMultiSelectMode!=p.selection.inMultiSelectMode&&(p.selection.inMultiSelectMode?this.$onMultiSelect():this.$onSingleSelect())};function d(v){v.$multiselectOnSessionChange||(v.$onAddRange=v.$onAddRange.bind(v),v.$onRemoveRange=v.$onRemoveRange.bind(v),v.$onMultiSelect=v.$onMultiSelect.bind(v),v.$onSingleSelect=v.$onSingleSelect.bind(v),v.$multiselectOnSessionChange=x.onSessionChange.bind(v),v.$checkMultiselectChange=v.$checkMultiselectChange.bind(v),v.$multiselectOnSessionChange(v),v.on("changeSession",v.$multiselectOnSessionChange),v.on("mousedown",s),v.commands.addCommands(r.defaultCommands),k(v))}function k(v){if(!v.textInput)return;var p=v.textInput.getElement(),u=!1;h.addListener(p,"keydown",function(A){var S=A.keyCode==18&&!(A.ctrlKey||A.shiftKey||A.metaKey);v.$blockSelectEnabled&&S?u||(v.renderer.setMouseCursor("crosshair"),u=!0):u&&m()},v),h.addListener(p,"keyup",m,v),h.addListener(p,"blur",m,v);function m(A){u&&(v.renderer.setMouseCursor(""),u=!1)}}x.MultiSelect=d,f("./config").defineOptions(a.prototype,"editor",{enableMultiselect:{set:function(v){d(this),v?this.on("mousedown",s):this.off("mousedown",s)},value:!0},enableBlockSelect:{set:function(v){this.$blockSelectEnabled=v},value:!0}})}),ace.define("ace/mode/folding/fold_mode",["require","exports","module","ace/range"],function(f,x,W){var M=f("../../range").Range,$=x.FoldMode=function(){};(function(){this.foldingStartMarker=null,this.foldingStopMarker=null,this.getFoldWidget=function(y,s,h){var o=y.getLine(h);return this.foldingStartMarker.test(o)?"start":s=="markbeginend"&&this.foldingStopMarker&&this.foldingStopMarker.test(o)?"end":""},this.getFoldWidgetRange=function(y,s,h){return null},this.indentationBlock=function(y,s,h){var o=/\S/,r=y.getLine(s),i=r.search(o);if(i!=-1){for(var t=h||r.length,e=y.getLength(),n=s,a=s;++s<e;){var c=y.getLine(s).search(o);if(c!=-1){if(c<=i){var d=y.getTokenAt(s,0);if(!d||d.type!=="string")break}a=s}}if(a>n){var k=y.getLine(a).length;return new M(n,t,a,k)}}},this.openingBracketBlock=function(y,s,h,o,r){var i={row:h,column:o+1},t=y.$findClosingBracket(s,i,r);if(t){var e=y.foldWidgets[t.row];return e==null&&(e=y.getFoldWidget(t.row)),e=="start"&&t.row>i.row&&(t.row--,t.column=y.getLine(t.row).length),M.fromPoints(i,t)}},this.closingBracketBlock=function(y,s,h,o,r){var i={row:h,column:o},t=y.$findOpeningBracket(s,i);if(t)return t.column++,i.column--,M.fromPoints(t,i)}}).call($.prototype)}),ace.define("ace/ext/error_marker",["require","exports","module","ace/line_widgets","ace/lib/dom","ace/range","ace/config"],function(f,x,W){var M=f("../line_widgets").LineWidgets,$=f("../lib/dom"),y=f("../range").Range,s=f("../config").nls;function h(r,i,t){for(var e=0,n=r.length-1;e<=n;){var a=e+n>>1,c=t(i,r[a]);if(c>0)e=a+1;else if(c<0)n=a-1;else return a}return-(e+1)}function o(r,i,t){var e=r.getAnnotations().sort(y.comparePoints);if(e.length){var n=h(e,{row:i,column:-1},y.comparePoints);n<0&&(n=-n-1),n>=e.length?n=t>0?0:e.length-1:n===0&&t<0&&(n=e.length-1);var a=e[n];if(!(!a||!t)){if(a.row===i){do a=e[n+=t];while(a&&a.row===i);if(!a)return e.slice()}var c=[];i=a.row;do c[t<0?"unshift":"push"](a),a=e[n+=t];while(a&&a.row==i);return c.length&&c}}}x.showErrorMarker=function(r,i){var t=r.session;t.widgetManager||(t.widgetManager=new M(t),t.widgetManager.attach(r));var e=r.getCursorPosition(),n=e.row,a=t.widgetManager.getWidgetsAtRow(n).filter(function(S){return S.type=="errorMarker"})[0];a?a.destroy():n-=i;var c=o(t,n,i),d;if(c){var k=c[0];e.column=(k.pos&&typeof k.column!="number"?k.pos.sc:k.column)||0,e.row=k.row,d=r.renderer.$gutterLayer.$annotations[e.row]}else{if(a)return;d={displayText:[s("error-marker.good-state","Looks good!")],className:"ace_ok"}}r.session.unfold(e.row),r.selection.moveToPosition(e);var v={row:e.row,fixedWidth:!0,coverGutter:!0,el:$.createElement("div"),type:"errorMarker"},p=v.el.appendChild($.createElement("div")),u=v.el.appendChild($.createElement("div"));u.className="error_widget_arrow "+d.className;var m=r.renderer.$cursorLayer.getPixelPosition(e).left;u.style.left=m+r.renderer.gutterWidth-5+"px",v.el.className="error_widget_wrapper",p.className="error_widget "+d.className,d.displayText.forEach(function(S,C){p.appendChild($.createTextNode(S)),C<d.displayText.length-1&&p.appendChild($.createElement("br"))}),p.appendChild($.createElement("div"));var A=function(S,C,R){if(C===0&&(R==="esc"||R==="return"))return v.destroy(),{command:"null"}};v.destroy=function(){r.$mouseHandler.isMousePressed||(r.keyBinding.removeKeyboardHandler(A),t.widgetManager.removeLineWidget(v),r.off("changeSelection",v.destroy),r.off("changeSession",v.destroy),r.off("mouseup",v.destroy),r.off("change",v.destroy))},r.keyBinding.addKeyboardHandler(A),r.on("changeSelection",v.destroy),r.on("changeSession",v.destroy),r.on("mouseup",v.destroy),r.on("change",v.destroy),r.session.widgetManager.addLineWidget(v),v.el.onmousedown=r.focus.bind(r),r.renderer.scrollCursorIntoView(null,.5,{bottom:v.el.offsetHeight})},$.importCssString(`
    .error_widget_wrapper {
        background: inherit;
        color: inherit;
        border:none
    }
    .error_widget {
        border-top: solid 2px;
        border-bottom: solid 2px;
        margin: 5px 0;
        padding: 10px 40px;
        white-space: pre-wrap;
    }
    .error_widget.ace_error, .error_widget_arrow.ace_error{
        border-color: #ff5a5a
    }
    .error_widget.ace_warning, .error_widget_arrow.ace_warning{
        border-color: #F1D817
    }
    .error_widget.ace_info, .error_widget_arrow.ace_info{
        border-color: #5a5a5a
    }
    .error_widget.ace_ok, .error_widget_arrow.ace_ok{
        border-color: #5aaa5a
    }
    .error_widget_arrow {
        position: absolute;
        border: solid 5px;
        border-top-color: transparent!important;
        border-right-color: transparent!important;
        border-left-color: transparent!important;
        top: -5px;
    }
`,"error_marker.css",!1)}),ace.define("ace/ace",["require","exports","module","ace/lib/dom","ace/range","ace/editor","ace/edit_session","ace/undomanager","ace/virtual_renderer","ace/worker/worker_client","ace/keyboard/hash_handler","ace/placeholder","ace/multi_select","ace/mode/folding/fold_mode","ace/theme/textmate","ace/ext/error_marker","ace/config","ace/loader_build"],function(f,x,W){f("./loader_build")(x);var M=f("./lib/dom"),$=f("./range").Range,y=f("./editor").Editor,s=f("./edit_session").EditSession,h=f("./undomanager").UndoManager,o=f("./virtual_renderer").VirtualRenderer;f("./worker/worker_client"),f("./keyboard/hash_handler"),f("./placeholder"),f("./multi_select"),f("./mode/folding/fold_mode"),f("./theme/textmate"),f("./ext/error_marker"),x.config=f("./config"),x.edit=function(r,i){if(typeof r=="string"){var t=r;if(r=document.getElementById(t),!r)throw new Error("ace.edit can't find div #"+t)}if(r&&r.env&&r.env.editor instanceof y)return r.env.editor;var e="";if(r&&/input|textarea/i.test(r.tagName)){var n=r;e=n.value,r=M.createElement("pre"),n.parentNode.replaceChild(r,n)}else r&&(e=r.textContent,r.innerHTML="");var a=x.createEditSession(e),c=new y(new o(r),a,i),d={document:a,editor:c,onResize:c.resize.bind(c,null)};return n&&(d.textarea=n),c.on("destroy",function(){d.editor.container.env=null}),c.container.env=c.env=d,c},x.createEditSession=function(r,i){var t=new s(r,i);return t.setUndoManager(new h),t},x.Range=$,x.Editor=y,x.EditSession=s,x.UndoManager=h,x.VirtualRenderer=o,x.version=x.config.version}),function(){ace.require(["ace/ace"],function(f){f&&(f.config.init(!0),f.define=ace.define);var x=function(){return this}();!x&&typeof window<"u"&&(x=window),!x&&typeof self<"u"&&(x=self),x.ace||(x.ace=f);for(var W in f)f.hasOwnProperty(W)&&(x.ace[W]=f[W]);x.ace.default=x.ace,te&&(te.exports=x.ace)})}()}(on)),on.exports}var en=Pi();const Hi=bn(en),Nr=Ii({__proto__:null,default:Hi},[en]);var sn={exports:{}},On;function zi(){return On||(On=1,function(te,Q){ace.define("ace/mode/coffee_highlight_rules",["require","exports","module","ace/lib/oop","ace/mode/text_highlight_rules"],function(f,x,W){var M=f("../lib/oop"),$=f("./text_highlight_rules").TextHighlightRules;M.inherits(y,$);function y(){var s="[$A-Za-z_\\x7f-\\uffff][$\\w\\x7f-\\uffff]*",h="this|throw|then|try|typeof|super|switch|return|break|by|continue|catch|class|in|instanceof|is|isnt|if|else|extends|for|own|finally|function|while|when|new|no|not|delete|debugger|do|loop|of|off|or|on|unless|until|and|yes|yield|export|import|default",o="true|false|null|undefined|NaN|Infinity",r="case|const|function|var|void|with|enum|implements|interface|let|package|private|protected|public|static",i="Array|Boolean|Date|Function|Number|Object|RegExp|ReferenceError|String|Error|EvalError|InternalError|RangeError|ReferenceError|StopIteration|SyntaxError|TypeError|URIError|ArrayBuffer|Float32Array|Float64Array|Int16Array|Int32Array|Int8Array|Uint16Array|Uint32Array|Uint8Array|Uint8ClampedArray",t="Math|JSON|isNaN|isFinite|parseInt|parseFloat|encodeURI|encodeURIComponent|decodeURI|decodeURIComponent|String|",e="window|arguments|prototype|document",n=this.createKeywordMapper({keyword:h,"constant.language":o,"invalid.illegal":r,"language.support.class":i,"language.support.function":t,"variable.language":e},"identifier"),a={token:["paren.lparen","variable.parameter","paren.rparen","text","storage.type"],regex:/(?:(\()((?:"[^")]*?"|'[^')]*?'|\/[^\/)]*?\/|[^()"'\/])*?)(\))(\s*))?([\-=]>)/.source},c=/\\(?:x[0-9a-fA-F]{2}|u[0-9a-fA-F]{4}|[0-2][0-7]{0,2}|3[0-6][0-7]?|37[0-7]?|[4-7][0-7]?|.)/;this.$rules={start:[{token:"constant.numeric",regex:"(?:0x[\\da-fA-F]+|(?:\\d+(?:\\.\\d+)?|\\.\\d+)(?:[eE][+-]?\\d+)?)"},{stateName:"qdoc",token:"string",regex:"'''",next:[{token:"string",regex:"'''",next:"start"},{token:"constant.language.escape",regex:c},{defaultToken:"string"}]},{stateName:"qqdoc",token:"string",regex:'"""',next:[{token:"string",regex:'"""',next:"start"},{token:"paren.string",regex:"#{",push:"start"},{token:"constant.language.escape",regex:c},{defaultToken:"string"}]},{stateName:"qstring",token:"string",regex:"'",next:[{token:"string",regex:"'",next:"start"},{token:"constant.language.escape",regex:c},{defaultToken:"string"}]},{stateName:"qqstring",token:"string.start",regex:'"',next:[{token:"string.end",regex:'"',next:"start"},{token:"paren.string",regex:"#{",push:"start"},{token:"constant.language.escape",regex:c},{defaultToken:"string"}]},{stateName:"js",token:"string",regex:"`",next:[{token:"string",regex:"`",next:"start"},{token:"constant.language.escape",regex:c},{defaultToken:"string"}]},{regex:"[{}]",onMatch:function(d,k,v){return this.next="",d=="{"&&v.length?(v.unshift("start",k),"paren"):d=="}"&&v.length&&(v.shift(),this.next=v.shift()||"",this.next.indexOf("string")!=-1)?"paren.string":"paren"}},{token:"string.regex",regex:"///",next:"heregex"},{token:"string.regex",regex:/(?:\/(?![\s=])[^[\/\n\\]*(?:(?:\\[\s\S]|\[[^\]\n\\]*(?:\\[\s\S][^\]\n\\]*)*])[^[\/\n\\]*)*\/)(?:[imgy]{0,4})(?!\w)/},{token:"comment",regex:"###(?!#)",next:"comment"},{token:"comment",regex:"#.*"},{token:["punctuation.operator","text","identifier"],regex:"(\\.)(\\s*)("+r+")"},{token:"punctuation.operator",regex:"\\.{1,3}"},{token:["keyword","text","language.support.class","text","keyword","text","language.support.class"],regex:"(class)(\\s+)("+s+")(?:(\\s+)(extends)(\\s+)("+s+"))?"},{token:["entity.name.function","text","keyword.operator","text"].concat(a.token),regex:"("+s+")(\\s*)([=:])(\\s*)"+a.regex},a,{token:"variable",regex:"@(?:"+s+")?"},{token:n,regex:s},{token:"punctuation.operator",regex:"\\,|\\."},{token:"storage.type",regex:"[\\-=]>"},{token:"keyword.operator",regex:"(?:[-+*/%<>&|^!?=]=|>>>=?|\\-\\-|\\+\\+|::|&&=|\\|\\|=|<<=|>>=|\\?\\.|\\.{2,3}|[!*+-=><])"},{token:"paren.lparen",regex:"[({[]"},{token:"paren.rparen",regex:"[\\]})]"},{token:"text",regex:"\\s+"}],heregex:[{token:"string.regex",regex:".*?///[imgy]{0,4}",next:"start"},{token:"comment.regex",regex:"\\s+(?:#.*)?"},{token:"string.regex",regex:"\\S+"}],comment:[{token:"comment",regex:"###",next:"start"},{defaultToken:"comment"}]},this.normalizeRules()}x.CoffeeHighlightRules=y}),ace.define("ace/mode/matching_brace_outdent",["require","exports","module","ace/range"],function(f,x,W){var M=f("../range").Range,$=function(){};(function(){this.checkOutdent=function(y,s){return/^\s+$/.test(y)?/^\s*\}/.test(s):!1},this.autoOutdent=function(y,s){var h=y.getLine(s),o=h.match(/^(\s*\})/);if(!o)return 0;var r=o[1].length,i=y.findMatchingBracket({row:s,column:r});if(!i||i.row==s)return 0;var t=this.$getIndent(y.getLine(i.row));y.replace(new M(s,0,s,r-1),t)},this.$getIndent=function(y){return y.match(/^\s*/)[0]}}).call($.prototype),x.MatchingBraceOutdent=$}),ace.define("ace/mode/folding/coffee",["require","exports","module","ace/lib/oop","ace/mode/folding/fold_mode","ace/range"],function(f,x,W){var M=f("../../lib/oop"),$=f("./fold_mode").FoldMode,y=f("../../range").Range,s=x.FoldMode=function(){};M.inherits(s,$),(function(){this.commentBlock=function(h,o){var r=/\S/,i=h.getLine(o),t=i.search(r);if(!(t==-1||i[t]!="#")){for(var e=i.length,n=h.getLength(),a=o,c=o;++o<n;){i=h.getLine(o);var d=i.search(r);if(d!=-1){if(i[d]!="#")break;c=o}}if(c>a){var k=h.getLine(c).length;return new y(a,e,c,k)}}},this.getFoldWidgetRange=function(h,o,r){var i=this.indentationBlock(h,r);if(i||(i=this.commentBlock(h,r),i))return i},this.getFoldWidget=function(h,o,r){var i=h.getLine(r),t=i.search(/\S/),e=h.getLine(r+1),n=h.getLine(r-1),a=n.search(/\S/),c=e.search(/\S/);if(t==-1)return h.foldWidgets[r-1]=a!=-1&&a<c?"start":"","";if(a==-1){if(t==c&&i[t]=="#"&&e[t]=="#")return h.foldWidgets[r-1]="",h.foldWidgets[r+1]="","start"}else if(a==t&&i[t]=="#"&&n[t]=="#"&&h.getLine(r-2).search(/\S/)==-1)return h.foldWidgets[r-1]="start",h.foldWidgets[r+1]="","";return a!=-1&&a<t?h.foldWidgets[r-1]="start":h.foldWidgets[r-1]="",t<c?"start":""}}).call(s.prototype)}),ace.define("ace/mode/coffee",["require","exports","module","ace/mode/coffee_highlight_rules","ace/mode/matching_brace_outdent","ace/mode/folding/coffee","ace/range","ace/mode/text","ace/worker/worker_client","ace/lib/oop"],function(f,x,W){var M=f("./coffee_highlight_rules").CoffeeHighlightRules,$=f("./matching_brace_outdent").MatchingBraceOutdent,y=f("./folding/coffee").FoldMode;f("../range").Range;var s=f("./text").Mode,h=f("../worker/worker_client").WorkerClient,o=f("../lib/oop");function r(){this.HighlightRules=M,this.$outdent=new $,this.foldingRules=new y}o.inherits(r,s),(function(){var i=/(?:[({[=:]|[-=]>|\b(?:else|try|(?:swi|ca)tch(?:\s+[$A-Za-z_\x7f-\uffff][$\w\x7f-\uffff]*)?|finally))\s*$|^\s*(else\b\s*)?(?:if|for|while|loop)\b(?!.*\bthen\b)/;this.lineCommentStart="#",this.blockComment={start:"###",end:"###"},this.getNextLineIndent=function(t,e,n){var a=this.$getIndent(e),c=this.getTokenizer().getLineTokens(e,t).tokens;return!(c.length&&c[c.length-1].type==="comment")&&t==="start"&&i.test(e)&&(a+=n),a},this.checkOutdent=function(t,e,n){return this.$outdent.checkOutdent(e,n)},this.autoOutdent=function(t,e,n){this.$outdent.autoOutdent(e,n)},this.createWorker=function(t){var e=new h(["ace"],"ace/mode/coffee_worker","Worker");return e.attachToDocument(t.getDocument()),e.on("annotate",function(n){t.setAnnotations(n.data)}),e.on("terminate",function(){t.clearAnnotations()}),e},this.$id="ace/mode/coffee",this.snippetFileId="ace/snippets/coffee"}).call(r.prototype),x.Mode=r}),function(){ace.require(["ace/mode/coffee"],function(f){te&&(te.exports=f)})}()}(sn)),sn.exports}zi();var an={exports:{}},Nn;function Wi(){return Nn||(Nn=1,function(te,Q){ace.define("ace/theme/tomorrow-css",["require","exports","module"],function(f,x,W){W.exports=`.ace-tomorrow .ace_gutter {
  background: #f6f6f6;
  color: #4D4D4C
}

.ace-tomorrow .ace_print-margin {
  width: 1px;
  background: #f6f6f6
}

.ace-tomorrow {
  background-color: #FFFFFF;
  color: #4D4D4C
}

.ace-tomorrow .ace_cursor {
  color: #AEAFAD
}

.ace-tomorrow .ace_marker-layer .ace_selection {
  background: #D6D6D6
}

.ace-tomorrow.ace_multiselect .ace_selection.ace_start {
  box-shadow: 0 0 3px 0px #FFFFFF;
}

.ace-tomorrow .ace_marker-layer .ace_step {
  background: rgb(255, 255, 0)
}

.ace-tomorrow .ace_marker-layer .ace_bracket {
  margin: -1px 0 0 -1px;
  border: 1px solid #D1D1D1
}

.ace-tomorrow .ace_marker-layer .ace_active-line {
  background: #EFEFEF
}

.ace-tomorrow .ace_gutter-active-line {
  background-color : #dcdcdc
}

.ace-tomorrow .ace_marker-layer .ace_selected-word {
  border: 1px solid #D6D6D6
}

.ace-tomorrow .ace_invisible {
  color: #D1D1D1
}

.ace-tomorrow .ace_keyword,
.ace-tomorrow .ace_meta,
.ace-tomorrow .ace_storage,
.ace-tomorrow .ace_storage.ace_type,
.ace-tomorrow .ace_support.ace_type {
  color: #8959A8
}

.ace-tomorrow .ace_keyword.ace_operator {
  color: #3E999F
}

.ace-tomorrow .ace_constant.ace_character,
.ace-tomorrow .ace_constant.ace_language,
.ace-tomorrow .ace_constant.ace_numeric,
.ace-tomorrow .ace_keyword.ace_other.ace_unit,
.ace-tomorrow .ace_support.ace_constant,
.ace-tomorrow .ace_variable.ace_parameter {
  color: #F5871F
}

.ace-tomorrow .ace_constant.ace_other {
  color: #666969
}

.ace-tomorrow .ace_invalid {
  color: #FFFFFF;
  background-color: #C82829
}

.ace-tomorrow .ace_invalid.ace_deprecated {
  color: #FFFFFF;
  background-color: #8959A8
}

.ace-tomorrow .ace_fold {
  background-color: #4271AE;
  border-color: #4D4D4C
}

.ace-tomorrow .ace_entity.ace_name.ace_function,
.ace-tomorrow .ace_support.ace_function,
.ace-tomorrow .ace_variable {
  color: #4271AE
}

.ace-tomorrow .ace_support.ace_class,
.ace-tomorrow .ace_support.ace_type {
  color: #C99E00
}

.ace-tomorrow .ace_heading,
.ace-tomorrow .ace_markup.ace_heading,
.ace-tomorrow .ace_string {
  color: #718C00
}

.ace-tomorrow .ace_entity.ace_name.ace_tag,
.ace-tomorrow .ace_entity.ace_other.ace_attribute-name,
.ace-tomorrow .ace_meta.ace_tag,
.ace-tomorrow .ace_string.ace_regexp,
.ace-tomorrow .ace_variable {
  color: #C82829
}

.ace-tomorrow .ace_comment {
  color: #8E908C
}

.ace-tomorrow .ace_indent-guide {
  background: url(data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAEAAAACCAYAAACZgbYnAAAAE0lEQVQImWP4////f4bdu3f/BwAlfgctduB85QAAAABJRU5ErkJggg==) right repeat-y
}

.ace-tomorrow .ace_indent-guide-active {
  background: url("data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAEAAAACCAYAAACZgbYnAAAACXBIWXMAAAsTAAALEwEAmpwYAAAAIGNIUk0AAHolAACAgwAA+f8AAIDpAAB1MAAA6mAAADqYAAAXb5JfxUYAAAAZSURBVHjaYvj///9/hivKyv8BAAAA//8DACLqBhbvk+/eAAAAAElFTkSuQmCC") right repeat-y;
} 
`}),ace.define("ace/theme/tomorrow",["require","exports","module","ace/theme/tomorrow-css","ace/lib/dom"],function(f,x,W){x.isDark=!1,x.cssClass="ace-tomorrow",x.cssText=f("./tomorrow-css");var M=f("../lib/dom");M.importCssString(x.cssText,x.cssClass,!1)}),function(){ace.require(["ace/theme/tomorrow"],function(f){te&&(te.exports=f)})}()}(an)),an.exports}Wi();var ln={exports:{}},Pn;function Ui(){return Pn||(Pn=1,function(te,Q){ace.define("ace/snippets",["require","exports","module","ace/lib/dom","ace/lib/oop","ace/lib/event_emitter","ace/lib/lang","ace/range","ace/range_list","ace/keyboard/hash_handler","ace/tokenizer","ace/clipboard","ace/editor"],function(f,x,W){var M=f("./lib/dom"),$=f("./lib/oop"),y=f("./lib/event_emitter").EventEmitter,s=f("./lib/lang"),h=f("./range").Range,o=f("./range_list").RangeList,r=f("./keyboard/hash_handler").HashHandler,i=f("./tokenizer").Tokenizer,t=f("./clipboard"),e={CURRENT_WORD:function(u){return u.session.getTextRange(u.session.getWordRange())},SELECTION:function(u,m,A){var S=u.session.getTextRange();return A?S.replace(/\n\r?([ \t]*\S)/g,`
`+A+"$1"):S},CURRENT_LINE:function(u){return u.session.getLine(u.getCursorPosition().row)},PREV_LINE:function(u){return u.session.getLine(u.getCursorPosition().row-1)},LINE_INDEX:function(u){return u.getCursorPosition().row},LINE_NUMBER:function(u){return u.getCursorPosition().row+1},SOFT_TABS:function(u){return u.session.getUseSoftTabs()?"YES":"NO"},TAB_SIZE:function(u){return u.session.getTabSize()},CLIPBOARD:function(u){return t.getText&&t.getText()},FILENAME:function(u){return/[^/\\]*$/.exec(this.FILEPATH(u))[0]},FILENAME_BASE:function(u){return/[^/\\]*$/.exec(this.FILEPATH(u))[0].replace(/\.[^.]*$/,"")},DIRECTORY:function(u){return this.FILEPATH(u).replace(/[^/\\]*$/,"")},FILEPATH:function(u){return"/not implemented.txt"},WORKSPACE_NAME:function(){return"Unknown"},FULLNAME:function(){return"Unknown"},BLOCK_COMMENT_START:function(u){var m=u.session.$mode||{};return m.blockComment&&m.blockComment.start||""},BLOCK_COMMENT_END:function(u){var m=u.session.$mode||{};return m.blockComment&&m.blockComment.end||""},LINE_COMMENT:function(u){var m=u.session.$mode||{};return m.lineCommentStart||""},CURRENT_YEAR:n.bind(null,{year:"numeric"}),CURRENT_YEAR_SHORT:n.bind(null,{year:"2-digit"}),CURRENT_MONTH:n.bind(null,{month:"numeric"}),CURRENT_MONTH_NAME:n.bind(null,{month:"long"}),CURRENT_MONTH_NAME_SHORT:n.bind(null,{month:"short"}),CURRENT_DATE:n.bind(null,{day:"2-digit"}),CURRENT_DAY_NAME:n.bind(null,{weekday:"long"}),CURRENT_DAY_NAME_SHORT:n.bind(null,{weekday:"short"}),CURRENT_HOUR:n.bind(null,{hour:"2-digit",hour12:!1}),CURRENT_MINUTE:n.bind(null,{minute:"2-digit"}),CURRENT_SECOND:n.bind(null,{second:"2-digit"})};e.SELECTED_TEXT=e.SELECTION;function n(u){var m=new Date().toLocaleString("en-us",u);return m.length==1?"0"+m:m}var a=function(){function u(){this.snippetMap={},this.snippetNameMap={},this.variables=e}return u.prototype.getTokenizer=function(){return u.$tokenizer||this.createTokenizer()},u.prototype.createTokenizer=function(){function m(C){return C=C.substr(1),/^\d+$/.test(C)?[{tabstopId:parseInt(C,10)}]:[{text:C}]}function A(C){return"(?:[^\\\\"+C+"]|\\\\.)"}var S={regex:"/("+A("/")+"+)/",onMatch:function(C,R,g){var w=g[0];return w.fmtString=!0,w.guard=C.slice(1,-1),w.flag="",""},next:"formatString"};return u.$tokenizer=new i({start:[{regex:/\\./,onMatch:function(C,R,g){var w=C[1];return(w=="}"&&g.length||"`$\\".indexOf(w)!=-1)&&(C=w),[C]}},{regex:/}/,onMatch:function(C,R,g){return[g.length?g.shift():C]}},{regex:/\$(?:\d+|\w+)/,onMatch:m},{regex:/\$\{[\dA-Z_a-z]+/,onMatch:function(C,R,g){var w=m(C.substr(1));return g.unshift(w[0]),w},next:"snippetVar"},{regex:/\n/,token:"newline",merge:!1}],snippetVar:[{regex:"\\|"+A("\\|")+"*\\|",onMatch:function(C,R,g){var w=C.slice(1,-1).replace(/\\[,|\\]|,/g,function(l){return l.length==2?l[1]:"\0"}).split("\0").map(function(l){return{value:l}});return g[0].choices=w,[w[0]]},next:"start"},S,{regex:"([^:}\\\\]|\\\\.)*:?",token:"",next:"start"}],formatString:[{regex:/:/,onMatch:function(C,R,g){return g.length&&g[0].expectElse?(g[0].expectElse=!1,g[0].ifEnd={elseEnd:g[0]},[g[0].ifEnd]):":"}},{regex:/\\./,onMatch:function(C,R,g){var w=C[1];return w=="}"&&g.length||"`$\\".indexOf(w)!=-1?C=w:w=="n"?C=`
`:w=="t"?C="	":"ulULE".indexOf(w)!=-1&&(C={changeCase:w,local:w>"a"}),[C]}},{regex:"/\\w*}",onMatch:function(C,R,g){var w=g.shift();return w&&(w.flag=C.slice(1,-1)),this.next=w&&w.tabstopId?"start":"",[w||C]},next:"start"},{regex:/\$(?:\d+|\w+)/,onMatch:function(C,R,g){return[{text:C.slice(1)}]}},{regex:/\${\w+/,onMatch:function(C,R,g){var w={text:C.slice(2)};return g.unshift(w),[w]},next:"formatStringVar"},{regex:/\n/,token:"newline",merge:!1},{regex:/}/,onMatch:function(C,R,g){var w=g.shift();return this.next=w&&w.tabstopId?"start":"",[w||C]},next:"start"}],formatStringVar:[{regex:/:\/\w+}/,onMatch:function(C,R,g){var w=g[0];return w.formatFunction=C.slice(2,-1),[g.shift()]},next:"formatString"},S,{regex:/:[\?\-+]?/,onMatch:function(C,R,g){C[1]=="+"&&(g[0].ifEnd=g[0]),C[1]=="?"&&(g[0].expectElse=!0)},next:"formatString"},{regex:"([^:}\\\\]|\\\\.)*:?",token:"",next:"formatString"}]}),u.$tokenizer},u.prototype.tokenizeTmSnippet=function(m,A){return this.getTokenizer().getLineTokens(m,A).tokens.map(function(S){return S.value||S})},u.prototype.getVariableValue=function(m,A,S){if(/^\d+$/.test(A))return(this.variables.__||{})[A]||"";if(/^[A-Z]\d+$/.test(A))return(this.variables[A[0]+"__"]||{})[A.substr(1)]||"";if(A=A.replace(/^TM_/,""),!this.variables.hasOwnProperty(A))return"";var C=this.variables[A];return typeof C=="function"&&(C=this.variables[A](m,A,S)),C??""},u.prototype.tmStrFormat=function(m,A,S){if(!A.fmt)return m;var C=A.flag||"",R=A.guard;R=new RegExp(R,C.replace(/[^gim]/g,""));var g=typeof A.fmt=="string"?this.tokenizeTmSnippet(A.fmt,"formatString"):A.fmt,w=this,l=m.replace(R,function(){var _=w.variables.__;w.variables.__=[].slice.call(arguments);for(var L=w.resolveVariables(g,S),F="E",U=0;U<L.length;U++){var H=L[U];if(typeof H=="object")if(L[U]="",H.changeCase&&H.local){var X=L[U+1];X&&typeof X=="string"&&(H.changeCase=="u"?L[U]=X[0].toUpperCase():L[U]=X[0].toLowerCase(),L[U+1]=X.substr(1))}else H.changeCase&&(F=H.changeCase);else F=="U"?L[U]=H.toUpperCase():F=="L"&&(L[U]=H.toLowerCase())}return w.variables.__=_,L.join("")});return l},u.prototype.tmFormatFunction=function(m,A,S){return A.formatFunction=="upcase"?m.toUpperCase():A.formatFunction=="downcase"?m.toLowerCase():m},u.prototype.resolveVariables=function(m,A){for(var S=[],C="",R=!0,g=0;g<m.length;g++){var w=m[g];if(typeof w=="string"){S.push(w),w==`
`?(R=!0,C=""):R&&(C=/^\t*/.exec(w)[0],R=/\S/.test(w));continue}if(w){if(R=!1,w.fmtString){var l=m.indexOf(w,g+1);l==-1&&(l=m.length),w.fmt=m.slice(g+1,l),g=l}if(w.text){var _=this.getVariableValue(A,w.text,C)+"";w.fmtString&&(_=this.tmStrFormat(_,w,A)),w.formatFunction&&(_=this.tmFormatFunction(_,w,A)),_&&!w.ifEnd?(S.push(_),L(w)):!_&&w.ifEnd&&L(w.ifEnd)}else w.elseEnd?L(w.elseEnd):(w.tabstopId!=null||w.changeCase!=null)&&S.push(w)}}function L(F){var U=m.indexOf(F,g+1);U!=-1&&(g=U)}return S},u.prototype.getDisplayTextForSnippet=function(m,A){var S=c.call(this,m,A);return S.text},u.prototype.insertSnippetForSelection=function(m,A,S){S===void 0&&(S={});var C=c.call(this,m,A,S),R=m.getSelectionRange(),g=m.session.replace(R,C.text),w=new d(m),l=m.inVirtualSelectionMode&&m.selection.index;w.addTabstops(C.tabstops,R.start,g,l)},u.prototype.insertSnippet=function(m,A,S){S===void 0&&(S={});var C=this;if(m.inVirtualSelectionMode)return C.insertSnippetForSelection(m,A,S);m.forEachSelection(function(){C.insertSnippetForSelection(m,A,S)},null,{keepOrder:!0}),m.tabstopManager&&m.tabstopManager.tabNext()},u.prototype.$getScope=function(m){var A=m.session.$mode.$id||"";if(A=A.split("/").pop(),A==="html"||A==="php"){A==="php"&&!m.session.$mode.inlinePhp&&(A="html");var S=m.getCursorPosition(),C=m.session.getState(S.row);typeof C=="object"&&(C=C[0]),C.substring&&(C.substring(0,3)=="js-"?A="javascript":C.substring(0,4)=="css-"?A="css":C.substring(0,4)=="php-"&&(A="php"))}return A},u.prototype.getActiveScopes=function(m){var A=this.$getScope(m),S=[A],C=this.snippetMap;return C[A]&&C[A].includeScopes&&S.push.apply(S,C[A].includeScopes),S.push("_"),S},u.prototype.expandWithTab=function(m,A){var S=this,C=m.forEachSelection(function(){return S.expandSnippetForSelection(m,A)},null,{keepOrder:!0});return C&&m.tabstopManager&&m.tabstopManager.tabNext(),C},u.prototype.expandSnippetForSelection=function(m,A){var S=m.getCursorPosition(),C=m.session.getLine(S.row),R=C.substring(0,S.column),g=C.substr(S.column),w=this.snippetMap,l;return this.getActiveScopes(m).some(function(_){var L=w[_];return L&&(l=this.findMatchingSnippet(L,R,g)),!!l},this),l?(A&&A.dryRun||(m.session.doc.removeInLine(S.row,S.column-l.replaceBefore.length,S.column+l.replaceAfter.length),this.variables.M__=l.matchBefore,this.variables.T__=l.matchAfter,this.insertSnippetForSelection(m,l.content),this.variables.M__=this.variables.T__=null),!0):!1},u.prototype.findMatchingSnippet=function(m,A,S){for(var C=m.length;C--;){var R=m[C];if(!(R.startRe&&!R.startRe.test(A))&&!(R.endRe&&!R.endRe.test(S))&&!(!R.startRe&&!R.endRe))return R.matchBefore=R.startRe?R.startRe.exec(A):[""],R.matchAfter=R.endRe?R.endRe.exec(S):[""],R.replaceBefore=R.triggerRe?R.triggerRe.exec(A)[0]:"",R.replaceAfter=R.endTriggerRe?R.endTriggerRe.exec(S)[0]:"",R}},u.prototype.register=function(m,A){var S=this.snippetMap,C=this.snippetNameMap,R=this;m||(m=[]);function g(_){return _&&!/^\^?\(.*\)\$?$|^\\b$/.test(_)&&(_="(?:"+_+")"),_||""}function w(_,L,F){return _=g(_),L=g(L),_=L+_,_&&_[_.length-1]!="$"&&(_=_+"$"),new RegExp(_)}function l(_){_.scope||(_.scope=A||"_"),A=_.scope,S[A]||(S[A]=[],C[A]={});var L=C[A];if(_.name){var F=L[_.name];F&&R.unregister(F),L[_.name]=_}S[A].push(_),_.prefix&&(_.tabTrigger=_.prefix),!_.content&&_.body&&(_.content=Array.isArray(_.body)?_.body.join(`
`):_.body),_.tabTrigger&&!_.trigger&&(!_.guard&&/^\w/.test(_.tabTrigger)&&(_.guard="\\b"),_.trigger=s.escapeRegExp(_.tabTrigger)),!(!_.trigger&&!_.guard&&!_.endTrigger&&!_.endGuard)&&(_.startRe=w(_.trigger,_.guard),_.triggerRe=new RegExp(_.trigger),_.endRe=w(_.endTrigger,_.endGuard),_.endTriggerRe=new RegExp(_.endTrigger))}Array.isArray(m)?m.forEach(l):Object.keys(m).forEach(function(_){l(m[_])}),this._signal("registerSnippets",{scope:A})},u.prototype.unregister=function(m,A){var S=this.snippetMap,C=this.snippetNameMap;function R(g){var w=C[g.scope||A];if(w&&w[g.name]){delete w[g.name];var l=S[g.scope||A],_=l&&l.indexOf(g);_>=0&&l.splice(_,1)}}m.content?R(m):Array.isArray(m)&&m.forEach(R)},u.prototype.parseSnippetFile=function(m){m=m.replace(/\r/g,"");for(var A=[],S={},C=/^#.*|^({[\s\S]*})\s*$|^(\S+) (.*)$|^((?:\n*\t.*)+)/gm,R;R=C.exec(m);){if(R[1])try{S=JSON.parse(R[1]),A.push(S)}catch{}if(R[4])S.content=R[4].replace(/^\t/gm,""),A.push(S),S={};else{var g=R[2],w=R[3];if(g=="regex"){var l=/\/((?:[^\/\\]|\\.)*)|$/g;S.guard=l.exec(w)[1],S.trigger=l.exec(w)[1],S.endTrigger=l.exec(w)[1],S.endGuard=l.exec(w)[1]}else g=="snippet"?(S.tabTrigger=w.match(/^\S*/)[0],S.name||(S.name=w)):g&&(S[g]=w)}}return A},u.prototype.getSnippetByName=function(m,A){var S=this.snippetNameMap,C;return this.getActiveScopes(A).some(function(R){var g=S[R];return g&&(C=g[m]),!!C},this),C},u}();$.implement(a.prototype,y);var c=function(u,m,A){A===void 0&&(A={});var S=u.getCursorPosition(),C=u.session.getLine(S.row),R=u.session.getTabString(),g=C.match(/^\s*/)[0];S.column<g.length&&(g=g.slice(0,S.column)),m=m.replace(/\r/g,"");var w=this.tokenizeTmSnippet(m);w=this.resolveVariables(w,u),w=w.map(function(fe){return fe==`
`&&!A.excludeExtraIndent?fe+g:typeof fe=="string"?fe.replace(/\t/g,R):fe});var l=[];w.forEach(function(fe,Ee){if(typeof fe=="object"){var Se=fe.tabstopId,Ce=l[Se];if(Ce||(Ce=l[Se]=[],Ce.index=Se,Ce.value="",Ce.parents={}),Ce.indexOf(fe)===-1){fe.choices&&!Ce.choices&&(Ce.choices=fe.choices),Ce.push(fe);var De=w.indexOf(fe,Ee+1);if(De!==-1){var Pe=w.slice(Ee+1,De),We=Pe.some(function(Xe){return typeof Xe=="object"});We&&!Ce.value?Ce.value=Pe:Pe.length&&(!Ce.value||typeof Ce.value!="string")&&(Ce.value=Pe.join(""))}}}}),l.forEach(function(fe){fe.length=0});var _={};function L(fe){for(var Ee=[],Se=0;Se<fe.length;Se++){var Ce=fe[Se];if(typeof Ce=="object"){if(_[Ce.tabstopId])continue;var De=fe.lastIndexOf(Ce,Se-1);Ce=Ee[De]||{tabstopId:Ce.tabstopId}}Ee[Se]=Ce}return Ee}for(var F=0;F<w.length;F++){var U=w[F];if(typeof U=="object"){var H=U.tabstopId,X=l[H],q=w.indexOf(U,F+1);if(_[H]){_[H]===U&&(delete _[H],Object.keys(_).forEach(function(fe){X.parents[fe]=!0}));continue}_[H]=U;var Z=X.value;typeof Z!="string"?Z=L(Z):U.fmt&&(Z=this.tmStrFormat(Z,U,u)),w.splice.apply(w,[F+1,Math.max(0,q-F)].concat(Z,U)),X.indexOf(U)===-1&&X.push(U)}}var oe=0,ee=0,se="";return w.forEach(function(fe){if(typeof fe=="string"){var Ee=fe.split(`
`);Ee.length>1?(ee=Ee[Ee.length-1].length,oe+=Ee.length-1):ee+=fe.length,se+=fe}else fe&&(fe.start?fe.end={row:oe,column:ee}:fe.start={row:oe,column:ee})}),{text:se,tabstops:l,tokens:w}},d=function(){function u(m){if(this.index=0,this.ranges=[],this.tabstops=[],m.tabstopManager)return m.tabstopManager;m.tabstopManager=this,this.$onChange=this.onChange.bind(this),this.$onChangeSelection=s.delayedCall(this.onChangeSelection.bind(this)).schedule,this.$onChangeSession=this.onChangeSession.bind(this),this.$onAfterExec=this.onAfterExec.bind(this),this.attach(m)}return u.prototype.attach=function(m){this.$openTabstops=null,this.selectedTabstop=null,this.editor=m,this.session=m.session,this.editor.on("change",this.$onChange),this.editor.on("changeSelection",this.$onChangeSelection),this.editor.on("changeSession",this.$onChangeSession),this.editor.commands.on("afterExec",this.$onAfterExec),this.editor.keyBinding.addKeyboardHandler(this.keyboardHandler)},u.prototype.detach=function(){this.tabstops.forEach(this.removeTabstopMarkers,this),this.ranges.length=0,this.tabstops.length=0,this.selectedTabstop=null,this.editor.off("change",this.$onChange),this.editor.off("changeSelection",this.$onChangeSelection),this.editor.off("changeSession",this.$onChangeSession),this.editor.commands.off("afterExec",this.$onAfterExec),this.editor.keyBinding.removeKeyboardHandler(this.keyboardHandler),this.editor.tabstopManager=null,this.session=null,this.editor=null},u.prototype.onChange=function(m){for(var A=m.action[0]=="r",S=this.selectedTabstop||{},C=S.parents||{},R=this.tabstops.slice(),g=0;g<R.length;g++){var w=R[g],l=w==S||C[w.index];if(w.rangeList.$bias=l?0:1,m.action=="remove"&&w!==S){var _=w.parents&&w.parents[S.index],L=w.rangeList.pointIndex(m.start,_);L=L<0?-L-1:L+1;var F=w.rangeList.pointIndex(m.end,_);F=F<0?-F-1:F-1;for(var U=w.rangeList.ranges.slice(L,F),H=0;H<U.length;H++)this.removeRange(U[H])}w.rangeList.$onChange(m)}var X=this.session;!this.$inChange&&A&&X.getLength()==1&&!X.getValue()&&this.detach()},u.prototype.updateLinkedFields=function(){var m=this.selectedTabstop;if(!(!m||!m.hasLinkedRanges||!m.firstNonLinked)){this.$inChange=!0;for(var A=this.session,S=A.getTextRange(m.firstNonLinked),C=0;C<m.length;C++){var R=m[C];if(R.linked){var g=R.original,w=x.snippetManager.tmStrFormat(S,g,this.editor);A.replace(R,w)}}this.$inChange=!1}},u.prototype.onAfterExec=function(m){m.command&&!m.command.readOnly&&this.updateLinkedFields()},u.prototype.onChangeSelection=function(){if(this.editor){for(var m=this.editor.selection.lead,A=this.editor.selection.anchor,S=this.editor.selection.isEmpty(),C=0;C<this.ranges.length;C++)if(!this.ranges[C].linked){var R=this.ranges[C].contains(m.row,m.column),g=S||this.ranges[C].contains(A.row,A.column);if(R&&g)return}this.detach()}},u.prototype.onChangeSession=function(){this.detach()},u.prototype.tabNext=function(m){var A=this.tabstops.length,S=this.index+(m||1);S=Math.min(Math.max(S,1),A),S==A&&(S=0),this.selectTabstop(S),this.updateTabstopMarkers(),S===0&&this.detach()},u.prototype.selectTabstop=function(m){this.$openTabstops=null;var A=this.tabstops[this.index];if(A&&this.addTabstopMarkers(A),this.index=m,A=this.tabstops[this.index],!(!A||!A.length)){this.selectedTabstop=A;var S=A.firstNonLinked||A;if(A.choices&&(S.cursor=S.start),this.editor.inVirtualSelectionMode)this.editor.selection.fromOrientedRange(S);else{var C=this.editor.multiSelect;C.toSingleRange(S);for(var R=0;R<A.length;R++)A.hasLinkedRanges&&A[R].linked||C.addRange(A[R].clone(),!0)}this.editor.keyBinding.addKeyboardHandler(this.keyboardHandler),this.selectedTabstop&&this.selectedTabstop.choices&&this.editor.execCommand("startAutocomplete",{matches:this.selectedTabstop.choices})}},u.prototype.addTabstops=function(m,A,S){var C=this.useLink||!this.editor.getOption("enableMultiselect");if(this.$openTabstops||(this.$openTabstops=[]),!m[0]){var R=h.fromPoints(S,S);v(R.start,A),v(R.end,A),m[0]=[R],m[0].index=0}var g=this.index,w=[g+1,0],l=this.ranges,_=this.snippetId=(this.snippetId||0)+1;m.forEach(function(L,F){var U=this.$openTabstops[F]||L;U.snippetId=_;for(var H=0;H<L.length;H++){var X=L[H],q=h.fromPoints(X.start,X.end||X.start);k(q.start,A),k(q.end,A),q.original=X,q.tabstop=U,l.push(q),U!=L?U.unshift(q):U[H]=q,X.fmtString||U.firstNonLinked&&C?(q.linked=!0,U.hasLinkedRanges=!0):U.firstNonLinked||(U.firstNonLinked=q)}U.firstNonLinked||(U.hasLinkedRanges=!1),U===L&&(w.push(U),this.$openTabstops[F]=U),this.addTabstopMarkers(U),U.rangeList=U.rangeList||new o,U.rangeList.$bias=0,U.rangeList.addList(U)},this),w.length>2&&(this.tabstops.length&&w.push(w.splice(2,1)[0]),this.tabstops.splice.apply(this.tabstops,w))},u.prototype.addTabstopMarkers=function(m){var A=this.session;m.forEach(function(S){S.markerId||(S.markerId=A.addMarker(S,"ace_snippet-marker","text"))})},u.prototype.removeTabstopMarkers=function(m){var A=this.session;m.forEach(function(S){A.removeMarker(S.markerId),S.markerId=null})},u.prototype.updateTabstopMarkers=function(){if(this.selectedTabstop){var m=this.selectedTabstop.snippetId;this.selectedTabstop.index===0&&m--,this.tabstops.forEach(function(A){A.snippetId===m?this.addTabstopMarkers(A):this.removeTabstopMarkers(A)},this)}},u.prototype.removeRange=function(m){var A=m.tabstop.indexOf(m);A!=-1&&m.tabstop.splice(A,1),A=this.ranges.indexOf(m),A!=-1&&this.ranges.splice(A,1),A=m.tabstop.rangeList.ranges.indexOf(m),A!=-1&&m.tabstop.splice(A,1),this.session.removeMarker(m.markerId),m.tabstop.length||(A=this.tabstops.indexOf(m.tabstop),A!=-1&&this.tabstops.splice(A,1),this.tabstops.length||this.detach())},u}();d.prototype.keyboardHandler=new r,d.prototype.keyboardHandler.bindKeys({Tab:function(u){x.snippetManager&&x.snippetManager.expandWithTab(u)||(u.tabstopManager.tabNext(1),u.renderer.scrollCursorIntoView())},"Shift-Tab":function(u){u.tabstopManager.tabNext(-1),u.renderer.scrollCursorIntoView()},Esc:function(u){u.tabstopManager.detach()}});var k=function(u,m){u.row==0&&(u.column+=m.column),u.row+=m.row},v=function(u,m){u.row==m.row&&(u.column-=m.column),u.row-=m.row};M.importCssString(`
.ace_snippet-marker {
    -moz-box-sizing: border-box;
    box-sizing: border-box;
    background: rgba(194, 193, 208, 0.09);
    border: 1px dotted rgba(211, 208, 235, 0.62);
    position: absolute;
}`,"snippets.css",!1),x.snippetManager=new a;var p=f("./editor").Editor;(function(){this.insertSnippet=function(u,m){return x.snippetManager.insertSnippet(this,u,m)},this.expandSnippet=function(u){return x.snippetManager.expandWithTab(this,u)}}).call(p.prototype)}),ace.define("ace/autocomplete/popup",["require","exports","module","ace/virtual_renderer","ace/editor","ace/range","ace/lib/event","ace/lib/lang","ace/lib/dom","ace/config","ace/lib/useragent"],function(f,x,W){var M=f("../virtual_renderer").VirtualRenderer,$=f("../editor").Editor,y=f("../range").Range,s=f("../lib/event"),h=f("../lib/lang"),o=f("../lib/dom"),r=f("../config").nls,i=f("./../lib/useragent"),t=function(k){return"suggest-aria-id:".concat(k)},e=i.isSafari?"menu":"listbox",n=i.isSafari?"menuitem":"option",a=i.isSafari?"aria-current":"aria-selected",c=function(k){var v=new M(k);v.$maxLines=4;var p=new $(v);return p.setHighlightActiveLine(!1),p.setShowPrintMargin(!1),p.renderer.setShowGutter(!1),p.renderer.setHighlightGutterLine(!1),p.$mouseHandler.$focusTimeout=0,p.$highlightTagPending=!0,p},d=function(){function k(v){var p=o.createElement("div"),u=c(p);v&&v.appendChild(p),p.style.display="none",u.renderer.content.style.cursor="default",u.renderer.setStyle("ace_autocomplete"),u.renderer.$textLayer.element.setAttribute("role",e),u.renderer.$textLayer.element.setAttribute("aria-roledescription",r("autocomplete.popup.aria-roledescription","Autocomplete suggestions")),u.renderer.$textLayer.element.setAttribute("aria-label",r("autocomplete.popup.aria-label","Autocomplete suggestions")),u.renderer.textarea.setAttribute("aria-hidden","true"),u.setOption("displayIndentGuides",!1),u.setOption("dragDelay",150);var m=function(){};u.focus=m,u.$isFocused=!0,u.renderer.$cursorLayer.restartTimer=m,u.renderer.$cursorLayer.element.style.opacity="0",u.renderer.$maxLines=8,u.renderer.$keepTextAreaAtCursor=!1,u.setHighlightActiveLine(!1),u.session.highlight(""),u.session.$searchHighlight.clazz="ace_highlight-marker",u.on("mousedown",function(l){var _=l.getDocumentPosition();u.selection.moveToPosition(_),C.start.row=C.end.row=_.row,l.stop()});var A,S=new y(-1,0,-1,1/0),C=new y(-1,0,-1,1/0);C.id=u.session.addMarker(C,"ace_active-line","fullLine"),u.setSelectOnHover=function(l){l?S.id&&(u.session.removeMarker(S.id),S.id=null):S.id=u.session.addMarker(S,"ace_line-hover","fullLine")},u.setSelectOnHover(!1),u.on("mousemove",function(l){if(!A){A=l;return}if(!(A.x==l.x&&A.y==l.y)){A=l,A.scrollTop=u.renderer.scrollTop,u.isMouseOver=!0;var _=A.getDocumentPosition().row;S.start.row!=_&&(S.id||u.setRow(_),g(_))}}),u.renderer.on("beforeRender",function(){if(A&&S.start.row!=-1){A.$pos=null;var l=A.getDocumentPosition().row;S.id||u.setRow(l),g(l,!0)}}),u.renderer.on("afterRender",function(){var l=u.getRow(),_=u.renderer.$textLayer,L=_.element.childNodes[l-_.config.firstRow],F=document.activeElement;if(L!==u.selectedNode&&u.selectedNode&&(o.removeCssClass(u.selectedNode,"ace_selected"),F.removeAttribute("aria-activedescendant"),u.selectedNode.removeAttribute(a),u.selectedNode.removeAttribute("id")),u.selectedNode=L,L){o.addCssClass(L,"ace_selected");var U=t(l);L.id=U,_.element.setAttribute("aria-activedescendant",U),F.setAttribute("aria-activedescendant",U),L.setAttribute("role",n),L.setAttribute("aria-roledescription",r("autocomplete.popup.item.aria-roledescription","item")),L.setAttribute("aria-label",u.getData(l).caption||u.getData(l).value),L.setAttribute("aria-setsize",u.data.length),L.setAttribute("aria-posinset",l+1),L.setAttribute("aria-describedby","doc-tooltip"),L.setAttribute(a,"true")}});var R=function(){g(-1)},g=function(l,_){l!==S.start.row&&(S.start.row=S.end.row=l,_||u.session._emit("changeBackMarker"),u._emit("changeHoverMarker"))};u.getHoveredRow=function(){return S.start.row},s.addListener(u.container,"mouseout",function(){u.isMouseOver=!1,R()}),u.on("hide",R),u.on("changeSelection",R),u.session.doc.getLength=function(){return u.data.length},u.session.doc.getLine=function(l){var _=u.data[l];return typeof _=="string"?_:_&&_.value||""};var w=u.session.bgTokenizer;return w.$tokenizeRow=function(l){var _=u.data[l],L=[];if(!_)return L;typeof _=="string"&&(_={value:_});var F=_.caption||_.value||_.name;function U(fe,Ee){fe&&L.push({type:(_.className||"")+(Ee||""),value:fe})}for(var H=F.toLowerCase(),X=(u.filterText||"").toLowerCase(),q=0,Z=0,oe=0;oe<=X.length;oe++)if(oe!=Z&&(_.matchMask&1<<oe||oe==X.length)){var ee=X.slice(Z,oe);Z=oe;var se=H.indexOf(ee,q);if(se==-1)continue;U(F.slice(q,se),""),q=se+ee.length,U(F.slice(se,q),"completion-highlight")}return U(F.slice(q,F.length),""),L.push({type:"completion-spacer",value:" "}),_.meta&&L.push({type:"completion-meta",value:_.meta}),_.message&&L.push({type:"completion-message",value:_.message}),L},w.$updateOnChange=m,w.start=m,u.session.$computeWidth=function(){return this.screenWidth=0},u.isOpen=!1,u.isTopdown=!1,u.autoSelect=!0,u.filterText="",u.isMouseOver=!1,u.data=[],u.setData=function(l,_){u.filterText=_||"",u.setValue(h.stringRepeat(`
`,l.length),-1),u.data=l||[],u.setRow(0)},u.getData=function(l){return u.data[l]},u.getRow=function(){return C.start.row},u.setRow=function(l){l=Math.max(this.autoSelect?0:-1,Math.min(this.data.length-1,l)),C.start.row!=l&&(u.selection.clearSelection(),C.start.row=C.end.row=l||0,u.session._emit("changeBackMarker"),u.moveCursorTo(l||0,0),u.isOpen&&u._signal("select"))},u.on("changeSelection",function(){u.isOpen&&u.setRow(u.selection.lead.row),u.renderer.scrollCursorIntoView()}),u.hide=function(){this.container.style.display="none",u.anchorPos=null,u.anchor=null,u.isOpen&&(u.isOpen=!1,this._signal("hide"))},u.tryShow=function(l,_,L,F){if(!F&&u.isOpen&&u.anchorPos&&u.anchor&&u.anchorPos.top===l.top&&u.anchorPos.left===l.left&&u.anchor===L)return!0;var U=this.container,H=window.innerHeight,X=window.innerWidth,q=this.renderer,Z=q.$maxLines*_*1.4,oe={top:0,bottom:0},ee=H-l.top-3*this.$borderSize-_,se=l.top-3*this.$borderSize;L||(se<=ee||ee>=Z?L="bottom":L="top"),L==="top"?(oe.bottom=l.top-this.$borderSize,oe.top=oe.bottom-Z):L==="bottom"&&(oe.top=l.top+_+this.$borderSize,oe.bottom=oe.top+Z);var fe=oe.top>=0&&oe.bottom<=H;if(!F&&!fe)return!1;fe?q.$maxPixelHeight=null:L==="top"?q.$maxPixelHeight=se:q.$maxPixelHeight=ee,L==="top"?(U.style.top="",U.style.bottom=H-oe.bottom+"px",u.isTopdown=!1):(U.style.top=oe.top+"px",U.style.bottom="",u.isTopdown=!0),U.style.display="";var Ee=l.left;return Ee+U.offsetWidth>X&&(Ee=X-U.offsetWidth),U.style.left=Ee+"px",U.style.right="",u.isOpen||(u.isOpen=!0,this._signal("show"),A=null),u.anchorPos=l,u.anchor=L,!0},u.show=function(l,_,L){this.tryShow(l,_,L?"bottom":void 0,!0)},u.goTo=function(l){var _=this.getRow(),L=this.session.getLength()-1;switch(l){case"up":_=_<=0?L:_-1;break;case"down":_=_>=L?-1:_+1;break;case"start":_=0;break;case"end":_=L;break}this.setRow(_)},u.getTextLeftOffset=function(){return this.$borderSize+this.renderer.$padding+this.$imageSize},u.$imageSize=0,u.$borderSize=1,u}return k}();o.importCssString(`
.ace_editor.ace_autocomplete .ace_marker-layer .ace_active-line {
    background-color: #CAD6FA;
    z-index: 1;
}
.ace_dark.ace_editor.ace_autocomplete .ace_marker-layer .ace_active-line {
    background-color: #3a674e;
}
.ace_editor.ace_autocomplete .ace_line-hover {
    border: 1px solid #abbffe;
    margin-top: -1px;
    background: rgba(233,233,253,0.4);
    position: absolute;
    z-index: 2;
}
.ace_dark.ace_editor.ace_autocomplete .ace_line-hover {
    border: 1px solid rgba(109, 150, 13, 0.8);
    background: rgba(58, 103, 78, 0.62);
}
.ace_completion-meta {
    opacity: 0.5;
    margin-left: 0.9em;
}
.ace_completion-message {
    margin-left: 0.9em;
    color: blue;
}
.ace_editor.ace_autocomplete .ace_completion-highlight{
    color: #2d69c7;
}
.ace_dark.ace_editor.ace_autocomplete .ace_completion-highlight{
    color: #93ca12;
}
.ace_editor.ace_autocomplete {
    width: 300px;
    z-index: 200000;
    border: 1px lightgray solid;
    position: fixed;
    box-shadow: 2px 3px 5px rgba(0,0,0,.2);
    line-height: 1.4;
    background: #fefefe;
    color: #111;
}
.ace_dark.ace_editor.ace_autocomplete {
    border: 1px #484747 solid;
    box-shadow: 2px 3px 5px rgba(0, 0, 0, 0.51);
    line-height: 1.4;
    background: #25282c;
    color: #c1c1c1;
}
.ace_autocomplete .ace_text-layer  {
    width: calc(100% - 8px);
}
.ace_autocomplete .ace_line {
    display: flex;
    align-items: center;
}
.ace_autocomplete .ace_line > * {
    min-width: 0;
    flex: 0 0 auto;
}
.ace_autocomplete .ace_line .ace_ {
    flex: 0 1 auto;
    overflow: hidden;
    text-overflow: ellipsis;
}
.ace_autocomplete .ace_completion-spacer {
    flex: 1;
}
.ace_autocomplete.ace_loading:after  {
    content: "";
    position: absolute;
    top: 0px;
    height: 2px;
    width: 8%;
    background: blue;
    z-index: 100;
    animation: ace_progress 3s infinite linear;
    animation-delay: 300ms;
    transform: translateX(-100%) scaleX(1);
}
@keyframes ace_progress {
    0% { transform: translateX(-100%) scaleX(1) }
    50% { transform: translateX(625%) scaleX(2) } 
    100% { transform: translateX(1500%) scaleX(3) } 
}
@media (prefers-reduced-motion) {
    .ace_autocomplete.ace_loading:after {
        transform: translateX(625%) scaleX(2);
        animation: none;
     }
}
`,"autocompletion.css",!1),x.AcePopup=d,x.$singleLineEditor=c,x.getAriaId=t}),ace.define("ace/autocomplete/inline_screenreader",["require","exports","module"],function(f,x,W){var M=function(){function $(y){this.editor=y,this.screenReaderDiv=document.createElement("div"),this.screenReaderDiv.classList.add("ace_screenreader-only"),this.editor.container.appendChild(this.screenReaderDiv)}return $.prototype.setScreenReaderContent=function(y){for(!this.popup&&this.editor.completer&&this.editor.completer.popup&&(this.popup=this.editor.completer.popup,this.popup.renderer.on("afterRender",(function(){var h=this.popup.getRow(),o=this.popup.renderer.$textLayer,r=o.element.childNodes[h-o.config.firstRow];if(r){for(var i="doc-tooltip ",t=0;t<this._lines.length;t++)i+="ace-inline-screenreader-line-".concat(t," ");r.setAttribute("aria-describedby",i)}}).bind(this)));this.screenReaderDiv.firstChild;)this.screenReaderDiv.removeChild(this.screenReaderDiv.firstChild);this._lines=y.split(/\r\n|\r|\n/);var s=this.createCodeBlock();this.screenReaderDiv.appendChild(s)},$.prototype.destroy=function(){this.screenReaderDiv.remove()},$.prototype.createCodeBlock=function(){var y=document.createElement("pre");y.setAttribute("id","ace-inline-screenreader");for(var s=0;s<this._lines.length;s++){var h=document.createElement("code");h.setAttribute("id","ace-inline-screenreader-line-".concat(s));var o=document.createTextNode(this._lines[s]);h.appendChild(o),y.appendChild(h)}return y},$}();x.AceInlineScreenReader=M}),ace.define("ace/autocomplete/inline",["require","exports","module","ace/snippets","ace/autocomplete/inline_screenreader"],function(f,x,W){var M=f("../snippets").snippetManager,$=f("./inline_screenreader").AceInlineScreenReader,y=function(){function s(){this.editor=null}return s.prototype.show=function(h,o,r){if(r=r||"",h&&this.editor&&this.editor!==h&&(this.hide(),this.editor=null,this.inlineScreenReader=null),!h||!o)return!1;this.inlineScreenReader||(this.inlineScreenReader=new $(h));var i=o.snippet?M.getDisplayTextForSnippet(h,o.snippet):o.value;return o.hideInlinePreview||!i||!i.startsWith(r)?!1:(this.editor=h,this.inlineScreenReader.setScreenReaderContent(i),i=i.slice(r.length),i===""?h.removeGhostText():h.setGhostText(i),!0)},s.prototype.isOpen=function(){return this.editor?!!this.editor.renderer.$ghostText:!1},s.prototype.hide=function(){return this.editor?(this.editor.removeGhostText(),!0):!1},s.prototype.destroy=function(){this.hide(),this.editor=null,this.inlineScreenReader&&(this.inlineScreenReader.destroy(),this.inlineScreenReader=null)},s}();x.AceInline=y}),ace.define("ace/autocomplete/util",["require","exports","module"],function(f,x,W){x.parForEach=function($,y,s){var h=0,o=$.length;o===0&&s();for(var r=0;r<o;r++)y($[r],function(i,t){h++,h===o&&s(i,t)})};var M=/[a-zA-Z_0-9\$\-\u00A2-\u2000\u2070-\uFFFF]/;x.retrievePrecedingIdentifier=function($,y,s){s=s||M;for(var h=[],o=y-1;o>=0&&s.test($[o]);o--)h.push($[o]);return h.reverse().join("")},x.retrieveFollowingIdentifier=function($,y,s){s=s||M;for(var h=[],o=y;o<$.length&&s.test($[o]);o++)h.push($[o]);return h},x.getCompletionPrefix=function($){var y=$.getCursorPosition(),s=$.session.getLine(y.row),h;return $.completers.forEach((function(o){o.identifierRegexps&&o.identifierRegexps.forEach((function(r){!h&&r&&(h=this.retrievePrecedingIdentifier(s,y.column,r))}).bind(this))}).bind(this)),h||this.retrievePrecedingIdentifier(s,y.column)},x.triggerAutocomplete=function($,s){var s=s??$.session.getPrecedingCharacter();return $.completers.some(function(h){if(h.triggerCharacters&&Array.isArray(h.triggerCharacters))return h.triggerCharacters.includes(s)})}}),ace.define("ace/autocomplete",["require","exports","module","ace/keyboard/hash_handler","ace/autocomplete/popup","ace/autocomplete/inline","ace/autocomplete/popup","ace/autocomplete/util","ace/lib/lang","ace/lib/dom","ace/snippets","ace/config","ace/lib/event","ace/lib/scroll"],function(f,x,W){var M=f("./keyboard/hash_handler").HashHandler,$=f("./autocomplete/popup").AcePopup,y=f("./autocomplete/inline").AceInline,s=f("./autocomplete/popup").getAriaId,h=f("./autocomplete/util"),o=f("./lib/lang"),r=f("./lib/dom"),i=f("./snippets").snippetManager,t=f("./config"),e=f("./lib/event"),n=f("./lib/scroll").preventParentScroll,a=function(v,p){p.completer&&p.completer.destroy()},c=function(){function v(){this.autoInsert=!1,this.autoSelect=!0,this.autoShown=!1,this.exactMatch=!1,this.inlineEnabled=!1,this.keyboardHandler=new M,this.keyboardHandler.bindKeys(this.commands),this.parentNode=null,this.setSelectOnHover=!1,this.hasSeen=new Set,this.showLoadingState=!1,this.stickySelectionDelay=500,this.blurListener=this.blurListener.bind(this),this.changeListener=this.changeListener.bind(this),this.mousedownListener=this.mousedownListener.bind(this),this.mousewheelListener=this.mousewheelListener.bind(this),this.onLayoutChange=this.onLayoutChange.bind(this),this.changeTimer=o.delayedCall((function(){this.updateCompletions(!0)}).bind(this)),this.tooltipTimer=o.delayedCall(this.updateDocTooltip.bind(this),50),this.popupTimer=o.delayedCall(this.$updatePopupPosition.bind(this),50),this.stickySelectionTimer=o.delayedCall((function(){this.stickySelection=!0}).bind(this),this.stickySelectionDelay),this.$firstOpenTimer=o.delayedCall((function(){var p=this.completionProvider&&this.completionProvider.initialPosition;this.autoShown||this.popup&&this.popup.isOpen||!p||this.editor.completers.length===0||(this.completions=new k(v.completionsForLoading),this.openPopup(this.editor,p.prefix,!1),this.popup.renderer.setStyle("ace_loading",!0))}).bind(this),this.stickySelectionDelay)}return Object.defineProperty(v,"completionsForLoading",{get:function(){return[{caption:t.nls("autocomplete.loading","Loading..."),value:""}]},enumerable:!1,configurable:!0}),v.prototype.$init=function(){return this.popup=new $(this.parentNode||document.body||document.documentElement),this.popup.on("click",(function(p){this.insertMatch(),p.stop()}).bind(this)),this.popup.focus=this.editor.focus.bind(this.editor),this.popup.on("show",this.$onPopupShow.bind(this)),this.popup.on("hide",this.$onHidePopup.bind(this)),this.popup.on("select",this.$onPopupChange.bind(this)),e.addListener(this.popup.container,"mouseout",this.mouseOutListener.bind(this)),this.popup.on("changeHoverMarker",this.tooltipTimer.bind(null,null)),this.popup.renderer.on("afterRender",this.$onPopupRender.bind(this)),this.popup},v.prototype.$initInline=function(){if(!(!this.inlineEnabled||this.inlineRenderer))return this.inlineRenderer=new y,this.inlineRenderer},v.prototype.getPopup=function(){return this.popup||this.$init()},v.prototype.$onHidePopup=function(){this.inlineRenderer&&this.inlineRenderer.hide(),this.hideDocTooltip(),this.stickySelectionTimer.cancel(),this.popupTimer.cancel(),this.stickySelection=!1},v.prototype.$seen=function(p){!this.hasSeen.has(p)&&p&&p.completer&&p.completer.onSeen&&typeof p.completer.onSeen=="function"&&(p.completer.onSeen(this.editor,p),this.hasSeen.add(p))},v.prototype.$onPopupChange=function(p){if(this.inlineRenderer&&this.inlineEnabled){var u=p?null:this.popup.getData(this.popup.getRow());if(this.$updateGhostText(u),this.popup.isMouseOver&&this.setSelectOnHover){this.tooltipTimer.call(null,null);return}this.popupTimer.schedule(),this.tooltipTimer.schedule()}else this.popupTimer.call(null,null),this.tooltipTimer.call(null,null)},v.prototype.$updateGhostText=function(p){var u=this.base.row,m=this.base.column,A=this.editor.getCursorPosition().column,S=this.editor.session.getLine(u).slice(m,A);this.inlineRenderer.show(this.editor,p,S)?this.$seen(p):this.inlineRenderer.hide()},v.prototype.$onPopupRender=function(){var p=this.inlineRenderer&&this.inlineEnabled;if(this.completions&&this.completions.filtered&&this.completions.filtered.length>0)for(var u=this.popup.getFirstVisibleRow();u<=this.popup.getLastVisibleRow();u++){var m=this.popup.getData(u);m&&(!p||m.hideInlinePreview)&&this.$seen(m)}},v.prototype.$onPopupShow=function(p){this.$onPopupChange(p),this.stickySelection=!1,this.stickySelectionDelay>=0&&this.stickySelectionTimer.schedule(this.stickySelectionDelay)},v.prototype.observeLayoutChanges=function(){if(!(this.$elements||!this.editor)){window.addEventListener("resize",this.onLayoutChange,{passive:!0}),window.addEventListener("wheel",this.mousewheelListener);for(var p=this.editor.container.parentNode,u=[];p;)u.push(p),p.addEventListener("scroll",this.onLayoutChange,{passive:!0}),p=p.parentNode;this.$elements=u}},v.prototype.unObserveLayoutChanges=function(){var p=this;window.removeEventListener("resize",this.onLayoutChange,{passive:!0}),window.removeEventListener("wheel",this.mousewheelListener),this.$elements&&this.$elements.forEach(function(u){u.removeEventListener("scroll",p.onLayoutChange,{passive:!0})}),this.$elements=null},v.prototype.onLayoutChange=function(){if(!this.popup.isOpen)return this.unObserveLayoutChanges();this.$updatePopupPosition(),this.updateDocTooltip()},v.prototype.$updatePopupPosition=function(){var p=this.editor,u=p.renderer,m=u.layerConfig.lineHeight,A=u.$cursorLayer.getPixelPosition(this.base,!0);A.left-=this.popup.getTextLeftOffset();var S=p.container.getBoundingClientRect();A.top+=S.top-u.layerConfig.offset,A.left+=S.left-p.renderer.scrollLeft,A.left+=u.gutterWidth;var C={top:A.top,left:A.left};u.$ghostText&&u.$ghostTextWidget&&this.base.row===u.$ghostText.position.row&&(C.top+=u.$ghostTextWidget.el.offsetHeight);var R=p.container.getBoundingClientRect().bottom-m,g=R<C.top?{top:R,left:C.left}:C;this.popup.tryShow(g,m,"bottom")||this.popup.tryShow(A,m,"top")||this.popup.show(A,m)},v.prototype.openPopup=function(p,u,m){this.$firstOpenTimer.cancel(),this.popup||this.$init(),this.inlineEnabled&&!this.inlineRenderer&&this.$initInline(),this.popup.autoSelect=this.autoSelect,this.popup.setSelectOnHover(this.setSelectOnHover);var A=this.popup.getRow(),S=this.popup.data[A];this.popup.setData(this.completions.filtered,this.completions.filterText),this.editor.textInput.setAriaOptions&&this.editor.textInput.setAriaOptions({activeDescendant:s(this.popup.getRow()),inline:this.inlineEnabled}),p.keyBinding.addKeyboardHandler(this.keyboardHandler);var C;this.stickySelection&&(C=this.popup.data.indexOf(S)),(!C||C===-1)&&(C=0),this.popup.setRow(this.autoSelect?C:-1),C===A&&S!==this.completions.filtered[C]&&this.$onPopupChange();var R=this.inlineRenderer&&this.inlineEnabled;if(C===A&&R){var g=this.popup.getData(this.popup.getRow());this.$updateGhostText(g)}m||(this.popup.setTheme(p.getTheme()),this.popup.setFontSize(p.getFontSize()),this.$updatePopupPosition(),this.tooltipNode&&this.updateDocTooltip()),this.changeTimer.cancel(),this.observeLayoutChanges()},v.prototype.detach=function(){this.editor&&(this.editor.keyBinding.removeKeyboardHandler(this.keyboardHandler),this.editor.off("changeSelection",this.changeListener),this.editor.off("blur",this.blurListener),this.editor.off("mousedown",this.mousedownListener),this.editor.off("mousewheel",this.mousewheelListener)),this.$firstOpenTimer.cancel(),this.changeTimer.cancel(),this.hideDocTooltip(),this.completionProvider&&this.completionProvider.detach(),this.popup&&this.popup.isOpen&&this.popup.hide(),this.popup&&this.popup.renderer&&this.popup.renderer.off("afterRender",this.$onPopupRender),this.base&&this.base.detach(),this.activated=!1,this.completionProvider=this.completions=this.base=null,this.unObserveLayoutChanges()},v.prototype.changeListener=function(p){var u=this.editor.selection.lead;(u.row!=this.base.row||u.column<this.base.column)&&this.detach(),this.activated?this.changeTimer.schedule():this.detach()},v.prototype.blurListener=function(p){var u=document.activeElement,m=this.editor.textInput.getElement(),A=p.relatedTarget&&this.tooltipNode&&this.tooltipNode.contains(p.relatedTarget),S=this.popup&&this.popup.container;u!=m&&u.parentNode!=S&&!A&&u!=this.tooltipNode&&p.relatedTarget!=m&&this.detach()},v.prototype.mousedownListener=function(p){this.detach()},v.prototype.mousewheelListener=function(p){this.popup&&!this.popup.isMouseOver&&this.detach()},v.prototype.mouseOutListener=function(p){this.popup.isOpen&&this.$updatePopupPosition()},v.prototype.goTo=function(p){this.popup.goTo(p)},v.prototype.insertMatch=function(p,u){if(p||(p=this.popup.getData(this.popup.getRow())),!p)return!1;if(p.value==="")return this.detach();var m=this.completions,A=this.getCompletionProvider().insertMatch(this.editor,p,m.filterText,u);return this.completions==m&&this.detach(),A},v.prototype.showPopup=function(p,u){this.editor&&this.detach(),this.activated=!0,this.editor=p,p.completer!=this&&(p.completer&&p.completer.detach(),p.completer=this),p.on("changeSelection",this.changeListener),p.on("blur",this.blurListener),p.on("mousedown",this.mousedownListener),p.on("mousewheel",this.mousewheelListener),this.updateCompletions(!1,u)},v.prototype.getCompletionProvider=function(p){return this.completionProvider||(this.completionProvider=new d(p)),this.completionProvider},v.prototype.gatherCompletions=function(p,u){return this.getCompletionProvider().gatherCompletions(p,u)},v.prototype.updateCompletions=function(p,u){if(p&&this.base&&this.completions){var A=this.editor.getCursorPosition(),S=this.editor.session.getTextRange({start:this.base,end:A});if(S==this.completions.filterText)return;if(this.completions.setFilter(S),!this.completions.filtered.length)return this.detach();if(this.completions.filtered.length==1&&this.completions.filtered[0].value==S&&!this.completions.filtered[0].snippet)return this.detach();this.openPopup(this.editor,S,p);return}if(u&&u.matches){var A=this.editor.getSelectionRange().start;return this.base=this.editor.session.doc.createAnchor(A.row,A.column),this.base.$insertRight=!0,this.completions=new k(u.matches),this.getCompletionProvider().completions=this.completions,this.openPopup(this.editor,"",p)}var m=this.editor.getSession(),A=this.editor.getCursorPosition(),S=h.getCompletionPrefix(this.editor);this.base=m.doc.createAnchor(A.row,A.column-S.length),this.base.$insertRight=!0;var C={exactMatch:this.exactMatch,ignoreCaption:this.ignoreCaption};this.getCompletionProvider({prefix:S,pos:A}).provideCompletions(this.editor,C,(function(R,g,w){var l=g.filtered,_=h.getCompletionPrefix(this.editor);if(this.$firstOpenTimer.cancel(),w){if(!l.length){var L=!this.autoShown&&this.emptyMessage;if(typeof L=="function"&&(L=this.emptyMessage(_)),L){var F=[{caption:L,value:""}];this.completions=new k(F),this.openPopup(this.editor,_,p),this.popup.renderer.setStyle("ace_loading",!1),this.popup.renderer.setStyle("ace_empty-message",!0);return}return this.detach()}if(l.length==1&&l[0].value==_&&!l[0].snippet)return this.detach();if(this.autoInsert&&!this.autoShown&&l.length==1)return this.insertMatch(l[0])}this.completions=!w&&this.showLoadingState?new k(v.completionsForLoading.concat(l),g.filterText):g,this.openPopup(this.editor,_,p),this.popup.renderer.setStyle("ace_empty-message",!1),this.popup.renderer.setStyle("ace_loading",!w)}).bind(this)),this.showLoadingState&&!this.autoShown&&!(this.popup&&this.popup.isOpen)&&this.$firstOpenTimer.delay(this.stickySelectionDelay/2)},v.prototype.cancelContextMenu=function(){this.editor.$mouseHandler.cancelContextMenu()},v.prototype.updateDocTooltip=function(){var p=this.popup,u=this.completions.filtered,m=u&&(u[p.getHoveredRow()]||u[p.getRow()]),A=null;if(!m||!this.editor||!this.popup.isOpen)return this.hideDocTooltip();for(var S=this.editor.completers.length,C=0;C<S;C++){var R=this.editor.completers[C];if(R.getDocTooltip&&m.completerId===R.id){A=R.getDocTooltip(m);break}}if(!A&&typeof m!="string"&&(A=m),typeof A=="string"&&(A={docText:A}),!A||!(A.docHTML||A.docText))return this.hideDocTooltip();this.showDocTooltip(A)},v.prototype.showDocTooltip=function(p){this.tooltipNode||(this.tooltipNode=r.createElement("div"),this.tooltipNode.style.margin="0",this.tooltipNode.style.pointerEvents="auto",this.tooltipNode.style.overscrollBehavior="contain",this.tooltipNode.tabIndex=-1,this.tooltipNode.onblur=this.blurListener.bind(this),this.tooltipNode.onclick=this.onTooltipClick.bind(this),this.tooltipNode.id="doc-tooltip",this.tooltipNode.setAttribute("role","tooltip"),this.tooltipNode.addEventListener("wheel",n));var u=this.editor.renderer.theme;this.tooltipNode.className="ace_tooltip ace_doc-tooltip "+(u.isDark?"ace_dark ":"")+(u.cssClass||"");var m=this.tooltipNode;p.docHTML?m.innerHTML=p.docHTML:p.docText&&(m.textContent=p.docText),m.parentNode||this.popup.container.appendChild(this.tooltipNode);var A=this.popup,S=A.container.getBoundingClientRect();m.style.top=A.container.style.top,m.style.bottom=A.container.style.bottom,m.style.display="block",window.innerWidth-S.right<320?S.left<320?A.isTopdown?(m.style.top=S.bottom+"px",m.style.left=S.left+"px",m.style.right="",m.style.bottom=""):(m.style.top=A.container.offsetTop-m.offsetHeight+"px",m.style.left=S.left+"px",m.style.right="",m.style.bottom=""):(m.style.right=window.innerWidth-S.left+"px",m.style.left=""):(m.style.left=S.right+1+"px",m.style.right="")},v.prototype.hideDocTooltip=function(){if(this.tooltipTimer.cancel(),!!this.tooltipNode){var p=this.tooltipNode;!this.editor.isFocused()&&document.activeElement==p&&this.editor.focus(),this.tooltipNode=null,p.parentNode&&p.parentNode.removeChild(p)}},v.prototype.onTooltipClick=function(p){for(var u=p.target;u&&u!=this.tooltipNode;){if(u.nodeName=="A"&&u.href){u.rel="noreferrer",u.target="_blank";break}u=u.parentNode}},v.prototype.destroy=function(){if(this.detach(),this.popup){this.popup.destroy();var p=this.popup.container;p&&p.parentNode&&p.parentNode.removeChild(p)}this.editor&&this.editor.completer==this&&(this.editor.off("destroy",a),this.editor.completer=null),this.inlineRenderer=this.popup=this.editor=null},v}();c.prototype.commands={Up:function(v){v.completer.goTo("up")},Down:function(v){v.completer.goTo("down")},"Ctrl-Up|Ctrl-Home":function(v){v.completer.goTo("start")},"Ctrl-Down|Ctrl-End":function(v){v.completer.goTo("end")},Esc:function(v){v.completer.detach()},Return:function(v){return v.completer.insertMatch()},"Shift-Return":function(v){v.completer.insertMatch(null,{deleteSuffix:!0})},Tab:function(v){var p=v.completer.insertMatch();if(!p&&!v.tabstopManager)v.completer.goTo("down");else return p},Backspace:function(v){v.execCommand("backspace");var p=h.getCompletionPrefix(v);!p&&v.completer&&v.completer.detach()},PageUp:function(v){v.completer.popup.gotoPageUp()},PageDown:function(v){v.completer.popup.gotoPageDown()}},c.for=function(v){return v.completer instanceof c||(v.completer&&(v.completer.destroy(),v.completer=null),t.get("sharedPopups")?(c.$sharedInstance||(c.$sharedInstance=new c),v.completer=c.$sharedInstance):(v.completer=new c,v.once("destroy",a))),v.completer},c.startCommand={name:"startAutocomplete",exec:function(v,p){var u=c.for(v);u.autoInsert=!1,u.autoSelect=!0,u.autoShown=!1,u.showPopup(v,p),u.cancelContextMenu()},bindKey:"Ctrl-Space|Ctrl-Shift-Space|Alt-Space"};var d=function(){function v(p){this.initialPosition=p,this.active=!0}return v.prototype.insertByIndex=function(p,u,m){return!this.completions||!this.completions.filtered?!1:this.insertMatch(p,this.completions.filtered[u],m)},v.prototype.insertMatch=function(p,u,m){if(!u)return!1;if(p.startOperation({command:{name:"insertMatch"}}),u.completer&&u.completer.insertMatch)u.completer.insertMatch(p,u);else{if(!this.completions)return!1;var A=this.completions.filterText.length,S=0;if(u.range&&u.range.start.row===u.range.end.row&&(A-=this.initialPosition.prefix.length,A+=this.initialPosition.pos.column-u.range.start.column,S+=u.range.end.column-this.initialPosition.pos.column),A||S){var C;p.selection.getAllRanges?C=p.selection.getAllRanges():C=[p.getSelectionRange()];for(var R=0,g;g=C[R];R++)g.start.column-=A,g.end.column+=S,p.session.remove(g)}u.snippet?i.insertSnippet(p,u.snippet):this.$insertString(p,u),u.completer&&u.completer.onInsert&&typeof u.completer.onInsert=="function"&&u.completer.onInsert(p,u),u.command&&u.command==="startAutocomplete"&&p.execCommand(u.command)}return p.endOperation(),!0},v.prototype.$insertString=function(p,u){var m=u.value||u;p.execCommand("insertstring",m)},v.prototype.gatherCompletions=function(p,u){var m=p.getSession(),A=p.getCursorPosition(),S=h.getCompletionPrefix(p),C=[];this.completers=p.completers;var R=p.completers.length;return p.completers.forEach(function(g,w){g.getCompletions(p,m,A,S,function(l,_){g.hideInlinePreview&&(_=_.map(function(L){return Object.assign(L,{hideInlinePreview:g.hideInlinePreview})})),!l&&_&&(C=C.concat(_)),u(null,{prefix:h.getCompletionPrefix(p),matches:C,finished:--R===0})})}),!0},v.prototype.provideCompletions=function(p,u,m){var A=(function(g){var w=g.prefix,l=g.matches;this.completions=new k(l),u.exactMatch&&(this.completions.exactMatch=!0),u.ignoreCaption&&(this.completions.ignoreCaption=!0),this.completions.setFilter(w),(g.finished||this.completions.filtered.length)&&m(null,this.completions,g.finished)}).bind(this),S=!0,C=null;if(this.gatherCompletions(p,(function(g,w){if(this.active){g&&(m(g,[],!0),this.detach());var l=w.prefix;if(l.indexOf(w.prefix)===0){if(S){C=w;return}A(w)}}}).bind(this)),S=!1,C){var R=C;C=null,A(R)}},v.prototype.detach=function(){this.active=!1,this.completers&&this.completers.forEach(function(p){typeof p.cancel=="function"&&p.cancel()})},v}(),k=function(){function v(p,u){this.all=p,this.filtered=p,this.filterText=u||"",this.exactMatch=!1,this.ignoreCaption=!1}return v.prototype.setFilter=function(p){if(p.length>this.filterText&&p.lastIndexOf(this.filterText,0)===0)var u=this.filtered;else var u=this.all;this.filterText=p,u=this.filterCompletions(u,this.filterText),u=u.sort(function(A,S){return S.exactMatch-A.exactMatch||S.$score-A.$score||(A.caption||A.value).localeCompare(S.caption||S.value)});var m=null;u=u.filter(function(A){var S=A.snippet||A.caption||A.value;return S===m?!1:(m=S,!0)}),this.filtered=u},v.prototype.filterCompletions=function(p,u){var m=[],A=u.toUpperCase(),S=u.toLowerCase();e:for(var C=0,R;R=p[C];C++){var g=!this.ignoreCaption&&R.caption||R.value||R.snippet;if(g){var w=-1,l=0,_=0,L,F;if(this.exactMatch){if(u!==g.substr(0,u.length))continue e}else{var U=g.toLowerCase().indexOf(S);if(U>-1)_=U;else for(var H=0;H<u.length;H++){var X=g.indexOf(S[H],w+1),q=g.indexOf(A[H],w+1);if(L=X>=0&&(q<0||X<q)?X:q,L<0)continue e;F=L-w-1,F>0&&(w===-1&&(_+=10),_+=F,l=l|1<<H),w=L}}R.matchMask=l,R.exactMatch=_?0:1,R.$score=(R.score||0)-_,m.push(R)}}return m},v}();x.Autocomplete=c,x.CompletionProvider=d,x.FilteredList=k}),ace.define("ace/autocomplete/text_completer",["require","exports","module","ace/range"],function(f,x,W){var M=f("../range").Range,$=/[^a-zA-Z_0-9\$\-\u00C0-\u1FFF\u2C00-\uD7FF\w]+/;function y(h,o){var r=h.getTextRange(M.fromPoints({row:0,column:0},o));return r.split($).length-1}function s(h,o){var r=y(h,o),i=h.getValue().split($),t=Object.create(null),e=i[r];return i.forEach(function(n,a){if(!(!n||n===e)){var c=Math.abs(r-a),d=i.length-c;t[n]?t[n]=Math.max(d,t[n]):t[n]=d}}),t}x.getCompletions=function(h,o,r,i,t){var e=s(o,r),n=Object.keys(e);t(null,n.map(function(a){return{caption:a,value:a,score:e[a],meta:"local"}}))}}),ace.define("ace/ext/language_tools",["require","exports","module","ace/snippets","ace/autocomplete","ace/config","ace/lib/lang","ace/autocomplete/util","ace/autocomplete/text_completer","ace/editor","ace/config"],function(f,x,W){var M=f("../snippets").snippetManager,$=f("../autocomplete").Autocomplete,y=f("../config"),s=f("../lib/lang"),h=f("../autocomplete/util"),o=f("../autocomplete/text_completer"),r={getCompletions:function(A,S,C,R,g){if(S.$mode.completer)return S.$mode.completer.getCompletions(A,S,C,R,g);var w=A.session.getState(C.row),l=S.$mode.getCompletions(w,S,C,R);l=l.map(function(_){return _.completerId=r.id,_}),g(null,l)},id:"keywordCompleter"},i=function(A){var S={};return A.replace(/\${(\d+)(:(.*?))?}/g,function(C,R,g,w){return S[R]=w||""}).replace(/\$(\d+?)/g,function(C,R){return S[R]})},t={getCompletions:function(A,S,C,R,g){var w=[],l=S.getTokenAt(C.row,C.column);l&&l.type.match(/(tag-name|tag-open|tag-whitespace|attribute-name|attribute-value)\.xml$/)?w.push("html-tag"):w=M.getActiveScopes(A);var _=M.snippetMap,L=[];w.forEach(function(F){for(var U=_[F]||[],H=U.length;H--;){var X=U[H],q=X.name||X.tabTrigger;q&&L.push({caption:q,snippet:X.content,meta:X.tabTrigger&&!X.name?X.tabTrigger+"⇥ ":"snippet",completerId:t.id})}},this),g(null,L)},getDocTooltip:function(A){A.snippet&&!A.docHTML&&(A.docHTML=["<b>",s.escapeHTML(A.caption),"</b>","<hr></hr>",s.escapeHTML(i(A.snippet))].join(""))},id:"snippetCompleter"},e=[t,o,r];x.setCompleters=function(A){e.length=0,A&&e.push.apply(e,A)},x.addCompleter=function(A){e.push(A)},x.textCompleter=o,x.keyWordCompleter=r,x.snippetCompleter=t;var n={name:"expandSnippet",exec:function(A){return M.expandWithTab(A)},bindKey:"Tab"},a=function(A,S){c(S.session.$mode)},c=function(A){typeof A=="string"&&(A=y.$modes[A]),A&&(M.files||(M.files={}),d(A.$id,A.snippetFileId),A.modes&&A.modes.forEach(c))},d=function(A,S){!S||!A||M.files[A]||(M.files[A]={},y.loadModule(S,function(C){C&&(M.files[A]=C,!C.snippets&&C.snippetText&&(C.snippets=M.parseSnippetFile(C.snippetText)),M.register(C.snippets||[],C.scope),C.includeScopes&&(M.snippetMap[C.scope].includeScopes=C.includeScopes,C.includeScopes.forEach(function(R){c("ace/mode/"+R)})))}))},k=function(A){var S=A.editor,C=S.completer&&S.completer.activated;if(A.command.name==="backspace")C&&!h.getCompletionPrefix(S)&&S.completer.detach();else if(A.command.name==="insertstring"&&!C){v=A;var R=A.editor.$liveAutocompletionDelay;R?p.delay(R):u(A)}},v,p=s.delayedCall(function(){u(v)},0),u=function(A){var S=A.editor,C=h.getCompletionPrefix(S),R=A.args,g=h.triggerAutocomplete(S,R);if(C&&C.length>=S.$liveAutocompletionThreshold||g){var w=$.for(S);w.autoShown=!0,w.showPopup(S)}},m=f("../editor").Editor;f("../config").defineOptions(m.prototype,"editor",{enableBasicAutocompletion:{set:function(A){A?(this.completers||(this.completers=Array.isArray(A)?A:e),this.commands.addCommand($.startCommand)):this.commands.removeCommand($.startCommand)},value:!1},enableLiveAutocompletion:{set:function(A){A?(this.completers||(this.completers=Array.isArray(A)?A:e),this.commands.on("afterExec",k)):this.commands.off("afterExec",k)},value:!1},liveAutocompletionDelay:{initialValue:0},liveAutocompletionThreshold:{initialValue:0},enableSnippets:{set:function(A){A?(this.commands.addCommand(n),this.on("changeMode",a),a(null,this)):(this.commands.removeCommand(n),this.off("changeMode",a))},value:!1}})}),function(){ace.require(["ace/ext/language_tools"],function(f){te&&(te.exports=f)})}()}(ln)),ln.exports}Ui();en.config.set("basePath","assets/ace");globalThis.ace=Nr;function Pr(te){return new Promise((Q,f)=>{en.require([te],x=>{x||f(Error(`Could not load ${te}`)),Q(x)})})}const ot={_HW:{description:"Start of the hardware IO registers.",value:"$FF00->$FF80"},_VRAM:{description:"VRAM Memory",value:"$8000->$9FFF"},_SCRN0:{description:"Background 0 Memory",value:"$9800->$9BFF"},_SCRN1:{description:"Background 1 Memory",value:"$9C00->$9FFF"},_SRAM:{description:"Card SRAM",value:"$A000->$BFFF"},_RAM:{description:"WRAM Memory",value:"$C000->$DFFF"},_OAMRAM:{description:"OAM Memory",value:"$FE00->$FE9F",flags:{OAMF_PRI:{value:"%10000000",description:"Flag to set on OAM attribute byte to make the background colors 1-3 to have priority over the sprite."},OAMF_YFLIP:{value:"%01000000",description:"Flag to set on OAM attribute byte to make the sprite flip in the Y direction"},OAMF_XFLIP:{value:"%00100000",description:"Flag to set on OAM attribute byte to make the sprite flip in the X direction"},OAMF_PAL0:{value:"%00000000",description:"Flag to set on OAM attribute byte to make the sprite use OBP0 in DMG (non-color) mode."},OAMF_PAL1:{value:"%00010000",description:"Flag to set on OAM attribute byte to make the sprite use OBP1 in DMG (non-color) mode."},OAMF_BANK0:{value:"%00000000",description:"Flag to set on OAM attribute byte to use a sprite graphics from VRAM Bank 0 in GBC mode."},OAMF_BANK1:{value:"%00001000",description:"Flag to set on OAM attribute byte to use a sprite graphics from VRAM Bank 1 in GBC mode."},OAMF_PALMASK:{value:"%00000111",description:"Mask of the color sprite palette index in the OAM attribute byte. In GBC mode."},OAMB_PRI:{value:"7",description:"Bit number to set on OAM attribute byte to make the background colors 1-3 to have priority over the sprite."},OAMB_YFLIP:{value:"6",description:"Bit number to set on OAM attribute byte to make the sprite flip in the Y direction."},OAMB_XFLIP:{value:"5",description:"Bit number to set on OAM attribute byte to make the sprite flip in the X direction."},OAMB_PAL1:{value:"4",description:"Bit number to set on OAM attribute byte to make the sprite use OBP1 in DMG (non-color) mode."},OAMB_BANK1:{value:"3",description:"Bit number to set on OAM attribute byte to use a sprite graphics from VRAM Bank 1 in GBC mode."}}},_AUD3WAVERAM:{description:"WAVE Channel Memory",value:"$FF30->$FF3F"},_HRAM:{description:"HRAM Memory",value:"$FF80->$FFFE"},rP1:{description:"Register for reading joy pad info. (R/W)",value:"$FF00",flags:{P1F_5:{value:"%00100000",description:"P15 out port, set to 0 to get buttons"},P1F_4:{value:"%00010000",description:"P14 out port, set to 0 to get dpad"},P1F_3:{value:"%00001000",description:"P13 in port"},P1F_2:{value:"%00000100",description:"P12 in port"},P1F_1:{value:"%00000010",description:"P11 in port"},P1F_0:{value:"%00000001",description:"P10 in port"},P1F_GET_DPAD:{description:"Value to load in rP1 to enable the reading of the DPad inputs."},P1F_GET_BTN:{description:"Value to load in rP1 to enable the reading of the A/B/Start/Select inputs."},P1F_GET_NONE:{description:"Value to load in rP1 to disable the reading of input buttons."}}},rSB:{description:"Serial Transfer Data (R/W)",value:"$FF01"},rSC:{description:"Serial I/O Control (R/W)",value:"$FF02"},rDIV:{description:`Divider register (R/W)
Incremented at 16384Hz or 32768Hz depending on the CPU speed.
Write any value to reset to zero.`,value:"$FF04"},rTIMA:{description:"Timer counter (R/W)",value:"$FF05"},rTMA:{description:"Timer modulo (R/W)",value:"$FF06"},rTAC:{description:"Timer control (R/W)",value:"$FF07",flags:{TACF_START:{value:"%00000100"},TACF_STOP:{value:"%00000000"},TACF_4KHZ:{value:"%00000000"},TACF_16KHZ:{value:"%00000011"},TACF_65KHZ:{value:"%00000010"},TACF_262KHZ:{value:"%00000001"}}},rIF:{description:`Interrupt Flag (R/W)
Contains the currently 'ready' interrupts, set by hardware, cleared when interrupt is executed.
Generally only written to zero to clear pending interrupts before enabling interrupts.`,value:"$FF0F",flags:"rIE"},rLCDC:{description:"LCD Control (R/W)",value:"$FF40",flags:{LCDCF_OFF:{value:"%00000000",description:"LCD Control Operation"},LCDCF_ON:{value:"%10000000",description:"LCD Control Operation"},LCDCF_WIN9800:{value:"%00000000",description:"Window Tile Map Display Select"},LCDCF_WIN9C00:{value:"%01000000",description:"Window Tile Map Display Select"},LCDCF_WINOFF:{value:"%00000000",description:"Window Display"},LCDCF_WINON:{value:"%00100000",description:"Window Display"},LCDCF_BG8800:{value:"%00000000",description:"BG & Window Tile Data Select"},LCDCF_BG8000:{value:"%00010000",description:"BG & Window Tile Data Select"},LCDCF_BG9800:{value:"%00000000",description:"BG Tile Map Display Select"},LCDCF_BG9C00:{value:"%00001000",description:"BG Tile Map Display Select"},LCDCF_OBJ8:{value:"%00000000",description:"OBJ Construction"},LCDCF_OBJ16:{value:"%00000100",description:"OBJ Construction"},LCDCF_OBJOFF:{value:"%00000000",description:"OBJ Display"},LCDCF_OBJON:{value:"%00000010",description:"OBJ Display"},LCDCF_BGOFF:{value:"%00000000",description:"BG Display"},LCDCF_BGON:{value:"%00000001",description:"BG Display"}}},rSTAT:{description:"LCDC Status (R/W)",value:"$FF41",flags:{STATF_LYC:{value:"%01000000",description:"LYC=LY Coincidence interrupt enabled (writable)"},STATF_MODE10:{value:"%00100000",description:"Mode 10 OAM STAT interrupt enabled (writable)"},STATF_MODE01:{value:"%00010000",description:"Mode 01 V-Blank STAT interrupt enabled (writable)"},STATF_MODE00:{value:"%00001000",description:"Mode 00 H-Blank STAT interrupt enabled (writable)"},STATF_LYCF:{value:"%00000100",description:"Coincidence Flag"},STATF_HB:{value:"%00000000",description:"H-Blank"},STATF_VB:{value:"%00000001",description:"V-Blank"},STATF_OAM:{value:"%00000010",description:"OAM-RAM is used by system"},STATF_LCD:{value:"%00000011",description:"Both OAM and VRAM used by system"},STATF_BUSY:{value:"%00000010",description:"When set, VRAM access is unsafe"}}},rSCY:{description:"Scroll Y (R/W)",value:"$FF42"},rSCX:{description:"Scroll X (R/W)",value:"$FF43"},rLY:{description:"LCDC Y-Coordinate (R)<br>Values range from 0->153. 144->153 is the VBlank period.",value:"$FF44"},rLYC:{description:"LY Compare (R/W)<br>When LY==LYC, STATF_LYCF will be set in STAT",value:"$FF45"},rDMA:{description:"DMA Transfer and Start Address (W)",value:"$FF46"},rBGP:{description:"BG Palette Data (W)<br>Bit 7-6 - Intensity for %11<br>Bit 5-4 - Intensity for %10<br>Bit 3-2 - Intensity for %01<br>Bit 1-0 - Intensity for %00",value:"$FF47"},rOBP0:{description:"Object Palette 0 Data (W)<br>Bit 7-6 - Intensity for %11<br>Bit 5-4 - Intensity for %10<br>Bit 3-2 - Intensity for %01<br>Bit 1-0 - Ignored, %00 is transparent",value:"$FF48"},rOBP1:{description:"Object Palette 1 Data (W)<br>Bit 7-6 - Intensity for %11<br>Bit 5-4 - Intensity for %10<br>Bit 3-2 - Intensity for %01<br>Bit 1-0 - Ignored, %00 is transparent",value:"$FF49"},rWY:{description:"Window Y Position (R/W)<br>0 <= WY <= 143",value:"$FF4A"},rWX:{description:"Window X Position (R/W)<br>7 <EQU WX <EQU 166",value:"$FF4B"},rKEY1:{description:"Select CPU Speed (R/W) GBC Only!<br>Bit 7 contains current speed: 1 is double speed.<br>Write bit 0 to 1 and execute a STOP instruction to switch speed.",value:"$FF4D"},rVBK:{description:"Select Video RAM Bank (R/W) GBC Only!",value:"$FF4F"},rHDMA1:{description:"Horizontal Blanking, General Purpose DMA (W) GBC Only!",value:"$FF51"},rHDMA2:{description:"Horizontal Blanking, General Purpose DMA (W) GBC Only!",value:"$FF52"},rHDMA3:{description:"Horizontal Blanking, General Purpose DMA (W) GBC Only!",value:"$FF53"},rHDMA4:{description:"Horizontal Blanking, General Purpose DMA (W) GBC Only!",value:"$FF54"},rHDMA5:{description:"Horizontal Blanking, General Purpose DMA (R/W) GBC Only!",value:"$FF55"},rRP:{description:"Infrared Communications Port (R/W) GBC Only!",value:"$FF56"},rBCPS:{description:"Background Color Palette Specification (R/W) GBC Only!",value:"$FF68"},rBCPD:{description:"Background Color Palette Data (R/W) GBC Only!",value:"$FF69"},rOCPS:{description:"Object Color Palette Specification (R/W) GBC Only!",value:"$FF6A"},rOCPD:{description:"Object Color Palette Data (R/W) GBC Only!",value:"$FF6B"},rSVBK:{description:"Select Main RAM Bank (R/W) GBC Only!",value:"$FF70"},rIE:{description:"Interrupt Enable (R/W)",value:"$FFFF",flags:{IEF_HILO:{value:"%00010000",description:"Transition from High to Low of Pin number P10-P13"},IEF_SERIAL:{value:"%00001000",description:"Serial I/O transfer end"},IEF_TIMER:{value:"%00000100",description:"Timer Overflow"},IEF_LCDC:{value:"%00000010",description:"LCDC (see STAT)"},IEF_VBLANK:{value:"%00000001",description:"V-Blank"}}},rNR50:{description:"Channel control / ON-OFF / Volume (R/W)<br>Bit 7   - Vin->SO2 ON/OFF (Vin??)<br>Bit 6-4 - SO2 output level (volume) (# 0-7)<br>Bit 3   - Vin->SO1 ON/OFF (Vin??)<br>Bit 2-0 - SO1 output level (volume) (# 0-7)",value:"$FF24",alias:"rAUDVOL"},rNR51:{description:"Selection of Sound output terminal (R/W)<br>Bit 7   - Output sound 4 to SO2 terminal<br>Bit 6   - Output sound 3 to SO2 terminal<br>Bit 5   - Output sound 2 to SO2 terminal<br>Bit 4   - Output sound 1 to SO2 terminal<br>Bit 3   - Output sound 4 to SO1 terminal<br>Bit 2   - Output sound 3 to SO1 terminal<br>Bit 1   - Output sound 2 to SO1 terminal<br>Bit 0   - Output sound 0 to SO1 terminal",value:"$FF25",alias:"rAUDTERM",flags:{AUDTERM_4_LEFT:{description:"%10000000"},AUDTERM_3_LEFT:{description:"%01000000"},AUDTERM_2_LEFT:{description:"%00100000"},AUDTERM_1_LEFT:{description:"%00010000"},AUDTERM_4_RIGHT:{description:"%00001000"},AUDTERM_3_RIGHT:{description:"%00000100"},AUDTERM_2_RIGHT:{description:"%00000010"},AUDTERM_1_RIGHT:{description:"%00000001"}}},rNR52:{description:"Sound on/off (R/W)<br>Bit 7   - All sound on/off (sets all audio regs to 0!)<br>Bit 3   - Sound 4 ON flag (read only)<br>Bit 2   - Sound 3 ON flag (read only)<br>Bit 1   - Sound 2 ON flag (read only)<br>Bit 0   - Sound 1 ON flag (read only)",value:"$FF26",alias:"rAUDENA",flags:{AUDENA_ON:{description:"%10000000"},AUDENA_OFF:{description:"%00000000  ; sets all audio regs to 0!"}}},rNR10:{description:"Sweep register (R/W)<br>Bit 6-4 - Sweep Time<br>Bit 3   - Sweep Increase/Decrease<br>&nbsp; 0: Addition<br>&nbsp; 1: Subtraction<br>Bit 2-0 - Number of sweep shift (# 0-7)<br>Sweep Time: (n*7.8ms)",value:"$FF10",alias:"rAUD1SWEEP",flags:{AUD1SWEEP_UP:{description:"%00000000"},AUD1SWEEP_DOWN:{description:"%00001000"}}},rNR11:{description:"Sound length/Wave pattern duty (R/W)<br>Bit 7-6 - Wave Pattern Duty (00:12.5% 01:25% 10:50% 11:75%)<br>Bit 5-0 - Sound length data (# 0-63)",value:"$FF11",alias:"rAUD1LEN",flags:{AUDLEN_DUTY_12_5:{value:"%00000000",description:"12.5%"},AUDLEN_DUTY_25:{value:"%01000000",description:"25%"},AUDLEN_DUTY_50:{value:"%10000000",description:"50%"},AUDLEN_DUTY_75:{value:"%11000000",description:"75%"}}},rNR12:{description:`Envelope (R/W)
Bit 7-4 - Initial value of envelope
Bit 3   - Envelope UP/DOWN
        0: Decrease
        1: Range of increase
Bit 2-0 - Number of envelope sweep (# 0-7)`,value:"$FF12",alias:"rAUD1ENV",flags:{AUDENV_UP:{value:"%00001000"},AUDENV_DOWN:{value:"%00000000"}}},rNR13:{description:"Frequency lo (W)",value:"$FF13",alias:"rAUD1LOW"},rNR14:{description:"Frequency hi (W)",value:"$FF14",alias:"rAUD1HIGH",flags:{AUDHIGH_RESTART:{description:"%10000000"},AUDHIGH_LENGTH_ON:{description:"%01000000"},AUDHIGH_LENGTH_OFF:{description:"%00000000"}}},rNR21:{description:"Sound Length; Wave Pattern Duty (R/W)",value:"$FF16",alias:"rAUD2LEN",flags:"rAUD1LEN"},rNR22:{description:"Envelope (R/W)",value:"$FF17",alias:"rAUD2ENV",flags:"rAUD1ENV"},rNR23:{description:"Frequency lo (W)",value:"$FF18",alias:"rAUD2LOW"},rNR24:{description:"Frequency hi (W)",value:"$FF19",alias:"rAUD2HIGH",flags:"rAUD1HIGH"},rNR30:{description:"Sound on/off (R/W)",value:"$FF1A",alias:"rAUD3ENA"},rNR31:{description:"Sound length (R/W)",value:"$FF1B",alias:"rAUD3LEN"},rNR32:{description:"Select output level",value:"$FF1C",alias:"rAUD3LEVEL"},rNR33:{description:"Frequency lo (W)",value:"$FF1D",alias:"rAUD3LOW"},rNR34:{description:"Frequency hi (W)",value:"$FF1E",alias:"rAUD3HIGH",flags:"rAUD1HIGH"},rNR41:{description:"Sound length (R/W)",value:"$FF20",alias:"rAUD4LEN"},rNR42:{description:"Envelope (R/W)",value:"$FF21",alias:"rAUD4ENV",flags:"rAUD1ENV"},rNR43:{description:"Polynomial counter (R/W)",value:"$FF22",alias:"rAUD4POLY"},rNR44:{description:"",value:"$FF23",alias:"rAUD4GO"},rPCM12:{description:"Sound channel 1&2 PCM amplitude (R) GBC Only!",value:"$FF76"},rPCM34:{description:"Sound channel 3&4 PCM amplitude (R) GBC Only!",value:"$FF77"},CART_COMPATIBLE_DMG:{description:"Store at $0143 to indicate DMG cartridge. ($00)"},CART_COMPATIBLE_DMG_GBC:{description:"Store at $0143 to indicate DMG and GBC compatible cartridge. ($80)"},CART_COMPATIBLE_GBC:{description:"Store at $0143 to indicate GBC compatible cartridge. ($C0)"},CART_ROM:{description:"Store at $0147 to cart type. ($00)"},CART_ROM_MBC1:{description:"Store at $0147 to cart type. ($01)"},CART_ROM_MBC1_RAM:{description:"Store at $0147 to cart type. ($02)"},CART_ROM_MBC1_RAM_BAT:{description:"Store at $0147 to cart type. ($03)"},CART_ROM_MBC2:{description:"Store at $0147 to cart type. ($05)"},CART_ROM_MBC2_BAT:{description:"Store at $0147 to cart type. ($06)"},CART_ROM_RAM:{description:"Store at $0147 to cart type. ($08)"},CART_ROM_RAM_BAT:{description:"Store at $0147 to cart type. ($09)"},CART_ROM_MBC3_BAT_RTC:{description:"Store at $0147 to cart type. ($0F)"},CART_ROM_MBC3_RAM_BAT_RTC:{description:"Store at $0147 to cart type. ($10)"},CART_ROM_MBC3:{description:"Store at $0147 to cart type. ($11)"},CART_ROM_MBC3_RAM:{description:"Store at $0147 to cart type. ($12)"},CART_ROM_MBC3_RAM_BAT:{description:"Store at $0147 to cart type. ($13)"},CART_ROM_MBC5:{description:"Store at $0147 to cart type. ($19)"},CART_ROM_MBC5_BAT:{description:"Store at $0147 to cart type. ($1A)"},CART_ROM_MBC5_RAM_BAT:{description:"Store at $0147 to cart type. ($1B)"},CART_ROM_MBC5_RUMBLE:{description:"Store at $0147 to cart type. ($1C)"},CART_ROM_MBC5_RAM_RUMBLE:{description:"Store at $0147 to cart type. ($1D)"},CART_ROM_MBC5_RAM_BAT_RUMBLE:{description:"Store at $0147 to cart type. ($1E)"},CART_ROM_MBC7_RAM_BAT_GYRO:{description:"Store at $0147 to cart type. ($22)"},CART_ROM_POCKET_CAMERA:{description:"Store at $0147 to cart type. ($FC)"},CART_ROM_256K:{description:"Store at $0148 to indicate the number of ROM banks: 2 banks"},CART_ROM_512K:{description:"Store at $0148 to indicate the number of ROM banks: 4 banks"},CART_ROM_1M:{description:"Store at $0148 to indicate the number of ROM banks: 8 banks"},CART_ROM_2M:{description:"Store at $0148 to indicate the number of ROM banks: 16 banks"},CART_ROM_4M:{description:"Store at $0148 to indicate the number of ROM banks: 32 banks"},CART_ROM_8M:{description:"Store at $0148 to indicate the number of ROM banks: 64 banks"},CART_ROM_16M:{description:"Store at $0148 to indicate the number of ROM banks: 128 banks"},CART_ROM_32M:{description:"Store at $0148 to indicate the number of ROM banks: 256 banks"},CART_ROM_64M:{description:"Store at $0148 to indicate the number of ROM banks: 512 banks"},CART_RAM_NONE:{description:"Store at $0149 to indicate the amount of SRAM: No SRAM"},CART_RAM_16K:{description:"Store at $0149 to indicate the amount of SRAM: 2 KiloByte, 1 bank"},CART_RAM_64K:{description:"Store at $0149 to indicate the amount of SRAM: 8 KiloByte, 1 bank"},CART_RAM_256K:{description:"Store at $0149 to indicate the amount of SRAM: 32 KiloByte, 4 banks"},CART_RAM_1M:{description:"Store at $0149 to indicate the amount of SRAM: 128 KiloByte, 16 banks"},CART_RAM_ENABLE:{description:"Write this value to $0000 to enable SRAM. ($0A)"},CART_RAM_DISABLE:{description:"Write this value to $0000 to disable SRAM. ($00)"},PADF_DOWN:{description:"$80"},PADF_UP:{description:"$40"},PADF_LEFT:{description:"$20"},PADF_RIGHT:{description:"$10"},PADF_START:{description:"$08"},PADF_SELECT:{description:"$04"},PADF_B:{description:"$02"},PADF_A:{description:"$01"},PADB_DOWN:{description:"$7"},PADB_UP:{description:"$6"},PADB_LEFT:{description:"$5"},PADB_RIGHT:{description:"$4"},PADB_START:{description:"$3"},PADB_SELECT:{description:"$2"},PADB_B:{description:"$1"},PADB_A:{description:"$0"},SCRN_X:{description:"Width of screen in pixels",value:"160"},SCRN_Y:{description:"Height of screen in pixels",value:"144"},SCRN_X_B:{description:"Width of screen in bytes",value:"20"},SCRN_Y_B:{description:"Height of screen in bytes",value:"18"},SCRN_VX:{description:"Virtual width of screen in pixels",value:"256"},SCRN_VY:{description:"Virtual height of screen in pixels",value:"256"},SCRN_VX_B:{description:"Virtual width of screen in bytes",value:"32"},SCRN_VY_B:{description:"Virtual height of screen in bytes",value:"32"}};for(var Mt in ot){if(typeof ot[Mt].flags=="string"&&(ot[Mt].flags=ot[ot[Mt].flags].flags),ot[Mt].flags)for(var Hn in ot[Mt].flags)ot[Hn]=ot[Mt].flags[Hn];ot[Mt].alias&&(ot[ot[Mt].alias]=Object.assign({},ot[Mt]),ot[ot[Mt].alias].alias=Mt)}const{TextHighlightRules:Gi}=await Pr("ace/mode/text_highlight_rules"),ji="\\b(?:"+Object.keys(ot).join("|")+")\\b";class Vi extends Gi{constructor(){super(),this.$rules={start:[{token:"keyword.control.assembly",regex:"\\b(?:ADC|ADD|AND|CP|DEC|INC|OR|SBC|SUB|XOR|BIT|RES|SET|SWAP|RL|RLA|RLC|RLCA|RR|RRA|RRC|RRCA|SLA|SRA|SRL|LD|LDH|CALL|JP|JR|RET|RETI|RST|POP|PUSH|CCF|CPL|DAA|DI|EI|HALT|NOP|SCF|STOP)\\b",caseInsensitive:!0},{token:"keyword.control.sections",regex:"\\b(?:ROM0|ROMX|VRAM|WRAM0|WRAMX|OAM|HRAM)\\b",caseInsensitive:!0},{token:"keyword.control.reserved",regex:"\\b(?:SECTION|INCLUDE|BANK|ALIGN|PURGE|INCBIN|CHARMAP|NEWCHARMAP|SETCHARMAP|PUSHC|POPC|FAIL|WARN|FATAL|ASSERT|STATIC_ASSERT|MACRO|ENDM|SHIFT|REPT|ENDR|LOAD|ENDL|IF|ELSE|ELIF|ENDC|UNION|NEXTU|EQU|EQUS|PUSHS|POPS|PUSHO|POPO|OPT)\\b",caseInsensitive:!0},{token:"variable.constant",regex:ji,caseInsensitive:!0},{token:"variable.parameter.register.assembly",regex:"\\b(?:A|B|C|D|E|H|L|AF|BC|DE|HL)\\b",caseInsensitive:!0},{token:"constant.character.decimal.assembly",regex:"\\b[0-9]+\\b"},{token:"constant.character.binary.assembly",regex:"\\%[0-1]+\\b"},{token:"constant.character.quaternary.assembly",regex:"\\`[0-3]+\\b"},{token:"constant.character.hexadecimal.assembly",regex:"\\$[A-F0-9]+\\b",caseInsensitive:!0},{token:"string.assembly",regex:/'([^\\']|\\.)*'/},{token:"string.assembly",regex:/"([^\\"]|\\.)*"/},{token:"entity.name.function.assembly",regex:"^\\s*%%[\\w.]+?:$"},{token:"entity.name.function.assembly",regex:"^\\s*%\\$[\\w.]+?:$"},{token:"entity.name.function.assembly",regex:"^[\\w.]+?:"},{token:"comment.assembly",regex:";.*$"}]},this.normalizeRules()}static metaData={fileTypes:["asm"],name:"Game Boy SM83",scopeName:"source.assembly"}}const{FoldMode:qi}=await Pr("ace/mode/folding/coffee");class Ki extends qi{constructor(){super()}getFoldWidgetRange(Q,f,x){var W=this.indentationBlock(Q,x);if(W)return W;var M=/\S/,$=Q.getLine(x),y=$.search(M);if(!(y==-1||$[y]!="#")){for(var s=$.length,h=Q.getLength(),o=x,r=x;++x<h;){$=Q.getLine(x);var i=$.search(M);if(i!=-1){if($[i]!="#")break;r=x}}if(r>o){var t=Q.getLine(r).length;return new ace.Range(o,s,r,t)}}}getFoldWidget(Q,f,x){var W=Q.getLine(x),M=W.search(/\S/),$=Q.getLine(x+1),y=Q.getLine(x-1),s=y.search(/\S/),h=$.search(/\S/);if(M==-1)return Q.foldWidgets[x-1]=s!=-1&&s<h?"start":"","";if(s==-1){if(M==h&&W[M]=="#"&&$[M]=="#")return Q.foldWidgets[x-1]="",Q.foldWidgets[x+1]="","start"}else if(s==M&&W[M]=="#"&&y[M]=="#"&&Q.getLine(x-2).search(/\S/)==-1)return Q.foldWidgets[x-1]="start",Q.foldWidgets[x+1]="","";return s!=-1&&s<M?Q.foldWidgets[x-1]="start":Q.foldWidgets[x-1]="",M<h?"start":""}}const{Mode:Yi}=await Pr("ace/mode/text");class Zi extends Yi{static lineCommentStart=[";"];static $id="ace/mode/gbz80";constructor(){super(),this.HighlightRules=Vi,this.foldingRules=new Ki,this.$behaviour=this.$defaultBehaviour}}ace.define("ace/mode/gbz80",["exports"],te=>Object.assign(te,{Mode:Zi}));const{Tooltip:zn}=await Pr("ace/tooltip"),Wn=await Pr("ace/lib/event");class Xi extends zn{token={};range=new Nr.Range;constructor(Q){super(Q.container),!Q.tokenTooltip&&(Q.tokenTooltip=this,this.editor=Q,this.update=this.update.bind(this),this.onMouseMove=this.onMouseMove.bind(this),this.onMouseOut=this.onMouseOut.bind(this),Wn.addListener(Q.renderer.scroller,"mousemove",this.onMouseMove),Wn.addListener(Q.renderer.content,"mouseout",this.onMouseOut))}update(){this.$timer=null;var Q=this.editor.renderer;this.lastT-(Q.timeStamp||0)>1e3&&(Q.rect=null,Q.timeStamp=this.lastT,this.maxHeight=window.innerHeight,this.maxWidth=window.innerWidth);var f=Q.rect||(Q.rect=Q.scroller.getBoundingClientRect()),x=(this.x+Q.scrollLeft-f.left-Q.$padding)/Q.characterWidth,W=Math.floor((this.y+Q.scrollTop-f.top)/Q.lineHeight),M=Math.round(x),$={row:W,column:M},y=this.editor.session,s=y.screenToDocumentPosition($.row,$.column),h=y.getTokenAt(s.row,s.column);if(!h&&!y.getLine(s.row)&&(h={type:"",value:"",state:y.bgTokenizer.getState(0)}),!h){this.hide();return}var o="";if(h.type=="variable.constant"&&h.value in ot){var r=ot[h.value];if(o=r.description,r.value&&(o+=`
Value: `+r.value),r.flags){o+=`
`;for(var i in r.flags)o+=`
`+i+": "+r.flags[i].description}}else{this.hide();return}this.tokenText!=o&&(this.setText(o),this.width=this.getWidth(),this.height=this.getHeight(),this.tokenText=o),this.show(null,this.x,this.y),this.token=h}onMouseMove(Q){this.x=Q.clientX,this.y=Q.clientY,this.isOpen&&(this.lastT=Q.timeStamp,this.setPosition(this.x,this.y)),this.$timer||(this.$timer=setTimeout(this.update,100))}onMouseOut(Q){Q&&Q.currentTarget.contains(Q.relatedTarget)||(this.hide(),this.$timer=clearTimeout(this.$timer))}setPosition(Q,f){Q+10+this.width>this.maxWidth&&(Q=window.innerWidth-this.width-10),(f>window.innerHeight*.75||f+20+this.height>this.maxHeight)&&(f=f-this.height-30),zn.prototype.setPosition.call(this,Q+10,f+20)}destroy(){this.onMouseOut(),event.removeListener(this.editor.renderer.scroller,"mousemove",this.onMouseMove),event.removeListener(this.editor.renderer.content,"mouseout",this.onMouseOut),delete this.editor.tokenTooltip}}var Ji=[{name:"adc a, r8",description:"a = a + r8 + carry",optionalA:!0,cycles:1,bytes:1,flags:{z:"Set if result is 0",n:"0",h:"Set if overflow from bit 3",c:"Set if overflow from bit 7"}},{name:"adc a, [hl]",description:"a = a + [hl] + carry",optionalA:!0,cycles:2,bytes:1,flags:{z:"Set if result is 0",n:"0",h:"Set if overflow from bit 3",c:"Set if overflow from bit 7"}},{name:"adc a, n8",description:"a = a + n8 + carry",optionalA:!0,cycles:2,bytes:2,flags:{z:"Set if result is 0",n:"0",h:"Set if overflow from bit 3",c:"Set if overflow from bit 7"}},{name:"add a, r8",description:"a = a + r8",optionalA:!0,cycles:1,bytes:1,flags:{z:"Set if result is 0",n:"0",h:"Set if overflow from bit 3",c:"Set if overflow from bit 7"}},{name:"add a, [hl]",description:"a = a + [hl]",optionalA:!0,cycles:2,bytes:1,flags:{z:"Set if result is 0",n:"0",h:"Set if overflow from bit 3",c:"Set if overflow from bit 7"}},{name:"add a, n8",description:"a = a + n8",optionalA:!0,cycles:2,bytes:2,flags:{z:"Set if result is 0",n:"0",h:"Set if overflow from bit 3",c:"Set if overflow from bit 7"}},{name:"add hl, r16",description:"hl = hl + r16",cycles:2,bytes:1,flags:{n:"0",h:"Set if overflow from bit 11",c:"Set if overflow from bit 15"}},{name:"add hl, sp",description:"hl = hl + sp",cycles:2,bytes:1,flags:{n:"0",h:"Set if overflow from bit 11",c:"Set if overflow from bit 15"}},{name:"add sp, e8",description:"sp = sp + e8",cycles:4,bytes:2,flags:{z:"0",n:"0",h:"Set if overflow from bit 3",c:"Set if overflow from bit 7"}},{name:"and a, r8",description:"a = a & r8",optionalA:!0,cycles:1,bytes:1,flags:{z:"Set if result is 0",n:"0",h:"1",c:"0"}},{name:"and a, [hl]",description:"a = a & [hl]",optionalA:!0,cycles:2,bytes:1,flags:{z:"Set if result is 0",n:"0",h:"1",c:"0"}},{name:"and a, n8",description:"a = a & n8",optionalA:!0,cycles:2,bytes:2,flags:{z:"Set if result is 0",n:"0",h:"1",c:"0"}},{name:"bit u3, r8",description:"Sets Z if bit u3 in r8 is 0",cycles:2,bytes:2,flags:{z:"Set if selected bit is 0",n:"0",h:"1"}},{name:"bit u3, [hl]",description:"Sets Z if bit u3 in [hl] is 0",cycles:3,bytes:2,flags:{z:"Set if selected bit is 0",n:"0",h:"1"}},{name:"call n16",description:"Calls address n16",cycles:6,bytes:3,flags:{}},{name:"call cc, n16",description:"Calls address n16 if condition cc is met",cycles:"6/3",bytes:3,flags:{}},{name:"ccf",description:"Complements the carry flag",cycles:1,bytes:1,flags:{n:"0",h:"0",c:"Complemented"}},{name:"cp a, r8",description:"flags = a - r8",optionalA:!0,cycles:1,bytes:1,flags:{z:"Set if result is 0 (a == r8)",n:"1",h:"Set if no borrow from bit 4",c:"Set if no borrow (a < r8)"}},{name:"cp a, [hl]",description:"flags = a - [hl]",optionalA:!0,cycles:2,bytes:1,flags:{z:"Set if result is 0 (a == [hl])",n:"1",h:"Set if no borrow from bit 4",c:"Set if no borrow (a < [hl])"}},{name:"cp a, n8",description:"flags = a - n8",optionalA:!0,cycles:2,bytes:2,flags:{z:"Set if result is 0 (a == n8)",n:"1",h:"Set if no borrow from bit 4",c:"Set if no borrow (a < n8)"}},{name:"cpl",description:"a = ~a",cycles:1,bytes:1,flags:{n:"1",h:"1"}},{name:"daa",description:"Decimal adjusts a to correct BCD value after arithmetic",cycles:1,bytes:1,flags:{z:"Set if result is 0",h:"0",c:"Set or reset based on operation"}},{name:"dec r8",description:"r8 -= 1",cycles:1,bytes:1,flags:{z:"Set if result is 0",n:"1",h:"Set if no borrow from bit 4"}},{name:"dec [hl]",description:"[hl] -= 1",cycles:3,bytes:1,flags:{z:"Set if result is 0",n:"1",h:"Set if no borrow from bit 4"}},{name:"dec r16",description:"r16 -= 1",cycles:2,bytes:1,flags:{}},{name:"dec sp",description:"sp -= 1",cycles:2,bytes:1,flags:{}},{name:"di",description:"Disables interrupts",cycles:1,bytes:1,flags:{}},{name:"ei",description:"Enables interrupts",cycles:1,bytes:1,flags:{}},{name:"halt",description:"Puts the CPU into low power mode",cycles:"-",bytes:1,flags:{}},{name:"inc r8",description:"r8 += 1",cycles:1,bytes:1,flags:{z:"Set if result is 0",n:"0",h:"Set if overflow from bit 3"}},{name:"inc [hl]",description:"[hl] += 1",cycles:3,bytes:1,flags:{z:"Set if result is 0",n:"0",h:"Set if overflow from bit 3"}},{name:"inc r16",description:"r16 += 1",cycles:2,bytes:1,flags:{}},{name:"inc sp",description:"sp += 1",cycles:2,bytes:1,flags:{}},{name:"jp n16",description:"Jumps to address n16",cycles:4,bytes:3,flags:{}},{name:"jp cc, n16",description:"Jumps to address n16 if condition cc is met",cycles:"4/3",bytes:3,flags:{}},{name:"jp hl",description:"Jumps to address in hl",cycles:1,bytes:1,flags:{}},{name:"jr e8",description:"Relative jumps by adding e8 to pc",cycles:3,bytes:2,flags:{}},{name:"jr cc, e8",description:"Relative jumps by adding e8 to pc if condition cc is met",cycles:"3/2",bytes:2,flags:{}},{name:"ld r8, r8",description:"Copies the value from the right register into the left",cycles:1,bytes:1,flags:{}},{name:"ld r8, n8",description:"r8 = n8",cycles:2,bytes:2,flags:{}},{name:"ld r16, n16",description:"r16 = n16",cycles:3,bytes:3,flags:{}},{name:"ld [hl], r8",description:"[hl] = r8",cycles:2,bytes:1,flags:{}},{name:"ld [hl], n8",description:"[hl] = n8",cycles:3,bytes:2,flags:{}},{name:"ld r8, [hl]",description:"r8 = [hl]",cycles:2,bytes:1,flags:{}},{name:"ld [r16], a",description:"[r16] = a",cycles:2,bytes:1,flags:{}},{name:"ld [n16], a",description:"[n16] = a",cycles:4,bytes:3,flags:{}},{name:"ldh [$ff00+n8], a",description:"[$ff00+n8] = a",cycles:3,bytes:2,flags:{}},{name:"ld [$ff00+c], a",description:"[$ff00+c] = a",cycles:2,bytes:1,flags:{}},{name:"ld a, [r16]",description:"a = [r16]",cycles:2,bytes:1,flags:{}},{name:"ld a, [n16]",description:"a = [n16]",cycles:4,bytes:3,flags:{}},{name:"ldh a, [$ff00+n8]",description:"a = [$ff00+n8]",cycles:3,bytes:2,flags:{}},{name:"ld a, [$ff00+c]",description:"a = [$ff00+c]",cycles:2,bytes:1,flags:{}},{name:"ld [hl+], a",description:"[hl] = a, hl += 1",aliasHLI:!0,cycles:2,bytes:1,flags:{}},{name:"ld [hl-], a",description:"[hl] = a, hl -= 1",aliasHLD:!0,cycles:2,bytes:1,flags:{}},{name:"ld a, [hl+]",description:"a = [hl], hl += 1",aliasHLI:!0,cycles:2,bytes:1,flags:{}},{name:"ld a, [hl-]",description:"a = [hl], hl -= 1",aliasHLD:!0,cycles:2,bytes:1,flags:{}},{name:"ld sp, n16",description:"sp = n16",cycles:3,bytes:3,flags:{}},{name:"ld [n16], sp",description:"[n16, n16 + 1] = sp",cycles:5,bytes:3,flags:{}},{name:"ld hl, sp+e8",description:"hl = sp + e8",cycles:3,bytes:2,flags:{z:"0",n:"0",h:"Set if overflow from bit 3",c:"Set if overflow from bit 7"}},{name:"ld sp, hl",description:"sp = hl",cycles:2,bytes:1,flags:{}},{name:"nop",description:"No operation",cycles:1,bytes:1,flags:{}},{name:"or a, r8",description:"a = a | r8",optionalA:!0,cycles:1,bytes:1,flags:{z:"Set if result is 0",n:"0",h:"0",c:"0"}},{name:"or a, [hl]",description:"a = a | [hl]",optionalA:!0,cycles:2,bytes:1,flags:{z:"Set if result is 0",n:"0",h:"0",c:"0"}},{name:"or a, n8",description:"a = a | n8",optionalA:!0,cycles:2,bytes:2,flags:{z:"Set if result is 0",n:"0",h:"0",c:"0"}},{name:"pop af",description:"Pops the stack into af",cycles:3,bytes:1,flags:{}},{name:"pop r16",description:"Pops the stack into r16",cycles:3,bytes:1,flags:{}},{name:"push af",description:"Pushes af onto the stack",cycles:4,bytes:1,flags:{}},{name:"push r16",description:"Pushes r16 onto the stack",cycles:4,bytes:1,flags:{}},{name:"res u3, r8",description:"Sets the bit u3 in r8 to 0",cycles:2,bytes:2,flags:{}},{name:"res u3, [hl]",description:"Sets the bit u3 in [hl] to 0",cycles:4,bytes:2,flags:{}},{name:"ret",description:"Returns from the current subroutine",cycles:4,bytes:1,flags:{}},{name:"ret cc",description:"Returns from the current subroutine if condition cc is met",cycles:"5/2",bytes:1,flags:{}},{name:"reti",description:"Returns from the current subroutine and enables interrupts",cycles:4,bytes:1,flags:{}},{name:"rl r8",description:"Rotates r8 left, sets bit 0 to carry, sets carry to old bit 7",cycles:2,bytes:2,flags:{z:"Set if result is 0",n:"0",h:"0",c:"Set to old bit 7"}},{name:"rl [hl]",description:"Rotates [hl] left, sets bit 0 to carry, sets carry to old bit 7",cycles:4,bytes:2,flags:{z:"Set if result is 0",n:"0",h:"0",c:"Set to old bit 7"}},{name:"rla",description:"Rotates a left, sets bit 0 to carry, sets carry to old bit 7",cycles:1,bytes:1,flags:{z:"0",n:"0",h:"0",c:"Set to old bit 7"}},{name:"rlc r8",description:"Rotates r8 left, sets bit 0 and carry to old bit 7",cycles:2,bytes:2,flags:{z:"Set if result is 0",n:"0",h:"0",c:"Set to old bit 7"}},{name:"rlc [hl]",description:"Rotates [hl] left, sets bit 0 and carry to old bit 7",cycles:4,bytes:2,flags:{z:"Set if result is 0",n:"0",h:"0",c:"Set to old bit 7"}},{name:"rlca",description:"Rotates a left, sets bit 0 and carry to old bit 7",cycles:1,bytes:1,flags:{z:"0",n:"0",h:"0",c:"Set to old bit 7"}},{name:"rr r8",description:"Rotates r8 right, sets bit 7 to carry, sets carry to old bit 0",cycles:2,bytes:2,flags:{z:"Set if result is 0",n:"0",h:"0",c:"Set to old bit 0"}},{name:"rr [hl]",description:"Rotates [hl] right, sets bit 7 to carry, sets carry to old bit 0",cycles:4,bytes:2,flags:{z:"Set if result is 0",n:"0",h:"0",c:"Set to old bit 0"}},{name:"rra",description:"Rotates a right, sets bit 7 to carry, sets carry to old bit 0",cycles:1,bytes:1,flags:{z:"0",n:"0",h:"0",c:"Set to old bit 0"}},{name:"rrc r8",description:"Rotates r8 right, sets bit 7 and carry to old bit 0",cycles:2,bytes:2,flags:{z:"Set if result is 0",n:"0",h:"0",c:"Set to old bit 0"}},{name:"rrc [hl]",description:"Rotates [hl] right, sets bit 7 and carry to old bit 0",cycles:4,bytes:2,flags:{z:"Set if result is 0",n:"0",h:"0",c:"Set to old bit 0"}},{name:"rrca",description:"Rotates a right, sets bit 7 and carry to old bit 0",cycles:1,bytes:1,flags:{z:"0",n:"0",h:"0",c:"Set to old bit 0"}},{name:"rst vec",description:"Calls given reset vector",cycles:4,bytes:1,flags:{}},{name:"sbc a, r8",description:"a = a - r8 - c",optionalA:!0,cycles:1,bytes:1,flags:{z:"Set if result is 0",n:"1",h:"Set if no borrow from bit 4",c:"Set if no borrow"}},{name:"sbc a, [hl]",description:"a = a - [hl] - c",optionalA:!0,cycles:2,bytes:1,flags:{z:"Set if result is 0",n:"1",h:"Set if no borrow from bit 4",c:"Set if no borrow"}},{name:"sbc a, n8",description:"a = a - n8 - c",optionalA:!0,cycles:2,bytes:2,flags:{z:"Set if result is 0",n:"1",h:"Set if no borrow from bit 4",c:"Set if no borrow"}},{name:"scf",description:"Sets the carry flag to 1",cycles:1,bytes:1,flags:{n:"0",h:"0",c:"1"}},{name:"set u3, r8",description:"Sets the bit u3 in r8 to 1",cycles:2,bytes:2,flags:{}},{name:"set u3, [hl]",description:"Sets the bit u3 in [hl] to 1",cycles:4,bytes:2,flags:{}},{name:"sla r8",description:"Shifts r8 left, sets carry to old bit 7",cycles:2,bytes:2,flags:{z:"Set if result is 0",n:"0",h:"0",c:"Set to old bit 7"}},{name:"sla [hl]",description:"Shifts [hl] left, sets carry to old bit 7",cycles:4,bytes:2,flags:{z:"Set if result is 0",n:"0",h:"0",c:"Set to old bit 7"}},{name:"sra r8",description:"Shifts r8 right keeping bit 7 unchanged, sets carry to old bit 0",cycles:2,bytes:2,flags:{z:"Set if result is 0",n:"0",h:"0",c:"Set to old bit 0"}},{name:"sra [hl]",description:"Shifts [hl] right keeping bit 7 unchanged, sets carry to old bit 0",cycles:4,bytes:2,flags:{z:"Set if result is 0",n:"0",h:"0",c:"Set to old bit 0"}},{name:"srl r8",description:"Shifts r8 right, sets carry to old bit 0",cycles:2,bytes:2,flags:{z:"Set if result is 0",n:"0",h:"0",c:"Set to old bit 0"}},{name:"srl [hl]",description:"Shifts [hl] right, sets carry to old bit 0",cycles:4,bytes:2,flags:{z:"Set if result is 0",n:"0",h:"0",c:"Set to old bit 0"}},{name:"stop",description:"Puts the CPU into very low power mode",cycles:"-",bytes:"2",flags:{}},{name:"sub a, r8",description:"a = a - r8",optionalA:!0,cycles:1,bytes:1,flags:{z:"Set if result is 0 (a == r8)",n:"1",h:"Set if no borrow from bit 4",c:"Set if no borrow (a < r8)"}},{name:"sub a, [hl]",description:"a = a - [hl]",optionalA:!0,cycles:2,bytes:1,flags:{z:"Set if result is 0 (a == [hl])",n:"1",h:"Set if no borrow from bit 4",c:"Set if no borrow (a < [hl])"}},{name:"sub a, n8",description:"a = a - n8",optionalA:!0,cycles:2,bytes:2,flags:{z:"Set if result is 0 (a == n8)",n:"1",h:"Set if no borrow from bit 4",c:"Set if no borrow (a < n8)"}},{name:"swap r8",description:"Swaps the upper and lower 4 bits in r8",cycles:2,bytes:2,flags:{z:"Set if result is 0",n:"0",h:"0",c:"0"}},{name:"swap [hl]",description:"Swaps the upper and lower 4 bits in [hl]",cycles:4,bytes:2,flags:{z:"Set if result is 0",n:"0",h:"0",c:"0"}},{name:"xor a, r8",description:"a = a ^ r8",optionalA:!0,cycles:1,bytes:1,flags:{z:"Set if result is 0",n:"0",h:"0",c:"0"}},{name:"xor a, [hl]",description:"a = a ^ [hl]",optionalA:!0,cycles:2,bytes:1,flags:{z:"Set if result is 0",n:"0",h:"0",c:"0"}},{name:"xor a, n8",description:"a = a ^ n8",optionalA:!0,cycles:2,bytes:2,flags:{z:"Set if result is 0",n:"0",h:"0",c:"0"}}],Zn=[];Ji.forEach(function(te){var Q="<table><tr><td colspan=2>"+te.description;Q+="<tr><td>cycles:<td>"+te.cycles,Q+="<tr><td>size:<td>"+te.bytes,Q+="<tr><td>Flag Z:<td>"+te.flags.z,Q+="<tr><td>Flag N:<td>"+te.flags.n,Q+="<tr><td>Flag H:<td>"+te.flags.H,Q+="<tr><td>Flag C:<td>"+te.flags.C;var f={caption:te.name,value:te.name,meta:"",docHTML:Q};f.completer={insertMatch:function(x,W){}},Zn.push(f)});var Xn=[];for(var cn in ot){var Ft=ot[cn],Lr="";if(Ft.description&&(Lr=Ft.description.replace(`
`,"<br>")),Ft.value&&(Lr+="<br><b>Value:</b> "+Ft.value),Ft.flags)for(var Un in Ft.flags)Lr+="<br><b>"+Un+":</b> "+Ft.flags[Un].description;Ft.alias&&(Lr+="<br><b>Alias:</b> "+Ft.alias);var Qi={caption:cn,value:cn,meta:"",docHTML:Lr};Xn.push(Qi)}var eo={getCompletions:function(te,Q,f,x,W){var M=Q.getLine(f.row),$=M.substr(0,f.column-1).trim();$.trim()==""||$.trim().endsWith(":")?W(null,Zn.filter(function(y){return y.value.startsWith(x.toLowerCase())})):W(null,Xn.filter(function(y){return y.value.toLowerCase().startsWith(x.toLowerCase())}))}};Nr.config.set("basePath","assets/ace");var st=[],vt=null,Ur=null,Gr=null,Wr=null,hr=[],un={};const to=te=>{if(!window.matchMedia)return;const Q=window.matchMedia("(prefers-color-scheme: dark)");te(Q.matches),Q.addEventListener("change",f=>te(f.matches))};function Jn(te,Q){var f=Nr.edit(te);new Xi(f),to(x=>{f.setTheme(x?"ace/theme/tomorrow_night_eighties":"ace/theme/tomorrow")}),f.session.setMode("ace/mode/gbz80"),f.setOptions({tabSize:2,useSoftTabs:!0,navigateWithinSoftTabs:!0,enableLiveAutocompletion:!0,enableSnippets:!0}),f.completers=[eo],f.session.on("change",function(x){f.curOp&&f.curOp.command.name&&(Gt(vt,f.getValue()),Q())}),f.on("guttermousedown",function(x){var W=x.domEvent.target;if(W.className.indexOf("ace_gutter-cell")!=-1){var M=x.getDocumentPosition().row;io(vt,M+1),x.stop()}}),st.push(f)}function Qn(te){vt!=null&&(un[vt]=st[0].selection.getCursor()),vt=te,st[0].setValue(_t()[te]),st[0].selection.clearSelection(),st[0].session.getUndoManager().reset(),vt in un?st[0].selection.moveCursorToPosition(un[vt]):st[0].selection.moveCursorTo(0,0),st[0].scrollToLine(st[0].selection.getCursor().row,!0),st[0].focus(),$n(),ti()}function $n(){var te=[];for(var[Q,f,x,W]of di())f==vt&&te.push({row:x-1,column:0,type:Q,text:W});st[0].session.setAnnotations(te)}function Yr(te,Q,f){Ur=te,Gr=Q,ti(f)}function ro(te,Q){hr.push([te,Q]),xn(),ei()}function no(te,Q){hr=hr.filter(f=>f[0]!=te||f[1]!=Q),xn(),ei()}function io(te,Q){var f=hr.findIndex(x=>x[0]==te&&x[1]==Q);f>-1?no(te,Q):ro(te,Q)}function ei(){st[0].session.clearBreakpoints();for(var[te,Q,f]of hr)te==vt&&st[0].session.setBreakpoint(Q-1,f?"ace_breakpoint":"ace_invalid_breakpoint")}function ti(te){te&&vt!=null&&vt!=Ur&&Qn(Ur),Wr!=null&&(st[0].session.removeMarker(Wr),Wr=null),Ur==vt&&(Wr=st[0].session.addMarker(new Nr.Range(Gr-1,0,Gr-1,1),"cpuLineMarker","fullLine"),te&&st[0].scrollToLine(Gr-1,!0,!1,function(){}))}function oo(){return vt}function ri(){return hr}function so(){st[0].renderer.getContainerElement().style.display="none"}function ao(){st[0].renderer.getContainerElement().style.display="",st[0].resize(),st[0].renderer.updateFull()}const lo=Object.freeze(Object.defineProperty({__proto__:null,getBreakpoints:ri,getCurrentFilename:oo,hide:so,register:Jn,setCpuLine:Yr,setCurrentFile:Qn,show:ao,updateErrors:$n},Symbol.toStringTag,{value:"Module"}));var jr=[4290965700,4289247578,4285423646,4278197037],Zr,Ot,ar,ut,Ut,mn,Xr=0;function ni(te){ar=document.getElementById(te),ut=document.getElementById("gfxEditorTilesCanvas"),Ut=document.getElementById("gfxEditorDrawCanvas"),mn=document.getElementById("gfxEditorPalette"),new ResizeObserver(function(){ut.parentElement.style.maxWidth=ar.clientWidth,ut.parentElement.style.maxHeight=ar.clientHeight-300,ut.parentElement.style.display=""}).observe(ar),Ut.onmousemove=function(Q){var f=Q.target.getBoundingClientRect(),x=~~((Q.clientX-f.left)/f.width*Q.target.width),W=~~((Q.clientY-f.top)/f.height*Q.target.height);Q.preventDefault(),Q.buttons!=0&&fo(x,W,Xr)},Ut.onmousedown=Ut.onmousemove,Ut.oncontextmenu=function(){return!1},mn.onmousedown=function(Q){var f=Q.target.getBoundingClientRect();~~((Q.clientX-f.left)/f.width*Q.target.width/16);var x=~~((Q.clientY-f.top)/f.height*Q.target.height/16);Q.preventDefault(),Xr=x,Gn()},Gn(),ut.onmousedown=function(Q){var f=Q.target.getBoundingClientRect(),x=~~((Q.clientX-f.left)/f.width*Q.target.width/8),W=~~((Q.clientY-f.top)/f.height*Q.target.height/8);Q.preventDefault(),tn(x+W*16)}}function co(te){Zr=te,tn(0);var Q=_t()[te],f=~~(Q.length/16),x=~~((f+15)/16);ut.width=16*8,ut.height=x*8,ut.style.width=ut.width*4;for(var W=ut.getContext("2d"),M=W.getImageData(0,0,ut.width,ut.height),$=new Uint32Array(M.data.buffer),y=ut.width,s=0;s<f;s++){var h=s%16,o=~~(s/16),r=h*8+o*8*y;An(new Uint8Array(Q.buffer,s*16,16),$,r,y)}W.putImageData(M,0,0)}function uo(){ar.style.display="none"}function ho(){ar.style.display=""}function tn(te){var Q=_t()[Zr];te>=Q.length/16&&(te=Q.length/16-1),Ot=te;var f=Ut.getContext("2d"),x=f.getImageData(0,0,Ut.width,Ut.height),W=new Uint32Array(x.data.buffer);An(new Uint8Array(Q.buffer,te*16,16),W,0,8),f.putImageData(x,0,0)}function An(te,Q,f,x){for(var W=0;W<8;W++)for(var M=te[W*2],$=te[W*2+1],y=0;y<8;y++){var s=0;M&128>>y&&(s|=1),$&128>>y&&(s|=2),Q[f+y+W*x]=jr[s]}}function fo(te,Q,f){var x=_t()[Zr];f&1?x[Ot*16+Q*2+0]|=128>>te:x[Ot*16+Q*2+0]&=~(128>>te),f&2?x[Ot*16+Q*2+1]|=128>>te:x[Ot*16+Q*2+1]&=~(128>>te),tn(Ot),Gt(Zr,x);var W=ut.getContext("2d"),M=W.getImageData(0,0,ut.width,ut.height),$=new Uint32Array(M.data.buffer),y=ut.width,s=Ot%16,h=~~(Ot/16),o=s*8+h*8*y;An(new Uint8Array(x.buffer,Ot*16,16),$,o,y),W.putImageData(M,0,0)}function Gn(){for(var te=mn.getContext("2d"),Q=0;Q<4;Q++)te.fillStyle="rgb("+(jr[Q]&255)+", "+(jr[Q]>>8&255)+", "+(jr[Q]>>16&255)+")",te.fillRect(0,Q*16,16,16);te.strokeStyle="#FFF",te.beginPath(),te.rect(2.5,Xr*16+2.5,11,11),te.stroke(),te.strokeStyle="#000",te.beginPath(),te.rect(1.5,Xr*16+1.5,13,13),te.stroke()}const po=Object.freeze(Object.defineProperty({__proto__:null,hide:uo,register:ni,setCurrentFile:co,setTileIndex:tn,show:ho},Symbol.toStringTag,{value:"Module"}));var go={hide:function(){document.getElementById("nullEditorDiv").style.display="none"},show:function(){document.getElementById("nullEditorDiv").style.display=""},setCurrentFile:function(){}},or=go,ii="";function Jr(){return ii}function Xt(te){ii=te;var Q=or;return typeof _t()[te]=="string"?or=lo:or=po,Q!=or&&(Q.hide(),or.show()),or.setCurrentFile(te)}function vn(te){var Q=te.lastIndexOf(".");if(Q<0)return"binary";var f=te.substr(Q+1).toLowerCase();return f=="inc"||f=="asm"||f=="z80"||f=="h"||f=="c"||f=="cpp"||f=="hpp"||f=="txt"?"text":"binary"}const tr=`;******************************************************************************
; Game Boy hardware constant definitions
; https://github.com/gbdev/hardware.inc
;******************************************************************************

; To the extent possible under law, the authors of this work have
; waived all copyright and related or neighboring rights to the work.
; See https://creativecommons.org/publicdomain/zero/1.0/ for details.
; SPDX-License-Identifier: CC0-1.0

; If this file was already included, don't do it again
if !def(HARDWARE_INC)

; Check for the minimum supported RGBDS version
if !def(__RGBDS_MAJOR__) || !def(__RGBDS_MINOR__) || !def(__RGBDS_PATCH__)
    fail "This version of 'hardware.inc' requires RGBDS version 0.5.0 or later"
endc
if __RGBDS_MAJOR__ == 0 && __RGBDS_MINOR__ < 5
    fail "This version of 'hardware.inc' requires RGBDS version 0.5.0 or later."
endc

; Define the include guard and the current hardware.inc version
; (do this after the RGBDS version check since the \`def\` syntax depends on it)
def HARDWARE_INC equ 1
def HARDWARE_INC_VERSION equs "5.1.0"

; Usage: rev_Check_hardware_inc <min_ver>
; Examples:
;     rev_Check_hardware_inc 1.2.3
;     rev_Check_hardware_inc 1.2   (equivalent to 1.2.0)
;     rev_Check_hardware_inc 1     (equivalent to 1.0.0)
MACRO rev_Check_hardware_inc
    if _NARG == 1 ; Actual invocation by the user
        def hw_inc_cur_ver\\@ equs strrpl("{HARDWARE_INC_VERSION}", ".", ",")
        def hw_inc_min_ver\\@ equs strrpl("\\1", ".", ",")
        rev_Check_hardware_inc {hw_inc_cur_ver\\@}, {hw_inc_min_ver\\@}, 0, 0
        purge hw_inc_cur_ver\\@, hw_inc_min_ver\\@
    else ; Recursive invocation
        if \\1 != \\4 || (\\2 < \\5 || (\\2 == \\5 && \\3 < \\6))
            fail "Version \\1.\\2.\\3 of 'hardware.inc' is incompatible with requested version \\4.\\5.\\6"
        endc
    endc
ENDM


;******************************************************************************
; Memory-mapped registers ($FFxx range)
;******************************************************************************

; -- JOYP / P1 ($FF00) --------------------------------------------------------
; Joypad face buttons
def rJOYP equ $FF00

def B_JOYP_GET_BUTTONS  equ 5 ; 0 = reading buttons     [r/w]
def B_JOYP_GET_CTRL_PAD equ 4 ; 0 = reading Control Pad [r/w]
    def JOYP_GET equ %00_11_0000 ; select which inputs to read from the lower nybble
        def JOYP_GET_BUTTONS  equ %00_01_0000 ; reading A/B/Select/Start buttons
        def JOYP_GET_CTRL_PAD equ %00_10_0000 ; reading Control Pad directions
        def JOYP_GET_NONE     equ %00_11_0000 ; reading nothing

def B_JOYP_START  equ 3 ; 0 = Start is pressed  (if reading buttons)     [ro]
def B_JOYP_SELECT equ 2 ; 0 = Select is pressed (if reading buttons)     [ro]
def B_JOYP_B      equ 1 ; 0 = B is pressed      (if reading buttons)     [ro]
def B_JOYP_A      equ 0 ; 0 = A is pressed      (if reading buttons)     [ro]
def B_JOYP_DOWN   equ 3 ; 0 = Down is pressed   (if reading Control Pad) [ro]
def B_JOYP_UP     equ 2 ; 0 = Up is pressed     (if reading Control Pad) [ro]
def B_JOYP_LEFT   equ 1 ; 0 = Left is pressed   (if reading Control Pad) [ro]
def B_JOYP_RIGHT  equ 0 ; 0 = Right is pressed  (if reading Control Pad) [ro]
    def JOYP_INPUTS equ %0000_1111
    def JOYP_START  equ 1 << B_JOYP_START
    def JOYP_SELECT equ 1 << B_JOYP_SELECT
    def JOYP_B      equ 1 << B_JOYP_B
    def JOYP_A      equ 1 << B_JOYP_A
    def JOYP_DOWN   equ 1 << B_JOYP_DOWN
    def JOYP_UP     equ 1 << B_JOYP_UP
    def JOYP_LEFT   equ 1 << B_JOYP_LEFT
    def JOYP_RIGHT  equ 1 << B_JOYP_RIGHT

; Combined input byte, with Control Pad in high nybble (conventional order)
def B_PAD_DOWN   equ 7
def B_PAD_UP     equ 6
def B_PAD_LEFT   equ 5
def B_PAD_RIGHT  equ 4
def B_PAD_START  equ 3
def B_PAD_SELECT equ 2
def B_PAD_B      equ 1
def B_PAD_A      equ 0
    def PAD_CTRL_PAD equ %1111_0000
    def PAD_BUTTONS  equ %0000_1111
    def PAD_DOWN     equ 1 << B_PAD_DOWN
    def PAD_UP       equ 1 << B_PAD_UP
    def PAD_LEFT     equ 1 << B_PAD_LEFT
    def PAD_RIGHT    equ 1 << B_PAD_RIGHT
    def PAD_START    equ 1 << B_PAD_START
    def PAD_SELECT   equ 1 << B_PAD_SELECT
    def PAD_B        equ 1 << B_PAD_B
    def PAD_A        equ 1 << B_PAD_A


; Combined input byte, with Control Pad in low nybble (swapped order)
def B_PAD_SWAP_START  equ 7
def B_PAD_SWAP_SELECT equ 6
def B_PAD_SWAP_B      equ 5
def B_PAD_SWAP_A      equ 4
def B_PAD_SWAP_DOWN   equ 3
def B_PAD_SWAP_UP     equ 2
def B_PAD_SWAP_LEFT   equ 1
def B_PAD_SWAP_RIGHT  equ 0
    def PAD_SWAP_CTRL_PAD equ %0000_1111
    def PAD_SWAP_BUTTONS  equ %1111_0000
    def PAD_SWAP_START    equ 1 << B_PAD_SWAP_START
    def PAD_SWAP_SELECT   equ 1 << B_PAD_SWAP_SELECT
    def PAD_SWAP_B        equ 1 << B_PAD_SWAP_B
    def PAD_SWAP_A        equ 1 << B_PAD_SWAP_A
    def PAD_SWAP_DOWN     equ 1 << B_PAD_SWAP_DOWN
    def PAD_SWAP_UP       equ 1 << B_PAD_SWAP_UP
    def PAD_SWAP_LEFT     equ 1 << B_PAD_SWAP_LEFT
    def PAD_SWAP_RIGHT    equ 1 << B_PAD_SWAP_RIGHT

; -- SB ($FF01) ---------------------------------------------------------------
; Serial transfer data [r/w]
def rSB equ $FF01

; -- SC ($FF02) ---------------------------------------------------------------
; Serial transfer control
def rSC equ $FF02

def B_SC_START  equ 7 ; reading 1 = transfer in progress, writing 1 = start transfer        [r/w]
def B_SC_SPEED  equ 1 ; (CGB only) 1 = use faster internal clock                            [r/w]
def B_SC_SOURCE equ 0 ; 0 = use external clock ("slave"), 1 = use internal clock ("master") [r/w]
    def SC_START  equ 1 << B_SC_START
    def SC_SPEED  equ 1 << B_SC_SPEED
        def SC_SLOW equ 0 << B_SC_SPEED
        def SC_FAST equ 1 << B_SC_SPEED
    def SC_SOURCE equ 1 << B_SC_SOURCE
        def SC_EXTERNAL equ 0 << B_SC_SOURCE
        def SC_INTERNAL equ 1 << B_SC_SOURCE

; -- $FF03 is unused ----------------------------------------------------------

; -- DIV ($FF04) --------------------------------------------------------------
; Divider register [r/w]
def rDIV equ $FF04

; -- TIMA ($FF05) -------------------------------------------------------------
; Timer counter [r/w]
def rTIMA equ $FF05

; -- TMA ($FF06) --------------------------------------------------------------
; Timer modulo [r/w]
def rTMA equ $FF06

; -- TAC ($FF07) --------------------------------------------------------------
; Timer control
def rTAC equ $FF07

def B_TAC_START equ 2 ; enable incrementing TIMA [r/w]
    def TAC_STOP  equ 0 << B_TAC_START
    def TAC_START equ 1 << B_TAC_START

def TAC_CLOCK equ %000000_11 ; the frequency at which TIMA increments [r/w]
    def TAC_4KHZ   equ %000000_00 ; every 256 M-cycles = ~4 KHz on DMG
    def TAC_262KHZ equ %000000_01 ; every 4 M-cycles = ~262 KHz on DMG
    def TAC_65KHZ  equ %000000_10 ; every 16 M-cycles = ~65 KHz on DMG
    def TAC_16KHZ  equ %000000_11 ; every 64 M-cycles = ~16 KHz on DMG

; -- $FF08-$FF0E are unused ---------------------------------------------------

; -- IF ($FF0F) ---------------------------------------------------------------
; Pending interrupts
def rIF equ $FF0F

def B_IF_JOYPAD equ 4 ; 1 = joypad interrupt is pending [r/w]
def B_IF_SERIAL equ 3 ; 1 = serial interrupt is pending [r/w]
def B_IF_TIMER  equ 2 ; 1 = timer  interrupt is pending [r/w]
def B_IF_STAT   equ 1 ; 1 = STAT   interrupt is pending [r/w]
def B_IF_VBLANK equ 0 ; 1 = VBlank interrupt is pending [r/w]
    def IF_JOYPAD equ 1 << B_IF_JOYPAD
    def IF_SERIAL equ 1 << B_IF_SERIAL
    def IF_TIMER  equ 1 << B_IF_TIMER
    def IF_STAT   equ 1 << B_IF_STAT
    def IF_VBLANK equ 1 << B_IF_VBLANK

; -- AUD1SWEEP / NR10 ($FF10) -------------------------------------------------
; Audio channel 1 sweep
def rAUD1SWEEP equ $FF10

def AUD1SWEEP_TIME equ %0_111_0000 ; how long between sweep iterations
                                   ; (in 128 Hz ticks, ~7.8 ms apart) [r/w]

def B_AUD1SWEEP_DIR equ 3 ; sweep direction [r/w]
    def AUD1SWEEP_DIR equ 1 << B_AUD1SWEEP_DIR
        def AUD1SWEEP_UP   equ 0 << B_AUD1SWEEP_DIR
        def AUD1SWEEP_DOWN equ 1 << B_AUD1SWEEP_DIR

def AUD1SWEEP_SHIFT equ %00000_111 ; how much the period increases/decreases per iteration [r/w]

; -- AUD1LEN / NR11 ($FF11) ---------------------------------------------------
; Audio channel 1 length timer and duty cycle
def rAUD1LEN equ $FF11

def AUD1LEN_DUTY equ %11_000000 ; ratio of time spent high vs. time spent low [r/w]
    def AUD1LEN_DUTY_12_5 equ %00_000000 ; 12.5%
    def AUD1LEN_DUTY_25   equ %01_000000 ; 25%
    def AUD1LEN_DUTY_50   equ %10_000000 ; 50%
    def AUD1LEN_DUTY_75   equ %11_000000 ; 75%

def AUD1LEN_TIMER equ %00_111111 ; initial length timer (0-63) [wo]

; -- AUD1ENV / NR12 ($FF12) ---------------------------------------------------
; Audio channel 1 volume and envelope
def rAUD1ENV equ $FF12

def AUD1ENV_INIT_VOLUME equ %1111_0000 ; initial volume [r/w]

def B_AUD1ENV_DIR equ 3 ; direction of volume envelope [r/w]
    def AUD1ENV_DIR equ 1 << B_AUD1ENV_DIR
        def AUD1ENV_DOWN equ 0 << B_AUD1ENV_DIR
        def AUD1ENV_UP   equ 1 << B_AUD1ENV_DIR

def AUD1ENV_PACE equ %00000_111 ; how long between envelope iterations
                                ; (in 64 Hz ticks, ~15.6 ms apart) [r/w]

; -- AUD1LOW / NR13 ($FF13) ---------------------------------------------------
; Audio channel 1 period (low 8 bits) [r/w]
def rAUD1LOW equ $FF13

; -- AUD1HIGH / NR14 ($FF14) --------------------------------------------------
; Audio channel 1 period (high 3 bits) and control
def rAUD1HIGH equ $FF14

def B_AUD1HIGH_RESTART    equ 7 ; 1 = restart the channel [wo]
def B_AUD1HIGH_LEN_ENABLE equ 6 ; 1 = reset the channel after the length timer expires [r/w]
    def AUD1HIGH_RESTART    equ 1 << B_AUD1HIGH_RESTART
    def AUD1HIGH_LENGTH_OFF equ 0 << B_AUD1HIGH_LEN_ENABLE
    def AUD1HIGH_LENGTH_ON  equ 1 << B_AUD1HIGH_LEN_ENABLE

def AUD1HIGH_PERIOD_HIGH equ %00000_111 ; upper 3 bits of the channel's period [r/w]

; -- $FF15 is unused ----------------------------------------------------------

; -- AUD2LEN / NR21 ($FF16) ---------------------------------------------------
; Audio channel 2 length timer and duty cycle
def rAUD2LEN equ $FF16

def AUD2LEN_DUTY equ %11_000000 ; ratio of time spent high vs. time spent low [r/w]
    def AUD2LEN_DUTY_12_5 equ %00_000000 ; 12.5%
    def AUD2LEN_DUTY_25   equ %01_000000 ; 25%
    def AUD2LEN_DUTY_50   equ %10_000000 ; 50%
    def AUD2LEN_DUTY_75   equ %11_000000 ; 75%

def AUD2LEN_TIMER equ %00_111111 ; initial length timer (0-63) [wo]

; -- AUD2ENV / NR22 ($FF17) ---------------------------------------------------
; Audio channel 2 volume and envelope
def rAUD2ENV equ $FF17

def AUD2ENV_INIT_VOLUME equ %1111_0000 ; initial volume [r/w]

def B_AUD2ENV_DIR equ 3 ; direction of volume envelope [r/w]
    def AUD2ENV_DIR equ 1 << B_AUD2ENV_DIR
        def AUD2ENV_DOWN equ 0 << B_AUD2ENV_DIR
        def AUD2ENV_UP   equ 1 << B_AUD2ENV_DIR

def AUD2ENV_PACE equ %00000_111 ; how long between envelope iterations
                                ; (in 64 Hz ticks, ~15.6 ms apart) [r/w]

; -- AUD2LOW / NR23 ($FF18) ---------------------------------------------------
; Audio channel 2 period (low 8 bits) [r/w]
def rAUD2LOW equ $FF18

; -- AUD2HIGH / NR24 ($FF19) --------------------------------------------------
; Audio channel 2 period (high 3 bits) and control
def rAUD2HIGH equ $FF19

def B_AUD2HIGH_RESTART    equ 7 ; 1 = restart the channel [wo]
def B_AUD2HIGH_LEN_ENABLE equ 6 ; 1 = reset the channel after the length timer expires [r/w]
    def AUD2HIGH_RESTART    equ 1 << B_AUD2HIGH_RESTART
    def AUD2HIGH_LENGTH_OFF equ 0 << B_AUD2HIGH_LEN_ENABLE
    def AUD2HIGH_LENGTH_ON  equ 1 << B_AUD2HIGH_LEN_ENABLE

def AUD2HIGH_PERIOD_HIGH equ %00000_111 ; upper 3 bits of the channel's period [r/w]

; -- AUD3ENA / NR30 ($FF1A) ---------------------------------------------------
; Audio channel 3 enable
def rAUD3ENA equ $FF1A

def B_AUD3ENA_ENABLE equ 7 ; 1 = channel is active [r/w]
    def AUD3ENA_OFF equ 0 << B_AUD3ENA_ENABLE
    def AUD3ENA_ON  equ 1 << B_AUD3ENA_ENABLE

; -- AUD3LEN / NR31 ($FF1B) ---------------------------------------------------
; Audio channel 3 length timer [wo]
def rAUD3LEN equ $FF1B

; -- AUD3LEVEL / NR32 ($FF1C) -------------------------------------------------
; Audio channel 3 volume
def rAUD3LEVEL equ $FF1C

def AUD3LEVEL_VOLUME equ %0_11_00000 ; volume level [r/w]
    def AUD3LEVEL_MUTE equ %0_00_00000 ; 0% (muted)
    def AUD3LEVEL_100  equ %0_01_00000 ; 100%
    def AUD3LEVEL_50   equ %0_10_00000 ; 50%
    def AUD3LEVEL_25   equ %0_11_00000 ; 25%

; -- AUD3LOW / NR33 ($FF1D) ---------------------------------------------------
; Audio channel 3 period (low 8 bits) [r/w]
def rAUD3LOW equ $FF1D

; -- AUD3HIGH / NR34 ($FF1E) --------------------------------------------------
; Audio channel 3 period (high 3 bits) and control
def rAUD3HIGH equ $FF1E

def B_AUD3HIGH_RESTART    equ 7 ; 1 = restart the channel [wo]
def B_AUD3HIGH_LEN_ENABLE equ 6 ; 1 = reset the channel after the length timer expires [r/w]
    def AUD3HIGH_RESTART    equ 1 << B_AUD3HIGH_RESTART
    def AUD3HIGH_LENGTH_OFF equ 0 << B_AUD3HIGH_LEN_ENABLE
    def AUD3HIGH_LENGTH_ON  equ 1 << B_AUD3HIGH_LEN_ENABLE

def AUD3HIGH_PERIOD_HIGH equ %00000_111 ; upper 3 bits of the channel's period [r/w]

; -- $FF1F is unused ----------------------------------------------------------

; -- AUD4LEN / NR41 ($FF20) ---------------------------------------------------
; Audio channel 4 length timer
def rAUD4LEN equ $FF20

def AUD4LEN_TIMER equ %00_111111 ; initial length timer (0-63) [wo]

; -- AUD4ENV / NR42 ($FF21) ---------------------------------------------------
; Audio channel 4 volume and envelope
def rAUD4ENV equ $FF21

def AUD4ENV_INIT_VOLUME equ %1111_0000 ; initial volume [r/w]

def B_AUD4ENV_DIR equ 3 ; direction of volume envelope [r/w]
    def AUD4ENV_DIR equ 1 << B_AUD4ENV_DIR
        def AUD4ENV_DOWN equ 0 << B_AUD4ENV_DIR
        def AUD4ENV_UP   equ 1 << B_AUD4ENV_DIR

def AUD4ENV_PACE equ %00000_111 ; how long between envelope iterations
                                ; (in 64 Hz ticks, ~15.6 ms apart) [r/w]

; -- AUD4POLY / NR43 ($FF22) --------------------------------------------------
; Audio channel 4 period and randomness
def rAUD4POLY equ $FF22

def AUD4POLY_SHIFT equ %1111_0000 ; coarse control of the channel's period [r/w]

def B_AUD4POLY_WIDTH equ 3 ; controls the noise generator (LFSR)'s step width [r/w]
    def AUD4POLY_15STEP equ 0 << B_AUD4POLY_WIDTH
    def AUD4POLY_7STEP  equ 1 << B_AUD4POLY_WIDTH

def AUD4POLY_DIV equ %00000_111 ; fine control of the channel's period [r/w]

; -- AUD4GO / NR44 ($FF23) ----------------------------------------------------
; Audio channel 4 control
def rAUD4GO equ $FF23

def B_AUD4GO_RESTART    equ 7 ; 1 = restart the channel [wo]
def B_AUD4GO_LEN_ENABLE equ 6 ; 1 = reset the channel after the length timer expires [r/w]
    def AUD4GO_RESTART    equ 1 << B_AUD4GO_RESTART
    def AUD4GO_LENGTH_OFF equ 0 << B_AUD4GO_LEN_ENABLE
    def AUD4GO_LENGTH_ON  equ 1 << B_AUD4GO_LEN_ENABLE

; -- AUDVOL / NR50 ($FF24) ----------------------------------------------------
; Audio master volume and VIN mixer
def rAUDVOL equ $FF24

def B_AUDVOL_VIN_LEFT  equ 7 ; 1 = output VIN to left ear (SO2, speaker 2) [r/w]
    def AUDVOL_VIN_LEFT equ 1 << B_AUDVOL_VIN_LEFT

def AUDVOL_LEFT equ %0_111_0000 ; 0 = barely audible, 7 = full volume [r/w]

def B_AUDVOL_VIN_RIGHT equ 3 ; 1 = output VIN to right ear (SO1, speaker 1) [r/w]
    def AUDVOL_VIN_RIGHT equ 1 << B_AUDVOL_VIN_RIGHT

def AUDVOL_RIGHT equ %00000_111 ; 0 = barely audible, 7 = full volume [r/w]

; -- AUDTERM / NR51 ($FF25) ---------------------------------------------------
; Audio channel mixer
def rAUDTERM equ $FF25

def B_AUDTERM_4_LEFT  equ 7 ; 1 = output channel 4 to left  ear [r/w]
def B_AUDTERM_3_LEFT  equ 6 ; 1 = output channel 3 to left  ear [r/w]
def B_AUDTERM_2_LEFT  equ 5 ; 1 = output channel 2 to left  ear [r/w]
def B_AUDTERM_1_LEFT  equ 4 ; 1 = output channel 1 to left  ear [r/w]
def B_AUDTERM_4_RIGHT equ 3 ; 1 = output channel 4 to right ear [r/w]
def B_AUDTERM_3_RIGHT equ 2 ; 1 = output channel 3 to right ear [r/w]
def B_AUDTERM_2_RIGHT equ 1 ; 1 = output channel 2 to right ear [r/w]
def B_AUDTERM_1_RIGHT equ 0 ; 1 = output channel 1 to right ear [r/w]
    def AUDTERM_4_LEFT  equ 1 << B_AUDTERM_4_LEFT
    def AUDTERM_3_LEFT  equ 1 << B_AUDTERM_3_LEFT
    def AUDTERM_2_LEFT  equ 1 << B_AUDTERM_2_LEFT
    def AUDTERM_1_LEFT  equ 1 << B_AUDTERM_1_LEFT
    def AUDTERM_4_RIGHT equ 1 << B_AUDTERM_4_RIGHT
    def AUDTERM_3_RIGHT equ 1 << B_AUDTERM_3_RIGHT
    def AUDTERM_2_RIGHT equ 1 << B_AUDTERM_2_RIGHT
    def AUDTERM_1_RIGHT equ 1 << B_AUDTERM_1_RIGHT

; -- AUDENA / NR52 ($FF26) ----------------------------------------------------
; Audio master enable
def rAUDENA equ $FF26

def B_AUDENA_ENABLE     equ 7 ; 0 = disable the APU (resets all audio registers to 0!) [r/w]
def B_AUDENA_ENABLE_CH4 equ 3 ; 1 = channel 4 is running [ro]
def B_AUDENA_ENABLE_CH3 equ 2 ; 1 = channel 3 is running [ro]
def B_AUDENA_ENABLE_CH2 equ 1 ; 1 = channel 2 is running [ro]
def B_AUDENA_ENABLE_CH1 equ 0 ; 1 = channel 1 is running [ro]
    def AUDENA_OFF     equ 0 << B_AUDENA_ENABLE
    def AUDENA_ON      equ 1 << B_AUDENA_ENABLE
    def AUDENA_CH4_OFF equ 0 << B_AUDENA_ENABLE_CH4
    def AUDENA_CH4_ON  equ 1 << B_AUDENA_ENABLE_CH4
    def AUDENA_CH3_OFF equ 0 << B_AUDENA_ENABLE_CH3
    def AUDENA_CH3_ON  equ 1 << B_AUDENA_ENABLE_CH3
    def AUDENA_CH2_OFF equ 0 << B_AUDENA_ENABLE_CH2
    def AUDENA_CH2_ON  equ 1 << B_AUDENA_ENABLE_CH2
    def AUDENA_CH1_OFF equ 0 << B_AUDENA_ENABLE_CH1
    def AUDENA_CH1_ON  equ 1 << B_AUDENA_ENABLE_CH1

; -- $FF27-$FF2F are unused ---------------------------------------------------

; -- AUD3WAVE ($FF30-$FF3F) ---------------------------------------------------
; Audio channel 3 wave pattern RAM [r/w]
def _AUD3WAVERAM equ $FF30 ; $FF30-$FF3F

def rAUD3WAVE_0 equ $FF30
def rAUD3WAVE_1 equ $FF31
def rAUD3WAVE_2 equ $FF32
def rAUD3WAVE_3 equ $FF33
def rAUD3WAVE_4 equ $FF34
def rAUD3WAVE_5 equ $FF35
def rAUD3WAVE_6 equ $FF36
def rAUD3WAVE_7 equ $FF37
def rAUD3WAVE_8 equ $FF38
def rAUD3WAVE_9 equ $FF39
def rAUD3WAVE_A equ $FF3A
def rAUD3WAVE_B equ $FF3B
def rAUD3WAVE_C equ $FF3C
def rAUD3WAVE_D equ $FF3D
def rAUD3WAVE_E equ $FF3E
def rAUD3WAVE_F equ $FF3F

def AUD3WAVE_SIZE equ 16

; -- LCDC ($FF40) -------------------------------------------------------------
; PPU graphics control
def rLCDC equ $FF40

def B_LCDC_ENABLE   equ 7 ; whether the PPU (and LCD) are turned on          [r/w]
def B_LCDC_WIN_MAP  equ 6 ; which tilemap the Window reads from              [r/w]
def B_LCDC_WINDOW   equ 5 ; whether the Window is enabled                    [r/w]
def B_LCDC_BLOCKS   equ 4 ; which "tile blocks" the BG and Window use        [r/w]
def B_LCDC_BG_MAP   equ 3 ; which tilemap the BG reads from                  [r/w]
def B_LCDC_OBJ_SIZE equ 2 ; how many pixels tall each OBJ is                 [r/w]
def B_LCDC_OBJS     equ 1 ; whether OBJs are enabled                         [r/w]
def B_LCDC_BG       equ 0 ; (DMG only) whether the BG is enabled             [r/w]
def B_LCDC_PRIO     equ 0 ; (CGB only) whether OBJ priority bits are enabled [r/w]
    def LCDC_ENABLE   equ 1 << B_LCDC_ENABLE
        def LCDC_OFF equ 0 << B_LCDC_ENABLE
        def LCDC_ON  equ 1 << B_LCDC_ENABLE
    def LCDC_WIN_MAP  equ 1 << B_LCDC_WIN_MAP
        def LCDC_WIN_9800 equ 0 << B_LCDC_WIN_MAP
        def LCDC_WIN_9C00 equ 1 << B_LCDC_WIN_MAP
    def LCDC_WINDOW   equ 1 << B_LCDC_WINDOW
        def LCDC_WIN_OFF equ 0 << B_LCDC_WINDOW
        def LCDC_WIN_ON  equ 1 << B_LCDC_WINDOW
    def LCDC_BLOCKS   equ 1 << B_LCDC_BLOCKS
        def LCDC_BLOCK21 equ 0 << B_LCDC_BLOCKS
        def LCDC_BLOCK01 equ 1 << B_LCDC_BLOCKS
    def LCDC_BG_MAP   equ 1 << B_LCDC_BG_MAP
        def LCDC_BG_9800 equ 0 << B_LCDC_BG_MAP
        def LCDC_BG_9C00 equ 1 << B_LCDC_BG_MAP
    def LCDC_OBJ_SIZE equ 1 << B_LCDC_OBJ_SIZE
        def LCDC_OBJ_8  equ 0 << B_LCDC_OBJ_SIZE
        def LCDC_OBJ_16 equ 1 << B_LCDC_OBJ_SIZE
    def LCDC_OBJS     equ 1 << B_LCDC_OBJS
        def LCDC_OBJ_OFF equ 0 << B_LCDC_OBJS
        def LCDC_OBJ_ON  equ 1 << B_LCDC_OBJS
    def LCDC_BG       equ 1 << B_LCDC_BG
        def LCDC_BG_OFF equ 0 << B_LCDC_BG
        def LCDC_BG_ON  equ 1 << B_LCDC_BG
    def LCDC_PRIO     equ 1 << B_LCDC_PRIO
        def LCDC_PRIO_OFF equ 0 << B_LCDC_PRIO
        def LCDC_PRIO_ON  equ 1 << B_LCDC_PRIO

; -- STAT ($FF41) -------------------------------------------------------------
; Graphics status and interrupt control
def rSTAT equ $FF41

def B_STAT_LYC    equ 6 ; 1 = LY match triggers the STAT interrupt [r/w]
def B_STAT_MODE_2 equ 5 ; 1 = OAM Scan triggers the PPU interrupt  [r/w]
def B_STAT_MODE_1 equ 4 ; 1 = VBlank triggers the PPU interrupt    [r/w]
def B_STAT_MODE_0 equ 3 ; 1 = HBlank triggers the PPU interrupt    [r/w]
def B_STAT_LYCF   equ 2 ; 1 = LY is currently equal to LYC         [ro]
def B_STAT_BUSY   equ 1 ; 1 = the PPU is currently accessing VRAM  [ro]
    def STAT_LYC    equ 1 << B_STAT_LYC
    def STAT_MODE_2 equ 1 << B_STAT_MODE_2
    def STAT_MODE_1 equ 1 << B_STAT_MODE_1
    def STAT_MODE_0 equ 1 << B_STAT_MODE_0
    def STAT_LYCF   equ 1 << B_STAT_LYCF
    def STAT_BUSY   equ 1 << B_STAT_BUSY

def STAT_MODE equ %000000_11 ; PPU's current status [ro]
    def STAT_HBLANK equ %000000_00 ; waiting after a line's rendering (HBlank)
    def STAT_VBLANK equ %000000_01 ; waiting between frames (VBlank)
    def STAT_OAM    equ %000000_10 ; checking which OBJs will be rendered on this line (OAM scan)
    def STAT_LCD    equ %000000_11 ; pushing pixels to the LCD

; -- SCY ($FF42) --------------------------------------------------------------
; Background Y scroll offset (in pixels) [r/w]
def rSCY equ $FF42

; -- SCX ($FF43) --------------------------------------------------------------
; Background X scroll offset (in pixels) [r/w]
def rSCX equ $FF43

; -- LY ($FF44) ---------------------------------------------------------------
; Y coordinate of the line currently processed by the PPU (0-153) [ro]
def rLY equ $FF44

def LY_VBLANK equ 144 ; 144-153 is the VBlank period

; -- LYC ($FF45) --------------------------------------------------------------
; Value that LY is constantly compared to [r/w]
def rLYC equ $FF45

; -- DMA ($FF46) --------------------------------------------------------------
; OAM DMA start address (high 8 bits) and start [wo]
def rDMA equ $FF46

; -- BGP ($FF47) --------------------------------------------------------------
; (DMG only) Background color mapping [r/w]
def rBGP equ $FF47

def BGP_SGB_TRANSFER equ %11_10_01_00 ; set BGP to this value before SGB VRAM transfer

; -- OBP0 ($FF48) -------------------------------------------------------------
; (DMG only) OBJ color mapping #0 [r/w]
def rOBP0 equ $FF48

; -- OBP1 ($FF49) -------------------------------------------------------------
; (DMG only) OBJ color mapping #1 [r/w]
def rOBP1 equ $FF49

; -- WY ($FF4A) ---------------------------------------------------------------
; Y coordinate of the Window's top-left pixel (0-143) [r/w]
def rWY equ $FF4A

; -- WX ($FF4B) ---------------------------------------------------------------
; X coordinate of the Window's top-left pixel, plus 7 (7-166) [r/w]
def rWX equ $FF4B

def WX_OFS equ 7 ; subtract this to get the actual Window Y coordinate

; -- SYS / KEY0 ($FF4C) -------------------------------------------------------
; (CGB boot ROM only) CPU mode select
def rSYS equ $FF4C

; This is known as the "CPU mode register" in Fig. 11 of this patent:
; https://patents.google.com/patent/US6322447B1/en?oq=US6322447bi
; "OBJ priority mode designating register" in the same patent
; Credit to @mattcurrie for this finding!

def SYS_MODE equ %0000_11_00 ; current system mode [r/w]
    def SYS_CGB  equ %0000_00_00 ; CGB mode
    def SYS_DMG  equ %0000_01_00 ; DMG compatibility mode
    def SYS_PGB1 equ %0000_10_00 ; LCD is driven externally, CPU is stopped
    def SYS_PGB2 equ %0000_11_00 ; LCD is driven externally, CPU is running

; -- SPD / KEY1 ($FF4D) -------------------------------------------------------
; (CGB only) Double-speed mode control
def rSPD equ $FF4D

def B_SPD_DOUBLE  equ 7 ; current clock speed                                  [ro]
def B_SPD_PREPARE equ 0 ; 1 = next \`stop\` instruction will switch clock speeds [r/w]
    def SPD_SINGLE  equ 0 << B_SPD_DOUBLE
    def SPD_DOUBLE  equ 1 << B_SPD_DOUBLE
    def SPD_PREPARE equ 1 << B_SPD_PREPARE

; -- $FF4E is unused ----------------------------------------------------------

; -- VBK ($FF4F) --------------------------------------------------------------
; (CGB only) VRAM bank number (0 or 1)
def rVBK equ $FF4F

def VBK_BANK equ %0000000_1 ; mapped VRAM bank [r/w]

; -- BANK ($FF50) -------------------------------------------------------------
; (boot ROM only) Boot ROM mapping control
def rBANK equ $FF50

def B_BANK_ON equ 0 ; whether the boot ROM is mapped [wo]
    def BANK_ON  equ 0 << B_BANK_ON
    def BANK_OFF equ 1 << B_BANK_ON

; -- VDMA_SRC_HIGH / HDMA1 ($FF51) --------------------------------------------
; (CGB only) VRAM DMA source address (high 8 bits) [wo]
def rVDMA_SRC_HIGH equ $FF51

; -- VDMA_SRC_LOW / HDMA2 ($FF52) ---------------------------------------------
; (CGB only) VRAM DMA source address (low 8 bits) [wo]
def rVDMA_SRC_LOW equ $FF52

; -- VDMA_DEST_HIGH / HDMA3 ($FF53) -------------------------------------------
; (CGB only) VRAM DMA destination address (high 8 bits) [wo]
def rVDMA_DEST_HIGH equ $FF53

; -- VDMA_DEST_LOW / HDMA3 ($FF54) --------------------------------------------
; (CGB only) VRAM DMA destination address (low 8 bits) [wo]
def rVDMA_DEST_LOW equ $FF54

; -- VDMA_LEN / HDMA5 ($FF55) -------------------------------------------------
; (CGB only) VRAM DMA length, mode, and start
def rVDMA_LEN equ $FF55

def B_VDMA_LEN_MODE equ 7 ; on write: VRAM DMA mode [wo]
    def VDMA_LEN_MODE equ 1 << B_VDMA_LEN_MODE
        def VDMA_LEN_MODE_GENERAL equ 0 << B_VDMA_LEN_MODE ; GDMA (general-purpose)
        def VDMA_LEN_MODE_HBLANK  equ 1 << B_VDMA_LEN_MODE ; HDMA (HBlank)

def B_VDMA_LEN_BUSY equ 7 ; on read: is a VRAM DMA active?
    def VDMA_LEN_BUSY equ 1 << B_VDMA_LEN_BUSY
        def VDMA_LEN_NO  equ 0 << B_VDMA_LEN_BUSY
        def VDMA_LEN_YES equ 1 << B_VDMA_LEN_BUSY

def VDMA_LEN_SIZE equ %0_1111111 ; how many 16-byte blocks (minus 1) to transfer [r/w]

; -- RP ($FF56) ---------------------------------------------------------------
; (CGB only) Infrared communications port
def rRP equ $FF56

def RP_READ equ %11_000000 ; whether the IR read is enabled [r/w]
    def RP_DISABLE equ %00_000000
    def RP_ENABLE  equ %11_000000

def B_RP_DATA_IN equ 1 ; 0 = IR light is being received [ro]
def B_RP_LED_ON  equ 0 ; 1 = IR light is being sent     [r/w]
    def RP_DATA_IN equ 1 << B_RP_DATA_IN
    def RP_LED_ON  equ 1 << B_RP_LED_ON
        def RP_WRITE_LOW  equ 0 << B_RP_LED_ON
        def RP_WRITE_HIGH equ 1 << B_RP_LED_ON

; -- $FF57-$FF67 are unused ---------------------------------------------------

; -- BGPI / BCPS ($FF68) ------------------------------------------------------
; (CGB only) Background palette I/O index
def rBGPI equ $FF68

def B_BGPI_AUTOINC equ 7 ; whether the index field is incremented after each write to BCPD [r/w]
    def BGPI_AUTOINC equ 1 << B_BGPI_AUTOINC

def BGPI_INDEX equ %00_111111 ; the index within Palette RAM accessed via BCPD [r/w]

; -- BGPD / BCPD ($FF69) ------------------------------------------------------
; (CGB only) Background palette I/O access [r/w]
def rBGPD equ $FF69

; -- OBPI / OCPS ($FF6A) ------------------------------------------------------
; (CGB only) OBJ palette I/O index
def rOBPI equ $FF6A

def B_OBPI_AUTOINC equ 7 ; whether the index field is incremented after each write to OBPD [r/w]
    def OBPI_AUTOINC equ 1 << B_OBPI_AUTOINC

def OBPI_INDEX equ %00_111111 ; the index within Palette RAM accessed via OBPD [r/w]

; -- OBPD / OCPD ($FF6B) ------------------------------------------------------
; (CGB only) OBJ palette I/O access [r/w]
def rOBPD equ $FF6B

; -- OPRI ($FF6C) -------------------------------------------------------------
; (CGB boot ROM only) OBJ draw priority mode
def rOPRI equ $FF6C

def B_OPRI_PRIORITY equ 0 ; which drawing priority is used for OBJs [r/w]
    def OPRI_PRIORITY equ 1 << B_OPRI_PRIORITY
        def OPRI_OAM   equ 0 << B_OPRI_PRIORITY ; CGB mode default: earliest OBJ in OAM wins
        def OPRI_COORD equ 1 << B_OPRI_PRIORITY ; DMG mode default: leftmost OBJ wins

; -- $FF6D-$FF6F are unused ---------------------------------------------------

; -- WBK / SVBK ($FF70) -------------------------------------------------------
; (CGB only) WRAM bank number
def rWBK equ $FF70

def WBK_BANK equ %00000_111 ; mapped WRAM bank (0-7) [r/w]

; -- $FF71-$FF75 are unused ---------------------------------------------------

; -- PCM12 ($FF76) ------------------------------------------------------------
; Audio channels 1 and 2 output
def rPCM12 equ $FF76

def PCM12_CH2 equ %1111_0000 ; audio channel 2 output [ro]
def PCM12_CH1 equ %0000_1111 ; audio channel 1 output [ro]

; -- PCM34 ($FF77) ------------------------------------------------------------
; Audio channels 3 and 4 output
def rPCM34 equ $FF77

def PCM34_CH4 equ %1111_0000 ; audio channel 4 output [ro]
def PCM34_CH3 equ %0000_1111 ; audio channel 3 output [ro]

; -- $FF78-$FF7F are unused ---------------------------------------------------

; -- IE ($FFFF) ---------------------------------------------------------------
; Interrupt enable
def rIE equ $FFFF

def B_IE_JOYPAD equ 4 ; 1 = joypad interrupt is enabled [r/w]
def B_IE_SERIAL equ 3 ; 1 = serial interrupt is enabled [r/w]
def B_IE_TIMER  equ 2 ; 1 = timer  interrupt is enabled [r/w]
def B_IE_STAT   equ 1 ; 1 = STAT   interrupt is enabled [r/w]
def B_IE_VBLANK equ 0 ; 1 = VBlank interrupt is enabled [r/w]
    def IE_JOYPAD equ 1 << B_IE_JOYPAD
    def IE_SERIAL equ 1 << B_IE_SERIAL
    def IE_TIMER  equ 1 << B_IE_TIMER
    def IE_STAT   equ 1 << B_IE_STAT
    def IE_VBLANK equ 1 << B_IE_VBLANK


;******************************************************************************
; Cartridge registers (MBC)
;******************************************************************************

; Note that these "registers" are each actually accessible at an entire address range;
; however, one address for each of these ranges is considered the "canonical" one, and
; these addresses are what's provided here.


; ** Common to most MBCs ******************************************************

; -- RAMG ($0000-$1FFF) -------------------------------------------------------
; Whether SRAM can be accessed [wo]
def rRAMG equ $0000

; Common values (not for HuC1 or HuC-3)
def RAMG_SRAM_DISABLE equ $00
def RAMG_SRAM_ENABLE  equ $0A ; some MBCs accept any value whose low nybble is $A

; (HuC-3 only) switch SRAM to map cartridge RAM, RTC, or IR
def RAMG_CART_RAM_RO   equ $00 ; select cartridge RAM [ro]
def RAMG_CART_RAM      equ $0A ; select cartridge RAM [r/w]
def RAMG_RTC_IN        equ $0B ; select RTC command/argument [wo]
    def RAMG_RTC_IN_CMD equ %0_111_0000 ; command
    def RAMG_RTC_IN_ARG equ %0_000_1111 ; argument
def RAMG_RTC_OUT       equ $0C ; select RTC command/response [ro]
    def RAMG_RTC_OUT_CMD    equ %0_111_0000 ; command
    def RAMG_RTC_OUT_RESULT equ %0_000_1111 ; result
def RAMG_RTC_SEMAPHORE equ $0D ; select RTC semaphore [r/w]
def RAMG_IR            equ $0E ; (HuC1 and HuC-3 only) select IR [r/w]

; -- ROMB ($2000-$3FFF) -------------------------------------------------------
; ROM bank number (not for MBC5 or MBC6) [wo]
def rROMB equ $2000

; -- RAMB ($4000-$5FFF) -------------------------------------------------------
; SRAM bank number (not for MBC2, MBC6, or MBC7) [wo]
def rRAMB equ $4000

; (MBC3 only) Special RAM bank numbers that actually map values into RTCREG
def RAMB_RTC_S  equ $08 ; seconds counter (0-59)
def RAMB_RTC_M  equ $09 ; minutes counter (0-59)
def RAMB_RTC_H  equ $0A ; hours counter (0-23)
def RAMB_RTC_DL equ $0B ; days counter, low byte (0-255)
def RAMB_RTC_DH equ $0C ; days counter, high bit and other flags
    def B_RAMB_RTC_DH_CARRY equ 7 ; 1 = days counter overflowed    [wo]
    def B_RAMB_RTC_DH_HALT  equ 6 ; 0 = run timer, 1 = stop timer  [wo]
    def B_RAMB_RTC_DH_HIGH  equ 0 ; days counter, high bit (bit 8) [wo]
        def RAMB_RTC_DH_CARRY equ 1 << B_RAMB_RTC_DH_CARRY
        def RAMB_RTC_DH_HALT  equ 1 << B_RAMB_RTC_DH_HALT
        def RAMB_RTC_DH_HIGH  equ 1 << B_RAMB_RTC_DH_HIGH

def B_RAMB_RUMBLE equ 3 ; (MBC5 and MBC7 only) enable the rumble motor (if any)
    def RAMB_RUMBLE equ 1 << B_RAMB_RUMBLE
        def RAMB_RUMBLE_OFF equ 0 << B_RAMB_RUMBLE
        def RAMB_RUMBLE_ON  equ 1 << B_RAMB_RUMBLE


; ** MBC1 and MMM01 only ******************************************************

; -- BMODE ($6000-$7FFF) ------------------------------------------------------
; Banking mode select [wo]
def rBMODE equ $6000

def BMODE_SIMPLE   equ $00 ; locks ROMB and RAMB to bank 0
def BMODE_ADVANCED equ $01 ; allows bank-switching with RAMB


; ** MBC2 only ****************************************************************

; -- ROM2B ($0000-$3FFF with bit 8 set) ---------------------------------------
; ROM bank number [wo]
def rROM2B equ $2100


; ** MBC3 only ****************************************************************

; -- RTCLATCH ($6000-$7FFF) ---------------------------------------------------
; RTC latch clock data [wo]
def rRTCLATCH equ $6000

; Write $00 then $01 to latch the current time into RTCREG
def RTCLATCH_START  equ $00
def RTCLATCH_FINISH equ $01

; -- RTCREG ($A000-$BFFF) -----------------------------------------------------
; RTC register [r/w]
def rRTCREG equ $A000


; ** MBC5 only ****************************************************************

; -- ROMB0 ($2000-$3FFF) ------------------------------------------------------
; ROM bank number low byte (bits 0-7) [wo]
def rROMB0 equ $2000

; -- ROMB1 ($3000-$3FFF) ------------------------------------------------------
; ROM bank number high bit (bit 8) [wo]
def rROMB1 equ $3000


; ** MBC6 only ****************************************************************

; -- RAMBA ($0400-$07FF) ------------------------------------------------------
; RAM bank A number [wo]
def rRAMBA equ $0400

; -- RAMBB ($0800-$0BFF) ------------------------------------------------------
; RAM bank B number [wo]
def rRAMBB equ $0800

; -- FLASH ($0C00-$0FFF) ------------------------------------------------------
; Whether the flash chip can be accessed [wo]
def rFLASH equ $0C00

; -- FMODE ($1000) ------------------------------------------------------------
; Write mode select for the flash chip
def rFMODE equ $1000

; -- ROMBA ($2000-$27FF) ------------------------------------------------------
; ROM/Flash bank A number [wo]
def rROMBA equ $2000

; -- FLASHA ($2800-$2FFF) -----------------------------------------------------
; ROM/Flash bank A select [wo]
def rFLASHA equ $2800

; -- ROMBB ($3000-$37FF) ------------------------------------------------------
; ROM/Flash bank B number [wo]
def rROMBB equ $3000

; -- FLASHB ($3800-$3FFF) -----------------------------------------------------
; ROM/Flash bank B select [wo]
def rFLASHB equ $3800


; ** MBC7 only ****************************************************************

; -- RAMREG ($4000-$5FFF) -----------------------------------------------------
; Enable RAM register access [wo]
def rRAMREG equ $4000

def RAMREG_ENABLE equ $40

; -- ACCLATCH0 ($Ax0x) --------------------------------------------------------
; Latch accelerometer start [wo]
def rACCLATCH0 equ $A000

def ACCLATCH0_START equ $55

; -- ACCLATCH1 ($Ax1x) --------------------------------------------------------
; Latch accelerometer finish [wo]
def rACCLATCH1 equ $A010

def ACCLATCH1_FINISH equ $AA

; -- ACCELX0 ($Ax2x) ----------------------------------------------------------
; Accelerometer X value low byte [ro]
def rACCELX0 equ $A020

; -- ACCELX1 ($Ax3x) ----------------------------------------------------------
; Accelerometer X value high byte [ro]
def rACCELX1 equ $A030

; -- ACCELY0 ($Ax4x) ----------------------------------------------------------
; Accelerometer Y value low byte [ro]
def rACCELY0 equ $A040

; -- ACCELY1 ($Ax5x) ----------------------------------------------------------
; Accelerometer Y value high byte [ro]
def rACCELY1 equ $A050

; -- EEPROM ($Ax8x) -----------------------------------------------------------
; EEPROM access [r/w]
def rEEPROM equ $A080


; ** HuC1 only ****************************************************************

; -- IRREG ($A000-$BFFF) ------------------------------------------------------
; IR register [r/w]
def rIRREG equ $A000

def IR_LED_OFF equ $C0
def IR_LED_ON  equ $C1


;******************************************************************************
; Screen-related constants
;******************************************************************************

def SCREEN_WIDTH_PX  equ 160 ; width of screen in pixels
def SCREEN_HEIGHT_PX equ 144 ; height of screen in pixels
def SCREEN_WIDTH     equ  20 ; width of screen in bytes
def SCREEN_HEIGHT    equ  18 ; height of screen in bytes
def SCREEN_AREA      equ SCREEN_WIDTH * SCREEN_HEIGHT ; size of screen in bytes

def TILEMAP_WIDTH_PX  equ 256 ; width of tilemap in pixels
def TILEMAP_HEIGHT_PX equ 256 ; height of tilemap in pixels
def TILEMAP_WIDTH     equ  32 ; width of tilemap in bytes
def TILEMAP_HEIGHT    equ  32 ; height of tilemap in bytes
def TILEMAP_AREA      equ TILEMAP_WIDTH * TILEMAP_HEIGHT ; size of tilemap in bytes

def TILE_WIDTH  equ  8 ; width of tile in pixels
def TILE_HEIGHT equ  8 ; height of tile in pixels
def TILE_SIZE   equ 16 ; size of tile in bytes (2 bits/pixel)

def COLOR_SIZE equ 2 ; size of color in bytes (little-endian BGR555)
    def B_COLOR_RED   equ  0 ; bits 4-0
    def B_COLOR_GREEN equ  5 ; bits 9-5
    def B_COLOR_BLUE  equ 10 ; bits 14-10
        def COLOR_RED        equ %000_11111  ; for the low byte
        def COLOR_GREEN_LOW  equ %111_00000  ; for the low byte
        def COLOR_GREEN_HIGH equ %0_00000_11 ; for the high byte
        def COLOR_BLUE       equ %0_11111_00 ; for the high byte
def PAL_COLORS equ 4 ; colors per palette
def PAL_SIZE   equ COLOR_SIZE * PAL_COLORS ; size of palette in bytes

; Tilemaps the BG or Window can read from (controlled by LCDC)
def TILEMAP0 equ $9800 ; $9800-$9BFF
def TILEMAP1 equ $9C00 ; $9C00-$9FFF

; (CGB only) BG tile attribute fields
def B_BG_PRIO  equ 7 ; whether the BG tile colors 1-3 are drawn above OBJs
def B_BG_YFLIP equ 6 ; whether the whole BG tile is flipped vertically
def B_BG_XFLIP equ 5 ; whether the whole BG tile is flipped horizontally
def B_BG_BANK1 equ 3 ; which VRAM bank the BG tile is taken from
def BG_PALETTE equ %00000_111 ; which palette the BG tile uses
    def BG_PRIO  equ 1 << B_BG_PRIO
    def BG_YFLIP equ 1 << B_BG_YFLIP
    def BG_XFLIP equ 1 << B_BG_XFLIP
    def BG_BANK0 equ 0 << B_BG_BANK1
    def BG_BANK1 equ 1 << B_BG_BANK1


;******************************************************************************
; OBJ-related constants
;******************************************************************************

; OAM attribute field offsets
rsreset
def OAMA_Y      rb ; 0
    def OAM_Y_OFS equ 16 ; subtract 16 from what's written to OAM to get the real Y position
def OAMA_X      rb ; 1
    def OAM_X_OFS equ  8 ; subtract 8 from what's written to OAM to get the real X position
def OAMA_TILEID rb ; 2
def OAMA_FLAGS  rb ; 3
    def B_OAM_PRIO  equ 7 ; whether the OBJ is drawn below BG colors 1-3
    def B_OAM_YFLIP equ 6 ; whether the whole OBJ is flipped vertically
    def B_OAM_XFLIP equ 5 ; whether the whole OBJ is flipped horizontally
    def B_OAM_PAL1  equ 4 ; (DMG only) which of the two palettes the OBJ uses
    def B_OAM_BANK1 equ 3 ; (CGB only) which VRAM bank the OBJ takes its tile(s) from
    def OAM_PALETTE equ %00000_111 ; (CGB only) which palette the OBJ uses
        def OAM_PRIO  equ 1 << B_OAM_PRIO
        def OAM_YFLIP equ 1 << B_OAM_YFLIP
        def OAM_XFLIP equ 1 << B_OAM_XFLIP
        def OAM_PAL0  equ 0 << B_OAM_PAL1
        def OAM_PAL1  equ 1 << B_OAM_PAL1
        def OAM_BANK0 equ 0 << B_OAM_BANK1
        def OAM_BANK1 equ 1 << B_OAM_BANK1
def OBJ_SIZE    rb 0 ; size of OBJ in bytes = 4

def OAM_COUNT equ 40 ; how many OBJs there are room for in OAM
def OAM_SIZE  equ OBJ_SIZE * OAM_COUNT


;******************************************************************************
; Interrupt vector addresses
;******************************************************************************

def INT_HANDLER_VBLANK equ $0040 ; VBlank interrupt handler address
def INT_HANDLER_STAT   equ $0048 ; STAT   interrupt handler address
def INT_HANDLER_TIMER  equ $0050 ; timer  interrupt handler address
def INT_HANDLER_SERIAL equ $0058 ; serial interrupt handler address
def INT_HANDLER_JOYPAD equ $0060 ; joypad interrupt handler address


;******************************************************************************
; Boot-up register values
;******************************************************************************

; Register A = CPU type
def BOOTUP_A_DMG equ $01
def BOOTUP_A_CGB equ $11 ; CGB or AGB
def BOOTUP_A_MGB equ $FF
    def BOOTUP_A_SGB  equ BOOTUP_A_DMG
    def BOOTUP_A_SGB2 equ BOOTUP_A_MGB

; Register B = CPU qualifier (if A is BOOTUP_A_CGB)
def B_BOOTUP_B_AGB equ 0
    def BOOTUP_B_CGB equ 0 << B_BOOTUP_B_AGB
    def BOOTUP_B_AGB equ 1 << B_BOOTUP_B_AGB


;******************************************************************************
; Aliases
;******************************************************************************

; Prefer the standard names to these aliases, which may be official but are
; less directly meaningful or human-readable.

def rP1 equ rJOYP

def rNR10 equ rAUD1SWEEP
def rNR11 equ rAUD1LEN
def rNR12 equ rAUD1ENV
def rNR13 equ rAUD1LOW
def rNR14 equ rAUD1HIGH
def rNR21 equ rAUD2LEN
def rNR22 equ rAUD2ENV
def rNR23 equ rAUD2LOW
def rNR24 equ rAUD2HIGH
def rNR30 equ rAUD3ENA
def rNR31 equ rAUD3LEN
def rNR32 equ rAUD3LEVEL
def rNR33 equ rAUD3LOW
def rNR34 equ rAUD3HIGH
def rNR41 equ rAUD4LEN
def rNR42 equ rAUD4ENV
def rNR43 equ rAUD4POLY
def rNR44 equ rAUD4GO
def rNR50 equ rAUDVOL
def rNR51 equ rAUDTERM
def rNR52 equ rAUDENA

def rKEY0 equ rSYS
def rKEY1 equ rSPD

def rHDMA1 equ rVDMA_SRC_HIGH
def rHDMA2 equ rVDMA_SRC_LOW
def rHDMA3 equ rVDMA_DEST_HIGH
def rHDMA4 equ rVDMA_DEST_LOW
def rHDMA5 equ rVDMA_LEN

def rBCPS equ rBGPI
def rBCPD equ rBGPD

def rOCPS equ rOBPI
def rOCPD equ rOBPD

def rSVBK equ rWBK

endc ; HARDWARE_INC
`,mo=`; Adapted from https://gbdev.io/gb-asm-tutorial/part1/hello_world.html

INCLUDE "hardware.inc"

SECTION "Header", ROM0[$100]

  jp EntryPoint

  ds $150 - @, 0 ; Make room for the header

EntryPoint:
  ; Shut down audio circuitry
  xor a
  ldh [rAUDENA], a

  ; Do not turn the LCD off outside of VBlank
.wait_vblank
  ldh a, [rLY]
  cp LY_VBLANK
  jr c, .wait_vblank

  ; Turn the LCD off
  ld a, LCDC_OFF
  ldh [rLCDC], a

  ; Copy the tile data
  ld de, Tiles
  ld hl, STARTOF(VRAM) + $100 * TILE_SIZE
  ld bc, Tiles.end - Tiles
  call Copy

  ; Copy the tilemap
  ld de, Tilemap
  ld hl, TILEMAP0
  ld bc, Tilemap.end - Tilemap
  call Copy

  ; Turn the LCD on
  ld a, LCDC_ON | LCDC_BG_ON
  ldh [rLCDC], a

  ; During the first (blank) frame, initialize display registers
  ld a, %11_10_01_00
  ldh [rBGP], a

.done
  jr .done

; Subroutine to copy bc bytes from de to hl
Copy:
  ld a, [de]
  ld [hli], a
  inc de
  dec bc
  ld a, b
  or a, c
  jr nz, Copy
  ret

SECTION "Tile data", ROM0

Tiles:
  db $00,$ff, $00,$ff, $00,$ff, $00,$ff, $00,$ff, $00,$ff, $00,$ff, $00,$ff
  db $00,$ff, $00,$80, $00,$80, $00,$80, $00,$80, $00,$80, $00,$80, $00,$80
  db $00,$ff, $00,$7e, $00,$7e, $00,$7e, $00,$7e, $00,$7e, $00,$7e, $00,$7e
  db $00,$ff, $00,$01, $00,$01, $00,$01, $00,$01, $00,$01, $00,$01, $00,$01
  db $00,$ff, $00,$00, $00,$00, $00,$00, $00,$00, $00,$00, $00,$00, $00,$00
  db $00,$ff, $00,$7f, $00,$7f, $00,$7f, $00,$7f, $00,$7f, $00,$7f, $00,$7f
  db $00,$ff, $03,$fc, $00,$f8, $00,$f0, $00,$e0, $20,$c0, $00,$c0, $40,$80
  db $00,$ff, $c0,$3f, $00,$1f, $00,$0f, $00,$07, $04,$03, $00,$03, $02,$01
  db $00,$80, $00,$80, $7f,$80, $00,$80, $00,$80, $7f,$80, $7f,$80, $00,$80
  db $00,$7e, $2a,$7e, $d5,$7e, $2a,$7e, $54,$7e, $ff,$00, $ff,$00, $00,$00
  db $00,$01, $00,$01, $ff,$01, $00,$01, $01,$01, $fe,$01, $ff,$01, $00,$01
  db $00,$80, $80,$80, $7f,$80, $80,$80, $00,$80, $ff,$80, $7f,$80, $80,$80
  db $00,$7f, $2a,$7f, $d5,$7f, $2a,$7f, $55,$7f, $ff,$00, $ff,$00, $00,$00
  db $00,$ff, $aa,$ff, $55,$ff, $aa,$ff, $55,$ff, $fa,$07, $fd,$07, $02,$07
  db $00,$7f, $2a,$7f, $d5,$7f, $2a,$7f, $55,$7f, $aa,$7f, $d5,$7f, $2a,$7f
  db $00,$ff, $80,$ff, $00,$ff, $80,$ff, $00,$ff, $80,$ff, $00,$ff, $80,$ff
  db $40,$80, $00,$80, $7f,$80, $00,$80, $00,$80, $7f,$80, $7f,$80, $00,$80
  db $00,$3c, $02,$7e, $85,$7e, $0a,$7e, $14,$7e, $ab,$7e, $95,$7e, $2a,$7e
  db $02,$01, $00,$01, $ff,$01, $00,$01, $01,$01, $fe,$01, $ff,$01, $00,$01
  db $00,$ff, $80,$ff, $50,$ff, $a8,$ff, $50,$ff, $a8,$ff, $54,$ff, $a8,$ff
  db $7f,$80, $7f,$80, $7f,$80, $7f,$80, $7f,$80, $7f,$80, $7f,$80, $7f,$80
  db $ff,$00, $ff,$00, $ff,$00, $ab,$7e, $d5,$7e, $ab,$7e, $d5,$7e, $ab,$7e
  db $ff,$01, $fe,$01, $ff,$01, $fe,$01, $ff,$01, $fe,$01, $ff,$01, $fe,$01
  db $7f,$80, $ff,$80, $7f,$80, $ff,$80, $7f,$80, $ff,$80, $7f,$80, $ff,$80
  db $ff,$00, $ff,$00, $ff,$00, $aa,$7f, $d5,$7f, $aa,$7f, $d5,$7f, $aa,$7f
  db $f8,$07, $f8,$07, $f8,$07, $80,$ff, $00,$ff, $aa,$ff, $55,$ff, $aa,$ff
  db $7f,$80, $7f,$80, $7f,$80, $7f,$80, $7f,$80, $ff,$80, $7f,$80, $ff,$80
  db $d5,$7f, $aa,$7f, $d5,$7f, $aa,$7f, $d5,$7f, $aa,$7f, $d5,$7f, $aa,$7f
  db $d5,$7e, $ab,$7e, $d5,$7e, $ab,$7e, $d5,$7e, $ab,$7e, $d5,$7e, $eb,$3c
  db $54,$ff, $aa,$ff, $54,$ff, $aa,$ff, $54,$ff, $aa,$ff, $54,$ff, $aa,$ff
  db $7f,$80, $7f,$80, $7f,$80, $7f,$80, $7f,$80, $7f,$80, $7f,$80, $00,$ff
  db $d5,$7e, $ab,$7e, $d5,$7e, $ab,$7e, $d5,$7e, $ab,$7e, $d5,$7e, $2a,$ff
  db $ff,$01, $fe,$01, $ff,$01, $fe,$01, $ff,$01, $fe,$01, $ff,$01, $80,$ff
  db $7f,$80, $ff,$80, $7f,$80, $ff,$80, $7f,$80, $ff,$80, $7f,$80, $aa,$ff
  db $ff,$00, $ff,$00, $ff,$00, $ff,$00, $ff,$00, $ff,$00, $ff,$00, $2a,$ff
  db $ff,$01, $fe,$01, $ff,$01, $fe,$01, $fe,$01, $fe,$01, $fe,$01, $80,$ff
  db $7f,$80, $ff,$80, $7f,$80, $7f,$80, $7f,$80, $7f,$80, $7f,$80, $00,$ff
  db $fe,$01, $fe,$01, $fe,$01, $fe,$01, $fe,$01, $fe,$01, $fe,$01, $80,$ff
  db $3f,$c0, $3f,$c0, $3f,$c0, $1f,$e0, $1f,$e0, $0f,$f0, $03,$fc, $00,$ff
  db $fd,$03, $fc,$03, $fd,$03, $f8,$07, $f9,$07, $f0,$0f, $c1,$3f, $82,$ff
  db $55,$ff, $2a,$7e, $54,$7e, $2a,$7e, $54,$7e, $2a,$7e, $54,$7e, $00,$7e
  db $01,$ff, $00,$01, $01,$01, $00,$01, $01,$01, $00,$01, $01,$01, $00,$01
  db $54,$ff, $ae,$f8, $50,$f0, $a0,$e0, $60,$c0, $80,$c0, $40,$80, $40,$80
  db $55,$ff, $00,$00, $00,$00, $00,$00, $00,$00, $00,$00, $00,$00, $00,$00
  db $55,$ff, $6a,$1f, $05,$0f, $02,$07, $05,$07, $02,$03, $03,$01, $02,$01
  db $54,$ff, $80,$80, $00,$80, $80,$80, $00,$80, $80,$80, $00,$80, $00,$80
  db $55,$ff, $2a,$1f, $0d,$07, $06,$03, $01,$03, $02,$01, $01,$01, $00,$01
  db $55,$ff, $2a,$7f, $55,$7f, $2a,$7f, $55,$7f, $2a,$7f, $55,$7f, $00,$7f
  db $55,$ff, $aa,$ff, $55,$ff, $aa,$ff, $55,$ff, $aa,$ff, $55,$ff, $00,$ff
  db $15,$ff, $00,$00, $00,$00, $00,$00, $00,$00, $00,$00, $00,$00, $00,$00
  db $55,$ff, $6a,$1f, $0d,$07, $06,$03, $01,$03, $02,$01, $03,$01, $00,$01
  db $54,$ff, $a8,$ff, $54,$ff, $a8,$ff, $50,$ff, $a0,$ff, $40,$ff, $00,$ff
  db $00,$7e, $2a,$7e, $d5,$7e, $2a,$7e, $54,$7e, $ab,$76, $dd,$66, $22,$66
  db $00,$7c, $2a,$7e, $d5,$7e, $2a,$7e, $54,$7c, $ff,$00, $ff,$00, $00,$00
  db $00,$01, $00,$01, $ff,$01, $02,$01, $07,$01, $fe,$03, $fd,$07, $0a,$0f
  db $00,$7c, $2a,$7e, $d5,$7e, $2a,$7e, $54,$7e, $ab,$7e, $d5,$7e, $2a,$7e
  db $00,$ff, $a0,$ff, $50,$ff, $a8,$ff, $54,$ff, $a8,$ff, $54,$ff, $aa,$ff
  db $dd,$62, $bf,$42, $fd,$42, $bf,$40, $ff,$00, $ff,$00, $f7,$08, $ef,$18
  db $ff,$00, $ff,$00, $ff,$00, $ab,$7c, $d5,$7e, $ab,$7e, $d5,$7e, $ab,$7e
  db $f9,$07, $fc,$03, $fd,$03, $fe,$01, $ff,$01, $fe,$01, $ff,$01, $fe,$01
  db $d5,$7e, $ab,$7e, $d5,$7e, $ab,$7e, $d5,$7e, $ab,$7e, $d5,$7e, $ab,$7c
  db $f7,$18, $eb,$1c, $d7,$3c, $eb,$3c, $d5,$3e, $ab,$7e, $d5,$7e, $2a,$ff
  db $ff,$01, $fe,$01, $ff,$01, $fe,$01, $ff,$01, $fe,$01, $ff,$01, $a2,$ff
  db $7f,$c0, $bf,$c0, $7f,$c0, $bf,$e0, $5f,$e0, $af,$f0, $57,$fc, $aa,$ff
  db $ff,$01, $fc,$03, $fd,$03, $fc,$03, $f9,$07, $f0,$0f, $c1,$3f, $82,$ff
  db $55,$ff, $2a,$ff, $55,$ff, $2a,$ff, $55,$ff, $2a,$ff, $55,$ff, $00,$ff
  db $45,$ff, $a2,$ff, $41,$ff, $82,$ff, $41,$ff, $80,$ff, $01,$ff, $00,$ff
  db $54,$ff, $aa,$ff, $54,$ff, $aa,$ff, $54,$ff, $aa,$ff, $54,$ff, $00,$ff
  db $15,$ff, $2a,$ff, $15,$ff, $0a,$ff, $15,$ff, $0a,$ff, $01,$ff, $00,$ff
  db $01,$ff, $80,$ff, $01,$ff, $80,$ff, $01,$ff, $80,$ff, $01,$ff, $00,$ff
.end

SECTION "Tilemap", ROM0

Tilemap:
  db $00, $00, $00, $00, $00, $00, $00, $00, $00, $00, $00, $00, $00, $00, $00, $00, $00, $00, $00, $00,  0,0,0,0,0,0,0,0,0,0,0,0
  db $00, $00, $00, $00, $00, $00, $00, $00, $00, $00, $00, $00, $00, $00, $00, $00, $00, $00, $00, $00,  0,0,0,0,0,0,0,0,0,0,0,0
  db $00, $00, $00, $00, $00, $00, $00, $00, $00, $00, $00, $00, $00, $00, $00, $00, $00, $00, $00, $00,  0,0,0,0,0,0,0,0,0,0,0,0
  db $00, $00, $00, $00, $00, $00, $00, $00, $00, $00, $00, $00, $00, $00, $00, $00, $00, $00, $00, $00,  0,0,0,0,0,0,0,0,0,0,0,0
  db $00, $00, $01, $02, $03, $01, $04, $03, $01, $05, $00, $01, $05, $00, $06, $04, $07, $00, $00, $00,  0,0,0,0,0,0,0,0,0,0,0,0
  db $00, $00, $08, $09, $0a, $0b, $0c, $0d, $0b, $0e, $0f, $08, $0e, $0f, $10, $11, $12, $13, $00, $00,  0,0,0,0,0,0,0,0,0,0,0,0
  db $00, $00, $14, $15, $16, $17, $18, $19, $1a, $1b, $0f, $14, $1b, $0f, $14, $1c, $16, $1d, $00, $00,  0,0,0,0,0,0,0,0,0,0,0,0
  db $00, $00, $1e, $1f, $20, $21, $22, $23, $24, $22, $25, $1e, $22, $25, $26, $22, $27, $1d, $00, $00,  0,0,0,0,0,0,0,0,0,0,0,0
  db $00, $00, $01, $28, $29, $2a, $2b, $2c, $2d, $2b, $2e, $2d, $2f, $30, $2d, $31, $32, $33, $00, $00,  0,0,0,0,0,0,0,0,0,0,0,0
  db $00, $00, $08, $34, $0a, $0b, $11, $0a, $0b, $35, $36, $0b, $0e, $0f, $08, $37, $0a, $38, $00, $00,  0,0,0,0,0,0,0,0,0,0,0,0
  db $00, $00, $14, $39, $16, $17, $1c, $16, $17, $3a, $3b, $17, $1b, $0f, $14, $3c, $16, $1d, $00, $00,  0,0,0,0,0,0,0,0,0,0,0,0
  db $00, $00, $1e, $3d, $3e, $3f, $22, $27, $21, $1f, $20, $21, $22, $25, $1e, $22, $40, $1d, $00, $00,  0,0,0,0,0,0,0,0,0,0,0,0
  db $00, $00, $00, $41, $42, $43, $44, $30, $33, $41, $45, $43, $41, $30, $43, $41, $30, $33, $00, $00,  0,0,0,0,0,0,0,0,0,0,0,0
  db $00, $00, $00, $00, $00, $00, $00, $00, $00, $00, $00, $00, $00, $00, $00, $00, $00, $00, $00, $00,  0,0,0,0,0,0,0,0,0,0,0,0
  db $00, $00, $00, $00, $00, $00, $00, $00, $00, $00, $00, $00, $00, $00, $00, $00, $00, $00, $00, $00,  0,0,0,0,0,0,0,0,0,0,0,0
  db $00, $00, $00, $00, $00, $00, $00, $00, $00, $00, $00, $00, $00, $00, $00, $00, $00, $00, $00, $00,  0,0,0,0,0,0,0,0,0,0,0,0
  db $00, $00, $00, $00, $00, $00, $00, $00, $00, $00, $00, $00, $00, $00, $00, $00, $00, $00, $00, $00,  0,0,0,0,0,0,0,0,0,0,0,0
  db $00, $00, $00, $00, $00, $00, $00, $00, $00, $00, $00, $00, $00, $00, $00, $00, $00, $00, $00, $00,  0,0,0,0,0,0,0,0,0,0,0,0
.end
`,Pt={autoUrl:!1,autoLocalStorage:!1};let at;oi();function oi(){at={"hardware.inc":tr,"main.asm":mo}}function vo(){if(location.hash.length>1)location.hash.startsWith("#https://gist.github.com/")?(li(location.hash.slice(1)),location.hash=""):location.hash.startsWith("#http://")||location.hash.startsWith("#https://")?($o(location.hash.slice(1)),location.hash=""):(yo(),Pt.autoUrl=!0);else if("rgbds_storage"in localStorage){at={"hardware.inc":tr};for(var[te,Q]of Object.entries(JSON.parse(localStorage.rgbds_storage)))Q instanceof Object&&(Q=Uint8Array.from(Object.values(Q))),at[te]=Q;Pt.autoLocalStorage=!0}}function _t(){return at}function Gt(te,Q){typeof te<"u"&&(Q instanceof ArrayBuffer&&(Q=new Uint8Array(Q)),Q===null?delete at[te]:at[te]=Q),Pt.autoUrl&&(document.location.hash=new URL(si()).hash),Pt.autoLocalStorage&&(localStorage.rgbds_storage=JSON.stringify(at))}function yo(){var te=Yn.decompressFromEncodedURIComponent(location.hash.slice(1));if(te==null)return!1;if(te.indexOf("\0")<0)return at["main.asm"]=te,!0;te=te.split("\0"),at={"hardware.inc":tr};for(var Q=0;Q<te.length-1;Q+=2)at[te[Q]]=te[Q+1];return!0}function si(){var te="";for(var[Q,f]of Object.entries(at))Q=="hardware.inc"&&f==tr||(te+=Q+"\0"+f+"\0");var x=new URL(document.location);return x.hash=Yn.compressToEncodedURIComponent(te),x.hash.length>1024*2?"Sorry, code too large for direct URL generation":x.toString()}function ai(te){var Q=/https:\/\/gist\.github\.com\/\w+\/(\w+)/.exec(te);return Q?Q[1]:null}function li(te){var Q=ai(te);if(Q!=null){var f=new XMLHttpRequest;f.open("GET","https://api.github.com/gists/"+Q,!1),f.send(),JSON.parse(f.response);var x=JSON.parse(f.responseText);at={"hardware.inc":tr};for(var[W,M]of Object.entries(x.files))at[W]=M.content;En()}}function wo(te,Q,f){var x={};for(var[W,M]of Object.entries(at))x[W]={content:M};if(f==""){var y=new XMLHttpRequest;return y.open("POST","https://api.github.com/gists",!1),y.setRequestHeader("Authorization","Basic "+btoa(te+":"+Q)),y.send(JSON.stringify({files:x})),y.status>=400?null:JSON.parse(y.response).html_url}var $=ai(f);if($==null)return null;var y=new XMLHttpRequest;return y.open("PATCH","https://api.github.com/gists/"+$,!1),y.setRequestHeader("Authorization","Basic "+btoa(te+":"+Q)),y.send(JSON.stringify({files:x})),y.status>=400?null:f}function _o(){var te=new Kn;for(var[Q,f]of Object.entries(at))te.file(Q,f);te.generateAsync({type:"blob"}).then(function(x){var W=document.createElement("a"),M=window.URL.createObjectURL(x,{type:"application/octet-stream"});W.setAttribute("href",M),W.setAttribute("download","source.zip"),W.style.display="none",document.body.appendChild(W),W.click(),document.body.removeChild(W),window.URL.revokeObjectURL(M)})}function bo(te){at={"hardware.inc":tr},Kn.loadAsync(te).then(function(Q){var f=Object.values(Q.files);function x(){if(!(f.length<1)){var W=f.pop(),M=vn(W.name)=="text"?"string":"uint8array";W.async(M).then(function($){at[W.name]=$,x(),En()})}}x()})}function $o(te){at={"hardware.inc":tr};var Q=new XMLHttpRequest;Q.open("GET",te,!1),Q.send(),at["main.asm"]=Q.response,En()}function En(){Xt(Object.keys(at)[0]),jt(),qr()}var Ao=async function(te={}){var Q,f=te,x,W,M=new Promise((E,I)=>{x=E,W=I}),$=[],y="./this.program",s=(E,I)=>{throw I},h=import.meta.url,o="";function r(E){return f.locateFile?f.locateFile(E,o):o+E}var i,t;{try{o=new URL(".",h).href}catch{}i=async E=>{var I=await fetch(E,{credentials:"same-origin"});if(I.ok)return I.arrayBuffer();throw new Error(I.status+" : "+I.url)}}var e=console.log.bind(console),n=console.error.bind(console),a,c,d=!1,k,v,p,u,m,A,S;function C(){var E=c.buffer;v=new Int8Array(E),u=new Int16Array(E),p=new Uint8Array(E),m=new Int32Array(E),A=new Uint32Array(E),S=new BigInt64Array(E),new BigUint64Array(E)}function R(){if(f.preRun)for(typeof f.preRun=="function"&&(f.preRun=[f.preRun]);f.preRun.length;)We(f.preRun.shift());Se(Pe)}function g(){!f.noFSInit&&!j.initialized&&j.init(),ce.y(),j.ignorePermissions=!1}function w(){if(f.postRun)for(typeof f.postRun=="function"&&(f.postRun=[f.postRun]);f.postRun.length;)De(f.postRun.shift());Se(Ce)}var l=0,_=null;function L(E){l++,f.monitorRunDependencies?.(l)}function F(E){if(l--,f.monitorRunDependencies?.(l),l==0&&_){var I=_;_=null,I()}}function U(E){f.onAbort?.(E),E="Aborted("+E+")",n(E),d=!0,E+=". Build with -sASSERTIONS for more info.";var I=new WebAssembly.RuntimeError(E);throw W(I),I}var H;function X(){return f.locateFile?r("rgbasm.wasm"):new URL(""+new URL("rgbasm-rnEzaw7F.wasm",import.meta.url).href,import.meta.url).href}function q(E){if(E==H&&a)return new Uint8Array(a);throw"both async and sync fetching of the wasm failed"}async function Z(E){if(!a)try{var I=await i(E);return new Uint8Array(I)}catch{}return q(E)}async function oe(E,I){try{var P=await Z(E),Y=await WebAssembly.instantiate(P,I);return Y}catch(re){n(`failed to asynchronously prepare wasm: ${re}`),U(re)}}async function ee(E,I,P){if(!E&&typeof WebAssembly.instantiateStreaming=="function")try{var Y=fetch(I,{credentials:"same-origin"}),re=await WebAssembly.instantiateStreaming(Y,P);return re}catch(ue){n(`wasm streaming compile failed: ${ue}`),n("falling back to ArrayBuffer instantiation")}return oe(I,P)}function se(){return{a:ie}}async function fe(){function E(ue,ve){return ce=ue.exports,c=ce.x,C(),F(),ce}L();function I(ue){return E(ue.instance)}var P=se();if(f.instantiateWasm)return new Promise((ue,ve)=>{f.instantiateWasm(P,($e,Be)=>{ue(E($e))})});H??=X();try{var Y=await ee(a,H,P),re=I(Y);return re}catch(ue){return W(ue),Promise.reject(ue)}}class Ee{name="ExitStatus";constructor(I){this.message=`Program terminated with exit(${I})`,this.status=I}}var Se=E=>{for(;E.length>0;)E.shift()(f)},Ce=[],De=E=>Ce.push(E),Pe=[],We=E=>Pe.push(E),Xe=!0,O=()=>{var E=m[+rt.varargs>>2];return rt.varargs+=4,E},be=O,he={isAbs:E=>E.charAt(0)==="/",splitPath:E=>{var I=/^(\/?|)([\s\S]*?)((?:\.{1,2}|[^\/]+?|)(\.[^.\/]*|))(?:[\/]*)$/;return I.exec(E).slice(1)},normalizeArray:(E,I)=>{for(var P=0,Y=E.length-1;Y>=0;Y--){var re=E[Y];re==="."?E.splice(Y,1):re===".."?(E.splice(Y,1),P++):P&&(E.splice(Y,1),P--)}if(I)for(;P;P--)E.unshift("..");return E},normalize:E=>{var I=he.isAbs(E),P=E.slice(-1)==="/";return E=he.normalizeArray(E.split("/").filter(Y=>!!Y),!I).join("/"),!E&&!I&&(E="."),E&&P&&(E+="/"),(I?"/":"")+E},dirname:E=>{var I=he.splitPath(E),P=I[0],Y=I[1];return!P&&!Y?".":(Y&&(Y=Y.slice(0,-1)),P+Y)},basename:E=>E&&E.match(/([^\/]+|\/)\/*$/)[1],join:(...E)=>he.normalize(E.join("/")),join2:(E,I)=>he.normalize(E+"/"+I)},ae=()=>E=>crypto.getRandomValues(E),ne=E=>{(ne=ae())(E)},de={resolve:(...E)=>{for(var I="",P=!1,Y=E.length-1;Y>=-1&&!P;Y--){var re=Y>=0?E[Y]:j.cwd();if(typeof re!="string")throw new TypeError("Arguments to path.resolve must be strings");if(!re)return"";I=re+"/"+I,P=he.isAbs(re)}return I=he.normalizeArray(I.split("/").filter(ue=>!!ue),!P).join("/"),(P?"/":"")+I||"."},relative:(E,I)=>{E=de.resolve(E).slice(1),I=de.resolve(I).slice(1);function P(qe){for(var Ue=0;Ue<qe.length&&qe[Ue]==="";Ue++);for(var it=qe.length-1;it>=0&&qe[it]==="";it--);return Ue>it?[]:qe.slice(Ue,it-Ue+1)}for(var Y=P(E.split("/")),re=P(I.split("/")),ue=Math.min(Y.length,re.length),ve=ue,$e=0;$e<ue;$e++)if(Y[$e]!==re[$e]){ve=$e;break}for(var Be=[],$e=ve;$e<Y.length;$e++)Be.push("..");return Be=Be.concat(re.slice(ve)),Be.join("/")}},Me=typeof TextDecoder<"u"?new TextDecoder:void 0,ke=(E,I=0,P=NaN)=>{for(var Y=I+P,re=I;E[re]&&!(re>=Y);)++re;if(re-I>16&&E.buffer&&Me)return Me.decode(E.subarray(I,re));for(var ue="";I<re;){var ve=E[I++];if(!(ve&128)){ue+=String.fromCharCode(ve);continue}var $e=E[I++]&63;if((ve&224)==192){ue+=String.fromCharCode((ve&31)<<6|$e);continue}var Be=E[I++]&63;if((ve&240)==224?ve=(ve&15)<<12|$e<<6|Be:ve=(ve&7)<<18|$e<<12|Be<<6|E[I++]&63,ve<65536)ue+=String.fromCharCode(ve);else{var qe=ve-65536;ue+=String.fromCharCode(55296|qe>>10,56320|qe&1023)}}return ue},we=[],xe=E=>{for(var I=0,P=0;P<E.length;++P){var Y=E.charCodeAt(P);Y<=127?I++:Y<=2047?I+=2:Y>=55296&&Y<=57343?(I+=4,++P):I+=3}return I},Ne=(E,I,P,Y)=>{if(!(Y>0))return 0;for(var re=P,ue=P+Y-1,ve=0;ve<E.length;++ve){var $e=E.charCodeAt(ve);if($e>=55296&&$e<=57343){var Be=E.charCodeAt(++ve);$e=65536+(($e&1023)<<10)|Be&1023}if($e<=127){if(P>=ue)break;I[P++]=$e}else if($e<=2047){if(P+1>=ue)break;I[P++]=192|$e>>6,I[P++]=128|$e&63}else if($e<=65535){if(P+2>=ue)break;I[P++]=224|$e>>12,I[P++]=128|$e>>6&63,I[P++]=128|$e&63}else{if(P+3>=ue)break;I[P++]=240|$e>>18,I[P++]=128|$e>>12&63,I[P++]=128|$e>>6&63,I[P++]=128|$e&63}}return I[P]=0,P-re},Ie=(E,I,P)=>{var Y=xe(E)+1,re=new Array(Y),ue=Ne(E,re,0,re.length);return re.length=ue,re},ye=()=>{if(!we.length){var E=null;if(typeof window<"u"&&typeof window.prompt=="function"&&(E=window.prompt("Input: "),E!==null&&(E+=`
`)),!E)return null;we=Ie(E)}return we.shift()},Ae={ttys:[],init(){},shutdown(){},register(E,I){Ae.ttys[E]={input:[],output:[],ops:I},j.registerDevice(E,Ae.stream_ops)},stream_ops:{open(E){var I=Ae.ttys[E.node.rdev];if(!I)throw new j.ErrnoError(43);E.tty=I,E.seekable=!1},close(E){E.tty.ops.fsync(E.tty)},fsync(E){E.tty.ops.fsync(E.tty)},read(E,I,P,Y,re){if(!E.tty||!E.tty.ops.get_char)throw new j.ErrnoError(60);for(var ue=0,ve=0;ve<Y;ve++){var $e;try{$e=E.tty.ops.get_char(E.tty)}catch{throw new j.ErrnoError(29)}if($e===void 0&&ue===0)throw new j.ErrnoError(6);if($e==null)break;ue++,I[P+ve]=$e}return ue&&(E.node.atime=Date.now()),ue},write(E,I,P,Y,re){if(!E.tty||!E.tty.ops.put_char)throw new j.ErrnoError(60);try{for(var ue=0;ue<Y;ue++)E.tty.ops.put_char(E.tty,I[P+ue])}catch{throw new j.ErrnoError(29)}return Y&&(E.node.mtime=E.node.ctime=Date.now()),ue}},default_tty_ops:{get_char(E){return ye()},put_char(E,I){I===null||I===10?(e(ke(E.output)),E.output=[]):I!=0&&E.output.push(I)},fsync(E){E.output?.length>0&&(e(ke(E.output)),E.output=[])},ioctl_tcgets(E){return{c_iflag:25856,c_oflag:5,c_cflag:191,c_lflag:35387,c_cc:[3,28,127,21,4,0,1,0,17,19,26,0,18,15,23,22,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0]}},ioctl_tcsets(E,I,P){return 0},ioctl_tiocgwinsz(E){return[24,80]}},default_tty1_ops:{put_char(E,I){I===null||I===10?(n(ke(E.output)),E.output=[]):I!=0&&E.output.push(I)},fsync(E){E.output?.length>0&&(n(ke(E.output)),E.output=[])}}},Fe=(E,I)=>p.fill(0,E,E+I),_e=(E,I)=>Math.ceil(E/I)*I,Ye=E=>{E=_e(E,65536);var I=me(65536,E);return I&&Fe(I,E),I},Oe={ops_table:null,mount(E){return Oe.createNode(null,"/",16895,0)},createNode(E,I,P,Y){if(j.isBlkdev(P)||j.isFIFO(P))throw new j.ErrnoError(63);Oe.ops_table||={dir:{node:{getattr:Oe.node_ops.getattr,setattr:Oe.node_ops.setattr,lookup:Oe.node_ops.lookup,mknod:Oe.node_ops.mknod,rename:Oe.node_ops.rename,unlink:Oe.node_ops.unlink,rmdir:Oe.node_ops.rmdir,readdir:Oe.node_ops.readdir,symlink:Oe.node_ops.symlink},stream:{llseek:Oe.stream_ops.llseek}},file:{node:{getattr:Oe.node_ops.getattr,setattr:Oe.node_ops.setattr},stream:{llseek:Oe.stream_ops.llseek,read:Oe.stream_ops.read,write:Oe.stream_ops.write,mmap:Oe.stream_ops.mmap,msync:Oe.stream_ops.msync}},link:{node:{getattr:Oe.node_ops.getattr,setattr:Oe.node_ops.setattr,readlink:Oe.node_ops.readlink},stream:{}},chrdev:{node:{getattr:Oe.node_ops.getattr,setattr:Oe.node_ops.setattr},stream:j.chrdev_stream_ops}};var re=j.createNode(E,I,P,Y);return j.isDir(re.mode)?(re.node_ops=Oe.ops_table.dir.node,re.stream_ops=Oe.ops_table.dir.stream,re.contents={}):j.isFile(re.mode)?(re.node_ops=Oe.ops_table.file.node,re.stream_ops=Oe.ops_table.file.stream,re.usedBytes=0,re.contents=null):j.isLink(re.mode)?(re.node_ops=Oe.ops_table.link.node,re.stream_ops=Oe.ops_table.link.stream):j.isChrdev(re.mode)&&(re.node_ops=Oe.ops_table.chrdev.node,re.stream_ops=Oe.ops_table.chrdev.stream),re.atime=re.mtime=re.ctime=Date.now(),E&&(E.contents[I]=re,E.atime=E.mtime=E.ctime=re.atime),re},getFileDataAsTypedArray(E){return E.contents?E.contents.subarray?E.contents.subarray(0,E.usedBytes):new Uint8Array(E.contents):new Uint8Array(0)},expandFileStorage(E,I){var P=E.contents?E.contents.length:0;if(!(P>=I)){var Y=1024*1024;I=Math.max(I,P*(P<Y?2:1.125)>>>0),P!=0&&(I=Math.max(I,256));var re=E.contents;E.contents=new Uint8Array(I),E.usedBytes>0&&E.contents.set(re.subarray(0,E.usedBytes),0)}},resizeFileStorage(E,I){if(E.usedBytes!=I)if(I==0)E.contents=null,E.usedBytes=0;else{var P=E.contents;E.contents=new Uint8Array(I),P&&E.contents.set(P.subarray(0,Math.min(I,E.usedBytes))),E.usedBytes=I}},node_ops:{getattr(E){var I={};return I.dev=j.isChrdev(E.mode)?E.id:1,I.ino=E.id,I.mode=E.mode,I.nlink=1,I.uid=0,I.gid=0,I.rdev=E.rdev,j.isDir(E.mode)?I.size=4096:j.isFile(E.mode)?I.size=E.usedBytes:j.isLink(E.mode)?I.size=E.link.length:I.size=0,I.atime=new Date(E.atime),I.mtime=new Date(E.mtime),I.ctime=new Date(E.ctime),I.blksize=4096,I.blocks=Math.ceil(I.size/I.blksize),I},setattr(E,I){for(const P of["mode","atime","mtime","ctime"])I[P]!=null&&(E[P]=I[P]);I.size!==void 0&&Oe.resizeFileStorage(E,I.size)},lookup(E,I){throw Oe.doesNotExistError},mknod(E,I,P,Y){return Oe.createNode(E,I,P,Y)},rename(E,I,P){var Y;try{Y=j.lookupNode(I,P)}catch{}if(Y){if(j.isDir(E.mode))for(var re in Y.contents)throw new j.ErrnoError(55);j.hashRemoveNode(Y)}delete E.parent.contents[E.name],I.contents[P]=E,E.name=P,I.ctime=I.mtime=E.parent.ctime=E.parent.mtime=Date.now()},unlink(E,I){delete E.contents[I],E.ctime=E.mtime=Date.now()},rmdir(E,I){var P=j.lookupNode(E,I);for(var Y in P.contents)throw new j.ErrnoError(55);delete E.contents[I],E.ctime=E.mtime=Date.now()},readdir(E){return[".","..",...Object.keys(E.contents)]},symlink(E,I,P){var Y=Oe.createNode(E,I,41471,0);return Y.link=P,Y},readlink(E){if(!j.isLink(E.mode))throw new j.ErrnoError(28);return E.link}},stream_ops:{read(E,I,P,Y,re){var ue=E.node.contents;if(re>=E.node.usedBytes)return 0;var ve=Math.min(E.node.usedBytes-re,Y);if(ve>8&&ue.subarray)I.set(ue.subarray(re,re+ve),P);else for(var $e=0;$e<ve;$e++)I[P+$e]=ue[re+$e];return ve},write(E,I,P,Y,re,ue){if(I.buffer===v.buffer&&(ue=!1),!Y)return 0;var ve=E.node;if(ve.mtime=ve.ctime=Date.now(),I.subarray&&(!ve.contents||ve.contents.subarray)){if(ue)return ve.contents=I.subarray(P,P+Y),ve.usedBytes=Y,Y;if(ve.usedBytes===0&&re===0)return ve.contents=I.slice(P,P+Y),ve.usedBytes=Y,Y;if(re+Y<=ve.usedBytes)return ve.contents.set(I.subarray(P,P+Y),re),Y}if(Oe.expandFileStorage(ve,re+Y),ve.contents.subarray&&I.subarray)ve.contents.set(I.subarray(P,P+Y),re);else for(var $e=0;$e<Y;$e++)ve.contents[re+$e]=I[P+$e];return ve.usedBytes=Math.max(ve.usedBytes,re+Y),Y},llseek(E,I,P){var Y=I;if(P===1?Y+=E.position:P===2&&j.isFile(E.node.mode)&&(Y+=E.node.usedBytes),Y<0)throw new j.ErrnoError(28);return Y},mmap(E,I,P,Y,re){if(!j.isFile(E.node.mode))throw new j.ErrnoError(43);var ue,ve,$e=E.node.contents;if(!(re&2)&&$e&&$e.buffer===v.buffer)ve=!1,ue=$e.byteOffset;else{if(ve=!0,ue=Ye(I),!ue)throw new j.ErrnoError(48);$e&&((P>0||P+I<$e.length)&&($e.subarray?$e=$e.subarray(P,P+I):$e=Array.prototype.slice.call($e,P,P+I)),v.set($e,ue))}return{ptr:ue,allocated:ve}},msync(E,I,P,Y,re){return Oe.stream_ops.write(E,I,0,Y,P,!1),0}}},Te=async E=>{var I=await i(E);return new Uint8Array(I)},Le=(...E)=>j.createDataFile(...E),He=[],z=(E,I,P,Y)=>{typeof Browser<"u"&&Browser.init();var re=!1;return He.forEach(ue=>{re||ue.canHandle(I)&&(ue.handle(E,I,P,Y),re=!0)}),re},je=(E,I,P,Y,re,ue,ve,$e,Be,qe)=>{var Ue=I?de.resolve(he.join2(E,I)):E;function it(et){function Ge(tt){qe?.(),$e||Le(E,I,tt,Y,re,Be),ue?.(),F()}z(et,Ue,Ge,()=>{ve?.(),F()})||Ge(et)}L(),typeof P=="string"?Te(P).then(it,ve):it(P)},G=E=>{var I={r:0,"r+":2,w:577,"w+":578,a:1089,"a+":1090},P=I[E];if(typeof P>"u")throw new Error(`Unknown file open mode: ${E}`);return P},nt=(E,I)=>{var P=0;return E&&(P|=365),I&&(P|=146),P},j={root:null,mounts:[],devices:{},streams:[],nextInode:1,nameTable:null,currentPath:"/",initialized:!1,ignorePermissions:!0,filesystems:null,syncFSRequests:0,readFiles:{},ErrnoError:class{name="ErrnoError";constructor(E){this.errno=E}},FSStream:class{shared={};get object(){return this.node}set object(E){this.node=E}get isRead(){return(this.flags&2097155)!==1}get isWrite(){return(this.flags&2097155)!==0}get isAppend(){return this.flags&1024}get flags(){return this.shared.flags}set flags(E){this.shared.flags=E}get position(){return this.shared.position}set position(E){this.shared.position=E}},FSNode:class{node_ops={};stream_ops={};readMode=365;writeMode=146;mounted=null;constructor(E,I,P,Y){E||(E=this),this.parent=E,this.mount=E.mount,this.id=j.nextInode++,this.name=I,this.mode=P,this.rdev=Y,this.atime=this.mtime=this.ctime=Date.now()}get read(){return(this.mode&this.readMode)===this.readMode}set read(E){E?this.mode|=this.readMode:this.mode&=~this.readMode}get write(){return(this.mode&this.writeMode)===this.writeMode}set write(E){E?this.mode|=this.writeMode:this.mode&=~this.writeMode}get isFolder(){return j.isDir(this.mode)}get isDevice(){return j.isChrdev(this.mode)}},lookupPath(E,I={}){if(!E)throw new j.ErrnoError(44);I.follow_mount??=!0,he.isAbs(E)||(E=j.cwd()+"/"+E);e:for(var P=0;P<40;P++){for(var Y=E.split("/").filter(qe=>!!qe),re=j.root,ue="/",ve=0;ve<Y.length;ve++){var $e=ve===Y.length-1;if($e&&I.parent)break;if(Y[ve]!=="."){if(Y[ve]===".."){if(ue=he.dirname(ue),j.isRoot(re)){E=ue+"/"+Y.slice(ve+1).join("/");continue e}else re=re.parent;continue}ue=he.join2(ue,Y[ve]);try{re=j.lookupNode(re,Y[ve])}catch(qe){if(qe?.errno===44&&$e&&I.noent_okay)return{path:ue};throw qe}if(j.isMountpoint(re)&&(!$e||I.follow_mount)&&(re=re.mounted.root),j.isLink(re.mode)&&(!$e||I.follow)){if(!re.node_ops.readlink)throw new j.ErrnoError(52);var Be=re.node_ops.readlink(re);he.isAbs(Be)||(Be=he.dirname(ue)+"/"+Be),E=Be+"/"+Y.slice(ve+1).join("/");continue e}}}return{path:ue,node:re}}throw new j.ErrnoError(32)},getPath(E){for(var I;;){if(j.isRoot(E)){var P=E.mount.mountpoint;return I?P[P.length-1]!=="/"?`${P}/${I}`:P+I:P}I=I?`${E.name}/${I}`:E.name,E=E.parent}},hashName(E,I){for(var P=0,Y=0;Y<I.length;Y++)P=(P<<5)-P+I.charCodeAt(Y)|0;return(E+P>>>0)%j.nameTable.length},hashAddNode(E){var I=j.hashName(E.parent.id,E.name);E.name_next=j.nameTable[I],j.nameTable[I]=E},hashRemoveNode(E){var I=j.hashName(E.parent.id,E.name);if(j.nameTable[I]===E)j.nameTable[I]=E.name_next;else for(var P=j.nameTable[I];P;){if(P.name_next===E){P.name_next=E.name_next;break}P=P.name_next}},lookupNode(E,I){var P=j.mayLookup(E);if(P)throw new j.ErrnoError(P);for(var Y=j.hashName(E.id,I),re=j.nameTable[Y];re;re=re.name_next){var ue=re.name;if(re.parent.id===E.id&&ue===I)return re}return j.lookup(E,I)},createNode(E,I,P,Y){var re=new j.FSNode(E,I,P,Y);return j.hashAddNode(re),re},destroyNode(E){j.hashRemoveNode(E)},isRoot(E){return E===E.parent},isMountpoint(E){return!!E.mounted},isFile(E){return(E&61440)===32768},isDir(E){return(E&61440)===16384},isLink(E){return(E&61440)===40960},isChrdev(E){return(E&61440)===8192},isBlkdev(E){return(E&61440)===24576},isFIFO(E){return(E&61440)===4096},isSocket(E){return(E&49152)===49152},flagsToPermissionString(E){var I=["r","w","rw"][E&3];return E&512&&(I+="w"),I},nodePermissions(E,I){return j.ignorePermissions?0:I.includes("r")&&!(E.mode&292)||I.includes("w")&&!(E.mode&146)||I.includes("x")&&!(E.mode&73)?2:0},mayLookup(E){if(!j.isDir(E.mode))return 54;var I=j.nodePermissions(E,"x");return I||(E.node_ops.lookup?0:2)},mayCreate(E,I){if(!j.isDir(E.mode))return 54;try{var P=j.lookupNode(E,I);return 20}catch{}return j.nodePermissions(E,"wx")},mayDelete(E,I,P){var Y;try{Y=j.lookupNode(E,I)}catch(ue){return ue.errno}var re=j.nodePermissions(E,"wx");if(re)return re;if(P){if(!j.isDir(Y.mode))return 54;if(j.isRoot(Y)||j.getPath(Y)===j.cwd())return 10}else if(j.isDir(Y.mode))return 31;return 0},mayOpen(E,I){return E?j.isLink(E.mode)?32:j.isDir(E.mode)&&(j.flagsToPermissionString(I)!=="r"||I&576)?31:j.nodePermissions(E,j.flagsToPermissionString(I)):44},checkOpExists(E,I){if(!E)throw new j.ErrnoError(I);return E},MAX_OPEN_FDS:4096,nextfd(){for(var E=0;E<=j.MAX_OPEN_FDS;E++)if(!j.streams[E])return E;throw new j.ErrnoError(33)},getStreamChecked(E){var I=j.getStream(E);if(!I)throw new j.ErrnoError(8);return I},getStream:E=>j.streams[E],createStream(E,I=-1){return E=Object.assign(new j.FSStream,E),I==-1&&(I=j.nextfd()),E.fd=I,j.streams[I]=E,E},closeStream(E){j.streams[E]=null},dupStream(E,I=-1){var P=j.createStream(E,I);return P.stream_ops?.dup?.(P),P},doSetAttr(E,I,P){var Y=E?.stream_ops.setattr,re=Y?E:I;Y??=I.node_ops.setattr,j.checkOpExists(Y,63),Y(re,P)},chrdev_stream_ops:{open(E){var I=j.getDevice(E.node.rdev);E.stream_ops=I.stream_ops,E.stream_ops.open?.(E)},llseek(){throw new j.ErrnoError(70)}},major:E=>E>>8,minor:E=>E&255,makedev:(E,I)=>E<<8|I,registerDevice(E,I){j.devices[E]={stream_ops:I}},getDevice:E=>j.devices[E],getMounts(E){for(var I=[],P=[E];P.length;){var Y=P.pop();I.push(Y),P.push(...Y.mounts)}return I},syncfs(E,I){typeof E=="function"&&(I=E,E=!1),j.syncFSRequests++,j.syncFSRequests>1&&n(`warning: ${j.syncFSRequests} FS.syncfs operations in flight at once, probably just doing extra work`);var P=j.getMounts(j.root.mount),Y=0;function re(ve){return j.syncFSRequests--,I(ve)}function ue(ve){if(ve)return ue.errored?void 0:(ue.errored=!0,re(ve));++Y>=P.length&&re(null)}P.forEach(ve=>{if(!ve.type.syncfs)return ue(null);ve.type.syncfs(ve,E,ue)})},mount(E,I,P){var Y=P==="/",re=!P,ue;if(Y&&j.root)throw new j.ErrnoError(10);if(!Y&&!re){var ve=j.lookupPath(P,{follow_mount:!1});if(P=ve.path,ue=ve.node,j.isMountpoint(ue))throw new j.ErrnoError(10);if(!j.isDir(ue.mode))throw new j.ErrnoError(54)}var $e={type:E,opts:I,mountpoint:P,mounts:[]},Be=E.mount($e);return Be.mount=$e,$e.root=Be,Y?j.root=Be:ue&&(ue.mounted=$e,ue.mount&&ue.mount.mounts.push($e)),Be},unmount(E){var I=j.lookupPath(E,{follow_mount:!1});if(!j.isMountpoint(I.node))throw new j.ErrnoError(28);var P=I.node,Y=P.mounted,re=j.getMounts(Y);Object.keys(j.nameTable).forEach(ve=>{for(var $e=j.nameTable[ve];$e;){var Be=$e.name_next;re.includes($e.mount)&&j.destroyNode($e),$e=Be}}),P.mounted=null;var ue=P.mount.mounts.indexOf(Y);P.mount.mounts.splice(ue,1)},lookup(E,I){return E.node_ops.lookup(E,I)},mknod(E,I,P){var Y=j.lookupPath(E,{parent:!0}),re=Y.node,ue=he.basename(E);if(!ue)throw new j.ErrnoError(28);if(ue==="."||ue==="..")throw new j.ErrnoError(20);var ve=j.mayCreate(re,ue);if(ve)throw new j.ErrnoError(ve);if(!re.node_ops.mknod)throw new j.ErrnoError(63);return re.node_ops.mknod(re,ue,I,P)},statfs(E){return j.statfsNode(j.lookupPath(E,{follow:!0}).node)},statfsStream(E){return j.statfsNode(E.node)},statfsNode(E){var I={bsize:4096,frsize:4096,blocks:1e6,bfree:5e5,bavail:5e5,files:j.nextInode,ffree:j.nextInode-1,fsid:42,flags:2,namelen:255};return E.node_ops.statfs&&Object.assign(I,E.node_ops.statfs(E.mount.opts.root)),I},create(E,I=438){return I&=4095,I|=32768,j.mknod(E,I,0)},mkdir(E,I=511){return I&=1023,I|=16384,j.mknod(E,I,0)},mkdirTree(E,I){var P=E.split("/"),Y="";for(var re of P)if(re){(Y||he.isAbs(E))&&(Y+="/"),Y+=re;try{j.mkdir(Y,I)}catch(ue){if(ue.errno!=20)throw ue}}},mkdev(E,I,P){return typeof P>"u"&&(P=I,I=438),I|=8192,j.mknod(E,I,P)},symlink(E,I){if(!de.resolve(E))throw new j.ErrnoError(44);var P=j.lookupPath(I,{parent:!0}),Y=P.node;if(!Y)throw new j.ErrnoError(44);var re=he.basename(I),ue=j.mayCreate(Y,re);if(ue)throw new j.ErrnoError(ue);if(!Y.node_ops.symlink)throw new j.ErrnoError(63);return Y.node_ops.symlink(Y,re,E)},rename(E,I){var P=he.dirname(E),Y=he.dirname(I),re=he.basename(E),ue=he.basename(I),ve,$e,Be;if(ve=j.lookupPath(E,{parent:!0}),$e=ve.node,ve=j.lookupPath(I,{parent:!0}),Be=ve.node,!$e||!Be)throw new j.ErrnoError(44);if($e.mount!==Be.mount)throw new j.ErrnoError(75);var qe=j.lookupNode($e,re),Ue=de.relative(E,Y);if(Ue.charAt(0)!==".")throw new j.ErrnoError(28);if(Ue=de.relative(I,P),Ue.charAt(0)!==".")throw new j.ErrnoError(55);var it;try{it=j.lookupNode(Be,ue)}catch{}if(qe!==it){var et=j.isDir(qe.mode),Ge=j.mayDelete($e,re,et);if(Ge)throw new j.ErrnoError(Ge);if(Ge=it?j.mayDelete(Be,ue,et):j.mayCreate(Be,ue),Ge)throw new j.ErrnoError(Ge);if(!$e.node_ops.rename)throw new j.ErrnoError(63);if(j.isMountpoint(qe)||it&&j.isMountpoint(it))throw new j.ErrnoError(10);if(Be!==$e&&(Ge=j.nodePermissions($e,"w"),Ge))throw new j.ErrnoError(Ge);j.hashRemoveNode(qe);try{$e.node_ops.rename(qe,Be,ue),qe.parent=Be}catch(tt){throw tt}finally{j.hashAddNode(qe)}}},rmdir(E){var I=j.lookupPath(E,{parent:!0}),P=I.node,Y=he.basename(E),re=j.lookupNode(P,Y),ue=j.mayDelete(P,Y,!0);if(ue)throw new j.ErrnoError(ue);if(!P.node_ops.rmdir)throw new j.ErrnoError(63);if(j.isMountpoint(re))throw new j.ErrnoError(10);P.node_ops.rmdir(P,Y),j.destroyNode(re)},readdir(E){var I=j.lookupPath(E,{follow:!0}),P=I.node,Y=j.checkOpExists(P.node_ops.readdir,54);return Y(P)},unlink(E){var I=j.lookupPath(E,{parent:!0}),P=I.node;if(!P)throw new j.ErrnoError(44);var Y=he.basename(E),re=j.lookupNode(P,Y),ue=j.mayDelete(P,Y,!1);if(ue)throw new j.ErrnoError(ue);if(!P.node_ops.unlink)throw new j.ErrnoError(63);if(j.isMountpoint(re))throw new j.ErrnoError(10);P.node_ops.unlink(P,Y),j.destroyNode(re)},readlink(E){var I=j.lookupPath(E),P=I.node;if(!P)throw new j.ErrnoError(44);if(!P.node_ops.readlink)throw new j.ErrnoError(28);return P.node_ops.readlink(P)},stat(E,I){var P=j.lookupPath(E,{follow:!I}),Y=P.node,re=j.checkOpExists(Y.node_ops.getattr,63);return re(Y)},fstat(E){var I=j.getStreamChecked(E),P=I.node,Y=I.stream_ops.getattr,re=Y?I:P;return Y??=P.node_ops.getattr,j.checkOpExists(Y,63),Y(re)},lstat(E){return j.stat(E,!0)},doChmod(E,I,P,Y){j.doSetAttr(E,I,{mode:P&4095|I.mode&-4096,ctime:Date.now(),dontFollow:Y})},chmod(E,I,P){var Y;if(typeof E=="string"){var re=j.lookupPath(E,{follow:!P});Y=re.node}else Y=E;j.doChmod(null,Y,I,P)},lchmod(E,I){j.chmod(E,I,!0)},fchmod(E,I){var P=j.getStreamChecked(E);j.doChmod(P,P.node,I,!1)},doChown(E,I,P){j.doSetAttr(E,I,{timestamp:Date.now(),dontFollow:P})},chown(E,I,P,Y){var re;if(typeof E=="string"){var ue=j.lookupPath(E,{follow:!Y});re=ue.node}else re=E;j.doChown(null,re,Y)},lchown(E,I,P){j.chown(E,I,P,!0)},fchown(E,I,P){var Y=j.getStreamChecked(E);j.doChown(Y,Y.node,!1)},doTruncate(E,I,P){if(j.isDir(I.mode))throw new j.ErrnoError(31);if(!j.isFile(I.mode))throw new j.ErrnoError(28);var Y=j.nodePermissions(I,"w");if(Y)throw new j.ErrnoError(Y);j.doSetAttr(E,I,{size:P,timestamp:Date.now()})},truncate(E,I){if(I<0)throw new j.ErrnoError(28);var P;if(typeof E=="string"){var Y=j.lookupPath(E,{follow:!0});P=Y.node}else P=E;j.doTruncate(null,P,I)},ftruncate(E,I){var P=j.getStreamChecked(E);if(I<0||(P.flags&2097155)===0)throw new j.ErrnoError(28);j.doTruncate(P,P.node,I)},utime(E,I,P){var Y=j.lookupPath(E,{follow:!0}),re=Y.node,ue=j.checkOpExists(re.node_ops.setattr,63);ue(re,{atime:I,mtime:P})},open(E,I,P=438){if(E==="")throw new j.ErrnoError(44);I=typeof I=="string"?G(I):I,I&64?P=P&4095|32768:P=0;var Y,re;if(typeof E=="object")Y=E;else{re=E.endsWith("/");var ue=j.lookupPath(E,{follow:!(I&131072),noent_okay:!0});Y=ue.node,E=ue.path}var ve=!1;if(I&64)if(Y){if(I&128)throw new j.ErrnoError(20)}else{if(re)throw new j.ErrnoError(31);Y=j.mknod(E,P|511,0),ve=!0}if(!Y)throw new j.ErrnoError(44);if(j.isChrdev(Y.mode)&&(I&=-513),I&65536&&!j.isDir(Y.mode))throw new j.ErrnoError(54);if(!ve){var $e=j.mayOpen(Y,I);if($e)throw new j.ErrnoError($e)}I&512&&!ve&&j.truncate(Y,0),I&=-131713;var Be=j.createStream({node:Y,path:j.getPath(Y),flags:I,seekable:!0,position:0,stream_ops:Y.stream_ops,ungotten:[],error:!1});return Be.stream_ops.open&&Be.stream_ops.open(Be),ve&&j.chmod(Y,P&511),f.logReadFiles&&!(I&1)&&(E in j.readFiles||(j.readFiles[E]=1)),Be},close(E){if(j.isClosed(E))throw new j.ErrnoError(8);E.getdents&&(E.getdents=null);try{E.stream_ops.close&&E.stream_ops.close(E)}catch(I){throw I}finally{j.closeStream(E.fd)}E.fd=null},isClosed(E){return E.fd===null},llseek(E,I,P){if(j.isClosed(E))throw new j.ErrnoError(8);if(!E.seekable||!E.stream_ops.llseek)throw new j.ErrnoError(70);if(P!=0&&P!=1&&P!=2)throw new j.ErrnoError(28);return E.position=E.stream_ops.llseek(E,I,P),E.ungotten=[],E.position},read(E,I,P,Y,re){if(Y<0||re<0)throw new j.ErrnoError(28);if(j.isClosed(E))throw new j.ErrnoError(8);if((E.flags&2097155)===1)throw new j.ErrnoError(8);if(j.isDir(E.node.mode))throw new j.ErrnoError(31);if(!E.stream_ops.read)throw new j.ErrnoError(28);var ue=typeof re<"u";if(!ue)re=E.position;else if(!E.seekable)throw new j.ErrnoError(70);var ve=E.stream_ops.read(E,I,P,Y,re);return ue||(E.position+=ve),ve},write(E,I,P,Y,re,ue){if(Y<0||re<0)throw new j.ErrnoError(28);if(j.isClosed(E))throw new j.ErrnoError(8);if((E.flags&2097155)===0)throw new j.ErrnoError(8);if(j.isDir(E.node.mode))throw new j.ErrnoError(31);if(!E.stream_ops.write)throw new j.ErrnoError(28);E.seekable&&E.flags&1024&&j.llseek(E,0,2);var ve=typeof re<"u";if(!ve)re=E.position;else if(!E.seekable)throw new j.ErrnoError(70);var $e=E.stream_ops.write(E,I,P,Y,re,ue);return ve||(E.position+=$e),$e},mmap(E,I,P,Y,re){if((Y&2)!==0&&(re&2)===0&&(E.flags&2097155)!==2)throw new j.ErrnoError(2);if((E.flags&2097155)===1)throw new j.ErrnoError(2);if(!E.stream_ops.mmap)throw new j.ErrnoError(43);if(!I)throw new j.ErrnoError(28);return E.stream_ops.mmap(E,I,P,Y,re)},msync(E,I,P,Y,re){return E.stream_ops.msync?E.stream_ops.msync(E,I,P,Y,re):0},ioctl(E,I,P){if(!E.stream_ops.ioctl)throw new j.ErrnoError(59);return E.stream_ops.ioctl(E,I,P)},readFile(E,I={}){if(I.flags=I.flags||0,I.encoding=I.encoding||"binary",I.encoding!=="utf8"&&I.encoding!=="binary")throw new Error(`Invalid encoding type "${I.encoding}"`);var P,Y=j.open(E,I.flags),re=j.stat(E),ue=re.size,ve=new Uint8Array(ue);return j.read(Y,ve,0,ue,0),I.encoding==="utf8"?P=ke(ve):I.encoding==="binary"&&(P=ve),j.close(Y),P},writeFile(E,I,P={}){P.flags=P.flags||577;var Y=j.open(E,P.flags,P.mode);if(typeof I=="string"){var re=new Uint8Array(xe(I)+1),ue=Ne(I,re,0,re.length);j.write(Y,re,0,ue,void 0,P.canOwn)}else if(ArrayBuffer.isView(I))j.write(Y,I,0,I.byteLength,void 0,P.canOwn);else throw new Error("Unsupported data type");j.close(Y)},cwd:()=>j.currentPath,chdir(E){var I=j.lookupPath(E,{follow:!0});if(I.node===null)throw new j.ErrnoError(44);if(!j.isDir(I.node.mode))throw new j.ErrnoError(54);var P=j.nodePermissions(I.node,"x");if(P)throw new j.ErrnoError(P);j.currentPath=I.path},createDefaultDirectories(){j.mkdir("/tmp"),j.mkdir("/home"),j.mkdir("/home/web_user")},createDefaultDevices(){j.mkdir("/dev"),j.registerDevice(j.makedev(1,3),{read:()=>0,write:(Y,re,ue,ve,$e)=>ve,llseek:()=>0}),j.mkdev("/dev/null",j.makedev(1,3)),Ae.register(j.makedev(5,0),Ae.default_tty_ops),Ae.register(j.makedev(6,0),Ae.default_tty1_ops),j.mkdev("/dev/tty",j.makedev(5,0)),j.mkdev("/dev/tty1",j.makedev(6,0));var E=new Uint8Array(1024),I=0,P=()=>(I===0&&(ne(E),I=E.byteLength),E[--I]);j.createDevice("/dev","random",P),j.createDevice("/dev","urandom",P),j.mkdir("/dev/shm"),j.mkdir("/dev/shm/tmp")},createSpecialDirectories(){j.mkdir("/proc");var E=j.mkdir("/proc/self");j.mkdir("/proc/self/fd"),j.mount({mount(){var I=j.createNode(E,"fd",16895,73);return I.stream_ops={llseek:Oe.stream_ops.llseek},I.node_ops={lookup(P,Y){var re=+Y,ue=j.getStreamChecked(re),ve={parent:null,mount:{mountpoint:"fake"},node_ops:{readlink:()=>ue.path},id:re+1};return ve.parent=ve,ve},readdir(){return Array.from(j.streams.entries()).filter(([P,Y])=>Y).map(([P,Y])=>P.toString())}},I}},{},"/proc/self/fd")},createStandardStreams(E,I,P){E?j.createDevice("/dev","stdin",E):j.symlink("/dev/tty","/dev/stdin"),I?j.createDevice("/dev","stdout",null,I):j.symlink("/dev/tty","/dev/stdout"),P?j.createDevice("/dev","stderr",null,P):j.symlink("/dev/tty1","/dev/stderr"),j.open("/dev/stdin",0),j.open("/dev/stdout",1),j.open("/dev/stderr",1)},staticInit(){j.nameTable=new Array(4096),j.mount(Oe,{},"/"),j.createDefaultDirectories(),j.createDefaultDevices(),j.createSpecialDirectories(),j.filesystems={MEMFS:Oe}},init(E,I,P){j.initialized=!0,E??=f.stdin,I??=f.stdout,P??=f.stderr,j.createStandardStreams(E,I,P)},quit(){j.initialized=!1;for(var E of j.streams)E&&j.close(E)},findObject(E,I){var P=j.analyzePath(E,I);return P.exists?P.object:null},analyzePath(E,I){try{var P=j.lookupPath(E,{follow:!I});E=P.path}catch{}var Y={isRoot:!1,exists:!1,error:0,name:null,path:null,object:null,parentExists:!1,parentPath:null,parentObject:null};try{var P=j.lookupPath(E,{parent:!0});Y.parentExists=!0,Y.parentPath=P.path,Y.parentObject=P.node,Y.name=he.basename(E),P=j.lookupPath(E,{follow:!I}),Y.exists=!0,Y.path=P.path,Y.object=P.node,Y.name=P.node.name,Y.isRoot=P.path==="/"}catch(re){Y.error=re.errno}return Y},createPath(E,I,P,Y){E=typeof E=="string"?E:j.getPath(E);for(var re=I.split("/").reverse();re.length;){var ue=re.pop();if(ue){var ve=he.join2(E,ue);try{j.mkdir(ve)}catch($e){if($e.errno!=20)throw $e}E=ve}}return ve},createFile(E,I,P,Y,re){var ue=he.join2(typeof E=="string"?E:j.getPath(E),I),ve=nt(Y,re);return j.create(ue,ve)},createDataFile(E,I,P,Y,re,ue){var ve=I;E&&(E=typeof E=="string"?E:j.getPath(E),ve=I?he.join2(E,I):E);var $e=nt(Y,re),Be=j.create(ve,$e);if(P){if(typeof P=="string"){for(var qe=new Array(P.length),Ue=0,it=P.length;Ue<it;++Ue)qe[Ue]=P.charCodeAt(Ue);P=qe}j.chmod(Be,$e|146);var et=j.open(Be,577);j.write(et,P,0,P.length,0,ue),j.close(et),j.chmod(Be,$e)}},createDevice(E,I,P,Y){var re=he.join2(typeof E=="string"?E:j.getPath(E),I),ue=nt(!!P,!!Y);j.createDevice.major??=64;var ve=j.makedev(j.createDevice.major++,0);return j.registerDevice(ve,{open($e){$e.seekable=!1},close($e){Y?.buffer?.length&&Y(10)},read($e,Be,qe,Ue,it){for(var et=0,Ge=0;Ge<Ue;Ge++){var tt;try{tt=P()}catch{throw new j.ErrnoError(29)}if(tt===void 0&&et===0)throw new j.ErrnoError(6);if(tt==null)break;et++,Be[qe+Ge]=tt}return et&&($e.node.atime=Date.now()),et},write($e,Be,qe,Ue,it){for(var et=0;et<Ue;et++)try{Y(Be[qe+et])}catch{throw new j.ErrnoError(29)}return Ue&&($e.node.mtime=$e.node.ctime=Date.now()),et}}),j.mkdev(re,ue,ve)},forceLoadFile(E){if(E.isDevice||E.isFolder||E.link||E.contents)return!0;if(typeof XMLHttpRequest<"u")throw new Error("Lazy loading should have been performed (contents set) in createLazyFile, but it was not. Lazy loading only works in web workers. Use --embed-file or --preload-file in emcc on the main thread.");try{E.contents=t(E.url),E.usedBytes=E.contents.length}catch{throw new j.ErrnoError(29)}},createLazyFile(E,I,P,Y,re){class ue{lengthKnown=!1;chunks=[];get(Ge){if(!(Ge>this.length-1||Ge<0)){var tt=Ge%this.chunkSize,dt=Ge/this.chunkSize|0;return this.getter(dt)[tt]}}setDataGetter(Ge){this.getter=Ge}cacheLength(){var Ge=new XMLHttpRequest;if(Ge.open("HEAD",P,!1),Ge.send(null),!(Ge.status>=200&&Ge.status<300||Ge.status===304))throw new Error("Couldn't load "+P+". Status: "+Ge.status);var tt=Number(Ge.getResponseHeader("Content-length")),dt,St=(dt=Ge.getResponseHeader("Accept-Ranges"))&&dt==="bytes",gt=(dt=Ge.getResponseHeader("Content-Encoding"))&&dt==="gzip",Ct=1024*1024;St||(Ct=tt);var kt=(Dt,ir)=>{if(Dt>ir)throw new Error("invalid range ("+Dt+", "+ir+") or no bytes requested!");if(ir>tt-1)throw new Error("only "+tt+" bytes available! programmer error!");var ct=new XMLHttpRequest;if(ct.open("GET",P,!1),tt!==Ct&&ct.setRequestHeader("Range","bytes="+Dt+"-"+ir),ct.responseType="arraybuffer",ct.overrideMimeType&&ct.overrideMimeType("text/plain; charset=x-user-defined"),ct.send(null),!(ct.status>=200&&ct.status<300||ct.status===304))throw new Error("Couldn't load "+P+". Status: "+ct.status);return ct.response!==void 0?new Uint8Array(ct.response||[]):Ie(ct.responseText||"")},Rr=this;Rr.setDataGetter(Dt=>{var ir=Dt*Ct,ct=(Dt+1)*Ct-1;if(ct=Math.min(ct,tt-1),typeof Rr.chunks[Dt]>"u"&&(Rr.chunks[Dt]=kt(ir,ct)),typeof Rr.chunks[Dt]>"u")throw new Error("doXHR failed!");return Rr.chunks[Dt]}),(gt||!tt)&&(Ct=tt=1,tt=this.getter(0).length,Ct=tt,e("LazyFiles on gzip forces download of the whole file when length is accessed")),this._length=tt,this._chunkSize=Ct,this.lengthKnown=!0}get length(){return this.lengthKnown||this.cacheLength(),this._length}get chunkSize(){return this.lengthKnown||this.cacheLength(),this._chunkSize}}if(typeof XMLHttpRequest<"u"){throw"Cannot do synchronous binary XHRs outside webworkers in modern browsers. Use --embed-file or --preload-file in emcc";var ve,$e}else var $e={isDevice:!1,url:P};var Be=j.createFile(E,I,$e,Y,re);$e.contents?Be.contents=$e.contents:$e.url&&(Be.contents=null,Be.url=$e.url),Object.defineProperties(Be,{usedBytes:{get:function(){return this.contents.length}}});var qe={},Ue=Object.keys(Be.stream_ops);Ue.forEach(et=>{var Ge=Be.stream_ops[et];qe[et]=(...tt)=>(j.forceLoadFile(Be),Ge(...tt))});function it(et,Ge,tt,dt,St){var gt=et.node.contents;if(St>=gt.length)return 0;var Ct=Math.min(gt.length-St,dt);if(gt.slice)for(var kt=0;kt<Ct;kt++)Ge[tt+kt]=gt[St+kt];else for(var kt=0;kt<Ct;kt++)Ge[tt+kt]=gt.get(St+kt);return Ct}return qe.read=(et,Ge,tt,dt,St)=>(j.forceLoadFile(Be),it(et,Ge,tt,dt,St)),qe.mmap=(et,Ge,tt,dt,St)=>{j.forceLoadFile(Be);var gt=Ye(Ge);if(!gt)throw new j.ErrnoError(48);return it(et,v,gt,Ge,tt),{ptr:gt,allocated:!0}},Be.stream_ops=qe,Be}},lt=(E,I)=>E?ke(p,E,I):"",rt={DEFAULT_POLLMASK:5,calculateAt(E,I,P){if(he.isAbs(I))return I;var Y;if(E===-100)Y=j.cwd();else{var re=rt.getStreamFromFD(E);Y=re.path}if(I.length==0){if(!P)throw new j.ErrnoError(44);return Y}return Y+"/"+I},writeStat(E,I){m[E>>2]=I.dev,m[E+4>>2]=I.mode,A[E+8>>2]=I.nlink,m[E+12>>2]=I.uid,m[E+16>>2]=I.gid,m[E+20>>2]=I.rdev,S[E+24>>3]=BigInt(I.size),m[E+32>>2]=4096,m[E+36>>2]=I.blocks;var P=I.atime.getTime(),Y=I.mtime.getTime(),re=I.ctime.getTime();return S[E+40>>3]=BigInt(Math.floor(P/1e3)),A[E+48>>2]=P%1e3*1e3*1e3,S[E+56>>3]=BigInt(Math.floor(Y/1e3)),A[E+64>>2]=Y%1e3*1e3*1e3,S[E+72>>3]=BigInt(Math.floor(re/1e3)),A[E+80>>2]=re%1e3*1e3*1e3,S[E+88>>3]=BigInt(I.ino),0},writeStatFs(E,I){m[E+4>>2]=I.bsize,m[E+40>>2]=I.bsize,m[E+8>>2]=I.blocks,m[E+12>>2]=I.bfree,m[E+16>>2]=I.bavail,m[E+20>>2]=I.files,m[E+24>>2]=I.ffree,m[E+28>>2]=I.fsid,m[E+44>>2]=I.flags,m[E+36>>2]=I.namelen},doMsync(E,I,P,Y,re){if(!j.isFile(I.node.mode))throw new j.ErrnoError(43);if(Y&2)return 0;var ue=p.slice(E,E+P);j.msync(I,ue,re,P,Y)},getStreamFromFD(E){var I=j.getStreamChecked(E);return I},varargs:void 0,getStr(E){var I=lt(E);return I}};function bt(E,I,P){rt.varargs=P;try{var Y=rt.getStreamFromFD(E);switch(I){case 0:{var re=O();if(re<0)return-28;for(;j.streams[re];)re++;var ue;return ue=j.dupStream(Y,re),ue.fd}case 1:case 2:return 0;case 3:return Y.flags;case 4:{var re=O();return Y.flags|=re,0}case 12:{var re=be(),ve=0;return u[re+ve>>1]=2,0}case 13:case 14:return 0}return-28}catch($e){if(typeof j>"u"||$e.name!=="ErrnoError")throw $e;return-$e.errno}}function Tt(E,I,P){rt.varargs=P;try{var Y=rt.getStreamFromFD(E);switch(I){case 21509:return Y.tty?0:-59;case 21505:{if(!Y.tty)return-59;if(Y.tty.ops.ioctl_tcgets){var re=Y.tty.ops.ioctl_tcgets(Y),ue=be();m[ue>>2]=re.c_iflag||0,m[ue+4>>2]=re.c_oflag||0,m[ue+8>>2]=re.c_cflag||0,m[ue+12>>2]=re.c_lflag||0;for(var ve=0;ve<32;ve++)v[ue+ve+17]=re.c_cc[ve]||0;return 0}return 0}case 21510:case 21511:case 21512:return Y.tty?0:-59;case 21506:case 21507:case 21508:{if(!Y.tty)return-59;if(Y.tty.ops.ioctl_tcsets){for(var ue=be(),$e=m[ue>>2],Be=m[ue+4>>2],qe=m[ue+8>>2],Ue=m[ue+12>>2],it=[],ve=0;ve<32;ve++)it.push(v[ue+ve+17]);return Y.tty.ops.ioctl_tcsets(Y.tty,I,{c_iflag:$e,c_oflag:Be,c_cflag:qe,c_lflag:Ue,c_cc:it})}return 0}case 21519:{if(!Y.tty)return-59;var ue=be();return m[ue>>2]=0,0}case 21520:return Y.tty?-28:-59;case 21531:{var ue=be();return j.ioctl(Y,I,ue)}case 21523:{if(!Y.tty)return-59;if(Y.tty.ops.ioctl_tiocgwinsz){var et=Y.tty.ops.ioctl_tiocgwinsz(Y.tty),ue=be();u[ue>>1]=et[0],u[ue+2>>1]=et[1]}return 0}case 21524:return Y.tty?0:-59;case 21515:return Y.tty?0:-59;default:return-28}}catch(Ge){if(typeof j>"u"||Ge.name!=="ErrnoError")throw Ge;return-Ge.errno}}function Vt(E,I,P,Y){rt.varargs=Y;try{I=rt.getStr(I),I=rt.calculateAt(E,I);var re=Y?O():0;return j.open(I,P,re).fd}catch(ue){if(typeof j>"u"||ue.name!=="ErrnoError")throw ue;return-ue.errno}}function fr(E,I){try{return E=rt.getStr(E),rt.writeStat(I,j.stat(E))}catch(P){if(typeof j>"u"||P.name!=="ErrnoError")throw P;return-P.errno}}var pt=()=>U(""),Rt=0,qt=()=>{Xe=!1,Rt=0},Kt=9007199254740992,Yt=-9007199254740992,$t=E=>E<Yt||E>Kt?NaN:Number(E);function pr(E,I){E=$t(E);var P=new Date(E*1e3);m[I>>2]=P.getUTCSeconds(),m[I+4>>2]=P.getUTCMinutes(),m[I+8>>2]=P.getUTCHours(),m[I+12>>2]=P.getUTCDate(),m[I+16>>2]=P.getUTCMonth(),m[I+20>>2]=P.getUTCFullYear()-1900,m[I+24>>2]=P.getUTCDay();var Y=Date.UTC(P.getUTCFullYear(),0,1,0,0,0,0),re=(P.getTime()-Y)/(1e3*60*60*24)|0;m[I+28>>2]=re}var gr=E=>E%4===0&&(E%100!==0||E%400===0),mr=[0,31,60,91,121,152,182,213,244,274,305,335],vr=[0,31,59,90,120,151,181,212,243,273,304,334],Lt=E=>{var I=gr(E.getFullYear()),P=I?mr:vr,Y=P[E.getMonth()]+E.getDate()-1;return Y};function yr(E,I){E=$t(E);var P=new Date(E*1e3);m[I>>2]=P.getSeconds(),m[I+4>>2]=P.getMinutes(),m[I+8>>2]=P.getHours(),m[I+12>>2]=P.getDate(),m[I+16>>2]=P.getMonth(),m[I+20>>2]=P.getFullYear()-1900,m[I+24>>2]=P.getDay();var Y=Lt(P)|0;m[I+28>>2]=Y,m[I+36>>2]=-(P.getTimezoneOffset()*60);var re=new Date(P.getFullYear(),0,1),ue=new Date(P.getFullYear(),6,1).getTimezoneOffset(),ve=re.getTimezoneOffset(),$e=(ue!=ve&&P.getTimezoneOffset()==Math.min(ve,ue))|0;m[I+32>>2]=$e}function wr(E,I,P,Y,re,ue,ve){re=$t(re);try{if(isNaN(re))return 61;var $e=rt.getStreamFromFD(Y),Be=j.mmap($e,E,re,I,P),qe=Be.ptr;return m[ue>>2]=Be.allocated,A[ve>>2]=qe,0}catch(Ue){if(typeof j>"u"||Ue.name!=="ErrnoError")throw Ue;return-Ue.errno}}function _r(E,I,P,Y,re,ue){ue=$t(ue);try{var ve=rt.getStreamFromFD(re);P&2&&rt.doMsync(E,ve,I,Y,ue)}catch($e){if(typeof j>"u"||$e.name!=="ErrnoError")throw $e;return-$e.errno}}var It={},Zt=E=>{if(E instanceof Ee||E=="unwind")return k;s(1,E)},zt=()=>Xe||Rt>0,rr=E=>{k=E,zt()||(f.onExit?.(E),d=!0),s(E,new Ee(E))},xt=(E,I)=>{k=E,rr(E)},nr=xt,br=()=>{if(!zt())try{nr(k)}catch(E){Zt(E)}},$r=E=>{if(!d)try{E(),br()}catch(I){Zt(I)}},Ar=()=>performance.now(),Er=(E,I)=>{if(It[E]&&(clearTimeout(It[E].id),delete It[E]),!I)return 0;var P=setTimeout(()=>{delete It[E],$r(()=>Re(E,Ar()))},I);return It[E]={id:P,timeout_ms:I},0},At=(E,I,P)=>Ne(E,p,I,P),Sr=(E,I,P,Y)=>{var re=new Date().getFullYear(),ue=new Date(re,0,1),ve=new Date(re,6,1),$e=ue.getTimezoneOffset(),Be=ve.getTimezoneOffset(),qe=Math.max($e,Be);A[E>>2]=qe*60,m[I>>2]=+($e!=Be);var Ue=Ge=>{var tt=Ge>=0?"-":"+",dt=Math.abs(Ge),St=String(Math.floor(dt/60)).padStart(2,"0"),gt=String(dt%60).padStart(2,"0");return`UTC${tt}${St}${gt}`},it=Ue($e),et=Ue(Be);Be<$e?(At(it,P,17),At(et,Y,17)):(At(it,Y,17),At(et,P,17))},Cr=()=>Date.now(),yt=()=>2147483648,kr=E=>{var I=c.buffer,P=(E-I.byteLength+65535)/65536|0;try{return c.grow(P),C(),1}catch{}},Mr=E=>{var I=p.length;E>>>=0;var P=yt();if(E>P)return!1;for(var Y=1;Y<=4;Y*=2){var re=I*(1+.2/Y);re=Math.min(re,E+100663296);var ue=Math.min(P,_e(Math.max(E,re),65536)),ve=kr(ue);if(ve)return!0}return!1},Wt={},Tr=()=>y||"./this.program",Et=()=>{if(!Et.strings){var E=(typeof navigator=="object"&&navigator.languages&&navigator.languages[0]||"C").replace("-","_")+".UTF-8",I={USER:"web_user",LOGNAME:"web_user",PATH:"/",PWD:"/",HOME:"/home/web_user",LANG:E,_:Tr()};for(var P in Wt)Wt[P]===void 0?delete I[P]:I[P]=Wt[P];var Y=[];for(var P in I)Y.push(`${P}=${I[P]}`);Et.strings=Y}return Et.strings},wt=(E,I)=>{var P=0,Y=0;for(var re of Et()){var ue=I+P;A[E+Y>>2]=ue,P+=At(re,ue,1/0)+1,Y+=4}return 0},T=(E,I)=>{var P=Et();A[E>>2]=P.length;var Y=0;for(var re of P)Y+=xe(re)+1;return A[I>>2]=Y,0};function B(E){try{var I=rt.getStreamFromFD(E);return j.close(I),0}catch(P){if(typeof j>"u"||P.name!=="ErrnoError")throw P;return P.errno}}function V(E,I){try{var P=0,Y=0,re=0,ue=rt.getStreamFromFD(E),ve=ue.tty?2:j.isDir(ue.mode)?3:j.isLink(ue.mode)?7:4;return v[I]=ve,u[I+2>>1]=re,S[I+8>>3]=BigInt(P),S[I+16>>3]=BigInt(Y),0}catch($e){if(typeof j>"u"||$e.name!=="ErrnoError")throw $e;return $e.errno}}var J=(E,I,P,Y)=>{for(var re=0,ue=0;ue<P;ue++){var ve=A[I>>2],$e=A[I+4>>2];I+=8;var Be=j.read(E,v,ve,$e,Y);if(Be<0)return-1;if(re+=Be,Be<$e)break}return re};function le(E,I,P,Y){try{var re=rt.getStreamFromFD(E),ue=J(re,I,P);return A[Y>>2]=ue,0}catch(ve){if(typeof j>"u"||ve.name!=="ErrnoError")throw ve;return ve.errno}}function ge(E,I,P,Y){I=$t(I);try{if(isNaN(I))return 61;var re=rt.getStreamFromFD(E);return j.llseek(re,I,P),S[Y>>3]=BigInt(re.position),re.getdents&&I===0&&P===0&&(re.getdents=null),0}catch(ue){if(typeof j>"u"||ue.name!=="ErrnoError")throw ue;return ue.errno}}var b=(E,I,P,Y)=>{for(var re=0,ue=0;ue<P;ue++){var ve=A[I>>2],$e=A[I+4>>2];I+=8;var Be=j.write(E,v,ve,$e,Y);if(Be<0)return-1;if(re+=Be,Be<$e)break}return re};function D(E,I,P,Y){try{var re=rt.getStreamFromFD(E),ue=b(re,I,P);return A[Y>>2]=ue,0}catch(ve){if(typeof j>"u"||ve.name!=="ErrnoError")throw ve;return ve.errno}}var N=E=>ze(E),K=E=>{var I=xe(E)+1,P=N(I);return At(E,P,I),P};j.createPreloadedFile=je,j.staticInit(),Oe.doesNotExistError=new j.ErrnoError(44),Oe.doesNotExistError.stack="<generic error, no stack>",f.noExitRuntime&&(Xe=f.noExitRuntime),f.preloadPlugins&&(He=f.preloadPlugins),f.print&&(e=f.print),f.printErr&&(n=f.printErr),f.wasmBinary&&(a=f.wasmBinary),f.arguments&&($=f.arguments),f.thisProgram&&(y=f.thisProgram),f.FS=j;var ie={d:bt,h:Tt,e:Vt,n:fr,w:pt,k:qt,q:pr,r:yr,o:wr,p:_r,l:Er,s:Sr,i:Cr,m:Mr,v:wt,f:T,a:nr,b:B,u:V,c:le,t:ge,g:D,j:rr},ce=await fe();ce.y;var pe=f._main=ce.z,me=ce.A,Re=ce.B,ze=ce.C;function Je(E=[]){var I=pe;E.unshift(y);var P=E.length,Y=N((P+1)*4),re=Y;E.forEach(ve=>{A[re>>2]=K(ve),re+=4}),A[re>>2]=0;try{var ue=I(P,Y);return xt(ue,!0),ue}catch(ve){return Zt(ve)}}function Ze(E=$){if(l>0){_=Ze;return}if(R(),l>0){_=Ze;return}function I(){if(f.calledRun=!0,!d){g(),x(f),f.onRuntimeInitialized?.();var P=f.noInitialRun||!1;P||Je(E),w()}}f.setStatus?(f.setStatus("Running..."),setTimeout(()=>{setTimeout(()=>f.setStatus(""),1),I()},1)):I()}function Ve(){if(f.preInit)for(typeof f.preInit=="function"&&(f.preInit=[f.preInit]);f.preInit.length>0;)f.preInit.shift()()}return Ve(),Ze(),Q=M,Q},Eo=async function(te={}){var Q,f=te,x,W,M=new Promise((b,D)=>{x=b,W=D}),$=[],y="./this.program",s=(b,D)=>{throw D},h=import.meta.url,o="";function r(b){return f.locateFile?f.locateFile(b,o):o+b}var i,t;{try{o=new URL(".",h).href}catch{}i=async b=>{var D=await fetch(b,{credentials:"same-origin"});if(D.ok)return D.arrayBuffer();throw new Error(D.status+" : "+D.url)}}var e=console.log.bind(console),n=console.error.bind(console),a,c,d=!1,k,v,p,u,m,A,S;function C(){var b=c.buffer;v=new Int8Array(b),u=new Int16Array(b),p=new Uint8Array(b),m=new Int32Array(b),A=new Uint32Array(b),S=new BigInt64Array(b),new BigUint64Array(b)}function R(){if(f.preRun)for(typeof f.preRun=="function"&&(f.preRun=[f.preRun]);f.preRun.length;)We(f.preRun.shift());Se(Pe)}function g(){!f.noFSInit&&!G.initialized&&G.init(),wt.r(),G.ignorePermissions=!1}function w(){if(f.postRun)for(typeof f.postRun=="function"&&(f.postRun=[f.postRun]);f.postRun.length;)De(f.postRun.shift());Se(Ce)}var l=0,_=null;function L(b){l++,f.monitorRunDependencies?.(l)}function F(b){if(l--,f.monitorRunDependencies?.(l),l==0&&_){var D=_;_=null,D()}}function U(b){f.onAbort?.(b),b="Aborted("+b+")",n(b),d=!0,b+=". Build with -sASSERTIONS for more info.";var D=new WebAssembly.RuntimeError(b);throw W(D),D}var H;function X(){return f.locateFile?r("rgblink.wasm"):new URL(""+new URL("rgblink-DrFO1tkU.wasm",import.meta.url).href,import.meta.url).href}function q(b){if(b==H&&a)return new Uint8Array(a);throw"both async and sync fetching of the wasm failed"}async function Z(b){if(!a)try{var D=await i(b);return new Uint8Array(D)}catch{}return q(b)}async function oe(b,D){try{var N=await Z(b),K=await WebAssembly.instantiate(N,D);return K}catch(ie){n(`failed to asynchronously prepare wasm: ${ie}`),U(ie)}}async function ee(b,D,N){if(!b&&typeof WebAssembly.instantiateStreaming=="function")try{var K=fetch(D,{credentials:"same-origin"}),ie=await WebAssembly.instantiateStreaming(K,N);return ie}catch(ce){n(`wasm streaming compile failed: ${ce}`),n("falling back to ArrayBuffer instantiation")}return oe(D,N)}function se(){return{a:Et}}async function fe(){function b(ce,pe){return wt=ce.exports,c=wt.q,C(),F(),wt}L();function D(ce){return b(ce.instance)}var N=se();if(f.instantiateWasm)return new Promise((ce,pe)=>{f.instantiateWasm(N,(me,Re)=>{ce(b(me))})});H??=X();try{var K=await ee(a,H,N),ie=D(K);return ie}catch(ce){return W(ce),Promise.reject(ce)}}class Ee{name="ExitStatus";constructor(D){this.message=`Program terminated with exit(${D})`,this.status=D}}var Se=b=>{for(;b.length>0;)b.shift()(f)},Ce=[],De=b=>Ce.push(b),Pe=[],We=b=>Pe.push(b),Xe=!0,O=()=>{var b=m[+j.varargs>>2];return j.varargs+=4,b},be=O,he={isAbs:b=>b.charAt(0)==="/",splitPath:b=>{var D=/^(\/?|)([\s\S]*?)((?:\.{1,2}|[^\/]+?|)(\.[^.\/]*|))(?:[\/]*)$/;return D.exec(b).slice(1)},normalizeArray:(b,D)=>{for(var N=0,K=b.length-1;K>=0;K--){var ie=b[K];ie==="."?b.splice(K,1):ie===".."?(b.splice(K,1),N++):N&&(b.splice(K,1),N--)}if(D)for(;N;N--)b.unshift("..");return b},normalize:b=>{var D=he.isAbs(b),N=b.slice(-1)==="/";return b=he.normalizeArray(b.split("/").filter(K=>!!K),!D).join("/"),!b&&!D&&(b="."),b&&N&&(b+="/"),(D?"/":"")+b},dirname:b=>{var D=he.splitPath(b),N=D[0],K=D[1];return!N&&!K?".":(K&&(K=K.slice(0,-1)),N+K)},basename:b=>b&&b.match(/([^\/]+|\/)\/*$/)[1],join:(...b)=>he.normalize(b.join("/")),join2:(b,D)=>he.normalize(b+"/"+D)},ae=()=>b=>crypto.getRandomValues(b),ne=b=>{(ne=ae())(b)},de={resolve:(...b)=>{for(var D="",N=!1,K=b.length-1;K>=-1&&!N;K--){var ie=K>=0?b[K]:G.cwd();if(typeof ie!="string")throw new TypeError("Arguments to path.resolve must be strings");if(!ie)return"";D=ie+"/"+D,N=he.isAbs(ie)}return D=he.normalizeArray(D.split("/").filter(ce=>!!ce),!N).join("/"),(N?"/":"")+D||"."},relative:(b,D)=>{b=de.resolve(b).slice(1),D=de.resolve(D).slice(1);function N(ze){for(var Je=0;Je<ze.length&&ze[Je]==="";Je++);for(var Ze=ze.length-1;Ze>=0&&ze[Ze]==="";Ze--);return Je>Ze?[]:ze.slice(Je,Ze-Je+1)}for(var K=N(b.split("/")),ie=N(D.split("/")),ce=Math.min(K.length,ie.length),pe=ce,me=0;me<ce;me++)if(K[me]!==ie[me]){pe=me;break}for(var Re=[],me=pe;me<K.length;me++)Re.push("..");return Re=Re.concat(ie.slice(pe)),Re.join("/")}},Me=typeof TextDecoder<"u"?new TextDecoder:void 0,ke=(b,D=0,N=NaN)=>{for(var K=D+N,ie=D;b[ie]&&!(ie>=K);)++ie;if(ie-D>16&&b.buffer&&Me)return Me.decode(b.subarray(D,ie));for(var ce="";D<ie;){var pe=b[D++];if(!(pe&128)){ce+=String.fromCharCode(pe);continue}var me=b[D++]&63;if((pe&224)==192){ce+=String.fromCharCode((pe&31)<<6|me);continue}var Re=b[D++]&63;if((pe&240)==224?pe=(pe&15)<<12|me<<6|Re:pe=(pe&7)<<18|me<<12|Re<<6|b[D++]&63,pe<65536)ce+=String.fromCharCode(pe);else{var ze=pe-65536;ce+=String.fromCharCode(55296|ze>>10,56320|ze&1023)}}return ce},we=[],xe=b=>{for(var D=0,N=0;N<b.length;++N){var K=b.charCodeAt(N);K<=127?D++:K<=2047?D+=2:K>=55296&&K<=57343?(D+=4,++N):D+=3}return D},Ne=(b,D,N,K)=>{if(!(K>0))return 0;for(var ie=N,ce=N+K-1,pe=0;pe<b.length;++pe){var me=b.charCodeAt(pe);if(me>=55296&&me<=57343){var Re=b.charCodeAt(++pe);me=65536+((me&1023)<<10)|Re&1023}if(me<=127){if(N>=ce)break;D[N++]=me}else if(me<=2047){if(N+1>=ce)break;D[N++]=192|me>>6,D[N++]=128|me&63}else if(me<=65535){if(N+2>=ce)break;D[N++]=224|me>>12,D[N++]=128|me>>6&63,D[N++]=128|me&63}else{if(N+3>=ce)break;D[N++]=240|me>>18,D[N++]=128|me>>12&63,D[N++]=128|me>>6&63,D[N++]=128|me&63}}return D[N]=0,N-ie},Ie=(b,D,N)=>{var K=xe(b)+1,ie=new Array(K),ce=Ne(b,ie,0,ie.length);return ie.length=ce,ie},ye=()=>{if(!we.length){var b=null;if(typeof window<"u"&&typeof window.prompt=="function"&&(b=window.prompt("Input: "),b!==null&&(b+=`
`)),!b)return null;we=Ie(b)}return we.shift()},Ae={ttys:[],init(){},shutdown(){},register(b,D){Ae.ttys[b]={input:[],output:[],ops:D},G.registerDevice(b,Ae.stream_ops)},stream_ops:{open(b){var D=Ae.ttys[b.node.rdev];if(!D)throw new G.ErrnoError(43);b.tty=D,b.seekable=!1},close(b){b.tty.ops.fsync(b.tty)},fsync(b){b.tty.ops.fsync(b.tty)},read(b,D,N,K,ie){if(!b.tty||!b.tty.ops.get_char)throw new G.ErrnoError(60);for(var ce=0,pe=0;pe<K;pe++){var me;try{me=b.tty.ops.get_char(b.tty)}catch{throw new G.ErrnoError(29)}if(me===void 0&&ce===0)throw new G.ErrnoError(6);if(me==null)break;ce++,D[N+pe]=me}return ce&&(b.node.atime=Date.now()),ce},write(b,D,N,K,ie){if(!b.tty||!b.tty.ops.put_char)throw new G.ErrnoError(60);try{for(var ce=0;ce<K;ce++)b.tty.ops.put_char(b.tty,D[N+ce])}catch{throw new G.ErrnoError(29)}return K&&(b.node.mtime=b.node.ctime=Date.now()),ce}},default_tty_ops:{get_char(b){return ye()},put_char(b,D){D===null||D===10?(e(ke(b.output)),b.output=[]):D!=0&&b.output.push(D)},fsync(b){b.output?.length>0&&(e(ke(b.output)),b.output=[])},ioctl_tcgets(b){return{c_iflag:25856,c_oflag:5,c_cflag:191,c_lflag:35387,c_cc:[3,28,127,21,4,0,1,0,17,19,26,0,18,15,23,22,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0]}},ioctl_tcsets(b,D,N){return 0},ioctl_tiocgwinsz(b){return[24,80]}},default_tty1_ops:{put_char(b,D){D===null||D===10?(n(ke(b.output)),b.output=[]):D!=0&&b.output.push(D)},fsync(b){b.output?.length>0&&(n(ke(b.output)),b.output=[])}}},Fe=b=>{U()},_e={ops_table:null,mount(b){return _e.createNode(null,"/",16895,0)},createNode(b,D,N,K){if(G.isBlkdev(N)||G.isFIFO(N))throw new G.ErrnoError(63);_e.ops_table||={dir:{node:{getattr:_e.node_ops.getattr,setattr:_e.node_ops.setattr,lookup:_e.node_ops.lookup,mknod:_e.node_ops.mknod,rename:_e.node_ops.rename,unlink:_e.node_ops.unlink,rmdir:_e.node_ops.rmdir,readdir:_e.node_ops.readdir,symlink:_e.node_ops.symlink},stream:{llseek:_e.stream_ops.llseek}},file:{node:{getattr:_e.node_ops.getattr,setattr:_e.node_ops.setattr},stream:{llseek:_e.stream_ops.llseek,read:_e.stream_ops.read,write:_e.stream_ops.write,mmap:_e.stream_ops.mmap,msync:_e.stream_ops.msync}},link:{node:{getattr:_e.node_ops.getattr,setattr:_e.node_ops.setattr,readlink:_e.node_ops.readlink},stream:{}},chrdev:{node:{getattr:_e.node_ops.getattr,setattr:_e.node_ops.setattr},stream:G.chrdev_stream_ops}};var ie=G.createNode(b,D,N,K);return G.isDir(ie.mode)?(ie.node_ops=_e.ops_table.dir.node,ie.stream_ops=_e.ops_table.dir.stream,ie.contents={}):G.isFile(ie.mode)?(ie.node_ops=_e.ops_table.file.node,ie.stream_ops=_e.ops_table.file.stream,ie.usedBytes=0,ie.contents=null):G.isLink(ie.mode)?(ie.node_ops=_e.ops_table.link.node,ie.stream_ops=_e.ops_table.link.stream):G.isChrdev(ie.mode)&&(ie.node_ops=_e.ops_table.chrdev.node,ie.stream_ops=_e.ops_table.chrdev.stream),ie.atime=ie.mtime=ie.ctime=Date.now(),b&&(b.contents[D]=ie,b.atime=b.mtime=b.ctime=ie.atime),ie},getFileDataAsTypedArray(b){return b.contents?b.contents.subarray?b.contents.subarray(0,b.usedBytes):new Uint8Array(b.contents):new Uint8Array(0)},expandFileStorage(b,D){var N=b.contents?b.contents.length:0;if(!(N>=D)){var K=1024*1024;D=Math.max(D,N*(N<K?2:1.125)>>>0),N!=0&&(D=Math.max(D,256));var ie=b.contents;b.contents=new Uint8Array(D),b.usedBytes>0&&b.contents.set(ie.subarray(0,b.usedBytes),0)}},resizeFileStorage(b,D){if(b.usedBytes!=D)if(D==0)b.contents=null,b.usedBytes=0;else{var N=b.contents;b.contents=new Uint8Array(D),N&&b.contents.set(N.subarray(0,Math.min(D,b.usedBytes))),b.usedBytes=D}},node_ops:{getattr(b){var D={};return D.dev=G.isChrdev(b.mode)?b.id:1,D.ino=b.id,D.mode=b.mode,D.nlink=1,D.uid=0,D.gid=0,D.rdev=b.rdev,G.isDir(b.mode)?D.size=4096:G.isFile(b.mode)?D.size=b.usedBytes:G.isLink(b.mode)?D.size=b.link.length:D.size=0,D.atime=new Date(b.atime),D.mtime=new Date(b.mtime),D.ctime=new Date(b.ctime),D.blksize=4096,D.blocks=Math.ceil(D.size/D.blksize),D},setattr(b,D){for(const N of["mode","atime","mtime","ctime"])D[N]!=null&&(b[N]=D[N]);D.size!==void 0&&_e.resizeFileStorage(b,D.size)},lookup(b,D){throw _e.doesNotExistError},mknod(b,D,N,K){return _e.createNode(b,D,N,K)},rename(b,D,N){var K;try{K=G.lookupNode(D,N)}catch{}if(K){if(G.isDir(b.mode))for(var ie in K.contents)throw new G.ErrnoError(55);G.hashRemoveNode(K)}delete b.parent.contents[b.name],D.contents[N]=b,b.name=N,D.ctime=D.mtime=b.parent.ctime=b.parent.mtime=Date.now()},unlink(b,D){delete b.contents[D],b.ctime=b.mtime=Date.now()},rmdir(b,D){var N=G.lookupNode(b,D);for(var K in N.contents)throw new G.ErrnoError(55);delete b.contents[D],b.ctime=b.mtime=Date.now()},readdir(b){return[".","..",...Object.keys(b.contents)]},symlink(b,D,N){var K=_e.createNode(b,D,41471,0);return K.link=N,K},readlink(b){if(!G.isLink(b.mode))throw new G.ErrnoError(28);return b.link}},stream_ops:{read(b,D,N,K,ie){var ce=b.node.contents;if(ie>=b.node.usedBytes)return 0;var pe=Math.min(b.node.usedBytes-ie,K);if(pe>8&&ce.subarray)D.set(ce.subarray(ie,ie+pe),N);else for(var me=0;me<pe;me++)D[N+me]=ce[ie+me];return pe},write(b,D,N,K,ie,ce){if(D.buffer===v.buffer&&(ce=!1),!K)return 0;var pe=b.node;if(pe.mtime=pe.ctime=Date.now(),D.subarray&&(!pe.contents||pe.contents.subarray)){if(ce)return pe.contents=D.subarray(N,N+K),pe.usedBytes=K,K;if(pe.usedBytes===0&&ie===0)return pe.contents=D.slice(N,N+K),pe.usedBytes=K,K;if(ie+K<=pe.usedBytes)return pe.contents.set(D.subarray(N,N+K),ie),K}if(_e.expandFileStorage(pe,ie+K),pe.contents.subarray&&D.subarray)pe.contents.set(D.subarray(N,N+K),ie);else for(var me=0;me<K;me++)pe.contents[ie+me]=D[N+me];return pe.usedBytes=Math.max(pe.usedBytes,ie+K),K},llseek(b,D,N){var K=D;if(N===1?K+=b.position:N===2&&G.isFile(b.node.mode)&&(K+=b.node.usedBytes),K<0)throw new G.ErrnoError(28);return K},mmap(b,D,N,K,ie){if(!G.isFile(b.node.mode))throw new G.ErrnoError(43);var ce,pe,me=b.node.contents;if(!(ie&2)&&me&&me.buffer===v.buffer)pe=!1,ce=me.byteOffset;else{if(pe=!0,ce=Fe(),!ce)throw new G.ErrnoError(48);me&&((N>0||N+D<me.length)&&(me.subarray?me=me.subarray(N,N+D):me=Array.prototype.slice.call(me,N,N+D)),v.set(me,ce))}return{ptr:ce,allocated:pe}},msync(b,D,N,K,ie){return _e.stream_ops.write(b,D,0,K,N,!1),0}}},Ye=async b=>{var D=await i(b);return new Uint8Array(D)},Oe=(...b)=>G.createDataFile(...b),Te=[],Le=(b,D,N,K)=>{typeof Browser<"u"&&Browser.init();var ie=!1;return Te.forEach(ce=>{ie||ce.canHandle(D)&&(ce.handle(b,D,N,K),ie=!0)}),ie},He=(b,D,N,K,ie,ce,pe,me,Re,ze)=>{var Je=D?de.resolve(he.join2(b,D)):b;function Ze(Ve){function E(I){ze?.(),me||Oe(b,D,I,K,ie,Re),ce?.(),F()}Le(Ve,Je,E,()=>{pe?.(),F()})||E(Ve)}L(),typeof N=="string"?Ye(N).then(Ze,pe):Ze(N)},z=b=>{var D={r:0,"r+":2,w:577,"w+":578,a:1089,"a+":1090},N=D[b];if(typeof N>"u")throw new Error(`Unknown file open mode: ${b}`);return N},je=(b,D)=>{var N=0;return b&&(N|=365),D&&(N|=146),N},G={root:null,mounts:[],devices:{},streams:[],nextInode:1,nameTable:null,currentPath:"/",initialized:!1,ignorePermissions:!0,filesystems:null,syncFSRequests:0,readFiles:{},ErrnoError:class{name="ErrnoError";constructor(b){this.errno=b}},FSStream:class{shared={};get object(){return this.node}set object(b){this.node=b}get isRead(){return(this.flags&2097155)!==1}get isWrite(){return(this.flags&2097155)!==0}get isAppend(){return this.flags&1024}get flags(){return this.shared.flags}set flags(b){this.shared.flags=b}get position(){return this.shared.position}set position(b){this.shared.position=b}},FSNode:class{node_ops={};stream_ops={};readMode=365;writeMode=146;mounted=null;constructor(b,D,N,K){b||(b=this),this.parent=b,this.mount=b.mount,this.id=G.nextInode++,this.name=D,this.mode=N,this.rdev=K,this.atime=this.mtime=this.ctime=Date.now()}get read(){return(this.mode&this.readMode)===this.readMode}set read(b){b?this.mode|=this.readMode:this.mode&=~this.readMode}get write(){return(this.mode&this.writeMode)===this.writeMode}set write(b){b?this.mode|=this.writeMode:this.mode&=~this.writeMode}get isFolder(){return G.isDir(this.mode)}get isDevice(){return G.isChrdev(this.mode)}},lookupPath(b,D={}){if(!b)throw new G.ErrnoError(44);D.follow_mount??=!0,he.isAbs(b)||(b=G.cwd()+"/"+b);e:for(var N=0;N<40;N++){for(var K=b.split("/").filter(ze=>!!ze),ie=G.root,ce="/",pe=0;pe<K.length;pe++){var me=pe===K.length-1;if(me&&D.parent)break;if(K[pe]!=="."){if(K[pe]===".."){if(ce=he.dirname(ce),G.isRoot(ie)){b=ce+"/"+K.slice(pe+1).join("/");continue e}else ie=ie.parent;continue}ce=he.join2(ce,K[pe]);try{ie=G.lookupNode(ie,K[pe])}catch(ze){if(ze?.errno===44&&me&&D.noent_okay)return{path:ce};throw ze}if(G.isMountpoint(ie)&&(!me||D.follow_mount)&&(ie=ie.mounted.root),G.isLink(ie.mode)&&(!me||D.follow)){if(!ie.node_ops.readlink)throw new G.ErrnoError(52);var Re=ie.node_ops.readlink(ie);he.isAbs(Re)||(Re=he.dirname(ce)+"/"+Re),b=Re+"/"+K.slice(pe+1).join("/");continue e}}}return{path:ce,node:ie}}throw new G.ErrnoError(32)},getPath(b){for(var D;;){if(G.isRoot(b)){var N=b.mount.mountpoint;return D?N[N.length-1]!=="/"?`${N}/${D}`:N+D:N}D=D?`${b.name}/${D}`:b.name,b=b.parent}},hashName(b,D){for(var N=0,K=0;K<D.length;K++)N=(N<<5)-N+D.charCodeAt(K)|0;return(b+N>>>0)%G.nameTable.length},hashAddNode(b){var D=G.hashName(b.parent.id,b.name);b.name_next=G.nameTable[D],G.nameTable[D]=b},hashRemoveNode(b){var D=G.hashName(b.parent.id,b.name);if(G.nameTable[D]===b)G.nameTable[D]=b.name_next;else for(var N=G.nameTable[D];N;){if(N.name_next===b){N.name_next=b.name_next;break}N=N.name_next}},lookupNode(b,D){var N=G.mayLookup(b);if(N)throw new G.ErrnoError(N);for(var K=G.hashName(b.id,D),ie=G.nameTable[K];ie;ie=ie.name_next){var ce=ie.name;if(ie.parent.id===b.id&&ce===D)return ie}return G.lookup(b,D)},createNode(b,D,N,K){var ie=new G.FSNode(b,D,N,K);return G.hashAddNode(ie),ie},destroyNode(b){G.hashRemoveNode(b)},isRoot(b){return b===b.parent},isMountpoint(b){return!!b.mounted},isFile(b){return(b&61440)===32768},isDir(b){return(b&61440)===16384},isLink(b){return(b&61440)===40960},isChrdev(b){return(b&61440)===8192},isBlkdev(b){return(b&61440)===24576},isFIFO(b){return(b&61440)===4096},isSocket(b){return(b&49152)===49152},flagsToPermissionString(b){var D=["r","w","rw"][b&3];return b&512&&(D+="w"),D},nodePermissions(b,D){return G.ignorePermissions?0:D.includes("r")&&!(b.mode&292)||D.includes("w")&&!(b.mode&146)||D.includes("x")&&!(b.mode&73)?2:0},mayLookup(b){if(!G.isDir(b.mode))return 54;var D=G.nodePermissions(b,"x");return D||(b.node_ops.lookup?0:2)},mayCreate(b,D){if(!G.isDir(b.mode))return 54;try{var N=G.lookupNode(b,D);return 20}catch{}return G.nodePermissions(b,"wx")},mayDelete(b,D,N){var K;try{K=G.lookupNode(b,D)}catch(ce){return ce.errno}var ie=G.nodePermissions(b,"wx");if(ie)return ie;if(N){if(!G.isDir(K.mode))return 54;if(G.isRoot(K)||G.getPath(K)===G.cwd())return 10}else if(G.isDir(K.mode))return 31;return 0},mayOpen(b,D){return b?G.isLink(b.mode)?32:G.isDir(b.mode)&&(G.flagsToPermissionString(D)!=="r"||D&576)?31:G.nodePermissions(b,G.flagsToPermissionString(D)):44},checkOpExists(b,D){if(!b)throw new G.ErrnoError(D);return b},MAX_OPEN_FDS:4096,nextfd(){for(var b=0;b<=G.MAX_OPEN_FDS;b++)if(!G.streams[b])return b;throw new G.ErrnoError(33)},getStreamChecked(b){var D=G.getStream(b);if(!D)throw new G.ErrnoError(8);return D},getStream:b=>G.streams[b],createStream(b,D=-1){return b=Object.assign(new G.FSStream,b),D==-1&&(D=G.nextfd()),b.fd=D,G.streams[D]=b,b},closeStream(b){G.streams[b]=null},dupStream(b,D=-1){var N=G.createStream(b,D);return N.stream_ops?.dup?.(N),N},doSetAttr(b,D,N){var K=b?.stream_ops.setattr,ie=K?b:D;K??=D.node_ops.setattr,G.checkOpExists(K,63),K(ie,N)},chrdev_stream_ops:{open(b){var D=G.getDevice(b.node.rdev);b.stream_ops=D.stream_ops,b.stream_ops.open?.(b)},llseek(){throw new G.ErrnoError(70)}},major:b=>b>>8,minor:b=>b&255,makedev:(b,D)=>b<<8|D,registerDevice(b,D){G.devices[b]={stream_ops:D}},getDevice:b=>G.devices[b],getMounts(b){for(var D=[],N=[b];N.length;){var K=N.pop();D.push(K),N.push(...K.mounts)}return D},syncfs(b,D){typeof b=="function"&&(D=b,b=!1),G.syncFSRequests++,G.syncFSRequests>1&&n(`warning: ${G.syncFSRequests} FS.syncfs operations in flight at once, probably just doing extra work`);var N=G.getMounts(G.root.mount),K=0;function ie(pe){return G.syncFSRequests--,D(pe)}function ce(pe){if(pe)return ce.errored?void 0:(ce.errored=!0,ie(pe));++K>=N.length&&ie(null)}N.forEach(pe=>{if(!pe.type.syncfs)return ce(null);pe.type.syncfs(pe,b,ce)})},mount(b,D,N){var K=N==="/",ie=!N,ce;if(K&&G.root)throw new G.ErrnoError(10);if(!K&&!ie){var pe=G.lookupPath(N,{follow_mount:!1});if(N=pe.path,ce=pe.node,G.isMountpoint(ce))throw new G.ErrnoError(10);if(!G.isDir(ce.mode))throw new G.ErrnoError(54)}var me={type:b,opts:D,mountpoint:N,mounts:[]},Re=b.mount(me);return Re.mount=me,me.root=Re,K?G.root=Re:ce&&(ce.mounted=me,ce.mount&&ce.mount.mounts.push(me)),Re},unmount(b){var D=G.lookupPath(b,{follow_mount:!1});if(!G.isMountpoint(D.node))throw new G.ErrnoError(28);var N=D.node,K=N.mounted,ie=G.getMounts(K);Object.keys(G.nameTable).forEach(pe=>{for(var me=G.nameTable[pe];me;){var Re=me.name_next;ie.includes(me.mount)&&G.destroyNode(me),me=Re}}),N.mounted=null;var ce=N.mount.mounts.indexOf(K);N.mount.mounts.splice(ce,1)},lookup(b,D){return b.node_ops.lookup(b,D)},mknod(b,D,N){var K=G.lookupPath(b,{parent:!0}),ie=K.node,ce=he.basename(b);if(!ce)throw new G.ErrnoError(28);if(ce==="."||ce==="..")throw new G.ErrnoError(20);var pe=G.mayCreate(ie,ce);if(pe)throw new G.ErrnoError(pe);if(!ie.node_ops.mknod)throw new G.ErrnoError(63);return ie.node_ops.mknod(ie,ce,D,N)},statfs(b){return G.statfsNode(G.lookupPath(b,{follow:!0}).node)},statfsStream(b){return G.statfsNode(b.node)},statfsNode(b){var D={bsize:4096,frsize:4096,blocks:1e6,bfree:5e5,bavail:5e5,files:G.nextInode,ffree:G.nextInode-1,fsid:42,flags:2,namelen:255};return b.node_ops.statfs&&Object.assign(D,b.node_ops.statfs(b.mount.opts.root)),D},create(b,D=438){return D&=4095,D|=32768,G.mknod(b,D,0)},mkdir(b,D=511){return D&=1023,D|=16384,G.mknod(b,D,0)},mkdirTree(b,D){var N=b.split("/"),K="";for(var ie of N)if(ie){(K||he.isAbs(b))&&(K+="/"),K+=ie;try{G.mkdir(K,D)}catch(ce){if(ce.errno!=20)throw ce}}},mkdev(b,D,N){return typeof N>"u"&&(N=D,D=438),D|=8192,G.mknod(b,D,N)},symlink(b,D){if(!de.resolve(b))throw new G.ErrnoError(44);var N=G.lookupPath(D,{parent:!0}),K=N.node;if(!K)throw new G.ErrnoError(44);var ie=he.basename(D),ce=G.mayCreate(K,ie);if(ce)throw new G.ErrnoError(ce);if(!K.node_ops.symlink)throw new G.ErrnoError(63);return K.node_ops.symlink(K,ie,b)},rename(b,D){var N=he.dirname(b),K=he.dirname(D),ie=he.basename(b),ce=he.basename(D),pe,me,Re;if(pe=G.lookupPath(b,{parent:!0}),me=pe.node,pe=G.lookupPath(D,{parent:!0}),Re=pe.node,!me||!Re)throw new G.ErrnoError(44);if(me.mount!==Re.mount)throw new G.ErrnoError(75);var ze=G.lookupNode(me,ie),Je=de.relative(b,K);if(Je.charAt(0)!==".")throw new G.ErrnoError(28);if(Je=de.relative(D,N),Je.charAt(0)!==".")throw new G.ErrnoError(55);var Ze;try{Ze=G.lookupNode(Re,ce)}catch{}if(ze!==Ze){var Ve=G.isDir(ze.mode),E=G.mayDelete(me,ie,Ve);if(E)throw new G.ErrnoError(E);if(E=Ze?G.mayDelete(Re,ce,Ve):G.mayCreate(Re,ce),E)throw new G.ErrnoError(E);if(!me.node_ops.rename)throw new G.ErrnoError(63);if(G.isMountpoint(ze)||Ze&&G.isMountpoint(Ze))throw new G.ErrnoError(10);if(Re!==me&&(E=G.nodePermissions(me,"w"),E))throw new G.ErrnoError(E);G.hashRemoveNode(ze);try{me.node_ops.rename(ze,Re,ce),ze.parent=Re}catch(I){throw I}finally{G.hashAddNode(ze)}}},rmdir(b){var D=G.lookupPath(b,{parent:!0}),N=D.node,K=he.basename(b),ie=G.lookupNode(N,K),ce=G.mayDelete(N,K,!0);if(ce)throw new G.ErrnoError(ce);if(!N.node_ops.rmdir)throw new G.ErrnoError(63);if(G.isMountpoint(ie))throw new G.ErrnoError(10);N.node_ops.rmdir(N,K),G.destroyNode(ie)},readdir(b){var D=G.lookupPath(b,{follow:!0}),N=D.node,K=G.checkOpExists(N.node_ops.readdir,54);return K(N)},unlink(b){var D=G.lookupPath(b,{parent:!0}),N=D.node;if(!N)throw new G.ErrnoError(44);var K=he.basename(b),ie=G.lookupNode(N,K),ce=G.mayDelete(N,K,!1);if(ce)throw new G.ErrnoError(ce);if(!N.node_ops.unlink)throw new G.ErrnoError(63);if(G.isMountpoint(ie))throw new G.ErrnoError(10);N.node_ops.unlink(N,K),G.destroyNode(ie)},readlink(b){var D=G.lookupPath(b),N=D.node;if(!N)throw new G.ErrnoError(44);if(!N.node_ops.readlink)throw new G.ErrnoError(28);return N.node_ops.readlink(N)},stat(b,D){var N=G.lookupPath(b,{follow:!D}),K=N.node,ie=G.checkOpExists(K.node_ops.getattr,63);return ie(K)},fstat(b){var D=G.getStreamChecked(b),N=D.node,K=D.stream_ops.getattr,ie=K?D:N;return K??=N.node_ops.getattr,G.checkOpExists(K,63),K(ie)},lstat(b){return G.stat(b,!0)},doChmod(b,D,N,K){G.doSetAttr(b,D,{mode:N&4095|D.mode&-4096,ctime:Date.now(),dontFollow:K})},chmod(b,D,N){var K;if(typeof b=="string"){var ie=G.lookupPath(b,{follow:!N});K=ie.node}else K=b;G.doChmod(null,K,D,N)},lchmod(b,D){G.chmod(b,D,!0)},fchmod(b,D){var N=G.getStreamChecked(b);G.doChmod(N,N.node,D,!1)},doChown(b,D,N){G.doSetAttr(b,D,{timestamp:Date.now(),dontFollow:N})},chown(b,D,N,K){var ie;if(typeof b=="string"){var ce=G.lookupPath(b,{follow:!K});ie=ce.node}else ie=b;G.doChown(null,ie,K)},lchown(b,D,N){G.chown(b,D,N,!0)},fchown(b,D,N){var K=G.getStreamChecked(b);G.doChown(K,K.node,!1)},doTruncate(b,D,N){if(G.isDir(D.mode))throw new G.ErrnoError(31);if(!G.isFile(D.mode))throw new G.ErrnoError(28);var K=G.nodePermissions(D,"w");if(K)throw new G.ErrnoError(K);G.doSetAttr(b,D,{size:N,timestamp:Date.now()})},truncate(b,D){if(D<0)throw new G.ErrnoError(28);var N;if(typeof b=="string"){var K=G.lookupPath(b,{follow:!0});N=K.node}else N=b;G.doTruncate(null,N,D)},ftruncate(b,D){var N=G.getStreamChecked(b);if(D<0||(N.flags&2097155)===0)throw new G.ErrnoError(28);G.doTruncate(N,N.node,D)},utime(b,D,N){var K=G.lookupPath(b,{follow:!0}),ie=K.node,ce=G.checkOpExists(ie.node_ops.setattr,63);ce(ie,{atime:D,mtime:N})},open(b,D,N=438){if(b==="")throw new G.ErrnoError(44);D=typeof D=="string"?z(D):D,D&64?N=N&4095|32768:N=0;var K,ie;if(typeof b=="object")K=b;else{ie=b.endsWith("/");var ce=G.lookupPath(b,{follow:!(D&131072),noent_okay:!0});K=ce.node,b=ce.path}var pe=!1;if(D&64)if(K){if(D&128)throw new G.ErrnoError(20)}else{if(ie)throw new G.ErrnoError(31);K=G.mknod(b,N|511,0),pe=!0}if(!K)throw new G.ErrnoError(44);if(G.isChrdev(K.mode)&&(D&=-513),D&65536&&!G.isDir(K.mode))throw new G.ErrnoError(54);if(!pe){var me=G.mayOpen(K,D);if(me)throw new G.ErrnoError(me)}D&512&&!pe&&G.truncate(K,0),D&=-131713;var Re=G.createStream({node:K,path:G.getPath(K),flags:D,seekable:!0,position:0,stream_ops:K.stream_ops,ungotten:[],error:!1});return Re.stream_ops.open&&Re.stream_ops.open(Re),pe&&G.chmod(K,N&511),f.logReadFiles&&!(D&1)&&(b in G.readFiles||(G.readFiles[b]=1)),Re},close(b){if(G.isClosed(b))throw new G.ErrnoError(8);b.getdents&&(b.getdents=null);try{b.stream_ops.close&&b.stream_ops.close(b)}catch(D){throw D}finally{G.closeStream(b.fd)}b.fd=null},isClosed(b){return b.fd===null},llseek(b,D,N){if(G.isClosed(b))throw new G.ErrnoError(8);if(!b.seekable||!b.stream_ops.llseek)throw new G.ErrnoError(70);if(N!=0&&N!=1&&N!=2)throw new G.ErrnoError(28);return b.position=b.stream_ops.llseek(b,D,N),b.ungotten=[],b.position},read(b,D,N,K,ie){if(K<0||ie<0)throw new G.ErrnoError(28);if(G.isClosed(b))throw new G.ErrnoError(8);if((b.flags&2097155)===1)throw new G.ErrnoError(8);if(G.isDir(b.node.mode))throw new G.ErrnoError(31);if(!b.stream_ops.read)throw new G.ErrnoError(28);var ce=typeof ie<"u";if(!ce)ie=b.position;else if(!b.seekable)throw new G.ErrnoError(70);var pe=b.stream_ops.read(b,D,N,K,ie);return ce||(b.position+=pe),pe},write(b,D,N,K,ie,ce){if(K<0||ie<0)throw new G.ErrnoError(28);if(G.isClosed(b))throw new G.ErrnoError(8);if((b.flags&2097155)===0)throw new G.ErrnoError(8);if(G.isDir(b.node.mode))throw new G.ErrnoError(31);if(!b.stream_ops.write)throw new G.ErrnoError(28);b.seekable&&b.flags&1024&&G.llseek(b,0,2);var pe=typeof ie<"u";if(!pe)ie=b.position;else if(!b.seekable)throw new G.ErrnoError(70);var me=b.stream_ops.write(b,D,N,K,ie,ce);return pe||(b.position+=me),me},mmap(b,D,N,K,ie){if((K&2)!==0&&(ie&2)===0&&(b.flags&2097155)!==2)throw new G.ErrnoError(2);if((b.flags&2097155)===1)throw new G.ErrnoError(2);if(!b.stream_ops.mmap)throw new G.ErrnoError(43);if(!D)throw new G.ErrnoError(28);return b.stream_ops.mmap(b,D,N,K,ie)},msync(b,D,N,K,ie){return b.stream_ops.msync?b.stream_ops.msync(b,D,N,K,ie):0},ioctl(b,D,N){if(!b.stream_ops.ioctl)throw new G.ErrnoError(59);return b.stream_ops.ioctl(b,D,N)},readFile(b,D={}){if(D.flags=D.flags||0,D.encoding=D.encoding||"binary",D.encoding!=="utf8"&&D.encoding!=="binary")throw new Error(`Invalid encoding type "${D.encoding}"`);var N,K=G.open(b,D.flags),ie=G.stat(b),ce=ie.size,pe=new Uint8Array(ce);return G.read(K,pe,0,ce,0),D.encoding==="utf8"?N=ke(pe):D.encoding==="binary"&&(N=pe),G.close(K),N},writeFile(b,D,N={}){N.flags=N.flags||577;var K=G.open(b,N.flags,N.mode);if(typeof D=="string"){var ie=new Uint8Array(xe(D)+1),ce=Ne(D,ie,0,ie.length);G.write(K,ie,0,ce,void 0,N.canOwn)}else if(ArrayBuffer.isView(D))G.write(K,D,0,D.byteLength,void 0,N.canOwn);else throw new Error("Unsupported data type");G.close(K)},cwd:()=>G.currentPath,chdir(b){var D=G.lookupPath(b,{follow:!0});if(D.node===null)throw new G.ErrnoError(44);if(!G.isDir(D.node.mode))throw new G.ErrnoError(54);var N=G.nodePermissions(D.node,"x");if(N)throw new G.ErrnoError(N);G.currentPath=D.path},createDefaultDirectories(){G.mkdir("/tmp"),G.mkdir("/home"),G.mkdir("/home/web_user")},createDefaultDevices(){G.mkdir("/dev"),G.registerDevice(G.makedev(1,3),{read:()=>0,write:(K,ie,ce,pe,me)=>pe,llseek:()=>0}),G.mkdev("/dev/null",G.makedev(1,3)),Ae.register(G.makedev(5,0),Ae.default_tty_ops),Ae.register(G.makedev(6,0),Ae.default_tty1_ops),G.mkdev("/dev/tty",G.makedev(5,0)),G.mkdev("/dev/tty1",G.makedev(6,0));var b=new Uint8Array(1024),D=0,N=()=>(D===0&&(ne(b),D=b.byteLength),b[--D]);G.createDevice("/dev","random",N),G.createDevice("/dev","urandom",N),G.mkdir("/dev/shm"),G.mkdir("/dev/shm/tmp")},createSpecialDirectories(){G.mkdir("/proc");var b=G.mkdir("/proc/self");G.mkdir("/proc/self/fd"),G.mount({mount(){var D=G.createNode(b,"fd",16895,73);return D.stream_ops={llseek:_e.stream_ops.llseek},D.node_ops={lookup(N,K){var ie=+K,ce=G.getStreamChecked(ie),pe={parent:null,mount:{mountpoint:"fake"},node_ops:{readlink:()=>ce.path},id:ie+1};return pe.parent=pe,pe},readdir(){return Array.from(G.streams.entries()).filter(([N,K])=>K).map(([N,K])=>N.toString())}},D}},{},"/proc/self/fd")},createStandardStreams(b,D,N){b?G.createDevice("/dev","stdin",b):G.symlink("/dev/tty","/dev/stdin"),D?G.createDevice("/dev","stdout",null,D):G.symlink("/dev/tty","/dev/stdout"),N?G.createDevice("/dev","stderr",null,N):G.symlink("/dev/tty1","/dev/stderr"),G.open("/dev/stdin",0),G.open("/dev/stdout",1),G.open("/dev/stderr",1)},staticInit(){G.nameTable=new Array(4096),G.mount(_e,{},"/"),G.createDefaultDirectories(),G.createDefaultDevices(),G.createSpecialDirectories(),G.filesystems={MEMFS:_e}},init(b,D,N){G.initialized=!0,b??=f.stdin,D??=f.stdout,N??=f.stderr,G.createStandardStreams(b,D,N)},quit(){G.initialized=!1;for(var b of G.streams)b&&G.close(b)},findObject(b,D){var N=G.analyzePath(b,D);return N.exists?N.object:null},analyzePath(b,D){try{var N=G.lookupPath(b,{follow:!D});b=N.path}catch{}var K={isRoot:!1,exists:!1,error:0,name:null,path:null,object:null,parentExists:!1,parentPath:null,parentObject:null};try{var N=G.lookupPath(b,{parent:!0});K.parentExists=!0,K.parentPath=N.path,K.parentObject=N.node,K.name=he.basename(b),N=G.lookupPath(b,{follow:!D}),K.exists=!0,K.path=N.path,K.object=N.node,K.name=N.node.name,K.isRoot=N.path==="/"}catch(ie){K.error=ie.errno}return K},createPath(b,D,N,K){b=typeof b=="string"?b:G.getPath(b);for(var ie=D.split("/").reverse();ie.length;){var ce=ie.pop();if(ce){var pe=he.join2(b,ce);try{G.mkdir(pe)}catch(me){if(me.errno!=20)throw me}b=pe}}return pe},createFile(b,D,N,K,ie){var ce=he.join2(typeof b=="string"?b:G.getPath(b),D),pe=je(K,ie);return G.create(ce,pe)},createDataFile(b,D,N,K,ie,ce){var pe=D;b&&(b=typeof b=="string"?b:G.getPath(b),pe=D?he.join2(b,D):b);var me=je(K,ie),Re=G.create(pe,me);if(N){if(typeof N=="string"){for(var ze=new Array(N.length),Je=0,Ze=N.length;Je<Ze;++Je)ze[Je]=N.charCodeAt(Je);N=ze}G.chmod(Re,me|146);var Ve=G.open(Re,577);G.write(Ve,N,0,N.length,0,ce),G.close(Ve),G.chmod(Re,me)}},createDevice(b,D,N,K){var ie=he.join2(typeof b=="string"?b:G.getPath(b),D),ce=je(!!N,!!K);G.createDevice.major??=64;var pe=G.makedev(G.createDevice.major++,0);return G.registerDevice(pe,{open(me){me.seekable=!1},close(me){K?.buffer?.length&&K(10)},read(me,Re,ze,Je,Ze){for(var Ve=0,E=0;E<Je;E++){var I;try{I=N()}catch{throw new G.ErrnoError(29)}if(I===void 0&&Ve===0)throw new G.ErrnoError(6);if(I==null)break;Ve++,Re[ze+E]=I}return Ve&&(me.node.atime=Date.now()),Ve},write(me,Re,ze,Je,Ze){for(var Ve=0;Ve<Je;Ve++)try{K(Re[ze+Ve])}catch{throw new G.ErrnoError(29)}return Je&&(me.node.mtime=me.node.ctime=Date.now()),Ve}}),G.mkdev(ie,ce,pe)},forceLoadFile(b){if(b.isDevice||b.isFolder||b.link||b.contents)return!0;if(typeof XMLHttpRequest<"u")throw new Error("Lazy loading should have been performed (contents set) in createLazyFile, but it was not. Lazy loading only works in web workers. Use --embed-file or --preload-file in emcc on the main thread.");try{b.contents=t(b.url),b.usedBytes=b.contents.length}catch{throw new G.ErrnoError(29)}},createLazyFile(b,D,N,K,ie){class ce{lengthKnown=!1;chunks=[];get(E){if(!(E>this.length-1||E<0)){var I=E%this.chunkSize,P=E/this.chunkSize|0;return this.getter(P)[I]}}setDataGetter(E){this.getter=E}cacheLength(){var E=new XMLHttpRequest;if(E.open("HEAD",N,!1),E.send(null),!(E.status>=200&&E.status<300||E.status===304))throw new Error("Couldn't load "+N+". Status: "+E.status);var I=Number(E.getResponseHeader("Content-length")),P,Y=(P=E.getResponseHeader("Accept-Ranges"))&&P==="bytes",re=(P=E.getResponseHeader("Content-Encoding"))&&P==="gzip",ue=1024*1024;Y||(ue=I);var ve=(Be,qe)=>{if(Be>qe)throw new Error("invalid range ("+Be+", "+qe+") or no bytes requested!");if(qe>I-1)throw new Error("only "+I+" bytes available! programmer error!");var Ue=new XMLHttpRequest;if(Ue.open("GET",N,!1),I!==ue&&Ue.setRequestHeader("Range","bytes="+Be+"-"+qe),Ue.responseType="arraybuffer",Ue.overrideMimeType&&Ue.overrideMimeType("text/plain; charset=x-user-defined"),Ue.send(null),!(Ue.status>=200&&Ue.status<300||Ue.status===304))throw new Error("Couldn't load "+N+". Status: "+Ue.status);return Ue.response!==void 0?new Uint8Array(Ue.response||[]):Ie(Ue.responseText||"")},$e=this;$e.setDataGetter(Be=>{var qe=Be*ue,Ue=(Be+1)*ue-1;if(Ue=Math.min(Ue,I-1),typeof $e.chunks[Be]>"u"&&($e.chunks[Be]=ve(qe,Ue)),typeof $e.chunks[Be]>"u")throw new Error("doXHR failed!");return $e.chunks[Be]}),(re||!I)&&(ue=I=1,I=this.getter(0).length,ue=I,e("LazyFiles on gzip forces download of the whole file when length is accessed")),this._length=I,this._chunkSize=ue,this.lengthKnown=!0}get length(){return this.lengthKnown||this.cacheLength(),this._length}get chunkSize(){return this.lengthKnown||this.cacheLength(),this._chunkSize}}if(typeof XMLHttpRequest<"u"){throw"Cannot do synchronous binary XHRs outside webworkers in modern browsers. Use --embed-file or --preload-file in emcc";var pe,me}else var me={isDevice:!1,url:N};var Re=G.createFile(b,D,me,K,ie);me.contents?Re.contents=me.contents:me.url&&(Re.contents=null,Re.url=me.url),Object.defineProperties(Re,{usedBytes:{get:function(){return this.contents.length}}});var ze={},Je=Object.keys(Re.stream_ops);Je.forEach(Ve=>{var E=Re.stream_ops[Ve];ze[Ve]=(...I)=>(G.forceLoadFile(Re),E(...I))});function Ze(Ve,E,I,P,Y){var re=Ve.node.contents;if(Y>=re.length)return 0;var ue=Math.min(re.length-Y,P);if(re.slice)for(var ve=0;ve<ue;ve++)E[I+ve]=re[Y+ve];else for(var ve=0;ve<ue;ve++)E[I+ve]=re.get(Y+ve);return ue}return ze.read=(Ve,E,I,P,Y)=>(G.forceLoadFile(Re),Ze(Ve,E,I,P,Y)),ze.mmap=(Ve,E,I,P,Y)=>{G.forceLoadFile(Re);var re=Fe();if(!re)throw new G.ErrnoError(48);return Ze(Ve,v,re,E,I),{ptr:re,allocated:!0}},Re.stream_ops=ze,Re}},nt=(b,D)=>b?ke(p,b,D):"",j={DEFAULT_POLLMASK:5,calculateAt(b,D,N){if(he.isAbs(D))return D;var K;if(b===-100)K=G.cwd();else{var ie=j.getStreamFromFD(b);K=ie.path}if(D.length==0){if(!N)throw new G.ErrnoError(44);return K}return K+"/"+D},writeStat(b,D){m[b>>2]=D.dev,m[b+4>>2]=D.mode,A[b+8>>2]=D.nlink,m[b+12>>2]=D.uid,m[b+16>>2]=D.gid,m[b+20>>2]=D.rdev,S[b+24>>3]=BigInt(D.size),m[b+32>>2]=4096,m[b+36>>2]=D.blocks;var N=D.atime.getTime(),K=D.mtime.getTime(),ie=D.ctime.getTime();return S[b+40>>3]=BigInt(Math.floor(N/1e3)),A[b+48>>2]=N%1e3*1e3*1e3,S[b+56>>3]=BigInt(Math.floor(K/1e3)),A[b+64>>2]=K%1e3*1e3*1e3,S[b+72>>3]=BigInt(Math.floor(ie/1e3)),A[b+80>>2]=ie%1e3*1e3*1e3,S[b+88>>3]=BigInt(D.ino),0},writeStatFs(b,D){m[b+4>>2]=D.bsize,m[b+40>>2]=D.bsize,m[b+8>>2]=D.blocks,m[b+12>>2]=D.bfree,m[b+16>>2]=D.bavail,m[b+20>>2]=D.files,m[b+24>>2]=D.ffree,m[b+28>>2]=D.fsid,m[b+44>>2]=D.flags,m[b+36>>2]=D.namelen},doMsync(b,D,N,K,ie){if(!G.isFile(D.node.mode))throw new G.ErrnoError(43);if(K&2)return 0;var ce=p.slice(b,b+N);G.msync(D,ce,ie,N,K)},getStreamFromFD(b){var D=G.getStreamChecked(b);return D},varargs:void 0,getStr(b){var D=nt(b);return D}};function lt(b,D,N){j.varargs=N;try{var K=j.getStreamFromFD(b);switch(D){case 0:{var ie=O();if(ie<0)return-28;for(;G.streams[ie];)ie++;var ce;return ce=G.dupStream(K,ie),ce.fd}case 1:case 2:return 0;case 3:return K.flags;case 4:{var ie=O();return K.flags|=ie,0}case 12:{var ie=be(),pe=0;return u[ie+pe>>1]=2,0}case 13:case 14:return 0}return-28}catch(me){if(typeof G>"u"||me.name!=="ErrnoError")throw me;return-me.errno}}function rt(b,D,N){j.varargs=N;try{var K=j.getStreamFromFD(b);switch(D){case 21509:return K.tty?0:-59;case 21505:{if(!K.tty)return-59;if(K.tty.ops.ioctl_tcgets){var ie=K.tty.ops.ioctl_tcgets(K),ce=be();m[ce>>2]=ie.c_iflag||0,m[ce+4>>2]=ie.c_oflag||0,m[ce+8>>2]=ie.c_cflag||0,m[ce+12>>2]=ie.c_lflag||0;for(var pe=0;pe<32;pe++)v[ce+pe+17]=ie.c_cc[pe]||0;return 0}return 0}case 21510:case 21511:case 21512:return K.tty?0:-59;case 21506:case 21507:case 21508:{if(!K.tty)return-59;if(K.tty.ops.ioctl_tcsets){for(var ce=be(),me=m[ce>>2],Re=m[ce+4>>2],ze=m[ce+8>>2],Je=m[ce+12>>2],Ze=[],pe=0;pe<32;pe++)Ze.push(v[ce+pe+17]);return K.tty.ops.ioctl_tcsets(K.tty,D,{c_iflag:me,c_oflag:Re,c_cflag:ze,c_lflag:Je,c_cc:Ze})}return 0}case 21519:{if(!K.tty)return-59;var ce=be();return m[ce>>2]=0,0}case 21520:return K.tty?-28:-59;case 21531:{var ce=be();return G.ioctl(K,D,ce)}case 21523:{if(!K.tty)return-59;if(K.tty.ops.ioctl_tiocgwinsz){var Ve=K.tty.ops.ioctl_tiocgwinsz(K.tty),ce=be();u[ce>>1]=Ve[0],u[ce+2>>1]=Ve[1]}return 0}case 21524:return K.tty?0:-59;case 21515:return K.tty?0:-59;default:return-28}}catch(E){if(typeof G>"u"||E.name!=="ErrnoError")throw E;return-E.errno}}function bt(b,D,N,K){j.varargs=K;try{D=j.getStr(D),D=j.calculateAt(b,D);var ie=K?O():0;return G.open(D,N,ie).fd}catch(ce){if(typeof G>"u"||ce.name!=="ErrnoError")throw ce;return-ce.errno}}var Tt=()=>U(""),Vt=0,fr=()=>{Xe=!1,Vt=0},pt={},Rt=b=>{if(b instanceof Ee||b=="unwind")return k;s(1,b)},qt=()=>Xe||Vt>0,Kt=b=>{k=b,qt()||(f.onExit?.(b),d=!0),s(b,new Ee(b))},Yt=(b,D)=>{k=b,Kt(b)},$t=Yt,pr=()=>{if(!qt())try{$t(k)}catch(b){Rt(b)}},gr=b=>{if(!d)try{b(),pr()}catch(D){Rt(D)}},mr=()=>performance.now(),vr=(b,D)=>{if(pt[b]&&(clearTimeout(pt[b].id),delete pt[b]),!D)return 0;var N=setTimeout(()=>{delete pt[b],gr(()=>B(b,mr()))},D);return pt[b]={id:N,timeout_ms:D},0},Lt=(b,D,N)=>Ne(b,p,D,N),yr=(b,D,N,K)=>{var ie=new Date().getFullYear(),ce=new Date(ie,0,1),pe=new Date(ie,6,1),me=ce.getTimezoneOffset(),Re=pe.getTimezoneOffset(),ze=Math.max(me,Re);A[b>>2]=ze*60,m[D>>2]=+(me!=Re);var Je=E=>{var I=E>=0?"-":"+",P=Math.abs(E),Y=String(Math.floor(P/60)).padStart(2,"0"),re=String(P%60).padStart(2,"0");return`UTC${I}${Y}${re}`},Ze=Je(me),Ve=Je(Re);Re<me?(Lt(Ze,N,17),Lt(Ve,K,17)):(Lt(Ze,K,17),Lt(Ve,N,17))},wr=()=>2147483648,_r=(b,D)=>Math.ceil(b/D)*D,It=b=>{var D=c.buffer,N=(b-D.byteLength+65535)/65536|0;try{return c.grow(N),C(),1}catch{}},Zt=b=>{var D=p.length;b>>>=0;var N=wr();if(b>N)return!1;for(var K=1;K<=4;K*=2){var ie=D*(1+.2/K);ie=Math.min(ie,b+100663296);var ce=Math.min(N,_r(Math.max(b,ie),65536)),pe=It(ce);if(pe)return!0}return!1},zt={},rr=()=>y||"./this.program",xt=()=>{if(!xt.strings){var b=(typeof navigator=="object"&&navigator.languages&&navigator.languages[0]||"C").replace("-","_")+".UTF-8",D={USER:"web_user",LOGNAME:"web_user",PATH:"/",PWD:"/",HOME:"/home/web_user",LANG:b,_:rr()};for(var N in zt)zt[N]===void 0?delete D[N]:D[N]=zt[N];var K=[];for(var N in D)K.push(`${N}=${D[N]}`);xt.strings=K}return xt.strings},nr=(b,D)=>{var N=0,K=0;for(var ie of xt()){var ce=D+N;A[b+K>>2]=ce,N+=Lt(ie,ce,1/0)+1,K+=4}return 0},br=(b,D)=>{var N=xt();A[b>>2]=N.length;var K=0;for(var ie of N)K+=xe(ie)+1;return A[D>>2]=K,0};function $r(b){try{var D=j.getStreamFromFD(b);return G.close(D),0}catch(N){if(typeof G>"u"||N.name!=="ErrnoError")throw N;return N.errno}}var Ar=(b,D,N,K)=>{for(var ie=0,ce=0;ce<N;ce++){var pe=A[D>>2],me=A[D+4>>2];D+=8;var Re=G.read(b,v,pe,me,K);if(Re<0)return-1;if(ie+=Re,Re<me)break}return ie};function Er(b,D,N,K){try{var ie=j.getStreamFromFD(b),ce=Ar(ie,D,N);return A[K>>2]=ce,0}catch(pe){if(typeof G>"u"||pe.name!=="ErrnoError")throw pe;return pe.errno}}var At=9007199254740992,Sr=-9007199254740992,Cr=b=>b<Sr||b>At?NaN:Number(b);function yt(b,D,N,K){D=Cr(D);try{if(isNaN(D))return 61;var ie=j.getStreamFromFD(b);return G.llseek(ie,D,N),S[K>>3]=BigInt(ie.position),ie.getdents&&D===0&&N===0&&(ie.getdents=null),0}catch(ce){if(typeof G>"u"||ce.name!=="ErrnoError")throw ce;return ce.errno}}var kr=(b,D,N,K)=>{for(var ie=0,ce=0;ce<N;ce++){var pe=A[D>>2],me=A[D+4>>2];D+=8;var Re=G.write(b,v,pe,me,K);if(Re<0)return-1;if(ie+=Re,Re<me)break}return ie};function Mr(b,D,N,K){try{var ie=j.getStreamFromFD(b),ce=kr(ie,D,N);return A[K>>2]=ce,0}catch(pe){if(typeof G>"u"||pe.name!=="ErrnoError")throw pe;return pe.errno}}var Wt=b=>V(b),Tr=b=>{var D=xe(b)+1,N=Wt(D);return Lt(b,N,D),N};G.createPreloadedFile=He,G.staticInit(),_e.doesNotExistError=new G.ErrnoError(44),_e.doesNotExistError.stack="<generic error, no stack>",f.noExitRuntime&&(Xe=f.noExitRuntime),f.preloadPlugins&&(Te=f.preloadPlugins),f.print&&(e=f.print),f.printErr&&(n=f.printErr),f.wasmBinary&&(a=f.wasmBinary),f.arguments&&($=f.arguments),f.thisProgram&&(y=f.thisProgram),f.FS=G;var Et={c:lt,h:rt,i:bt,p:Tt,k:fr,l:vr,m:yr,d:Zt,n:nr,o:br,a:$t,b:$r,g:Er,e:yt,f:Mr,j:Kt},wt=await fe();wt.r;var T=f._main=wt.s,B=wt.t,V=wt.u;function J(b=[]){var D=T;b.unshift(y);var N=b.length,K=Wt((N+1)*4),ie=K;b.forEach(pe=>{A[ie>>2]=Tr(pe),ie+=4}),A[ie>>2]=0;try{var ce=D(N,K);return Yt(ce,!0),ce}catch(pe){return Rt(pe)}}function le(b=$){if(l>0){_=le;return}if(R(),l>0){_=le;return}function D(){if(f.calledRun=!0,!d){g(),x(f),f.onRuntimeInitialized?.();var N=f.noInitialRun||!1;N||J(b),w()}}f.setStatus?(f.setStatus("Running..."),setTimeout(()=>{setTimeout(()=>f.setStatus(""),1),D()},1)):D()}function ge(){if(f.preInit)for(typeof f.preInit=="function"&&(f.preInit=[f.preInit]);f.preInit.length>0;)f.preInit.shift()()}return ge(),le(),Q=M,Q},So=async function(te={}){var Q,f=te,x,W,M=new Promise((T,B)=>{x=T,W=B}),$=[],y="./this.program",s=(T,B)=>{throw B},h=import.meta.url,o="";function r(T){return f.locateFile?f.locateFile(T,o):o+T}var i,t;{try{o=new URL(".",h).href}catch{}i=async T=>{var B=await fetch(T,{credentials:"same-origin"});if(B.ok)return B.arrayBuffer();throw new Error(B.status+" : "+B.url)}}var e=console.log.bind(console),n=console.error.bind(console),a,c,d=!1,k,v,p,u,m,A,S;function C(){var T=c.buffer;v=new Int8Array(T),u=new Int16Array(T),p=new Uint8Array(T),m=new Int32Array(T),A=new Uint32Array(T),S=new BigInt64Array(T),new BigUint64Array(T)}function R(){if(f.preRun)for(typeof f.preRun=="function"&&(f.preRun=[f.preRun]);f.preRun.length;)We(f.preRun.shift());Se(Pe)}function g(){!f.noFSInit&&!z.initialized&&z.init(),yt.o(),z.ignorePermissions=!1}function w(){if(f.postRun)for(typeof f.postRun=="function"&&(f.postRun=[f.postRun]);f.postRun.length;)De(f.postRun.shift());Se(Ce)}var l=0,_=null;function L(T){l++,f.monitorRunDependencies?.(l)}function F(T){if(l--,f.monitorRunDependencies?.(l),l==0&&_){var B=_;_=null,B()}}function U(T){f.onAbort?.(T),T="Aborted("+T+")",n(T),d=!0,T+=". Build with -sASSERTIONS for more info.";var B=new WebAssembly.RuntimeError(T);throw W(B),B}var H;function X(){return f.locateFile?r("rgbfix.wasm"):new URL(""+new URL("rgbfix-BaTj6V6I.wasm",import.meta.url).href,import.meta.url).href}function q(T){if(T==H&&a)return new Uint8Array(a);throw"both async and sync fetching of the wasm failed"}async function Z(T){if(!a)try{var B=await i(T);return new Uint8Array(B)}catch{}return q(T)}async function oe(T,B){try{var V=await Z(T),J=await WebAssembly.instantiate(V,B);return J}catch(le){n(`failed to asynchronously prepare wasm: ${le}`),U(le)}}async function ee(T,B,V){if(!T&&typeof WebAssembly.instantiateStreaming=="function")try{var J=fetch(B,{credentials:"same-origin"}),le=await WebAssembly.instantiateStreaming(J,V);return le}catch(ge){n(`wasm streaming compile failed: ${ge}`),n("falling back to ArrayBuffer instantiation")}return oe(B,V)}function se(){return{a:Cr}}async function fe(){function T(ge,b){return yt=ge.exports,c=yt.n,C(),F(),yt}L();function B(ge){return T(ge.instance)}var V=se();if(f.instantiateWasm)return new Promise((ge,b)=>{f.instantiateWasm(V,(D,N)=>{ge(T(D))})});H??=X();try{var J=await ee(a,H,V),le=B(J);return le}catch(ge){return W(ge),Promise.reject(ge)}}class Ee{name="ExitStatus";constructor(B){this.message=`Program terminated with exit(${B})`,this.status=B}}var Se=T=>{for(;T.length>0;)T.shift()(f)},Ce=[],De=T=>Ce.push(T),Pe=[],We=T=>Pe.push(T),Xe=!0,O={isAbs:T=>T.charAt(0)==="/",splitPath:T=>{var B=/^(\/?|)([\s\S]*?)((?:\.{1,2}|[^\/]+?|)(\.[^.\/]*|))(?:[\/]*)$/;return B.exec(T).slice(1)},normalizeArray:(T,B)=>{for(var V=0,J=T.length-1;J>=0;J--){var le=T[J];le==="."?T.splice(J,1):le===".."?(T.splice(J,1),V++):V&&(T.splice(J,1),V--)}if(B)for(;V;V--)T.unshift("..");return T},normalize:T=>{var B=O.isAbs(T),V=T.slice(-1)==="/";return T=O.normalizeArray(T.split("/").filter(J=>!!J),!B).join("/"),!T&&!B&&(T="."),T&&V&&(T+="/"),(B?"/":"")+T},dirname:T=>{var B=O.splitPath(T),V=B[0],J=B[1];return!V&&!J?".":(J&&(J=J.slice(0,-1)),V+J)},basename:T=>T&&T.match(/([^\/]+|\/)\/*$/)[1],join:(...T)=>O.normalize(T.join("/")),join2:(T,B)=>O.normalize(T+"/"+B)},be=()=>T=>crypto.getRandomValues(T),he=T=>{(he=be())(T)},ae={resolve:(...T)=>{for(var B="",V=!1,J=T.length-1;J>=-1&&!V;J--){var le=J>=0?T[J]:z.cwd();if(typeof le!="string")throw new TypeError("Arguments to path.resolve must be strings");if(!le)return"";B=le+"/"+B,V=O.isAbs(le)}return B=O.normalizeArray(B.split("/").filter(ge=>!!ge),!V).join("/"),(V?"/":"")+B||"."},relative:(T,B)=>{T=ae.resolve(T).slice(1),B=ae.resolve(B).slice(1);function V(K){for(var ie=0;ie<K.length&&K[ie]==="";ie++);for(var ce=K.length-1;ce>=0&&K[ce]==="";ce--);return ie>ce?[]:K.slice(ie,ce-ie+1)}for(var J=V(T.split("/")),le=V(B.split("/")),ge=Math.min(J.length,le.length),b=ge,D=0;D<ge;D++)if(J[D]!==le[D]){b=D;break}for(var N=[],D=b;D<J.length;D++)N.push("..");return N=N.concat(le.slice(b)),N.join("/")}},ne=typeof TextDecoder<"u"?new TextDecoder:void 0,de=(T,B=0,V=NaN)=>{for(var J=B+V,le=B;T[le]&&!(le>=J);)++le;if(le-B>16&&T.buffer&&ne)return ne.decode(T.subarray(B,le));for(var ge="";B<le;){var b=T[B++];if(!(b&128)){ge+=String.fromCharCode(b);continue}var D=T[B++]&63;if((b&224)==192){ge+=String.fromCharCode((b&31)<<6|D);continue}var N=T[B++]&63;if((b&240)==224?b=(b&15)<<12|D<<6|N:b=(b&7)<<18|D<<12|N<<6|T[B++]&63,b<65536)ge+=String.fromCharCode(b);else{var K=b-65536;ge+=String.fromCharCode(55296|K>>10,56320|K&1023)}}return ge},Me=[],ke=T=>{for(var B=0,V=0;V<T.length;++V){var J=T.charCodeAt(V);J<=127?B++:J<=2047?B+=2:J>=55296&&J<=57343?(B+=4,++V):B+=3}return B},we=(T,B,V,J)=>{if(!(J>0))return 0;for(var le=V,ge=V+J-1,b=0;b<T.length;++b){var D=T.charCodeAt(b);if(D>=55296&&D<=57343){var N=T.charCodeAt(++b);D=65536+((D&1023)<<10)|N&1023}if(D<=127){if(V>=ge)break;B[V++]=D}else if(D<=2047){if(V+1>=ge)break;B[V++]=192|D>>6,B[V++]=128|D&63}else if(D<=65535){if(V+2>=ge)break;B[V++]=224|D>>12,B[V++]=128|D>>6&63,B[V++]=128|D&63}else{if(V+3>=ge)break;B[V++]=240|D>>18,B[V++]=128|D>>12&63,B[V++]=128|D>>6&63,B[V++]=128|D&63}}return B[V]=0,V-le},xe=(T,B,V)=>{var J=ke(T)+1,le=new Array(J),ge=we(T,le,0,le.length);return le.length=ge,le},Ne=()=>{if(!Me.length){var T=null;if(typeof window<"u"&&typeof window.prompt=="function"&&(T=window.prompt("Input: "),T!==null&&(T+=`
`)),!T)return null;Me=xe(T)}return Me.shift()},Ie={ttys:[],init(){},shutdown(){},register(T,B){Ie.ttys[T]={input:[],output:[],ops:B},z.registerDevice(T,Ie.stream_ops)},stream_ops:{open(T){var B=Ie.ttys[T.node.rdev];if(!B)throw new z.ErrnoError(43);T.tty=B,T.seekable=!1},close(T){T.tty.ops.fsync(T.tty)},fsync(T){T.tty.ops.fsync(T.tty)},read(T,B,V,J,le){if(!T.tty||!T.tty.ops.get_char)throw new z.ErrnoError(60);for(var ge=0,b=0;b<J;b++){var D;try{D=T.tty.ops.get_char(T.tty)}catch{throw new z.ErrnoError(29)}if(D===void 0&&ge===0)throw new z.ErrnoError(6);if(D==null)break;ge++,B[V+b]=D}return ge&&(T.node.atime=Date.now()),ge},write(T,B,V,J,le){if(!T.tty||!T.tty.ops.put_char)throw new z.ErrnoError(60);try{for(var ge=0;ge<J;ge++)T.tty.ops.put_char(T.tty,B[V+ge])}catch{throw new z.ErrnoError(29)}return J&&(T.node.mtime=T.node.ctime=Date.now()),ge}},default_tty_ops:{get_char(T){return Ne()},put_char(T,B){B===null||B===10?(e(de(T.output)),T.output=[]):B!=0&&T.output.push(B)},fsync(T){T.output?.length>0&&(e(de(T.output)),T.output=[])},ioctl_tcgets(T){return{c_iflag:25856,c_oflag:5,c_cflag:191,c_lflag:35387,c_cc:[3,28,127,21,4,0,1,0,17,19,26,0,18,15,23,22,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0]}},ioctl_tcsets(T,B,V){return 0},ioctl_tiocgwinsz(T){return[24,80]}},default_tty1_ops:{put_char(T,B){B===null||B===10?(n(de(T.output)),T.output=[]):B!=0&&T.output.push(B)},fsync(T){T.output?.length>0&&(n(de(T.output)),T.output=[])}}},ye=T=>{U()},Ae={ops_table:null,mount(T){return Ae.createNode(null,"/",16895,0)},createNode(T,B,V,J){if(z.isBlkdev(V)||z.isFIFO(V))throw new z.ErrnoError(63);Ae.ops_table||={dir:{node:{getattr:Ae.node_ops.getattr,setattr:Ae.node_ops.setattr,lookup:Ae.node_ops.lookup,mknod:Ae.node_ops.mknod,rename:Ae.node_ops.rename,unlink:Ae.node_ops.unlink,rmdir:Ae.node_ops.rmdir,readdir:Ae.node_ops.readdir,symlink:Ae.node_ops.symlink},stream:{llseek:Ae.stream_ops.llseek}},file:{node:{getattr:Ae.node_ops.getattr,setattr:Ae.node_ops.setattr},stream:{llseek:Ae.stream_ops.llseek,read:Ae.stream_ops.read,write:Ae.stream_ops.write,mmap:Ae.stream_ops.mmap,msync:Ae.stream_ops.msync}},link:{node:{getattr:Ae.node_ops.getattr,setattr:Ae.node_ops.setattr,readlink:Ae.node_ops.readlink},stream:{}},chrdev:{node:{getattr:Ae.node_ops.getattr,setattr:Ae.node_ops.setattr},stream:z.chrdev_stream_ops}};var le=z.createNode(T,B,V,J);return z.isDir(le.mode)?(le.node_ops=Ae.ops_table.dir.node,le.stream_ops=Ae.ops_table.dir.stream,le.contents={}):z.isFile(le.mode)?(le.node_ops=Ae.ops_table.file.node,le.stream_ops=Ae.ops_table.file.stream,le.usedBytes=0,le.contents=null):z.isLink(le.mode)?(le.node_ops=Ae.ops_table.link.node,le.stream_ops=Ae.ops_table.link.stream):z.isChrdev(le.mode)&&(le.node_ops=Ae.ops_table.chrdev.node,le.stream_ops=Ae.ops_table.chrdev.stream),le.atime=le.mtime=le.ctime=Date.now(),T&&(T.contents[B]=le,T.atime=T.mtime=T.ctime=le.atime),le},getFileDataAsTypedArray(T){return T.contents?T.contents.subarray?T.contents.subarray(0,T.usedBytes):new Uint8Array(T.contents):new Uint8Array(0)},expandFileStorage(T,B){var V=T.contents?T.contents.length:0;if(!(V>=B)){var J=1024*1024;B=Math.max(B,V*(V<J?2:1.125)>>>0),V!=0&&(B=Math.max(B,256));var le=T.contents;T.contents=new Uint8Array(B),T.usedBytes>0&&T.contents.set(le.subarray(0,T.usedBytes),0)}},resizeFileStorage(T,B){if(T.usedBytes!=B)if(B==0)T.contents=null,T.usedBytes=0;else{var V=T.contents;T.contents=new Uint8Array(B),V&&T.contents.set(V.subarray(0,Math.min(B,T.usedBytes))),T.usedBytes=B}},node_ops:{getattr(T){var B={};return B.dev=z.isChrdev(T.mode)?T.id:1,B.ino=T.id,B.mode=T.mode,B.nlink=1,B.uid=0,B.gid=0,B.rdev=T.rdev,z.isDir(T.mode)?B.size=4096:z.isFile(T.mode)?B.size=T.usedBytes:z.isLink(T.mode)?B.size=T.link.length:B.size=0,B.atime=new Date(T.atime),B.mtime=new Date(T.mtime),B.ctime=new Date(T.ctime),B.blksize=4096,B.blocks=Math.ceil(B.size/B.blksize),B},setattr(T,B){for(const V of["mode","atime","mtime","ctime"])B[V]!=null&&(T[V]=B[V]);B.size!==void 0&&Ae.resizeFileStorage(T,B.size)},lookup(T,B){throw Ae.doesNotExistError},mknod(T,B,V,J){return Ae.createNode(T,B,V,J)},rename(T,B,V){var J;try{J=z.lookupNode(B,V)}catch{}if(J){if(z.isDir(T.mode))for(var le in J.contents)throw new z.ErrnoError(55);z.hashRemoveNode(J)}delete T.parent.contents[T.name],B.contents[V]=T,T.name=V,B.ctime=B.mtime=T.parent.ctime=T.parent.mtime=Date.now()},unlink(T,B){delete T.contents[B],T.ctime=T.mtime=Date.now()},rmdir(T,B){var V=z.lookupNode(T,B);for(var J in V.contents)throw new z.ErrnoError(55);delete T.contents[B],T.ctime=T.mtime=Date.now()},readdir(T){return[".","..",...Object.keys(T.contents)]},symlink(T,B,V){var J=Ae.createNode(T,B,41471,0);return J.link=V,J},readlink(T){if(!z.isLink(T.mode))throw new z.ErrnoError(28);return T.link}},stream_ops:{read(T,B,V,J,le){var ge=T.node.contents;if(le>=T.node.usedBytes)return 0;var b=Math.min(T.node.usedBytes-le,J);if(b>8&&ge.subarray)B.set(ge.subarray(le,le+b),V);else for(var D=0;D<b;D++)B[V+D]=ge[le+D];return b},write(T,B,V,J,le,ge){if(B.buffer===v.buffer&&(ge=!1),!J)return 0;var b=T.node;if(b.mtime=b.ctime=Date.now(),B.subarray&&(!b.contents||b.contents.subarray)){if(ge)return b.contents=B.subarray(V,V+J),b.usedBytes=J,J;if(b.usedBytes===0&&le===0)return b.contents=B.slice(V,V+J),b.usedBytes=J,J;if(le+J<=b.usedBytes)return b.contents.set(B.subarray(V,V+J),le),J}if(Ae.expandFileStorage(b,le+J),b.contents.subarray&&B.subarray)b.contents.set(B.subarray(V,V+J),le);else for(var D=0;D<J;D++)b.contents[le+D]=B[V+D];return b.usedBytes=Math.max(b.usedBytes,le+J),J},llseek(T,B,V){var J=B;if(V===1?J+=T.position:V===2&&z.isFile(T.node.mode)&&(J+=T.node.usedBytes),J<0)throw new z.ErrnoError(28);return J},mmap(T,B,V,J,le){if(!z.isFile(T.node.mode))throw new z.ErrnoError(43);var ge,b,D=T.node.contents;if(!(le&2)&&D&&D.buffer===v.buffer)b=!1,ge=D.byteOffset;else{if(b=!0,ge=ye(),!ge)throw new z.ErrnoError(48);D&&((V>0||V+B<D.length)&&(D.subarray?D=D.subarray(V,V+B):D=Array.prototype.slice.call(D,V,V+B)),v.set(D,ge))}return{ptr:ge,allocated:b}},msync(T,B,V,J,le){return Ae.stream_ops.write(T,B,0,J,V,!1),0}}},Fe=async T=>{var B=await i(T);return new Uint8Array(B)},_e=(...T)=>z.createDataFile(...T),Ye=[],Oe=(T,B,V,J)=>{typeof Browser<"u"&&Browser.init();var le=!1;return Ye.forEach(ge=>{le||ge.canHandle(B)&&(ge.handle(T,B,V,J),le=!0)}),le},Te=(T,B,V,J,le,ge,b,D,N,K)=>{var ie=B?ae.resolve(O.join2(T,B)):T;function ce(pe){function me(Re){K?.(),D||_e(T,B,Re,J,le,N),ge?.(),F()}Oe(pe,ie,me,()=>{b?.(),F()})||me(pe)}L(),typeof V=="string"?Fe(V).then(ce,b):ce(V)},Le=T=>{var B={r:0,"r+":2,w:577,"w+":578,a:1089,"a+":1090},V=B[T];if(typeof V>"u")throw new Error(`Unknown file open mode: ${T}`);return V},He=(T,B)=>{var V=0;return T&&(V|=365),B&&(V|=146),V},z={root:null,mounts:[],devices:{},streams:[],nextInode:1,nameTable:null,currentPath:"/",initialized:!1,ignorePermissions:!0,filesystems:null,syncFSRequests:0,readFiles:{},ErrnoError:class{name="ErrnoError";constructor(T){this.errno=T}},FSStream:class{shared={};get object(){return this.node}set object(T){this.node=T}get isRead(){return(this.flags&2097155)!==1}get isWrite(){return(this.flags&2097155)!==0}get isAppend(){return this.flags&1024}get flags(){return this.shared.flags}set flags(T){this.shared.flags=T}get position(){return this.shared.position}set position(T){this.shared.position=T}},FSNode:class{node_ops={};stream_ops={};readMode=365;writeMode=146;mounted=null;constructor(T,B,V,J){T||(T=this),this.parent=T,this.mount=T.mount,this.id=z.nextInode++,this.name=B,this.mode=V,this.rdev=J,this.atime=this.mtime=this.ctime=Date.now()}get read(){return(this.mode&this.readMode)===this.readMode}set read(T){T?this.mode|=this.readMode:this.mode&=~this.readMode}get write(){return(this.mode&this.writeMode)===this.writeMode}set write(T){T?this.mode|=this.writeMode:this.mode&=~this.writeMode}get isFolder(){return z.isDir(this.mode)}get isDevice(){return z.isChrdev(this.mode)}},lookupPath(T,B={}){if(!T)throw new z.ErrnoError(44);B.follow_mount??=!0,O.isAbs(T)||(T=z.cwd()+"/"+T);e:for(var V=0;V<40;V++){for(var J=T.split("/").filter(K=>!!K),le=z.root,ge="/",b=0;b<J.length;b++){var D=b===J.length-1;if(D&&B.parent)break;if(J[b]!=="."){if(J[b]===".."){if(ge=O.dirname(ge),z.isRoot(le)){T=ge+"/"+J.slice(b+1).join("/");continue e}else le=le.parent;continue}ge=O.join2(ge,J[b]);try{le=z.lookupNode(le,J[b])}catch(K){if(K?.errno===44&&D&&B.noent_okay)return{path:ge};throw K}if(z.isMountpoint(le)&&(!D||B.follow_mount)&&(le=le.mounted.root),z.isLink(le.mode)&&(!D||B.follow)){if(!le.node_ops.readlink)throw new z.ErrnoError(52);var N=le.node_ops.readlink(le);O.isAbs(N)||(N=O.dirname(ge)+"/"+N),T=N+"/"+J.slice(b+1).join("/");continue e}}}return{path:ge,node:le}}throw new z.ErrnoError(32)},getPath(T){for(var B;;){if(z.isRoot(T)){var V=T.mount.mountpoint;return B?V[V.length-1]!=="/"?`${V}/${B}`:V+B:V}B=B?`${T.name}/${B}`:T.name,T=T.parent}},hashName(T,B){for(var V=0,J=0;J<B.length;J++)V=(V<<5)-V+B.charCodeAt(J)|0;return(T+V>>>0)%z.nameTable.length},hashAddNode(T){var B=z.hashName(T.parent.id,T.name);T.name_next=z.nameTable[B],z.nameTable[B]=T},hashRemoveNode(T){var B=z.hashName(T.parent.id,T.name);if(z.nameTable[B]===T)z.nameTable[B]=T.name_next;else for(var V=z.nameTable[B];V;){if(V.name_next===T){V.name_next=T.name_next;break}V=V.name_next}},lookupNode(T,B){var V=z.mayLookup(T);if(V)throw new z.ErrnoError(V);for(var J=z.hashName(T.id,B),le=z.nameTable[J];le;le=le.name_next){var ge=le.name;if(le.parent.id===T.id&&ge===B)return le}return z.lookup(T,B)},createNode(T,B,V,J){var le=new z.FSNode(T,B,V,J);return z.hashAddNode(le),le},destroyNode(T){z.hashRemoveNode(T)},isRoot(T){return T===T.parent},isMountpoint(T){return!!T.mounted},isFile(T){return(T&61440)===32768},isDir(T){return(T&61440)===16384},isLink(T){return(T&61440)===40960},isChrdev(T){return(T&61440)===8192},isBlkdev(T){return(T&61440)===24576},isFIFO(T){return(T&61440)===4096},isSocket(T){return(T&49152)===49152},flagsToPermissionString(T){var B=["r","w","rw"][T&3];return T&512&&(B+="w"),B},nodePermissions(T,B){return z.ignorePermissions?0:B.includes("r")&&!(T.mode&292)||B.includes("w")&&!(T.mode&146)||B.includes("x")&&!(T.mode&73)?2:0},mayLookup(T){if(!z.isDir(T.mode))return 54;var B=z.nodePermissions(T,"x");return B||(T.node_ops.lookup?0:2)},mayCreate(T,B){if(!z.isDir(T.mode))return 54;try{var V=z.lookupNode(T,B);return 20}catch{}return z.nodePermissions(T,"wx")},mayDelete(T,B,V){var J;try{J=z.lookupNode(T,B)}catch(ge){return ge.errno}var le=z.nodePermissions(T,"wx");if(le)return le;if(V){if(!z.isDir(J.mode))return 54;if(z.isRoot(J)||z.getPath(J)===z.cwd())return 10}else if(z.isDir(J.mode))return 31;return 0},mayOpen(T,B){return T?z.isLink(T.mode)?32:z.isDir(T.mode)&&(z.flagsToPermissionString(B)!=="r"||B&576)?31:z.nodePermissions(T,z.flagsToPermissionString(B)):44},checkOpExists(T,B){if(!T)throw new z.ErrnoError(B);return T},MAX_OPEN_FDS:4096,nextfd(){for(var T=0;T<=z.MAX_OPEN_FDS;T++)if(!z.streams[T])return T;throw new z.ErrnoError(33)},getStreamChecked(T){var B=z.getStream(T);if(!B)throw new z.ErrnoError(8);return B},getStream:T=>z.streams[T],createStream(T,B=-1){return T=Object.assign(new z.FSStream,T),B==-1&&(B=z.nextfd()),T.fd=B,z.streams[B]=T,T},closeStream(T){z.streams[T]=null},dupStream(T,B=-1){var V=z.createStream(T,B);return V.stream_ops?.dup?.(V),V},doSetAttr(T,B,V){var J=T?.stream_ops.setattr,le=J?T:B;J??=B.node_ops.setattr,z.checkOpExists(J,63),J(le,V)},chrdev_stream_ops:{open(T){var B=z.getDevice(T.node.rdev);T.stream_ops=B.stream_ops,T.stream_ops.open?.(T)},llseek(){throw new z.ErrnoError(70)}},major:T=>T>>8,minor:T=>T&255,makedev:(T,B)=>T<<8|B,registerDevice(T,B){z.devices[T]={stream_ops:B}},getDevice:T=>z.devices[T],getMounts(T){for(var B=[],V=[T];V.length;){var J=V.pop();B.push(J),V.push(...J.mounts)}return B},syncfs(T,B){typeof T=="function"&&(B=T,T=!1),z.syncFSRequests++,z.syncFSRequests>1&&n(`warning: ${z.syncFSRequests} FS.syncfs operations in flight at once, probably just doing extra work`);var V=z.getMounts(z.root.mount),J=0;function le(b){return z.syncFSRequests--,B(b)}function ge(b){if(b)return ge.errored?void 0:(ge.errored=!0,le(b));++J>=V.length&&le(null)}V.forEach(b=>{if(!b.type.syncfs)return ge(null);b.type.syncfs(b,T,ge)})},mount(T,B,V){var J=V==="/",le=!V,ge;if(J&&z.root)throw new z.ErrnoError(10);if(!J&&!le){var b=z.lookupPath(V,{follow_mount:!1});if(V=b.path,ge=b.node,z.isMountpoint(ge))throw new z.ErrnoError(10);if(!z.isDir(ge.mode))throw new z.ErrnoError(54)}var D={type:T,opts:B,mountpoint:V,mounts:[]},N=T.mount(D);return N.mount=D,D.root=N,J?z.root=N:ge&&(ge.mounted=D,ge.mount&&ge.mount.mounts.push(D)),N},unmount(T){var B=z.lookupPath(T,{follow_mount:!1});if(!z.isMountpoint(B.node))throw new z.ErrnoError(28);var V=B.node,J=V.mounted,le=z.getMounts(J);Object.keys(z.nameTable).forEach(b=>{for(var D=z.nameTable[b];D;){var N=D.name_next;le.includes(D.mount)&&z.destroyNode(D),D=N}}),V.mounted=null;var ge=V.mount.mounts.indexOf(J);V.mount.mounts.splice(ge,1)},lookup(T,B){return T.node_ops.lookup(T,B)},mknod(T,B,V){var J=z.lookupPath(T,{parent:!0}),le=J.node,ge=O.basename(T);if(!ge)throw new z.ErrnoError(28);if(ge==="."||ge==="..")throw new z.ErrnoError(20);var b=z.mayCreate(le,ge);if(b)throw new z.ErrnoError(b);if(!le.node_ops.mknod)throw new z.ErrnoError(63);return le.node_ops.mknod(le,ge,B,V)},statfs(T){return z.statfsNode(z.lookupPath(T,{follow:!0}).node)},statfsStream(T){return z.statfsNode(T.node)},statfsNode(T){var B={bsize:4096,frsize:4096,blocks:1e6,bfree:5e5,bavail:5e5,files:z.nextInode,ffree:z.nextInode-1,fsid:42,flags:2,namelen:255};return T.node_ops.statfs&&Object.assign(B,T.node_ops.statfs(T.mount.opts.root)),B},create(T,B=438){return B&=4095,B|=32768,z.mknod(T,B,0)},mkdir(T,B=511){return B&=1023,B|=16384,z.mknod(T,B,0)},mkdirTree(T,B){var V=T.split("/"),J="";for(var le of V)if(le){(J||O.isAbs(T))&&(J+="/"),J+=le;try{z.mkdir(J,B)}catch(ge){if(ge.errno!=20)throw ge}}},mkdev(T,B,V){return typeof V>"u"&&(V=B,B=438),B|=8192,z.mknod(T,B,V)},symlink(T,B){if(!ae.resolve(T))throw new z.ErrnoError(44);var V=z.lookupPath(B,{parent:!0}),J=V.node;if(!J)throw new z.ErrnoError(44);var le=O.basename(B),ge=z.mayCreate(J,le);if(ge)throw new z.ErrnoError(ge);if(!J.node_ops.symlink)throw new z.ErrnoError(63);return J.node_ops.symlink(J,le,T)},rename(T,B){var V=O.dirname(T),J=O.dirname(B),le=O.basename(T),ge=O.basename(B),b,D,N;if(b=z.lookupPath(T,{parent:!0}),D=b.node,b=z.lookupPath(B,{parent:!0}),N=b.node,!D||!N)throw new z.ErrnoError(44);if(D.mount!==N.mount)throw new z.ErrnoError(75);var K=z.lookupNode(D,le),ie=ae.relative(T,J);if(ie.charAt(0)!==".")throw new z.ErrnoError(28);if(ie=ae.relative(B,V),ie.charAt(0)!==".")throw new z.ErrnoError(55);var ce;try{ce=z.lookupNode(N,ge)}catch{}if(K!==ce){var pe=z.isDir(K.mode),me=z.mayDelete(D,le,pe);if(me)throw new z.ErrnoError(me);if(me=ce?z.mayDelete(N,ge,pe):z.mayCreate(N,ge),me)throw new z.ErrnoError(me);if(!D.node_ops.rename)throw new z.ErrnoError(63);if(z.isMountpoint(K)||ce&&z.isMountpoint(ce))throw new z.ErrnoError(10);if(N!==D&&(me=z.nodePermissions(D,"w"),me))throw new z.ErrnoError(me);z.hashRemoveNode(K);try{D.node_ops.rename(K,N,ge),K.parent=N}catch(Re){throw Re}finally{z.hashAddNode(K)}}},rmdir(T){var B=z.lookupPath(T,{parent:!0}),V=B.node,J=O.basename(T),le=z.lookupNode(V,J),ge=z.mayDelete(V,J,!0);if(ge)throw new z.ErrnoError(ge);if(!V.node_ops.rmdir)throw new z.ErrnoError(63);if(z.isMountpoint(le))throw new z.ErrnoError(10);V.node_ops.rmdir(V,J),z.destroyNode(le)},readdir(T){var B=z.lookupPath(T,{follow:!0}),V=B.node,J=z.checkOpExists(V.node_ops.readdir,54);return J(V)},unlink(T){var B=z.lookupPath(T,{parent:!0}),V=B.node;if(!V)throw new z.ErrnoError(44);var J=O.basename(T),le=z.lookupNode(V,J),ge=z.mayDelete(V,J,!1);if(ge)throw new z.ErrnoError(ge);if(!V.node_ops.unlink)throw new z.ErrnoError(63);if(z.isMountpoint(le))throw new z.ErrnoError(10);V.node_ops.unlink(V,J),z.destroyNode(le)},readlink(T){var B=z.lookupPath(T),V=B.node;if(!V)throw new z.ErrnoError(44);if(!V.node_ops.readlink)throw new z.ErrnoError(28);return V.node_ops.readlink(V)},stat(T,B){var V=z.lookupPath(T,{follow:!B}),J=V.node,le=z.checkOpExists(J.node_ops.getattr,63);return le(J)},fstat(T){var B=z.getStreamChecked(T),V=B.node,J=B.stream_ops.getattr,le=J?B:V;return J??=V.node_ops.getattr,z.checkOpExists(J,63),J(le)},lstat(T){return z.stat(T,!0)},doChmod(T,B,V,J){z.doSetAttr(T,B,{mode:V&4095|B.mode&-4096,ctime:Date.now(),dontFollow:J})},chmod(T,B,V){var J;if(typeof T=="string"){var le=z.lookupPath(T,{follow:!V});J=le.node}else J=T;z.doChmod(null,J,B,V)},lchmod(T,B){z.chmod(T,B,!0)},fchmod(T,B){var V=z.getStreamChecked(T);z.doChmod(V,V.node,B,!1)},doChown(T,B,V){z.doSetAttr(T,B,{timestamp:Date.now(),dontFollow:V})},chown(T,B,V,J){var le;if(typeof T=="string"){var ge=z.lookupPath(T,{follow:!J});le=ge.node}else le=T;z.doChown(null,le,J)},lchown(T,B,V){z.chown(T,B,V,!0)},fchown(T,B,V){var J=z.getStreamChecked(T);z.doChown(J,J.node,!1)},doTruncate(T,B,V){if(z.isDir(B.mode))throw new z.ErrnoError(31);if(!z.isFile(B.mode))throw new z.ErrnoError(28);var J=z.nodePermissions(B,"w");if(J)throw new z.ErrnoError(J);z.doSetAttr(T,B,{size:V,timestamp:Date.now()})},truncate(T,B){if(B<0)throw new z.ErrnoError(28);var V;if(typeof T=="string"){var J=z.lookupPath(T,{follow:!0});V=J.node}else V=T;z.doTruncate(null,V,B)},ftruncate(T,B){var V=z.getStreamChecked(T);if(B<0||(V.flags&2097155)===0)throw new z.ErrnoError(28);z.doTruncate(V,V.node,B)},utime(T,B,V){var J=z.lookupPath(T,{follow:!0}),le=J.node,ge=z.checkOpExists(le.node_ops.setattr,63);ge(le,{atime:B,mtime:V})},open(T,B,V=438){if(T==="")throw new z.ErrnoError(44);B=typeof B=="string"?Le(B):B,B&64?V=V&4095|32768:V=0;var J,le;if(typeof T=="object")J=T;else{le=T.endsWith("/");var ge=z.lookupPath(T,{follow:!(B&131072),noent_okay:!0});J=ge.node,T=ge.path}var b=!1;if(B&64)if(J){if(B&128)throw new z.ErrnoError(20)}else{if(le)throw new z.ErrnoError(31);J=z.mknod(T,V|511,0),b=!0}if(!J)throw new z.ErrnoError(44);if(z.isChrdev(J.mode)&&(B&=-513),B&65536&&!z.isDir(J.mode))throw new z.ErrnoError(54);if(!b){var D=z.mayOpen(J,B);if(D)throw new z.ErrnoError(D)}B&512&&!b&&z.truncate(J,0),B&=-131713;var N=z.createStream({node:J,path:z.getPath(J),flags:B,seekable:!0,position:0,stream_ops:J.stream_ops,ungotten:[],error:!1});return N.stream_ops.open&&N.stream_ops.open(N),b&&z.chmod(J,V&511),f.logReadFiles&&!(B&1)&&(T in z.readFiles||(z.readFiles[T]=1)),N},close(T){if(z.isClosed(T))throw new z.ErrnoError(8);T.getdents&&(T.getdents=null);try{T.stream_ops.close&&T.stream_ops.close(T)}catch(B){throw B}finally{z.closeStream(T.fd)}T.fd=null},isClosed(T){return T.fd===null},llseek(T,B,V){if(z.isClosed(T))throw new z.ErrnoError(8);if(!T.seekable||!T.stream_ops.llseek)throw new z.ErrnoError(70);if(V!=0&&V!=1&&V!=2)throw new z.ErrnoError(28);return T.position=T.stream_ops.llseek(T,B,V),T.ungotten=[],T.position},read(T,B,V,J,le){if(J<0||le<0)throw new z.ErrnoError(28);if(z.isClosed(T))throw new z.ErrnoError(8);if((T.flags&2097155)===1)throw new z.ErrnoError(8);if(z.isDir(T.node.mode))throw new z.ErrnoError(31);if(!T.stream_ops.read)throw new z.ErrnoError(28);var ge=typeof le<"u";if(!ge)le=T.position;else if(!T.seekable)throw new z.ErrnoError(70);var b=T.stream_ops.read(T,B,V,J,le);return ge||(T.position+=b),b},write(T,B,V,J,le,ge){if(J<0||le<0)throw new z.ErrnoError(28);if(z.isClosed(T))throw new z.ErrnoError(8);if((T.flags&2097155)===0)throw new z.ErrnoError(8);if(z.isDir(T.node.mode))throw new z.ErrnoError(31);if(!T.stream_ops.write)throw new z.ErrnoError(28);T.seekable&&T.flags&1024&&z.llseek(T,0,2);var b=typeof le<"u";if(!b)le=T.position;else if(!T.seekable)throw new z.ErrnoError(70);var D=T.stream_ops.write(T,B,V,J,le,ge);return b||(T.position+=D),D},mmap(T,B,V,J,le){if((J&2)!==0&&(le&2)===0&&(T.flags&2097155)!==2)throw new z.ErrnoError(2);if((T.flags&2097155)===1)throw new z.ErrnoError(2);if(!T.stream_ops.mmap)throw new z.ErrnoError(43);if(!B)throw new z.ErrnoError(28);return T.stream_ops.mmap(T,B,V,J,le)},msync(T,B,V,J,le){return T.stream_ops.msync?T.stream_ops.msync(T,B,V,J,le):0},ioctl(T,B,V){if(!T.stream_ops.ioctl)throw new z.ErrnoError(59);return T.stream_ops.ioctl(T,B,V)},readFile(T,B={}){if(B.flags=B.flags||0,B.encoding=B.encoding||"binary",B.encoding!=="utf8"&&B.encoding!=="binary")throw new Error(`Invalid encoding type "${B.encoding}"`);var V,J=z.open(T,B.flags),le=z.stat(T),ge=le.size,b=new Uint8Array(ge);return z.read(J,b,0,ge,0),B.encoding==="utf8"?V=de(b):B.encoding==="binary"&&(V=b),z.close(J),V},writeFile(T,B,V={}){V.flags=V.flags||577;var J=z.open(T,V.flags,V.mode);if(typeof B=="string"){var le=new Uint8Array(ke(B)+1),ge=we(B,le,0,le.length);z.write(J,le,0,ge,void 0,V.canOwn)}else if(ArrayBuffer.isView(B))z.write(J,B,0,B.byteLength,void 0,V.canOwn);else throw new Error("Unsupported data type");z.close(J)},cwd:()=>z.currentPath,chdir(T){var B=z.lookupPath(T,{follow:!0});if(B.node===null)throw new z.ErrnoError(44);if(!z.isDir(B.node.mode))throw new z.ErrnoError(54);var V=z.nodePermissions(B.node,"x");if(V)throw new z.ErrnoError(V);z.currentPath=B.path},createDefaultDirectories(){z.mkdir("/tmp"),z.mkdir("/home"),z.mkdir("/home/web_user")},createDefaultDevices(){z.mkdir("/dev"),z.registerDevice(z.makedev(1,3),{read:()=>0,write:(J,le,ge,b,D)=>b,llseek:()=>0}),z.mkdev("/dev/null",z.makedev(1,3)),Ie.register(z.makedev(5,0),Ie.default_tty_ops),Ie.register(z.makedev(6,0),Ie.default_tty1_ops),z.mkdev("/dev/tty",z.makedev(5,0)),z.mkdev("/dev/tty1",z.makedev(6,0));var T=new Uint8Array(1024),B=0,V=()=>(B===0&&(he(T),B=T.byteLength),T[--B]);z.createDevice("/dev","random",V),z.createDevice("/dev","urandom",V),z.mkdir("/dev/shm"),z.mkdir("/dev/shm/tmp")},createSpecialDirectories(){z.mkdir("/proc");var T=z.mkdir("/proc/self");z.mkdir("/proc/self/fd"),z.mount({mount(){var B=z.createNode(T,"fd",16895,73);return B.stream_ops={llseek:Ae.stream_ops.llseek},B.node_ops={lookup(V,J){var le=+J,ge=z.getStreamChecked(le),b={parent:null,mount:{mountpoint:"fake"},node_ops:{readlink:()=>ge.path},id:le+1};return b.parent=b,b},readdir(){return Array.from(z.streams.entries()).filter(([V,J])=>J).map(([V,J])=>V.toString())}},B}},{},"/proc/self/fd")},createStandardStreams(T,B,V){T?z.createDevice("/dev","stdin",T):z.symlink("/dev/tty","/dev/stdin"),B?z.createDevice("/dev","stdout",null,B):z.symlink("/dev/tty","/dev/stdout"),V?z.createDevice("/dev","stderr",null,V):z.symlink("/dev/tty1","/dev/stderr"),z.open("/dev/stdin",0),z.open("/dev/stdout",1),z.open("/dev/stderr",1)},staticInit(){z.nameTable=new Array(4096),z.mount(Ae,{},"/"),z.createDefaultDirectories(),z.createDefaultDevices(),z.createSpecialDirectories(),z.filesystems={MEMFS:Ae}},init(T,B,V){z.initialized=!0,T??=f.stdin,B??=f.stdout,V??=f.stderr,z.createStandardStreams(T,B,V)},quit(){z.initialized=!1;for(var T of z.streams)T&&z.close(T)},findObject(T,B){var V=z.analyzePath(T,B);return V.exists?V.object:null},analyzePath(T,B){try{var V=z.lookupPath(T,{follow:!B});T=V.path}catch{}var J={isRoot:!1,exists:!1,error:0,name:null,path:null,object:null,parentExists:!1,parentPath:null,parentObject:null};try{var V=z.lookupPath(T,{parent:!0});J.parentExists=!0,J.parentPath=V.path,J.parentObject=V.node,J.name=O.basename(T),V=z.lookupPath(T,{follow:!B}),J.exists=!0,J.path=V.path,J.object=V.node,J.name=V.node.name,J.isRoot=V.path==="/"}catch(le){J.error=le.errno}return J},createPath(T,B,V,J){T=typeof T=="string"?T:z.getPath(T);for(var le=B.split("/").reverse();le.length;){var ge=le.pop();if(ge){var b=O.join2(T,ge);try{z.mkdir(b)}catch(D){if(D.errno!=20)throw D}T=b}}return b},createFile(T,B,V,J,le){var ge=O.join2(typeof T=="string"?T:z.getPath(T),B),b=He(J,le);return z.create(ge,b)},createDataFile(T,B,V,J,le,ge){var b=B;T&&(T=typeof T=="string"?T:z.getPath(T),b=B?O.join2(T,B):T);var D=He(J,le),N=z.create(b,D);if(V){if(typeof V=="string"){for(var K=new Array(V.length),ie=0,ce=V.length;ie<ce;++ie)K[ie]=V.charCodeAt(ie);V=K}z.chmod(N,D|146);var pe=z.open(N,577);z.write(pe,V,0,V.length,0,ge),z.close(pe),z.chmod(N,D)}},createDevice(T,B,V,J){var le=O.join2(typeof T=="string"?T:z.getPath(T),B),ge=He(!!V,!!J);z.createDevice.major??=64;var b=z.makedev(z.createDevice.major++,0);return z.registerDevice(b,{open(D){D.seekable=!1},close(D){J?.buffer?.length&&J(10)},read(D,N,K,ie,ce){for(var pe=0,me=0;me<ie;me++){var Re;try{Re=V()}catch{throw new z.ErrnoError(29)}if(Re===void 0&&pe===0)throw new z.ErrnoError(6);if(Re==null)break;pe++,N[K+me]=Re}return pe&&(D.node.atime=Date.now()),pe},write(D,N,K,ie,ce){for(var pe=0;pe<ie;pe++)try{J(N[K+pe])}catch{throw new z.ErrnoError(29)}return ie&&(D.node.mtime=D.node.ctime=Date.now()),pe}}),z.mkdev(le,ge,b)},forceLoadFile(T){if(T.isDevice||T.isFolder||T.link||T.contents)return!0;if(typeof XMLHttpRequest<"u")throw new Error("Lazy loading should have been performed (contents set) in createLazyFile, but it was not. Lazy loading only works in web workers. Use --embed-file or --preload-file in emcc on the main thread.");try{T.contents=t(T.url),T.usedBytes=T.contents.length}catch{throw new z.ErrnoError(29)}},createLazyFile(T,B,V,J,le){class ge{lengthKnown=!1;chunks=[];get(me){if(!(me>this.length-1||me<0)){var Re=me%this.chunkSize,ze=me/this.chunkSize|0;return this.getter(ze)[Re]}}setDataGetter(me){this.getter=me}cacheLength(){var me=new XMLHttpRequest;if(me.open("HEAD",V,!1),me.send(null),!(me.status>=200&&me.status<300||me.status===304))throw new Error("Couldn't load "+V+". Status: "+me.status);var Re=Number(me.getResponseHeader("Content-length")),ze,Je=(ze=me.getResponseHeader("Accept-Ranges"))&&ze==="bytes",Ze=(ze=me.getResponseHeader("Content-Encoding"))&&ze==="gzip",Ve=1024*1024;Je||(Ve=Re);var E=(P,Y)=>{if(P>Y)throw new Error("invalid range ("+P+", "+Y+") or no bytes requested!");if(Y>Re-1)throw new Error("only "+Re+" bytes available! programmer error!");var re=new XMLHttpRequest;if(re.open("GET",V,!1),Re!==Ve&&re.setRequestHeader("Range","bytes="+P+"-"+Y),re.responseType="arraybuffer",re.overrideMimeType&&re.overrideMimeType("text/plain; charset=x-user-defined"),re.send(null),!(re.status>=200&&re.status<300||re.status===304))throw new Error("Couldn't load "+V+". Status: "+re.status);return re.response!==void 0?new Uint8Array(re.response||[]):xe(re.responseText||"")},I=this;I.setDataGetter(P=>{var Y=P*Ve,re=(P+1)*Ve-1;if(re=Math.min(re,Re-1),typeof I.chunks[P]>"u"&&(I.chunks[P]=E(Y,re)),typeof I.chunks[P]>"u")throw new Error("doXHR failed!");return I.chunks[P]}),(Ze||!Re)&&(Ve=Re=1,Re=this.getter(0).length,Ve=Re,e("LazyFiles on gzip forces download of the whole file when length is accessed")),this._length=Re,this._chunkSize=Ve,this.lengthKnown=!0}get length(){return this.lengthKnown||this.cacheLength(),this._length}get chunkSize(){return this.lengthKnown||this.cacheLength(),this._chunkSize}}if(typeof XMLHttpRequest<"u"){throw"Cannot do synchronous binary XHRs outside webworkers in modern browsers. Use --embed-file or --preload-file in emcc";var b,D}else var D={isDevice:!1,url:V};var N=z.createFile(T,B,D,J,le);D.contents?N.contents=D.contents:D.url&&(N.contents=null,N.url=D.url),Object.defineProperties(N,{usedBytes:{get:function(){return this.contents.length}}});var K={},ie=Object.keys(N.stream_ops);ie.forEach(pe=>{var me=N.stream_ops[pe];K[pe]=(...Re)=>(z.forceLoadFile(N),me(...Re))});function ce(pe,me,Re,ze,Je){var Ze=pe.node.contents;if(Je>=Ze.length)return 0;var Ve=Math.min(Ze.length-Je,ze);if(Ze.slice)for(var E=0;E<Ve;E++)me[Re+E]=Ze[Je+E];else for(var E=0;E<Ve;E++)me[Re+E]=Ze.get(Je+E);return Ve}return K.read=(pe,me,Re,ze,Je)=>(z.forceLoadFile(N),ce(pe,me,Re,ze,Je)),K.mmap=(pe,me,Re,ze,Je)=>{z.forceLoadFile(N);var Ze=ye();if(!Ze)throw new z.ErrnoError(48);return ce(pe,v,Ze,me,Re),{ptr:Ze,allocated:!0}},N.stream_ops=K,N}},je=(T,B)=>T?de(p,T,B):"",G={DEFAULT_POLLMASK:5,calculateAt(T,B,V){if(O.isAbs(B))return B;var J;if(T===-100)J=z.cwd();else{var le=G.getStreamFromFD(T);J=le.path}if(B.length==0){if(!V)throw new z.ErrnoError(44);return J}return J+"/"+B},writeStat(T,B){m[T>>2]=B.dev,m[T+4>>2]=B.mode,A[T+8>>2]=B.nlink,m[T+12>>2]=B.uid,m[T+16>>2]=B.gid,m[T+20>>2]=B.rdev,S[T+24>>3]=BigInt(B.size),m[T+32>>2]=4096,m[T+36>>2]=B.blocks;var V=B.atime.getTime(),J=B.mtime.getTime(),le=B.ctime.getTime();return S[T+40>>3]=BigInt(Math.floor(V/1e3)),A[T+48>>2]=V%1e3*1e3*1e3,S[T+56>>3]=BigInt(Math.floor(J/1e3)),A[T+64>>2]=J%1e3*1e3*1e3,S[T+72>>3]=BigInt(Math.floor(le/1e3)),A[T+80>>2]=le%1e3*1e3*1e3,S[T+88>>3]=BigInt(B.ino),0},writeStatFs(T,B){m[T+4>>2]=B.bsize,m[T+40>>2]=B.bsize,m[T+8>>2]=B.blocks,m[T+12>>2]=B.bfree,m[T+16>>2]=B.bavail,m[T+20>>2]=B.files,m[T+24>>2]=B.ffree,m[T+28>>2]=B.fsid,m[T+44>>2]=B.flags,m[T+36>>2]=B.namelen},doMsync(T,B,V,J,le){if(!z.isFile(B.node.mode))throw new z.ErrnoError(43);if(J&2)return 0;var ge=p.slice(T,T+V);z.msync(B,ge,le,V,J)},getStreamFromFD(T){var B=z.getStreamChecked(T);return B},varargs:void 0,getStr(T){var B=je(T);return B}};function nt(T,B){try{return G.writeStat(B,z.fstat(T))}catch(V){if(typeof z>"u"||V.name!=="ErrnoError")throw V;return-V.errno}}var j=()=>{var T=m[+G.varargs>>2];return G.varargs+=4,T},lt=j;function rt(T,B,V){G.varargs=V;try{var J=G.getStreamFromFD(T);switch(B){case 21509:return J.tty?0:-59;case 21505:{if(!J.tty)return-59;if(J.tty.ops.ioctl_tcgets){var le=J.tty.ops.ioctl_tcgets(J),ge=lt();m[ge>>2]=le.c_iflag||0,m[ge+4>>2]=le.c_oflag||0,m[ge+8>>2]=le.c_cflag||0,m[ge+12>>2]=le.c_lflag||0;for(var b=0;b<32;b++)v[ge+b+17]=le.c_cc[b]||0;return 0}return 0}case 21510:case 21511:case 21512:return J.tty?0:-59;case 21506:case 21507:case 21508:{if(!J.tty)return-59;if(J.tty.ops.ioctl_tcsets){for(var ge=lt(),D=m[ge>>2],N=m[ge+4>>2],K=m[ge+8>>2],ie=m[ge+12>>2],ce=[],b=0;b<32;b++)ce.push(v[ge+b+17]);return J.tty.ops.ioctl_tcsets(J.tty,B,{c_iflag:D,c_oflag:N,c_cflag:K,c_lflag:ie,c_cc:ce})}return 0}case 21519:{if(!J.tty)return-59;var ge=lt();return m[ge>>2]=0,0}case 21520:return J.tty?-28:-59;case 21531:{var ge=lt();return z.ioctl(J,B,ge)}case 21523:{if(!J.tty)return-59;if(J.tty.ops.ioctl_tiocgwinsz){var pe=J.tty.ops.ioctl_tiocgwinsz(J.tty),ge=lt();u[ge>>1]=pe[0],u[ge+2>>1]=pe[1]}return 0}case 21524:return J.tty?0:-59;case 21515:return J.tty?0:-59;default:return-28}}catch(me){if(typeof z>"u"||me.name!=="ErrnoError")throw me;return-me.errno}}function bt(T,B,V,J){G.varargs=J;try{B=G.getStr(B),B=G.calculateAt(T,B);var le=J?j():0;return z.open(B,V,le).fd}catch(ge){if(typeof z>"u"||ge.name!=="ErrnoError")throw ge;return-ge.errno}}var Tt=()=>U(""),Vt=0,fr=()=>{Xe=!1,Vt=0},pt={},Rt=T=>{if(T instanceof Ee||T=="unwind")return k;s(1,T)},qt=()=>Xe||Vt>0,Kt=T=>{k=T,qt()||(f.onExit?.(T),d=!0),s(T,new Ee(T))},Yt=(T,B)=>{k=T,Kt(T)},$t=Yt,pr=()=>{if(!qt())try{$t(k)}catch(T){Rt(T)}},gr=T=>{if(!d)try{T(),pr()}catch(B){Rt(B)}},mr=()=>performance.now(),vr=(T,B)=>{if(pt[T]&&(clearTimeout(pt[T].id),delete pt[T]),!B)return 0;var V=setTimeout(()=>{delete pt[T],gr(()=>Mr(T,mr()))},B);return pt[T]={id:V,timeout_ms:B},0},Lt=()=>2147483648,yr=(T,B)=>Math.ceil(T/B)*B,wr=T=>{var B=c.buffer,V=(T-B.byteLength+65535)/65536|0;try{return c.grow(V),C(),1}catch{}},_r=T=>{var B=p.length;T>>>=0;var V=Lt();if(T>V)return!1;for(var J=1;J<=4;J*=2){var le=B*(1+.2/J);le=Math.min(le,T+100663296);var ge=Math.min(V,yr(Math.max(T,le),65536)),b=wr(ge);if(b)return!0}return!1};function It(T){try{var B=G.getStreamFromFD(T);return z.close(B),0}catch(V){if(typeof z>"u"||V.name!=="ErrnoError")throw V;return V.errno}}var Zt=(T,B,V,J)=>{for(var le=0,ge=0;ge<V;ge++){var b=A[B>>2],D=A[B+4>>2];B+=8;var N=z.read(T,v,b,D,J);if(N<0)return-1;if(le+=N,N<D)break}return le};function zt(T,B,V,J){try{var le=G.getStreamFromFD(T),ge=Zt(le,B,V);return A[J>>2]=ge,0}catch(b){if(typeof z>"u"||b.name!=="ErrnoError")throw b;return b.errno}}var rr=9007199254740992,xt=-9007199254740992,nr=T=>T<xt||T>rr?NaN:Number(T);function br(T,B,V,J){B=nr(B);try{if(isNaN(B))return 61;var le=G.getStreamFromFD(T);return z.llseek(le,B,V),S[J>>3]=BigInt(le.position),le.getdents&&B===0&&V===0&&(le.getdents=null),0}catch(ge){if(typeof z>"u"||ge.name!=="ErrnoError")throw ge;return ge.errno}}var $r=(T,B,V,J)=>{for(var le=0,ge=0;ge<V;ge++){var b=A[B>>2],D=A[B+4>>2];B+=8;var N=z.write(T,v,b,D,J);if(N<0)return-1;if(le+=N,N<D)break}return le};function Ar(T,B,V,J){try{var le=G.getStreamFromFD(T),ge=$r(le,B,V);return A[J>>2]=ge,0}catch(b){if(typeof z>"u"||b.name!=="ErrnoError")throw b;return b.errno}}var Er=(T,B,V)=>we(T,p,B,V),At=T=>Wt(T),Sr=T=>{var B=ke(T)+1,V=At(B);return Er(T,V,B),V};z.createPreloadedFile=Te,z.staticInit(),Ae.doesNotExistError=new z.ErrnoError(44),Ae.doesNotExistError.stack="<generic error, no stack>",f.noExitRuntime&&(Xe=f.noExitRuntime),f.preloadPlugins&&(Ye=f.preloadPlugins),f.print&&(e=f.print),f.printErr&&(n=f.printErr),f.wasmBinary&&(a=f.wasmBinary),f.arguments&&($=f.arguments),f.thisProgram&&(y=f.thisProgram),f.FS=z;var Cr={i:nt,j:rt,e:bt,f:Tt,l:fr,m:vr,g:_r,a:$t,b:It,d:zt,h:br,c:Ar,k:Kt},yt=await fe();yt.o;var kr=f._main=yt.p,Mr=yt.q,Wt=yt.r;function Tr(T=[]){var B=kr;T.unshift(y);var V=T.length,J=At((V+1)*4),le=J;T.forEach(b=>{A[le>>2]=Sr(b),le+=4}),A[le>>2]=0;try{var ge=B(V,J);return Yt(ge,!0),ge}catch(b){return Rt(b)}}function Et(T=$){if(l>0){_=Et;return}if(R(),l>0){_=Et;return}function B(){if(f.calledRun=!0,!d){g(),x(f),f.onRuntimeInitialized?.();var V=f.noInitialRun||!1;V||Tr(T),w()}}f.setStatus?(f.setStatus("Running..."),setTimeout(()=>{setTimeout(()=>f.setStatus(""),1),B()},1)):B()}function wt(){if(f.preInit)for(typeof f.preInit=="function"&&(f.preInit=[f.preInit]);f.preInit.length>0;)f.preInit.shift()()}return wt(),Et(),Q=M,Q},Qr=!1,Qt=!1,hn,Sn,Br,Cn=[],Dr=[],Ir=[],ci=[],ui=[],hi=[],Co=/([\w\.]+)[\w\.\:~]*\(([0-9]+)\)/gi;function kn(te,Q){if(Br&&Br(te,Q),Q=="stderr"&&(te.startsWith("error: ")||te.startsWith("ERROR: ")||te.startsWith("warning: "))){var f="error";te.startsWith("warning: ")&&(f="warning");var x=te.matchAll(Co);for(var W of x){var M=parseInt(W[2]);Cn.push([f,W[1],M,te])}}}function dr(te){kn(te,"info")}function Mn(te){kn(te,"stdout")}function Tn(te){kn(te,"stderr")}function ko(te){Br=te}function Mo(te){Sn=te,Qr?Qt=!0:(Qr=!0,Rn())}function di(){return Cn}function To(){return Dr}function jn(){return Ir}function dn(te){ci=te}function fn(te){hi=te}function pn(te){ui=te}function Rn(){typeof hn<"u"&&clearTimeout(hn),hn=setTimeout(Ro,500)}function Ro(){Br&&Br(null,null),Cn=[],Dr=[],Ir=[];var te=[];for(const Q of Object.keys(_t()))Q.endsWith(".asm")&&te.push(Q);fi(te,{})}function fi(te,Q){var f=te.pop(),x=[f,"-o","output.o","-Wall"].concat(ci);dr("Running: rgbasm "+x.join(" ")),Ao({arguments:x,preRun:function(W){var M=W.FS;for(const[$,y]of Object.entries(_t()))M.writeFile($,y)},print:Mn,printErr:Tn}).then(function(W){if(Qt){cr();return}var M=W.FS;try{var $=M.readFile("output.o")}catch{cr();return}Q[f]=$,te.length>0?fi(te,Q):Lo(Q)})}function Lo(te){var Q=["-o","output.gb","--map","output.map"].concat(hi);for(var f in te)Q.push(f+".o");dr("Running: rgblink "+Q.join(" ")),Eo({arguments:Q,preRun:function(x){var W=x.FS;for(var M in te)W.writeFile(M+".o",te[M])},print:Mn,printErr:Tn}).then(function(x){if(Qt){cr();return}var W=x.FS;try{var M=W.readFile("output.gb")}catch{cr();return}try{var $=W.readFile("output.map",{encoding:"utf8"})}catch{cr();return}xo(M,$)})}function xo(te,Q){var f=["-v","output.gb","-p","0xff"].concat(ui);dr("Running: rgbfix "+f.join(" ")),So({arguments:f,preRun:function(x){var W=x.FS;W.writeFile("output.gb",te)},print:Mn,printErr:Tn}).then(function(x){var W=x.FS;try{var M=W.readFile("output.gb")}catch{cr();return}Do(M,Q)})}function cr(){dr("Build failed"),Qt?(Qt=!1,Rn()):(Qr=!1,Sn())}function Do(te,Q){if(Qt)Qt=!1,Rn();else{Qr=!1;var f=256,x={},W=/^\s*\$([0-9a-f]+) = ([\w\.]+)/,M=/^\s*(\w+) bank #(\d+)/,$=/^\s*SECTION: \$([0-9a-f]+)-\$([0-9a-f]+)/,y=/^\s*SLACK: \$([0-9a-f]+) bytes/,s="",h=0;for(var o of Q.split(`
`)){var r;if(r=W.exec(o)){var i=parseInt(r[1],16),t=r[2];if(t.startsWith("__SEC_")){t=t.substr(6);var e=t.substr(t.indexOf("_")+1);e=e.substr(e.indexOf("_")+1);var n=parseInt(t.split("_")[1],16);i=i&16383|h<<14,x[i]=[e,n]}else t=="emustart"||t=="emuStart"||t=="emu_start"?f=i:i<32768?(i=i&16383|h<<14,Dr[i]=t):Ir[i]=t}else if(r=$.exec(o)){var a=parseInt(r[1],16),c=parseInt(r[2],16)+1;a<32768?(a=a&16383|h<<14,c=c&16383|h<<14,Dr[a]=null,Dr[c]=null):(Ir[a]=null,Ir[c]=null)}else if(r=M.exec(o))s=r[1],h=parseInt(r[2]);else if(r=y.exec(o)){var d=parseInt(r[1],16),k=16384;s.startsWith("WRAM")?k=4096:s.startsWith("HRAM")&&(k=127),dr("Space left: "+s+"["+h+"]: "+d+"  ("+(d/k*100).toFixed(1)+"%)")}}dr("Build done"),Sn(te,f,x)}}var Io=async function(te={}){var Q,f=te,x,W,M=new Promise((Te,Le)=>{x=Te,W=Le}),$=(Te,Le)=>{throw Le},y=import.meta.url,s="";function h(Te){return f.locateFile?f.locateFile(Te,s):s+Te}var o;{try{s=new URL(".",y).href}catch{}o=async Te=>{var Le=await fetch(Te,{credentials:"same-origin"});if(Le.ok)return Le.arrayBuffer();throw new Error(Le.status+" : "+Le.url)}}var r=console.log.bind(console),i=console.error.bind(console),t,e,n=!1,a,c,d,k,v;function p(){var Te=e.buffer;f.HEAP8=new Int8Array(Te),a=new Uint8Array(Te),c=new Int32Array(Te),d=new Uint32Array(Te),v=new Float64Array(Te),k=new BigInt64Array(Te),new BigUint64Array(Te)}function u(){if(f.preRun)for(typeof f.preRun=="function"&&(f.preRun=[f.preRun]);f.preRun.length;)Ee(f.preRun.shift());oe(fe)}function m(){_e.h()}function A(){if(f.postRun)for(typeof f.postRun=="function"&&(f.postRun=[f.postRun]);f.postRun.length;)se(f.postRun.shift());oe(ee)}var S=0,C=null;function R(Te){S++,f.monitorRunDependencies?.(S)}function g(Te){if(S--,f.monitorRunDependencies?.(S),S==0&&C){var Le=C;C=null,Le()}}function w(Te){f.onAbort?.(Te),Te="Aborted("+Te+")",i(Te),n=!0,Te+=". Build with -sASSERTIONS for more info.";var Le=new WebAssembly.RuntimeError(Te);throw W(Le),Le}var l;function _(){return f.locateFile?h("binjgb.wasm"):new URL(""+new URL("binjgb-mTIQAJBc.wasm",import.meta.url).href,import.meta.url).href}function L(Te){if(Te==l&&t)return new Uint8Array(t);throw"both async and sync fetching of the wasm failed"}async function F(Te){if(!t)try{var Le=await o(Te);return new Uint8Array(Le)}catch{}return L(Te)}async function U(Te,Le){try{var He=await F(Te),z=await WebAssembly.instantiate(He,Le);return z}catch(je){i(`failed to asynchronously prepare wasm: ${je}`),w(je)}}async function H(Te,Le,He){if(!Te&&typeof WebAssembly.instantiateStreaming=="function")try{var z=fetch(Le,{credentials:"same-origin"}),je=await WebAssembly.instantiateStreaming(z,He);return je}catch(G){i(`wasm streaming compile failed: ${G}`),i("falling back to ArrayBuffer instantiation")}return U(Le,He)}function X(){return{a:Fe}}async function q(){function Te(G,nt){return _e=G.exports,e=_e.g,p(),g(),_e}R();function Le(G){return Te(G.instance)}var He=X();if(f.instantiateWasm)return new Promise((G,nt)=>{f.instantiateWasm(He,(j,lt)=>{G(Te(j))})});l??=_();try{var z=await H(t,l,He),je=Le(z);return je}catch(G){return W(G),Promise.reject(G)}}class Z{name="ExitStatus";constructor(Le){this.message=`Program terminated with exit(${Le})`,this.status=Le}}var oe=Te=>{for(;Te.length>0;)Te.shift()(f)},ee=[],se=Te=>ee.push(Te),fe=[],Ee=Te=>fe.push(Te),Se=!0,Ce=[],De=(Te,Le)=>{Ce.length=0;for(var He;He=a[Te++];){var z=He!=105;z&=He!=112,Le+=z&&Le%8?4:0,Ce.push(He==112?d[Le>>2]:He==106?k[Le>>3]:He==105?c[Le>>2]:v[Le>>3]),Le+=z?8:4}return Ce},Pe=(Te,Le,He)=>{var z=De(Le,He);return Ae[Te](...z)},We=(Te,Le,He)=>Pe(Te,Le,He),Xe=Te=>{w("OOM")},O=Te=>{a.length,Xe()},be=0,he=()=>Se||be>0,ae=Te=>{he()||(f.onExit?.(Te),n=!0),$(Te,new Z(Te))},ne=(Te,Le)=>{ae(Te)},de=ne,Me=Te=>52;function ke(Te,Le,He,z){return 70}var we=[null,[],[]],xe=typeof TextDecoder<"u"?new TextDecoder:void 0,Ne=(Te,Le=0,He=NaN)=>{for(var z=Le+He,je=Le;Te[je]&&!(je>=z);)++je;if(je-Le>16&&Te.buffer&&xe)return xe.decode(Te.subarray(Le,je));for(var G="";Le<je;){var nt=Te[Le++];if(!(nt&128)){G+=String.fromCharCode(nt);continue}var j=Te[Le++]&63;if((nt&224)==192){G+=String.fromCharCode((nt&31)<<6|j);continue}var lt=Te[Le++]&63;if((nt&240)==224?nt=(nt&15)<<12|j<<6|lt:nt=(nt&7)<<18|j<<12|lt<<6|Te[Le++]&63,nt<65536)G+=String.fromCharCode(nt);else{var rt=nt-65536;G+=String.fromCharCode(55296|rt>>10,56320|rt&1023)}}return G},Ie=(Te,Le)=>{var He=we[Te];Le===0||Le===10?((Te===1?r:i)(Ne(He)),He.length=0):He.push(Le)},ye=(Te,Le,He,z)=>{for(var je=0,G=0;G<He;G++){var nt=d[Le>>2],j=d[Le+4>>2];Le+=8;for(var lt=0;lt<j;lt++)Ie(Te,a[nt+lt]);je+=j}return d[z>>2]=je,0};f.noExitRuntime&&(Se=f.noExitRuntime),f.print&&(r=f.print),f.printErr&&(i=f.printErr),f.wasmBinary&&(t=f.wasmBinary),f.arguments&&f.arguments,f.thisProgram&&f.thisProgram;var Ae={13560:Te=>{emulator.serialCallback(Te)}},Fe={f:We,c:O,b:de,e:Me,d:ke,a:ye},_e=await q();_e.h,f._malloc=_e.i,f._file_data_delete=_e.j,f._free=_e.k,f._emulator_set_builtin_palette=_e.l,f._emulator_was_ext_ram_updated=_e.m,f._emulator_read_ext_ram=_e.n,f._emulator_write_ext_ram=_e.o,f._emulator_delete=_e.p,f._emulator_get_PC=_e.q,f._emulator_get_A=_e.r,f._emulator_get_BC=_e.s,f._emulator_get_DE=_e.t,f._emulator_get_HL=_e.u,f._emulator_get_F=_e.v,f._emulator_get_SP=_e.w,f._emulator_set_PC=_e.x,f._emulator_get_wram_ptr=_e.y,f._emulator_get_hram_ptr=_e.z,f._emulator_read_mem=_e.A,f._emulator_write_mem=_e.B,f._emulator_set_breakpoint=_e.C,f._emulator_clear_breakpoints=_e.D,f._emulator_render_vram=_e.E,f._emulator_render_background=_e.F,f._set_audio_channel_mute=_e.G,f._joypad_new=_e.H,f._joypad_delete=_e.I,f._rewind_append=_e.J,f._rewind_delete=_e.K,f._emulator_new_simple=_e.L,f._emulator_get_ticks_f64=_e.M,f._emulator_run_until_f64=_e.N,f._rewind_get_newest_ticks_f64=_e.O,f._rewind_get_oldest_ticks_f64=_e.P,f._emulator_set_default_joypad_callback=_e.Q,f._emulator_set_bw_palette_simple=_e.R,f._rewind_new_simple=_e.S,f._rewind_begin=_e.T,f._emulator_set_rewind_joypad_callback=_e.U,f._rewind_to_ticks_wrapper=_e.V,f._rewind_end=_e.W,f._set_joyp_up=_e.X,f._set_joyp_down=_e.Y,f._set_joyp_left=_e.Z,f._set_joyp_right=_e._,f._set_joyp_B=_e.$,f._set_joyp_A=_e.aa,f._set_joyp_start=_e.ba,f._set_joyp_select=_e.ca,f._get_frame_buffer_ptr=_e.da,f._get_frame_buffer_size=_e.ea,f._get_sgb_frame_buffer_ptr=_e.fa,f._get_sgb_frame_buffer_size=_e.ga,f._get_audio_buffer_ptr=_e.ha,f._get_audio_buffer_capacity=_e.ia,f._ext_ram_file_data_new=_e.ja,f._get_file_data_ptr=_e.ka,f._get_file_data_size=_e.la,f._set_log_apu_writes=_e.ma,f._get_apu_log_data_size=_e.na,f._get_apu_log_data_ptr=_e.oa,f._reset_apu_log=_e.pa;function Ye(){if(S>0){C=Ye;return}if(u(),S>0){C=Ye;return}function Te(){f.calledRun=!0,!n&&(m(),x(f),f.onRuntimeInitialized?.(),A())}f.setStatus?(f.setStatus("Running..."),setTimeout(()=>{setTimeout(()=>f.setStatus(""),1),Te()},1)):Te()}function Oe(){if(f.preInit)for(typeof f.preInit=="function"&&(f.preInit=[f.preInit]);f.preInit.length>0;)f.preInit.shift()()}return Oe(),Ye(),Q=M,Q};const Ke=await Io();var Qe,gn=0,Or,yn,mt,lr,wn=null,Vr=2048;function pi(te,Q){ft()&&Ln(),typeof mt>"u"&&(mt=new AudioContext);var f=(Q.length-1|16383)+1;f<32768&&(f=32768);var x=Ke._malloc(f);gn=f;const W=Ke.HEAP8.subarray(x,x+gn);W.fill(0),W.set(Q),Qe=Ke._emulator_new_simple(x,gn,mt.sampleRate,Vr),Ke._emulator_set_bw_palette_simple(Qe,0,4290965700,4289247578,4285423646,4278197037),Ke._emulator_set_bw_palette_simple(Qe,1,4290965700,4289247578,4285423646,4278197037),Ke._emulator_set_bw_palette_simple(Qe,2,4290965700,4289247578,4285423646,4278197037),Ke._emulator_set_default_joypad_callback(Qe,0),te&&(Or=te.getContext("2d"),yn=Or.createImageData(te.width,te.height)),mt.resume(),lr=mt.currentTime}function Ln(){ft()&&(Ke._emulator_delete(Qe),Qe=void 0)}function ft(){return typeof Qe<"u"}function gi(te){if(ft()){var Q=Ke._emulator_get_ticks_f64(Qe);for(te=="single"?Q+=1:te=="frame"&&(Q+=70224);;){var f=Ke._emulator_run_until_f64(Qe,Q);if(f&2&&Oo(),f&8||f&16)return!0;if(f!=2&&te!="run")return!1;if(te=="run"&&f&4)if(lr<mt.currentTime+.1)Q+=70224;else return!1}}}function mi(){if(ft()){var te=new Uint8Array(Ke.HEAP8.buffer,Ke._get_frame_buffer_ptr(Qe),Ke._get_frame_buffer_size(Qe));yn.data.set(te),Or.putImageData(yn,0,0)}}function vi(te){if(ft()){var Q=te.getContext("2d"),f=Or.createImageData(256,256),x=Ke._malloc(4*256*256);Ke._emulator_render_vram(Qe,x);var W=new Uint8Array(Ke.HEAP8.buffer,x,4*256*256);f.data.set(W),Q.putImageData(f,0,0),Ke._free(x)}}function _n(te,Q){if(ft()){var f=te.getContext("2d"),x=Or.createImageData(256,256),W=Ke._malloc(4*256*256);Ke._emulator_render_background(Qe,W,Q);var M=new Uint8Array(Ke.HEAP8.buffer,W,4*256*256);x.data.set(M),f.putImageData(x,0,0),Ke._free(W)}}function yi(){if(ft()){var te=Ke._emulator_get_wram_ptr(Qe);return new Uint8Array(Ke.HEAP8.buffer,te,32768)}}function wi(){if(ft()){var te=Ke._emulator_get_hram_ptr(Qe);return new Uint8Array(Ke.HEAP8.buffer,te,127)}}function _i(){return Ke._emulator_get_PC(Qe)}function bi(te){Ke._emulator_set_PC(Qe,te)}function $i(){return Ke._emulator_get_SP(Qe)}function Ai(){return Ke._emulator_get_A(Qe)}function Ei(){return Ke._emulator_get_BC(Qe)}function Si(){return Ke._emulator_get_DE(Qe)}function Ci(){return Ke._emulator_get_HL(Qe)}function ki(){var te=Ke._emulator_get_F(Qe),Q="";return te&128&&(Q+="Z "),te&16&&(Q+="C "),te&32&&(Q+="H "),te&64&&(Q+="N "),Q}function Mi(te){return ft()?Ke._emulator_read_mem(Qe,te):255}function Fo(te,Q){if(ft())return Ke._emulator_write_mem(Qe,te,Q)}function Ti(te){ft()&&Ke._emulator_set_breakpoint(Qe,te)}function Ri(){ft()&&Ke._emulator_clear_breakpoints(Qe)}function Nt(te,Q){ft()&&(te=="right"&&Ke._set_joyp_right(Qe,Q),te=="left"&&Ke._set_joyp_left(Qe,Q),te=="up"&&Ke._set_joyp_up(Qe,Q),te=="down"&&Ke._set_joyp_down(Qe,Q),te=="a"&&Ke._set_joyp_A(Qe,Q),te=="b"&&Ke._set_joyp_B(Qe,Q),te=="select"&&Ke._set_joyp_select(Qe,Q),te=="start"&&Ke._set_joyp_start(Qe,Q))}function Li(te){wn=te}function Bo(te){wn&&wn(te)}function Oo(){lr<mt.currentTime&&(lr=mt.currentTime);var te=new Uint8Array(Ke.HEAP8.buffer,Ke._get_audio_buffer_ptr(Qe),Ke._get_audio_buffer_capacity(Qe));const Q=.5,f=mt.createBuffer(2,Vr,mt.sampleRate),x=f.getChannelData(0),W=f.getChannelData(1);for(let y=0;y<Vr;y++)x[y]=te[2*y]*Q/255,W[y]=te[2*y+1]*Q/255;const M=mt.createBufferSource();M.buffer=f,M.connect(mt.destination),M.start(lr);const $=Vr/mt.sampleRate;lr+=$}const No=Object.freeze(Object.defineProperty({__proto__:null,clearBreakpoints:Ri,destroy:Ln,getA:Ai,getBC:Ei,getDE:Si,getFlags:ki,getHL:Ci,getHRam:wi,getPC:_i,getSP:$i,getWRam:yi,init:pi,isAvailable:ft,readMem:Mi,renderBackground:_n,renderScreen:mi,renderVRam:vi,serialCallback:Bo,setBreakpoint:Ti,setKeyPad:Nt,setPC:bi,setSerialCallback:Li,step:gi,writeMem:Fo},Symbol.toStringTag,{value:"Module"}));globalThis.emulator=No;var xi,er,ur={},Ht={},ht="";function Po(){return window.matchMedia&&window.matchMedia("(prefers-color-scheme: dark)").matches}function Ho(te){var Q=document.createElement("div");return Q.innerText=te,Q.innerHTML}ko(function(te,Q){var f=document.getElementById("output");if(te==null&&Q==null){f.innerHTML="";return}f.innerHTML+='<span class="'+Q+'">'+Ho(te)+`</span>
`,f.scrollTop=f.scrollHeight});const Fr=[],Vn=256;Li(function(te){var Q=("00"+te.toString(16)).slice(-2);document.getElementById("serial_log").innerText="$"+Q,Fr.unshift(Q),Fr.length>Vn&&(Fr.length=Vn)});function qr(){Mo(function(te,Q,f){if($n(),jt(),zo(),!(typeof te>"u")){er=te,xi=Q,ur=f;for(var x in ur){var[W,M]=ur[x];typeof Ht[W]>"u"&&(Ht[W]={}),typeof Ht[W][M]>"u"&&(Ht[W][M]=[]),Ht[W][M].push(x)}Jt()}})}function zo(){Ln(),ur={},Ht={},er=void 0,Yr(null,null)}function Di(te){typeof er>"u"||(pi(document.getElementById("emulator_screen_canvas"),er),bi(xi),Dn(te),xn())}function xr(te){if(!ft())return Di(te=="single"||te=="frame"),!1;var Q=gi(te);return Dn(te=="single"||te=="frame"),Q}function xn(){Ri();var te=ri();for(var Q of te){var[f,x,W]=Q;if(Q[2]=!1,!(typeof Ht[f]>"u"||typeof Ht[f][x]>"u")){Q[2]=!0;for(var M of Ht[f][x])Ti(M)}}}function qn(te,Q){te=="ArrowRight"&&Nt("right",Q),te=="ArrowLeft"&&Nt("left",Q),te=="ArrowUp"&&Nt("up",Q),te=="ArrowDown"&&Nt("down",Q),te=="KeyS"&&Nt("a",Q),te=="KeyA"&&Nt("b",Q),te=="ShiftRight"&&Nt("select",Q),te=="Enter"&&Nt("start",Q),te=="Escape"&&(document.getElementById("cpu_run_check").checked=!1,document.getElementById("cpu_run_check").onclick())}function sr(te,Q){return"$"+("0000"+te.toString(16)).slice(-Q)}function Dn(te){mi();var Q=_i();document.getElementById("cpu_pc").innerHTML=sr(Q,4),document.getElementById("cpu_sp").innerHTML=sr($i(),4),document.getElementById("cpu_a").innerHTML=sr(Ai(),2),document.getElementById("cpu_bc").innerHTML=sr(Ei(),4),document.getElementById("cpu_de").innerHTML=sr(Si(),4),document.getElementById("cpu_hl").innerHTML=sr(Ci(),4),document.getElementById("cpu_flags").innerHTML=ki();var f=ur[Q];typeof f>"u"&&(f=ur[Q-1]),typeof f<"u"?Yr(f[0],f[1],te):Yr(null,null),Kr(),Jt()}function Kr(){var te=document.getElementById("emulator_vram_canvas");te.style.display==""&&(ht=="vram"&&vi(te),ht=="bg0"&&_n(te,0),ht=="bg1"&&_n(te,1))}function Jt(){var te=document.getElementById("emulator_display_text");if(te.style.display==""){var Q=er,f=16384,x=0,W=To();if(ht=="wram"&&(Q=yi(),f=4096,x=49152,W=jn()),ht=="hram"&&(Q=wi(),f=4096,x=65408,W=jn()),ht=="io"){var s="",M=[{name:"P1",value:65280},{name:"SB",value:65281},{name:"SC",value:65282},{name:"DIV",value:65284},{name:"TIMA",value:65285},{name:"TMA",value:65286},{name:"TAC",value:65287},{name:"IF",value:65295},{name:"LCDC",value:65344},{name:"STAT",value:65345},{name:"SCY",value:65346},{name:"SCX",value:65347},{name:"LY",value:65348},{name:"LYC",value:65349},{name:"DMA",value:65350},{name:"BGP",value:65351},{name:"OBP0",value:65352},{name:"OBP1",value:65353},{name:"WY",value:65354},{name:"WX",value:65355},{name:"KEY1",value:65357},{name:"VBK",value:65359},{name:"RP",value:65366},{name:"BCPS",value:65384},{name:"BCPD",value:65385},{name:"OCPS",value:65386},{name:"OCPD",value:65387},{name:"SVBK",value:65392},{name:"IE",value:65535}];for(var $ of M)s+="<span style='float: left; width: 50px'>"+$.name+":</span>"+("00"+Mi($.value).toString(16)).slice(-2)+"<br/>";te.innerHTML=s;return}if(ht=="serial"){for(var s="",y=0;y<Fr.length;y+=16)s+=Fr.slice(y,y+16).join(" ")+`
`;te.textContent=s;return}if(!(typeof Q>"u")){for(var s="<div class='emulator_display_header'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; 0&nbsp; 1&nbsp; 2&nbsp; 3&nbsp; 4&nbsp; 5&nbsp; 6&nbsp; 7&nbsp; 8&nbsp; 9&nbsp; a&nbsp; b&nbsp; c&nbsp; d&nbsp; e&nbsp; f</div>",h=null,o=!1,r=0,y=0;y<Q.length;y+=16){var i=Array.prototype.map.call(Q.slice(y,y+16),d=>("00"+d.toString(16)).slice(-2)),t=~~(y/f),e=y&f-1;t>0&&(e+=f),s+=("00"+t.toString(16)).slice(-2)+":"+("0000"+(e+x).toString(16)).slice(-4);for(var n=0;n<i.length;n++){s+=" ";var a=W[y+n+x];a?(h=a,o&&(s+="</span>"),o=!1,r=(r+71)%360):a===null&&(h=null,o&&(s+="</span>"),o=!1),h&&!o&&(s+="<span title='"+h+"' style='background-color: hsl("+r+(Po()?", 30%, 30%)'>":", 50%, 50%)'>"),o=!0),s+=i[n]}o&&(s+="</span>"),o=!1,s+="<br/>"}te.innerHTML=s}}}function jt(){var te=document.getElementById("filelist");te.textContent="";for(const $ of Object.keys(_t()).sort()){var Q=document.createElement("li");Q.textContent=$,te.appendChild(Q),$==Jr()&&Q.classList.add("active");for(var[f,x,W,M]of di())if(x==$&&(Q.classList.add(f),f=="error")){Q.classList.remove("warning");break}}}function Wo(te){Object.keys(_t()).length<2||(Gt(te,null),Jr()==te&&Xt(Object.keys(_t()).sort()[0]),jt())}function Bt(te){["emulator_screen_canvas","emulator_vram_canvas","emulator_display_text"].forEach(f=>{document.getElementById(f).style.display=te==f?"":"none"})}function Uo(te){Jn("textEditorDiv",qr),ni("gfxEditorDiv");var Q=new URLSearchParams(window.location.search);const f=(Q.get("asm")??"").trim();f!=""&&(document.getElementById("compiler_settings_asm").value=f,dn(f.split(" ")));const x=(Q.get("link")??"").trim();x!=""&&(document.getElementById("compiler_settings_link").value=x,fn(x.split(" ")));const W=(Q.get("fix")??"").trim();W!=""&&(document.getElementById("compiler_settings_fix").value=W,pn(W.split(" "))),vo(),Xt(Object.keys(_t()).pop()),jt(),document.getElementById("filelist").onclick=function($){$.target.childNodes[0].wholeText&&(Xt($.target.childNodes[0].wholeText),jt(),Dn())},document.getElementById("newfile").onclick=function(){document.getElementById("newfiledialog").style.display="block"},document.getElementById("newfiledialog").onclick=function($){$.target==document.getElementById("newfiledialog")&&(document.getElementById("newfiledialog").style.display="none")},document.getElementById("newfiledialogclose").onclick=function(){document.getElementById("newfiledialog").style.display="none"},document.getElementById("newfile_empty_create").onclick=function(){var $=document.getElementById("newfile_name").value;$&&($.indexOf(".")<0&&($+=".asm"),!($ in _t())&&(vn($)==="text"?Gt($,""):Gt($,new Uint8Array(16)),Xt($),jt(),document.getElementById("newfiledialog").style.display="none"))},document.getElementById("newfile_upload").onchange=function($){if($.target.files.length>0){var y=$.target.files[0].name,s=vn(y)=="text"?$.target.files[0].text():$.target.files[0].arrayBuffer();s.then(function(h){Gt(y,h),Xt(y),jt()}),$.target.value="",document.getElementById("newfiledialog").style.display="none"}},document.getElementById("delfile").onclick=function(){confirm("Are you sure you want to delete: "+Jr()+"?")&&Wo(Jr())},document.getElementById("newproject").onclick=function(){confirm("Are you sure to clear the current project?")&&(oi(),Xt("main.asm"),jt())},qr(),document.getElementById("cpu_single_step").onclick=function(){xr("single")},document.getElementById("cpu_frame_step").onclick=function(){xr("frame")},document.getElementById("cpu_reset").onclick=function(){Di(!0)},document.getElementById("cpu_run_check").onclick=function(){if(document.getElementById("cpu_run_check").checked){let $=function(){document.hidden||xr("run")&&(document.getElementById("cpu_run_check").checked=!1),document.getElementById("cpu_run_check").checked&&requestAnimationFrame($)};requestAnimationFrame($)}};var M=document.getElementById("emulator_screen_canvas");M.tabIndex=-1,M.onkeydown=function($){qn($.code,!0),$.preventDefault()},M.onkeyup=function($){qn($.code,!1),$.preventDefault()},document.onkeydown=function($){$.code=="F8"&&(xr("single"),$.preventDefault()),$.code=="F9"&&(xr("frame"),$.preventDefault())},document.getElementById("emulator_display_screen").onclick=function(){Bt("emulator_screen_canvas"),ht="display"},document.getElementById("emulator_display_vram").onclick=function(){Bt("emulator_vram_canvas"),ht="vram",Kr()},document.getElementById("emulator_display_bg0").onclick=function(){Bt("emulator_vram_canvas"),ht="bg0",Kr()},document.getElementById("emulator_display_bg1").onclick=function(){Bt("emulator_vram_canvas"),ht="bg1",Kr()},document.getElementById("emulator_display_rom").onclick=function(){Bt("emulator_display_text"),ht="rom",Jt()},document.getElementById("emulator_display_wram").onclick=function(){Bt("emulator_display_text"),ht="wram",Jt()},document.getElementById("emulator_display_hram").onclick=function(){Bt("emulator_display_text"),ht="hram",Jt()},document.getElementById("emulator_display_io").onclick=function(){Bt("emulator_display_text"),ht="io",Jt()},document.getElementById("emulator_display_serial").onclick=function(){Bt("emulator_display_text"),ht="serial",Jt()},document.getElementById("download_rom").onclick=function(){if(!(typeof er>"u")){var $=document.createElement("a"),y=window.URL.createObjectURL(new Blob([er.buffer],{type:"application/octet-stream"}));$.setAttribute("href",y),$.setAttribute("download","rom.gb"),$.style.display="none",document.body.appendChild($),$.click(),document.body.removeChild($),window.URL.revokeObjectURL(y)}},document.getElementById("importmenu").onclick=function(){document.getElementById("importdialog").style.display="block"},document.getElementById("importdialog").onclick=function($){$.target==document.getElementById("importdialog")&&(document.getElementById("importdialog").style.display="none")},document.getElementById("importdialogclose").onclick=function(){document.getElementById("importdialog").style.display="none"},document.getElementById("import_gist").onclick=function(){li(document.getElementById("import_gist_url").value),document.getElementById("importdialog").style.display="none"},document.getElementById("import_zipfile").onchange=function($){$.target.files.length>0&&(bo($.target.files[0]),$.target.value="",document.getElementById("importdialog").style.display="none")},document.getElementById("exportmenu").onclick=function(){document.getElementById("exportdialog").style.display="block",document.getElementById("export_hash_url").value=si()},document.getElementById("exportdialog").onclick=function($){$.target==document.getElementById("exportdialog")&&(document.getElementById("exportdialog").style.display="none")},document.getElementById("exportdialogclose").onclick=function(){document.getElementById("exportdialog").style.display="none"},document.getElementById("export_gist").onclick=function(){var $=document.getElementById("export_gist_url").value,y=document.getElementById("export_gist_username").value,s=document.getElementById("export_gist_token").value;if($=wo(y,s,$),$==null)document.getElementById("export_gist_import_url").value="Gist create/update failed. Incorrect token?";else{document.getElementById("export_gist_url").value=$;var h=new URL(document.location);h.hash=$,document.getElementById("export_gist_import_url").value=h.toString()}},document.getElementById("export_zip").onclick=function(){_o()},document.getElementById("infomenu").onclick=function(){document.getElementById("infodialog").style.display="block"},document.getElementById("infodialog").onclick=function($){$.target==document.getElementById("infodialog")&&(document.getElementById("infodialog").style.display="none")},document.getElementById("infodialogclose").onclick=function(){document.getElementById("infodialog").style.display="none"},document.getElementById("auto_url_update").checked=Pt.autoUrl,document.getElementById("auto_url_update").onclick=function(){Pt.autoUrl=document.getElementById("auto_url_update").checked,Pt.autoUrl?Gt():document.location.hash=""},document.getElementById("auto_local_storage_update").checked=Pt.autoLocalStorage,document.getElementById("auto_local_storage_update").onclick=function(){Pt.autoLocalStorage=document.getElementById("auto_local_storage_update").checked,Gt()},document.getElementById("settingsmenu").onclick=function(){document.getElementById("settingsdialog").style.display="block"},document.getElementById("settingsdialog").onclick=function($){$.target==document.getElementById("settingsdialog")&&(document.getElementById("settingsdialog").style.display="none")},document.getElementById("settingsdialogclose").onclick=function(){document.getElementById("settingsdialog").style.display="none"},document.getElementById("compiler_settings_set").onclick=function(){Q=new URLSearchParams(window.location.search);var $=document.getElementById("compiler_settings_asm").value.trim();$!=""?(Q.set("asm",$),dn($.split(" "))):(dn([]),Q.delete("asm"));var y=document.getElementById("compiler_settings_link").value.trim();y!=""?(Q.set("link",y),fn(y.split(" "))):(fn([]),Q.delete("link"));var s=document.getElementById("compiler_settings_fix").value.trim();s!=""?(Q.set("fix",s),pn(s.split(" "))):(Q.delete("fix"),pn([]));var h=new URL(window.location);h.search=Q.toString(),window.history.replaceState({},"",h),document.getElementById("settingsdialog").style.display="none",qr()},Q.has("autorun")&&(document.getElementById("cpu_run_check").checked=!0,document.getElementById("cpu_run_check").onclick())}Uo();
